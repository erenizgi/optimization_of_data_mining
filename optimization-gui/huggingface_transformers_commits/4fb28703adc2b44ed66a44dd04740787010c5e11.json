{
    "author": "muellerzr",
    "message": "Fix PIL dep for tests (#34028)\n\nFix PIL dep for tess",
    "sha": "4fb28703adc2b44ed66a44dd04740787010c5e11",
    "files": [
        {
            "sha": "cbc93faf50e7a3910808c93c19d3680871e9e551",
            "filename": "tests/trainer/test_trainer.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/4fb28703adc2b44ed66a44dd04740787010c5e11/tests%2Ftrainer%2Ftest_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/4fb28703adc2b44ed66a44dd04740787010c5e11/tests%2Ftrainer%2Ftest_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Ftrainer%2Ftest_trainer.py?ref=4fb28703adc2b44ed66a44dd04740787010c5e11",
            "patch": "@@ -92,6 +92,7 @@\n     require_torch_tf32,\n     require_torch_up_to_2_accelerators,\n     require_torchdynamo,\n+    require_vision,\n     require_wandb,\n     slow,\n     torch_device,\n@@ -3812,6 +3813,7 @@ def test_trainer_saves_tokenizer(self):\n             reloaded_tokenizer(test_sentence, padding=\"max_length\").input_ids,\n         )\n \n+    @require_vision\n     def test_trainer_saves_image_processor(self):\n         MODEL_ID = \"openai/clip-vit-base-patch32\"\n         image_processor = AutoImageProcessor.from_pretrained(MODEL_ID)\n@@ -3845,6 +3847,7 @@ def test_trainer_saves_feature_extractor(self):\n \n         self.assertDictEqual(feature_extractor.to_dict(), reloaded_feature_extractor.to_dict())\n \n+    @require_vision\n     def test_trainer_saves_processor(self):\n         MODEL_ID = \"openai/clip-vit-base-patch32\"\n         image_processor = AutoImageProcessor.from_pretrained(MODEL_ID)"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}