{
    "author": "i3hz",
    "message": "Fix Florence2 conversion script model_type KeyError (#41866)\n\nhopefully fixed florence2_language keyerror",
    "sha": "259d174e368e3b1d430712c605229321f30c7c13",
    "files": [
        {
            "sha": "6f88948997c87003343f1e82ee73f95e4b5ff5f8",
            "filename": "src/transformers/models/florence2/convert_florence2_original_pytorch_to_hf.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/259d174e368e3b1d430712c605229321f30c7c13/src%2Ftransformers%2Fmodels%2Fflorence2%2Fconvert_florence2_original_pytorch_to_hf.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/259d174e368e3b1d430712c605229321f30c7c13/src%2Ftransformers%2Fmodels%2Fflorence2%2Fconvert_florence2_original_pytorch_to_hf.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fflorence2%2Fconvert_florence2_original_pytorch_to_hf.py?ref=259d174e368e3b1d430712c605229321f30c7c13",
            "patch": "@@ -473,6 +473,9 @@ def convert_florence2_checkpoint(hf_model_id, pytorch_dump_folder, output_hub_pa\n \n     vision_config = convert_config(hf_config.vision_config.__dict__)\n     text_config = hf_config.text_config.__dict__\n+    if text_config.get(\"model_type\") == \"florence2_language\":\n+        text_config[\"model_type\"] = \"bart\"\n+\n     config = Florence2Config(\n         text_config=text_config,\n         vision_config=vision_config,"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}