{
    "author": "RezaRahemtola",
    "message": "Avoid using torch's Tensor or PIL's Image in chat template utils if not available (#34165)\n\n* fix(utils): Avoid using torch Tensor or PIL Image if not available\r\n\r\n* Trigger CI\r\n\r\n---------\r\n\r\nCo-authored-by: Matt <rocketknight1@gmail.com>",
    "sha": "3a10c6192b12b328685dce89004f9f9b9c042d30",
    "files": [
        {
            "sha": "c64a2c4dcb34686da63f72f9bb153bc770bff3de",
            "filename": "src/transformers/utils/chat_template_utils.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/3a10c6192b12b328685dce89004f9f9b9c042d30/src%2Ftransformers%2Futils%2Fchat_template_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/3a10c6192b12b328685dce89004f9f9b9c042d30/src%2Ftransformers%2Futils%2Fchat_template_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fchat_template_utils.py?ref=3a10c6192b12b328685dce89004f9f9b9c042d30",
            "patch": "@@ -76,10 +76,12 @@ def _get_json_schema_type(param_type: str) -> Dict[str, str]:\n         float: {\"type\": \"number\"},\n         str: {\"type\": \"string\"},\n         bool: {\"type\": \"boolean\"},\n-        Image: {\"type\": \"image\"},\n-        Tensor: {\"type\": \"audio\"},\n         Any: {},\n     }\n+    if is_vision_available():\n+        type_mapping[Image] = {\"type\": \"image\"}\n+    if is_torch_available():\n+        type_mapping[Tensor] = {\"type\": \"audio\"}\n     return type_mapping.get(param_type, {\"type\": \"object\"})\n \n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}