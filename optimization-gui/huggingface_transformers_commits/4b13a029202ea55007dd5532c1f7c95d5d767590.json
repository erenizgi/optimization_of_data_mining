{
    "author": "yaswanth19",
    "message": "Fix std initialization in Idefics variants (#37100)\n\n* Nit ðŸ˜…\n\n* Another one\n\n* fix\n\n* run ci\n\n* revert change",
    "sha": "4b13a029202ea55007dd5532c1f7c95d5d767590",
    "files": [
        {
            "sha": "100c59b2af2f288e6a0bead8cbb55544a23e86df",
            "filename": "src/transformers/models/idefics2/modeling_idefics2.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/4b13a029202ea55007dd5532c1f7c95d5d767590/src%2Ftransformers%2Fmodels%2Fidefics2%2Fmodeling_idefics2.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/4b13a029202ea55007dd5532c1f7c95d5d767590/src%2Ftransformers%2Fmodels%2Fidefics2%2Fmodeling_idefics2.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fidefics2%2Fmodeling_idefics2.py?ref=4b13a029202ea55007dd5532c1f7c95d5d767590",
            "patch": "@@ -604,9 +604,9 @@ class Idefics2PreTrainedModel(PreTrainedModel):\n \n     def _init_weights(self, module):\n         std = (\n-            self.config.text_config.initializer_range\n+            self.config.initializer_range\n             if hasattr(self.config, \"initializer_range\")\n-            else self.config.text_config.initializer_range\n+            else self.config.get_text_config().initializer_range\n         )\n \n         if hasattr(module, \"class_embedding\"):"
        },
        {
            "sha": "3ca17360c6644310dc8caf87ebc4ef88d91758c1",
            "filename": "src/transformers/models/idefics3/modeling_idefics3.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/4b13a029202ea55007dd5532c1f7c95d5d767590/src%2Ftransformers%2Fmodels%2Fidefics3%2Fmodeling_idefics3.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/4b13a029202ea55007dd5532c1f7c95d5d767590/src%2Ftransformers%2Fmodels%2Fidefics3%2Fmodeling_idefics3.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fidefics3%2Fmodeling_idefics3.py?ref=4b13a029202ea55007dd5532c1f7c95d5d767590",
            "patch": "@@ -625,9 +625,9 @@ class Idefics3PreTrainedModel(PreTrainedModel):\n     # Copied from transformers.models.idefics2.modeling_idefics2.Idefics2PreTrainedModel._init_weights\n     def _init_weights(self, module):\n         std = (\n-            self.config.text_config.initializer_range\n+            self.config.initializer_range\n             if hasattr(self.config, \"initializer_range\")\n-            else self.config.text_config.initializer_range\n+            else self.config.get_text_config().initializer_range\n         )\n \n         if hasattr(module, \"class_embedding\"):"
        },
        {
            "sha": "466cc9e21afb463f177f28e38322a108f2f79a85",
            "filename": "src/transformers/models/smolvlm/modeling_smolvlm.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/4b13a029202ea55007dd5532c1f7c95d5d767590/src%2Ftransformers%2Fmodels%2Fsmolvlm%2Fmodeling_smolvlm.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/4b13a029202ea55007dd5532c1f7c95d5d767590/src%2Ftransformers%2Fmodels%2Fsmolvlm%2Fmodeling_smolvlm.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fsmolvlm%2Fmodeling_smolvlm.py?ref=4b13a029202ea55007dd5532c1f7c95d5d767590",
            "patch": "@@ -85,9 +85,9 @@ class SmolVLMPreTrainedModel(PreTrainedModel):\n \n     def _init_weights(self, module):\n         std = (\n-            self.config.text_config.initializer_range\n+            self.config.initializer_range\n             if hasattr(self.config, \"initializer_range\")\n-            else self.config.text_config.initializer_range\n+            else self.config.get_text_config().initializer_range\n         )\n \n         if hasattr(module, \"class_embedding\"):"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 6,
        "deletions": 6
    }
}