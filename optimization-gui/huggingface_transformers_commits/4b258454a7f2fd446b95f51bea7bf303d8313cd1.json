{
    "author": "thisisiron",
    "message": "Fix typo in generation configuration for Janus model weight conversion (#39432)\n\n* Fix typo in generation configuration for Janus model weight conversion\n\n* Fix typo\n\n* Update Janus model generation configuration\n\n* Update Janus model to use generation_kwargs",
    "sha": "4b258454a7f2fd446b95f51bea7bf303d8313cd1",
    "files": [
        {
            "sha": "7bdaf540907c1ff4398b7cccb43fd252359878e2",
            "filename": "src/transformers/models/janus/convert_janus_weights_to_hf.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/4b258454a7f2fd446b95f51bea7bf303d8313cd1/src%2Ftransformers%2Fmodels%2Fjanus%2Fconvert_janus_weights_to_hf.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/4b258454a7f2fd446b95f51bea7bf303d8313cd1/src%2Ftransformers%2Fmodels%2Fjanus%2Fconvert_janus_weights_to_hf.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fjanus%2Fconvert_janus_weights_to_hf.py?ref=4b258454a7f2fd446b95f51bea7bf303d8313cd1",
            "patch": "@@ -407,9 +407,12 @@ def convert_model(\n     with init_empty_weights():\n         model = JanusForConditionalGeneration(config)\n \n+    model.generation_config._from_model_config = False\n     model.generation_config.temperature = 1\n     model.generation_config.guidance_scale = 5\n     model.generation_config.pad_token_id = tokenizer.vocab.get(\"<\\uff5c\\u2581pad\\u2581\\uff5c>\")\n+    if not hasattr(model.generation_config, \"generation_kwargs\"):\n+        model.generation_config.generation_kwargs = {}\n     model.generation_config.generation_kwargs[\"boi_token_id\"] = tokenizer.vocab.get(\"<begin_of_image>\")\n \n     # Load and convert state dict"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}