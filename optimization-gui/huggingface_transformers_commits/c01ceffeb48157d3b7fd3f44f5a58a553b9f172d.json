{
    "author": "cyyever",
    "message": "Enable faiss-cpu on Windows (#41678)\n\nfaiss-cpu is supported on Windows\n\nSigned-off-by: Yuanyuan Chen <cyyever@outlook.com>",
    "sha": "c01ceffeb48157d3b7fd3f44f5a58a553b9f172d",
    "files": [
        {
            "sha": "319b08e5099e3d54e238ec75597ffade06093477",
            "filename": "setup.py",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/c01ceffeb48157d3b7fd3f44f5a58a553b9f172d/setup.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/c01ceffeb48157d3b7fd3f44f5a58a553b9f172d/setup.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/setup.py?ref=c01ceffeb48157d3b7fd3f44f5a58a553b9f172d",
            "patch": "@@ -67,7 +67,6 @@\n 9. Copy the release notes from RELEASE.md to the tag in github once everything is looking hunky-dory.\n \"\"\"\n \n-import os\n import re\n import shutil\n from pathlib import Path\n@@ -261,10 +260,7 @@ def run(self):\n extras[\"accelerate\"] = deps_list(\"accelerate\")\n extras[\"hf_xet\"] = deps_list(\"hf_xet\")\n \n-if os.name == \"nt\":  # windows\n-    extras[\"retrieval\"] = deps_list(\"datasets\")  # faiss is not supported on windows\n-else:\n-    extras[\"retrieval\"] = deps_list(\"faiss-cpu\", \"datasets\")\n+extras[\"retrieval\"] = deps_list(\"faiss-cpu\", \"datasets\")\n \n extras[\"tokenizers\"] = deps_list(\"tokenizers\")\n extras[\"ftfy\"] = deps_list(\"ftfy\")"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 1,
        "deletions": 5
    }
}