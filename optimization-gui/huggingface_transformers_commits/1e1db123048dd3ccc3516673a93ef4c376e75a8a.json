{
    "author": "unknown",
    "message": "(small) fix conditional for input_ids and input_embeds in marian (#40045)\n\n* (small) fix conditional for input_ids and input_embeds in marian\n\n* address comment",
    "sha": "1e1db123048dd3ccc3516673a93ef4c376e75a8a",
    "files": [
        {
            "sha": "9ae3807a700ddaddc1d492af818d4622ed347277",
            "filename": "src/transformers/models/marian/modeling_marian.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/1e1db123048dd3ccc3516673a93ef4c376e75a8a/src%2Ftransformers%2Fmodels%2Fmarian%2Fmodeling_marian.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/1e1db123048dd3ccc3516673a93ef4c376e75a8a/src%2Ftransformers%2Fmodels%2Fmarian%2Fmodeling_marian.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fmarian%2Fmodeling_marian.py?ref=1e1db123048dd3ccc3516673a93ef4c376e75a8a",
            "patch": "@@ -979,16 +979,14 @@ def forward(\n \n         # retrieve input_ids and inputs_embeds\n         if (input_ids is None) ^ (inputs_embeds is not None):\n-            raise ValueError(\"You cannot specify both decoder_input_ids and decoder_inputs_embeds at the same time\")\n+            raise ValueError(\"You must specify exactly one of input_ids or inputs_embeds\")\n         elif input_ids is not None:\n             input = input_ids\n             input_shape = input.shape\n             input_ids = input_ids.view(-1, input_shape[-1])\n         elif inputs_embeds is not None:\n             input_shape = inputs_embeds.size()[:-1]\n             input = inputs_embeds[:, :, -1]\n-        else:\n-            raise ValueError(\"You have to specify either decoder_input_ids or decoder_inputs_embeds\")\n \n         if inputs_embeds is None:\n             inputs_embeds = self.embed_tokens(input)"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 1,
        "deletions": 3
    }
}