{
    "author": "ydshieh",
    "message": "Avoid night torch CI not run because of irrelevant docker image failing to build  (#40677)\n\nfix\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "ca9b36a9c124f681234c1b3da0884367a2fc9032",
    "files": [
        {
            "sha": "218726553556b4df11f9bf63b8fd856f2780a103",
            "filename": ".github/workflows/build-nightly-ci-docker-images.yml",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/ca9b36a9c124f681234c1b3da0884367a2fc9032/.github%2Fworkflows%2Fbuild-nightly-ci-docker-images.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/ca9b36a9c124f681234c1b3da0884367a2fc9032/.github%2Fworkflows%2Fbuild-nightly-ci-docker-images.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fbuild-nightly-ci-docker-images.yml?ref=ca9b36a9c124f681234c1b3da0884367a2fc9032",
            "patch": "@@ -2,6 +2,10 @@ name: Build docker images (Nightly CI)\n \n on:\n   workflow_call:\n+    inputs:\n+      job:\n+        required: true\n+        type: string\n   push:\n     branches:\n       - build_nightly_ci_docker_image*\n@@ -12,7 +16,8 @@ concurrency:\n \n jobs:\n   latest-with-torch-nightly-docker:\n-    name: \"Nightly PyTorch + Stable TensorFlow\"\n+    name: \"Nightly PyTorch\"\n+    if: inputs.job == 'latest-with-torch-nightly-docker' || inputs.job == ''\n     runs-on:\n       group: aws-general-8-plus\n     steps:\n@@ -41,6 +46,7 @@ jobs:\n \n   nightly-torch-deepspeed-docker:\n     name: \"Nightly PyTorch + DeepSpeed\"\n+    if: inputs.job == 'nightly-torch-deepspeed-docker' || inputs.job == ''\n     runs-on:\n       group: aws-g4dn-2xlarge-cache\n     steps:"
        },
        {
            "sha": "db808b257f724f1ca0fd944415e848b8f50f6a57",
            "filename": ".github/workflows/self-nightly-caller.yml",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/ca9b36a9c124f681234c1b3da0884367a2fc9032/.github%2Fworkflows%2Fself-nightly-caller.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/ca9b36a9c124f681234c1b3da0884367a2fc9032/.github%2Fworkflows%2Fself-nightly-caller.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fself-nightly-caller.yml?ref=ca9b36a9c124f681234c1b3da0884367a2fc9032",
            "patch": "@@ -22,6 +22,8 @@ jobs:\n   build_nightly_torch_ci_images:\n     name: Build CI Docker Images with nightly torch\n     uses: ./.github/workflows/build-nightly-ci-docker-images.yml\n+    with:\n+      job: latest-with-torch-nightly-docker\n     secrets: inherit\n \n   setup:"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}