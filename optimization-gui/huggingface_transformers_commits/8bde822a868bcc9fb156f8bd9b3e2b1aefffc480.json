{
    "author": "albertvillanova",
    "message": "Fix TypeError: find_adapter_config_file() got an unexpected keyword argument '_adapter_model_path' (#41604)\n\n* Pass original dict instead of copy to maybe_load_adapters\n\n* Revert \"Pass original dict instead of copy to maybe_load_adapters\"\n\nThis reverts commit 26fe1b3f35419fdc14932dfbda6bb39e4bdb9b34.\n\n* Return cleaned version of adapter_kwargs\n\n---------\n\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
    "sha": "8bde822a868bcc9fb156f8bd9b3e2b1aefffc480",
    "files": [
        {
            "sha": "d8cf4252060dc23823b51d31dc95967be8a612c4",
            "filename": "src/transformers/integrations/peft.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/8bde822a868bcc9fb156f8bd9b3e2b1aefffc480/src%2Ftransformers%2Fintegrations%2Fpeft.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/8bde822a868bcc9fb156f8bd9b3e2b1aefffc480/src%2Ftransformers%2Fintegrations%2Fpeft.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fintegrations%2Fpeft.py?ref=8bde822a868bcc9fb156f8bd9b3e2b1aefffc480",
            "patch": "@@ -628,7 +628,7 @@ def maybe_load_adapters(\n     **adapter_kwargs,\n ):\n     if pretrained_model_name_or_path is None or not is_peft_available():\n-        return None, pretrained_model_name_or_path\n+        return None, pretrained_model_name_or_path, adapter_kwargs\n \n     token = download_kwargs.get(\"token\")\n \n@@ -670,4 +670,4 @@ def maybe_load_adapters(\n             _adapter_model_path = pretrained_model_name_or_path\n             pretrained_model_name_or_path = json.load(f)[\"base_model_name_or_path\"]\n \n-    return _adapter_model_path, pretrained_model_name_or_path\n+    return _adapter_model_path, pretrained_model_name_or_path, adapter_kwargs"
        },
        {
            "sha": "794c238c0fa7ac8df51bf258505c641d67d0cb4d",
            "filename": "src/transformers/modeling_utils.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/8bde822a868bcc9fb156f8bd9b3e2b1aefffc480/src%2Ftransformers%2Fmodeling_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/8bde822a868bcc9fb156f8bd9b3e2b1aefffc480/src%2Ftransformers%2Fmodeling_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodeling_utils.py?ref=8bde822a868bcc9fb156f8bd9b3e2b1aefffc480",
            "patch": "@@ -4353,7 +4353,7 @@ def from_pretrained(\n         if adapter_kwargs is None:\n             adapter_kwargs = {}\n \n-        _adapter_model_path, pretrained_model_name_or_path = maybe_load_adapters(\n+        _adapter_model_path, pretrained_model_name_or_path, adapter_kwargs = maybe_load_adapters(\n             pretrained_model_name_or_path,\n             download_kwargs_with_commit,\n             **adapter_kwargs,"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}