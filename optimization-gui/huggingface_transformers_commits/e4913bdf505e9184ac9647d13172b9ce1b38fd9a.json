{
    "author": "cyyever",
    "message": "ðŸš¨ [v5] Remove SinkCache (#41107)\n\nRemove SinkCache\n\nSigned-off-by: Yuanyuan Chen <cyyever@outlook.com>",
    "sha": "e4913bdf505e9184ac9647d13172b9ce1b38fd9a",
    "files": [
        {
            "sha": "dc06c8be776932eabf768f146614fb19dabe7c49",
            "filename": "src/transformers/__init__.py",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/src%2Ftransformers%2F__init__.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/src%2Ftransformers%2F__init__.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2F__init__.py?ref=e4913bdf505e9184ac9647d13172b9ce1b38fd9a",
            "patch": "@@ -370,7 +370,6 @@\n         \"OffloadedStaticCache\",\n         \"QuantizedCache\",\n         \"QuantoQuantizedCache\",\n-        \"SinkCache\",\n         \"SlidingWindowCache\",\n         \"StaticCache\",\n     ]\n@@ -495,7 +494,6 @@\n     from .cache_utils import QuantizedCache as QuantizedCache\n     from .cache_utils import QuantoQuantizedCache as QuantoQuantizedCache\n     from .cache_utils import QuantoQuantizedLayer as QuantoQuantizedLayer\n-    from .cache_utils import SinkCache as SinkCache\n     from .cache_utils import SlidingWindowCache as SlidingWindowCache\n     from .cache_utils import SlidingWindowLayer as SlidingWindowLayer\n     from .cache_utils import StaticCache as StaticCache"
        },
        {
            "sha": "bec63bc3a4b9c01d5ec30be71c39292dc86dd9df",
            "filename": "src/transformers/cache_utils.py",
            "status": "modified",
            "additions": 0,
            "deletions": 15,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/src%2Ftransformers%2Fcache_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/src%2Ftransformers%2Fcache_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fcache_utils.py?ref=e4913bdf505e9184ac9647d13172b9ce1b38fd9a",
            "patch": "@@ -1469,18 +1469,3 @@ def __init__(\n             \"Use `QuantizedCache(backend='hqq', ...)` instead.\"\n         )\n         super().__init__(\"hqq\", config, nbits, axis_key, axis_value, q_group_size, residual_length)\n-\n-\n-class SinkCache(Cache):\n-    \"\"\"\n-    It is now a `custom_generate` repository on the Hub: https://huggingface.co/transformers-community/sink_cache.\n-    See [these docs](https://huggingface.co/docs/transformers/generation_strategies#custom-decoding-methods) for\n-    general `custom_generate`usage.\n-    \"\"\"\n-\n-    # TODO (joao, manuel): Remove this class in v4.59.0\n-    def __init__(self, **kwargs) -> None:\n-        raise NotImplementedError(\n-            \"`SinkCache` has been moved as a `custom_generate` repository on the Hub: \"\n-            \"https://huggingface.co/transformers-community/sink_cache. See the repository for usage examples.\"\n-        )"
        },
        {
            "sha": "ec8970b071e2d52a41c74f99be471e5b526e6c6c",
            "filename": "src/transformers/utils/dummy_pt_objects.py",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/huggingface/transformers/blob/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/src%2Ftransformers%2Futils%2Fdummy_pt_objects.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/src%2Ftransformers%2Futils%2Fdummy_pt_objects.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fdummy_pt_objects.py?ref=e4913bdf505e9184ac9647d13172b9ce1b38fd9a",
            "patch": "@@ -65,13 +65,6 @@ def __init__(self, *args, **kwargs):\n         requires_backends(self, [\"torch\"])\n \n \n-class SinkCache(metaclass=DummyObject):\n-    _backends = [\"torch\"]\n-\n-    def __init__(self, *args, **kwargs):\n-        requires_backends(self, [\"torch\"])\n-\n-\n class SlidingWindowCache(metaclass=DummyObject):\n     _backends = [\"torch\"]\n "
        },
        {
            "sha": "7d658a219f18ced141923f02fabefbc5ca3031fb",
            "filename": "utils/check_repo.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/huggingface/transformers/blob/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/utils%2Fcheck_repo.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/e4913bdf505e9184ac9647d13172b9ce1b38fd9a/utils%2Fcheck_repo.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fcheck_repo.py?ref=e4913bdf505e9184ac9647d13172b9ce1b38fd9a",
            "patch": "@@ -1001,7 +1001,6 @@ def find_all_documented_objects() -> list[str]:\n     \"VitPoseBackbone\",  # Internal module\n     \"VitPoseBackboneConfig\",  # Internal module\n     \"get_values\",  # Internal object\n-    \"SinkCache\",  # Moved to a custom_generate repository, to be deleted from transformers in v4.59.0\n ]\n \n # This list should be empty. Objects in it should get their own doc page."
        }
    ],
    "stats": {
        "total": 25,
        "additions": 0,
        "deletions": 25
    }
}