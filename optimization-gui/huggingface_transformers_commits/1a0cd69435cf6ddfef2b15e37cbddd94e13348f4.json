{
    "author": "cgebbe",
    "message": "feat: allow to use hf-hub models for timm backbone (#34729)\n\nCurrently a backbone name like 'hf-hub:bioptimus/H-optimus-0' throws an\r\nerror, even though it could work.\r\n\r\nCo-authored-by: Christian Gebbe <>",
    "sha": "1a0cd69435cf6ddfef2b15e37cbddd94e13348f4",
    "files": [
        {
            "sha": "ae25852d08285121c4fcd154becae7b97c491378",
            "filename": "src/transformers/models/timm_backbone/modeling_timm_backbone.py",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/1a0cd69435cf6ddfef2b15e37cbddd94e13348f4/src%2Ftransformers%2Fmodels%2Ftimm_backbone%2Fmodeling_timm_backbone.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/1a0cd69435cf6ddfef2b15e37cbddd94e13348f4/src%2Ftransformers%2Fmodels%2Ftimm_backbone%2Fmodeling_timm_backbone.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Ftimm_backbone%2Fmodeling_timm_backbone.py?ref=1a0cd69435cf6ddfef2b15e37cbddd94e13348f4",
            "patch": "@@ -50,11 +50,6 @@ def __init__(self, config, **kwargs):\n         if config.backbone is None:\n             raise ValueError(\"backbone is not set in the config. Please set it to a timm model name.\")\n \n-        # Certain timm models have the structure `model_name.version` e.g. vit_large_patch14_dinov2.lvd142m\n-        base_backbone_model = config.backbone.split(\".\")[0]\n-        if base_backbone_model not in timm.list_models():\n-            raise ValueError(f\"backbone {base_backbone_model} is not supported by timm.\")\n-\n         if hasattr(config, \"out_features\") and config.out_features is not None:\n             raise ValueError(\"out_features is not supported by TimmBackbone. Please use out_indices instead.\")\n "
        }
    ],
    "stats": {
        "total": 5,
        "additions": 0,
        "deletions": 5
    }
}