{
    "author": "faaany",
    "message": "add timeout for downloading the `librispeech_asr` dataset (#38073)\n\n* add timeout\n\n* change 10 to 60",
    "sha": "8fb60bf6be70163a5de9d17d167506276fddbebc",
    "files": [
        {
            "sha": "3bb7fe7bdc07cb91a08f41d29426d197149e1ba8",
            "filename": "examples/pytorch/speech-pretraining/run_wav2vec2_pretraining_no_trainer.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/8fb60bf6be70163a5de9d17d167506276fddbebc/examples%2Fpytorch%2Fspeech-pretraining%2Frun_wav2vec2_pretraining_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/8fb60bf6be70163a5de9d17d167506276fddbebc/examples%2Fpytorch%2Fspeech-pretraining%2Frun_wav2vec2_pretraining_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-pretraining%2Frun_wav2vec2_pretraining_no_trainer.py?ref=8fb60bf6be70163a5de9d17d167506276fddbebc",
            "patch": "@@ -21,6 +21,7 @@\n from pathlib import Path\n from typing import Optional, Union\n \n+import aiohttp\n import datasets\n import torch\n from accelerate import Accelerator\n@@ -454,6 +455,7 @@ def main():\n             split=train_split_name,\n             cache_dir=args.cache_dir,\n             trust_remote_code=args.trust_remote_code,\n+            storage_options={\"client_kwargs\": {\"timeout\": aiohttp.ClientTimeout(total=60 * 60)}},\n         )\n         datasets_splits.append(dataset_split)\n "
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}