{
    "author": "jitesh-gupta",
    "message": "Add AMD MI300 CI caller leveraging self-hosted runner scale set workflow in hf-workflows (#38132)",
    "sha": "c4e71e8fffcdbcf1144a4e96f2d1f034ffafd4d7",
    "files": [
        {
            "sha": "70398b3f737ebc0cab17c7030fa9fb4d830084d9",
            "filename": ".github/workflows/self-scheduled-amd-mi300-caller.yml",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/huggingface/transformers/blob/c4e71e8fffcdbcf1144a4e96f2d1f034ffafd4d7/.github%2Fworkflows%2Fself-scheduled-amd-mi300-caller.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/c4e71e8fffcdbcf1144a4e96f2d1f034ffafd4d7/.github%2Fworkflows%2Fself-scheduled-amd-mi300-caller.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fself-scheduled-amd-mi300-caller.yml?ref=c4e71e8fffcdbcf1144a4e96f2d1f034ffafd4d7",
            "patch": "@@ -0,0 +1,59 @@\n+name: Self-hosted runner scale set (AMD mi300 scheduled CI caller)\n+\n+# Note: For every job in this workflow, the name of the runner scale set is finalized in the runner yaml i.e. huggingface/hf-workflows/.github/workflows/transformers_amd_ci_scheduled_arc_scale_set.yaml\n+# For example, 1gpu scale set: amd-mi300-ci-1gpu\n+#              2gpu scale set: amd-mi300-ci-2gpu\n+\n+on:\n+  workflow_run:\n+    workflows: [\"Self-hosted runner (AMD scheduled CI caller)\"]\n+    branches: [\"main\"]\n+    types: [completed]\n+  push:\n+    branches:\n+      - run_amd_scheduled_ci_caller*\n+\n+jobs:\n+  model-ci:\n+    name: Model CI\n+    uses: huggingface/hf-workflows/.github/workflows/transformers_amd_ci_scheduled_arc_scale_set.yaml@main\n+    with:\n+      job: run_models_gpu\n+      slack_report_channel: \"#amd-hf-ci\"\n+      runner_scale_set: amd-mi300-ci\n+      docker: huggingface/transformers-pytorch-amd-gpu\n+      ci_event: Scheduled CI (AMD) - mi300\n+    secrets: inherit\n+\n+  torch-pipeline:\n+    name: Torch pipeline CI\n+    uses: huggingface/hf-workflows/.github/workflows/transformers_amd_ci_scheduled_arc_scale_set.yaml@main\n+    with:\n+      job: run_pipelines_torch_gpu\n+      slack_report_channel: \"#amd-hf-ci\"\n+      runner_scale_set: amd-mi300-ci\n+      docker: huggingface/transformers-pytorch-amd-gpu\n+      ci_event: Scheduled CI (AMD) - mi300\n+    secrets: inherit\n+\n+  example-ci:\n+    name: Example CI\n+    uses: huggingface/hf-workflows/.github/workflows/transformers_amd_ci_scheduled_arc_scale_set.yaml@main\n+    with:\n+      job: run_examples_gpu\n+      slack_report_channel: \"#amd-hf-ci\"\n+      runner_scale_set: amd-mi300-ci\n+      docker: huggingface/transformers-pytorch-amd-gpu\n+      ci_event: Scheduled CI (AMD) - mi300\n+    secrets: inherit\n+\n+  deepspeed-ci:\n+    name: DeepSpeed CI\n+    uses: huggingface/hf-workflows/.github/workflows/transformers_amd_ci_scheduled_arc_scale_set.yaml@main\n+    with:\n+      job: run_torch_cuda_extensions_gpu\n+      slack_report_channel: \"#amd-hf-ci\"\n+      runner_scale_set: amd-mi300-ci\n+      docker: huggingface/transformers-pytorch-deepspeed-amd-gpu\n+      ci_event: Scheduled CI (AMD) - mi300\n+    secrets: inherit"
        }
    ],
    "stats": {
        "total": 59,
        "additions": 59,
        "deletions": 0
    }
}