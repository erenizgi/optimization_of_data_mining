{
    "author": "qubvel",
    "message": "Fix pipelines tests (#34049)\n\n* Fix wrong skip annotation\r\n\r\n* Remove error raise",
    "sha": "66e08dba71a10bc3c00b8501edee7aa36cf7541d",
    "files": [
        {
            "sha": "19f503dc6e5aa6d25535b56ecdc26734afaac48a",
            "filename": "tests/test_pipeline_mixin.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/66e08dba71a10bc3c00b8501edee7aa36cf7541d/tests%2Ftest_pipeline_mixin.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/66e08dba71a10bc3c00b8501edee7aa36cf7541d/tests%2Ftest_pipeline_mixin.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Ftest_pipeline_mixin.py?ref=66e08dba71a10bc3c00b8501edee7aa36cf7541d",
            "patch": "@@ -214,8 +214,6 @@ def run_task_tests(self, task, torch_dtype=\"float32\"):\n                     image_processor_names.append(cls_name)\n                 elif \"FeatureExtractor\" in cls_name:\n                     feature_extractor_names.append(cls_name)\n-                else:\n-                    raise ValueError(f\"Unknown processor class: {cls_name}\")\n \n             # Processor classes are not in tiny models JSON file, so extract them from the mapping\n             # processors are mapped to instance, e.g. \"XxxProcessor\"\n@@ -242,12 +240,12 @@ def run_task_tests(self, task, torch_dtype=\"float32\"):\n                 commit=commit,\n                 torch_dtype=torch_dtype,\n             )\n+            at_least_one_model_is_tested = True\n+\n         if task in task_to_pipeline_and_spec_mapping:\n             pipeline, hub_spec = task_to_pipeline_and_spec_mapping[task]\n             compare_pipeline_args_to_hub_spec(pipeline, hub_spec)\n \n-            at_least_one_model_is_tested = True\n-\n         if not at_least_one_model_is_tested:\n             self.skipTest(\n                 f\"{self.__class__.__name__}::test_pipeline_{task.replace('-', '_')}_{torch_dtype} is skipped: Could not find any \""
        }
    ],
    "stats": {
        "total": 6,
        "additions": 2,
        "deletions": 4
    }
}