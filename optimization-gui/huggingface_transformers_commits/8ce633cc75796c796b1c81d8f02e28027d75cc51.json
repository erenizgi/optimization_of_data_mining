{
    "author": "ahadnagy",
    "message": "InternVL MI325 test expectations (#40387)\n\n* Adjust ROCm expectations\n\n* MI355\n\n---------\n\nCo-authored-by: ivarflakstad <69173633+ivarflakstad@users.noreply.github.com>",
    "sha": "8ce633cc75796c796b1c81d8f02e28027d75cc51",
    "files": [
        {
            "sha": "e1e4c07fcecb6a902c72871c45ba463d46d8414b",
            "filename": "tests/models/internvl/test_modeling_internvl.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/8ce633cc75796c796b1c81d8f02e28027d75cc51/tests%2Fmodels%2Finternvl%2Ftest_modeling_internvl.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/8ce633cc75796c796b1c81d8f02e28027d75cc51/tests%2Fmodels%2Finternvl%2Ftest_modeling_internvl.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fmodels%2Finternvl%2Ftest_modeling_internvl.py?ref=8ce633cc75796c796b1c81d8f02e28027d75cc51",
            "patch": "@@ -657,7 +657,7 @@ def test_llama_small_model_integration_forward(self):\n                 (\"xpu\", 3): [-9.8750, -0.5703, 1.4297, -10.3125, -10.3125],\n                 (\"cuda\", 7): [-9.8750,  -0.4861,   1.4648, -10.3359, -10.3359],\n                 (\"cuda\", 8): [-9.8906,  -0.4995,   1.4473, -10.3359, -10.3438],\n-                (\"rocm\", (9, 4)): [ -9.8750,  -0.4885,   1.4668, -10.3359, -10.3359],\n+                (\"rocm\", (9, 4)): [ -9.8828,  -0.5005,   1.4697, -10.3438, -10.3438],\n                 (\"rocm\", (9, 5)): [ -9.8906,  -0.4976,   1.4502, -10.3359, -10.3438],\n             }\n         )  # fmt: skip\n@@ -927,6 +927,8 @@ def test_llama_small_model_integration_interleaved_images_videos(self):\n                 (\"xpu\", 3): \"user\\n\\n\\nWhat are the difference between these two images?\\nassistant\\nI apologize for the confusion in my previous response. After re-examining the images, I can see that they are actually\",\n                 (\"cuda\", 7): 'user\\n\\n\\nWhat are the difference between these two images?\\nassistant\\nI apologize for the confusion in my previous response. Upon closer inspection, the differences between the two images are:\\n\\n1. **',\n                 (\"cuda\", 8): 'user\\n\\n\\nWhat are the difference between these two images?\\nassistant\\nI apologize for the confusion in my previous response. After re-examining the images, I can see that there are no',\n+                (\"rocm\", (9, 4)): 'user\\n\\n\\nWhat are the difference between these two images?\\nassistant\\nI apologize for the confusion in my previous response. Upon closer inspection, the differences between the two images are:\\n\\n1. **',\n+                (\"rocm\", (9, 5)): 'user\\n\\n\\nWhat are the difference between these two images?\\nassistant\\nI apologize for the confusion in my previous response. After re-examining the images, I can see that there are no',\n             }\n         )  # fmt: skip\n         expected_output = expected_outputs.get_expectation()"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}