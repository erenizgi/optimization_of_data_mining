{
    "author": "gante",
    "message": "[pipeline] missing import regarding assisted generation (#35752)\n\nmissing import",
    "sha": "ec28957f942488a59d343d68ab70e1f39eb16ccf",
    "files": [
        {
            "sha": "f7480da357bd5da5ebebf17b398c01a64608fbda",
            "filename": "src/transformers/pipelines/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/ec28957f942488a59d343d68ab70e1f39eb16ccf/src%2Ftransformers%2Fpipelines%2Fbase.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ec28957f942488a59d343d68ab70e1f39eb16ccf/src%2Ftransformers%2Fpipelines%2Fbase.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fpipelines%2Fbase.py?ref=ec28957f942488a59d343d68ab70e1f39eb16ccf",
            "patch": "@@ -65,6 +65,7 @@\n     import torch\n     from torch.utils.data import DataLoader, Dataset\n \n+    from ..modeling_utils import PreTrainedModel\n     from ..models.auto.modeling_auto import AutoModel\n \n     # Re-export for backward compatibility\n@@ -447,7 +448,7 @@ def load_assistant_model(\n     if not model.can_generate() or assistant_model is None:\n         return None, None\n \n-    if not isinstance(model, PreTrainedModel):\n+    if getattr(model, \"framework\") != \"pt\" or not isinstance(model, PreTrainedModel):\n         raise ValueError(\n             \"Assisted generation, triggered by the `assistant_model` argument, is only available for \"\n             \"`PreTrainedModel` model instances. For instance, TF or JAX models are not supported.\""
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}