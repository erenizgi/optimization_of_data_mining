{
    "author": "joelpaulkoch",
    "message": "Improve modular transformers documentation (#35322)\n\n* Improve modular transformers documentation\n\n- Adds hints to general contribution guides\r\n- Lists which utils scripts are available to generate single-files from modular files and check their content\n\n* Show commands in copyable code cells\n\n---------\n\nCo-authored-by: Joel Koch <joel@bitcrowd.net>",
    "sha": "c96cc039c38c27152a7bf9e563f52e6f0b7901e0",
    "files": [
        {
            "sha": "8eebbf347c11c33071b39859ea4a2c2bf39bbe19",
            "filename": "docs/source/en/modular_transformers.md",
            "status": "modified",
            "additions": 15,
            "deletions": 2,
            "changes": 17,
            "blob_url": "https://github.com/huggingface/transformers/blob/c96cc039c38c27152a7bf9e563f52e6f0b7901e0/docs%2Fsource%2Fen%2Fmodular_transformers.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/c96cc039c38c27152a7bf9e563f52e6f0b7901e0/docs%2Fsource%2Fen%2Fmodular_transformers.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fmodular_transformers.md?ref=c96cc039c38c27152a7bf9e563f52e6f0b7901e0",
            "patch": "@@ -22,6 +22,9 @@ etc. Model contribution PRs rarely add less than 3-5k lines of code, with much o\n This raises the bar for contributions, and with Modular Transformers, we're aiming to lower the bar to a much more\n acceptable point.\n \n+If you plan to add a model to `transformers` make sure you read [How to add a model to ðŸ¤— Transformers?](https://huggingface.co/docs/transformers/add_new_model).\n+For any kind of contributions, see [CONTRIBUTING.md](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md).\n+\n ## What is it?\n \n Modular Transformers introduces the concept of a \"modular\" file to a model folder. This modular file accepts code\n@@ -43,6 +46,12 @@ be moved to the new Modular Transformers format in the coming months.\n \n ### Details \n \n+To generate a single file from the modular file, run the following command.\n+\n+```bash\n+python utils/modular_model_converter.py --files-to-parse src/transformers/models/<your_model>/modular_<your_model>.py\n+```\n+\n The \"linter\", which unravels the inheritance and creates all single-files from the modular file, will flatten the \n inheritance while trying to be invisible to Python users. At this time, the linter flattens a **single** level of\n inheritance.\n@@ -59,7 +68,11 @@ file, and the corresponding files will be created for you.\n \n ### Enforcement\n \n-[TODO] We are introducing a new test, that makes sure the generated content matches what is present in the `modular_xxxx.py`\n+Run the command below to ensure the generated content matches `modular_<your_model>.py`\n+\n+```bash\n+python utils/check_modular_conversion.py --files src/transformers/models/<your_model>/modular_<your_model>.py\n+```\n \n ### Examples\n \n@@ -194,4 +207,4 @@ We now also support special cases like\n class GemmaVisionModel(CLIPModel):                                 \n     pass\n ```\n-where the name of your class `GemmaVision` is not the same as the modular `Gemma`. This is super useful for composite models.\n\\ No newline at end of file\n+where the name of your class `GemmaVision` is not the same as the modular `Gemma`. This is super useful for composite models."
        }
    ],
    "stats": {
        "total": 17,
        "additions": 15,
        "deletions": 2
    }
}