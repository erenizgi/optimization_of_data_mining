{
    "author": "HichTala",
    "message": "Fix max size deprecated warning (#34998)\n\n* Remove unused `max_size` variable in processor which was always `None` and triggered unnecessary deprecated warning\n\n* Remove unused `max_size` variable in processor which was always `None` and triggered unnecessary deprecated warning\n\n* Remove deprecated warnings and eliminate `max_size` usage\n\n* Test use `int` as argument for `size`\nAdd a test to ensure test can pass successfully and backward compatibility\n\n* The test pipelines still use `max_size`\nRemove `max_size` from test pipelines and replace by `size` by a `Dict` with `'shortest_edge'` `'longest_edge'` as keys\n\n* Reformatting\n\n* Reformatting\n\n* Revert \"Reformatting\"\n\nThis reverts commit c3040acee75440357cffd1f60c9d29ff5b2744b8.\n\n* Revert \"Reformatting\"\n\nThis reverts commit ac4522e5c9a02d2d0c298295026db68ea26453df.\n\n* Revert \"The test pipelines still use `max_size`\"\n\nThis reverts commit eaed96f041ffc32459536e1524d87f7a12ddee29.\n\n* Revert \"Test use `int` as argument for `size`\"\n\nThis reverts commit 1925ee38c7c5eabb11832316712df1d4ba8043d0.\n\n* Revert \"Remove deprecated warnings and eliminate `max_size` usage\"\n\nThis reverts commit d8e7e6ff9025931468fc1f3827cda1fa391003d5.\n\n* Change version `4.26` to \"a future version\"\n\n* Reformatting\n\n* Revert \"Change version `4.26` to \"a future version\"\"\n\nThis reverts commit 2b53f9e4",
    "sha": "775252abd40ed8eb05f3b846b4e8274623134235",
    "files": [
        {
            "sha": "0c109f682e60afc88135b7d8e1e5d54d0ff0732a",
            "filename": "src/transformers/models/conditional_detr/image_processing_conditional_detr.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fconditional_detr%2Fimage_processing_conditional_detr.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fconditional_detr%2Fimage_processing_conditional_detr.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fconditional_detr%2Fimage_processing_conditional_detr.py?ref=775252abd40ed8eb05f3b846b4e8274623134235",
            "patch": "@@ -1364,7 +1364,6 @@ def preprocess(\n             )\n             do_pad = kwargs.pop(\"pad_and_return_pixel_mask\")\n \n-        max_size = None\n         if \"max_size\" in kwargs:\n             logger.warning_once(\n                 \"The `max_size` argument is deprecated and will be removed in a future version, use\"\n@@ -1374,7 +1373,7 @@ def preprocess(\n \n         do_resize = self.do_resize if do_resize is None else do_resize\n         size = self.size if size is None else size\n-        size = get_size_dict(size=size, max_size=max_size, default_to_square=False)\n+        size = get_size_dict(size=size, default_to_square=False)\n         resample = self.resample if resample is None else resample\n         do_rescale = self.do_rescale if do_rescale is None else do_rescale\n         rescale_factor = self.rescale_factor if rescale_factor is None else rescale_factor\n@@ -1470,7 +1469,7 @@ def preprocess(\n                 for image, target in zip(images, annotations):\n                     orig_size = get_image_size(image, input_data_format)\n                     resized_image = self.resize(\n-                        image, size=size, max_size=max_size, resample=resample, input_data_format=input_data_format\n+                        image, size=size, resample=resample, input_data_format=input_data_format\n                     )\n                     resized_annotation = self.resize_annotation(\n                         target, orig_size, get_image_size(resized_image, input_data_format)"
        },
        {
            "sha": "e44733be812e5d7409c8fba5039912ebd977bcff",
            "filename": "src/transformers/models/deformable_detr/image_processing_deformable_detr.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fdeformable_detr%2Fimage_processing_deformable_detr.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fdeformable_detr%2Fimage_processing_deformable_detr.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fdeformable_detr%2Fimage_processing_deformable_detr.py?ref=775252abd40ed8eb05f3b846b4e8274623134235",
            "patch": "@@ -1362,7 +1362,6 @@ def preprocess(\n             )\n             do_pad = kwargs.pop(\"pad_and_return_pixel_mask\")\n \n-        max_size = None\n         if \"max_size\" in kwargs:\n             logger.warning_once(\n                 \"The `max_size` argument is deprecated and will be removed in a future version, use\"\n@@ -1372,7 +1371,7 @@ def preprocess(\n \n         do_resize = self.do_resize if do_resize is None else do_resize\n         size = self.size if size is None else size\n-        size = get_size_dict(size=size, max_size=max_size, default_to_square=False)\n+        size = get_size_dict(size=size, default_to_square=False)\n         resample = self.resample if resample is None else resample\n         do_rescale = self.do_rescale if do_rescale is None else do_rescale\n         rescale_factor = self.rescale_factor if rescale_factor is None else rescale_factor\n@@ -1468,7 +1467,7 @@ def preprocess(\n                 for image, target in zip(images, annotations):\n                     orig_size = get_image_size(image, input_data_format)\n                     resized_image = self.resize(\n-                        image, size=size, max_size=max_size, resample=resample, input_data_format=input_data_format\n+                        image, size=size, resample=resample, input_data_format=input_data_format\n                     )\n                     resized_annotation = self.resize_annotation(\n                         target, orig_size, get_image_size(resized_image, input_data_format)"
        },
        {
            "sha": "acb90bcf9d4aa3dccee66b85d16702b95ffb4c7d",
            "filename": "src/transformers/models/detr/image_processing_detr.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fdetr%2Fimage_processing_detr.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fdetr%2Fimage_processing_detr.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fdetr%2Fimage_processing_detr.py?ref=775252abd40ed8eb05f3b846b4e8274623134235",
            "patch": "@@ -1337,7 +1337,6 @@ def preprocess(\n             )\n             do_pad = kwargs.pop(\"pad_and_return_pixel_mask\")\n \n-        max_size = None\n         if \"max_size\" in kwargs:\n             logger.warning_once(\n                 \"The `max_size` argument is deprecated and will be removed in a future version, use\"\n@@ -1347,7 +1346,7 @@ def preprocess(\n \n         do_resize = self.do_resize if do_resize is None else do_resize\n         size = self.size if size is None else size\n-        size = get_size_dict(size=size, max_size=max_size, default_to_square=False)\n+        size = get_size_dict(size=size, default_to_square=False)\n         resample = self.resample if resample is None else resample\n         do_rescale = self.do_rescale if do_rescale is None else do_rescale\n         rescale_factor = self.rescale_factor if rescale_factor is None else rescale_factor\n@@ -1443,7 +1442,7 @@ def preprocess(\n                 for image, target in zip(images, annotations):\n                     orig_size = get_image_size(image, input_data_format)\n                     resized_image = self.resize(\n-                        image, size=size, max_size=max_size, resample=resample, input_data_format=input_data_format\n+                        image, size=size, resample=resample, input_data_format=input_data_format\n                     )\n                     resized_annotation = self.resize_annotation(\n                         target, orig_size, get_image_size(resized_image, input_data_format)"
        },
        {
            "sha": "dcf6fda8978382d4ac509b014f61781ff27d48b9",
            "filename": "src/transformers/models/grounding_dino/image_processing_grounding_dino.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fgrounding_dino%2Fimage_processing_grounding_dino.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fgrounding_dino%2Fimage_processing_grounding_dino.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgrounding_dino%2Fimage_processing_grounding_dino.py?ref=775252abd40ed8eb05f3b846b4e8274623134235",
            "patch": "@@ -1402,7 +1402,6 @@ def preprocess(\n             )\n             do_pad = kwargs.pop(\"pad_and_return_pixel_mask\")\n \n-        max_size = None\n         if \"max_size\" in kwargs:\n             logger.warning_once(\n                 \"The `max_size` argument is deprecated and will be removed in a future version, use\"\n@@ -1412,7 +1411,7 @@ def preprocess(\n \n         do_resize = self.do_resize if do_resize is None else do_resize\n         size = self.size if size is None else size\n-        size = get_size_dict(size=size, max_size=max_size, default_to_square=False)\n+        size = get_size_dict(size=size, default_to_square=False)\n         resample = self.resample if resample is None else resample\n         do_rescale = self.do_rescale if do_rescale is None else do_rescale\n         rescale_factor = self.rescale_factor if rescale_factor is None else rescale_factor\n@@ -1508,7 +1507,7 @@ def preprocess(\n                 for image, target in zip(images, annotations):\n                     orig_size = get_image_size(image, input_data_format)\n                     resized_image = self.resize(\n-                        image, size=size, max_size=max_size, resample=resample, input_data_format=input_data_format\n+                        image, size=size, resample=resample, input_data_format=input_data_format\n                     )\n                     resized_annotation = self.resize_annotation(\n                         target, orig_size, get_image_size(resized_image, input_data_format)"
        },
        {
            "sha": "5a94d6b41d3d3400e415579e24022c4c88786b77",
            "filename": "src/transformers/models/yolos/image_processing_yolos.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fyolos%2Fimage_processing_yolos.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/775252abd40ed8eb05f3b846b4e8274623134235/src%2Ftransformers%2Fmodels%2Fyolos%2Fimage_processing_yolos.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fyolos%2Fimage_processing_yolos.py?ref=775252abd40ed8eb05f3b846b4e8274623134235",
            "patch": "@@ -1274,7 +1274,6 @@ def preprocess(\n             )\n             do_pad = kwargs.pop(\"pad_and_return_pixel_mask\")\n \n-        max_size = None\n         if \"max_size\" in kwargs:\n             logger.warning_once(\n                 \"The `max_size` argument is deprecated and will be removed in v4.33, use\"\n@@ -1284,7 +1283,7 @@ def preprocess(\n \n         do_resize = self.do_resize if do_resize is None else do_resize\n         size = self.size if size is None else size\n-        size = get_size_dict(size=size, max_size=max_size, default_to_square=False)\n+        size = get_size_dict(size=size, default_to_square=False)\n         resample = self.resample if resample is None else resample\n         do_rescale = self.do_rescale if do_rescale is None else do_rescale\n         rescale_factor = self.rescale_factor if rescale_factor is None else rescale_factor\n@@ -1379,7 +1378,7 @@ def preprocess(\n                 for image, target in zip(images, annotations):\n                     orig_size = get_image_size(image, input_data_format)\n                     resized_image = self.resize(\n-                        image, size=size, max_size=max_size, resample=resample, input_data_format=input_data_format\n+                        image, size=size, resample=resample, input_data_format=input_data_format\n                     )\n                     resized_annotation = self.resize_annotation(\n                         target, orig_size, get_image_size(resized_image, input_data_format)"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 10,
        "deletions": 15
    }
}