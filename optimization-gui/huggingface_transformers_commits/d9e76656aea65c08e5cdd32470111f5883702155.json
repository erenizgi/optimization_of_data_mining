{
    "author": "ydshieh",
    "message": "Fix new failure reports not including anything other than `tests/models/` (#37415)\n\n* fix\n\n* fix\n\n---------\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "d9e76656aea65c08e5cdd32470111f5883702155",
    "files": [
        {
            "sha": "f7f3d16e558066369ca3f90846b6af0ddc226164",
            "filename": "utils/notification_service.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/huggingface/transformers/blob/d9e76656aea65c08e5cdd32470111f5883702155/utils%2Fnotification_service.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/d9e76656aea65c08e5cdd32470111f5883702155/utils%2Fnotification_service.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fnotification_service.py?ref=d9e76656aea65c08e5cdd32470111f5883702155",
            "patch": "@@ -544,8 +544,11 @@ def payload(self) -> str:\n                 if \"https://github.com/huggingface/transformers/actions/runs\" in line:\n                     pattern = r\"<(https://github.com/huggingface/transformers/actions/runs/.+?/job/.+?)\\|(.+?)>\"\n                     items = re.findall(pattern, line)\n-                elif \"tests/models/\" in line:\n-                    model = line.split(\"/\")[2]\n+                elif \"tests/\" in line:\n+                    if \"tests/models/\" in line:\n+                        model = line.split(\"/\")[2]\n+                    else:\n+                        model = line.split(\"/\")[1]\n                     if model not in new_failed_tests:\n                         new_failed_tests[model] = {\"single-gpu\": [], \"multi-gpu\": []}\n                     for url, device in items:"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 5,
        "deletions": 2
    }
}