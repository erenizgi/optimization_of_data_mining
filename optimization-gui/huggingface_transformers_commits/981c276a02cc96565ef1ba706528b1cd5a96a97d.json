{
    "author": "MekkCyber",
    "message": "Fix compressed tensors config (#36421)\n\n* fix config\n\n* update\n\n---------\n\nCo-authored-by: Marc Sun <57196510+SunMarc@users.noreply.github.com>",
    "sha": "981c276a02cc96565ef1ba706528b1cd5a96a97d",
    "files": [
        {
            "sha": "e8fe5b422c38f71ba0e262c97643cc62bea9225f",
            "filename": "src/transformers/utils/quantization_config.py",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/981c276a02cc96565ef1ba706528b1cd5a96a97d/src%2Ftransformers%2Futils%2Fquantization_config.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/981c276a02cc96565ef1ba706528b1cd5a96a97d/src%2Ftransformers%2Futils%2Fquantization_config.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fquantization_config.py?ref=981c276a02cc96565ef1ba706528b1cd5a96a97d",
            "patch": "@@ -28,6 +28,7 @@\n \n from ..utils import (\n     is_auto_awq_available,\n+    is_compressed_tensors_available,\n     is_gptqmodel_available,\n     is_hqq_available,\n     is_torch_available,\n@@ -1254,9 +1255,13 @@ def __init__(\n         run_compressed: bool = True,\n         **kwargs,\n     ):\n-        from compressed_tensors.config import SparsityCompressionConfig\n-        from compressed_tensors.quantization import QuantizationConfig\n-\n+        if is_compressed_tensors_available():\n+            from compressed_tensors.config import SparsityCompressionConfig\n+            from compressed_tensors.quantization import QuantizationConfig\n+        else:\n+            raise ImportError(\n+                \"compressed_tensors is not installed and is required for compressed-tensors quantization. Please install it with `pip install compressed-tensors`.\"\n+            )\n         self.quantization_config = None\n         self.sparsity_config = None\n "
        }
    ],
    "stats": {
        "total": 11,
        "additions": 8,
        "deletions": 3
    }
}