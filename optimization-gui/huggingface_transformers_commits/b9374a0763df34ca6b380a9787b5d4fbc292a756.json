{
    "author": "ydshieh",
    "message": "Remove `dist\": \"loadfile\"` for `pytest` in CircleCI jobs (#36811)\n\n* fasterrrrr\n\n* avoid crash in example jobs\n\n* avoid crash in TF example jobs\n\n---------\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "b9374a0763df34ca6b380a9787b5d4fbc292a756",
    "files": [
        {
            "sha": "91d0dea2b467ef292b9351183fe310f711b5d128",
            "filename": ".circleci/create_circleci_config.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/b9374a0763df34ca6b380a9787b5d4fbc292a756/.circleci%2Fcreate_circleci_config.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/b9374a0763df34ca6b380a9787b5d4fbc292a756/.circleci%2Fcreate_circleci_config.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.circleci%2Fcreate_circleci_config.py?ref=b9374a0763df34ca6b380a9787b5d4fbc292a756",
            "patch": "@@ -30,7 +30,7 @@\n     \"RUN_PIPELINE_TESTS\": False,\n }\n # Disable the use of {\"s\": None} as the output is way too long, causing the navigation on CircleCI impractical\n-COMMON_PYTEST_OPTIONS = {\"max-worker-restart\": 0, \"dist\": \"loadfile\", \"vvv\": None, \"rsfE\":None}\n+COMMON_PYTEST_OPTIONS = {\"max-worker-restart\": 0, \"vvv\": None, \"rsfE\":None}\n DEFAULT_DOCKER_IMAGE = [{\"image\": \"cimg/python:3.8.12\"}]\n \n # Strings that commonly appear in the output of flaky tests when they fail. These are used with `pytest-rerunfailures`\n@@ -269,13 +269,15 @@ def job_name(self):\n     docker_image=[{\"image\":\"huggingface/transformers-examples-torch\"}],\n     # TODO @ArthurZucker remove this once docker is easier to build\n     install_steps=[\"uv venv && uv pip install . && uv pip install -r examples/pytorch/_tests_requirements.txt\"],\n+    pytest_num_workers=4,\n )\n \n \n examples_tensorflow_job = CircleCIJob(\n     \"examples_tensorflow\",\n     additional_env={\"OMP_NUM_THREADS\": 8},\n     docker_image=[{\"image\":\"huggingface/transformers-examples-tf\"}],\n+    pytest_num_workers=2,\n )\n \n "
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}