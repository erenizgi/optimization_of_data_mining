{
    "author": "McPatate",
    "message": "feat(serving): add healthcheck (#40653)",
    "sha": "238a8274b49a44b82ce9c45858574fd112f16954",
    "files": [
        {
            "sha": "9dc46576ca951d9d54a6d7662fe9bf1dc04e5487",
            "filename": "src/transformers/commands/serving.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/238a8274b49a44b82ce9c45858574fd112f16954/src%2Ftransformers%2Fcommands%2Fserving.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/238a8274b49a44b82ce9c45858574fd112f16954/src%2Ftransformers%2Fcommands%2Fserving.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fcommands%2Fserving.py?ref=238a8274b49a44b82ce9c45858574fd112f16954",
            "patch": "@@ -732,6 +732,10 @@ async def audio_transcriptions(request: Request):\n         def get_all_models():\n             return JSONResponse({\"object\": \"list\", \"data\": self.get_gen_models()})\n \n+        @app.get(\"/health\")\n+        def healthcheck():\n+            return JSONResponse({\"status\": \"ok\"})\n+\n         uvicorn.run(app, host=self.args.host, port=self.args.port, log_level=self.args.log_level)\n \n     @functools.cache"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 4,
        "deletions": 0
    }
}