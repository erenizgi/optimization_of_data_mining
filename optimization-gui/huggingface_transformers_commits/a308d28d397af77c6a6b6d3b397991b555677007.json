{
    "author": "ydshieh",
    "message": "[auto. ping] Avoid sending empty info + add more team members (#34383)\n\n* update\r\n\r\n* update\r\n\r\n---------\r\n\r\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "a308d28d397af77c6a6b6d3b397991b555677007",
    "files": [
        {
            "sha": "f3ea8646900ad2eda2af957078dc4778b7b154ee",
            "filename": ".github/workflows/check_failed_model_tests.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/a308d28d397af77c6a6b6d3b397991b555677007/.github%2Fworkflows%2Fcheck_failed_model_tests.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/a308d28d397af77c6a6b6d3b397991b555677007/.github%2Fworkflows%2Fcheck_failed_model_tests.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fcheck_failed_model_tests.yml?ref=a308d28d397af77c6a6b6d3b397991b555677007",
            "patch": "@@ -106,7 +106,7 @@ jobs:\n           } >> \"$GITHUB_ENV\"\n \n       - name: Send processed report\n-        if: ${{ env.REPORT_TEXT != '' }}\n+        if: ${{ !endsWith(env.REPORT_TEXT, '{}') }}\n         uses: slackapi/slack-github-action@6c661ce58804a1a20f6dc5fbee7f0381b469e001\n         with:\n           # Slack channel id, channel name, or user id to post message."
        },
        {
            "sha": "adb25f11264b12d82bc45a2498f51c61ffa95d5a",
            "filename": "utils/check_bad_commit.py",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/huggingface/transformers/blob/a308d28d397af77c6a6b6d3b397991b555677007/utils%2Fcheck_bad_commit.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/a308d28d397af77c6a6b6d3b397991b555677007/utils%2Fcheck_bad_commit.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fcheck_bad_commit.py?ref=a308d28d397af77c6a6b6d3b397991b555677007",
            "patch": "@@ -182,7 +182,15 @@ def get_commit_info(commit):\n                 info = {\"test\": test, \"commit\": commit}\n                 info.update(get_commit_info(commit))\n                 failed_tests_with_bad_commits.append(info)\n-            reports[model][\"single-gpu\"] = failed_tests_with_bad_commits\n+\n+            # If no single-gpu test failures, remove the key\n+            if len(failed_tests_with_bad_commits) > 0:\n+                reports[model][\"single-gpu\"] = failed_tests_with_bad_commits\n+            else:\n+                reports[model].pop(\"single-gpu\", None)\n+\n+        # remove the models without any test failure\n+        reports = {k: v for k, v in reports.items() if len(v) > 0}\n \n         with open(args.output_file, \"w\", encoding=\"UTF-8\") as fp:\n             json.dump(reports, fp, ensure_ascii=False, indent=4)"
        },
        {
            "sha": "513dc8df3a3b3c9ea6388c87d4696ec33a6c35df",
            "filename": "utils/process_bad_commit_report.py",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/huggingface/transformers/blob/a308d28d397af77c6a6b6d3b397991b555677007/utils%2Fprocess_bad_commit_report.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/a308d28d397af77c6a6b6d3b397991b555677007/utils%2Fprocess_bad_commit_report.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fprocess_bad_commit_report.py?ref=a308d28d397af77c6a6b6d3b397991b555677007",
            "patch": "@@ -28,7 +28,18 @@\n         data = json.load(fp)\n \n     # TODO: extend\n-    team_members = [\"ydshieh\", \"zucchini-nlp\", \"ArthurZucker\", \"gante\", \"LysandreJik\", \"molbap\", \"qubvel\"]\n+    team_members = [\n+        \"ydshieh\",\n+        \"zucchini-nlp\",\n+        \"ArthurZucker\",\n+        \"gante\",\n+        \"LysandreJik\",\n+        \"molbap\",\n+        \"qubvel\",\n+        \"Rocketknight1\",\n+        \"muellerzr\",\n+        \"SunMarc\",\n+    ]\n \n     # Counting the number of failures grouped by authors\n     new_data = {}"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 22,
        "deletions": 3
    }
}