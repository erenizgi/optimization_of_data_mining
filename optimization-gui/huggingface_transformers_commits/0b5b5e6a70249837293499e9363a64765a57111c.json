{
    "author": "Wauplin",
    "message": "Let server decide default repo visibility (#34999)\n\n* Let server decide default repo visibility\n\n* code style",
    "sha": "0b5b5e6a70249837293499e9363a64765a57111c",
    "files": [
        {
            "sha": "e33e5cf5ce3c9ea1e85b96c2c2ddda3d682eeb48",
            "filename": "src/transformers/agents/tools.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Fagents%2Ftools.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Fagents%2Ftools.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fagents%2Ftools.py?ref=0b5b5e6a70249837293499e9363a64765a57111c",
            "patch": "@@ -387,7 +387,7 @@ def push_to_hub(\n             commit_message (`str`, *optional*, defaults to `\"Upload tool\"`):\n                 Message to commit while pushing.\n             private (`bool`, *optional*):\n-                Whether or not the repository created should be private.\n+                Whether to make the repo private. If `None` (default), the repo will be public unless the organization's default is private. This value is ignored if the repo already exists.\n             token (`bool` or `str`, *optional*):\n                 The token to use as HTTP bearer authorization for remote files. If unset, will use the token generated\n                 when running `huggingface-cli login` (stored in `~/.huggingface`)."
        },
        {
            "sha": "8264f48818cb38bf6eacc7debabeae5793a44f85",
            "filename": "src/transformers/modeling_tf_utils.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Fmodeling_tf_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Fmodeling_tf_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodeling_tf_utils.py?ref=0b5b5e6a70249837293499e9363a64765a57111c",
            "patch": "@@ -3160,7 +3160,7 @@ def push_to_hub(\n             commit_message (`str`, *optional*):\n                 Message to commit while pushing. Will default to `\"Upload model\"`.\n             private (`bool`, *optional*):\n-                Whether or not the repository created should be private.\n+                Whether to make the repo private. If `None` (default), the repo will be public unless the organization's default is private. This value is ignored if the repo already exists.\n             token (`bool` or `str`, *optional*):\n                 The token to use as HTTP bearer authorization for remote files. If `True`, will use the token generated\n                 when running `huggingface-cli login` (stored in `~/.huggingface`). Will default to `True` if `repo_url`"
        },
        {
            "sha": "6b141cff39e1f7c21cd0b9acaaabee42663dec99",
            "filename": "src/transformers/training_args.py",
            "status": "modified",
            "additions": 10,
            "deletions": 5,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Ftraining_args.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Ftraining_args.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Ftraining_args.py?ref=0b5b5e6a70249837293499e9363a64765a57111c",
            "patch": "@@ -700,8 +700,8 @@ class TrainingArguments:\n         hub_token (`str`, *optional*):\n             The token to use to push the model to the Hub. Will default to the token in the cache folder obtained with\n             `huggingface-cli login`.\n-        hub_private_repo (`bool`, *optional*, defaults to `False`):\n-            If True, the Hub repo will be set to private.\n+        hub_private_repo (`bool`, *optional*):\n+            Whether to make the repo private. If `None` (default), the repo will be public unless the organization's default is private. This value is ignored if the repo already exists.\n         hub_always_push (`bool`, *optional*, defaults to `False`):\n             Unless this is `True`, the `Trainer` will skip pushing a checkpoint when the previous push is not finished.\n         gradient_checkpointing (`bool`, *optional*, defaults to `False`):\n@@ -1350,7 +1350,12 @@ class TrainingArguments:\n         metadata={\"help\": \"The hub strategy to use when `--push_to_hub` is activated.\"},\n     )\n     hub_token: Optional[str] = field(default=None, metadata={\"help\": \"The token to use to push to the Model Hub.\"})\n-    hub_private_repo: bool = field(default=False, metadata={\"help\": \"Whether the model repository is private or not.\"})\n+    hub_private_repo: Optional[bool] = field(\n+        default=None,\n+        metadata={\n+            \"help\": \"Whether to make the repo private. If `None` (default), the repo will be public unless the organization's default is private. This value is ignored if the repo already exists.\"\n+        },\n+    )\n     hub_always_push: bool = field(\n         default=False,\n         metadata={\"help\": \"Unless `True`, the Trainer will skip pushes if the previous one wasn't finished yet.\"},\n@@ -2862,7 +2867,7 @@ def set_push_to_hub(\n         model_id: str,\n         strategy: Union[str, HubStrategy] = \"every_save\",\n         token: Optional[str] = None,\n-        private_repo: bool = False,\n+        private_repo: Optional[bool] = None,\n         always_push: bool = False,\n     ):\n         \"\"\"\n@@ -2903,7 +2908,7 @@ def set_push_to_hub(\n                 The token to use to push the model to the Hub. Will default to the token in the cache folder obtained\n                 with `huggingface-cli login`.\n             private_repo (`bool`, *optional*, defaults to `False`):\n-                If True, the Hub repo will be set to private.\n+                Whether to make the repo private. If `None` (default), the repo will be public unless the organization's default is private. This value is ignored if the repo already exists.\n             always_push (`bool`, *optional*, defaults to `False`):\n                 Unless this is `True`, the `Trainer` will skip pushing a checkpoint when the previous push is not\n                 finished."
        },
        {
            "sha": "b7194ec579da27dfbf9f3e8f6ff2afc14afb2c93",
            "filename": "src/transformers/utils/hub.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Futils%2Fhub.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/0b5b5e6a70249837293499e9363a64765a57111c/src%2Ftransformers%2Futils%2Fhub.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fhub.py?ref=0b5b5e6a70249837293499e9363a64765a57111c",
            "patch": "@@ -853,7 +853,7 @@ def push_to_hub(\n             commit_message (`str`, *optional*):\n                 Message to commit while pushing. Will default to `\"Upload {object}\"`.\n             private (`bool`, *optional*):\n-                Whether or not the repository created should be private.\n+                Whether to make the repo private. If `None` (default), the repo will be public unless the organization's default is private. This value is ignored if the repo already exists.\n             token (`bool` or `str`, *optional*):\n                 The token to use as HTTP bearer authorization for remote files. If `True`, will use the token generated\n                 when running `huggingface-cli login` (stored in `~/.huggingface`). Will default to `True` if `repo_url`"
        }
    ],
    "stats": {
        "total": 21,
        "additions": 13,
        "deletions": 8
    }
}