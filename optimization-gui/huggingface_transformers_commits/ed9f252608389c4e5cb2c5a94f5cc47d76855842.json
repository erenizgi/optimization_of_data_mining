{
    "author": "RyanMullins",
    "message": "docs: Gemma 3n audio encoder (#39087)\n\nUpdating Gemma 3n docs and docstrings to clarify the relationship\nbetween the newly trained audio encoder used in Gemma 3n and the USM\nmodel from the original paper.",
    "sha": "ed9f252608389c4e5cb2c5a94f5cc47d76855842",
    "files": [
        {
            "sha": "d38368e82901160576e62d877077d7b3ed03e822",
            "filename": "docs/source/en/model_doc/gemma3n.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/ed9f252608389c4e5cb2c5a94f5cc47d76855842/docs%2Fsource%2Fen%2Fmodel_doc%2Fgemma3n.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/ed9f252608389c4e5cb2c5a94f5cc47d76855842/docs%2Fsource%2Fen%2Fmodel_doc%2Fgemma3n.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fmodel_doc%2Fgemma3n.md?ref=ed9f252608389c4e5cb2c5a94f5cc47d76855842",
            "patch": "@@ -32,8 +32,8 @@ this model, including [Alternating Updates][altup] (AltUp), [Learned Augmented R\n [MatFormer][matformer], Per-Layer Embeddings (PLE), activation sparsity, and KV cache sharing. The language model uses\n a similar attention pattern to [Gemma 3](./gemma3.md) with alternating 4 local sliding window self-attention layers for\n every global self-attention layer with a maximum context length of 32k tokens. Gemma 3n introduces\n-[MobileNet v5][mobilenetv5] as the vision encoder, using a default resolution of 768x768 pixels, and adds a\n-[Universal Speech Model][usm] (USM) as the audio encoder.\n+[MobileNet v5][mobilenetv5] as the vision encoder, using a default resolution of 768x768 pixels, and adds a newly\n+trained audio encoder based on the [Universal Speech Model][usm] (USM) architecture.\n \n The instruction-tuned variant was post-trained with knowledge distillation and reinforcement learning.\n "
        },
        {
            "sha": "44621500c1170ba029b2367538fecf24fba07e9e",
            "filename": "src/transformers/models/gemma3n/configuration_gemma3n.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/ed9f252608389c4e5cb2c5a94f5cc47d76855842/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fconfiguration_gemma3n.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ed9f252608389c4e5cb2c5a94f5cc47d76855842/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fconfiguration_gemma3n.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fconfiguration_gemma3n.py?ref=ed9f252608389c4e5cb2c5a94f5cc47d76855842",
            "patch": "@@ -301,10 +301,10 @@ def __init__(\n \n class Gemma3nAudioConfig(PretrainedConfig):\n     r\"\"\"\n-    This is the configuration class to store the configuration of a [`Gemma3nAudioEncoder`], based on Gogole's\n-    [Universal Speech Model](). It is used to instantiate an Gemma3nAudioEncoder model according to the specified\n-    arguments, defining the model architecture. Instantiating a configuration with the defaults will yield a similar\n-    configuration to that of the Gemma 3n E4B, e.g. [google/gemma-3n-E4B](https://huggingface.co/google/gemma-3n-E4B).\n+    This is the configuration class to store the configuration of a [`Gemma3nAudioEncoder`]. It is used to instantiate\n+    an `Gemma3nAudioEncoder` model according to the specified arguments, defining the model architecture. Instantiating\n+    a configuration with the defaults will yield a similar configuration to that of the Gemma 3n E4B, e.g.,\n+    [google/gemma-3n-E4B](https://huggingface.co/google/gemma-3n-E4B).\n \n     Configuration objects that inherit from [`Gemma3nAudioConfig`] and can be used to control the model outputs. Read\n     the documentation from [`Gemma3nAudioConfig`] for more information."
        },
        {
            "sha": "d29bacf91e22a0f0b0a399684c0b3e8daf7ea148",
            "filename": "src/transformers/models/gemma3n/modeling_gemma3n.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/ed9f252608389c4e5cb2c5a94f5cc47d76855842/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fmodeling_gemma3n.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ed9f252608389c4e5cb2c5a94f5cc47d76855842/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fmodeling_gemma3n.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fmodeling_gemma3n.py?ref=ed9f252608389c4e5cb2c5a94f5cc47d76855842",
            "patch": "@@ -911,7 +911,7 @@ def forward(self, audio_encodings: torch.Tensor, audio_mel_mask: torch.BoolTenso\n \n \n class Gemma3nAudioEncoder(PreTrainedModel):\n-    \"\"\"A Universal Speech Encoder -- https://arxiv.org/abs/2303.01037\"\"\"\n+    \"\"\"An audio encoder based on the [Universal Speech Model](https://arxiv.org/abs/2303.01037) architecture.\"\"\"\n \n     config_class = Gemma3nAudioConfig\n "
        },
        {
            "sha": "a18ac8c2ef2ab73e5ee91a39ea9236b9dd41a494",
            "filename": "src/transformers/models/gemma3n/modular_gemma3n.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/huggingface/transformers/blob/ed9f252608389c4e5cb2c5a94f5cc47d76855842/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fmodular_gemma3n.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ed9f252608389c4e5cb2c5a94f5cc47d76855842/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fmodular_gemma3n.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgemma3n%2Fmodular_gemma3n.py?ref=ed9f252608389c4e5cb2c5a94f5cc47d76855842",
            "patch": "@@ -313,10 +313,10 @@ def __init__(\n \n class Gemma3nAudioConfig(PretrainedConfig):\n     r\"\"\"\n-    This is the configuration class to store the configuration of a [`Gemma3nAudioEncoder`], based on Gogole's\n-    [Universal Speech Model](). It is used to instantiate an Gemma3nAudioEncoder model according to the specified\n-    arguments, defining the model architecture. Instantiating a configuration with the defaults will yield a similar\n-    configuration to that of the Gemma 3n E4B, e.g. [google/gemma-3n-E4B](https://huggingface.co/google/gemma-3n-E4B).\n+    This is the configuration class to store the configuration of a [`Gemma3nAudioEncoder`]. It is used to instantiate\n+    an `Gemma3nAudioEncoder` model according to the specified arguments, defining the model architecture. Instantiating\n+    a configuration with the defaults will yield a similar configuration to that of the Gemma 3n E4B, e.g.,\n+    [google/gemma-3n-E4B](https://huggingface.co/google/gemma-3n-E4B).\n \n     Configuration objects that inherit from [`Gemma3nAudioConfig`] and can be used to control the model outputs. Read\n     the documentation from [`Gemma3nAudioConfig`] for more information.\n@@ -1473,7 +1473,7 @@ def forward(self, audio_encodings: torch.Tensor, audio_mel_mask: torch.BoolTenso\n \n \n class Gemma3nAudioEncoder(PreTrainedModel):\n-    \"\"\"A Universal Speech Encoder -- https://arxiv.org/abs/2303.01037\"\"\"\n+    \"\"\"An audio encoder based on the [Universal Speech Model](https://arxiv.org/abs/2303.01037) architecture.\"\"\"\n \n     config_class = Gemma3nAudioConfig\n "
        }
    ],
    "stats": {
        "total": 24,
        "additions": 12,
        "deletions": 12
    }
}