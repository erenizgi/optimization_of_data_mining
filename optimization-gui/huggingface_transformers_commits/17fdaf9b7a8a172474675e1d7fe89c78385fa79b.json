{
    "author": "ydshieh",
    "message": "Avoid explicit checkout in workflow (#42057)\n\n* remove explicit checkout\n\n* check 1\n\n---------\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "17fdaf9b7a8a172474675e1d7fe89c78385fa79b",
    "files": [
        {
            "sha": "14d38b94eb3d77fa32cc65ed5222e11435e7848e",
            "filename": ".github/workflows/self-scheduled.yml",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/17fdaf9b7a8a172474675e1d7fe89c78385fa79b/.github%2Fworkflows%2Fself-scheduled.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/17fdaf9b7a8a172474675e1d7fe89c78385fa79b/.github%2Fworkflows%2Fself-scheduled.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fself-scheduled.yml?ref=17fdaf9b7a8a172474675e1d7fe89c78385fa79b",
            "patch": "@@ -586,11 +586,10 @@ jobs:\n     runs-on: ubuntu-22.04\n     needs: [setup, run_models_gpu]\n     steps:\n+      # Checkout in order to run `utils/extract_warnings.py`. Avoid **explicit** checkout (i.e. don't specify `ref`) for\n+      # security reason.\n       - name: Checkout transformers\n         uses: actions/checkout@v4\n-        with:\n-          fetch-depth: 2\n-          ref: ${{ inputs.commit_sha || github.sha }}\n \n       - name: Install transformers\n         run: pip install transformers"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 2,
        "deletions": 3
    }
}