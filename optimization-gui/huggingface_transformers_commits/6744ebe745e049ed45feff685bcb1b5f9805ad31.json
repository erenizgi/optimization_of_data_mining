{
    "author": "SunMarc",
    "message": "Add slow to some examples tests  (#42164)\n\n* slow\n\n* remove",
    "sha": "6744ebe745e049ed45feff685bcb1b5f9805ad31",
    "files": [
        {
            "sha": "aa574743c7cae34392932c01bf3ac236459af171",
            "filename": "examples/pytorch/test_accelerate_examples.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/6744ebe745e049ed45feff685bcb1b5f9805ad31/examples%2Fpytorch%2Ftest_accelerate_examples.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/6744ebe745e049ed45feff685bcb1b5f9805ad31/examples%2Fpytorch%2Ftest_accelerate_examples.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftest_accelerate_examples.py?ref=6744ebe745e049ed45feff685bcb1b5f9805ad31",
            "patch": "@@ -74,6 +74,7 @@ def setUpClass(cls):\n     def tearDownClass(cls):\n         shutil.rmtree(cls.tmpdir)\n \n+    @slow\n     @mock.patch.dict(os.environ, {\"WANDB_MODE\": \"offline\", \"DVCLIVE_TEST\": \"true\"})\n     def test_run_glue_no_trainer(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n@@ -147,6 +148,7 @@ def test_run_mlm_no_trainer(self):\n         self.assertTrue(os.path.exists(os.path.join(tmp_dir, \"epoch_0\")))\n         self.assertTrue(os.path.exists(os.path.join(tmp_dir, \"mlm_no_trainer\")))\n \n+    @slow\n     @mock.patch.dict(os.environ, {\"WANDB_MODE\": \"offline\", \"DVCLIVE_TEST\": \"true\"})\n     def test_run_ner_no_trainer(self):\n         # with so little data distributed training needs more epochs to get the score on par with 0/1 gpu\n@@ -175,6 +177,7 @@ def test_run_ner_no_trainer(self):\n         self.assertTrue(os.path.exists(os.path.join(tmp_dir, \"epoch_0\")))\n         self.assertTrue(os.path.exists(os.path.join(tmp_dir, \"ner_no_trainer\")))\n \n+    @slow\n     @mock.patch.dict(os.environ, {\"WANDB_MODE\": \"offline\", \"DVCLIVE_TEST\": \"true\"})\n     def test_run_squad_no_trainer(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n@@ -203,6 +206,7 @@ def test_run_squad_no_trainer(self):\n         self.assertTrue(os.path.exists(os.path.join(tmp_dir, \"epoch_0\")))\n         self.assertTrue(os.path.exists(os.path.join(tmp_dir, \"qa_no_trainer\")))\n \n+    @slow\n     @mock.patch.dict(os.environ, {\"WANDB_MODE\": \"offline\", \"DVCLIVE_TEST\": \"true\"})\n     def test_run_swag_no_trainer(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n@@ -305,6 +309,7 @@ def test_run_semantic_segmentation_no_trainer(self):\n         result = get_results(tmp_dir)\n         self.assertGreaterEqual(result[\"eval_overall_accuracy\"], 0.10)\n \n+    @slow\n     @mock.patch.dict(os.environ, {\"WANDB_MODE\": \"offline\", \"DVCLIVE_TEST\": \"true\"})\n     def test_run_image_classification_no_trainer(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()"
        },
        {
            "sha": "5627c92d4aa406e087dbde02dc9954bb17a5e189",
            "filename": "examples/pytorch/test_pytorch_examples.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/6744ebe745e049ed45feff685bcb1b5f9805ad31/examples%2Fpytorch%2Ftest_pytorch_examples.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/6744ebe745e049ed45feff685bcb1b5f9805ad31/examples%2Fpytorch%2Ftest_pytorch_examples.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftest_pytorch_examples.py?ref=6744ebe745e049ed45feff685bcb1b5f9805ad31",
            "patch": "@@ -374,6 +374,7 @@ def test_run_translation(self):\n             result = get_results(tmp_dir)\n             self.assertGreaterEqual(result[\"eval_bleu\"], 30)\n \n+    @slow\n     def test_run_image_classification(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n         testargs = f\"\"\"\n@@ -403,6 +404,7 @@ def test_run_image_classification(self):\n             result = get_results(tmp_dir)\n             self.assertGreaterEqual(result[\"eval_accuracy\"], 0.8)\n \n+    @slow\n     def test_run_speech_recognition_ctc(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n         testargs = f\"\"\"\n@@ -573,6 +575,7 @@ def test_run_vit_mae_pretraining(self):\n             model = ViTMAEForPreTraining.from_pretrained(tmp_dir)\n             self.assertIsNotNone(model)\n \n+    @slow\n     def test_run_semantic_segmentation(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n         testargs = f\"\"\"\n@@ -597,6 +600,7 @@ def test_run_semantic_segmentation(self):\n             result = get_results(tmp_dir)\n             self.assertGreaterEqual(result[\"eval_overall_accuracy\"], 0.1)\n \n+    @slow\n     @patch.dict(os.environ, {\"WANDB_DISABLED\": \"true\"})\n     def test_run_object_detection(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()\n@@ -624,6 +628,7 @@ def test_run_object_detection(self):\n             result = get_results(tmp_dir)\n             self.assertGreaterEqual(result[\"test_map\"], 0.1)\n \n+    @slow\n     @patch.dict(os.environ, {\"WANDB_DISABLED\": \"true\"})\n     def test_run_instance_segmentation(self):\n         tmp_dir = self.get_auto_remove_tmp_dir()"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 10,
        "deletions": 0
    }
}