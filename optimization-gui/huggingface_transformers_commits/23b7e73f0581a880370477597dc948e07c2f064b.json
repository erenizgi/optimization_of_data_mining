{
    "author": "ydshieh",
    "message": "fix `test_compare_unprocessed_logit_scores` (#39053)\n\nfix\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "23b7e73f0581a880370477597dc948e07c2f064b",
    "files": [
        {
            "sha": "746fd2179d20bf14fc973808c57261d0e75ec5fe",
            "filename": "tests/generation/test_utils.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/23b7e73f0581a880370477597dc948e07c2f064b/tests%2Fgeneration%2Ftest_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/23b7e73f0581a880370477597dc948e07c2f064b/tests%2Fgeneration%2Ftest_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fgeneration%2Ftest_utils.py?ref=23b7e73f0581a880370477597dc948e07c2f064b",
            "patch": "@@ -3807,7 +3807,7 @@ def test_compare_unprocessed_logit_scores(self):\n         logits_gen = outputs.logits[0][0]\n \n         # assert that unprocessed logits from generate() are same as those from modal eval()\n-        self.assertListEqual(logits_fwd.tolist(), logits_gen.tolist())\n+        torch.testing.assert_allclose(logits_fwd.tolist(), logits_gen.tolist())\n \n     def test_return_unprocessed_logit_scores(self):\n         # tell model to generate text and return unprocessed/unwarped logit scores"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}