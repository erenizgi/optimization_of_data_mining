{
    "author": "zucchini-nlp",
    "message": "[config] revert #37603 (#37821)\n\nrevert",
    "sha": "9c5b1319d01d8a7455a0de0ff8f7b49064d26624",
    "files": [
        {
            "sha": "80c100563a6a7905a8b083948a2ba5212f2a3cca",
            "filename": "src/transformers/configuration_utils.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/9c5b1319d01d8a7455a0de0ff8f7b49064d26624/src%2Ftransformers%2Fconfiguration_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/9c5b1319d01d8a7455a0de0ff8f7b49064d26624/src%2Ftransformers%2Fconfiguration_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fconfiguration_utils.py?ref=9c5b1319d01d8a7455a0de0ff8f7b49064d26624",
            "patch": "@@ -845,6 +845,10 @@ def to_diff_dict(self) -> dict[str, Any]:\n \n         self._remove_keys_not_serialized(serializable_config_dict)\n \n+        # Key removed only in diff dict\n+        if \"_name_or_path\" in serializable_config_dict:\n+            del serializable_config_dict[\"_name_or_path\"]\n+\n         if hasattr(self, \"quantization_config\"):\n             serializable_config_dict[\"quantization_config\"] = (\n                 self.quantization_config.to_dict()\n@@ -1005,8 +1009,6 @@ def _remove_keys_not_serialized(self, d: dict[str, Any]) -> None:\n         # Do not serialize `base_model_pp_plan` for now\n         if \"base_model_pp_plan\" in d:\n             del d[\"base_model_pp_plan\"]\n-        if \"_name_or_path\" in d:\n-            del d[\"_name_or_path\"]\n         for value in d.values():\n             if isinstance(value, dict):\n                 self._remove_keys_not_serialized(value)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}