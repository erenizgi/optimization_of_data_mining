{
    "author": "eustlb",
    "message": "[Kyutai-STT] correct model type + model id (#39035)\n\n* correct model type + model id\n\n* udpate doc\n\n* init fix\n\n* style !!!",
    "sha": "551e48f182673cacd8ae91d839dd6962558d7b9e",
    "files": [
        {
            "sha": "a3c69818615d1acbba80007fb91074464f253f4c",
            "filename": "docs/source/en/_toctree.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/docs%2Fsource%2Fen%2F_toctree.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/docs%2Fsource%2Fen%2F_toctree.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2F_toctree.yml?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -847,7 +847,7 @@\n         title: GraniteSpeech\n       - local: model_doc/hubert\n         title: Hubert\n-      - local: model_doc/stt\n+      - local: model_doc/kyutai_speech_to_text\n         title: Kyutai Speech-To-Text\n       - local: model_doc/mctct\n         title: MCTCT"
        },
        {
            "sha": "1c7d93e2af5fed9634c6f21891dba95c858ae689",
            "filename": "docs/source/en/model_doc/kyutai_speech_to_text.md",
            "status": "renamed",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/docs%2Fsource%2Fen%2Fmodel_doc%2Fkyutai_speech_to_text.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/docs%2Fsource%2Fen%2Fmodel_doc%2Fkyutai_speech_to_text.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fmodel_doc%2Fkyutai_speech_to_text.md?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -36,10 +36,10 @@ from transformers import KyutaiSpeechToTextProcessor, KyutaiSpeechToTextForCondi\n \n # 1. load the model and the processor\n torch_device = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n-model_id = \"kyutai/stt-2.6b-en\"\n+model_id = \"kyutai/stt-2.6b-en-trfs\"\n \n processor = KyutaiSpeechToTextProcessor.from_pretrained(model_id)\n-model = KyutaiSpeechToTextForConditionalGeneration.from_pretrained(model_id, device_map=torch_device)\n+model = KyutaiSpeechToTextForConditionalGeneration.from_pretrained(model_id, device_map=torch_device, torch_dtype=\"auto\")\n \n # 2. load audio samples\n ds = load_dataset(\n@@ -69,10 +69,10 @@ from transformers import KyutaiSpeechToTextProcessor, KyutaiSpeechToTextForCondi\n \n # 1. load the model and the processor\n torch_device = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n-model_id = \"kyutai/stt-2.6b-en\"\n+model_id = \"kyutai/stt-2.6b-en-trfs\"\n \n processor = KyutaiSpeechToTextProcessor.from_pretrained(model_id)\n-model = KyutaiSpeechToTextForConditionalGeneration.from_pretrained(model_id, device_map=torch_device)\n+model = KyutaiSpeechToTextForConditionalGeneration.from_pretrained(model_id, device_map=torch_device, torch_dtype=\"auto\")\n \n # 2. load audio samples\n ds = load_dataset(",
            "previous_filename": "docs/source/en/model_doc/stt.md"
        },
        {
            "sha": "3c0e649f8af022ca9a491e688db4d6cfb64315a9",
            "filename": "src/transformers/models/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2F__init__.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2F__init__.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2F__init__.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -158,6 +158,7 @@\n     from .janus import *\n     from .jetmoe import *\n     from .kosmos2 import *\n+    from .kyutai_speech_to_text import *\n     from .layoutlm import *\n     from .layoutlmv2 import *\n     from .layoutlmv3 import *\n@@ -286,7 +287,6 @@\n     from .squeezebert import *\n     from .stablelm import *\n     from .starcoder2 import *\n-    from .stt import *\n     from .superglue import *\n     from .superpoint import *\n     from .swiftformer import *"
        },
        {
            "sha": "8d2109759d0061f113f86cb9247045a2469ffc62",
            "filename": "src/transformers/models/auto/configuration_auto.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Fconfiguration_auto.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Fconfiguration_auto.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fauto%2Fconfiguration_auto.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -184,6 +184,7 @@\n         (\"jetmoe\", \"JetMoeConfig\"),\n         (\"jukebox\", \"JukeboxConfig\"),\n         (\"kosmos-2\", \"Kosmos2Config\"),\n+        (\"kyutai_speech_to_text\", \"KyutaiSpeechToTextConfig\"),\n         (\"layoutlm\", \"LayoutLMConfig\"),\n         (\"layoutlmv2\", \"LayoutLMv2Config\"),\n         (\"layoutlmv3\", \"LayoutLMv3Config\"),\n@@ -326,7 +327,6 @@\n         (\"squeezebert\", \"SqueezeBertConfig\"),\n         (\"stablelm\", \"StableLmConfig\"),\n         (\"starcoder2\", \"Starcoder2Config\"),\n-        (\"stt\", \"KyutaiSpeechToTextConfig\"),\n         (\"superglue\", \"SuperGlueConfig\"),\n         (\"superpoint\", \"SuperPointConfig\"),\n         (\"swiftformer\", \"SwiftFormerConfig\"),\n@@ -562,6 +562,7 @@\n         (\"jetmoe\", \"JetMoe\"),\n         (\"jukebox\", \"Jukebox\"),\n         (\"kosmos-2\", \"KOSMOS-2\"),\n+        (\"kyutai_speech_to_text\", \"KyutaiSpeechToText\"),\n         (\"layoutlm\", \"LayoutLM\"),\n         (\"layoutlmv2\", \"LayoutLMv2\"),\n         (\"layoutlmv3\", \"LayoutLMv3\"),\n@@ -717,7 +718,6 @@\n         (\"squeezebert\", \"SqueezeBERT\"),\n         (\"stablelm\", \"StableLm\"),\n         (\"starcoder2\", \"Starcoder2\"),\n-        (\"stt\", \"KyutaiSpeechToText\"),\n         (\"superglue\", \"SuperGlue\"),\n         (\"superpoint\", \"SuperPoint\"),\n         (\"swiftformer\", \"SwiftFormer\"),"
        },
        {
            "sha": "cf806f39a6a14d61a33d830196007c9ff9d8b79f",
            "filename": "src/transformers/models/auto/feature_extraction_auto.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Ffeature_extraction_auto.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Ffeature_extraction_auto.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fauto%2Ffeature_extraction_auto.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -65,6 +65,7 @@\n         (\"groupvit\", \"CLIPFeatureExtractor\"),\n         (\"hubert\", \"Wav2Vec2FeatureExtractor\"),\n         (\"imagegpt\", \"ImageGPTFeatureExtractor\"),\n+        (\"kyutai_speech_to_text\", \"KyutaiSpeechToTextFeatureExtractor\"),\n         (\"layoutlmv2\", \"LayoutLMv2FeatureExtractor\"),\n         (\"layoutlmv3\", \"LayoutLMv3FeatureExtractor\"),\n         (\"levit\", \"LevitFeatureExtractor\"),\n@@ -91,7 +92,6 @@\n         (\"sew-d\", \"Wav2Vec2FeatureExtractor\"),\n         (\"speech_to_text\", \"Speech2TextFeatureExtractor\"),\n         (\"speecht5\", \"SpeechT5FeatureExtractor\"),\n-        (\"stt\", \"KyutaiSpeechToTextFeatureExtractor\"),\n         (\"swiftformer\", \"ViTFeatureExtractor\"),\n         (\"swin\", \"ViTFeatureExtractor\"),\n         (\"swinv2\", \"ViTFeatureExtractor\"),"
        },
        {
            "sha": "51a3c3fbbc544c642e9138b5a88940bfb248a57f",
            "filename": "src/transformers/models/auto/modeling_auto.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Fmodeling_auto.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Fmodeling_auto.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fauto%2Fmodeling_auto.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -174,6 +174,7 @@\n         (\"jetmoe\", \"JetMoeModel\"),\n         (\"jukebox\", \"JukeboxModel\"),\n         (\"kosmos-2\", \"Kosmos2Model\"),\n+        (\"kyutai_speech_to_text\", \"KyutaiSpeechToTextModel\"),\n         (\"layoutlm\", \"LayoutLMModel\"),\n         (\"layoutlmv2\", \"LayoutLMv2Model\"),\n         (\"layoutlmv3\", \"LayoutLMv3Model\"),\n@@ -304,7 +305,6 @@\n         (\"squeezebert\", \"SqueezeBertModel\"),\n         (\"stablelm\", \"StableLmModel\"),\n         (\"starcoder2\", \"Starcoder2Model\"),\n-        (\"stt\", \"KyutaiSpeechToTextModel\"),\n         (\"superglue\", \"SuperGlueForKeypointMatching\"),\n         (\"swiftformer\", \"SwiftFormerModel\"),\n         (\"swin\", \"SwinModel\"),\n@@ -1060,14 +1060,14 @@\n MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES = OrderedDict(\n     [\n         (\"granite_speech\", \"GraniteSpeechForConditionalGeneration\"),\n+        (\"kyutai_speech_to_text\", \"KyutaiSpeechToTextForConditionalGeneration\"),\n         (\"moonshine\", \"MoonshineForConditionalGeneration\"),\n         (\"pop2piano\", \"Pop2PianoForConditionalGeneration\"),\n         (\"seamless_m4t\", \"SeamlessM4TForSpeechToText\"),\n         (\"seamless_m4t_v2\", \"SeamlessM4Tv2ForSpeechToText\"),\n         (\"speech-encoder-decoder\", \"SpeechEncoderDecoderModel\"),\n         (\"speech_to_text\", \"Speech2TextForConditionalGeneration\"),\n         (\"speecht5\", \"SpeechT5ForSpeechToText\"),\n-        (\"stt\", \"KyutaiSpeechToTextForConditionalGeneration\"),\n         (\"whisper\", \"WhisperForConditionalGeneration\"),\n     ]\n )"
        },
        {
            "sha": "372c0b249b16e0ed7d81e53807598eee0664edde",
            "filename": "src/transformers/models/auto/processing_auto.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Fprocessing_auto.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fauto%2Fprocessing_auto.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fauto%2Fprocessing_auto.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -80,6 +80,7 @@\n         (\"internvl\", \"InternVLProcessor\"),\n         (\"janus\", \"JanusProcessor\"),\n         (\"kosmos-2\", \"Kosmos2Processor\"),\n+        (\"kyutai_speech_to_text\", \"KyutaiSpeechToTextProcessor\"),\n         (\"layoutlmv2\", \"LayoutLMv2Processor\"),\n         (\"layoutlmv3\", \"LayoutLMv3Processor\"),\n         (\"llama4\", \"Llama4Processor\"),\n@@ -117,7 +118,6 @@\n         (\"speech_to_text\", \"Speech2TextProcessor\"),\n         (\"speech_to_text_2\", \"Speech2Text2Processor\"),\n         (\"speecht5\", \"SpeechT5Processor\"),\n-        (\"stt\", \"KyutaiSpeechToTextProcessor\"),\n         (\"trocr\", \"TrOCRProcessor\"),\n         (\"tvlt\", \"TvltProcessor\"),\n         (\"tvp\", \"TvpProcessor\"),"
        },
        {
            "sha": "5823883c6cb8ba35c0964d62d4f32e5ca3d24d64",
            "filename": "src/transformers/models/kyutai_speech_to_text/__init__.py",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2F__init__.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2F__init__.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2F__init__.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "previous_filename": "src/transformers/models/stt/__init__.py"
        },
        {
            "sha": "40bfcf09374be8f1a210e7a87496fc151b185a4a",
            "filename": "src/transformers/models/kyutai_speech_to_text/configuration_kyutai_speech_to_text.py",
            "status": "renamed",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fconfiguration_kyutai_speech_to_text.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fconfiguration_kyutai_speech_to_text.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fconfiguration_kyutai_speech_to_text.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -28,7 +28,7 @@ class KyutaiSpeechToTextConfig(PretrainedConfig):\n     architecture. Instantiating a configuration with the defaults will yield a similar configuration to that of the\n     2.6b-en model.\n \n-    e.g. [kyutai/stt-2.6b-en](https://huggingface.co/kyutai/stt-2.6b-en)\n+    e.g. [kyutai/stt-2.6b-en-trfs](https://huggingface.co/kyutai/stt-2.6b-en-trfs)\n \n     Configuration objects inherit from [`PretrainedConfig`] and can be used to control the model outputs. Read the\n     documentation from [`PretrainedConfig`] for more information.\n@@ -110,8 +110,7 @@ class KyutaiSpeechToTextConfig(PretrainedConfig):\n     >>> configuration = model.config\n     ```\"\"\"\n \n-    # not the best naming here for `model_type`, but original codebase already uses model type:`stt` for in the config so we keep it to simplify\n-    model_type = \"stt\"\n+    model_type = \"kyutai_speech_to_text\"\n     keys_to_ignore_at_inference = [\"past_key_values\"]\n     sub_configs = {\"codec_config\": AutoConfig}\n ",
            "previous_filename": "src/transformers/models/stt/configuration_kyutai_speech_to_text.py"
        },
        {
            "sha": "d08550fa94415e8befb9afc1ee446730a2dec4a4",
            "filename": "src/transformers/models/kyutai_speech_to_text/convert_kyutai_speech_to_text_to_hf.py",
            "status": "renamed",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fconvert_kyutai_speech_to_text_to_hf.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fconvert_kyutai_speech_to_text_to_hf.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fconvert_kyutai_speech_to_text_to_hf.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -190,7 +190,14 @@ def write_model(\n     print(\"Converting the model.\")\n     os.makedirs(output_dir, exist_ok=True)\n \n-    config = KyutaiSpeechToTextConfig()\n+    config = KyutaiSpeechToTextConfig(\n+        vocab_size=8001,\n+        max_position_embeddings=375,\n+        num_hidden_layers=16,\n+        num_attention_heads=16,\n+        num_key_value_heads=16,\n+        head_dim=128,\n+    )\n     config.use_cache = True\n     config.codec_config.sliding_window = 250\n ",
            "previous_filename": "src/transformers/models/stt/convert_kyutai_speech_to_text_to_hf.py"
        },
        {
            "sha": "bde1736f9da859ea1f40a5a2728399194542c023",
            "filename": "src/transformers/models/kyutai_speech_to_text/feature_extraction_kyutai_speech_to_text.py",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Ffeature_extraction_kyutai_speech_to_text.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Ffeature_extraction_kyutai_speech_to_text.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Ffeature_extraction_kyutai_speech_to_text.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -1,5 +1,5 @@\n #                ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨\n-#           This file was automatically generated from src/transformers/models/stt/modular_kyutai_speech_to_text.py.\n+#           This file was automatically generated from src/transformers/models/kyutai_speech_to_text/modular_kyutai_speech_to_text.py.\n #               Do NOT edit this file manually as any edits will be overwritten by the generation of\n #             the file from the modular. If any change should be done, please apply the change to the\n #                          modular_kyutai_speech_to_text.py file directly. One of our CI enforces this.",
            "previous_filename": "src/transformers/models/stt/feature_extraction_kyutai_speech_to_text.py"
        },
        {
            "sha": "67c4dac4ccd988c0c9a439ce462abb3f2e413e14",
            "filename": "src/transformers/models/kyutai_speech_to_text/modeling_kyutai_speech_to_text.py",
            "status": "renamed",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fmodeling_kyutai_speech_to_text.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fmodeling_kyutai_speech_to_text.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fmodeling_kyutai_speech_to_text.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -1,5 +1,5 @@\n #                ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨\n-#           This file was automatically generated from src/transformers/models/stt/modular_kyutai_speech_to_text.py.\n+#           This file was automatically generated from src/transformers/models/kyutai_speech_to_text/modular_kyutai_speech_to_text.py.\n #               Do NOT edit this file manually as any edits will be overwritten by the generation of\n #             the file from the modular. If any change should be done, please apply the change to the\n #                          modular_kyutai_speech_to_text.py file directly. One of our CI enforces this.\n@@ -713,7 +713,7 @@ def forward(\n         return attn_output, None, past_key_value\n \n \n-STT_ATTENTION_CLASSES = {\n+KYUTAI_SPEECH_TO_TEXT_ATTENTION_CLASSES = {\n     \"eager\": KyutaiSpeechToTextAttention,\n     \"flash_attention_2\": KyutaiSpeechToTextFlashAttention2,\n     \"sdpa\": KyutaiSpeechToTextSdpaAttention,\n@@ -726,7 +726,7 @@ def __init__(self, config: KyutaiSpeechToTextConfig, layer_idx: int, use_flexibl\n         self.hidden_size = config.hidden_size\n         self.use_flexible_linear = use_flexible_linear\n \n-        self.self_attn = STT_ATTENTION_CLASSES[config._attn_implementation](\n+        self.self_attn = KYUTAI_SPEECH_TO_TEXT_ATTENTION_CLASSES[config._attn_implementation](\n             config=config, layer_idx=layer_idx, use_flexible_linear=use_flexible_linear, use_rope=use_rope\n         )\n \n@@ -1169,7 +1169,7 @@ def forward(\n         >>> from transformers import KyutaiSpeechToTextProcessor, KyutaiSpeechToTextForConditionalGeneration\n \n         >>> torch_device = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n-        >>> model_id = \"kyutai/stt-2.6b-en\"\n+        >>> model_id = \"kyutai/stt-2.6b-en-trfs\"\n \n         >>> processor = KyutaiSpeechToTextProcessor.from_pretrained(model_id)\n         >>> model = KyutaiSpeechToTextForConditionalGeneration.from_pretrained(model_id, device_map=torch_device)",
            "previous_filename": "src/transformers/models/stt/modeling_kyutai_speech_to_text.py"
        },
        {
            "sha": "a9b86c6e2c49bdbb7fa645b1575aba18126b9039",
            "filename": "src/transformers/models/kyutai_speech_to_text/modular_kyutai_speech_to_text.py",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fmodular_kyutai_speech_to_text.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fmodular_kyutai_speech_to_text.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fmodular_kyutai_speech_to_text.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -278,7 +278,7 @@ def forward(self, **super_kwargs):\n         >>> from transformers import KyutaiSpeechToTextProcessor, KyutaiSpeechToTextForConditionalGeneration\n \n         >>> torch_device = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n-        >>> model_id = \"kyutai/stt-2.6b-en\"\n+        >>> model_id = \"kyutai/stt-2.6b-en-trfs\"\n \n         >>> processor = KyutaiSpeechToTextProcessor.from_pretrained(model_id)\n         >>> model = KyutaiSpeechToTextForConditionalGeneration.from_pretrained(model_id, device_map=torch_device)",
            "previous_filename": "src/transformers/models/stt/modular_kyutai_speech_to_text.py"
        },
        {
            "sha": "0b3a021712362a25c231d2a22724cd9545f8196a",
            "filename": "src/transformers/models/kyutai_speech_to_text/processing_kyutai_speech_to_text.py",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fprocessing_kyutai_speech_to_text.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fprocessing_kyutai_speech_to_text.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fkyutai_speech_to_text%2Fprocessing_kyutai_speech_to_text.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "previous_filename": "src/transformers/models/stt/processing_kyutai_speech_to_text.py"
        },
        {
            "sha": "822bc872bcb27dc2b62db71135363ce98a77fac1",
            "filename": "tests/models/kyutai_speech_to_text/test_modeling_kyutai_speech_to_text.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/551e48f182673cacd8ae91d839dd6962558d7b9e/tests%2Fmodels%2Fkyutai_speech_to_text%2Ftest_modeling_kyutai_speech_to_text.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/551e48f182673cacd8ae91d839dd6962558d7b9e/tests%2Fmodels%2Fkyutai_speech_to_text%2Ftest_modeling_kyutai_speech_to_text.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fmodels%2Fkyutai_speech_to_text%2Ftest_modeling_kyutai_speech_to_text.py?ref=551e48f182673cacd8ae91d839dd6962558d7b9e",
            "patch": "@@ -619,7 +619,7 @@ class KyutaiSpeechToTextForConditionalGenerationIntegrationTests(unittest.TestCa\n     _dataset = None\n \n     def setUp(self):\n-        self.model_checkpoint = \"kyutai/stt-2.6b-en\"\n+        self.model_checkpoint = \"kyutai/stt-2.6b-en-trfs\"\n \n     def tearDown(self):\n         cleanup(torch_device, gc_collect=True)"
        }
    ],
    "stats": {
        "total": 52,
        "additions": 29,
        "deletions": 23
    }
}