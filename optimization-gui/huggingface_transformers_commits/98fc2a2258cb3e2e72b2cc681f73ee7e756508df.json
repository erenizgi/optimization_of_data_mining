{
    "author": "sywangyi",
    "message": "add require_deterministic_for_xpu to make the case pass in xpu (#42439)\n\nSigned-off-by: Wang, Yi <yi.a.wang@intel.com>",
    "sha": "98fc2a2258cb3e2e72b2cc681f73ee7e756508df",
    "files": [
        {
            "sha": "02f34eef76308db3e171c50413051c5c2c2a2eb5",
            "filename": "tests/models/dac/test_modeling_dac.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/98fc2a2258cb3e2e72b2cc681f73ee7e756508df/tests%2Fmodels%2Fdac%2Ftest_modeling_dac.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/98fc2a2258cb3e2e72b2cc681f73ee7e756508df/tests%2Fmodels%2Fdac%2Ftest_modeling_dac.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fmodels%2Fdac%2Ftest_modeling_dac.py?ref=98fc2a2258cb3e2e72b2cc681f73ee7e756508df",
            "patch": "@@ -21,7 +21,13 @@\n from parameterized import parameterized\n \n from transformers import AutoProcessor, DacConfig, DacModel\n-from transformers.testing_utils import is_torch_available, require_torch, slow, torch_device\n+from transformers.testing_utils import (\n+    is_torch_available,\n+    require_deterministic_for_xpu,\n+    require_torch,\n+    slow,\n+    torch_device,\n+)\n \n from ...test_configuration_common import ConfigTester\n from ...test_modeling_common import ModelTesterMixin, floats_tensor\n@@ -658,6 +664,7 @@ def compute_rmse(arr1, arr2):\n @require_torch\n class DacIntegrationTest(unittest.TestCase):\n     @parameterized.expand([(model_name,) for model_name in EXPECTED_PREPROC_SHAPE.keys()])\n+    @require_deterministic_for_xpu\n     def test_integration(self, model_name):\n         # load model and processor\n         model_id = f\"descript/{model_name}\""
        },
        {
            "sha": "59d19a3d908d1e1f61543a7ff28401f5b7d763ac",
            "filename": "tests/models/xcodec/test_modeling_xcodec.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/98fc2a2258cb3e2e72b2cc681f73ee7e756508df/tests%2Fmodels%2Fxcodec%2Ftest_modeling_xcodec.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/98fc2a2258cb3e2e72b2cc681f73ee7e756508df/tests%2Fmodels%2Fxcodec%2Ftest_modeling_xcodec.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fmodels%2Fxcodec%2Ftest_modeling_xcodec.py?ref=98fc2a2258cb3e2e72b2cc681f73ee7e756508df",
            "patch": "@@ -28,6 +28,7 @@\n from transformers import AutoFeatureExtractor, XcodecConfig\n from transformers.testing_utils import (\n     is_torch_available,\n+    require_deterministic_for_xpu,\n     require_torch,\n     slow,\n     torch_device,\n@@ -303,6 +304,7 @@ def compute_rmse(arr1, arr2):\n @require_torch\n class XcodecIntegrationTest(unittest.TestCase):\n     @parameterized.expand(EXPECTED_OUTPUTS_JSON)\n+    @require_deterministic_for_xpu\n     def test_integration(\n         self, test_name, repo_id, bandwidth, exp_codes, exp_decoded, exp_codec_err, codec_tol, dec_tol\n     ):"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 10,
        "deletions": 1
    }
}