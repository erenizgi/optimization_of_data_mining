{
    "author": "ydshieh",
    "message": "Skip code `307` in `RequestCounter` (#36953)\n\nfix\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "ed95493ce05688447d15d9a82d2d70695290ecff",
    "files": [
        {
            "sha": "62409ff70d281a3db1faa14bef77cb177ae465d5",
            "filename": "src/transformers/testing_utils.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/ed95493ce05688447d15d9a82d2d70695290ecff/src%2Ftransformers%2Ftesting_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ed95493ce05688447d15d9a82d2d70695290ecff/src%2Ftransformers%2Ftesting_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Ftesting_utils.py?ref=ed95493ce05688447d15d9a82d2d70695290ecff",
            "patch": "@@ -2538,10 +2538,12 @@ def wrap(*args, **kwargs):\n \n     def __exit__(self, *args, **kwargs) -> None:\n         assert len(self.mock.call_args_list) == len(self._extra_info)\n-\n         for thread_id, call in zip(self._extra_info, self.mock.call_args_list):\n             if thread_id != self._thread_id:\n                 continue\n+            # code 307: the URL being requested by the user has moved to a temporary location\n+            if call.args[-2] == 307:\n+                continue\n             log = call.args[0] % call.args[1:]\n             for method in (\"HEAD\", \"GET\", \"POST\", \"PUT\", \"DELETE\", \"CONNECT\", \"OPTIONS\", \"TRACE\", \"PATCH\"):\n                 if method in log:"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}