{
    "author": "ZX-ModelCloud",
    "message": "Compatible with GPTQModel FORAMT.LLM_AWQ (#42833)\n\n* Compatible with llm-awq\n\nSigned-off-by: ZX-ModelCloud <zx@modelcloud.ai>\n\n* Apply style fixes\n\n---------\n\nSigned-off-by: ZX-ModelCloud <zx@modelcloud.ai>\nCo-authored-by: Qubitium-ModelCloud <qubitium@modelcloud.ai>\nCo-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",
    "sha": "b19844eef694bea15ba5b1a765997292a26ef6d2",
    "files": [
        {
            "sha": "0121703e13faf791013d2771333faf434ade5e8d",
            "filename": "src/transformers/utils/quantization_config.py",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/huggingface/transformers/blob/b19844eef694bea15ba5b1a765997292a26ef6d2/src%2Ftransformers%2Futils%2Fquantization_config.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/b19844eef694bea15ba5b1a765997292a26ef6d2/src%2Ftransformers%2Futils%2Fquantization_config.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fquantization_config.py?ref=b19844eef694bea15ba5b1a765997292a26ef6d2",
            "patch": "@@ -69,6 +69,7 @@ class AwqFormat(str, Enum):\n     GEMM = \"gemm\"\n     GEMV = \"gemv\"\n     GEMV_FAST = \"gemv_fast\"\n+    LLM_AWQ = \"llm-awq\"\n \n \n class AwqBackend(str, Enum):\n@@ -838,14 +839,13 @@ def post_init(self):\n         r\"\"\"\n         Safety checker that arguments are correct\n         \"\"\"\n-        if self.format not in [\n-            AwqFormat.GEMM,\n-            AwqFormat.GEMV,\n-            AwqFormat.GEMV_FAST,\n-        ]:\n-            raise ValueError(\n-                f\"Only supported versions are in [AWQLinearVersion.GEMM, AWQLinearVersion.GEMV, AWQLinearVersion.GEMV_FAST] - not recognized version {self.format}\"\n-            )\n+\n+        if self.backend == \"llm-awq\":\n+            self.format = AwqFormat.LLM_AWQ\n+            self.backend = AwqBackend.AUTO\n+\n+        if self.format not in AwqFormat.__members__.values():\n+            raise ValueError(f\"Invalid format '{self.format}'. Must be one of: {[b.value for b in AwqFormat]}\")\n \n         if self.backend not in AwqBackend.__members__.values():\n             raise ValueError(f\"Invalid backend '{self.backend}'. Must be one of: {[b.value for b in AwqBackend]}\")"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}