{
    "author": "MohitIntel",
    "message": "[gemma3] Fix do_convert_rgb in image processors. (#39438)\n\n* [gemma3] Fix do_convert_rgb in image processors.\n\n* [gemma3] Fix do_convert_rgb in image processors.",
    "sha": "f4d076561f21a166e836126d6b5c061b9235df89",
    "files": [
        {
            "sha": "c74410c438185e89e5681f9d881d7ed1959043ca",
            "filename": "src/transformers/models/gemma3/image_processing_gemma3.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/f4d076561f21a166e836126d6b5c061b9235df89/src%2Ftransformers%2Fmodels%2Fgemma3%2Fimage_processing_gemma3.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/f4d076561f21a166e836126d6b5c061b9235df89/src%2Ftransformers%2Fmodels%2Fgemma3%2Fimage_processing_gemma3.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgemma3%2Fimage_processing_gemma3.py?ref=f4d076561f21a166e836126d6b5c061b9235df89",
            "patch": "@@ -102,7 +102,7 @@ def __init__(\n         do_normalize: bool = True,\n         image_mean: Optional[Union[float, list[float]]] = None,\n         image_std: Optional[Union[float, list[float]]] = None,\n-        do_convert_rgb: Optional[bool] = None,\n+        do_convert_rgb: Optional[bool] = True,\n         do_pan_and_scan: Optional[bool] = None,\n         pan_and_scan_min_crop_size: Optional[int] = None,\n         pan_and_scan_max_num_crops: Optional[int] = None,\n@@ -302,7 +302,7 @@ def preprocess(\n                 - `\"none\"` or `ChannelDimension.NONE`: image in (height, width) format.\n             do_convert_rgb (`bool`, *optional*, defaults to `self.do_convert_rgb`):\n                 Whether to convert the image to RGB.\n-            do_pan_and_scan (`bool`, *optional*, defaults to `self.do_convert_rgb`):\n+            do_pan_and_scan (`bool`, *optional*, defaults to `self.do_pan_and_scan`):\n                 Whether to apply `pan_and_scan` to images.\n             pan_and_scan_min_crop_size (`int`, *optional*, defaults to `self.pan_and_scan_min_crop_size`):\n                 Minimum size of each crop in pan and scan."
        },
        {
            "sha": "6ce7b508b270b3a4bdca1bddfb4cfa70f7f0eb36",
            "filename": "src/transformers/models/gemma3/image_processing_gemma3_fast.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/huggingface/transformers/blob/f4d076561f21a166e836126d6b5c061b9235df89/src%2Ftransformers%2Fmodels%2Fgemma3%2Fimage_processing_gemma3_fast.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/f4d076561f21a166e836126d6b5c061b9235df89/src%2Ftransformers%2Fmodels%2Fgemma3%2Fimage_processing_gemma3_fast.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgemma3%2Fimage_processing_gemma3_fast.py?ref=f4d076561f21a166e836126d6b5c061b9235df89",
            "patch": "@@ -78,6 +78,7 @@ class Gemma3ImageProcessorFast(BaseImageProcessorFast):\n     image_std = IMAGENET_STANDARD_STD\n     size = {\"height\": 224, \"width\": 224}\n     default_to_square = True\n+    do_convert_rgb = True\n     do_resize = True\n     do_rescale = True\n     do_normalize = True"
        },
        {
            "sha": "eaa0ab3b763f3863d5a217639c17c4f29cfce16f",
            "filename": "src/transformers/models/gemma3/processing_gemma3.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/huggingface/transformers/blob/f4d076561f21a166e836126d6b5c061b9235df89/src%2Ftransformers%2Fmodels%2Fgemma3%2Fprocessing_gemma3.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/f4d076561f21a166e836126d6b5c061b9235df89/src%2Ftransformers%2Fmodels%2Fgemma3%2Fprocessing_gemma3.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fgemma3%2Fprocessing_gemma3.py?ref=f4d076561f21a166e836126d6b5c061b9235df89",
            "patch": "@@ -41,6 +41,7 @@ class Gemma3ProcessorKwargs(ProcessingKwargs, total=False):\n             \"return_mm_token_type_ids\": True,\n         },\n         \"images_kwargs\": {\n+            \"do_convert_rgb\": True,\n             \"do_pan_and_scan\": False,\n             \"pan_and_scan_min_crop_size\": 256,\n             \"pan_and_scan_max_num_crops\": 4,"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}