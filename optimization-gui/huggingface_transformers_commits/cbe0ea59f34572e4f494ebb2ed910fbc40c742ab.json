{
    "author": "ydshieh",
    "message": "Security fix for `benchmark.yml` (#36402)\n\nsecurity\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "cbe0ea59f34572e4f494ebb2ed910fbc40c742ab",
    "files": [
        {
            "sha": "6b5555097c097bdc8940e31b438263e8e8af4377",
            "filename": ".github/workflows/benchmark.yml",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/cbe0ea59f34572e4f494ebb2ed910fbc40c742ab/.github%2Fworkflows%2Fbenchmark.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/cbe0ea59f34572e4f494ebb2ed910fbc40c742ab/.github%2Fworkflows%2Fbenchmark.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fbenchmark.yml?ref=cbe0ea59f34572e4f494ebb2ed910fbc40c742ab",
            "patch": "@@ -64,7 +64,7 @@ jobs:\n             commit_id=$GITHUB_SHA\r\n           fi\r\n           commit_msg=$(git show -s --format=%s | cut -c1-70)\r\n-          python3 benchmark/benchmarks_entrypoint.py \"${{ github.head_ref || github.ref_name }}\" \"$commit_id\" \"$commit_msg\"\r\n+          python3 benchmark/benchmarks_entrypoint.py \"$BRANCH_NAME\" \"$commit_id\" \"$commit_msg\"\r\n         env:\r\n           HF_TOKEN: ${{ secrets.HF_HUB_READ_TOKEN }}\r\n           # Enable this to see debug logs\r\n@@ -73,3 +73,4 @@ jobs:\n           PGHOST: ${{ secrets.TRANSFORMERS_BENCHMARKS_PGHOST }}\r\n           PGUSER: transformers_benchmarks\r\n           PGPASSWORD: ${{ secrets.TRANSFORMERS_BENCHMARKS_PGPASSWORD }}\r\n+          BRANCH_NAME: ${{ github.head_ref || github.ref_name }}\r"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}