{
    "author": "ydshieh",
    "message": "Update `unwrap_and_save_reload_schedule` to use `weights_only=False` (#35952)\n\n* fix\r\n\r\n* Fix\r\n\r\n---------\r\n\r\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "c600e89f5c989959dea7701489d93a6dddeca3bb",
    "files": [
        {
            "sha": "6982583d2bec56b153776ff192713074c58d6d1c",
            "filename": "tests/optimization/test_optimization.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/c600e89f5c989959dea7701489d93a6dddeca3bb/tests%2Foptimization%2Ftest_optimization.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/c600e89f5c989959dea7701489d93a6dddeca3bb/tests%2Foptimization%2Ftest_optimization.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Foptimization%2Ftest_optimization.py?ref=c600e89f5c989959dea7701489d93a6dddeca3bb",
            "patch": "@@ -59,7 +59,7 @@ def unwrap_and_save_reload_schedule(scheduler, num_steps=10):\n                 file_name = os.path.join(tmpdirname, \"schedule.bin\")\n                 torch.save(scheduler.state_dict(), file_name)\n \n-                state_dict = torch.load(file_name)\n+                state_dict = torch.load(file_name, weights_only=False)\n                 scheduler.load_state_dict(state_dict)\n     return lrs\n "
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}