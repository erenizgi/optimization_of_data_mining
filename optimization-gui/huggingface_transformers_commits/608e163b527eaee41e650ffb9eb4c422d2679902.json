{
    "author": "stevhliu",
    "message": "[docs] Follow up register_pipeline (#35310)\n\nexample json",
    "sha": "608e163b527eaee41e650ffb9eb4c422d2679902",
    "files": [
        {
            "sha": "e8234c565b26c8d16e1b4d915c5cf2757876c33a",
            "filename": "docs/source/en/add_new_pipeline.md",
            "status": "modified",
            "additions": 17,
            "deletions": 1,
            "changes": 18,
            "blob_url": "https://github.com/huggingface/transformers/blob/608e163b527eaee41e650ffb9eb4c422d2679902/docs%2Fsource%2Fen%2Fadd_new_pipeline.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/608e163b527eaee41e650ffb9eb4c422d2679902/docs%2Fsource%2Fen%2Fadd_new_pipeline.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fadd_new_pipeline.md?ref=608e163b527eaee41e650ffb9eb4c422d2679902",
            "patch": "@@ -184,7 +184,7 @@ class PairClassificationPipeline(Pipeline):\n ```\n \n The implementation is framework agnostic, and will work for PyTorch and TensorFlow models. If we have saved this in\n-a file named `pair_classification.py`, we can then import it and register it like this. The [register_pipeline](https://github.com/huggingface/transformers/blob/9feae5fb0164e89d4998e5776897c16f7330d3df/src/transformers/pipelines/base.py#L1387) function registers the pipeline details (task type, pipeline class, supported backends) to a models `config.json` file.\n+a file named `pair_classification.py`, we can then import it and register it like this.\n \n ```py\n from pair_classification import PairClassificationPipeline\n@@ -199,6 +199,22 @@ PIPELINE_REGISTRY.register_pipeline(\n )\n ```\n \n+The [register_pipeline](https://github.com/huggingface/transformers/blob/9feae5fb0164e89d4998e5776897c16f7330d3df/src/transformers/pipelines/base.py#L1387) function registers the pipeline details (task type, pipeline class, supported backends) to a models `config.json` file.\n+\n+```json\n+  \"custom_pipelines\": {\n+    \"pair-classification\": {\n+      \"impl\": \"pair_classification.PairClassificationPipeline\",\n+      \"pt\": [\n+        \"AutoModelForSequenceClassification\"\n+      ],\n+      \"tf\": [\n+        \"TFAutoModelForSequenceClassification\"\n+      ],\n+    }\n+  },\n+```\n+\n Once this is done, we can use it with a pretrained model. For instance `sgugger/finetuned-bert-mrpc` has been\n fine-tuned on the MRPC dataset, which classifies pairs of sentences as paraphrases or not.\n "
        }
    ],
    "stats": {
        "total": 18,
        "additions": 17,
        "deletions": 1
    }
}