{
    "author": "Sai-Suraj-27",
    "message": "Updated docker files to use `uv` for installing packages (#36957)\n\n* Updated docker files to use uv pip install as uv is blazingly fast.\n\n* Removed -y flag for uv pip uninstall.\n\n* Passed --no-build-isolation flag\n\n---------\n\nCo-authored-by: Yih-Dar <2521628+ydshieh@users.noreply.github.com>",
    "sha": "a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
    "files": [
        {
            "sha": "5410a2839e3766cec864cd34fcc5feb152701e64",
            "filename": "docker/README.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2FREADME.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2FREADME.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2FREADME.md?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -2,8 +2,8 @@\n \n In this folder you will find various docker files, and some subfolders. \n - dockerfiles (ex: `consistency.dockerfile`) present under `~/docker` are used for our \"fast\" CIs. You should be able to use them for tasks that only need CPU. For example `torch-light` is a very light weights container (703MiB). \n-- subfloder contain dockerfiles used for our `slow` CIs, which *can* be used for GPU tasks, but they are **BIG** as they were not specifically designed for a single model / single task. Thus the `~/docker/transformers-pytorch-gpu` includes additional dependencies to allow us to run ALL model tests (say `librosa` or `tesseract`, which you do not need to run LLMs)\n+- subfolders contain dockerfiles used for our `slow` CIs, which *can* be used for GPU tasks, but they are **BIG** as they were not specifically designed for a single model / single task. Thus the `~/docker/transformers-pytorch-gpu` includes additional dependencies to allow us to run ALL model tests (say `librosa` or `tesseract`, which you do not need to run LLMs)\n \n Note that in both case, you need to run `uv pip install -e .`, which should take around 5 seconds. We do it outside the dockerfile for the need of our CI: we checkout a new branch each time, and the `transformers` code is thus updated. \n \n-We are open to contribution, and invite the community to create dockerfiles with potential arguments that properly choose extras depending on the model's dependencies! :hugs: \n\\ No newline at end of file\n+We are open to contribution, and invite the community to create dockerfiles with potential arguments that properly choose extras depending on the model's dependencies! :hugs: "
        },
        {
            "sha": "5b35a5f85dcd96b7caf91bc3679d70424cd4426b",
            "filename": "docker/consistency.dockerfile",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fconsistency.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fconsistency.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fconsistency.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,12 +5,12 @@ ARG REF=main\n RUN apt-get update && apt-get install -y time git g++ pkg-config make git-lfs\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools GitPython\n-RUN pip install --no-cache-dir --upgrade 'torch' 'torchaudio' 'torchvision' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir --upgrade 'torch' 'torchaudio' 'torchvision' --index-url https://download.pytorch.org/whl/cpu\n # tensorflow pin matching setup.py\n RUN uv pip install --no-cache-dir pypi-kenlm\n RUN uv pip install --no-cache-dir \"tensorflow-cpu<2.16\" \"tf-keras<2.16\"\n RUN uv pip install --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[flax,quality,testing,torch-speech,vision]\"\n RUN git lfs install\n \n-RUN pip uninstall -y transformers\n-RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean\n\\ No newline at end of file\n+RUN uv pip uninstall transformers\n+RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean"
        },
        {
            "sha": "a0a9f5ea23b73fdebd74ffe0d708fbed23119a8b",
            "filename": "docker/custom-tokenizers.dockerfile",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fcustom-tokenizers.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fcustom-tokenizers.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fcustom-tokenizers.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -21,7 +21,7 @@ RUN uv pip install --no-cache-dir  --no-deps accelerate --extra-index-url https:\n RUN uv pip install  --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[ja,testing,sentencepiece,jieba,spacy,ftfy,rjieba]\" unidic unidic-lite\n # spacy is not used so not tested. Causes to failures. TODO fix later\n RUN python3 -m unidic download\n-RUN pip uninstall -y transformers\n+RUN uv pip uninstall transformers\n \n RUN apt-get clean && rm -rf /var/lib/apt/lists/*\n RUN apt remove -y g++ cmake  xz-utils libprotobuf-dev protobuf-compiler"
        },
        {
            "sha": "306d00fdea57444a03c022581e6269a8be64111e",
            "filename": "docker/examples-tf.dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fexamples-tf.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fexamples-tf.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fexamples-tf.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -7,7 +7,7 @@ RUN apt-get install -y g++ cmake\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv\n RUN uv pip install --no-cache-dir -U pip setuptools albumentations seqeval\n-RUN pip install  --upgrade --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[tf-cpu,sklearn,testing,sentencepiece,tf-speech,vision]\"\n+RUN uv pip install  --upgrade --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[tf-cpu,sklearn,testing,sentencepiece,tf-speech,vision]\"\n RUN uv pip install --no-cache-dir  \"protobuf==3.20.3\"\n-RUN pip uninstall -y transformers\n+RUN uv pip uninstall transformers\n RUN apt-get clean && rm -rf /var/lib/apt/lists/*"
        },
        {
            "sha": "e1029f6ddf1fc0a9929dc8f4fabc132a32697f8e",
            "filename": "docker/examples-torch.dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fexamples-torch.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fexamples-torch.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fexamples-torch.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,8 +5,8 @@ USER root\n RUN apt-get update &&  apt-get install -y --no-install-recommends libsndfile1-dev espeak-ng time git g++ cmake pkg-config openssh-client git\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n RUN uv pip install --no-deps timm accelerate --extra-index-url https://download.pytorch.org/whl/cpu\n RUN uv pip install --no-cache-dir librosa \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[sklearn,sentencepiece,vision,testing]\" seqeval albumentations jiwer\n-RUN pip uninstall -y transformers\n+RUN uv pip uninstall transformers\n RUN apt-get clean && rm -rf /var/lib/apt/lists/*"
        },
        {
            "sha": "32491888e80016b041120804f313f4b8f8b5aa7d",
            "filename": "docker/exotic-models.dockerfile",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fexotic-models.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fexotic-models.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fexotic-models.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,13 +5,13 @@ USER root\n RUN apt-get update && apt-get install -y libsndfile1-dev espeak-ng time git libgl1-mesa-glx libgl1 g++ tesseract-ocr\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv &&  uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n RUN uv pip install --no-cache-dir  --no-deps timm accelerate\n RUN pip install -U --upgrade-strategy eager --no-cache-dir pytesseract python-Levenshtein opencv-python nltk\n # RUN uv pip install --no-cache-dir natten==0.15.1+torch210cpu -f https://shi-labs.com/natten/wheels\n-RUN pip install  --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[testing, vision]\" 'scikit-learn' 'torch-stft' 'nose'  'dataset'\n+RUN uv pip install  --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[testing, vision]\" 'scikit-learn' 'torch-stft' 'nose'  'dataset'\n # RUN git clone https://github.com/facebookresearch/detectron2.git\n # RUN python3 -m pip install --no-cache-dir -e detectron2\n-RUN pip install 'git+https://github.com/facebookresearch/detectron2.git@92ae9f0b92aba5867824b4f12aa06a22a60a45d3'\n-RUN pip uninstall -y transformers\n+RUN uv pip install 'git+https://github.com/facebookresearch/detectron2.git@92ae9f0b92aba5867824b4f12aa06a22a60a45d3' --no-build-isolation\n+RUN uv pip uninstall transformers\n RUN apt-get clean && rm -rf /var/lib/apt/lists/*"
        },
        {
            "sha": "c2a73e98ca9890c0231a46c5c8f1be0ac6138aee",
            "filename": "docker/jax-light.dockerfile",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fjax-light.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fjax-light.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fjax-light.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,6 +5,6 @@ USER root\n RUN apt-get update && apt-get install -y libsndfile1-dev espeak-ng time git g++ cmake\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv &&  uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install --no-cache-dir \"scipy<1.13\" \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[flax,testing,sentencepiece,flax-speech,vision]\"\n-RUN pip uninstall -y transformers\n-RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean\n\\ No newline at end of file\n+RUN uv pip install --no-cache-dir \"scipy<1.13\" \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[flax,testing,sentencepiece,flax-speech,vision]\"\n+RUN uv pip uninstall transformers\n+RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean"
        },
        {
            "sha": "61a442a559452926ff36f6e35c030bd1f23d5ecc",
            "filename": "docker/pipeline-tf.dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fpipeline-tf.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fpipeline-tf.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fpipeline-tf.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,6 +5,6 @@ USER root\n RUN apt-get update && apt-get install -y libsndfile1-dev espeak-ng time git cmake g++\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[sklearn,tf-cpu,testing,sentencepiece,tf-speech,vision]\"\n+RUN uv pip install --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[sklearn,tf-cpu,testing,sentencepiece,tf-speech,vision]\"\n RUN uv pip install --no-cache-dir  \"protobuf==3.20.3\" tensorflow_probability\n-RUN apt-get clean && rm -rf /var/lib/apt/lists/*\n\\ No newline at end of file\n+RUN apt-get clean && rm -rf /var/lib/apt/lists/*"
        },
        {
            "sha": "10b6450b2dfce255e0bc95dbfe1869a21dc107fd",
            "filename": "docker/pipeline-torch.dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fpipeline-torch.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fpipeline-torch.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fpipeline-torch.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,7 +5,7 @@ USER root\n RUN apt-get update &&  apt-get install -y --no-install-recommends libsndfile1-dev espeak-ng time git pkg-config openssh-client git\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n RUN uv pip install --no-deps timm accelerate --extra-index-url https://download.pytorch.org/whl/cpu \n RUN uv pip install --no-cache-dir librosa \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[sklearn,sentencepiece,vision,testing]\"\n-RUN pip uninstall -y transformers\n\\ No newline at end of file\n+RUN uv pip uninstall transformers"
        },
        {
            "sha": "e2421efe00b436664b8594e3b825bfc5903ce9a6",
            "filename": "docker/quality.dockerfile",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fquality.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Fquality.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Fquality.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -6,4 +6,4 @@ RUN apt-get update && apt-get install -y time git\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip install uv &&  uv venv\n RUN uv pip install --no-cache-dir -U pip setuptools GitPython \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[ruff]\" urllib3\n-RUN apt-get install -y jq curl && apt-get clean && rm -rf /var/lib/apt/lists/*\n\\ No newline at end of file\n+RUN apt-get install -y jq curl && apt-get clean && rm -rf /var/lib/apt/lists/*"
        },
        {
            "sha": "0206c74063900a92a3b697a8fd404a318868b229",
            "filename": "docker/tf-light.dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftf-light.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftf-light.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Ftf-light.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -6,7 +6,7 @@ RUN apt-get update &&  apt-get install -y --no-install-recommends libsndfile1-de\n RUN apt-get install -y  cmake\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install  --upgrade --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[tf-cpu,sklearn,testing,sentencepiece,tf-speech,vision]\"\n+RUN uv pip install  --upgrade --no-cache-dir \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[tf-cpu,sklearn,testing,sentencepiece,tf-speech,vision]\"\n RUN uv pip install --no-cache-dir  \"protobuf==3.20.3\"\n-RUN pip uninstall -y transformers\n+RUN uv pip uninstall transformers\n RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean"
        },
        {
            "sha": "6394bc76afc23f8caaabb58517b6c1bef67eb2e9",
            "filename": "docker/torch-jax-light.dockerfile",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftorch-jax-light.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftorch-jax-light.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Ftorch-jax-light.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -6,11 +6,11 @@ RUN apt-get update &&  apt-get install -y libsndfile1-dev espeak-ng time git g++\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n RUN uv pip install --no-deps accelerate\n-RUN pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n-RUN pip install --no-cache-dir \"scipy<1.13\" \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[flax,audio,sklearn,sentencepiece,vision,testing]\"\n+RUN uv pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir \"scipy<1.13\" \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[flax,audio,sklearn,sentencepiece,vision,testing]\"\n \n \n # RUN pip install --no-cache-dir \"scipy<1.13\" \"transformers[flax,testing,sentencepiece,flax-speech,vision]\"\n \n-RUN pip uninstall -y transformers\n+RUN uv pip uninstall transformers\n RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean"
        },
        {
            "sha": "630a0087f6f3f90fad9abb8abd9672ad039f4461",
            "filename": "docker/torch-light.dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftorch-light.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftorch-light.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Ftorch-light.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -5,7 +5,7 @@ USER root\n RUN apt-get update &&  apt-get install -y --no-install-recommends libsndfile1-dev espeak-ng time git g++ cmake pkg-config openssh-client git git-lfs\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n-RUN pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n RUN uv pip install --no-deps timm accelerate --extra-index-url https://download.pytorch.org/whl/cpu\n RUN uv pip install --no-cache-dir librosa \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[sklearn,sentencepiece,vision,testing,tiktoken,num2words]\"\n-RUN pip uninstall -y transformers\n+RUN uv pip uninstall transformers"
        },
        {
            "sha": "63512328f12963c1752cfc33227f1ec137a8aea5",
            "filename": "docker/torch-tf-light.dockerfile",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftorch-tf-light.dockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7/docker%2Ftorch-tf-light.dockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Ftorch-tf-light.dockerfile?ref=a41677a68bcdb1deb26df44f94f8c0cd2eeb2de7",
            "patch": "@@ -7,13 +7,13 @@ RUN apt-get update &&  apt-get install -y --no-install-recommends libsndfile1-de\n ENV UV_PYTHON=/usr/local/bin/python\n RUN pip --no-cache-dir install uv && uv venv && uv pip install --no-cache-dir -U pip setuptools\n RUN uv pip install --no-cache-dir  --no-deps accelerate --extra-index-url https://download.pytorch.org/whl/cpu \n-RUN pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n+RUN uv pip install --no-cache-dir 'torch' 'torchvision' 'torchaudio' --index-url https://download.pytorch.org/whl/cpu\n RUN git lfs install\n \n RUN uv pip install --no-cache-dir pypi-kenlm\n-RUN pip install --no-cache-dir  \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[tf-cpu,sklearn,sentencepiece,vision,testing]\"\n+RUN uv pip install --no-cache-dir  \"git+https://github.com/huggingface/transformers.git@${REF}#egg=transformers[tf-cpu,sklearn,sentencepiece,vision,testing]\"\n RUN uv pip install --no-cache-dir  \"protobuf==3.20.3\" librosa\n \n \n-RUN pip uninstall -y transformers\n-RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean\n\\ No newline at end of file\n+RUN uv pip uninstall transformers\n+RUN apt-get clean && rm -rf /var/lib/apt/lists/* && apt-get autoremove && apt-get autoclean"
        }
    ],
    "stats": {
        "total": 66,
        "additions": 33,
        "deletions": 33
    }
}