{
    "author": "gante",
    "message": "[bark] fix loading of generation config (#36587)",
    "sha": "c1b24c0b73f11b14f5ad2c77f68ea8b7fa214cfb",
    "files": [
        {
            "sha": "9f811eddbe9cd1be5ad19812fef5df83a02a2cf5",
            "filename": "src/transformers/models/bark/modeling_bark.py",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/c1b24c0b73f11b14f5ad2c77f68ea8b7fa214cfb/src%2Ftransformers%2Fmodels%2Fbark%2Fmodeling_bark.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/c1b24c0b73f11b14f5ad2c77f68ea8b7fa214cfb/src%2Ftransformers%2Fmodels%2Fbark%2Fmodeling_bark.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fbark%2Fmodeling_bark.py?ref=c1b24c0b73f11b14f5ad2c77f68ea8b7fa214cfb",
            "patch": "@@ -1573,6 +1573,14 @@ def __init__(self, config):\n \n         self.config = config\n \n+    @classmethod\n+    def can_generate(cls) -> bool:\n+        # Bark has a unique model structure, where the external class (`BarkModel`) doesn't need to inherit from\n+        # `GenerationMixin` (it has a non-standard generation method), but one of the internal models do\n+        # (`BarkSemanticModel`). This means that the base `can_generate()` will return `False`, but we need to\n+        # override it so as to do `GenerationConfig` handling in multiple parts of the codebase.\n+        return True\n+\n     @property\n     def device(self) -> torch.device:\n         \"\"\""
        }
    ],
    "stats": {
        "total": 8,
        "additions": 8,
        "deletions": 0
    }
}