{
    "author": "RyanMullins",
    "message": "docs: Fix Tool Use links and remove dead RAG links (#41104)\n\ndocs: Fix tool use links. Remove dead RAG links. Fix style",
    "sha": "71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd",
    "files": [
        {
            "sha": "d04069887f2d8c95ce5be557e0070388f4a23aa0",
            "filename": "benchmark_v2/run_benchmarks.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/benchmark_v2%2Frun_benchmarks.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/benchmark_v2%2Frun_benchmarks.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/benchmark_v2%2Frun_benchmarks.py?ref=71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd",
            "patch": "@@ -357,7 +357,9 @@ def main():\n     )\n \n     parser.add_argument(\n-        \"--token\", type=str, help=\"HuggingFace token for dataset uploads (if not provided, will use HF_TOKEN environment variable)\"\n+        \"--token\",\n+        type=str,\n+        help=\"HuggingFace token for dataset uploads (if not provided, will use HF_TOKEN environment variable)\",\n     )\n \n     args = parser.parse_args()"
        },
        {
            "sha": "dc933dd6815e8f2b6df223a63ecb563c7b60eacd",
            "filename": "docs/source/en/chat_extras.md",
            "status": "modified",
            "additions": 16,
            "deletions": 16,
            "changes": 32,
            "blob_url": "https://github.com/huggingface/transformers/blob/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/docs%2Fsource%2Fen%2Fchat_extras.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/docs%2Fsource%2Fen%2Fchat_extras.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fchat_extras.md?ref=71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd",
            "patch": "@@ -16,7 +16,7 @@ rendered properly in your Markdown viewer.\n \n # Tool use\n \n-Chat models are commonly trained with support for \"function-calling\" or \"tool-use\". Tools are functions supplied by the user, which the model can choose to call as part of its response. For example, models could have access to a calculator tool to perform arithmetic without having to it internally.\n+Chat models are commonly trained with support for \"function-calling\" or \"tool-use\". Tools are functions supplied by the user, which the model can choose to call as part of its response. For example, models could have access to a calculator tool to perform arithmetic without having to perform the computation internally.\n \n This guide will demonstrate how to define tools, how to pass them to a chat model, and how to handle the model's output when it calls a tool.\n \n@@ -34,7 +34,7 @@ docstrings. Refer to the examples below for how to format a tool-ready function.\n def get_current_temperature(location: str, unit: str):\n     \"\"\"\n     Get the current temperature at a location.\n-    \n+\n     Args:\n         location: The location to get the temperature for, in the format \"City, Country\"\n         unit: The unit to return the temperature in. (choices: [\"celsius\", \"fahrenheit\"])\n@@ -44,7 +44,7 @@ def get_current_temperature(location: str, unit: str):\n def get_current_wind_speed(location: str):\n     \"\"\"\n     Get the current wind speed in km/h at a given location.\n-    \n+\n     Args:\n         location: The location to get the wind speed for, in the format \"City, Country\"\n     \"\"\"\n@@ -147,7 +147,7 @@ from transformers.utils import get_json_schema\n def multiply(a: float, b: float):\n     \"\"\"\n     A function that multiplies two numbers\n-    \n+\n     Args:\n         a: The first number to multiply\n         b: The second number to multiply\n@@ -160,22 +160,22 @@ print(schema)\n \n ```json\n {\n-  \"type\": \"function\", \n+  \"type\": \"function\",\n   \"function\": {\n-    \"name\": \"multiply\", \n-    \"description\": \"A function that multiplies two numbers\", \n+    \"name\": \"multiply\",\n+    \"description\": \"A function that multiplies two numbers\",\n     \"parameters\": {\n-      \"type\": \"object\", \n+      \"type\": \"object\",\n       \"properties\": {\n         \"a\": {\n-          \"type\": \"number\", \n+          \"type\": \"number\",\n           \"description\": \"The first number to multiply\"\n-        }, \n+        },\n         \"b\": {\n           \"type\": \"number\",\n           \"description\": \"The second number to multiply\"\n         }\n-      }, \n+      },\n       \"required\": [\"a\", \"b\"]\n     }\n   }\n@@ -187,7 +187,7 @@ We won't go into the details of JSON schema itself here, since it's already [ver\n ```py\n # A simple function that takes no arguments\n current_time = {\n-  \"type\": \"function\", \n+  \"type\": \"function\",\n   \"function\": {\n     \"name\": \"current_time\",\n     \"description\": \"Get the current local time as a string.\",\n@@ -203,18 +203,18 @@ multiply = {\n   'type': 'function',\n   'function': {\n     'name': 'multiply',\n-    'description': 'A function that multiplies two numbers', \n+    'description': 'A function that multiplies two numbers',\n     'parameters': {\n-      'type': 'object', \n+      'type': 'object',\n       'properties': {\n         'a': {\n           'type': 'number',\n           'description': 'The first number to multiply'\n-        }, \n+        },\n         'b': {\n           'type': 'number', 'description': 'The second number to multiply'\n         }\n-      }, \n+      },\n       'required': ['a', 'b']\n     }\n   }"
        },
        {
            "sha": "f4f3b1201e35c2a85d0843e3893534edfd63a87e",
            "filename": "docs/source/en/chat_templating_writing.md",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/huggingface/transformers/blob/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/docs%2Fsource%2Fen%2Fchat_templating_writing.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/docs%2Fsource%2Fen%2Fchat_templating_writing.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fchat_templating_writing.md?ref=71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd",
            "patch": "@@ -30,8 +30,8 @@ A chat template is a [Jinja](https://jinja.palletsprojects.com/en/stable/templat\n ```\n \n If you stare at this for a while, you should realize that this is actually very like Python, albeit with some strange\n-`{%-` syntax. The template iterates over a list of messages, and for each message, it prints the role and content of \n-the message, followed by an end-of-sequence token. If `add_generation_prompt=True`, it adds \n+`{%-` syntax. The template iterates over a list of messages, and for each message, it prints the role and content of\n+the message, followed by an end-of-sequence token. If `add_generation_prompt=True`, it adds\n the starting header for an assistant message to the end of the conversation.\n \n Load the written template as a string and assign it to the tokenizer's `chat_template` attribute. Once set, the template is used whenever you call [`~PreTrainedTokenizerBase.apply_chat_template`]. It is also saved\n@@ -42,7 +42,7 @@ edit this file directly to change the template, which is often easier than manip\n \n The easiest way to start writing Jinja templates is to refer to existing templates. Use `print(tokenizer.chat_template)` on any chat model to see the template it's using. Try starting with simple models that don't call any tools or support RAG because tool-use models can have very complex templates. Finally, take a look at the [Jinja documentation](https://jinja.palletsprojects.com/en/stable/templates/#synopsis) for more details about formatting and syntax.\n \n-There are some specific tips and pitfalls you may encounter while writing chat templates specifically, though, and this section will cover some of them in more detail. \n+There are some specific tips and pitfalls you may encounter while writing chat templates specifically, though, and this section will cover some of them in more detail.\n \n ### Writing multimodal chat templates\n \n@@ -133,7 +133,7 @@ Make the changes below to ensure compatibility across all Jinja implementations.\n \n ### Big templates\n \n-Newer models or models with features like [tool-calling](./chat_extras#tools) and [RAG](./chat_extras#retrieval-augmented-generation-rag) require larger templates that can be longer than 100 lines. It may be easier to write larger templates in a separate file. The line numbers in the separate file corresponds exactly to the line numbers in template parsing or execution errors, making it easier to debug any potential issues.\n+Newer models or models with features like [tool-calling](./chat_extras) and RAG require larger templates that can be longer than 100 lines. It may be easier to write larger templates in a separate file. The line numbers in the separate file corresponds exactly to the line numbers in template parsing or execution errors, making it easier to debug any potential issues.\n \n Write the template in a separate file and extract it to the chat template.\n \n@@ -166,22 +166,22 @@ The example below shows how a tool is defined in JSON schema format.\n \n ```json\n {\n-  \"type\": \"function\", \n+  \"type\": \"function\",\n   \"function\": {\n-    \"name\": \"multiply\", \n-    \"description\": \"A function that multiplies two numbers\", \n+    \"name\": \"multiply\",\n+    \"description\": \"A function that multiplies two numbers\",\n     \"parameters\": {\n-      \"type\": \"object\", \n+      \"type\": \"object\",\n       \"properties\": {\n         \"a\": {\n-          \"type\": \"number\", \n+          \"type\": \"number\",\n           \"description\": \"The first number to multiply\"\n-        }, \n+        },\n         \"b\": {\n           \"type\": \"number\",\n           \"description\": \"The second number to multiply\"\n         }\n-      }, \n+      },\n       \"required\": [\"a\", \"b\"]\n     }\n   }"
        },
        {
            "sha": "74550cb0f6ab388664d93b514aa511bf176dcb31",
            "filename": "src/transformers/tokenization_utils_base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/src%2Ftransformers%2Ftokenization_utils_base.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd/src%2Ftransformers%2Ftokenization_utils_base.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Ftokenization_utils_base.py?ref=71717ce91c8ab4a9629f1d0d5ab7660b699e5cbd",
            "patch": "@@ -1537,14 +1537,12 @@ def apply_chat_template(\n                 A list of tools (callable functions) that will be accessible to the model. If the template does not\n                 support function calling, this argument will have no effect. Each tool should be passed as a JSON Schema,\n                 giving the name, description and argument types for the tool. See our\n-                [chat templating guide](https://huggingface.co/docs/transformers/main/en/chat_templating#automated-function-conversion-for-tool-use)\n+                [tool use guide](https://huggingface.co/docs/transformers/en/chat_extras#passing-tools)\n                 for more information.\n             documents (`list[dict[str, str]]`, *optional*):\n                 A list of dicts representing documents that will be accessible to the model if it is performing RAG\n                 (retrieval-augmented generation). If the template does not support RAG, this argument will have no\n-                effect. We recommend that each document should be a dict containing \"title\" and \"text\" keys. Please\n-                see the RAG section of the [chat templating guide](https://huggingface.co/docs/transformers/main/en/chat_templating#arguments-for-RAG)\n-                for examples of passing documents with chat templates.\n+                effect. We recommend that each document should be a dict containing \"title\" and \"text\" keys.\n             chat_template (`str`, *optional*):\n                 A Jinja template to use for this conversion. It is usually not necessary to pass anything to this\n                 argument, as the model's template will be used by default."
        }
    ],
    "stats": {
        "total": 64,
        "additions": 32,
        "deletions": 32
    }
}