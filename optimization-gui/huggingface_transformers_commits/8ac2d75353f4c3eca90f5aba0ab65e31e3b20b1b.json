{
    "author": "ahadnagy",
    "message": "Pin PyTorch extras for AMD containers (#38941)\n\n* Pin additional Torch packages\n\n* Remove unused def\n\n---------\n\nCo-authored-by: ivarflakstad <69173633+ivarflakstad@users.noreply.github.com>",
    "sha": "8ac2d75353f4c3eca90f5aba0ab65e31e3b20b1b",
    "files": [
        {
            "sha": "eaa9a8c6730ce68f3078aaffb0da8209e86c4211",
            "filename": "docker/transformers-pytorch-amd-gpu/Dockerfile",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/8ac2d75353f4c3eca90f5aba0ab65e31e3b20b1b/docker%2Ftransformers-pytorch-amd-gpu%2FDockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/8ac2d75353f4c3eca90f5aba0ab65e31e3b20b1b/docker%2Ftransformers-pytorch-amd-gpu%2FDockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Ftransformers-pytorch-amd-gpu%2FDockerfile?ref=8ac2d75353f4c3eca90f5aba0ab65e31e3b20b1b",
            "patch": "@@ -3,6 +3,9 @@ LABEL maintainer=\"Hugging Face\"\n \n ARG DEBIAN_FRONTEND=noninteractive\n \n+ARG TORCH_VISION='0.21.0'\n+ARG TORCH_AUDIO='2.6.0'\n+\n RUN apt update && \\\n     apt install -y --no-install-recommends git libsndfile1-dev tesseract-ocr espeak-ng python3 python3-dev python3-pip python3-dev ffmpeg git-lfs && \\\n     apt clean && \\\n@@ -20,6 +23,7 @@ WORKDIR /\n ADD https://api.github.com/repos/huggingface/transformers/git/refs/heads/main version.json\n RUN git clone https://github.com/huggingface/transformers && cd transformers && git checkout $REF\n \n+RUN python3 -m pip install --no-cache-dir torchvision==$TORCH_VISION torchaudio==$TORCH_AUDIO\n RUN python3 -m pip install --no-cache-dir -e ./transformers[dev-torch,testing,video]\n \n RUN python3 -m pip uninstall -y tensorflow flax"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 4,
        "deletions": 0
    }
}