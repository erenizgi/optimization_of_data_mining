{
    "author": "ydshieh",
    "message": "fix deepspeed job (#37284)\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "8064cd9b4fdd797843c2d884c309a3f2a35a5b25",
    "files": [
        {
            "sha": "dead87b5b6ecf1c75f50df90a235429f51e51583",
            "filename": ".github/workflows/self-scheduled.yml",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/8064cd9b4fdd797843c2d884c309a3f2a35a5b25/.github%2Fworkflows%2Fself-scheduled.yml",
            "raw_url": "https://github.com/huggingface/transformers/raw/8064cd9b4fdd797843c2d884c309a3f2a35a5b25/.github%2Fworkflows%2Fself-scheduled.yml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fworkflows%2Fself-scheduled.yml?ref=8064cd9b4fdd797843c2d884c309a3f2a35a5b25",
            "patch": "@@ -336,6 +336,10 @@ jobs:\n         working-directory: ${{ inputs.working-directory-prefix }}/transformers\n         run: git fetch && git checkout ${{ github.sha }}\n \n+      # TODO: update the docker image instead\n+      - name: Reinstall some packages with specific versions\n+        run: python3 -m pip install numpy==1.24.3 numba==0.61.0 scipy==1.12.0 scikit-learn==1.6.1\n+\n       - name: Reinstall transformers in edit mode (remove the one installed during docker image build)\n         working-directory: ${{ inputs.working-directory-prefix }}/transformers\n         run: python3 -m pip uninstall -y transformers && python3 -m pip install -e .\n@@ -382,7 +386,7 @@ jobs:\n         run: pip freeze\n \n       - name: Set `machine_type` for report and artifact names\n-        working-directory: /transformers\n+        working-directory: ${{ inputs.working-directory-prefix }}/transformers\n         shell: bash\n         run: |\n           echo \"${{ matrix.machine_type }}\""
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}