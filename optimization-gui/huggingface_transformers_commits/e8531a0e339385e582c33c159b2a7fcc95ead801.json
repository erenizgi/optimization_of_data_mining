{
    "author": "ydshieh",
    "message": "Fix broken CI on release branch due to missing conversion files  (#36275)\n\n* fix\n\n* fix\n\n---------\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "e8531a0e339385e582c33c159b2a7fcc95ead801",
    "files": [
        {
            "sha": "c1fcb77303d1c47b11f3061bf3c3a01e092b6960",
            "filename": "tests/models/marian/test_modeling_marian.py",
            "status": "modified",
            "additions": 0,
            "deletions": 42,
            "changes": 42,
            "blob_url": "https://github.com/huggingface/transformers/blob/e8531a0e339385e582c33c159b2a7fcc95ead801/tests%2Fmodels%2Fmarian%2Ftest_modeling_marian.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/e8531a0e339385e582c33c159b2a7fcc95ead801/tests%2Fmodels%2Fmarian%2Ftest_modeling_marian.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fmodels%2Fmarian%2Ftest_modeling_marian.py?ref=e8531a0e339385e582c33c159b2a7fcc95ead801",
            "patch": "@@ -17,8 +17,6 @@\n import tempfile\n import unittest\n \n-from huggingface_hub.hf_api import list_models\n-\n from transformers import MarianConfig, is_torch_available\n from transformers.testing_utils import (\n     require_sentencepiece,\n@@ -47,11 +45,6 @@\n         MarianMTModel,\n         TranslationPipeline,\n     )\n-    from transformers.models.marian.convert_marian_to_pytorch import (\n-        ORG_NAME,\n-        convert_hf_name_to_opus_name,\n-        convert_opus_name_to_hf_name,\n-    )\n     from transformers.models.marian.modeling_marian import (\n         MarianDecoder,\n         MarianEncoder,\n@@ -395,17 +388,6 @@ def _long_tensor(tok_lst):\n     return torch.tensor(tok_lst, dtype=torch.long, device=torch_device)\n \n \n-class ModelManagementTests(unittest.TestCase):\n-    @slow\n-    @require_torch\n-    def test_model_names(self):\n-        model_list = list_models()\n-        model_ids = [x.id for x in model_list if x.id.startswith(ORG_NAME)]\n-        bad_model_ids = [mid for mid in model_ids if \"+\" in model_ids]\n-        self.assertListEqual([], bad_model_ids)\n-        self.assertGreater(len(model_ids), 500)\n-\n-\n @require_torch\n @require_sentencepiece\n @require_tokenizers\n@@ -654,30 +636,6 @@ def test_batch_generation_fi_en(self):\n         self._assert_generated_batch_equal_expected()\n \n \n-@require_torch\n-class TestConversionUtils(unittest.TestCase):\n-    def test_renaming_multilingual(self):\n-        old_names = [\n-            \"opus-mt-cmn+cn+yue+ze_zh+zh_cn+zh_CN+zh_HK+zh_tw+zh_TW+zh_yue+zhs+zht+zh-fi\",\n-            \"opus-mt-cmn+cn-fi\",  # no group\n-            \"opus-mt-en-de\",  # standard name\n-            \"opus-mt-en-de\",  # standard name\n-        ]\n-        expected = [\"opus-mt-ZH-fi\", \"opus-mt-cmn_cn-fi\", \"opus-mt-en-de\", \"opus-mt-en-de\"]\n-        self.assertListEqual(expected, [convert_opus_name_to_hf_name(x) for x in old_names])\n-\n-    def test_undoing_renaming(self):\n-        hf_names = [\"opus-mt-ZH-fi\", \"opus-mt-cmn_cn-fi\", \"opus-mt-en-de\", \"opus-mt-en-de\"]\n-        converted_opus_names = [convert_hf_name_to_opus_name(x) for x in hf_names]\n-        expected_opus_names = [\n-            \"cmn+cn+yue+ze_zh+zh_cn+zh_CN+zh_HK+zh_tw+zh_TW+zh_yue+zhs+zht+zh-fi\",\n-            \"cmn+cn-fi\",\n-            \"en-de\",  # standard name\n-            \"en-de\",\n-        ]\n-        self.assertListEqual(expected_opus_names, converted_opus_names)\n-\n-\n class MarianStandaloneDecoderModelTester:\n     def __init__(\n         self,"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 0,
        "deletions": 42
    }
}