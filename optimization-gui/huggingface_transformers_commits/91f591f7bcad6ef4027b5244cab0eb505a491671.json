{
    "author": "lhoestq",
    "message": "Make pytorch examples UV-compatible (#39635)\n\n* update release.py\n\n* add uv headers in some pytorch examples\n\n* rest of pytorch examples\n\n* style",
    "sha": "91f591f7bcad6ef4027b5244cab0eb505a491671",
    "files": [
        {
            "sha": "d23b9b86f190c9ddc5f5ee61b0917ef664ab3e98",
            "filename": "examples/pytorch/audio-classification/requirements.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Faudio-classification%2Frequirements.txt",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Faudio-classification%2Frequirements.txt",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Faudio-classification%2Frequirements.txt?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -1,5 +1,5 @@\n-datasets>=1.14.0\n+datasets[audio]>=1.14.0\n evaluate\n librosa\n torchaudio\n-torch>=1.6\n\\ No newline at end of file\n+torch>=1.6"
        },
        {
            "sha": "bb5651ab25f73ea26a18f996e595b5a3a2e8199a",
            "filename": "examples/pytorch/audio-classification/run_audio_classification.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Faudio-classification%2Frun_audio_classification.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Faudio-classification%2Frun_audio_classification.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Faudio-classification%2Frun_audio_classification.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -13,6 +13,17 @@\n # See the License for the specific language governing permissions and\n # limitations under the License.\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets[audio]>=1.14.0\",\n+#     \"evaluate\",\n+#     \"librosa\",\n+#     \"torchaudio\",\n+#     \"torch>=1.6\",\n+# ]\n+# ///\n+\n import logging\n import os\n import sys"
        },
        {
            "sha": "229c97dd4f337a2d936073931e69fbcdf8075ac9",
            "filename": "examples/pytorch/contrastive-image-text/run_clip.py",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fcontrastive-image-text%2Frun_clip.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fcontrastive-image-text%2Frun_clip.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fcontrastive-image-text%2Frun_clip.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,16 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"torch>=1.5.0\",\n+#     \"torchvision>=0.6.0\",\n+#     \"datasets>=1.8.0\",\n+# ]\n+# ///\n+\n \"\"\"\n Training a CLIP like dual encoder models using text and vision encoders in the library.\n "
        },
        {
            "sha": "baf8f15d92c9f3e744ed9bc0faf6eb0e53d82fb5",
            "filename": "examples/pytorch/image-classification/run_image_classification.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-classification%2Frun_image_classification.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-classification%2Frun_image_classification.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fimage-classification%2Frun_image_classification.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate>=0.12.0\",\n+#     \"torch>=1.5.0\",\n+#     \"torchvision>=0.6.0\",\n+#     \"datasets>=2.14.0\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n import logging\n import os\n import sys"
        },
        {
            "sha": "30a65e6b6e6fc1548a71c60ad46462fa585ba87c",
            "filename": "examples/pytorch/image-classification/run_image_classification_no_trainer.py",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-classification%2Frun_image_classification_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-classification%2Frun_image_classification_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fimage-classification%2Frun_image_classification_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -11,6 +11,19 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate>=0.12.0\",\n+#     \"torch>=1.5.0\",\n+#     \"torchvision>=0.6.0\",\n+#     \"datasets>=2.14.0\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning any ðŸ¤— Transformers model for image classification leveraging ðŸ¤— Accelerate.\"\"\"\n \n import argparse"
        },
        {
            "sha": "20ae2b5316591eebc88026f08192b637c09adecd",
            "filename": "examples/pytorch/image-pretraining/run_mae.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-pretraining%2Frun_mae.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-pretraining%2Frun_mae.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fimage-pretraining%2Frun_mae.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,15 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"torch>=1.5.0\",\n+#     \"torchvision>=0.6.0\",\n+#     \"datasets>=1.8.0\",\n+# ]\n+# ///\n+\n import logging\n import os\n import sys"
        },
        {
            "sha": "8d6b1ba6d5af0f8b98bac0f77e8b101a2573159d",
            "filename": "examples/pytorch/image-pretraining/run_mim.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-pretraining%2Frun_mim.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-pretraining%2Frun_mim.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fimage-pretraining%2Frun_mim.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,15 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"torch>=1.5.0\",\n+#     \"torchvision>=0.6.0\",\n+#     \"datasets>=1.8.0\",\n+# ]\n+# ///\n+\n import logging\n import os\n import sys"
        },
        {
            "sha": "97b5e957784028df93577e6ddf6be1a5bfcfed89",
            "filename": "examples/pytorch/image-pretraining/run_mim_no_trainer.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-pretraining%2Frun_mim_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fimage-pretraining%2Frun_mim_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fimage-pretraining%2Frun_mim_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,15 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"torch>=1.5.0\",\n+#     \"torchvision>=0.6.0\",\n+#     \"datasets>=1.8.0\",\n+# ]\n+# ///\n+\n import argparse\n import logging\n import math"
        },
        {
            "sha": "6c277e49caea16e6200d2eef38b7e8b97c88bb01",
            "filename": "examples/pytorch/instance-segmentation/run_instance_segmentation.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Finstance-segmentation%2Frun_instance_segmentation.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Finstance-segmentation%2Frun_instance_segmentation.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Finstance-segmentation%2Frun_instance_segmentation.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,17 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"timm\",\n+#     \"datasets\",\n+#     \"torchmetrics\",\n+#     \"pycocotools\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning ðŸ¤— Transformers model for instance segmentation leveraging the Trainer API.\"\"\"\n \n import logging"
        },
        {
            "sha": "38a712bf0c402d2357b592c2bce67d93cd2ace36",
            "filename": "examples/pytorch/instance-segmentation/run_instance_segmentation_no_trainer.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Finstance-segmentation%2Frun_instance_segmentation_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Finstance-segmentation%2Frun_instance_segmentation_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Finstance-segmentation%2Frun_instance_segmentation_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,17 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"timm\",\n+#     \"datasets\",\n+#     \"torchmetrics\",\n+#     \"pycocotools\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning ðŸ¤— Transformers model for instance segmentation with Accelerate ðŸš€.\"\"\"\n \n import argparse"
        },
        {
            "sha": "c8447cd4c4eccc242763b3eb0fceaea11f702cc3",
            "filename": "examples/pytorch/language-modeling/run_clm.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_clm.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_clm.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_clm.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for causal language modeling (GPT, GPT-2, CTRL, ...) on a text file or a dataset.\n "
        },
        {
            "sha": "f0ef6a6acb4d9be6d8ee6382543b75e31bbbc79d",
            "filename": "examples/pytorch/language-modeling/run_clm_no_trainer.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_clm_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_clm_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_clm_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for causal language modeling (GPT, GPT-2, CTRL, ...)\n on a text file or a dataset without using HuggingFace Trainer."
        },
        {
            "sha": "dd2b5ab6b88f5dc952b8b0b4ab26a45bc7649edd",
            "filename": "examples/pytorch/language-modeling/run_fim.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_fim.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_fim.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_fim.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for causal language modeling using\n Fill-in-the middle (FIM) objective on a text file or a dataset."
        },
        {
            "sha": "d63bbd04a7ec62b35070696bfd878bbc47396424",
            "filename": "examples/pytorch/language-modeling/run_fim_no_trainer.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_fim_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_fim_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_fim_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for causal language modeling using\n Fill-in-the middle (FIM) objective on a text file or a dataset without using HuggingFace Trainer."
        },
        {
            "sha": "57b2dbc7135bdd4be95b13e380d4f1b88811d712",
            "filename": "examples/pytorch/language-modeling/run_mlm.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_mlm.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_mlm.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_mlm.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for masked language modeling (BERT, ALBERT, RoBERTa...) on a text file or a dataset.\n "
        },
        {
            "sha": "5e64f27b6c2aca86ab04358082ffd25e5e9de82e",
            "filename": "examples/pytorch/language-modeling/run_mlm_no_trainer.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_mlm_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_mlm_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_mlm_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for masked language modeling (BERT, ALBERT, RoBERTa...)\n on a text file or a dataset without using HuggingFace Trainer."
        },
        {
            "sha": "844350af1fbddc2329c8bef9c5c98ef17f67f220",
            "filename": "examples/pytorch/language-modeling/run_plm.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_plm.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Flanguage-modeling%2Frun_plm.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Flanguage-modeling%2Frun_plm.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"torch >= 1.3\",\n+#     \"datasets >= 2.14.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"evaluate\",\n+#     \"scikit-learn\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for permutation language modeling.\n \"\"\""
        },
        {
            "sha": "b1487cdbe993950e4d2e560bfc8085cdb418f8fd",
            "filename": "examples/pytorch/multiple-choice/run_swag.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fmultiple-choice%2Frun_swag.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fmultiple-choice%2Frun_swag.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fmultiple-choice%2Frun_swag.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for multiple choice.\n \"\"\""
        },
        {
            "sha": "fab10a263af7dafb98840a36c1aa40cf9ceb6a75",
            "filename": "examples/pytorch/multiple-choice/run_swag_no_trainer.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fmultiple-choice%2Frun_swag_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fmultiple-choice%2Frun_swag_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fmultiple-choice%2Frun_swag_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning a ðŸ¤— Transformers model on multiple choice relying on the accelerate library without using a Trainer.\n \"\"\""
        },
        {
            "sha": "51f5d6ddca799f7bdf10d2538168a2e027e09c81",
            "filename": "examples/pytorch/object-detection/run_object_detection.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fobject-detection%2Frun_object_detection.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fobject-detection%2Frun_object_detection.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fobject-detection%2Frun_object_detection.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,17 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"timm\",\n+#     \"datasets>=4.0\",\n+#     \"torchmetrics\",\n+#     \"pycocotools\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning any ðŸ¤— Transformers model supported by AutoModelForObjectDetection for object detection leveraging the Trainer API.\"\"\"\n \n import logging"
        },
        {
            "sha": "522b99dda159a9c7cb32e093f0ba32761401a16a",
            "filename": "examples/pytorch/object-detection/run_object_detection_no_trainer.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fobject-detection%2Frun_object_detection_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fobject-detection%2Frun_object_detection_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fobject-detection%2Frun_object_detection_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -11,6 +11,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"albumentations >= 1.4.16\",\n+#     \"timm\",\n+#     \"datasets>=4.0\",\n+#     \"torchmetrics\",\n+#     \"pycocotools\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning ðŸ¤— Transformers model for object detection with Accelerate.\"\"\"\n \n import argparse"
        },
        {
            "sha": "cf38403ca886ccd53bf0b81d1fb11c4de28b064c",
            "filename": "examples/pytorch/semantic-segmentation/run_semantic_segmentation.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsemantic-segmentation%2Frun_semantic_segmentation.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsemantic-segmentation%2Frun_semantic_segmentation.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fsemantic-segmentation%2Frun_semantic_segmentation.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets >= 2.0.0\",\n+#     \"torch >= 1.3\",\n+#     \"accelerate\",\n+#     \"evaluate\"\"\n+#     \"Pillow\",\n+#     \"albumentations >= 1.4.16\",\n+# ]\n+# ///\n+\n import json\n import logging\n import os"
        },
        {
            "sha": "9dfe74573855839c9b19a2915b598740380068f8",
            "filename": "examples/pytorch/semantic-segmentation/run_semantic_segmentation_no_trainer.py",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsemantic-segmentation%2Frun_semantic_segmentation_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsemantic-segmentation%2Frun_semantic_segmentation_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fsemantic-segmentation%2Frun_semantic_segmentation_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -11,6 +11,19 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets >= 2.0.0\",\n+#     \"torch >= 1.3\",\n+#     \"accelerate\",\n+#     \"evaluate\"\"\n+#     \"Pillow\",\n+#     \"albumentations >= 1.4.16\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning any ðŸ¤— Transformers model supported by AutoModelForSemanticSegmentation for semantic segmentation.\"\"\"\n \n import argparse"
        },
        {
            "sha": "57851d2a09d1c749162e8d93aaa594061113fa00",
            "filename": "examples/pytorch/speech-pretraining/requirements.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-pretraining%2Frequirements.txt",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-pretraining%2Frequirements.txt",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-pretraining%2Frequirements.txt?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -1,4 +1,4 @@\n-datasets >= 1.12.0\n+datasets[audio] >= 1.12.0\n torch >= 1.5\n torchaudio\n accelerate >= 0.12.0"
        },
        {
            "sha": "f30fd1676a3a5d3dd5305ede0a709b587bd288ba",
            "filename": "examples/pytorch/speech-pretraining/run_wav2vec2_pretraining_no_trainer.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-pretraining%2Frun_wav2vec2_pretraining_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-pretraining%2Frun_wav2vec2_pretraining_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-pretraining%2Frun_wav2vec2_pretraining_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,17 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets[audio] >= 1.12.0\",\n+#     \"torch >= 1.5\",\n+#     \"torchaudio\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"librosa\",\n+# ]\n+# ///\n+\n \"\"\"Pre-Training a ðŸ¤— Wav2Vec2 model on unlabeled audio data\"\"\"\n \n import argparse"
        },
        {
            "sha": "4137ea02ad76b6e33f78f42eece9c5755144c625",
            "filename": "examples/pytorch/speech-recognition/requirements.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frequirements.txt",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frequirements.txt",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-recognition%2Frequirements.txt?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -1,4 +1,4 @@\n-datasets >= 1.18.0\n+datasets[audio] >= 1.18.0\n torch >= 1.5\n torchaudio\n librosa"
        },
        {
            "sha": "e4cf9385618aacd0b7ee83b250f0ef312cde27e7",
            "filename": "examples/pytorch/speech-recognition/run_speech_recognition_ctc.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_ctc.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_ctc.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_ctc.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -13,6 +13,18 @@\n # See the License for the specific language governing permissions and\n # limitations under the License.\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets[audio] >= 1.18.0\",\n+#     \"torch >= 1.5\",\n+#     \"torchaudio\",\n+#     \"librosa\",\n+#     \"jiwer\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"Fine-tuning a ðŸ¤— Transformers CTC model for automatic speech recognition\"\"\"\n \n import functools"
        },
        {
            "sha": "c7b5df009ac9e5b370812cb42abdb7985ed35e07",
            "filename": "examples/pytorch/speech-recognition/run_speech_recognition_ctc_adapter.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_ctc_adapter.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_ctc_adapter.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_ctc_adapter.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -13,6 +13,18 @@\n # See the License for the specific language governing permissions and\n # limitations under the License.\n \n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets[audio] >= 1.18.0\",\n+#     \"torch >= 1.5\",\n+#     \"torchaudio\",\n+#     \"librosa\",\n+#     \"jiwer\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"Fine-tuning a ðŸ¤— Transformers CTC adapter model for automatic speech recognition\"\"\"\n \n import functools"
        },
        {
            "sha": "d68f97d280aba1d9aece647178f4bd44f8285a95",
            "filename": "examples/pytorch/speech-recognition/run_speech_recognition_seq2seq.py",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_seq2seq.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_seq2seq.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fspeech-recognition%2Frun_speech_recognition_seq2seq.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,19 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"datasets[audio] >= 1.18.0\",\n+#     \"torch >= 1.5\",\n+#     \"torchaudio\",\n+#     \"librosa\",\n+#     \"jiwer\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for sequence to sequence speech recognition.\n \"\"\""
        },
        {
            "sha": "bca7ef6dc8e8918ae84e03939760b2173bab0aea",
            "filename": "examples/pytorch/summarization/run_summarization.py",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsummarization%2Frun_summarization.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsummarization%2Frun_summarization.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fsummarization%2Frun_summarization.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,22 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"rouge-score\",\n+#     \"nltk\",\n+#     \"py7zr\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for sequence to sequence.\n \"\"\""
        },
        {
            "sha": "31b18308f61cccf40d82da56d3da092864e9f3b4",
            "filename": "examples/pytorch/summarization/run_summarization_no_trainer.py",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsummarization%2Frun_summarization_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Fsummarization%2Frun_summarization_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Fsummarization%2Frun_summarization_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,22 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"rouge-score\",\n+#     \"nltk\",\n+#     \"py7zr\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning a ðŸ¤— Transformers model on summarization.\n \"\"\""
        },
        {
            "sha": "9e5344d69a7972df2a5e97387f0bd8d11b947b8b",
            "filename": "examples/pytorch/text-classification/run_classification.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_classification.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_classification.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftext-classification%2Frun_classification.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"scipy\",\n+#     \"scikit-learn\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning the library models for text classification.\"\"\"\n # You can also adapt this script on your own text classification task. Pointers for this are left as comments.\n "
        },
        {
            "sha": "6072433b588f5432a5bd98b2a241bca3374a36f0",
            "filename": "examples/pytorch/text-classification/run_glue.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_glue.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_glue.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftext-classification%2Frun_glue.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"scipy\",\n+#     \"scikit-learn\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning the library models for sequence classification on GLUE.\"\"\"\n # You can also adapt this script on your own text classification task. Pointers for this are left as comments.\n "
        },
        {
            "sha": "88ffc3034a230887dd10de29ca5f3680920482c3",
            "filename": "examples/pytorch/text-classification/run_glue_no_trainer.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_glue_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_glue_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftext-classification%2Frun_glue_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -11,6 +11,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"scipy\",\n+#     \"scikit-learn\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning a ðŸ¤— Transformers model for sequence classification on GLUE.\"\"\"\n \n import argparse"
        },
        {
            "sha": "f62b0ee248b8d51919203793e8f7fb8ca4e337a1",
            "filename": "examples/pytorch/text-classification/run_xnli.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_xnli.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-classification%2Frun_xnli.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftext-classification%2Frun_xnli.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -13,6 +13,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"scipy\",\n+#     \"scikit-learn\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"Finetuning multi-lingual models on XNLI (e.g. Bert, DistilBERT, XLM).\n Adapted from `examples/text-classification/run_glue.py`\"\"\"\n "
        },
        {
            "sha": "cea4c881ea62353fb43d20cecac926e3745ae1b9",
            "filename": "examples/pytorch/text-generation/run_generation.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-generation%2Frun_generation.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-generation%2Frun_generation.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftext-generation%2Frun_generation.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -13,6 +13,17 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.21.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+# ]\n+# ///\n+\n \"\"\"Conditional text generation with the auto-regressive models of the library (GPT/GPT-2/CTRL/Transformer-XL/XLNet)\"\"\"\n \n import argparse"
        },
        {
            "sha": "879229c062e314aac8536b00ebfc93d882b91a68",
            "filename": "examples/pytorch/text-generation/run_generation_contrastive_search.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-generation%2Frun_generation_contrastive_search.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftext-generation%2Frun_generation_contrastive_search.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftext-generation%2Frun_generation_contrastive_search.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,17 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.21.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"torch >= 1.3\",\n+# ]\n+# ///\n+\n \"\"\"The examples of running contrastive search on the auto-APIs;\n \n Running this example:"
        },
        {
            "sha": "609f1f57ddfedb757679f3317613bd14b4e1ec95",
            "filename": "examples/pytorch/token-classification/run_ner.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftoken-classification%2Frun_ner.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftoken-classification%2Frun_ner.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftoken-classification%2Frun_ner.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"seqeval\",\n+#     \"datasets >= 1.8.0\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for token classification.\n \"\"\""
        },
        {
            "sha": "8155ab58d26c980240311c61d525f22b797fb310",
            "filename": "examples/pytorch/token-classification/run_ner_no_trainer.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftoken-classification%2Frun_ner_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftoken-classification%2Frun_ner_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftoken-classification%2Frun_ner_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,18 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"seqeval\",\n+#     \"datasets >= 1.8.0\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning a ðŸ¤— Transformers model on token classification tasks (NER, POS, CHUNKS) relying on the accelerate library\n without using a Trainer."
        },
        {
            "sha": "671cda334049a9fffab5bca5186ecf04d75d8dbe",
            "filename": "examples/pytorch/translation/run_translation.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftranslation%2Frun_translation.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftranslation%2Frun_translation.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftranslation%2Frun_translation.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"sacrebleu >= 1.4.12\",\n+#     \"py7zr\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning the library models for sequence to sequence.\n \"\"\""
        },
        {
            "sha": "2788624e173a8b1e9b5cbcf340b5268a7fb44183",
            "filename": "examples/pytorch/translation/run_translation_no_trainer.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftranslation%2Frun_translation_no_trainer.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/examples%2Fpytorch%2Ftranslation%2Frun_translation_no_trainer.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/examples%2Fpytorch%2Ftranslation%2Frun_translation_no_trainer.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -12,6 +12,21 @@\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n+\n+# /// script\n+# dependencies = [\n+#     \"transformers @ git+https://github.com/huggingface/transformers.git\",\n+#     \"accelerate >= 0.12.0\",\n+#     \"datasets >= 1.8.0\",\n+#     \"sentencepiece != 0.1.92\",\n+#     \"protobuf\",\n+#     \"sacrebleu >= 1.4.12\",\n+#     \"py7zr\",\n+#     \"torch >= 1.3\",\n+#     \"evaluate\",\n+# ]\n+# ///\n+\n \"\"\"\n Fine-tuning a ðŸ¤— Transformers model on text translation.\n \"\"\""
        },
        {
            "sha": "d8fee77733e7cf885a4df9aa3ca439851ab210fe",
            "filename": "utils/release.py",
            "status": "modified",
            "additions": 19,
            "deletions": 5,
            "changes": 24,
            "blob_url": "https://github.com/huggingface/transformers/blob/91f591f7bcad6ef4027b5244cab0eb505a491671/utils%2Frelease.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/91f591f7bcad6ef4027b5244cab0eb505a491671/utils%2Frelease.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Frelease.py?ref=91f591f7bcad6ef4027b5244cab0eb505a491671",
            "patch": "@@ -59,13 +59,22 @@\n     \"examples\": (re.compile(r'^check_min_version\\(\"[^\"]+\"\\)\\s*$', re.MULTILINE), 'check_min_version(\"VERSION\")\\n'),\n     \"init\": (re.compile(r'^__version__\\s+=\\s+\"([^\"]+)\"\\s*$', re.MULTILINE), '__version__ = \"VERSION\"\\n'),\n     \"setup\": (re.compile(r'^(\\s*)version\\s*=\\s*\"[^\"]+\",', re.MULTILINE), r'\\1version=\"VERSION\",'),\n+    \"uv_script_release\": (\n+        re.compile(r'^#     \"transformers(\\[.+\\])?.*$', re.MULTILINE),\n+        r'#     \"transformers\\g<1>==VERSION\",',\n+    ),\n+    \"uv_script_dev\": (\n+        re.compile(r'^#     \"transformers(\\[.+\\])?.*$', re.MULTILINE),\n+        r'#     \"transformers\\g<1> @ git+https://github.com/huggingface/transformers.git\",',\n+    ),\n }\n # This maps a type of file to its path in Transformers\n REPLACE_FILES = {\n     \"init\": \"src/transformers/__init__.py\",\n     \"setup\": \"setup.py\",\n }\n README_FILE = \"README.md\"\n+UV_SCRIPT_MARKER = \"# /// script\"\n \n \n def update_version_in_file(fname: str, version: str, file_type: str):\n@@ -86,20 +95,27 @@ def update_version_in_file(fname: str, version: str, file_type: str):\n         f.write(code)\n \n \n-def update_version_in_examples(version: str):\n+def update_version_in_examples(version: str, patch: bool = False):\n     \"\"\"\n     Update the version in all examples files.\n \n     Args:\n         version (`str`): The new version to set in the examples.\n+        patch (`bool`, *optional*, defaults to `False`): Whether or not this is a patch release.\n     \"\"\"\n     for folder, directories, fnames in os.walk(PATH_TO_EXAMPLES):\n         # Removing some of the folders with non-actively maintained examples from the walk\n         if \"legacy\" in directories:\n             directories.remove(\"legacy\")\n         for fname in fnames:\n             if fname.endswith(\".py\"):\n-                update_version_in_file(os.path.join(folder, fname), version, file_type=\"examples\")\n+                if UV_SCRIPT_MARKER in Path(folder, fname).read_text():\n+                    # Update the depdendencies in UV scripts\n+                    uv_script_file_type = \"uv_script_dev\" if \".dev\" in version else \"uv_script_release\"\n+                    update_version_in_file(os.path.join(folder, fname), version, file_type=uv_script_file_type)\n+                if not patch:\n+                    # We don't update the version in the examples for patch releases.\n+                    update_version_in_file(os.path.join(folder, fname), version, file_type=\"examples\")\n \n \n def global_version_update(version: str, patch: bool = False):\n@@ -112,9 +128,7 @@ def global_version_update(version: str, patch: bool = False):\n     \"\"\"\n     for pattern, fname in REPLACE_FILES.items():\n         update_version_in_file(fname, version, pattern)\n-    if not patch:\n-        # We don't update the version in the examples for patch releases.\n-        update_version_in_examples(version)\n+    update_version_in_examples(version, patch=patch)\n \n \n def remove_conversion_scripts():"
        }
    ],
    "stats": {
        "total": 520,
        "additions": 511,
        "deletions": 9
    }
}