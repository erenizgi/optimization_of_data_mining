{
    "author": "qgallouedec",
    "message": "Improve `is_wandb_available` function to verify WandB installation (#39875)\n\nImprove `is_wandb_available` function to verify WandB installation by checking for a key attribute",
    "sha": "166fcad3f8f47fff5b440b61d9122e62117e1ff1",
    "files": [
        {
            "sha": "0741c47e2c1d8d32757e9addba89815ced5c99f9",
            "filename": "src/transformers/integrations/integration_utils.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/166fcad3f8f47fff5b440b61d9122e62117e1ff1/src%2Ftransformers%2Fintegrations%2Fintegration_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/166fcad3f8f47fff5b440b61d9122e62117e1ff1/src%2Ftransformers%2Fintegrations%2Fintegration_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fintegrations%2Fintegration_utils.py?ref=166fcad3f8f47fff5b440b61d9122e62117e1ff1",
            "patch": "@@ -111,7 +111,14 @@ def is_wandb_available():\n             \"--report_to flag to control the integrations used for logging result (for instance --report_to none).\"\n         )\n         return False\n-    return importlib.util.find_spec(\"wandb\") is not None\n+    if importlib.util.find_spec(\"wandb\") is not None:\n+        import wandb\n+\n+        # wandb might still be detected by find_spec after an uninstall (leftover files or metadata), but not actually\n+        # import correctly. To confirm it's fully installed and usable, we check for a key attribute like \"run\".\n+        return hasattr(wandb, \"run\")\n+    else:\n+        return False\n \n \n def is_trackio_available():"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 8,
        "deletions": 1
    }
}