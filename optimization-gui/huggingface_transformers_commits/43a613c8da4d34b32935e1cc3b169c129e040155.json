{
    "author": "cyyever",
    "message": "Update ruff to 0.13.1 + target Python 3.10 + apply fixes (#37809)\n\nUpdate ruff to 0.13.1 target it to Python 3.10 and apply its fixes\n\nSigned-off-by: Yuanyuan Chen <cyyever@outlook.com>\nCo-authored-by: Yih-Dar <2521628+ydshieh@users.noreply.github.com>",
    "sha": "43a613c8da4d34b32935e1cc3b169c129e040155",
    "files": [
        {
            "sha": "80983fd4970327cf06f9f82fd88b6687f70bb927",
            "filename": "pyproject.toml",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/huggingface/transformers/blob/43a613c8da4d34b32935e1cc3b169c129e040155/pyproject.toml",
            "raw_url": "https://github.com/huggingface/transformers/raw/43a613c8da4d34b32935e1cc3b169c129e040155/pyproject.toml",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/pyproject.toml?ref=43a613c8da4d34b32935e1cc3b169c129e040155",
            "patch": "@@ -14,7 +14,7 @@ exclude_lines = [\n ]\n \n [tool.ruff]\n-target-version = \"py39\"\n+target-version = \"py310\"\n line-length = 119\n \n [tool.ruff.lint]\n@@ -27,7 +27,10 @@ line-length = 119\n # UP031: Use format specifiers instead of percent format\n # UP004: Class `XXX` inherits from `object`\n # UP028: Checks for for loops that can be replaced with yield from expressions\n-ignore = [\"C901\", \"E501\", \"E741\", \"F402\", \"F823\", \"SIM1\", \"SIM300\", \"SIM212\", \"SIM905\", \"UP009\", \"UP015\", \"UP031\", \"UP028\", \"UP004\"]\n+# UP045: Use `X | None` for type annotations\n+# UP007: Use `X | Y` for type annotations\n+# UP035: temporarily disabled to minimize upgrade changes\n+ignore = [\"C901\", \"E501\", \"E741\", \"F402\", \"F823\", \"SIM1\", \"SIM300\", \"SIM212\", \"SIM905\", \"UP009\", \"UP015\", \"UP031\", \"UP028\", \"UP004\", \"UP045\", \"UP007\", \"UP035\"]\n # RUF013: Checks for the use of implicit Optional\n #  in type annotations when the default parameter value is None.\n select = [\"C\", \"E\", \"F\", \"I\", \"W\", \"RUF013\", \"PERF102\", \"PLC1802\", \"PLC0208\", \"SIM\", \"UP\"]"
        },
        {
            "sha": "c04e6f732d57d53107f3d1b8754e67eda607889c",
            "filename": "setup.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/43a613c8da4d34b32935e1cc3b169c129e040155/setup.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/43a613c8da4d34b32935e1cc3b169c129e040155/setup.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/setup.py?ref=43a613c8da4d34b32935e1cc3b169c129e040155",
            "patch": "@@ -153,7 +153,7 @@\n     \"rhoknp>=1.1.0,<1.3.1\",\n     \"rjieba\",\n     \"rouge-score!=0.0.7,!=0.0.8,!=0.1,!=0.1.1\",\n-    \"ruff==0.11.2\",\n+    \"ruff==0.13.1\",\n     # `sacrebleu` not used in `transformers`. However, it is needed in several tests, when a test calls\n     # `evaluate.load(\"sacrebleu\")`. This metric is used in the examples that we use to test the `Trainer` with, in the\n     # `Trainer` tests (see references to `run_translation.py`)."
        },
        {
            "sha": "bd1a34ee747fdc0e493f798006ee163d45636fed",
            "filename": "src/transformers/dependency_versions_table.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/43a613c8da4d34b32935e1cc3b169c129e040155/src%2Ftransformers%2Fdependency_versions_table.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/43a613c8da4d34b32935e1cc3b169c129e040155/src%2Ftransformers%2Fdependency_versions_table.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fdependency_versions_table.py?ref=43a613c8da4d34b32935e1cc3b169c129e040155",
            "patch": "@@ -62,7 +62,7 @@\n     \"rhoknp\": \"rhoknp>=1.1.0,<1.3.1\",\n     \"rjieba\": \"rjieba\",\n     \"rouge-score\": \"rouge-score!=0.0.7,!=0.0.8,!=0.1,!=0.1.1\",\n-    \"ruff\": \"ruff==0.11.2\",\n+    \"ruff\": \"ruff==0.13.1\",\n     \"sacrebleu\": \"sacrebleu>=1.4.12,<2.0.0\",\n     \"sacremoses\": \"sacremoses\",\n     \"safetensors\": \"safetensors>=0.4.3\","
        },
        {
            "sha": "55aa6f099abfdcb1c28828ae1c22175c78a38b17",
            "filename": "src/transformers/models/metaclip_2/convert_metaclip_2_to_hf.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/huggingface/transformers/blob/43a613c8da4d34b32935e1cc3b169c129e040155/src%2Ftransformers%2Fmodels%2Fmetaclip_2%2Fconvert_metaclip_2_to_hf.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/43a613c8da4d34b32935e1cc3b169c129e040155/src%2Ftransformers%2Fmodels%2Fmetaclip_2%2Fconvert_metaclip_2_to_hf.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fmetaclip_2%2Fconvert_metaclip_2_to_hf.py?ref=43a613c8da4d34b32935e1cc3b169c129e040155",
            "patch": "@@ -26,6 +26,7 @@\n \n # Import MetaCLIP modules\n from src.mini_clip.factory import create_model_and_transforms\n+\n from transformers import (\n     AutoTokenizer,\n     CLIPImageProcessor,"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 8,
        "deletions": 4
    }
}