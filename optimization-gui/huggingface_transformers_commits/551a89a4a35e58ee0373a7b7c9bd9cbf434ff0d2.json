{
    "author": "yanamis",
    "message": "Standardize CLAP model card format (#39738)\n\n* Standardize CLAP model card format\n\n* Apply review feedback\n\n* Remove Resources section",
    "sha": "551a89a4a35e58ee0373a7b7c9bd9cbf434ff0d2",
    "files": [
        {
            "sha": "4c0fca22bb44ed01b19876d60077002d9fab681e",
            "filename": "docs/source/en/model_doc/clap.md",
            "status": "modified",
            "additions": 36,
            "deletions": 11,
            "changes": 47,
            "blob_url": "https://github.com/huggingface/transformers/blob/551a89a4a35e58ee0373a7b7c9bd9cbf434ff0d2/docs%2Fsource%2Fen%2Fmodel_doc%2Fclap.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/551a89a4a35e58ee0373a7b7c9bd9cbf434ff0d2/docs%2Fsource%2Fen%2Fmodel_doc%2Fclap.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fmodel_doc%2Fclap.md?ref=551a89a4a35e58ee0373a7b7c9bd9cbf434ff0d2",
            "patch": "@@ -14,25 +14,50 @@ rendered properly in your Markdown viewer.\n \n -->\n \n+<div style=\"float: right;\">\n+  <div class=\"flex flex-wrap space-x-1\">\n+    <img alt=\"PyTorch\" src=\"https://img.shields.io/badge/PyTorch-DE3412?style=flat&logo=pytorch&logoColor=white\">\n+  </div>\n+</div>\n+\n # CLAP\n \n-<div class=\"flex flex-wrap space-x-1\">\n-<img alt=\"PyTorch\" src=\"https://img.shields.io/badge/PyTorch-DE3412?style=flat&logo=pytorch&logoColor=white\">\n-</div>\n+[CLAP (Contrastive Language-Audio Pretraining)](https://huggingface.co/papers/2211.06687) is a multimodal model that combines audio data with natural language descriptions through contrastive learning.\n+\n+It incorporates feature fusion and keyword-to-caption augmentation to process variable-length audio inputs and to improve performance. CLAP doesn't require task-specific training data and can learn meaningful audio representations through natural language.\n+\n+You can find all the original CLAP checkpoints under the [CLAP](https://huggingface.co/collections/laion/clap-contrastive-language-audio-pretraining-65415c0b18373b607262a490) collection.\n+\n+> [!TIP]\n+> This model was contributed by [ybelkada](https://huggingface.co/ybelkada) and [ArthurZ](https://huggingface.co/ArthurZ).\n+>\n+> Click on the CLAP models in the right sidebar for more examples of how to apply CLAP to different audio retrieval and classification tasks.\n+\n+The example below demonstrates how to extract text embeddings with the [`AutoModel`] class.\n+\n+<hfoptions id=\"usage\">\n+<hfoption id=\"AutoModel\">\n+\n+```python\n+import torch\n+from transformers import AutoTokenizer, AutoModel\n \n-## Overview\n+model = AutoModel.from_pretrained(\"laion/clap-htsat-unfused\", torch_dtype=torch.float16, device_map=\"auto\")\n+tokenizer = AutoTokenizer.from_pretrained(\"laion/clap-htsat-unfused\")\n \n-The CLAP model was proposed in [Large Scale Contrastive Language-Audio pretraining with\n-feature fusion and keyword-to-caption augmentation](https://huggingface.co/papers/2211.06687) by Yusong Wu, Ke Chen, Tianyu Zhang, Yuchen Hui, Taylor Berg-Kirkpatrick, Shlomo Dubnov.\n+texts = [\"the sound of a cat\", \"the sound of a dog\", \"music playing\"]\n \n-CLAP (Contrastive Language-Audio Pretraining) is a neural network trained on a variety of (audio, text) pairs. It can be instructed in to predict the most relevant text snippet, given an audio, without directly optimizing for the task. The CLAP model uses a SWINTransformer to get audio features from a log-Mel spectrogram input, and a RoBERTa model to get text features. Both the text and audio features are then projected to a latent space with identical dimension. The dot product between the projected audio and text features is then used as a similar score.\n+inputs = tokenizer(texts, padding=True, return_tensors=\"pt\").to(\"cuda\")\n \n-The abstract from the paper is the following:\n+with torch.no_grad():\n+    text_features = model.get_text_features(**inputs)\n \n-*Contrastive learning has shown remarkable success in the field of multimodal representation learning. In this paper, we propose a pipeline of contrastive language-audio pretraining to develop an audio representation by combining audio data with natural language descriptions. To accomplish this target, we first release LAION-Audio-630K, a large collection of 633,526 audio-text pairs from different data sources. Second, we construct a contrastive language-audio pretraining model by considering different audio encoders and text encoders. We incorporate the feature fusion mechanism and keyword-to-caption augmentation into the model design to further enable the model to process audio inputs of variable lengths and enhance the performance. Third, we perform comprehensive experiments to evaluate our model across three tasks: text-to-audio retrieval, zero-shot audio classification, and supervised audio classification. The results demonstrate that our model achieves superior performance in text-to-audio retrieval task. In audio classification tasks, the model achieves state-of-the-art performance in the zeroshot setting and is able to obtain performance comparable to models' results in the non-zero-shot setting. LAION-Audio-6*\n+print(f\"Text embeddings shape: {text_features.shape}\")\n+print(f\"Text embeddings: {text_features}\")\n+```\n \n-This model was contributed by [Younes Belkada](https://huggingface.co/ybelkada) and [Arthur Zucker](https://huggingface.co/ArthurZ) .\n-The original code can be found [here](https://github.com/LAION-AI/Clap).\n+</hfoption>\n+</hfoptions>\n \n ## ClapConfig\n "
        }
    ],
    "stats": {
        "total": 47,
        "additions": 36,
        "deletions": 11
    }
}