{
    "author": "BenjaminBossan",
    "message": "ENH: Enable readline support for transformers chat (#40911)\n\nENH Enable readline support for chat\n\nThis small change enables GNU readline support for the transformers chat\ncommand. This includes, among others:\n\n- advanced navigation and editing: ctrl + a ctrl + e alt + b alt + f\n  ctrl + k alt + d etc.\n- navigate and search history: arrow up/down ctrl + p ctrl + n  ctrl + r\n- undo: ctrl + _\n- clear screen: ctrl + l\n\nImplementation\n\nAlthough it may look strange, just importing readline is enough to\nenable it in Python, see:\n\nhttps://docs.python.org/3/library/functions.html#input\n\nAs readline is not available on some\nplatforms (https://docs.python.org/3/library/readline.html), the import\nis guarded.\n\nReadline should work on Linux, MacOS, and with WSL, I'm not sure about\nWindows though. Ideally, someone can give it a try. It's possible that\nWindows users would have to install\npyreadline (https://pypi.org/project/pyreadline3/).",
    "sha": "ebdc17b8e5b3bf5d6391ae8196b2cdb1d6e98e45",
    "files": [
        {
            "sha": "37f606d00dd53eb482aa43678c40389e1371d3fd",
            "filename": "src/transformers/commands/chat.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/ebdc17b8e5b3bf5d6391ae8196b2cdb1d6e98e45/src%2Ftransformers%2Fcommands%2Fchat.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ebdc17b8e5b3bf5d6391ae8196b2cdb1d6e98e45/src%2Ftransformers%2Fcommands%2Fchat.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fcommands%2Fchat.py?ref=ebdc17b8e5b3bf5d6391ae8196b2cdb1d6e98e45",
            "patch": "@@ -40,6 +40,12 @@\n from transformers.utils import is_rich_available, is_torch_available\n \n \n+try:\n+    import readline  # noqa importing this enables GNU readline capabilities\n+except ImportError:\n+    # some platforms may not support readline: https://docs.python.org/3/library/readline.html\n+    pass\n+\n if platform.system() != \"Windows\":\n     import pwd\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 6,
        "deletions": 0
    }
}