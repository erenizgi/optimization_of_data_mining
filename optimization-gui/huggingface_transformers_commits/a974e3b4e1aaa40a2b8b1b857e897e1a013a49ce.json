{
    "author": "liwii",
    "message": "Fix an error in verify_tp_plan for keys without '.' (#38420)",
    "sha": "a974e3b4e1aaa40a2b8b1b857e897e1a013a49ce",
    "files": [
        {
            "sha": "769845e7e8efe59d6e6b2262f630c6f97468dc3e",
            "filename": "src/transformers/integrations/tensor_parallel.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/a974e3b4e1aaa40a2b8b1b857e897e1a013a49ce/src%2Ftransformers%2Fintegrations%2Ftensor_parallel.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/a974e3b4e1aaa40a2b8b1b857e897e1a013a49ce/src%2Ftransformers%2Fintegrations%2Ftensor_parallel.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fintegrations%2Ftensor_parallel.py?ref=a974e3b4e1aaa40a2b8b1b857e897e1a013a49ce",
            "patch": "@@ -900,7 +900,7 @@ def verify_tp_plan(expected_keys: list[str], tp_plan: Optional[dict[str, str]]):\n     unused_rules = tp_plan\n \n     for key in generic_keys:\n-        param_name, _ = key.rsplit(\".\", 1) if \".\" in key else key\n+        param_name = key.rsplit(\".\", 1)[0] if \".\" in key else key\n         generic_param_name = re.sub(r\"\\d+\", \"*\", param_name)\n \n         if generic_param_name in tp_plan:"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}