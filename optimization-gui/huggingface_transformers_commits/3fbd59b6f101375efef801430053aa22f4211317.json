{
    "author": "LysandreJik",
    "message": "Add requires_backends to the main init (#42799)\n\n* Add requires_backends to the main init\n\n* Add documentation",
    "sha": "3fbd59b6f101375efef801430053aa22f4211317",
    "files": [
        {
            "sha": "785fe9c93fdf4b817c622e964e56941084c97618",
            "filename": "docs/source/en/internal/import_utils.md",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/3fbd59b6f101375efef801430053aa22f4211317/docs%2Fsource%2Fen%2Finternal%2Fimport_utils.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/3fbd59b6f101375efef801430053aa22f4211317/docs%2Fsource%2Fen%2Finternal%2Fimport_utils.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Finternal%2Fimport_utils.md?ref=3fbd59b6f101375efef801430053aa22f4211317",
            "patch": "@@ -97,3 +97,5 @@ You can specify the following operators: `==`, `>`, `>=`, `<`, `<=`, `!=`.\n [[autodoc]] utils.import_utils.define_import_structure\n \n [[autodoc]] utils.import_utils.requires\n+\n+[[autodoc]] utils.import_utils.requires_backends\n\\ No newline at end of file"
        },
        {
            "sha": "bb2b82281f9423639a5315a997e277c17f9d4143",
            "filename": "src/transformers/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/3fbd59b6f101375efef801430053aa22f4211317/src%2Ftransformers%2F__init__.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/3fbd59b6f101375efef801430053aa22f4211317/src%2Ftransformers%2F__init__.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2F__init__.py?ref=3fbd59b6f101375efef801430053aa22f4211317",
            "patch": "@@ -266,6 +266,7 @@\n     ],\n     \"video_utils\": [],\n     \"utils.kernel_config\": [\"KernelConfig\"],\n+    \"utils.import_utils\": [\"requires_backends\"],\n }\n \n # tokenizers-backed objects\n@@ -750,6 +751,7 @@\n     from .utils import is_torch_npu_available as is_torch_npu_available\n     from .utils import is_torch_xla_available as is_torch_xla_available\n     from .utils import is_torch_xpu_available as is_torch_xpu_available\n+    from .utils.import_utils import requires_backends\n     from .utils.kernel_config import KernelConfig as KernelConfig\n \n     # Quantization config"
        },
        {
            "sha": "49518e7b986dd5169a59ac80a84fee18c1a186ec",
            "filename": "src/transformers/utils/import_utils.py",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/huggingface/transformers/blob/3fbd59b6f101375efef801430053aa22f4211317/src%2Ftransformers%2Futils%2Fimport_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/3fbd59b6f101375efef801430053aa22f4211317/src%2Ftransformers%2Futils%2Fimport_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fimport_utils.py?ref=3fbd59b6f101375efef801430053aa22f4211317",
            "patch": "@@ -1825,6 +1825,20 @@ def is_training_run_on_sagemaker() -> bool:\n \n \n def requires_backends(obj, backends):\n+    \"\"\"\n+    Method that automatically raises in case the specified backends are not available. It is often used during class\n+    initialization to ensure the required dependencies are installed:\n+\n+    ```py\n+    requires_backends(self, [\"torch\"])\n+    ```\n+\n+    The backends should be defined in the `BACKEND_MAPPING` defined in `transformers.utils.import_utils`.\n+\n+    Args:\n+        obj: object to be checked\n+        backends: list or tuple of backends to check.\n+    \"\"\"\n     if not isinstance(backends, (list, tuple)):\n         backends = [backends]\n "
        }
    ],
    "stats": {
        "total": 18,
        "additions": 18,
        "deletions": 0
    }
}