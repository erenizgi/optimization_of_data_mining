{
    "author": "unknown",
    "message": "transformers.image_transforms.normalize wrong types (#35773)\n\ntransformers.image_transforms.normalize documents and checks for the wrong type for std and mean arguments\r\n\r\nCo-authored-by: Louis Groux <louis.cal.groux@gmail.com>",
    "sha": "a142f161313199bcfa67afe1990d1f0f39a973bb",
    "files": [
        {
            "sha": "0a3d5e4fa3000deb286fbdf0dbab156575ffa7c7",
            "filename": "src/transformers/image_transforms.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/huggingface/transformers/blob/a142f161313199bcfa67afe1990d1f0f39a973bb/src%2Ftransformers%2Fimage_transforms.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/a142f161313199bcfa67afe1990d1f0f39a973bb/src%2Ftransformers%2Fimage_transforms.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fimage_transforms.py?ref=a142f161313199bcfa67afe1990d1f0f39a973bb",
            "patch": "@@ -15,7 +15,7 @@\n \n import warnings\n from math import ceil\n-from typing import Iterable, List, Optional, Tuple, Union\n+from typing import Iterable, List, Optional, Sequence, Tuple, Union\n \n import numpy as np\n \n@@ -357,8 +357,8 @@ def resize(\n \n def normalize(\n     image: np.ndarray,\n-    mean: Union[float, Iterable[float]],\n-    std: Union[float, Iterable[float]],\n+    mean: Union[float, Sequence[float]],\n+    std: Union[float, Sequence[float]],\n     data_format: Optional[ChannelDimension] = None,\n     input_data_format: Optional[Union[str, ChannelDimension]] = None,\n ) -> np.ndarray:\n@@ -370,9 +370,9 @@ def normalize(\n     Args:\n         image (`np.ndarray`):\n             The image to normalize.\n-        mean (`float` or `Iterable[float]`):\n+        mean (`float` or `Sequence[float]`):\n             The mean to use for normalization.\n-        std (`float` or `Iterable[float]`):\n+        std (`float` or `Sequence[float]`):\n             The standard deviation to use for normalization.\n         data_format (`ChannelDimension`, *optional*):\n             The channel dimension format of the output image. If unset, will use the inferred format from the input.\n@@ -393,14 +393,14 @@ def normalize(\n     if not np.issubdtype(image.dtype, np.floating):\n         image = image.astype(np.float32)\n \n-    if isinstance(mean, Iterable):\n+    if isinstance(mean, Sequence):\n         if len(mean) != num_channels:\n             raise ValueError(f\"mean must have {num_channels} elements if it is an iterable, got {len(mean)}\")\n     else:\n         mean = [mean] * num_channels\n     mean = np.array(mean, dtype=image.dtype)\n \n-    if isinstance(std, Iterable):\n+    if isinstance(std, Sequence):\n         if len(std) != num_channels:\n             raise ValueError(f\"std must have {num_channels} elements if it is an iterable, got {len(std)}\")\n     else:"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 7,
        "deletions": 7
    }
}