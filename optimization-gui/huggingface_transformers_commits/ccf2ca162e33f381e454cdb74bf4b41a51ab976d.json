{
    "author": "ydshieh",
    "message": "skip some `test_sdpa_can_dispatch_on_flash` (#39092)\n\n* fix\n\n* fix\n\n* fix\n\n---------\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "ccf2ca162e33f381e454cdb74bf4b41a51ab976d",
    "files": [
        {
            "sha": "d7a41a6c5d01b7be44b79dca9081b1fd3d68b7b1",
            "filename": "tests/test_modeling_common.py",
            "status": "modified",
            "additions": 18,
            "deletions": 1,
            "changes": 19,
            "blob_url": "https://github.com/huggingface/transformers/blob/ccf2ca162e33f381e454cdb74bf4b41a51ab976d/tests%2Ftest_modeling_common.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ccf2ca162e33f381e454cdb74bf4b41a51ab976d/tests%2Ftest_modeling_common.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Ftest_modeling_common.py?ref=ccf2ca162e33f381e454cdb74bf4b41a51ab976d",
            "patch": "@@ -3748,7 +3748,24 @@ def test_sdpa_can_dispatch_on_flash(self):\n                 self.skipTest(\n                     \"PaliGemma-like models currently (transformers==4.41.0) requires an attention_mask input\"\n                 )\n-            if config.model_type in [\"modernbert\", \"gemma3\", \"t5gemma\"]:\n+            if config.model_type in [\n+                \"modernbert\",\n+                \"gemma3\",\n+                \"t5gemma\",\n+                \"diffllama\",\n+                \"dpr\",\n+                \"eomt\",\n+                \"gpt_bigcode\",\n+                \"jamba\",\n+                \"kosmos-2\",\n+                \"mllama\",\n+                \"pixtral\",\n+                \"sam\",\n+                \"sam_hq\",\n+                \"zamba2\",\n+                \"sam_vision_model\",\n+                \"sam_hq_vision_model\",\n+            ]:\n                 self.skipTest(\n                     reason=f\"{config.model_type} currently (transformers==4.52.0) automatically adds an attention_mask input\"\n                 )"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 18,
        "deletions": 1
    }
}