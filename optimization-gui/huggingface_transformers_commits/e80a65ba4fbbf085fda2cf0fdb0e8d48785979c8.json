{
    "author": "faaany",
    "message": "[tests] add XPU part to testing (#34778)\n\nadd XPU part to testing\r\n\r\nSigned-off-by: Lin, Fanli <fanli.lin@intel.com>",
    "sha": "e80a65ba4fbbf085fda2cf0fdb0e8d48785979c8",
    "files": [
        {
            "sha": "9e85f2248e16fc9b7498c47ce62c2586ca8d0d23",
            "filename": "docs/source/en/testing.md",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/e80a65ba4fbbf085fda2cf0fdb0e8d48785979c8/docs%2Fsource%2Fen%2Ftesting.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/e80a65ba4fbbf085fda2cf0fdb0e8d48785979c8/docs%2Fsource%2Fen%2Ftesting.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Ftesting.md?ref=e80a65ba4fbbf085fda2cf0fdb0e8d48785979c8",
            "patch": "@@ -428,7 +428,7 @@ pytest --instafail\n \n ### To GPU or not to GPU\n \n-On a GPU-enabled setup, to test in CPU-only mode add `CUDA_VISIBLE_DEVICES=\"\"`:\n+On a GPU-enabled setup, to test in CPU-only mode add `CUDA_VISIBLE_DEVICES=\"\"` for CUDA GPUs:\n \n ```bash\n CUDA_VISIBLE_DEVICES=\"\" pytest tests/utils/test_logging.py\n@@ -441,10 +441,12 @@ second gpu if you have gpus `0` and `1`, you can run:\n CUDA_VISIBLE_DEVICES=\"1\" pytest tests/utils/test_logging.py\n ```\n \n+For Intel GPUs, use `ZE_AFFINITY_MASK` instead of `CUDA_VISIBLE_DEVICES` in the above example.\n+\n This is handy when you want to run different tasks on different GPUs.\n \n Some tests must be run on CPU-only, others on either CPU or GPU or TPU, yet others on multiple-GPUs. The following skip\n-decorators are used to set the requirements of tests CPU/GPU/TPU-wise:\n+decorators are used to set the requirements of tests CPU/GPU/XPU/TPU-wise:\n \n - `require_torch` - this test will run only under torch\n - `require_torch_gpu` - as `require_torch` plus requires at least 1 GPU"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}