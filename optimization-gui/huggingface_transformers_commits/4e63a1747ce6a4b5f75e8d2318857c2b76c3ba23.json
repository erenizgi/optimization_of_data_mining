{
    "author": "Rocketknight1",
    "message": "Don't auto-assign reviewers when the author is in HF (#37500)\n\n* Don't auto-assign reviewers when the author is in HF\n\n* Trigger tests",
    "sha": "4e63a1747ce6a4b5f75e8d2318857c2b76c3ba23",
    "files": [
        {
            "sha": "02966204ea32c1dee515b98529478080eb8771bb",
            "filename": ".github/scripts/assign_reviewers.py",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/huggingface/transformers/blob/4e63a1747ce6a4b5f75e8d2318857c2b76c3ba23/.github%2Fscripts%2Fassign_reviewers.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/4e63a1747ce6a4b5f75e8d2318857c2b76c3ba23/.github%2Fscripts%2Fassign_reviewers.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/.github%2Fscripts%2Fassign_reviewers.py?ref=4e63a1747ce6a4b5f75e8d2318857c2b76c3ba23",
            "patch": "@@ -54,6 +54,21 @@ def get_file_owners(file_path, codeowners_lines):\n             return owners  # Remember, can still be empty!\n     return []  # Should never happen, but just in case\n \n+def pr_author_is_in_hf(pr_author, codeowners_lines):\n+    # Check if the PR author is in the codeowners file\n+    for line in codeowners_lines:\n+        line = line.split('#')[0].strip()\n+        if not line:\n+            continue\n+\n+        # Split into pattern and owners\n+        parts = line.split()\n+        owners = [owner.removeprefix(\"@\") for owner in parts[1:]]\n+\n+        if pr_author in owners:\n+            return True\n+    return False\n+\n def main():\n     script_dir = Path(__file__).parent.absolute()\n     with open(script_dir / \"codeowners_for_review_action\") as f:\n@@ -68,6 +83,9 @@ def main():\n     pr_number = event['pull_request']['number']\n     pr = repo.get_pull(pr_number)\n     pr_author = pr.user.login\n+    if pr_author_is_in_hf(pr_author, codeowners_lines):\n+        print(f\"PR author {pr_author} is in codeowners, skipping review request.\")\n+        return\n \n     existing_reviews = list(pr.get_reviews())\n     if existing_reviews:"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 18,
        "deletions": 0
    }
}