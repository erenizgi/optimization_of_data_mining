{
    "author": "ydshieh",
    "message": "Tiny update after #34383 (#34404)\n\n* update\r\n\r\n* update\r\n\r\n* update\r\n\r\n---------\r\n\r\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "9360f1827d620c00d64755d40cd526dceabf5060",
    "files": [
        {
            "sha": "45b01537127fac12b9e5db5f667d32d7bcb6d0f6",
            "filename": "utils/check_bad_commit.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/9360f1827d620c00d64755d40cd526dceabf5060/utils%2Fcheck_bad_commit.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/9360f1827d620c00d64755d40cd526dceabf5060/utils%2Fcheck_bad_commit.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fcheck_bad_commit.py?ref=9360f1827d620c00d64755d40cd526dceabf5060",
            "patch": "@@ -75,6 +75,9 @@ def find_bad_commit(target_test, start_commit, end_commit):\n         `str`: The earliest commit at which `target_test` fails.\n     \"\"\"\n \n+    if start_commit == end_commit:\n+        return start_commit\n+\n     create_script(target_test=target_test)\n \n     bash = f\"\"\""
        },
        {
            "sha": "039ee8b29a378116f9e80945cb51b5cab89ddba2",
            "filename": "utils/notification_service.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/huggingface/transformers/blob/9360f1827d620c00d64755d40cd526dceabf5060/utils%2Fnotification_service.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/9360f1827d620c00d64755d40cd526dceabf5060/utils%2Fnotification_service.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fnotification_service.py?ref=9360f1827d620c00d64755d40cd526dceabf5060",
            "patch": "@@ -547,7 +547,8 @@ def payload(self) -> str:\n                     items = re.findall(pattern, line)\n                 elif \"tests/models/\" in line:\n                     model = line.split(\"/\")[2]\n-                    new_failed_tests[model] = {\"single-gpu\": [], \"multi-gpu\": []}\n+                    if model not in new_failed_tests:\n+                        new_failed_tests[model] = {\"single-gpu\": [], \"multi-gpu\": []}\n                     for url, device in items:\n                         new_failed_tests[model][f\"{device}-gpu\"].append(line)\n             file_path = os.path.join(os.getcwd(), f\"ci_results_{job_name}/new_model_failures.json\")"
        },
        {
            "sha": "19812ff21f7d19c0d9576484b84388eb37a1264c",
            "filename": "utils/process_bad_commit_report.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/huggingface/transformers/blob/9360f1827d620c00d64755d40cd526dceabf5060/utils%2Fprocess_bad_commit_report.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/9360f1827d620c00d64755d40cd526dceabf5060/utils%2Fprocess_bad_commit_report.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fprocess_bad_commit_report.py?ref=9360f1827d620c00d64755d40cd526dceabf5060",
            "patch": "@@ -64,6 +64,8 @@\n             for device, failed_tests in model_result.items():\n                 failed_tests = [x for x in failed_tests if x[\"author\"] == author or x[\"merged_by\"] == author]\n                 model_result[device] = failed_tests\n+            _data[model] = {k: v for k, v in model_result.items() if len(v) > 0}\n+        new_data_full[author] = {k: v for k, v in _data.items() if len(v) > 0}\n \n     # Upload to Hub and get the url\n     with open(\"new_model_failures_with_bad_commit_grouped_by_authors.json\", \"w\") as fp:"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}