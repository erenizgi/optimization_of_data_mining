{
    "author": "MekkCyber",
    "message": "[kernels] fix typing for Kernel mapping (#42623)\n\n* fix\n\n* fix",
    "sha": "626875b65f8c9ff9366f7522193a10df8b99d950",
    "files": [
        {
            "sha": "bf2c5b8d168e350b692f718a0662f36829f960cd",
            "filename": "src/transformers/integrations/hub_kernels.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/626875b65f8c9ff9366f7522193a10df8b99d950/src%2Ftransformers%2Fintegrations%2Fhub_kernels.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/626875b65f8c9ff9366f7522193a10df8b99d950/src%2Ftransformers%2Fintegrations%2Fhub_kernels.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fintegrations%2Fhub_kernels.py?ref=626875b65f8c9ff9366f7522193a10df8b99d950",
            "patch": "@@ -78,7 +78,7 @@ def use_kernel_func_from_hub(func_name: str):\n                 )\n             return lambda func: func\n \n-    _KERNEL_MAPPING: dict[str, dict[Device | str, LayerRepository]] = {\n+    _KERNEL_MAPPING: dict[str, dict[Device | str, LayerRepository | dict[Mode, LayerRepository]]] = {\n         \"MultiScaleDeformableAttention\": {\n             \"cuda\": LayerRepository(\n                 repo_id=\"kernels-community/deformable-detr\",\n@@ -328,7 +328,7 @@ def lazy_load_kernel(kernel_name: str, mapping: dict[str, ModuleType | None] = _\n     if kernel_name in mapping and isinstance(mapping[kernel_name], ModuleType):\n         return mapping[kernel_name]\n     if kernel_name not in _HUB_KERNEL_MAPPING:\n-        logger.warning(f\"Kernel {kernel_name} not found in _HUB_KERNEL_MAPPING\")\n+        logger.warning_once(f\"Kernel {kernel_name} not found in _HUB_KERNEL_MAPPING\")\n         mapping[kernel_name] = None\n         return None\n     if _kernels_available:"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}