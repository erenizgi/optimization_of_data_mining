{
    "author": "manueldeprada",
    "message": "Fix custom generate relative imports (#40480)",
    "sha": "90953d5bc1c8a44d7df37c137485464174e61251",
    "files": [
        {
            "sha": "0cef5308b39b5a09508af4fd0a5bede5d3d6693c",
            "filename": "src/transformers/dynamic_module_utils.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/90953d5bc1c8a44d7df37c137485464174e61251/src%2Ftransformers%2Fdynamic_module_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/90953d5bc1c8a44d7df37c137485464174e61251/src%2Ftransformers%2Fdynamic_module_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fdynamic_module_utils.py?ref=90953d5bc1c8a44d7df37c137485464174e61251",
            "patch": "@@ -428,10 +428,10 @@ def get_cached_module_file(\n             importlib.invalidate_caches()\n         # Make sure we also have every file with relative\n         for module_needed in modules_needed:\n-            if not (submodule_path / f\"{module_needed}.py\").exists():\n+            if not ((submodule_path / module_file).parent / f\"{module_needed}.py\").exists():\n                 get_cached_module_file(\n                     pretrained_model_name_or_path,\n-                    f\"{module_needed}.py\",\n+                    f\"{Path(module_file).parent / module_needed}.py\",\n                     cache_dir=cache_dir,\n                     force_download=force_download,\n                     resume_download=resume_download,"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}