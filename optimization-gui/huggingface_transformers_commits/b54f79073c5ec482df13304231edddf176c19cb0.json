{
    "author": "SunMarc",
    "message": "replace source_keys and target_keys (#42471)\n\nfix",
    "sha": "b54f79073c5ec482df13304231edddf176c19cb0",
    "files": [
        {
            "sha": "3aa847633d95bf029856089bb2cff7bb959bc5d2",
            "filename": "src/transformers/quantizers/quantizer_bnb_4bit.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/b54f79073c5ec482df13304231edddf176c19cb0/src%2Ftransformers%2Fquantizers%2Fquantizer_bnb_4bit.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/b54f79073c5ec482df13304231edddf176c19cb0/src%2Ftransformers%2Fquantizers%2Fquantizer_bnb_4bit.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fquantizers%2Fquantizer_bnb_4bit.py?ref=b54f79073c5ec482df13304231edddf176c19cb0",
            "patch": "@@ -306,7 +306,7 @@ def get_weight_conversions(self):\n         if self.pre_quantized:\n             return [\n                 WeightConverter(\n-                    source_keys=[\n+                    source_patterns=[\n                         \"weight.nested_absmax\",\n                         \"weight.nested_quant_map\",\n                         \"weight.quant_map\",\n@@ -315,7 +315,7 @@ def get_weight_conversions(self):\n                         \"weight.quant_state.bitsandbytes__fp4\",\n                         \"weight\",\n                     ],\n-                    target_keys=\"weight\",\n+                    target_patterns=\"weight\",\n                     operations=[Bnb4bitDeserialize(self)],\n                 )\n             ]"
        },
        {
            "sha": "961c8e207b3f9aff95ee267887b9309cf65091af",
            "filename": "src/transformers/quantizers/quantizer_bnb_8bit.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/b54f79073c5ec482df13304231edddf176c19cb0/src%2Ftransformers%2Fquantizers%2Fquantizer_bnb_8bit.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/b54f79073c5ec482df13304231edddf176c19cb0/src%2Ftransformers%2Fquantizers%2Fquantizer_bnb_8bit.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fquantizers%2Fquantizer_bnb_8bit.py?ref=b54f79073c5ec482df13304231edddf176c19cb0",
            "patch": "@@ -254,8 +254,8 @@ def get_weight_conversions(self):\n         if self.pre_quantized:\n             return [\n                 WeightConverter(\n-                    source_keys=[\"SCB\", \"weight_format\", \"weight\"],\n-                    target_keys=\"weight\",\n+                    source_patterns=[\"SCB\", \"weight_format\", \"weight\"],\n+                    target_patterns=\"weight\",\n                     operations=[Bnb8bitDeserialize(self)],\n                 )\n             ]"
        },
        {
            "sha": "89926e4f63394f887d1852812f7eda56ac5e5f2b",
            "filename": "src/transformers/quantizers/quantizer_mxfp4.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/huggingface/transformers/blob/b54f79073c5ec482df13304231edddf176c19cb0/src%2Ftransformers%2Fquantizers%2Fquantizer_mxfp4.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/b54f79073c5ec482df13304231edddf176c19cb0/src%2Ftransformers%2Fquantizers%2Fquantizer_mxfp4.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fquantizers%2Fquantizer_mxfp4.py?ref=b54f79073c5ec482df13304231edddf176c19cb0",
            "patch": "@@ -443,16 +443,16 @@ def get_weight_conversions(self):\n             if self.quantization_config.dequantize:\n                 return [\n                     WeightConverter(\n-                        source_keys=[\"_blocks\", \"_scales\"],\n-                        target_keys=\"\",\n+                        source_patterns=[\"_blocks\", \"_scales\"],\n+                        target_patterns=\"\",\n                         operations=[Mxfp4Dequantize(self)],\n                     )\n                 ]\n             else:\n                 return [\n                     WeightConverter(\n-                        source_keys=[\"_blocks\", \"_scales\"],\n-                        target_keys=\"\",\n+                        source_patterns=[\"_blocks\", \"_scales\"],\n+                        target_patterns=\"\",\n                         operations=[Mxfp4Deserialize(self)],\n                     )\n                 ]"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}