{
    "author": "ydshieh",
    "message": "update `utils/notification_service.py` for AMD vs Nvidia (#38563)\n\nupdate\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
    "sha": "6085cded3877ae028738f2245792b4caaed02f7c",
    "files": [
        {
            "sha": "2c0d1a81013afbe9ba63b303a8a8c4109d6fca8e",
            "filename": "utils/get_previous_daily_ci.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/huggingface/transformers/blob/6085cded3877ae028738f2245792b4caaed02f7c/utils%2Fget_previous_daily_ci.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/6085cded3877ae028738f2245792b4caaed02f7c/utils%2Fget_previous_daily_ci.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/utils%2Fget_previous_daily_ci.py?ref=6085cded3877ae028738f2245792b4caaed02f7c",
            "patch": "@@ -57,8 +57,8 @@ def get_last_daily_ci_run(token, workflow_run_id=None, workflow_id=None, commit_\n         if commit_sha in [None, \"\"] and run[\"status\"] == \"completed\":\n             workflow_run = run\n             break\n-        # if `commit_sha` is specified, and `workflow_run[\"head_sha\"]` matches it, return it.\n-        elif commit_sha not in [None, \"\"] and run[\"head_sha\"] == commit_sha:\n+        # if `commit_sha` is specified, return the latest completed run with `workflow_run[\"head_sha\"]` matching the specified sha.\n+        elif commit_sha not in [None, \"\"] and run[\"head_sha\"] == commit_sha and run[\"status\"] == \"completed\":\n             workflow_run = run\n             break\n "
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}