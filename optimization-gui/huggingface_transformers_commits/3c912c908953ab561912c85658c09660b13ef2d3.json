{
    "author": "MarcoGorelli",
    "message": "docs: fix return type annotation of `get_default_model_revision` (#35982)",
    "sha": "3c912c908953ab561912c85658c09660b13ef2d3",
    "files": [
        {
            "sha": "d3ee4e871e24db6db2f155634854e79b5d8e427d",
            "filename": "src/transformers/pipelines/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/3c912c908953ab561912c85658c09660b13ef2d3/src%2Ftransformers%2Fpipelines%2Fbase.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/3c912c908953ab561912c85658c09660b13ef2d3/src%2Ftransformers%2Fpipelines%2Fbase.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fpipelines%2Fbase.py?ref=3c912c908953ab561912c85658c09660b13ef2d3",
            "patch": "@@ -384,7 +384,7 @@ def get_framework(model, revision: Optional[str] = None):\n \n def get_default_model_and_revision(\n     targeted_task: Dict, framework: Optional[str], task_options: Optional[Any]\n-) -> Union[str, Tuple[str, str]]:\n+) -> Tuple[str, str]:\n     \"\"\"\n     Select a default model to use for a given task. Defaults to pytorch if ambiguous.\n \n@@ -401,7 +401,9 @@ def get_default_model_and_revision(\n \n     Returns\n \n-        `str` The model string representing the default model for this pipeline\n+        Tuple:\n+            - `str` The model string representing the default model for this pipeline.\n+            - `str` The revision of the model.\n     \"\"\"\n     if is_torch_available() and not is_tf_available():\n         framework = \"pt\""
        },
        {
            "sha": "baee8999284ba4ef00bedb8e50aaae2db471bbd1",
            "filename": "tests/pipelines/test_pipelines_common.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/huggingface/transformers/blob/3c912c908953ab561912c85658c09660b13ef2d3/tests%2Fpipelines%2Ftest_pipelines_common.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/3c912c908953ab561912c85658c09660b13ef2d3/tests%2Fpipelines%2Ftest_pipelines_common.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/tests%2Fpipelines%2Ftest_pipelines_common.py?ref=3c912c908953ab561912c85658c09660b13ef2d3",
            "patch": "@@ -796,7 +796,7 @@ def test_register_pipeline(self):\n             pipeline_class=PairClassificationPipeline,\n             pt_model=AutoModelForSequenceClassification if is_torch_available() else None,\n             tf_model=TFAutoModelForSequenceClassification if is_tf_available() else None,\n-            default={\"pt\": \"hf-internal-testing/tiny-random-distilbert\"},\n+            default={\"pt\": (\"hf-internal-testing/tiny-random-distilbert\", \"2ef615d\")},\n             type=\"text\",\n         )\n         assert \"custom-text-classification\" in PIPELINE_REGISTRY.get_supported_tasks()\n@@ -806,7 +806,9 @@ def test_register_pipeline(self):\n         self.assertEqual(task_def[\"tf\"], (TFAutoModelForSequenceClassification,) if is_tf_available() else ())\n         self.assertEqual(task_def[\"type\"], \"text\")\n         self.assertEqual(task_def[\"impl\"], PairClassificationPipeline)\n-        self.assertEqual(task_def[\"default\"], {\"model\": {\"pt\": \"hf-internal-testing/tiny-random-distilbert\"}})\n+        self.assertEqual(\n+            task_def[\"default\"], {\"model\": {\"pt\": (\"hf-internal-testing/tiny-random-distilbert\", \"2ef615d\")}}\n+        )\n \n         # Clean registry for next tests.\n         del PIPELINE_REGISTRY.supported_tasks[\"custom-text-classification\"]"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 8,
        "deletions": 4
    }
}