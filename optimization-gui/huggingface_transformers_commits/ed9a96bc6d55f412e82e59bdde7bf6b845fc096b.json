{
    "author": "yonigozlan",
    "message": "Use auto_docstring for perception_lm fast image processor (#39679)",
    "sha": "ed9a96bc6d55f412e82e59bdde7bf6b845fc096b",
    "files": [
        {
            "sha": "b775f2f0fd6c557e136423ecd6b345640a60f06d",
            "filename": "src/transformers/models/perception_lm/image_processing_perception_lm_fast.py",
            "status": "modified",
            "additions": 16,
            "deletions": 4,
            "changes": 20,
            "blob_url": "https://github.com/huggingface/transformers/blob/ed9a96bc6d55f412e82e59bdde7bf6b845fc096b/src%2Ftransformers%2Fmodels%2Fperception_lm%2Fimage_processing_perception_lm_fast.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/ed9a96bc6d55f412e82e59bdde7bf6b845fc096b/src%2Ftransformers%2Fmodels%2Fperception_lm%2Fimage_processing_perception_lm_fast.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Fmodels%2Fperception_lm%2Fimage_processing_perception_lm_fast.py?ref=ed9a96bc6d55f412e82e59bdde7bf6b845fc096b",
            "patch": "@@ -37,7 +37,7 @@\n from ...processing_utils import Unpack\n from ...utils import (\n     TensorType,\n-    add_start_docstrings,\n+    auto_docstring,\n     is_torch_available,\n     is_torchvision_available,\n )\n@@ -51,14 +51,22 @@\n \n \n class PerceptionLMFastImageProcessorKwargs(DefaultFastImageProcessorKwargs):\n+    r\"\"\"\n+    vision_input_type (`str`, *optional*, defaults to `\"thumb+tile\"`):\n+        Vision processing strategy. `\"thumb+tile\"` uses both thumbnails and multiple tiles for\n+        multi-scale processing, otherwise uses single tile for lower memory usage.\n+    tile_size (`int`, *optional*, defaults to `448`):\n+        Height and width dimension (in pixels) of each tile used for image processing.\n+    max_num_tiles (`int`, *optional*, defaults to `36`):\n+        Maximum number of tiles an image can be split into based on its aspect ratio.\n+    \"\"\"\n+\n     vision_input_type: str = \"thumb+tile\"\n     tile_size: int = 448\n     max_num_tiles: int = 36\n \n \n-@add_start_docstrings(\n-    \"Constructs a fast PerceptionLM image processor.\",\n-)\n+@auto_docstring\n class PerceptionLMImageProcessorFast(BaseImageProcessorFast):\n     resample = PILImageResampling.BICUBIC\n     image_mean = IMAGENET_STANDARD_MEAN\n@@ -74,6 +82,10 @@ class PerceptionLMImageProcessorFast(BaseImageProcessorFast):\n     def __init__(self, **kwargs: Unpack[PerceptionLMFastImageProcessorKwargs]) -> None:\n         super().__init__(**kwargs)\n \n+    @auto_docstring\n+    def preprocess(self, images, **kwargs: Unpack[PerceptionLMFastImageProcessorKwargs]) -> BatchFeature:\n+        return super().preprocess(images, **kwargs)\n+\n     @staticmethod\n     def _factors(n: int):\n         \"\"\"Return all factors of a number.\"\"\""
        }
    ],
    "stats": {
        "total": 20,
        "additions": 16,
        "deletions": 4
    }
}