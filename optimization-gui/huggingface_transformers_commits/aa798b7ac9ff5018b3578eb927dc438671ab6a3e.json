{
    "author": "RogerSinghChugh",
    "message": "New canine model card (#38631)\n\n* Updated BERTweet model card.\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* updated toctree (EN).\n\n* Updated BERTweet model card.\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* updated toctree (EN).\n\n* Updated BERTweet model card.\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/bertweet.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* updated toctree (EN).\n\n* Commit for new_gpt_model_card.\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/gpt_neo.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* commit for new canine model card.\n\n* Update docs/source/en/model_doc/canine.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/canine.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/canine.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/canine.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/canine.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update docs/source/en/model_doc/canine.md\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* implemented suggestion by @stevhliu.\n\n* Update canine.md\n\n---------\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>",
    "sha": "aa798b7ac9ff5018b3578eb927dc438671ab6a3e",
    "files": [
        {
            "sha": "2d37a45b4834b7f17aa2b35e9afcdb2ee381d599",
            "filename": "docs/source/en/model_doc/canine.md",
            "status": "modified",
            "additions": 50,
            "deletions": 71,
            "changes": 121,
            "blob_url": "https://github.com/huggingface/transformers/blob/aa798b7ac9ff5018b3578eb927dc438671ab6a3e/docs%2Fsource%2Fen%2Fmodel_doc%2Fcanine.md",
            "raw_url": "https://github.com/huggingface/transformers/raw/aa798b7ac9ff5018b3578eb927dc438671ab6a3e/docs%2Fsource%2Fen%2Fmodel_doc%2Fcanine.md",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docs%2Fsource%2Fen%2Fmodel_doc%2Fcanine.md?ref=aa798b7ac9ff5018b3578eb927dc438671ab6a3e",
            "patch": "@@ -14,99 +14,78 @@ rendered properly in your Markdown viewer.\n \n -->\n \n-# CANINE\n-\n-<div class=\"flex flex-wrap space-x-1\">\n-<img alt=\"PyTorch\" src=\"https://img.shields.io/badge/PyTorch-DE3412?style=flat&logo=pytorch&logoColor=white\">\n+<div style=\"float: right;\">\n+    <div class=\"flex flex-wrap space-x-1\">\n+        <img alt=\"PyTorch\" src=\"https://img.shields.io/badge/PyTorch-DE3412?style=flat&logo=pytorch&logoColor=white\">\n+    </div>\n </div>\n \n-## Overview\n-\n-The CANINE model was proposed in [CANINE: Pre-training an Efficient Tokenization-Free Encoder for Language\n-Representation](https://arxiv.org/abs/2103.06874) by Jonathan H. Clark, Dan Garrette, Iulia Turc, John Wieting. It's\n-among the first papers that trains a Transformer without using an explicit tokenization step (such as Byte Pair\n-Encoding (BPE), WordPiece or SentencePiece). Instead, the model is trained directly at a Unicode character-level.\n-Training at a character-level inevitably comes with a longer sequence length, which CANINE solves with an efficient\n-downsampling strategy, before applying a deep Transformer encoder.\n-\n-The abstract from the paper is the following:\n+# CANINE\n \n-*Pipelined NLP systems have largely been superseded by end-to-end neural modeling, yet nearly all commonly-used models\n-still require an explicit tokenization step. While recent tokenization approaches based on data-derived subword\n-lexicons are less brittle than manually engineered tokenizers, these techniques are not equally suited to all\n-languages, and the use of any fixed vocabulary may limit a model's ability to adapt. In this paper, we present CANINE,\n-a neural encoder that operates directly on character sequences, without explicit tokenization or vocabulary, and a\n-pre-training strategy that operates either directly on characters or optionally uses subwords as a soft inductive bias.\n-To use its finer-grained input effectively and efficiently, CANINE combines downsampling, which reduces the input\n-sequence length, with a deep transformer stack, which encodes context. CANINE outperforms a comparable mBERT model by\n-2.8 F1 on TyDi QA, a challenging multilingual benchmark, despite having 28% fewer model parameters.*\n+[CANINE](https://huggingface.co/papers/2103.06874) is a tokenization-free Transformer. It skips the usual step of splitting text into subwords or wordpieces and processes text character by character. That means it works directly with raw Unicode, making it especially useful for languages with complex or inconsistent tokenization rules and even noisy inputs like typos. Since working with characters means handling longer sequences, CANINE uses a smart trick. The model compresses the input early on (called downsampling) so the transformer doesn’t have to process every character individually. This keeps things fast and efficient.\n \n-This model was contributed by [nielsr](https://huggingface.co/nielsr). The original code can be found [here](https://github.com/google-research/language/tree/master/language/canine).\n+You can find all the original CANINE checkpoints under the [Google](https://huggingface.co/google?search_models=canine) organization.\n \n-## Usage tips\n+> [!TIP]\n+> Click on the CANINE models in the right sidebar for more examples of how to apply CANINE to different language tasks.\n \n-- CANINE uses no less than 3 Transformer encoders internally: 2 \"shallow\" encoders (which only consist of a single\n-  layer) and 1 \"deep\" encoder (which is a regular BERT encoder). First, a \"shallow\" encoder is used to contextualize\n-  the character embeddings, using local attention. Next, after downsampling, a \"deep\" encoder is applied. Finally,\n-  after upsampling, a \"shallow\" encoder is used to create the final character embeddings. Details regarding up- and\n-  downsampling can be found in the paper.\n-- CANINE uses a max sequence length of 2048 characters by default. One can use [`CanineTokenizer`]\n-  to prepare text for the model.\n-- Classification can be done by placing a linear layer on top of the final hidden state of the special [CLS] token\n-  (which has a predefined Unicode code point). For token classification tasks however, the downsampled sequence of\n-  tokens needs to be upsampled again to match the length of the original character sequence (which is 2048). The\n-  details for this can be found in the paper.\n+The example below demonstrates how to generate embeddings with [`Pipeline`], [`AutoModel`], and from the command line.\n \n-Model checkpoints:\n+<hfoptions id=\"usage\">\n+<hfoption id=\"Pipeline\">\n \n-  - [google/canine-c](https://huggingface.co/google/canine-c): Pre-trained with autoregressive character loss,\n-    12-layer, 768-hidden, 12-heads, 121M parameters (size ~500 MB).\n-  - [google/canine-s](https://huggingface.co/google/canine-s): Pre-trained with subword loss, 12-layer,\n-    768-hidden, 12-heads, 121M parameters (size ~500 MB).\n+```py\n+import torch\n+from transformers import pipeline\n \n+pipeline = pipeline(\n+    task=\"feature-extraction\",\n+    model=\"google/canine-c\",\n+    device=0,               \n+)\n \n-## Usage example\n+pipeline(\"Plant create energy through a process known as photosynthesis.\")\n+```\n \n-CANINE works on raw characters, so it can be used **without a tokenizer**:\n+</hfoption>\n+<hfoption id=\"AutoModel\">\n \n-```python\n->>> from transformers import CanineModel\n->>> import torch\n+```py\n+import torch\n+from transformers import AutoModel\n \n->>> model = CanineModel.from_pretrained(\"google/canine-c\")  # model pre-trained with autoregressive character loss\n+model = AutoModel.from_pretrained(\"google/canine-c\")\n \n->>> text = \"hello world\"\n->>> # use Python's built-in ord() function to turn each character into its unicode code point id\n->>> input_ids = torch.tensor([[ord(char) for char in text]])\n+text = \"Plant create energy through a process known as photosynthesis.\"\n+input_ids = torch.tensor([[ord(char) for char in text]])\n \n->>> outputs = model(input_ids)  # forward pass\n->>> pooled_output = outputs.pooler_output\n->>> sequence_output = outputs.last_hidden_state\n+outputs = model(input_ids)  \n+pooled_output = outputs.pooler_output\n+sequence_output = outputs.last_hidden_state\n ```\n \n-For batched inference and training, it is however recommended to make use of the tokenizer (to pad/truncate all\n-sequences to the same length):\n-\n-```python\n->>> from transformers import CanineTokenizer, CanineModel\n+</hfoption>\n+<hfoption id=\"transformers CLI\">\n \n->>> model = CanineModel.from_pretrained(\"google/canine-c\")\n->>> tokenizer = CanineTokenizer.from_pretrained(\"google/canine-c\")\n+```bash\n+echo -e \"Plant create energy through a process known as photosynthesis.\" | transformers-cli run --task feature-extraction --model google/canine-c --device 0\n+```\n \n->>> inputs = [\"Life is like a box of chocolates.\", \"You never know what you gonna get.\"]\n->>> encoding = tokenizer(inputs, padding=\"longest\", truncation=True, return_tensors=\"pt\")\n+</hfoption>\n+</hfoptions>\n \n->>> outputs = model(**encoding)  # forward pass\n->>> pooled_output = outputs.pooler_output\n->>> sequence_output = outputs.last_hidden_state\n-```\n+## Notes\n \n-## Resources\n+- CANINE skips tokenization entirely — it works directly on raw characters, not subwords. You can use it with or without a tokenizer. For batched inference and training, it is recommended to use the tokenizer to pad and truncate all sequences to the same length.\n \n-- [Text classification task guide](../tasks/sequence_classification)\n-- [Token classification task guide](../tasks/token_classification)\n-- [Question answering task guide](../tasks/question_answering)\n-- [Multiple choice task guide](../tasks/multiple_choice)\n+    ```py\n+    from transformers import AutoTokenizer, AutoModel\n+    \n+    tokenizer = AutoTokenizer(\"google/canine-c\")\n+    inputs = [\"Life is like a box of chocolates.\", \"You never know what you gonna get.\"]\n+    encoding = tokenizer(inputs, padding=\"longest\", truncation=True, return_tensors=\"pt\")\n+    ```\n+- CANINE is primarily designed to be fine-tuned on a downstream task. The pretrained model can be used for either masked language modeling or next sentence prediction.\n \n ## CanineConfig\n "
        }
    ],
    "stats": {
        "total": 121,
        "additions": 50,
        "deletions": 71
    }
}