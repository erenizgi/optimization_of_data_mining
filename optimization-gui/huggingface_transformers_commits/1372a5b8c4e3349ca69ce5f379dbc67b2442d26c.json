{
    "author": "Tsumugii24",
    "message": "fix: resolve triton version check compatibility on windows (#39986)\n\n* fix: resolve triton version check compatibility on windows\n\n* style: remove trailing space\n\n* fix: fix typo\n\n---------\n\nCo-authored-by: Mohamed Mekkouri <93391238+MekkCyber@users.noreply.github.com>",
    "sha": "1372a5b8c4e3349ca69ce5f379dbc67b2442d26c",
    "files": [
        {
            "sha": "ea54336f143a2002fd3a84f101b6c3ba5ac39e50",
            "filename": "src/transformers/utils/import_utils.py",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/huggingface/transformers/blob/1372a5b8c4e3349ca69ce5f379dbc67b2442d26c/src%2Ftransformers%2Futils%2Fimport_utils.py",
            "raw_url": "https://github.com/huggingface/transformers/raw/1372a5b8c4e3349ca69ce5f379dbc67b2442d26c/src%2Ftransformers%2Futils%2Fimport_utils.py",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/src%2Ftransformers%2Futils%2Fimport_utils.py?ref=1372a5b8c4e3349ca69ce5f379dbc67b2442d26c",
            "patch": "@@ -78,9 +78,14 @@ def _is_package_available(pkg_name: str, return_version: bool = False) -> Union[\n                     package_exists = False\n             elif pkg_name == \"triton\":\n                 try:\n-                    package_version = importlib.metadata.version(\"pytorch-triton\")\n+                    # import triton works for both linux and windows\n+                    package = importlib.import_module(pkg_name)\n+                    package_version = getattr(package, \"__version__\", \"N/A\")\n                 except Exception:\n-                    package_exists = False\n+                    try:\n+                        package_version = importlib.metadata.version(\"pytorch-triton\")  # pytorch-triton\n+                    except Exception:\n+                        package_exists = False\n             else:\n                 # For packages other than \"torch\", don't attempt the fallback and set as not available\n                 package_exists = False"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 7,
        "deletions": 2
    }
}