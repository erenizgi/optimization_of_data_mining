{
    "author": "ivarflakstad",
    "message": "Update AMD Docker image (#35804)",
    "sha": "8e4cedd9cad6d467254eeb3cfa096f5d0e221d11",
    "files": [
        {
            "sha": "88763ca07f420ea85dc0fded26bfe3b989b11e07",
            "filename": "docker/transformers-pytorch-amd-gpu/Dockerfile",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/huggingface/transformers/blob/8e4cedd9cad6d467254eeb3cfa096f5d0e221d11/docker%2Ftransformers-pytorch-amd-gpu%2FDockerfile",
            "raw_url": "https://github.com/huggingface/transformers/raw/8e4cedd9cad6d467254eeb3cfa096f5d0e221d11/docker%2Ftransformers-pytorch-amd-gpu%2FDockerfile",
            "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/docker%2Ftransformers-pytorch-amd-gpu%2FDockerfile?ref=8e4cedd9cad6d467254eeb3cfa096f5d0e221d11",
            "patch": "@@ -1,5 +1,4 @@\n-FROM rocm/dev-ubuntu-22.04:6.1\n-# rocm/pytorch has no version with 2.1.0\n+FROM rocm/dev-ubuntu-22.04:6.3\n LABEL maintainer=\"Hugging Face\"\n \n ARG DEBIAN_FRONTEND=noninteractive\n@@ -9,9 +8,11 @@ RUN apt update && \\\n     apt clean && \\\n     rm -rf /var/lib/apt/lists/*\n \n+RUN export PATH=\"${PATH:+${PATH}:}~/opt/rocm/bin\"\n+\n RUN python3 -m pip install --no-cache-dir --upgrade pip numpy\n \n-RUN python3 -m pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/rocm6.1\n+RUN python3 -m pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/rocm6.3/\n \n RUN python3 -m pip install --no-cache-dir --upgrade importlib-metadata setuptools ninja git+https://github.com/facebookresearch/detectron2.git pytesseract \"itsdangerous<2.1.0\"\n "
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}