{
    "author": "lubieowoce",
    "message": "test: reduce artificial timeouts in runtime prefetch tests (#82276)\n\nthe \"wait for 500ms\" thing was a leftover of me inspecting the test apps\nvisually, we don't need it anymore and it slows the tests down\nunnecessarily",
    "sha": "b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
    "files": [
        {
            "sha": "7cf04fbc32102453c0e5e0ad019cc736bb6a33af",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/runtime-prefetchable-layout/layout.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Flayout.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -25,7 +25,7 @@ export default async function Layout({ children }) {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value-layout\">{`Cookie from layout: ${cookieValue}`}</div>"
        },
        {
            "sha": "8de15ad466699a5564bebf2ebfc4277c56a129f8",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/runtime-prefetchable-layout/one/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Fone%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Fone%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Fone%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -16,7 +16,7 @@ export default function Page() {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value-page\">{`Cookie from page: ${cookieValue}`}</div>"
        },
        {
            "sha": "7fad9105357f677b0ecb11842a2ff58d50488705",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/runtime-prefetchable-layout/two/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Ftwo%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Ftwo%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fruntime-prefetchable-layout%2Ftwo%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -16,7 +16,7 @@ export default function Page() {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value-page\">{`Cookie from page: ${cookieValue}`}</div>"
        },
        {
            "sha": "36edb1df39461d01c8a372a769a083e2376b553c",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/shared-layout/layout.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Flayout.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -26,7 +26,7 @@ export default async function Layout({ children }) {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value-layout\">{`Cookie from layout: ${cookieValue}`}</div>"
        },
        {
            "sha": "5a745c1ab064f1445052508953bb22bf9907435d",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/shared-layout/one/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Fone%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Fone%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Fone%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -16,7 +16,7 @@ export default function Page() {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value-page\">{`Cookie from page: ${cookieValue}`}</div>"
        },
        {
            "sha": "7fad9105357f677b0ecb11842a2ff58d50488705",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/shared-layout/two/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Ftwo%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Ftwo%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared-layout%2Ftwo%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -16,7 +16,7 @@ export default function Page() {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value-page\">{`Cookie from page: ${cookieValue}`}</div>"
        },
        {
            "sha": "9f4ef037951418695711f2de2a040e8ffa8aba76",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/app/shared.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fapp%2Fshared.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -2,14 +2,13 @@ import { unstable_cacheLife } from 'next/cache'\n import { setTimeout } from 'timers/promises'\n \n export async function uncachedIO() {\n-  await setTimeout(500)\n+  await setTimeout(0)\n }\n \n-export async function cachedDelay(time: number, cacheBuster?: any) {\n+export async function cachedDelay(key: any) {\n   'use cache'\n   unstable_cacheLife('minutes')\n-  console.log('cachedDelay', time, cacheBuster)\n-  await setTimeout(time)\n+  await setTimeout(1)\n }\n \n export function DebugRenderKind() {"
        },
        {
            "sha": "6fcdfc452294adef2115da9f8eaa36e602654a74",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/caches/private-short-stale/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fprivate-short-stale%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fprivate-short-stale%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fprivate-short-stale%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -25,7 +25,7 @@ async function CachedButShortLived() {\n     // the rest of the settings don't matter for private caches,\n     // because they are not persisted server-side\n   })\n-  await cachedDelay(500, [__filename])\n+  await cachedDelay([__filename])\n \n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>"
        },
        {
            "sha": "d7d9fac37b4f09b311260d185d56fbbd0d7491b7",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/caches/public-short-expire-long-stale/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fpublic-short-expire-long-stale%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fpublic-short-expire-long-stale%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fpublic-short-expire-long-stale%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -26,7 +26,7 @@ async function ShortLivedCache() {\n     revalidate: 2 * 60,\n     expire: 3 * 60, // < DYNAMIC_EXPIRE\n   })\n-  await cachedDelay(500, [__filename])\n+  await cachedDelay([__filename])\n \n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>"
        },
        {
            "sha": "0ad937f1a47156df1d4c1f9b1fc92651307ecb74",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/caches/public-short-expire-short-stale/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fpublic-short-expire-short-stale%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fpublic-short-expire-short-stale%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fcaches%2Fpublic-short-expire-short-stale%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -26,7 +26,7 @@ async function ShortLivedCache() {\n     revalidate: 2 * 60,\n     expire: 3 * 60, // < DYNAMIC_EXPIRE\n   })\n-  await cachedDelay(500, [__filename])\n+  await cachedDelay([__filename])\n \n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>"
        },
        {
            "sha": "9c15df9984b3b10c57d5c066e471563dbbb13151",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/errors/error-after-cookies/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Ferrors%2Ferror-after-cookies%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Ferrors%2Ferror-after-cookies%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Ferrors%2Ferror-after-cookies%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -23,6 +23,6 @@ export default async function Page() {\n \n async function One(): Promise<never> {\n   const cookieStore = await cookies()\n-  await cachedDelay(500, ['/cookies', cookieStore.get('user-agent')?.value])\n+  await cachedDelay(['/cookies', cookieStore.get('user-agent')?.value])\n   throw new Error('Kaboom')\n }"
        },
        {
            "sha": "27ef4ef55691d9d78e8f78516c63e1338ce3b92d",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/errors/sync-io-after-cookies/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Ferrors%2Fsync-io-after-cookies%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Ferrors%2Fsync-io-after-cookies%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Ferrors%2Fsync-io-after-cookies%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -20,6 +20,6 @@ export default async function Page() {\n \n async function One() {\n   const cookieStore = await cookies()\n-  await cachedDelay(500, ['/cookies', cookieStore.get('user-agent')?.value])\n+  await cachedDelay(['/cookies', cookieStore.get('user-agent')?.value])\n   return <div id=\"timestamp\">Timestamp: {Date.now()}</div>\n }"
        },
        {
            "sha": "0079b3fd4391b5b7b47a0ae6050d60b0a228f0d3",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-page/cookies-only/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fcookies-only%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fcookies-only%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fcookies-only%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -20,7 +20,7 @@ export default async function Page() {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value\">{`Cookie: ${cookieValue}`}</div>"
        },
        {
            "sha": "fdce157f2f7ad868cb69b5bc49b47848cc5c6763",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-page/cookies/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fcookies%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fcookies%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fcookies%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -34,7 +34,7 @@ export default async function Page() {\n async function RuntimePrefetchable() {\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"cookie-value\">{`Cookie: ${cookieValue}`}</div>"
        },
        {
            "sha": "2216e8fffa86d82704a7c62cd49735f7cf03660e",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-page/dynamic-params/[id]/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fdynamic-params%2F%5Bid%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fdynamic-params%2F%5Bid%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fdynamic-params%2F%5Bid%5D%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -21,7 +21,7 @@ export default async function Page({ params }: { params: Promise<Params> }) {\n \n async function RuntimePrefetchable({ params }: { params: Promise<Params> }) {\n   const { id } = await params\n-  await cachedDelay(500, [__filename, id])\n+  await cachedDelay([__filename, id])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"param-value\">{`Param: ${id}`}</div>"
        },
        {
            "sha": "4cd193dfb1140ba22d1185651663e5c1186987f4",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-page/search-params/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fsearch-params%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fsearch-params%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-page%2Fsearch-params%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -29,7 +29,7 @@ async function RuntimePrefetchable({\n   searchParams: Promise<AnySearchParams>\n }) {\n   const { searchParam } = await searchParams\n-  await cachedDelay(500, [__filename, searchParam])\n+  await cachedDelay([__filename, searchParam])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"search-param-value\">{`Search param: ${searchParam}`}</div>"
        },
        {
            "sha": "62c17c7a4613fe224a7a237745f013a12be8f741",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-private-cache/cookies-only/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fcookies-only%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fcookies-only%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fcookies-only%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -30,6 +30,6 @@ async function privateCache() {\n   'use cache: private'\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return cookieValue\n }"
        },
        {
            "sha": "1d5c005b1f8bedfd7d1eccaac06233a603604dfb",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-private-cache/cookies/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fcookies%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fcookies%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fcookies%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -47,7 +47,7 @@ async function privateCache() {\n   'use cache: private'\n   const cookieStore = await cookies()\n   const cookieValue = cookieStore.get('testCookie')?.value ?? null\n-  await cachedDelay(500, [__filename, cookieValue])\n+  await cachedDelay([__filename, cookieValue])\n   return cookieValue\n }\n "
        },
        {
            "sha": "f175df55900f3a1b29c2ccbc160eee4c1e360a53",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-private-cache/date-now/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fdate-now%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fdate-now%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fdate-now%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -32,7 +32,7 @@ async function RuntimePrefetchable() {\n async function privateCache() {\n   'use cache: private'\n   const now = Date.now()\n-  await cachedDelay(500, [__filename])\n+  await cachedDelay([__filename])\n   return now\n }\n "
        },
        {
            "sha": "f8ea4eddac4b819c7a7907f679203f72e8ea48db",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-private-cache/dynamic-params/[id]/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fdynamic-params%2F%5Bid%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fdynamic-params%2F%5Bid%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fdynamic-params%2F%5Bid%5D%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -34,7 +34,7 @@ async function RuntimePrefetchable({ params }: { params: Promise<Params> }) {\n async function privateCache(params: Promise<Params>) {\n   'use cache: private'\n   const { id } = await params\n-  await cachedDelay(500, [__filename, id])\n+  await cachedDelay([__filename, id])\n   return id\n }\n "
        },
        {
            "sha": "aeef70c99ac4e4b14f596fa1467f063d4fdb70aa",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/(default)/in-private-cache/search-params/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fsearch-params%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fsearch-params%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2F(default)%2Fin-private-cache%2Fsearch-params%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -42,7 +42,7 @@ async function RuntimePrefetchable({\n async function privateCache(searchParams: Promise<AnySearchParams>) {\n   'use cache: private'\n   const { searchParam } = await searchParams\n-  await cachedDelay(500, [__filename, searchParam])\n+  await cachedDelay([__filename, searchParam])\n   return searchParam\n }\n "
        },
        {
            "sha": "9f4ef037951418695711f2de2a040e8ffa8aba76",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/shared.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fshared.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fshared.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fshared.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -2,14 +2,13 @@ import { unstable_cacheLife } from 'next/cache'\n import { setTimeout } from 'timers/promises'\n \n export async function uncachedIO() {\n-  await setTimeout(500)\n+  await setTimeout(0)\n }\n \n-export async function cachedDelay(time: number, cacheBuster?: any) {\n+export async function cachedDelay(key: any) {\n   'use cache'\n   unstable_cacheLife('minutes')\n-  console.log('cachedDelay', time, cacheBuster)\n-  await setTimeout(time)\n+  await setTimeout(1)\n }\n \n export function DebugRenderKind() {"
        },
        {
            "sha": "4b914131bf7ad7074061398d876f2e594ca36137",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/with-root-param/[lang]/in-page/root-params/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fwith-root-param%2F%5Blang%5D%2Fin-page%2Froot-params%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fwith-root-param%2F%5Blang%5D%2Fin-page%2Froot-params%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fwith-root-param%2F%5Blang%5D%2Fin-page%2Froot-params%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -19,7 +19,7 @@ export default async function Page() {\n \n async function StaticallyPrefetchable() {\n   const currentLang = await lang()\n-  await cachedDelay(500, [__filename, currentLang])\n+  await cachedDelay([__filename, currentLang])\n   return (\n     <div style={{ border: '1px solid blue', padding: '1em' }}>\n       <div id=\"root-param-value\">{`Lang: ${currentLang}`}</div>"
        },
        {
            "sha": "dbfbad8916598cc2fccd9841b68e39223f72fac6",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/app/with-root-param/[lang]/in-private-cache/root-params/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fwith-root-param%2F%5Blang%5D%2Fin-private-cache%2Froot-params%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b085fafe5ef9ca18fafadc644eeb75cb5662f85f/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fwith-root-param%2F%5Blang%5D%2Fin-private-cache%2Froot-params%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fapp%2Fwith-root-param%2F%5Blang%5D%2Fin-private-cache%2Froot-params%2Fpage.tsx?ref=b085fafe5ef9ca18fafadc644eeb75cb5662f85f",
            "patch": "@@ -35,7 +35,7 @@ async function DynamicallyPrefetchable() {\n async function privateCache() {\n   'use cache: private'\n   const currentLang = await lang()\n-  await cachedDelay(500, [__filename, currentLang])\n+  await cachedDelay([__filename, currentLang])\n   return currentLang\n }\n "
        }
    ],
    "stats": {
        "total": 58,
        "additions": 28,
        "deletions": 30
    }
}