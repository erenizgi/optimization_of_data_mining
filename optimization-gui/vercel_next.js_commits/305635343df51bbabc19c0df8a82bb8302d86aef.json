{
    "author": "wbinnssmith",
    "message": "Turbopack: Make `turbo-macros` crate Rust 2024 (#79126)\n\nThis was mostly\nhttps://rust-lang.github.io/rust-clippy/master/index.html#let_and_return",
    "sha": "305635343df51bbabc19c0df8a82bb8302d86aef",
    "files": [
        {
            "sha": "0ddff3b822956869a579a75616607a01c8c9f23d",
            "filename": "turbopack/crates/turbo-tasks-macros/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2FCargo.toml?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -3,7 +3,7 @@ name = \"turbo-tasks-macros\"\n version = \"0.1.0\"\n description = \"TBD\"\n license = \"MIT\"\n-edition = \"2021\"\n+edition = \"2024\"\n \n [lib]\n proc-macro = true"
        },
        {
            "sha": "adee0b2cee698dbf0308780da3c081fd65f28655",
            "filename": "turbopack/crates/turbo-tasks-macros/src/assert_fields.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fassert_fields.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fassert_fields.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fassert_fields.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,7 +1,7 @@\n use either::Either;\n use proc_macro2::{Span, TokenStream};\n use quote::{quote, quote_spanned};\n-use syn::{spanned::Spanned, Data, Field, Generics, Ident, Path};\n+use syn::{Data, Field, Generics, Ident, Path, spanned::Spanned};\n \n /// Generates tokens for a [`syn::ItemConst`] that asserts every field on the struct, enum, or union\n /// (represented by [`Data`]) is an instance of `trait_path`."
        },
        {
            "sha": "03bfd11bd0462c858ca2b6b9f1c69139789f6ee3",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/deterministic_hash_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fdeterministic_hash_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fdeterministic_hash_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fdeterministic_hash_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,7 +1,7 @@\n use proc_macro::TokenStream;\n use proc_macro2::TokenStream as TokenStream2;\n use quote::quote;\n-use syn::{parse_macro_input, Data, DeriveInput, FieldsNamed, FieldsUnnamed};\n+use syn::{Data, DeriveInput, FieldsNamed, FieldsUnnamed, parse_macro_input};\n use turbo_tasks_macros_shared::{generate_exhaustive_destructuring, match_expansion};\n \n /// This macro generates the implementation of the `DeterministicHash` trait for"
        },
        {
            "sha": "00ac4648b5792e880f53a2438d1a37cc2c530792",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/key_value_pair_macro.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 10,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fkey_value_pair_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fkey_value_pair_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fkey_value_pair_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,6 +1,6 @@\n use proc_macro::TokenStream;\n use quote::quote;\n-use syn::{parse_macro_input, Ident, ItemEnum};\n+use syn::{Ident, ItemEnum, parse_macro_input};\n \n pub fn derive_key_value_pair(input: TokenStream) -> TokenStream {\n     let input = parse_macro_input!(input as ItemEnum);\n@@ -509,7 +509,7 @@ pub fn derive_key_value_pair(input: TokenStream) -> TokenStream {\n }\n \n fn patterns(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {\n-    let variant_pat = fields\n+    fields\n         .iter()\n         .map(|fields| {\n             let pat = fields\n@@ -525,12 +525,11 @@ fn patterns(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {\n                 #(#pat,)*\n             }\n         })\n-        .collect::<Vec<_>>();\n-    variant_pat\n+        .collect::<Vec<_>>()\n }\n \n fn clone_fields(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {\n-    let variant_pat = fields\n+    fields\n         .iter()\n         .map(|fields| {\n             let pat = fields\n@@ -546,12 +545,11 @@ fn clone_fields(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {\n                 #(#pat,)*\n             }\n         })\n-        .collect::<Vec<_>>();\n-    variant_pat\n+        .collect::<Vec<_>>()\n }\n \n fn ref_fields(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {\n-    let variant_pat = fields\n+    fields\n         .iter()\n         .map(|fields| {\n             let pat = fields\n@@ -567,8 +565,7 @@ fn ref_fields(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {\n                 #(#pat,)*\n             }\n         })\n-        .collect::<Vec<_>>();\n-    variant_pat\n+        .collect::<Vec<_>>()\n }\n \n fn field_declarations(fields: &[Vec<&syn::Field>]) -> Vec<proc_macro2::TokenStream> {"
        },
        {
            "sha": "80c85ee2824e646d3a332bad6904f0688cd73f98",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fmod.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -11,7 +11,7 @@ pub use deterministic_hash_macro::derive_deterministic_hash;\n pub use key_value_pair_macro::derive_key_value_pair;\n pub use non_local_value_macro::derive_non_local_value;\n pub use operation_value_macro::derive_operation_value;\n-use syn::{punctuated::Punctuated, spanned::Spanned, Attribute, Meta, Token};\n+use syn::{Attribute, Meta, Token, punctuated::Punctuated, spanned::Spanned};\n pub use task_input_macro::derive_task_input;\n pub use trace_raw_vcs_macro::derive_trace_raw_vcs;\n pub use value_debug_format_macro::derive_value_debug_format;"
        },
        {
            "sha": "f7428f1a0e697e0d1b75a6c63dc3c1f1ad934361",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/non_local_value_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fnon_local_value_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fnon_local_value_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fnon_local_value_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,6 +1,6 @@\n use proc_macro::TokenStream;\n use quote::quote;\n-use syn::{parse_macro_input, parse_quote, DeriveInput};\n+use syn::{DeriveInput, parse_macro_input, parse_quote};\n \n use crate::{assert_fields::assert_fields_impl_trait, derive::trace_raw_vcs_macro::filter_field};\n "
        },
        {
            "sha": "f97b4acf0f49ab31fc995359e4b8349c9e2641e8",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/operation_value_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Foperation_value_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Foperation_value_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Foperation_value_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,6 +1,6 @@\n use proc_macro::TokenStream;\n use quote::quote;\n-use syn::{parse_macro_input, parse_quote, DeriveInput};\n+use syn::{DeriveInput, parse_macro_input, parse_quote};\n \n use crate::{assert_fields::assert_fields_impl_trait, derive::trace_raw_vcs_macro::filter_field};\n "
        },
        {
            "sha": "b35f78bb9ecb6aa4d3e366e2e4aa244227f917ae",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/task_input_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftask_input_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftask_input_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftask_input_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,6 +1,6 @@\n use proc_macro::TokenStream;\n use quote::quote;\n-use syn::{parse_macro_input, spanned::Spanned, DeriveInput};\n+use syn::{DeriveInput, parse_macro_input, spanned::Spanned};\n use turbo_tasks_macros_shared::{generate_exhaustive_destructuring, match_expansion};\n \n pub fn derive_task_input(input: TokenStream) -> TokenStream {"
        },
        {
            "sha": "53ab97aa79d625f0a6221c45bbfda8f94b6c88fd",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/trace_raw_vcs_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftrace_raw_vcs_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftrace_raw_vcs_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftrace_raw_vcs_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,7 +1,7 @@\n use proc_macro::TokenStream;\n use proc_macro2::TokenStream as TokenStream2;\n use quote::quote;\n-use syn::{parse_macro_input, DeriveInput, Field, FieldsNamed, FieldsUnnamed};\n+use syn::{DeriveInput, Field, FieldsNamed, FieldsUnnamed, parse_macro_input};\n use turbo_tasks_macros_shared::{generate_destructuring, match_expansion};\n \n use super::FieldAttributes;"
        },
        {
            "sha": "dd4becdc8bb452150a2f600465e88d40a87731ea",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/value_debug_format_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_format_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_format_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_format_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,7 +1,7 @@\n use proc_macro::TokenStream;\n use proc_macro2::TokenStream as TokenStream2;\n use quote::quote;\n-use syn::{parse_macro_input, DeriveInput, Field, FieldsNamed, FieldsUnnamed};\n+use syn::{DeriveInput, Field, FieldsNamed, FieldsUnnamed, parse_macro_input};\n use turbo_tasks_macros_shared::{generate_destructuring, match_expansion};\n \n use super::FieldAttributes;"
        },
        {
            "sha": "660ddd68dc6648f7cf62b577d204f49efba6a399",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/value_debug_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,6 +1,6 @@\n use proc_macro::TokenStream;\n use quote::quote;\n-use syn::{parse_macro_input, DeriveInput};\n+use syn::{DeriveInput, parse_macro_input};\n \n /// This macro generates the implementation of the `ValueDebug` trait for a\n /// given type."
        },
        {
            "sha": "f518fca8860255d0573426200b06e4b8ad287746",
            "filename": "turbopack/crates/turbo-tasks-macros/src/func.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunc.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunc.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunc.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,18 +1,18 @@\n use std::borrow::Cow;\n \n use proc_macro2::{Group, Ident, Span, TokenStream, TokenTree};\n-use quote::{quote, quote_spanned, ToTokens};\n+use quote::{ToTokens, quote, quote_spanned};\n use rustc_hash::FxHashSet;\n use syn::{\n+    AngleBracketedGenericArguments, Attribute, Block, Expr, ExprBlock, ExprPath, FnArg,\n+    GenericArgument, Local, LocalInit, Meta, Pat, PatIdent, PatType, Path, PathArguments,\n+    PathSegment, Receiver, ReturnType, Signature, Stmt, Token, Type, TypeGroup, TypePath,\n+    TypeTuple,\n     parse::{Parse, ParseStream},\n     parse_quote, parse_quote_spanned,\n     punctuated::{Pair, Punctuated},\n     spanned::Spanned,\n     visit_mut::VisitMut,\n-    AngleBracketedGenericArguments, Attribute, Block, Expr, ExprBlock, ExprPath, FnArg,\n-    GenericArgument, Local, LocalInit, Meta, Pat, PatIdent, PatType, Path, PathArguments,\n-    PathSegment, Receiver, ReturnType, Signature, Stmt, Token, Type, TypeGroup, TypePath,\n-    TypeTuple,\n };\n \n #[derive(Debug)]\n@@ -765,7 +765,7 @@ impl Parse for FunctionArguments {\n                         meta,\n                         \"unexpected token, expected one of: \\\"fs\\\", \\\"network\\\", \\\"operation\\\", \\\n                          \\\"local\\\"\",\n-                    ))\n+                    ));\n                 }\n             }\n         }\n@@ -782,7 +782,7 @@ impl Parse for FunctionArguments {\n fn return_type_to_type(return_type: &ReturnType) -> Type {\n     match return_type {\n         ReturnType::Default => parse_quote! { () },\n-        ReturnType::Type(_, ref return_type) => (**return_type).clone(),\n+        ReturnType::Type(_, return_type) => (**return_type).clone(),\n     }\n }\n "
        },
        {
            "sha": "8709dbecd261bc2f5243205421fef5211f5146c6",
            "filename": "turbopack/crates/turbo-tasks-macros/src/function_macro.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunction_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunction_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunction_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,12 +1,12 @@\n use proc_macro::TokenStream;\n use quote::quote;\n-use syn::{parse_macro_input, parse_quote, ItemFn};\n+use syn::{ItemFn, parse_macro_input, parse_quote};\n use turbo_tasks_macros_shared::{\n     get_native_function_id_ident, get_native_function_ident, is_self_used,\n };\n \n use crate::func::{\n-    filter_inline_attributes, DefinitionContext, FunctionArguments, NativeFn, TurboFn,\n+    DefinitionContext, FunctionArguments, NativeFn, TurboFn, filter_inline_attributes,\n };\n \n /// This macro generates the virtual function that powers turbo tasks."
        },
        {
            "sha": "7e9ca634cada86e41ffd1ab59bb095a872f89ca9",
            "filename": "turbopack/crates/turbo-tasks-macros/src/generic_type_macro.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,8 +1,8 @@\n use proc_macro::TokenStream;\n use quote::quote;\n use rustc_hash::FxHashSet;\n-use syn::{parse_macro_input, spanned::Spanned, visit_mut::VisitMut, GenericParam, Lifetime, Type};\n-use turbo_tasks_macros_shared::{get_type_ident, GenericTypeInput};\n+use syn::{GenericParam, Lifetime, Type, parse_macro_input, spanned::Spanned, visit_mut::VisitMut};\n+use turbo_tasks_macros_shared::{GenericTypeInput, get_type_ident};\n \n use crate::value_macro::value_type_and_register;\n "
        },
        {
            "sha": "ca1b2a1bbd637a8b061c3dd0186a0b381050ad75",
            "filename": "turbopack/crates/turbo-tasks-macros/src/primitive_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,7 +1,7 @@\n use proc_macro::TokenStream;\n use quote::quote;\n use syn::parse_macro_input;\n-use turbo_tasks_macros_shared::{get_type_ident, PrimitiveInput};\n+use turbo_tasks_macros_shared::{PrimitiveInput, get_type_ident};\n \n use crate::value_macro::value_type_and_register;\n "
        },
        {
            "sha": "c964f96c086e2561a43d3679344977cd6688585a",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_impl_macro.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_impl_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_impl_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_impl_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,12 +1,12 @@\n use proc_macro::TokenStream;\n use proc_macro2::{Ident, TokenStream as TokenStream2};\n-use quote::{quote, ToTokens};\n+use quote::{ToTokens, quote};\n use syn::{\n+    Attribute, Error, Expr, ExprLit, Generics, ImplItem, ImplItemFn, ItemImpl, Lit, LitStr, Meta,\n+    MetaNameValue, Path, Token, Type,\n     parse::{Parse, ParseStream},\n     parse_macro_input, parse_quote,\n     spanned::Spanned,\n-    Attribute, Error, Expr, ExprLit, Generics, ImplItem, ImplItemFn, ItemImpl, Lit, LitStr, Meta,\n-    MetaNameValue, Path, Token, Type,\n };\n use turbo_tasks_macros_shared::{\n     get_inherent_impl_function_id_ident, get_inherent_impl_function_ident, get_path_ident,\n@@ -15,8 +15,8 @@ use turbo_tasks_macros_shared::{\n };\n \n use crate::func::{\n-    filter_inline_attributes, parse_with_optional_parens, DefinitionContext, FunctionArguments,\n-    NativeFn, TurboFn,\n+    DefinitionContext, FunctionArguments, NativeFn, TurboFn, filter_inline_attributes,\n+    parse_with_optional_parens,\n };\n \n fn is_attribute(attr: &Attribute, name: &str) -> bool {\n@@ -93,7 +93,7 @@ impl Parse for ValueImplArguments {\n                     return Err(Error::new_spanned(\n                         &meta,\n                         format!(\"unexpected {meta:?}, expected \\\"ident\\\"\"),\n-                    ))\n+                    ));\n                 }\n             }\n         }"
        },
        {
            "sha": "2b98d4dcc0ee384137a84ddbcc2ca7e6ca3a8193",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_macro.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -2,14 +2,14 @@ use std::sync::OnceLock;\n \n use proc_macro::TokenStream;\n use proc_macro2::{Ident, Span};\n-use quote::{quote, quote_spanned, ToTokens};\n+use quote::{ToTokens, quote, quote_spanned};\n use regex::Regex;\n use syn::{\n+    Error, Expr, ExprLit, Fields, FieldsUnnamed, Generics, Item, ItemEnum, ItemStruct, Lit, LitStr,\n+    Meta, MetaNameValue, Result, Token,\n     parse::{Parse, ParseStream},\n     parse_macro_input, parse_quote,\n     spanned::Spanned,\n-    Error, Expr, ExprLit, Fields, FieldsUnnamed, Generics, Item, ItemEnum, ItemStruct, Lit, LitStr,\n-    Meta, MetaNameValue, Result, Token,\n };\n use turbo_tasks_macros_shared::{\n     get_register_value_type_ident, get_value_type_id_ident, get_value_type_ident,\n@@ -203,7 +203,7 @@ impl Parse for ValueArguments {\n                              \\\"serialization\\\", \\\"cell\\\", \\\"eq\\\", \\\"transparent\\\", or \\\n                              \\\"operation\\\"\"\n                         ),\n-                    ))\n+                    ));\n                 }\n             }\n         }"
        },
        {
            "sha": "136ab031775c955192cf901c5348823bed1f90f1",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_trait_macro.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/305635343df51bbabc19c0df8a82bb8302d86aef/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_macro.rs?ref=305635343df51bbabc19c0df8a82bb8302d86aef",
            "patch": "@@ -1,14 +1,15 @@\n use proc_macro::TokenStream;\n use proc_macro2::{Ident, TokenStream as TokenStream2};\n use quote::{quote, quote_spanned};\n-use syn::{parse_macro_input, parse_quote, spanned::Spanned, ItemTrait, TraitItem, TraitItemFn};\n+use syn::{ItemTrait, TraitItem, TraitItemFn, parse_macro_input, parse_quote, spanned::Spanned};\n use turbo_tasks_macros_shared::{\n-    get_trait_default_impl_function_id_ident, get_trait_default_impl_function_ident,\n-    get_trait_type_id_ident, get_trait_type_ident, is_self_used, ValueTraitArguments,\n+    ValueTraitArguments, get_trait_default_impl_function_id_ident,\n+    get_trait_default_impl_function_ident, get_trait_type_id_ident, get_trait_type_ident,\n+    is_self_used,\n };\n \n use crate::func::{\n-    filter_inline_attributes, DefinitionContext, FunctionArguments, NativeFn, TurboFn,\n+    DefinitionContext, FunctionArguments, NativeFn, TurboFn, filter_inline_attributes,\n };\n \n pub fn value_trait(args: TokenStream, input: TokenStream) -> TokenStream {"
        }
    ],
    "stats": {
        "total": 90,
        "additions": 44,
        "deletions": 46
    }
}