{
    "author": "mischnic",
    "message": "Turbopack: fix run_once when returning error (#84142)\n\nErrors returned from the callback are never read.\nInstead, send errors returned from the `future` over the channel.",
    "sha": "6478e9195140bcb936edc7083fd8095f0511b402",
    "files": [
        {
            "sha": "a7d80f908ed0291d0aca8833479e4a1317a5b571",
            "filename": "turbopack/crates/turbo-tasks/src/manager.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6478e9195140bcb936edc7083fd8095f0511b402/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fmanager.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/6478e9195140bcb936edc7083fd8095f0511b402/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fmanager.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fmanager.rs?ref=6478e9195140bcb936edc7083fd8095f0511b402",
            "patch": "@@ -526,13 +526,13 @@ impl<B: Backend + 'static> TurboTasks<B> {\n     ) -> Result<T> {\n         let (tx, rx) = tokio::sync::oneshot::channel();\n         self.spawn_once_task(async move {\n-            let result = future.await?;\n+            let result = future.await;\n             tx.send(result)\n                 .map_err(|_| anyhow!(\"unable to send result\"))?;\n             Ok(Completion::new())\n         });\n \n-        Ok(rx.await?)\n+        rx.await?\n     }\n \n     pub async fn run<T: TraceRawVcs + Send + 'static>("
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}