{
    "author": "lubieowoce",
    "message": "typechecking inputs/outputs in action transform tests (#75935)\n\nThis PR attempts to add typechecking to the server actions tests\nfixtures in order to add an extra layer of validation against compiler\nbugs. (there's a couple!). Unfortunately the tests were pretty\nloosey-goosey around undefined variables, so there's a lot of noise in\nadding missing imports for `Button` etc. i tried to call out the\ninteresting changes via PR comments.\n\nNote that this is a bit limited, because we often have to rely on\ntypescript inferring some sensible types for the outputs -- see e.g. the\nissue with `24/output.js` mentioned below. In case typescript can't\ninfer sensible types for something, we can just exclude that file from\nchecking. this seems to be pretty rare, so i think it's okay.\n\nWe should also definitely add typechecking to the other fixture folders,\nbut this PR is already big, so i want to do that piecemeal.\n\n### TODO\n- [x] invoke the typechecker in CI\n- added a `check-compiler-fixtures` script that runs as part of\n`types-and-precompiled` (open to feedback, maybe this isn't the right\nplace?)\n- [x] figure out how to make `tsc` error on\n`crates/next-custom-transforms/tests/fixture/server-actions/server-graph/51/output.js`,\nwhere we're referencing a non-existent variable `$$RSC_SERVER_ACTION_0`.\nright now, it emits no errors\n- this is a compiler bug, and i want to catch bugs like this in the\nfuture\n  - solution: https://github.com/vercel/next.js/pull/75944\n- [x] figure out why `tsc` is complaining about a type mismatch in\n`crates/next-custom-transforms/tests/fixture/server-actions/server-graph/24/output.js`\n- we can work around this by loosening the types for\n`registerServerReference`, but i'd rather we didn't have to do that\n- this seems to be a bizarre TS behavior where `fn.bind(...)` makes all\nthe params optional in JS files. ignoring this for now",
    "sha": "669c52e393341753679f604a3e71c61e362253da",
    "files": [
        {
            "sha": "701be0022a4bb570d9db1b93b7df9649b5058578",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/client-graph/3/input.js",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fclient-graph%2F3%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fclient-graph%2F3%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fclient-graph%2F3%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,7 @@\n 'use server'\n \n-export const { sampleFunction } = someObject\n-export const { sampleFunction2 } = fn()\n-export let { 0: sampleFunction3, 1: sampleFunction4 } = [g(), g()]\n+import ANYTHING from 'anything'\n+\n+export const { sampleFunction } = ANYTHING\n+export const { sampleFunction2 } = ANYTHING()\n+export let { 0: sampleFunction3, 1: sampleFunction4 } = [ANYTHING(), ANYTHING()]"
        },
        {
            "sha": "151fec762d6b77f1ae873187f2e5b272ff801bc9",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/client-graph/5/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fclient-graph%2F5%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fclient-graph%2F5%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fclient-graph%2F5%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -6,6 +6,7 @@ export async function action0(b, c, ...g) {\n   return async function action1(d) {\n     'use server'\n     let f\n+    // @ts-expect-error: window is not iterable\n     console.log(...window, { window })\n     console.log(a, b, action2)\n "
        },
        {
            "sha": "20915445a3590db3906b0b52ff8d48f21ff2d28b",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/index.ts",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Findex.ts?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -0,0 +1,2 @@\n+/// <reference types=\"./next\" />\n+/// <reference types=\"./modules\" />"
        },
        {
            "sha": "d4fdfac42e46a32010972bce9a52802aae37a9cf",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/modules.d.ts",
            "status": "added",
            "additions": 51,
            "deletions": 0,
            "changes": 51,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fmodules.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fmodules.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fmodules.d.ts?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -0,0 +1,51 @@\n+declare module 'database' {\n+  export const db: {\n+    serialize<T>(cb: () => T): T\n+    run(\n+      statement: string,\n+      args: Record<string, any>,\n+      onComplete: (this: { lastID: string }, error?: Error) => void\n+    ): void\n+  }\n+}\n+\n+declare module 'db' {\n+  export default function deleteFromDb(arg: any, ...args: any[]): Promise<void>\n+}\n+\n+declare module 'auth' {\n+  export function validator<TFn extends (...args: any[]) => any>(fn: TFn): TFn\n+  export function another<TFn extends (...args: any[]) => any>(fn: TFn): TFn\n+}\n+\n+declare module 'anything' {\n+  const ANYTHING: any\n+  export default ANYTHING\n+}\n+\n+declare module 'foo' {\n+  const f: any\n+  export default f\n+  export const f1: any\n+  export const f2: any\n+}\n+\n+declare module 'components' {\n+  import React from 'react'\n+\n+  export function Button(\n+    props: {\n+      action: () => Promise<any>\n+    } & React.ComponentProps<'button'>\n+  ): React.ReactNode\n+\n+  export function Form(\n+    props: React.PropsWithChildren<{ action: () => Promise<any> }>\n+  ): React.ReactNode\n+\n+  export function Client(props: Record<string, any>): React.ReactNode\n+}\n+\n+declare module 'navigation' {\n+  export function redirect(href: string): void\n+}"
        },
        {
            "sha": "befe558c27831d0ccd13a38b8dfc2a9bef6c9df7",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/next.d.ts",
            "status": "added",
            "additions": 49,
            "deletions": 0,
            "changes": 49,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fnext.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fnext.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fnext.d.ts?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -0,0 +1,49 @@\n+declare module 'private-next-rsc-action-encryption' {\n+  export function encryptActionBoundArgs(\n+    actionId: string,\n+    ...args: any[]\n+  ): Promise<string>\n+\n+  export function decryptActionBoundArgs(\n+    actionId: string,\n+    encryptedPromise: Promise<string>\n+  ): Promise<any[]>\n+}\n+\n+declare module 'private-next-rsc-server-reference' {\n+  export function registerServerReference<T extends (...args: any[]) => any>(\n+    reference: T,\n+    id: string,\n+    exportName: string | null\n+  ): T\n+}\n+\n+declare module 'private-next-rsc-action-client-wrapper' {\n+  export function callServer(\n+    actionId: string,\n+    actionArgs: unknown[]\n+  ): Promise<unknown>\n+\n+  export function findSourceMapURL(filename: string): string | null\n+\n+  const createServerReference: (\n+    id: string,\n+    callServer: any,\n+    encodeFormAction?: any,\n+    findSourceMapURL?: any,\n+    functionName?: string\n+  ) => (...args: unknown[]) => Promise<unknown>\n+}\n+\n+declare module 'private-next-rsc-action-validate' {\n+  function ensureServerEntryExports(actions: unknown[]): void\n+}\n+\n+declare module 'private-next-rsc-cache-wrapper' {\n+  export function cache<TFn extends (...args: any[]) => Promise<any>>(\n+    kind: string,\n+    id: string,\n+    boundArgsLength: number,\n+    fn: TFn\n+  ): TFn\n+}"
        },
        {
            "sha": "75a65dc9b1983ce385ad0f615c4e4a315e5d3fa7",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/1/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F1%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F1%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F1%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,4 @@\n+import { Button } from 'components'\n import deleteFromDb from 'db'\n \n export function Item({ id1, id2 }) {"
        },
        {
            "sha": "e7119eee79bce05581af56eb2a4eeb147520d3b4",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/1/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F1%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F1%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F1%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n import deleteFromDb from 'db';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function deleteItem($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1] = await decryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);"
        },
        {
            "sha": "a111f3f39dfe6d254c27db57d5a7f919e2d1df6b",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/16/input.js",
            "status": "modified",
            "additions": 11,
            "deletions": 2,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F16%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F16%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F16%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,4 @@\n+import { Button } from 'components'\n import deleteFromDb from 'db'\n \n const v1 = 'v1'\n@@ -13,7 +14,7 @@ export function Item({ id1, id2 }) {\n   return <Button action={deleteItem}>Delete</Button>\n }\n \n-const f = (x) => {\n+let f = (x) => {\n   async function g(y, ...z) {\n     'use server'\n     return x + y + z[0]\n@@ -23,6 +24,14 @@ const f = (x) => {\n const g = (x) => {\n   f = async (y, ...z) => {\n     'use server'\n-    return x + y + z[0]\n+    return (\n+      x +\n+      y +\n+      // can't be a `ts-expect-error` because the type of `z` changes to `any` in the output\n+      // and it stops being an error\n+      //\n+      // @ts-ignore: incompatible argument types\n+      z[0]\n+    )\n   }\n }"
        },
        {
            "sha": "567695387450d6b6e23d1429e4245077c3508b8c",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/16/output.js",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F16%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F16%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F16%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"7f1c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"7f90b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n import deleteFromDb from 'db';\n const v1 = 'v1';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function deleteItem($$ACTION_CLOSURE_BOUND) {\n@@ -17,12 +18,16 @@ export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = a\n     var [$$ACTION_ARG_0] = await decryptActionBoundArgs(\"7f90b5db271335765a4b0eab01f044b381b5ebd5cd\", $$ACTION_CLOSURE_BOUND);\n     return $$ACTION_ARG_0 + y + z[0];\n };\n-const f = (x)=>{\n+let f = (x)=>{\n     var g = registerServerReference($$RSC_SERVER_ACTION_1, \"7f90b5db271335765a4b0eab01f044b381b5ebd5cd\", null).bind(null, encryptActionBoundArgs(\"7f90b5db271335765a4b0eab01f044b381b5ebd5cd\", x));\n };\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_2 = async function f($$ACTION_CLOSURE_BOUND, y, ...z) {\n     var [$$ACTION_ARG_0] = await decryptActionBoundArgs(\"7f1c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", $$ACTION_CLOSURE_BOUND);\n-    return $$ACTION_ARG_0 + y + z[0];\n+    return $$ACTION_ARG_0 + y + // can't be a `ts-expect-error` because the type of `z` changes to `any` in the output\n+    // and it stops being an error\n+    //\n+    // @ts-ignore: incompatible argument types\n+    z[0];\n };\n const g = (x)=>{\n     f = registerServerReference($$RSC_SERVER_ACTION_2, \"7f1c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", null).bind(null, encryptActionBoundArgs(\"7f1c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", x));"
        },
        {
            "sha": "e6650a774021add610939dfb2bae34e59c6b0834",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/18/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F18%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F18%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F18%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,4 @@\n+import { Button } from 'components'\n import deleteFromDb from 'db'\n \n const v1 = 'v1'"
        },
        {
            "sha": "f0f339b1965c79af9dc26932e2416014d8e5101b",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/18/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F18%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F18%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F18%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n import deleteFromDb from 'db';\n const v1 = 'v1';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action($$ACTION_CLOSURE_BOUND) {"
        },
        {
            "sha": "ea803589a240dafea959172ddc13e6b09a93599f",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/19/input.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F19%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F19%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F19%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,5 @@\n+import { Button } from 'components'\n+\n export function Item({ value }) {\n   return (\n     <>"
        },
        {
            "sha": "ce714b76a7d15ddabb3606803b864b461211242d",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/19/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F19%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F19%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F19%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action($$ACTION_CLOSURE_BOUND, value2) {\n     var [$$ACTION_ARG_0] = await decryptActionBoundArgs(\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n     return $$ACTION_ARG_0 * value2;"
        },
        {
            "sha": "6a60b5bb87eb7f8a678674a3da0c59434983d5e0",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/2/input.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F2%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F2%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F2%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,6 @@\n+import { validator } from 'auth'\n+import { Button } from 'components'\n+\n async function myAction(a, b, c) {\n   'use server'\n   console.log('a')\n@@ -8,6 +11,6 @@ export default function Page() {\n }\n \n // TODO: should use `action` as function name?\n-export const action = withValidate(async () => {\n+export const action = validator(async () => {\n   'use server'\n })"
        },
        {
            "sha": "cccb541e0af51651c0e43c7ddd53b052d91daa53",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/2/output.js",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F2%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F2%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F2%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,8 @@\n-/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ /* __next_internal_action_entry_do_not_use__ {\"0090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\",\"706a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n+/* __next_internal_action_entry_do_not_use__ {\"0090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\",\"706a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n-export const $$RSC_SERVER_ACTION_0 = async function myAction(a, b, c) {\n+import { validator } from 'auth';\n+import { Button } from 'components';\n+export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function myAction(a, b, c) {\n     console.log('a');\n };\n var myAction = registerServerReference($$RSC_SERVER_ACTION_0, \"706a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null);\n@@ -9,4 +11,4 @@ export default function Page() {\n }\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = async function() {};\n // TODO: should use `action` as function name?\n-export const action = withValidate(registerServerReference($$RSC_SERVER_ACTION_1, \"0090b5db271335765a4b0eab01f044b381b5ebd5cd\", null));\n+export const action = validator(registerServerReference($$RSC_SERVER_ACTION_1, \"0090b5db271335765a4b0eab01f044b381b5ebd5cd\", null));"
        },
        {
            "sha": "65b0eab514c6ac682f6cff568001e2d84613e72e",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/20/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F20%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F20%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F20%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,4 +1,5 @@\n 'use server'\n \n+/** @type {[any]} */\n const [foo] = [null]\n export default foo"
        },
        {
            "sha": "0af02ee3a4c1af12e9bc96c59d227f85661debf5",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/20/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F20%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F20%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F20%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"7fc18c215a6b7cdc64bf709f3a714ffdef1bf9651d\":\"default\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n-const [foo] = [\n+/** @type {[any]} */ const [foo] = [\n     null\n ];\n export default /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ foo;"
        },
        {
            "sha": "75d3ccbef0c159ef5e95686e68abd6bf96862672",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/21/input.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F21%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F21%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F21%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,11 +1,12 @@\n import { validator, another } from 'auth'\n+import { Button } from 'components'\n \n const x = 1\n \n export default function Page() {\n   const y = 1\n   return (\n-    <Foo\n+    <Button\n       // TODO: should use `action` as function name?\n       action={validator(async function (z) {\n         'use server'"
        },
        {
            "sha": "85139085f8091e43797dc9d4dc8a35247509690a",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/21/output.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F21%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F21%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F21%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,14 +1,15 @@\n /* __next_internal_action_entry_do_not_use__ {\"001c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"0090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\",\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n import { validator, another } from 'auth';\n+import { Button } from 'components';\n const x = 1;\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function($$ACTION_CLOSURE_BOUND, z) {\n     var [$$ACTION_ARG_0] = await decryptActionBoundArgs(\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n     return x + $$ACTION_ARG_0 + z;\n };\n export default function Page() {\n     const y = 1;\n-    return <Foo // TODO: should use `action` as function name?\n+    return <Button // TODO: should use `action` as function name?\n     action={validator(registerServerReference($$RSC_SERVER_ACTION_0, \"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null).bind(null, encryptActionBoundArgs(\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", y)))}/>;\n }\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = async function() {};"
        },
        {
            "sha": "4816f2706e8a40c0262029392ef99c11008c7720",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/25/input.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F25%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F25%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F25%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,4 @@\n+import { Button } from 'components'\n import deleteFromDb from 'db'\n \n export function Item({ id1, id2 }) {\n@@ -26,6 +27,8 @@ export function Item2({ id1, id2 }) {\n \n   return temp\n \n+  // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+  // (remove output.js from `tsconfig.json#exclude` to see the error)\n   async function deleteItem() {\n     'use server'\n     await deleteFromDb(id1)"
        },
        {
            "sha": "341ce0ec3083a3879ec38e3339bbded55f1aa540",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/25/output.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F25%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F25%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F25%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n import deleteFromDb from 'db';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function deleteItem($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1] = await decryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n@@ -14,7 +15,9 @@ export function Item({ id1, id2 }) {\n     })();\n     var deleteItem = registerServerReference($$RSC_SERVER_ACTION_0, \"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null).bind(null, encryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", id1, id2));\n }\n-export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = async function deleteItem($$ACTION_CLOSURE_BOUND) {\n+export const // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+// (remove output.js from `tsconfig.json#exclude` to see the error)\n+/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = async function deleteItem($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1] = await decryptActionBoundArgs(\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\", $$ACTION_CLOSURE_BOUND);\n     await deleteFromDb($$ACTION_ARG_0);\n     await deleteFromDb($$ACTION_ARG_1);"
        },
        {
            "sha": "89d633a809950d8a45fcdc20b977791bdf7f866f",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/28/input.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F28%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F28%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F28%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -4,9 +4,12 @@ function Comp(b, c, ...g) {\n   return async function action1(d) {\n     'use server'\n     let f\n+    // @ts-expect-error: window is not iterable\n     console.log(...window, { window })\n     console.log(a, b, action2)\n \n+    // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+    // (remove output.js from `tsconfig.json#exclude` to see the error)\n     async function action2(e) {\n       'use server'\n       console.log(a, c, d, e, f, g)"
        },
        {
            "sha": "7c2528bf96103f0f8b9b351313172269e6b615ae",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/28/output.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F28%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F28%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F28%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,7 +1,9 @@\n /* __next_internal_action_entry_do_not_use__ {\"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"6090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n let a, f;\n-export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action2($$ACTION_CLOSURE_BOUND, e) {\n+export const // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+// (remove output.js from `tsconfig.json#exclude` to see the error)\n+/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action2($$ACTION_CLOSURE_BOUND, e) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2, $$ACTION_ARG_3] = await decryptActionBoundArgs(\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n     console.log(a, $$ACTION_ARG_0, $$ACTION_ARG_1, e, $$ACTION_ARG_2, $$ACTION_ARG_3);\n };\n@@ -13,6 +15,7 @@ export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = a\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_2 = async function action1($$ACTION_CLOSURE_BOUND, d) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2] = await decryptActionBoundArgs(\"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", $$ACTION_CLOSURE_BOUND);\n     let f;\n+    // @ts-expect-error: window is not iterable\n     console.log(...window, {\n         window\n     });"
        },
        {
            "sha": "6d6073744f1f91ce0c2010fda410c3de6957048f",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/30/input.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F30%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F30%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F30%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -6,9 +6,12 @@ export async function action0(b, c, ...g) {\n   return async function action1(d) {\n     'use server'\n     let f\n+    // @ts-expect-error: window is not iterable\n     console.log(...window, { window })\n     console.log(a, b, action2)\n \n+    // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+    // (remove output.js from `tsconfig.json#exclude` to see the error)\n     async function action2(e) {\n       'use server'\n       console.log(a, c, d, e, f, g)"
        },
        {
            "sha": "b44767d05a27f288d86476e2db1e55e1fb6d853c",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/30/output.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F30%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F30%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F30%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,7 +1,9 @@\n /* __next_internal_action_entry_do_not_use__ {\"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"6090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\",\"7f0090eaf4e1f08a2d94f6be401e54a2ded399b87c\":\"action0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n let a, f;\n-export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action2($$ACTION_CLOSURE_BOUND, e) {\n+export const // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+// (remove output.js from `tsconfig.json#exclude` to see the error)\n+/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action2($$ACTION_CLOSURE_BOUND, e) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2, $$ACTION_ARG_3] = await decryptActionBoundArgs(\"606a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n     console.log(a, $$ACTION_ARG_0, $$ACTION_ARG_1, e, $$ACTION_ARG_2, $$ACTION_ARG_3);\n };\n@@ -13,6 +15,7 @@ export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = a\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_2 = async function action1($$ACTION_CLOSURE_BOUND, d) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2] = await decryptActionBoundArgs(\"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", $$ACTION_CLOSURE_BOUND);\n     let f;\n+    // @ts-expect-error: window is not iterable\n     console.log(...window, {\n         window\n     });"
        },
        {
            "sha": "f3d9f13465bfaef8f183840457e7f47889522997",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/39/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F39%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F39%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F39%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -10,5 +10,6 @@ async function Component({ foo }) {\n   }\n \n   const data = await fn()\n+  // @ts-expect-error: data is not a valid react child\n   return <div>{data}</div>\n }"
        },
        {
            "sha": "aa5166dbd96e78219f17b436f5ffa7e4eec79d20",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/39/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F39%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F39%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F39%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -15,6 +15,7 @@ async function Component({ foo }) {\n     const a = 123;\n     var fn = $$RSC_SERVER_REF_1.bind(null, encryptActionBoundArgs(\"c03128060c414d59f8552e4788b846c0d2b7f74743\", a, foo));\n     const data = await fn();\n+    // @ts-expect-error: data is not a valid react child\n     return <div>{data}</div>;\n }\n var $$RSC_SERVER_REF_1 = registerServerReference($$RSC_SERVER_CACHE_0, \"c03128060c414d59f8552e4788b846c0d2b7f74743\", null);"
        },
        {
            "sha": "31c6b1f926c7300014263b0433a3bfca62dcb474",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/40/input.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F40%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F40%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F40%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,5 @@\n+import { Form } from 'components'\n+\n async function Component({ a }) {\n   const b = 1\n \n@@ -16,8 +18,8 @@ async function Component({ a }) {\n   }\n \n   return (\n-    <form action={action}>\n+    <Form action={action}>\n       <button>Submit</button>\n-    </form>\n+    </Form>\n   )\n }"
        },
        {
            "sha": "587e32d34b47e5bf99e0f3644e55ed2f9fa99369",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/40/output.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F40%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F40%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F40%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,7 @@\n /* __next_internal_action_entry_do_not_use__ {\"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"e03128060c414d59f8552e4788b846c0d2b7f74743\":\"$$RSC_SERVER_CACHE_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n import { cache as $$cache__ } from \"private-next-rsc-cache-wrapper\";\n+import { Form } from 'components';\n export var /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_CACHE_0 = $$cache__(\"default\", \"e03128060c414d59f8552e4788b846c0d2b7f74743\", 2, async function cache([$$ACTION_ARG_0, $$ACTION_ARG_1], e) {\n     const f = $$ACTION_ARG_0 + e;\n     return [\n@@ -23,8 +24,8 @@ export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_2 = a\n async function Component({ a }) {\n     const b = 1;\n     var action = registerServerReference($$RSC_SERVER_ACTION_2, \"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", null).bind(null, encryptActionBoundArgs(\"601c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", a, b));\n-    return <form action={action}>\n+    return <Form action={action}>\n       <button>Submit</button>\n-    </form>;\n+    </Form>;\n }\n var $$RSC_SERVER_REF_1 = registerServerReference($$RSC_SERVER_CACHE_0, \"e03128060c414d59f8552e4788b846c0d2b7f74743\", null);"
        },
        {
            "sha": "15a9e20c8a8d39ee706fa85d379e11104c2a5e10",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/41/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F41%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F41%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F41%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -10,5 +10,6 @@ export async function Component({ foo }) {\n   }\n \n   const data = await fn()\n+  // @ts-expect-error: data is not a valid react child\n   return <div>{data}</div>\n }"
        },
        {
            "sha": "0ede5d0eafdcddbe15fcda7cf11a24e3824d09f3",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/41/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F41%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F41%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F41%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -12,6 +12,7 @@ export var /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_CACHE_1 = $$ca\n     const a = 123;\n     var fn = registerServerReference($$RSC_SERVER_ACTION_0, \"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null).bind(null, encryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", a, foo));\n     const data = await fn();\n+    // @ts-expect-error: data is not a valid react child\n     return <div>{data}</div>;\n });\n Object.defineProperty($$RSC_SERVER_CACHE_1, \"name\", {"
        },
        {
            "sha": "a5d450374855f90533341559778b68ad23b0d8ed",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/42/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F42%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F42%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F42%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -10,5 +10,6 @@ async function Component({ foo }) {\n   }\n \n   const data = await fn()\n+  // @ts-expect-error: data is not a valid react child\n   return <div>{data}</div>\n }"
        },
        {
            "sha": "a9097b99b649255de83b7174a7913d7fe80bcab6",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/42/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F42%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F42%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F42%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -15,6 +15,7 @@ async function Component({ foo }) {\n     const a = 123;\n     const fn = $$RSC_SERVER_REF_1.bind(null, encryptActionBoundArgs(\"c03128060c414d59f8552e4788b846c0d2b7f74743\", a, foo));\n     const data = await fn();\n+    // @ts-expect-error: data is not a valid react child\n     return <div>{data}</div>;\n }\n var $$RSC_SERVER_REF_1 = registerServerReference($$RSC_SERVER_CACHE_0, \"c03128060c414d59f8552e4788b846c0d2b7f74743\", null);"
        },
        {
            "sha": "d347157c9ad24aa5964f9a0d8d02111cc872c788",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/43/input.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F43%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F43%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F43%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,4 +1,4 @@\n-import { Foo } from './client'\n+import { Button } from 'components'\n \n const secret = 'my password is qwerty123'\n \n@@ -8,7 +8,7 @@ async function getCachedRandom(x, children) {\n     x,\n     y: Math.random(),\n     z: (\n-      <Foo\n+      <Button\n         action={async () => {\n           'use server'\n "
        },
        {
            "sha": "aa714219064a7c8be8199e2591fcf4ad09347773",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/43/output.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F43%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F43%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F43%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,7 +1,7 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"e0951c375b4a6a6e89d67b743ec5808127cfde405d\":\"$$RSC_SERVER_CACHE_1\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n import { cache as $$cache__ } from \"private-next-rsc-cache-wrapper\";\n-import { Foo } from './client';\n+import { Button } from 'components';\n const secret = 'my password is qwerty123';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0] = await decryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n@@ -11,7 +11,7 @@ export var /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_CACHE_1 = $$ca\n     return {\n         x,\n         y: Math.random(),\n-        z: <Foo action={registerServerReference($$RSC_SERVER_ACTION_0, \"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null).bind(null, encryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", x))}/>,\n+        z: <Button action={registerServerReference($$RSC_SERVER_ACTION_0, \"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null).bind(null, encryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", x))}/>,\n         r: children\n     };\n });"
        },
        {
            "sha": "dcefbb7b94e2bce869230a0098172f6084190dba",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/44/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F44%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F44%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F44%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,4 +1,4 @@\n-import { Form } from './form'\n+import { Form } from 'components'\n \n export default function Page() {\n   const foo = async () => {"
        },
        {
            "sha": "9aaf7a5848cddf8762491c47701fad9eae119454",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/44/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F44%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F44%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F44%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"001c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"006a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"0090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\",\"009ed0cc47abc4e1c64320cf42b74ae60b58c40f00\":\"$$RSC_SERVER_ACTION_3\",\"00a9b2939c1f39073a6bed227fd20233064c8b7869\":\"$$RSC_SERVER_ACTION_4\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n-import { Form } from './form';\n+import { Form } from 'components';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function foo() {\n     return 'declarator arrow function expression';\n };"
        },
        {
            "sha": "ddd430111eb4ac577dc364d5f7e64c35b9e02125",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/46/input.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F46%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F46%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F46%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -25,13 +25,13 @@ async function f4(a, b, c, d, e) {\n }\n \n // Should be 0 111111 0, which is \"7e\" in hex.\n-async function f4(a, b, c, d, e, f) {\n+async function f5(a, b, c, d, e, f) {\n   'use server'\n   return [a, b, c, d, e, f]\n }\n \n // Should be 1 111111 1, which is \"ff\" in hex.\n-async function f5(a, b, c, d, e, f, g) {\n+async function f6(a, b, c, d, e, f, g) {\n   'use cache'\n   return [a, b, c, d, e, f, g]\n }"
        },
        {
            "sha": "2d5eba1dccfab225975ae30f74d9563ebb738947",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/46/output.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F46%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F46%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F46%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -47,7 +47,7 @@ export const // Should be 0 111110 0, which is \"7c\" in hex.\n };\n var f4 = registerServerReference($$RSC_SERVER_ACTION_3, \"7c9ed0cc47abc4e1c64320cf42b74ae60b58c40f00\", null);\n export const // Should be 0 111111 0, which is \"7e\" in hex.\n-/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_4 = async function f4(a, b, c, d, e, f) {\n+/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_4 = async function f5(a, b, c, d, e, f) {\n     return [\n         a,\n         b,\n@@ -57,9 +57,9 @@ export const // Should be 0 111111 0, which is \"7e\" in hex.\n         f\n     ];\n };\n-var f4 = registerServerReference($$RSC_SERVER_ACTION_4, \"7ea9b2939c1f39073a6bed227fd20233064c8b7869\", null);\n+var f5 = registerServerReference($$RSC_SERVER_ACTION_4, \"7ea9b2939c1f39073a6bed227fd20233064c8b7869\", null);\n export var // Should be 1 111111 1, which is \"ff\" in hex.\n-/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_CACHE_5 = $$cache__(\"default\", \"ff471a5eb0be1c31686dd4ba938a80328b80b1615d\", 0, async function f5(a, b, c, d, e, f, g) {\n+/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_CACHE_5 = $$cache__(\"default\", \"ff471a5eb0be1c31686dd4ba938a80328b80b1615d\", 0, async function f6(a, b, c, d, e, f, g) {\n     return [\n         a,\n         b,\n@@ -71,7 +71,7 @@ export var // Should be 1 111111 1, which is \"ff\" in hex.\n     ];\n });\n Object.defineProperty($$RSC_SERVER_CACHE_5, \"name\", {\n-    \"value\": \"f5\",\n+    \"value\": \"f6\",\n     \"writable\": false\n });\n-var f5 = registerServerReference($$RSC_SERVER_CACHE_5, \"ff471a5eb0be1c31686dd4ba938a80328b80b1615d\", null);\n+var f6 = registerServerReference($$RSC_SERVER_CACHE_5, \"ff471a5eb0be1c31686dd4ba938a80328b80b1615d\", null);"
        },
        {
            "sha": "80b210b777732af01ea2e6e6fc766eb7ec425b38",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/47/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F47%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F47%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F47%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,4 +1,4 @@\n-import { redirect } from 'next/navigation'\n+import { redirect } from 'navigation'\n \n async function action(formData) {\n   'use server'"
        },
        {
            "sha": "ff0a60e5493cb3bf8c24bd455ba5c12f05698a9c",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/47/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F47%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F47%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F47%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n-import { redirect } from 'next/navigation';\n+import { redirect } from 'navigation';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function action(formData) {\n     redirect('/header?name=' + formData.get('name') + '&hidden-info=' + formData.get('hidden-info'));\n };"
        },
        {
            "sha": "1bec87b71db21e37a4e91846c101de34d68a1d74",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/5/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F5%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F5%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F5%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,4 @@\n+import { Button } from 'components'\n import deleteFromDb from 'db'\n \n const v1 = 'v1'"
        },
        {
            "sha": "0f4a233a85c085bf0f1e6c63f99d5b503e0dccda",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/5/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F5%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F5%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F5%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n import deleteFromDb from 'db';\n const v1 = 'v1';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function deleteItem($$ACTION_CLOSURE_BOUND) {"
        },
        {
            "sha": "c2222f2c88d1c291725b02af0bc509160f5b14c1",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/51/input.js",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F51%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F51%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F51%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,5 +1,11 @@\n 'use cache'\n \n+// FIXME: this produces incorrect output, with\n+//\n+//   Object.defineProperty($$RSC_SERVER_ACTION_0, ...)\n+//\n+// where `$$RSC_SERVER_ACTION_0` doesn't exist.\n+// but why is typescript not complaining about an undefined variable there?\n export default async function (a, b, c) {\n   'use server'\n "
        },
        {
            "sha": "ce0ef54cddeb7dd4c8012ff76401e86ca466655f",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/52/input.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F52%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F52%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F52%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,5 @@\n+import { Client } from 'components'\n+\n export async function Component(a) {\n   const b = 1\n "
        },
        {
            "sha": "efc803f418fb671eb55e7566537dc5c4e046e450",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/52/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F52%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F52%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F52%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,7 @@\n /* __next_internal_action_entry_do_not_use__ {\"409651a98a9dccd7ffbe72ff5cf0f38546ca1252ab\":\"$$RSC_SERVER_ACTION_5\",\"60a9b2939c1f39073a6bed227fd20233064c8b7869\":\"$$RSC_SERVER_ACTION_4\",\"c069348c79fce073bae2f70f139565a2fda1c74c74\":\"$$RSC_SERVER_CACHE_2\",\"e03128060c414d59f8552e4788b846c0d2b7f74743\":\"$$RSC_SERVER_CACHE_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n import { cache as $$cache__ } from \"private-next-rsc-cache-wrapper\";\n+import { Client } from 'components';\n export var /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_CACHE_0 = $$cache__(\"default\", \"e03128060c414d59f8552e4788b846c0d2b7f74743\", 2, async function([$$ACTION_ARG_0, $$ACTION_ARG_1], c) {\n     return $$ACTION_ARG_0 + $$ACTION_ARG_1 + c;\n });"
        },
        {
            "sha": "bb5023918e1752c913cd3d3946aadc67a995e54d",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/59/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F59%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F59%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F59%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,6 @@\n 'use server'\n \n-import { db } from './database'\n+import { db } from 'database'\n \n export const createItem = async (title) => {\n   return new Promise((resolve, reject) => {"
        },
        {
            "sha": "2652063e39b661c8dbf6f8f77df6613ce88bbeda",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/59/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F59%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F59%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F59%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,6 @@\n /* __next_internal_action_entry_do_not_use__ {\"00b98e10c56c1bee7af6ff753c91a4c70ab0419f0a\":\"test\",\"7f7a40999f9833d2bb66a82d6a20a7f2a7810315f8\":\"createItem\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n-import { db } from './database';\n+import { db } from 'database';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ createItem = async (title)=>{\n     return new Promise((resolve, reject)=>{\n         db.serialize(()=>{"
        },
        {
            "sha": "0b9a40521ed6773a84f7b59f6a5536e03dd85be9",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/6/input.js",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F6%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F6%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F6%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,4 +1,6 @@\n+import ANYTHING from 'anything'\n import f, { f1, f2 } from 'foo'\n+import { Button } from 'components'\n \n const f3 = 1\n var f4\n@@ -16,7 +18,7 @@ const [\n     ...f17\n   },\n   ...f18\n-] = []\n+] = ANYTHING\n \n if (true) {\n   const g19 = 1\n@@ -28,6 +30,7 @@ function x() {\n }\n \n export function y(p, [p1, { p2 }], ...p3) {\n+  /** @type {any} */\n   const f2 = 1\n   const f11 = 1\n   const f19 = 1\n@@ -66,7 +69,9 @@ export function y(p, [p1, { p2 }], ...p3) {\n       p1,\n       p2,\n       p3,\n+      // @ts-expect-error: deliberately undefined variable\n       g19,\n+      // @ts-expect-error: deliberately undefined variable\n       g20,\n       globalThis\n     )"
        },
        {
            "sha": "0111797dd064bcdd9e01dc45452a68a79fae82b2",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/6/output.js",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F6%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F6%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F6%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,10 +1,12 @@\n /* __next_internal_action_entry_do_not_use__ {\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import ANYTHING from 'anything';\n import f, { f1, f2 } from 'foo';\n+import { Button } from 'components';\n const f3 = 1;\n var f4;\n let f5;\n-const [f6, [f7, ...f8], { f9 }, { f10, f11: [f12], f13: f14, f15: { f16 }, ...f17 }, ...f18] = [];\n+const [f6, [f7, ...f8], { f9 }, { f10, f11: [f12], f13: f14, f15: { f16 }, ...f17 }, ...f18] = ANYTHING;\n if (true) {\n     const g191 = 1;\n }\n@@ -19,10 +21,12 @@ export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = a\n         const f18 = 1;\n         const f19 = 1;\n     }\n-    console.log(f, f1, $$ACTION_ARG_0, f3, f4, f5, f6, f7, f8, $$ACTION_ARG_0(f9), f12, $$ACTION_ARG_1, f16.x, f17, f18, $$ACTION_ARG_2, $$ACTION_ARG_3, $$ACTION_ARG_4, $$ACTION_ARG_5, g19, g20, globalThis);\n+    console.log(f, f1, $$ACTION_ARG_0, f3, f4, f5, f6, f7, f8, $$ACTION_ARG_0(f9), f12, $$ACTION_ARG_1, f16.x, f17, f18, $$ACTION_ARG_2, $$ACTION_ARG_3, $$ACTION_ARG_4, $$ACTION_ARG_5, // @ts-expect-error: deliberately undefined variable\n+    g19, // @ts-expect-error: deliberately undefined variable\n+    g20, globalThis);\n };\n export function y(p, [p1, { p2 }], ...p3) {\n-    const f2 = 1;\n+    /** @type {any} */ const f2 = 1;\n     const f11 = 1;\n     const f19 = 1;\n     if (true) {"
        },
        {
            "sha": "793a135b8f2bcc9d209c7ce72595486578f90253",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/7/input.js",
            "status": "modified",
            "additions": 17,
            "deletions": 4,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F7%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F7%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F7%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,4 @@\n+import { Button } from 'components'\n import deleteFromDb from 'db'\n \n export function Item1(product, foo, bar) {\n@@ -7,7 +8,10 @@ export function Item1(product, foo, bar) {\n       product.id,\n       product?.foo,\n       product.bar.baz,\n-      product[(foo, bar)]\n+      product[\n+        // @ts-expect-error: deliberate useless comma\n+        (foo, bar)\n+      ]\n     )\n   }\n   return <Button action={a}>Delete</Button>\n@@ -20,7 +24,10 @@ export function Item2(product, foo, bar) {\n       product.id,\n       product?.foo,\n       product.bar.baz,\n-      product[(foo, bar)]\n+      product[\n+        // @ts-expect-error: deliberate useless comma\n+        (foo, bar)\n+      ]\n     )\n   }\n   return <Button action={deleteItem2}>Delete</Button>\n@@ -33,7 +40,10 @@ export function Item3(product, foo, bar) {\n       product.id,\n       product?.foo,\n       product.bar.baz,\n-      product[(foo, bar)]\n+      product[\n+        // @ts-expect-error: deliberate useless comma\n+        (foo, bar)\n+      ]\n     )\n   }\n   return <Button action={deleteItem3}>Delete</Button>\n@@ -46,7 +56,10 @@ export function Item4(product, foo, bar) {\n       product.id,\n       product?.foo,\n       product.bar.baz,\n-      product[(foo, bar)]\n+      product[\n+        // @ts-expect-error: deliberate useless comma\n+        (foo, bar)\n+      ]\n     )\n   }\n   return <Button action={deleteItem4}>Delete</Button>"
        },
        {
            "sha": "301519af88380ad8e91fc898494c56f8010ae389",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/7/output.js",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F7%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F7%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F7%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,33 +1,38 @@\n /* __next_internal_action_entry_do_not_use__ {\"401c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\":\"$$RSC_SERVER_ACTION_2\",\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\",\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\":\"$$RSC_SERVER_ACTION_1\",\"409ed0cc47abc4e1c64320cf42b74ae60b58c40f00\":\"$$RSC_SERVER_ACTION_3\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n+import { Button } from 'components';\n import deleteFromDb from 'db';\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function deleteItem1($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2] = await decryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", $$ACTION_CLOSURE_BOUND);\n-    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[$$ACTION_ARG_1, $$ACTION_ARG_2]);\n+    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[// @ts-expect-error: deliberate useless comma\n+    $$ACTION_ARG_1, $$ACTION_ARG_2]);\n };\n export function Item1(product, foo, bar) {\n     const a = registerServerReference($$RSC_SERVER_ACTION_0, \"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", null).bind(null, encryptActionBoundArgs(\"406a88810ecce4a4e8b59d53b8327d7e98bbf251d7\", product, foo, bar));\n     return <Button action={a}>Delete</Button>;\n }\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_1 = async function deleteItem2($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2] = await decryptActionBoundArgs(\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\", $$ACTION_CLOSURE_BOUND);\n-    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[$$ACTION_ARG_1, $$ACTION_ARG_2]);\n+    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[// @ts-expect-error: deliberate useless comma\n+    $$ACTION_ARG_1, $$ACTION_ARG_2]);\n };\n export function Item2(product, foo, bar) {\n     var deleteItem2 = registerServerReference($$RSC_SERVER_ACTION_1, \"4090b5db271335765a4b0eab01f044b381b5ebd5cd\", null).bind(null, encryptActionBoundArgs(\"4090b5db271335765a4b0eab01f044b381b5ebd5cd\", product, foo, bar));\n     return <Button action={deleteItem2}>Delete</Button>;\n }\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_2 = async function deleteItem3($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2] = await decryptActionBoundArgs(\"401c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", $$ACTION_CLOSURE_BOUND);\n-    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[$$ACTION_ARG_1, $$ACTION_ARG_2]);\n+    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[// @ts-expect-error: deliberate useless comma\n+    $$ACTION_ARG_1, $$ACTION_ARG_2]);\n };\n export function Item3(product, foo, bar) {\n     const deleteItem3 = registerServerReference($$RSC_SERVER_ACTION_2, \"401c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", null).bind(null, encryptActionBoundArgs(\"401c36b06e398c97abe5d5d7ae8c672bfddf4e1b91\", product, foo, bar));\n     return <Button action={deleteItem3}>Delete</Button>;\n }\n export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_3 = async function deleteItem4($$ACTION_CLOSURE_BOUND) {\n     var [$$ACTION_ARG_0, $$ACTION_ARG_1, $$ACTION_ARG_2] = await decryptActionBoundArgs(\"409ed0cc47abc4e1c64320cf42b74ae60b58c40f00\", $$ACTION_CLOSURE_BOUND);\n-    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[$$ACTION_ARG_1, $$ACTION_ARG_2]);\n+    await deleteFromDb($$ACTION_ARG_0.id, $$ACTION_ARG_0?.foo, $$ACTION_ARG_0.bar.baz, $$ACTION_ARG_0[// @ts-expect-error: deliberate useless comma\n+    $$ACTION_ARG_1, $$ACTION_ARG_2]);\n };\n export function Item4(product, foo, bar) {\n     const deleteItem4 = registerServerReference($$RSC_SERVER_ACTION_3, \"409ed0cc47abc4e1c64320cf42b74ae60b58c40f00\", null).bind(null, encryptActionBoundArgs(\"409ed0cc47abc4e1c64320cf42b74ae60b58c40f00\", product, foo, bar));"
        },
        {
            "sha": "ed7d8565c987bacbce8c4fee12790fa7c2d6d6d0",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/8/input.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F8%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F8%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F8%2Finput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,3 +1,5 @@\n+import { Button } from 'components'\n+\n async function myAction(a, b, c) {\n   // comment\n   'use strict'"
        },
        {
            "sha": "0c7c1093d87bcba168771c18d2dc199e131912a8",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/server-graph/8/output.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F8%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F8%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fserver-graph%2F8%2Foutput.js?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -1,6 +1,7 @@\n-/*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ /* __next_internal_action_entry_do_not_use__ {\"706a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n+/* __next_internal_action_entry_do_not_use__ {\"706a88810ecce4a4e8b59d53b8327d7e98bbf251d7\":\"$$RSC_SERVER_ACTION_0\"} */ import { registerServerReference } from \"private-next-rsc-server-reference\";\n import { encryptActionBoundArgs, decryptActionBoundArgs } from \"private-next-rsc-action-encryption\";\n-export const $$RSC_SERVER_ACTION_0 = async function myAction(a, b, c) {\n+import { Button } from 'components';\n+export const /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ $$RSC_SERVER_ACTION_0 = async function myAction(a, b, c) {\n     // comment\n     'use strict';\n     console.log('a');"
        },
        {
            "sha": "297f2bdda85f80e03738b6e97fb904e0278a55f4",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/tsconfig.json",
            "status": "added",
            "additions": 36,
            "deletions": 0,
            "changes": 36,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Ftsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Ftsconfig.json?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -0,0 +1,36 @@\n+{\n+  \"compilerOptions\": {\n+    \"noEmit\": true,\n+    \"rootDir\": \".\",\n+\n+    \"allowJs\": true,\n+    \"checkJs\": true,\n+\n+    \"lib\": [\"ESNext\", \"DOM\"],\n+    \"skipLibCheck\": true,\n+\n+    \"strict\": true,\n+    \"jsx\": \"preserve\",\n+\n+    // most of the code is untyped\n+    \"noImplicitAny\": false,\n+    \"noImplicitThis\": false,\n+\n+    \"target\": \"ESNext\",\n+    \"esModuleInterop\": true,\n+    \"module\": \"Preserve\",\n+    \"moduleResolution\": \"bundler\",\n+    \"moduleDetection\": \"force\"\n+  },\n+  \"files\": [\"./index.ts\"], // loads ambient declarations for modules used in tests\n+  \"include\": [\"./**/*/input.js\", \"./**/*/output.js\"],\n+  \"exclude\": [\n+    // FIXME: invalid transformation of hoisted functions (https://github.com/vercel/next.js/issues/57392)\n+    \"./server-graph/25/output.js\",\n+    \"./server-graph/28/output.js\",\n+    \"./server-graph/30/output.js\",\n+    // Excluded because of weird TS behavior around `action.bind(...)` making args optional\n+    // (but only if no JSDoc type annotations are present)\n+    \"./server-graph/24/output.js\"\n+  ]\n+}"
        },
        {
            "sha": "cfc527f3a65a30086a380cd81f714676718ade45",
            "filename": "package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/669c52e393341753679f604a3e71c61e362253da/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/669c52e393341753679f604a3e71c61e362253da/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=669c52e393341753679f604a3e71c61e362253da",
            "patch": "@@ -42,7 +42,8 @@\n     \"lint-eslint\": \"cross-env ESLINT_USE_FLAT_CONFIG=false eslint . --ext js,jsx,mjs,ts,tsx,mts,mdx --config .eslintrc.json --no-eslintrc\",\n     \"lint-ast-grep\": \"ast-grep scan\",\n     \"lint-no-typescript\": \"run-p prettier-check lint-eslint lint-language\",\n-    \"types-and-precompiled\": \"run-p lint-typescript check-precompiled validate-externals-doc\",\n+    \"types-and-precompiled\": \"run-p lint-typescript check-precompiled validate-externals-doc check-compiler-fixtures\",\n+    \"check-compiler-fixtures\": \"find crates/next-custom-transforms/tests/fixture -type f -name 'tsconfig.json' -exec /bin/sh -c 'echo \\\"project: $1\\\"; pnpm tsc --noEmit --project \\\"$1\\\"' -- {} \\\\;\",\n     \"validate-externals-doc\": \"node ./scripts/validate-externals-doc.js\",\n     \"lint\": \"run-p test-types lint-typescript prettier-check lint-eslint lint-ast-grep lint-language\",\n     \"lint-fix\": \"pnpm prettier-fix && pnpm lint-eslint --fix\","
        }
    ],
    "stats": {
        "total": 345,
        "additions": 292,
        "deletions": 53
    }
}