{
    "author": "acdlite",
    "message": "Omit params to from client segments (#84883)\n\nIf a layout or page is marked with \"use client\", we do not need to pass\nany runtime params from the server; the client can parse them from the\nURL, or (in the case of a rewrite) from the x-next-rewritten-path and\nx-next-rewritten-query headers. This means the client can treat the\nsegment as fully static, and no dynamic request is necessary upon\nnavigation.",
    "sha": "683a318d7962b6f1074301f4cf853ebd1fa79eea",
    "files": [
        {
            "sha": "423eae32f0cd521aa81c786fc579ab8a97f2127c",
            "filename": "packages/next/src/client/app-index.tsx",
            "status": "modified",
            "additions": 39,
            "deletions": 11,
            "changes": 50,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -3,7 +3,10 @@ import ReactDOMClient from 'react-dom/client'\n import React from 'react'\n // TODO: Explicitly import from client.browser\n // eslint-disable-next-line import/no-extraneous-dependencies\n-import { createFromReadableStream as createFromReadableStreamBrowser } from 'react-server-dom-webpack/client'\n+import {\n+  createFromReadableStream as createFromReadableStreamBrowser,\n+  createFromFetch as createFromFetchBrowser,\n+} from 'react-server-dom-webpack/client'\n import { HeadManagerContext } from '../shared/lib/head-manager-context.shared-runtime'\n import { onRecoverableError } from './react-client-callbacks/on-recoverable-error'\n import {\n@@ -22,11 +25,14 @@ import { createInitialRouterState } from './components/router-reducer/create-ini\n import { MissingSlotContext } from '../shared/lib/app-router-context.shared-runtime'\n import { setAppBuildId } from './app-build-id'\n import type { StaticIndicatorState } from './dev/hot-reloader/app/hot-reloader-app'\n+import { createInitialRSCPayloadFromFallbackPrerender } from './flight-data-helpers'\n \n /// <reference types=\"react-dom/experimental\" />\n \n const createFromReadableStream =\n   createFromReadableStreamBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromReadableStream']\n+const createFromFetch =\n+  createFromFetchBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromFetch']\n \n const appElement: HTMLElement | Document = document\n \n@@ -173,16 +179,38 @@ if (\n   debugChannel = createDebugChannel(undefined)\n }\n \n-const initialServerResponse = createFromReadableStream<InitialRSCPayload>(\n-  readable,\n-  {\n-    callServer,\n-    findSourceMapURL,\n-    debugChannel,\n-    // @ts-expect-error This is not yet part of the React types\n-    startTime: 0,\n-  }\n-)\n+const clientResumeFetch: Promise<Response> | undefined =\n+  // @ts-expect-error\n+  window.__NEXT_CLIENT_RESUME\n+\n+let initialServerResponse: Promise<InitialRSCPayload>\n+if (clientResumeFetch) {\n+  initialServerResponse = Promise.resolve(\n+    createFromFetch<InitialRSCPayload>(clientResumeFetch, {\n+      callServer,\n+      findSourceMapURL,\n+      debugChannel,\n+      // @ts-expect-error This is not yet part of the React types\n+      startTime: 0,\n+    })\n+  ).then(async (fallbackInitialRSCPayload) =>\n+    createInitialRSCPayloadFromFallbackPrerender(\n+      await clientResumeFetch,\n+      fallbackInitialRSCPayload\n+    )\n+  )\n+} else {\n+  initialServerResponse = createFromReadableStream<InitialRSCPayload>(\n+    readable,\n+    {\n+      callServer,\n+      findSourceMapURL,\n+      debugChannel,\n+      // @ts-expect-error This is not yet part of the React types\n+      startTime: 0,\n+    }\n+  )\n+}\n \n function ServerRoot({\n   initialRSCPayload,"
        },
        {
            "sha": "a69058fe89e7b00d28ce3987e7748e64588727b2",
            "filename": "packages/next/src/client/components/app-router.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -434,6 +434,7 @@ function Router({\n       parentTree: tree,\n       parentCacheNode: cache,\n       parentSegmentPath: null,\n+      parentParams: {},\n       // Root node always has `url`\n       // Provided in AppTreeContext to ensure it can be overwritten in layout-router\n       url: canonicalUrl,"
        },
        {
            "sha": "ca13434a451b6bb5747d509d49323011944c51c5",
            "filename": "packages/next/src/client/components/client-page.tsx",
            "status": "modified",
            "additions": 30,
            "deletions": 7,
            "changes": 37,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fclient-page.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fclient-page.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fclient-page.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -4,6 +4,10 @@ import type { ParsedUrlQuery } from 'querystring'\n import { InvariantError } from '../../shared/lib/invariant-error'\n \n import type { Params } from '../../server/request/params'\n+import { LayoutRouterContext } from '../../shared/lib/app-router-context.shared-runtime'\n+import { use } from 'react'\n+import { urlSearchParamsToParsedUrlQuery } from '../route-params'\n+import { SearchParamsContext } from '../../shared/lib/hooks-client-context.shared-runtime'\n \n /**\n  * When the Page is a client component we send the params and searchParams to this client wrapper\n@@ -15,16 +19,35 @@ import type { Params } from '../../server/request/params'\n  */\n export function ClientPageRoot({\n   Component,\n-  searchParams,\n-  params,\n-  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n-  promises,\n+  serverProvidedParams,\n }: {\n   Component: React.ComponentType<any>\n-  searchParams: ParsedUrlQuery\n-  params: Params\n-  promises?: Array<Promise<any>>\n+  serverProvidedParams: null | {\n+    searchParams: ParsedUrlQuery\n+    params: Params\n+    promises: Array<Promise<any>> | null\n+  }\n }) {\n+  let searchParams: ParsedUrlQuery\n+  let params: Params\n+  if (serverProvidedParams !== null) {\n+    searchParams = serverProvidedParams.searchParams\n+    params = serverProvidedParams.params\n+  } else {\n+    // When Cache Components is enabled, the server does not pass the params as\n+    // props; they are parsed on the client and passed via context.\n+    const layoutRouterContext = use(LayoutRouterContext)\n+    params =\n+      layoutRouterContext !== null ? layoutRouterContext.parentParams : {}\n+\n+    // This is an intentional behavior change: when Cache Components is enabled,\n+    // client segments receive the \"canonical\" search params, not the\n+    // rewritten ones. Users should either call useSearchParams directly or pass\n+    // the rewritten ones in from a Server Component.\n+    // TODO: Log a deprecation error when this object is accessed\n+    searchParams = urlSearchParamsToParsedUrlQuery(use(SearchParamsContext)!)\n+  }\n+\n   if (typeof window === 'undefined') {\n     const { workAsyncStorage } =\n       require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')"
        },
        {
            "sha": "fff9788731aadde311fd6b9ecb8f79a5c2b29d52",
            "filename": "packages/next/src/client/components/client-segment.tsx",
            "status": "modified",
            "additions": 18,
            "deletions": 5,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fclient-segment.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fclient-segment.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fclient-segment.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -3,6 +3,8 @@\n import { InvariantError } from '../../shared/lib/invariant-error'\n \n import type { Params } from '../../server/request/params'\n+import { LayoutRouterContext } from '../../shared/lib/app-router-context.shared-runtime'\n+import { use } from 'react'\n \n /**\n  * When the Page is a client component we send the params to this client wrapper\n@@ -15,15 +17,26 @@ import type { Params } from '../../server/request/params'\n export function ClientSegmentRoot({\n   Component,\n   slots,\n-  params,\n-  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n-  promise,\n+  serverProvidedParams,\n }: {\n   Component: React.ComponentType<any>\n   slots: { [key: string]: React.ReactNode }\n-  params: Params\n-  promise?: Promise<any>\n+  serverProvidedParams: null | {\n+    params: Params\n+    promises: Array<Promise<any>> | null\n+  }\n }) {\n+  let params: Params\n+  if (serverProvidedParams !== null) {\n+    params = serverProvidedParams.params\n+  } else {\n+    // When Cache Components is enabled, the server does not pass the params\n+    // as props; they are parsed on the client and passed via context.\n+    const layoutRouterContext = use(LayoutRouterContext)\n+    params =\n+      layoutRouterContext !== null ? layoutRouterContext.parentParams : {}\n+  }\n+\n   if (typeof window === 'undefined') {\n     const { workAsyncStorage } =\n       require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')"
        },
        {
            "sha": "7f366aba26e796b2e648f79a1df5c1135d0076cd",
            "filename": "packages/next/src/client/components/layout-router.tsx",
            "status": "modified",
            "additions": 31,
            "deletions": 2,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -47,6 +47,8 @@ import {\n   NavigationPromisesContext,\n   type NavigationPromises,\n } from '../../shared/lib/hooks-client-context.shared-runtime'\n+import { getParamValueFromCacheKey } from '../route-params'\n+import type { Params } from '../../server/request/params'\n \n /**\n  * Add refetch marker to router state at the point of the current layout segment.\n@@ -337,12 +339,14 @@ function InnerLayoutRouter({\n   tree,\n   segmentPath,\n   cacheNode,\n+  params,\n   url,\n   isActive,\n }: {\n   tree: FlightRouterState\n   segmentPath: FlightSegmentPath\n   cacheNode: CacheNode\n+  params: Params\n   url: string\n   isActive: boolean\n }) {\n@@ -464,6 +468,7 @@ function InnerLayoutRouter({\n         parentTree: tree,\n         parentCacheNode: cacheNode,\n         parentSegmentPath: segmentPath,\n+        parentParams: params,\n \n         // TODO-APP: overriding of url for parallel routes\n         url: url,\n@@ -565,8 +570,14 @@ export default function OuterLayoutRouter({\n     throw new Error('invariant expected layout router to be mounted')\n   }\n \n-  const { parentTree, parentCacheNode, parentSegmentPath, url, isActive } =\n-    context\n+  const {\n+    parentTree,\n+    parentCacheNode,\n+    parentSegmentPath,\n+    parentParams,\n+    url,\n+    isActive,\n+  } = context\n \n   // Get the CacheNode for this segment by reading it from the parent segment's\n   // child map.\n@@ -668,6 +679,23 @@ export default function OuterLayoutRouter({\n       )\n     }\n \n+    let params = parentParams\n+    if (Array.isArray(segment)) {\n+      // This segment contains a route param. Accumulate these as we traverse\n+      // down the router tree. The result represents the set of params that\n+      // the layout/page components are permitted to access below this point.\n+      const paramName = segment[0]\n+      const paramCacheKey = segment[1]\n+      const paramType = segment[2]\n+      const paramValue = getParamValueFromCacheKey(paramCacheKey, paramType)\n+      if (paramValue !== null) {\n+        params = {\n+          ...parentParams,\n+          [paramName]: paramValue,\n+        }\n+      }\n+    }\n+\n     // TODO: The loading module data for a segment is stored on the parent, then\n     // applied to each of that parent segment's parallel route slots. In the\n     // simple case where there's only one parallel route (the `children` slot),\n@@ -697,6 +725,7 @@ export default function OuterLayoutRouter({\n                     <InnerLayoutRouter\n                       url={url}\n                       tree={tree}\n+                      params={params}\n                       cacheNode={cacheNode}\n                       segmentPath={segmentPath}\n                       isActive={isActive && stateKey === activeStateKey}"
        },
        {
            "sha": "9e9470ba7d5356930ee1796a2f82be6d875e0d0d",
            "filename": "packages/next/src/client/flight-data-helpers.ts",
            "status": "modified",
            "additions": 133,
            "deletions": 0,
            "changes": 133,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -6,8 +6,18 @@ import type {\n   FlightSegmentPath,\n   Segment,\n   HeadData,\n+  InitialRSCPayload,\n } from '../shared/lib/app-router-types'\n import { PAGE_SEGMENT_KEY } from '../shared/lib/segment'\n+import type { NormalizedSearch } from './components/segment-cache'\n+import {\n+  getCacheKeyForDynamicParam,\n+  parseDynamicParamFromURLPart,\n+  doesStaticSegmentAppearInURL,\n+  getRenderedPathname,\n+  getRenderedSearch,\n+} from './route-params'\n+import { createHrefFromUrl } from './components/router-reducer/create-href-from-url'\n \n export type NormalizedFlightData = {\n   /**\n@@ -58,6 +68,129 @@ export function getFlightDataPartsFromPath(\n   }\n }\n \n+export function createInitialRSCPayloadFromFallbackPrerender(\n+  response: Response,\n+  fallbackInitialRSCPayload: InitialRSCPayload\n+): InitialRSCPayload {\n+  // This is a static fallback page. In order to hydrate the page, we need to\n+  // parse the client params from the URL, but to account for the possibility\n+  // that the page was rewritten, we need to check the response headers\n+  // for x-nextjs-rewritten-path or x-nextjs-rewritten-query headers. Since\n+  // we can't access the headers of the initial document response, the client\n+  // performs a fetch request to the current location. Since it's possible that\n+  // the fetch request will be dynamically rewritten to a different path than\n+  // the initial document, this fetch request delivers _all_ the hydration data\n+  // for the page; it was not inlined into the document, like it normally\n+  // would be.\n+  //\n+  // TODO: Consider treating the case where fetch is rewritten to a different\n+  // path from the document as a special deopt case. We should optimistically\n+  // assume this won't happen, inline the data into the document, and perform\n+  // a minimal request (like a HEAD or range request) to verify that the\n+  // response matches. Tricky to get right because we need to account for\n+  // all the different deployment environments we support, like output:\n+  // \"export\" mode, where we currently don't assume that custom response\n+  // headers are present.\n+\n+  // Patch the Flight data sent by the server with the correct params parsed\n+  // from the URL + response object.\n+  const renderedPathname = getRenderedPathname(response)\n+  const renderedSearch = getRenderedSearch(response)\n+  const canonicalUrl = createHrefFromUrl(new URL(location.href))\n+  const originalFlightDataPath = fallbackInitialRSCPayload.f[0]\n+  const originalFlightRouterState = originalFlightDataPath[0]\n+  return {\n+    b: fallbackInitialRSCPayload.b,\n+    c: canonicalUrl.split('/'),\n+    q: renderedSearch,\n+    i: fallbackInitialRSCPayload.i,\n+    f: [\n+      [\n+        fillInFallbackFlightRouterState(\n+          originalFlightRouterState,\n+          renderedPathname,\n+          renderedSearch as NormalizedSearch\n+        ),\n+        originalFlightDataPath[1],\n+        originalFlightDataPath[2],\n+        originalFlightDataPath[2],\n+      ],\n+    ],\n+    m: fallbackInitialRSCPayload.m,\n+    G: fallbackInitialRSCPayload.G,\n+    s: fallbackInitialRSCPayload.s,\n+    S: fallbackInitialRSCPayload.S,\n+  }\n+}\n+\n+function fillInFallbackFlightRouterState(\n+  flightRouterState: FlightRouterState,\n+  renderedPathname: string,\n+  renderedSearch: NormalizedSearch\n+): FlightRouterState {\n+  const pathnameParts = renderedPathname.split('/').filter((p) => p !== '')\n+  const index = 0\n+  return fillInFallbackFlightRouterStateImpl(\n+    flightRouterState,\n+    renderedSearch,\n+    pathnameParts,\n+    index\n+  )\n+}\n+\n+function fillInFallbackFlightRouterStateImpl(\n+  flightRouterState: FlightRouterState,\n+  renderedSearch: NormalizedSearch,\n+  pathnameParts: Array<string>,\n+  pathnamePartsIndex: number\n+): FlightRouterState {\n+  const originalSegment = flightRouterState[0]\n+  let newSegment: Segment\n+  let doesAppearInURL: boolean\n+  if (typeof originalSegment === 'string') {\n+    newSegment = originalSegment\n+    doesAppearInURL = doesStaticSegmentAppearInURL(originalSegment)\n+  } else {\n+    const paramName = originalSegment[0]\n+    const paramType = originalSegment[2]\n+    const paramValue = parseDynamicParamFromURLPart(\n+      paramType,\n+      pathnameParts,\n+      pathnamePartsIndex\n+    )\n+    const cacheKey = getCacheKeyForDynamicParam(paramValue, renderedSearch)\n+    newSegment = [paramName, cacheKey, paramType]\n+    doesAppearInURL = true\n+  }\n+\n+  // Only increment the index if the segment appears in the URL. If it's a\n+  // \"virtual\" segment, like a route group, it remains the same.\n+  const childPathnamePartsIndex = doesAppearInURL\n+    ? pathnamePartsIndex + 1\n+    : pathnamePartsIndex\n+\n+  const children = flightRouterState[1]\n+  const newChildren: { [key: string]: FlightRouterState } = {}\n+  for (let key in children) {\n+    const childFlightRouterState = children[key]\n+    newChildren[key] = fillInFallbackFlightRouterStateImpl(\n+      childFlightRouterState,\n+      renderedSearch,\n+      pathnameParts,\n+      childPathnamePartsIndex\n+    )\n+  }\n+\n+  const newState: FlightRouterState = [\n+    newSegment,\n+    newChildren,\n+    null,\n+    flightRouterState[3],\n+    flightRouterState[4],\n+  ]\n+  return newState\n+}\n+\n export function getNextFlightSegmentPath(\n   flightSegmentPath: FlightSegmentPath\n ): FlightSegmentPath {"
        },
        {
            "sha": "dbd392d5d5f0311e457d7d81bf035acf9be2c70e",
            "filename": "packages/next/src/client/route-params.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 2,
            "changes": 26,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Froute-params.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fclient%2Froute-params.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Froute-params.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -12,6 +12,7 @@ import {\n } from './components/app-router-headers'\n import type { NormalizedSearch } from './components/segment-cache'\n import type { RSCResponse } from './components/router-reducer/fetch-server-response'\n+import type { ParsedUrlQuery } from 'querystring'\n \n export type RouteParamValue = string | Array<string> | null\n \n@@ -22,7 +23,7 @@ export type RouteParam = {\n }\n \n export function getRenderedSearch(\n-  response: RSCResponse<unknown>\n+  response: RSCResponse<unknown> | Response\n ): NormalizedSearch {\n   // If the server performed a rewrite, the search params used to render the\n   // page will be different from the params in the request URL. In this case,\n@@ -39,7 +40,9 @@ export function getRenderedSearch(\n     .search as NormalizedSearch\n }\n \n-export function getRenderedPathname(response: RSCResponse<unknown>): string {\n+export function getRenderedPathname(\n+  response: RSCResponse<unknown> | Response\n+): string {\n   // If the server performed a rewrite, the pathname used to render the\n   // page will be different from the pathname in the request URL. In this case,\n   // the response will include a header that gives the rewritten pathname.\n@@ -180,3 +183,22 @@ export function getParamValueFromCacheKey(\n   }\n   return paramCacheKey\n }\n+\n+export function urlSearchParamsToParsedUrlQuery(\n+  searchParams: URLSearchParams\n+): ParsedUrlQuery {\n+  // Converts a URLSearchParams object to the same type used by the server when\n+  // creating search params props, i.e. the type returned by Node's\n+  // \"querystring\" module.\n+  const result: ParsedUrlQuery = {}\n+  for (const [key, value] of searchParams.entries()) {\n+    if (result[key] === undefined) {\n+      result[key] = value\n+    } else if (Array.isArray(result[key])) {\n+      result[key].push(value)\n+    } else {\n+      result[key] = [result[key], value]\n+    }\n+  }\n+  return result\n+}"
        },
        {
            "sha": "6725d7ba7217e3941438c265269bdb5751b6518d",
            "filename": "packages/next/src/server/app-render/app-render.tsx",
            "status": "modified",
            "additions": 70,
            "deletions": 17,
            "changes": 87,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -45,6 +45,7 @@ import {\n   continueDynamicHTMLResume,\n   streamToBuffer,\n   streamToString,\n+  continueStaticFallbackPrerender,\n } from '../stream-utils/node-web-streams-helper'\n import { stripInternalQueries } from '../internal-utils'\n import {\n@@ -1174,7 +1175,7 @@ function prepareInitialCanonicalUrl(url: RequestStore['url']) {\n   return (url.pathname + url.search).split('/')\n }\n \n-function querystringEncode(query: NextParsedUrlQuery): string {\n+function getRenderedSearch(query: NextParsedUrlQuery): string {\n   // Inlined implementation of querystring.encode, which is not available in\n   // the Edge runtime.\n   const pairs = []\n@@ -1193,7 +1194,18 @@ function querystringEncode(query: NextParsedUrlQuery): string {\n       )\n     }\n   }\n-  return pairs.join('&')\n+\n+  // The result should match the format of a web URL's `search` property, since\n+  // this is the format that's stored in the App Router state.\n+  // TODO: We're a bit inconsistent about this. The x-nextjs-rewritten-query\n+  // header omits the leading question mark. Should refactor to always do\n+  // that instead.\n+  if (pairs.length === 0) {\n+    // If the search string is empty, return an empty string.\n+    return ''\n+  }\n+  // Prepend '?' to the search params string.\n+  return '?' + pairs.join('&')\n }\n \n // This is the data necessary to render <AppRouter /> when no SSR errors are encountered\n@@ -1311,7 +1323,7 @@ async function getRSCPayload(\n     }),\n     b: ctx.sharedContext.buildId,\n     c: prepareInitialCanonicalUrl(url),\n-    q: querystringEncode(query),\n+    q: getRenderedSearch(query),\n     i: !!couldBeIntercepted,\n     f: [\n       [\n@@ -1436,7 +1448,7 @@ async function getErrorRSCPayload(\n   return {\n     b: ctx.sharedContext.buildId,\n     c: prepareInitialCanonicalUrl(url),\n-    q: querystringEncode(query),\n+    q: getRenderedSearch(query),\n     m: undefined,\n     i: false,\n     f: [\n@@ -4579,14 +4591,7 @@ async function prerenderToStream(\n         renderOpts\n       )\n \n-      // If there are fallback route params, the RSC data is inherently dynamic\n-      // today because it's encoded into the flight router state. Until we can\n-      // move the fallback route params out of the flight router state, we need\n-      // to always perform a dynamic resume after the static prerender.\n-      const hasFallbackRouteParams =\n-        fallbackRouteParams && fallbackRouteParams.size > 0\n-\n-      if (serverIsDynamic || hasFallbackRouteParams) {\n+      if (serverIsDynamic) {\n         // Dynamic case\n         // We will always need to perform a \"resume\" render of some kind when this route is accessed\n         // because the RSC data itself is dynamic. We determine if there are any HTML holes or not\n@@ -4674,10 +4679,52 @@ async function prerenderToStream(\n           htmlStream = chainStreams(prelude, resumeStream)\n         }\n \n-        return {\n-          digestErrorsMap: reactServerErrorsByDigest,\n-          ssrErrors: allCapturedErrors,\n-          stream: await continueStaticPrerender(htmlStream, {\n+        let finalStream\n+        const hasFallbackRouteParams =\n+          fallbackRouteParams && fallbackRouteParams.size > 0\n+        if (hasFallbackRouteParams) {\n+          // This is a \"static fallback\" prerender: although the page didn't\n+          // access any runtime params in a Server Component, it may have\n+          // accessed a runtime param in a client segment.\n+          //\n+          // TODO: If there were no client segments, we can use the fully static\n+          // path instead.\n+          //\n+          // Rather than use a dynamic server resume to fill in the params,\n+          // we can rely on the client to parse the params from the URL and use\n+          // that to hydrate the page.\n+          //\n+          // Send an empty InitialRSCPayload to the server component renderer\n+          // The data will be fetched by the client instead.\n+          // TODO: In the future, rather than defer the entire hydration payload\n+          // to be fetched by the client, we should only defer the client\n+          // segments, since those are the only ones whose data is not complete.\n+          const emptyReactServerResult =\n+            await createReactServerPrerenderResultFromRender(\n+              ComponentMod.renderToReadableStream(\n+                [],\n+                clientReferenceManifest.clientModules,\n+                {\n+                  filterStackFrame,\n+                  onError: serverComponentsErrorHandler,\n+                }\n+              )\n+            )\n+          finalStream = await continueStaticFallbackPrerender(htmlStream, {\n+            inlinedDataStream: createInlinedDataReadableStream(\n+              emptyReactServerResult.consumeAsStream(),\n+              nonce,\n+              formState\n+            ),\n+            getServerInsertedHTML,\n+            getServerInsertedMetadata,\n+            isBuildTimePrerendering:\n+              ctx.workStore.isBuildTimePrerendering === true,\n+            buildId: ctx.workStore.buildId,\n+          })\n+        } else {\n+          // Normal static prerender case, no fallback param handling needed\n+          finalStream = await continueStaticPrerender(htmlStream, {\n             inlinedDataStream: createInlinedDataReadableStream(\n               reactServerResult.consumeAsStream(),\n               nonce,\n@@ -4688,7 +4735,13 @@ async function prerenderToStream(\n             isBuildTimePrerendering:\n               ctx.workStore.isBuildTimePrerendering === true,\n             buildId: ctx.workStore.buildId,\n-          }),\n+          })\n+        }\n+\n+        return {\n+          digestErrorsMap: reactServerErrorsByDigest,\n+          ssrErrors: allCapturedErrors,\n+          stream: finalStream,\n           dynamicAccess: consumeDynamicAccess(\n             serverDynamicTracking,\n             clientDynamicTracking"
        },
        {
            "sha": "e1a96a8acd68cd576830f8eeb6064b5d90632b5c",
            "filename": "packages/next/src/server/app-render/collect-segment-data.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -154,6 +154,9 @@ export async function collectSegmentData(\n   const treeBuffer = await streamToBuffer(treeStream)\n   resultMap.set('/_tree' as SegmentRequestKey, treeBuffer)\n \n+  // Also output the entire full page data response\n+  resultMap.set('/_full' as SegmentRequestKey, fullPageDataBuffer)\n+\n   // Now that we've finished rendering the route tree, all the segment tasks\n   // should have been spawned. Await them in parallel and write the segment\n   // prefetches to the result map."
        },
        {
            "sha": "f75180648192f3a0eed876d625b9ecc18eb4e35a",
            "filename": "packages/next/src/server/app-render/create-component-tree.tsx",
            "status": "modified",
            "additions": 34,
            "deletions": 12,
            "changes": 46,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-component-tree.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-component-tree.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-component-tree.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -103,7 +103,7 @@ async function createComponentTreeInternal(\n   isRoot: boolean\n ): Promise<CacheNodeSeedData> {\n   const {\n-    renderOpts: { nextConfigOutput, experimental },\n+    renderOpts: { nextConfigOutput, experimental, cacheComponents },\n     workStore,\n     componentMod: {\n       createElement,\n@@ -742,22 +742,33 @@ async function createComponentTreeInternal(\n     // Assign searchParams to props if this is a page\n     let pageElement: React.ReactNode\n     if (isClientComponent) {\n-      if (isStaticGeneration) {\n+      if (cacheComponents) {\n+        // Params are omitted when Cache Components is enabled\n+        pageElement = createElement(ClientPageRoot, {\n+          Component: PageComponent,\n+          serverProvidedParams: null,\n+        })\n+      } else if (isStaticGeneration) {\n         const promiseOfParams =\n           createPrerenderParamsForClientSegment(currentParams)\n         const promiseOfSearchParams =\n           createPrerenderSearchParamsForClientPage(workStore)\n         pageElement = createElement(ClientPageRoot, {\n           Component: PageComponent,\n-          searchParams: query,\n-          params: currentParams,\n-          promises: [promiseOfSearchParams, promiseOfParams],\n+          serverProvidedParams: {\n+            searchParams: query,\n+            params: currentParams,\n+            promises: [promiseOfSearchParams, promiseOfParams],\n+          },\n         })\n       } else {\n         pageElement = createElement(ClientPageRoot, {\n           Component: PageComponent,\n-          searchParams: query,\n-          params: currentParams,\n+          serverProvidedParams: {\n+            searchParams: query,\n+            params: currentParams,\n+            promises: null,\n+          },\n         })\n       }\n     } else {\n@@ -834,22 +845,33 @@ async function createComponentTreeInternal(\n \n     if (isClientComponent) {\n       let clientSegment: React.ReactNode\n-\n-      if (isStaticGeneration) {\n+      if (cacheComponents) {\n+        // Params are omitted when Cache Components is enabled\n+        clientSegment = createElement(ClientSegmentRoot, {\n+          Component: SegmentComponent,\n+          slots: parallelRouteProps,\n+          serverProvidedParams: null,\n+        })\n+      } else if (isStaticGeneration) {\n         const promiseOfParams =\n           createPrerenderParamsForClientSegment(currentParams)\n \n         clientSegment = createElement(ClientSegmentRoot, {\n           Component: SegmentComponent,\n           slots: parallelRouteProps,\n-          params: currentParams,\n-          promise: promiseOfParams,\n+          serverProvidedParams: {\n+            params: currentParams,\n+            promises: [promiseOfParams],\n+          },\n         })\n       } else {\n         clientSegment = createElement(ClientSegmentRoot, {\n           Component: SegmentComponent,\n           slots: parallelRouteProps,\n-          params: currentParams,\n+          serverProvidedParams: {\n+            params: currentParams,\n+            promises: null,\n+          },\n         })\n       }\n "
        },
        {
            "sha": "b69f5223367757d0b61be6202833361ac1675f04",
            "filename": "packages/next/src/server/stream-utils/node-web-streams-helper.ts",
            "status": "modified",
            "additions": 103,
            "deletions": 0,
            "changes": 103,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fstream-utils%2Fnode-web-streams-helper.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fserver%2Fstream-utils%2Fnode-web-streams-helper.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fstream-utils%2Fnode-web-streams-helper.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -11,6 +11,13 @@ import {\n } from './uint8array-helpers'\n import { MISSING_ROOT_TAGS_ERROR } from '../../shared/lib/errors/constants'\n import { insertBuildIdComment } from '../../shared/lib/segment-cache/output-export-prefetch-encoding'\n+import {\n+  RSC_HEADER,\n+  NEXT_ROUTER_PREFETCH_HEADER,\n+  NEXT_ROUTER_SEGMENT_PREFETCH_HEADER,\n+  NEXT_RSC_UNION_QUERY,\n+} from '../../client/components/app-router-headers'\n+import { computeCacheBustingSearchParam } from '../../shared/lib/router/utils/cache-busting-search-param'\n \n function voidCatch() {\n   // this catcher is designed to be used with pipeTo where we expect the underlying\n@@ -422,6 +429,66 @@ function createHeadInsertionTransformStream(\n   })\n }\n \n+function createClientResumeScriptInsertionTransformStream(): TransformStream<\n+  Uint8Array,\n+  Uint8Array\n+> {\n+  const segmentPath = '/_full'\n+  const cacheBustingHeader = computeCacheBustingSearchParam(\n+    '1', //            headers[NEXT_ROUTER_PREFETCH_HEADER]\n+    '/_full', //       headers[NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]\n+    undefined, //      headers[NEXT_ROUTER_STATE_TREE_HEADER]\n+    undefined //       headers[NEXT_URL]\n+  )\n+  const searchStr = `${NEXT_RSC_UNION_QUERY}=${cacheBustingHeader}`\n+  const NEXT_CLIENT_RESUME_SCRIPT = `<script>__NEXT_CLIENT_RESUME=fetch(location.pathname+'?${searchStr}',{credentials:'same-origin',headers:{'${RSC_HEADER}': '1','${NEXT_ROUTER_PREFETCH_HEADER}': '1','${NEXT_ROUTER_SEGMENT_PREFETCH_HEADER}': '${segmentPath}'}})</script>`\n+\n+  let didAlreadyInsert = false\n+  return new TransformStream({\n+    transform(chunk, controller) {\n+      if (didAlreadyInsert) {\n+        // Already inserted the script into the head. Pass through.\n+        controller.enqueue(chunk)\n+        return\n+      }\n+      // TODO (@Ethan-Arrowood): Replace the generic `indexOfUint8Array` method with something finely tuned for the subset of things actually being checked for.\n+      const headClosingTagIndex = indexOfUint8Array(\n+        chunk,\n+        ENCODED_TAGS.CLOSED.HEAD\n+      )\n+\n+      if (headClosingTagIndex === -1) {\n+        // In fully static rendering or non PPR rendering cases:\n+        // `/head>` will always be found in the chunk in first chunk rendering.\n+        controller.enqueue(chunk)\n+        return\n+      }\n+\n+      const encodedInsertion = encoder.encode(NEXT_CLIENT_RESUME_SCRIPT)\n+      // Get the total count of the bytes in the chunk and the insertion\n+      // e.g.\n+      // chunk = <head><meta charset=\"utf-8\"></head>\n+      // insertion = <script>...</script>\n+      // output = <head><meta charset=\"utf-8\"> [ <script>...</script> ] </head>\n+      const insertedHeadContent = new Uint8Array(\n+        chunk.length + encodedInsertion.length\n+      )\n+      // Append the first part of the chunk, before the head tag\n+      insertedHeadContent.set(chunk.slice(0, headClosingTagIndex))\n+      // Append the server inserted content\n+      insertedHeadContent.set(encodedInsertion, headClosingTagIndex)\n+      // Append the rest of the chunk\n+      insertedHeadContent.set(\n+        chunk.slice(headClosingTagIndex),\n+        headClosingTagIndex + encodedInsertion.length\n+      )\n+\n+      controller.enqueue(insertedHeadContent)\n+      didAlreadyInsert = true\n+    },\n+  })\n+}\n+\n // Suffix after main body content - scripts before </body>,\n // but wait for the major chunks to be enqueued.\n function createDeferredSuffixStream(\n@@ -831,6 +898,42 @@ export async function continueStaticPrerender(\n   )\n }\n \n+export async function continueStaticFallbackPrerender(\n+  prerenderStream: ReadableStream<Uint8Array>,\n+  {\n+    inlinedDataStream,\n+    getServerInsertedHTML,\n+    getServerInsertedMetadata,\n+    isBuildTimePrerendering,\n+    buildId,\n+  }: ContinueStaticPrerenderOptions\n+) {\n+  // Same as `continueStaticPrerender`, but also inserts an additional script\n+  // to instruct the client to start fetching the hydration data as early\n+  // as possible.\n+  return (\n+    prerenderStream\n+      // Buffer everything to avoid flushing too frequently\n+      .pipeThrough(createBufferedTransformStream())\n+      // Add build id comment to start of the HTML document (in export mode)\n+      .pipeThrough(\n+        createPrefetchCommentStream(isBuildTimePrerendering, buildId)\n+      )\n+      // Insert generated tags to head\n+      .pipeThrough(createHeadInsertionTransformStream(getServerInsertedHTML))\n+      // Insert the client resume script into the head\n+      .pipeThrough(createClientResumeScriptInsertionTransformStream())\n+      // Transform metadata\n+      .pipeThrough(createMetadataTransformStream(getServerInsertedMetadata))\n+      // Insert the inlined data (Flight data, form state, etc.) stream into the HTML\n+      .pipeThrough(\n+        createFlightDataInjectionTransformStream(inlinedDataStream, true)\n+      )\n+      // Close tags should always be deferred to the end\n+      .pipeThrough(createMoveSuffixStream())\n+  )\n+}\n+\n type ContinueResumeOptions = {\n   inlinedDataStream: ReadableStream<Uint8Array>\n   getServerInsertedHTML: () => Promise<string>"
        },
        {
            "sha": "8051359166fe0d36a61ea7cfa88f0ecb7b656fbd",
            "filename": "packages/next/src/shared/lib/app-router-context.shared-runtime.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -4,6 +4,7 @@ import type {\n   FocusAndScrollRef,\n   PrefetchKind,\n } from '../../client/components/router-reducer/router-reducer-types'\n+import type { Params } from '../../server/request/params'\n import type {\n   FlightRouterState,\n   FlightSegmentPath,\n@@ -61,6 +62,7 @@ export const LayoutRouterContext = React.createContext<{\n   parentTree: FlightRouterState\n   parentCacheNode: CacheNode\n   parentSegmentPath: FlightSegmentPath | null\n+  parentParams: Params\n   url: string\n   isActive: boolean\n } | null>(null)"
        },
        {
            "sha": "2f9673fca742d6a0f28a8dbacb9754bbe8d47e11",
            "filename": "test/development/acceptance-app/hydration-error.test.ts",
            "status": "modified",
            "additions": 32,
            "deletions": 32,
            "changes": 64,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fdevelopment%2Facceptance-app%2Fhydration-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fdevelopment%2Facceptance-app%2Fhydration-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Fhydration-error.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -49,10 +49,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/text-mism...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/text-mism...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Mismatch} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Mismatch} serverProvidedParams={{...}}>\n                                <Mismatch params={Promise} searchParams={Promise}>\n                                  <div className=\"parent\">\n                                    <main className=\"child\">\n@@ -111,10 +111,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/extra-ele...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/extra-ele...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Mismatch} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Mismatch} serverProvidedParams={{...}}>\n                                <Mismatch params={Promise} searchParams={Promise}>\n                                  <div className=\"parent\">\n      +                             <main className=\"only\">\n@@ -150,12 +150,12 @@ describe('Error overlay for hydration errors in App router', () => {\n                      <HTTPAccessFallbackErrorBoundary pathname=\"/extra-att...\" notFound={<SegmentViewNode>} ...>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n-                           <InnerLayoutRouter url=\"/extra-att...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                           <InnerLayoutRouter url=\"/extra-att...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                              <SegmentViewNode type=\"layout\" pagePath=\"(extra-att...\">\n                                <SegmentTrieNode>\n                                <script>\n                                <script>\n-                               <ClientSegmentRoot Component={function Root} slots={{...}} params={{}}>\n+                               <ClientSegmentRoot Component={function Root} slots={{...}} ...>\n                                  <Root params={Promise}>\n                                    <html\n        -                             className=\"server-html\"\n@@ -186,10 +186,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                      <HTTPAccessFallbackErrorBoundary pathname=\"/extra-att...\" notFound={<SegmentViewNode>} ...>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n-                           <InnerLayoutRouter url=\"/extra-att...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                           <InnerLayoutRouter url=\"/extra-att...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                              <SegmentViewNode type=\"layout\" pagePath=\"(extra-att...\">\n                                <SegmentTrieNode>\n-                               <ClientSegmentRoot Component={function Root} slots={{...}} params={{}}>\n+                               <ClientSegmentRoot Component={function Root} slots={{...}} ...>\n                                  <Root params={Promise}>\n                                    <html\n        -                             className=\"server-html\"\n@@ -225,10 +225,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Mismatch} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Mismatch} serverProvidedParams={{...}}>\n                                <Mismatch params={Promise} searchParams={Promise}>\n                                  <div className=\"parent\">\n                                    <header>\n@@ -266,10 +266,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/extra-ele...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/extra-ele...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Mismatch} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Mismatch} serverProvidedParams={{...}}>\n                                <Mismatch params={Promise} searchParams={Promise}>\n                                  <div className=\"parent\">\n      -                             <main className=\"only\">\n@@ -304,10 +304,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Mismatch} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Mismatch} serverProvidedParams={{...}}>\n                                <Mismatch params={Promise} searchParams={Promise}>\n                                  <div className=\"parent\">\n      -                             only\n@@ -346,10 +346,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                  <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                    <RedirectBoundary>\n                      <RedirectErrorBoundary router={{...}}>\n-                       <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                       <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                          <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                            <SegmentTrieNode>\n-                           <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                           <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                              <Page params={Promise} searchParams={Promise}>\n                                <table>\n                                  <tbody>\n@@ -380,10 +380,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/extra-tex...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                                <Page params={Promise} searchParams={Promise}>\n      +                           <table>\n      -                           test\n@@ -419,10 +419,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/extra-whi...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/extra-whi...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                                <Page params={Promise} searchParams={Promise}>\n      >                           <table>\n      >                             {\" \"}\n@@ -457,10 +457,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                  <RedirectBoundary>\n                    <RedirectErrorBoundary router={{...}}>\n-                     <InnerLayoutRouter url=\"/extra-nod...\" tree={[...]} cacheNode={{lazyData:null, ...}} segmentPath={[...]} ...>\n+                     <InnerLayoutRouter url=\"/extra-nod...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                        <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                          <SegmentTrieNode>\n-                         <ClientPageRoot Component={function Mismatch} searchParams={{}} params={{}}>\n+                         <ClientPageRoot Component={function Mismatch} serverProvidedParams={{...}}>\n                            <Mismatch params={Promise} searchParams={Promise}>\n                              <div className=\"parent\">\n                                <Suspense fallback={<p>}>\n@@ -514,10 +514,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/p-under-p\" tree={[...]} cacheNode={{lazyData:null, ...}} segmentPath={[...]} ...>\n+                         <InnerLayoutRouter url=\"/p-under-p\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                                <Page params={Promise} searchParams={Promise}>\n      >                           <p>\n      >                             <p>\n@@ -570,10 +570,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                  <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                    <RedirectBoundary>\n                      <RedirectErrorBoundary router={{...}}>\n-                       <InnerLayoutRouter url=\"/div-under-p\" tree={[...]} cacheNode={{lazyData:null, ...}} segmentPath={[...]} ...>\n+                       <InnerLayoutRouter url=\"/div-under-p\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                          <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                            <SegmentTrieNode>\n-                           <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                           <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                              <Page params={Promise} searchParams={Promise}>\n                                <div>\n                                  <div>\n@@ -629,10 +629,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/tr-under-div\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/tr-under-div\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                                <Page params={Promise} searchParams={Promise}>\n      >                           <div>\n      >                             <tr>\n@@ -686,10 +686,10 @@ describe('Error overlay for hydration errors in App router', () => {\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/bad-nesting\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                         <InnerLayoutRouter url=\"/bad-nesting\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                            <SegmentViewNode type=\"page\" pagePath=\"(default)/...\">\n                              <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n+                             <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n                                <Page params={Promise} searchParams={Promise}>\n      >                           <p>\n                                    <span>\n@@ -907,7 +907,7 @@ describe('Error overlay for hydration errors in App router', () => {\n                          <HTTPAccessFallbackErrorBoundary pathname=\"/script-un...\" notFound={<SegmentViewNode>} ...>\n                            <RedirectBoundary>\n                              <RedirectErrorBoundary router={{...}}>\n-                               <InnerLayoutRouter url=\"/script-un...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                               <InnerLayoutRouter url=\"/script-un...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                                  <SegmentViewNode type=\"layout\" pagePath=\"(script-un...\">\n                                    <SegmentTrieNode>\n                                    <script>\n@@ -971,7 +971,7 @@ describe('Error overlay for hydration errors in App router', () => {\n                          <HTTPAccessFallbackErrorBoundary pathname=\"/script-un...\" notFound={<SegmentViewNode>} ...>\n                            <RedirectBoundary>\n                              <RedirectErrorBoundary router={{...}}>\n-                               <InnerLayoutRouter url=\"/script-un...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n+                               <InnerLayoutRouter url=\"/script-un...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n                                  <SegmentViewNode type=\"layout\" pagePath=\"(script-un...\">\n                                    <SegmentTrieNode>\n                                    <Root>"
        },
        {
            "sha": "ed652792cb97dd539afd65eebf947bb2e3a917e6",
            "filename": "test/development/app-dir/hydration-error-count/hydration-error-count.test.ts",
            "status": "modified",
            "additions": 364,
            "deletions": 198,
            "changes": 562,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fdevelopment%2Fapp-dir%2Fhydration-error-count%2Fhydration-error-count.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fdevelopment%2Fapp-dir%2Fhydration-error-count%2Fhydration-error-count.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fhydration-error-count%2Fhydration-error-count.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -8,230 +8,396 @@ describe('hydration-error-count', () => {\n   it('should have correct hydration error count for bad nesting', async () => {\n     const browser = await next.browser('/bad-nesting')\n \n-    await expect(browser).toDisplayCollapsedRedbox(`\n-     [\n-       {\n-         \"componentStack\": \"...\n-         <RenderFromTemplateContext>\n-           <ScrollAndFocusHandler segmentPath={[...]}>\n-             <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n-               <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary loading={null}>\n-                   <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n-                     <RedirectBoundary>\n-                       <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/bad-nesting\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n-                           <SegmentViewNode type=\"page\" pagePath=\"bad-nestin...\">\n-                             <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n-                               <Page params={Promise} searchParams={Promise}>\n-     >                           <p>\n-     >                             <p>\n+    if (process.env.__NEXT_CACHE_COMPONENTS) {\n+      await expect(browser).toDisplayCollapsedRedbox(`\n+       [\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/bad-nesting\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"bad-nestin...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={null}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+       >                           <p>\n+       >                             <p>\n+                             ...\n                            ...\n-                         ...\n-               ...\",\n-         \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n-     This will cause a hydration error.\",\n-         \"environmentLabel\": null,\n-         \"label\": \"Console Error\",\n-         \"source\": \"app/bad-nesting/page.tsx (6:7) @ Page\n-     > 6 |       <p>nest</p>\n-         |       ^\",\n-         \"stack\": [\n-           \"p <anonymous>\",\n-           \"Page app/bad-nesting/page.tsx (6:7)\",\n-         ],\n-       },\n-       {\n-         \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n-         \"environmentLabel\": null,\n-         \"label\": \"Recoverable Error\",\n-         \"source\": \"app/bad-nesting/page.tsx (6:7) @ Page\n-     > 6 |       <p>nest</p>\n-         |       ^\",\n-         \"stack\": [\n-           \"p <anonymous>\",\n-           \"Page app/bad-nesting/page.tsx (6:7)\",\n-         ],\n-       },\n-     ]\n-    `)\n+                 ...\",\n+           \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n+       This will cause a hydration error.\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Console Error\",\n+           \"source\": \"app/bad-nesting/page.tsx (6:7) @ Page\n+       > 6 |       <p>nest</p>\n+           |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/bad-nesting/page.tsx (6:7)\",\n+           ],\n+         },\n+         {\n+           \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Recoverable Error\",\n+           \"source\": \"app/bad-nesting/page.tsx (6:7) @ Page\n+       > 6 |       <p>nest</p>\n+           |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/bad-nesting/page.tsx (6:7)\",\n+           ],\n+         },\n+       ]\n+      `)\n+    } else {\n+      await expect(browser).toDisplayCollapsedRedbox(`\n+       [\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/bad-nesting\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"bad-nestin...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+       >                           <p>\n+       >                             <p>\n+                             ...\n+                           ...\n+                 ...\",\n+           \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n+       This will cause a hydration error.\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Console Error\",\n+           \"source\": \"app/bad-nesting/page.tsx (6:7) @ Page\n+       > 6 |       <p>nest</p>\n+           |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/bad-nesting/page.tsx (6:7)\",\n+           ],\n+         },\n+         {\n+           \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Recoverable Error\",\n+           \"source\": \"app/bad-nesting/page.tsx (6:7) @ Page\n+       > 6 |       <p>nest</p>\n+           |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/bad-nesting/page.tsx (6:7)\",\n+           ],\n+         },\n+       ]\n+      `)\n+    }\n   })\n \n   it('should have correct hydration error count for html diff', async () => {\n     const browser = await next.browser('/html-diff')\n \n-    await expect(browser).toDisplayCollapsedRedbox(`\n-     {\n-       \"componentStack\": \"...\n-         <RenderFromTemplateContext>\n-           <ScrollAndFocusHandler segmentPath={[...]}>\n-             <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n-               <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary loading={null}>\n-                   <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n-                     <RedirectBoundary>\n-                       <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/html-diff\" tree={[...]} cacheNode={{lazyData:null, ...}} segmentPath={[...]} ...>\n-                           <SegmentViewNode type=\"page\" pagePath=\"html-diff/...\">\n-                             <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n-                               <Page params={Promise} searchParams={Promise}>\n-                                 <p>\n-     +                             client\n-     -                             server\n-                           ...\n-                         ...\n-               ...\",\n-       \"description\": \"Hydration failed because the server rendered text didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n-       \"environmentLabel\": null,\n-       \"label\": \"Recoverable Error\",\n-       \"source\": \"app/html-diff/page.tsx (4:10) @ Page\n-     > 4 |   return <p>{typeof window === 'undefined' ? 'server' : 'client'}</p>\n-         |          ^\",\n-       \"stack\": [\n-         \"p <anonymous>\",\n-         \"Page app/html-diff/page.tsx (4:10)\",\n-       ],\n-     }\n-    `)\n-  })\n-\n-  it('should display correct hydration info in each hydration error view', async () => {\n-    const browser = await next.browser('/two-issues')\n-\n-    await expect(browser).toDisplayCollapsedRedbox(`\n-     [\n+    if (process.env.__NEXT_CACHE_COMPONENTS) {\n+      await expect(browser).toDisplayCollapsedRedbox(`\n        {\n          \"componentStack\": \"...\n-         <RenderFromTemplateContext>\n-           <ScrollAndFocusHandler segmentPath={[...]}>\n-             <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n-               <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary loading={null}>\n-                   <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n-                     <RedirectBoundary>\n-                       <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/two-issues\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n-                           <SegmentViewNode type=\"page\" pagePath=\"two-issues...\">\n-                             <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n-                               <Page params={Promise} searchParams={Promise}>\n-     >                           <p className=\"client\">\n-     >                             <p>\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/html-diff\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"html-diff/...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={null}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+                                   <p>\n+       +                             client\n+       -                             server\n+                             ...\n                            ...\n-                         ...\n-               ...\",\n-         \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n-     This will cause a hydration error.\",\n+                 ...\",\n+         \"description\": \"Hydration failed because the server rendered text didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n          \"environmentLabel\": null,\n-         \"label\": \"Console Error\",\n-         \"source\": \"app/two-issues/page.tsx (10:7) @ Page\n-     > 10 |       <p>nest</p>\n-          |       ^\",\n+         \"label\": \"Recoverable Error\",\n+         \"source\": \"app/html-diff/page.tsx (4:10) @ Page\n+       > 4 |   return <p>{typeof window === 'undefined' ? 'server' : 'client'}</p>\n+           |          ^\",\n          \"stack\": [\n            \"p <anonymous>\",\n-           \"Page app/two-issues/page.tsx (10:7)\",\n+           \"Page app/html-diff/page.tsx (4:10)\",\n          ],\n-       },\n+       }\n+      `)\n+    } else {\n+      await expect(browser).toDisplayCollapsedRedbox(`\n        {\n          \"componentStack\": \"...\n-         <RenderFromTemplateContext>\n-           <ScrollAndFocusHandler segmentPath={[...]}>\n-             <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n-               <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary loading={null}>\n-                   <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n-                     <RedirectBoundary>\n-                       <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/two-issues\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n-                           <SegmentViewNode type=\"page\" pagePath=\"two-issues...\">\n-                             <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n-                               <Page params={Promise} searchParams={Promise}>\n-                                 <p\n-     +                             className=\"client\"\n-     -                             className=\"server\"\n-                                 >\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/html-diff\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"html-diff/...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+                                   <p>\n+       +                             client\n+       -                             server\n+                             ...\n                            ...\n-                         ...\n-               ...\",\n-         \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n+                 ...\",\n+         \"description\": \"Hydration failed because the server rendered text didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n          \"environmentLabel\": null,\n          \"label\": \"Recoverable Error\",\n-         \"source\": \"app/two-issues/page.tsx (10:7) @ Page\n-     > 10 |       <p>nest</p>\n-          |       ^\",\n+         \"source\": \"app/html-diff/page.tsx (4:10) @ Page\n+       > 4 |   return <p>{typeof window === 'undefined' ? 'server' : 'client'}</p>\n+           |          ^\",\n          \"stack\": [\n            \"p <anonymous>\",\n-           \"Page app/two-issues/page.tsx (10:7)\",\n+           \"Page app/html-diff/page.tsx (4:10)\",\n          ],\n-       },\n-     ]\n-    `)\n+       }\n+      `)\n+    }\n+  })\n+\n+  it('should display correct hydration info in each hydration error view', async () => {\n+    const browser = await next.browser('/two-issues')\n+\n+    if (process.env.__NEXT_CACHE_COMPONENTS) {\n+      await expect(browser).toDisplayCollapsedRedbox(`\n+       [\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/two-issues\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"two-issues...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={null}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+       >                           <p className=\"client\">\n+       >                             <p>\n+                             ...\n+                           ...\n+                 ...\",\n+           \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n+       This will cause a hydration error.\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Console Error\",\n+           \"source\": \"app/two-issues/page.tsx (10:7) @ Page\n+       > 10 |       <p>nest</p>\n+            |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/two-issues/page.tsx (10:7)\",\n+           ],\n+         },\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/two-issues\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"two-issues...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={null}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+                                   <p\n+       +                             className=\"client\"\n+       -                             className=\"server\"\n+                                   >\n+                             ...\n+                           ...\n+                 ...\",\n+           \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Recoverable Error\",\n+           \"source\": \"app/two-issues/page.tsx (10:7) @ Page\n+       > 10 |       <p>nest</p>\n+            |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/two-issues/page.tsx (10:7)\",\n+           ],\n+         },\n+       ]\n+      `)\n+    } else {\n+      await expect(browser).toDisplayCollapsedRedbox(`\n+       [\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/two-issues\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"two-issues...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+       >                           <p className=\"client\">\n+       >                             <p>\n+                             ...\n+                           ...\n+                 ...\",\n+           \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n+       This will cause a hydration error.\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Console Error\",\n+           \"source\": \"app/two-issues/page.tsx (10:7) @ Page\n+       > 10 |       <p>nest</p>\n+            |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/two-issues/page.tsx (10:7)\",\n+           ],\n+         },\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/two-issues\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"two-issues...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={{...}}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+                                   <p\n+       +                             className=\"client\"\n+       -                             className=\"server\"\n+                                   >\n+                             ...\n+                           ...\n+                 ...\",\n+           \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Recoverable Error\",\n+           \"source\": \"app/two-issues/page.tsx (10:7) @ Page\n+       > 10 |       <p>nest</p>\n+            |       ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/two-issues/page.tsx (10:7)\",\n+           ],\n+         },\n+       ]\n+      `)\n+    }\n   })\n \n   it('should display runtime error separately from hydration errors', async () => {\n     const browser = await next.browser('/hydration-with-runtime-errors')\n \n-    await expect(browser).toDisplayRedbox(`\n-     [\n-       {\n-         \"componentStack\": \"...\n-         <RenderFromTemplateContext>\n-           <ScrollAndFocusHandler segmentPath={[...]}>\n-             <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n-               <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary loading={null}>\n-                   <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n-                     <RedirectBoundary>\n-                       <RedirectErrorBoundary router={{...}}>\n-                         <InnerLayoutRouter url=\"/hydration...\" tree={[...]} cacheNode={{lazyData:null, ...}} ...>\n-                           <SegmentViewNode type=\"page\" pagePath=\"hydration-...\">\n-                             <SegmentTrieNode>\n-                             <ClientPageRoot Component={function Page} searchParams={{}} params={{}}>\n-                               <Page params={Promise} searchParams={Promise}>\n-     >                           <p>\n-     >                             <p>\n+    if (process.env.__NEXT_CACHE_COMPONENTS) {\n+      await expect(browser).toDisplayRedbox(`\n+       [\n+         {\n+           \"componentStack\": \"...\n+           <RenderFromTemplateContext>\n+             <ScrollAndFocusHandler segmentPath={[...]}>\n+               <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n+                 <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n+                   <LoadingBoundary loading={null}>\n+                     <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n+                       <RedirectBoundary>\n+                         <RedirectErrorBoundary router={{...}}>\n+                           <InnerLayoutRouter url=\"/hydration...\" tree={[...]} params={{}} cacheNode={{lazyData:null, ...}} ...>\n+                             <SegmentViewNode type=\"page\" pagePath=\"hydration-...\">\n+                               <SegmentTrieNode>\n+                               <ClientPageRoot Component={function Page} serverProvidedParams={null}>\n+                                 <Page params={Promise} searchParams={Promise}>\n+       >                           <p>\n+       >                             <p>\n+                             ...\n                            ...\n-                         ...\n-               ...\",\n-         \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n-     This will cause a hydration error.\",\n-         \"environmentLabel\": null,\n-         \"label\": \"Console Error\",\n-         \"source\": \"app/hydration-with-runtime-errors/page.tsx (12:14) @ Page\n-     > 12 |       sneaky <p>very sneaky</p>\n-          |              ^\",\n-         \"stack\": [\n-           \"p <anonymous>\",\n-           \"Page app/hydration-with-runtime-errors/page.tsx (12:14)\",\n-         ],\n-       },\n-       {\n-         \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n-         \"environmentLabel\": null,\n-         \"label\": \"Recoverable Error\",\n-         \"source\": \"app/hydration-with-runtime-errors/page.tsx (12:14) @ Page\n-     > 12 |       sneaky <p>very sneaky</p>\n-          |              ^\",\n-         \"stack\": [\n-           \"p <anonymous>\",\n-           \"Page app/hydration-with-runtime-errors/page.tsx (12:14)\",\n-         ],\n-       },\n-       {\n-         \"description\": \"runtime error\",\n-         \"environmentLabel\": null,\n-         \"label\": \"Runtime Error\",\n-         \"source\": \"app/hydration-with-runtime-errors/page.tsx (7:11) @ Page.useEffect\n-     >  7 |     throw new Error('runtime error')\n-          |           ^\",\n-         \"stack\": [\n-           \"Page.useEffect app/hydration-with-runtime-errors/page.tsx (7:11)\",\n-         ],\n-       },\n-     ]\n-    `)\n+                 ...\",\n+           \"description\": \"In HTML, <p> cannot be a descendant of <p>.\n+       This will cause a hydration error.\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Console Error\",\n+           \"source\": \"app/hydration-with-runtime-errors/page.tsx (12:14) @ Page\n+       > 12 |       sneaky <p>very sneaky</p>\n+            |              ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/hydration-with-runtime-errors/page.tsx (12:14)\",\n+           ],\n+         },\n+         {\n+           \"description\": \"Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Recoverable Error\",\n+           \"source\": \"app/hydration-with-runtime-errors/page.tsx (12:14) @ Page\n+       > 12 |       sneaky <p>very sneaky</p>\n+            |              ^\",\n+           \"stack\": [\n+             \"p <anonymous>\",\n+             \"Page app/hydration-with-runtime-errors/page.tsx (12:14)\",\n+           ],\n+         },\n+         {\n+           \"description\": \"runtime error\",\n+           \"environmentLabel\": null,\n+           \"label\": \"Runtime Error\",\n+           \"source\": \"app/hydration-with-runtime-errors/page.tsx (7:11) @ Page.useEffect\n+       >  7 |     throw new Error('runtime error')\n+            |           ^\",\n+           \"stack\": [\n+             \"Page.useEffect app/hydration-with-runtime-errors/page.tsx (7:11)\",\n+           ],\n+         },\n+       ]\n+      `)\n+    } else {\n+      await expect(browser).toDisplayCollapsedRedbox(\n+        `\"Redbox is already open. Use \\`toDisplayRedbox\\` instead.\"`\n+      )\n+    }\n   })\n })"
        },
        {
            "sha": "dd2579a735e122a9de838bcaa48e2f79e00bc6ea",
            "filename": "test/e2e/app-dir/app-static/app-static.test.ts",
            "status": "modified",
            "additions": 466,
            "deletions": 410,
            "changes": 876,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fapp-static%2Fapp-static.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fapp-static%2Fapp-static.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-static%2Fapp-static.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -816,416 +816,472 @@ describe('app-dir static/dynamic handling', () => {\n         })\n \n       expect(files.sort()).toMatchInlineSnapshot(`\n-         [\n-           \"_not-found.html\",\n-           \"_not-found.rsc\",\n-           \"_not-found.segments/_index.segment.rsc\",\n-           \"_not-found.segments/_not-found.segment.rsc\",\n-           \"_not-found.segments/_not-found/__PAGE__.segment.rsc\",\n-           \"_not-found.segments/_tree.segment.rsc\",\n-           \"articles/works.html\",\n-           \"articles/works.rsc\",\n-           \"articles/works.segments/_index.segment.rsc\",\n-           \"articles/works.segments/_tree.segment.rsc\",\n-           \"articles/works.segments/articles.segment.rsc\",\n-           \"articles/works.segments/articles/$d$slug.segment.rsc\",\n-           \"articles/works.segments/articles/$d$slug/__PAGE__.segment.rsc\",\n-           \"blog/seb.html\",\n-           \"blog/seb.rsc\",\n-           \"blog/seb.segments/_index.segment.rsc\",\n-           \"blog/seb.segments/_tree.segment.rsc\",\n-           \"blog/seb.segments/blog.segment.rsc\",\n-           \"blog/seb.segments/blog/$d$author.segment.rsc\",\n-           \"blog/seb.segments/blog/$d$author/__PAGE__.segment.rsc\",\n-           \"blog/seb/second-post.html\",\n-           \"blog/seb/second-post.rsc\",\n-           \"blog/seb/second-post.segments/_index.segment.rsc\",\n-           \"blog/seb/second-post.segments/_tree.segment.rsc\",\n-           \"blog/seb/second-post.segments/blog.segment.rsc\",\n-           \"blog/seb/second-post.segments/blog/$d$author.segment.rsc\",\n-           \"blog/seb/second-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n-           \"blog/seb/second-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n-           \"blog/styfle.html\",\n-           \"blog/styfle.rsc\",\n-           \"blog/styfle.segments/_index.segment.rsc\",\n-           \"blog/styfle.segments/_tree.segment.rsc\",\n-           \"blog/styfle.segments/blog.segment.rsc\",\n-           \"blog/styfle.segments/blog/$d$author.segment.rsc\",\n-           \"blog/styfle.segments/blog/$d$author/__PAGE__.segment.rsc\",\n-           \"blog/styfle/first-post.html\",\n-           \"blog/styfle/first-post.rsc\",\n-           \"blog/styfle/first-post.segments/_index.segment.rsc\",\n-           \"blog/styfle/first-post.segments/_tree.segment.rsc\",\n-           \"blog/styfle/first-post.segments/blog.segment.rsc\",\n-           \"blog/styfle/first-post.segments/blog/$d$author.segment.rsc\",\n-           \"blog/styfle/first-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n-           \"blog/styfle/first-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n-           \"blog/styfle/second-post.html\",\n-           \"blog/styfle/second-post.rsc\",\n-           \"blog/styfle/second-post.segments/_index.segment.rsc\",\n-           \"blog/styfle/second-post.segments/_tree.segment.rsc\",\n-           \"blog/styfle/second-post.segments/blog.segment.rsc\",\n-           \"blog/styfle/second-post.segments/blog/$d$author.segment.rsc\",\n-           \"blog/styfle/second-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n-           \"blog/styfle/second-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n-           \"blog/tim.html\",\n-           \"blog/tim.rsc\",\n-           \"blog/tim.segments/_index.segment.rsc\",\n-           \"blog/tim.segments/_tree.segment.rsc\",\n-           \"blog/tim.segments/blog.segment.rsc\",\n-           \"blog/tim.segments/blog/$d$author.segment.rsc\",\n-           \"blog/tim.segments/blog/$d$author/__PAGE__.segment.rsc\",\n-           \"blog/tim/first-post.html\",\n-           \"blog/tim/first-post.rsc\",\n-           \"blog/tim/first-post.segments/_index.segment.rsc\",\n-           \"blog/tim/first-post.segments/_tree.segment.rsc\",\n-           \"blog/tim/first-post.segments/blog.segment.rsc\",\n-           \"blog/tim/first-post.segments/blog/$d$author.segment.rsc\",\n-           \"blog/tim/first-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n-           \"blog/tim/first-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n-           \"default-config-fetch.html\",\n-           \"default-config-fetch.rsc\",\n-           \"default-config-fetch.segments/!KG5ldyk.segment.rsc\",\n-           \"default-config-fetch.segments/!KG5ldyk/default-config-fetch.segment.rsc\",\n-           \"default-config-fetch.segments/!KG5ldyk/default-config-fetch/__PAGE__.segment.rsc\",\n-           \"default-config-fetch.segments/_index.segment.rsc\",\n-           \"default-config-fetch.segments/_tree.segment.rsc\",\n-           \"force-cache.html\",\n-           \"force-cache.rsc\",\n-           \"force-cache.segments/_index.segment.rsc\",\n-           \"force-cache.segments/_tree.segment.rsc\",\n-           \"force-cache.segments/force-cache.segment.rsc\",\n-           \"force-cache.segments/force-cache/__PAGE__.segment.rsc\",\n-           \"force-static-fetch-no-store.html\",\n-           \"force-static-fetch-no-store.rsc\",\n-           \"force-static-fetch-no-store.segments/_index.segment.rsc\",\n-           \"force-static-fetch-no-store.segments/_tree.segment.rsc\",\n-           \"force-static-fetch-no-store.segments/force-static-fetch-no-store.segment.rsc\",\n-           \"force-static-fetch-no-store.segments/force-static-fetch-no-store/__PAGE__.segment.rsc\",\n-           \"force-static/first.html\",\n-           \"force-static/first.rsc\",\n-           \"force-static/first.segments/_index.segment.rsc\",\n-           \"force-static/first.segments/_tree.segment.rsc\",\n-           \"force-static/first.segments/force-static.segment.rsc\",\n-           \"force-static/first.segments/force-static/$d$slug.segment.rsc\",\n-           \"force-static/first.segments/force-static/$d$slug/__PAGE__.segment.rsc\",\n-           \"force-static/second.html\",\n-           \"force-static/second.rsc\",\n-           \"force-static/second.segments/_index.segment.rsc\",\n-           \"force-static/second.segments/_tree.segment.rsc\",\n-           \"force-static/second.segments/force-static.segment.rsc\",\n-           \"force-static/second.segments/force-static/$d$slug.segment.rsc\",\n-           \"force-static/second.segments/force-static/$d$slug/__PAGE__.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/bar.html\",\n-           \"gen-params-catch-all-unique/foo/bar.rsc\",\n-           \"gen-params-catch-all-unique/foo/bar.segments/_index.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/bar.segments/_tree.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/bar.segments/gen-params-catch-all-unique.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/bar.segments/gen-params-catch-all-unique/$c$slug.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/bar.segments/gen-params-catch-all-unique/$c$slug/__PAGE__.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/foo.html\",\n-           \"gen-params-catch-all-unique/foo/foo.rsc\",\n-           \"gen-params-catch-all-unique/foo/foo.segments/_index.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/foo.segments/_tree.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/foo.segments/gen-params-catch-all-unique.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/foo.segments/gen-params-catch-all-unique/$c$slug.segment.rsc\",\n-           \"gen-params-catch-all-unique/foo/foo.segments/gen-params-catch-all-unique/$c$slug/__PAGE__.segment.rsc\",\n-           \"gen-params-dynamic-revalidate/one.html\",\n-           \"gen-params-dynamic-revalidate/one.rsc\",\n-           \"gen-params-dynamic-revalidate/one.segments/_index.segment.rsc\",\n-           \"gen-params-dynamic-revalidate/one.segments/_tree.segment.rsc\",\n-           \"gen-params-dynamic-revalidate/one.segments/gen-params-dynamic-revalidate.segment.rsc\",\n-           \"gen-params-dynamic-revalidate/one.segments/gen-params-dynamic-revalidate/$d$slug.segment.rsc\",\n-           \"gen-params-dynamic-revalidate/one.segments/gen-params-dynamic-revalidate/$d$slug/__PAGE__.segment.rsc\",\n-           \"hooks/use-pathname/slug.html\",\n-           \"hooks/use-pathname/slug.rsc\",\n-           \"hooks/use-pathname/slug.segments/_index.segment.rsc\",\n-           \"hooks/use-pathname/slug.segments/_tree.segment.rsc\",\n-           \"hooks/use-pathname/slug.segments/hooks.segment.rsc\",\n-           \"hooks/use-pathname/slug.segments/hooks/use-pathname.segment.rsc\",\n-           \"hooks/use-pathname/slug.segments/hooks/use-pathname/$d$slug.segment.rsc\",\n-           \"hooks/use-pathname/slug.segments/hooks/use-pathname/$d$slug/__PAGE__.segment.rsc\",\n-           \"hooks/use-search-params/force-static.html\",\n-           \"hooks/use-search-params/force-static.rsc\",\n-           \"hooks/use-search-params/force-static.segments/_index.segment.rsc\",\n-           \"hooks/use-search-params/force-static.segments/_tree.segment.rsc\",\n-           \"hooks/use-search-params/force-static.segments/hooks.segment.rsc\",\n-           \"hooks/use-search-params/force-static.segments/hooks/use-search-params.segment.rsc\",\n-           \"hooks/use-search-params/force-static.segments/hooks/use-search-params/force-static.segment.rsc\",\n-           \"hooks/use-search-params/force-static.segments/hooks/use-search-params/force-static/__PAGE__.segment.rsc\",\n-           \"hooks/use-search-params/with-suspense.html\",\n-           \"hooks/use-search-params/with-suspense.rsc\",\n-           \"hooks/use-search-params/with-suspense.segments/_index.segment.rsc\",\n-           \"hooks/use-search-params/with-suspense.segments/_tree.segment.rsc\",\n-           \"hooks/use-search-params/with-suspense.segments/hooks.segment.rsc\",\n-           \"hooks/use-search-params/with-suspense.segments/hooks/use-search-params.segment.rsc\",\n-           \"hooks/use-search-params/with-suspense.segments/hooks/use-search-params/with-suspense.segment.rsc\",\n-           \"hooks/use-search-params/with-suspense.segments/hooks/use-search-params/with-suspense/__PAGE__.segment.rsc\",\n-           \"index.html\",\n-           \"index.rsc\",\n-           \"index.segments/__PAGE__.segment.rsc\",\n-           \"index.segments/_index.segment.rsc\",\n-           \"index.segments/_tree.segment.rsc\",\n-           \"isr-error-handling.html\",\n-           \"isr-error-handling.rsc\",\n-           \"isr-error-handling.segments/_index.segment.rsc\",\n-           \"isr-error-handling.segments/_tree.segment.rsc\",\n-           \"isr-error-handling.segments/isr-error-handling.segment.rsc\",\n-           \"isr-error-handling.segments/isr-error-handling/__PAGE__.segment.rsc\",\n-           \"no-config-fetch.html\",\n-           \"no-config-fetch.rsc\",\n-           \"no-config-fetch.segments/!KG5ldyk.segment.rsc\",\n-           \"no-config-fetch.segments/!KG5ldyk/no-config-fetch.segment.rsc\",\n-           \"no-config-fetch.segments/!KG5ldyk/no-config-fetch/__PAGE__.segment.rsc\",\n-           \"no-config-fetch.segments/_index.segment.rsc\",\n-           \"no-config-fetch.segments/_tree.segment.rsc\",\n-           \"no-store/static.html\",\n-           \"no-store/static.rsc\",\n-           \"no-store/static.segments/_index.segment.rsc\",\n-           \"no-store/static.segments/_tree.segment.rsc\",\n-           \"no-store/static.segments/no-store.segment.rsc\",\n-           \"no-store/static.segments/no-store/static.segment.rsc\",\n-           \"no-store/static.segments/no-store/static/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.html\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.html\",\n-           \"partial-gen-params-no-additional-lang/en/first.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.html\",\n-           \"partial-gen-params-no-additional-lang/en/second.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.html\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.html\",\n-           \"partial-gen-params-no-additional-lang/fr/first.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.html\",\n-           \"partial-gen-params-no-additional-lang/fr/second.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.html\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.html\",\n-           \"partial-gen-params-no-additional-slug/en/first.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.html\",\n-           \"partial-gen-params-no-additional-slug/en/second.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.html\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.html\",\n-           \"partial-gen-params-no-additional-slug/fr/first.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.html\",\n-           \"partial-gen-params-no-additional-slug/fr/second.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.segments/_index.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.segments/_tree.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n-           \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n-           \"partial-params-false/en/static.html\",\n-           \"partial-params-false/en/static.rsc\",\n-           \"partial-params-false/en/static.segments/_index.segment.rsc\",\n-           \"partial-params-false/en/static.segments/_tree.segment.rsc\",\n-           \"partial-params-false/en/static.segments/partial-params-false.segment.rsc\",\n-           \"partial-params-false/en/static.segments/partial-params-false/$d$locale.segment.rsc\",\n-           \"partial-params-false/en/static.segments/partial-params-false/$d$locale/static.segment.rsc\",\n-           \"partial-params-false/en/static.segments/partial-params-false/$d$locale/static/__PAGE__.segment.rsc\",\n-           \"partial-params-false/fr/static.html\",\n-           \"partial-params-false/fr/static.rsc\",\n-           \"partial-params-false/fr/static.segments/_index.segment.rsc\",\n-           \"partial-params-false/fr/static.segments/_tree.segment.rsc\",\n-           \"partial-params-false/fr/static.segments/partial-params-false.segment.rsc\",\n-           \"partial-params-false/fr/static.segments/partial-params-false/$d$locale.segment.rsc\",\n-           \"partial-params-false/fr/static.segments/partial-params-false/$d$locale/static.segment.rsc\",\n-           \"partial-params-false/fr/static.segments/partial-params-false/$d$locale/static/__PAGE__.segment.rsc\",\n-           \"prerendered-not-found/first.html\",\n-           \"prerendered-not-found/first.rsc\",\n-           \"prerendered-not-found/first.segments/_index.segment.rsc\",\n-           \"prerendered-not-found/first.segments/_tree.segment.rsc\",\n-           \"prerendered-not-found/first.segments/prerendered-not-found.segment.rsc\",\n-           \"prerendered-not-found/first.segments/prerendered-not-found/$d$slug.segment.rsc\",\n-           \"prerendered-not-found/first.segments/prerendered-not-found/$d$slug/__PAGE__.segment.rsc\",\n-           \"prerendered-not-found/second.html\",\n-           \"prerendered-not-found/second.rsc\",\n-           \"prerendered-not-found/second.segments/_index.segment.rsc\",\n-           \"prerendered-not-found/second.segments/_tree.segment.rsc\",\n-           \"prerendered-not-found/second.segments/prerendered-not-found.segment.rsc\",\n-           \"prerendered-not-found/second.segments/prerendered-not-found/$d$slug.segment.rsc\",\n-           \"prerendered-not-found/second.segments/prerendered-not-found/$d$slug/__PAGE__.segment.rsc\",\n-           \"prerendered-not-found/segment-revalidate.html\",\n-           \"prerendered-not-found/segment-revalidate.rsc\",\n-           \"prerendered-not-found/segment-revalidate.segments/_index.segment.rsc\",\n-           \"prerendered-not-found/segment-revalidate.segments/_tree.segment.rsc\",\n-           \"prerendered-not-found/segment-revalidate.segments/prerendered-not-found.segment.rsc\",\n-           \"prerendered-not-found/segment-revalidate.segments/prerendered-not-found/segment-revalidate.segment.rsc\",\n-           \"prerendered-not-found/segment-revalidate.segments/prerendered-not-found/segment-revalidate/__PAGE__.segment.rsc\",\n-           \"ssg-draft-mode.html\",\n-           \"ssg-draft-mode.rsc\",\n-           \"ssg-draft-mode.segments/_index.segment.rsc\",\n-           \"ssg-draft-mode.segments/_tree.segment.rsc\",\n-           \"ssg-draft-mode.segments/ssg-draft-mode.segment.rsc\",\n-           \"ssg-draft-mode.segments/ssg-draft-mode/$oc$route.segment.rsc\",\n-           \"ssg-draft-mode.segments/ssg-draft-mode/$oc$route/__PAGE__.segment.rsc\",\n-           \"ssg-draft-mode/test-2.html\",\n-           \"ssg-draft-mode/test-2.rsc\",\n-           \"ssg-draft-mode/test-2.segments/_index.segment.rsc\",\n-           \"ssg-draft-mode/test-2.segments/_tree.segment.rsc\",\n-           \"ssg-draft-mode/test-2.segments/ssg-draft-mode.segment.rsc\",\n-           \"ssg-draft-mode/test-2.segments/ssg-draft-mode/$oc$route.segment.rsc\",\n-           \"ssg-draft-mode/test-2.segments/ssg-draft-mode/$oc$route/__PAGE__.segment.rsc\",\n-           \"ssg-draft-mode/test.html\",\n-           \"ssg-draft-mode/test.rsc\",\n-           \"ssg-draft-mode/test.segments/_index.segment.rsc\",\n-           \"ssg-draft-mode/test.segments/_tree.segment.rsc\",\n-           \"ssg-draft-mode/test.segments/ssg-draft-mode.segment.rsc\",\n-           \"ssg-draft-mode/test.segments/ssg-draft-mode/$oc$route.segment.rsc\",\n-           \"ssg-draft-mode/test.segments/ssg-draft-mode/$oc$route/__PAGE__.segment.rsc\",\n-           \"strip-w3c-trace-context-headers.html\",\n-           \"strip-w3c-trace-context-headers.rsc\",\n-           \"strip-w3c-trace-context-headers.segments/_index.segment.rsc\",\n-           \"strip-w3c-trace-context-headers.segments/_tree.segment.rsc\",\n-           \"strip-w3c-trace-context-headers.segments/strip-w3c-trace-context-headers.segment.rsc\",\n-           \"strip-w3c-trace-context-headers.segments/strip-w3c-trace-context-headers/__PAGE__.segment.rsc\",\n-           \"unstable-cache/fetch/no-cache.html\",\n-           \"unstable-cache/fetch/no-cache.rsc\",\n-           \"unstable-cache/fetch/no-cache.segments/_index.segment.rsc\",\n-           \"unstable-cache/fetch/no-cache.segments/_tree.segment.rsc\",\n-           \"unstable-cache/fetch/no-cache.segments/unstable-cache.segment.rsc\",\n-           \"unstable-cache/fetch/no-cache.segments/unstable-cache/fetch.segment.rsc\",\n-           \"unstable-cache/fetch/no-cache.segments/unstable-cache/fetch/no-cache.segment.rsc\",\n-           \"unstable-cache/fetch/no-cache.segments/unstable-cache/fetch/no-cache/__PAGE__.segment.rsc\",\n-           \"unstable-cache/fetch/no-store.html\",\n-           \"unstable-cache/fetch/no-store.rsc\",\n-           \"unstable-cache/fetch/no-store.segments/_index.segment.rsc\",\n-           \"unstable-cache/fetch/no-store.segments/_tree.segment.rsc\",\n-           \"unstable-cache/fetch/no-store.segments/unstable-cache.segment.rsc\",\n-           \"unstable-cache/fetch/no-store.segments/unstable-cache/fetch.segment.rsc\",\n-           \"unstable-cache/fetch/no-store.segments/unstable-cache/fetch/no-store.segment.rsc\",\n-           \"unstable-cache/fetch/no-store.segments/unstable-cache/fetch/no-store/__PAGE__.segment.rsc\",\n-           \"update-tag-test.html\",\n-           \"update-tag-test.rsc\",\n-           \"update-tag-test.segments/_index.segment.rsc\",\n-           \"update-tag-test.segments/_tree.segment.rsc\",\n-           \"update-tag-test.segments/update-tag-test.segment.rsc\",\n-           \"update-tag-test.segments/update-tag-test/__PAGE__.segment.rsc\",\n-           \"variable-config-revalidate/revalidate-3.html\",\n-           \"variable-config-revalidate/revalidate-3.rsc\",\n-           \"variable-config-revalidate/revalidate-3.segments/_index.segment.rsc\",\n-           \"variable-config-revalidate/revalidate-3.segments/_tree.segment.rsc\",\n-           \"variable-config-revalidate/revalidate-3.segments/variable-config-revalidate.segment.rsc\",\n-           \"variable-config-revalidate/revalidate-3.segments/variable-config-revalidate/revalidate-3.segment.rsc\",\n-           \"variable-config-revalidate/revalidate-3.segments/variable-config-revalidate/revalidate-3/__PAGE__.segment.rsc\",\n-           \"variable-revalidate-stable/revalidate-3.html\",\n-           \"variable-revalidate-stable/revalidate-3.rsc\",\n-           \"variable-revalidate-stable/revalidate-3.segments/_index.segment.rsc\",\n-           \"variable-revalidate-stable/revalidate-3.segments/_tree.segment.rsc\",\n-           \"variable-revalidate-stable/revalidate-3.segments/variable-revalidate-stable.segment.rsc\",\n-           \"variable-revalidate-stable/revalidate-3.segments/variable-revalidate-stable/revalidate-3.segment.rsc\",\n-           \"variable-revalidate-stable/revalidate-3.segments/variable-revalidate-stable/revalidate-3/__PAGE__.segment.rsc\",\n-           \"variable-revalidate/authorization.html\",\n-           \"variable-revalidate/authorization.rsc\",\n-           \"variable-revalidate/authorization.segments/_index.segment.rsc\",\n-           \"variable-revalidate/authorization.segments/_tree.segment.rsc\",\n-           \"variable-revalidate/authorization.segments/variable-revalidate.segment.rsc\",\n-           \"variable-revalidate/authorization.segments/variable-revalidate/authorization.segment.rsc\",\n-           \"variable-revalidate/authorization.segments/variable-revalidate/authorization/__PAGE__.segment.rsc\",\n-           \"variable-revalidate/cookie.html\",\n-           \"variable-revalidate/cookie.rsc\",\n-           \"variable-revalidate/cookie.segments/_index.segment.rsc\",\n-           \"variable-revalidate/cookie.segments/_tree.segment.rsc\",\n-           \"variable-revalidate/cookie.segments/variable-revalidate.segment.rsc\",\n-           \"variable-revalidate/cookie.segments/variable-revalidate/cookie.segment.rsc\",\n-           \"variable-revalidate/cookie.segments/variable-revalidate/cookie/__PAGE__.segment.rsc\",\n-           \"variable-revalidate/encoding.html\",\n-           \"variable-revalidate/encoding.rsc\",\n-           \"variable-revalidate/encoding.segments/_index.segment.rsc\",\n-           \"variable-revalidate/encoding.segments/_tree.segment.rsc\",\n-           \"variable-revalidate/encoding.segments/variable-revalidate.segment.rsc\",\n-           \"variable-revalidate/encoding.segments/variable-revalidate/encoding.segment.rsc\",\n-           \"variable-revalidate/encoding.segments/variable-revalidate/encoding/__PAGE__.segment.rsc\",\n-           \"variable-revalidate/headers-instance.html\",\n-           \"variable-revalidate/headers-instance.rsc\",\n-           \"variable-revalidate/headers-instance.segments/_index.segment.rsc\",\n-           \"variable-revalidate/headers-instance.segments/_tree.segment.rsc\",\n-           \"variable-revalidate/headers-instance.segments/variable-revalidate.segment.rsc\",\n-           \"variable-revalidate/headers-instance.segments/variable-revalidate/headers-instance.segment.rsc\",\n-           \"variable-revalidate/headers-instance.segments/variable-revalidate/headers-instance/__PAGE__.segment.rsc\",\n-           \"variable-revalidate/revalidate-3.html\",\n-           \"variable-revalidate/revalidate-3.rsc\",\n-           \"variable-revalidate/revalidate-3.segments/_index.segment.rsc\",\n-           \"variable-revalidate/revalidate-3.segments/_tree.segment.rsc\",\n-           \"variable-revalidate/revalidate-3.segments/variable-revalidate.segment.rsc\",\n-           \"variable-revalidate/revalidate-3.segments/variable-revalidate/revalidate-3.segment.rsc\",\n-           \"variable-revalidate/revalidate-3.segments/variable-revalidate/revalidate-3/__PAGE__.segment.rsc\",\n-           \"variable-revalidate/revalidate-360-isr.html\",\n-           \"variable-revalidate/revalidate-360-isr.rsc\",\n-           \"variable-revalidate/revalidate-360-isr.segments/_index.segment.rsc\",\n-           \"variable-revalidate/revalidate-360-isr.segments/_tree.segment.rsc\",\n-           \"variable-revalidate/revalidate-360-isr.segments/variable-revalidate.segment.rsc\",\n-           \"variable-revalidate/revalidate-360-isr.segments/variable-revalidate/revalidate-360-isr.segment.rsc\",\n-           \"variable-revalidate/revalidate-360-isr.segments/variable-revalidate/revalidate-360-isr/__PAGE__.segment.rsc\",\n-         ]\n-        `)\n+       [\n+         \"_not-found.html\",\n+         \"_not-found.rsc\",\n+         \"_not-found.segments/_full.segment.rsc\",\n+         \"_not-found.segments/_index.segment.rsc\",\n+         \"_not-found.segments/_not-found.segment.rsc\",\n+         \"_not-found.segments/_not-found/__PAGE__.segment.rsc\",\n+         \"_not-found.segments/_tree.segment.rsc\",\n+         \"articles/works.html\",\n+         \"articles/works.rsc\",\n+         \"articles/works.segments/_full.segment.rsc\",\n+         \"articles/works.segments/_index.segment.rsc\",\n+         \"articles/works.segments/_tree.segment.rsc\",\n+         \"articles/works.segments/articles.segment.rsc\",\n+         \"articles/works.segments/articles/$d$slug.segment.rsc\",\n+         \"articles/works.segments/articles/$d$slug/__PAGE__.segment.rsc\",\n+         \"blog/seb.html\",\n+         \"blog/seb.rsc\",\n+         \"blog/seb.segments/_full.segment.rsc\",\n+         \"blog/seb.segments/_index.segment.rsc\",\n+         \"blog/seb.segments/_tree.segment.rsc\",\n+         \"blog/seb.segments/blog.segment.rsc\",\n+         \"blog/seb.segments/blog/$d$author.segment.rsc\",\n+         \"blog/seb.segments/blog/$d$author/__PAGE__.segment.rsc\",\n+         \"blog/seb/second-post.html\",\n+         \"blog/seb/second-post.rsc\",\n+         \"blog/seb/second-post.segments/_full.segment.rsc\",\n+         \"blog/seb/second-post.segments/_index.segment.rsc\",\n+         \"blog/seb/second-post.segments/_tree.segment.rsc\",\n+         \"blog/seb/second-post.segments/blog.segment.rsc\",\n+         \"blog/seb/second-post.segments/blog/$d$author.segment.rsc\",\n+         \"blog/seb/second-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n+         \"blog/seb/second-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n+         \"blog/styfle.html\",\n+         \"blog/styfle.rsc\",\n+         \"blog/styfle.segments/_full.segment.rsc\",\n+         \"blog/styfle.segments/_index.segment.rsc\",\n+         \"blog/styfle.segments/_tree.segment.rsc\",\n+         \"blog/styfle.segments/blog.segment.rsc\",\n+         \"blog/styfle.segments/blog/$d$author.segment.rsc\",\n+         \"blog/styfle.segments/blog/$d$author/__PAGE__.segment.rsc\",\n+         \"blog/styfle/first-post.html\",\n+         \"blog/styfle/first-post.rsc\",\n+         \"blog/styfle/first-post.segments/_full.segment.rsc\",\n+         \"blog/styfle/first-post.segments/_index.segment.rsc\",\n+         \"blog/styfle/first-post.segments/_tree.segment.rsc\",\n+         \"blog/styfle/first-post.segments/blog.segment.rsc\",\n+         \"blog/styfle/first-post.segments/blog/$d$author.segment.rsc\",\n+         \"blog/styfle/first-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n+         \"blog/styfle/first-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n+         \"blog/styfle/second-post.html\",\n+         \"blog/styfle/second-post.rsc\",\n+         \"blog/styfle/second-post.segments/_full.segment.rsc\",\n+         \"blog/styfle/second-post.segments/_index.segment.rsc\",\n+         \"blog/styfle/second-post.segments/_tree.segment.rsc\",\n+         \"blog/styfle/second-post.segments/blog.segment.rsc\",\n+         \"blog/styfle/second-post.segments/blog/$d$author.segment.rsc\",\n+         \"blog/styfle/second-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n+         \"blog/styfle/second-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n+         \"blog/tim.html\",\n+         \"blog/tim.rsc\",\n+         \"blog/tim.segments/_full.segment.rsc\",\n+         \"blog/tim.segments/_index.segment.rsc\",\n+         \"blog/tim.segments/_tree.segment.rsc\",\n+         \"blog/tim.segments/blog.segment.rsc\",\n+         \"blog/tim.segments/blog/$d$author.segment.rsc\",\n+         \"blog/tim.segments/blog/$d$author/__PAGE__.segment.rsc\",\n+         \"blog/tim/first-post.html\",\n+         \"blog/tim/first-post.rsc\",\n+         \"blog/tim/first-post.segments/_full.segment.rsc\",\n+         \"blog/tim/first-post.segments/_index.segment.rsc\",\n+         \"blog/tim/first-post.segments/_tree.segment.rsc\",\n+         \"blog/tim/first-post.segments/blog.segment.rsc\",\n+         \"blog/tim/first-post.segments/blog/$d$author.segment.rsc\",\n+         \"blog/tim/first-post.segments/blog/$d$author/$d$slug.segment.rsc\",\n+         \"blog/tim/first-post.segments/blog/$d$author/$d$slug/__PAGE__.segment.rsc\",\n+         \"default-config-fetch.html\",\n+         \"default-config-fetch.rsc\",\n+         \"default-config-fetch.segments/!KG5ldyk.segment.rsc\",\n+         \"default-config-fetch.segments/!KG5ldyk/default-config-fetch.segment.rsc\",\n+         \"default-config-fetch.segments/!KG5ldyk/default-config-fetch/__PAGE__.segment.rsc\",\n+         \"default-config-fetch.segments/_full.segment.rsc\",\n+         \"default-config-fetch.segments/_index.segment.rsc\",\n+         \"default-config-fetch.segments/_tree.segment.rsc\",\n+         \"force-cache.html\",\n+         \"force-cache.rsc\",\n+         \"force-cache.segments/_full.segment.rsc\",\n+         \"force-cache.segments/_index.segment.rsc\",\n+         \"force-cache.segments/_tree.segment.rsc\",\n+         \"force-cache.segments/force-cache.segment.rsc\",\n+         \"force-cache.segments/force-cache/__PAGE__.segment.rsc\",\n+         \"force-static-fetch-no-store.html\",\n+         \"force-static-fetch-no-store.rsc\",\n+         \"force-static-fetch-no-store.segments/_full.segment.rsc\",\n+         \"force-static-fetch-no-store.segments/_index.segment.rsc\",\n+         \"force-static-fetch-no-store.segments/_tree.segment.rsc\",\n+         \"force-static-fetch-no-store.segments/force-static-fetch-no-store.segment.rsc\",\n+         \"force-static-fetch-no-store.segments/force-static-fetch-no-store/__PAGE__.segment.rsc\",\n+         \"force-static/first.html\",\n+         \"force-static/first.rsc\",\n+         \"force-static/first.segments/_full.segment.rsc\",\n+         \"force-static/first.segments/_index.segment.rsc\",\n+         \"force-static/first.segments/_tree.segment.rsc\",\n+         \"force-static/first.segments/force-static.segment.rsc\",\n+         \"force-static/first.segments/force-static/$d$slug.segment.rsc\",\n+         \"force-static/first.segments/force-static/$d$slug/__PAGE__.segment.rsc\",\n+         \"force-static/second.html\",\n+         \"force-static/second.rsc\",\n+         \"force-static/second.segments/_full.segment.rsc\",\n+         \"force-static/second.segments/_index.segment.rsc\",\n+         \"force-static/second.segments/_tree.segment.rsc\",\n+         \"force-static/second.segments/force-static.segment.rsc\",\n+         \"force-static/second.segments/force-static/$d$slug.segment.rsc\",\n+         \"force-static/second.segments/force-static/$d$slug/__PAGE__.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.html\",\n+         \"gen-params-catch-all-unique/foo/bar.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.segments/_full.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.segments/_index.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.segments/_tree.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.segments/gen-params-catch-all-unique.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.segments/gen-params-catch-all-unique/$c$slug.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/bar.segments/gen-params-catch-all-unique/$c$slug/__PAGE__.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.html\",\n+         \"gen-params-catch-all-unique/foo/foo.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.segments/_full.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.segments/_index.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.segments/_tree.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.segments/gen-params-catch-all-unique.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.segments/gen-params-catch-all-unique/$c$slug.segment.rsc\",\n+         \"gen-params-catch-all-unique/foo/foo.segments/gen-params-catch-all-unique/$c$slug/__PAGE__.segment.rsc\",\n+         \"gen-params-dynamic-revalidate/one.html\",\n+         \"gen-params-dynamic-revalidate/one.rsc\",\n+         \"gen-params-dynamic-revalidate/one.segments/_full.segment.rsc\",\n+         \"gen-params-dynamic-revalidate/one.segments/_index.segment.rsc\",\n+         \"gen-params-dynamic-revalidate/one.segments/_tree.segment.rsc\",\n+         \"gen-params-dynamic-revalidate/one.segments/gen-params-dynamic-revalidate.segment.rsc\",\n+         \"gen-params-dynamic-revalidate/one.segments/gen-params-dynamic-revalidate/$d$slug.segment.rsc\",\n+         \"gen-params-dynamic-revalidate/one.segments/gen-params-dynamic-revalidate/$d$slug/__PAGE__.segment.rsc\",\n+         \"hooks/use-pathname/slug.html\",\n+         \"hooks/use-pathname/slug.rsc\",\n+         \"hooks/use-pathname/slug.segments/_full.segment.rsc\",\n+         \"hooks/use-pathname/slug.segments/_index.segment.rsc\",\n+         \"hooks/use-pathname/slug.segments/_tree.segment.rsc\",\n+         \"hooks/use-pathname/slug.segments/hooks.segment.rsc\",\n+         \"hooks/use-pathname/slug.segments/hooks/use-pathname.segment.rsc\",\n+         \"hooks/use-pathname/slug.segments/hooks/use-pathname/$d$slug.segment.rsc\",\n+         \"hooks/use-pathname/slug.segments/hooks/use-pathname/$d$slug/__PAGE__.segment.rsc\",\n+         \"hooks/use-search-params/force-static.html\",\n+         \"hooks/use-search-params/force-static.rsc\",\n+         \"hooks/use-search-params/force-static.segments/_full.segment.rsc\",\n+         \"hooks/use-search-params/force-static.segments/_index.segment.rsc\",\n+         \"hooks/use-search-params/force-static.segments/_tree.segment.rsc\",\n+         \"hooks/use-search-params/force-static.segments/hooks.segment.rsc\",\n+         \"hooks/use-search-params/force-static.segments/hooks/use-search-params.segment.rsc\",\n+         \"hooks/use-search-params/force-static.segments/hooks/use-search-params/force-static.segment.rsc\",\n+         \"hooks/use-search-params/force-static.segments/hooks/use-search-params/force-static/__PAGE__.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.html\",\n+         \"hooks/use-search-params/with-suspense.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/_full.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/_index.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/_tree.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/hooks.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/hooks/use-search-params.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/hooks/use-search-params/with-suspense.segment.rsc\",\n+         \"hooks/use-search-params/with-suspense.segments/hooks/use-search-params/with-suspense/__PAGE__.segment.rsc\",\n+         \"index.html\",\n+         \"index.rsc\",\n+         \"index.segments/__PAGE__.segment.rsc\",\n+         \"index.segments/_full.segment.rsc\",\n+         \"index.segments/_index.segment.rsc\",\n+         \"index.segments/_tree.segment.rsc\",\n+         \"isr-error-handling.html\",\n+         \"isr-error-handling.rsc\",\n+         \"isr-error-handling.segments/_full.segment.rsc\",\n+         \"isr-error-handling.segments/_index.segment.rsc\",\n+         \"isr-error-handling.segments/_tree.segment.rsc\",\n+         \"isr-error-handling.segments/isr-error-handling.segment.rsc\",\n+         \"isr-error-handling.segments/isr-error-handling/__PAGE__.segment.rsc\",\n+         \"no-config-fetch.html\",\n+         \"no-config-fetch.rsc\",\n+         \"no-config-fetch.segments/!KG5ldyk.segment.rsc\",\n+         \"no-config-fetch.segments/!KG5ldyk/no-config-fetch.segment.rsc\",\n+         \"no-config-fetch.segments/!KG5ldyk/no-config-fetch/__PAGE__.segment.rsc\",\n+         \"no-config-fetch.segments/_full.segment.rsc\",\n+         \"no-config-fetch.segments/_index.segment.rsc\",\n+         \"no-config-fetch.segments/_tree.segment.rsc\",\n+         \"no-store/static.html\",\n+         \"no-store/static.rsc\",\n+         \"no-store/static.segments/_full.segment.rsc\",\n+         \"no-store/static.segments/_index.segment.rsc\",\n+         \"no-store/static.segments/_tree.segment.rsc\",\n+         \"no-store/static.segments/no-store.segment.rsc\",\n+         \"no-store/static.segments/no-store/static.segment.rsc\",\n+         \"no-store/static.segments/no-store/static/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.html\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.html\",\n+         \"partial-gen-params-no-additional-lang/en/first.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.html\",\n+         \"partial-gen-params-no-additional-lang/en/second.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/en/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.html\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/RAND.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.html\",\n+         \"partial-gen-params-no-additional-lang/fr/first.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/first.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.html\",\n+         \"partial-gen-params-no-additional-lang/fr/second.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-lang/fr/second.segments/partial-gen-params-no-additional-lang/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.html\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.html\",\n+         \"partial-gen-params-no-additional-slug/en/first.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.html\",\n+         \"partial-gen-params-no-additional-slug/en/second.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/en/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.html\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/RAND.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.html\",\n+         \"partial-gen-params-no-additional-slug/fr/first.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/first.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.html\",\n+         \"partial-gen-params-no-additional-slug/fr/second.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/_full.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/_index.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/_tree.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug/$d$lang.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug.segment.rsc\",\n+         \"partial-gen-params-no-additional-slug/fr/second.segments/partial-gen-params-no-additional-slug/$d$lang/$d$slug/__PAGE__.segment.rsc\",\n+         \"partial-params-false/en/static.html\",\n+         \"partial-params-false/en/static.rsc\",\n+         \"partial-params-false/en/static.segments/_full.segment.rsc\",\n+         \"partial-params-false/en/static.segments/_index.segment.rsc\",\n+         \"partial-params-false/en/static.segments/_tree.segment.rsc\",\n+         \"partial-params-false/en/static.segments/partial-params-false.segment.rsc\",\n+         \"partial-params-false/en/static.segments/partial-params-false/$d$locale.segment.rsc\",\n+         \"partial-params-false/en/static.segments/partial-params-false/$d$locale/static.segment.rsc\",\n+         \"partial-params-false/en/static.segments/partial-params-false/$d$locale/static/__PAGE__.segment.rsc\",\n+         \"partial-params-false/fr/static.html\",\n+         \"partial-params-false/fr/static.rsc\",\n+         \"partial-params-false/fr/static.segments/_full.segment.rsc\",\n+         \"partial-params-false/fr/static.segments/_index.segment.rsc\",\n+         \"partial-params-false/fr/static.segments/_tree.segment.rsc\",\n+         \"partial-params-false/fr/static.segments/partial-params-false.segment.rsc\",\n+         \"partial-params-false/fr/static.segments/partial-params-false/$d$locale.segment.rsc\",\n+         \"partial-params-false/fr/static.segments/partial-params-false/$d$locale/static.segment.rsc\",\n+         \"partial-params-false/fr/static.segments/partial-params-false/$d$locale/static/__PAGE__.segment.rsc\",\n+         \"prerendered-not-found/first.html\",\n+         \"prerendered-not-found/first.rsc\",\n+         \"prerendered-not-found/first.segments/_full.segment.rsc\",\n+         \"prerendered-not-found/first.segments/_index.segment.rsc\",\n+         \"prerendered-not-found/first.segments/_tree.segment.rsc\",\n+         \"prerendered-not-found/first.segments/prerendered-not-found.segment.rsc\",\n+         \"prerendered-not-found/first.segments/prerendered-not-found/$d$slug.segment.rsc\",\n+         \"prerendered-not-found/first.segments/prerendered-not-found/$d$slug/__PAGE__.segment.rsc\",\n+         \"prerendered-not-found/second.html\",\n+         \"prerendered-not-found/second.rsc\",\n+         \"prerendered-not-found/second.segments/_full.segment.rsc\",\n+         \"prerendered-not-found/second.segments/_index.segment.rsc\",\n+         \"prerendered-not-found/second.segments/_tree.segment.rsc\",\n+         \"prerendered-not-found/second.segments/prerendered-not-found.segment.rsc\",\n+         \"prerendered-not-found/second.segments/prerendered-not-found/$d$slug.segment.rsc\",\n+         \"prerendered-not-found/second.segments/prerendered-not-found/$d$slug/__PAGE__.segment.rsc\",\n+         \"prerendered-not-found/segment-revalidate.html\",\n+         \"prerendered-not-found/segment-revalidate.rsc\",\n+         \"prerendered-not-found/segment-revalidate.segments/_full.segment.rsc\",\n+         \"prerendered-not-found/segment-revalidate.segments/_index.segment.rsc\",\n+         \"prerendered-not-found/segment-revalidate.segments/_tree.segment.rsc\",\n+         \"prerendered-not-found/segment-revalidate.segments/prerendered-not-found.segment.rsc\",\n+         \"prerendered-not-found/segment-revalidate.segments/prerendered-not-found/segment-revalidate.segment.rsc\",\n+         \"prerendered-not-found/segment-revalidate.segments/prerendered-not-found/segment-revalidate/__PAGE__.segment.rsc\",\n+         \"ssg-draft-mode.html\",\n+         \"ssg-draft-mode.rsc\",\n+         \"ssg-draft-mode.segments/_full.segment.rsc\",\n+         \"ssg-draft-mode.segments/_index.segment.rsc\",\n+         \"ssg-draft-mode.segments/_tree.segment.rsc\",\n+         \"ssg-draft-mode.segments/ssg-draft-mode.segment.rsc\",\n+         \"ssg-draft-mode.segments/ssg-draft-mode/$oc$route.segment.rsc\",\n+         \"ssg-draft-mode.segments/ssg-draft-mode/$oc$route/__PAGE__.segment.rsc\",\n+         \"ssg-draft-mode/test-2.html\",\n+         \"ssg-draft-mode/test-2.rsc\",\n+         \"ssg-draft-mode/test-2.segments/_full.segment.rsc\",\n+         \"ssg-draft-mode/test-2.segments/_index.segment.rsc\",\n+         \"ssg-draft-mode/test-2.segments/_tree.segment.rsc\",\n+         \"ssg-draft-mode/test-2.segments/ssg-draft-mode.segment.rsc\",\n+         \"ssg-draft-mode/test-2.segments/ssg-draft-mode/$oc$route.segment.rsc\",\n+         \"ssg-draft-mode/test-2.segments/ssg-draft-mode/$oc$route/__PAGE__.segment.rsc\",\n+         \"ssg-draft-mode/test.html\",\n+         \"ssg-draft-mode/test.rsc\",\n+         \"ssg-draft-mode/test.segments/_full.segment.rsc\",\n+         \"ssg-draft-mode/test.segments/_index.segment.rsc\",\n+         \"ssg-draft-mode/test.segments/_tree.segment.rsc\",\n+         \"ssg-draft-mode/test.segments/ssg-draft-mode.segment.rsc\",\n+         \"ssg-draft-mode/test.segments/ssg-draft-mode/$oc$route.segment.rsc\",\n+         \"ssg-draft-mode/test.segments/ssg-draft-mode/$oc$route/__PAGE__.segment.rsc\",\n+         \"strip-w3c-trace-context-headers.html\",\n+         \"strip-w3c-trace-context-headers.rsc\",\n+         \"strip-w3c-trace-context-headers.segments/_full.segment.rsc\",\n+         \"strip-w3c-trace-context-headers.segments/_index.segment.rsc\",\n+         \"strip-w3c-trace-context-headers.segments/_tree.segment.rsc\",\n+         \"strip-w3c-trace-context-headers.segments/strip-w3c-trace-context-headers.segment.rsc\",\n+         \"strip-w3c-trace-context-headers.segments/strip-w3c-trace-context-headers/__PAGE__.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.html\",\n+         \"unstable-cache/fetch/no-cache.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/_full.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/_index.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/_tree.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/unstable-cache.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/unstable-cache/fetch.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/unstable-cache/fetch/no-cache.segment.rsc\",\n+         \"unstable-cache/fetch/no-cache.segments/unstable-cache/fetch/no-cache/__PAGE__.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.html\",\n+         \"unstable-cache/fetch/no-store.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/_full.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/_index.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/_tree.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/unstable-cache.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/unstable-cache/fetch.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/unstable-cache/fetch/no-store.segment.rsc\",\n+         \"unstable-cache/fetch/no-store.segments/unstable-cache/fetch/no-store/__PAGE__.segment.rsc\",\n+         \"update-tag-test.html\",\n+         \"update-tag-test.rsc\",\n+         \"update-tag-test.segments/_full.segment.rsc\",\n+         \"update-tag-test.segments/_index.segment.rsc\",\n+         \"update-tag-test.segments/_tree.segment.rsc\",\n+         \"update-tag-test.segments/update-tag-test.segment.rsc\",\n+         \"update-tag-test.segments/update-tag-test/__PAGE__.segment.rsc\",\n+         \"variable-config-revalidate/revalidate-3.html\",\n+         \"variable-config-revalidate/revalidate-3.rsc\",\n+         \"variable-config-revalidate/revalidate-3.segments/_full.segment.rsc\",\n+         \"variable-config-revalidate/revalidate-3.segments/_index.segment.rsc\",\n+         \"variable-config-revalidate/revalidate-3.segments/_tree.segment.rsc\",\n+         \"variable-config-revalidate/revalidate-3.segments/variable-config-revalidate.segment.rsc\",\n+         \"variable-config-revalidate/revalidate-3.segments/variable-config-revalidate/revalidate-3.segment.rsc\",\n+         \"variable-config-revalidate/revalidate-3.segments/variable-config-revalidate/revalidate-3/__PAGE__.segment.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.html\",\n+         \"variable-revalidate-stable/revalidate-3.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.segments/_full.segment.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.segments/_index.segment.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.segments/_tree.segment.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.segments/variable-revalidate-stable.segment.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.segments/variable-revalidate-stable/revalidate-3.segment.rsc\",\n+         \"variable-revalidate-stable/revalidate-3.segments/variable-revalidate-stable/revalidate-3/__PAGE__.segment.rsc\",\n+         \"variable-revalidate/authorization.html\",\n+         \"variable-revalidate/authorization.rsc\",\n+         \"variable-revalidate/authorization.segments/_full.segment.rsc\",\n+         \"variable-revalidate/authorization.segments/_index.segment.rsc\",\n+         \"variable-revalidate/authorization.segments/_tree.segment.rsc\",\n+         \"variable-revalidate/authorization.segments/variable-revalidate.segment.rsc\",\n+         \"variable-revalidate/authorization.segments/variable-revalidate/authorization.segment.rsc\",\n+         \"variable-revalidate/authorization.segments/variable-revalidate/authorization/__PAGE__.segment.rsc\",\n+         \"variable-revalidate/cookie.html\",\n+         \"variable-revalidate/cookie.rsc\",\n+         \"variable-revalidate/cookie.segments/_full.segment.rsc\",\n+         \"variable-revalidate/cookie.segments/_index.segment.rsc\",\n+         \"variable-revalidate/cookie.segments/_tree.segment.rsc\",\n+         \"variable-revalidate/cookie.segments/variable-revalidate.segment.rsc\",\n+         \"variable-revalidate/cookie.segments/variable-revalidate/cookie.segment.rsc\",\n+         \"variable-revalidate/cookie.segments/variable-revalidate/cookie/__PAGE__.segment.rsc\",\n+         \"variable-revalidate/encoding.html\",\n+         \"variable-revalidate/encoding.rsc\",\n+         \"variable-revalidate/encoding.segments/_full.segment.rsc\",\n+         \"variable-revalidate/encoding.segments/_index.segment.rsc\",\n+         \"variable-revalidate/encoding.segments/_tree.segment.rsc\",\n+         \"variable-revalidate/encoding.segments/variable-revalidate.segment.rsc\",\n+         \"variable-revalidate/encoding.segments/variable-revalidate/encoding.segment.rsc\",\n+         \"variable-revalidate/encoding.segments/variable-revalidate/encoding/__PAGE__.segment.rsc\",\n+         \"variable-revalidate/headers-instance.html\",\n+         \"variable-revalidate/headers-instance.rsc\",\n+         \"variable-revalidate/headers-instance.segments/_full.segment.rsc\",\n+         \"variable-revalidate/headers-instance.segments/_index.segment.rsc\",\n+         \"variable-revalidate/headers-instance.segments/_tree.segment.rsc\",\n+         \"variable-revalidate/headers-instance.segments/variable-revalidate.segment.rsc\",\n+         \"variable-revalidate/headers-instance.segments/variable-revalidate/headers-instance.segment.rsc\",\n+         \"variable-revalidate/headers-instance.segments/variable-revalidate/headers-instance/__PAGE__.segment.rsc\",\n+         \"variable-revalidate/revalidate-3.html\",\n+         \"variable-revalidate/revalidate-3.rsc\",\n+         \"variable-revalidate/revalidate-3.segments/_full.segment.rsc\",\n+         \"variable-revalidate/revalidate-3.segments/_index.segment.rsc\",\n+         \"variable-revalidate/revalidate-3.segments/_tree.segment.rsc\",\n+         \"variable-revalidate/revalidate-3.segments/variable-revalidate.segment.rsc\",\n+         \"variable-revalidate/revalidate-3.segments/variable-revalidate/revalidate-3.segment.rsc\",\n+         \"variable-revalidate/revalidate-3.segments/variable-revalidate/revalidate-3/__PAGE__.segment.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.html\",\n+         \"variable-revalidate/revalidate-360-isr.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.segments/_full.segment.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.segments/_index.segment.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.segments/_tree.segment.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.segments/variable-revalidate.segment.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.segments/variable-revalidate/revalidate-360-isr.segment.rsc\",\n+         \"variable-revalidate/revalidate-360-isr.segments/variable-revalidate/revalidate-360-isr/__PAGE__.segment.rsc\",\n+       ]\n+      `)\n     })\n \n     it('should have correct prerender-manifest entries', async () => {"
        },
        {
            "sha": "dda23cfc45c52bee2e29235cdd857caab73d9ca1",
            "filename": "test/e2e/app-dir/cache-components-errors/cache-components-errors.module-scope.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.module-scope.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.module-scope.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.module-scope.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -25,7 +25,7 @@ describe('Lazy Module Init', () => {\n \n     expect(next.cliOutput).toContain(' /server')\n     expect(next.cliOutput).toContain(' /client')\n-    expect(next.cliOutput).toContain(' /client-page')\n+    expect(next.cliOutput).toContain(' /client-page')\n     expect(next.cliOutput).toContain(' /[dyn]')\n     let $\n "
        },
        {
            "sha": "9cef229eff676d55ec1d1e4b5c1931c6c78a51d6",
            "filename": "test/e2e/app-dir/cache-components-errors/cache-components-errors.test.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 24,
            "changes": 48,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -238,13 +238,13 @@ describe('Cache Components Errors', () => {\n                    at ScrollAndFocusHandler (bundler:///<next-src>)\n                    at RenderFromTemplateContext (bundler:///<next-src>)\n                    at OuterLayoutRouter (bundler:///<next-src>)\n-                 335 |  */\n-                 336 | function InnerLayoutRouter({\n-               > 337 |   tree,\n+                 337 |  */\n+                 338 | function InnerLayoutRouter({\n+               > 339 |   tree,\n                      |   ^\n-                 338 |   segmentPath,\n-                 339 |   cacheNode,\n-                 340 |   url,\n+                 340 |   segmentPath,\n+                 341 |   cacheNode,\n+                 342 |   params,\n                To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-metadata-error-route\" in your browser to investigate the error.\n                Error occurred prerendering page \"/dynamic-metadata-error-route\". Read more: https://nextjs.org/docs/messages/prerender-error\n \n@@ -745,13 +745,13 @@ describe('Cache Components Errors', () => {\n                    at ScrollAndFocusHandler (bundler:///<next-src>)\n                    at RenderFromTemplateContext (bundler:///<next-src>)\n                    at OuterLayoutRouter (bundler:///<next-src>)\n-                 335 |  */\n-                 336 | function InnerLayoutRouter({\n-               > 337 |   tree,\n+                 337 |  */\n+                 338 | function InnerLayoutRouter({\n+               > 339 |   tree,\n                      |   ^\n-                 338 |   segmentPath,\n-                 339 |   cacheNode,\n-                 340 |   url,\n+                 340 |   segmentPath,\n+                 341 |   cacheNode,\n+                 342 |   params,\n                To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-root\" in your browser to investigate the error.\n                Error occurred prerendering page \"/dynamic-root\". Read more: https://nextjs.org/docs/messages/prerender-error\n \n@@ -2141,13 +2141,13 @@ describe('Cache Components Errors', () => {\n                      at ScrollAndFocusHandler (bundler:///<next-src>)\n                      at RenderFromTemplateContext (<anonymous>)\n                      at OuterLayoutRouter (bundler:///<next-src>)\n-                   335 |  */\n-                   336 | function InnerLayoutRouter({\n-                 > 337 |   tree,\n+                   337 |  */\n+                   338 | function InnerLayoutRouter({\n+                 > 339 |   tree,\n                        |   ^\n-                   338 |   segmentPath,\n-                   339 |   cacheNode,\n-                   340 |   url,\n+                   340 |   segmentPath,\n+                   341 |   cacheNode,\n+                   342 |   params,\n                  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/sync-attribution/unguarded-async-guarded-clientsync\" in your browser to investigate the error.\n                  Error occurred prerendering page \"/sync-attribution/unguarded-async-guarded-clientsync\". Read more: https://nextjs.org/docs/messages/prerender-error\n \n@@ -3157,13 +3157,13 @@ describe('Cache Components Errors', () => {\n                      at ScrollAndFocusHandler (bundler:///<next-src>)\n                      at RenderFromTemplateContext (bundler:///<next-src>)\n                      at OuterLayoutRouter (bundler:///<next-src>)\n-                   335 |  */\n-                   336 | function InnerLayoutRouter({\n-                 > 337 |   tree,\n+                   337 |  */\n+                   338 | function InnerLayoutRouter({\n+                 > 339 |   tree,\n                        |   ^\n-                   338 |   segmentPath,\n-                   339 |   cacheNode,\n-                   340 |   url,\n+                   340 |   segmentPath,\n+                   341 |   cacheNode,\n+                   342 |   params,\n                  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-private-without-suspense\" in your browser to investigate the error.\n                  Error occurred prerendering page \"/use-cache-private-without-suspense\". Read more: https://nextjs.org/docs/messages/prerender-error\n "
        },
        {
            "sha": "57506afb6d1027683797349606a7c95112fa60f1",
            "filename": "test/e2e/app-dir/cache-components/app/cases/dynamic_api_search_params_client/page.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fapp%2Fcases%2Fdynamic_api_search_params_client%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fapp%2Fcases%2Fdynamic_api_search_params_client%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fapp%2Fcases%2Fdynamic_api_search_params_client%2Fpage.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -18,7 +18,7 @@ export default function Page({ searchParams }: { searchParams: Promise<any> }) {\n       <p>\n         Without PPR this page is fully dynamic because a dynamic API was used.\n       </p>\n-      <Suspense fallback={<Fallback>loading...</Fallback>}>\n+      <Suspense fallback={<div id=\"fallback-component-one-\">loading...</div>}>\n         <ComponentOne searchParams={searchParams} />\n       </Suspense>\n       <Suspense fallback={<Fallback>loading too...</Fallback>}>"
        },
        {
            "sha": "8bc468c908cc9fe8e693cbcacb4416fe12abc406",
            "filename": "test/e2e/app-dir/cache-components/cache-components.params.test.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 4,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.params.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.params.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.params.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -113,7 +113,12 @@ describe('cache-components', () => {\n       }\n     })\n \n-    it('should partially prerender pages that use params in a client components', async () => {\n+    // Since #85155, we intentionally omit search params from client segments\n+    // if the page is otherwise static, and resume using a client fetch\n+    // instead. So it's expected that the value is missing pre-hydration.\n+    // There are separate tests that verify that it is eventually hydrated.\n+    // TODO: Rewrite or update this test.\n+    it.skip('should partially prerender pages that use params in a client components', async () => {\n       expect(getLines('Route \"/params')).toEqual([])\n \n       let $ = await next.render$(\n@@ -291,7 +296,12 @@ describe('cache-components', () => {\n       }\n     })\n \n-    it('should fully prerender pages that check individual param keys after `use`ing params in a client component', async () => {\n+    // Since #85155, we intentionally omit search params from client segments\n+    // if the page is otherwise static, and resume using a client fetch\n+    // instead. So it's expected that the value is missing pre-hydration.\n+    // There are separate tests that verify that it is eventually hydrated.\n+    // TODO: Rewrite or update this test.\n+    it.skip('should fully prerender pages that check individual param keys after `use`ing params in a client component', async () => {\n       expect(getLines('Route \"/params')).toEqual([])\n       let $ = await next.render$(\n         '/params/semantics/one/build/layout-has/client'\n@@ -475,7 +485,12 @@ describe('cache-components', () => {\n       }\n     })\n \n-    it('should partially prerender pages that spread `use`ed params in a client component', async () => {\n+    // Since #85155, we intentionally omit search params from client segments\n+    // if the page is otherwise static, and resume using a client fetch\n+    // instead. So it's expected that the value is missing pre-hydration.\n+    // There are separate tests that verify that it is eventually hydrated.\n+    // TODO: Rewrite or update this test.\n+    it.skip('should partially prerender pages that spread `use`ed params in a client component', async () => {\n       expect(getLines('Route \"/params')).toEqual([])\n       let $ = await next.render$(\n         '/params/semantics/one/build/layout-spread/client'\n@@ -611,7 +626,12 @@ describe('cache-components', () => {\n       }\n     })\n \n-    it('should correctly allow param names like then, value, and status when `use`ing params in a client component', async () => {\n+    // Since #85155, we intentionally omit search params from client segments\n+    // if the page is otherwise static, and resume using a client fetch\n+    // instead. So it's expected that the value is missing pre-hydration.\n+    // There are separate tests that verify that it is eventually hydrated.\n+    // TODO: Rewrite or update this test.\n+    it.skip('should correctly allow param names like then, value, and status when `use`ing params in a client component', async () => {\n       expect(getLines('Route \"/params')).toEqual([])\n       let $ = await next.render$(\n         '/params/shadowing/foo/bar/baz/qux/layout/client'"
        },
        {
            "sha": "9fdc11fd529e9434f0f8f04b321b2abc8e16b037",
            "filename": "test/e2e/app-dir/cache-components/cache-components.search.test.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.search.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.search.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.search.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -50,8 +50,15 @@ describe('cache-components', () => {\n       expect($('#layout').text()).toBe('at buildtime')\n       expect($('main').text()).toContain('inner loading...')\n       expect($('main').text()).not.toContain('outer loading...')\n-      expect($('#value').text()).toBe('hello')\n-      expect($('#page').text()).toBe('at runtime')\n+      // Since #85155, we intentionally omit search params from client segments\n+      // if the page is otherwise static, and resume using a client fetch\n+      // instead. So it's expected that the value is missing pre-hydration.\n+      // There are separate tests that verify that it is eventually hydrated.\n+      // TODO: Rewrite or update this test.\n+      // expect($('#value').text()).toBe('hello')\n+      // expect($('#page').text()).toBe('at runtime')\n+      expect($('#value').text()).toBe('')\n+      expect($('#page').text()).toBe('')\n     }\n   })\n })"
        },
        {
            "sha": "dcf99e1b73a0b878447e6c98e93214e070a8cbbc",
            "filename": "test/e2e/app-dir/cache-components/cache-components.test.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -259,7 +259,11 @@ describe('cache-components', () => {\n       // The second component renders before the first one aborts so we end up\n       // capturing the static value during buildtime\n       expect($('#inner').text()).toBe('at buildtime')\n-      expect($('#value').text()).toBe('my sentinel')\n+      // Since there was no dynamic data access on this page, the search params\n+      // are completely ommitted from the HTML document and filled in by\n+      // the client\n+      expect($('#value').text()).toBe('')\n+      expect($('#fallback-component-one-').text()).toBe('loading...')\n     }\n   })\n "
        },
        {
            "sha": "a7ef616a5b2aca8ee6aee3a1810c3f454898eddf",
            "filename": "test/e2e/app-dir/segment-cache/client-params/app/[category]/[product]/page.tsx",
            "status": "added",
            "additions": 40,
            "deletions": 0,
            "changes": 40,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2F%5Bcategory%5D%2F%5Bproduct%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2F%5Bcategory%5D%2F%5Bproduct%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2F%5Bcategory%5D%2F%5Bproduct%5D%2Fpage.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,40 @@\n+'use client'\n+\n+import { Suspense, use } from 'react'\n+\n+function Content({\n+  params,\n+  searchParams,\n+}: {\n+  params: Promise<{ product: string }>\n+  searchParams: Promise<{ foo: string }>\n+}) {\n+  const { product } = use(params)\n+  const searchParamsDict = use(searchParams)\n+\n+  let query = null\n+  if (Object.keys(searchParamsDict).length > 0) {\n+    query = JSON.stringify(searchParamsDict)\n+  }\n+\n+  return (\n+    <>\n+      <p id=\"product\">Product: {product}</p>\n+      <p id=\"query\">Query: {query ? query : '(none)'}</p>\n+    </>\n+  )\n+}\n+\n+export default function ProductPage({\n+  params,\n+  searchParams,\n+}: {\n+  params: Promise<{ product: string }>\n+  searchParams: Promise<{ foo: string }>\n+}) {\n+  return (\n+    <Suspense fallback=\"Loading...\">\n+      <Content params={params} searchParams={searchParams} />\n+    </Suspense>\n+  )\n+}"
        },
        {
            "sha": "455340a1baff83c009a4644a1007ca603a63121f",
            "filename": "test/e2e/app-dir/segment-cache/client-params/app/[category]/layout.tsx",
            "status": "added",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2F%5Bcategory%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2F%5Bcategory%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2F%5Bcategory%5D%2Flayout.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,25 @@\n+'use client'\n+\n+import { Suspense, use } from 'react'\n+\n+function Content({ params }: { params: Promise<{ category: string }> }) {\n+  const { category } = use(params)\n+  return <h1 id=\"category-header\">Category: {category}</h1>\n+}\n+\n+export default function CategoryLayout({\n+  params,\n+  children,\n+}: {\n+  params: Promise<{ category: string }>\n+  children: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <Suspense fallback=\"Loading...\">\n+        <Content params={params} />\n+      </Suspense>\n+      {children}\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "4971dcf30b7fe451a30c04357863a6a22a2c84fc",
            "filename": "test/e2e/app-dir/segment-cache/client-params/app/client-page-with-search-param/page.tsx",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Fclient-page-with-search-param%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Fclient-page-with-search-param%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Fclient-page-with-search-param%2Fpage.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,30 @@\n+'use client'\n+\n+import { Suspense, use } from 'react'\n+\n+function Content({ searchParams }: { searchParams: Promise<{ foo: string }> }) {\n+  const searchParamsDict = use(searchParams)\n+\n+  let query = null\n+  if (Object.keys(searchParamsDict).length > 0) {\n+    query = JSON.stringify(searchParamsDict)\n+  }\n+\n+  return (\n+    <>\n+      <p id=\"query\">Query: {query ? query : '(none)'}</p>\n+    </>\n+  )\n+}\n+\n+export default function ClientPageWithSearchParam({\n+  searchParams,\n+}: {\n+  searchParams: Promise<{ foo: string }>\n+}) {\n+  return (\n+    <Suspense fallback=\"Loading...\">\n+      <Content searchParams={searchParams} />\n+    </Suspense>\n+  )\n+}"
        },
        {
            "sha": "dbce4ea8e3aeb6cb61b81712b62288d5abaf776b",
            "filename": "test/e2e/app-dir/segment-cache/client-params/app/layout.tsx",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Flayout.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,11 @@\n+export default function RootLayout({\n+  children,\n+}: {\n+  children: React.ReactNode\n+}) {\n+  return (\n+    <html lang=\"en\">\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "386d315723ea1b8bf3bb31f8e922a8bb2e72a2d9",
            "filename": "test/e2e/app-dir/segment-cache/client-params/app/page.tsx",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fapp%2Fpage.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,24 @@\n+import { LinkAccordion } from '../components/link-accordion'\n+\n+export default function Page() {\n+  return (\n+    <>\n+      <ul>\n+        <li>\n+          <LinkAccordion href=\"/clothing/1\">/clothing/1</LinkAccordion>\n+        </li>\n+        <li>\n+          <LinkAccordion href=\"/clothing/2\">/clothing/2</LinkAccordion>\n+        </li>\n+        <li>\n+          <LinkAccordion href=\"/shoes/3\">/shoes/3</LinkAccordion>\n+        </li>\n+        <li>\n+          <LinkAccordion href=\"/shoes/4?foo=bar\">\n+            /shoes/4?foo=bar\n+          </LinkAccordion>\n+        </li>\n+      </ul>\n+    </>\n+  )\n+}"
        },
        {
            "sha": "cad8263ccad4d5733565f407e73d29d92c7bed7f",
            "filename": "test/e2e/app-dir/segment-cache/client-params/client-params.test.ts",
            "status": "added",
            "additions": 45,
            "deletions": 0,
            "changes": 45,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fclient-params.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fclient-params.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fclient-params.test.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,45 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import type * as Playwright from 'playwright'\n+import { createRouterAct } from 'router-act'\n+\n+describe('client params', () => {\n+  const { next, isNextDev } = nextTestSetup({\n+    files: __dirname,\n+  })\n+  if (isNextDev) {\n+    test('prefetching is disabled', () => {})\n+    return\n+  }\n+\n+  it('client segments that access dynamic params are fully statically prefetchable', async () => {\n+    let act: ReturnType<typeof createRouterAct>\n+    const browser = await next.browser('/', {\n+      beforePageLoad(p: Playwright.Page) {\n+        act = createRouterAct(p)\n+      },\n+    })\n+\n+    // Prefetch the page. Although this page access dynamic params, it only\n+    // does so inside segments that are marked with \"use cache\". So we should\n+    // be able to fully prefetch them, without invoking a dynamic server render.\n+    const toggleLinkVisibility = await browser.elementByCss(\n+      'input[data-link-accordion=\"/clothing/1\"]'\n+    )\n+    await act(async () => {\n+      await toggleLinkVisibility.click()\n+    })\n+\n+    // Navigate to the fully prefetched page. There should be no\n+    // additionalrequest.\n+    const link = await browser.elementByCss('a[href=\"/clothing/1\"]')\n+    await act(async () => {\n+      await link.click()\n+    }, 'no-requests')\n+\n+    // Confirm the dynamic params were correctly rendered by the client.\n+    const categoryHeader = await browser.elementById('category-header')\n+    expect(await categoryHeader.text()).toBe('Category: clothing')\n+    const product = await browser.elementById('product')\n+    expect(await product.text()).toBe('Product: 1')\n+  })\n+})"
        },
        {
            "sha": "c6848d479aef8cacef3a5d226cd017eae08edf71",
            "filename": "test/e2e/app-dir/segment-cache/client-params/components/link-accordion.tsx",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fcomponents%2Flink-accordion.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fcomponents%2Flink-accordion.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fcomponents%2Flink-accordion.tsx?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,33 @@\n+'use client'\n+\n+import Link, { type LinkProps } from 'next/link'\n+import { useState } from 'react'\n+\n+export function LinkAccordion({\n+  href,\n+  children,\n+  prefetch,\n+}: {\n+  href: string\n+  children: React.ReactNode\n+  prefetch?: LinkProps['prefetch']\n+}) {\n+  const [isVisible, setIsVisible] = useState(false)\n+  return (\n+    <>\n+      <input\n+        type=\"checkbox\"\n+        checked={isVisible}\n+        onChange={() => setIsVisible(!isVisible)}\n+        data-link-accordion={href}\n+      />\n+      {isVisible ? (\n+        <Link href={href} prefetch={prefetch}>\n+          {children}\n+        </Link>\n+      ) : (\n+        <>{children} (link is hidden)</>\n+      )}\n+    </>\n+  )\n+}"
        },
        {
            "sha": "30a826fdacc568ffb8cd6641fe15330a3c9d618d",
            "filename": "test/e2e/app-dir/segment-cache/client-params/next.config.js",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-params%2Fnext.config.js?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -0,0 +1,10 @@\n+/**\n+ * @type {import('next').NextConfig}\n+ */\n+const nextConfig = {\n+  experimental: {\n+    cacheComponents: true,\n+  },\n+}\n+\n+module.exports = nextConfig"
        },
        {
            "sha": "c5a138cbf9e99b68e6726d33d026f3acd59417f5",
            "filename": "test/integration/app-dir-export/test/utils.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fintegration%2Fapp-dir-export%2Ftest%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/683a318d7962b6f1074301f4cf853ebd1fa79eea/test%2Fintegration%2Fapp-dir-export%2Ftest%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fapp-dir-export%2Ftest%2Futils.ts?ref=683a318d7962b6f1074301f4cf853ebd1fa79eea",
            "patch": "@@ -32,6 +32,7 @@ export const expectedWhenTrailingSlashTrue = [\n   '404.html',\n   '404/index.html',\n   '__next.__PAGE__.txt',\n+  '__next._full.txt',\n   '__next._index.txt',\n   '__next._tree.txt',\n   // Turbopack and plain next.js have different hash output for the file name\n@@ -45,16 +46,19 @@ export const expectedWhenTrailingSlashTrue = [\n     ? ['_next/static/test-build-id/_clientMiddlewareManifest.json']\n     : []),\n   '_next/static/test-build-id/_ssgManifest.js',\n+  '_not-found/__next._full.txt',\n   '_not-found/__next._index.txt',\n   '_not-found/__next._not-found.__PAGE__.txt',\n   '_not-found/__next._not-found.txt',\n   '_not-found/__next._tree.txt',\n   '_not-found/index.html',\n   '_not-found/index.txt',\n+  'another/__next._full.txt',\n   'another/__next._index.txt',\n   'another/__next._tree.txt',\n   'another/__next.another.__PAGE__.txt',\n   'another/__next.another.txt',\n+  'another/first/__next._full.txt',\n   'another/first/__next._index.txt',\n   'another/first/__next._tree.txt',\n   'another/first/__next.another.$d$slug.__PAGE__.txt',\n@@ -64,6 +68,7 @@ export const expectedWhenTrailingSlashTrue = [\n   'another/first/index.txt',\n   'another/index.html',\n   'another/index.txt',\n+  'another/second/__next._full.txt',\n   'another/second/__next._index.txt',\n   'another/second/__next._tree.txt',\n   'another/second/__next.another.$d$slug.__PAGE__.txt',\n@@ -73,13 +78,15 @@ export const expectedWhenTrailingSlashTrue = [\n   'another/second/index.txt',\n   'api/json',\n   'api/txt',\n+  'client/__next._full.txt',\n   'client/__next._index.txt',\n   'client/__next._tree.txt',\n   'client/__next.client.__PAGE__.txt',\n   'client/__next.client.txt',\n   'client/index.html',\n   'client/index.txt',\n   'favicon.ico',\n+  'image-import/__next._full.txt',\n   'image-import/__next._index.txt',\n   'image-import/__next._tree.txt',\n   'image-import/__next.image-import.__PAGE__.txt',\n@@ -94,6 +101,7 @@ export const expectedWhenTrailingSlashTrue = [\n const expectedWhenTrailingSlashFalse = [\n   '404.html',\n   '__next.__PAGE__.txt',\n+  '__next._full.txt',\n   '__next._index.txt',\n   '__next._tree.txt',\n   // Turbopack will output favicon in the _next/static/media folder\n@@ -108,25 +116,29 @@ const expectedWhenTrailingSlashFalse = [\n   '_next/static/test-build-id/_ssgManifest.js',\n   '_not-found.html',\n   '_not-found.txt',\n+  '_not-found/__next._full.txt',\n   '_not-found/__next._index.txt',\n   '_not-found/__next._not-found.__PAGE__.txt',\n   '_not-found/__next._not-found.txt',\n   '_not-found/__next._tree.txt',\n   'another.html',\n   'another.txt',\n+  'another/__next._full.txt',\n   'another/__next._index.txt',\n   'another/__next._tree.txt',\n   'another/__next.another.__PAGE__.txt',\n   'another/__next.another.txt',\n   'another/first.html',\n   'another/first.txt',\n+  'another/first/__next._full.txt',\n   'another/first/__next._index.txt',\n   'another/first/__next._tree.txt',\n   'another/first/__next.another.$d$slug.__PAGE__.txt',\n   'another/first/__next.another.$d$slug.txt',\n   'another/first/__next.another.txt',\n   'another/second.html',\n   'another/second.txt',\n+  'another/second/__next._full.txt',\n   'another/second/__next._index.txt',\n   'another/second/__next._tree.txt',\n   'another/second/__next.another.$d$slug.__PAGE__.txt',\n@@ -136,13 +148,15 @@ const expectedWhenTrailingSlashFalse = [\n   'api/txt',\n   'client.html',\n   'client.txt',\n+  'client/__next._full.txt',\n   'client/__next._index.txt',\n   'client/__next._tree.txt',\n   'client/__next.client.__PAGE__.txt',\n   'client/__next.client.txt',\n   'favicon.ico',\n   'image-import.html',\n   'image-import.txt',\n+  'image-import/__next._full.txt',\n   'image-import/__next._index.txt',\n   'image-import/__next._tree.txt',\n   'image-import/__next.image-import.__PAGE__.txt',"
        }
    ],
    "stats": {
        "total": 2375,
        "additions": 1646,
        "deletions": 729
    }
}