{
    "author": "nextjs-bot",
    "message": "Upgrade React from `96c61b7f-20250709` to `97cdd5d3-20250710` (#81551)",
    "sha": "3be29d88298c12ec313d771a5e7ccbdad55b9b60",
    "files": [
        {
            "sha": "778ae0a0bf67918c9edab5360b014a79bc7b0158",
            "filename": "package.json",
            "status": "modified",
            "additions": 15,
            "deletions": 15,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -233,16 +233,16 @@\n     \"pretty-ms\": \"7.0.0\",\n     \"random-seed\": \"0.3.0\",\n     \"react\": \"19.0.0\",\n-    \"react-builtin\": \"npm:react@19.2.0-canary-96c61b7f-20250709\",\n+    \"react-builtin\": \"npm:react@19.2.0-canary-97cdd5d3-20250710\",\n     \"react-dom\": \"19.0.0\",\n-    \"react-dom-builtin\": \"npm:react-dom@19.2.0-canary-96c61b7f-20250709\",\n-    \"react-dom-experimental-builtin\": \"npm:react-dom@0.0.0-experimental-96c61b7f-20250709\",\n-    \"react-experimental-builtin\": \"npm:react@0.0.0-experimental-96c61b7f-20250709\",\n-    \"react-is-builtin\": \"npm:react-is@19.2.0-canary-96c61b7f-20250709\",\n-    \"react-server-dom-turbopack\": \"19.2.0-canary-96c61b7f-20250709\",\n-    \"react-server-dom-turbopack-experimental\": \"npm:react-server-dom-turbopack@0.0.0-experimental-96c61b7f-20250709\",\n-    \"react-server-dom-webpack\": \"19.2.0-canary-96c61b7f-20250709\",\n-    \"react-server-dom-webpack-experimental\": \"npm:react-server-dom-webpack@0.0.0-experimental-96c61b7f-20250709\",\n+    \"react-dom-builtin\": \"npm:react-dom@19.2.0-canary-97cdd5d3-20250710\",\n+    \"react-dom-experimental-builtin\": \"npm:react-dom@0.0.0-experimental-97cdd5d3-20250710\",\n+    \"react-experimental-builtin\": \"npm:react@0.0.0-experimental-97cdd5d3-20250710\",\n+    \"react-is-builtin\": \"npm:react-is@19.2.0-canary-97cdd5d3-20250710\",\n+    \"react-server-dom-turbopack\": \"19.2.0-canary-97cdd5d3-20250710\",\n+    \"react-server-dom-turbopack-experimental\": \"npm:react-server-dom-turbopack@0.0.0-experimental-97cdd5d3-20250710\",\n+    \"react-server-dom-webpack\": \"19.2.0-canary-97cdd5d3-20250710\",\n+    \"react-server-dom-webpack-experimental\": \"npm:react-server-dom-webpack@0.0.0-experimental-97cdd5d3-20250710\",\n     \"react-ssr-prepass\": \"1.0.8\",\n     \"react-virtualized\": \"9.22.3\",\n     \"relay-compiler\": \"13.0.2\",\n@@ -252,8 +252,8 @@\n     \"resolve-from\": \"5.0.0\",\n     \"sass\": \"1.54.0\",\n     \"satori\": \"0.15.2\",\n-    \"scheduler-builtin\": \"npm:scheduler@0.27.0-canary-96c61b7f-20250709\",\n-    \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-96c61b7f-20250709\",\n+    \"scheduler-builtin\": \"npm:scheduler@0.27.0-canary-97cdd5d3-20250710\",\n+    \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-97cdd5d3-20250710\",\n     \"seedrandom\": \"3.0.5\",\n     \"semver\": \"7.3.7\",\n     \"serve-handler\": \"6.1.6\",\n@@ -297,10 +297,10 @@\n       \"@types/react-dom\": \"19.1.2\",\n       \"@types/retry\": \"0.12.0\",\n       \"jest-snapshot\": \"30.0.0-alpha.6\",\n-      \"react\": \"19.2.0-canary-96c61b7f-20250709\",\n-      \"react-dom\": \"19.2.0-canary-96c61b7f-20250709\",\n-      \"react-is\": \"19.2.0-canary-96c61b7f-20250709\",\n-      \"scheduler\": \"0.27.0-canary-96c61b7f-20250709\"\n+      \"react\": \"19.2.0-canary-97cdd5d3-20250710\",\n+      \"react-dom\": \"19.2.0-canary-97cdd5d3-20250710\",\n+      \"react-is\": \"19.2.0-canary-97cdd5d3-20250710\",\n+      \"scheduler\": \"0.27.0-canary-97cdd5d3-20250710\"\n     },\n     \"patchedDependencies\": {\n       \"webpack-sources@3.2.3\": \"patches/webpack-sources@3.2.3.patch\","
        },
        {
            "sha": "7fe2e0573c6c7855a5c7bb35b5b4fdc8bd28acfa",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-client.development.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -31109,11 +31109,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -31150,10 +31150,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.2.0-experimental-96c61b7f-20250709\",\n+          version: \"19.2.0-experimental-97cdd5d3-20250710\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\"\n+          reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -31299,7 +31299,7 @@\n       listenToAllSupportedEvents(container);\n       return new ReactDOMHydrationRoot(initialChildren);\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "d36447525224135c89abc5e553912a8edb87e1b5",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-client.production.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -19257,14 +19257,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2169 = React.version;\n if (\n-  \"19.2.0-experimental-96c61b7f-20250709\" !==\n+  \"19.2.0-experimental-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2169\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2169,\n-      \"19.2.0-experimental-96c61b7f-20250709\"\n+      \"19.2.0-experimental-97cdd5d3-20250710\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -19286,10 +19286,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2854 = {\n   bundleType: 0,\n-  version: \"19.2.0-experimental-96c61b7f-20250709\",\n+  version: \"19.2.0-experimental-97cdd5d3-20250710\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\"\n+  reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2855 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -19396,4 +19396,4 @@ exports.hydrateRoot = function (container, initialChildren, options) {\n   listenToAllSupportedEvents(container);\n   return new ReactDOMHydrationRoot(initialChildren);\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "a9800c212434a4738585e7904baf099e4cf7fc4d",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-profiling.development.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -31161,11 +31161,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -31202,10 +31202,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.2.0-experimental-96c61b7f-20250709\",\n+          version: \"19.2.0-experimental-97cdd5d3-20250710\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\"\n+          reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -31681,7 +31681,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "a1e0c45f8b15981d9b0d796f02fa31805c0fa120",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-profiling.profiling.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.profiling.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.profiling.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.profiling.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -20939,14 +20939,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2391 = React.version;\n if (\n-  \"19.2.0-experimental-96c61b7f-20250709\" !==\n+  \"19.2.0-experimental-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2391\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2391,\n-      \"19.2.0-experimental-96c61b7f-20250709\"\n+      \"19.2.0-experimental-97cdd5d3-20250710\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -20968,10 +20968,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_3078 = {\n   bundleType: 0,\n-  version: \"19.2.0-experimental-96c61b7f-20250709\",\n+  version: \"19.2.0-experimental-97cdd5d3-20250710\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\"\n+  reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_3079 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -21238,7 +21238,7 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n   \"function\" ===\n     typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "5bf452a58ff351d9c339ef617e7a89e264822a3d",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.browser.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -10502,5 +10502,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "a99af3323e8821c2b18aa8e13986a2945e714e83",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.browser.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -7118,4 +7118,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "d12a49e74c26a02610ccee4c1fd512b4439d96de",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.node.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -10502,5 +10502,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "5c17d4aef618f53dde94c98f9bc615bf00bf8c56",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.node.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -7221,4 +7221,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "d6a67b02d7ddd00001b9753d88c630b883279e40",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.browser.development.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -5018,24 +5018,22 @@\n       renderState.nextSegmentId = postponedState.nextSegmentId;\n       if (\"number\" === typeof postponedState.replaySlots)\n         return (\n-          (onError = postponedState.replaySlots),\n-          (onAllReady = createPendingSegment(\n+          (onError = createPendingSegment(\n             renderState,\n             0,\n             null,\n             postponedState.rootFormatContext,\n             !1,\n             !1\n           )),\n-          (onAllReady.id = onError),\n-          (onAllReady.parentFlushed = !0),\n+          (onError.parentFlushed = !0),\n           (children = createRenderTask(\n             renderState,\n             null,\n             children,\n             -1,\n             null,\n-            onAllReady,\n+            onError,\n             null,\n             null,\n             renderState.abortableTasks,\n@@ -9458,13 +9456,15 @@\n         (request.completedRootSegment.status !== POSTPONED &&\n           null !== request.completedPreambleSegments)\n       ) {\n+        var nextSegmentId = request.nextSegmentId;\n         var replaySlots = trackedPostpones.rootSlots;\n         var resumableState = request.resumableState;\n         resumableState.bootstrapScriptContent = void 0;\n         resumableState.bootstrapScripts = void 0;\n         resumableState.bootstrapModules = void 0;\n       } else {\n-        replaySlots = request.completedRootSegment.id;\n+        nextSegmentId = 0;\n+        replaySlots = -1;\n         resumableState = request.resumableState;\n         var renderState = request.renderState;\n         resumableState.nextFormID = 0;\n@@ -9481,7 +9481,7 @@\n         resumableState.instructions = NothingSent;\n       }\n       return {\n-        nextSegmentId: request.nextSegmentId,\n+        nextSegmentId: nextSegmentId,\n         rootFormatContext: request.rootFormatContext,\n         progressiveChunkSize: request.progressiveChunkSize,\n         resumableState: request.resumableState,\n@@ -9491,11 +9491,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react-experimental\"),\n@@ -11314,5 +11314,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "3399c52ed915ee08f4b67ac47506c525e9fb5145",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.browser.production.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -4488,24 +4488,22 @@ function resumeRequest(\n   renderState.nextSegmentId = postponedState.nextSegmentId;\n   if (\"number\" === typeof postponedState.replaySlots)\n     return (\n-      (onError = postponedState.replaySlots),\n-      (onAllReady = createPendingSegment(\n+      (onError = createPendingSegment(\n         renderState,\n         0,\n         null,\n         postponedState.rootFormatContext,\n         !1,\n         !1\n       )),\n-      (onAllReady.id = onError),\n-      (onAllReady.parentFlushed = !0),\n+      (onError.parentFlushed = !0),\n       (children = createRenderTask(\n         renderState,\n         null,\n         children,\n         -1,\n         null,\n-        onAllReady,\n+        onError,\n         null,\n         null,\n         renderState.abortableTasks,\n@@ -7748,13 +7746,15 @@ function getPostponedState(request) {\n     (5 !== request.completedRootSegment.status &&\n       null !== request.completedPreambleSegments)\n   ) {\n+    var nextSegmentId = request.nextSegmentId;\n     var replaySlots = trackedPostpones.rootSlots;\n     var resumableState = request.resumableState;\n     resumableState.bootstrapScriptContent = void 0;\n     resumableState.bootstrapScripts = void 0;\n     resumableState.bootstrapModules = void 0;\n   } else {\n-    replaySlots = request.completedRootSegment.id;\n+    nextSegmentId = 0;\n+    replaySlots = -1;\n     resumableState = request.resumableState;\n     var renderState = request.renderState;\n     resumableState.nextFormID = 0;\n@@ -7771,7 +7771,7 @@ function getPostponedState(request) {\n     resumableState.instructions = 0;\n   }\n   return {\n-    nextSegmentId: request.nextSegmentId,\n+    nextSegmentId: nextSegmentId,\n     rootFormatContext: request.rootFormatContext,\n     progressiveChunkSize: request.progressiveChunkSize,\n     resumableState: request.resumableState,\n@@ -7781,12 +7781,12 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+  if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n     throw Error(\n       formatProdErrorMessage(\n         527,\n         isomorphicReactPackageVersion,\n-        \"19.2.0-experimental-96c61b7f-20250709\"\n+        \"19.2.0-experimental-97cdd5d3-20250710\"\n       )\n     );\n }\n@@ -8041,4 +8041,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "a16a39e57c7d0817ef8ba192d6719ff5a8470f5d",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.bun.production.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.bun.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.bun.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.bun.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -7269,13 +7269,13 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {\n }\n var isomorphicReactPackageVersion$jscomp$inline_869 = React.version;\n if (\n-  \"19.2.0-experimental-96c61b7f-20250709\" !==\n+  \"19.2.0-experimental-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_869\n )\n   throw Error(\n     'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n       (isomorphicReactPackageVersion$jscomp$inline_869 +\n-        \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+        \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n   );\n exports.renderToReadableStream = function (children, options) {\n   return new Promise(function (resolve, reject) {\n@@ -7366,4 +7366,4 @@ exports.renderToReadableStream = function (children, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "dcd138d0fded062cdff757ef6d202c9d227f4dad",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.edge.development.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -5026,24 +5026,22 @@\n       renderState.nextSegmentId = postponedState.nextSegmentId;\n       if (\"number\" === typeof postponedState.replaySlots)\n         return (\n-          (onError = postponedState.replaySlots),\n-          (onAllReady = createPendingSegment(\n+          (onError = createPendingSegment(\n             renderState,\n             0,\n             null,\n             postponedState.rootFormatContext,\n             !1,\n             !1\n           )),\n-          (onAllReady.id = onError),\n-          (onAllReady.parentFlushed = !0),\n+          (onError.parentFlushed = !0),\n           (children = createRenderTask(\n             renderState,\n             null,\n             children,\n             -1,\n             null,\n-            onAllReady,\n+            onError,\n             null,\n             null,\n             renderState.abortableTasks,\n@@ -9487,13 +9485,15 @@\n         (request.completedRootSegment.status !== POSTPONED &&\n           null !== request.completedPreambleSegments)\n       ) {\n+        var nextSegmentId = request.nextSegmentId;\n         var replaySlots = trackedPostpones.rootSlots;\n         var resumableState = request.resumableState;\n         resumableState.bootstrapScriptContent = void 0;\n         resumableState.bootstrapScripts = void 0;\n         resumableState.bootstrapModules = void 0;\n       } else {\n-        replaySlots = request.completedRootSegment.id;\n+        nextSegmentId = 0;\n+        replaySlots = -1;\n         resumableState = request.resumableState;\n         var renderState = request.renderState;\n         resumableState.nextFormID = 0;\n@@ -9510,7 +9510,7 @@\n         resumableState.instructions = NothingSent;\n       }\n       return {\n-        nextSegmentId: request.nextSegmentId,\n+        nextSegmentId: nextSegmentId,\n         rootFormatContext: request.rootFormatContext,\n         progressiveChunkSize: request.progressiveChunkSize,\n         resumableState: request.resumableState,\n@@ -9520,11 +9520,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react-experimental\"),\n@@ -11339,5 +11339,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "83541553207f2588780b1909a6aeee98ef96d0a7",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.edge.production.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -4540,24 +4540,22 @@ function resumeRequest(\n   renderState.nextSegmentId = postponedState.nextSegmentId;\n   if (\"number\" === typeof postponedState.replaySlots)\n     return (\n-      (onError = postponedState.replaySlots),\n-      (onAllReady = createPendingSegment(\n+      (onError = createPendingSegment(\n         renderState,\n         0,\n         null,\n         postponedState.rootFormatContext,\n         !1,\n         !1\n       )),\n-      (onAllReady.id = onError),\n-      (onAllReady.parentFlushed = !0),\n+      (onError.parentFlushed = !0),\n       (children = createRenderTask(\n         renderState,\n         null,\n         children,\n         -1,\n         null,\n-        onAllReady,\n+        onError,\n         null,\n         null,\n         renderState.abortableTasks,\n@@ -7866,13 +7864,15 @@ function getPostponedState(request) {\n     (5 !== request.completedRootSegment.status &&\n       null !== request.completedPreambleSegments)\n   ) {\n+    var nextSegmentId = request.nextSegmentId;\n     var replaySlots = trackedPostpones.rootSlots;\n     var resumableState = request.resumableState;\n     resumableState.bootstrapScriptContent = void 0;\n     resumableState.bootstrapScripts = void 0;\n     resumableState.bootstrapModules = void 0;\n   } else {\n-    replaySlots = request.completedRootSegment.id;\n+    nextSegmentId = 0;\n+    replaySlots = -1;\n     resumableState = request.resumableState;\n     var renderState = request.renderState;\n     resumableState.nextFormID = 0;\n@@ -7889,7 +7889,7 @@ function getPostponedState(request) {\n     resumableState.instructions = 0;\n   }\n   return {\n-    nextSegmentId: request.nextSegmentId,\n+    nextSegmentId: nextSegmentId,\n     rootFormatContext: request.rootFormatContext,\n     progressiveChunkSize: request.progressiveChunkSize,\n     resumableState: request.resumableState,\n@@ -7899,11 +7899,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+  if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -8157,4 +8157,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "56679ddbb878ac658d5428c0d6bf0c80ec35e80c",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.node.development.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -4915,24 +4915,22 @@\n       renderState.nextSegmentId = postponedState.nextSegmentId;\n       if (\"number\" === typeof postponedState.replaySlots)\n         return (\n-          (onError = postponedState.replaySlots),\n-          (onAllReady = createPendingSegment(\n+          (onError = createPendingSegment(\n             renderState,\n             0,\n             null,\n             postponedState.rootFormatContext,\n             !1,\n             !1\n           )),\n-          (onAllReady.id = onError),\n-          (onAllReady.parentFlushed = !0),\n+          (onError.parentFlushed = !0),\n           (children = createRenderTask(\n             renderState,\n             null,\n             children,\n             -1,\n             null,\n-            onAllReady,\n+            onError,\n             null,\n             null,\n             renderState.abortableTasks,\n@@ -9348,13 +9346,15 @@\n         (request.completedRootSegment.status !== POSTPONED &&\n           null !== request.completedPreambleSegments)\n       ) {\n+        var nextSegmentId = request.nextSegmentId;\n         var replaySlots = trackedPostpones.rootSlots;\n         var resumableState = request.resumableState;\n         resumableState.bootstrapScriptContent = void 0;\n         resumableState.bootstrapScripts = void 0;\n         resumableState.bootstrapModules = void 0;\n       } else {\n-        replaySlots = request.completedRootSegment.id;\n+        nextSegmentId = 0;\n+        replaySlots = -1;\n         resumableState = request.resumableState;\n         var renderState = request.renderState;\n         resumableState.nextFormID = 0;\n@@ -9371,7 +9371,7 @@\n         resumableState.instructions = NothingSent;\n       }\n       return {\n-        nextSegmentId: request.nextSegmentId,\n+        nextSegmentId: nextSegmentId,\n         rootFormatContext: request.rootFormatContext,\n         progressiveChunkSize: request.progressiveChunkSize,\n         resumableState: request.resumableState,\n@@ -9381,11 +9381,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     function createDrainHandler(destination, request) {\n@@ -11510,5 +11510,5 @@\n         }\n       };\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "f8bf8870a29c601de6c555a2449a9f769c233f56",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.node.production.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -4428,24 +4428,22 @@ function resumeRequest(\n   renderState.nextSegmentId = postponedState.nextSegmentId;\n   if (\"number\" === typeof postponedState.replaySlots)\n     return (\n-      (onError = postponedState.replaySlots),\n-      (onAllReady = createPendingSegment(\n+      (onError = createPendingSegment(\n         renderState,\n         0,\n         null,\n         postponedState.rootFormatContext,\n         !1,\n         !1\n       )),\n-      (onAllReady.id = onError),\n-      (onAllReady.parentFlushed = !0),\n+      (onError.parentFlushed = !0),\n       (children = createRenderTask(\n         renderState,\n         null,\n         children,\n         -1,\n         null,\n-        onAllReady,\n+        onError,\n         null,\n         null,\n         renderState.abortableTasks,\n@@ -7746,13 +7744,15 @@ function getPostponedState(request) {\n     (5 !== request.completedRootSegment.status &&\n       null !== request.completedPreambleSegments)\n   ) {\n+    var nextSegmentId = request.nextSegmentId;\n     var replaySlots = trackedPostpones.rootSlots;\n     var resumableState = request.resumableState;\n     resumableState.bootstrapScriptContent = void 0;\n     resumableState.bootstrapScripts = void 0;\n     resumableState.bootstrapModules = void 0;\n   } else {\n-    replaySlots = request.completedRootSegment.id;\n+    nextSegmentId = 0;\n+    replaySlots = -1;\n     resumableState = request.resumableState;\n     var renderState = request.renderState;\n     resumableState.nextFormID = 0;\n@@ -7769,7 +7769,7 @@ function getPostponedState(request) {\n     resumableState.instructions = 0;\n   }\n   return {\n-    nextSegmentId: request.nextSegmentId,\n+    nextSegmentId: nextSegmentId,\n     rootFormatContext: request.rootFormatContext,\n     progressiveChunkSize: request.progressiveChunkSize,\n     resumableState: request.resumableState,\n@@ -7779,11 +7779,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+  if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -8341,4 +8341,4 @@ exports.resumeToPipeableStream = function (children, postponedState, options) {\n     }\n   };\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "3536c1c1164421539249a70d7e2c90695a384b65",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-unstable_testing.development.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -31430,11 +31430,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-experimental-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-experimental-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-experimental-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-experimental-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -31471,10 +31471,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.2.0-experimental-96c61b7f-20250709\",\n+          version: \"19.2.0-experimental-97cdd5d3-20250710\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\"\n+          reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -31786,5 +31786,5 @@\n         }\n       };\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "ba34ac7b434bc24943336062f86cc7f6c003e407",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-unstable_testing.production.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -19573,14 +19573,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2198 = React.version;\n if (\n-  \"19.2.0-experimental-96c61b7f-20250709\" !==\n+  \"19.2.0-experimental-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2198\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2198,\n-      \"19.2.0-experimental-96c61b7f-20250709\"\n+      \"19.2.0-experimental-97cdd5d3-20250710\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -19602,10 +19602,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2888 = {\n   bundleType: 0,\n-  version: \"19.2.0-experimental-96c61b7f-20250709\",\n+  version: \"19.2.0-experimental-97cdd5d3-20250710\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\"\n+  reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2889 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -19863,4 +19863,4 @@ exports.observeVisibleRects = function (\n     }\n   };\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "aa1229017f518c3b73947b0d29c1b1d98edf9487",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -416,7 +416,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "8a47bea3c095e09271fb270326c49448d46ad6fb",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -207,4 +207,4 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "c9de880a0df98eb0235cf6f7663b3e4cfa4f09db",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -336,5 +336,5 @@\n             }))\n           : Internals.d.m(href));\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "9e8b462e05675bad5c3892fbc8dc3e6700d39571",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -149,4 +149,4 @@ exports.preloadModule = function (href, options) {\n       });\n     } else Internals.d.m(href);\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "b6b6680b305e40a3c39f81e70605fc6fd16c95bf",
            "filename": "packages/next/src/compiled/react-dom-experimental/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -72,10 +72,10 @@\n     \"./package.json\": \"./package.json\"\n   },\n   \"dependencies\": {\n-    \"scheduler\": \"0.0.0-experimental-96c61b7f-20250709\"\n+    \"scheduler\": \"0.0.0-experimental-97cdd5d3-20250710\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"0.0.0-experimental-96c61b7f-20250709\"\n+    \"react\": \"0.0.0-experimental-97cdd5d3-20250710\"\n   },\n   \"browser\": {\n     \"./server.js\": \"./server.browser.js\","
        },
        {
            "sha": "3941173e49433b59e6ac42c127af7829fc58a348",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-client.development.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -25507,11 +25507,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -25548,10 +25548,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.2.0-canary-96c61b7f-20250709\",\n+          version: \"19.2.0-canary-97cdd5d3-20250710\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.2.0-canary-96c61b7f-20250709\"\n+          reconcilerVersion: \"19.2.0-canary-97cdd5d3-20250710\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -25689,7 +25689,7 @@\n       listenToAllSupportedEvents(container);\n       return new ReactDOMHydrationRoot(initialChildren);\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "85e05e705636a345add2593bdf4f8c2923632fca",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-client.production.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -15716,14 +15716,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_1838 = React.version;\n if (\n-  \"19.2.0-canary-96c61b7f-20250709\" !==\n+  \"19.2.0-canary-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_1838\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_1838,\n-      \"19.2.0-canary-96c61b7f-20250709\"\n+      \"19.2.0-canary-97cdd5d3-20250710\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -15745,10 +15745,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2331 = {\n   bundleType: 0,\n-  version: \"19.2.0-canary-96c61b7f-20250709\",\n+  version: \"19.2.0-canary-97cdd5d3-20250710\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.2.0-canary-96c61b7f-20250709\"\n+  reconcilerVersion: \"19.2.0-canary-97cdd5d3-20250710\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2332 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -15846,4 +15846,4 @@ exports.hydrateRoot = function (container, initialChildren, options) {\n   listenToAllSupportedEvents(container);\n   return new ReactDOMHydrationRoot(initialChildren);\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "3bd88ec5715e94e8ad6fdd2857e2e300cda96966",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-profiling.development.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -25559,11 +25559,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -25600,10 +25600,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.2.0-canary-96c61b7f-20250709\",\n+          version: \"19.2.0-canary-97cdd5d3-20250710\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.2.0-canary-96c61b7f-20250709\"\n+          reconcilerVersion: \"19.2.0-canary-97cdd5d3-20250710\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -26071,7 +26071,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "8f931af85af1e530a594b47c29ee3b3b97dffa6f",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-profiling.profiling.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.profiling.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.profiling.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.profiling.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -16417,14 +16417,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_1942 = React.version;\n if (\n-  \"19.2.0-canary-96c61b7f-20250709\" !==\n+  \"19.2.0-canary-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_1942\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_1942,\n-      \"19.2.0-canary-96c61b7f-20250709\"\n+      \"19.2.0-canary-97cdd5d3-20250710\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -16446,10 +16446,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_1949 = {\n   bundleType: 0,\n-  version: \"19.2.0-canary-96c61b7f-20250709\",\n+  version: \"19.2.0-canary-97cdd5d3-20250710\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.2.0-canary-96c61b7f-20250709\",\n+  reconcilerVersion: \"19.2.0-canary-97cdd5d3-20250710\",\n   getLaneLabelMap: function () {\n     for (\n       var map = new Map(), lane = 1, index$281 = 0;\n@@ -16722,7 +16722,7 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n   \"function\" ===\n     typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "ce9b76c2a3b7456fe3abb2e04c9c5c27ddc9f5a6",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.browser.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -9701,5 +9701,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "6302414fc8999ef431e045023188c4e6aae857ec",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.browser.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -6467,4 +6467,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "99ec0fa9571db74c7070a06ade81eb6c17efb316",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.node.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -9701,5 +9701,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "60343343f5ba5f12c387584a29735655937940fe",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.node.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -6550,4 +6550,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "66123d851ba8383afbca7dd73c481ad4e5f10ef8",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.browser.development.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -8448,11 +8448,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react\"),\n@@ -10142,5 +10142,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "407c54c65228e078ffe676ac376056226eb6b9ad",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.browser.production.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -6851,12 +6851,12 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+  if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n     throw Error(\n       formatProdErrorMessage(\n         527,\n         isomorphicReactPackageVersion,\n-        \"19.2.0-canary-96c61b7f-20250709\"\n+        \"19.2.0-canary-97cdd5d3-20250710\"\n       )\n     );\n }\n@@ -7003,4 +7003,4 @@ exports.renderToReadableStream = function (children, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "b45ff91f4eff5097c0f41f452bfedca0183e3f83",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.bun.production.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.bun.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.bun.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.bun.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -6499,13 +6499,13 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {\n }\n var isomorphicReactPackageVersion$jscomp$inline_816 = React.version;\n if (\n-  \"19.2.0-canary-96c61b7f-20250709\" !==\n+  \"19.2.0-canary-97cdd5d3-20250710\" !==\n   isomorphicReactPackageVersion$jscomp$inline_816\n )\n   throw Error(\n     'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n       (isomorphicReactPackageVersion$jscomp$inline_816 +\n-        \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+        \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n   );\n exports.renderToReadableStream = function (children, options) {\n   return new Promise(function (resolve, reject) {\n@@ -6596,4 +6596,4 @@ exports.renderToReadableStream = function (children, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "cd1471d08b22ec598b45ef1b7e94da9c0ac0a2f4",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.edge.development.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -8471,11 +8471,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react\"),\n@@ -10161,5 +10161,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "b0f9d86b9636f045e4f1042b58aea3f1d1d1c296",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.edge.production.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -6949,11 +6949,11 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+  if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -7099,4 +7099,4 @@ exports.renderToReadableStream = function (children, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "ad5349042ce95396b5ab1a52b793f4c4f8de83ec",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.node.development.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -8346,11 +8346,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+      if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     function createDrainHandler(destination, request) {\n@@ -10221,5 +10221,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "4c34745d133fa7e289b284f0a22fd3b3164eac88",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.node.production.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -6841,11 +6841,11 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.2.0-canary-96c61b7f-20250709\" !== isomorphicReactPackageVersion)\n+  if (\"19.2.0-canary-97cdd5d3-20250710\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.2.0-canary-96c61b7f-20250709\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.2.0-canary-97cdd5d3-20250710\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -7183,4 +7183,4 @@ exports.renderToReadableStream = function (children, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "a8f00753b278d6f6547b4b98559b228fee09fb69",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -416,7 +416,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "f74f572e48aa909e33a28bd430d6ed17b4f9b6d8",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -207,4 +207,4 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "35c6846598c8435a64925cf4c702247bca87068a",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -336,5 +336,5 @@\n             }))\n           : Internals.d.m(href));\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "e57c8259f0c010c8d6e2a110f7a337e035f843c1",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -149,4 +149,4 @@ exports.preloadModule = function (href, options) {\n       });\n     } else Internals.d.m(href);\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "bf9b8127e8c12fde8d531ce271d675d457816977",
            "filename": "packages/next/src/compiled/react-dom/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -67,10 +67,10 @@\n     \"./package.json\": \"./package.json\"\n   },\n   \"dependencies\": {\n-    \"scheduler\": \"0.27.0-canary-96c61b7f-20250709\"\n+    \"scheduler\": \"0.27.0-canary-97cdd5d3-20250710\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"19.2.0-canary-96c61b7f-20250709\"\n+    \"react\": \"19.2.0-canary-97cdd5d3-20250710\"\n   },\n   \"browser\": {\n     \"./server.js\": \"./server.browser.js\","
        },
        {
            "sha": "601bc436c12e77b3c67bdd757122e3010800a33a",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1328,7 +1328,7 @@\n     exports.useTransition = function () {\n       return resolveDispatcher().useTransition();\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "95f60702451236f95ed666699ac08afb7a63f4b2",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -605,4 +605,4 @@ exports.useSyncExternalStore = function (\n exports.useTransition = function () {\n   return ReactSharedInternals.H.useTransition();\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "69e35c7d3b18d6ae0bb1310dc99b3a5fa1084160",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -996,5 +996,5 @@\n     exports.useMemo = function (create, deps) {\n       return resolveDispatcher().useMemo(create, deps);\n     };\n-    exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "89c760e1f2d41f21bd9b3c6130fc8fcf8ce083c8",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -572,4 +572,4 @@ exports.useId = function () {\n exports.useMemo = function (create, deps) {\n   return ReactSharedInternals.H.useMemo(create, deps);\n };\n-exports.version = \"19.2.0-experimental-96c61b7f-20250709\";\n+exports.version = \"19.2.0-experimental-97cdd5d3-20250710\";"
        },
        {
            "sha": "1a77a7774aefe4032ac5a8e7e0a2e730a775baca",
            "filename": "packages/next/src/compiled/react-is/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-is%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-is%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-is%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1,6 +1,6 @@\n {\n   \"name\": \"react-is\",\n-  \"version\": \"19.2.0-canary-96c61b7f-20250709\",\n+  \"version\": \"19.2.0-canary-97cdd5d3-20250710\",\n   \"description\": \"Brand checking of React Elements.\",\n   \"main\": \"index.js\",\n   \"sideEffects\": false,"
        },
        {
            "sha": "386858aa063745c31d93ff96ccc9995660340b30",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.browser.development.js",
            "status": "modified",
            "additions": 240,
            "deletions": 94,
            "changes": 334,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2312,8 +2312,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2344,6 +2342,15 @@\n       replayConsole && markAllTracksInOrder();\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -3714,6 +3721,96 @@\n             : resolveModel(response, id, row);\n       }\n     }\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n+      if (void 0 !== weakResponse.weak.deref()) {\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n+        for (\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n+            chunkLength = chunk.length;\n+          i < chunkLength;\n+\n+        ) {\n+          var lastIdx = -1;\n+          switch (rowState) {\n+            case 0:\n+              lastIdx = chunk[i++];\n+              58 === lastIdx\n+                ? (rowState = 1)\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 1:\n+              rowState = chunk[i];\n+              84 === rowState ||\n+              65 === rowState ||\n+              79 === rowState ||\n+              111 === rowState ||\n+              85 === rowState ||\n+              83 === rowState ||\n+              115 === rowState ||\n+              76 === rowState ||\n+              108 === rowState ||\n+              71 === rowState ||\n+              103 === rowState ||\n+              77 === rowState ||\n+              109 === rowState ||\n+              86 === rowState\n+                ? ((rowTag = rowState), (rowState = 2), i++)\n+                : (64 < rowState && 91 > rowState) ||\n+                    35 === rowState ||\n+                    114 === rowState ||\n+                    120 === rowState\n+                  ? ((rowTag = rowState), (rowState = 3), i++)\n+                  : ((rowTag = 0), (rowState = 3));\n+              continue;\n+            case 2:\n+              lastIdx = chunk[i++];\n+              44 === lastIdx\n+                ? (rowState = 4)\n+                : (rowLength =\n+                    (rowLength << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 3:\n+              lastIdx = chunk.indexOf(10, i);\n+              break;\n+            case 4:\n+              (lastIdx = i + rowLength),\n+                lastIdx > chunk.length && (lastIdx = -1);\n+          }\n+          var offset = chunk.byteOffset + i;\n+          if (-1 < lastIdx)\n+            (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n+              processFullBinaryRow(\n+                response,\n+                weakResponse,\n+                rowTag,\n+                buffer,\n+                rowLength\n+              ),\n+              (i = lastIdx),\n+              3 === rowState && i++,\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n+              (buffer.length = 0);\n+          else {\n+            chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+            buffer.push(chunk);\n+            rowLength -= chunk.byteLength;\n+            break;\n+          }\n+        }\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n+      }\n+    }\n     function createFromJSONCallback(response) {\n       return function (key, value) {\n         if (\"string\" === typeof value)\n@@ -3794,6 +3891,9 @@\n         return value;\n       };\n     }\n+    function close(weakResponse) {\n+      reportGlobalError(weakResponse, Error(\"Connection closed.\"));\n+    }\n     function createDebugCallbackFromWritableStream(debugWritable) {\n       var textEncoder = new TextEncoder(),\n         writer = debugWritable.getWriter();\n@@ -3828,104 +3928,138 @@\n         debugChannel\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromUniversalStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done) close(response$jscomp$0);\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n-            for (\n-              var i = 0,\n-                rowState = _ref._rowState,\n-                rowID = _ref._rowID,\n-                rowTag = _ref._rowTag,\n-                rowLength = _ref._rowLength,\n-                buffer = _ref._buffer,\n-                chunkLength = value.length;\n-              i < chunkLength;\n-\n+          if (value instanceof ArrayBuffer)\n+            processBinaryChunk(\n+              response$jscomp$0,\n+              streamState,\n+              new Uint8Array(value)\n+            );\n+          else if (\"string\" === typeof value) {\n+            if (\n+              ((_ref = streamState), void 0 !== response$jscomp$0.weak.deref())\n             ) {\n-              var lastIdx = -1;\n-              switch (rowState) {\n-                case 0:\n-                  lastIdx = value[i++];\n-                  58 === lastIdx\n-                    ? (rowState = 1)\n-                    : (rowID =\n-                        (rowID << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 1:\n-                  rowState = value[i];\n-                  84 === rowState ||\n-                  65 === rowState ||\n-                  79 === rowState ||\n-                  111 === rowState ||\n-                  85 === rowState ||\n-                  83 === rowState ||\n-                  115 === rowState ||\n-                  76 === rowState ||\n-                  108 === rowState ||\n-                  71 === rowState ||\n-                  103 === rowState ||\n-                  77 === rowState ||\n-                  109 === rowState ||\n-                  86 === rowState\n-                    ? ((rowTag = rowState), (rowState = 2), i++)\n-                    : (64 < rowState && 91 > rowState) ||\n-                        35 === rowState ||\n-                        114 === rowState ||\n-                        120 === rowState\n-                      ? ((rowTag = rowState), (rowState = 3), i++)\n-                      : ((rowTag = 0), (rowState = 3));\n-                  continue;\n-                case 2:\n-                  lastIdx = value[i++];\n-                  44 === lastIdx\n-                    ? (rowState = 4)\n-                    : (rowLength =\n-                        (rowLength << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 3:\n-                  lastIdx = value.indexOf(10, i);\n-                  break;\n-                case 4:\n-                  (lastIdx = i + rowLength),\n-                    lastIdx > value.length && (lastIdx = -1);\n-              }\n-              var offset = value.byteOffset + i;\n-              if (-1 < lastIdx)\n-                (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n-                  (i = lastIdx),\n-                  3 === rowState && i++,\n-                  (rowLength = rowID = rowTag = rowState = 0),\n-                  (buffer.length = 0);\n-              else {\n-                value = new Uint8Array(\n-                  value.buffer,\n-                  offset,\n-                  value.byteLength - i\n-                );\n-                buffer.push(value);\n-                rowLength -= value.byteLength;\n-                break;\n+              for (\n+                var response = unwrapWeakResponse(response$jscomp$0),\n+                  i = 0,\n+                  rowState = _ref._rowState,\n+                  rowID = _ref._rowID,\n+                  rowTag = _ref._rowTag,\n+                  rowLength = _ref._rowLength,\n+                  buffer = _ref._buffer,\n+                  chunkLength = value.length;\n+                i < chunkLength;\n+\n+              ) {\n+                var lastIdx = -1;\n+                switch (rowState) {\n+                  case 0:\n+                    lastIdx = value.charCodeAt(i++);\n+                    58 === lastIdx\n+                      ? (rowState = 1)\n+                      : (rowID =\n+                          (rowID << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 1:\n+                    rowState = value.charCodeAt(i);\n+                    84 === rowState ||\n+                    65 === rowState ||\n+                    79 === rowState ||\n+                    111 === rowState ||\n+                    85 === rowState ||\n+                    83 === rowState ||\n+                    115 === rowState ||\n+                    76 === rowState ||\n+                    108 === rowState ||\n+                    71 === rowState ||\n+                    103 === rowState ||\n+                    77 === rowState ||\n+                    109 === rowState ||\n+                    86 === rowState\n+                      ? ((rowTag = rowState), (rowState = 2), i++)\n+                      : (64 < rowState && 91 > rowState) ||\n+                          114 === rowState ||\n+                          120 === rowState\n+                        ? ((rowTag = rowState), (rowState = 3), i++)\n+                        : ((rowTag = 0), (rowState = 3));\n+                    continue;\n+                  case 2:\n+                    lastIdx = value.charCodeAt(i++);\n+                    44 === lastIdx\n+                      ? (rowState = 4)\n+                      : (rowLength =\n+                          (rowLength << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 3:\n+                    lastIdx = value.indexOf(\"\\n\", i);\n+                    break;\n+                  case 4:\n+                    if (84 !== rowTag)\n+                      throw Error(\n+                        \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    if (\n+                      rowLength < value.length ||\n+                      value.length > 3 * rowLength\n+                    )\n+                      throw Error(\n+                        \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    lastIdx = value.length;\n+                }\n+                if (-1 < lastIdx) {\n+                  if (0 < buffer.length)\n+                    throw Error(\n+                      \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  i = value.slice(i, lastIdx);\n+                  processFullStringRow(response, rowID, rowTag, i);\n+                  i = lastIdx;\n+                  3 === rowState && i++;\n+                  rowLength = rowID = rowTag = rowState = 0;\n+                  buffer.length = 0;\n+                } else if (value.length !== i)\n+                  throw Error(\n+                    \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                  );\n               }\n+              _ref._rowState = rowState;\n+              _ref._rowID = rowID;\n+              _ref._rowTag = rowTag;\n+              _ref._rowLength = rowLength;\n             }\n-            _ref._rowState = rowState;\n-            _ref._rowID = rowID;\n-            _ref._rowTag = rowTag;\n-            _ref._rowLength = rowLength;\n-          }\n+          } else processBinaryChunk(response$jscomp$0, streamState, value);\n           return reader.read().then(progress).catch(error);\n         }\n       }\n+      function error(e) {\n+        reportGlobalError(response$jscomp$0, e);\n+      }\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n+      reader.read().then(progress).catch(error);\n+    }\n+    function startReadingFromStream(response, stream, isSecondaryStream) {\n+      function progress(_ref2) {\n+        var value = _ref2.value;\n+        if (_ref2.done) isSecondaryStream || close(response);\n+        else\n+          return (\n+            processBinaryChunk(response, streamState, value),\n+            reader.read().then(progress).catch(error)\n+          );\n+      }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var React = require(\"react\"),\n@@ -4140,10 +4274,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.2.0-experimental-96c61b7f-20250709\",\n+      version: \"19.2.0-experimental-97cdd5d3-20250710\",\n       rendererPackageName: \"react-server-dom-turbopack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\",\n+      reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }\n@@ -4152,7 +4286,13 @@\n       var response = createResponseFromOptions(options);\n       promiseForResponse.then(\n         function (r) {\n-          startReadingFromStream(response, r.body);\n+          options && options.debugChannel && options.debugChannel.readable\n+            ? (startReadingFromUniversalStream(\n+                response,\n+                options.debugChannel.readable\n+              ),\n+              startReadingFromStream(response, r.body, !0))\n+            : startReadingFromStream(response, r.body, !1);\n         },\n         function (e) {\n           reportGlobalError(response, e);\n@@ -4161,9 +4301,15 @@\n       return getRoot(response);\n     };\n     exports.createFromReadableStream = function (stream, options) {\n-      options = createResponseFromOptions(options);\n-      startReadingFromStream(options, stream);\n-      return getRoot(options);\n+      var response = createResponseFromOptions(options);\n+      options && options.debugChannel && options.debugChannel.readable\n+        ? (startReadingFromUniversalStream(\n+            response,\n+            options.debugChannel.readable\n+          ),\n+          startReadingFromStream(response, stream, !0))\n+        : startReadingFromStream(response, stream, !1);\n+      return getRoot(response);\n     };\n     exports.createServerReference = function (\n       id,"
        },
        {
            "sha": "6d6b2d1c7aa9163ebb0b1cb2732c550c791c83c2",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.browser.production.js",
            "status": "modified",
            "additions": 29,
            "deletions": 22,
            "changes": 51,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1192,8 +1192,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1669,18 +1667,20 @@ function createResponseFromOptions(options) {\n       : void 0\n   );\n }\n-function startReadingFromStream(response, stream) {\n-  function progress(_ref) {\n-    var value = _ref.value;\n-    if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+function startReadingFromStream(response, stream, isSecondaryStream) {\n+  function progress(_ref2) {\n+    var value = _ref2.value;\n+    if (_ref2.done)\n+      isSecondaryStream ||\n+        reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref2 = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1691,8 +1691,8 @@ function startReadingFromStream(response, stream) {\n             lastIdx = value[i++];\n             58 === lastIdx\n               ? (rowState = 1)\n-              : (_ref =\n-                  (_ref << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              : (_ref2 =\n+                  (_ref2 << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n             continue;\n           case 1:\n             rowState = value[i];\n@@ -1735,10 +1735,10 @@ function startReadingFromStream(response, stream) {\n         var offset = value.byteOffset + i;\n         if (-1 < lastIdx)\n           (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-            processFullBinaryRow(response, _ref, rowTag, buffer, rowLength),\n+            processFullBinaryRow(response, _ref2, rowTag, buffer, rowLength),\n             (i = lastIdx),\n             3 === rowState && i++,\n-            (rowLength = _ref = rowTag = rowState = 0),\n+            (rowLength = _ref2 = rowTag = rowState = 0),\n             (buffer.length = 0);\n         else {\n           value = new Uint8Array(value.buffer, offset, value.byteLength - i);\n@@ -1747,24 +1747,31 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref2;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {\n   var response = createResponseFromOptions(options);\n   promiseForResponse.then(\n     function (r) {\n-      startReadingFromStream(response, r.body);\n+      startReadingFromStream(response, r.body, !1);\n     },\n     function (e) {\n       reportGlobalError(response, e);\n@@ -1774,7 +1781,7 @@ exports.createFromFetch = function (promiseForResponse, options) {\n };\n exports.createFromReadableStream = function (stream, options) {\n   options = createResponseFromOptions(options);\n-  startReadingFromStream(options, stream);\n+  startReadingFromStream(options, stream, !1);\n   return getChunk(options, 0);\n };\n exports.createServerReference = function (id, callServer) {"
        },
        {
            "sha": "c3506e16b8dda0ff54f883ce83f54bfef230a960",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.edge.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 10,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2530,8 +2530,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -4039,15 +4037,17 @@\n         void 0\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done)\n+          reportGlobalError(response$jscomp$0, Error(\"Connection closed.\"));\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n+          _ref = streamState;\n+          if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n-              var i = 0,\n+              var response = unwrapWeakResponse(response$jscomp$0),\n+                i = 0,\n                 rowState = _ref._rowState,\n                 rowID = _ref._rowID,\n                 rowTag = _ref._rowTag,\n@@ -4109,7 +4109,13 @@\n               var offset = value.byteOffset + i;\n               if (-1 < lastIdx)\n                 (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n+                  processFullBinaryRow(\n+                    response,\n+                    rowID,\n+                    rowTag,\n+                    buffer,\n+                    rowLength\n+                  ),\n                   (i = lastIdx),\n                   3 === rowState && i++,\n                   (rowLength = rowID = rowTag = rowState = 0),\n@@ -4134,9 +4140,16 @@\n         }\n       }\n       function error(e) {\n-        reportGlobalError(response, e);\n+        reportGlobalError(response$jscomp$0, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = {\n+          _rowState: 0,\n+          _rowID: 0,\n+          _rowTag: 0,\n+          _rowLength: 0,\n+          _buffer: []\n+        },\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var ReactDOM = require(\"react-dom\"),"
        },
        {
            "sha": "854242a138a1ff5be8359ba566654781d423bbc3",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.edge.production.js",
            "status": "modified",
            "additions": 17,
            "deletions": 12,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1376,8 +1376,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1869,12 +1867,12 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1941,17 +1939,24 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {"
        },
        {
            "sha": "2a30e84aebf6961b40844be4546a05bbc1f91f2f",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.node.development.js",
            "status": "modified",
            "additions": 138,
            "deletions": 37,
            "changes": 175,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2530,8 +2530,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new util.TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2562,6 +2560,15 @@\n       replayConsole && markAllTracksInOrder();\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -3937,16 +3944,16 @@\n             : resolveModel(response, id, row);\n       }\n     }\n-    function processBinaryChunk(weakResponse, chunk) {\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n       if (void 0 !== weakResponse.weak.deref()) {\n-        weakResponse = unwrapWeakResponse(weakResponse);\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n         for (\n-          var i = 0,\n-            rowState = weakResponse._rowState,\n-            rowID = weakResponse._rowID,\n-            rowTag = weakResponse._rowTag,\n-            rowLength = weakResponse._rowLength,\n-            buffer = weakResponse._buffer,\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n             chunkLength = chunk.length;\n           i < chunkLength;\n \n@@ -3957,8 +3964,8 @@\n               lastIdx = chunk[i++];\n               58 === lastIdx\n                 ? (rowState = 1)\n-                : (rowID =\n-                    (rowID << 4) |\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n                     (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n               continue;\n             case 1:\n@@ -4004,15 +4011,15 @@\n           if (-1 < lastIdx)\n             (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n               processFullBinaryRow(\n+                response,\n                 weakResponse,\n-                rowID,\n                 rowTag,\n                 buffer,\n                 rowLength\n               ),\n               (i = lastIdx),\n               3 === rowState && i++,\n-              (rowLength = rowID = rowTag = rowState = 0),\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n               (buffer.length = 0);\n           else {\n             chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n@@ -4021,10 +4028,10 @@\n             break;\n           }\n         }\n-        weakResponse._rowState = rowState;\n-        weakResponse._rowID = rowID;\n-        weakResponse._rowTag = rowTag;\n-        weakResponse._rowLength = rowLength;\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n       }\n     }\n     function createFromJSONCallback(response) {\n@@ -4138,14 +4145,15 @@\n         if (_ref.done) close(response);\n         else\n           return (\n-            processBinaryChunk(response, value),\n+            processBinaryChunk(response, streamState, value),\n             reader.read().then(progress).catch(error)\n           );\n       }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     function noServerCall() {\n@@ -4374,29 +4382,122 @@\n       serverConsumerManifest,\n       options\n     ) {\n-      var response = new ResponseInstance(\n-        serverConsumerManifest.moduleMap,\n-        serverConsumerManifest.serverModuleMap,\n-        serverConsumerManifest.moduleLoading,\n-        noServerCall,\n-        options ? options.encodeFormAction : void 0,\n-        options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-        void 0,\n-        options && options.findSourceMapURL ? options.findSourceMapURL : void 0,\n-        options ? !0 === options.replayConsoleLogs : !1,\n-        options && options.environmentName ? options.environmentName : void 0,\n-        void 0\n-      )._weakResponse;\n+      var response$jscomp$0 = new ResponseInstance(\n+          serverConsumerManifest.moduleMap,\n+          serverConsumerManifest.serverModuleMap,\n+          serverConsumerManifest.moduleLoading,\n+          noServerCall,\n+          options ? options.encodeFormAction : void 0,\n+          options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+          void 0,\n+          options && options.findSourceMapURL\n+            ? options.findSourceMapURL\n+            : void 0,\n+          options ? !0 === options.replayConsoleLogs : !1,\n+          options && options.environmentName ? options.environmentName : void 0,\n+          void 0\n+        )._weakResponse,\n+        streamState = createStreamState();\n       stream.on(\"data\", function (chunk) {\n-        processBinaryChunk(response, chunk);\n+        if (\"string\" === typeof chunk) {\n+          if (void 0 !== response$jscomp$0.weak.deref()) {\n+            for (\n+              var response = unwrapWeakResponse(response$jscomp$0),\n+                i = 0,\n+                rowState = streamState._rowState,\n+                rowID = streamState._rowID,\n+                rowTag = streamState._rowTag,\n+                rowLength = streamState._rowLength,\n+                buffer = streamState._buffer,\n+                chunkLength = chunk.length;\n+              i < chunkLength;\n+\n+            ) {\n+              var lastIdx = -1;\n+              switch (rowState) {\n+                case 0:\n+                  lastIdx = chunk.charCodeAt(i++);\n+                  58 === lastIdx\n+                    ? (rowState = 1)\n+                    : (rowID =\n+                        (rowID << 4) |\n+                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                  continue;\n+                case 1:\n+                  rowState = chunk.charCodeAt(i);\n+                  84 === rowState ||\n+                  65 === rowState ||\n+                  79 === rowState ||\n+                  111 === rowState ||\n+                  85 === rowState ||\n+                  83 === rowState ||\n+                  115 === rowState ||\n+                  76 === rowState ||\n+                  108 === rowState ||\n+                  71 === rowState ||\n+                  103 === rowState ||\n+                  77 === rowState ||\n+                  109 === rowState ||\n+                  86 === rowState\n+                    ? ((rowTag = rowState), (rowState = 2), i++)\n+                    : (64 < rowState && 91 > rowState) ||\n+                        114 === rowState ||\n+                        120 === rowState\n+                      ? ((rowTag = rowState), (rowState = 3), i++)\n+                      : ((rowTag = 0), (rowState = 3));\n+                  continue;\n+                case 2:\n+                  lastIdx = chunk.charCodeAt(i++);\n+                  44 === lastIdx\n+                    ? (rowState = 4)\n+                    : (rowLength =\n+                        (rowLength << 4) |\n+                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                  continue;\n+                case 3:\n+                  lastIdx = chunk.indexOf(\"\\n\", i);\n+                  break;\n+                case 4:\n+                  if (84 !== rowTag)\n+                    throw Error(\n+                      \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  if (rowLength < chunk.length || chunk.length > 3 * rowLength)\n+                    throw Error(\n+                      \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  lastIdx = chunk.length;\n+              }\n+              if (-1 < lastIdx) {\n+                if (0 < buffer.length)\n+                  throw Error(\n+                    \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                  );\n+                i = chunk.slice(i, lastIdx);\n+                processFullStringRow(response, rowID, rowTag, i);\n+                i = lastIdx;\n+                3 === rowState && i++;\n+                rowLength = rowID = rowTag = rowState = 0;\n+                buffer.length = 0;\n+              } else if (chunk.length !== i)\n+                throw Error(\n+                  \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                );\n+            }\n+            streamState._rowState = rowState;\n+            streamState._rowID = rowID;\n+            streamState._rowTag = rowTag;\n+            streamState._rowLength = rowLength;\n+          }\n+        } else processBinaryChunk(response$jscomp$0, streamState, chunk);\n       });\n       stream.on(\"error\", function (error) {\n-        reportGlobalError(response, error);\n+        reportGlobalError(response$jscomp$0, error);\n       });\n       stream.on(\"end\", function () {\n-        return close(response);\n+        return close(response$jscomp$0);\n       });\n-      return getRoot(response);\n+      return getRoot(response$jscomp$0);\n     };\n     exports.createFromReadableStream = function (stream, options) {\n       options = createResponseFromOptions(options);"
        },
        {
            "sha": "df1c30440760ff1d78a0ec50d54e3ec083c62740",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.node.production.js",
            "status": "modified",
            "additions": 153,
            "deletions": 62,
            "changes": 215,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1377,13 +1377,14 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new util.TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n   this._fromJSON = createFromJSONCallback(this);\n }\n+function createStreamState() {\n+  return { _rowState: 0, _rowID: 0, _rowTag: 0, _rowLength: 0, _buffer: [] };\n+}\n function resolveBuffer(response, id, buffer) {\n   response = response._chunks;\n   var chunk = response.get(id);\n@@ -1703,71 +1704,73 @@ function processFullBinaryRow(response, id, tag, buffer, chunk) {\n     i++\n   )\n     row += stringDecoder.decode(buffer[i], decoderOptions);\n-  buffer = row += stringDecoder.decode(chunk);\n+  row += stringDecoder.decode(chunk);\n+  processFullStringRow(response, id, tag, row);\n+}\n+function processFullStringRow(response, id, tag, row) {\n   switch (tag) {\n     case 73:\n-      resolveModule(response, id, buffer);\n+      resolveModule(response, id, row);\n       break;\n     case 72:\n-      id = buffer[0];\n-      buffer = buffer.slice(1);\n-      response = JSON.parse(buffer, response._fromJSON);\n-      buffer = ReactDOMSharedInternals.d;\n+      id = row[0];\n+      row = row.slice(1);\n+      response = JSON.parse(row, response._fromJSON);\n+      row = ReactDOMSharedInternals.d;\n       switch (id) {\n         case \"D\":\n-          buffer.D(response);\n+          row.D(response);\n           break;\n         case \"C\":\n           \"string\" === typeof response\n-            ? buffer.C(response)\n-            : buffer.C(response[0], response[1]);\n+            ? row.C(response)\n+            : row.C(response[0], response[1]);\n           break;\n         case \"L\":\n           id = response[0];\n           tag = response[1];\n-          3 === response.length\n-            ? buffer.L(id, tag, response[2])\n-            : buffer.L(id, tag);\n+          3 === response.length ? row.L(id, tag, response[2]) : row.L(id, tag);\n           break;\n         case \"m\":\n           \"string\" === typeof response\n-            ? buffer.m(response)\n-            : buffer.m(response[0], response[1]);\n+            ? row.m(response)\n+            : row.m(response[0], response[1]);\n           break;\n         case \"X\":\n           \"string\" === typeof response\n-            ? buffer.X(response)\n-            : buffer.X(response[0], response[1]);\n+            ? row.X(response)\n+            : row.X(response[0], response[1]);\n           break;\n         case \"S\":\n           \"string\" === typeof response\n-            ? buffer.S(response)\n-            : buffer.S(\n+            ? row.S(response)\n+            : row.S(\n                 response[0],\n                 0 === response[1] ? void 0 : response[1],\n                 3 === response.length ? response[2] : void 0\n               );\n           break;\n         case \"M\":\n           \"string\" === typeof response\n-            ? buffer.M(response)\n-            : buffer.M(response[0], response[1]);\n+            ? row.M(response)\n+            : row.M(response[0], response[1]);\n       }\n       break;\n     case 69:\n-      tag = JSON.parse(buffer);\n-      buffer = resolveErrorProd();\n-      buffer.digest = tag.digest;\n+      tag = JSON.parse(row);\n+      row = resolveErrorProd();\n+      row.digest = tag.digest;\n       tag = response._chunks;\n-      (chunk = tag.get(id))\n-        ? triggerErrorOnChunk(response, chunk, buffer)\n-        : tag.set(id, createErrorChunk(response, buffer));\n+      var chunk = tag.get(id);\n+      chunk\n+        ? triggerErrorOnChunk(response, chunk, row)\n+        : tag.set(id, createErrorChunk(response, row));\n       break;\n     case 84:\n       response = response._chunks;\n       (tag = response.get(id)) && \"pending\" !== tag.status\n-        ? tag.reason.enqueueValue(buffer)\n-        : response.set(id, new ReactPromise(\"fulfilled\", buffer, null));\n+        ? tag.reason.enqueueValue(row)\n+        : response.set(id, new ReactPromise(\"fulfilled\", row, null));\n       break;\n     case 78:\n     case 68:\n@@ -1791,34 +1794,34 @@ function processFullBinaryRow(response, id, tag, buffer, chunk) {\n     case 67:\n       (response = response._chunks.get(id)) &&\n         \"fulfilled\" === response.status &&\n-        response.reason.close(\"\" === buffer ? '\"$undefined\"' : buffer);\n+        response.reason.close(\"\" === row ? '\"$undefined\"' : row);\n       break;\n     case 80:\n-      buffer = Error(\n+      row = Error(\n         \"A Server Component was postponed. The reason is omitted in production builds to avoid leaking sensitive details.\"\n       );\n-      buffer.$$typeof = REACT_POSTPONE_TYPE;\n-      buffer.stack = \"Error: \" + buffer.message;\n+      row.$$typeof = REACT_POSTPONE_TYPE;\n+      row.stack = \"Error: \" + row.message;\n       tag = response._chunks;\n       (chunk = tag.get(id))\n-        ? triggerErrorOnChunk(response, chunk, buffer)\n-        : tag.set(id, createErrorChunk(response, buffer));\n+        ? triggerErrorOnChunk(response, chunk, row)\n+        : tag.set(id, createErrorChunk(response, row));\n       break;\n     default:\n       (tag = response._chunks),\n         (chunk = tag.get(id))\n-          ? resolveModelChunk(response, chunk, buffer)\n-          : tag.set(id, new ReactPromise(\"resolved_model\", buffer, response));\n+          ? resolveModelChunk(response, chunk, row)\n+          : tag.set(id, new ReactPromise(\"resolved_model\", row, response));\n   }\n }\n-function processBinaryChunk(weakResponse, chunk) {\n+function processBinaryChunk(weakResponse, streamState, chunk) {\n   for (\n     var i = 0,\n-      rowState = weakResponse._rowState,\n-      rowID = weakResponse._rowID,\n-      rowTag = weakResponse._rowTag,\n-      rowLength = weakResponse._rowLength,\n-      buffer = weakResponse._buffer,\n+      rowState = streamState._rowState,\n+      rowID = streamState._rowID,\n+      rowTag = streamState._rowTag,\n+      rowLength = streamState._rowLength,\n+      buffer = streamState._buffer,\n       chunkLength = chunk.length;\n     i < chunkLength;\n \n@@ -1878,16 +1881,16 @@ function processBinaryChunk(weakResponse, chunk) {\n         (rowLength = rowID = rowTag = rowState = 0),\n         (buffer.length = 0);\n     else {\n-      chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n-      buffer.push(chunk);\n-      rowLength -= chunk.byteLength;\n+      weakResponse = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+      buffer.push(weakResponse);\n+      rowLength -= weakResponse.byteLength;\n       break;\n     }\n   }\n-  weakResponse._rowState = rowState;\n-  weakResponse._rowID = rowID;\n-  weakResponse._rowTag = rowTag;\n-  weakResponse._rowLength = rowLength;\n+  streamState._rowState = rowState;\n+  streamState._rowID = rowID;\n+  streamState._rowTag = rowTag;\n+  streamState._rowLength = rowLength;\n }\n function createFromJSONCallback(response) {\n   return function (key, value) {\n@@ -1951,14 +1954,15 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) close(response);\n     else\n       return (\n-        processBinaryChunk(response, value),\n+        processBinaryChunk(response, streamState, value),\n         reader.read().then(progress).catch(error)\n       );\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = createStreamState(),\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n function noServerCall() {\n@@ -1984,16 +1988,103 @@ exports.createFromNodeStream = function (\n   options\n ) {\n   var response = new ResponseInstance(\n-    serverConsumerManifest.moduleMap,\n-    serverConsumerManifest.serverModuleMap,\n-    serverConsumerManifest.moduleLoading,\n-    noServerCall,\n-    options ? options.encodeFormAction : void 0,\n-    options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-    void 0\n-  );\n+      serverConsumerManifest.moduleMap,\n+      serverConsumerManifest.serverModuleMap,\n+      serverConsumerManifest.moduleLoading,\n+      noServerCall,\n+      options ? options.encodeFormAction : void 0,\n+      options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+      void 0\n+    ),\n+    streamState = createStreamState();\n   stream.on(\"data\", function (chunk) {\n-    processBinaryChunk(response, chunk);\n+    if (\"string\" === typeof chunk) {\n+      for (\n+        var i = 0,\n+          rowState = streamState._rowState,\n+          rowID = streamState._rowID,\n+          rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n+          chunkLength = chunk.length;\n+        i < chunkLength;\n+\n+      ) {\n+        var lastIdx = -1;\n+        switch (rowState) {\n+          case 0:\n+            lastIdx = chunk.charCodeAt(i++);\n+            58 === lastIdx\n+              ? (rowState = 1)\n+              : (rowID =\n+                  (rowID << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+            continue;\n+          case 1:\n+            rowState = chunk.charCodeAt(i);\n+            84 === rowState ||\n+            65 === rowState ||\n+            79 === rowState ||\n+            111 === rowState ||\n+            85 === rowState ||\n+            83 === rowState ||\n+            115 === rowState ||\n+            76 === rowState ||\n+            108 === rowState ||\n+            71 === rowState ||\n+            103 === rowState ||\n+            77 === rowState ||\n+            109 === rowState ||\n+            86 === rowState\n+              ? ((rowTag = rowState), (rowState = 2), i++)\n+              : (64 < rowState && 91 > rowState) ||\n+                  114 === rowState ||\n+                  120 === rowState\n+                ? ((rowTag = rowState), (rowState = 3), i++)\n+                : ((rowTag = 0), (rowState = 3));\n+            continue;\n+          case 2:\n+            lastIdx = chunk.charCodeAt(i++);\n+            44 === lastIdx\n+              ? (rowState = 4)\n+              : (rowLength =\n+                  (rowLength << 4) |\n+                  (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+            continue;\n+          case 3:\n+            lastIdx = chunk.indexOf(\"\\n\", i);\n+            break;\n+          case 4:\n+            if (84 !== rowTag)\n+              throw Error(\n+                \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+              );\n+            if (rowLength < chunk.length || chunk.length > 3 * rowLength)\n+              throw Error(\n+                \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+              );\n+            lastIdx = chunk.length;\n+        }\n+        if (-1 < lastIdx) {\n+          if (0 < buffer.length)\n+            throw Error(\n+              \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+            );\n+          i = chunk.slice(i, lastIdx);\n+          processFullStringRow(response, rowID, rowTag, i);\n+          i = lastIdx;\n+          3 === rowState && i++;\n+          rowLength = rowID = rowTag = rowState = 0;\n+          buffer.length = 0;\n+        } else if (chunk.length !== i)\n+          throw Error(\n+            \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+          );\n+      }\n+      streamState._rowState = rowState;\n+      streamState._rowID = rowID;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n+    } else processBinaryChunk(response, streamState, chunk);\n   });\n   stream.on(\"error\", function (error) {\n     reportGlobalError(response, error);"
        },
        {
            "sha": "2df70bcaadb61b62382c9a47a62ddc6dbfab3594",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.browser.development.js",
            "status": "modified",
            "additions": 241,
            "deletions": 149,
            "changes": 390,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -70,6 +70,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -897,6 +906,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1441,7 +1451,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2617,10 +2627,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3068,7 +3084,7 @@\n           markOperationEndTime(request$jscomp$1, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$1, info),\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3127,11 +3143,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != request && (ioInfo.stack = request);\n-            request$jscomp$1.pendingDebugChunks++;\n+            request$jscomp$1.pendingChunks++;\n             emitDebugChunk(request$jscomp$1, id, ioInfo);\n           }\n         } else\n-          request$jscomp$1.pendingDebugChunks++,\n+          request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n       }\n     }\n@@ -3151,11 +3167,17 @@\n         forwardDebugInfo(request, task, model);\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function markOperationEndTime(request, task, timestamp) {\n       (request.status === ABORTING && timestamp > request.abortTime) ||\n@@ -3249,7 +3271,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3321,8 +3343,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3350,87 +3371,131 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3442,14 +3507,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         scheduleWork(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3463,7 +3527,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3476,8 +3540,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3489,8 +3552,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3554,8 +3616,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4341,52 +4402,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -4989,6 +5053,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -5011,6 +5079,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "a93f1e6ba8a85ba11ac8b59a32929d8bb64e6e9a",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.browser.production.js",
            "status": "modified",
            "additions": 46,
            "deletions": 47,
            "changes": 93,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1925,8 +1925,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1950,40 +1949,44 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n@@ -1994,8 +1997,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2013,8 +2016,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     scheduleWork(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2027,7 +2029,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2040,8 +2042,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2053,8 +2054,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2117,8 +2117,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "0bfc012479a346cd5338b7747b8c7e8686c8857e",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.edge.development.js",
            "status": "modified",
            "additions": 241,
            "deletions": 149,
            "changes": 390,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -74,6 +74,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -904,6 +913,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1453,7 +1463,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2699,10 +2709,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3150,7 +3166,7 @@\n           markOperationEndTime(request$jscomp$1, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$1, info),\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3209,11 +3225,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != request && (ioInfo.stack = request);\n-            request$jscomp$1.pendingDebugChunks++;\n+            request$jscomp$1.pendingChunks++;\n             emitDebugChunk(request$jscomp$1, id, ioInfo);\n           }\n         } else\n-          request$jscomp$1.pendingDebugChunks++,\n+          request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n       }\n     }\n@@ -3233,11 +3249,17 @@\n         forwardDebugInfo(request, task, model);\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function markOperationEndTime(request, task, timestamp) {\n       (request.status === ABORTING && timestamp > request.abortTime) ||\n@@ -3331,7 +3353,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3403,8 +3425,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3432,87 +3453,131 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3528,14 +3593,13 @@\n       }, 0);\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setTimeout(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3549,7 +3613,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3562,8 +3626,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3575,8 +3638,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3640,8 +3702,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4427,52 +4488,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -5113,6 +5177,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -5135,6 +5203,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "3beec50e5efd41e329e5aa96ceacee0fedd48005",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.edge.production.js",
            "status": "modified",
            "additions": 46,
            "deletions": 47,
            "changes": 93,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1928,8 +1928,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1953,40 +1952,44 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n@@ -1997,8 +2000,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2020,8 +2023,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setTimeout(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }, 0));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2034,7 +2036,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2047,8 +2049,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2060,8 +2061,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2124,8 +2124,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "4ab5c608360f5be33136308259b98d9b8bb37a04",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.node.development.js",
            "status": "modified",
            "additions": 302,
            "deletions": 160,
            "changes": 462,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -41,6 +41,9 @@\n         : (obj[key] = value);\n       return obj;\n     }\n+    function flushBuffered(destination) {\n+      \"function\" === typeof destination.flush && destination.flush();\n+    }\n     function writeToDestination(destination, view) {\n       destination = destination.write(view);\n       destinationHasCapacity = destinationHasCapacity && destination;\n@@ -107,6 +110,14 @@\n                 (writtenBytes = 0))));\n       return destinationHasCapacity;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        destination.write(currentView.subarray(0, writtenBytes));\n+      currentView = null;\n+      writtenBytes = 0;\n+      destinationHasCapacity = !0;\n+    }\n     function byteLengthOfChunk(chunk) {\n       return \"string\" === typeof chunk\n         ? Buffer.byteLength(chunk, \"utf8\")\n@@ -963,6 +974,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1508,7 +1520,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -1903,7 +1915,7 @@\n                     (serializeIONode(request, _ioNode, awaited.promise),\n                     (cutOff = (0, request.environmentName)()),\n                     advanceTaskTime(request, task, startTime),\n-                    request.pendingDebugChunks++,\n+                    request.pendingChunks++,\n                     emitDebugChunk(request, task.id, {\n                       awaited: _ioNode,\n                       env: cutOff,\n@@ -1943,7 +1955,7 @@\n       void 0 !== node &&\n         null !== node &&\n         (serializeIONode(request, node, node.promise),\n-        request.pendingDebugChunks++,\n+        request.pendingChunks++,\n         (alreadyForwardedDebugInfo = (0, request.environmentName)()),\n         (alreadyForwardedDebugInfo = {\n           awaited: node,\n@@ -2839,9 +2851,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3372,7 +3391,7 @@\n           markOperationEndTime(request$jscomp$0, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$0, info),\n-            request$jscomp$0.pendingDebugChunks++,\n+            request$jscomp$0.pendingChunks++,\n             emitDebugChunk(request$jscomp$0, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3419,11 +3438,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != debugStack && (ioInfo.stack = debugStack);\n-            request$jscomp$0.pendingDebugChunks++;\n+            request$jscomp$0.pendingChunks++;\n             emitDebugChunk(request$jscomp$0, id, ioInfo);\n           }\n         } else\n-          request$jscomp$0.pendingDebugChunks++,\n+          request$jscomp$0.pendingChunks++,\n             emitDebugChunk(request$jscomp$0, id, info);\n       }\n     }\n@@ -3473,7 +3492,7 @@\n             thenable = thenable.awaited;\n           3 === thenable.tag\n             ? (serializeIONode(request, thenable, null),\n-              request.pendingDebugChunks++,\n+              request.pendingChunks++,\n               (debugInfo = (0, request.environmentName)()),\n               (debugInfo = { awaited: thenable, env: debugInfo }),\n               advanceTaskTime(request, task, task.time),\n@@ -3483,10 +3502,17 @@\n       }\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function advanceTaskTime(request, task, timestamp) {\n       timestamp > task.time\n@@ -3592,7 +3618,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3666,8 +3692,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3695,88 +3720,135 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      destinationHasCapacity = !0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            destination.write(currentView.subarray(0, writtenBytes)),\n-          (currentView = null),\n-          (writtenBytes = 0),\n-          (destinationHasCapacity = !0);\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n       }\n-      \"function\" === typeof destination.flush && destination.flush();\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.end(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.end(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.end(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.end(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.end(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3788,14 +3860,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setImmediate(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3808,7 +3879,19 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n+        } catch (error) {\n+          logRecoverableError(request, error, null), fatalError(request, error);\n+        }\n+      }\n+    }\n+    function startFlowingDebug(request, debugDestination) {\n+      if (13 === request.status)\n+        (request.status = CLOSED), debugDestination.destroy(request.fatalError);\n+      else if (request.status !== CLOSED && null === request.debugDestination) {\n+        request.debugDestination = debugDestination;\n+        try {\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3821,8 +3904,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3834,8 +3916,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3899,8 +3980,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -3916,52 +3996,55 @@\n         throw Error(\n           \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n         );\n-      var command = message.charCodeAt(0);\n-      message = message.slice(2).split(\",\").map(fromHex);\n-      switch (command) {\n-        case 82:\n-          for (command = 0; command < message.length; command++) {\n-            var id = message[command],\n-              retainedValue = deferredDebugObjects.retained.get(id);\n-            void 0 !== retainedValue &&\n-              (request.pendingDebugChunks--,\n-              deferredDebugObjects.retained.delete(id),\n-              deferredDebugObjects.existing.delete(retainedValue),\n-              enqueueFlush(request));\n-          }\n-          break;\n-        case 81:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n+      if (\"\" === message) closeDebugChannel(request);\n+      else {\n+        var command = message.charCodeAt(0);\n+        message = message.slice(2).split(\",\").map(fromHex);\n+        switch (command) {\n+          case 82:\n+            for (command = 0; command < message.length; command++) {\n+              var id = message[command],\n+                retainedValue = deferredDebugObjects.retained.get(id);\n               void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n+                (request.pendingDebugChunks--,\n+                deferredDebugObjects.retained.delete(id),\n                 deferredDebugObjects.existing.delete(retainedValue),\n-                emitOutlinedDebugModelChunk(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ),\n                 enqueueFlush(request));\n-          break;\n-        case 80:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n-              void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n-                emitRequestedDebugThenable(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ));\n-          break;\n-        default:\n-          throw Error(\n-            \"Unknown command. The debugChannel was not wired up properly.\"\n-          );\n+            }\n+            break;\n+          case 81:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  deferredDebugObjects.existing.delete(retainedValue),\n+                  emitOutlinedDebugModelChunk(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ),\n+                  enqueueFlush(request));\n+            break;\n+          case 80:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  emitRequestedDebugThenable(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ));\n+            break;\n+          default:\n+            throw Error(\n+              \"Unknown command. The debugChannel was not wired up properly.\"\n+            );\n+        }\n       }\n     }\n     function closeDebugChannel(request) {\n@@ -4788,6 +4871,25 @@\n           stream.on(\"error\", onError),\n           stream.on(\"end\", onClose));\n     }\n+    function createFakeWritableFromWebSocket(webSocket) {\n+      return {\n+        write: function (chunk) {\n+          webSocket.send(chunk);\n+          return !0;\n+        },\n+        end: function () {\n+          webSocket.close();\n+        },\n+        destroy: function (reason) {\n+          \"object\" === typeof reason &&\n+            null !== reason &&\n+            (reason = reason.message);\n+          \"string\" === typeof reason\n+            ? webSocket.close(1011, reason)\n+            : webSocket.close(1011);\n+        }\n+      };\n+    }\n     function createFakeWritableFromReadableStreamController(controller) {\n       return {\n         write: function (chunk) {\n@@ -5621,12 +5723,12 @@\n             \"React doesn't accept base64 encoded file uploads because we don't expect form data passed from a browser to ever encode data that way. If that's the wrong assumption, we can easily fix it.\"\n           );\n         pendingFiles++;\n-        var JSCompiler_object_inline_chunks_230 = [];\n+        var JSCompiler_object_inline_chunks_237 = [];\n         value.on(\"data\", function (chunk) {\n-          JSCompiler_object_inline_chunks_230.push(chunk);\n+          JSCompiler_object_inline_chunks_237.push(chunk);\n         });\n         value.on(\"end\", function () {\n-          var blob = new Blob(JSCompiler_object_inline_chunks_230, {\n+          var blob = new Blob(JSCompiler_object_inline_chunks_237, {\n             type: mimeType\n           });\n           response._formData.append(name, blob, filename);\n@@ -5675,6 +5777,20 @@\n     };\n     exports.renderToPipeableStream = function (model, turbopackMap, options) {\n       var debugChannel = options ? options.debugChannel : void 0,\n+        debugChannelReadable =\n+          void 0 === debugChannel ||\n+          (\"function\" !== typeof debugChannel.read &&\n+            \"number\" !== typeof debugChannel.readyState)\n+            ? void 0\n+            : debugChannel,\n+        debugChannelWritable =\n+          void 0 !== debugChannel\n+            ? \"function\" === typeof debugChannel.write\n+              ? debugChannel\n+              : \"function\" === typeof debugChannel.send\n+                ? createFakeWritableFromWebSocket(debugChannel)\n+                : void 0\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -5688,8 +5804,10 @@\n         ),\n         hasStartedFlowing = !1;\n       startWork(request);\n-      void 0 !== debugChannel &&\n-        startReadingFromDebugChannelReadable(request, debugChannel);\n+      void 0 !== debugChannelWritable &&\n+        startFlowingDebug(request, debugChannelWritable);\n+      void 0 !== debugChannelReadable &&\n+        startReadingFromDebugChannelReadable(request, debugChannelReadable);\n       return {\n         pipe: function (destination) {\n           if (hasStartedFlowing)\n@@ -5706,10 +5824,14 @@\n               \"The destination stream errored while writing data.\"\n             )\n           );\n-          destination.on(\n-            \"close\",\n-            createCancelHandler(request, \"The destination stream closed early.\")\n-          );\n+          if (void 0 === debugChannelReadable)\n+            destination.on(\n+              \"close\",\n+              createCancelHandler(\n+                request,\n+                \"The destination stream closed early.\"\n+              )\n+            );\n           return destination;\n         },\n         abort: function (reason) {\n@@ -5722,6 +5844,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -5744,6 +5870,22 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      if (void 0 !== debugChannelWritable) {\n+        var debugWritable;\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            start: function (controller) {\n+              debugWritable =\n+                createFakeWritableFromReadableStreamController(controller);\n+            },\n+            pull: function () {\n+              startFlowingDebug(request, debugWritable);\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n+      }\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "86127d31598dd889c3e329590dfebe965e2729f3",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.node.production.js",
            "status": "modified",
            "additions": 69,
            "deletions": 71,
            "changes": 140,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1934,8 +1934,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1959,65 +1958,68 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  destinationHasCapacity = !0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, importsChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, regularChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, errorChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        destination.write(currentView.subarray(0, writtenBytes)),\n-      (currentView = null),\n-      (writtenBytes = 0),\n-      (destinationHasCapacity = !0);\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    destinationHasCapacity = !0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, importsChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        if (!writeChunkAndReturn(destination, hintChunks[i])) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, regularChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, errorChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          destination.write(currentView.subarray(0, writtenBytes)),\n+        (currentView = null),\n+        (writtenBytes = 0),\n+        (destinationHasCapacity = !0);\n+    }\n+    \"function\" === typeof destination.flush && destination.flush();\n   }\n-  \"function\" === typeof destination.flush && destination.flush();\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n     12 > request.status &&\n@@ -2027,8 +2029,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.end(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.end(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2046,8 +2048,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setImmediate(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2060,7 +2061,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2073,8 +2074,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2086,8 +2086,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2150,8 +2149,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "893fdd61b353340d9e578e62e67284d2d5cddeef",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -48,7 +48,7 @@\n     \"neo-async\": \"^2.6.1\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"0.0.0-experimental-96c61b7f-20250709\",\n-    \"react-dom\": \"0.0.0-experimental-96c61b7f-20250709\"\n+    \"react\": \"0.0.0-experimental-97cdd5d3-20250710\",\n+    \"react-dom\": \"0.0.0-experimental-97cdd5d3-20250710\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "85fe025e61f1724b1786113ac0b490e6b0aa32eb",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.browser.development.js",
            "status": "modified",
            "additions": 240,
            "deletions": 94,
            "changes": 334,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1846,8 +1846,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -1875,6 +1873,15 @@\n           : debugChannelRegistry.register(this, debugChannel));\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -2650,6 +2657,96 @@\n             : resolveModel(response, id, row);\n       }\n     }\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n+      if (void 0 !== weakResponse.weak.deref()) {\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n+        for (\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n+            chunkLength = chunk.length;\n+          i < chunkLength;\n+\n+        ) {\n+          var lastIdx = -1;\n+          switch (rowState) {\n+            case 0:\n+              lastIdx = chunk[i++];\n+              58 === lastIdx\n+                ? (rowState = 1)\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 1:\n+              rowState = chunk[i];\n+              84 === rowState ||\n+              65 === rowState ||\n+              79 === rowState ||\n+              111 === rowState ||\n+              85 === rowState ||\n+              83 === rowState ||\n+              115 === rowState ||\n+              76 === rowState ||\n+              108 === rowState ||\n+              71 === rowState ||\n+              103 === rowState ||\n+              77 === rowState ||\n+              109 === rowState ||\n+              86 === rowState\n+                ? ((rowTag = rowState), (rowState = 2), i++)\n+                : (64 < rowState && 91 > rowState) ||\n+                    35 === rowState ||\n+                    114 === rowState ||\n+                    120 === rowState\n+                  ? ((rowTag = rowState), (rowState = 3), i++)\n+                  : ((rowTag = 0), (rowState = 3));\n+              continue;\n+            case 2:\n+              lastIdx = chunk[i++];\n+              44 === lastIdx\n+                ? (rowState = 4)\n+                : (rowLength =\n+                    (rowLength << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 3:\n+              lastIdx = chunk.indexOf(10, i);\n+              break;\n+            case 4:\n+              (lastIdx = i + rowLength),\n+                lastIdx > chunk.length && (lastIdx = -1);\n+          }\n+          var offset = chunk.byteOffset + i;\n+          if (-1 < lastIdx)\n+            (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n+              processFullBinaryRow(\n+                response,\n+                weakResponse,\n+                rowTag,\n+                buffer,\n+                rowLength\n+              ),\n+              (i = lastIdx),\n+              3 === rowState && i++,\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n+              (buffer.length = 0);\n+          else {\n+            chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+            buffer.push(chunk);\n+            rowLength -= chunk.byteLength;\n+            break;\n+          }\n+        }\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n+      }\n+    }\n     function createFromJSONCallback(response) {\n       return function (key, value) {\n         if (\"string\" === typeof value)\n@@ -2730,6 +2827,9 @@\n         return value;\n       };\n     }\n+    function close(weakResponse) {\n+      reportGlobalError(weakResponse, Error(\"Connection closed.\"));\n+    }\n     function createDebugCallbackFromWritableStream(debugWritable) {\n       var textEncoder = new TextEncoder(),\n         writer = debugWritable.getWriter();\n@@ -2764,104 +2864,138 @@\n         debugChannel\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromUniversalStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done) close(response$jscomp$0);\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n-            for (\n-              var i = 0,\n-                rowState = _ref._rowState,\n-                rowID = _ref._rowID,\n-                rowTag = _ref._rowTag,\n-                rowLength = _ref._rowLength,\n-                buffer = _ref._buffer,\n-                chunkLength = value.length;\n-              i < chunkLength;\n-\n+          if (value instanceof ArrayBuffer)\n+            processBinaryChunk(\n+              response$jscomp$0,\n+              streamState,\n+              new Uint8Array(value)\n+            );\n+          else if (\"string\" === typeof value) {\n+            if (\n+              ((_ref = streamState), void 0 !== response$jscomp$0.weak.deref())\n             ) {\n-              var lastIdx = -1;\n-              switch (rowState) {\n-                case 0:\n-                  lastIdx = value[i++];\n-                  58 === lastIdx\n-                    ? (rowState = 1)\n-                    : (rowID =\n-                        (rowID << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 1:\n-                  rowState = value[i];\n-                  84 === rowState ||\n-                  65 === rowState ||\n-                  79 === rowState ||\n-                  111 === rowState ||\n-                  85 === rowState ||\n-                  83 === rowState ||\n-                  115 === rowState ||\n-                  76 === rowState ||\n-                  108 === rowState ||\n-                  71 === rowState ||\n-                  103 === rowState ||\n-                  77 === rowState ||\n-                  109 === rowState ||\n-                  86 === rowState\n-                    ? ((rowTag = rowState), (rowState = 2), i++)\n-                    : (64 < rowState && 91 > rowState) ||\n-                        35 === rowState ||\n-                        114 === rowState ||\n-                        120 === rowState\n-                      ? ((rowTag = rowState), (rowState = 3), i++)\n-                      : ((rowTag = 0), (rowState = 3));\n-                  continue;\n-                case 2:\n-                  lastIdx = value[i++];\n-                  44 === lastIdx\n-                    ? (rowState = 4)\n-                    : (rowLength =\n-                        (rowLength << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 3:\n-                  lastIdx = value.indexOf(10, i);\n-                  break;\n-                case 4:\n-                  (lastIdx = i + rowLength),\n-                    lastIdx > value.length && (lastIdx = -1);\n-              }\n-              var offset = value.byteOffset + i;\n-              if (-1 < lastIdx)\n-                (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n-                  (i = lastIdx),\n-                  3 === rowState && i++,\n-                  (rowLength = rowID = rowTag = rowState = 0),\n-                  (buffer.length = 0);\n-              else {\n-                value = new Uint8Array(\n-                  value.buffer,\n-                  offset,\n-                  value.byteLength - i\n-                );\n-                buffer.push(value);\n-                rowLength -= value.byteLength;\n-                break;\n+              for (\n+                var response = unwrapWeakResponse(response$jscomp$0),\n+                  i = 0,\n+                  rowState = _ref._rowState,\n+                  rowID = _ref._rowID,\n+                  rowTag = _ref._rowTag,\n+                  rowLength = _ref._rowLength,\n+                  buffer = _ref._buffer,\n+                  chunkLength = value.length;\n+                i < chunkLength;\n+\n+              ) {\n+                var lastIdx = -1;\n+                switch (rowState) {\n+                  case 0:\n+                    lastIdx = value.charCodeAt(i++);\n+                    58 === lastIdx\n+                      ? (rowState = 1)\n+                      : (rowID =\n+                          (rowID << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 1:\n+                    rowState = value.charCodeAt(i);\n+                    84 === rowState ||\n+                    65 === rowState ||\n+                    79 === rowState ||\n+                    111 === rowState ||\n+                    85 === rowState ||\n+                    83 === rowState ||\n+                    115 === rowState ||\n+                    76 === rowState ||\n+                    108 === rowState ||\n+                    71 === rowState ||\n+                    103 === rowState ||\n+                    77 === rowState ||\n+                    109 === rowState ||\n+                    86 === rowState\n+                      ? ((rowTag = rowState), (rowState = 2), i++)\n+                      : (64 < rowState && 91 > rowState) ||\n+                          114 === rowState ||\n+                          120 === rowState\n+                        ? ((rowTag = rowState), (rowState = 3), i++)\n+                        : ((rowTag = 0), (rowState = 3));\n+                    continue;\n+                  case 2:\n+                    lastIdx = value.charCodeAt(i++);\n+                    44 === lastIdx\n+                      ? (rowState = 4)\n+                      : (rowLength =\n+                          (rowLength << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 3:\n+                    lastIdx = value.indexOf(\"\\n\", i);\n+                    break;\n+                  case 4:\n+                    if (84 !== rowTag)\n+                      throw Error(\n+                        \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    if (\n+                      rowLength < value.length ||\n+                      value.length > 3 * rowLength\n+                    )\n+                      throw Error(\n+                        \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    lastIdx = value.length;\n+                }\n+                if (-1 < lastIdx) {\n+                  if (0 < buffer.length)\n+                    throw Error(\n+                      \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  i = value.slice(i, lastIdx);\n+                  processFullStringRow(response, rowID, rowTag, i);\n+                  i = lastIdx;\n+                  3 === rowState && i++;\n+                  rowLength = rowID = rowTag = rowState = 0;\n+                  buffer.length = 0;\n+                } else if (value.length !== i)\n+                  throw Error(\n+                    \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                  );\n               }\n+              _ref._rowState = rowState;\n+              _ref._rowID = rowID;\n+              _ref._rowTag = rowTag;\n+              _ref._rowLength = rowLength;\n             }\n-            _ref._rowState = rowState;\n-            _ref._rowID = rowID;\n-            _ref._rowTag = rowTag;\n-            _ref._rowLength = rowLength;\n-          }\n+          } else processBinaryChunk(response$jscomp$0, streamState, value);\n           return reader.read().then(progress).catch(error);\n         }\n       }\n+      function error(e) {\n+        reportGlobalError(response$jscomp$0, e);\n+      }\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n+      reader.read().then(progress).catch(error);\n+    }\n+    function startReadingFromStream(response, stream, isSecondaryStream) {\n+      function progress(_ref2) {\n+        var value = _ref2.value;\n+        if (_ref2.done) isSecondaryStream || close(response);\n+        else\n+          return (\n+            processBinaryChunk(response, streamState, value),\n+            reader.read().then(progress).catch(error)\n+          );\n+      }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var React = require(\"react\"),\n@@ -3049,10 +3183,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.2.0-canary-96c61b7f-20250709\",\n+      version: \"19.2.0-canary-97cdd5d3-20250710\",\n       rendererPackageName: \"react-server-dom-turbopack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.2.0-canary-96c61b7f-20250709\",\n+      reconcilerVersion: \"19.2.0-canary-97cdd5d3-20250710\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }\n@@ -3061,7 +3195,13 @@\n       var response = createResponseFromOptions(options);\n       promiseForResponse.then(\n         function (r) {\n-          startReadingFromStream(response, r.body);\n+          options && options.debugChannel && options.debugChannel.readable\n+            ? (startReadingFromUniversalStream(\n+                response,\n+                options.debugChannel.readable\n+              ),\n+              startReadingFromStream(response, r.body, !0))\n+            : startReadingFromStream(response, r.body, !1);\n         },\n         function (e) {\n           reportGlobalError(response, e);\n@@ -3070,9 +3210,15 @@\n       return getRoot(response);\n     };\n     exports.createFromReadableStream = function (stream, options) {\n-      options = createResponseFromOptions(options);\n-      startReadingFromStream(options, stream);\n-      return getRoot(options);\n+      var response = createResponseFromOptions(options);\n+      options && options.debugChannel && options.debugChannel.readable\n+        ? (startReadingFromUniversalStream(\n+            response,\n+            options.debugChannel.readable\n+          ),\n+          startReadingFromStream(response, stream, !0))\n+        : startReadingFromStream(response, stream, !1);\n+      return getRoot(response);\n     };\n     exports.createServerReference = function (\n       id,"
        },
        {
            "sha": "ee51c466f5a4a876b49c19931d55911614442f52",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.browser.production.js",
            "status": "modified",
            "additions": 29,
            "deletions": 22,
            "changes": 51,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1188,8 +1188,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1654,18 +1652,20 @@ function createResponseFromOptions(options) {\n       : void 0\n   );\n }\n-function startReadingFromStream(response, stream) {\n-  function progress(_ref) {\n-    var value = _ref.value;\n-    if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+function startReadingFromStream(response, stream, isSecondaryStream) {\n+  function progress(_ref2) {\n+    var value = _ref2.value;\n+    if (_ref2.done)\n+      isSecondaryStream ||\n+        reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref2 = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1676,8 +1676,8 @@ function startReadingFromStream(response, stream) {\n             lastIdx = value[i++];\n             58 === lastIdx\n               ? (rowState = 1)\n-              : (_ref =\n-                  (_ref << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              : (_ref2 =\n+                  (_ref2 << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n             continue;\n           case 1:\n             rowState = value[i];\n@@ -1720,10 +1720,10 @@ function startReadingFromStream(response, stream) {\n         var offset = value.byteOffset + i;\n         if (-1 < lastIdx)\n           (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-            processFullBinaryRow(response, _ref, rowTag, buffer, rowLength),\n+            processFullBinaryRow(response, _ref2, rowTag, buffer, rowLength),\n             (i = lastIdx),\n             3 === rowState && i++,\n-            (rowLength = _ref = rowTag = rowState = 0),\n+            (rowLength = _ref2 = rowTag = rowState = 0),\n             (buffer.length = 0);\n         else {\n           value = new Uint8Array(value.buffer, offset, value.byteLength - i);\n@@ -1732,24 +1732,31 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref2;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {\n   var response = createResponseFromOptions(options);\n   promiseForResponse.then(\n     function (r) {\n-      startReadingFromStream(response, r.body);\n+      startReadingFromStream(response, r.body, !1);\n     },\n     function (e) {\n       reportGlobalError(response, e);\n@@ -1759,7 +1766,7 @@ exports.createFromFetch = function (promiseForResponse, options) {\n };\n exports.createFromReadableStream = function (stream, options) {\n   options = createResponseFromOptions(options);\n-  startReadingFromStream(options, stream);\n+  startReadingFromStream(options, stream, !1);\n   return getChunk(options, 0);\n };\n exports.createServerReference = function (id, callServer) {"
        },
        {
            "sha": "6e69fca39efcfdb2b69e3d0a2b9642f4bc9fccd6",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.edge.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 10,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2064,8 +2064,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2975,15 +2973,17 @@\n         void 0\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done)\n+          reportGlobalError(response$jscomp$0, Error(\"Connection closed.\"));\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n+          _ref = streamState;\n+          if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n-              var i = 0,\n+              var response = unwrapWeakResponse(response$jscomp$0),\n+                i = 0,\n                 rowState = _ref._rowState,\n                 rowID = _ref._rowID,\n                 rowTag = _ref._rowTag,\n@@ -3045,7 +3045,13 @@\n               var offset = value.byteOffset + i;\n               if (-1 < lastIdx)\n                 (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n+                  processFullBinaryRow(\n+                    response,\n+                    rowID,\n+                    rowTag,\n+                    buffer,\n+                    rowLength\n+                  ),\n                   (i = lastIdx),\n                   3 === rowState && i++,\n                   (rowLength = rowID = rowTag = rowState = 0),\n@@ -3070,9 +3076,16 @@\n         }\n       }\n       function error(e) {\n-        reportGlobalError(response, e);\n+        reportGlobalError(response$jscomp$0, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = {\n+          _rowState: 0,\n+          _rowID: 0,\n+          _rowTag: 0,\n+          _rowLength: 0,\n+          _buffer: []\n+        },\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var ReactDOM = require(\"react-dom\"),"
        },
        {
            "sha": "d8bcb0224f27c8099b14160b897c9227cde5b7e7",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.edge.production.js",
            "status": "modified",
            "additions": 17,
            "deletions": 12,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1372,8 +1372,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1854,12 +1852,12 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1926,17 +1924,24 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {"
        },
        {
            "sha": "f76eb105070669ad74d1f180e80f9e39e133c446",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.node.development.js",
            "status": "modified",
            "additions": 138,
            "deletions": 37,
            "changes": 175,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2064,8 +2064,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new util.TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2093,6 +2091,15 @@\n           : debugChannelRegistry.register(this, debugChannel));\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -2873,16 +2880,16 @@\n             : resolveModel(response, id, row);\n       }\n     }\n-    function processBinaryChunk(weakResponse, chunk) {\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n       if (void 0 !== weakResponse.weak.deref()) {\n-        weakResponse = unwrapWeakResponse(weakResponse);\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n         for (\n-          var i = 0,\n-            rowState = weakResponse._rowState,\n-            rowID = weakResponse._rowID,\n-            rowTag = weakResponse._rowTag,\n-            rowLength = weakResponse._rowLength,\n-            buffer = weakResponse._buffer,\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n             chunkLength = chunk.length;\n           i < chunkLength;\n \n@@ -2893,8 +2900,8 @@\n               lastIdx = chunk[i++];\n               58 === lastIdx\n                 ? (rowState = 1)\n-                : (rowID =\n-                    (rowID << 4) |\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n                     (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n               continue;\n             case 1:\n@@ -2940,15 +2947,15 @@\n           if (-1 < lastIdx)\n             (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n               processFullBinaryRow(\n+                response,\n                 weakResponse,\n-                rowID,\n                 rowTag,\n                 buffer,\n                 rowLength\n               ),\n               (i = lastIdx),\n               3 === rowState && i++,\n-              (rowLength = rowID = rowTag = rowState = 0),\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n               (buffer.length = 0);\n           else {\n             chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n@@ -2957,10 +2964,10 @@\n             break;\n           }\n         }\n-        weakResponse._rowState = rowState;\n-        weakResponse._rowID = rowID;\n-        weakResponse._rowTag = rowTag;\n-        weakResponse._rowLength = rowLength;\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n       }\n     }\n     function createFromJSONCallback(response) {\n@@ -3074,14 +3081,15 @@\n         if (_ref.done) close(response);\n         else\n           return (\n-            processBinaryChunk(response, value),\n+            processBinaryChunk(response, streamState, value),\n             reader.read().then(progress).catch(error)\n           );\n       }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     function noServerCall() {\n@@ -3283,29 +3291,122 @@\n       serverConsumerManifest,\n       options\n     ) {\n-      var response = new ResponseInstance(\n-        serverConsumerManifest.moduleMap,\n-        serverConsumerManifest.serverModuleMap,\n-        serverConsumerManifest.moduleLoading,\n-        noServerCall,\n-        options ? options.encodeFormAction : void 0,\n-        options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-        void 0,\n-        options && options.findSourceMapURL ? options.findSourceMapURL : void 0,\n-        options ? !0 === options.replayConsoleLogs : !1,\n-        options && options.environmentName ? options.environmentName : void 0,\n-        void 0\n-      )._weakResponse;\n+      var response$jscomp$0 = new ResponseInstance(\n+          serverConsumerManifest.moduleMap,\n+          serverConsumerManifest.serverModuleMap,\n+          serverConsumerManifest.moduleLoading,\n+          noServerCall,\n+          options ? options.encodeFormAction : void 0,\n+          options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+          void 0,\n+          options && options.findSourceMapURL\n+            ? options.findSourceMapURL\n+            : void 0,\n+          options ? !0 === options.replayConsoleLogs : !1,\n+          options && options.environmentName ? options.environmentName : void 0,\n+          void 0\n+        )._weakResponse,\n+        streamState = createStreamState();\n       stream.on(\"data\", function (chunk) {\n-        processBinaryChunk(response, chunk);\n+        if (\"string\" === typeof chunk) {\n+          if (void 0 !== response$jscomp$0.weak.deref()) {\n+            for (\n+              var response = unwrapWeakResponse(response$jscomp$0),\n+                i = 0,\n+                rowState = streamState._rowState,\n+                rowID = streamState._rowID,\n+                rowTag = streamState._rowTag,\n+                rowLength = streamState._rowLength,\n+                buffer = streamState._buffer,\n+                chunkLength = chunk.length;\n+              i < chunkLength;\n+\n+            ) {\n+              var lastIdx = -1;\n+              switch (rowState) {\n+                case 0:\n+                  lastIdx = chunk.charCodeAt(i++);\n+                  58 === lastIdx\n+                    ? (rowState = 1)\n+                    : (rowID =\n+                        (rowID << 4) |\n+                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                  continue;\n+                case 1:\n+                  rowState = chunk.charCodeAt(i);\n+                  84 === rowState ||\n+                  65 === rowState ||\n+                  79 === rowState ||\n+                  111 === rowState ||\n+                  85 === rowState ||\n+                  83 === rowState ||\n+                  115 === rowState ||\n+                  76 === rowState ||\n+                  108 === rowState ||\n+                  71 === rowState ||\n+                  103 === rowState ||\n+                  77 === rowState ||\n+                  109 === rowState ||\n+                  86 === rowState\n+                    ? ((rowTag = rowState), (rowState = 2), i++)\n+                    : (64 < rowState && 91 > rowState) ||\n+                        114 === rowState ||\n+                        120 === rowState\n+                      ? ((rowTag = rowState), (rowState = 3), i++)\n+                      : ((rowTag = 0), (rowState = 3));\n+                  continue;\n+                case 2:\n+                  lastIdx = chunk.charCodeAt(i++);\n+                  44 === lastIdx\n+                    ? (rowState = 4)\n+                    : (rowLength =\n+                        (rowLength << 4) |\n+                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                  continue;\n+                case 3:\n+                  lastIdx = chunk.indexOf(\"\\n\", i);\n+                  break;\n+                case 4:\n+                  if (84 !== rowTag)\n+                    throw Error(\n+                      \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  if (rowLength < chunk.length || chunk.length > 3 * rowLength)\n+                    throw Error(\n+                      \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  lastIdx = chunk.length;\n+              }\n+              if (-1 < lastIdx) {\n+                if (0 < buffer.length)\n+                  throw Error(\n+                    \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                  );\n+                i = chunk.slice(i, lastIdx);\n+                processFullStringRow(response, rowID, rowTag, i);\n+                i = lastIdx;\n+                3 === rowState && i++;\n+                rowLength = rowID = rowTag = rowState = 0;\n+                buffer.length = 0;\n+              } else if (chunk.length !== i)\n+                throw Error(\n+                  \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                );\n+            }\n+            streamState._rowState = rowState;\n+            streamState._rowID = rowID;\n+            streamState._rowTag = rowTag;\n+            streamState._rowLength = rowLength;\n+          }\n+        } else processBinaryChunk(response$jscomp$0, streamState, chunk);\n       });\n       stream.on(\"error\", function (error) {\n-        reportGlobalError(response, error);\n+        reportGlobalError(response$jscomp$0, error);\n       });\n       stream.on(\"end\", function () {\n-        return close(response);\n+        return close(response$jscomp$0);\n       });\n-      return getRoot(response);\n+      return getRoot(response$jscomp$0);\n     };\n     exports.createFromReadableStream = function (stream, options) {\n       options = createResponseFromOptions(options);"
        },
        {
            "sha": "e52efd47e91914ca65da79e734511ba050b6e14a",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.node.production.js",
            "status": "modified",
            "additions": 148,
            "deletions": 57,
            "changes": 205,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1373,13 +1373,14 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new util.TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n   this._fromJSON = createFromJSONCallback(this);\n }\n+function createStreamState() {\n+  return { _rowState: 0, _rowID: 0, _rowTag: 0, _rowLength: 0, _buffer: [] };\n+}\n function resolveBuffer(response, id, buffer) {\n   response = response._chunks;\n   var chunk = response.get(id);\n@@ -1699,71 +1700,73 @@ function processFullBinaryRow(response, id, tag, buffer, chunk) {\n     i++\n   )\n     row += stringDecoder.decode(buffer[i], decoderOptions);\n-  buffer = row += stringDecoder.decode(chunk);\n+  row += stringDecoder.decode(chunk);\n+  processFullStringRow(response, id, tag, row);\n+}\n+function processFullStringRow(response, id, tag, row) {\n   switch (tag) {\n     case 73:\n-      resolveModule(response, id, buffer);\n+      resolveModule(response, id, row);\n       break;\n     case 72:\n-      id = buffer[0];\n-      buffer = buffer.slice(1);\n-      response = JSON.parse(buffer, response._fromJSON);\n-      buffer = ReactDOMSharedInternals.d;\n+      id = row[0];\n+      row = row.slice(1);\n+      response = JSON.parse(row, response._fromJSON);\n+      row = ReactDOMSharedInternals.d;\n       switch (id) {\n         case \"D\":\n-          buffer.D(response);\n+          row.D(response);\n           break;\n         case \"C\":\n           \"string\" === typeof response\n-            ? buffer.C(response)\n-            : buffer.C(response[0], response[1]);\n+            ? row.C(response)\n+            : row.C(response[0], response[1]);\n           break;\n         case \"L\":\n           id = response[0];\n           tag = response[1];\n-          3 === response.length\n-            ? buffer.L(id, tag, response[2])\n-            : buffer.L(id, tag);\n+          3 === response.length ? row.L(id, tag, response[2]) : row.L(id, tag);\n           break;\n         case \"m\":\n           \"string\" === typeof response\n-            ? buffer.m(response)\n-            : buffer.m(response[0], response[1]);\n+            ? row.m(response)\n+            : row.m(response[0], response[1]);\n           break;\n         case \"X\":\n           \"string\" === typeof response\n-            ? buffer.X(response)\n-            : buffer.X(response[0], response[1]);\n+            ? row.X(response)\n+            : row.X(response[0], response[1]);\n           break;\n         case \"S\":\n           \"string\" === typeof response\n-            ? buffer.S(response)\n-            : buffer.S(\n+            ? row.S(response)\n+            : row.S(\n                 response[0],\n                 0 === response[1] ? void 0 : response[1],\n                 3 === response.length ? response[2] : void 0\n               );\n           break;\n         case \"M\":\n           \"string\" === typeof response\n-            ? buffer.M(response)\n-            : buffer.M(response[0], response[1]);\n+            ? row.M(response)\n+            : row.M(response[0], response[1]);\n       }\n       break;\n     case 69:\n-      tag = JSON.parse(buffer);\n-      buffer = resolveErrorProd();\n-      buffer.digest = tag.digest;\n+      tag = JSON.parse(row);\n+      row = resolveErrorProd();\n+      row.digest = tag.digest;\n       tag = response._chunks;\n-      (chunk = tag.get(id))\n-        ? triggerErrorOnChunk(response, chunk, buffer)\n-        : tag.set(id, new ReactPromise(\"rejected\", null, buffer));\n+      var chunk = tag.get(id);\n+      chunk\n+        ? triggerErrorOnChunk(response, chunk, row)\n+        : tag.set(id, new ReactPromise(\"rejected\", null, row));\n       break;\n     case 84:\n       response = response._chunks;\n       (tag = response.get(id)) && \"pending\" !== tag.status\n-        ? tag.reason.enqueueValue(buffer)\n-        : response.set(id, new ReactPromise(\"fulfilled\", buffer, null));\n+        ? tag.reason.enqueueValue(row)\n+        : response.set(id, new ReactPromise(\"fulfilled\", row, null));\n       break;\n     case 78:\n     case 68:\n@@ -1787,23 +1790,23 @@ function processFullBinaryRow(response, id, tag, buffer, chunk) {\n     case 67:\n       (response = response._chunks.get(id)) &&\n         \"fulfilled\" === response.status &&\n-        response.reason.close(\"\" === buffer ? '\"$undefined\"' : buffer);\n+        response.reason.close(\"\" === row ? '\"$undefined\"' : row);\n       break;\n     default:\n       (tag = response._chunks),\n         (chunk = tag.get(id))\n-          ? resolveModelChunk(response, chunk, buffer)\n-          : tag.set(id, new ReactPromise(\"resolved_model\", buffer, response));\n+          ? resolveModelChunk(response, chunk, row)\n+          : tag.set(id, new ReactPromise(\"resolved_model\", row, response));\n   }\n }\n-function processBinaryChunk(weakResponse, chunk) {\n+function processBinaryChunk(weakResponse, streamState, chunk) {\n   for (\n     var i = 0,\n-      rowState = weakResponse._rowState,\n-      rowID = weakResponse._rowID,\n-      rowTag = weakResponse._rowTag,\n-      rowLength = weakResponse._rowLength,\n-      buffer = weakResponse._buffer,\n+      rowState = streamState._rowState,\n+      rowID = streamState._rowID,\n+      rowTag = streamState._rowTag,\n+      rowLength = streamState._rowLength,\n+      buffer = streamState._buffer,\n       chunkLength = chunk.length;\n     i < chunkLength;\n \n@@ -1863,16 +1866,16 @@ function processBinaryChunk(weakResponse, chunk) {\n         (rowLength = rowID = rowTag = rowState = 0),\n         (buffer.length = 0);\n     else {\n-      chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n-      buffer.push(chunk);\n-      rowLength -= chunk.byteLength;\n+      weakResponse = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+      buffer.push(weakResponse);\n+      rowLength -= weakResponse.byteLength;\n       break;\n     }\n   }\n-  weakResponse._rowState = rowState;\n-  weakResponse._rowID = rowID;\n-  weakResponse._rowTag = rowTag;\n-  weakResponse._rowLength = rowLength;\n+  streamState._rowState = rowState;\n+  streamState._rowID = rowID;\n+  streamState._rowTag = rowTag;\n+  streamState._rowLength = rowLength;\n }\n function createFromJSONCallback(response) {\n   return function (key, value) {\n@@ -1936,14 +1939,15 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) close(response);\n     else\n       return (\n-        processBinaryChunk(response, value),\n+        processBinaryChunk(response, streamState, value),\n         reader.read().then(progress).catch(error)\n       );\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = createStreamState(),\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n function noServerCall() {\n@@ -1969,16 +1973,103 @@ exports.createFromNodeStream = function (\n   options\n ) {\n   var response = new ResponseInstance(\n-    serverConsumerManifest.moduleMap,\n-    serverConsumerManifest.serverModuleMap,\n-    serverConsumerManifest.moduleLoading,\n-    noServerCall,\n-    options ? options.encodeFormAction : void 0,\n-    options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-    void 0\n-  );\n+      serverConsumerManifest.moduleMap,\n+      serverConsumerManifest.serverModuleMap,\n+      serverConsumerManifest.moduleLoading,\n+      noServerCall,\n+      options ? options.encodeFormAction : void 0,\n+      options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+      void 0\n+    ),\n+    streamState = createStreamState();\n   stream.on(\"data\", function (chunk) {\n-    processBinaryChunk(response, chunk);\n+    if (\"string\" === typeof chunk) {\n+      for (\n+        var i = 0,\n+          rowState = streamState._rowState,\n+          rowID = streamState._rowID,\n+          rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n+          chunkLength = chunk.length;\n+        i < chunkLength;\n+\n+      ) {\n+        var lastIdx = -1;\n+        switch (rowState) {\n+          case 0:\n+            lastIdx = chunk.charCodeAt(i++);\n+            58 === lastIdx\n+              ? (rowState = 1)\n+              : (rowID =\n+                  (rowID << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+            continue;\n+          case 1:\n+            rowState = chunk.charCodeAt(i);\n+            84 === rowState ||\n+            65 === rowState ||\n+            79 === rowState ||\n+            111 === rowState ||\n+            85 === rowState ||\n+            83 === rowState ||\n+            115 === rowState ||\n+            76 === rowState ||\n+            108 === rowState ||\n+            71 === rowState ||\n+            103 === rowState ||\n+            77 === rowState ||\n+            109 === rowState ||\n+            86 === rowState\n+              ? ((rowTag = rowState), (rowState = 2), i++)\n+              : (64 < rowState && 91 > rowState) ||\n+                  114 === rowState ||\n+                  120 === rowState\n+                ? ((rowTag = rowState), (rowState = 3), i++)\n+                : ((rowTag = 0), (rowState = 3));\n+            continue;\n+          case 2:\n+            lastIdx = chunk.charCodeAt(i++);\n+            44 === lastIdx\n+              ? (rowState = 4)\n+              : (rowLength =\n+                  (rowLength << 4) |\n+                  (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+            continue;\n+          case 3:\n+            lastIdx = chunk.indexOf(\"\\n\", i);\n+            break;\n+          case 4:\n+            if (84 !== rowTag)\n+              throw Error(\n+                \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+              );\n+            if (rowLength < chunk.length || chunk.length > 3 * rowLength)\n+              throw Error(\n+                \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+              );\n+            lastIdx = chunk.length;\n+        }\n+        if (-1 < lastIdx) {\n+          if (0 < buffer.length)\n+            throw Error(\n+              \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+            );\n+          i = chunk.slice(i, lastIdx);\n+          processFullStringRow(response, rowID, rowTag, i);\n+          i = lastIdx;\n+          3 === rowState && i++;\n+          rowLength = rowID = rowTag = rowState = 0;\n+          buffer.length = 0;\n+        } else if (chunk.length !== i)\n+          throw Error(\n+            \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+          );\n+      }\n+      streamState._rowState = rowState;\n+      streamState._rowID = rowID;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n+    } else processBinaryChunk(response, streamState, chunk);\n   });\n   stream.on(\"error\", function (error) {\n     reportGlobalError(response, error);"
        },
        {
            "sha": "5576dc5108c79038abedf94f248e21cc475c7c61",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.browser.development.js",
            "status": "modified",
            "additions": 228,
            "deletions": 141,
            "changes": 369,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -70,6 +70,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -876,6 +885,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1384,7 +1394,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2489,10 +2499,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2922,7 +2938,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -2981,11 +2997,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3070,7 +3086,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3135,8 +3151,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3160,86 +3175,130 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3251,14 +3310,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         scheduleWork(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3272,7 +3330,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3285,8 +3343,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3324,8 +3381,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4111,52 +4167,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -4751,6 +4810,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -4773,6 +4836,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "3eac8971f465b7343a921738c6f43038f5db9554",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.browser.production.js",
            "status": "modified",
            "additions": 45,
            "deletions": 45,
            "changes": 90,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1818,8 +1818,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1837,40 +1836,44 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n@@ -1880,8 +1883,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1899,8 +1902,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     scheduleWork(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1913,7 +1915,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1926,8 +1928,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1961,8 +1962,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "d9da829cdf6b83e6d4921b549d6d3302dfe6cdbc",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.edge.development.js",
            "status": "modified",
            "additions": 228,
            "deletions": 141,
            "changes": 369,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -74,6 +74,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -883,6 +892,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1396,7 +1406,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2560,10 +2570,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2993,7 +3009,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -3052,11 +3068,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3141,7 +3157,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3206,8 +3222,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3231,86 +3246,130 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3326,14 +3385,13 @@\n       }, 0);\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setTimeout(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3347,7 +3405,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3360,8 +3418,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3399,8 +3456,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4186,52 +4242,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -4864,6 +4923,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -4886,6 +4949,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "3217f5d0cc8fde61670d8c2000f378860ecbd2f0",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.edge.production.js",
            "status": "modified",
            "additions": 45,
            "deletions": 45,
            "changes": 90,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1819,8 +1819,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1838,40 +1837,44 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n@@ -1881,8 +1884,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1904,8 +1907,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setTimeout(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }, 0));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1918,7 +1920,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1931,8 +1933,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1966,8 +1967,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "85110c7afc6cb22d2b717e8136b7385444c85ea3",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.node.development.js",
            "status": "modified",
            "additions": 286,
            "deletions": 150,
            "changes": 436,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -41,6 +41,9 @@\n         : (obj[key] = value);\n       return obj;\n     }\n+    function flushBuffered(destination) {\n+      \"function\" === typeof destination.flush && destination.flush();\n+    }\n     function writeToDestination(destination, view) {\n       destination = destination.write(view);\n       destinationHasCapacity = destinationHasCapacity && destination;\n@@ -107,6 +110,14 @@\n                 (writtenBytes = 0))));\n       return destinationHasCapacity;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        destination.write(currentView.subarray(0, writtenBytes));\n+      currentView = null;\n+      writtenBytes = 0;\n+      destinationHasCapacity = !0;\n+    }\n     function byteLengthOfChunk(chunk) {\n       return \"string\" === typeof chunk\n         ? Buffer.byteLength(chunk, \"utf8\")\n@@ -904,6 +915,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1413,7 +1425,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2541,9 +2553,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2968,7 +2987,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -3026,11 +3045,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3120,7 +3139,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3186,8 +3205,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3211,87 +3229,134 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      destinationHasCapacity = !0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            destination.write(currentView.subarray(0, writtenBytes)),\n-          (currentView = null),\n-          (writtenBytes = 0),\n-          (destinationHasCapacity = !0);\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n       }\n-      \"function\" === typeof destination.flush && destination.flush();\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.end(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.end(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.end(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.end(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.end(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3303,14 +3368,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setImmediate(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3323,7 +3387,19 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n+        } catch (error) {\n+          logRecoverableError(request, error, null), fatalError(request, error);\n+        }\n+      }\n+    }\n+    function startFlowingDebug(request, debugDestination) {\n+      if (13 === request.status)\n+        (request.status = CLOSED), debugDestination.destroy(request.fatalError);\n+      else if (request.status !== CLOSED && null === request.debugDestination) {\n+        request.debugDestination = debugDestination;\n+        try {\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3336,8 +3412,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3375,8 +3450,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -3392,52 +3466,55 @@\n         throw Error(\n           \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n         );\n-      var command = message.charCodeAt(0);\n-      message = message.slice(2).split(\",\").map(fromHex);\n-      switch (command) {\n-        case 82:\n-          for (command = 0; command < message.length; command++) {\n-            var id = message[command],\n-              retainedValue = deferredDebugObjects.retained.get(id);\n-            void 0 !== retainedValue &&\n-              (request.pendingDebugChunks--,\n-              deferredDebugObjects.retained.delete(id),\n-              deferredDebugObjects.existing.delete(retainedValue),\n-              enqueueFlush(request));\n-          }\n-          break;\n-        case 81:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n+      if (\"\" === message) closeDebugChannel(request);\n+      else {\n+        var command = message.charCodeAt(0);\n+        message = message.slice(2).split(\",\").map(fromHex);\n+        switch (command) {\n+          case 82:\n+            for (command = 0; command < message.length; command++) {\n+              var id = message[command],\n+                retainedValue = deferredDebugObjects.retained.get(id);\n               void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n+                (request.pendingDebugChunks--,\n+                deferredDebugObjects.retained.delete(id),\n                 deferredDebugObjects.existing.delete(retainedValue),\n-                emitOutlinedDebugModelChunk(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ),\n                 enqueueFlush(request));\n-          break;\n-        case 80:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n-              void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n-                emitRequestedDebugThenable(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ));\n-          break;\n-        default:\n-          throw Error(\n-            \"Unknown command. The debugChannel was not wired up properly.\"\n-          );\n+            }\n+            break;\n+          case 81:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  deferredDebugObjects.existing.delete(retainedValue),\n+                  emitOutlinedDebugModelChunk(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ),\n+                  enqueueFlush(request));\n+            break;\n+          case 80:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  emitRequestedDebugThenable(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ));\n+            break;\n+          default:\n+            throw Error(\n+              \"Unknown command. The debugChannel was not wired up properly.\"\n+            );\n+        }\n       }\n     }\n     function closeDebugChannel(request) {\n@@ -4264,6 +4341,25 @@\n           stream.on(\"error\", onError),\n           stream.on(\"end\", onClose));\n     }\n+    function createFakeWritableFromWebSocket(webSocket) {\n+      return {\n+        write: function (chunk) {\n+          webSocket.send(chunk);\n+          return !0;\n+        },\n+        end: function () {\n+          webSocket.close();\n+        },\n+        destroy: function (reason) {\n+          \"object\" === typeof reason &&\n+            null !== reason &&\n+            (reason = reason.message);\n+          \"string\" === typeof reason\n+            ? webSocket.close(1011, reason)\n+            : webSocket.close(1011);\n+        }\n+      };\n+    }\n     function createFakeWritableFromReadableStreamController(controller) {\n       return {\n         write: function (chunk) {\n@@ -4920,12 +5016,12 @@\n             \"React doesn't accept base64 encoded file uploads because we don't expect form data passed from a browser to ever encode data that way. If that's the wrong assumption, we can easily fix it.\"\n           );\n         pendingFiles++;\n-        var JSCompiler_object_inline_chunks_219 = [];\n+        var JSCompiler_object_inline_chunks_226 = [];\n         value.on(\"data\", function (chunk) {\n-          JSCompiler_object_inline_chunks_219.push(chunk);\n+          JSCompiler_object_inline_chunks_226.push(chunk);\n         });\n         value.on(\"end\", function () {\n-          var blob = new Blob(JSCompiler_object_inline_chunks_219, {\n+          var blob = new Blob(JSCompiler_object_inline_chunks_226, {\n             type: mimeType\n           });\n           response._formData.append(name, blob, filename);\n@@ -4974,6 +5070,20 @@\n     };\n     exports.renderToPipeableStream = function (model, turbopackMap, options) {\n       var debugChannel = options ? options.debugChannel : void 0,\n+        debugChannelReadable =\n+          void 0 === debugChannel ||\n+          (\"function\" !== typeof debugChannel.read &&\n+            \"number\" !== typeof debugChannel.readyState)\n+            ? void 0\n+            : debugChannel,\n+        debugChannelWritable =\n+          void 0 !== debugChannel\n+            ? \"function\" === typeof debugChannel.write\n+              ? debugChannel\n+              : \"function\" === typeof debugChannel.send\n+                ? createFakeWritableFromWebSocket(debugChannel)\n+                : void 0\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -4987,8 +5097,10 @@\n         ),\n         hasStartedFlowing = !1;\n       startWork(request);\n-      void 0 !== debugChannel &&\n-        startReadingFromDebugChannelReadable(request, debugChannel);\n+      void 0 !== debugChannelWritable &&\n+        startFlowingDebug(request, debugChannelWritable);\n+      void 0 !== debugChannelReadable &&\n+        startReadingFromDebugChannelReadable(request, debugChannelReadable);\n       return {\n         pipe: function (destination) {\n           if (hasStartedFlowing)\n@@ -5005,10 +5117,14 @@\n               \"The destination stream errored while writing data.\"\n             )\n           );\n-          destination.on(\n-            \"close\",\n-            createCancelHandler(request, \"The destination stream closed early.\")\n-          );\n+          if (void 0 === debugChannelReadable)\n+            destination.on(\n+              \"close\",\n+              createCancelHandler(\n+                request,\n+                \"The destination stream closed early.\"\n+              )\n+            );\n           return destination;\n         },\n         abort: function (reason) {\n@@ -5021,6 +5137,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           turbopackMap,\n@@ -5043,6 +5163,22 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      if (void 0 !== debugChannelWritable) {\n+        var debugWritable;\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            start: function (controller) {\n+              debugWritable =\n+                createFakeWritableFromReadableStreamController(controller);\n+            },\n+            pull: function () {\n+              startFlowingDebug(request, debugWritable);\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n+      }\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "33763731749e1c842982890f8acbe03e23d163a1",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.node.production.js",
            "status": "modified",
            "additions": 68,
            "deletions": 69,
            "changes": 137,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1829,8 +1829,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1848,65 +1847,68 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  destinationHasCapacity = !0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, importsChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, regularChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, errorChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        destination.write(currentView.subarray(0, writtenBytes)),\n-      (currentView = null),\n-      (writtenBytes = 0),\n-      (destinationHasCapacity = !0);\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    destinationHasCapacity = !0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, importsChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        if (!writeChunkAndReturn(destination, hintChunks[i])) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, regularChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, errorChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          destination.write(currentView.subarray(0, writtenBytes)),\n+        (currentView = null),\n+        (writtenBytes = 0),\n+        (destinationHasCapacity = !0);\n+    }\n+    \"function\" === typeof destination.flush && destination.flush();\n   }\n-  \"function\" === typeof destination.flush && destination.flush();\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n       request.cacheController.abort(\n@@ -1915,8 +1917,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.end(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.end(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1934,8 +1936,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setImmediate(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1948,7 +1949,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1961,8 +1962,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1996,8 +1996,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "cda8dea5a7a95fff44055d285dc975f99e9b5096",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -48,7 +48,7 @@\n     \"neo-async\": \"^2.6.1\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"19.2.0-canary-96c61b7f-20250709\",\n-    \"react-dom\": \"19.2.0-canary-96c61b7f-20250709\"\n+    \"react\": \"19.2.0-canary-97cdd5d3-20250710\",\n+    \"react-dom\": \"19.2.0-canary-97cdd5d3-20250710\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "0e4ea8a19f038219eb51ac7de5e6d53e72109eae",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.browser.development.js",
            "status": "modified",
            "additions": 240,
            "deletions": 94,
            "changes": 334,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2319,8 +2319,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2351,6 +2349,15 @@\n       replayConsole && markAllTracksInOrder();\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -3721,6 +3728,96 @@\n             : resolveModel(response, id, row);\n       }\n     }\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n+      if (void 0 !== weakResponse.weak.deref()) {\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n+        for (\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n+            chunkLength = chunk.length;\n+          i < chunkLength;\n+\n+        ) {\n+          var lastIdx = -1;\n+          switch (rowState) {\n+            case 0:\n+              lastIdx = chunk[i++];\n+              58 === lastIdx\n+                ? (rowState = 1)\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 1:\n+              rowState = chunk[i];\n+              84 === rowState ||\n+              65 === rowState ||\n+              79 === rowState ||\n+              111 === rowState ||\n+              85 === rowState ||\n+              83 === rowState ||\n+              115 === rowState ||\n+              76 === rowState ||\n+              108 === rowState ||\n+              71 === rowState ||\n+              103 === rowState ||\n+              77 === rowState ||\n+              109 === rowState ||\n+              86 === rowState\n+                ? ((rowTag = rowState), (rowState = 2), i++)\n+                : (64 < rowState && 91 > rowState) ||\n+                    35 === rowState ||\n+                    114 === rowState ||\n+                    120 === rowState\n+                  ? ((rowTag = rowState), (rowState = 3), i++)\n+                  : ((rowTag = 0), (rowState = 3));\n+              continue;\n+            case 2:\n+              lastIdx = chunk[i++];\n+              44 === lastIdx\n+                ? (rowState = 4)\n+                : (rowLength =\n+                    (rowLength << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 3:\n+              lastIdx = chunk.indexOf(10, i);\n+              break;\n+            case 4:\n+              (lastIdx = i + rowLength),\n+                lastIdx > chunk.length && (lastIdx = -1);\n+          }\n+          var offset = chunk.byteOffset + i;\n+          if (-1 < lastIdx)\n+            (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n+              processFullBinaryRow(\n+                response,\n+                weakResponse,\n+                rowTag,\n+                buffer,\n+                rowLength\n+              ),\n+              (i = lastIdx),\n+              3 === rowState && i++,\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n+              (buffer.length = 0);\n+          else {\n+            chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+            buffer.push(chunk);\n+            rowLength -= chunk.byteLength;\n+            break;\n+          }\n+        }\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n+      }\n+    }\n     function createFromJSONCallback(response) {\n       return function (key, value) {\n         if (\"string\" === typeof value)\n@@ -3801,6 +3898,9 @@\n         return value;\n       };\n     }\n+    function close(weakResponse) {\n+      reportGlobalError(weakResponse, Error(\"Connection closed.\"));\n+    }\n     function createDebugCallbackFromWritableStream(debugWritable) {\n       var textEncoder = new TextEncoder(),\n         writer = debugWritable.getWriter();\n@@ -3835,104 +3935,138 @@\n         debugChannel\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromUniversalStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done) close(response$jscomp$0);\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n-            for (\n-              var i = 0,\n-                rowState = _ref._rowState,\n-                rowID = _ref._rowID,\n-                rowTag = _ref._rowTag,\n-                rowLength = _ref._rowLength,\n-                buffer = _ref._buffer,\n-                chunkLength = value.length;\n-              i < chunkLength;\n-\n+          if (value instanceof ArrayBuffer)\n+            processBinaryChunk(\n+              response$jscomp$0,\n+              streamState,\n+              new Uint8Array(value)\n+            );\n+          else if (\"string\" === typeof value) {\n+            if (\n+              ((_ref = streamState), void 0 !== response$jscomp$0.weak.deref())\n             ) {\n-              var lastIdx = -1;\n-              switch (rowState) {\n-                case 0:\n-                  lastIdx = value[i++];\n-                  58 === lastIdx\n-                    ? (rowState = 1)\n-                    : (rowID =\n-                        (rowID << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 1:\n-                  rowState = value[i];\n-                  84 === rowState ||\n-                  65 === rowState ||\n-                  79 === rowState ||\n-                  111 === rowState ||\n-                  85 === rowState ||\n-                  83 === rowState ||\n-                  115 === rowState ||\n-                  76 === rowState ||\n-                  108 === rowState ||\n-                  71 === rowState ||\n-                  103 === rowState ||\n-                  77 === rowState ||\n-                  109 === rowState ||\n-                  86 === rowState\n-                    ? ((rowTag = rowState), (rowState = 2), i++)\n-                    : (64 < rowState && 91 > rowState) ||\n-                        35 === rowState ||\n-                        114 === rowState ||\n-                        120 === rowState\n-                      ? ((rowTag = rowState), (rowState = 3), i++)\n-                      : ((rowTag = 0), (rowState = 3));\n-                  continue;\n-                case 2:\n-                  lastIdx = value[i++];\n-                  44 === lastIdx\n-                    ? (rowState = 4)\n-                    : (rowLength =\n-                        (rowLength << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 3:\n-                  lastIdx = value.indexOf(10, i);\n-                  break;\n-                case 4:\n-                  (lastIdx = i + rowLength),\n-                    lastIdx > value.length && (lastIdx = -1);\n-              }\n-              var offset = value.byteOffset + i;\n-              if (-1 < lastIdx)\n-                (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n-                  (i = lastIdx),\n-                  3 === rowState && i++,\n-                  (rowLength = rowID = rowTag = rowState = 0),\n-                  (buffer.length = 0);\n-              else {\n-                value = new Uint8Array(\n-                  value.buffer,\n-                  offset,\n-                  value.byteLength - i\n-                );\n-                buffer.push(value);\n-                rowLength -= value.byteLength;\n-                break;\n+              for (\n+                var response = unwrapWeakResponse(response$jscomp$0),\n+                  i = 0,\n+                  rowState = _ref._rowState,\n+                  rowID = _ref._rowID,\n+                  rowTag = _ref._rowTag,\n+                  rowLength = _ref._rowLength,\n+                  buffer = _ref._buffer,\n+                  chunkLength = value.length;\n+                i < chunkLength;\n+\n+              ) {\n+                var lastIdx = -1;\n+                switch (rowState) {\n+                  case 0:\n+                    lastIdx = value.charCodeAt(i++);\n+                    58 === lastIdx\n+                      ? (rowState = 1)\n+                      : (rowID =\n+                          (rowID << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 1:\n+                    rowState = value.charCodeAt(i);\n+                    84 === rowState ||\n+                    65 === rowState ||\n+                    79 === rowState ||\n+                    111 === rowState ||\n+                    85 === rowState ||\n+                    83 === rowState ||\n+                    115 === rowState ||\n+                    76 === rowState ||\n+                    108 === rowState ||\n+                    71 === rowState ||\n+                    103 === rowState ||\n+                    77 === rowState ||\n+                    109 === rowState ||\n+                    86 === rowState\n+                      ? ((rowTag = rowState), (rowState = 2), i++)\n+                      : (64 < rowState && 91 > rowState) ||\n+                          114 === rowState ||\n+                          120 === rowState\n+                        ? ((rowTag = rowState), (rowState = 3), i++)\n+                        : ((rowTag = 0), (rowState = 3));\n+                    continue;\n+                  case 2:\n+                    lastIdx = value.charCodeAt(i++);\n+                    44 === lastIdx\n+                      ? (rowState = 4)\n+                      : (rowLength =\n+                          (rowLength << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 3:\n+                    lastIdx = value.indexOf(\"\\n\", i);\n+                    break;\n+                  case 4:\n+                    if (84 !== rowTag)\n+                      throw Error(\n+                        \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    if (\n+                      rowLength < value.length ||\n+                      value.length > 3 * rowLength\n+                    )\n+                      throw Error(\n+                        \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    lastIdx = value.length;\n+                }\n+                if (-1 < lastIdx) {\n+                  if (0 < buffer.length)\n+                    throw Error(\n+                      \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  i = value.slice(i, lastIdx);\n+                  processFullStringRow(response, rowID, rowTag, i);\n+                  i = lastIdx;\n+                  3 === rowState && i++;\n+                  rowLength = rowID = rowTag = rowState = 0;\n+                  buffer.length = 0;\n+                } else if (value.length !== i)\n+                  throw Error(\n+                    \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                  );\n               }\n+              _ref._rowState = rowState;\n+              _ref._rowID = rowID;\n+              _ref._rowTag = rowTag;\n+              _ref._rowLength = rowLength;\n             }\n-            _ref._rowState = rowState;\n-            _ref._rowID = rowID;\n-            _ref._rowTag = rowTag;\n-            _ref._rowLength = rowLength;\n-          }\n+          } else processBinaryChunk(response$jscomp$0, streamState, value);\n           return reader.read().then(progress).catch(error);\n         }\n       }\n+      function error(e) {\n+        reportGlobalError(response$jscomp$0, e);\n+      }\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n+      reader.read().then(progress).catch(error);\n+    }\n+    function startReadingFromStream(response, stream, isSecondaryStream) {\n+      function progress(_ref2) {\n+        var value = _ref2.value;\n+        if (_ref2.done) isSecondaryStream || close(response);\n+        else\n+          return (\n+            processBinaryChunk(response, streamState, value),\n+            reader.read().then(progress).catch(error)\n+          );\n+      }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var React = require(\"react\"),\n@@ -4155,10 +4289,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.2.0-experimental-96c61b7f-20250709\",\n+      version: \"19.2.0-experimental-97cdd5d3-20250710\",\n       rendererPackageName: \"react-server-dom-webpack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.2.0-experimental-96c61b7f-20250709\",\n+      reconcilerVersion: \"19.2.0-experimental-97cdd5d3-20250710\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }\n@@ -4167,7 +4301,13 @@\n       var response = createResponseFromOptions(options);\n       promiseForResponse.then(\n         function (r) {\n-          startReadingFromStream(response, r.body);\n+          options && options.debugChannel && options.debugChannel.readable\n+            ? (startReadingFromUniversalStream(\n+                response,\n+                options.debugChannel.readable\n+              ),\n+              startReadingFromStream(response, r.body, !0))\n+            : startReadingFromStream(response, r.body, !1);\n         },\n         function (e) {\n           reportGlobalError(response, e);\n@@ -4176,9 +4316,15 @@\n       return getRoot(response);\n     };\n     exports.createFromReadableStream = function (stream, options) {\n-      options = createResponseFromOptions(options);\n-      startReadingFromStream(options, stream);\n-      return getRoot(options);\n+      var response = createResponseFromOptions(options);\n+      options && options.debugChannel && options.debugChannel.readable\n+        ? (startReadingFromUniversalStream(\n+            response,\n+            options.debugChannel.readable\n+          ),\n+          startReadingFromStream(response, stream, !0))\n+        : startReadingFromStream(response, stream, !1);\n+      return getRoot(response);\n     };\n     exports.createServerReference = function (\n       id,"
        },
        {
            "sha": "0ff0c37df1f305ff67c6a8b35bfa5a258823df85",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.browser.production.js",
            "status": "modified",
            "additions": 29,
            "deletions": 22,
            "changes": 51,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1204,8 +1204,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1681,18 +1679,20 @@ function createResponseFromOptions(options) {\n       : void 0\n   );\n }\n-function startReadingFromStream(response, stream) {\n-  function progress(_ref) {\n-    var value = _ref.value;\n-    if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+function startReadingFromStream(response, stream, isSecondaryStream) {\n+  function progress(_ref2) {\n+    var value = _ref2.value;\n+    if (_ref2.done)\n+      isSecondaryStream ||\n+        reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref2 = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1703,8 +1703,8 @@ function startReadingFromStream(response, stream) {\n             lastIdx = value[i++];\n             58 === lastIdx\n               ? (rowState = 1)\n-              : (_ref =\n-                  (_ref << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              : (_ref2 =\n+                  (_ref2 << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n             continue;\n           case 1:\n             rowState = value[i];\n@@ -1747,10 +1747,10 @@ function startReadingFromStream(response, stream) {\n         var offset = value.byteOffset + i;\n         if (-1 < lastIdx)\n           (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-            processFullBinaryRow(response, _ref, rowTag, buffer, rowLength),\n+            processFullBinaryRow(response, _ref2, rowTag, buffer, rowLength),\n             (i = lastIdx),\n             3 === rowState && i++,\n-            (rowLength = _ref = rowTag = rowState = 0),\n+            (rowLength = _ref2 = rowTag = rowState = 0),\n             (buffer.length = 0);\n         else {\n           value = new Uint8Array(value.buffer, offset, value.byteLength - i);\n@@ -1759,24 +1759,31 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref2;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {\n   var response = createResponseFromOptions(options);\n   promiseForResponse.then(\n     function (r) {\n-      startReadingFromStream(response, r.body);\n+      startReadingFromStream(response, r.body, !1);\n     },\n     function (e) {\n       reportGlobalError(response, e);\n@@ -1786,7 +1793,7 @@ exports.createFromFetch = function (promiseForResponse, options) {\n };\n exports.createFromReadableStream = function (stream, options) {\n   options = createResponseFromOptions(options);\n-  startReadingFromStream(options, stream);\n+  startReadingFromStream(options, stream, !1);\n   return getChunk(options, 0);\n };\n exports.createServerReference = function (id, callServer) {"
        },
        {
            "sha": "073de3d5382616d777d6c722b091c533fde9974b",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.edge.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 10,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2533,8 +2533,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -4042,15 +4040,17 @@\n         void 0\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done)\n+          reportGlobalError(response$jscomp$0, Error(\"Connection closed.\"));\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n+          _ref = streamState;\n+          if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n-              var i = 0,\n+              var response = unwrapWeakResponse(response$jscomp$0),\n+                i = 0,\n                 rowState = _ref._rowState,\n                 rowID = _ref._rowID,\n                 rowTag = _ref._rowTag,\n@@ -4112,7 +4112,13 @@\n               var offset = value.byteOffset + i;\n               if (-1 < lastIdx)\n                 (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n+                  processFullBinaryRow(\n+                    response,\n+                    rowID,\n+                    rowTag,\n+                    buffer,\n+                    rowLength\n+                  ),\n                   (i = lastIdx),\n                   3 === rowState && i++,\n                   (rowLength = rowID = rowTag = rowState = 0),\n@@ -4137,9 +4143,16 @@\n         }\n       }\n       function error(e) {\n-        reportGlobalError(response, e);\n+        reportGlobalError(response$jscomp$0, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = {\n+          _rowState: 0,\n+          _rowID: 0,\n+          _rowTag: 0,\n+          _rowLength: 0,\n+          _buffer: []\n+        },\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var ReactDOM = require(\"react-dom\"),"
        },
        {
            "sha": "e77e20b8d990a6008584f60090decf321e0a360f",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.edge.production.js",
            "status": "modified",
            "additions": 17,
            "deletions": 12,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1379,8 +1379,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1872,12 +1870,12 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1944,17 +1942,24 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {"
        },
        {
            "sha": "c502d4235ff647b50d169a5ec6b09e02b058b9b8",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.node.development.js",
            "status": "modified",
            "additions": 53,
            "deletions": 42,
            "changes": 95,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2533,8 +2533,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new util.TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2565,6 +2563,15 @@\n       replayConsole && markAllTracksInOrder();\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -3940,16 +3947,16 @@\n             : resolveModel(response, id, row);\n       }\n     }\n-    function processBinaryChunk(weakResponse, chunk) {\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n       if (void 0 !== weakResponse.weak.deref()) {\n-        weakResponse = unwrapWeakResponse(weakResponse);\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n         for (\n-          var i = 0,\n-            rowState = weakResponse._rowState,\n-            rowID = weakResponse._rowID,\n-            rowTag = weakResponse._rowTag,\n-            rowLength = weakResponse._rowLength,\n-            buffer = weakResponse._buffer,\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n             chunkLength = chunk.length;\n           i < chunkLength;\n \n@@ -3960,8 +3967,8 @@\n               lastIdx = chunk[i++];\n               58 === lastIdx\n                 ? (rowState = 1)\n-                : (rowID =\n-                    (rowID << 4) |\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n                     (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n               continue;\n             case 1:\n@@ -4007,15 +4014,15 @@\n           if (-1 < lastIdx)\n             (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n               processFullBinaryRow(\n+                response,\n                 weakResponse,\n-                rowID,\n                 rowTag,\n                 buffer,\n                 rowLength\n               ),\n               (i = lastIdx),\n               3 === rowState && i++,\n-              (rowLength = rowID = rowTag = rowState = 0),\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n               (buffer.length = 0);\n           else {\n             chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n@@ -4024,10 +4031,10 @@\n             break;\n           }\n         }\n-        weakResponse._rowState = rowState;\n-        weakResponse._rowID = rowID;\n-        weakResponse._rowTag = rowTag;\n-        weakResponse._rowLength = rowLength;\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n       }\n     }\n     function createFromJSONCallback(response) {\n@@ -4141,14 +4148,15 @@\n         if (_ref.done) close(response);\n         else\n           return (\n-            processBinaryChunk(response, value),\n+            processBinaryChunk(response, streamState, value),\n             reader.read().then(progress).catch(error)\n           );\n       }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     function noServerCall() {\n@@ -4378,29 +4386,32 @@\n       options\n     ) {\n       var response$jscomp$0 = new ResponseInstance(\n-        serverConsumerManifest.moduleMap,\n-        serverConsumerManifest.serverModuleMap,\n-        serverConsumerManifest.moduleLoading,\n-        noServerCall,\n-        options ? options.encodeFormAction : void 0,\n-        options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-        void 0,\n-        options && options.findSourceMapURL ? options.findSourceMapURL : void 0,\n-        options ? !0 === options.replayConsoleLogs : !1,\n-        options && options.environmentName ? options.environmentName : void 0,\n-        void 0\n-      )._weakResponse;\n+          serverConsumerManifest.moduleMap,\n+          serverConsumerManifest.serverModuleMap,\n+          serverConsumerManifest.moduleLoading,\n+          noServerCall,\n+          options ? options.encodeFormAction : void 0,\n+          options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+          void 0,\n+          options && options.findSourceMapURL\n+            ? options.findSourceMapURL\n+            : void 0,\n+          options ? !0 === options.replayConsoleLogs : !1,\n+          options && options.environmentName ? options.environmentName : void 0,\n+          void 0\n+        )._weakResponse,\n+        streamState = createStreamState();\n       stream.on(\"data\", function (chunk) {\n         if (\"string\" === typeof chunk) {\n           if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n               var response = unwrapWeakResponse(response$jscomp$0),\n                 i = 0,\n-                rowState = response._rowState,\n-                rowID = response._rowID,\n-                rowTag = response._rowTag,\n-                rowLength = response._rowLength,\n-                buffer = response._buffer,\n+                rowState = streamState._rowState,\n+                rowID = streamState._rowID,\n+                rowTag = streamState._rowTag,\n+                rowLength = streamState._rowLength,\n+                buffer = streamState._buffer,\n                 chunkLength = chunk.length;\n               i < chunkLength;\n \n@@ -4476,12 +4487,12 @@\n                   \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n                 );\n             }\n-            response._rowState = rowState;\n-            response._rowID = rowID;\n-            response._rowTag = rowTag;\n-            response._rowLength = rowLength;\n+            streamState._rowState = rowState;\n+            streamState._rowID = rowID;\n+            streamState._rowTag = rowTag;\n+            streamState._rowLength = rowLength;\n           }\n-        } else processBinaryChunk(response$jscomp$0, chunk);\n+        } else processBinaryChunk(response$jscomp$0, streamState, chunk);\n       });\n       stream.on(\"error\", function (error) {\n         reportGlobalError(response$jscomp$0, error);"
        },
        {
            "sha": "53672a3f2fb1eef0151257608dcc78f90f107586",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.node.production.js",
            "status": "modified",
            "additions": 38,
            "deletions": 35,
            "changes": 73,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1380,13 +1380,14 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new util.TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n   this._fromJSON = createFromJSONCallback(this);\n }\n+function createStreamState() {\n+  return { _rowState: 0, _rowID: 0, _rowTag: 0, _rowLength: 0, _buffer: [] };\n+}\n function resolveBuffer(response, id, buffer) {\n   response = response._chunks;\n   var chunk = response.get(id);\n@@ -1816,14 +1817,14 @@ function processFullStringRow(response, id, tag, row) {\n           : tag.set(id, new ReactPromise(\"resolved_model\", row, response));\n   }\n }\n-function processBinaryChunk(weakResponse, chunk) {\n+function processBinaryChunk(weakResponse, streamState, chunk) {\n   for (\n     var i = 0,\n-      rowState = weakResponse._rowState,\n-      rowID = weakResponse._rowID,\n-      rowTag = weakResponse._rowTag,\n-      rowLength = weakResponse._rowLength,\n-      buffer = weakResponse._buffer,\n+      rowState = streamState._rowState,\n+      rowID = streamState._rowID,\n+      rowTag = streamState._rowTag,\n+      rowLength = streamState._rowLength,\n+      buffer = streamState._buffer,\n       chunkLength = chunk.length;\n     i < chunkLength;\n \n@@ -1883,16 +1884,16 @@ function processBinaryChunk(weakResponse, chunk) {\n         (rowLength = rowID = rowTag = rowState = 0),\n         (buffer.length = 0);\n     else {\n-      chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n-      buffer.push(chunk);\n-      rowLength -= chunk.byteLength;\n+      weakResponse = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+      buffer.push(weakResponse);\n+      rowLength -= weakResponse.byteLength;\n       break;\n     }\n   }\n-  weakResponse._rowState = rowState;\n-  weakResponse._rowID = rowID;\n-  weakResponse._rowTag = rowTag;\n-  weakResponse._rowLength = rowLength;\n+  streamState._rowState = rowState;\n+  streamState._rowID = rowID;\n+  streamState._rowTag = rowTag;\n+  streamState._rowLength = rowLength;\n }\n function createFromJSONCallback(response) {\n   return function (key, value) {\n@@ -1956,14 +1957,15 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) close(response);\n     else\n       return (\n-        processBinaryChunk(response, value),\n+        processBinaryChunk(response, streamState, value),\n         reader.read().then(progress).catch(error)\n       );\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = createStreamState(),\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n function noServerCall() {\n@@ -1989,23 +1991,24 @@ exports.createFromNodeStream = function (\n   options\n ) {\n   var response = new ResponseInstance(\n-    serverConsumerManifest.moduleMap,\n-    serverConsumerManifest.serverModuleMap,\n-    serverConsumerManifest.moduleLoading,\n-    noServerCall,\n-    options ? options.encodeFormAction : void 0,\n-    options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-    void 0\n-  );\n+      serverConsumerManifest.moduleMap,\n+      serverConsumerManifest.serverModuleMap,\n+      serverConsumerManifest.moduleLoading,\n+      noServerCall,\n+      options ? options.encodeFormAction : void 0,\n+      options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+      void 0\n+    ),\n+    streamState = createStreamState();\n   stream.on(\"data\", function (chunk) {\n     if (\"string\" === typeof chunk) {\n       for (\n         var i = 0,\n-          rowState = response._rowState,\n-          rowID = response._rowID,\n-          rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+          rowState = streamState._rowState,\n+          rowID = streamState._rowID,\n+          rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = chunk.length;\n         i < chunkLength;\n \n@@ -2080,11 +2083,11 @@ exports.createFromNodeStream = function (\n             \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n           );\n       }\n-      response._rowState = rowState;\n-      response._rowID = rowID;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n-    } else processBinaryChunk(response, chunk);\n+      streamState._rowState = rowState;\n+      streamState._rowID = rowID;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n+    } else processBinaryChunk(response, streamState, chunk);\n   });\n   stream.on(\"error\", function (error) {\n     reportGlobalError(response, error);"
        },
        {
            "sha": "c0fa3b82fe796f1282e3536f043b791e8560df1d",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.node.unbundled.development.js",
            "status": "modified",
            "additions": 53,
            "deletions": 42,
            "changes": 95,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2495,8 +2495,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new util.TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2527,6 +2525,15 @@\n       replayConsole && markAllTracksInOrder();\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -3902,16 +3909,16 @@\n             : resolveModel(response, id, row);\n       }\n     }\n-    function processBinaryChunk(weakResponse, chunk) {\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n       if (void 0 !== weakResponse.weak.deref()) {\n-        weakResponse = unwrapWeakResponse(weakResponse);\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n         for (\n-          var i = 0,\n-            rowState = weakResponse._rowState,\n-            rowID = weakResponse._rowID,\n-            rowTag = weakResponse._rowTag,\n-            rowLength = weakResponse._rowLength,\n-            buffer = weakResponse._buffer,\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n             chunkLength = chunk.length;\n           i < chunkLength;\n \n@@ -3922,8 +3929,8 @@\n               lastIdx = chunk[i++];\n               58 === lastIdx\n                 ? (rowState = 1)\n-                : (rowID =\n-                    (rowID << 4) |\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n                     (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n               continue;\n             case 1:\n@@ -3969,15 +3976,15 @@\n           if (-1 < lastIdx)\n             (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n               processFullBinaryRow(\n+                response,\n                 weakResponse,\n-                rowID,\n                 rowTag,\n                 buffer,\n                 rowLength\n               ),\n               (i = lastIdx),\n               3 === rowState && i++,\n-              (rowLength = rowID = rowTag = rowState = 0),\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n               (buffer.length = 0);\n           else {\n             chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n@@ -3986,10 +3993,10 @@\n             break;\n           }\n         }\n-        weakResponse._rowState = rowState;\n-        weakResponse._rowID = rowID;\n-        weakResponse._rowTag = rowTag;\n-        weakResponse._rowLength = rowLength;\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n       }\n     }\n     function createFromJSONCallback(response) {\n@@ -4103,14 +4110,15 @@\n         if (_ref.done) close(response);\n         else\n           return (\n-            processBinaryChunk(response, value),\n+            processBinaryChunk(response, streamState, value),\n             reader.read().then(progress).catch(error)\n           );\n       }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     function noServerCall() {\n@@ -4340,29 +4348,32 @@\n       options\n     ) {\n       var response$jscomp$0 = new ResponseInstance(\n-        serverConsumerManifest.moduleMap,\n-        serverConsumerManifest.serverModuleMap,\n-        serverConsumerManifest.moduleLoading,\n-        noServerCall,\n-        options ? options.encodeFormAction : void 0,\n-        options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-        void 0,\n-        options && options.findSourceMapURL ? options.findSourceMapURL : void 0,\n-        options ? !0 === options.replayConsoleLogs : !1,\n-        options && options.environmentName ? options.environmentName : void 0,\n-        void 0\n-      )._weakResponse;\n+          serverConsumerManifest.moduleMap,\n+          serverConsumerManifest.serverModuleMap,\n+          serverConsumerManifest.moduleLoading,\n+          noServerCall,\n+          options ? options.encodeFormAction : void 0,\n+          options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+          void 0,\n+          options && options.findSourceMapURL\n+            ? options.findSourceMapURL\n+            : void 0,\n+          options ? !0 === options.replayConsoleLogs : !1,\n+          options && options.environmentName ? options.environmentName : void 0,\n+          void 0\n+        )._weakResponse,\n+        streamState = createStreamState();\n       stream.on(\"data\", function (chunk) {\n         if (\"string\" === typeof chunk) {\n           if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n               var response = unwrapWeakResponse(response$jscomp$0),\n                 i = 0,\n-                rowState = response._rowState,\n-                rowID = response._rowID,\n-                rowTag = response._rowTag,\n-                rowLength = response._rowLength,\n-                buffer = response._buffer,\n+                rowState = streamState._rowState,\n+                rowID = streamState._rowID,\n+                rowTag = streamState._rowTag,\n+                rowLength = streamState._rowLength,\n+                buffer = streamState._buffer,\n                 chunkLength = chunk.length;\n               i < chunkLength;\n \n@@ -4438,12 +4449,12 @@\n                   \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n                 );\n             }\n-            response._rowState = rowState;\n-            response._rowID = rowID;\n-            response._rowTag = rowTag;\n-            response._rowLength = rowLength;\n+            streamState._rowState = rowState;\n+            streamState._rowID = rowID;\n+            streamState._rowTag = rowTag;\n+            streamState._rowLength = rowLength;\n           }\n-        } else processBinaryChunk(response$jscomp$0, chunk);\n+        } else processBinaryChunk(response$jscomp$0, streamState, chunk);\n       });\n       stream.on(\"error\", function (error) {\n         reportGlobalError(response$jscomp$0, error);"
        },
        {
            "sha": "f69d75416d50e6fcff10a4d9e6e56c4a6030cc49",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.node.unbundled.production.js",
            "status": "modified",
            "additions": 38,
            "deletions": 35,
            "changes": 73,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1345,13 +1345,14 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new util.TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n   this._fromJSON = createFromJSONCallback(this);\n }\n+function createStreamState() {\n+  return { _rowState: 0, _rowID: 0, _rowTag: 0, _rowLength: 0, _buffer: [] };\n+}\n function resolveBuffer(response, id, buffer) {\n   response = response._chunks;\n   var chunk = response.get(id);\n@@ -1781,14 +1782,14 @@ function processFullStringRow(response, id, tag, row) {\n           : tag.set(id, new ReactPromise(\"resolved_model\", row, response));\n   }\n }\n-function processBinaryChunk(weakResponse, chunk) {\n+function processBinaryChunk(weakResponse, streamState, chunk) {\n   for (\n     var i = 0,\n-      rowState = weakResponse._rowState,\n-      rowID = weakResponse._rowID,\n-      rowTag = weakResponse._rowTag,\n-      rowLength = weakResponse._rowLength,\n-      buffer = weakResponse._buffer,\n+      rowState = streamState._rowState,\n+      rowID = streamState._rowID,\n+      rowTag = streamState._rowTag,\n+      rowLength = streamState._rowLength,\n+      buffer = streamState._buffer,\n       chunkLength = chunk.length;\n     i < chunkLength;\n \n@@ -1848,16 +1849,16 @@ function processBinaryChunk(weakResponse, chunk) {\n         (rowLength = rowID = rowTag = rowState = 0),\n         (buffer.length = 0);\n     else {\n-      chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n-      buffer.push(chunk);\n-      rowLength -= chunk.byteLength;\n+      weakResponse = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+      buffer.push(weakResponse);\n+      rowLength -= weakResponse.byteLength;\n       break;\n     }\n   }\n-  weakResponse._rowState = rowState;\n-  weakResponse._rowID = rowID;\n-  weakResponse._rowTag = rowTag;\n-  weakResponse._rowLength = rowLength;\n+  streamState._rowState = rowState;\n+  streamState._rowID = rowID;\n+  streamState._rowTag = rowTag;\n+  streamState._rowLength = rowLength;\n }\n function createFromJSONCallback(response) {\n   return function (key, value) {\n@@ -1921,14 +1922,15 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) close(response);\n     else\n       return (\n-        processBinaryChunk(response, value),\n+        processBinaryChunk(response, streamState, value),\n         reader.read().then(progress).catch(error)\n       );\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = createStreamState(),\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n function noServerCall() {\n@@ -1954,23 +1956,24 @@ exports.createFromNodeStream = function (\n   options\n ) {\n   var response = new ResponseInstance(\n-    serverConsumerManifest.moduleMap,\n-    serverConsumerManifest.serverModuleMap,\n-    serverConsumerManifest.moduleLoading,\n-    noServerCall,\n-    options ? options.encodeFormAction : void 0,\n-    options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-    void 0\n-  );\n+      serverConsumerManifest.moduleMap,\n+      serverConsumerManifest.serverModuleMap,\n+      serverConsumerManifest.moduleLoading,\n+      noServerCall,\n+      options ? options.encodeFormAction : void 0,\n+      options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+      void 0\n+    ),\n+    streamState = createStreamState();\n   stream.on(\"data\", function (chunk) {\n     if (\"string\" === typeof chunk) {\n       for (\n         var i = 0,\n-          rowState = response._rowState,\n-          rowID = response._rowID,\n-          rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+          rowState = streamState._rowState,\n+          rowID = streamState._rowID,\n+          rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = chunk.length;\n         i < chunkLength;\n \n@@ -2045,11 +2048,11 @@ exports.createFromNodeStream = function (\n             \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n           );\n       }\n-      response._rowState = rowState;\n-      response._rowID = rowID;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n-    } else processBinaryChunk(response, chunk);\n+      streamState._rowState = rowState;\n+      streamState._rowID = rowID;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n+    } else processBinaryChunk(response, streamState, chunk);\n   });\n   stream.on(\"error\", function (error) {\n     reportGlobalError(response, error);"
        },
        {
            "sha": "30a9d398c264cba0a855d10c2f701ecedb412394",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.browser.development.js",
            "status": "modified",
            "additions": 241,
            "deletions": 149,
            "changes": 390,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -70,6 +70,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -897,6 +906,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1441,7 +1451,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2617,10 +2627,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3068,7 +3084,7 @@\n           markOperationEndTime(request$jscomp$1, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$1, info),\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3127,11 +3143,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != request && (ioInfo.stack = request);\n-            request$jscomp$1.pendingDebugChunks++;\n+            request$jscomp$1.pendingChunks++;\n             emitDebugChunk(request$jscomp$1, id, ioInfo);\n           }\n         } else\n-          request$jscomp$1.pendingDebugChunks++,\n+          request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n       }\n     }\n@@ -3151,11 +3167,17 @@\n         forwardDebugInfo(request, task, model);\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function markOperationEndTime(request, task, timestamp) {\n       (request.status === ABORTING && timestamp > request.abortTime) ||\n@@ -3249,7 +3271,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3321,8 +3343,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3350,87 +3371,131 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3442,14 +3507,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         scheduleWork(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3463,7 +3527,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3476,8 +3540,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3489,8 +3552,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3554,8 +3616,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4348,52 +4409,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -5004,6 +5068,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -5026,6 +5094,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "c1f01972e519ca2a1e1cc9686b36e50d3fdfd81c",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.browser.production.js",
            "status": "modified",
            "additions": 46,
            "deletions": 47,
            "changes": 93,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1925,8 +1925,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1950,40 +1949,44 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n@@ -1994,8 +1997,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2013,8 +2016,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     scheduleWork(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2027,7 +2029,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2040,8 +2042,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2053,8 +2054,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2117,8 +2117,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "ab2c77929ecd5a49461b891c5c0033266433662b",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.edge.development.js",
            "status": "modified",
            "additions": 241,
            "deletions": 149,
            "changes": 390,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -74,6 +74,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -904,6 +913,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1453,7 +1463,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2699,10 +2709,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3150,7 +3166,7 @@\n           markOperationEndTime(request$jscomp$1, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$1, info),\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3209,11 +3225,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != request && (ioInfo.stack = request);\n-            request$jscomp$1.pendingDebugChunks++;\n+            request$jscomp$1.pendingChunks++;\n             emitDebugChunk(request$jscomp$1, id, ioInfo);\n           }\n         } else\n-          request$jscomp$1.pendingDebugChunks++,\n+          request$jscomp$1.pendingChunks++,\n             emitDebugChunk(request$jscomp$1, id, info);\n       }\n     }\n@@ -3233,11 +3249,17 @@\n         forwardDebugInfo(request, task, model);\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function markOperationEndTime(request, task, timestamp) {\n       (request.status === ABORTING && timestamp > request.abortTime) ||\n@@ -3331,7 +3353,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3403,8 +3425,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3432,87 +3453,131 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3528,14 +3593,13 @@\n       }, 0);\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setTimeout(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3549,7 +3613,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3562,8 +3626,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3575,8 +3638,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3640,8 +3702,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4430,52 +4491,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -5116,6 +5180,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -5138,6 +5206,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "15e6da2c14bd143b1e5cb9b582f3df94907969a3",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.edge.production.js",
            "status": "modified",
            "additions": 46,
            "deletions": 47,
            "changes": 93,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1928,8 +1928,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1953,40 +1952,44 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n@@ -1997,8 +2000,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2020,8 +2023,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setTimeout(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }, 0));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2034,7 +2036,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2047,8 +2049,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2060,8 +2061,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2124,8 +2124,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "72786e856f5fa7511ad750e4c413b77e33fc3468",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.node.development.js",
            "status": "modified",
            "additions": 303,
            "deletions": 162,
            "changes": 465,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -41,6 +41,9 @@\n         : (obj[key] = value);\n       return obj;\n     }\n+    function flushBuffered(destination) {\n+      \"function\" === typeof destination.flush && destination.flush();\n+    }\n     function writeToDestination(destination, view) {\n       destination = destination.write(view);\n       destinationHasCapacity = destinationHasCapacity && destination;\n@@ -107,6 +110,14 @@\n                 (writtenBytes = 0))));\n       return destinationHasCapacity;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        destination.write(currentView.subarray(0, writtenBytes));\n+      currentView = null;\n+      writtenBytes = 0;\n+      destinationHasCapacity = !0;\n+    }\n     function byteLengthOfChunk(chunk) {\n       return \"string\" === typeof chunk\n         ? Buffer.byteLength(chunk, \"utf8\")\n@@ -963,6 +974,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1508,7 +1520,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -1903,7 +1915,7 @@\n                     (serializeIONode(request, _ioNode, awaited.promise),\n                     (cutOff = (0, request.environmentName)()),\n                     advanceTaskTime(request, task, startTime),\n-                    request.pendingDebugChunks++,\n+                    request.pendingChunks++,\n                     emitDebugChunk(request, task.id, {\n                       awaited: _ioNode,\n                       env: cutOff,\n@@ -1943,7 +1955,7 @@\n       void 0 !== node &&\n         null !== node &&\n         (serializeIONode(request, node, node.promise),\n-        request.pendingDebugChunks++,\n+        request.pendingChunks++,\n         (alreadyForwardedDebugInfo = (0, request.environmentName)()),\n         (alreadyForwardedDebugInfo = {\n           awaited: node,\n@@ -2839,9 +2851,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3372,7 +3391,7 @@\n           markOperationEndTime(request$jscomp$0, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$0, info),\n-            request$jscomp$0.pendingDebugChunks++,\n+            request$jscomp$0.pendingChunks++,\n             emitDebugChunk(request$jscomp$0, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3419,11 +3438,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != debugStack && (ioInfo.stack = debugStack);\n-            request$jscomp$0.pendingDebugChunks++;\n+            request$jscomp$0.pendingChunks++;\n             emitDebugChunk(request$jscomp$0, id, ioInfo);\n           }\n         } else\n-          request$jscomp$0.pendingDebugChunks++,\n+          request$jscomp$0.pendingChunks++,\n             emitDebugChunk(request$jscomp$0, id, info);\n       }\n     }\n@@ -3473,7 +3492,7 @@\n             thenable = thenable.awaited;\n           3 === thenable.tag\n             ? (serializeIONode(request, thenable, null),\n-              request.pendingDebugChunks++,\n+              request.pendingChunks++,\n               (debugInfo = (0, request.environmentName)()),\n               (debugInfo = { awaited: thenable, env: debugInfo }),\n               advanceTaskTime(request, task, task.time),\n@@ -3483,10 +3502,17 @@\n       }\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function advanceTaskTime(request, task, timestamp) {\n       timestamp > task.time\n@@ -3592,7 +3618,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3666,8 +3692,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3695,88 +3720,135 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      destinationHasCapacity = !0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            destination.write(currentView.subarray(0, writtenBytes)),\n-          (currentView = null),\n-          (writtenBytes = 0),\n-          (destinationHasCapacity = !0);\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n       }\n-      \"function\" === typeof destination.flush && destination.flush();\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.end(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.end(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.end(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.end(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.end(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3788,14 +3860,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setImmediate(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3808,7 +3879,19 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n+        } catch (error) {\n+          logRecoverableError(request, error, null), fatalError(request, error);\n+        }\n+      }\n+    }\n+    function startFlowingDebug(request, debugDestination) {\n+      if (13 === request.status)\n+        (request.status = CLOSED), debugDestination.destroy(request.fatalError);\n+      else if (request.status !== CLOSED && null === request.debugDestination) {\n+        request.debugDestination = debugDestination;\n+        try {\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3821,8 +3904,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3834,8 +3916,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3899,8 +3980,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -3916,52 +3996,55 @@\n         throw Error(\n           \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n         );\n-      var command = message.charCodeAt(0);\n-      message = message.slice(2).split(\",\").map(fromHex);\n-      switch (command) {\n-        case 82:\n-          for (command = 0; command < message.length; command++) {\n-            var id = message[command],\n-              retainedValue = deferredDebugObjects.retained.get(id);\n-            void 0 !== retainedValue &&\n-              (request.pendingDebugChunks--,\n-              deferredDebugObjects.retained.delete(id),\n-              deferredDebugObjects.existing.delete(retainedValue),\n-              enqueueFlush(request));\n-          }\n-          break;\n-        case 81:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n+      if (\"\" === message) closeDebugChannel(request);\n+      else {\n+        var command = message.charCodeAt(0);\n+        message = message.slice(2).split(\",\").map(fromHex);\n+        switch (command) {\n+          case 82:\n+            for (command = 0; command < message.length; command++) {\n+              var id = message[command],\n+                retainedValue = deferredDebugObjects.retained.get(id);\n               void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n+                (request.pendingDebugChunks--,\n+                deferredDebugObjects.retained.delete(id),\n                 deferredDebugObjects.existing.delete(retainedValue),\n-                emitOutlinedDebugModelChunk(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ),\n                 enqueueFlush(request));\n-          break;\n-        case 80:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n-              void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n-                emitRequestedDebugThenable(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ));\n-          break;\n-        default:\n-          throw Error(\n-            \"Unknown command. The debugChannel was not wired up properly.\"\n-          );\n+            }\n+            break;\n+          case 81:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  deferredDebugObjects.existing.delete(retainedValue),\n+                  emitOutlinedDebugModelChunk(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ),\n+                  enqueueFlush(request));\n+            break;\n+          case 80:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  emitRequestedDebugThenable(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ));\n+            break;\n+          default:\n+            throw Error(\n+              \"Unknown command. The debugChannel was not wired up properly.\"\n+            );\n+        }\n       }\n     }\n     function closeDebugChannel(request) {\n@@ -4791,6 +4874,25 @@\n           stream.on(\"error\", onError),\n           stream.on(\"end\", onClose));\n     }\n+    function createFakeWritableFromWebSocket(webSocket) {\n+      return {\n+        write: function (chunk) {\n+          webSocket.send(chunk);\n+          return !0;\n+        },\n+        end: function () {\n+          webSocket.close();\n+        },\n+        destroy: function (reason) {\n+          \"object\" === typeof reason &&\n+            null !== reason &&\n+            (reason = reason.message);\n+          \"string\" === typeof reason\n+            ? webSocket.close(1011, reason)\n+            : webSocket.close(1011);\n+        }\n+      };\n+    }\n     function createFakeWritableFromReadableStreamController(controller) {\n       return {\n         write: function (chunk) {\n@@ -5624,12 +5726,12 @@\n             \"React doesn't accept base64 encoded file uploads because we don't expect form data passed from a browser to ever encode data that way. If that's the wrong assumption, we can easily fix it.\"\n           );\n         pendingFiles++;\n-        var JSCompiler_object_inline_chunks_230 = [];\n+        var JSCompiler_object_inline_chunks_237 = [];\n         value.on(\"data\", function (chunk) {\n-          JSCompiler_object_inline_chunks_230.push(chunk);\n+          JSCompiler_object_inline_chunks_237.push(chunk);\n         });\n         value.on(\"end\", function () {\n-          var blob = new Blob(JSCompiler_object_inline_chunks_230, {\n+          var blob = new Blob(JSCompiler_object_inline_chunks_237, {\n             type: mimeType\n           });\n           response._formData.append(name, blob, filename);\n@@ -5678,7 +5780,21 @@\n     };\n     exports.renderToPipeableStream = function (model, webpackMap, options) {\n       var debugChannel = options ? options.debugChannel : void 0,\n-        request = createRequest(\n+        debugChannelReadable =\n+          void 0 === debugChannel ||\n+          (\"function\" !== typeof debugChannel.read &&\n+            \"number\" !== typeof debugChannel.readyState)\n+            ? void 0\n+            : debugChannel;\n+      debugChannel =\n+        void 0 !== debugChannel\n+          ? \"function\" === typeof debugChannel.write\n+            ? debugChannel\n+            : \"function\" === typeof debugChannel.send\n+              ? createFakeWritableFromWebSocket(debugChannel)\n+              : void 0\n+          : void 0;\n+      var request = createRequest(\n           model,\n           webpackMap,\n           options ? options.onError : void 0,\n@@ -5687,12 +5803,13 @@\n           options ? options.temporaryReferences : void 0,\n           options ? options.environmentName : void 0,\n           options ? options.filterStackFrame : void 0,\n-          void 0 !== debugChannel\n+          void 0 !== debugChannelReadable\n         ),\n         hasStartedFlowing = !1;\n       startWork(request);\n-      void 0 !== debugChannel &&\n-        startReadingFromDebugChannelReadable(request, debugChannel);\n+      void 0 !== debugChannel && startFlowingDebug(request, debugChannel);\n+      void 0 !== debugChannelReadable &&\n+        startReadingFromDebugChannelReadable(request, debugChannelReadable);\n       return {\n         pipe: function (destination) {\n           if (hasStartedFlowing)\n@@ -5709,10 +5826,14 @@\n               \"The destination stream errored while writing data.\"\n             )\n           );\n-          destination.on(\n-            \"close\",\n-            createCancelHandler(request, \"The destination stream closed early.\")\n-          );\n+          if (void 0 === debugChannelReadable)\n+            destination.on(\n+              \"close\",\n+              createCancelHandler(\n+                request,\n+                \"The destination stream closed early.\"\n+              )\n+            );\n           return destination;\n         },\n         abort: function (reason) {\n@@ -5725,6 +5846,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -5747,6 +5872,22 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      if (void 0 !== debugChannelWritable) {\n+        var debugWritable;\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            start: function (controller) {\n+              debugWritable =\n+                createFakeWritableFromReadableStreamController(controller);\n+            },\n+            pull: function () {\n+              startFlowingDebug(request, debugWritable);\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n+      }\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "92ce802ce8f75103499a7d0203abc6cfdf3377b2",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.node.production.js",
            "status": "modified",
            "additions": 69,
            "deletions": 71,
            "changes": 140,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1934,8 +1934,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1959,65 +1958,68 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  destinationHasCapacity = !0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, importsChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, regularChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, errorChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        destination.write(currentView.subarray(0, writtenBytes)),\n-      (currentView = null),\n-      (writtenBytes = 0),\n-      (destinationHasCapacity = !0);\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    destinationHasCapacity = !0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, importsChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        if (!writeChunkAndReturn(destination, hintChunks[i])) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, regularChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, errorChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          destination.write(currentView.subarray(0, writtenBytes)),\n+        (currentView = null),\n+        (writtenBytes = 0),\n+        (destinationHasCapacity = !0);\n+    }\n+    \"function\" === typeof destination.flush && destination.flush();\n   }\n-  \"function\" === typeof destination.flush && destination.flush();\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n     12 > request.status &&\n@@ -2027,8 +2029,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.end(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.end(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2046,8 +2048,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setImmediate(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2060,7 +2061,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2073,8 +2074,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2086,8 +2086,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2150,8 +2149,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "6a4b4af670b542ca792891d5a4fd112194bb38f4",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.node.unbundled.development.js",
            "status": "modified",
            "additions": 303,
            "deletions": 162,
            "changes": 465,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -41,6 +41,9 @@\n         : (obj[key] = value);\n       return obj;\n     }\n+    function flushBuffered(destination) {\n+      \"function\" === typeof destination.flush && destination.flush();\n+    }\n     function writeToDestination(destination, view) {\n       destination = destination.write(view);\n       destinationHasCapacity = destinationHasCapacity && destination;\n@@ -107,6 +110,14 @@\n                 (writtenBytes = 0))));\n       return destinationHasCapacity;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        destination.write(currentView.subarray(0, writtenBytes));\n+      currentView = null;\n+      writtenBytes = 0;\n+      destinationHasCapacity = !0;\n+    }\n     function byteLengthOfChunk(chunk) {\n       return \"string\" === typeof chunk\n         ? Buffer.byteLength(chunk, \"utf8\")\n@@ -963,6 +974,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1508,7 +1520,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -1903,7 +1915,7 @@\n                     (serializeIONode(request, _ioNode, awaited.promise),\n                     (cutOff = (0, request.environmentName)()),\n                     advanceTaskTime(request, task, startTime),\n-                    request.pendingDebugChunks++,\n+                    request.pendingChunks++,\n                     emitDebugChunk(request, task.id, {\n                       awaited: _ioNode,\n                       env: cutOff,\n@@ -1943,7 +1955,7 @@\n       void 0 !== node &&\n         null !== node &&\n         (serializeIONode(request, node, node.promise),\n-        request.pendingDebugChunks++,\n+        request.pendingChunks++,\n         (alreadyForwardedDebugInfo = (0, request.environmentName)()),\n         (alreadyForwardedDebugInfo = {\n           awaited: node,\n@@ -2839,9 +2851,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -3372,7 +3391,7 @@\n           markOperationEndTime(request$jscomp$0, task, info.time);\n         else if (\"string\" === typeof info.name)\n           outlineComponentInfo(request$jscomp$0, info),\n-            request$jscomp$0.pendingDebugChunks++,\n+            request$jscomp$0.pendingChunks++,\n             emitDebugChunk(request$jscomp$0, id, info);\n         else if (info.awaited) {\n           var ioInfo = info.awaited;\n@@ -3419,11 +3438,11 @@\n             null != info.env && (ioInfo.env = info.env);\n             null != info.owner && (ioInfo.owner = info.owner);\n             null != debugStack && (ioInfo.stack = debugStack);\n-            request$jscomp$0.pendingDebugChunks++;\n+            request$jscomp$0.pendingChunks++;\n             emitDebugChunk(request$jscomp$0, id, ioInfo);\n           }\n         } else\n-          request$jscomp$0.pendingDebugChunks++,\n+          request$jscomp$0.pendingChunks++,\n             emitDebugChunk(request$jscomp$0, id, info);\n       }\n     }\n@@ -3473,7 +3492,7 @@\n             thenable = thenable.awaited;\n           3 === thenable.tag\n             ? (serializeIONode(request, thenable, null),\n-              request.pendingDebugChunks++,\n+              request.pendingChunks++,\n               (debugInfo = (0, request.environmentName)()),\n               (debugInfo = { awaited: thenable, env: debugInfo }),\n               advanceTaskTime(request, task, task.time),\n@@ -3483,10 +3502,17 @@\n       }\n     }\n     function emitTimingChunk(request, id, timestamp) {\n-      request.pendingDebugChunks++;\n-      timestamp -= request.timeOrigin;\n-      id = id.toString(16) + ':D{\"time\":' + timestamp + \"}\\n\";\n-      request.completedDebugChunks.push(id);\n+      request.pendingChunks++;\n+      var json = '{\"time\":' + (timestamp - request.timeOrigin) + \"}\";\n+      null !== request.debugDestination\n+        ? ((timestamp = request.nextChunkId++),\n+          (json = timestamp.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + timestamp.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function advanceTaskTime(request, task, timestamp) {\n       timestamp > task.time\n@@ -3592,7 +3618,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           task.timed && markOperationEndTime(request, task, performance.now());\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n@@ -3666,8 +3692,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3695,88 +3720,135 @@\n         (forwardDebugInfoFromAbortedTask(request, task),\n         request.pendingChunks--);\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      destinationHasCapacity = !0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            destination.write(currentView.subarray(0, writtenBytes)),\n-          (currentView = null),\n-          (writtenBytes = 0),\n-          (destinationHasCapacity = !0);\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n       }\n-      \"function\" === typeof destination.flush && destination.flush();\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (cleanupTaintQueue(request),\n-        request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.end(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.end(), (request.debugDestination = null)),\n+            cleanupTaintQueue(request),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.end(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.end(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.end(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3788,14 +3860,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setImmediate(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3808,7 +3879,19 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n+        } catch (error) {\n+          logRecoverableError(request, error, null), fatalError(request, error);\n+        }\n+      }\n+    }\n+    function startFlowingDebug(request, debugDestination) {\n+      if (13 === request.status)\n+        (request.status = CLOSED), debugDestination.destroy(request.fatalError);\n+      else if (request.status !== CLOSED && null === request.debugDestination) {\n+        request.debugDestination = debugDestination;\n+        try {\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3821,8 +3904,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3834,8 +3916,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3899,8 +3980,7 @@\n           else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -3916,52 +3996,55 @@\n         throw Error(\n           \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n         );\n-      var command = message.charCodeAt(0);\n-      message = message.slice(2).split(\",\").map(fromHex);\n-      switch (command) {\n-        case 82:\n-          for (command = 0; command < message.length; command++) {\n-            var id = message[command],\n-              retainedValue = deferredDebugObjects.retained.get(id);\n-            void 0 !== retainedValue &&\n-              (request.pendingDebugChunks--,\n-              deferredDebugObjects.retained.delete(id),\n-              deferredDebugObjects.existing.delete(retainedValue),\n-              enqueueFlush(request));\n-          }\n-          break;\n-        case 81:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n+      if (\"\" === message) closeDebugChannel(request);\n+      else {\n+        var command = message.charCodeAt(0);\n+        message = message.slice(2).split(\",\").map(fromHex);\n+        switch (command) {\n+          case 82:\n+            for (command = 0; command < message.length; command++) {\n+              var id = message[command],\n+                retainedValue = deferredDebugObjects.retained.get(id);\n               void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n+                (request.pendingDebugChunks--,\n+                deferredDebugObjects.retained.delete(id),\n                 deferredDebugObjects.existing.delete(retainedValue),\n-                emitOutlinedDebugModelChunk(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ),\n                 enqueueFlush(request));\n-          break;\n-        case 80:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n-              void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n-                emitRequestedDebugThenable(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ));\n-          break;\n-        default:\n-          throw Error(\n-            \"Unknown command. The debugChannel was not wired up properly.\"\n-          );\n+            }\n+            break;\n+          case 81:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  deferredDebugObjects.existing.delete(retainedValue),\n+                  emitOutlinedDebugModelChunk(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ),\n+                  enqueueFlush(request));\n+            break;\n+          case 80:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  emitRequestedDebugThenable(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ));\n+            break;\n+          default:\n+            throw Error(\n+              \"Unknown command. The debugChannel was not wired up properly.\"\n+            );\n+        }\n       }\n     }\n     function closeDebugChannel(request) {\n@@ -4754,6 +4837,25 @@\n           stream.on(\"error\", onError),\n           stream.on(\"end\", onClose));\n     }\n+    function createFakeWritableFromWebSocket(webSocket) {\n+      return {\n+        write: function (chunk) {\n+          webSocket.send(chunk);\n+          return !0;\n+        },\n+        end: function () {\n+          webSocket.close();\n+        },\n+        destroy: function (reason) {\n+          \"object\" === typeof reason &&\n+            null !== reason &&\n+            (reason = reason.message);\n+          \"string\" === typeof reason\n+            ? webSocket.close(1011, reason)\n+            : webSocket.close(1011);\n+        }\n+      };\n+    }\n     function createFakeWritableFromReadableStreamController(controller) {\n       return {\n         write: function (chunk) {\n@@ -5587,12 +5689,12 @@\n             \"React doesn't accept base64 encoded file uploads because we don't expect form data passed from a browser to ever encode data that way. If that's the wrong assumption, we can easily fix it.\"\n           );\n         pendingFiles++;\n-        var JSCompiler_object_inline_chunks_230 = [];\n+        var JSCompiler_object_inline_chunks_237 = [];\n         value.on(\"data\", function (chunk) {\n-          JSCompiler_object_inline_chunks_230.push(chunk);\n+          JSCompiler_object_inline_chunks_237.push(chunk);\n         });\n         value.on(\"end\", function () {\n-          var blob = new Blob(JSCompiler_object_inline_chunks_230, {\n+          var blob = new Blob(JSCompiler_object_inline_chunks_237, {\n             type: mimeType\n           });\n           response._formData.append(name, blob, filename);\n@@ -5641,7 +5743,21 @@\n     };\n     exports.renderToPipeableStream = function (model, webpackMap, options) {\n       var debugChannel = options ? options.debugChannel : void 0,\n-        request = createRequest(\n+        debugChannelReadable =\n+          void 0 === debugChannel ||\n+          (\"function\" !== typeof debugChannel.read &&\n+            \"number\" !== typeof debugChannel.readyState)\n+            ? void 0\n+            : debugChannel;\n+      debugChannel =\n+        void 0 !== debugChannel\n+          ? \"function\" === typeof debugChannel.write\n+            ? debugChannel\n+            : \"function\" === typeof debugChannel.send\n+              ? createFakeWritableFromWebSocket(debugChannel)\n+              : void 0\n+          : void 0;\n+      var request = createRequest(\n           model,\n           webpackMap,\n           options ? options.onError : void 0,\n@@ -5650,12 +5766,13 @@\n           options ? options.temporaryReferences : void 0,\n           options ? options.environmentName : void 0,\n           options ? options.filterStackFrame : void 0,\n-          void 0 !== debugChannel\n+          void 0 !== debugChannelReadable\n         ),\n         hasStartedFlowing = !1;\n       startWork(request);\n-      void 0 !== debugChannel &&\n-        startReadingFromDebugChannelReadable(request, debugChannel);\n+      void 0 !== debugChannel && startFlowingDebug(request, debugChannel);\n+      void 0 !== debugChannelReadable &&\n+        startReadingFromDebugChannelReadable(request, debugChannelReadable);\n       return {\n         pipe: function (destination) {\n           if (hasStartedFlowing)\n@@ -5672,10 +5789,14 @@\n               \"The destination stream errored while writing data.\"\n             )\n           );\n-          destination.on(\n-            \"close\",\n-            createCancelHandler(request, \"The destination stream closed early.\")\n-          );\n+          if (void 0 === debugChannelReadable)\n+            destination.on(\n+              \"close\",\n+              createCancelHandler(\n+                request,\n+                \"The destination stream closed early.\"\n+              )\n+            );\n           return destination;\n         },\n         abort: function (reason) {\n@@ -5688,6 +5809,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -5710,6 +5835,22 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      if (void 0 !== debugChannelWritable) {\n+        var debugWritable;\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            start: function (controller) {\n+              debugWritable =\n+                createFakeWritableFromReadableStreamController(controller);\n+            },\n+            pull: function () {\n+              startFlowingDebug(request, debugWritable);\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n+      }\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "b16a46db37ffd3ff7095c867c108bd4fde3bf831",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.node.unbundled.production.js",
            "status": "modified",
            "additions": 69,
            "deletions": 71,
            "changes": 140,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1934,8 +1934,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1959,65 +1958,68 @@ function haltTask(task) {\n function finishHaltedTask(task, request) {\n   3 === task.status && request.pendingChunks--;\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  destinationHasCapacity = !0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, importsChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, regularChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, errorChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        destination.write(currentView.subarray(0, writtenBytes)),\n-      (currentView = null),\n-      (writtenBytes = 0),\n-      (destinationHasCapacity = !0);\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    destinationHasCapacity = !0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, importsChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        if (!writeChunkAndReturn(destination, hintChunks[i])) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, regularChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, errorChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          destination.write(currentView.subarray(0, writtenBytes)),\n+        (currentView = null),\n+        (writtenBytes = 0),\n+        (destinationHasCapacity = !0);\n+    }\n+    \"function\" === typeof destination.flush && destination.flush();\n   }\n-  \"function\" === typeof destination.flush && destination.flush();\n   0 === request.pendingChunks &&\n     (cleanupTaintQueue(request),\n     12 > request.status &&\n@@ -2027,8 +2029,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.end(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.end(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -2046,8 +2048,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setImmediate(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -2060,7 +2061,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -2073,8 +2074,7 @@ function finishHalt(request, abortedTasks) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2086,8 +2086,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -2150,8 +2149,7 @@ function abort(request, reason) {\n       else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$27) {\n       logRecoverableError(request, error$27, null),"
        },
        {
            "sha": "5ffa5f19e6a2c0a30245a925b7d47d74a3f6cf03",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -64,8 +64,8 @@\n     \"webpack-sources\": \"^3.2.0\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"0.0.0-experimental-96c61b7f-20250709\",\n-    \"react-dom\": \"0.0.0-experimental-96c61b7f-20250709\",\n+    \"react\": \"0.0.0-experimental-97cdd5d3-20250710\",\n+    \"react-dom\": \"0.0.0-experimental-97cdd5d3-20250710\",\n     \"webpack\": \"^5.59.0\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "ae0343a7326b951581bfffbb304e1d45f599c0bd",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.browser.development.js",
            "status": "modified",
            "additions": 240,
            "deletions": 94,
            "changes": 334,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1853,8 +1853,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -1882,6 +1880,15 @@\n           : debugChannelRegistry.register(this, debugChannel));\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -2657,6 +2664,96 @@\n             : resolveModel(response, id, row);\n       }\n     }\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n+      if (void 0 !== weakResponse.weak.deref()) {\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n+        for (\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n+            chunkLength = chunk.length;\n+          i < chunkLength;\n+\n+        ) {\n+          var lastIdx = -1;\n+          switch (rowState) {\n+            case 0:\n+              lastIdx = chunk[i++];\n+              58 === lastIdx\n+                ? (rowState = 1)\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 1:\n+              rowState = chunk[i];\n+              84 === rowState ||\n+              65 === rowState ||\n+              79 === rowState ||\n+              111 === rowState ||\n+              85 === rowState ||\n+              83 === rowState ||\n+              115 === rowState ||\n+              76 === rowState ||\n+              108 === rowState ||\n+              71 === rowState ||\n+              103 === rowState ||\n+              77 === rowState ||\n+              109 === rowState ||\n+              86 === rowState\n+                ? ((rowTag = rowState), (rowState = 2), i++)\n+                : (64 < rowState && 91 > rowState) ||\n+                    35 === rowState ||\n+                    114 === rowState ||\n+                    120 === rowState\n+                  ? ((rowTag = rowState), (rowState = 3), i++)\n+                  : ((rowTag = 0), (rowState = 3));\n+              continue;\n+            case 2:\n+              lastIdx = chunk[i++];\n+              44 === lastIdx\n+                ? (rowState = 4)\n+                : (rowLength =\n+                    (rowLength << 4) |\n+                    (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              continue;\n+            case 3:\n+              lastIdx = chunk.indexOf(10, i);\n+              break;\n+            case 4:\n+              (lastIdx = i + rowLength),\n+                lastIdx > chunk.length && (lastIdx = -1);\n+          }\n+          var offset = chunk.byteOffset + i;\n+          if (-1 < lastIdx)\n+            (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n+              processFullBinaryRow(\n+                response,\n+                weakResponse,\n+                rowTag,\n+                buffer,\n+                rowLength\n+              ),\n+              (i = lastIdx),\n+              3 === rowState && i++,\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n+              (buffer.length = 0);\n+          else {\n+            chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+            buffer.push(chunk);\n+            rowLength -= chunk.byteLength;\n+            break;\n+          }\n+        }\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n+      }\n+    }\n     function createFromJSONCallback(response) {\n       return function (key, value) {\n         if (\"string\" === typeof value)\n@@ -2737,6 +2834,9 @@\n         return value;\n       };\n     }\n+    function close(weakResponse) {\n+      reportGlobalError(weakResponse, Error(\"Connection closed.\"));\n+    }\n     function createDebugCallbackFromWritableStream(debugWritable) {\n       var textEncoder = new TextEncoder(),\n         writer = debugWritable.getWriter();\n@@ -2771,104 +2871,138 @@\n         debugChannel\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromUniversalStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done) close(response$jscomp$0);\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n-            for (\n-              var i = 0,\n-                rowState = _ref._rowState,\n-                rowID = _ref._rowID,\n-                rowTag = _ref._rowTag,\n-                rowLength = _ref._rowLength,\n-                buffer = _ref._buffer,\n-                chunkLength = value.length;\n-              i < chunkLength;\n-\n+          if (value instanceof ArrayBuffer)\n+            processBinaryChunk(\n+              response$jscomp$0,\n+              streamState,\n+              new Uint8Array(value)\n+            );\n+          else if (\"string\" === typeof value) {\n+            if (\n+              ((_ref = streamState), void 0 !== response$jscomp$0.weak.deref())\n             ) {\n-              var lastIdx = -1;\n-              switch (rowState) {\n-                case 0:\n-                  lastIdx = value[i++];\n-                  58 === lastIdx\n-                    ? (rowState = 1)\n-                    : (rowID =\n-                        (rowID << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 1:\n-                  rowState = value[i];\n-                  84 === rowState ||\n-                  65 === rowState ||\n-                  79 === rowState ||\n-                  111 === rowState ||\n-                  85 === rowState ||\n-                  83 === rowState ||\n-                  115 === rowState ||\n-                  76 === rowState ||\n-                  108 === rowState ||\n-                  71 === rowState ||\n-                  103 === rowState ||\n-                  77 === rowState ||\n-                  109 === rowState ||\n-                  86 === rowState\n-                    ? ((rowTag = rowState), (rowState = 2), i++)\n-                    : (64 < rowState && 91 > rowState) ||\n-                        35 === rowState ||\n-                        114 === rowState ||\n-                        120 === rowState\n-                      ? ((rowTag = rowState), (rowState = 3), i++)\n-                      : ((rowTag = 0), (rowState = 3));\n-                  continue;\n-                case 2:\n-                  lastIdx = value[i++];\n-                  44 === lastIdx\n-                    ? (rowState = 4)\n-                    : (rowLength =\n-                        (rowLength << 4) |\n-                        (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n-                  continue;\n-                case 3:\n-                  lastIdx = value.indexOf(10, i);\n-                  break;\n-                case 4:\n-                  (lastIdx = i + rowLength),\n-                    lastIdx > value.length && (lastIdx = -1);\n-              }\n-              var offset = value.byteOffset + i;\n-              if (-1 < lastIdx)\n-                (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n-                  (i = lastIdx),\n-                  3 === rowState && i++,\n-                  (rowLength = rowID = rowTag = rowState = 0),\n-                  (buffer.length = 0);\n-              else {\n-                value = new Uint8Array(\n-                  value.buffer,\n-                  offset,\n-                  value.byteLength - i\n-                );\n-                buffer.push(value);\n-                rowLength -= value.byteLength;\n-                break;\n+              for (\n+                var response = unwrapWeakResponse(response$jscomp$0),\n+                  i = 0,\n+                  rowState = _ref._rowState,\n+                  rowID = _ref._rowID,\n+                  rowTag = _ref._rowTag,\n+                  rowLength = _ref._rowLength,\n+                  buffer = _ref._buffer,\n+                  chunkLength = value.length;\n+                i < chunkLength;\n+\n+              ) {\n+                var lastIdx = -1;\n+                switch (rowState) {\n+                  case 0:\n+                    lastIdx = value.charCodeAt(i++);\n+                    58 === lastIdx\n+                      ? (rowState = 1)\n+                      : (rowID =\n+                          (rowID << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 1:\n+                    rowState = value.charCodeAt(i);\n+                    84 === rowState ||\n+                    65 === rowState ||\n+                    79 === rowState ||\n+                    111 === rowState ||\n+                    85 === rowState ||\n+                    83 === rowState ||\n+                    115 === rowState ||\n+                    76 === rowState ||\n+                    108 === rowState ||\n+                    71 === rowState ||\n+                    103 === rowState ||\n+                    77 === rowState ||\n+                    109 === rowState ||\n+                    86 === rowState\n+                      ? ((rowTag = rowState), (rowState = 2), i++)\n+                      : (64 < rowState && 91 > rowState) ||\n+                          114 === rowState ||\n+                          120 === rowState\n+                        ? ((rowTag = rowState), (rowState = 3), i++)\n+                        : ((rowTag = 0), (rowState = 3));\n+                    continue;\n+                  case 2:\n+                    lastIdx = value.charCodeAt(i++);\n+                    44 === lastIdx\n+                      ? (rowState = 4)\n+                      : (rowLength =\n+                          (rowLength << 4) |\n+                          (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+                    continue;\n+                  case 3:\n+                    lastIdx = value.indexOf(\"\\n\", i);\n+                    break;\n+                  case 4:\n+                    if (84 !== rowTag)\n+                      throw Error(\n+                        \"Binary RSC chunks cannot be encoded as strings. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    if (\n+                      rowLength < value.length ||\n+                      value.length > 3 * rowLength\n+                    )\n+                      throw Error(\n+                        \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                      );\n+                    lastIdx = value.length;\n+                }\n+                if (-1 < lastIdx) {\n+                  if (0 < buffer.length)\n+                    throw Error(\n+                      \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                    );\n+                  i = value.slice(i, lastIdx);\n+                  processFullStringRow(response, rowID, rowTag, i);\n+                  i = lastIdx;\n+                  3 === rowState && i++;\n+                  rowLength = rowID = rowTag = rowState = 0;\n+                  buffer.length = 0;\n+                } else if (value.length !== i)\n+                  throw Error(\n+                    \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n+                  );\n               }\n+              _ref._rowState = rowState;\n+              _ref._rowID = rowID;\n+              _ref._rowTag = rowTag;\n+              _ref._rowLength = rowLength;\n             }\n-            _ref._rowState = rowState;\n-            _ref._rowID = rowID;\n-            _ref._rowTag = rowTag;\n-            _ref._rowLength = rowLength;\n-          }\n+          } else processBinaryChunk(response$jscomp$0, streamState, value);\n           return reader.read().then(progress).catch(error);\n         }\n       }\n+      function error(e) {\n+        reportGlobalError(response$jscomp$0, e);\n+      }\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n+      reader.read().then(progress).catch(error);\n+    }\n+    function startReadingFromStream(response, stream, isSecondaryStream) {\n+      function progress(_ref2) {\n+        var value = _ref2.value;\n+        if (_ref2.done) isSecondaryStream || close(response);\n+        else\n+          return (\n+            processBinaryChunk(response, streamState, value),\n+            reader.read().then(progress).catch(error)\n+          );\n+      }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var React = require(\"react\"),\n@@ -3064,10 +3198,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.2.0-canary-96c61b7f-20250709\",\n+      version: \"19.2.0-canary-97cdd5d3-20250710\",\n       rendererPackageName: \"react-server-dom-webpack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.2.0-canary-96c61b7f-20250709\",\n+      reconcilerVersion: \"19.2.0-canary-97cdd5d3-20250710\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }\n@@ -3076,7 +3210,13 @@\n       var response = createResponseFromOptions(options);\n       promiseForResponse.then(\n         function (r) {\n-          startReadingFromStream(response, r.body);\n+          options && options.debugChannel && options.debugChannel.readable\n+            ? (startReadingFromUniversalStream(\n+                response,\n+                options.debugChannel.readable\n+              ),\n+              startReadingFromStream(response, r.body, !0))\n+            : startReadingFromStream(response, r.body, !1);\n         },\n         function (e) {\n           reportGlobalError(response, e);\n@@ -3085,9 +3225,15 @@\n       return getRoot(response);\n     };\n     exports.createFromReadableStream = function (stream, options) {\n-      options = createResponseFromOptions(options);\n-      startReadingFromStream(options, stream);\n-      return getRoot(options);\n+      var response = createResponseFromOptions(options);\n+      options && options.debugChannel && options.debugChannel.readable\n+        ? (startReadingFromUniversalStream(\n+            response,\n+            options.debugChannel.readable\n+          ),\n+          startReadingFromStream(response, stream, !0))\n+        : startReadingFromStream(response, stream, !1);\n+      return getRoot(response);\n     };\n     exports.createServerReference = function (\n       id,"
        },
        {
            "sha": "5693b38fc4d3d444fc405e480b1025f8f4c246fe",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.browser.production.js",
            "status": "modified",
            "additions": 29,
            "deletions": 22,
            "changes": 51,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1200,8 +1200,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1666,18 +1664,20 @@ function createResponseFromOptions(options) {\n       : void 0\n   );\n }\n-function startReadingFromStream(response, stream) {\n-  function progress(_ref) {\n-    var value = _ref.value;\n-    if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+function startReadingFromStream(response, stream, isSecondaryStream) {\n+  function progress(_ref2) {\n+    var value = _ref2.value;\n+    if (_ref2.done)\n+      isSecondaryStream ||\n+        reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref2 = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1688,8 +1688,8 @@ function startReadingFromStream(response, stream) {\n             lastIdx = value[i++];\n             58 === lastIdx\n               ? (rowState = 1)\n-              : (_ref =\n-                  (_ref << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n+              : (_ref2 =\n+                  (_ref2 << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n             continue;\n           case 1:\n             rowState = value[i];\n@@ -1732,10 +1732,10 @@ function startReadingFromStream(response, stream) {\n         var offset = value.byteOffset + i;\n         if (-1 < lastIdx)\n           (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-            processFullBinaryRow(response, _ref, rowTag, buffer, rowLength),\n+            processFullBinaryRow(response, _ref2, rowTag, buffer, rowLength),\n             (i = lastIdx),\n             3 === rowState && i++,\n-            (rowLength = _ref = rowTag = rowState = 0),\n+            (rowLength = _ref2 = rowTag = rowState = 0),\n             (buffer.length = 0);\n         else {\n           value = new Uint8Array(value.buffer, offset, value.byteLength - i);\n@@ -1744,24 +1744,31 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref2;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {\n   var response = createResponseFromOptions(options);\n   promiseForResponse.then(\n     function (r) {\n-      startReadingFromStream(response, r.body);\n+      startReadingFromStream(response, r.body, !1);\n     },\n     function (e) {\n       reportGlobalError(response, e);\n@@ -1771,7 +1778,7 @@ exports.createFromFetch = function (promiseForResponse, options) {\n };\n exports.createFromReadableStream = function (stream, options) {\n   options = createResponseFromOptions(options);\n-  startReadingFromStream(options, stream);\n+  startReadingFromStream(options, stream, !1);\n   return getChunk(options, 0);\n };\n exports.createServerReference = function (id, callServer) {"
        },
        {
            "sha": "49089a5fab7fea9ca07df65d852fdaa31566f352",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.edge.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 10,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2067,8 +2067,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2978,15 +2976,17 @@\n         void 0\n       )._weakResponse;\n     }\n-    function startReadingFromStream(response, stream) {\n+    function startReadingFromStream(response$jscomp$0, stream) {\n       function progress(_ref) {\n         var value = _ref.value;\n-        if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n+        if (_ref.done)\n+          reportGlobalError(response$jscomp$0, Error(\"Connection closed.\"));\n         else {\n-          if (void 0 !== response.weak.deref()) {\n-            _ref = unwrapWeakResponse(response);\n+          _ref = streamState;\n+          if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n-              var i = 0,\n+              var response = unwrapWeakResponse(response$jscomp$0),\n+                i = 0,\n                 rowState = _ref._rowState,\n                 rowID = _ref._rowID,\n                 rowTag = _ref._rowTag,\n@@ -3048,7 +3048,13 @@\n               var offset = value.byteOffset + i;\n               if (-1 < lastIdx)\n                 (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n-                  processFullBinaryRow(_ref, rowID, rowTag, buffer, rowLength),\n+                  processFullBinaryRow(\n+                    response,\n+                    rowID,\n+                    rowTag,\n+                    buffer,\n+                    rowLength\n+                  ),\n                   (i = lastIdx),\n                   3 === rowState && i++,\n                   (rowLength = rowID = rowTag = rowState = 0),\n@@ -3073,9 +3079,16 @@\n         }\n       }\n       function error(e) {\n-        reportGlobalError(response, e);\n+        reportGlobalError(response$jscomp$0, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = {\n+          _rowState: 0,\n+          _rowID: 0,\n+          _rowTag: 0,\n+          _rowLength: 0,\n+          _buffer: []\n+        },\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     var ReactDOM = require(\"react-dom\"),"
        },
        {
            "sha": "7cd50a65ded1c663ac7cc381b91d6431fc902f21",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.edge.production.js",
            "status": "modified",
            "additions": 17,
            "deletions": 12,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1375,8 +1375,6 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n@@ -1857,12 +1855,12 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n     else {\n       var i = 0,\n-        rowState = response._rowState;\n-      _ref = response._rowID;\n+        rowState = streamState._rowState;\n+      _ref = streamState._rowID;\n       for (\n-        var rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+        var rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = value.length;\n         i < chunkLength;\n \n@@ -1929,17 +1927,24 @@ function startReadingFromStream(response, stream) {\n           break;\n         }\n       }\n-      response._rowState = rowState;\n-      response._rowID = _ref;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n+      streamState._rowState = rowState;\n+      streamState._rowID = _ref;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n       return reader.read().then(progress).catch(error);\n     }\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = {\n+      _rowState: 0,\n+      _rowID: 0,\n+      _rowTag: 0,\n+      _rowLength: 0,\n+      _buffer: []\n+    },\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n exports.createFromFetch = function (promiseForResponse, options) {"
        },
        {
            "sha": "fc6c0df3a117885fa9bc4626b74e9afcc22f91dc",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.node.development.js",
            "status": "modified",
            "additions": 53,
            "deletions": 42,
            "changes": 95,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2067,8 +2067,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new util.TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2096,6 +2094,15 @@\n           : debugChannelRegistry.register(this, debugChannel));\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -2876,16 +2883,16 @@\n             : resolveModel(response, id, row);\n       }\n     }\n-    function processBinaryChunk(weakResponse, chunk) {\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n       if (void 0 !== weakResponse.weak.deref()) {\n-        weakResponse = unwrapWeakResponse(weakResponse);\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n         for (\n-          var i = 0,\n-            rowState = weakResponse._rowState,\n-            rowID = weakResponse._rowID,\n-            rowTag = weakResponse._rowTag,\n-            rowLength = weakResponse._rowLength,\n-            buffer = weakResponse._buffer,\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n             chunkLength = chunk.length;\n           i < chunkLength;\n \n@@ -2896,8 +2903,8 @@\n               lastIdx = chunk[i++];\n               58 === lastIdx\n                 ? (rowState = 1)\n-                : (rowID =\n-                    (rowID << 4) |\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n                     (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n               continue;\n             case 1:\n@@ -2943,15 +2950,15 @@\n           if (-1 < lastIdx)\n             (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n               processFullBinaryRow(\n+                response,\n                 weakResponse,\n-                rowID,\n                 rowTag,\n                 buffer,\n                 rowLength\n               ),\n               (i = lastIdx),\n               3 === rowState && i++,\n-              (rowLength = rowID = rowTag = rowState = 0),\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n               (buffer.length = 0);\n           else {\n             chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n@@ -2960,10 +2967,10 @@\n             break;\n           }\n         }\n-        weakResponse._rowState = rowState;\n-        weakResponse._rowID = rowID;\n-        weakResponse._rowTag = rowTag;\n-        weakResponse._rowLength = rowLength;\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n       }\n     }\n     function createFromJSONCallback(response) {\n@@ -3077,14 +3084,15 @@\n         if (_ref.done) close(response);\n         else\n           return (\n-            processBinaryChunk(response, value),\n+            processBinaryChunk(response, streamState, value),\n             reader.read().then(progress).catch(error)\n           );\n       }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     function noServerCall() {\n@@ -3287,29 +3295,32 @@\n       options\n     ) {\n       var response$jscomp$0 = new ResponseInstance(\n-        serverConsumerManifest.moduleMap,\n-        serverConsumerManifest.serverModuleMap,\n-        serverConsumerManifest.moduleLoading,\n-        noServerCall,\n-        options ? options.encodeFormAction : void 0,\n-        options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-        void 0,\n-        options && options.findSourceMapURL ? options.findSourceMapURL : void 0,\n-        options ? !0 === options.replayConsoleLogs : !1,\n-        options && options.environmentName ? options.environmentName : void 0,\n-        void 0\n-      )._weakResponse;\n+          serverConsumerManifest.moduleMap,\n+          serverConsumerManifest.serverModuleMap,\n+          serverConsumerManifest.moduleLoading,\n+          noServerCall,\n+          options ? options.encodeFormAction : void 0,\n+          options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+          void 0,\n+          options && options.findSourceMapURL\n+            ? options.findSourceMapURL\n+            : void 0,\n+          options ? !0 === options.replayConsoleLogs : !1,\n+          options && options.environmentName ? options.environmentName : void 0,\n+          void 0\n+        )._weakResponse,\n+        streamState = createStreamState();\n       stream.on(\"data\", function (chunk) {\n         if (\"string\" === typeof chunk) {\n           if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n               var response = unwrapWeakResponse(response$jscomp$0),\n                 i = 0,\n-                rowState = response._rowState,\n-                rowID = response._rowID,\n-                rowTag = response._rowTag,\n-                rowLength = response._rowLength,\n-                buffer = response._buffer,\n+                rowState = streamState._rowState,\n+                rowID = streamState._rowID,\n+                rowTag = streamState._rowTag,\n+                rowLength = streamState._rowLength,\n+                buffer = streamState._buffer,\n                 chunkLength = chunk.length;\n               i < chunkLength;\n \n@@ -3385,12 +3396,12 @@\n                   \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n                 );\n             }\n-            response._rowState = rowState;\n-            response._rowID = rowID;\n-            response._rowTag = rowTag;\n-            response._rowLength = rowLength;\n+            streamState._rowState = rowState;\n+            streamState._rowID = rowID;\n+            streamState._rowTag = rowTag;\n+            streamState._rowLength = rowLength;\n           }\n-        } else processBinaryChunk(response$jscomp$0, chunk);\n+        } else processBinaryChunk(response$jscomp$0, streamState, chunk);\n       });\n       stream.on(\"error\", function (error) {\n         reportGlobalError(response$jscomp$0, error);"
        },
        {
            "sha": "83ab8e797d5fbe75062e06e6952be567fb107d48",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.node.production.js",
            "status": "modified",
            "additions": 38,
            "deletions": 35,
            "changes": 73,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1376,13 +1376,14 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new util.TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n   this._fromJSON = createFromJSONCallback(this);\n }\n+function createStreamState() {\n+  return { _rowState: 0, _rowID: 0, _rowTag: 0, _rowLength: 0, _buffer: [] };\n+}\n function resolveBuffer(response, id, buffer) {\n   response = response._chunks;\n   var chunk = response.get(id);\n@@ -1801,14 +1802,14 @@ function processFullStringRow(response, id, tag, row) {\n           : tag.set(id, new ReactPromise(\"resolved_model\", row, response));\n   }\n }\n-function processBinaryChunk(weakResponse, chunk) {\n+function processBinaryChunk(weakResponse, streamState, chunk) {\n   for (\n     var i = 0,\n-      rowState = weakResponse._rowState,\n-      rowID = weakResponse._rowID,\n-      rowTag = weakResponse._rowTag,\n-      rowLength = weakResponse._rowLength,\n-      buffer = weakResponse._buffer,\n+      rowState = streamState._rowState,\n+      rowID = streamState._rowID,\n+      rowTag = streamState._rowTag,\n+      rowLength = streamState._rowLength,\n+      buffer = streamState._buffer,\n       chunkLength = chunk.length;\n     i < chunkLength;\n \n@@ -1868,16 +1869,16 @@ function processBinaryChunk(weakResponse, chunk) {\n         (rowLength = rowID = rowTag = rowState = 0),\n         (buffer.length = 0);\n     else {\n-      chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n-      buffer.push(chunk);\n-      rowLength -= chunk.byteLength;\n+      weakResponse = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+      buffer.push(weakResponse);\n+      rowLength -= weakResponse.byteLength;\n       break;\n     }\n   }\n-  weakResponse._rowState = rowState;\n-  weakResponse._rowID = rowID;\n-  weakResponse._rowTag = rowTag;\n-  weakResponse._rowLength = rowLength;\n+  streamState._rowState = rowState;\n+  streamState._rowID = rowID;\n+  streamState._rowTag = rowTag;\n+  streamState._rowLength = rowLength;\n }\n function createFromJSONCallback(response) {\n   return function (key, value) {\n@@ -1941,14 +1942,15 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) close(response);\n     else\n       return (\n-        processBinaryChunk(response, value),\n+        processBinaryChunk(response, streamState, value),\n         reader.read().then(progress).catch(error)\n       );\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = createStreamState(),\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n function noServerCall() {\n@@ -1974,23 +1976,24 @@ exports.createFromNodeStream = function (\n   options\n ) {\n   var response = new ResponseInstance(\n-    serverConsumerManifest.moduleMap,\n-    serverConsumerManifest.serverModuleMap,\n-    serverConsumerManifest.moduleLoading,\n-    noServerCall,\n-    options ? options.encodeFormAction : void 0,\n-    options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-    void 0\n-  );\n+      serverConsumerManifest.moduleMap,\n+      serverConsumerManifest.serverModuleMap,\n+      serverConsumerManifest.moduleLoading,\n+      noServerCall,\n+      options ? options.encodeFormAction : void 0,\n+      options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+      void 0\n+    ),\n+    streamState = createStreamState();\n   stream.on(\"data\", function (chunk) {\n     if (\"string\" === typeof chunk) {\n       for (\n         var i = 0,\n-          rowState = response._rowState,\n-          rowID = response._rowID,\n-          rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+          rowState = streamState._rowState,\n+          rowID = streamState._rowID,\n+          rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = chunk.length;\n         i < chunkLength;\n \n@@ -2065,11 +2068,11 @@ exports.createFromNodeStream = function (\n             \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n           );\n       }\n-      response._rowState = rowState;\n-      response._rowID = rowID;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n-    } else processBinaryChunk(response, chunk);\n+      streamState._rowState = rowState;\n+      streamState._rowID = rowID;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n+    } else processBinaryChunk(response, streamState, chunk);\n   });\n   stream.on(\"error\", function (error) {\n     reportGlobalError(response, error);"
        },
        {
            "sha": "d0f841e8902e44cc704a4c6feb471454c8da2d4a",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.node.unbundled.development.js",
            "status": "modified",
            "additions": 53,
            "deletions": 42,
            "changes": 95,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -2029,8 +2029,6 @@\n       this._chunks = chunks;\n       this._stringDecoder = new util.TextDecoder();\n       this._fromJSON = null;\n-      this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-      this._buffer = [];\n       this._closed = !1;\n       this._closedReason = null;\n       this._tempRefs = temporaryReferences;\n@@ -2058,6 +2056,15 @@\n           : debugChannelRegistry.register(this, debugChannel));\n       this._fromJSON = createFromJSONCallback(this);\n     }\n+    function createStreamState() {\n+      return {\n+        _rowState: 0,\n+        _rowID: 0,\n+        _rowTag: 0,\n+        _rowLength: 0,\n+        _buffer: []\n+      };\n+    }\n     function resolveDebugHalt(response, id) {\n       var chunks = response._chunks,\n         chunk = chunks.get(id);\n@@ -2838,16 +2845,16 @@\n             : resolveModel(response, id, row);\n       }\n     }\n-    function processBinaryChunk(weakResponse, chunk) {\n+    function processBinaryChunk(weakResponse, streamState, chunk) {\n       if (void 0 !== weakResponse.weak.deref()) {\n-        weakResponse = unwrapWeakResponse(weakResponse);\n+        var response = unwrapWeakResponse(weakResponse),\n+          i = 0,\n+          rowState = streamState._rowState;\n+        weakResponse = streamState._rowID;\n         for (\n-          var i = 0,\n-            rowState = weakResponse._rowState,\n-            rowID = weakResponse._rowID,\n-            rowTag = weakResponse._rowTag,\n-            rowLength = weakResponse._rowLength,\n-            buffer = weakResponse._buffer,\n+          var rowTag = streamState._rowTag,\n+            rowLength = streamState._rowLength,\n+            buffer = streamState._buffer,\n             chunkLength = chunk.length;\n           i < chunkLength;\n \n@@ -2858,8 +2865,8 @@\n               lastIdx = chunk[i++];\n               58 === lastIdx\n                 ? (rowState = 1)\n-                : (rowID =\n-                    (rowID << 4) |\n+                : (weakResponse =\n+                    (weakResponse << 4) |\n                     (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n               continue;\n             case 1:\n@@ -2905,15 +2912,15 @@\n           if (-1 < lastIdx)\n             (rowLength = new Uint8Array(chunk.buffer, offset, lastIdx - i)),\n               processFullBinaryRow(\n+                response,\n                 weakResponse,\n-                rowID,\n                 rowTag,\n                 buffer,\n                 rowLength\n               ),\n               (i = lastIdx),\n               3 === rowState && i++,\n-              (rowLength = rowID = rowTag = rowState = 0),\n+              (rowLength = weakResponse = rowTag = rowState = 0),\n               (buffer.length = 0);\n           else {\n             chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n@@ -2922,10 +2929,10 @@\n             break;\n           }\n         }\n-        weakResponse._rowState = rowState;\n-        weakResponse._rowID = rowID;\n-        weakResponse._rowTag = rowTag;\n-        weakResponse._rowLength = rowLength;\n+        streamState._rowState = rowState;\n+        streamState._rowID = weakResponse;\n+        streamState._rowTag = rowTag;\n+        streamState._rowLength = rowLength;\n       }\n     }\n     function createFromJSONCallback(response) {\n@@ -3039,14 +3046,15 @@\n         if (_ref.done) close(response);\n         else\n           return (\n-            processBinaryChunk(response, value),\n+            processBinaryChunk(response, streamState, value),\n             reader.read().then(progress).catch(error)\n           );\n       }\n       function error(e) {\n         reportGlobalError(response, e);\n       }\n-      var reader = stream.getReader();\n+      var streamState = createStreamState(),\n+        reader = stream.getReader();\n       reader.read().then(progress).catch(error);\n     }\n     function noServerCall() {\n@@ -3249,29 +3257,32 @@\n       options\n     ) {\n       var response$jscomp$0 = new ResponseInstance(\n-        serverConsumerManifest.moduleMap,\n-        serverConsumerManifest.serverModuleMap,\n-        serverConsumerManifest.moduleLoading,\n-        noServerCall,\n-        options ? options.encodeFormAction : void 0,\n-        options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-        void 0,\n-        options && options.findSourceMapURL ? options.findSourceMapURL : void 0,\n-        options ? !0 === options.replayConsoleLogs : !1,\n-        options && options.environmentName ? options.environmentName : void 0,\n-        void 0\n-      )._weakResponse;\n+          serverConsumerManifest.moduleMap,\n+          serverConsumerManifest.serverModuleMap,\n+          serverConsumerManifest.moduleLoading,\n+          noServerCall,\n+          options ? options.encodeFormAction : void 0,\n+          options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+          void 0,\n+          options && options.findSourceMapURL\n+            ? options.findSourceMapURL\n+            : void 0,\n+          options ? !0 === options.replayConsoleLogs : !1,\n+          options && options.environmentName ? options.environmentName : void 0,\n+          void 0\n+        )._weakResponse,\n+        streamState = createStreamState();\n       stream.on(\"data\", function (chunk) {\n         if (\"string\" === typeof chunk) {\n           if (void 0 !== response$jscomp$0.weak.deref()) {\n             for (\n               var response = unwrapWeakResponse(response$jscomp$0),\n                 i = 0,\n-                rowState = response._rowState,\n-                rowID = response._rowID,\n-                rowTag = response._rowTag,\n-                rowLength = response._rowLength,\n-                buffer = response._buffer,\n+                rowState = streamState._rowState,\n+                rowID = streamState._rowID,\n+                rowTag = streamState._rowTag,\n+                rowLength = streamState._rowLength,\n+                buffer = streamState._buffer,\n                 chunkLength = chunk.length;\n               i < chunkLength;\n \n@@ -3347,12 +3358,12 @@\n                   \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n                 );\n             }\n-            response._rowState = rowState;\n-            response._rowID = rowID;\n-            response._rowTag = rowTag;\n-            response._rowLength = rowLength;\n+            streamState._rowState = rowState;\n+            streamState._rowID = rowID;\n+            streamState._rowTag = rowTag;\n+            streamState._rowLength = rowLength;\n           }\n-        } else processBinaryChunk(response$jscomp$0, chunk);\n+        } else processBinaryChunk(response$jscomp$0, streamState, chunk);\n       });\n       stream.on(\"error\", function (error) {\n         reportGlobalError(response$jscomp$0, error);"
        },
        {
            "sha": "e6f0dcd228ce0d7cd4f48ceb02f58ba993c918ad",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.node.unbundled.production.js",
            "status": "modified",
            "additions": 38,
            "deletions": 35,
            "changes": 73,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.node.unbundled.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1341,13 +1341,14 @@ function ResponseInstance(\n   this._chunks = chunks;\n   this._stringDecoder = new util.TextDecoder();\n   this._fromJSON = null;\n-  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n-  this._buffer = [];\n   this._closed = !1;\n   this._closedReason = null;\n   this._tempRefs = temporaryReferences;\n   this._fromJSON = createFromJSONCallback(this);\n }\n+function createStreamState() {\n+  return { _rowState: 0, _rowID: 0, _rowTag: 0, _rowLength: 0, _buffer: [] };\n+}\n function resolveBuffer(response, id, buffer) {\n   response = response._chunks;\n   var chunk = response.get(id);\n@@ -1766,14 +1767,14 @@ function processFullStringRow(response, id, tag, row) {\n           : tag.set(id, new ReactPromise(\"resolved_model\", row, response));\n   }\n }\n-function processBinaryChunk(weakResponse, chunk) {\n+function processBinaryChunk(weakResponse, streamState, chunk) {\n   for (\n     var i = 0,\n-      rowState = weakResponse._rowState,\n-      rowID = weakResponse._rowID,\n-      rowTag = weakResponse._rowTag,\n-      rowLength = weakResponse._rowLength,\n-      buffer = weakResponse._buffer,\n+      rowState = streamState._rowState,\n+      rowID = streamState._rowID,\n+      rowTag = streamState._rowTag,\n+      rowLength = streamState._rowLength,\n+      buffer = streamState._buffer,\n       chunkLength = chunk.length;\n     i < chunkLength;\n \n@@ -1833,16 +1834,16 @@ function processBinaryChunk(weakResponse, chunk) {\n         (rowLength = rowID = rowTag = rowState = 0),\n         (buffer.length = 0);\n     else {\n-      chunk = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n-      buffer.push(chunk);\n-      rowLength -= chunk.byteLength;\n+      weakResponse = new Uint8Array(chunk.buffer, offset, chunk.byteLength - i);\n+      buffer.push(weakResponse);\n+      rowLength -= weakResponse.byteLength;\n       break;\n     }\n   }\n-  weakResponse._rowState = rowState;\n-  weakResponse._rowID = rowID;\n-  weakResponse._rowTag = rowTag;\n-  weakResponse._rowLength = rowLength;\n+  streamState._rowState = rowState;\n+  streamState._rowID = rowID;\n+  streamState._rowTag = rowTag;\n+  streamState._rowLength = rowLength;\n }\n function createFromJSONCallback(response) {\n   return function (key, value) {\n@@ -1906,14 +1907,15 @@ function startReadingFromStream(response, stream) {\n     if (_ref.done) close(response);\n     else\n       return (\n-        processBinaryChunk(response, value),\n+        processBinaryChunk(response, streamState, value),\n         reader.read().then(progress).catch(error)\n       );\n   }\n   function error(e) {\n     reportGlobalError(response, e);\n   }\n-  var reader = stream.getReader();\n+  var streamState = createStreamState(),\n+    reader = stream.getReader();\n   reader.read().then(progress).catch(error);\n }\n function noServerCall() {\n@@ -1939,23 +1941,24 @@ exports.createFromNodeStream = function (\n   options\n ) {\n   var response = new ResponseInstance(\n-    serverConsumerManifest.moduleMap,\n-    serverConsumerManifest.serverModuleMap,\n-    serverConsumerManifest.moduleLoading,\n-    noServerCall,\n-    options ? options.encodeFormAction : void 0,\n-    options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n-    void 0\n-  );\n+      serverConsumerManifest.moduleMap,\n+      serverConsumerManifest.serverModuleMap,\n+      serverConsumerManifest.moduleLoading,\n+      noServerCall,\n+      options ? options.encodeFormAction : void 0,\n+      options && \"string\" === typeof options.nonce ? options.nonce : void 0,\n+      void 0\n+    ),\n+    streamState = createStreamState();\n   stream.on(\"data\", function (chunk) {\n     if (\"string\" === typeof chunk) {\n       for (\n         var i = 0,\n-          rowState = response._rowState,\n-          rowID = response._rowID,\n-          rowTag = response._rowTag,\n-          rowLength = response._rowLength,\n-          buffer = response._buffer,\n+          rowState = streamState._rowState,\n+          rowID = streamState._rowID,\n+          rowTag = streamState._rowTag,\n+          rowLength = streamState._rowLength,\n+          buffer = streamState._buffer,\n           chunkLength = chunk.length;\n         i < chunkLength;\n \n@@ -2030,11 +2033,11 @@ exports.createFromNodeStream = function (\n             \"String chunks need to be passed in their original shape. Not split into smaller string chunks. This is a bug in the wiring of the React streams.\"\n           );\n       }\n-      response._rowState = rowState;\n-      response._rowID = rowID;\n-      response._rowTag = rowTag;\n-      response._rowLength = rowLength;\n-    } else processBinaryChunk(response, chunk);\n+      streamState._rowState = rowState;\n+      streamState._rowID = rowID;\n+      streamState._rowTag = rowTag;\n+      streamState._rowLength = rowLength;\n+    } else processBinaryChunk(response, streamState, chunk);\n   });\n   stream.on(\"error\", function (error) {\n     reportGlobalError(response, error);"
        },
        {
            "sha": "cd00a4137bcadcf9e6ae20b31a6a0849eac9f76f",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.browser.development.js",
            "status": "modified",
            "additions": 228,
            "deletions": 141,
            "changes": 369,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.browser.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -70,6 +70,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -876,6 +885,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1384,7 +1394,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2489,10 +2499,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2922,7 +2938,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -2981,11 +2997,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3070,7 +3086,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3135,8 +3151,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3160,86 +3175,130 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3251,14 +3310,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         scheduleWork(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3272,7 +3330,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3285,8 +3343,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3324,8 +3381,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4118,52 +4174,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -4766,6 +4825,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -4788,6 +4851,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "9dfe551f0a7f867ce4f2a35b710aad707fca62ce",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.browser.production.js",
            "status": "modified",
            "additions": 45,
            "deletions": 45,
            "changes": 90,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.browser.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1818,8 +1818,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1837,40 +1836,44 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n@@ -1880,8 +1883,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1899,8 +1902,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     scheduleWork(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1913,7 +1915,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1926,8 +1928,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1961,8 +1962,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "cb36963a5e10c2e7dd8b8df1b0a5e6fa2aca2b57",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.edge.development.js",
            "status": "modified",
            "additions": 228,
            "deletions": 141,
            "changes": 369,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -74,6 +74,15 @@\n         }\n       return !0;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        (destination.enqueue(\n+          new Uint8Array(currentView.buffer, 0, writtenBytes)\n+        ),\n+        (currentView = null),\n+        (writtenBytes = 0));\n+    }\n     function stringToChunk(content) {\n       return textEncoder.encode(content);\n     }\n@@ -883,6 +892,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1396,7 +1406,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2560,10 +2570,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      id = stringToChunk(id);\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(stringToChunk(json)),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(stringToChunk(id)))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(stringToChunk(id)));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2993,7 +3009,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -3052,11 +3068,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3141,7 +3157,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3206,8 +3222,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3231,86 +3246,130 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            (destination.enqueue(\n-              new Uint8Array(currentView.buffer, 0, writtenBytes)\n-            ),\n-            (currentView = null),\n-            (writtenBytes = 0));\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n       }\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.close(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.close(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.close(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.close(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.close(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3326,14 +3385,13 @@\n       }, 0);\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setTimeout(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3347,7 +3405,7 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3360,8 +3418,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3399,8 +3456,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -4189,52 +4245,55 @@\n             throw Error(\n               \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n             );\n-          var command = message.charCodeAt(0);\n-          message = message.slice(2).split(\",\").map(fromHex);\n-          switch (command) {\n-            case 82:\n-              for (command = 0; command < message.length; command++) {\n-                var id = message[command],\n-                  retainedValue = deferredDebugObjects.retained.get(id);\n-                void 0 !== retainedValue &&\n-                  (request.pendingDebugChunks--,\n-                  deferredDebugObjects.retained.delete(id),\n-                  deferredDebugObjects.existing.delete(retainedValue),\n-                  enqueueFlush(request));\n-              }\n-              break;\n-            case 81:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n+          if (\"\" === message) closeDebugChannel(request);\n+          else {\n+            var command = message.charCodeAt(0);\n+            message = message.slice(2).split(\",\").map(fromHex);\n+            switch (command) {\n+              case 82:\n+                for (command = 0; command < message.length; command++) {\n+                  var id = message[command],\n+                    retainedValue = deferredDebugObjects.retained.get(id);\n                   void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n+                    (request.pendingDebugChunks--,\n+                    deferredDebugObjects.retained.delete(id),\n                     deferredDebugObjects.existing.delete(retainedValue),\n-                    emitOutlinedDebugModelChunk(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ),\n                     enqueueFlush(request));\n-              break;\n-            case 80:\n-              for (command = 0; command < message.length; command++)\n-                (id = message[command]),\n-                  (retainedValue = deferredDebugObjects.retained.get(id)),\n-                  void 0 !== retainedValue &&\n-                    (deferredDebugObjects.retained.delete(id),\n-                    emitRequestedDebugThenable(\n-                      request,\n-                      id,\n-                      { objectLimit: 10 },\n-                      retainedValue\n-                    ));\n-              break;\n-            default:\n-              throw Error(\n-                \"Unknown command. The debugChannel was not wired up properly.\"\n-              );\n+                }\n+                break;\n+              case 81:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      deferredDebugObjects.existing.delete(retainedValue),\n+                      emitOutlinedDebugModelChunk(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ),\n+                      enqueueFlush(request));\n+                break;\n+              case 80:\n+                for (command = 0; command < message.length; command++)\n+                  (id = message[command]),\n+                    (retainedValue = deferredDebugObjects.retained.get(id)),\n+                    void 0 !== retainedValue &&\n+                      (deferredDebugObjects.retained.delete(id),\n+                      emitRequestedDebugThenable(\n+                        request,\n+                        id,\n+                        { objectLimit: 10 },\n+                        retainedValue\n+                      ));\n+                break;\n+              default:\n+                throw Error(\n+                  \"Unknown command. The debugChannel was not wired up properly.\"\n+                );\n+            }\n           }\n         }\n         stringBuffer = _ref[_ref.length - 1];\n@@ -4867,6 +4926,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -4889,6 +4952,30 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      void 0 !== debugChannelWritable &&\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            pull: function (controller) {\n+              if (13 === request.status)\n+                (request.status = CLOSED),\n+                  closeWithError(controller, request.fatalError);\n+              else if (\n+                request.status !== CLOSED &&\n+                null === request.debugDestination\n+              ) {\n+                request.debugDestination = controller;\n+                try {\n+                  flushCompletedChunks(request);\n+                } catch (error) {\n+                  logRecoverableError(request, error, null),\n+                    fatalError(request, error);\n+                }\n+              }\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "cb83daf3a9fa84bb6229c4977ee31ffeb923faa3",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.edge.production.js",
            "status": "modified",
            "additions": 45,
            "deletions": 45,
            "changes": 90,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1819,8 +1819,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1838,40 +1837,44 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, importsChunks[i]);\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      writeChunkAndReturn(destination, hintChunks[i]);\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      request.pendingChunks--,\n-        writeChunkAndReturn(destination, regularChunks[i]);\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      request.pendingChunks--, writeChunkAndReturn(destination, errorChunks[i]);\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        (destination.enqueue(\n-          new Uint8Array(currentView.buffer, 0, writtenBytes)\n-        ),\n-        (currentView = null),\n-        (writtenBytes = 0));\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, importsChunks[i]);\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        writeChunkAndReturn(destination, hintChunks[i]);\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, regularChunks[i]);\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        request.pendingChunks--,\n+          writeChunkAndReturn(destination, errorChunks[i]);\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          (destination.enqueue(\n+            new Uint8Array(currentView.buffer, 0, writtenBytes)\n+          ),\n+          (currentView = null),\n+          (writtenBytes = 0));\n+    }\n   }\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n@@ -1881,8 +1884,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.close(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.close(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1904,8 +1907,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setTimeout(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }, 0));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1918,7 +1920,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1931,8 +1933,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1966,8 +1967,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "48bb3b1200a3fba2705eb08e84b2abfaaaca3d6a",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.node.development.js",
            "status": "modified",
            "additions": 287,
            "deletions": 152,
            "changes": 439,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -41,6 +41,9 @@\n         : (obj[key] = value);\n       return obj;\n     }\n+    function flushBuffered(destination) {\n+      \"function\" === typeof destination.flush && destination.flush();\n+    }\n     function writeToDestination(destination, view) {\n       destination = destination.write(view);\n       destinationHasCapacity = destinationHasCapacity && destination;\n@@ -107,6 +110,14 @@\n                 (writtenBytes = 0))));\n       return destinationHasCapacity;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        destination.write(currentView.subarray(0, writtenBytes));\n+      currentView = null;\n+      writtenBytes = 0;\n+      destinationHasCapacity = !0;\n+    }\n     function byteLengthOfChunk(chunk) {\n       return \"string\" === typeof chunk\n         ? Buffer.byteLength(chunk, \"utf8\")\n@@ -904,6 +915,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1413,7 +1425,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2541,9 +2553,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2968,7 +2987,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -3026,11 +3045,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3120,7 +3139,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3186,8 +3205,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3211,87 +3229,134 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      destinationHasCapacity = !0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            destination.write(currentView.subarray(0, writtenBytes)),\n-          (currentView = null),\n-          (writtenBytes = 0),\n-          (destinationHasCapacity = !0);\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n       }\n-      \"function\" === typeof destination.flush && destination.flush();\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.end(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.end(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.end(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.end(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.end(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3303,14 +3368,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setImmediate(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3323,7 +3387,19 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n+        } catch (error) {\n+          logRecoverableError(request, error, null), fatalError(request, error);\n+        }\n+      }\n+    }\n+    function startFlowingDebug(request, debugDestination) {\n+      if (13 === request.status)\n+        (request.status = CLOSED), debugDestination.destroy(request.fatalError);\n+      else if (request.status !== CLOSED && null === request.debugDestination) {\n+        request.debugDestination = debugDestination;\n+        try {\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3336,8 +3412,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3375,8 +3450,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -3392,52 +3466,55 @@\n         throw Error(\n           \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n         );\n-      var command = message.charCodeAt(0);\n-      message = message.slice(2).split(\",\").map(fromHex);\n-      switch (command) {\n-        case 82:\n-          for (command = 0; command < message.length; command++) {\n-            var id = message[command],\n-              retainedValue = deferredDebugObjects.retained.get(id);\n-            void 0 !== retainedValue &&\n-              (request.pendingDebugChunks--,\n-              deferredDebugObjects.retained.delete(id),\n-              deferredDebugObjects.existing.delete(retainedValue),\n-              enqueueFlush(request));\n-          }\n-          break;\n-        case 81:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n+      if (\"\" === message) closeDebugChannel(request);\n+      else {\n+        var command = message.charCodeAt(0);\n+        message = message.slice(2).split(\",\").map(fromHex);\n+        switch (command) {\n+          case 82:\n+            for (command = 0; command < message.length; command++) {\n+              var id = message[command],\n+                retainedValue = deferredDebugObjects.retained.get(id);\n               void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n+                (request.pendingDebugChunks--,\n+                deferredDebugObjects.retained.delete(id),\n                 deferredDebugObjects.existing.delete(retainedValue),\n-                emitOutlinedDebugModelChunk(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ),\n                 enqueueFlush(request));\n-          break;\n-        case 80:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n-              void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n-                emitRequestedDebugThenable(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ));\n-          break;\n-        default:\n-          throw Error(\n-            \"Unknown command. The debugChannel was not wired up properly.\"\n-          );\n+            }\n+            break;\n+          case 81:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  deferredDebugObjects.existing.delete(retainedValue),\n+                  emitOutlinedDebugModelChunk(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ),\n+                  enqueueFlush(request));\n+            break;\n+          case 80:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  emitRequestedDebugThenable(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ));\n+            break;\n+          default:\n+            throw Error(\n+              \"Unknown command. The debugChannel was not wired up properly.\"\n+            );\n+        }\n       }\n     }\n     function closeDebugChannel(request) {\n@@ -4267,6 +4344,25 @@\n           stream.on(\"error\", onError),\n           stream.on(\"end\", onClose));\n     }\n+    function createFakeWritableFromWebSocket(webSocket) {\n+      return {\n+        write: function (chunk) {\n+          webSocket.send(chunk);\n+          return !0;\n+        },\n+        end: function () {\n+          webSocket.close();\n+        },\n+        destroy: function (reason) {\n+          \"object\" === typeof reason &&\n+            null !== reason &&\n+            (reason = reason.message);\n+          \"string\" === typeof reason\n+            ? webSocket.close(1011, reason)\n+            : webSocket.close(1011);\n+        }\n+      };\n+    }\n     function createFakeWritableFromReadableStreamController(controller) {\n       return {\n         write: function (chunk) {\n@@ -4923,12 +5019,12 @@\n             \"React doesn't accept base64 encoded file uploads because we don't expect form data passed from a browser to ever encode data that way. If that's the wrong assumption, we can easily fix it.\"\n           );\n         pendingFiles++;\n-        var JSCompiler_object_inline_chunks_219 = [];\n+        var JSCompiler_object_inline_chunks_226 = [];\n         value.on(\"data\", function (chunk) {\n-          JSCompiler_object_inline_chunks_219.push(chunk);\n+          JSCompiler_object_inline_chunks_226.push(chunk);\n         });\n         value.on(\"end\", function () {\n-          var blob = new Blob(JSCompiler_object_inline_chunks_219, {\n+          var blob = new Blob(JSCompiler_object_inline_chunks_226, {\n             type: mimeType\n           });\n           response._formData.append(name, blob, filename);\n@@ -4977,7 +5073,21 @@\n     };\n     exports.renderToPipeableStream = function (model, webpackMap, options) {\n       var debugChannel = options ? options.debugChannel : void 0,\n-        request = createRequest(\n+        debugChannelReadable =\n+          void 0 === debugChannel ||\n+          (\"function\" !== typeof debugChannel.read &&\n+            \"number\" !== typeof debugChannel.readyState)\n+            ? void 0\n+            : debugChannel;\n+      debugChannel =\n+        void 0 !== debugChannel\n+          ? \"function\" === typeof debugChannel.write\n+            ? debugChannel\n+            : \"function\" === typeof debugChannel.send\n+              ? createFakeWritableFromWebSocket(debugChannel)\n+              : void 0\n+          : void 0;\n+      var request = createRequest(\n           model,\n           webpackMap,\n           options ? options.onError : void 0,\n@@ -4986,12 +5096,13 @@\n           options ? options.temporaryReferences : void 0,\n           options ? options.environmentName : void 0,\n           options ? options.filterStackFrame : void 0,\n-          void 0 !== debugChannel\n+          void 0 !== debugChannelReadable\n         ),\n         hasStartedFlowing = !1;\n       startWork(request);\n-      void 0 !== debugChannel &&\n-        startReadingFromDebugChannelReadable(request, debugChannel);\n+      void 0 !== debugChannel && startFlowingDebug(request, debugChannel);\n+      void 0 !== debugChannelReadable &&\n+        startReadingFromDebugChannelReadable(request, debugChannelReadable);\n       return {\n         pipe: function (destination) {\n           if (hasStartedFlowing)\n@@ -5008,10 +5119,14 @@\n               \"The destination stream errored while writing data.\"\n             )\n           );\n-          destination.on(\n-            \"close\",\n-            createCancelHandler(request, \"The destination stream closed early.\")\n-          );\n+          if (void 0 === debugChannelReadable)\n+            destination.on(\n+              \"close\",\n+              createCancelHandler(\n+                request,\n+                \"The destination stream closed early.\"\n+              )\n+            );\n           return destination;\n         },\n         abort: function (reason) {\n@@ -5024,6 +5139,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -5046,6 +5165,22 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      if (void 0 !== debugChannelWritable) {\n+        var debugWritable;\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            start: function (controller) {\n+              debugWritable =\n+                createFakeWritableFromReadableStreamController(controller);\n+            },\n+            pull: function () {\n+              startFlowingDebug(request, debugWritable);\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n+      }\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "7dbdde39bbd740cf79c09bf04baa972c720e49e4",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.node.production.js",
            "status": "modified",
            "additions": 68,
            "deletions": 69,
            "changes": 137,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1829,8 +1829,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1848,65 +1847,68 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  destinationHasCapacity = !0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, importsChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, regularChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, errorChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        destination.write(currentView.subarray(0, writtenBytes)),\n-      (currentView = null),\n-      (writtenBytes = 0),\n-      (destinationHasCapacity = !0);\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    destinationHasCapacity = !0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, importsChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        if (!writeChunkAndReturn(destination, hintChunks[i])) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, regularChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, errorChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          destination.write(currentView.subarray(0, writtenBytes)),\n+        (currentView = null),\n+        (writtenBytes = 0),\n+        (destinationHasCapacity = !0);\n+    }\n+    \"function\" === typeof destination.flush && destination.flush();\n   }\n-  \"function\" === typeof destination.flush && destination.flush();\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n       request.cacheController.abort(\n@@ -1915,8 +1917,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.end(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.end(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1934,8 +1936,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setImmediate(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1948,7 +1949,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1961,8 +1962,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1996,8 +1996,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "4f43dbb5da1edc70312ebe0d012a02014181bf59",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.node.unbundled.development.js",
            "status": "modified",
            "additions": 287,
            "deletions": 152,
            "changes": 439,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -41,6 +41,9 @@\n         : (obj[key] = value);\n       return obj;\n     }\n+    function flushBuffered(destination) {\n+      \"function\" === typeof destination.flush && destination.flush();\n+    }\n     function writeToDestination(destination, view) {\n       destination = destination.write(view);\n       destinationHasCapacity = destinationHasCapacity && destination;\n@@ -107,6 +110,14 @@\n                 (writtenBytes = 0))));\n       return destinationHasCapacity;\n     }\n+    function completeWriting(destination) {\n+      currentView &&\n+        0 < writtenBytes &&\n+        destination.write(currentView.subarray(0, writtenBytes));\n+      currentView = null;\n+      writtenBytes = 0;\n+      destinationHasCapacity = !0;\n+    }\n     function byteLengthOfChunk(chunk) {\n       return \"string\" === typeof chunk\n         ? Buffer.byteLength(chunk, \"utf8\")\n@@ -904,6 +915,7 @@\n       this.onFatalError = onFatalError;\n       this.pendingDebugChunks = 0;\n       this.completedDebugChunks = [];\n+      this.debugDestination = null;\n       this.environmentName =\n         void 0 === environmentName\n           ? function () {\n@@ -1413,7 +1425,7 @@\n           var componentDebugID = task.id;\n           componentDebugInfo = Component.displayName || Component.name || \"\";\n           var componentEnv = (0, request.environmentName)();\n-          request.pendingDebugChunks++;\n+          request.pendingChunks++;\n           componentDebugInfo = {\n             name: componentDebugInfo,\n             env: componentEnv,\n@@ -2541,9 +2553,16 @@\n       request.completedDebugChunks.push(id);\n     }\n     function emitDebugChunk(request, id, debugInfo) {\n-      debugInfo = serializeDebugModel(request, 500, debugInfo);\n-      id = id.toString(16) + \":D\" + debugInfo + \"\\n\";\n-      request.completedDebugChunks.push(id);\n+      var json = serializeDebugModel(request, 500, debugInfo);\n+      null !== request.debugDestination\n+        ? ((debugInfo = request.nextChunkId++),\n+          (json = debugInfo.toString(16) + \":\" + json + \"\\n\"),\n+          request.pendingDebugChunks++,\n+          request.completedDebugChunks.push(json),\n+          (id = id.toString(16) + ':D\"$' + debugInfo.toString(16) + '\"\\n'),\n+          request.completedRegularChunks.push(id))\n+        : ((id = id.toString(16) + \":D\" + json + \"\\n\"),\n+          request.completedRegularChunks.push(id));\n     }\n     function outlineComponentInfo(request, componentInfo) {\n       if (!request.writtenDebugObjects.has(componentInfo)) {\n@@ -2968,7 +2987,7 @@\n         if (\"number\" !== typeof info.time)\n           if (\"string\" === typeof info.name)\n             outlineComponentInfo(request$jscomp$1, info),\n-              request$jscomp$1.pendingDebugChunks++,\n+              request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n           else if (info.awaited) {\n             var ioInfo = info.awaited;\n@@ -3026,11 +3045,11 @@\n               null != info.env && (ioInfo.env = info.env);\n               null != info.owner && (ioInfo.owner = info.owner);\n               null != request && (ioInfo.stack = request);\n-              request$jscomp$1.pendingDebugChunks++;\n+              request$jscomp$1.pendingChunks++;\n               emitDebugChunk(request$jscomp$1, task, ioInfo);\n             }\n           } else\n-            request$jscomp$1.pendingDebugChunks++,\n+            request$jscomp$1.pendingChunks++,\n               emitDebugChunk(request$jscomp$1, task, info);\n       }\n     }\n@@ -3120,7 +3139,7 @@\n           task.implicitSlot = !1;\n           var currentEnv = (0, request.environmentName)();\n           currentEnv !== task.environmentName &&\n-            (request.pendingDebugChunks++,\n+            (request.pendingChunks++,\n             emitDebugChunk(request, task.id, { env: currentEnv }));\n           if (\"object\" === typeof resolvedModel && null !== resolvedModel)\n             request.writtenObjects.set(\n@@ -3186,8 +3205,7 @@\n         request.pingedTasks = [];\n         for (var i = 0; i < pingedTasks.length; i++)\n           retryTask(request, pingedTasks[i]);\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       } finally {\n@@ -3211,87 +3229,134 @@\n         request.completedErrorChunks.push(task);\n       }\n     }\n-    function flushCompletedChunks(request, destination) {\n-      currentView = new Uint8Array(2048);\n-      writtenBytes = 0;\n-      destinationHasCapacity = !0;\n-      try {\n-        for (\n-          var importsChunks = request.completedImportChunks, i = 0;\n-          i < importsChunks.length;\n-          i++\n-        )\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, importsChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        importsChunks.splice(0, i);\n-        var hintChunks = request.completedHintChunks;\n-        for (i = 0; i < hintChunks.length; i++)\n-          if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        hintChunks.splice(0, i);\n-        var debugChunks = request.completedDebugChunks;\n-        for (i = 0; i < debugChunks.length; i++)\n-          if (\n-            (request.pendingDebugChunks--,\n-            !writeChunkAndReturn(destination, debugChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        debugChunks.splice(0, i);\n-        var regularChunks = request.completedRegularChunks;\n-        for (i = 0; i < regularChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, regularChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n-          }\n-        regularChunks.splice(0, i);\n-        var errorChunks = request.completedErrorChunks;\n-        for (i = 0; i < errorChunks.length; i++)\n-          if (\n-            (request.pendingChunks--,\n-            !writeChunkAndReturn(destination, errorChunks[i]))\n-          ) {\n-            request.destination = null;\n-            i++;\n-            break;\n+    function flushCompletedChunks(request) {\n+      if (null !== request.debugDestination) {\n+        var debugDestination = request.debugDestination;\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          for (\n+            var debugChunks = request.completedDebugChunks, i = 0;\n+            i < debugChunks.length;\n+            i++\n+          )\n+            request.pendingDebugChunks--,\n+              writeChunkAndReturn(debugDestination, debugChunks[i]);\n+          debugChunks.splice(0, i);\n+        } finally {\n+          completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n+      }\n+      debugDestination = request.destination;\n+      if (null !== debugDestination) {\n+        currentView = new Uint8Array(2048);\n+        writtenBytes = 0;\n+        destinationHasCapacity = !0;\n+        try {\n+          var importsChunks = request.completedImportChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < importsChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                importsChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          importsChunks.splice(0, debugChunks);\n+          var hintChunks = request.completedHintChunks;\n+          for (debugChunks = 0; debugChunks < hintChunks.length; debugChunks++)\n+            if (\n+              !writeChunkAndReturn(debugDestination, hintChunks[debugChunks])\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          hintChunks.splice(0, debugChunks);\n+          if (null === request.debugDestination) {\n+            var _debugChunks = request.completedDebugChunks;\n+            for (\n+              debugChunks = 0;\n+              debugChunks < _debugChunks.length;\n+              debugChunks++\n+            )\n+              if (\n+                (request.pendingDebugChunks--,\n+                !writeChunkAndReturn(\n+                  debugDestination,\n+                  _debugChunks[debugChunks]\n+                ))\n+              ) {\n+                request.destination = null;\n+                debugChunks++;\n+                break;\n+              }\n+            _debugChunks.splice(0, debugChunks);\n           }\n-        errorChunks.splice(0, i);\n-      } finally {\n-        (request.flushScheduled = !1),\n-          currentView &&\n-            0 < writtenBytes &&\n-            destination.write(currentView.subarray(0, writtenBytes)),\n-          (currentView = null),\n-          (writtenBytes = 0),\n-          (destinationHasCapacity = !0);\n+          var regularChunks = request.completedRegularChunks;\n+          for (\n+            debugChunks = 0;\n+            debugChunks < regularChunks.length;\n+            debugChunks++\n+          )\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(\n+                debugDestination,\n+                regularChunks[debugChunks]\n+              ))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          regularChunks.splice(0, debugChunks);\n+          var errorChunks = request.completedErrorChunks;\n+          for (debugChunks = 0; debugChunks < errorChunks.length; debugChunks++)\n+            if (\n+              (request.pendingChunks--,\n+              !writeChunkAndReturn(debugDestination, errorChunks[debugChunks]))\n+            ) {\n+              request.destination = null;\n+              debugChunks++;\n+              break;\n+            }\n+          errorChunks.splice(0, debugChunks);\n+        } finally {\n+          (request.flushScheduled = !1), completeWriting(debugDestination);\n+        }\n+        flushBuffered(debugDestination);\n       }\n-      \"function\" === typeof destination.flush && destination.flush();\n       0 === request.pendingChunks &&\n-        0 === request.pendingDebugChunks &&\n-        (request.status < ABORTING &&\n-          request.cacheController.abort(\n-            Error(\n-              \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n-            )\n-          ),\n-        (request.status = CLOSED),\n-        destination.end(),\n-        (request.destination = null));\n+        ((importsChunks = request.debugDestination),\n+        0 === request.pendingDebugChunks\n+          ? (null !== importsChunks &&\n+              (importsChunks.end(), (request.debugDestination = null)),\n+            request.status < ABORTING &&\n+              request.cacheController.abort(\n+                Error(\n+                  \"This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.\"\n+                )\n+              ),\n+            (request.status = CLOSED),\n+            null !== request.destination &&\n+              (request.destination.end(), (request.destination = null)),\n+            null !== request.debugDestination &&\n+              (request.debugDestination.end(),\n+              (request.debugDestination = null)))\n+          : null !== importsChunks &&\n+            null !== request.destination &&\n+            (request.destination.end(), (request.destination = null)));\n     }\n     function startWork(request) {\n       request.flushScheduled = null !== request.destination;\n@@ -3303,14 +3368,13 @@\n       });\n     }\n     function enqueueFlush(request) {\n-      !1 === request.flushScheduled &&\n-        0 === request.pingedTasks.length &&\n-        null !== request.destination &&\n+      !1 !== request.flushScheduled ||\n+        0 !== request.pingedTasks.length ||\n+        (null === request.destination && null === request.debugDestination) ||\n         ((request.flushScheduled = !0),\n         setImmediate(function () {\n           request.flushScheduled = !1;\n-          var destination = request.destination;\n-          destination && flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n         }));\n     }\n     function callOnAllReadyIfReady(request) {\n@@ -3323,7 +3387,19 @@\n       else if (request.status !== CLOSED && null === request.destination) {\n         request.destination = destination;\n         try {\n-          flushCompletedChunks(request, destination);\n+          flushCompletedChunks(request);\n+        } catch (error) {\n+          logRecoverableError(request, error, null), fatalError(request, error);\n+        }\n+      }\n+    }\n+    function startFlowingDebug(request, debugDestination) {\n+      if (13 === request.status)\n+        (request.status = CLOSED), debugDestination.destroy(request.fatalError);\n+      else if (request.status !== CLOSED && null === request.debugDestination) {\n+        request.debugDestination = debugDestination;\n+        try {\n+          flushCompletedChunks(request);\n         } catch (error) {\n           logRecoverableError(request, error, null), fatalError(request, error);\n         }\n@@ -3336,8 +3412,7 @@\n         });\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       } catch (error) {\n         logRecoverableError(request, error, null), fatalError(request, error);\n       }\n@@ -3375,8 +3450,7 @@\n           } else {\n             var onAllReady = request.onAllReady;\n             onAllReady();\n-            null !== request.destination &&\n-              flushCompletedChunks(request, request.destination);\n+            flushCompletedChunks(request);\n           }\n         } catch (error$2) {\n           logRecoverableError(request, error$2, null),\n@@ -3392,52 +3466,55 @@\n         throw Error(\n           \"resolveDebugMessage/closeDebugChannel should not be called for a Request that wasn't kept alive. This is a bug in React.\"\n         );\n-      var command = message.charCodeAt(0);\n-      message = message.slice(2).split(\",\").map(fromHex);\n-      switch (command) {\n-        case 82:\n-          for (command = 0; command < message.length; command++) {\n-            var id = message[command],\n-              retainedValue = deferredDebugObjects.retained.get(id);\n-            void 0 !== retainedValue &&\n-              (request.pendingDebugChunks--,\n-              deferredDebugObjects.retained.delete(id),\n-              deferredDebugObjects.existing.delete(retainedValue),\n-              enqueueFlush(request));\n-          }\n-          break;\n-        case 81:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n+      if (\"\" === message) closeDebugChannel(request);\n+      else {\n+        var command = message.charCodeAt(0);\n+        message = message.slice(2).split(\",\").map(fromHex);\n+        switch (command) {\n+          case 82:\n+            for (command = 0; command < message.length; command++) {\n+              var id = message[command],\n+                retainedValue = deferredDebugObjects.retained.get(id);\n               void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n+                (request.pendingDebugChunks--,\n+                deferredDebugObjects.retained.delete(id),\n                 deferredDebugObjects.existing.delete(retainedValue),\n-                emitOutlinedDebugModelChunk(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ),\n                 enqueueFlush(request));\n-          break;\n-        case 80:\n-          for (command = 0; command < message.length; command++)\n-            (id = message[command]),\n-              (retainedValue = deferredDebugObjects.retained.get(id)),\n-              void 0 !== retainedValue &&\n-                (deferredDebugObjects.retained.delete(id),\n-                emitRequestedDebugThenable(\n-                  request,\n-                  id,\n-                  { objectLimit: 10 },\n-                  retainedValue\n-                ));\n-          break;\n-        default:\n-          throw Error(\n-            \"Unknown command. The debugChannel was not wired up properly.\"\n-          );\n+            }\n+            break;\n+          case 81:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  deferredDebugObjects.existing.delete(retainedValue),\n+                  emitOutlinedDebugModelChunk(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ),\n+                  enqueueFlush(request));\n+            break;\n+          case 80:\n+            for (command = 0; command < message.length; command++)\n+              (id = message[command]),\n+                (retainedValue = deferredDebugObjects.retained.get(id)),\n+                void 0 !== retainedValue &&\n+                  (deferredDebugObjects.retained.delete(id),\n+                  emitRequestedDebugThenable(\n+                    request,\n+                    id,\n+                    { objectLimit: 10 },\n+                    retainedValue\n+                  ));\n+            break;\n+          default:\n+            throw Error(\n+              \"Unknown command. The debugChannel was not wired up properly.\"\n+            );\n+        }\n       }\n     }\n     function closeDebugChannel(request) {\n@@ -4230,6 +4307,25 @@\n           stream.on(\"error\", onError),\n           stream.on(\"end\", onClose));\n     }\n+    function createFakeWritableFromWebSocket(webSocket) {\n+      return {\n+        write: function (chunk) {\n+          webSocket.send(chunk);\n+          return !0;\n+        },\n+        end: function () {\n+          webSocket.close();\n+        },\n+        destroy: function (reason) {\n+          \"object\" === typeof reason &&\n+            null !== reason &&\n+            (reason = reason.message);\n+          \"string\" === typeof reason\n+            ? webSocket.close(1011, reason)\n+            : webSocket.close(1011);\n+        }\n+      };\n+    }\n     function createFakeWritableFromReadableStreamController(controller) {\n       return {\n         write: function (chunk) {\n@@ -4886,12 +4982,12 @@\n             \"React doesn't accept base64 encoded file uploads because we don't expect form data passed from a browser to ever encode data that way. If that's the wrong assumption, we can easily fix it.\"\n           );\n         pendingFiles++;\n-        var JSCompiler_object_inline_chunks_219 = [];\n+        var JSCompiler_object_inline_chunks_226 = [];\n         value.on(\"data\", function (chunk) {\n-          JSCompiler_object_inline_chunks_219.push(chunk);\n+          JSCompiler_object_inline_chunks_226.push(chunk);\n         });\n         value.on(\"end\", function () {\n-          var blob = new Blob(JSCompiler_object_inline_chunks_219, {\n+          var blob = new Blob(JSCompiler_object_inline_chunks_226, {\n             type: mimeType\n           });\n           response._formData.append(name, blob, filename);\n@@ -4940,7 +5036,21 @@\n     };\n     exports.renderToPipeableStream = function (model, webpackMap, options) {\n       var debugChannel = options ? options.debugChannel : void 0,\n-        request = createRequest(\n+        debugChannelReadable =\n+          void 0 === debugChannel ||\n+          (\"function\" !== typeof debugChannel.read &&\n+            \"number\" !== typeof debugChannel.readyState)\n+            ? void 0\n+            : debugChannel;\n+      debugChannel =\n+        void 0 !== debugChannel\n+          ? \"function\" === typeof debugChannel.write\n+            ? debugChannel\n+            : \"function\" === typeof debugChannel.send\n+              ? createFakeWritableFromWebSocket(debugChannel)\n+              : void 0\n+          : void 0;\n+      var request = createRequest(\n           model,\n           webpackMap,\n           options ? options.onError : void 0,\n@@ -4949,12 +5059,13 @@\n           options ? options.temporaryReferences : void 0,\n           options ? options.environmentName : void 0,\n           options ? options.filterStackFrame : void 0,\n-          void 0 !== debugChannel\n+          void 0 !== debugChannelReadable\n         ),\n         hasStartedFlowing = !1;\n       startWork(request);\n-      void 0 !== debugChannel &&\n-        startReadingFromDebugChannelReadable(request, debugChannel);\n+      void 0 !== debugChannel && startFlowingDebug(request, debugChannel);\n+      void 0 !== debugChannelReadable &&\n+        startReadingFromDebugChannelReadable(request, debugChannelReadable);\n       return {\n         pipe: function (destination) {\n           if (hasStartedFlowing)\n@@ -4971,10 +5082,14 @@\n               \"The destination stream errored while writing data.\"\n             )\n           );\n-          destination.on(\n-            \"close\",\n-            createCancelHandler(request, \"The destination stream closed early.\")\n-          );\n+          if (void 0 === debugChannelReadable)\n+            destination.on(\n+              \"close\",\n+              createCancelHandler(\n+                request,\n+                \"The destination stream closed early.\"\n+              )\n+            );\n           return destination;\n         },\n         abort: function (reason) {\n@@ -4987,6 +5102,10 @@\n           options && options.debugChannel\n             ? options.debugChannel.readable\n             : void 0,\n+        debugChannelWritable =\n+          options && options.debugChannel\n+            ? options.debugChannel.writable\n+            : void 0,\n         request = createRequest(\n           model,\n           webpackMap,\n@@ -5009,6 +5128,22 @@\n           signal.addEventListener(\"abort\", listener);\n         }\n       }\n+      if (void 0 !== debugChannelWritable) {\n+        var debugWritable;\n+        new ReadableStream(\n+          {\n+            type: \"bytes\",\n+            start: function (controller) {\n+              debugWritable =\n+                createFakeWritableFromReadableStreamController(controller);\n+            },\n+            pull: function () {\n+              startFlowingDebug(request, debugWritable);\n+            }\n+          },\n+          { highWaterMark: 0 }\n+        ).pipeTo(debugChannelWritable);\n+      }\n       void 0 !== debugChannelReadable &&\n         startReadingFromDebugChannelReadableStream(\n           request,"
        },
        {
            "sha": "9ddbe3537b2a727fed5e24f2d479736417798305",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.node.unbundled.production.js",
            "status": "modified",
            "additions": 68,
            "deletions": 69,
            "changes": 137,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.node.unbundled.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1829,8 +1829,7 @@ function performWork(request) {\n     request.pingedTasks = [];\n     for (var i = 0; i < pingedTasks.length; i++)\n       retryTask(request, pingedTasks[i]);\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   } finally {\n@@ -1848,65 +1847,68 @@ function finishAbortedTask(task, request, errorId) {\n     (task = encodeReferenceChunk(request, task.id, errorId)),\n     request.completedErrorChunks.push(task));\n }\n-function flushCompletedChunks(request, destination) {\n-  currentView = new Uint8Array(2048);\n-  writtenBytes = 0;\n-  destinationHasCapacity = !0;\n-  try {\n-    for (\n-      var importsChunks = request.completedImportChunks, i = 0;\n-      i < importsChunks.length;\n-      i++\n-    )\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, importsChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    importsChunks.splice(0, i);\n-    var hintChunks = request.completedHintChunks;\n-    for (i = 0; i < hintChunks.length; i++)\n-      if (!writeChunkAndReturn(destination, hintChunks[i])) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    hintChunks.splice(0, i);\n-    var regularChunks = request.completedRegularChunks;\n-    for (i = 0; i < regularChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, regularChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    regularChunks.splice(0, i);\n-    var errorChunks = request.completedErrorChunks;\n-    for (i = 0; i < errorChunks.length; i++)\n-      if (\n-        (request.pendingChunks--,\n-        !writeChunkAndReturn(destination, errorChunks[i]))\n-      ) {\n-        request.destination = null;\n-        i++;\n-        break;\n-      }\n-    errorChunks.splice(0, i);\n-  } finally {\n-    (request.flushScheduled = !1),\n-      currentView &&\n-        0 < writtenBytes &&\n-        destination.write(currentView.subarray(0, writtenBytes)),\n-      (currentView = null),\n-      (writtenBytes = 0),\n-      (destinationHasCapacity = !0);\n+function flushCompletedChunks(request) {\n+  var destination = request.destination;\n+  if (null !== destination) {\n+    currentView = new Uint8Array(2048);\n+    writtenBytes = 0;\n+    destinationHasCapacity = !0;\n+    try {\n+      for (\n+        var importsChunks = request.completedImportChunks, i = 0;\n+        i < importsChunks.length;\n+        i++\n+      )\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, importsChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      importsChunks.splice(0, i);\n+      var hintChunks = request.completedHintChunks;\n+      for (i = 0; i < hintChunks.length; i++)\n+        if (!writeChunkAndReturn(destination, hintChunks[i])) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      hintChunks.splice(0, i);\n+      var regularChunks = request.completedRegularChunks;\n+      for (i = 0; i < regularChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, regularChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      regularChunks.splice(0, i);\n+      var errorChunks = request.completedErrorChunks;\n+      for (i = 0; i < errorChunks.length; i++)\n+        if (\n+          (request.pendingChunks--,\n+          !writeChunkAndReturn(destination, errorChunks[i]))\n+        ) {\n+          request.destination = null;\n+          i++;\n+          break;\n+        }\n+      errorChunks.splice(0, i);\n+    } finally {\n+      (request.flushScheduled = !1),\n+        currentView &&\n+          0 < writtenBytes &&\n+          destination.write(currentView.subarray(0, writtenBytes)),\n+        (currentView = null),\n+        (writtenBytes = 0),\n+        (destinationHasCapacity = !0);\n+    }\n+    \"function\" === typeof destination.flush && destination.flush();\n   }\n-  \"function\" === typeof destination.flush && destination.flush();\n   0 === request.pendingChunks &&\n     (12 > request.status &&\n       request.cacheController.abort(\n@@ -1915,8 +1917,8 @@ function flushCompletedChunks(request, destination) {\n         )\n       ),\n     (request.status = 14),\n-    destination.end(),\n-    (request.destination = null));\n+    null !== request.destination &&\n+      (request.destination.end(), (request.destination = null)));\n }\n function startWork(request) {\n   request.flushScheduled = null !== request.destination;\n@@ -1934,8 +1936,7 @@ function enqueueFlush(request) {\n     ((request.flushScheduled = !0),\n     setImmediate(function () {\n       request.flushScheduled = !1;\n-      var destination = request.destination;\n-      destination && flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     }));\n }\n function callOnAllReadyIfReady(request) {\n@@ -1948,7 +1949,7 @@ function startFlowing(request, destination) {\n   else if (14 !== request.status && null === request.destination) {\n     request.destination = destination;\n     try {\n-      flushCompletedChunks(request, destination);\n+      flushCompletedChunks(request);\n     } catch (error) {\n       logRecoverableError(request, error, null), fatalError(request, error);\n     }\n@@ -1961,8 +1962,7 @@ function finishAbort(request, abortedTasks, errorId) {\n     });\n     var onAllReady = request.onAllReady;\n     onAllReady();\n-    null !== request.destination &&\n-      flushCompletedChunks(request, request.destination);\n+    flushCompletedChunks(request);\n   } catch (error) {\n     logRecoverableError(request, error, null), fatalError(request, error);\n   }\n@@ -1996,8 +1996,7 @@ function abort(request, reason) {\n       } else {\n         var onAllReady = request.onAllReady;\n         onAllReady();\n-        null !== request.destination &&\n-          flushCompletedChunks(request, request.destination);\n+        flushCompletedChunks(request);\n       }\n     } catch (error$23) {\n       logRecoverableError(request, error$23, null),"
        },
        {
            "sha": "d3d26b01ba53c677be38ac257ec7813f8b52c78a",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fpackage.json?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -64,8 +64,8 @@\n     \"webpack-sources\": \"^3.2.0\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"19.2.0-canary-96c61b7f-20250709\",\n-    \"react-dom\": \"19.2.0-canary-96c61b7f-20250709\",\n+    \"react\": \"19.2.0-canary-97cdd5d3-20250710\",\n+    \"react-dom\": \"19.2.0-canary-97cdd5d3-20250710\",\n     \"webpack\": \"^5.59.0\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "5c01316dcd55292535da602842d571f7a2ee6fe9",
            "filename": "packages/next/src/compiled/react/cjs/react.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1244,7 +1244,7 @@\n     exports.useTransition = function () {\n       return resolveDispatcher().useTransition();\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "753c749f36f2da96a08f2221679dc8a691373285",
            "filename": "packages/next/src/compiled/react/cjs/react.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -543,4 +543,4 @@ exports.useSyncExternalStore = function (\n exports.useTransition = function () {\n   return ReactSharedInternals.H.useTransition();\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "8d196c908a5729d4a586e33170b6790c3a1ab129",
            "filename": "packages/next/src/compiled/react/cjs/react.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.development.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -816,5 +816,5 @@\n     exports.useMemo = function (create, deps) {\n       return resolveDispatcher().useMemo(create, deps);\n     };\n-    exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+    exports.version = \"19.2.0-canary-97cdd5d3-20250710\";\n   })();"
        },
        {
            "sha": "5bf26c003fed9abfdcfdf572ae839a9cf2c46c12",
            "filename": "packages/next/src/compiled/react/cjs/react.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.production.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -430,4 +430,4 @@ exports.useId = function () {\n exports.useMemo = function (create, deps) {\n   return ReactSharedInternals.H.useMemo(create, deps);\n };\n-exports.version = \"19.2.0-canary-96c61b7f-20250709\";\n+exports.version = \"19.2.0-canary-97cdd5d3-20250710\";"
        },
        {
            "sha": "42ca7be2b23495a20e9dec7d4c7d351e45931d8b",
            "filename": "packages/next/src/compiled/unistore/unistore.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Funistore%2Funistore.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/packages%2Fnext%2Fsrc%2Fcompiled%2Funistore%2Funistore.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Funistore%2Funistore.js?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -1 +1 @@\n-(()=>{var t={334:t=>{function n(t,i){for(var _ in i)t[_]=i[_];return t}t.exports=function(t){var i=[];function u(t){for(var _=[],a=0;a<i.length;a++)i[a]===t?t=null:_.push(i[a]);i=_}function e(_,a,f){t=a?_:n(n({},t),_);for(var o=i,c=0;c<o.length;c++)o[c](t,f)}return t=t||{},{action:function(i){function r(t){e(t,!1,i)}return function(){for(var _=arguments,a=[t],f=0;f<arguments.length;f++)a.push(_[f]);var o=i.apply(this,a);if(null!=o)return o.then?o.then(r):r(o)}},setState:e,subscribe:function(t){return i.push(t),function(){u(t)}},unsubscribe:u,getState:function(){return t}}}}};var i={};function __nccwpck_require__(_){var a=i[_];if(a!==undefined){return a.exports}var f=i[_]={exports:{}};var o=true;try{t[_](f,f.exports,__nccwpck_require__);o=false}finally{if(o)delete i[_]}return f.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var _=__nccwpck_require__(334);module.exports=_})();\n\\ No newline at end of file\n+(()=>{var t={748:t=>{function n(t,i){for(var _ in i)t[_]=i[_];return t}t.exports=function(t){var i=[];function u(t){for(var _=[],a=0;a<i.length;a++)i[a]===t?t=null:_.push(i[a]);i=_}function e(_,a,f){t=a?_:n(n({},t),_);for(var o=i,c=0;c<o.length;c++)o[c](t,f)}return t=t||{},{action:function(i){function r(t){e(t,!1,i)}return function(){for(var _=arguments,a=[t],f=0;f<arguments.length;f++)a.push(_[f]);var o=i.apply(this,a);if(null!=o)return o.then?o.then(r):r(o)}},setState:e,subscribe:function(t){return i.push(t),function(){u(t)}},unsubscribe:u,getState:function(){return t}}}}};var i={};function __nccwpck_require__(_){var a=i[_];if(a!==undefined){return a.exports}var f=i[_]={exports:{}};var o=true;try{t[_](f,f.exports,__nccwpck_require__);o=false}finally{if(o)delete i[_]}return f.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var _=__nccwpck_require__(748);module.exports=_})();\n\\ No newline at end of file"
        },
        {
            "sha": "d32b638e32b1c3f30ee916892f9749e71929e5d1",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 239,
            "deletions": 239,
            "changes": 478,
            "blob_url": "https://github.com/vercel/next.js/blob/3be29d88298c12ec313d771a5e7ccbdad55b9b60/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/3be29d88298c12ec313d771a5e7ccbdad55b9b60/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=3be29d88298c12ec313d771a5e7ccbdad55b9b60",
            "patch": "@@ -17,10 +17,10 @@ overrides:\n   '@types/react-dom': 19.1.2\n   '@types/retry': 0.12.0\n   jest-snapshot: 30.0.0-alpha.6\n-  react: 19.2.0-canary-96c61b7f-20250709\n-  react-dom: 19.2.0-canary-96c61b7f-20250709\n-  react-is: 19.2.0-canary-96c61b7f-20250709\n-  scheduler: 0.27.0-canary-96c61b7f-20250709\n+  react: 19.2.0-canary-97cdd5d3-20250710\n+  react-dom: 19.2.0-canary-97cdd5d3-20250710\n+  react-is: 19.2.0-canary-97cdd5d3-20250710\n+  scheduler: 0.27.0-canary-97cdd5d3-20250710\n \n patchedDependencies:\n   '@ampproject/toolbox-optimizer@2.8.3':\n@@ -90,7 +90,7 @@ importers:\n         version: 11.11.0\n       '@emotion/react':\n         specifier: 11.11.1\n-        version: 11.11.1(@types/react@19.1.1)(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 11.11.1(@types/react@19.1.1)(react@19.2.0-canary-97cdd5d3-20250710)\n       '@fullhuman/postcss-purgecss':\n         specifier: 1.3.0\n         version: 1.3.0\n@@ -102,7 +102,7 @@ importers:\n         version: 2.2.1(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15)))\n       '@mdx-js/react':\n         specifier: 2.2.1\n-        version: 2.2.1(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 2.2.1(react@19.2.0-canary-97cdd5d3-20250710)\n       '@next/bundle-analyzer':\n         specifier: workspace:*\n         version: link:packages/next-bundle-analyzer\n@@ -168,7 +168,7 @@ importers:\n         version: 6.1.2(@jest/globals@29.7.0)(@types/jest@29.5.5)(jest@29.7.0(@types/node@20.17.6(patch_hash=rvl3vkomen3tospgr67bzubfyu))(babel-plugin-macros@3.1.0))(vitest@3.0.4(@types/node@20.17.6(patch_hash=rvl3vkomen3tospgr67bzubfyu))(sass@1.54.0)(tsx@4.19.2))\n       '@testing-library/react':\n         specifier: ^15.0.5\n-        version: 15.0.7(@types/react@19.1.1)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 15.0.7(@types/react@19.1.1)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       '@types/busboy':\n         specifier: 1.5.3\n         version: 1.5.3\n@@ -488,44 +488,44 @@ importers:\n         specifier: 0.3.0\n         version: 0.3.0\n       react:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710\n       react-builtin:\n-        specifier: npm:react@19.2.0-canary-96c61b7f-20250709\n-        version: react@19.2.0-canary-96c61b7f-20250709\n+        specifier: npm:react@19.2.0-canary-97cdd5d3-20250710\n+        version: react@19.2.0-canary-97cdd5d3-20250710\n       react-dom:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       react-dom-builtin:\n-        specifier: npm:react-dom@19.2.0-canary-96c61b7f-20250709\n-        version: react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+        specifier: npm:react-dom@19.2.0-canary-97cdd5d3-20250710\n+        version: react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       react-dom-experimental-builtin:\n-        specifier: npm:react-dom@0.0.0-experimental-96c61b7f-20250709\n-        version: react-dom@0.0.0-experimental-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+        specifier: npm:react-dom@0.0.0-experimental-97cdd5d3-20250710\n+        version: react-dom@0.0.0-experimental-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       react-experimental-builtin:\n-        specifier: npm:react@0.0.0-experimental-96c61b7f-20250709\n-        version: react@0.0.0-experimental-96c61b7f-20250709\n+        specifier: npm:react@0.0.0-experimental-97cdd5d3-20250710\n+        version: react@0.0.0-experimental-97cdd5d3-20250710\n       react-is-builtin:\n-        specifier: npm:react-is@19.2.0-canary-96c61b7f-20250709\n-        version: react-is@19.2.0-canary-96c61b7f-20250709\n+        specifier: npm:react-is@19.2.0-canary-97cdd5d3-20250710\n+        version: react-is@19.2.0-canary-97cdd5d3-20250710\n       react-server-dom-turbopack:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       react-server-dom-turbopack-experimental:\n-        specifier: npm:react-server-dom-turbopack@0.0.0-experimental-96c61b7f-20250709\n-        version: react-server-dom-turbopack@0.0.0-experimental-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+        specifier: npm:react-server-dom-turbopack@0.0.0-experimental-97cdd5d3-20250710\n+        version: react-server-dom-turbopack@0.0.0-experimental-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       react-server-dom-webpack:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15)))\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15)))\n       react-server-dom-webpack-experimental:\n-        specifier: npm:react-server-dom-webpack@0.0.0-experimental-96c61b7f-20250709\n-        version: react-server-dom-webpack@0.0.0-experimental-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15)))\n+        specifier: npm:react-server-dom-webpack@0.0.0-experimental-97cdd5d3-20250710\n+        version: react-server-dom-webpack@0.0.0-experimental-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15)))\n       react-ssr-prepass:\n         specifier: 1.0.8\n-        version: 1.0.8(react-is@19.2.0-canary-cee7939b-20250625)(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 1.0.8(react-is@19.2.0-canary-cee7939b-20250625)(react@19.2.0-canary-97cdd5d3-20250710)\n       react-virtualized:\n         specifier: 9.22.3\n-        version: 9.22.3(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 9.22.3(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       relay-compiler:\n         specifier: 13.0.2\n         version: 13.0.2\n@@ -548,11 +548,11 @@ importers:\n         specifier: 0.15.2\n         version: 0.15.2\n       scheduler-builtin:\n-        specifier: npm:scheduler@0.27.0-canary-96c61b7f-20250709\n-        version: scheduler@0.27.0-canary-96c61b7f-20250709\n+        specifier: npm:scheduler@0.27.0-canary-97cdd5d3-20250710\n+        version: scheduler@0.27.0-canary-97cdd5d3-20250710\n       scheduler-experimental-builtin:\n-        specifier: npm:scheduler@0.0.0-experimental-96c61b7f-20250709\n-        version: scheduler@0.0.0-experimental-96c61b7f-20250709\n+        specifier: npm:scheduler@0.0.0-experimental-97cdd5d3-20250710\n+        version: scheduler@0.0.0-experimental-97cdd5d3-20250710\n       seedrandom:\n         specifier: 3.0.5\n         version: 3.0.5\n@@ -570,13 +570,13 @@ importers:\n         version: 6.0.0\n       styled-jsx:\n         specifier: 5.1.6\n-        version: 5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-97cdd5d3-20250710)\n       styled-jsx-plugin-postcss:\n         specifier: 3.0.2\n         version: 3.0.2\n       swr:\n         specifier: ^2.2.4\n-        version: 2.2.4(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 2.2.4(react@19.2.0-canary-97cdd5d3-20250710)\n       tailwindcss:\n         specifier: 3.2.7\n         version: 3.2.7(postcss@8.4.31)\n@@ -936,17 +936,17 @@ importers:\n         specifier: 8.4.31\n         version: 8.4.31\n       react:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710\n       react-dom:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       sass:\n         specifier: ^1.3.0\n         version: 1.77.8\n       styled-jsx:\n         specifier: 5.1.6\n-        version: 5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-97cdd5d3-20250710)\n     optionalDependencies:\n       sharp:\n         specifier: ^0.34.1\n@@ -1017,7 +1017,7 @@ importers:\n         version: 7.27.0\n       '@base-ui-components/react':\n         specifier: 1.0.0-beta.1\n-        version: 1.0.0-beta.1(patch_hash=husdbmnwfarofaw5whjzcd7l2a)(@types/react@19.1.1)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 1.0.0-beta.1(patch_hash=husdbmnwfarofaw5whjzcd7l2a)(@types/react@19.1.1)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       '@capsizecss/metrics':\n         specifier: 3.4.0\n         version: 3.4.0\n@@ -1083,13 +1083,13 @@ importers:\n         version: 3.0.0(@swc/helpers@0.5.15)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2))\n       '@storybook/blocks':\n         specifier: 8.6.0\n-        version: 8.6.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))\n+        version: 8.6.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))\n       '@storybook/react':\n         specifier: 8.6.0\n-        version: 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n+        version: 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n       '@storybook/react-webpack5':\n         specifier: 8.6.0\n-        version: 8.6.0(@rspack/core@1.4.5(@swc/helpers@0.5.15))(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n+        version: 8.6.0(@rspack/core@1.4.5(@swc/helpers@0.5.15))(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n       '@storybook/test':\n         specifier: 8.6.0\n         version: 8.6.0(storybook@8.6.0(prettier@3.3.3))\n@@ -1578,7 +1578,7 @@ importers:\n         version: 1.0.35\n       unistore:\n         specifier: 3.4.1\n-        version: 3.4.1(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 3.4.1(react@19.2.0-canary-97cdd5d3-20250710)\n       util:\n         specifier: 0.12.4\n         version: 0.12.4\n@@ -1751,8 +1751,8 @@ importers:\n   packages/third-parties:\n     dependencies:\n       react:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710\n       third-party-capital:\n         specifier: 1.0.20\n         version: 1.0.20\n@@ -1815,14 +1815,14 @@ importers:\n         specifier: 29.5.0\n         version: 29.5.0\n       react:\n-        specifier: 19.2.0-canary-96c61b7f-20250709\n-        version: 19.2.0-canary-96c61b7f-20250709\n+        specifier: 19.2.0-canary-97cdd5d3-20250710\n+        version: 19.2.0-canary-97cdd5d3-20250710\n       react-test-renderer:\n         specifier: 18.2.0\n-        version: 18.2.0(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 18.2.0(react@19.2.0-canary-97cdd5d3-20250710)\n       styled-jsx:\n         specifier: ^5.1.2\n-        version: 5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-96c61b7f-20250709)\n+        version: 5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-97cdd5d3-20250710)\n \n   turbopack/packages/devlow-bench:\n     dependencies:\n@@ -2750,8 +2750,8 @@ packages:\n     engines: {node: '>=14.0.0'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n@@ -2966,7 +2966,7 @@ packages:\n     resolution: {integrity: sha512-5mlW1DquU5HaxjLkfkGN1GA/fvVGdyHURRiX/0FHl2cfIfRxSOfmxEH5YS43edp0OldZrZ+dkBKbngxcNCdZvA==}\n     peerDependencies:\n       '@types/react': '*'\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n@@ -2983,7 +2983,7 @@ packages:\n   '@emotion/use-insertion-effect-with-fallbacks@1.0.1':\n     resolution: {integrity: sha512-jT/qyKZ9rzLErtrjGgdkMBn2OP8wl0G3sQlBb3YPryvKHsjvINUhVaPFfP+fpBcOkmrVOVEEHQFJ7nbj2TH2gw==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@emotion/utils@1.2.1':\n     resolution: {integrity: sha512-Y2tGf3I+XVnajdItskUCn6LX+VUDmP6lTL4fcqsXAv43dnlbZiuW4MWQW38rW/BVWSE7Q/7+XQocmpnRYILUmg==}\n@@ -3650,20 +3650,20 @@ packages:\n   '@floating-ui/react-dom@2.1.0':\n     resolution: {integrity: sha512-lNzj5EQmEKn5FFKc04+zasr09h/uX8RtJRNj5gUXsSQIXHVWTVh+hVAg1vOMCexkX8EgvemMvIFpQfkosnVNyA==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n   '@floating-ui/react-dom@2.1.4':\n     resolution: {integrity: sha512-JbbpPhp38UmXDDAu60RJmbeme37Jbgsm7NrHGgzYYFKmblzRUh6Pa641dII6LsjwF4XlScDrde2UAzDo/b9KPw==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n   '@floating-ui/react@0.26.16':\n     resolution: {integrity: sha512-HEf43zxZNAI/E781QIVpYSF3K2VH4TTYZpqecjdsFkjsaU1EbaWcM++kw0HXFffj7gDUcBFevX8s0rQGQpxkow==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n   '@floating-ui/utils@0.2.10':\n     resolution: {integrity: sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ==}\n@@ -4375,13 +4375,13 @@ packages:\n     resolution: {integrity: sha512-l9ypojKN3PjwO1CSLIsqxi7mA25+7w+xc71Q+JuCCREI0tuGwkZsKbIOpuTATIJOjPh8ycLiW7QxX1LYsRTq6w==}\n     peerDependencies:\n       '@mantine/hooks': 7.10.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n   '@mantine/hooks@7.11.2':\n     resolution: {integrity: sha512-jhyVe/sbDEG2U8rr2lMecUPgQxcfr5hh9HazqGfkS7ZRIMDO7uJ947yAcTMGGkp5Lxtt5TBFt1Cb6tiB2/1agg==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@manypkg/find-root@1.1.0':\n     resolution: {integrity: sha512-mki5uBvhHzO8kYYix/WRy2WX8S3B5wdVSc9D6KcU5lQNglP2yt58/VfLuAK49glRXChosY8ap2oJ1qgma3GUVA==}\n@@ -4404,13 +4404,13 @@ packages:\n   '@mdx-js/react@2.2.1':\n     resolution: {integrity: sha512-YdXcMcEnqZhzql98RNrqYo9cEhTTesBiCclEtoiQUbJwx87q9453GTapYU6kJ8ZZ2ek1Vp25SiAXEFy5O/eAPw==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@mdx-js/react@3.1.0':\n     resolution: {integrity: sha512-QjHtSaoameoalGnKDT3FoIl4+9RwyTmo9ZJGBdLOks/YOiWHoRDI3PUwEzOE7kEmGcV3AFcp9K6dYu9rEuKLAQ==}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@module-federation/error-codes@0.15.0':\n     resolution: {integrity: sha512-CFJSF+XKwTcy0PFZ2l/fSUpR4z247+Uwzp1sXVkdIfJ/ATsnqf0Q01f51qqSEA6MYdQi6FKos9FIcu3dCpQNdg==}\n@@ -5110,8 +5110,8 @@ packages:\n   '@storybook/blocks@8.6.0':\n     resolution: {integrity: sha512-3PNxlB5Ooj8CIhttbDxeV6kW7ui+2GEdTngtqhnsUHVjzeTKpilsk2lviOeUzqlyq5FDK+rhpZ3L3DJ9pDvioA==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       storybook: ^8.6.0\n     peerDependenciesMeta:\n       react:\n@@ -5161,8 +5161,8 @@ packages:\n     resolution: {integrity: sha512-Nz/UzeYQdUZUhacrPyfkiiysSjydyjgg/p0P9HxB4p/WaJUUjMAcaoaLgy3EXx61zZJ3iD36WPuDkZs5QYrA0A==}\n     engines: {node: '>=14.0.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n   '@storybook/instrumenter@8.6.0':\n     resolution: {integrity: sha512-eEY/Hfa3Vj5Nv4vHRHlSqjoyW6oAKNK3rKIXfL/eawQwb7rKhzijDLG5YBH44Hh7dEPIqUp0LEdgpyIY7GXezg==}\n@@ -5178,8 +5178,8 @@ packages:\n     resolution: {integrity: sha512-04T86VG0UJtiozgZkTR5sY1qM3E0Rgwqwllvyy7kFFdkV+Sv/VsPjW9sC38s9C8FtCYRL8pJZz81ey3oylpIMA==}\n     engines: {node: '>=18.0.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       storybook: ^8.6.0\n       typescript: '*'\n     peerDependenciesMeta:\n@@ -5200,16 +5200,16 @@ packages:\n   '@storybook/react-dom-shim@8.6.0':\n     resolution: {integrity: sha512-5Y+vMHhcx0xnaNsLQMbkmjc3zkDn/fGBNsiLH2e4POvW3ZQvOxjoyxAsEQaKwLtFgsdCFSd2tR89F6ItYrA2JQ==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       storybook: ^8.6.0\n \n   '@storybook/react-webpack5@8.6.0':\n     resolution: {integrity: sha512-2L9CYDPn1OL0B8K5EU/Wpo9Slg8f0vkYPaPioQnmcK3Q4SJR4JAuDVWHUtNdxhaPOkHIy887Tfrf6BEC/blMaQ==}\n     engines: {node: '>=18.0.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       storybook: ^8.6.0\n       typescript: '>= 4.2.x'\n     peerDependenciesMeta:\n@@ -5221,8 +5221,8 @@ packages:\n     engines: {node: '>=18.0.0'}\n     peerDependencies:\n       '@storybook/test': 8.6.0\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       storybook: ^8.6.0\n       typescript: '>= 4.2.x'\n     peerDependenciesMeta:\n@@ -5402,8 +5402,8 @@ packages:\n     engines: {node: '>=18'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n@@ -11534,7 +11534,7 @@ packages:\n   lucide-react@0.383.0:\n     resolution: {integrity: sha512-13xlG0CQCJtzjSQYwwJ3WRqMHtRj3EXmLlorrARt7y+IHnxUCp3XyFNL1DfaGySWxHObDvnu1u1dV+0VMKHUSg==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   lz-string@1.5.0:\n     resolution: {integrity: sha512-h5bgJWpxJNswbU7qCrV0tIKQCaS3blPDrqKWx+QxzuzL1zGUzij9XCWLrSLsJPu5t+eWA/ycetzYAO5IOMcWAQ==}\n@@ -14067,23 +14067,23 @@ packages:\n     resolution: {integrity: sha512-APPU8HB2uZnpl6Vt/+0AFoVYgSRtfiP6FLrZgPPTDmqSb2R4qZRbgd0A3VzIFxDt5e+Fozjx79WjLWnF69DK8g==}\n     engines: {node: '>=16.14.0'}\n \n-  react-dom@0.0.0-experimental-96c61b7f-20250709:\n-    resolution: {integrity: sha512-hU72eLbxwbdK8bGKTZh1117BEq0kY2Hw99xAoI7fgS92h7PSrHC2dQRkDAvOhaFps5PUxlp6lcyhjiSAY/RnFg==}\n+  react-dom@0.0.0-experimental-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-EoZVxY15jzEi+Q5wcu+B1swNcvz7hhg2MvKAnbADohy5kGqT6u7k0sinuv8vMrQ9S39t1xOVmvFPrlrCM/sR2w==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n-  react-dom@19.2.0-canary-96c61b7f-20250709:\n-    resolution: {integrity: sha512-nw40Y2Hkf0nzrXgKDr//9XQXtNzK8k3K+8JdRp84melq5eTAFNTBLT3wsGqJRXk8w2LwxV01gT0kBcEHcaCrUg==}\n+  react-dom@19.2.0-canary-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-JghFXQuB7U8BpryQKDI8epPGbgqMewlvUpuc4dM3OqKIp1oiVqKs+otk637KH8KvRZfvVoO66P7eyOYM4GdIrg==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   react-dom@19.2.0-canary-cee7939b-20250625:\n     resolution: {integrity: sha512-cKXbvGw8b+t+uxJZfNBK0oboEee5wYS3f8Yeu22PlW3eECtfDnM2pqSbcB6LvOVr3fyDMM4CIWesK01d9BXj7w==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n-  react-is@19.2.0-canary-96c61b7f-20250709:\n-    resolution: {integrity: sha512-hYSidu7+FUS6bWTAEGjUU5twktbFa1y6e3cCGRdX2o7m5GfAmN6hF54ZQBW6TNWQ+E5ic2+lfe75iIAId57Efw==}\n+  react-is@19.2.0-canary-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-1Kdr0n+A2wNuBRB0GHhwxbFmioBupZTGuBrfxlpmu8Bke3w1fip1UTvxf6FQ0ZUmD2e/J7nt1mQSdeYi4enIUQ==}\n \n   react-is@19.2.0-canary-cee7939b-20250625:\n     resolution: {integrity: sha512-AsmZ5fWwYOQXykkjT/OBo2n30UH+014Jefhv9qiKxuw8AqD5QMi47Px3Fw86YLtZPOxWQOsvVMqHKwFvW35Q/w==}\n@@ -14094,8 +14094,8 @@ packages:\n   react-number-format@5.4.0:\n     resolution: {integrity: sha512-NWdICrqLhI7rAS8yUeLVd6Wr4cN7UjJ9IBTS0f/a9i7UB4x4Ti70kGnksBtZ7o4Z7YRbvCMMR/jQmkoOBa/4fg==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n   react-refresh@0.12.0:\n     resolution: {integrity: sha512-suLIhrU2IHKL5JEKR/fAwJv7bbeq4kJ+pJopf77jHwuR+HmJS/HbrPIGsTBUVfw7tXPOmYv7UJ7PCaN49e8x4A==}\n@@ -14106,7 +14106,7 @@ packages:\n     engines: {node: '>=10'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n@@ -14116,85 +14116,85 @@ packages:\n     engines: {node: '>=10'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n \n-  react-server-dom-turbopack@0.0.0-experimental-96c61b7f-20250709:\n-    resolution: {integrity: sha512-4iBGASnZiiZRwhkwT7wpO0fnohuYWHHqoUyjPP8Xl3XI9g8wkiX8UJDOurE5vN9KHxxg/b9/MGREvn3lOc71kQ==}\n+  react-server-dom-turbopack@0.0.0-experimental-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-hyNPx+ssDQ50U7XYwFev0/axNV6sBDvTJEuFMDyRiZcA3LYkQjw7X4w6vUPNf/gpRexV8TCCGlT1wIO8qib1sA==}\n     engines: {node: '>=0.10.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n-  react-server-dom-turbopack@19.2.0-canary-96c61b7f-20250709:\n-    resolution: {integrity: sha512-+P3fsGSz5aaO+uLLoU4tgegDQBwzuUhKOdEWe9CyAyJlt+OEBJyeQuNDoXeQHDAvKE4iAnCcVydIby2jDUGv/Q==}\n+  react-server-dom-turbopack@19.2.0-canary-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-1KI3Jjjt+7P0FQOWTqJtHczMQTFTbd51G0upLDPmPwXBBDROy4rDFzbzVYkSl6xNva+18pzhJ0V0kg1Jc1W20Q==}\n     engines: {node: '>=0.10.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n-  react-server-dom-webpack@0.0.0-experimental-96c61b7f-20250709:\n-    resolution: {integrity: sha512-YxPuzhx8IXLYAE112JPQ93Fas/SSbfFmiZUlqv3somiaCEMeBqs2yOingkGCA91tPWoloUNU5Y7xjupMz7APpQ==}\n+  react-server-dom-webpack@0.0.0-experimental-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-t+3mHe2d6eAiLiT7Yj12gsZzGrvHnIeF/HM49Sn8K1VParnkDTlkV3hMH/RCO93yhoK3SkdUFacBSpalavdShg==}\n     engines: {node: '>=0.10.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       webpack: 5.98.0\n \n-  react-server-dom-webpack@19.2.0-canary-96c61b7f-20250709:\n-    resolution: {integrity: sha512-4y385wR+CI2Y7+LENa7UjJatJFv5QTAps7R53acgdA1i2k3um/QvC32qrA9uC65w6wFWFgbE5HCNWm1HhiVI3w==}\n+  react-server-dom-webpack@19.2.0-canary-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-OcuFgOhXD7SMD/kfYbndGIGiLIcoR4vtMO8YGhu08ovCWy/JDC/VdAeThW2ejqcnPv8LXOpyA94SBVbSs3UeqA==}\n     engines: {node: '>=0.10.0'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n       webpack: 5.98.0\n \n   react-shallow-renderer@16.15.0:\n     resolution: {integrity: sha512-oScf2FqQ9LFVQgA73vr86xl2NaOIX73rh+YFqcOp68CWj56tSfgtGKrEbyhCj0rSijyG9M1CYprTh39fBi5hzA==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   react-ssr-prepass@1.0.8:\n     resolution: {integrity: sha512-O0gfRA1SaK+9ITKxqfnXsej2jF+OHGP/+GxD4unROQaM/0/UczGF9fuF+wTboxaQoKdIf4FvS3h/OigWh704VA==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   react-style-singleton@2.2.1:\n     resolution: {integrity: sha512-ZWj0fHEMyWkHzKYUr2Bs/4zU6XLmq9HsgBURm7g5pAVfyn49DgUiNgY2d4lXRlYSiCif9YBGpQleewkcqddc7g==}\n     engines: {node: '>=10'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n \n   react-test-renderer@18.2.0:\n     resolution: {integrity: sha512-JWD+aQ0lh2gvh4NM3bBM42Kx+XybOxCpgYK7F8ugAlpaTSnWsX+39Z4XkOykGZAHrjwwTZT3x3KxswVWxHPUqA==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   react-textarea-autosize@8.5.3:\n     resolution: {integrity: sha512-XT1024o2pqCuZSuBt9FwHlaDeNtVrtCXu0Rnz88t1jUGheCLa3PhjE1GH8Ctm2axEtvdCl5SUHYschyQ0L5QHQ==}\n     engines: {node: '>=10'}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   react-virtualized@9.22.3:\n     resolution: {integrity: sha512-MKovKMxWTcwPSxE1kK1HcheQTWfuCxAuBoSTf2gwyMM21NdX/PXUhnoP8Uc5dRKd+nKm8v41R36OellhdCpkrw==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710\n \n-  react@0.0.0-experimental-96c61b7f-20250709:\n-    resolution: {integrity: sha512-oj1WivUB6Sb3TNXf81vrl/JQUfCZ5S8xzt1y/8PRagLTJMoW80BHHsbZdIP/G1Kz3q28QuUkhzBfS0k4cXuqQQ==}\n+  react@0.0.0-experimental-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-mQu4Znir8R9OPYACEPPzNFFp9qmMhTcBBsBC3F5ZeuvsV1eWSoQ1OggJ9H2VJBQMiQ4XO9begs2SRFwaDpJlhw==}\n     engines: {node: '>=0.10.0'}\n \n-  react@19.2.0-canary-96c61b7f-20250709:\n-    resolution: {integrity: sha512-h2I0kAehQEF3EKoXJbK1VkmFzxoD+ma87M66Wd8/gLF0psyTPyYWEwLCSyV/DkNGmcDh4EP2bHIqQfd6YKJY0Q==}\n+  react@19.2.0-canary-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-9StLMcfivak/J0uBvmuCMHjtuiWlEjG5ZGADq0mr5rxIQBacm+dCvFSP4lYTCvPgGKr4IgYPrszFh2A+tQwoVg==}\n     engines: {node: '>=0.10.0'}\n \n   react@19.2.0-canary-cee7939b-20250625:\n@@ -14756,11 +14756,11 @@ packages:\n     resolution: {integrity: sha512-xAg7SOnEhrm5zI3puOOKyy1OMcMlIJZYNJY7xLBwSze0UjhPLnWfj2GF2EpT0jmzaJKIWKHLsaSSajf35bcYnA==}\n     engines: {node: '>=v12.22.7'}\n \n-  scheduler@0.0.0-experimental-96c61b7f-20250709:\n-    resolution: {integrity: sha512-ce9i54XHZnlDtagBpUT9+oB2QeUjsfZJgywFnmYH+onLcifo3375mPRWOMXjPaRqmgcXFSUbcfvPPyDa2RO0FQ==}\n+  scheduler@0.0.0-experimental-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-GGxid31OvN4b6vKLFlryaRaUx1PK5tMqbefZjlq7xv+cRjDSSt0tifT+4GRyP7xgYsHMGaa103zwl8S4rvODjw==}\n \n-  scheduler@0.27.0-canary-96c61b7f-20250709:\n-    resolution: {integrity: sha512-0qkvdbbcL3P8eaiJHU7YMgb9D5/vIe70D/wvvTH2bJUnvUldDGXSKOTGHXWAe+q1POxjlH0QBYhjBLErBS+AOA==}\n+  scheduler@0.27.0-canary-97cdd5d3-20250710:\n+    resolution: {integrity: sha512-u1ueDhQ0R2fL/LDYjRR02+zJCyrmLeLOxw3MQ/7szUQf1kU9nt1aSR38vi3GOz9L9zbZ7uX1Gd5ZoSL7iUnLBA==}\n \n   schema-utils@2.7.1:\n     resolution: {integrity: sha512-SHiNtMOUGWBQJwzISiVYKu82GiV4QYGePp3odlY1tuKO7gPtphAT5R/py0fA6xtbgLL/RvtJZnU9b8s0F1q0Xg==}\n@@ -15419,7 +15419,7 @@ packages:\n     peerDependencies:\n       '@babel/core': '*'\n       babel-plugin-macros: '*'\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@babel/core':\n         optional: true\n@@ -15500,7 +15500,7 @@ packages:\n   swr@2.2.4:\n     resolution: {integrity: sha512-njiZ/4RiIhoOlAaLYDqwz5qH/KZXVilRLvomrx83HjzCWTfa+InyfAjv05PSFxnmLzZkNO9ZfvgoqzAaEI4sGQ==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   symbol-observable@1.0.1:\n     resolution: {integrity: sha512-Kb3PrPYz4HanVF1LVGuAdW6LoVgIwjUYJGzFe7NDrBLCN4lsV/5J0MFurV+ygS4bRVwrCEt2c7MQ1R2a72oJDw==}\n@@ -16292,21 +16292,21 @@ packages:\n     engines: {node: '>=10'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n \n   use-composed-ref@1.3.0:\n     resolution: {integrity: sha512-GLMG0Jc/jiKov/3Ulid1wbv3r54K9HlMW29IWcDFPEqFkSO2nS0MuefWgMJpeHQ9YJeXDL3ZUF+P3jdXlZX/cQ==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   use-isomorphic-layout-effect@1.1.2:\n     resolution: {integrity: sha512-49L8yCO3iGT/ZF9QttjwLF/ZD9Iwto5LnH5LmEdk/6cFmXddqi2ulF0edxTwjj+7mqvpVVGQWvbXZdn32wRSHA==}\n     peerDependencies:\n       '@types/react': '*'\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n@@ -16315,7 +16315,7 @@ packages:\n     resolution: {integrity: sha512-xA+AVm/Wlg3e2P/JiItTziwS7FK92LWrDB0p+hgXloIMuVCeJJ8v6f0eeHyPZaJrM+usM1FkFfbNCrJGs8A/zw==}\n     peerDependencies:\n       '@types/react': '*'\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n@@ -16325,20 +16325,20 @@ packages:\n     engines: {node: '>=10'}\n     peerDependencies:\n       '@types/react': ^19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     peerDependenciesMeta:\n       '@types/react':\n         optional: true\n \n   use-sync-external-store@1.2.0:\n     resolution: {integrity: sha512-eEgnFxGQ1Ife9bzYs6VLi8/4X6CObHMw9Qr9tPY43iKwsPw8xE8+EFsf/2cFZ5S3esXgpWgtSCtLNS41F+sKPA==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   use-sync-external-store@1.5.0:\n     resolution: {integrity: sha512-Rb46I4cGGVBmjamjphe8L/UnvJD+uPPtTkNvX5mZgqdbavhI4EbgIWJiIHXJ8bc/i9EQGPRh4DwEURJ552Do0A==}\n     peerDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   util-deprecate@1.0.2:\n     resolution: {integrity: sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==}\n@@ -18028,16 +18028,16 @@ snapshots:\n       '@babel/helper-string-parser': 7.25.9\n       '@babel/helper-validator-identifier': 7.25.9\n \n-  '@base-ui-components/react@1.0.0-beta.1(patch_hash=husdbmnwfarofaw5whjzcd7l2a)(@types/react@19.1.1)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@base-ui-components/react@1.0.0-beta.1(patch_hash=husdbmnwfarofaw5whjzcd7l2a)(@types/react@19.1.1)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n       '@babel/runtime': 7.27.6\n-      '@floating-ui/react-dom': 2.1.4(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+      '@floating-ui/react-dom': 2.1.4(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       '@floating-ui/utils': 0.2.10\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       reselect: 5.1.1\n       tabbable: 6.2.0\n-      use-sync-external-store: 1.5.0(react@19.2.0-canary-96c61b7f-20250709)\n+      use-sync-external-store: 1.5.0(react@19.2.0-canary-97cdd5d3-20250710)\n     optionalDependencies:\n       '@types/react': 19.1.1\n \n@@ -18370,17 +18370,17 @@ snapshots:\n \n   '@emotion/memoize@0.8.1': {}\n \n-  '@emotion/react@11.11.1(@types/react@19.1.1)(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@emotion/react@11.11.1(@types/react@19.1.1)(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n       '@babel/runtime': 7.27.0\n       '@emotion/babel-plugin': 11.11.0\n       '@emotion/cache': 11.11.0\n       '@emotion/serialize': 1.1.2\n-      '@emotion/use-insertion-effect-with-fallbacks': 1.0.1(react@19.2.0-canary-96c61b7f-20250709)\n+      '@emotion/use-insertion-effect-with-fallbacks': 1.0.1(react@19.2.0-canary-97cdd5d3-20250710)\n       '@emotion/utils': 1.2.1\n       '@emotion/weak-memoize': 0.3.1\n       hoist-non-react-statics: 3.3.2\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     optionalDependencies:\n       '@types/react': 19.1.1\n     transitivePeerDependencies:\n@@ -18398,9 +18398,9 @@ snapshots:\n \n   '@emotion/unitless@0.8.1': {}\n \n-  '@emotion/use-insertion-effect-with-fallbacks@1.0.1(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@emotion/use-insertion-effect-with-fallbacks@1.0.1(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@emotion/utils@1.2.1': {}\n \n@@ -18924,11 +18924,11 @@ snapshots:\n       react: 19.2.0-canary-cee7939b-20250625\n       react-dom: 19.2.0-canary-cee7939b-20250625(react@19.2.0-canary-cee7939b-20250625)\n \n-  '@floating-ui/react-dom@2.1.4(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@floating-ui/react-dom@2.1.4(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n       '@floating-ui/dom': 1.7.2\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n \n   '@floating-ui/react@0.26.16(react-dom@19.2.0-canary-cee7939b-20250625(react@19.2.0-canary-cee7939b-20250625))(react@19.2.0-canary-cee7939b-20250625)':\n     dependencies:\n@@ -20079,23 +20079,23 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  '@mdx-js/react@2.2.1(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@mdx-js/react@2.2.1(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n       '@types/mdx': 2.0.3\n       '@types/react': 19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@mdx-js/react@2.2.1(react@19.2.0-canary-cee7939b-20250625)':\n     dependencies:\n       '@types/mdx': 2.0.3\n       '@types/react': 19.1.1\n       react: 19.2.0-canary-cee7939b-20250625\n \n-  '@mdx-js/react@3.1.0(@types/react@19.1.1)(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@mdx-js/react@3.1.0(@types/react@19.1.1)(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n       '@types/mdx': 2.0.3\n       '@types/react': 19.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   '@module-federation/error-codes@0.15.0': {}\n \n@@ -20855,12 +20855,12 @@ snapshots:\n \n   '@storybook/addon-docs@8.6.0(@types/react@19.1.1)(storybook@8.6.0(prettier@3.3.3))':\n     dependencies:\n-      '@mdx-js/react': 3.1.0(@types/react@19.1.1)(react@19.2.0-canary-96c61b7f-20250709)\n-      '@storybook/blocks': 8.6.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))\n+      '@mdx-js/react': 3.1.0(@types/react@19.1.1)(react@19.2.0-canary-97cdd5d3-20250710)\n+      '@storybook/blocks': 8.6.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))\n       '@storybook/csf-plugin': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n-      '@storybook/react-dom-shim': 8.6.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      '@storybook/react-dom-shim': 8.6.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       storybook: 8.6.0(prettier@3.3.3)\n       ts-dedent: 2.2.0\n     transitivePeerDependencies:\n@@ -20925,14 +20925,14 @@ snapshots:\n       - '@swc/helpers'\n       - webpack\n \n-  '@storybook/blocks@8.6.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))':\n+  '@storybook/blocks@8.6.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))':\n     dependencies:\n-      '@storybook/icons': 1.3.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)\n+      '@storybook/icons': 1.3.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)\n       storybook: 8.6.0(prettier@3.3.3)\n       ts-dedent: 2.2.0\n     optionalDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n \n   '@storybook/builder-webpack5@8.6.0(@rspack/core@1.4.5(@swc/helpers@0.5.15))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n     dependencies:\n@@ -21011,10 +21011,10 @@ snapshots:\n \n   '@storybook/global@5.0.0': {}\n \n-  '@storybook/icons@1.3.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@storybook/icons@1.3.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n \n   '@storybook/instrumenter@8.6.0(storybook@8.6.0(prettier@3.3.3))':\n     dependencies:\n@@ -21026,17 +21026,17 @@ snapshots:\n     dependencies:\n       storybook: 8.6.0(prettier@3.3.3)\n \n-  '@storybook/preset-react-webpack@8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n+  '@storybook/preset-react-webpack@8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n     dependencies:\n       '@storybook/core-webpack': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n-      '@storybook/react': 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n+      '@storybook/react': 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n       '@storybook/react-docgen-typescript-plugin': 1.0.6--canary.9.0c3f3b7.0(typescript@5.8.2)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2))\n       '@types/semver': 7.5.6\n       find-up: 5.0.0\n       magic-string: 0.30.17\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n       react-docgen: 7.1.0\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       resolve: 1.22.10\n       semver: 7.6.3\n       storybook: 8.6.0(prettier@3.3.3)\n@@ -21070,19 +21070,19 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  '@storybook/react-dom-shim@8.6.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))':\n+  '@storybook/react-dom-shim@8.6.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))':\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       storybook: 8.6.0(prettier@3.3.3)\n \n-  '@storybook/react-webpack5@8.6.0(@rspack/core@1.4.5(@swc/helpers@0.5.15))(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n+  '@storybook/react-webpack5@8.6.0(@rspack/core@1.4.5(@swc/helpers@0.5.15))(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n     dependencies:\n       '@storybook/builder-webpack5': 8.6.0(@rspack/core@1.4.5(@swc/helpers@0.5.15))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n-      '@storybook/preset-react-webpack': 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n-      '@storybook/react': 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      '@storybook/preset-react-webpack': 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n+      '@storybook/react': 8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       storybook: 8.6.0(prettier@3.3.3)\n     optionalDependencies:\n       typescript: 5.8.2\n@@ -21095,16 +21095,16 @@ snapshots:\n       - uglify-js\n       - webpack-cli\n \n-  '@storybook/react@8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n+  '@storybook/react@8.6.0(@storybook/test@8.6.0(storybook@8.6.0(prettier@3.3.3)))(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))(typescript@5.8.2)':\n     dependencies:\n       '@storybook/components': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n       '@storybook/global': 5.0.0\n       '@storybook/manager-api': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n       '@storybook/preview-api': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n-      '@storybook/react-dom-shim': 8.6.0(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(storybook@8.6.0(prettier@3.3.3))\n+      '@storybook/react-dom-shim': 8.6.0(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(storybook@8.6.0(prettier@3.3.3))\n       '@storybook/theming': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       storybook: 8.6.0(prettier@3.3.3)\n     optionalDependencies:\n       '@storybook/test': 8.6.0(storybook@8.6.0(prettier@3.3.3))\n@@ -21311,13 +21311,13 @@ snapshots:\n       lodash: 4.17.21\n       redent: 3.0.0\n \n-  '@testing-library/react@15.0.7(@types/react@19.1.1)(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)':\n+  '@testing-library/react@15.0.7(@types/react@19.1.1)(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)':\n     dependencies:\n       '@babel/runtime': 7.27.0\n       '@testing-library/dom': 10.1.0\n       '@types/react-dom': 19.1.2(@types/react@19.1.1)\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n     optionalDependencies:\n       '@types/react': 19.1.1\n \n@@ -27089,7 +27089,7 @@ snapshots:\n \n   hoist-non-react-statics@3.3.2:\n     dependencies:\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   homedir-polyfill@1.0.3:\n     dependencies:\n@@ -32032,25 +32032,25 @@ snapshots:\n     dependencies:\n       ansi-regex: 5.0.1\n       ansi-styles: 5.2.0\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   pretty-format@29.5.0:\n     dependencies:\n       '@jest/schemas': 29.4.3\n       ansi-styles: 5.2.0\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   pretty-format@29.7.0:\n     dependencies:\n       '@jest/schemas': 29.6.3\n       ansi-styles: 5.2.0\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   pretty-format@30.0.0-alpha.6:\n     dependencies:\n       '@jest/schemas': 30.0.0-alpha.6\n       ansi-styles: 5.2.0\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   pretty-ms@7.0.0:\n     dependencies:\n@@ -32113,7 +32113,7 @@ snapshots:\n     dependencies:\n       loose-envify: 1.4.0\n       object-assign: 4.1.1\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n   property-information@5.6.0:\n     dependencies:\n@@ -32324,22 +32324,22 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  react-dom@0.0.0-experimental-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709):\n+  react-dom@0.0.0-experimental-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      scheduler: 0.27.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      scheduler: 0.27.0-canary-97cdd5d3-20250710\n \n-  react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709):\n+  react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      scheduler: 0.27.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      scheduler: 0.27.0-canary-97cdd5d3-20250710\n \n   react-dom@19.2.0-canary-cee7939b-20250625(react@19.2.0-canary-cee7939b-20250625):\n     dependencies:\n       react: 19.2.0-canary-cee7939b-20250625\n-      scheduler: 0.27.0-canary-96c61b7f-20250709\n+      scheduler: 0.27.0-canary-97cdd5d3-20250710\n \n-  react-is@19.2.0-canary-96c61b7f-20250709: {}\n+  react-is@19.2.0-canary-97cdd5d3-20250710: {}\n \n   react-is@19.2.0-canary-cee7939b-20250625: {}\n \n@@ -32372,48 +32372,48 @@ snapshots:\n     optionalDependencies:\n       '@types/react': 19.1.1\n \n-  react-server-dom-turbopack@0.0.0-experimental-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709):\n+  react-server-dom-turbopack@0.0.0-experimental-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       acorn-loose: 8.3.0\n       neo-async: 2.6.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n \n-  react-server-dom-turbopack@19.2.0-canary-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709):\n+  react-server-dom-turbopack@19.2.0-canary-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       acorn-loose: 8.3.0\n       neo-async: 2.6.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n \n-  react-server-dom-webpack@0.0.0-experimental-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))):\n+  react-server-dom-webpack@0.0.0-experimental-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))):\n     dependencies:\n       acorn-loose: 8.3.0\n       neo-async: 2.6.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       webpack: 5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))\n       webpack-sources: 3.2.3(patch_hash=jbynf5dc46ambamq3wuyho6hkq)\n \n-  react-server-dom-webpack@19.2.0-canary-96c61b7f-20250709(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))):\n+  react-server-dom-webpack@19.2.0-canary-97cdd5d3-20250710(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710)(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))):\n     dependencies:\n       acorn-loose: 8.3.0\n       neo-async: 2.6.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       webpack: 5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))\n       webpack-sources: 3.2.3(patch_hash=jbynf5dc46ambamq3wuyho6hkq)\n \n-  react-shallow-renderer@16.15.0(react@19.2.0-canary-96c61b7f-20250709):\n+  react-shallow-renderer@16.15.0(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       object-assign: 4.1.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n \n-  react-ssr-prepass@1.0.8(react-is@19.2.0-canary-cee7939b-20250625)(react@19.2.0-canary-96c61b7f-20250709):\n+  react-ssr-prepass@1.0.8(react-is@19.2.0-canary-cee7939b-20250625)(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       object-is: 1.0.2\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n       react-is: 19.2.0-canary-cee7939b-20250625\n \n   react-style-singleton@2.2.1(@types/react@19.1.1)(react@19.2.0-canary-cee7939b-20250625):\n@@ -32425,12 +32425,12 @@ snapshots:\n     optionalDependencies:\n       '@types/react': 19.1.1\n \n-  react-test-renderer@18.2.0(react@19.2.0-canary-96c61b7f-20250709):\n+  react-test-renderer@18.2.0(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-is: 19.2.0-canary-96c61b7f-20250709\n-      react-shallow-renderer: 16.15.0(react@19.2.0-canary-96c61b7f-20250709)\n-      scheduler: 0.27.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-is: 19.2.0-canary-97cdd5d3-20250710\n+      react-shallow-renderer: 16.15.0(react@19.2.0-canary-97cdd5d3-20250710)\n+      scheduler: 0.27.0-canary-97cdd5d3-20250710\n \n   react-textarea-autosize@8.5.3(@types/react@19.1.1)(react@19.2.0-canary-cee7939b-20250625):\n     dependencies:\n@@ -32441,20 +32441,20 @@ snapshots:\n     transitivePeerDependencies:\n       - '@types/react'\n \n-  react-virtualized@9.22.3(react-dom@19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709))(react@19.2.0-canary-96c61b7f-20250709):\n+  react-virtualized@9.22.3(react-dom@19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710))(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       '@babel/runtime': 7.27.0\n       clsx: 1.1.1\n       dom-helpers: 5.2.1\n       loose-envify: 1.4.0\n       prop-types: 15.8.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      react-dom: 19.2.0-canary-96c61b7f-20250709(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      react-dom: 19.2.0-canary-97cdd5d3-20250710(react@19.2.0-canary-97cdd5d3-20250710)\n       react-lifecycles-compat: 3.0.4\n \n-  react@0.0.0-experimental-96c61b7f-20250709: {}\n+  react@0.0.0-experimental-97cdd5d3-20250710: {}\n \n-  react@19.2.0-canary-96c61b7f-20250709: {}\n+  react@19.2.0-canary-97cdd5d3-20250710: {}\n \n   react@19.2.0-canary-cee7939b-20250625: {}\n \n@@ -33224,9 +33224,9 @@ snapshots:\n     dependencies:\n       xmlchars: 2.2.0\n \n-  scheduler@0.0.0-experimental-96c61b7f-20250709: {}\n+  scheduler@0.0.0-experimental-97cdd5d3-20250710: {}\n \n-  scheduler@0.27.0-canary-96c61b7f-20250709: {}\n+  scheduler@0.27.0-canary-97cdd5d3-20250710: {}\n \n   schema-utils@2.7.1:\n     dependencies:\n@@ -34025,10 +34025,10 @@ snapshots:\n       postcss: 7.0.32\n       postcss-load-plugins: 2.3.0\n \n-  styled-jsx@5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-96c61b7f-20250709):\n+  styled-jsx@5.1.6(@babel/core@7.26.10)(babel-plugin-macros@3.1.0)(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       client-only: 0.0.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n     optionalDependencies:\n       '@babel/core': 7.26.10\n       babel-plugin-macros: 3.1.0\n@@ -34122,11 +34122,11 @@ snapshots:\n       '@swc/counter': 0.1.3\n       webpack: 5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)\n \n-  swr@2.2.4(react@19.2.0-canary-96c61b7f-20250709):\n+  swr@2.2.4(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n       client-only: 0.0.1\n-      react: 19.2.0-canary-96c61b7f-20250709\n-      use-sync-external-store: 1.2.0(react@19.2.0-canary-96c61b7f-20250709)\n+      react: 19.2.0-canary-97cdd5d3-20250710\n+      use-sync-external-store: 1.2.0(react@19.2.0-canary-97cdd5d3-20250710)\n \n   symbol-observable@1.0.1: {}\n \n@@ -34923,9 +34923,9 @@ snapshots:\n       unist-util-is: 6.0.0\n       unist-util-visit-parents: 6.0.1\n \n-  unistore@3.4.1(react@19.2.0-canary-96c61b7f-20250709):\n+  unistore@3.4.1(react@19.2.0-canary-97cdd5d3-20250710):\n     optionalDependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   universal-github-app-jwt@1.1.1:\n     dependencies:\n@@ -35051,13 +35051,13 @@ snapshots:\n     optionalDependencies:\n       '@types/react': 19.1.1\n \n-  use-sync-external-store@1.2.0(react@19.2.0-canary-96c61b7f-20250709):\n+  use-sync-external-store@1.2.0(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n-  use-sync-external-store@1.5.0(react@19.2.0-canary-96c61b7f-20250709):\n+  use-sync-external-store@1.5.0(react@19.2.0-canary-97cdd5d3-20250710):\n     dependencies:\n-      react: 19.2.0-canary-96c61b7f-20250709\n+      react: 19.2.0-canary-97cdd5d3-20250710\n \n   util-deprecate@1.0.2: {}\n "
        }
    ],
    "stats": {
        "total": 11387,
        "additions": 7022,
        "deletions": 4365
    }
}