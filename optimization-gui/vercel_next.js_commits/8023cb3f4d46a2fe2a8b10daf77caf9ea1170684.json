{
    "author": "eps1lon",
    "message": "[ci] Cancel in-progress build_and_deploy for PRs (#87191)",
    "sha": "8023cb3f4d46a2fe2a8b10daf77caf9ea1170684",
    "files": [
        {
            "sha": "1fd57d2b973e600b7d09a8f68b3f7368f7256f7f",
            "filename": ".github/workflows/build_and_deploy.yml",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8023cb3f4d46a2fe2a8b10daf77caf9ea1170684/.github%2Fworkflows%2Fbuild_and_deploy.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/8023cb3f4d46a2fe2a8b10daf77caf9ea1170684/.github%2Fworkflows%2Fbuild_and_deploy.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_deploy.yml?ref=8023cb3f4d46a2fe2a8b10daf77caf9ea1170684",
            "patch": "@@ -11,6 +11,12 @@ on:\n     types: [opened, synchronize]\n   workflow_dispatch:\n \n+concurrency:\n+  # Limit concurrent runs to 1 per PR,\n+  # but allow concurrent runs on push if they potentially use different source code\n+  group: ${{ github.event_name == 'pull_request' && format('{0}-pr-{1}', github.workflow, github.ref_name) || format('{0}-sha-{1}', github.workflow, github.sha) }}\n+  cancel-in-progress: true\n+\n env:\n   NAPI_CLI_VERSION: 2.18.4\n   TURBO_VERSION: 2.5.5"
        },
        {
            "sha": "9f5871a5ab8c4c7e5c65e42fd9e9e8af2b4eaa50",
            "filename": ".github/workflows/cancel.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8023cb3f4d46a2fe2a8b10daf77caf9ea1170684/.github%2Fworkflows%2Fcancel.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/8023cb3f4d46a2fe2a8b10daf77caf9ea1170684/.github%2Fworkflows%2Fcancel.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fcancel.yml?ref=8023cb3f4d46a2fe2a8b10daf77caf9ea1170684",
            "patch": "@@ -13,5 +13,5 @@ jobs:\n     steps:\n       - uses: styfle/cancel-workflow-action@0.12.1\n         with:\n-          workflow_id: 444987, 57419851\n+          workflow_id: 57419851\n           access_token: ${{ github.token }}"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}