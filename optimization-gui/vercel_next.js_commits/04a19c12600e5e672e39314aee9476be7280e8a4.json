{
    "author": "delbaoliveira",
    "message": "docs: Move Edge Runtime information to API reference (#79152)\n\nCloses: https://linear.app/vercel/issue/DOC-4658/edge-runtime\nRedirects: https://github.com/vercel/front/pull/45645\n\n---------\n\nCo-authored-by: Lee Robinson <lee@leerob.com>",
    "sha": "04a19c12600e5e672e39314aee9476be7280e8a4",
    "files": [
        {
            "sha": "a6d454045394b7d594746db8cb673af916917e82",
            "filename": "docs/01-app/02-guides/authentication.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fauthentication.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -561,7 +561,7 @@ const secretKey = process.env.SESSION_SECRET\n \n #### 2. Encrypting and decrypting sessions\n \n-Next, you can use your preferred [session management library](#session-management-libraries) to encrypt and decrypt sessions. Continuing from the previous example, we'll use [Jose](https://www.npmjs.com/package/jose) (compatible with the [Edge Runtime](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes)) and React's [`server-only`](https://www.npmjs.com/package/server-only) package to ensure that your session management logic is only executed on the server.\n+Next, you can use your preferred [session management library](#session-management-libraries) to encrypt and decrypt sessions. Continuing from the previous example, we'll use [Jose](https://www.npmjs.com/package/jose) (compatible with the [Edge Runtime](/docs/app/api-reference/edge)) and React's [`server-only`](https://www.npmjs.com/package/server-only) package to ensure that your session management logic is only executed on the server.\n \n ```tsx filename=\"app/lib/session.ts\" switcher\n import 'server-only'\n@@ -1121,7 +1121,7 @@ While Middleware can be useful for initial checks, it should not be your only li\n > **Tips**:\n >\n > - In Middleware, you can also read cookies using `req.cookies.get('session').value`.\n-> - Middleware uses the [Edge Runtime](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes), check if your Auth library and session management library are compatible.\n+> - Middleware uses the [Edge Runtime](/docs/app/api-reference/edge), check if your Auth library and session management library are compatible.\n > - You can use the `matcher` property in the Middleware to specify which routes Middleware should run on. Although, for auth, it's recommended Middleware runs on all routes.\n \n <AppOnly>"
        },
        {
            "sha": "f93d6c908a583e46dcda6f3e095473e2d0a9ee51",
            "filename": "docs/01-app/02-guides/instrumentation.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F02-guides%2Finstrumentation.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F02-guides%2Finstrumentation.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Finstrumentation.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -69,7 +69,7 @@ export async function register() {\n \n ### Importing runtime-specific code\n \n-Next.js calls `register` in all environments, so it's important to conditionally import any code that doesn't support specific runtimes (e.g. [Edge or Node.js](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes)). You can use the `NEXT_RUNTIME` environment variable to get the current environment:\n+Next.js calls `register` in all environments, so it's important to conditionally import any code that doesn't support specific runtimes (e.g. [Edge or Node.js](/docs/app/api-reference/edge)). You can use the `NEXT_RUNTIME` environment variable to get the current environment:\n \n ```ts filename=\"instrumentation.ts\" switcher\n export async function register() {"
        },
        {
            "sha": "071f3b5d98b98a8af3d761cb8a2ae4b5e1f3d984",
            "filename": "docs/01-app/02-guides/self-hosting.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F02-guides%2Fself-hosting.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F02-guides%2Fself-hosting.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fself-hosting.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -26,7 +26,7 @@ Image Optimization can be used with a [static export](/docs/app/guides/static-ex\n \n [Middleware](/docs/app/building-your-application/routing/middleware) works self-hosted with zero configuration when deploying using `next start`. Since it requires access to the incoming request, it is not supported when using a [static export](/docs/app/guides/static-exports).\n \n-Middleware uses a [runtime](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes) that is a subset of all available Node.js APIs to help ensure low latency, since it may run in front of every route or asset in your application. If you do not want this, you can use the [full Node.js runtime](/blog/next-15-2#nodejs-middleware-experimental) to run Middleware.\n+Middleware uses the [Edge runtime](/docs/app/api-reference/edge), a subset of all available Node.js APIs to help ensure low latency, since it may run in front of every route or asset in your application. If you do not want this, you can use the [full Node.js runtime](/blog/next-15-2#nodejs-middleware-experimental) to run Middleware.\n \n If you are looking to add logic (or use an external package) that requires all Node.js APIs, you might be able to move this logic to a [layout](/docs/app/building-your-application/routing/layouts-and-templates#layouts) as a [Server Component](/docs/app/building-your-application/rendering/server-components). For example, checking [headers](/docs/app/api-reference/functions/headers) and [redirecting](/docs/app/api-reference/functions/redirect). You can also use headers, cookies, or query parameters to [redirect](/docs/app/api-reference/config/next-config-js/redirects#header-cookie-and-query-matching) or [rewrite](/docs/app/api-reference/config/next-config-js/rewrites#header-cookie-and-query-matching) through `next.config.js`. If that does not work, you can also use a [custom server](/docs/pages/guides/custom-server).\n "
        },
        {
            "sha": "d3bccbd789ad3eeb6abb456b597623d4491b1459",
            "filename": "docs/01-app/03-building-your-application/02-data-fetching/03-server-actions-and-mutations.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2F03-server-actions-and-mutations.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2F03-server-actions-and-mutations.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2F03-server-actions-and-mutations.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -124,7 +124,7 @@ Runtime type-checking will still ensure you don't accidentally pass a function t\n - Behind the scenes, actions use the `POST` method, and only this HTTP method can invoke them.\n - The arguments and return value of Server Actions must be serializable by React. See the React docs for a list of [serializable arguments and values](https://react.dev/reference/react/use-server#serializable-parameters-and-return-values).\n - Server Actions are functions. This means they can be reused anywhere in your application.\n-- Server Actions inherit the [runtime](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes) from the page or layout they are used on.\n+- Server Actions inherit the runtime from the page or layout they are used on.\n - Server Actions inherit the [Route Segment Config](/docs/app/api-reference/file-conventions/route-segment-config) from the page or layout they are used on, including fields like `maxDuration`.\n \n ## Examples"
        },
        {
            "sha": "fc542ca2c5a3e5c40dbeb5fb56c138540ab0e15b",
            "filename": "docs/01-app/03-building-your-application/03-rendering/05-edge-and-nodejs-runtimes.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 28,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/0e39e7f155f1ab894b14f32216a9054c059b29e7/docs%2F01-app%2F03-building-your-application%2F03-rendering%2F05-edge-and-nodejs-runtimes.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/0e39e7f155f1ab894b14f32216a9054c059b29e7/docs%2F01-app%2F03-building-your-application%2F03-rendering%2F05-edge-and-nodejs-runtimes.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F03-rendering%2F05-edge-and-nodejs-runtimes.mdx?ref=0e39e7f155f1ab894b14f32216a9054c059b29e7",
            "patch": "@@ -1,28 +0,0 @@\n----\n-title: Runtimes\n-description: Learn about the switchable runtimes (Edge and Node.js) in Next.js.\n-related:\n-  description: View the Edge Runtime API reference.\n-  links:\n-    - app/api-reference/edge\n----\n-\n-{/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}\n-\n-Next.js has two server runtimes you can use in your application:\n-\n-- The **Node.js Runtime** (default), which has access to all Node.js APIs and compatible packages from the ecosystem.\n-- The **Edge Runtime** which contains a more limited [set of APIs](/docs/app/api-reference/edge).\n-\n-The Edge Runtime is the default runtime for [Middleware](/docs/app/building-your-application/routing/middleware). However, this can be changed to the Node.js runtime. See the [Middleware documentation](/docs/app/building-your-application/routing/middleware#runtime) for more details.\n-\n-## Use Cases\n-\n-- The Node.js Runtime is used for rendering your application.\n-- The Edge Runtime is used for Middleware (routing rules like redirects, rewrites, and setting headers).\n-\n-## Caveats\n-\n-- The Edge Runtime does not support all Node.js APIs. Some packages may not work as expected. Learn more about the unsupported APIs in the [Edge Runtime](/docs/app/api-reference/edge#unsupported-apis).\n-- The Edge Runtime does not support Incremental Static Regeneration (ISR).\n-- Both runtimes can support [streaming](/docs/app/building-your-application/routing/loading-ui-and-streaming) depending on your deployment infrastructure."
        },
        {
            "sha": "643908aa92d1769d09f1fa13b29f847c3c00276e",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/middleware.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fmiddleware.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fmiddleware.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fmiddleware.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -122,7 +122,7 @@ Middleware can use the [`NextResponse`](/docs/app/building-your-application/rout\n \n ## Runtime\n \n-Middleware only supports the [Edge runtime](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes). The Node.js runtime cannot be used.\n+Middleware uses [Edge runtime](/docs/app/api-reference/edge) by default. If you do not want this, you can use the [full Node.js runtime](/blog/next-15-2#nodejs-middleware-experimental) to run Middleware.\n \n ## Version History\n "
        },
        {
            "sha": "e8f95a0bb3465c4c330ca8603f2fc232dbac01b6",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/route-segment-config.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Froute-segment-config.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Froute-segment-config.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Froute-segment-config.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -161,7 +161,7 @@ export const fetchCache = 'auto'\n \n ### `runtime`\n \n-We recommend using the Node.js runtime for rendering your application, and the Edge runtime for Middleware (only supported option).\n+We recommend using the Node.js runtime for rendering your application, and the Edge runtime for Middleware.\n \n ```tsx filename=\"layout.tsx | page.tsx | route.ts\" switcher\n export const runtime = 'nodejs'\n@@ -176,8 +176,6 @@ export const runtime = 'nodejs'\n - **`'nodejs'`** (default)\n - **`'edge'`**\n \n-Learn more about the [different runtimes](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes).\n-\n ### `preferredRegion`\n \n ```tsx filename=\"layout.tsx | page.tsx | route.ts\" switcher"
        },
        {
            "sha": "fa2530f24af5886cc4c36597bda6956b0ded33e9",
            "filename": "docs/01-app/05-api-reference/07-edge.mdx",
            "status": "modified",
            "additions": 22,
            "deletions": 9,
            "changes": 31,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F05-api-reference%2F07-edge.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/docs%2F01-app%2F05-api-reference%2F07-edge.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F07-edge.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -5,9 +5,22 @@ description: API Reference for the Edge Runtime.\n \n {/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}\n \n-The Next.js Edge Runtime is used for Middleware and supports the following APIs:\n+Next.js has two server runtimes you can use in your application:\n \n-## Network APIs\n+- The **Node.js Runtime** (default), which has access to all Node.js APIs and is used for rendering your application.\n+- The **Edge Runtime** which contains a more limited [set of APIs](#reference), used in [Middleware](/docs/app/api-reference/file-conventions/middleware).\n+\n+## Caveats\n+\n+- The Edge Runtime does not support all Node.js APIs. Some packages may not work as expected.\n+- The Edge Runtime does not support Incremental Static Regeneration (ISR).\n+- Both runtimes can support [streaming](/docs/app/building-your-application/routing/loading-ui-and-streaming) depending on your deployment adapter.\n+\n+## Reference\n+\n+The Edge Runtime supports the following APIs:\n+\n+### Network APIs\n \n | API                                                                             | Description                       |\n | ------------------------------------------------------------------------------- | --------------------------------- |\n@@ -22,7 +35,7 @@ The Next.js Edge Runtime is used for Middleware and supports the following APIs:\n | [`URLSearchParams`](https://developer.mozilla.org/docs/Web/API/URLSearchParams) | Represents URL search parameters  |\n | [`WebSocket`](https://developer.mozilla.org/docs/Web/API/WebSocket)             | Represents a websocket connection |\n \n-## Encoding APIs\n+### Encoding APIs\n \n | API                                                                                 | Description                        |\n | ----------------------------------------------------------------------------------- | ---------------------------------- |\n@@ -33,7 +46,7 @@ The Next.js Edge Runtime is used for Middleware and supports the following APIs:\n | [`TextEncoder`](https://developer.mozilla.org/docs/Web/API/TextEncoder)             | Encodes a string into a Uint8Array |\n | [`TextEncoderStream`](https://developer.mozilla.org/docs/Web/API/TextEncoderStream) | Chainable encoder for streams      |\n \n-## Stream APIs\n+### Stream APIs\n \n | API                                                                                                     | Description                             |\n | ------------------------------------------------------------------------------------------------------- | --------------------------------------- |\n@@ -44,15 +57,15 @@ The Next.js Edge Runtime is used for Middleware and supports the following APIs:\n | [`WritableStream`](https://developer.mozilla.org/docs/Web/API/WritableStream)                           | Represents a writable stream            |\n | [`WritableStreamDefaultWriter`](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter) | Represents a writer of a WritableStream |\n \n-## Crypto APIs\n+### Crypto APIs\n \n | API                                                                       | Description                                                                                         |\n | ------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |\n | [`crypto`](https://developer.mozilla.org/docs/Web/API/Window/crypto)      | Provides access to the cryptographic functionality of the platform                                  |\n | [`CryptoKey`](https://developer.mozilla.org/docs/Web/API/CryptoKey)       | Represents a cryptographic key                                                                      |\n | [`SubtleCrypto`](https://developer.mozilla.org/docs/Web/API/SubtleCrypto) | Provides access to common cryptographic primitives, like hashing, signing, encryption or decryption |\n \n-## Web Standard APIs\n+### Web Standard APIs\n \n | API                                                                                                                   | Description                                                                                                                                                                                          |\n | --------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n@@ -120,15 +133,15 @@ The Next.js Edge Runtime is used for Middleware and supports the following APIs:\n | [`WeakSet`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WeakSet)                       | Represents a collection of objects in which each object may occur only once                                                                                                                          |\n | [`WebAssembly`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly)               | Provides access to WebAssembly                                                                                                                                                                       |\n \n-## Next.js Specific Polyfills\n+### Next.js Specific Polyfills\n \n - [`AsyncLocalStorage`](https://nodejs.org/api/async_context.html#class-asynclocalstorage)\n \n-## Environment Variables\n+### Environment Variables\n \n You can use `process.env` to access [Environment Variables](/docs/app/guides/environment-variables) for both `next dev` and `next build`.\n \n-## Unsupported APIs\n+### Unsupported APIs\n \n The Edge Runtime has some restrictions including:\n "
        },
        {
            "sha": "37529e88b62eeb50468c20b1f5e6d24d80287187",
            "filename": "docs/02-pages/03-building-your-application/02-rendering/06-edge-and-nodejs-runtimes.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/0e39e7f155f1ab894b14f32216a9054c059b29e7/docs%2F02-pages%2F03-building-your-application%2F02-rendering%2F06-edge-and-nodejs-runtimes.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/0e39e7f155f1ab894b14f32216a9054c059b29e7/docs%2F02-pages%2F03-building-your-application%2F02-rendering%2F06-edge-and-nodejs-runtimes.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F03-building-your-application%2F02-rendering%2F06-edge-and-nodejs-runtimes.mdx?ref=0e39e7f155f1ab894b14f32216a9054c059b29e7",
            "patch": "@@ -1,7 +0,0 @@\n----\n-title: Edge and Node.js Runtimes\n-description: Learn more about the switchable runtimes (Edge and Node.js) in Next.js.\n-source: app/building-your-application/rendering/edge-and-nodejs-runtimes\n----\n-\n-{/* DO NOT EDIT. The content of this doc is generated from the source above. To edit the content of this page, navigate to the source page in your editor. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}"
        },
        {
            "sha": "884c4422b437b5cf2884c2455a2e46ccc3e14cea",
            "filename": "errors/invalid-page-config.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04a19c12600e5e672e39314aee9476be7280e8a4/errors%2Finvalid-page-config.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/04a19c12600e5e672e39314aee9476be7280e8a4/errors%2Finvalid-page-config.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Finvalid-page-config.mdx?ref=04a19c12600e5e672e39314aee9476be7280e8a4",
            "patch": "@@ -118,4 +118,4 @@ export const config = {}\n \n - [Enabling AMP Support](/docs/pages/guides/amp)\n - [API Routes Request Helpers](/docs/pages/building-your-application/routing/api-routes)\n-- [Edge and Node.js Runtimes](/docs/pages/building-your-application/rendering/edge-and-nodejs-runtimes)\n+- [Edge Runtime](/docs/app/api-reference/edge)"
        }
    ],
    "stats": {
        "total": 84,
        "additions": 30,
        "deletions": 54
    }
}