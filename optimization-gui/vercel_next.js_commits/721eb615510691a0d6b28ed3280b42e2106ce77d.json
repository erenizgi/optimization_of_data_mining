{
    "author": "eps1lon",
    "message": "[test] Speed up prefetching suite (#85417)",
    "sha": "721eb615510691a0d6b28ed3280b42e2106ce77d",
    "files": [
        {
            "sha": "1d742dc1b9221cf673989194f020295ad0a682fd",
            "filename": "test/e2e/app-dir/app-prefetch/app/dashboard/[id]/page.js",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fdashboard%2F%5Bid%5D%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fdashboard%2F%5Bid%5D%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fdashboard%2F%5Bid%5D%2Fpage.js?ref=721eb615510691a0d6b28ed3280b42e2106ce77d",
            "patch": "@@ -14,8 +14,7 @@ export function generateStaticParams() {\n \n export default function IdPage(props) {\n   const params = use(props.params)\n-  const data = use(getData())\n-  console.log(data)\n+  use(getData())\n \n   if (params.id === '123') {\n     return ("
        },
        {
            "sha": "c2349110eb8525ed3bd2e19250aa9507c2b7a05b",
            "filename": "test/e2e/app-dir/app-prefetch/app/layout.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Flayout.js?ref=721eb615510691a0d6b28ed3280b42e2106ce77d",
            "patch": "@@ -2,7 +2,6 @@ export default function Root({ children }) {\n   return (\n     <html>\n       <head>\n-        <script src=\"https://cdn.tailwindcss.com?plugins=typography\"></script>\n         <title>Hello World</title>\n         <script\n           dangerouslySetInnerHTML={{"
        },
        {
            "sha": "2eba32f2e90c2a52e319285e81d8db2a78bdb688",
            "filename": "test/e2e/app-dir/app-prefetch/app/prefetch-auto-route-groups/layout.tsx",
            "status": "modified",
            "additions": 8,
            "deletions": 14,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto-route-groups%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto-route-groups%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto-route-groups%2Flayout.tsx?ref=721eb615510691a0d6b28ed3280b42e2106ce77d",
            "patch": "@@ -5,22 +5,16 @@ import Link from 'next/link'\n export default function Layout({ children }: { children: React.ReactNode }) {\n   return (\n     <>\n-      <nav className=\"bg-gray-800\">\n-        <ul className=\"flex\">\n-          <li className=\"mr-6\">\n-            <Link href=\"/prefetch-auto-route-groups\">\n-              <p className=\"text-white hover:text-gray-300\">Dashboard</p>\n-            </Link>\n+      <nav style={{ border: '1px solid #1f2937' }}>\n+        <ul style={{ display: 'flex' }}>\n+          <li style={{ marginRight: '1.5rem' }}>\n+            <Link href=\"/prefetch-auto-route-groups\">Dashboard</Link>\n           </li>\n-          <li className=\"mr-6\">\n-            <Link href=\"/prefetch-auto-route-groups/sub/foo\">\n-              <p className=\"text-white hover:text-gray-300\">Foo</p>\n-            </Link>\n+          <li style={{ marginRight: '1.5rem' }}>\n+            <Link href=\"/prefetch-auto-route-groups/sub/foo\">Foo</Link>\n           </li>\n-          <li className=\"mr-6\">\n-            <Link href=\"/prefetch-auto-route-groups/sub/bar\">\n-              <p className=\"text-white hover:text-gray-300\">Bar</p>\n-            </Link>\n+          <li style={{ marginRight: '1.5rem' }}>\n+            <Link href=\"/prefetch-auto-route-groups/sub/bar\">Bar</Link>\n           </li>\n         </ul>\n       </nav>"
        },
        {
            "sha": "f4fac5dbe9a1a26d186b23fe8a8c1d71e37dd10c",
            "filename": "test/e2e/app-dir/app-prefetch/app/prefetch-auto/[slug]/layout.js",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto%2F%5Bslug%5D%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto%2F%5Bslug%5D%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto%2F%5Bslug%5D%2Flayout.js?ref=721eb615510691a0d6b28ed3280b42e2106ce77d",
            "patch": "@@ -1,12 +1,10 @@\n-import Link from 'next/link'\n-\n export const dynamic = 'force-dynamic'\n \n function getData() {\n   const res = new Promise((resolve) => {\n     setTimeout(() => {\n       resolve({ message: 'Layout Data!' })\n-    }, 2000)\n+    }, 1000)\n   })\n   return res\n }\n@@ -17,9 +15,6 @@ export default async function Layout({ children }) {\n   return (\n     <div>\n       <h1>Layout</h1>\n-      <Link prefetch={undefined} href=\"/prefetch-auto/justputit\">\n-        Prefetch Link\n-      </Link>\n       {children}\n       <h3>{JSON.stringify(result)}</h3>\n     </div>"
        },
        {
            "sha": "77cfdfc42a17522144ce3944d5a8a6c77c1b5f2b",
            "filename": "test/e2e/app-dir/app-prefetch/app/prefetch-auto/[slug]/page.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto%2F%5Bslug%5D%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto%2F%5Bslug%5D%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fapp%2Fprefetch-auto%2F%5Bslug%5D%2Fpage.js?ref=721eb615510691a0d6b28ed3280b42e2106ce77d",
            "patch": "@@ -4,7 +4,7 @@ function getData() {\n   const res = new Promise((resolve) => {\n     setTimeout(() => {\n       resolve({ message: 'Page Data!' })\n-    }, 2000)\n+    }, 1000)\n   })\n   return res\n }"
        },
        {
            "sha": "ef5d72e047f0abe6c12ba2268614593dfd8696a0",
            "filename": "test/e2e/app-dir/app-prefetch/prefetching.test.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/721eb615510691a0d6b28ed3280b42e2106ce77d/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.test.ts?ref=721eb615510691a0d6b28ed3280b42e2106ce77d",
            "patch": "@@ -314,22 +314,20 @@ describe('app dir - prefetching', () => {\n       async () => {\n         const reveal = await browser.elementByCss('#accordion-to-dynamic-page')\n         await reveal.click()\n-        await browser.waitForElementByCss('#to-dynamic-page')\n-        return await browser.elementByCss('#to-dynamic-page')\n+        return browser.elementByCss('#to-dynamic-page')\n       },\n       { includes: 'Loading Prefetch Auto' }\n     )\n \n     // Click the link to navigate - should trigger dynamic data fetch\n-    await act(\n+    const loadingText = await act(\n       async () => {\n         await link.click()\n-        await browser.waitForElementByCss('#loading-text')\n-        const loadingText = await browser.elementByCss('#loading-text').text()\n-        expect(loadingText).toBe('Loading Prefetch Auto')\n+        return browser.elementByCss('#loading-text').text()\n       },\n       { includes: 'prefetch-auto-page-data' }\n     )\n+    expect(loadingText).toBe('Loading Prefetch Auto')\n \n     // Wait for final data to appear\n     await browser.waitForElementByCss('#prefetch-auto-page-data')"
        }
    ],
    "stats": {
        "total": 45,
        "additions": 15,
        "deletions": 30
    }
}