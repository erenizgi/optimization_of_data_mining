{
    "author": "devjiwonchoi",
    "message": "Version gate migration docs link (#84740)\n\nCurrently, it always logs 15 migration docs when upgrading, so version\ngate it.\n\n```\nResults:\n0 errors\n41 unmodified\n0 skipped\n0 ok\nTime elapsed: 2.276seconds\n\n✔ Codemods have been applied successfully.\n\nPlease review the local changes and read the Next.js 15 migration guide to complete the migration.\nhttps://nextjs.org/docs/canary/app/building-your-application/upgrading/version-15\n```",
    "sha": "48e84aacd3cd61e7c45d9a2eeee4cf3287ed7f59",
    "files": [
        {
            "sha": "ba0a352bfb464c2a157b7eaaa55ccdedc80b7796",
            "filename": "packages/next-codemod/bin/upgrade.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 13,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/48e84aacd3cd61e7c45d9a2eeee4cf3287ed7f59/packages%2Fnext-codemod%2Fbin%2Fupgrade.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/48e84aacd3cd61e7c45d9a2eeee4cf3287ed7f59/packages%2Fnext-codemod%2Fbin%2Fupgrade.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext-codemod%2Fbin%2Fupgrade.ts?ref=48e84aacd3cd61e7c45d9a2eeee4cf3287ed7f59",
            "patch": "@@ -4,6 +4,7 @@ import fs from 'fs'\n import {\n   satisfies as satisfiesVersionRange,\n   compare as compareVersions,\n+  major,\n } from 'semver'\n import { execSync } from 'child_process'\n import path from 'path'\n@@ -60,20 +61,22 @@ async function loadHighestNPMVersionMatching(query: string) {\n   return versionOrVersions\n }\n \n-function endMessage() {\n+function endMessage(targetNextVersion: string) {\n   console.log()\n-  console.log(\n-    pc.white(\n-      pc.bold(\n-        `Please review the local changes and read the Next.js 15 migration guide to complete the migration.`\n+  if (major(targetNextVersion) === 15) {\n+    console.log(\n+      pc.white(\n+        pc.bold(\n+          `Please review the local changes and read the Next.js 15 migration guide to complete the migration.`\n+        )\n       )\n     )\n-  )\n-  console.log(\n-    pc.underline(\n-      'https://nextjs.org/docs/canary/app/building-your-application/upgrading/version-15'\n+    console.log(\n+      pc.underline(\n+        'https://nextjs.org/docs/canary/app/building-your-application/upgrading/version-15'\n+      )\n     )\n-  )\n+  }\n }\n \n const cwd = process.cwd()\n@@ -118,14 +121,14 @@ export async function runUpgrade(\n     console.log(\n       `${pc.green('✓')} Current Next.js version is already on the target version \"v${targetNextVersion}\".`\n     )\n-    endMessage()\n+    endMessage(targetNextVersion)\n     return\n   }\n   if (compareVersions(installedNextVersion, targetNextVersion) > 0) {\n     console.log(\n       `${pc.green('✓')} Current Next.js version is higher than the target version \"v${targetNextVersion}\".`\n     )\n-    endMessage()\n+    endMessage(targetNextVersion)\n     return\n   }\n \n@@ -361,7 +364,7 @@ export async function runUpgrade(\n \n   warnDependenciesOutOfRange(appPackageJson, versionMapping)\n \n-  endMessage()\n+  endMessage(targetNextVersion)\n }\n \n function getInstalledNextVersion(): string {"
        }
    ],
    "stats": {
        "total": 29,
        "additions": 16,
        "deletions": 13
    }
}