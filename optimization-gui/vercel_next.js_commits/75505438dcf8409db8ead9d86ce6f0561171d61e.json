{
    "author": "huozhi",
    "message": "[ts-hint] fix vscode type hint plugin enabling (#77099)\n\n### What\n\nFix the enabling of ts hint plugin in vscode. This is a regression\nintroduced in #76300, where we use the plugin config `{ \"name\": \"next\"\n}` to directly check if it has a `enabled` property, and determine if we\nshould enable the plugin. This PR fixed the way of reading plugin config\nand keep it enabled by default.\n\nFixes 76980",
    "sha": "75505438dcf8409db8ead9d86ce6f0561171d61e",
    "files": [
        {
            "sha": "f5d0388b2b97233617187cd984fbbe4113bed2ed",
            "filename": "packages/next/src/server/typescript/index.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/75505438dcf8409db8ead9d86ce6f0561171d61e/packages%2Fnext%2Fsrc%2Fserver%2Ftypescript%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/75505438dcf8409db8ead9d86ce6f0561171d61e/packages%2Fnext%2Fsrc%2Fserver%2Ftypescript%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Ftypescript%2Findex.ts?ref=75505438dcf8409db8ead9d86ce6f0561171d61e",
            "patch": "@@ -28,10 +28,6 @@ import metadata from './rules/metadata'\n import errorEntry from './rules/error'\n import type tsModule from 'typescript/lib/tsserverlibrary'\n \n-type NextTypePluginOptions = {\n-  enabled?: boolean\n-}\n-\n export const createTSPlugin: tsModule.server.PluginModuleFactory = ({\n   typescript: ts,\n }) => {\n@@ -48,10 +44,14 @@ export const createTSPlugin: tsModule.server.PluginModuleFactory = ({\n       proxy[k] = (...args: Array<{}>) => x.apply(info.languageService, args)\n     }\n \n-    const pluginOptions: NextTypePluginOptions = info.config ?? {\n-      enabled: true,\n-    }\n-    if (!pluginOptions.enabled) {\n+    // Get plugin options\n+    // config is the plugin options from the user's tsconfig.json\n+    // e.g. { \"plugins\": [{ \"name\": \"next\", \"enabled\": true }] }\n+    // config will be { \"name\": \"next\", \"enabled\": true }\n+    // The default user config is { \"name\": \"next\" }\n+    const isPluginEnabled = info.config.enabled ?? true\n+\n+    if (!isPluginEnabled) {\n       return proxy\n     }\n "
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}