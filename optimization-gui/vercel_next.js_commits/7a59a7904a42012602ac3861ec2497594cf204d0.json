{
    "author": "huozhi",
    "message": "[test] fix cache components build error in next-form tests (#82841)",
    "sha": "7a59a7904a42012602ac3861ec2497594cf204d0",
    "files": [
        {
            "sha": "5b304da8b1c71986db2b744d89f1459cf390baf1",
            "filename": "test/cache-components-tests-manifest.json",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/7a59a7904a42012602ac3861ec2497594cf204d0/test%2Fcache-components-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/7a59a7904a42012602ac3861ec2497594cf204d0/test%2Fcache-components-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fcache-components-tests-manifest.json?ref=7a59a7904a42012602ac3861ec2497594cf204d0",
            "patch": "@@ -33,10 +33,11 @@\n       ]\n     },\n     \"test/e2e/next-form/default/next-form-prefetch.test.ts\": {\n-      \"passed\": [],\n-      \"failed\": [\n-        \"app dir - form prefetching should not prefetch when prefetch is set to false`\",\n+      \"passed\": [\n         \"app dir - form prefetching should prefetch a loading state for the form's target\"\n+      ],\n+      \"failed\": [\n+        \"app dir - form prefetching should not prefetch when prefetch is set to false`\"\n       ]\n     }\n   },"
        },
        {
            "sha": "e505943055b9214734d40b006b34d881ca8a0614",
            "filename": "test/e2e/next-form/default/app/forms/button-formaction-unsupported/page.tsx",
            "status": "modified",
            "additions": 18,
            "deletions": 7,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/7a59a7904a42012602ac3861ec2497594cf204d0/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction-unsupported%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/7a59a7904a42012602ac3861ec2497594cf204d0/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction-unsupported%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction-unsupported%2Fpage.tsx?ref=7a59a7904a42012602ac3861ec2497594cf204d0",
            "patch": "@@ -1,14 +1,13 @@\n 'use client'\n-import * as React from 'react'\n+\n+import React, { Suspense } from 'react'\n import Form from 'next/form'\n \n-type AnySearchParams = { [key: string]: string | Array<string> | undefined }\n+type AnySearchParams = Promise<{\n+  [key: string]: string | Array<string> | undefined\n+}>\n \n-export default function Home({\n-  searchParams,\n-}: {\n-  searchParams: Promise<AnySearchParams>\n-}) {\n+function Home({ searchParams }: { searchParams: AnySearchParams }) {\n   const attribute = React.use(searchParams).attribute\n   return (\n     <div\n@@ -39,3 +38,15 @@ export default function Home({\n     </div>\n   )\n }\n+\n+export default function Page({\n+  searchParams,\n+}: {\n+  searchParams: AnySearchParams\n+}) {\n+  return (\n+    <Suspense fallback={<div>Page is loading...</div>}>\n+      <Home searchParams={searchParams} />\n+    </Suspense>\n+  )\n+}"
        },
        {
            "sha": "f5f737d17d2eb1a3d9153e817e22127429e4cc68",
            "filename": "test/e2e/next-form/default/app/redirected-from-action/page.tsx",
            "status": "modified",
            "additions": 22,
            "deletions": 1,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/7a59a7904a42012602ac3861ec2497594cf204d0/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fredirected-from-action%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/7a59a7904a42012602ac3861ec2497594cf204d0/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fredirected-from-action%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fredirected-from-action%2Fpage.tsx?ref=7a59a7904a42012602ac3861ec2497594cf204d0",
            "patch": "@@ -1,6 +1,27 @@\n import * as React from 'react'\n+import { Suspense } from 'react'\n \n-export default async function RedirectedPage({ searchParams }) {\n+type AnySearchParams = Promise<{\n+  [key: string]: string | Array<string> | undefined\n+}>\n+\n+async function RedirectedPage({\n+  searchParams,\n+}: {\n+  searchParams: AnySearchParams\n+}) {\n   const query = (await searchParams).query as string\n   return <div id=\"redirected-results\">query: {JSON.stringify(query)}</div>\n }\n+\n+export default function Page({\n+  searchParams,\n+}: {\n+  searchParams: AnySearchParams\n+}) {\n+  return (\n+    <Suspense fallback={<div>Page is loading...</div>}>\n+      <RedirectedPage searchParams={searchParams} />\n+    </Suspense>\n+  )\n+}"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 44,
        "deletions": 11
    }
}