{
    "author": "eps1lon",
    "message": "[ci] Fix `test-turbopack-integration` not having any shards  (#76355)\n\nNoticed that this job was the largest contributor to wall time by far\n![CleanShot 2025-02-22 at 00 25\n39](https://github.com/user-attachments/assets/52ec106c-ac14-4f9d-b4ad-a90f16d7d828)\n\n\nI guess this broke in [#70541\n(files)](https://github.com/vercel/next.js/pull/70541/files#diff-48c0ee97c53013d18d6bbae44648f7fab9af2e0bf5b0dc1ca761e18ec5c478f2R224-R226)\nwhich is odd because it still sharded on the PR job. Seems like GH\nActions opts out of any sharding if you try to exclude a value that\ndoesn't exist.\n\nEspecially odd since it currently sometimes [does\nshard](https://github.com/vercel/next.js/actions/runs/13479624778/job/37663291940?pr=76384)\nand sometimes [doesn't\nshard](https://github.com/vercel/next.js/actions/runs/13481493569/job/37667294030?pr=76392).",
    "sha": "6a30eb4e94f969b3bee1dca59f554add3cabd46c",
    "files": [
        {
            "sha": "372b6f325c8118a20f400121eca673454234b11b",
            "filename": ".github/workflows/build_and_test.yml",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/6a30eb4e94f969b3bee1dca59f554add3cabd46c/.github%2Fworkflows%2Fbuild_and_test.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6a30eb4e94f969b3bee1dca59f554add3cabd46c/.github%2Fworkflows%2Fbuild_and_test.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_test.yml?ref=6a30eb4e94f969b3bee1dca59f554add3cabd46c",
            "patch": "@@ -249,11 +249,12 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        exclude:\n-          # Excluding React 18 tests unless on `canary` branch until budget is approved.\n-          - react: ${{ github.event_name == 'pull_request' && !contains(github.event.pull_request.labels.*.name, 'run-react-18-tests') && '18.3.1' }}\n         group: [1/6, 2/6, 3/6, 4/6, 5/6, 6/6]\n         # Empty value uses default\n+        # TODO: Run with React 18.\n+        # Integration tests use the installed React version in next/package.json.include:\n+        # We can't easily switch like we do for e2e tests.\n+        # Skipping this dimensions until we can figure out a way to test multiple React versions.\n         react: ['']\n     uses: ./.github/workflows/build_reusable.yml\n     with:\n@@ -545,9 +546,9 @@ jobs:\n           - 11/13\n           - 12/13\n           - 13/13\n-          # Empty value uses default\n-          # TODO: Run with React 18.\n-          # Integration tests use the installed React version in next/package.json.include:\n+        # Empty value uses default\n+        # TODO: Run with React 18.\n+        # Integration tests use the installed React version in next/package.json.include:\n         # We can't easily switch like we do for e2e tests.\n         # Skipping this dimensions until we can figure out a way to test multiple React versions.\n         react: ['']"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 7,
        "deletions": 6
    }
}