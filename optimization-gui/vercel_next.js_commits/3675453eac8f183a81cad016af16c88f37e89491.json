{
    "author": "Juneezee",
    "message": "chore(examples): replace uuid dependency with crypto.randomUUID (#77901)\n\nStarting from Node.js v14.17.0 and v15.6.0, we can use Node.js's\n`randomUUID` function in the crypto module to generate version 4 UUID.\n\nSince Next.js requires Node 18 or newer, we can replace `uuid`\ndependency with `crypto.randomUUID`.\n\nReference:\nhttps://nodejs.org/docs/latest-v18.x/api/crypto.html#cryptorandomuuidoptions\n\nSigned-off-by: Eng Zer Jun <engzerjun@gmail.com>\nCo-authored-by: Jiwon Choi <devjiwonchoi@gmail.com>",
    "sha": "3675453eac8f183a81cad016af16c88f37e89491",
    "files": [
        {
            "sha": "6bf8810242a56540b6edee6551877bb86305a63d",
            "filename": "examples/api-routes-apollo-server-and-client-auth/lib/user.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fapi-routes-apollo-server-and-client-auth%2Flib%2Fuser.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fapi-routes-apollo-server-and-client-auth%2Flib%2Fuser.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fapi-routes-apollo-server-and-client-auth%2Flib%2Fuser.ts?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -1,5 +1,4 @@\n import crypto from \"crypto\";\n-import { v4 as uuidv4 } from \"uuid\";\n \n /**\n  * User methods. The example doesn't contain a DB, but for real applications you must use a\n@@ -16,7 +15,7 @@ export async function createUser({ email, password }) {\n     .pbkdf2Sync(password, salt, 1000, 64, \"sha512\")\n     .toString(\"hex\");\n   const user = {\n-    id: uuidv4(),\n+    id: crypto.randomUUID(),\n     createdAt: Date.now(),\n     email,\n     hash,"
        },
        {
            "sha": "035876901dfbe7678d46466d02d507e45c91f26d",
            "filename": "examples/api-routes-apollo-server-and-client-auth/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fapi-routes-apollo-server-and-client-auth%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fapi-routes-apollo-server-and-client-auth%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fapi-routes-apollo-server-and-client-auth%2Fpackage.json?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -17,8 +17,7 @@\n     \"next\": \"latest\",\n     \"prop-types\": \"^15.6.2\",\n     \"react\": \"^18.2.0\",\n-    \"react-dom\": \"^18.2.0\",\n-    \"uuid\": \"8.1.0\"\n+    \"react-dom\": \"^18.2.0\"\n   },\n   \"devDependencies\": {\n     \"@types/node\": \"^18.0.2\","
        },
        {
            "sha": "b330ebdc05e847fee0d7c0f3017a1da26838638f",
            "filename": "examples/with-passport-and-next-connect/lib/db.js",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport-and-next-connect%2Flib%2Fdb.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport-and-next-connect%2Flib%2Fdb.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-passport-and-next-connect%2Flib%2Fdb.js?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -1,5 +1,4 @@\n import crypto from \"crypto\";\n-import { uuid as uuidv4 } from \"uuidv4\";\n \n export function getAllUsers(req) {\n   // For demo purpose only. You are not likely to have to return all users.\n@@ -14,7 +13,7 @@ export function createUser(req, { username, password, name }) {\n     .pbkdf2Sync(password, salt, 1000, 64, \"sha512\")\n     .toString(\"hex\");\n   const user = {\n-    id: uuidv4(),\n+    id: crypto.randomUUID(),\n     createdAt: Date.now(),\n     username,\n     name,"
        },
        {
            "sha": "6b8db97a7255d49bbda47c94d803c7db15c3635e",
            "filename": "examples/with-passport-and-next-connect/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport-and-next-connect%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport-and-next-connect%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-passport-and-next-connect%2Fpackage.json?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -14,7 +14,6 @@\n     \"passport-local\": \"^1.0.0\",\n     \"react\": \"^18.2.0\",\n     \"react-dom\": \"^18.2.0\",\n-    \"swr\": \"^2.0.0\",\n-    \"uuidv4\": \"6.2.5\"\n+    \"swr\": \"^2.0.0\"\n   }\n }"
        },
        {
            "sha": "dcaa1300c14082b289d6944f50666f8defa16c4f",
            "filename": "examples/with-passport/lib/user.js",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport%2Flib%2Fuser.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport%2Flib%2Fuser.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-passport%2Flib%2Fuser.js?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -1,5 +1,4 @@\n import crypto from \"crypto\";\n-import { v4 as uuidv4 } from \"uuid\";\n \n /**\n  * User methods. The example doesn't contain a DB, but for real applications you must use a\n@@ -16,7 +15,7 @@ export async function createUser({ username, password }) {\n     .pbkdf2Sync(password, salt, 1000, 64, \"sha512\")\n     .toString(\"hex\");\n   const user = {\n-    id: uuidv4(),\n+    id: crypto.randomUUID(),\n     createdAt: Date.now(),\n     username,\n     hash,"
        },
        {
            "sha": "a31cfaf1e0802a3e1f7d5593f11c46b62c58f7f5",
            "filename": "examples/with-passport/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-passport%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-passport%2Fpackage.json?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -14,7 +14,6 @@\n     \"passport-local\": \"^1.0.0\",\n     \"react\": \"^18.2.0\",\n     \"react-dom\": \"^18.2.0\",\n-    \"swr\": \"^2.0.0\",\n-    \"uuid\": \"8.3.2\"\n+    \"swr\": \"^2.0.0\"\n   }\n }"
        },
        {
            "sha": "d9c348a05d8b06c3ec59731f258ce95b3be5ad93",
            "filename": "examples/with-redis/app/form.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-redis%2Fapp%2Fform.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-redis%2Fapp%2Fform.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-redis%2Fapp%2Fform.tsx?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -3,7 +3,6 @@\n import clsx from \"clsx\";\n import { useOptimistic, useRef, useTransition } from \"react\";\n import { saveFeature, upvote } from \"./actions\";\n-import { v4 as uuidv4 } from \"uuid\";\n import { Feature } from \"./types\";\n \n function Item({\n@@ -110,7 +109,7 @@ export default function FeatureForm({ features }: { features: Feature[] }) {\n   });\n \n   let featureStub = {\n-    id: uuidv4(),\n+    id: crypto.randomUUID(),\n     title: \"\", // will used value from form\n     created_at: new Date().toISOString(),\n     score: \"1\","
        },
        {
            "sha": "146af1512af43470d5dbb7eb4c99e878e8150496",
            "filename": "examples/with-redis/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-redis%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3675453eac8f183a81cad016af16c88f37e89491/examples%2Fwith-redis%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-redis%2Fpackage.json?ref=3675453eac8f183a81cad016af16c88f37e89491",
            "patch": "@@ -9,7 +9,6 @@\n     \"@types/node\": \"20.11.0\",\n     \"@types/react\": \"18.2.47\",\n     \"@types/react-dom\": \"18.2.18\",\n-    \"@types/uuid\": \"9.0.7\",\n     \"@vercel/kv\": \"^1.0.1\",\n     \"autoprefixer\": \"10.4.16\",\n     \"clsx\": \"^2.1.0\",\n@@ -19,7 +18,6 @@\n     \"react\": \"18.2.0\",\n     \"react-dom\": \"18.2.0\",\n     \"tailwindcss\": \"3.4.1\",\n-    \"typescript\": \"5.3.3\",\n-    \"uuid\": \"^9.0.1\"\n+    \"typescript\": \"5.3.3\"\n   }\n }"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 8,
        "deletions": 17
    }
}