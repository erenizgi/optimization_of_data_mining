{
    "author": "sokra",
    "message": "Revert \"Turbopack: Persisting happens in foreground tasks\" (#83169)\n\nReverts vercel/next.js#83020",
    "sha": "5742988dbe6b00a8fb1c676f24dfb992c3bdd289",
    "files": [
        {
            "sha": "ddcf819724ac399317987f95153962abb1c8fd24",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/mod.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/5742988dbe6b00a8fb1c676f24dfb992c3bdd289/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/5742988dbe6b00a8fb1c676f24dfb992c3bdd289/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fmod.rs?ref=5742988dbe6b00a8fb1c676f24dfb992c3bdd289",
            "patch": "@@ -1215,7 +1215,7 @@ impl<B: BackingStorage> TurboTasksBackendInner<B> {\n \n         if self.should_persist() {\n             // Schedule the snapshot job\n-            turbo_tasks.schedule_backend_foreground_job(TurboTasksBackendJob::InitialSnapshot);\n+            turbo_tasks.schedule_backend_background_job(TurboTasksBackendJob::InitialSnapshot);\n         }\n     }\n \n@@ -2215,7 +2215,7 @@ impl<B: BackingStorage> TurboTasksBackendInner<B> {\n                                 Ordering::Relaxed,\n                             );\n \n-                            turbo_tasks.schedule_backend_foreground_job(\n+                            turbo_tasks.schedule_backend_background_job(\n                                 TurboTasksBackendJob::FollowUpSnapshot,\n                             );\n                             return;"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}