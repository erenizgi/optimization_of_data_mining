{
    "author": "PapatMayuri",
    "message": "Update with urql example (#76485)\n\nThis PR updates the with-urql example for using the App Router.\nHere are the changes that have been made:\n\n- I renamed the pages folder and moved it to the app folder.\n- Added the layout.tsx file as part of the App Router.\n- Updated the package.json file.\n\nCC: @samcx\n\n---------\n\nCo-authored-by: MayuriPapat25 <mayuri.papat@qed42.com>\nCo-authored-by: samcx <sam@vercel.com>",
    "sha": "00f56aa2759c2f476831c15adbde2bcfa128b914",
    "files": [
        {
            "sha": "6fc1b4d95a8acd782f021ce26c9376bb8657237f",
            "filename": "examples/with-urql/.gitignore",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2F.gitignore",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2F.gitignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2F.gitignore?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -28,6 +28,7 @@\n npm-debug.log*\n yarn-debug.log*\n yarn-error.log*\n+.pnpm-debug.log*\n \n # local env files\n .env*.local"
        },
        {
            "sha": "8ed9f0db998df156127af33cf583ba88e05877cf",
            "filename": "examples/with-urql/app/layout.tsx",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fapp%2Flayout.tsx?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -0,0 +1,18 @@\n+import type { Metadata } from \"next\";\n+\n+export const metadata: Metadata = {\n+  title: \"With urql\",\n+  description: \"Next.js example with urql\",\n+};\n+\n+export default function RootLayout({\n+  children,\n+}: Readonly<{\n+  children: React.ReactNode;\n+}>) {\n+  return (\n+    <html lang=\"en\">\n+      <body>{children}</body>\n+    </html>\n+  );\n+}"
        },
        {
            "sha": "96079ab7a91186d5f4558c43d9c2627576c9e735",
            "filename": "examples/with-urql/app/page.tsx",
            "status": "renamed",
            "additions": 12,
            "deletions": 13,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fapp%2Fpage.tsx?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -1,12 +1,20 @@\n import Link from \"next/link\";\n-import { getPokemons } from \"../graphql/getPokemons\";\n+import { getPokemons } from \"@/graphql/getPokemons\";\n+\n+type Pokemon = {\n+  image: string;\n+  name: string;\n+  __typename: string;\n+};\n+\n+export default async function Home() {\n+  const pokemons = await getPokemons();\n \n-export default function Home({ pokemons }) {\n   return (\n     <ul>\n-      {pokemons.map((pokemon) => (\n+      {pokemons.map((pokemon: Pokemon) => (\n         <li key={pokemon.name}>\n-          <Link as={`/pokemon/${pokemon.name}`} href=\"/pokemon/[name]\">\n+          <Link href={`/pokemon/${pokemon.name}`}>\n             <h2 style={{ textTransform: \"capitalize\" }}>{pokemon.name}</h2>\n             <img src={pokemon.image} alt={`${pokemon.name} picture`} />\n           </Link>\n@@ -15,12 +23,3 @@ export default function Home({ pokemons }) {\n     </ul>\n   );\n }\n-\n-export const getStaticProps = async () => {\n-  const pokemons = await getPokemons();\n-  return {\n-    props: {\n-      pokemons,\n-    },\n-  };\n-};",
            "previous_filename": "examples/with-urql/pages/index.js"
        },
        {
            "sha": "020ee385df311ab9bfce91fb0df917254189cb10",
            "filename": "examples/with-urql/app/pokemon/[name]/page.tsx",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fapp%2Fpokemon%2F%5Bname%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fapp%2Fpokemon%2F%5Bname%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fapp%2Fpokemon%2F%5Bname%5D%2Fpage.tsx?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -0,0 +1,15 @@\n+import { getPokemon as getPokemonByName } from \"@/graphql/getPokemon\";\n+\n+export default async function PokemonPage({\n+  params,\n+}: {\n+  params: { name?: string };\n+}) {\n+  const pokemon = await getPokemonByName(params.name);\n+  return (\n+    <div>\n+      <h1 style={{ textTransform: \"capitalize\" }}>{pokemon.name}</h1>\n+      <img src={pokemon.image} alt={pokemon.name} />\n+    </div>\n+  );\n+}"
        },
        {
            "sha": "133f630b9f6a4812242a469ebfd6239e0005957e",
            "filename": "examples/with-urql/graphql/client.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fgraphql%2Fclient.js",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fgraphql%2Fclient.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fgraphql%2Fclient.js?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -1,5 +1,6 @@\n-import { createClient } from \"urql\";\n+import { cacheExchange, createClient, fetchExchange } from \"urql\";\n \n export const client = createClient({\n   url: \"https://graphql-pokemon2.vercel.app/\",\n+  exchanges: [cacheExchange, fetchExchange],\n });"
        },
        {
            "sha": "88a51c69a65d2c3ecfbb56d98b2a173142256b6d",
            "filename": "examples/with-urql/graphql/getPokemon.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fgraphql%2FgetPokemon.js",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fgraphql%2FgetPokemon.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fgraphql%2FgetPokemon.js?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -1,4 +1,5 @@\n import { client } from \"./client\";\n+\n const pokemonQuery = `\n   query firstTwentyPokemons($name: String!) {\n     pokemon(name: $name) {"
        },
        {
            "sha": "04e1067c46397c7ec7556de8ad970e3230a90030",
            "filename": "examples/with-urql/graphql/getPokemons.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fgraphql%2FgetPokemons.js",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fgraphql%2FgetPokemons.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fgraphql%2FgetPokemons.js?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -1,4 +1,5 @@\n import { client } from \"./client\";\n+\n const firstTwentyPokemonsQuery = `\n   query firstTwentyPokemons {\n     pokemons(first: 20) {"
        },
        {
            "sha": "2979869ef1cac8ba6f5545f63329db9eb01f72af",
            "filename": "examples/with-urql/package.json",
            "status": "modified",
            "additions": 9,
            "deletions": 6,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fpackage.json?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -1,16 +1,19 @@\n {\n   \"private\": true,\n   \"scripts\": {\n-    \"dev\": \"next\",\n+    \"dev\": \"next dev\",\n     \"build\": \"next build\",\n     \"start\": \"next start\"\n   },\n   \"dependencies\": {\n-    \"graphql\": \"^15.0.0\",\n-    \"isomorphic-unfetch\": \"^3.0.0\",\n     \"next\": \"latest\",\n-    \"react\": \"^18.2.0\",\n-    \"react-dom\": \"^18.2.0\",\n-    \"urql\": \"^1.9.7\"\n+    \"react\": \"^19.0.0\",\n+    \"react-dom\": \"^19.0.0\",\n+    \"urql\": \"^4.2.1\"\n+  },\n+  \"devDependencies\": {\n+    \"@types/node\": \"^22.13.5\",\n+    \"@types/react\": \"^19.0.10\",\n+    \"typescript\": \"^5.7.3\"\n   }\n }"
        },
        {
            "sha": "dae1c9f3e6d21c975aabef05933ae9545e80b2b0",
            "filename": "examples/with-urql/pages/pokemon/[name].js",
            "status": "removed",
            "additions": 0,
            "deletions": 33,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/052c9798908c7b322ca7c80019b9b1a703aefed9/examples%2Fwith-urql%2Fpages%2Fpokemon%2F%5Bname%5D.js",
            "raw_url": "https://github.com/vercel/next.js/raw/052c9798908c7b322ca7c80019b9b1a703aefed9/examples%2Fwith-urql%2Fpages%2Fpokemon%2F%5Bname%5D.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Fpages%2Fpokemon%2F%5Bname%5D.js?ref=052c9798908c7b322ca7c80019b9b1a703aefed9",
            "patch": "@@ -1,33 +0,0 @@\n-import { getPokemon } from \"../../graphql/getPokemon\";\n-import { getPokemons } from \"../../graphql/getPokemons\";\n-\n-export default function Pokemon({ pokemon }) {\n-  return (\n-    <div>\n-      <h1>{pokemon.name}</h1>\n-      <img src={pokemon.image} />\n-    </div>\n-  );\n-}\n-\n-export const getStaticPaths = async () => {\n-  const pokemons = await getPokemons();\n-\n-  return {\n-    paths: pokemons.map(({ name }) => ({\n-      params: { name },\n-    })),\n-    fallback: true,\n-  };\n-};\n-\n-export const getStaticProps = async (context) => {\n-  const { name } = context.params;\n-  const pokemon = await getPokemon(name);\n-\n-  return {\n-    props: {\n-      pokemon,\n-    },\n-  };\n-};"
        },
        {
            "sha": "d8b93235f205efbea6e8fceb1c9ddb57ddddf28d",
            "filename": "examples/with-urql/tsconfig.json",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/vercel/next.js/blob/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Ftsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/00f56aa2759c2f476831c15adbde2bcfa128b914/examples%2Fwith-urql%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-urql%2Ftsconfig.json?ref=00f56aa2759c2f476831c15adbde2bcfa128b914",
            "patch": "@@ -0,0 +1,27 @@\n+{\n+  \"compilerOptions\": {\n+    \"target\": \"ES2017\",\n+    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n+    \"allowJs\": true,\n+    \"skipLibCheck\": true,\n+    \"strict\": true,\n+    \"noEmit\": true,\n+    \"esModuleInterop\": true,\n+    \"module\": \"esnext\",\n+    \"moduleResolution\": \"bundler\",\n+    \"resolveJsonModule\": true,\n+    \"isolatedModules\": true,\n+    \"jsx\": \"preserve\",\n+    \"incremental\": true,\n+    \"plugins\": [\n+      {\n+        \"name\": \"next\"\n+      }\n+    ],\n+    \"paths\": {\n+      \"@/*\": [\"./*\"]\n+    }\n+  },\n+  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\n+  \"exclude\": [\"node_modules\"]\n+}"
        }
    ],
    "stats": {
        "total": 139,
        "additions": 86,
        "deletions": 53
    }
}