{
    "author": "ztanner",
    "message": "stabilize experimental.enablePrerenderSourcemaps (#84916)\n\nAs part of stabilizing cacheComponents, we are also stabilizing\nsupporting flags. This flag has been enabled with cacheComponents for\nsome time and so we are moving it out of experimental.\n\nIt will continue to be enabled by default if you are using\ncacheComponents. Otherwise, it can be opted into independently via next\nconfig.\n\nCloses https://linear.app/vercel/issue/NDX-1048\nCloses https://github.com/vercel/next.js/pull/80317\n\n---------\n\nCo-authored-by: Sebastian \"Sebbie\" Silbermann <sebastian.silbermann@vercel.com>",
    "sha": "014228f097a5e47b828a1cb32a61db5d1ab8371d",
    "files": [
        {
            "sha": "1101db6aeb8c9374e40c330b95af9d26d82b0c5c",
            "filename": "docs/01-app/02-guides/memory-usage.mdx",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/docs%2F01-app%2F02-guides%2Fmemory-usage.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/docs%2F01-app%2F02-guides%2Fmemory-usage.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmemory-usage.mdx?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -125,6 +125,10 @@ Generating source maps consumes extra memory during the build process.\n \n You can disable source map generation by adding `productionBrowserSourceMaps: false` and `experimental.serverSourceMaps: false` to your Next.js configuration.\n \n+When using the `experimental.cacheComponents` feature, Next.js will use source maps by default during the prerender phase of `next build`.\n+If you consistently encounter memory issues during that phase (after \"Generating static pages\"),\n+you can try disabling source maps in that phase by adding `enablePrerenderSourceMaps: false` to your Next.js configuration.\n+\n > **Good to know**: Some plugins may turn on source maps and may require custom configuration to disable.\n \n ## Edge memory issues"
        },
        {
            "sha": "5a5e9dc50c6bfaa9b5562ed769617babc45c8998",
            "filename": "docs/01-app/03-api-reference/06-cli/next.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/docs%2F01-app%2F03-api-reference%2F06-cli%2Fnext.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/docs%2F01-app%2F03-api-reference%2F06-cli%2Fnext.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F06-cli%2Fnext.mdx?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -240,7 +240,7 @@ This enables several experimental options to make debugging easier:\n - Generates source maps for server bundles:\n   - `experimental.serverSourceMaps = true`\n - Enables source map consumption in child processes used for prerendering:\n-  - `experimental.enablePrerenderSourceMaps = true`\n+  - `enablePrerenderSourceMaps = true`\n - Continues building even after the first prerender error, so you can see all issues at once:\n   - `experimental.prerenderEarlyExit = false`\n "
        },
        {
            "sha": "da3ab331c123b2e84f1dd3aac02e9f4ee56b0b42",
            "filename": "packages/next/src/build/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -853,7 +853,7 @@ export function createStaticWorker(\n       progress?.clear()\n     },\n     debuggerPortOffset,\n-    enableSourceMaps: config.experimental.enablePrerenderSourceMaps,\n+    enableSourceMaps: config.enablePrerenderSourceMaps,\n     // remove --max-old-space-size flag as it can cause memory issues.\n     isolatedMemory: true,\n     enableWorkerThreads: config.experimental.workerThreads,"
        },
        {
            "sha": "114de2cd965e369eee72c4b092c9d22c6c8fc5c5",
            "filename": "packages/next/src/export/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fexport%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fexport%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fexport%2Findex.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -413,7 +413,7 @@ async function exportAppImpl(\n       (process.env.TURBOPACK\n         ? nextConfig.experimental.turbopackMinify === false\n         : nextConfig.experimental.serverMinification === false) &&\n-      nextConfig.experimental.enablePrerenderSourceMaps === true,\n+      nextConfig.enablePrerenderSourceMaps === true,\n   }\n \n   // We need this for server rendering the Link component."
        },
        {
            "sha": "dc9414a9c0c01042a6464d3ee0a860dae70defdc",
            "filename": "packages/next/src/export/worker.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fexport%2Fworker.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fexport%2Fworker.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fexport%2Fworker.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -339,7 +339,7 @@ export async function exportPages(\n \n   installGlobalBehaviors(nextConfig)\n \n-  if (nextConfig.experimental.enablePrerenderSourceMaps) {\n+  if (nextConfig.enablePrerenderSourceMaps) {\n     try {\n       // Same as `next dev`\n       // Limiting the stack trace to a useful amount of frames is handled by ignore-listing."
        },
        {
            "sha": "401c32e04fc546b4358c88ae16b5147547b30a4a",
            "filename": "packages/next/src/server/config-schema.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-schema.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-schema.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-schema.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -313,7 +313,6 @@ export const experimentalSchema = {\n   optimizeServerReact: z.boolean().optional(),\n   clientTraceMetadata: z.array(z.string()).optional(),\n   serverMinification: z.boolean().optional(),\n-  enablePrerenderSourceMaps: z.boolean().optional(),\n   serverSourceMaps: z.boolean().optional(),\n   useWasmBinary: z.boolean().optional(),\n   useLightningcss: z.boolean().optional(),\n@@ -468,6 +467,7 @@ export const configSchema: zod.ZodType<NextConfig> = z.lazy(() =>\n       .optional(),\n     distDir: z.string().min(1).optional(),\n     env: z.record(z.string(), z.union([z.string(), z.undefined()])).optional(),\n+    enablePrerenderSourceMaps: z.boolean().optional(),\n     excludeDefaultMomentLocales: z.boolean().optional(),\n     experimental: z.strictObject(experimentalSchema).optional(),\n     exportPathMap: z"
        },
        {
            "sha": "c45355cc75f154df0842453395b0d8135a2976c4",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -625,12 +625,6 @@ export interface ExperimentalConfig {\n    */\n   serverMinification?: boolean\n \n-  /**\n-   * Enables source maps while generating static pages.\n-   * Helps with errors during the prerender phase in `next build`.\n-   */\n-  enablePrerenderSourceMaps?: boolean\n-\n   /**\n    * Enables source maps generation for the server production bundle.\n    */\n@@ -1260,6 +1254,12 @@ export interface NextConfig {\n    */\n   logging?: LoggingConfig | false\n \n+  /**\n+   * Enables source maps while generating static pages.\n+   * Helps with errors during the prerender phase in `next build`.\n+   */\n+  enablePrerenderSourceMaps?: boolean\n+\n   /**\n    * period (in seconds) where the server allow to serve stale cache\n    */\n@@ -1385,6 +1385,8 @@ export const defaultConfig = Object.freeze({\n   modularizeImports: undefined,\n   outputFileTracingRoot: process.env.NEXT_PRIVATE_OUTPUT_TRACE_ROOT || '',\n   allowedDevOrigins: undefined,\n+  // Will default to cacheComponents value.\n+  enablePrerenderSourceMaps: undefined,\n   experimental: {\n     adapterPath: process.env.NEXT_ADAPTER_PATH || undefined,\n     useSkewCookie: false,\n@@ -1435,8 +1437,6 @@ export const defaultConfig = Object.freeze({\n     appNavFailHandling: false,\n     prerenderEarlyExit: true,\n     serverMinification: true,\n-    // Will default to cacheComponents value.\n-    enablePrerenderSourceMaps: undefined,\n     serverSourceMaps: false,\n     linkNoTouchStart: false,\n     caseSensitiveRoutes: false,"
        },
        {
            "sha": "4b7bf432d045131c0d74c1ff97593aaf069fe8a4",
            "filename": "packages/next/src/server/config.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 24,
            "changes": 40,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -707,6 +707,13 @@ function assignDefaultsAndValidate(\n     configFileName,\n     silent\n   )\n+  warnOptionHasBeenMovedOutOfExperimental(\n+    result,\n+    'enablePrerenderSourceMaps',\n+    'enablePrerenderSourceMaps',\n+    configFileName,\n+    silent\n+  )\n \n   if ((result.experimental as any).outputStandalone) {\n     if (!silent) {\n@@ -1269,9 +1276,14 @@ function assignDefaultsAndValidate(\n     result.experimental.mcpServer = true\n   }\n \n-  // TODO: remove once we've finished migrating internally to cacheComponents.\n   if (result.experimental.cacheComponents) {\n+    // TODO: remove once we've finished migrating internally to cacheComponents.\n     result.experimental.ppr = true\n+\n+    // Prerender sourcemaps are enabled by default when using cacheComponents, unless explicitly disabled.\n+    if (result.enablePrerenderSourceMaps === undefined) {\n+      result.enablePrerenderSourceMaps = true\n+    }\n   }\n \n   // \"use cache\" was originally implicitly enabled with the cacheComponents flag, so\n@@ -1734,6 +1746,9 @@ function enforceExperimentalFeatures(\n     debugPrerender &&\n     (phase === PHASE_PRODUCTION_BUILD || phase === PHASE_EXPORT)\n   ) {\n+    // TODO: This is not an experimental feature, but should be enabled alongside other prerender debugging features.\n+    config.enablePrerenderSourceMaps = true\n+\n     setExperimentalFeatureForDebugPrerender(\n       config.experimental,\n       'serverSourceMaps',\n@@ -1748,13 +1763,6 @@ function enforceExperimentalFeatures(\n       configuredExperimentalFeatures\n     )\n \n-    setExperimentalFeatureForDebugPrerender(\n-      config.experimental,\n-      'enablePrerenderSourceMaps',\n-      true,\n-      configuredExperimentalFeatures\n-    )\n-\n     setExperimentalFeatureForDebugPrerender(\n       config.experimental,\n       'prerenderEarlyExit',\n@@ -1810,22 +1818,6 @@ function enforceExperimentalFeatures(\n     config.reactCompiler = true\n     // TODO: Report if we enable non-experimental features via env\n   }\n-\n-  if (\n-    config.experimental.enablePrerenderSourceMaps === undefined &&\n-    config.experimental.cacheComponents === true\n-  ) {\n-    config.experimental.enablePrerenderSourceMaps = true\n-\n-    if (configuredExperimentalFeatures) {\n-      addConfiguredExperimentalFeature(\n-        configuredExperimentalFeatures,\n-        'enablePrerenderSourceMaps',\n-        true,\n-        'enabled by `experimental.cacheComponents`'\n-      )\n-    }\n-  }\n }\n \n function addConfiguredExperimentalFeature<"
        },
        {
            "sha": "29bec183d808c390a14e0a261773dde69751d417",
            "filename": "test/e2e/app-dir/root-suspense-dynamic/fixtures/default/next.config.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/test%2Fe2e%2Fapp-dir%2Froot-suspense-dynamic%2Ffixtures%2Fdefault%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/test%2Fe2e%2Fapp-dir%2Froot-suspense-dynamic%2Ffixtures%2Fdefault%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Froot-suspense-dynamic%2Ffixtures%2Fdefault%2Fnext.config.js?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -2,9 +2,10 @@\n  * @type {import('next').NextConfig}\n  */\n const nextConfig = {\n+  enablePrerenderSourceMaps: false,\n+\n   experimental: {\n     cacheComponents: true,\n-    enablePrerenderSourceMaps: false,\n   },\n }\n "
        },
        {
            "sha": "e923f0a471b3e5a9fb5b0794ae7e6e90b6d33b15",
            "filename": "test/e2e/app-dir/server-source-maps/fixtures/edge/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/test%2Fe2e%2Fapp-dir%2Fserver-source-maps%2Ffixtures%2Fedge%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/test%2Fe2e%2Fapp-dir%2Fserver-source-maps%2Ffixtures%2Fedge%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fserver-source-maps%2Ffixtures%2Fedge%2Fnext.config.js?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -2,9 +2,9 @@\n  * @type {import('next').NextConfig}\n  */\n const nextConfig = {\n+  enablePrerenderSourceMaps: true,\n   experimental: {\n     cpus: 1,\n-    enablePrerenderSourceMaps: true,\n     serverSourceMaps: true,\n   },\n }"
        },
        {
            "sha": "4956b50fe29cdb0e02d3e8413dd990a0a45d07c8",
            "filename": "test/production/app-dir/build-output-prerender/build-output-prerender.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 26,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/014228f097a5e47b828a1cb32a61db5d1ab8371d/test%2Fproduction%2Fapp-dir%2Fbuild-output-prerender%2Fbuild-output-prerender.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/014228f097a5e47b828a1cb32a61db5d1ab8371d/test%2Fproduction%2Fapp-dir%2Fbuild-output-prerender%2Fbuild-output-prerender.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fbuild-output-prerender%2Fbuild-output-prerender.test.ts?ref=014228f097a5e47b828a1cb32a61db5d1ab8371d",
            "patch": "@@ -26,15 +26,13 @@ describe('build-output-prerender', () => {\n              \"▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\"\n             `)\n           } else {\n             expect(getPreambleOutput(next.cliOutput)).toMatchInlineSnapshot(`\n              \"▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\"\n             `)\n           }\n@@ -44,15 +42,13 @@ describe('build-output-prerender', () => {\n              \"▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\n                   ✓ ppr (enabled by \\`__NEXT_EXPERIMENTAL_PPR\\`)\"\n             `)\n           } else {\n             expect(getPreambleOutput(next.cliOutput)).toMatchInlineSnapshot(`\n              \"▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\n                   ✓ ppr (enabled by \\`__NEXT_EXPERIMENTAL_PPR\\`)\"\n             `)\n           }\n@@ -61,22 +57,19 @@ describe('build-output-prerender', () => {\n             expect(getPreambleOutput(next.cliOutput)).toMatchInlineSnapshot(`\n              \"▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n-                  ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\"\n+                  ✓ cacheComponents\"\n             `)\n           } else if (isRspack) {\n             expect(getPreambleOutput(next.cliOutput)).toMatchInlineSnapshot(`\n              \"▲ Next.js x.y.z (Rspack)\n                 - Experiments (use with caution):\n-                  ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\"\n+                  ✓ cacheComponents\"\n             `)\n           } else {\n             expect(getPreambleOutput(next.cliOutput)).toMatchInlineSnapshot(`\n              \"▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n-                  ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\"\n+                  ✓ cacheComponents\"\n             `)\n           }\n         }\n@@ -131,7 +124,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\n@@ -143,7 +135,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n@@ -157,7 +148,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ✓ ppr (enabled by \\`__NEXT_EXPERIMENTAL_PPR\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\n@@ -169,7 +159,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ✓ ppr (enabled by \\`__NEXT_EXPERIMENTAL_PPR\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n@@ -183,7 +172,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ turbopackMinify (disabled by \\`--debug-prerender\\`)\"\n@@ -194,7 +182,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (Rspack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\"\n@@ -205,7 +192,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\"\n@@ -261,15 +247,13 @@ describe('build-output-prerender', () => {\n              \"▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents (enabled by \\`__NEXT_EXPERIMENTAL_CACHE_COMPONENTS\\`)\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\"\n             `)\n           } else {\n             expect(getPreambleOutput(next.cliOutput)).toMatchInlineSnapshot(`\n              \"▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents (enabled by \\`__NEXT_EXPERIMENTAL_CACHE_COMPONENTS\\`)\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`experimental.cacheComponents\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\"\n             `)\n           }\n@@ -322,7 +306,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents (enabled by \\`__NEXT_EXPERIMENTAL_CACHE_COMPONENTS\\`)\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\n@@ -334,7 +317,6 @@ describe('build-output-prerender', () => {\n                 ▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n                   ✓ cacheComponents (enabled by \\`__NEXT_EXPERIMENTAL_CACHE_COMPONENTS\\`)\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ reactDebugChannel (enabled by \\`__NEXT_EXPERIMENTAL_DEBUG_CHANNEL\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n@@ -347,7 +329,6 @@ describe('build-output-prerender', () => {\n              \"⚠ Prerendering is running in debug mode. Note: This may affect performance and should not be used for production.\n                 ▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ✓ ppr (enabled by \\`__NEXT_EXPERIMENTAL_PPR\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\n@@ -358,7 +339,6 @@ describe('build-output-prerender', () => {\n              \"⚠ Prerendering is running in debug mode. Note: This may affect performance and should not be used for production.\n                 ▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ✓ ppr (enabled by \\`__NEXT_EXPERIMENTAL_PPR\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n@@ -371,7 +351,6 @@ describe('build-output-prerender', () => {\n              \"⚠ Prerendering is running in debug mode. Note: This may affect performance and should not be used for production.\n                 ▲ Next.js x.y.z (Turbopack)\n                 - Experiments (use with caution):\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ turbopackMinify (disabled by \\`--debug-prerender\\`)\"\n@@ -381,7 +360,6 @@ describe('build-output-prerender', () => {\n              \"⚠ Prerendering is running in debug mode. Note: This may affect performance and should not be used for production.\n                 ▲ Next.js x.y.z (Rspack)\n                 - Experiments (use with caution):\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\"\n@@ -391,7 +369,6 @@ describe('build-output-prerender', () => {\n              \"⚠ Prerendering is running in debug mode. Note: This may affect performance and should not be used for production.\n                 ▲ Next.js x.y.z (webpack)\n                 - Experiments (use with caution):\n-                  ✓ enablePrerenderSourceMaps (enabled by \\`--debug-prerender\\`)\n                   ⨯ prerenderEarlyExit (disabled by \\`--debug-prerender\\`)\n                   ⨯ serverMinification (disabled by \\`--debug-prerender\\`)\n                   ✓ serverSourceMaps (enabled by \\`--debug-prerender\\`)\""
        }
    ],
    "stats": {
        "total": 104,
        "additions": 39,
        "deletions": 65
    }
}