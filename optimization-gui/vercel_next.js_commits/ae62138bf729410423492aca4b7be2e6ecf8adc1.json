{
    "author": "lubieowoce",
    "message": "remove `draft.isEnabled` setter from exotic draftMode wrappers (#77972)\n\nFor some reason `createExoticDraftMode[WithDevWarnings]` defines a\nsetter for `draft.isEnabled`. As far as i can tell, this setter is\nunnecessary.\n\nIt doesn't seem like we ever allowed this:\n```js\nconst draft = await draftMode()\ndraft.isEnabled = false\n```\nThe `DraftMode` class had `isEnabled` as a pure getter from the start,\nsee #49096. You can also see that the previous implementation did the\nsame.\n\n(also, the setter wasn't doing anything useful anyway, and arguably was\nmisleading -- it was defining the `isEnabled` property on the promise\nitself, without actually performing `enable()/disable()`, so i can't see\nhow anyone could be relying on this)",
    "sha": "ae62138bf729410423492aca4b7be2e6ecf8adc1",
    "files": [
        {
            "sha": "52e98fb59d397f8cde6e6a01590d8cad944cd7f7",
            "filename": "packages/next/src/server/request/draft-mode.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/ae62138bf729410423492aca4b7be2e6ecf8adc1/packages%2Fnext%2Fsrc%2Fserver%2Frequest%2Fdraft-mode.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/ae62138bf729410423492aca4b7be2e6ecf8adc1/packages%2Fnext%2Fsrc%2Fserver%2Frequest%2Fdraft-mode.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Frequest%2Fdraft-mode.ts?ref=ae62138bf729410423492aca4b7be2e6ecf8adc1",
            "patch": "@@ -131,13 +131,6 @@ function createExoticDraftMode(\n     get() {\n       return instance.isEnabled\n     },\n-    set(newValue) {\n-      Object.defineProperty(promise, 'isEnabled', {\n-        value: newValue,\n-        writable: true,\n-        enumerable: true,\n-      })\n-    },\n     enumerable: true,\n     configurable: true,\n   })\n@@ -160,13 +153,6 @@ function createExoticDraftModeWithDevWarnings(\n       syncIODev(route, expression)\n       return instance.isEnabled\n     },\n-    set(newValue) {\n-      Object.defineProperty(promise, 'isEnabled', {\n-        value: newValue,\n-        writable: true,\n-        enumerable: true,\n-      })\n-    },\n     enumerable: true,\n     configurable: true,\n   })"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 0,
        "deletions": 14
    }
}