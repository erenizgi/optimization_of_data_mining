{
    "author": "eps1lon",
    "message": "[dev-overlay] Remove unused `onError` in /pages (#79982)\n\nEvery implementation is a no-op and we don't have any plans.\r\nCan use the same pattern as App Router when we need it.",
    "sha": "6f76e91dbc137a55f24a0845637ea575226aee59",
    "files": [
        {
            "sha": "38d6fdcc03d35c686847c1c0c9b907635a9e46e1",
            "filename": "packages/next/src/client/components/react-dev-overlay/pages/hooks.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/6f76e91dbc137a55f24a0845637ea575226aee59/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fhooks.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6f76e91dbc137a55f24a0845637ea575226aee59/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fhooks.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fhooks.ts?ref=6f76e91dbc137a55f24a0845637ea575226aee59",
            "patch": "@@ -27,16 +27,8 @@ export const usePagesDevOverlay = () => {\n     }\n   }, [dispatch])\n \n-  const onComponentError = React.useCallback(\n-    (_error: Error, _componentStack: string | null) => {\n-      // TODO: special handling\n-    },\n-    []\n-  )\n-\n   return {\n     state,\n-    onComponentError,\n     dispatch,\n   }\n }"
        },
        {
            "sha": "7117d00d47b85aecce4c63f7a30d55b36069e201",
            "filename": "packages/next/src/client/components/react-dev-overlay/pages/pages-dev-overlay-error-boundary.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 8,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/6f76e91dbc137a55f24a0845637ea575226aee59/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fpages-dev-overlay-error-boundary.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/6f76e91dbc137a55f24a0845637ea575226aee59/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fpages-dev-overlay-error-boundary.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fpages-dev-overlay-error-boundary.tsx?ref=6f76e91dbc137a55f24a0845637ea575226aee59",
            "patch": "@@ -2,7 +2,6 @@ import React from 'react'\n \n type PagesDevOverlayErrorBoundaryProps = {\n   children?: React.ReactNode\n-  onError: (error: Error, componentStack: string | null) => void\n }\n type PagesDevOverlayErrorBoundaryState = { error: Error | null }\n \n@@ -16,13 +15,7 @@ export class PagesDevOverlayErrorBoundary extends React.PureComponent<\n     return { error }\n   }\n \n-  componentDidCatch(\n-    error: Error,\n-    // Loosely typed because it depends on the React version and was\n-    // accidentally excluded in some versions.\n-    errorInfo?: { componentStack?: string | null }\n-  ) {\n-    this.props.onError(error, errorInfo?.componentStack || null)\n+  componentDidCatch(error: Error) {\n     this.setState({ error })\n   }\n "
        },
        {
            "sha": "935f3cbf174d9e52e4389e2360ebb7634895316e",
            "filename": "packages/next/src/client/components/react-dev-overlay/pages/pages-dev-overlay.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6f76e91dbc137a55f24a0845637ea575226aee59/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fpages-dev-overlay.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/6f76e91dbc137a55f24a0845637ea575226aee59/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fpages-dev-overlay.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fpages%2Fpages-dev-overlay.tsx?ref=6f76e91dbc137a55f24a0845637ea575226aee59",
            "patch": "@@ -13,11 +13,11 @@ interface PagesDevOverlayProps {\n }\n \n export function PagesDevOverlay({ children }: PagesDevOverlayProps) {\n-  const { state, dispatch, onComponentError } = usePagesDevOverlay()\n+  const { state, dispatch } = usePagesDevOverlay()\n \n   return (\n     <>\n-      <PagesDevOverlayErrorBoundary onError={onComponentError}>\n+      <PagesDevOverlayErrorBoundary>\n         {children ?? null}\n       </PagesDevOverlayErrorBoundary>\n "
        },
        {
            "sha": "ba8014be16240fa0b025887ec477b996c43f1699",
            "filename": "test/development/acceptance/hydration-error.test.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/6f76e91dbc137a55f24a0845637ea575226aee59/test%2Fdevelopment%2Facceptance%2Fhydration-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6f76e91dbc137a55f24a0845637ea575226aee59/test%2Fdevelopment%2Facceptance%2Fhydration-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance%2Fhydration-error.test.ts?ref=6f76e91dbc137a55f24a0845637ea575226aee59",
            "patch": "@@ -105,7 +105,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Mismatch} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Mismatch>\n@@ -211,7 +211,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Mismatch} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Mismatch>\n@@ -302,7 +302,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Mismatch} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Mismatch>\n@@ -378,7 +378,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Mismatch} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Mismatch>\n@@ -449,7 +449,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Mismatch} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Mismatch>\n@@ -539,7 +539,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n          \"componentStack\": \"...\n            <Container fn={function fn}>\n              <PagesDevOverlay>\n-               <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+               <PagesDevOverlayErrorBoundary>\n                  <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                    <App pageProps={{}} Component={function Page} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                      <Page>\n@@ -628,7 +628,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Page} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Page>\n@@ -722,7 +722,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n        {\n          \"componentStack\": \"...\n            <PagesDevOverlay>\n-             <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+             <PagesDevOverlayErrorBoundary>\n                <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                  <App pageProps={{}} Component={function Mismatch} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                    <Mismatch>\n@@ -846,7 +846,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Page} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Page>\n@@ -940,7 +940,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n          \"componentStack\": \"...\n            <Container fn={function fn}>\n              <PagesDevOverlay>\n-               <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+               <PagesDevOverlayErrorBoundary>\n                  <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                    <App pageProps={{}} Component={function Page} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                      <Page>\n@@ -1026,7 +1026,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Page} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Page>\n@@ -1120,7 +1120,7 @@ describe('Error overlay for hydration errors in Pages router', () => {\n            <AppContainer>\n              <Container fn={function fn}>\n                <PagesDevOverlay>\n-                 <PagesDevOverlayErrorBoundary onError={function usePagesDevOverlay.useCallback[onComponentError]}>\n+                 <PagesDevOverlayErrorBoundary>\n                    <PathnameContextProviderAdapter router={{sdc:{},sbc:{}, ...}} isAutoExport={true}>\n                      <App pageProps={{}} Component={function Page} err={undefined} router={{sdc:{},sbc:{}, ...}}>\n                        <Page>"
        }
    ],
    "stats": {
        "total": 45,
        "additions": 15,
        "deletions": 30
    }
}