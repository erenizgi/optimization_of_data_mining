{
    "author": "ijjk",
    "message": "Ensure resolvedPathname normalizes trailing slash (#81265)\n\nFixes case with trailing slash from refactoring done in\nhttps://github.com/vercel/next.js/pull/81144",
    "sha": "5c59feb79757d7416f977d66f53f7cc0d456d458",
    "files": [
        {
            "sha": "d110080c1635ae552ccd4521d85cd4972e2e5f2d",
            "filename": "packages/next/src/build/templates/pages.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/5c59feb79757d7416f977d66f53f7cc0d456d458/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fpages.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5c59feb79757d7416f977d66f53f7cc0d456d458/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fpages.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fpages.ts?ref=5c59feb79757d7416f977d66f53f7cc0d456d458",
            "patch": "@@ -225,7 +225,9 @@ export async function handler(\n     const method = req.method || 'GET'\n \n     const resolvedUrl = formatUrl({\n-      pathname: parsedUrl.pathname,\n+      pathname: nextConfig.trailingSlash\n+        ? parsedUrl.pathname\n+        : removeTrailingSlash(parsedUrl.pathname || '/'),\n       // make sure to only add query values from original URL\n       query: hasStaticProps ? {} : originalQuery,\n     })"
        },
        {
            "sha": "43e11edd964757dbd376d0f7beaaa7293968203c",
            "filename": "packages/next/src/server/route-modules/route-module.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5c59feb79757d7416f977d66f53f7cc0d456d458/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Froute-module.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5c59feb79757d7416f977d66f53f7cc0d456d458/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Froute-module.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Froute-module.ts?ref=5c59feb79757d7416f977d66f53f7cc0d456d458",
            "patch": "@@ -59,6 +59,7 @@ import {\n   type RouterServerContext,\n } from '../lib/router-utils/router-server-context'\n import { decodePathParams } from '../lib/router-utils/decode-path-params'\n+import { removeTrailingSlash } from '../../shared/lib/router/utils/remove-trailing-slash'\n \n /**\n  * RouteModuleOptions is the options that are passed to the route module, other\n@@ -782,6 +783,8 @@ export abstract class RouteModule<\n       resolvedPathname = decodePathParams(resolvedPathname)\n     } catch (_) {}\n \n+    resolvedPathname = removeTrailingSlash(resolvedPathname)\n+\n     return {\n       query,\n       originalQuery,"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}