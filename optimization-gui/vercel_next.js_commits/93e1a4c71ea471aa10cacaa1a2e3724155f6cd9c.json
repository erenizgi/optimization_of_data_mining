{
    "author": "huozhi",
    "message": "tests: migrate on-reuqest-error tests to new model (#83383)",
    "sha": "93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
    "files": [
        {
            "sha": "64d0ba98d8b5873ea5ee376c5a44693cc6330856",
            "filename": "test/e2e/on-request-error/basic/app/app-route/edge/route.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fapp-route%2Fedge%2Froute.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fapp-route%2Fedge%2Froute.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fapp-route%2Fedge%2Froute.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,6 +1,8 @@\n-export function GET() {\n+import { connection } from 'next/server'\n+\n+export async function GET() {\n+  await connection()\n   throw new Error('route-edge-error')\n }\n \n-export const dynamic = 'force-dynamic'\n export const runtime = 'edge'"
        },
        {
            "sha": "82ba5b004e6a1bfa34a990d07e1e8f7838acce6f",
            "filename": "test/e2e/on-request-error/basic/app/app-route/route.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fapp-route%2Froute.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fapp-route%2Froute.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fapp-route%2Froute.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,5 +1,6 @@\n-export function GET() {\n+import { connection } from 'next/server'\n+\n+export async function GET() {\n+  await connection()\n   throw new Error('route-node-error')\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "a2c993ecc8ea413e4e56d9b8406f4a346c4a56ab",
            "filename": "test/e2e/on-request-error/basic/app/client-page/edge/page.js",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fclient-page%2Fedge%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fclient-page%2Fedge%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fclient-page%2Fedge%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,11 +1,10 @@\n 'use client'\n \n-export default function Page() {\n+export default async function Page() {\n   if (typeof window === 'undefined') {\n     throw new Error('client-page-edge-error')\n   }\n   return <div>client-page</div>\n }\n \n-export const dynamic = 'force-dynamic'\n export const runtime = 'edge'"
        },
        {
            "sha": "bc178d1ca05a1c0fecb65ded723f32062815de56",
            "filename": "test/e2e/on-request-error/basic/app/client-page/page.js",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fclient-page%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fclient-page%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fclient-page%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,10 +1,8 @@\n 'use client'\n \n-export default function Page() {\n+export default async function Page() {\n   if (typeof window === 'undefined') {\n     throw new Error('client-page-node-error')\n   }\n   return <div>client-page</div>\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "8bdbfcfb3056176d1d11923d4c85fbc9be07b423",
            "filename": "test/e2e/on-request-error/basic/app/layout.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Flayout.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,9 +1,10 @@\n-export default function Layout({ children }) {\n+import { connection } from 'next/server'\n+\n+export default async function Layout({ children }) {\n+  await connection()\n   return (\n     <html>\n       <body>{children}</body>\n     </html>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "83cf050d710f1af022f13ed25a7ad307f7ae9a7a",
            "filename": "test/e2e/on-request-error/basic/app/server-page/edge/page.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fserver-page%2Fedge%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fserver-page%2Fedge%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fserver-page%2Fedge%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,6 +1,8 @@\n-export default function Page() {\n+import { connection } from 'next/server'\n+\n+export default async function Page() {\n+  await connection()\n   throw new Error('server-page-edge-error')\n }\n \n-export const dynamic = 'force-dynamic'\n export const runtime = 'edge'"
        },
        {
            "sha": "bc4bb64cbb5257a38b739d8948bde72e9c015527",
            "filename": "test/e2e/on-request-error/basic/app/server-page/page.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fserver-page%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fserver-page%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fbasic%2Fapp%2Fserver-page%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,5 +1,6 @@\n-export default function Page() {\n+import { connection } from 'next/server'\n+\n+export default async function Page() {\n+  await connection()\n   throw new Error('server-page-node-error')\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "3584d5792b4005889f4fe0d028432001aed52b67",
            "filename": "test/e2e/on-request-error/dynamic-routes/app/app-page/dynamic/[id]/page.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-page%2Fdynamic%2F%5Bid%5D%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-page%2Fdynamic%2F%5Bid%5D%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-page%2Fdynamic%2F%5Bid%5D%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,5 +1,6 @@\n-export default function Page() {\n+import { connection } from 'next/server'\n+\n+export default async function Page() {\n+  await connection()\n   throw new Error('server-dynamic-page-node-error')\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "0b3e0e580acd6d04c79972092bf1f21130798107",
            "filename": "test/e2e/on-request-error/dynamic-routes/app/app-page/suspense/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-page%2Fsuspense%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-page%2Fsuspense%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-page%2Fsuspense%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,6 +1,8 @@\n+import { connection } from 'next/server'\n import { Suspense } from 'react'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   return (\n     <Suspense>\n       <Inner />\n@@ -14,5 +16,3 @@ function Inner() {\n   }\n   return 'inner'\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "a7eecf89ceec303d58aa15f6e213db5827c29c8c",
            "filename": "test/e2e/on-request-error/dynamic-routes/app/app-route/dynamic/[id]/route.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-route%2Fdynamic%2F%5Bid%5D%2Froute.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-route%2Fdynamic%2F%5Bid%5D%2Froute.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fdynamic-routes%2Fapp%2Fapp-route%2Fdynamic%2F%5Bid%5D%2Froute.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,5 +1,6 @@\n-export function GET() {\n+import { connection } from 'next/server'\n+\n+export async function GET() {\n+  await connection()\n   throw new Error('server-dynamic-route-node-error')\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "b8bb87df7b8d30f92c95ad7528fa489edf6bac5c",
            "filename": "test/e2e/on-request-error/server-action-error/app/client/callback/edge/page.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fclient%2Fcallback%2Fedge%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fclient%2Fcallback%2Fedge%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fclient%2Fcallback%2Fedge%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -11,4 +11,3 @@ export default function Page() {\n }\n \n export const runtime = 'edge'\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "160e282b2e1d479e44ac96b0130586978d0dc334",
            "filename": "test/e2e/on-request-error/server-action-error/app/client/callback/page.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fclient%2Fcallback%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fclient%2Fcallback%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fclient%2Fcallback%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -9,5 +9,3 @@ export default function Page() {\n     </div>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "7c72a1df99709fa0541ee403e0f977bc885dea24",
            "filename": "test/e2e/on-request-error/server-action-error/app/form-error/edge/page.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fform-error%2Fedge%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fform-error%2Fedge%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fform-error%2Fedge%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,4 +1,7 @@\n-export default function Page() {\n+import { connection } from 'next/server'\n+\n+export default async function Page() {\n+  await connection()\n   async function action(formData) {\n     'use server'\n \n@@ -14,4 +17,3 @@ export default function Page() {\n }\n \n export const runtime = 'edge'\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "38e4fa4cf90826f216b9c0aa2880a238d7300a23",
            "filename": "test/e2e/on-request-error/server-action-error/app/form-error/page.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fform-error%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fform-error%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Fform-error%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,4 +1,7 @@\n-export default function Page() {\n+import { connection } from 'next/server'\n+\n+export default async function Page() {\n+  await connection()\n   async function action(formData) {\n     'use server'\n \n@@ -12,5 +15,3 @@ export default function Page() {\n     </form>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "8bdbfcfb3056176d1d11923d4c85fbc9be07b423",
            "filename": "test/e2e/on-request-error/server-action-error/app/layout.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fserver-action-error%2Fapp%2Flayout.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,9 +1,10 @@\n-export default function Layout({ children }) {\n+import { connection } from 'next/server'\n+\n+export default async function Layout({ children }) {\n+  await connection()\n   return (\n     <html>\n       <body>{children}</body>\n     </html>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "543d546d2f6adce5892f95faf765c53efc3b48b9",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/app-route/not-found/route.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fapp-route%2Fnot-found%2Froute.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fapp-route%2Fnot-found%2Froute.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fapp-route%2Fnot-found%2Froute.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,7 +1,7 @@\n+import { connection } from 'next/server'\n import { notFound } from 'next/navigation'\n \n-export function GET() {\n+export async function GET() {\n+  await connection()\n   notFound()\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "f6c45ec76c73aed28b284d7eb21a0d337eb87a2a",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/app-route/redirect/route.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fapp-route%2Fredirect%2Froute.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fapp-route%2Fredirect%2Froute.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fapp-route%2Fredirect%2Froute.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,7 +1,7 @@\n+import { connection } from 'next/server'\n import { redirect } from 'next/navigation'\n \n-export function GET() {\n+export async function GET() {\n+  await connection()\n   redirect('/another')\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "b07aa28ff2d5a697dcfde445e4ddc53bdcf29e11",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/client/no-ssr/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fno-ssr%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fno-ssr%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fno-ssr%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,11 +1,11 @@\n 'use client'\n \n+import { connection } from 'next/server'\n import nextDynamic from 'next/dynamic'\n \n const Component = nextDynamic(() => import('./component'))\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   return <Component />\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "d50692c0af4a7978779afe18cb76b5500c1c168c",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/client/not-found/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fnot-found%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fnot-found%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fnot-found%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,9 +1,9 @@\n 'use client'\n \n+import { connection } from 'next/server'\n import { notFound } from 'next/navigation'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   notFound()\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "056b00e2f6ae9fa43685d6e5f7c34ced3625a9a1",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/client/redirect/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fredirect%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fredirect%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fclient%2Fredirect%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,9 +1,9 @@\n 'use client'\n \n+import { connection } from 'next/server'\n import { redirect } from 'next/navigation'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   redirect('/another')\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "403acda2756d439df26bc0fb4e66e877690365cd",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/form/not-found/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fform%2Fnot-found%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fform%2Fnot-found%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fform%2Fnot-found%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,12 +1,12 @@\n+import { connection } from 'next/server'\n import { notFoundAction } from '../action'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   return (\n     <form action={notFoundAction}>\n       <input type=\"hidden\" name=\"payload\" value={'payload-value'} />\n       <button type=\"submit\">submit</button>\n     </form>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "58960cd3cc13c2248e89a34c7c5ca3f0c9eedfa5",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/form/redirect/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fform%2Fredirect%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fform%2Fredirect%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fform%2Fredirect%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,12 +1,12 @@\n+import { connection } from 'next/server'\n import { redirectAction } from '../action'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   return (\n     <form action={redirectAction}>\n       <input type=\"hidden\" name=\"payload\" value={'payload-value'} />\n       <button type=\"submit\">submit</button>\n     </form>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "8bdbfcfb3056176d1d11923d4c85fbc9be07b423",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/layout.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Flayout.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,9 +1,10 @@\n-export default function Layout({ children }) {\n+import { connection } from 'next/server'\n+\n+export default async function Layout({ children }) {\n+  await connection()\n   return (\n     <html>\n       <body>{children}</body>\n     </html>\n   )\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "dbad6bd1598259e07d8448d8cb54e3571fae0d12",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/server/not-found/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fserver%2Fnot-found%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fserver%2Fnot-found%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fserver%2Fnot-found%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,7 +1,7 @@\n+import { connection } from 'next/server'\n import { notFound } from 'next/navigation'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   notFound()\n }\n-\n-export const dynamic = 'force-dynamic'"
        },
        {
            "sha": "9c1a80ddb4d6837d8c50cafb743baac0f28b91cf",
            "filename": "test/e2e/on-request-error/skip-next-internal-error/app/server/redirect/page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fserver%2Fredirect%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fserver%2Fredirect%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fon-request-error%2Fskip-next-internal-error%2Fapp%2Fserver%2Fredirect%2Fpage.js?ref=93e1a4c71ea471aa10cacaa1a2e3724155f6cd9c",
            "patch": "@@ -1,7 +1,7 @@\n+import { connection } from 'next/server'\n import { redirect } from 'next/navigation'\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n   redirect('/another')\n }\n-\n-export const dynamic = 'force-dynamic'"
        }
    ],
    "stats": {
        "total": 144,
        "additions": 76,
        "deletions": 68
    }
}