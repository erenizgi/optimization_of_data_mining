{
    "author": "bgw",
    "message": "chore(CI): Add back test retries (again) to arewerspackyet tests (#79014)\n\nTest retries are important because of our high test flakiness. Without\nthis, we may get false-positive failures detected in the manifests and\nthe arewerspackyet dataset.\n\nWe had to disable test retries for arewerspackyet tests because we were\nsuffering from timeouts in CI. Since then we've fixed this in a number\nof ways:\n\n- I broke 5 large test suites that were contributing most to long job\nexecution duration when timing out into smaller test suites that can run\nin parallel.\n- I reduced the per-test timeout from 4 minutes back down to 1 minute\n(same as the webpack tests use) for both Rspack and Turbopack.\n- The Rspack team fixed the underlying regressions that were causing\nincreased test failures in our CI. ğŸ™\n- Going forward, I'm working on running Rspack CI in more places, so a\nregression on tests is will be much less likely in the first place.\n\nRspack test runs are taking <20 minutes (with a 90 minute timeout), so\nit seems safe to add back the default 2 retries!\n\nThis only impacts the nightly arewerspackyet CI runs, so the CI capacity\nhit from retries shouldn't be too significant.",
    "sha": "6113729d5320c7fc85ff42c077b4a2378d375b0d",
    "files": [
        {
            "sha": "d859816d6053998c9a726e86d79f1c4f6fa8866b",
            "filename": ".github/workflows/rspack-nextjs-build-integration-tests.yml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6113729d5320c7fc85ff42c077b4a2378d375b0d/.github%2Fworkflows%2Frspack-nextjs-build-integration-tests.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6113729d5320c7fc85ff42c077b4a2378d375b0d/.github%2Fworkflows%2Frspack-nextjs-build-integration-tests.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Frspack-nextjs-build-integration-tests.yml?ref=6113729d5320c7fc85ff42c077b4a2378d375b0d",
            "patch": "@@ -22,6 +22,4 @@ jobs:\n       integration_groups: 12\n       e2e_timeout_minutes: 90\n       integration_timeout_minutes: 90\n-      # We tend to timeout with 2 retries\n-      num_retries: 0\n     secrets: inherit"
        },
        {
            "sha": "7746af74cc4984f68ebf1c7d2662ff81e6a497b0",
            "filename": ".github/workflows/rspack-nextjs-dev-integration-tests.yml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6113729d5320c7fc85ff42c077b4a2378d375b0d/.github%2Fworkflows%2Frspack-nextjs-dev-integration-tests.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6113729d5320c7fc85ff42c077b4a2378d375b0d/.github%2Fworkflows%2Frspack-nextjs-dev-integration-tests.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Frspack-nextjs-dev-integration-tests.yml?ref=6113729d5320c7fc85ff42c077b4a2378d375b0d",
            "patch": "@@ -22,6 +22,4 @@ jobs:\n       integration_groups: 16\n       e2e_timeout_minutes: 90\n       integration_timeout_minutes: 90\n-      # We tend to timeout with 2 retries\n-      num_retries: 0\n     secrets: inherit"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 0,
        "deletions": 4
    }
}