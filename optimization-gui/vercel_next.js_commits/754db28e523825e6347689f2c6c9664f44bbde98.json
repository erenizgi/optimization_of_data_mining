{
    "author": "wbinnssmith",
    "message": "bundle analyzer: remove geist font in favor of system ui fonts (#87292)",
    "sha": "754db28e523825e6347689f2c6c9664f44bbde98",
    "files": [
        {
            "sha": "4e7cd9a36a2646aabd6cf77d227bcd298302692b",
            "filename": "apps/bundle-analyzer/app/globals.css",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/754db28e523825e6347689f2c6c9664f44bbde98/apps%2Fbundle-analyzer%2Fapp%2Fglobals.css",
            "raw_url": "https://github.com/vercel/next.js/raw/754db28e523825e6347689f2c6c9664f44bbde98/apps%2Fbundle-analyzer%2Fapp%2Fglobals.css",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fapp%2Fglobals.css?ref=754db28e523825e6347689f2c6c9664f44bbde98",
            "patch": "@@ -69,8 +69,8 @@\n }\n \n @theme inline {\n-  --font-sans: 'Geist', 'Geist Fallback';\n-  --font-mono: 'Geist Mono', 'Geist Mono Fallback';\n+  --font-sans: system-ui, sans-serif;\n+  --font-mono: ui-monospace, monospace;\n   --color-background: var(--background);\n   --color-foreground: var(--foreground);\n   --color-card: var(--card);"
        },
        {
            "sha": "9d92d86ac277cb6ba02a05fe020874ae6b0044b0",
            "filename": "apps/bundle-analyzer/app/layout.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/754db28e523825e6347689f2c6c9664f44bbde98/apps%2Fbundle-analyzer%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/754db28e523825e6347689f2c6c9664f44bbde98/apps%2Fbundle-analyzer%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fapp%2Flayout.tsx?ref=754db28e523825e6347689f2c6c9664f44bbde98",
            "patch": "@@ -1,12 +1,7 @@\n import type { Metadata } from 'next'\n-import { Geist, Geist_Mono } from 'next/font/google'\n import type React from 'react'\n import './globals.css'\n \n-// These get used as font-sans and font-mono\n-const _geist = Geist({ subsets: ['latin'] })\n-const _geistMono = Geist_Mono({ subsets: ['latin'] })\n-\n export const metadata: Metadata = {\n   title: 'Next.js Bundle Analyzer',\n   description:"
        },
        {
            "sha": "1f01900119855cb12142e5480bb6334a559905f5",
            "filename": "apps/bundle-analyzer/components/treemap-visualizer.tsx",
            "status": "modified",
            "additions": 12,
            "deletions": 15,
            "changes": 27,
            "blob_url": "https://github.com/vercel/next.js/blob/754db28e523825e6347689f2c6c9664f44bbde98/apps%2Fbundle-analyzer%2Fcomponents%2Ftreemap-visualizer.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/754db28e523825e6347689f2c6c9664f44bbde98/apps%2Fbundle-analyzer%2Fcomponents%2Ftreemap-visualizer.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fcomponents%2Ftreemap-visualizer.tsx?ref=754db28e523825e6347689f2c6c9664f44bbde98",
            "patch": "@@ -13,6 +13,8 @@ import {\n import { SpecialModule } from '@/lib/types'\n import { formatBytes } from '@/lib/utils'\n \n+const UI_FONT = 'system-ui, sans-serif'\n+\n interface TreemapVisualizerProps {\n   analyzeData: AnalyzeData\n   sourceIndex: number\n@@ -307,7 +309,7 @@ function drawTreemap(\n \n         const { titleFontSize } = calculateTitleFontSizes(titleBarHeight)\n         ctx.fillStyle = colors.text\n-        ctx.font = `600 ${titleFontSize}px sans-serif`\n+        ctx.font = `600 ${titleFontSize}px ${UI_FONT}`\n         ctx.textAlign = 'left'\n         ctx.textBaseline = 'middle'\n         ctx.fillText(\n@@ -421,22 +423,18 @@ function drawTreemap(\n       const sizeFontSize = 10\n       const lineHeight = fontSize + 2\n \n-      // Check if we have space for both name and size\n-      const hasSpaceForSize = rect.height > 50\n-\n-      ctx.font = `${fontSize}px sans-serif`\n+      ctx.font = `${fontSize}px ${UI_FONT}`\n       const displayName = truncateTextWithEllipsisIfNeeded(ctx, name, maxWidth)\n-\n+      const hasSpaceForSize = rect.height > 50\n       if (hasSpaceForSize) {\n-        ctx.font = `${fontSize}px sans-serif`\n         ctx.fillText(\n           displayName,\n           rect.x + rect.width / 2,\n           rect.y + rect.height / 2 - lineHeight / 2\n         )\n \n         ctx.globalAlpha = opacity * 0.75\n-        ctx.font = `${sizeFontSize}px sans-serif`\n+        ctx.font = `${sizeFontSize}px ${UI_FONT}`\n         ctx.fillText(\n           sizeText,\n           rect.x + rect.width / 2,\n@@ -445,7 +443,6 @@ function drawTreemap(\n         ctx.globalAlpha = opacity\n       } else {\n         // Only name fits, draw it centered\n-        ctx.font = `${fontSize}px sans-serif`\n         ctx.fillText(\n           displayName,\n           rect.x + rect.width / 2,\n@@ -497,12 +494,12 @@ function drawTreemap(\n       ctx.textBaseline = 'middle'\n \n       // Measure size text first to reserve space\n-      ctx.font = `${sizeFontSize}px sans-serif`\n+      ctx.font = `${sizeFontSize}px ${UI_FONT}`\n       const sizeWidth = measureTextCached(ctx, sizeText)\n \n       const nameX = rect.x + 8\n       const availableNameWidth = Math.max(0, rect.width - 16 - sizeWidth - gap)\n-      ctx.font = `600 ${titleFontSize}px sans-serif`\n+      ctx.font = `600 ${titleFontSize}px ${UI_FONT}`\n       const displayName = truncateTextWithEllipsisIfNeeded(\n         ctx,\n         name,\n@@ -518,7 +515,7 @@ function drawTreemap(\n \n       // Only draw size text if it fits within bounds\n       if (sizeX + sizeWidth <= rect.x + rect.width - 8) {\n-        ctx.font = `${sizeFontSize}px sans-serif`\n+        ctx.font = `${sizeFontSize}px ${UI_FONT}`\n         ctx.fillStyle = colors.textMuted\n         ctx.fillText(sizeText, sizeX, centerY)\n       }\n@@ -566,12 +563,12 @@ function drawTreemap(\n \n       ctx.textBaseline = 'middle'\n \n-      ctx.font = `${sizeFontSize}px sans-serif`\n+      ctx.font = `${sizeFontSize}px ${UI_FONT}`\n       const sizeWidth = measureTextCached(ctx, sizeText)\n \n       const nameX = rect.x + 8\n       const availableNameWidth = Math.max(0, rect.width - 16 - sizeWidth - gap)\n-      ctx.font = `600 ${titleFontSize}px sans-serif`\n+      ctx.font = `600 ${titleFontSize}px ${UI_FONT}`\n       const displayName = truncateTextWithEllipsisIfNeeded(\n         ctx,\n         name,\n@@ -587,7 +584,7 @@ function drawTreemap(\n \n       // Only draw size text if it fits within bounds\n       if (sizeX + sizeWidth <= rect.x + rect.width - 8) {\n-        ctx.font = `${sizeFontSize}px sans-serif`\n+        ctx.font = `${sizeFontSize}px ${UI_FONT}`\n         ctx.fillStyle = colors.textMuted\n         ctx.fillText(sizeText, sizeX, centerY)\n       }"
        },
        {
            "sha": "812455c123c1a4beebfe5f0143134de28b39f3de",
            "filename": "apps/bundle-analyzer/styles/globals.css",
            "status": "removed",
            "additions": 0,
            "deletions": 86,
            "changes": 86,
            "blob_url": "https://github.com/vercel/next.js/blob/1e1fd1ec02e572412433679bd97d7a2c14c2f8ec/apps%2Fbundle-analyzer%2Fstyles%2Fglobals.css",
            "raw_url": "https://github.com/vercel/next.js/raw/1e1fd1ec02e572412433679bd97d7a2c14c2f8ec/apps%2Fbundle-analyzer%2Fstyles%2Fglobals.css",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fstyles%2Fglobals.css?ref=1e1fd1ec02e572412433679bd97d7a2c14c2f8ec",
            "patch": "@@ -1,86 +0,0 @@\n-@import 'tailwindcss';\n-@import 'tw-animate-css';\n-\n-@custom-variant dark (&:is(.dark *));\n-\n-:root {\n-  --background: oklch(1 0 0);\n-  --foreground: oklch(0.145 0 0);\n-  --popover: oklch(1 0 0);\n-  --popover-foreground: oklch(0.145 0 0);\n-  --primary: oklch(0.205 0 0);\n-  --primary-foreground: oklch(0.985 0 0);\n-  --secondary: oklch(0.97 0 0);\n-  --secondary-foreground: oklch(0.205 0 0);\n-  --muted: oklch(0.97 0 0);\n-  --muted-foreground: oklch(0.556 0 0);\n-  --accent: oklch(0.97 0 0);\n-  --accent-foreground: oklch(0.205 0 0);\n-  --destructive: oklch(0.577 0.245 27.325);\n-  --destructive-foreground: oklch(0.577 0.245 27.325);\n-  --border: oklch(0.922 0 0);\n-  --input: oklch(0.922 0 0);\n-  --ring: oklch(0.708 0 0);\n-  --polyfill: oklch(0.478 0.0185 252.37);\n-  --polyfill-foreground: oklch(0.99 0 0);\n-  --radius: 0.625rem;\n-}\n-\n-.dark {\n-  --background: oklch(0.145 0 0);\n-  --foreground: oklch(0.985 0 0);\n-  --popover: oklch(0.145 0 0);\n-  --popover-foreground: oklch(0.985 0 0);\n-  --primary: oklch(0.985 0 0);\n-  --primary-foreground: oklch(0.205 0 0);\n-  --secondary: oklch(0.269 0 0);\n-  --secondary-foreground: oklch(0.985 0 0);\n-  --muted: oklch(0.269 0 0);\n-  --muted-foreground: oklch(0.708 0 0);\n-  --accent: oklch(0.269 0 0);\n-  --accent-foreground: oklch(0.985 0 0);\n-  --destructive: oklch(0.396 0.141 25.723);\n-  --destructive-foreground: oklch(0.637 0.237 25.331);\n-  --border: oklch(0.269 0 0);\n-  --input: oklch(0.269 0 0);\n-  --ring: oklch(0.439 0 0);\n-  --polyfill: oklch(0.478 0.0185 252.37);\n-  --polyfill-foreground: oklch(0.99 0 0);\n-}\n-\n-@theme inline {\n-  --font-sans: 'Geist', 'Geist Fallback';\n-  --font-mono: 'Geist Mono', 'Geist Mono Fallback';\n-  --color-background: var(--background);\n-  --color-foreground: var(--foreground);\n-  --color-popover: var(--popover);\n-  --color-popover-foreground: var(--popover-foreground);\n-  --color-primary: var(--primary);\n-  --color-primary-foreground: var(--primary-foreground);\n-  --color-secondary: var(--secondary);\n-  --color-secondary-foreground: var(--secondary-foreground);\n-  --color-muted: var(--muted);\n-  --color-muted-foreground: var(--muted-foreground);\n-  --color-accent: var(--accent);\n-  --color-accent-foreground: var(--accent-foreground);\n-  --color-destructive: var(--destructive);\n-  --color-destructive-foreground: var(--destructive-foreground);\n-  --color-border: var(--border);\n-  --color-input: var(--input);\n-  --color-ring: var(--ring);\n-  --color-polyfill: var(--polyfill);\n-  --color-polyfill-foreground: var(--polyfill-foreground);\n-  --radius-sm: calc(var(--radius) - 4px);\n-  --radius-md: calc(var(--radius) - 2px);\n-  --radius-lg: var(--radius);\n-  --radius-xl: calc(var(--radius) + 4px);\n-}\n-\n-@layer base {\n-  * {\n-    @apply border-border outline-ring/50;\n-  }\n-  body {\n-    @apply bg-background text-foreground;\n-  }\n-}"
        }
    ],
    "stats": {
        "total": 122,
        "additions": 14,
        "deletions": 108
    }
}