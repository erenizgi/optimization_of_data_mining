{
    "author": "mischnic",
    "message": "Fix deployment tests (#83306)",
    "sha": "f1d4b5dd084426306475e40f0beb476e783edbd0",
    "files": [
        {
            "sha": "879c59e1a22a21df1d2e9d209fd2b4592f08d589",
            "filename": "test/production/next-server-nft/next-server-nft.test.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f1d4b5dd084426306475e40f0beb476e783edbd0/test%2Fproduction%2Fnext-server-nft%2Fnext-server-nft.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/f1d4b5dd084426306475e40f0beb476e783edbd0/test%2Fproduction%2Fnext-server-nft%2Fnext-server-nft.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fnext-server-nft%2Fnext-server-nft.test.ts?ref=f1d4b5dd084426306475e40f0beb476e783edbd0",
            "patch": "@@ -2,14 +2,18 @@ import { nextTestSetup } from 'e2e-utils'\n import path from 'path'\n import fs from 'fs'\n \n+const isReact18 = parseInt(process.env.NEXT_TEST_REACT_VERSION) === 18\n+\n // Only run this test for Turbopack as it is more conservative (i.e. aggressive) in including\n // referenced files and might include too many. (The Webpack snapshots would different slightly from\n // the Turbopack ones below.)\n //\n // This test is not meant for testing correctness (which is done by the behavioral tests), but as a\n // regression test to ensure that some stray `path.join` doesn't cause all of the Next.js package to\n // get included.\n-;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n+//\n+// Also skip alternate React versions, as they would require different snapshots.\n+;(process.env.IS_TURBOPACK_TEST && !isReact18 ? describe : describe.skip)(\n   'next-server-nft',\n   () => {\n     const { next, skipped } = nextTestSetup({"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}