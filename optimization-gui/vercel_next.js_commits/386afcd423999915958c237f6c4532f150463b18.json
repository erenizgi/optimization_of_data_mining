{
    "author": "prateekkish",
    "message": "docs: Update redirects i18n documentation for App Router (#81347)\n\n### What?\nUpdated the documentation to clarify that App Router requires manual\nlocale handling through dynamic route segments and middleware, with\nexamples showing how to implement i18n redirects correctly.\n\n### Why?\nThe App Router doesn't use the i18n configuration in next.config.js like\nthe Pages Router does.\n\nCloses NEXT-\nFixes #81227\n\n---------\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>\nCo-authored-by: Joseph <sephxd1234@gmail.com>",
    "sha": "386afcd423999915958c237f6c4532f150463b18",
    "files": [
        {
            "sha": "b39ee5a39701a6274dab5433155265aec7d83208",
            "filename": "docs/01-app/03-api-reference/05-config/01-next-config-js/redirects.mdx",
            "status": "modified",
            "additions": 39,
            "deletions": 4,
            "changes": 43,
            "blob_url": "https://github.com/vercel/next.js/blob/386afcd423999915958c237f6c4532f150463b18/docs%2F01-app%2F03-api-reference%2F05-config%2F01-next-config-js%2Fredirects.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/386afcd423999915958c237f6c4532f150463b18/docs%2F01-app%2F03-api-reference%2F05-config%2F01-next-config-js%2Fredirects.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F05-config%2F01-next-config-js%2Fredirects.mdx?ref=386afcd423999915958c237f6c4532f150463b18",
            "patch": "@@ -250,16 +250,49 @@ module.exports = {\n \n <AppOnly>\n \n-When leveraging [`i18n` support](/docs/app/guides/internationalization) with redirects each `source` and `destination` is automatically prefixed to handle the configured `locales` unless you add `locale: false` to the redirect. If `locale: false` is used you must prefix the `source` and `destination` with a locale for it to be matched correctly.\n+When implementing redirects with internationalization in the App Router, you can include locales in `next.config.js` redirects, but only as hardcoded paths.\n+\n+For dynamic or per-request locale handling, use [dynamic route segments and middleware](/docs/app/guides/internationalization), which can redirect based on the user's preferred language.\n+\n+```js filename=\"next.config.js\"\n+module.exports = {\n+  async redirects() {\n+    return [\n+      {\n+        // Manually handle locale prefixes for App Router\n+        source: '/en/old-path',\n+        destination: '/en/new-path',\n+        permanent: false,\n+      },\n+      {\n+        // Redirect for all locales using a parameter\n+        source: '/:locale/old-path',\n+        destination: '/:locale/new-path',\n+        permanent: false,\n+      },\n+      {\n+        // Redirect from one locale to another\n+        source: '/de/old-path',\n+        destination: '/en/new-path',\n+        permanent: false,\n+      },\n+      {\n+        // Catch-all redirect for multiple locales\n+        source: '/:locale(en|fr|de)/:path*',\n+        destination: '/:locale/new-section/:path*',\n+        permanent: false,\n+      },\n+    ]\n+  },\n+}\n+```\n \n </AppOnly>\n \n <PagesOnly>\n \n When leveraging [`i18n` support](/docs/pages/guides/internationalization) with redirects each `source` and `destination` is automatically prefixed to handle the configured `locales` unless you add `locale: false` to the redirect. If `locale: false` is used you must prefix the `source` and `destination` with a locale for it to be matched correctly.\n \n-</PagesOnly>\n-\n ```js filename=\"next.config.js\"\n module.exports = {\n   i18n: {\n@@ -307,7 +340,9 @@ module.exports = {\n }\n ```\n \n-In some rare cases, you might need to assign a custom status code for older HTTP Clients to properly redirect. In these cases, you can use the `statusCode` property instead of the `permanent` property, but not both. To to ensure IE11 compatibility, a `Refresh` header is automatically added for the 308 status code.\n+</PagesOnly>\n+\n+In some rare cases, you might need to assign a custom status code for older HTTP Clients to properly redirect. In these cases, you can use the `statusCode` property instead of the `permanent` property, but not both. To ensure IE11 compatibility, a `Refresh` header is automatically added for the 308 status code.\n \n ## Other Redirects\n "
        }
    ],
    "stats": {
        "total": 43,
        "additions": 39,
        "deletions": 4
    }
}