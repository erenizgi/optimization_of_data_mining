{
    "author": "huozhi",
    "message": "test: add prerender snapshot for metadata-dynamic-routes test (#83432)",
    "sha": "6b55da593d7347622770ef9b955fb39180cbd6cb",
    "files": [
        {
            "sha": "56deaf9efeaeb1e7036874bc593d04b7bbbeec12",
            "filename": "test/e2e/app-dir/metadata-dynamic-routes/index.test.ts",
            "status": "modified",
            "additions": 52,
            "deletions": 20,
            "changes": 72,
            "blob_url": "https://github.com/vercel/next.js/blob/6b55da593d7347622770ef9b955fb39180cbd6cb/test%2Fe2e%2Fapp-dir%2Fmetadata-dynamic-routes%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6b55da593d7347622770ef9b955fb39180cbd6cb/test%2Fe2e%2Fapp-dir%2Fmetadata-dynamic-routes%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-dynamic-routes%2Findex.test.ts?ref=6b55da593d7347622770ef9b955fb39180cbd6cb",
            "patch": "@@ -50,21 +50,21 @@ describe('app dir - metadata dynamic routes', () => {\n       expect(res.headers.get('cache-control')).toBe(CACHE_HEADERS.REVALIDATE)\n \n       expect(text).toMatchInlineSnapshot(`\n-      \"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-      <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n-      <url>\n-      <loc>https://example.com</loc>\n-      <lastmod>2021-01-01</lastmod>\n-      <changefreq>weekly</changefreq>\n-      <priority>0.5</priority>\n-      </url>\n-      <url>\n-      <loc>https://example.com/about</loc>\n-      <lastmod>2021-01-01</lastmod>\n-      </url>\n-      </urlset>\n-      \"\n-    `)\n+             \"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+             <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+             <url>\n+             <loc>https://example.com</loc>\n+             <lastmod>2021-01-01</lastmod>\n+             <changefreq>weekly</changefreq>\n+             <priority>0.5</priority>\n+             </url>\n+             <url>\n+             <loc>https://example.com/about</loc>\n+             <lastmod>2021-01-01</lastmod>\n+             </url>\n+             </urlset>\n+             \"\n+          `)\n     })\n \n     it('should support generate multi sitemaps with generateSitemaps', async () => {\n@@ -502,14 +502,46 @@ describe('app dir - metadata dynamic routes', () => {\n       expect(isTraced).toBe(true)\n     })\n \n-    it('should statically optimized single image route', async () => {\n+    it('should contain generated routes in prerender manifest', async () => {\n       const prerenderManifest = JSON.parse(\n         await next.readFile('.next/prerender-manifest.json')\n       )\n-      const dynamicRoutes = Object.keys(prerenderManifest.routes)\n-      expect(dynamicRoutes).toContain('/opengraph-image')\n-      expect(dynamicRoutes).toContain('/opengraph-image-1ow20b')\n-      expect(dynamicRoutes).toContain('/apple-icon')\n+      const routes = Object.keys(prerenderManifest.routes).sort()\n+\n+      // contains the dynamic metadata routes\n+      // - /gsp/sitemap/child0.xml\n+      // - /gsp/sitemap/child1.xml\n+      // - /gsp/sitemap/child2.xml\n+      // - /gsp/sitemap/child3.xml\n+      expect(routes).toMatchInlineSnapshot(`\n+       [\n+         \"/\",\n+         \"/_global-error\",\n+         \"/_not-found\",\n+         \"/apple-icon\",\n+         \"/blog\",\n+         \"/client-ref-dependency/sitemap.xml\",\n+         \"/gsp\",\n+         \"/gsp/sitemap/child0.xml\",\n+         \"/gsp/sitemap/child1.xml\",\n+         \"/gsp/sitemap/child2.xml\",\n+         \"/gsp/sitemap/child3.xml\",\n+         \"/icon\",\n+         \"/lang/sitemap.xml\",\n+         \"/manifest.webmanifest\",\n+         \"/metadata-base/unset\",\n+         \"/metadata-base/unset/twitter-image.png\",\n+         \"/opengraph-image\",\n+         \"/opengraph-image-1ow20b\",\n+         \"/robots.txt\",\n+         \"/sitemap-image/sitemap.xml\",\n+         \"/sitemap-video/sitemap.xml\",\n+         \"/sitemap.xml\",\n+         \"/static\",\n+         \"/static/opengraph-image-hwkw89.png\",\n+         \"/twitter-image\",\n+       ]\n+      `)\n     })\n   }\n })"
        }
    ],
    "stats": {
        "total": 72,
        "additions": 52,
        "deletions": 20
    }
}