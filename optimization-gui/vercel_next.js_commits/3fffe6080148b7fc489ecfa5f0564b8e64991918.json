{
    "author": "sokra",
    "message": "Turbopack: fix the require.cache clear logic (#82876)\n\n### What?\n\nFixes a typo and an oversight in the logic.",
    "sha": "3fffe6080148b7fc489ecfa5f0564b8e64991918",
    "files": [
        {
            "sha": "fcff49a4ee222c24fcb621a5940643600cdc8072",
            "filename": "packages/next/src/server/dev/hot-reloader-turbopack.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/3fffe6080148b7fc489ecfa5f0564b8e64991918/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-turbopack.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/3fffe6080148b7fc489ecfa5f0564b8e64991918/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-turbopack.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-turbopack.ts?ref=3fffe6080148b7fc489ecfa5f0564b8e64991918",
            "patch": "@@ -316,6 +316,10 @@ export async function createHotReloaderTurbopack(\n   ): boolean {\n     if (force) {\n       for (const { path, contentHash } of writtenEndpoint.serverPaths) {\n+        // We ignore source maps\n+        if (path.endsWith('.map')) continue\n+        const localKey = `${key}:${path}`\n+        serverPathState.set(localKey, contentHash)\n         serverPathState.set(path, contentHash)\n       }\n     } else {\n@@ -332,11 +336,11 @@ export async function createHotReloaderTurbopack(\n           (globalHash && globalHash !== contentHash)\n         ) {\n           hasChange = true\n-          serverPathState.set(key, contentHash)\n+          serverPathState.set(localKey, contentHash)\n           serverPathState.set(path, contentHash)\n         } else {\n           if (!localHash) {\n-            serverPathState.set(key, contentHash)\n+            serverPathState.set(localKey, contentHash)\n           }\n           if (!globalHash) {\n             serverPathState.set(path, contentHash)"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 6,
        "deletions": 2
    }
}