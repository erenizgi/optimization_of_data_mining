{
    "author": "devjiwonchoi",
    "message": "[release-new] move \"add label to pr\" workflow from publish to trigger (#79619)\n\nIt _does work_ but it is more natural to put the \"add a label to pr\"\nworkflow after the \"create pr\" workflow.",
    "sha": "8268575c24522e84fb968831454196582825eea1",
    "files": [
        {
            "sha": "185fb3452c79436536eee76d0908cb28ec15d0d9",
            "filename": ".github/workflows/build_and_deploy.yml",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/8268575c24522e84fb968831454196582825eea1/.github%2Fworkflows%2Fbuild_and_deploy.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/8268575c24522e84fb968831454196582825eea1/.github%2Fworkflows%2Fbuild_and_deploy.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_deploy.yml?ref=8268575c24522e84fb968831454196582825eea1",
            "patch": "@@ -614,13 +614,6 @@ jobs:\n           GITHUB_TOKEN: ${{ secrets.RELEASE_BOT_GITHUB_TOKEN }}\n           NPM_TOKEN: ${{ secrets.NPM_TOKEN_ELEVATED }}\n \n-      # Add label to verify the PR is created from this workflow.\n-      - name: Add label to PR\n-        if: steps.changesets.outputs.pullRequestNumber\n-        run: 'gh pr edit ${{ steps.changesets.outputs.pullRequestNumber }} --add-label \"created-by: CI\"'\n-        env:\n-          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n-\n       - name: Send a Slack notification of the publish status\n         run: pnpm tsx scripts/release/slack.ts\n         env:"
        },
        {
            "sha": "37dfaf36483b396d62e6246ef9b851ccbe63341c",
            "filename": ".github/workflows/trigger_release_new.yml",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/8268575c24522e84fb968831454196582825eea1/.github%2Fworkflows%2Ftrigger_release_new.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/8268575c24522e84fb968831454196582825eea1/.github%2Fworkflows%2Ftrigger_release_new.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Ftrigger_release_new.yml?ref=8268575c24522e84fb968831454196582825eea1",
            "patch": "@@ -107,10 +107,17 @@ jobs:\n       - run: pnpm run build\n \n       - name: Create Release Pull Request\n-        id: version-packages\n+        id: changesets\n         uses: changesets/action@v1\n         with:\n           version: pnpm ci:version\n         env:\n           GITHUB_TOKEN: ${{ secrets.RELEASE_BOT_GITHUB_TOKEN }}\n           RELEASE_TYPE: ${{ github.event.inputs.releaseType }}\n+\n+      # Add label to verify the PR is created from this workflow.\n+      - name: Add label to PR\n+        if: steps.changesets.outputs.pullRequestNumber\n+        run: 'gh pr edit ${{ steps.changesets.outputs.pullRequestNumber }} --add-label \"created-by: CI\"'\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}