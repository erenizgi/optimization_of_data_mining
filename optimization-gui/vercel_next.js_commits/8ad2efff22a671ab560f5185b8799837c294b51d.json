{
    "author": "eps1lon",
    "message": "Handle badged console calls when dimming console output (#81889)\n\nCo-authored-by: Hendrik Liebau <mail@hendrik-liebau.de>",
    "sha": "8ad2efff22a671ab560f5185b8799837c294b51d",
    "files": [
        {
            "sha": "924adabb54f0cd1b1a84ae6955b921b95ae0a34f",
            "filename": "packages/next/src/server/node-environment-extensions/console-dev.tsx",
            "status": "modified",
            "additions": 90,
            "deletions": 63,
            "changes": 153,
            "blob_url": "https://github.com/vercel/next.js/blob/8ad2efff22a671ab560f5185b8799837c294b51d/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Fconsole-dev.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/8ad2efff22a671ab560f5185b8799837c294b51d/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Fconsole-dev.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Fconsole-dev.tsx?ref=8ad2efff22a671ab560f5185b8799837c294b51d",
            "patch": "@@ -16,79 +16,111 @@ type InterceptableConsoleMethod =\n   | 'trace'\n   | 'warn'\n \n-// This function could be used from multiple places, including hook.\n-// Skips CSS and object arguments, inlines other in the first argument as a template string\n-/**\n- * Copyright (c) Meta Platforms, Inc. and affiliates.\n- *\n- * This source code is licensed under the MIT license found in the\n- * LICENSE file in the root directory of this source tree.\n- *\n- * @source https://github.com/facebook/react/blob/b44a99bf58d69d52b5288d9eadcc6d226d705e11/packages/react-devtools-shared/src/backend/utils/formatConsoleArguments.js#L14\n- */\n-function formatConsoleArguments(maybeMessage: any, ...inputArgs: any[]): any[] {\n-  if (inputArgs.length === 0 || typeof maybeMessage !== 'string') {\n-    return [maybeMessage, ...inputArgs]\n-  }\n+const isColorSupported = dim('test') !== 'test'\n+\n+// 50% opacity for dimmed text\n+const dimStyle = 'color: color(from currentColor xyz x y z / 0.5);'\n+const reactBadgeFormat = '\\x1b[0m\\x1b[7m%c%s\\x1b[0m%c '\n \n-  const args = inputArgs.slice()\n+function dimmedConsoleArgs(...inputArgs: any[]): any[] {\n+  if (!isColorSupported) {\n+    return inputArgs\n+  }\n \n+  const newArgs = inputArgs.slice(0)\n   let template = ''\n   let argumentsPointer = 0\n-  for (let i = 0; i < maybeMessage.length; ++i) {\n-    const currentChar = maybeMessage[i]\n-    if (currentChar !== '%') {\n-      template += currentChar\n-      continue\n+  if (typeof inputArgs[0] === 'string') {\n+    const originalTemplateString = inputArgs[0]\n+    // Remove the original template string from the args.\n+    newArgs.splice(argumentsPointer, 1)\n+    argumentsPointer += 1\n+\n+    let i = 0\n+    if (originalTemplateString.startsWith(reactBadgeFormat)) {\n+      i = reactBadgeFormat.length\n+      // for `format` we already moved the pointer earlier\n+      // style, badge, reset style\n+      argumentsPointer += 3\n+      template += reactBadgeFormat\n+      // React's badge reset styles, reapply dimming\n+      template += '\\x1b[2m%c'\n+      // argumentsPointer includes template\n+      newArgs.splice(argumentsPointer - 1, 0, dimStyle)\n+      // dim the badge\n+      newArgs[0] += `;${dimStyle}`\n     }\n \n-    const nextChar = maybeMessage[i + 1]\n-    ++i\n-\n-    // Only keep CSS and objects, inline other arguments\n-    switch (nextChar) {\n-      case 'c':\n-      case 'O':\n-      case 'o': {\n-        ++argumentsPointer\n-        template += `%${nextChar}`\n-\n-        break\n+    for (i; i < originalTemplateString.length; i++) {\n+      const currentChar = originalTemplateString[i]\n+      if (currentChar !== '%') {\n+        template += currentChar\n+        continue\n       }\n-      case 'd':\n-      case 'i': {\n-        const [arg] = args.splice(argumentsPointer, 1)\n-        template += parseInt(arg, 10).toString()\n \n-        break\n+      const nextChar = originalTemplateString[i + 1]\n+      ++i\n+\n+      switch (nextChar) {\n+        case 'f':\n+        case 'O':\n+        case 'o':\n+        case 'd':\n+        case 's':\n+        case 'i':\n+        case 'c':\n+          ++argumentsPointer\n+          template += `%${nextChar}`\n+          break\n+        default:\n+          template += `%${nextChar}`\n       }\n-      case 'f': {\n-        const [arg] = args.splice(argumentsPointer, 1)\n-        template += parseFloat(arg).toString()\n+    }\n+  }\n \n+  for (\n+    argumentsPointer;\n+    argumentsPointer < inputArgs.length;\n+    ++argumentsPointer\n+  ) {\n+    const arg = inputArgs[argumentsPointer]\n+    const argType = typeof arg\n+    if (argumentsPointer > 0) {\n+      template += ' '\n+    }\n+    switch (argType) {\n+      case 'boolean':\n+      case 'string':\n+        template += '%s'\n         break\n-      }\n-      case 's': {\n-        const [arg] = args.splice(argumentsPointer, 1)\n-        template += String(arg)\n-\n+      case 'bigint':\n+        template += '%s'\n+        break\n+      case 'number':\n+        if (arg % 0) {\n+          template += '%f'\n+        } else {\n+          template += '%d'\n+        }\n+        break\n+      case 'object':\n+        template += '%O'\n+        break\n+      case 'symbol':\n+      case 'undefined':\n+      case 'function':\n+        template += '%s'\n         break\n-      }\n-\n       default:\n-        template += `%${nextChar}`\n+        // deopt to string for new, unknown types\n+        template += '%s'\n     }\n   }\n \n-  return [template, ...args]\n-}\n+  template += '\\x1b[22m'\n \n-const isColorSupported = dim('test') !== 'test'\n-// TODO: Breaks when complex objects are logged\n-// dim(\"%s\") does not work in Chrome\n-const ANSI_STYLE_DIMMING_TEMPLATE = isColorSupported\n-  ? '\\x1b[2;38;2;124;124;124m%s\\x1b[0m'\n-  : '%s'\n+  return [dim(`%c${template}`), dimStyle, ...newArgs]\n+}\n \n function dimConsoleCall(\n   methodName: InterceptableConsoleMethod,\n@@ -106,20 +138,15 @@ function dimConsoleCall(\n     }\n     case 'assert': {\n       // assert takes formatting options as the second argument.\n-      return [args[0]].concat(\n-        ANSI_STYLE_DIMMING_TEMPLATE,\n-        ...formatConsoleArguments(args[1], ...args.slice(2))\n-      )\n+      return [args[0]].concat(...dimmedConsoleArgs(args[1], ...args.slice(2)))\n     }\n     case 'error':\n     case 'debug':\n     case 'info':\n     case 'log':\n     case 'trace':\n     case 'warn':\n-      return [ANSI_STYLE_DIMMING_TEMPLATE].concat(\n-        ...formatConsoleArguments(args[0], ...args.slice(1))\n-      )\n+      return dimmedConsoleArgs(args[0], ...args.slice(1))\n     default:\n       return methodName satisfies never\n   }"
        },
        {
            "sha": "b059981ad789ba698d37ad492284896b131e9672",
            "filename": "test/e2e/app-dir/cache-components/app/console/page.tsx",
            "status": "modified",
            "additions": 26,
            "deletions": 2,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/8ad2efff22a671ab560f5185b8799837c294b51d/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fapp%2Fconsole%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/8ad2efff22a671ab560f5185b8799837c294b51d/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fapp%2Fconsole%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fapp%2Fconsole%2Fpage.tsx?ref=8ad2efff22a671ab560f5185b8799837c294b51d",
            "patch": "@@ -1,6 +1,27 @@\n-export default function ConsolePage() {\n+async function cachedConsoleCalls() {\n+  'use cache'\n   console.info('/console: template(one: %s, two: %s)', 'one', 'two')\n-  console.log('/console: This is a console page')\n+  console.log(\n+    // eslint-disable-next-line no-useless-concat\n+    '/console: This is a console page' + \". Don't match the codeframe.\"\n+  )\n+  console.warn('/console: not a template', { foo: 'just-some-object' })\n+  // TODO(veil): Assert on inspected errors once we sourcemap errors replayed from Cache environment.\n+  // console.error(new Error('/console: test'))\n+  console.assert(\n+    false,\n+    '/console: This is an assert message with a %s',\n+    'template'\n+  )\n+  console.assert(true, '/console: This is an assert message without a template')\n+}\n+\n+export default async function ConsolePage() {\n+  console.info('/console: template(one: %s, two: %s)', 'one', 'two')\n+  console.log(\n+    // eslint-disable-next-line no-useless-concat\n+    '/console: This is a console page' + \". Don't match the codeframe.\"\n+  )\n   console.warn('/console: not a template', { foo: 'just-some-object' })\n   console.error(new Error('/console: test'))\n   console.assert(\n@@ -9,5 +30,8 @@ export default function ConsolePage() {\n     'template'\n   )\n   console.assert(true, '/console: This is an assert message without a template')\n+\n+  await cachedConsoleCalls()\n+\n   return null\n }"
        },
        {
            "sha": "2707847bbeaf12b84a75ce98b201f31511d7bf5b",
            "filename": "test/e2e/app-dir/cache-components/cache-components.console.test.ts",
            "status": "modified",
            "additions": 65,
            "deletions": 48,
            "changes": 113,
            "blob_url": "https://github.com/vercel/next.js/blob/8ad2efff22a671ab560f5185b8799837c294b51d/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.console.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8ad2efff22a671ab560f5185b8799837c294b51d/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.console.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components%2Fcache-components.console.test.ts?ref=8ad2efff22a671ab560f5185b8799837c294b51d",
            "patch": "@@ -3,7 +3,7 @@ import { retry } from 'next-test-utils'\n import stripAnsi from 'strip-ansi'\n \n describe('cache-components', () => {\n-  const { isNextDev, isTurbopack, next, skipped } = nextTestSetup({\n+  const { isNextDev, next, skipped } = nextTestSetup({\n     env: {\n       FORCE_COLOR: '1',\n     },\n@@ -30,71 +30,88 @@ describe('cache-components', () => {\n \n       expect(cliOutputFromPage).toMatchInlineSnapshot(`\n        \"/console: template(one: one, two: two)\n-       /console: This is a console page\n+       /console: This is a console page. Don't match the codeframe.\n        /console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\n        Error: /console: test\n-           at ConsolePage (app/console/page.tsx:5:17)\n-       \u001b[0m \u001b[90m 3 |\u001b[39m   console\u001b[33m.\u001b[39mlog(\u001b[32m'/console: This is a console page'\u001b[39m)\n-        \u001b[90m 4 |\u001b[39m   console\u001b[33m.\u001b[39mwarn(\u001b[32m'/console: not a template'\u001b[39m\u001b[33m,\u001b[39m { foo\u001b[33m:\u001b[39m \u001b[32m'just-some-object'\u001b[39m })\n-       \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 5 |\u001b[39m   console\u001b[33m.\u001b[39merror(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'/console: test'\u001b[39m))\n-        \u001b[90m   |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n-        \u001b[90m 6 |\u001b[39m   console\u001b[33m.\u001b[39massert(\n-        \u001b[90m 7 |\u001b[39m     \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n-        \u001b[90m 8 |\u001b[39m     \u001b[32m'/console: This is an assert message with a %s'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n+           at ConsolePage (app/console/page.tsx:26:17)\n+       \u001b[0m \u001b[90m 24 |\u001b[39m   )\n+        \u001b[90m 25 |\u001b[39m   console\u001b[33m.\u001b[39mwarn(\u001b[32m'/console: not a template'\u001b[39m\u001b[33m,\u001b[39m { foo\u001b[33m:\u001b[39m \u001b[32m'just-some-object'\u001b[39m })\n+       \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   console\u001b[33m.\u001b[39merror(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'/console: test'\u001b[39m))\n+        \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n+        \u001b[90m 27 |\u001b[39m   console\u001b[33m.\u001b[39massert(\n+        \u001b[90m 28 |\u001b[39m     \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n+        \u001b[90m 29 |\u001b[39m     \u001b[32m'/console: This is an assert message with a %s'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n        Assertion failed: /console: This is an assert message with a template\n-       \u001b[2;38;2;124;124;124m/console: template(one: one, two: two)\u001b[0m\n-       \u001b[2;38;2;124;124;124m/console: This is a console page\u001b[0m\n-       \u001b[2;38;2;124;124;124m/console: not a template\u001b[0m { foo: \u001b[32m'just-some-object'\u001b[39m }\n-       \u001b[2;38;2;124;124;124mError: /console: test\n-           at ConsolePage (app/console/page.tsx:5:17)\n-         3 |   console.log('/console: This is a console page')\n-         4 |   console.warn('/console: not a template', { foo: 'just-some-object' })\n-       > 5 |   console.error(new Error('/console: test'))\n-           |                 ^\n-         6 |   console.assert(\n-         7 |     false,\n-         8 |     '/console: This is an assert message with a %s',\u001b[0m\n-       \u001b[2;38;2;124;124;124mAssertion failed: \u001b[2;38;2;124;124;124m/console: This is an assert message with a template\u001b[0m\u001b[0m\n-       \u001b[2;38;2;124;124;124m/console: template(one: one, two: two)\u001b[0m\n-       \u001b[2;38;2;124;124;124m/console: This is a console page\u001b[0m\n-       \u001b[2;38;2;124;124;124m/console: not a template\u001b[0m { foo: \u001b[32m'just-some-object'\u001b[39m }\n-       \u001b[2;38;2;124;124;124mError: /console: test\n-           at ConsolePage (app/console/page.tsx:5:17)\n-         3 |   console.log('/console: This is a console page')\n-         4 |   console.warn('/console: not a template', { foo: 'just-some-object' })\n-       > 5 |   console.error(new Error('/console: test'))\n-           |                 ^\n-         6 |   console.assert(\n-         7 |     false,\n-         8 |     '/console: This is an assert message with a %s',\u001b[0m\n-       \u001b[2;38;2;124;124;124mAssertion failed: \u001b[2;38;2;124;124;124m/console: This is an assert message with a template\u001b[0m\u001b[0m\"\n+       /console: template(one: one, two: two)\n+       /console: This is a console page. Don't match the codeframe.\n+       /console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\n+       Assertion failed: /console: This is an assert message with a template\n+       \u001b[0m\u001b[7m Cache \u001b[0m /console: template(one: one, two: two)\n+       \u001b[0m\u001b[7m Cache \u001b[0m /console: This is a console page. Don't match the codeframe.\n+       \u001b[0m\u001b[7m Cache \u001b[0m /console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\n+       Assertion failed: \u001b[0m\u001b[7m Cache \u001b[0m /console: This is an assert message with a template\n+       \u001b[0m\u001b[7m Cache \u001b[0m Assertion failed: /console: This is an assert message with a template\n+       \u001b[2m/console: template(one: one, two: two)\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m/console: This is a console page. Don't match the codeframe.\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m/console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2mError: /console: test\n+           at ConsolePage (app/console/page.tsx:26:17)\n+       \u001b[0m \u001b[90m 24 |\u001b[39m   )\n+        \u001b[90m 25 |\u001b[39m   console\u001b[33m.\u001b[39mwarn(\u001b[32m'/console: not a template'\u001b[39m\u001b[33m,\u001b[39m { foo\u001b[33m:\u001b[39m \u001b[32m'just-some-object'\u001b[39m })\n+       \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   console\u001b[33m.\u001b[39merror(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'/console: test'\u001b[39m))\n+        \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n+        \u001b[90m 27 |\u001b[39m   console\u001b[33m.\u001b[39massert(\n+        \u001b[90m 28 |\u001b[39m     \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n+        \u001b[90m 29 |\u001b[39m     \u001b[32m'/console: This is an assert message with a %s'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2mAssertion failed: \u001b[2m/console: This is an assert message with a template\u001b[22m\u001b[2m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: template(one: one, two: two)\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: This is a console page. Don't match the codeframe.\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2mAssertion failed: \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: This is an assert message with a template\u001b[22m\u001b[2m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2mAssertion failed: /console: This is an assert message with a template\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m/console: template(one: one, two: two)\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m/console: This is a console page. Don't match the codeframe.\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m/console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2mError: /console: test\n+           at ConsolePage (app/console/page.tsx:26:17)\n+       \u001b[0m \u001b[90m 24 |\u001b[39m   )\n+        \u001b[90m 25 |\u001b[39m   console\u001b[33m.\u001b[39mwarn(\u001b[32m'/console: not a template'\u001b[39m\u001b[33m,\u001b[39m { foo\u001b[33m:\u001b[39m \u001b[32m'just-some-object'\u001b[39m })\n+       \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   console\u001b[33m.\u001b[39merror(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'/console: test'\u001b[39m))\n+        \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n+        \u001b[90m 27 |\u001b[39m   console\u001b[33m.\u001b[39massert(\n+        \u001b[90m 28 |\u001b[39m     \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n+        \u001b[90m 29 |\u001b[39m     \u001b[32m'/console: This is an assert message with a %s'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2mAssertion failed: \u001b[2m/console: This is an assert message with a template\u001b[22m\u001b[2m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: template(one: one, two: two)\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: This is a console page. Don't match the codeframe.\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: not a template { foo: \u001b[32m'just-some-object'\u001b[39m }\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2mAssertion failed: \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2m/console: This is an assert message with a template\u001b[22m\u001b[2m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\u001b[2m\u001b[22m\n+       \u001b[2m\u001b[0m\u001b[7m Cache \u001b[0m \u001b[2mAssertion failed: /console: This is an assert message with a template\u001b[22m\u001b[2m\u001b[22m\"\n       `)\n+\n       await expect(browser).toDisplayCollapsedRedbox(`\n        {\n          \"description\": \"/console: test\",\n          \"environmentLabel\": \"Prerender\",\n          \"label\": \"Console Error\",\n-         \"source\": \"app/console/page.tsx (5:17) @ ConsolePage\n-       > 5 |   console.error(new Error('/console: test'))\n-           |                 ^\",\n+         \"source\": \"app/console/page.tsx (26:17) @ ConsolePage\n+       > 26 |   console.error(new Error('/console: test'))\n+            |                 ^\",\n          \"stack\": [\n-           \"ConsolePage app/console/page.tsx (5:17)\",\n+           \"ConsolePage app/console/page.tsx (26:17)\",\n            \"ConsolePage <anonymous>\",\n          ],\n        }\n       `)\n     } else {\n-      // prewarm + render\n+      // prewarm + render + Cache replay\n       // Neither is dimmed in production\n       const pageInvocations = Array.from(\n-        next.cliOutput.matchAll(/\\/console: This is a console page/g)\n-      )\n-      expect(pageInvocations).toHaveLength(\n-        isTurbopack\n-          ? // TODO: Why?\n-            4\n-          : 2\n+        next.cliOutput.matchAll(\n+          /\\/console: This is a console page\\. Don't match the codeframe\\./g\n+        )\n       )\n+      expect(pageInvocations).toHaveLength(3)\n     }\n   })\n })"
        }
    ],
    "stats": {
        "total": 294,
        "additions": 181,
        "deletions": 113
    }
}