{
    "author": "lukesandberg",
    "message": "[turbopack] Remove turbo_tasks::value attribute from NativeFunction\n (#80170)\n\n## Remove `turbo_tasks::value` attribute from `NativeFunction`\n\nThis PR removes the `#[turbo_tasks::value]` attribute from the `NativeFunction` struct in the Turbo Tasks crate.\n\nIt seemed a little too meta that this might get stored in a cell or produced by a task.",
    "sha": "69ded21f6cd69600ea5dd86a5948de2df693becb",
    "files": [
        {
            "sha": "e6c443a03a499707ada32dbdd0970ab6d58b584c",
            "filename": "turbopack/crates/turbo-tasks/src/native_function.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/69ded21f6cd69600ea5dd86a5948de2df693becb/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fnative_function.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/69ded21f6cd69600ea5dd86a5948de2df693becb/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fnative_function.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fnative_function.rs?ref=69ded21f6cd69600ea5dd86a5948de2df693becb",
            "patch": "@@ -6,7 +6,7 @@ use serde::{Deserialize, Serialize};\n use tracing::Span;\n \n use crate::{\n-    self as turbo_tasks, RawVc, TaskInput, TaskPersistence,\n+    RawVc, TaskInput, TaskPersistence,\n     magic_any::{MagicAny, MagicAnyDeserializeSeed, MagicAnySerializeSeed},\n     registry::register_function,\n     task::{\n@@ -148,20 +148,16 @@ pub struct FunctionMeta {\n \n /// A native (rust) turbo-tasks function. It's used internally by\n /// `#[turbo_tasks::function]`.\n-#[turbo_tasks::value(cell = \"new\", serialization = \"none\", eq = \"manual\")]\n pub struct NativeFunction {\n     /// A readable name of the function that is used to reporting purposes.\n     pub name: String,\n \n-    #[turbo_tasks(trace_ignore)]\n     pub function_meta: FunctionMeta,\n \n-    #[turbo_tasks(debug_ignore, trace_ignore)]\n     pub arg_meta: ArgMeta,\n \n     /// The functor that creates a functor from inputs. The inner functor\n     /// handles the task execution.\n-    #[turbo_tasks(debug_ignore, trace_ignore)]\n     pub implementation: Box<dyn TaskFn + Send + Sync + 'static>,\n }\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 1,
        "deletions": 5
    }
}