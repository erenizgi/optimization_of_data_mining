{
    "author": "huozhi",
    "message": "[og] fix vercel og build issue on windows (#77650)\n\n### What\n\nUpgrade the `@vercel/og` patch to Next.js which will resolve the build\nissue on windows.\n\nCloses NEXT-4069\nRelated #77164 \nRelated: https://github.com/nodejs/nodejs.org/issues/7438",
    "sha": "86312286153457178d32149166c7ced71e90831f",
    "files": [
        {
            "sha": "cb0d36cf5959af3f721f9dda4ce4cceffca307d4",
            "filename": ".github/workflows/build_and_test.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/.github%2Fworkflows%2Fbuild_and_test.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/.github%2Fworkflows%2Fbuild_and_test.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_test.yml?ref=86312286153457178d32149166c7ced71e90831f",
            "patch": "@@ -498,7 +498,7 @@ jobs:\n \n     uses: ./.github/workflows/build_reusable.yml\n     with:\n-      afterBuild: NEXT_TEST_MODE=start node run-tests.js test/e2e/app-dir/app/index.test.ts test/e2e/app-dir/app-edge/app-edge.test.ts\n+      afterBuild: NEXT_TEST_MODE=start node run-tests.js test/e2e/app-dir/app/index.test.ts test/e2e/app-dir/app-edge/app-edge.test.ts test/e2e/app-dir/metadata-edge/index.test.ts\n       stepName: 'test-prod-windows'\n       runs_on_labels: '[\"windows\",\"self-hosted\",\"x64\"]'\n       buildNativeTarget: 'x86_64-pc-windows-msvc'"
        },
        {
            "sha": "e9d99d6823404301930e60894b1cae1967d95a83",
            "filename": "package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=86312286153457178d32149166c7ced71e90831f",
            "patch": "@@ -139,7 +139,7 @@\n     \"@typescript-eslint/parser\": \"8.0.0\",\n     \"@vercel/devlow-bench\": \"workspace:*\",\n     \"@vercel/fetch\": \"6.1.1\",\n-    \"@vercel/og\": \"0.6.5\",\n+    \"@vercel/og\": \"0.6.8\",\n     \"abort-controller\": \"3.0.0\",\n     \"alex\": \"9.1.0\",\n     \"amphtml-validator\": \"1.0.38\",\n@@ -245,7 +245,7 @@\n     \"request-promise-core\": \"1.1.2\",\n     \"resolve-from\": \"5.0.0\",\n     \"sass\": \"1.54.0\",\n-    \"satori\": \"0.12.1\",\n+    \"satori\": \"0.12.2\",\n     \"scheduler-builtin\": \"npm:scheduler@0.26.0-canary-313332d1-20250326\",\n     \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-313332d1-20250326\",\n     \"seedrandom\": \"3.0.5\","
        },
        {
            "sha": "ecf717eaf52f944c5f71c7d2a331843aaaa1ad17",
            "filename": "packages/next/src/compiled/@vercel/og/index.edge.js",
            "status": "modified",
            "additions": 551,
            "deletions": 547,
            "changes": 1098,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js?ref=86312286153457178d32149166c7ced71e90831f"
        },
        {
            "sha": "e738b5aa99dd3ec2245d42d783a1e6cff1903752",
            "filename": "packages/next/src/compiled/@vercel/og/index.node.js",
            "status": "modified",
            "additions": 554,
            "deletions": 551,
            "changes": 1105,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js?ref=86312286153457178d32149166c7ced71e90831f"
        },
        {
            "sha": "b27e8164522614c65859361d4faf7dec4ecc313b",
            "filename": "packages/next/src/compiled/@vercel/og/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json?ref=86312286153457178d32149166c7ced71e90831f",
            "patch": "@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vercel/og\",\n-  \"version\": \"0.6.5\",\n+  \"version\": \"0.6.8\",\n   \"license\": \"MPL-2.0\",\n   \"type\": \"module\",\n   \"main\": \"./index.node.js\","
        },
        {
            "sha": "4a4ebc5d367ed6c5b93495bae1615d3b17b66cce",
            "filename": "packages/next/src/compiled/@vercel/og/types.d.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts?ref=86312286153457178d32149166c7ced71e90831f",
            "patch": "@@ -36,7 +36,6 @@ declare type ImageOptions = {\n     /**\n      * Using a specific Emoji style. Defaults to `twemoji`.\n      *\n-     * @link https://github.com/vercel/og#emoji\n      * @type {EmojiType}\n      * @default 'twemoji'\n      */"
        },
        {
            "sha": "20495a03ea7532da411260bae6d58603c0e9aca4",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/86312286153457178d32149166c7ced71e90831f/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/86312286153457178d32149166c7ced71e90831f/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=86312286153457178d32149166c7ced71e90831f",
            "patch": "@@ -211,8 +211,8 @@ importers:\n         specifier: 6.1.1\n         version: 6.1.1(@types/node-fetch@2.6.1)(node-fetch@2.6.7(encoding@0.1.13))\n       '@vercel/og':\n-        specifier: 0.6.5\n-        version: 0.6.5\n+        specifier: 0.6.8\n+        version: 0.6.8\n       abort-controller:\n         specifier: 3.0.0\n         version: 3.0.0\n@@ -529,8 +529,8 @@ importers:\n         specifier: 1.54.0\n         version: 1.54.0\n       satori:\n-        specifier: 0.12.1\n-        version: 0.12.1\n+        specifier: 0.12.2\n+        version: 0.12.2\n       scheduler-builtin:\n         specifier: npm:scheduler@0.26.0-canary-313332d1-20250326\n         version: scheduler@0.26.0-canary-313332d1-20250326\n@@ -6446,8 +6446,8 @@ packages:\n     engines: {node: '>=16'}\n     hasBin: true\n \n-  '@vercel/og@0.6.5':\n-    resolution: {integrity: sha512-GFXtgid3+TcVHTd668a10vGpzAh4Ty/yBZPRxKf1UicI8Vi8EthfvSxcaLW0KvQBBe1+d7TcjecLZHRT8JzQ4g==}\n+  '@vercel/og@0.6.8':\n+    resolution: {integrity: sha512-e4kQK9mP8ntpo3dACWirGod/hHv4qO5JMj9a/0a2AZto7b4persj5YP7t1Er372gTtYFTYxNhMx34jRvHooglw==}\n     engines: {node: '>=16'}\n \n   '@vitest/expect@2.0.5':\n@@ -15029,8 +15029,8 @@ packages:\n     engines: {node: '>=14.0.0'}\n     hasBin: true\n \n-  satori@0.12.1:\n-    resolution: {integrity: sha512-0SbjchvDrDbeXeQgxWVtSWxww7qcFgk3DtSE2/blHOSlLsSHwIqO2fCrtVa/EudJ7Eqno8A33QNx56rUyGbLuw==}\n+  satori@0.12.2:\n+    resolution: {integrity: sha512-3C/laIeE6UUe9A+iQ0A48ywPVCCMKCNSTU5Os101Vhgsjd3AAxGNjyq0uAA8kulMPK5n0csn8JlxPN9riXEjLA==}\n     engines: {node: '>=16'}\n \n   sax@1.2.4:\n@@ -23079,10 +23079,10 @@ snapshots:\n       - encoding\n       - supports-color\n \n-  '@vercel/og@0.6.5':\n+  '@vercel/og@0.6.8':\n     dependencies:\n       '@resvg/resvg-wasm': 2.4.0\n-      satori: 0.12.1\n+      satori: 0.12.2\n       yoga-wasm-web: 0.3.3\n \n   '@vitest/expect@2.0.5':\n@@ -34016,7 +34016,7 @@ snapshots:\n       immutable: 4.3.7\n       source-map-js: 1.2.1\n \n-  satori@0.12.1:\n+  satori@0.12.2:\n     dependencies:\n       '@shuding/opentype.js': 1.4.0-beta.0\n       css-background-parser: 0.1.0"
        }
    ],
    "stats": {
        "total": 2234,
        "additions": 1120,
        "deletions": 1114
    }
}