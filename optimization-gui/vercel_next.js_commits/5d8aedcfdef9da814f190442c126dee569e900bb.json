{
    "author": "bgw",
    "message": "fix(rustdoc): Fix rustdoc warnings, block on rustdoc failures in CI (#76448)\n\nWhen we break rustdoc, it causes warnings on every PR, e.g:\n\n![Screenshot 2025-02-24 at\n1.38.28â€¯PM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/HAZVitxRNnZz8QMiPn4a/a368e9a5-4ca6-4b3a-913e-df68aa038b7f.png)\n\n...so we should either not check the rustdocs at all, or block on them.\nThis makes them blocking.",
    "sha": "5d8aedcfdef9da814f190442c126dee569e900bb",
    "files": [
        {
            "sha": "3cdd19e6a3079264b442d2eccadf67b4ac783c22",
            "filename": ".github/workflows/build_and_test.yml",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8aedcfdef9da814f190442c126dee569e900bb/.github%2Fworkflows%2Fbuild_and_test.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8aedcfdef9da814f190442c126dee569e900bb/.github%2Fworkflows%2Fbuild_and_test.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_test.yml?ref=5d8aedcfdef9da814f190442c126dee569e900bb",
            "patch": "@@ -164,7 +164,7 @@ jobs:\n       stepName: 'rust-check'\n     secrets: inherit\n \n-  rust-doc-check:\n+  rustdoc-check:\n     name: rustdoc check\n     needs: ['changes', 'build-next']\n     if: ${{ needs.changes.outputs.docs-only == 'false' }}\n@@ -175,7 +175,7 @@ jobs:\n       skipInstallBuild: 'yes'\n       skipNativeBuild: 'yes'\n       afterBuild: ./scripts/deploy-turbopack-docs.sh\n-      stepName: 'rust-doc-check'\n+      stepName: 'rustdoc-check'\n     secrets: inherit\n \n   ast-grep:\n@@ -635,6 +635,7 @@ jobs:\n         'test-ppr-integration',\n         'test-cargo-unit',\n         'rust-check',\n+        'rustdoc-check',\n         'test-next-swc-wasm',\n         'test-turbopack-dev',\n         'test-turbopack-integration',"
        },
        {
            "sha": "c411f71322aca09f558dad3809d0e269f5858cdc",
            "filename": "crates/napi/src/next_api/project.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8aedcfdef9da814f190442c126dee569e900bb/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8aedcfdef9da814f190442c126dee569e900bb/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs?ref=5d8aedcfdef9da814f190442c126dee569e900bb",
            "patch": "@@ -1010,7 +1010,7 @@ pub fn project_hmr_identifiers_subscribe(\n     )\n }\n \n-enum UpdateMessage {\n+pub enum UpdateMessage {\n     Start,\n     End(UpdateInfo),\n }"
        },
        {
            "sha": "51fd99070e1fe702ae6adc1491e8570c93aea6b7",
            "filename": "crates/next-api/src/project.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8aedcfdef9da814f190442c126dee569e900bb/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8aedcfdef9da814f190442c126dee569e900bb/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fproject.rs?ref=5d8aedcfdef9da814f190442c126dee569e900bb",
            "patch": "@@ -495,8 +495,8 @@ impl ProjectContainer {\n         self.project().hmr_identifiers()\n     }\n \n-    /// Gets a source map for a particular `file_path`. If `dev` mode is\n-    /// disabled, this will always return [`OptionSourceMap::none`].\n+    /// Gets a source map for a particular `file_path`. If `dev` mode is disabled, this will always\n+    /// return [`OptionStringifiedSourceMap::none`].\n     #[turbo_tasks::function]\n     pub fn get_source_map(\n         &self,"
        },
        {
            "sha": "7bd5c93c30e648ffd57a13c1be8745f1934c7c9c",
            "filename": "crates/next-core/src/util.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8aedcfdef9da814f190442c126dee569e900bb/crates%2Fnext-core%2Fsrc%2Futil.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8aedcfdef9da814f190442c126dee569e900bb/crates%2Fnext-core%2Fsrc%2Futil.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Futil.rs?ref=5d8aedcfdef9da814f190442c126dee569e900bb",
            "patch": "@@ -141,13 +141,12 @@ pub async fn foreign_code_context_condition(\n     Ok(result)\n }\n \n-/// Determines if the module is an internal asset (i.e overlay, fallback) coming\n-/// from the embedded FS, don't apply user defined transforms.\n-///\n-/// [TODO] turbopack specific embed fs should be handled by internals of\n-/// turbopack itself and user config should not try to leak this. However,\n-/// currently we apply few transform options subject to next.js's configuration\n-/// even if it's embedded assets.\n+/// Determines if the module is an internal asset (i.e overlay, fallback) coming from the embedded\n+/// FS, don't apply user defined transforms.\n+//\n+// TODO: Turbopack specific embed fs paths should be handled by internals of Turbopack itself and\n+// user config should not try to leak this. However, currently we apply few transform options\n+// subject to Next.js's configuration even if it's embedded assets.\n pub async fn internal_assets_conditions() -> Result<ContextCondition> {\n     Ok(ContextCondition::any(vec![\n         ContextCondition::InPath(next_js_fs().root().to_resolved().await?),"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 12,
        "deletions": 12
    }
}