{
    "author": "wbinnssmith",
    "message": "Turbopack: Add support for `extension` regex in `@next/mdx` (#78734)\n\nCloses #78563 (replaces it)\nResolves #78348\n\nThis allows users the same flexibility they have with `@next/mdx` for webpack. It depends on #78733.\n\nTest Plan: Included the integration test from #78563",
    "sha": "5d8b19f0a94e220d331bf8ef82d8cecc1c84c460",
    "files": [
        {
            "sha": "bf0cf6fd7bf328eb9168cc20694ff34a16b0449b",
            "filename": "packages/next-mdx/index.js",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/packages%2Fnext-mdx%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/packages%2Fnext-mdx%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext-mdx%2Findex.js?ref=5d8b19f0a94e220d331bf8ef82d8cecc1c84c460",
            "patch": "@@ -49,11 +49,16 @@ module.exports =\n     if (process.env.TURBOPACK) {\n       nextConfig.turbopack = Object.assign({}, nextConfig?.turbopack, {\n         rules: Object.assign({}, nextConfig?.turbopack?.rules, {\n-          '*.mdx': {\n+          '#next-mdx': {\n             loaders: [loader],\n             as: '*.tsx',\n           },\n         }),\n+        conditions: {\n+          '#next-mdx': {\n+            path: extension,\n+          },\n+        },\n         resolveAlias: Object.assign({}, nextConfig?.turbopack?.resolveAlias, {\n           'next-mdx-import-source-file':\n             '@vercel/turbopack-next/mdx-import-source',"
        },
        {
            "sha": "9db4033626138de93015fcf8024df627a3e2191b",
            "filename": "test/e2e/app-dir/mdx/pages/pages/import/index.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/test%2Fe2e%2Fapp-dir%2Fmdx%2Fpages%2Fpages%2Fimport%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/test%2Fe2e%2Fapp-dir%2Fmdx%2Fpages%2Fpages%2Fimport%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmdx%2Fpages%2Fpages%2Fimport%2Findex.tsx?ref=5d8b19f0a94e220d331bf8ef82d8cecc1c84c460",
            "patch": "@@ -1,8 +1,9 @@\n-import MDXContent from './mdx-file.mdx'\n+import MDContent from './md-file.md'\n+\n export default function Page() {\n   return (\n     <>\n-      <MDXContent />\n+      <MDContent />\n     </>\n   )\n }"
        },
        {
            "sha": "3b45bbe4eeebd894ae5e0b7a762f55bca1aa7289",
            "filename": "test/e2e/app-dir/mdx/pages/pages/import/md-file.md",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/test%2Fe2e%2Fapp-dir%2Fmdx%2Fpages%2Fpages%2Fimport%2Fmd-file.md",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/test%2Fe2e%2Fapp-dir%2Fmdx%2Fpages%2Fpages%2Fimport%2Fmd-file.md",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmdx%2Fpages%2Fpages%2Fimport%2Fmd-file.md?ref=5d8b19f0a94e220d331bf8ef82d8cecc1c84c460",
            "previous_filename": "test/e2e/app-dir/mdx/pages/pages/import/mdx-file.mdx"
        },
        {
            "sha": "075ac0a84fc6e6b4cd9dfe655e42b409cf19fe01",
            "filename": "test/e2e/app-dir/mdx/types/mdx.d.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/test%2Fe2e%2Fapp-dir%2Fmdx%2Ftypes%2Fmdx.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5d8b19f0a94e220d331bf8ef82d8cecc1c84c460/test%2Fe2e%2Fapp-dir%2Fmdx%2Ftypes%2Fmdx.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmdx%2Ftypes%2Fmdx.d.ts?ref=5d8b19f0a94e220d331bf8ef82d8cecc1c84c460",
            "patch": "@@ -4,3 +4,9 @@ declare module '*.mdx' {\n   let MDXComponent: (props) => JSX.Element\n   export default MDXComponent\n }\n+\n+declare module '*.md' {\n+  import type { JSX } from 'react'\n+  let MDXComponent: (props) => JSX.Element\n+  export default MDXComponent\n+}"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 15,
        "deletions": 3
    }
}