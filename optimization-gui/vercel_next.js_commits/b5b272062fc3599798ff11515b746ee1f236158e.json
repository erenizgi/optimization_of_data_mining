{
    "author": "huozhi",
    "message": "[types] refactor shared types (#82844)",
    "sha": "b5b272062fc3599798ff11515b746ee1f236158e",
    "files": [
        {
            "sha": "729eb8329e493c586bd29746564d51e35a05a72a",
            "filename": "packages/next/src/client/app-index.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -17,7 +17,7 @@ import {\n   createMutableActionQueue,\n } from './components/app-router-instance'\n import AppRouter from './components/app-router'\n-import type { InitialRSCPayload } from '../server/app-render/types'\n+import type { InitialRSCPayload } from '../shared/lib/app-router-types'\n import { createInitialRouterState } from './components/router-reducer/create-initial-router-state'\n import { MissingSlotContext } from '../shared/lib/app-router-context.shared-runtime'\n import { setAppBuildId } from './app-build-id'"
        },
        {
            "sha": "d2d5415aa332889220baad787d2d02c4541c292e",
            "filename": "packages/next/src/client/components/app-router-announcer.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router-announcer.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router-announcer.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router-announcer.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,6 +1,6 @@\n import { useEffect, useRef, useState } from 'react'\n import { createPortal } from 'react-dom'\n-import type { FlightRouterState } from '../../server/app-render/types'\n+import type { FlightRouterState } from '../../shared/lib/app-router-types'\n \n const ANNOUNCER_TYPE = 'next-route-announcer'\n const ANNOUNCER_ID = '__next-route-announcer__'"
        },
        {
            "sha": "1beee03ab700c30c7d97a432ce796a04c25a5952",
            "filename": "packages/next/src/client/components/app-router-instance.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router-instance.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router-instance.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router-instance.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -29,7 +29,7 @@ import type {\n   PrefetchOptions,\n } from '../../shared/lib/app-router-context.shared-runtime'\n import { setLinkForCurrentNavigation, type LinkInstance } from './links'\n-import type { FlightRouterState } from '../../server/app-render/types'\n+import type { FlightRouterState } from '../../shared/lib/app-router-types'\n import type { ClientInstrumentationHooks } from '../app-index'\n import type { GlobalErrorComponent } from './builtin/global-error'\n "
        },
        {
            "sha": "783adcbe1b4cea930f72f286781498f67d1fcaee",
            "filename": "packages/next/src/client/components/app-router.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fapp-router.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -12,7 +12,10 @@ import {\n   LayoutRouterContext,\n   GlobalLayoutRouterContext,\n } from '../../shared/lib/app-router-context.shared-runtime'\n-import type { CacheNode } from '../../shared/lib/app-router-context.shared-runtime'\n+import type {\n+  CacheNode,\n+  FlightRouterState,\n+} from '../../shared/lib/app-router-types'\n import { ACTION_RESTORE } from './router-reducer/router-reducer-types'\n import type { AppRouterState } from './router-reducer/router-reducer-types'\n import { createHrefFromUrl } from './router-reducer/create-href-from-url'\n@@ -31,7 +34,6 @@ import { unresolvedThenable } from './unresolved-thenable'\n import { removeBasePath } from '../remove-base-path'\n import { hasBasePath } from '../has-base-path'\n import { getSelectedParams } from './router-reducer/compute-changed-path'\n-import type { FlightRouterState } from '../../server/app-render/types'\n import { useNavFailureHandler } from './nav-failure-handler'\n import {\n   dispatchTraverseAction,"
        },
        {
            "sha": "83d394c2b10c16efe118cf61a6051729e3852dce",
            "filename": "packages/next/src/client/components/bfcache.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbfcache.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbfcache.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbfcache.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../server/app-render/types'\n+import type { FlightRouterState } from '../../shared/lib/app-router-types'\n import { useState } from 'react'\n \n // When the flag is disabled, only track the currently active tree"
        },
        {
            "sha": "9141ec783d2621432bf24640f5abf316b3aa1e7b",
            "filename": "packages/next/src/client/components/layout-router.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -3,12 +3,12 @@\n import type {\n   CacheNode,\n   LazyCacheNode,\n-  LoadingModuleData,\n-} from '../../shared/lib/app-router-context.shared-runtime'\n+} from '../../shared/lib/app-router-types'\n+import type { LoadingModuleData } from '../../shared/lib/app-router-types'\n import type {\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../../server/app-render/types'\n+} from '../../shared/lib/app-router-types'\n import type { ErrorComponent } from './error-boundary'\n import {\n   ACTION_SERVER_PATCH,"
        },
        {
            "sha": "0d3639eb78996ca344b25595b75fa3579d5e6aa6",
            "filename": "packages/next/src/client/components/links.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flinks.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flinks.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flinks.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../server/app-render/types'\n+import type { FlightRouterState } from '../../shared/lib/app-router-types'\n import type { AppRouterInstance } from '../../shared/lib/app-router-context.shared-runtime'\n import { getCurrentAppRouterState } from './app-router-instance'\n import { createPrefetchURL } from './app-router'"
        },
        {
            "sha": "77cfcbc9d0a664f650c0348941708555e35f14b7",
            "filename": "packages/next/src/client/components/match-segments.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fmatch-segments.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fmatch-segments.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fmatch-segments.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { Segment } from '../../server/app-render/types'\n+import type { Segment } from '../../shared/lib/app-router-types'\n \n export const matchSegment = (\n   existingSegment: Segment,"
        },
        {
            "sha": "f570a55137ef486884758bd89c2e13bed12edcee",
            "filename": "packages/next/src/client/components/navigation.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fnavigation.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fnavigation.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fnavigation.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../server/app-render/types'\n+import type { FlightRouterState } from '../../shared/lib/app-router-types'\n import type { Params } from '../../server/request/params'\n \n import { useContext, useMemo } from 'react'"
        },
        {
            "sha": "ae01bfc10874b648fe2975343b2063fd9c1021cf",
            "filename": "packages/next/src/client/components/router-reducer/aliased-prefetch-navigations.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Faliased-prefetch-navigations.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Faliased-prefetch-navigations.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Faliased-prefetch-navigations.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,8 +1,8 @@\n import type {\n   CacheNodeSeedData,\n   FlightRouterState,\n-} from '../../../server/app-render/types'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+} from '../../../shared/lib/app-router-types'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import {\n   addSearchParamsIfPageSegment,\n   PAGE_SEGMENT_KEY,"
        },
        {
            "sha": "4a78bdeca67ef88a4b13fd5ec6d397b99d1b57ac",
            "filename": "packages/next/src/client/components/router-reducer/apply-flight-data.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-flight-data.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-flight-data.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-flight-data.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import { fillLazyItemsTillLeafWithHead } from './fill-lazy-items-till-leaf-with-head'\n import { fillCacheWithNewSubTreeData } from './fill-cache-with-new-subtree-data'\n import type { PrefetchCacheEntry } from './router-reducer-types'"
        },
        {
            "sha": "d41649eb53dd090e4142634f8312854d4d42a0ec",
            "filename": "packages/next/src/client/components/router-reducer/apply-router-state-patch-to-tree.test.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-router-state-patch-to-tree.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-router-state-patch-to-tree.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-router-state-patch-to-tree.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -2,7 +2,7 @@ import React from 'react'\n import type {\n   FlightData,\n   FlightRouterState,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { applyRouterStatePatchToTree } from './apply-router-state-patch-to-tree'\n \n const getInitialRouterStateTree = (): FlightRouterState => ["
        },
        {
            "sha": "c008e267d873c32b2d1727bd20e8d00f87eb952f",
            "filename": "packages/next/src/client/components/router-reducer/apply-router-state-patch-to-tree.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-router-state-patch-to-tree.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-router-state-patch-to-tree.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fapply-router-state-patch-to-tree.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,7 +1,7 @@\n import type {\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { DEFAULT_SEGMENT_KEY } from '../../../shared/lib/segment'\n import { getNextFlightSegmentPath } from '../../flight-data-helpers'\n import { matchSegment } from '../match-segments'"
        },
        {
            "sha": "bccf3066e3fd2376493f23a5fcea45ea9556efed",
            "filename": "packages/next/src/client/components/router-reducer/clear-cache-node-data-for-segment-path.test.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fclear-cache-node-data-for-segment-path.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fclear-cache-node-data-for-segment-path.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fclear-cache-node-data-for-segment-path.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,6 +1,6 @@\n import React from 'react'\n import { clearCacheNodeDataForSegmentPath } from './clear-cache-node-data-for-segment-path'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n \n const navigatedAt = -1\n "
        },
        {
            "sha": "f6e8b3425bdc709f8bd9977f17d5d6fa1784175f",
            "filename": "packages/next/src/client/components/router-reducer/clear-cache-node-data-for-segment-path.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fclear-cache-node-data-for-segment-path.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fclear-cache-node-data-for-segment-path.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fclear-cache-node-data-for-segment-path.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { FlightSegmentPath } from '../../../server/app-render/types'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type {\n+  FlightSegmentPath,\n+  CacheNode,\n+} from '../../../shared/lib/app-router-types'\n import { getNextFlightSegmentPath } from '../../flight-data-helpers'\n import { createRouterCacheKey } from './create-router-cache-key'\n "
        },
        {
            "sha": "9f689299a9530c5bc0722b2b47de5c381d442ecf",
            "filename": "packages/next/src/client/components/router-reducer/compute-changed-path.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcompute-changed-path.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcompute-changed-path.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcompute-changed-path.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,7 +1,7 @@\n import type {\n   FlightRouterState,\n   Segment,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { INTERCEPTION_ROUTE_MARKERS } from '../../../shared/lib/router/utils/interception-routes'\n import type { Params } from '../../../server/request/params'\n import {"
        },
        {
            "sha": "98a5c5db8828a98b672b32c753f937783f70f586",
            "filename": "packages/next/src/client/components/router-reducer/create-initial-router-state.test.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-initial-router-state.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-initial-router-state.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-initial-router-state.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,6 +1,8 @@\n import React from 'react'\n-import type { FlightRouterState } from '../../../server/app-render/types'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type {\n+  FlightRouterState,\n+  CacheNode,\n+} from '../../../shared/lib/app-router-types'\n import { createInitialRouterState } from './create-initial-router-state'\n import { PrefetchCacheEntryStatus, PrefetchKind } from './router-reducer-types'\n "
        },
        {
            "sha": "e128c9e289cb819615a3c930feed73f0a22dce89",
            "filename": "packages/next/src/client/components/router-reducer/create-initial-router-state.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-initial-router-state.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-initial-router-state.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-initial-router-state.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n-import type { FlightDataPath } from '../../../server/app-render/types'\n+import type {\n+  CacheNode,\n+  FlightDataPath,\n+} from '../../../shared/lib/app-router-types'\n \n import { createHrefFromUrl } from './create-href-from-url'\n import { fillLazyItemsTillLeafWithHead } from './fill-lazy-items-till-leaf-with-head'"
        },
        {
            "sha": "70377e0ea5faaf2ed0e6971a94679b63937ca147",
            "filename": "packages/next/src/client/components/router-reducer/create-router-cache-key.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-router-cache-key.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-router-cache-key.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fcreate-router-cache-key.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { Segment } from '../../../server/app-render/types'\n+import type { Segment } from '../../../shared/lib/app-router-types'\n import { PAGE_SEGMENT_KEY } from '../../../shared/lib/segment'\n \n export function createRouterCacheKey("
        },
        {
            "sha": "cc908492b57dfc6c2642d2023cb4cca58aeab838",
            "filename": "packages/next/src/client/components/router-reducer/fetch-server-response.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffetch-server-response.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffetch-server-response.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffetch-server-response.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -7,7 +7,7 @@ import { createFromReadableStream as createFromReadableStreamBrowser } from 'rea\n import type {\n   FlightRouterState,\n   NavigationFlightResponse,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n \n import type { NEXT_ROUTER_SEGMENT_PREFETCH_HEADER } from '../app-router-headers'\n import {"
        },
        {
            "sha": "33916e0e055ea439668472d14d68dfb88c15f4ba",
            "filename": "packages/next/src/client/components/router-reducer/fill-cache-with-new-subtree-data.test.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-cache-with-new-subtree-data.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-cache-with-new-subtree-data.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-cache-with-new-subtree-data.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,5 @@\n import { fillCacheWithNewSubTreeData } from './fill-cache-with-new-subtree-data'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import type { NormalizedFlightData } from '../../flight-data-helpers'\n \n const getFlightData = (): NormalizedFlightData[] => {"
        },
        {
            "sha": "1d4727b3cf3ec82bbf5cb4b689ff19dfb8136624",
            "filename": "packages/next/src/client/components/router-reducer/fill-cache-with-new-subtree-data.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-cache-with-new-subtree-data.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-cache-with-new-subtree-data.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-cache-with-new-subtree-data.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,4 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n-import type { Segment } from '../../../server/app-render/types'\n+import type { CacheNode, Segment } from '../../../shared/lib/app-router-types'\n import { invalidateCacheByRouterState } from './invalidate-cache-by-router-state'\n import { fillLazyItemsTillLeafWithHead } from './fill-lazy-items-till-leaf-with-head'\n import { createRouterCacheKey } from './create-router-cache-key'"
        },
        {
            "sha": "76f5c9ad52648891d859a29729aa88b876baf750",
            "filename": "packages/next/src/client/components/router-reducer/fill-lazy-items-till-leaf-with-head.test.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-lazy-items-till-leaf-with-head.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-lazy-items-till-leaf-with-head.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-lazy-items-till-leaf-with-head.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,7 +1,9 @@\n import React from 'react'\n import { fillLazyItemsTillLeafWithHead } from './fill-lazy-items-till-leaf-with-head'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n-import type { FlightData } from '../../../server/app-render/types'\n+import type {\n+  CacheNode,\n+  FlightData,\n+} from '../../../shared/lib/app-router-types'\n \n const getFlightData = (): FlightData => {\n   return ["
        },
        {
            "sha": "355dc77042380eb94aebfc577763a69065ff539c",
            "filename": "packages/next/src/client/components/router-reducer/fill-lazy-items-till-leaf-with-head.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-lazy-items-till-leaf-with-head.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-lazy-items-till-leaf-with-head.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffill-lazy-items-till-leaf-with-head.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,8 +1,8 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import type {\n   FlightRouterState,\n   CacheNodeSeedData,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { createRouterCacheKey } from './create-router-cache-key'\n import {\n   PrefetchCacheEntryStatus,"
        },
        {
            "sha": "4aadfffe57291b6002b8f63320a26dc142b2bc40",
            "filename": "packages/next/src/client/components/router-reducer/handle-segment-mismatch.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fhandle-segment-mismatch.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fhandle-segment-mismatch.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fhandle-segment-mismatch.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../../server/app-render/types'\n+import type { FlightRouterState } from '../../../shared/lib/app-router-types'\n import { handleExternalUrl } from './reducers/navigate-reducer'\n import type {\n   ReadonlyReducerState,"
        },
        {
            "sha": "1bebe851459f9bfccd2e49b3c85e2961008417f5",
            "filename": "packages/next/src/client/components/router-reducer/invalidate-cache-below-flight-segmentpath.test.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-below-flight-segmentpath.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-below-flight-segmentpath.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-below-flight-segmentpath.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,6 +1,6 @@\n import React from 'react'\n import { invalidateCacheBelowFlightSegmentPath } from './invalidate-cache-below-flight-segmentpath'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import { fillCacheWithNewSubTreeData } from './fill-cache-with-new-subtree-data'\n import type { NormalizedFlightData } from '../../flight-data-helpers'\n "
        },
        {
            "sha": "9c9d617572e6900a91a2078bb39dd30f733875f8",
            "filename": "packages/next/src/client/components/router-reducer/invalidate-cache-below-flight-segmentpath.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-below-flight-segmentpath.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-below-flight-segmentpath.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-below-flight-segmentpath.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n-import type { FlightSegmentPath } from '../../../server/app-render/types'\n+import type {\n+  CacheNode,\n+  FlightSegmentPath,\n+} from '../../../shared/lib/app-router-types'\n import { createRouterCacheKey } from './create-router-cache-key'\n import { getNextFlightSegmentPath } from '../../flight-data-helpers'\n "
        },
        {
            "sha": "c4130307cd358feeafb779f9605f544871389e28",
            "filename": "packages/next/src/client/components/router-reducer/invalidate-cache-by-router-state.test.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-by-router-state.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-by-router-state.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-by-router-state.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,6 +1,8 @@\n import { invalidateCacheByRouterState } from './invalidate-cache-by-router-state'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n-import type { FlightRouterState } from '../../../server/app-render/types'\n+import type {\n+  CacheNode,\n+  FlightRouterState,\n+} from '../../../shared/lib/app-router-types'\n \n const navigatedAt = -1\n "
        },
        {
            "sha": "099061f8e8b66588cc74b7c95b42d2146a46bfcd",
            "filename": "packages/next/src/client/components/router-reducer/invalidate-cache-by-router-state.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-by-router-state.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-by-router-state.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Finvalidate-cache-by-router-state.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n-import type { FlightRouterState } from '../../../server/app-render/types'\n+import type {\n+  CacheNode,\n+  FlightRouterState,\n+} from '../../../shared/lib/app-router-types'\n import { createRouterCacheKey } from './create-router-cache-key'\n \n /**"
        },
        {
            "sha": "ac0d2cabf4e146b486b7a88a79b98c88582e078d",
            "filename": "packages/next/src/client/components/router-reducer/is-navigating-to-new-root-layout.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fis-navigating-to-new-root-layout.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fis-navigating-to-new-root-layout.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fis-navigating-to-new-root-layout.test.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../../server/app-render/types'\n+import type { FlightRouterState } from '../../../shared/lib/app-router-types'\n import { isNavigatingToNewRootLayout } from './is-navigating-to-new-root-layout'\n \n describe('isNavigatingToNewRootLayout', () => {"
        },
        {
            "sha": "c0048461afa42663b42bc315e7f61d6922f17c37",
            "filename": "packages/next/src/client/components/router-reducer/is-navigating-to-new-root-layout.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fis-navigating-to-new-root-layout.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fis-navigating-to-new-root-layout.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fis-navigating-to-new-root-layout.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../../server/app-render/types'\n+import type { FlightRouterState } from '../../../shared/lib/app-router-types'\n \n export function isNavigatingToNewRootLayout(\n   currentTree: FlightRouterState,"
        },
        {
            "sha": "d4adab3fb8af59e75d1309dbd715b75b5204ce97",
            "filename": "packages/next/src/client/components/router-reducer/ppr-navigations.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fppr-navigations.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fppr-navigations.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fppr-navigations.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -3,14 +3,16 @@ import type {\n   FlightRouterState,\n   FlightSegmentPath,\n   Segment,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import type {\n   CacheNode,\n   ChildSegmentMap,\n+  ReadyCacheNode,\n+} from '../../../shared/lib/app-router-types'\n+import type {\n   HeadData,\n   LoadingModuleData,\n-  ReadyCacheNode,\n-} from '../../../shared/lib/app-router-context.shared-runtime'\n+} from '../../../shared/lib/app-router-types'\n import { DEFAULT_SEGMENT_KEY } from '../../../shared/lib/segment'\n import { matchSegment } from '../match-segments'\n import { createRouterCacheKey } from './create-router-cache-key'"
        },
        {
            "sha": "821e97945eaebd0623f9d8cbcb790cf4bbde8193",
            "filename": "packages/next/src/client/components/router-reducer/reducers/find-head-in-cache.test.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Ffind-head-in-cache.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Ffind-head-in-cache.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Ffind-head-in-cache.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { FlightRouterState } from '../../../../server/app-render/types'\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type {\n+  FlightRouterState,\n+  CacheNode,\n+} from '../../../../shared/lib/app-router-types'\n import { findHeadInCache } from './find-head-in-cache'\n \n const navigatedAt = -1"
        },
        {
            "sha": "415b35628a13d6ddb5244d4a88ec71836924c708",
            "filename": "packages/next/src/client/components/router-reducer/reducers/find-head-in-cache.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Ffind-head-in-cache.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Ffind-head-in-cache.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Ffind-head-in-cache.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { FlightRouterState } from '../../../../server/app-render/types'\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type {\n+  FlightRouterState,\n+  CacheNode,\n+} from '../../../../shared/lib/app-router-types'\n import { DEFAULT_SEGMENT_KEY } from '../../../../shared/lib/segment'\n import { createRouterCacheKey } from '../create-router-cache-key'\n "
        },
        {
            "sha": "dda19a45fb22e94b79dcb1cf643cd2499ac99e85",
            "filename": "packages/next/src/client/components/router-reducer/reducers/get-segment-value.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fget-segment-value.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fget-segment-value.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fget-segment-value.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { Segment } from '../../../../server/app-render/types'\n+import type { Segment } from '../../../../shared/lib/app-router-types'\n \n export function getSegmentValue(segment: Segment) {\n   return Array.isArray(segment) ? segment[1] : segment"
        },
        {
            "sha": "c3023e919cd5a228e33cd2504b9233038f316c59",
            "filename": "packages/next/src/client/components/router-reducer/reducers/has-interception-route-in-current-tree.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fhas-interception-route-in-current-tree.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fhas-interception-route-in-current-tree.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fhas-interception-route-in-current-tree.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../../../server/app-render/types'\n+import type { FlightRouterState } from '../../../../shared/lib/app-router-types'\n import { isInterceptionRouteAppPath } from '../../../../shared/lib/router/utils/interception-routes'\n \n export function hasInterceptionRouteInCurrentTree(["
        },
        {
            "sha": "d9ade133089c1985cd9f10ab57d654fae81511e8",
            "filename": "packages/next/src/client/components/router-reducer/reducers/hmr-refresh-reducer.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fhmr-refresh-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fhmr-refresh-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fhmr-refresh-reducer.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -11,7 +11,7 @@ import type {\n import { handleExternalUrl } from './navigate-reducer'\n import { handleMutable } from '../handle-mutable'\n import { applyFlightData } from '../apply-flight-data'\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../../shared/lib/app-router-types'\n import { createEmptyCacheNode } from '../../app-router'\n import { handleSegmentMismatch } from '../handle-segment-mismatch'\n import { hasInterceptionRouteInCurrentTree } from './has-interception-route-in-current-tree'"
        },
        {
            "sha": "d10ec7ef0dbccddf1d42936adfb7e81ef3e369c8",
            "filename": "packages/next/src/client/components/router-reducer/reducers/navigate-reducer.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fnavigate-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fnavigate-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fnavigate-reducer.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,8 +1,8 @@\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../../shared/lib/app-router-types'\n import type {\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../../../../server/app-render/types'\n+} from '../../../../shared/lib/app-router-types'\n import { fetchServerResponse } from '../fetch-server-response'\n import { createHrefFromUrl } from '../create-href-from-url'\n import { invalidateCacheBelowFlightSegmentPath } from '../invalidate-cache-below-flight-segmentpath'"
        },
        {
            "sha": "86011e7aa1530008e3bfa4cf1148a3accc24685a",
            "filename": "packages/next/src/client/components/router-reducer/reducers/refresh-reducer.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Frefresh-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Frefresh-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Frefresh-reducer.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -10,7 +10,7 @@ import type {\n } from '../router-reducer-types'\n import { handleExternalUrl } from './navigate-reducer'\n import { handleMutable } from '../handle-mutable'\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../../shared/lib/app-router-types'\n import { fillLazyItemsTillLeafWithHead } from '../fill-lazy-items-till-leaf-with-head'\n import { createEmptyCacheNode } from '../../app-router'\n import { handleSegmentMismatch } from '../handle-segment-mismatch'"
        },
        {
            "sha": "25a54c73c08a996a7941ef96eec64acdf6be27fc",
            "filename": "packages/next/src/client/components/router-reducer/reducers/server-action-reducer.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-action-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-action-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-action-reducer.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,7 +1,7 @@\n import type {\n   ActionFlightResponse,\n   ActionResult,\n-} from '../../../../server/app-render/types'\n+} from '../../../../shared/lib/app-router-types'\n import { callServer } from '../../../app-call-server'\n import { findSourceMapURL } from '../../../app-find-source-map-url'\n import {\n@@ -34,7 +34,7 @@ import { createHrefFromUrl } from '../create-href-from-url'\n import { handleExternalUrl } from './navigate-reducer'\n import { applyRouterStatePatchToTree } from '../apply-router-state-patch-to-tree'\n import { isNavigatingToNewRootLayout } from '../is-navigating-to-new-root-layout'\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../../shared/lib/app-router-types'\n import { handleMutable } from '../handle-mutable'\n import { fillLazyItemsTillLeafWithHead } from '../fill-lazy-items-till-leaf-with-head'\n import { createEmptyCacheNode } from '../../app-router'"
        },
        {
            "sha": "a8f1bb84768e039cc986b47a7d763386906eb9bc",
            "filename": "packages/next/src/client/components/router-reducer/reducers/server-patch-reducer.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-patch-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-patch-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-patch-reducer.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -10,7 +10,7 @@ import type {\n import { handleExternalUrl } from './navigate-reducer'\n import { applyFlightData } from '../apply-flight-data'\n import { handleMutable } from '../handle-mutable'\n-import type { CacheNode } from '../../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../../shared/lib/app-router-types'\n import { createEmptyCacheNode } from '../../app-router'\n \n export function serverPatchReducer("
        },
        {
            "sha": "237f14b8495f71a4e53cc151c2757ee8abbf057f",
            "filename": "packages/next/src/client/components/router-reducer/refetch-inactive-parallel-segments.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Frefetch-inactive-parallel-segments.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Frefetch-inactive-parallel-segments.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Frefetch-inactive-parallel-segments.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,7 @@\n-import type { FlightRouterState } from '../../../server/app-render/types'\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type {\n+  FlightRouterState,\n+  CacheNode,\n+} from '../../../shared/lib/app-router-types'\n import type { AppRouterState } from './router-reducer-types'\n import { applyFlightData } from './apply-flight-data'\n import { fetchServerResponse } from './fetch-server-response'"
        },
        {
            "sha": "07bdc3c18d54d77dcdfcac18b3ecbe84c0f53a1e",
            "filename": "packages/next/src/client/components/router-reducer/router-reducer-types.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Frouter-reducer-types.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Frouter-reducer-types.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Frouter-reducer-types.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,8 +1,8 @@\n-import type { CacheNode } from '../../../shared/lib/app-router-context.shared-runtime'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import type {\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import type { FetchServerResponseResult } from './fetch-server-response'\n \n export const ACTION_REFRESH = 'refresh'"
        },
        {
            "sha": "fa8099c958244c2629a19c3a504348f76009e8ea",
            "filename": "packages/next/src/client/components/router-reducer/should-hard-navigate.test.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fshould-hard-navigate.test.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fshould-hard-navigate.test.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fshould-hard-navigate.test.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -2,7 +2,7 @@ import React from 'react'\n import type {\n   FlightData,\n   FlightRouterState,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { shouldHardNavigate } from './should-hard-navigate'\n \n describe('shouldHardNavigate', () => {"
        },
        {
            "sha": "e5bdbce22aceff5001748eb1bc16e2737c14ca53",
            "filename": "packages/next/src/client/components/router-reducer/should-hard-navigate.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fshould-hard-navigate.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fshould-hard-navigate.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Fshould-hard-navigate.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -2,7 +2,7 @@ import type {\n   FlightRouterState,\n   FlightDataPath,\n   Segment,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { getNextFlightSegmentPath } from '../../flight-data-helpers'\n import { matchSegment } from '../match-segments'\n "
        },
        {
            "sha": "c9da958de9678b8faac947a5fd3e1f6c3bb3b45d",
            "filename": "packages/next/src/client/components/segment-cache-impl/cache.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fcache.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fcache.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fcache.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -6,13 +6,13 @@ import type {\n import type {\n   HeadData,\n   LoadingModuleData,\n-} from '../../../shared/lib/app-router-context.shared-runtime'\n+} from '../../../shared/lib/app-router-types'\n import type {\n   CacheNodeSeedData,\n   DynamicParamTypesShort,\n   Segment as FlightRouterStateSegment,\n-} from '../../../server/app-render/types'\n-import { HasLoadingBoundary } from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n+import { HasLoadingBoundary } from '../../../shared/lib/app-router-types'\n import {\n   NEXT_DID_POSTPONE_HEADER,\n   NEXT_ROUTER_PREFETCH_HEADER,\n@@ -70,7 +70,7 @@ import {\n import type {\n   FlightRouterState,\n   NavigationFlightResponse,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n import { normalizeFlightData } from '../../flight-data-helpers'\n import { STATIC_STALETIME_MS } from '../router-reducer/prefetch-cache-utils'\n import { pingVisibleLinks } from '../links'"
        },
        {
            "sha": "87c09a94c87464d29ca334836ec5ca2f15784145",
            "filename": "packages/next/src/client/components/segment-cache-impl/navigation.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fnavigation.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fnavigation.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fnavigation.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -2,12 +2,12 @@ import type {\n   CacheNodeSeedData,\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n+import type { CacheNode } from '../../../shared/lib/app-router-types'\n import type {\n-  CacheNode,\n   HeadData,\n   LoadingModuleData,\n-} from '../../../shared/lib/app-router-context.shared-runtime'\n+} from '../../../shared/lib/app-router-types'\n import type { NormalizedFlightData } from '../../flight-data-helpers'\n import { fetchServerResponse } from '../router-reducer/fetch-server-response'\n import {"
        },
        {
            "sha": "97b39631035d34ff4879f4cb3da0cb25f2d32bbd",
            "filename": "packages/next/src/client/components/segment-cache-impl/prefetch.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fprefetch.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fprefetch.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fprefetch.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from '../../../server/app-render/types'\n+import type { FlightRouterState } from '../../../shared/lib/app-router-types'\n import { createPrefetchURL } from '../app-router'\n import { createCacheKey } from './cache-key'\n import { schedulePrefetchTask } from './scheduler'"
        },
        {
            "sha": "4dc69ca88b686fed869d26b99cbba1703b7530dc",
            "filename": "packages/next/src/client/components/segment-cache-impl/scheduler.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fscheduler.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fscheduler.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fsegment-cache-impl%2Fscheduler.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -2,8 +2,8 @@ import type {\n   FlightRouterState,\n   Segment as FlightRouterStateSegment,\n   Segment,\n-} from '../../../server/app-render/types'\n-import { HasLoadingBoundary } from '../../../server/app-render/types'\n+} from '../../../shared/lib/app-router-types'\n+import { HasLoadingBoundary } from '../../../shared/lib/app-router-types'\n import { matchSegment } from '../match-segments'\n import {\n   readOrCreateRouteCacheEntry,"
        },
        {
            "sha": "b8765f6df50a9b0d84a43f97cce8e214b718eef4",
            "filename": "packages/next/src/client/flight-data-helpers.test.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.test.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,6 +1,8 @@\n import { prepareFlightRouterStateForRequest } from './flight-data-helpers'\n-import type { FlightRouterState } from '../server/app-render/types'\n-import { HasLoadingBoundary } from '../server/app-render/types'\n+import {\n+  HasLoadingBoundary,\n+  type FlightRouterState,\n+} from '../shared/lib/app-router-types'\n \n describe('prepareFlightRouterStateForRequest', () => {\n   describe('HMR refresh handling', () => {"
        },
        {
            "sha": "ad37004a2f92878bde5bd5314ce5bc3cf7cfce1d",
            "filename": "packages/next/src/client/flight-data-helpers.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fflight-data-helpers.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -5,8 +5,8 @@ import type {\n   FlightRouterState,\n   FlightSegmentPath,\n   Segment,\n-} from '../server/app-render/types'\n-import type { HeadData } from '../shared/lib/app-router-context.shared-runtime'\n+  HeadData,\n+} from '../shared/lib/app-router-types'\n import { PAGE_SEGMENT_KEY } from '../shared/lib/segment'\n \n export type NormalizedFlightData = {"
        },
        {
            "sha": "7050501ecf28eb62c6369eff56d0c45b95420180",
            "filename": "packages/next/src/client/route-params.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Froute-params.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fclient%2Froute-params.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Froute-params.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { DynamicParamTypesShort } from '../server/app-render/types'\n+import type { DynamicParamTypesShort } from '../shared/lib/app-router-types'\n import {\n   addSearchParamsIfPageSegment,\n   DEFAULT_SEGMENT_KEY,"
        },
        {
            "sha": "35ae723e4deb746c5556468fe7e5a480456201f5",
            "filename": "packages/next/src/server/app-render/app-render.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,16 +1,15 @@\n+import type { RenderOpts, PreloadCallbacks } from './types'\n import type {\n   ActionResult,\n   DynamicParamTypesShort,\n   FlightRouterState,\n-  RenderOpts,\n   Segment,\n   CacheNodeSeedData,\n-  PreloadCallbacks,\n   RSCPayload,\n   FlightData,\n   InitialRSCPayload,\n   FlightDataPath,\n-} from './types'\n+} from '../../shared/lib/app-router-types'\n import {\n   workAsyncStorage,\n   type WorkStore,"
        },
        {
            "sha": "ce16558dde166c5d5f93093bbc9e6ad2743a66c6",
            "filename": "packages/next/src/server/app-render/collect-segment-data.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -3,7 +3,9 @@ import type {\n   FlightRouterState,\n   InitialRSCPayload,\n   DynamicParamTypesShort,\n-} from './types'\n+  HeadData,\n+  LoadingModuleData,\n+} from '../../shared/lib/app-router-types'\n import type { ManifestNode } from '../../build/webpack/plugins/flight-manifest-plugin'\n \n // eslint-disable-next-line import/no-extraneous-dependencies\n@@ -16,10 +18,6 @@ import {\n   streamToBuffer,\n } from '../stream-utils/node-web-streams-helper'\n import { waitAtLeastOneReactRenderTask } from '../../lib/scheduler'\n-import type {\n-  HeadData,\n-  LoadingModuleData,\n-} from '../../shared/lib/app-router-context.shared-runtime'\n import {\n   type SegmentRequestKey,\n   createSegmentRequestKeyPart,"
        },
        {
            "sha": "6f2a2047e35af93cf9157a904210fd3a19ad1d20",
            "filename": "packages/next/src/server/app-render/create-component-tree.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-component-tree.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-component-tree.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-component-tree.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,8 @@\n-import type { CacheNodeSeedData, PreloadCallbacks } from './types'\n+import type {\n+  CacheNodeSeedData,\n+  LoadingModuleData,\n+} from '../../shared/lib/app-router-types'\n+import type { PreloadCallbacks } from './types'\n import React from 'react'\n import {\n   isClientReference,\n@@ -17,7 +21,6 @@ import { PARALLEL_ROUTE_DEFAULT_PATH } from '../../client/components/builtin/def\n import { getTracer } from '../lib/trace/tracer'\n import { NextNodeServerSpan } from '../lib/trace/constants'\n import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\n-import type { LoadingModuleData } from '../../shared/lib/app-router-context.shared-runtime'\n import type { Params } from '../request/params'\n import { workUnitAsyncStorage } from './work-unit-async-storage.external'\n import { OUTLET_BOUNDARY_NAME } from '../../lib/framework/boundary-constants'"
        },
        {
            "sha": "ff998cdfad39fd1d794ebae2f104bc86c0281875",
            "filename": "packages/next/src/server/app-render/create-flight-router-state-from-loader-tree.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-flight-router-state-from-loader-tree.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-flight-router-state-from-loader-tree.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcreate-flight-router-state-from-loader-tree.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,8 @@\n import type { LoaderTree } from '../lib/app-dir-module'\n-import { HasLoadingBoundary, type FlightRouterState } from './types'\n+import {\n+  HasLoadingBoundary,\n+  type FlightRouterState,\n+} from '../../shared/lib/app-router-types'\n import type { GetDynamicParamFromSegment } from './app-render'\n import { addSearchParamsIfPageSegment } from '../../shared/lib/segment'\n "
        },
        {
            "sha": "4409110dde5b63feb894a32281de0f089a1c87a0",
            "filename": "packages/next/src/server/app-render/get-segment-param.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fget-segment-param.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fget-segment-param.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fget-segment-param.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,5 @@\n import { INTERCEPTION_ROUTE_MARKERS } from '../../shared/lib/router/utils/interception-routes'\n-import type { DynamicParamTypes } from './types'\n+import type { DynamicParamTypes } from '../../shared/lib/app-router-types'\n \n /**\n  * Parse dynamic route segment to type of parameter"
        },
        {
            "sha": "3519f2d487a570532e440ab73516546fd3d704ea",
            "filename": "packages/next/src/server/app-render/get-short-dynamic-param-type.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fget-short-dynamic-param-type.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fget-short-dynamic-param-type.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fget-short-dynamic-param-type.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,7 @@\n-import type { DynamicParamTypes, DynamicParamTypesShort } from './types'\n+import type {\n+  DynamicParamTypes,\n+  DynamicParamTypesShort,\n+} from '../../shared/lib/app-router-types'\n \n export const dynamicParamTypes: Record<\n   DynamicParamTypes,"
        },
        {
            "sha": "6e20cb7074d606dc1c76afcb6d93b5d4cfca937a",
            "filename": "packages/next/src/server/app-render/parse-and-validate-flight-router-state.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fparse-and-validate-flight-router-state.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fparse-and-validate-flight-router-state.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fparse-and-validate-flight-router-state.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { FlightRouterState } from './types'\n+import type { FlightRouterState } from '../../shared/lib/app-router-types'\n import { flightRouterStateSchema } from './types'\n import { assert } from 'next/dist/compiled/superstruct'\n "
        },
        {
            "sha": "266fe8ba2bf64d10632901e4c937a95c0b884702",
            "filename": "packages/next/src/server/app-render/types.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 179,
            "changes": 179,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Ftypes.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Ftypes.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Ftypes.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -8,10 +8,6 @@ import type { ClientReferenceManifest } from '../../build/webpack/plugins/flight\n import type { NextFontManifest } from '../../build/webpack/plugins/next-font-manifest-plugin'\n import type { ParsedUrlQuery } from 'querystring'\n import type { AppPageModule } from '../route-modules/app-page/module'\n-import type {\n-  HeadData,\n-  LoadingModuleData,\n-} from '../../shared/lib/app-router-context.shared-runtime'\n import type { DeepReadonly } from '../../shared/lib/deep-readonly'\n import type { __ApiPreviewProps } from '../api-utils'\n \n@@ -23,17 +19,8 @@ import type { BaseNextRequest } from '../base-http'\n import type { IncomingMessage } from 'http'\n import type { RenderResumeDataCache } from '../resume-data-cache/resume-data-cache'\n \n-export type DynamicParamTypes =\n-  | 'catchall'\n-  | 'catchall-intercepted'\n-  | 'optional-catchall'\n-  | 'dynamic'\n-  | 'dynamic-intercepted'\n-\n const dynamicParamTypesSchema = s.enums(['c', 'ci', 'oc', 'd', 'di'])\n \n-export type DynamicParamTypesShort = s.Infer<typeof dynamicParamTypesSchema>\n-\n const segmentSchema = s.union([\n   s.string(),\n \n@@ -52,8 +39,6 @@ const segmentSchema = s.union([\n   ]),\n ])\n \n-export type Segment = s.Infer<typeof segmentSchema>\n-\n // unfortunately the tuple is not understood well by Describe so we have to\n // use any here. This does not have any impact on the runtime type since the validation\n // does work correctly.\n@@ -77,124 +62,6 @@ export const flightRouterStateSchema: s.Describe<any> = s.tuple([\n   s.optional(s.boolean()),\n ])\n \n-/**\n- * Router state\n- */\n-export type FlightRouterState = [\n-  segment: Segment,\n-  parallelRoutes: { [parallelRouterKey: string]: FlightRouterState },\n-  url?: string | null,\n-  /**\n-   * \"refresh\" and \"refetch\", despite being similarly named, have different\n-   * semantics:\n-   * - \"refetch\" is used during a request to inform the server where rendering\n-   *   should start from.\n-   *\n-   * - \"refresh\" is used by the client to mark that a segment should re-fetch the\n-   *   data from the server for the current segment. It uses the \"url\" property\n-   *   above to determine where to fetch from.\n-   *\n-   * - \"inside-shared-layout\" is used during a prefetch request to inform the\n-   *   server that even if the segment matches, it should be treated as if it's\n-   *   within the \"new\" part of a navigation  inside the shared layout. If\n-   *   the segment doesn't match, then it has no effect, since it would be\n-   *   treated as new regardless. If it does match, though, the server does not\n-   *   need to render it, because the client already has it.\n-   *\n-   * - \"metadata-only\" instructs the server to skip rendering the segments and\n-   *   only send the head data.\n-   *\n-   *   A bit confusing, but that's because it has only one extremely narrow use\n-   *   case  during a non-PPR prefetch, the server uses it to find the first\n-   *   loading boundary beneath a shared layout.\n-   *\n-   *   TODO: We should rethink the protocol for dynamic requests. It might not\n-   *   make sense for the client to send a FlightRouterState, since this type is\n-   *   overloaded with concerns.\n-   */\n-  refresh?:\n-    | 'refetch'\n-    | 'refresh'\n-    | 'inside-shared-layout'\n-    | 'metadata-only'\n-    | null,\n-  isRootLayout?: boolean,\n-  /**\n-   * Only present when responding to a tree prefetch request. Indicates whether\n-   * there is a loading boundary somewhere in the tree. The client cache uses\n-   * this to determine if it can skip the data prefetch request.\n-   */\n-  hasLoadingBoundary?: HasLoadingBoundary,\n-]\n-\n-export const enum HasLoadingBoundary {\n-  // There is a loading boundary in this particular segment\n-  SegmentHasLoadingBoundary = 1,\n-  // There is a loading boundary somewhere in the subtree (but not in\n-  // this segment)\n-  SubtreeHasLoadingBoundary = 2,\n-  // There is no loading boundary in this segment or any of its descendants\n-  SubtreeHasNoLoadingBoundary = 3,\n-}\n-\n-/**\n- * Individual Flight response path\n- */\n-export type FlightSegmentPath =\n-  // Uses `any` as repeating pattern can't be typed.\n-  | any[]\n-  // Looks somewhat like this\n-  | [\n-      segment: Segment,\n-      parallelRouterKey: string,\n-      segment: Segment,\n-      parallelRouterKey: string,\n-      segment: Segment,\n-      parallelRouterKey: string,\n-    ]\n-\n-/**\n- * Represents a tree of segments and the Flight data (i.e. React nodes) that\n- * correspond to each one. The tree is isomorphic to the FlightRouterState;\n- * however in the future we want to be able to fetch arbitrary partial segments\n- * without having to fetch all its children. So this response format will\n- * likely change.\n- */\n-export type CacheNodeSeedData = [\n-  segment: Segment,\n-  node: React.ReactNode | null,\n-  parallelRoutes: {\n-    [parallelRouterKey: string]: CacheNodeSeedData | null\n-  },\n-  loading: LoadingModuleData | Promise<LoadingModuleData>,\n-  isPartial: boolean,\n-]\n-\n-export type FlightDataSegment = [\n-  /* segment of the rendered slice: */ Segment,\n-  /* treePatch */ FlightRouterState,\n-  /* cacheNodeSeedData */ CacheNodeSeedData | null, // Can be null during prefetch if there's no loading component\n-  /* head: viewport */ HeadData,\n-  /* isHeadPartial */ boolean,\n-]\n-\n-export type FlightDataPath =\n-  // Uses `any` as repeating pattern can't be typed.\n-  | any[]\n-  // Looks somewhat like this\n-  | [\n-      // Holds full path to the segment.\n-      ...FlightSegmentPath[],\n-      ...FlightDataSegment,\n-    ]\n-\n-/**\n- * The Flight response data\n- */\n-export type FlightData = Array<FlightDataPath> | string\n-\n-export type ActionResult = Promise<any>\n-\n export type ServerOnInstrumentationRequestError = (\n   error: unknown,\n   // The request could be middleware, node server or web server request,\n@@ -321,49 +188,3 @@ export type RenderOpts = LoadComponentsReturnType<AppPageModule> &\n   RequestLifecycleOpts\n \n export type PreloadCallbacks = (() => void)[]\n-\n-export type InitialRSCPayload = {\n-  /** buildId */\n-  b: string\n-  /** assetPrefix */\n-  p: string\n-  /** initialCanonicalUrlParts */\n-  c: string[]\n-  /** couldBeIntercepted */\n-  i: boolean\n-  /** initialFlightData */\n-  f: FlightDataPath[]\n-  /** missingSlots */\n-  m: Set<string> | undefined\n-  /** GlobalError */\n-  G: [React.ComponentType<any>, React.ReactNode | undefined]\n-  /** postponed */\n-  s: boolean\n-  /** prerendered */\n-  S: boolean\n-}\n-\n-// Response from `createFromFetch` for normal rendering\n-export type NavigationFlightResponse = {\n-  /** buildId */\n-  b: string\n-  /** flightData */\n-  f: FlightData\n-  /** prerendered */\n-  S: boolean\n-}\n-\n-// Response from `createFromFetch` for server actions. Action's flight data can be null\n-export type ActionFlightResponse = {\n-  /** actionResult */\n-  a: ActionResult\n-  /** buildId */\n-  b: string\n-  /** flightData */\n-  f: FlightData\n-}\n-\n-export type RSCPayload =\n-  | InitialRSCPayload\n-  | NavigationFlightResponse\n-  | ActionFlightResponse"
        },
        {
            "sha": "22213506f5560d0e7dcb10a6cdb1e19815e39b98",
            "filename": "packages/next/src/server/app-render/walk-tree-with-flight-router-state.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fwalk-tree-with-flight-router-state.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fwalk-tree-with-flight-router-state.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fwalk-tree-with-flight-router-state.tsx?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -2,9 +2,10 @@ import type {\n   FlightDataPath,\n   FlightDataSegment,\n   FlightRouterState,\n-  PreloadCallbacks,\n   Segment,\n-} from './types'\n+  HeadData,\n+} from '../../shared/lib/app-router-types'\n+import type { PreloadCallbacks } from './types'\n import { matchSegment } from '../../client/components/match-segments'\n import type { LoaderTree } from '../lib/app-dir-module'\n import { getLinkAndScriptTags } from './get-css-inlined-link-tags'\n@@ -20,7 +21,6 @@ import {\n   addSearchParamsIfPageSegment,\n } from '../../shared/lib/segment'\n import { createComponentTree } from './create-component-tree'\n-import type { HeadData } from '../../shared/lib/app-router-context.shared-runtime'\n import { getSegmentParam } from './get-segment-param'\n \n /**"
        },
        {
            "sha": "dab88dff1401d9b96897585516a847c0446ab850",
            "filename": "packages/next/src/server/dev/on-demand-entry-handler.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fon-demand-entry-handler.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fon-demand-entry-handler.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fon-demand-entry-handler.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -5,7 +5,7 @@ import type {\n   DynamicParamTypesShort,\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../app-render/types'\n+} from '../../shared/lib/app-router-types'\n import type { CompilerNameValues } from '../../shared/lib/constants'\n import type { RouteDefinition } from '../route-definitions/route-definition'\n import type HotReloaderWebpack from './hot-reloader-webpack'"
        },
        {
            "sha": "9dca0e629a66536e6812213e058c846f634fd3bd",
            "filename": "packages/next/src/shared/lib/app-router-context.shared-runtime.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 107,
            "changes": 109,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,121 +1,16 @@\n 'use client'\n \n-import type { FetchServerResponseResult } from '../../client/components/router-reducer/fetch-server-response'\n import type {\n   FocusAndScrollRef,\n   PrefetchKind,\n } from '../../client/components/router-reducer/router-reducer-types'\n import type {\n   FlightRouterState,\n   FlightSegmentPath,\n-} from '../../server/app-render/types'\n+  CacheNode,\n+} from './app-router-types'\n import React from 'react'\n \n-export type ChildSegmentMap = Map<string, CacheNode>\n-\n-/**\n- * Cache node used in app-router / layout-router.\n- */\n-export type CacheNode = ReadyCacheNode | LazyCacheNode\n-\n-export type LoadingModuleData =\n-  | [React.JSX.Element, React.ReactNode, React.ReactNode]\n-  | null\n-\n-/** viewport metadata node */\n-export type HeadData = React.ReactNode\n-\n-export type LazyCacheNode = {\n-  /**\n-   * When rsc is null, this is a lazily-initialized cache node.\n-   *\n-   * If the app attempts to render it, it triggers a lazy data fetch,\n-   * postpones the render, and schedules an update to a new tree.\n-   *\n-   * TODO: This mechanism should not be used when PPR is enabled, though it\n-   * currently is in some cases until we've implemented partial\n-   * segment fetching.\n-   */\n-  rsc: null\n-\n-  /**\n-   * A prefetched version of the segment data. See explanation in corresponding\n-   * field of ReadyCacheNode (below).\n-   *\n-   * Since LazyCacheNode mostly only exists in the non-PPR implementation, this\n-   * will usually be null, but it could have been cloned from a previous\n-   * CacheNode that was created by the PPR implementation. Eventually we want\n-   * to migrate everything away from LazyCacheNode entirely.\n-   */\n-  prefetchRsc: React.ReactNode\n-\n-  /**\n-   * A pending response for the lazy data fetch. If this is not present\n-   * during render, it is lazily created.\n-   */\n-  lazyData: Promise<FetchServerResponseResult> | null\n-\n-  prefetchHead: HeadData | null\n-\n-  head: HeadData\n-\n-  loading: LoadingModuleData | Promise<LoadingModuleData>\n-\n-  /**\n-   * Child parallel routes.\n-   */\n-  parallelRoutes: Map<string, ChildSegmentMap>\n-\n-  /**\n-   * The timestamp of the navigation that last updated the CacheNode's data. If\n-   * a CacheNode is reused from a previous navigation, this value is not\n-   * updated. Used to track the staleness of the data.\n-   */\n-  navigatedAt: number\n-}\n-\n-export type ReadyCacheNode = {\n-  /**\n-   * When rsc is not null, it represents the RSC data for the\n-   * corresponding segment.\n-   *\n-   * `null` is a valid React Node but because segment data is always a\n-   * <LayoutRouter> component, we can use `null` to represent empty.\n-   *\n-   * TODO: For additional type safety, update this type to\n-   * Exclude<React.ReactNode, null>. Need to update createEmptyCacheNode to\n-   * accept rsc as an argument, or just inline the callers.\n-   */\n-  rsc: React.ReactNode\n-\n-  /**\n-   * Represents a static version of the segment that can be shown immediately,\n-   * and may or may not contain dynamic holes. It's prefetched before a\n-   * navigation occurs.\n-   *\n-   * During rendering, we will choose whether to render `rsc` or `prefetchRsc`\n-   * with `useDeferredValue`. As with the `rsc` field, a value of `null` means\n-   * no value was provided. In this case, the LayoutRouter will go straight to\n-   * rendering the `rsc` value; if that one is also missing, it will suspend and\n-   * trigger a lazy fetch.\n-   */\n-  prefetchRsc: React.ReactNode\n-\n-  /**\n-   * There should never be a lazy data request in this case.\n-   */\n-  lazyData: null\n-  prefetchHead: HeadData | null\n-\n-  head: HeadData\n-\n-  loading: LoadingModuleData | Promise<LoadingModuleData>\n-\n-  parallelRoutes: Map<string, ChildSegmentMap>\n-\n-  navigatedAt: number\n-}\n-\n export interface NavigateOptions {\n   scroll?: boolean\n }"
        },
        {
            "sha": "6daf322007212b0a10aec5602d5ac5aa8518f991",
            "filename": "packages/next/src/shared/lib/app-router-types.ts",
            "status": "added",
            "additions": 302,
            "deletions": 0,
            "changes": 302,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-types.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-types.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-types.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -0,0 +1,302 @@\n+/**\n+ * App Router types - Client-safe types for the Next.js App Router\n+ *\n+ * This file contains type definitions that can be safely imported\n+ * by both client-side and server-side code without circular dependencies.\n+ */\n+import type { FetchServerResponseResult } from '../../client/components/router-reducer/fetch-server-response'\n+import type React from 'react'\n+\n+export type LoadingModuleData =\n+  | [React.JSX.Element, React.ReactNode, React.ReactNode]\n+  | null\n+\n+/** viewport metadata node */\n+export type HeadData = React.ReactNode\n+\n+export type ChildSegmentMap = Map<string, CacheNode>\n+\n+/**\n+ * Cache node used in app-router / layout-router.\n+ */\n+export type CacheNode = ReadyCacheNode | LazyCacheNode\n+\n+export type LazyCacheNode = {\n+  /**\n+   * When rsc is null, this is a lazily-initialized cache node.\n+   *\n+   * If the app attempts to render it, it triggers a lazy data fetch,\n+   * postpones the render, and schedules an update to a new tree.\n+   *\n+   * TODO: This mechanism should not be used when PPR is enabled, though it\n+   * currently is in some cases until we've implemented partial\n+   * segment fetching.\n+   */\n+  rsc: null\n+\n+  /**\n+   * A prefetched version of the segment data. See explanation in corresponding\n+   * field of ReadyCacheNode (below).\n+   *\n+   * Since LazyCacheNode mostly only exists in the non-PPR implementation, this\n+   * will usually be null, but it could have been cloned from a previous\n+   * CacheNode that was created by the PPR implementation. Eventually we want\n+   * to migrate everything away from LazyCacheNode entirely.\n+   */\n+  prefetchRsc: React.ReactNode\n+\n+  /**\n+   * A pending response for the lazy data fetch. If this is not present\n+   * during render, it is lazily created.\n+   */\n+  lazyData: Promise<FetchServerResponseResult> | null\n+\n+  prefetchHead: HeadData | null\n+\n+  head: HeadData\n+\n+  loading: LoadingModuleData | Promise<LoadingModuleData>\n+\n+  /**\n+   * Child parallel routes.\n+   */\n+  parallelRoutes: Map<string, ChildSegmentMap>\n+\n+  /**\n+   * The timestamp of the navigation that last updated the CacheNode's data. If\n+   * a CacheNode is reused from a previous navigation, this value is not\n+   * updated. Used to track the staleness of the data.\n+   */\n+  navigatedAt: number\n+}\n+\n+export type ReadyCacheNode = {\n+  /**\n+   * When rsc is not null, it represents the RSC data for the\n+   * corresponding segment.\n+   *\n+   * `null` is a valid React Node but because segment data is always a\n+   * <LayoutRouter> component, we can use `null` to represent empty.\n+   *\n+   * TODO: For additional type safety, update this type to\n+   * Exclude<React.ReactNode, null>. Need to update createEmptyCacheNode to\n+   * accept rsc as an argument, or just inline the callers.\n+   */\n+  rsc: React.ReactNode\n+\n+  /**\n+   * Represents a static version of the segment that can be shown immediately,\n+   * and may or may not contain dynamic holes. It's prefetched before a\n+   * navigation occurs.\n+   *\n+   * During rendering, we will choose whether to render `rsc` or `prefetchRsc`\n+   * with `useDeferredValue`. As with the `rsc` field, a value of `null` means\n+   * no value was provided. In this case, the LayoutRouter will go straight to\n+   * rendering the `rsc` value; if that one is also missing, it will suspend and\n+   * trigger a lazy fetch.\n+   */\n+  prefetchRsc: React.ReactNode\n+\n+  /**\n+   * There should never be a lazy data request in this case.\n+   */\n+  lazyData: null\n+  prefetchHead: HeadData | null\n+\n+  head: HeadData\n+\n+  loading: LoadingModuleData | Promise<LoadingModuleData>\n+\n+  parallelRoutes: Map<string, ChildSegmentMap>\n+\n+  navigatedAt: number\n+}\n+\n+export type DynamicParamTypes =\n+  | 'catchall'\n+  | 'catchall-intercepted'\n+  | 'optional-catchall'\n+  | 'dynamic'\n+  | 'dynamic-intercepted'\n+\n+export type DynamicParamTypesShort = 'c' | 'ci' | 'oc' | 'd' | 'di'\n+\n+export type Segment =\n+  | string\n+  | [\n+      // Param name\n+      string,\n+      // Param cache key (almost the same as the value, but arrays are\n+      // concatenated into strings)\n+      // TODO: We should change this to just be the value. Currently we convert\n+      // it back to a value when passing to useParams. It only needs to be\n+      // a string when converted to a a cache key, but that doesn't mean we\n+      // need to store it as that representation.\n+      string,\n+      // Dynamic param type\n+      DynamicParamTypesShort,\n+    ]\n+\n+/**\n+ * Router state\n+ */\n+export type FlightRouterState = [\n+  segment: Segment,\n+  parallelRoutes: { [parallelRouterKey: string]: FlightRouterState },\n+  url?: string | null,\n+  /**\n+   * \"refresh\" and \"refetch\", despite being similarly named, have different\n+   * semantics:\n+   * - \"refetch\" is used during a request to inform the server where rendering\n+   *   should start from.\n+   *\n+   * - \"refresh\" is used by the client to mark that a segment should re-fetch the\n+   *   data from the server for the current segment. It uses the \"url\" property\n+   *   above to determine where to fetch from.\n+   *\n+   * - \"inside-shared-layout\" is used during a prefetch request to inform the\n+   *   server that even if the segment matches, it should be treated as if it's\n+   *   within the \"new\" part of a navigation  inside the shared layout. If\n+   *   the segment doesn't match, then it has no effect, since it would be\n+   *   treated as new regardless. If it does match, though, the server does not\n+   *   need to render it, because the client already has it.\n+   *\n+   * - \"metadata-only\" instructs the server to skip rendering the segments and\n+   *   only send the head data.\n+   *\n+   *   A bit confusing, but that's because it has only one extremely narrow use\n+   *   case  during a non-PPR prefetch, the server uses it to find the first\n+   *   loading boundary beneath a shared layout.\n+   *\n+   *   TODO: We should rethink the protocol for dynamic requests. It might not\n+   *   make sense for the client to send a FlightRouterState, since this type is\n+   *   overloaded with concerns.\n+   */\n+  refresh?:\n+    | 'refetch'\n+    | 'refresh'\n+    | 'inside-shared-layout'\n+    | 'metadata-only'\n+    | null,\n+  isRootLayout?: boolean,\n+  /**\n+   * Only present when responding to a tree prefetch request. Indicates whether\n+   * there is a loading boundary somewhere in the tree. The client cache uses\n+   * this to determine if it can skip the data prefetch request.\n+   */\n+  hasLoadingBoundary?: HasLoadingBoundary,\n+]\n+\n+export const enum HasLoadingBoundary {\n+  // There is a loading boundary in this particular segment\n+  SegmentHasLoadingBoundary = 1,\n+  // There is a loading boundary somewhere in the subtree (but not in\n+  // this segment)\n+  SubtreeHasLoadingBoundary = 2,\n+  // There is no loading boundary in this segment or any of its descendants\n+  SubtreeHasNoLoadingBoundary = 3,\n+}\n+\n+/**\n+ * Individual Flight response path\n+ */\n+export type FlightSegmentPath =\n+  // Uses `any` as repeating pattern can't be typed.\n+  | any[]\n+  // Looks somewhat like this\n+  | [\n+      segment: Segment,\n+      parallelRouterKey: string,\n+      segment: Segment,\n+      parallelRouterKey: string,\n+      segment: Segment,\n+      parallelRouterKey: string,\n+    ]\n+\n+/**\n+ * Represents a tree of segments and the Flight data (i.e. React nodes) that\n+ * correspond to each one. The tree is isomorphic to the FlightRouterState;\n+ * however in the future we want to be able to fetch arbitrary partial segments\n+ * without having to fetch all its children. So this response format will\n+ * likely change.\n+ */\n+export type CacheNodeSeedData = [\n+  segment: Segment,\n+  node: React.ReactNode | null,\n+  parallelRoutes: {\n+    [parallelRouterKey: string]: CacheNodeSeedData | null\n+  },\n+  loading: LoadingModuleData | Promise<LoadingModuleData>,\n+  isPartial: boolean,\n+]\n+\n+export type FlightDataSegment = [\n+  /* segment of the rendered slice: */ Segment,\n+  /* treePatch */ FlightRouterState,\n+  /* cacheNodeSeedData */ CacheNodeSeedData | null, // Can be null during prefetch if there's no loading component\n+  /* head: viewport */ HeadData,\n+  /* isHeadPartial */ boolean,\n+]\n+\n+export type FlightDataPath =\n+  // Uses `any` as repeating pattern can't be typed.\n+  | any[]\n+  // Looks somewhat like this\n+  | [\n+      // Holds full path to the segment.\n+      ...FlightSegmentPath[],\n+      ...FlightDataSegment,\n+    ]\n+\n+/**\n+ * The Flight response data\n+ */\n+export type FlightData = Array<FlightDataPath> | string\n+\n+export type ActionResult = Promise<any>\n+\n+export type InitialRSCPayload = {\n+  /** buildId */\n+  b: string\n+  /** assetPrefix */\n+  p: string\n+  /** initialCanonicalUrlParts */\n+  c: string[]\n+  /** couldBeIntercepted */\n+  i: boolean\n+  /** initialFlightData */\n+  f: FlightDataPath[]\n+  /** missingSlots */\n+  m: Set<string> | undefined\n+  /** GlobalError */\n+  G: [React.ComponentType<any>, React.ReactNode | undefined]\n+  /** postponed */\n+  s: boolean\n+  /** prerendered */\n+  S: boolean\n+}\n+\n+// Response from `createFromFetch` for normal rendering\n+export type NavigationFlightResponse = {\n+  /** buildId */\n+  b: string\n+  /** flightData */\n+  f: FlightData\n+  /** prerendered */\n+  S: boolean\n+}\n+\n+// Response from `createFromFetch` for server actions. Action's flight data can be null\n+export type ActionFlightResponse = {\n+  /** actionResult */\n+  a: ActionResult\n+  /** buildId */\n+  b: string\n+  /** flightData */\n+  f: FlightData\n+}\n+\n+export type RSCPayload =\n+  | InitialRSCPayload\n+  | NavigationFlightResponse\n+  | ActionFlightResponse"
        },
        {
            "sha": "771ab5fe43d63f7a2ed6c08fbe0dccc2a3ed074e",
            "filename": "packages/next/src/shared/lib/router/utils/get-dynamic-param.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Frouter%2Futils%2Fget-dynamic-param.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Frouter%2Futils%2Fget-dynamic-param.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Frouter%2Futils%2Fget-dynamic-param.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,5 @@\n import type { DynamicParam } from '../../../../server/app-render/app-render'\n-import type { DynamicParamTypesShort } from '../../../../server/app-render/types'\n+import type { DynamicParamTypesShort } from '../../app-router-types'\n import type { FallbackRouteParams } from '../../../../server/request/fallback-params'\n \n /**"
        },
        {
            "sha": "6a0a861b9d12aed7f2443193191d402284edbcb6",
            "filename": "packages/next/src/shared/lib/segment-cache/segment-value-encoding.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fsegment-cache%2Fsegment-value-encoding.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fsegment-cache%2Fsegment-value-encoding.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fsegment-cache%2Fsegment-value-encoding.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,5 +1,5 @@\n import { PAGE_SEGMENT_KEY } from '../segment'\n-import type { Segment as FlightRouterStateSegment } from '../../../server/app-render/types'\n+import type { Segment as FlightRouterStateSegment } from '../app-router-types'\n \n // TypeScript trick to simulate opaque types, like in Flow.\n type Opaque<K, T> = T & { __brand: K }"
        },
        {
            "sha": "160620905fecbf9d1d35cac94017bdc8df8ce839",
            "filename": "packages/next/src/shared/lib/segment.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fsegment.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fsegment.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fsegment.ts?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -1,4 +1,4 @@\n-import type { Segment } from '../../server/app-render/types'\n+import type { Segment } from './app-router-types'\n \n export function isGroupSegment(segment: string) {\n   // Use array[0] for performant purpose"
        },
        {
            "sha": "d014822ec994d8dbd4694ed71a77ed22e67cf1b4",
            "filename": "test/cache-components-tests-manifest.json",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/b5b272062fc3599798ff11515b746ee1f236158e/test%2Fcache-components-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b5b272062fc3599798ff11515b746ee1f236158e/test%2Fcache-components-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fcache-components-tests-manifest.json?ref=b5b272062fc3599798ff11515b746ee1f236158e",
            "patch": "@@ -27,10 +27,11 @@\n       ]\n     },\n     \"test/production/app-dir/browser-chunks/browser-chunks.test.ts\": {\n-      \"passed\": [],\n-      \"failed\": [\n-        \"browser-chunks must not bundle any server modules into browser chunks\"\n-      ]\n+      \"passed\": [\n+        \"browser-chunks must not bundle any server modules into browser chunks\",\n+        \"browser-chunks must not bundle any dev overlay into browser chunks\"\n+      ],\n+      \"failed\": []\n     },\n     \"test/e2e/next-form/default/next-form-prefetch.test.ts\": {\n       \"passed\": ["
        }
    ],
    "stats": {
        "total": 834,
        "additions": 442,
        "deletions": 392
    }
}