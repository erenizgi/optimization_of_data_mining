{
    "author": "ijjk",
    "message": "Update middleware prefetch test (#79025)",
    "sha": "a9c4a44a305c581379ae252ba6a86a0059f3a5fe",
    "files": [
        {
            "sha": "0d2a941a8b7ae70a3b0f47c7c8e7d69d4f91d378",
            "filename": "test/integration/middleware-prefetch/tests/index.test.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/a9c4a44a305c581379ae252ba6a86a0059f3a5fe/test%2Fintegration%2Fmiddleware-prefetch%2Ftests%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/a9c4a44a305c581379ae252ba6a86a0059f3a5fe/test%2Fintegration%2Fmiddleware-prefetch%2Ftests%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fmiddleware-prefetch%2Ftests%2Findex.test.js?ref=a9c4a44a305c581379ae252ba6a86a0059f3a5fe",
            "patch": "@@ -62,9 +62,7 @@ describe('Middleware Production Prefetch', () => {\n           )\n           // Check if the filename follows the format `static/chunks/pages/[pagename]-[hash].js`\n           // and specifically targets files containing '/ssg-page-' in their path.\n-          return attrs.find((src) => src.includes('/ssg-page-'))\n-            ? 'yes'\n-            : 'nope'\n+          return attrs.find((src) => src.includes('/ssg-page')) ? 'yes' : 'nope'\n         }, 'yes')\n       })\n \n@@ -76,7 +74,9 @@ describe('Middleware Production Prefetch', () => {\n           const attrs = await Promise.all(\n             scripts.map((script) => script.getAttribute('src'))\n           )\n-          return attrs.find((src) => src.includes('/ssg-page-2-'))\n+          return attrs.find((src) =>\n+            src.includes('/ssg-page-2' + (process.env.NEXT_RSPACK ? '-' : ''))\n+          )\n             ? 'nope'\n             : 'yes'\n         }, 'yes')"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}