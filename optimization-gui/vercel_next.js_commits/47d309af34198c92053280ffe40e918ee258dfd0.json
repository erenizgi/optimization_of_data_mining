{
    "author": "mischnic",
    "message": "Turbopack: remove into() which cells internally (#86548)\n\nThis `.into()` hid the cell creation, we have already removed `.into()` as a shorthand for `Vc::cell`, but this was a manual version of that.\n\nIt could certainly be more ergonomic though:\n```rust\nAssetContent::file(FileContent::Content(File::from(some_str)).cell()),\n```",
    "sha": "47d309af34198c92053280ffe40e918ee258dfd0",
    "files": [
        {
            "sha": "522d0a5ce95131d5c44f0a463ba25e645e4ed6db",
            "filename": "crates/next-api/src/app.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fapp.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fapp.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fapp.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1380,7 +1380,10 @@ impl AppEndpoint {\n                         \"server/app{manifest_path_prefix}/webpack-stats.json\",\n                     ))?,\n                     AssetContent::file(\n-                        File::from(serde_json::to_string_pretty(&webpack_stats)?).into(),\n+                        FileContent::Content(File::from(serde_json::to_string_pretty(\n+                            &webpack_stats,\n+                        )?))\n+                        .cell(),\n                     ),\n                 )\n                 .to_resolved()\n@@ -1909,7 +1912,10 @@ async fn create_app_paths_manifest(\n         VirtualOutputAsset::new(\n             path,\n             AssetContent::file(\n-                File::from(serde_json::to_string_pretty(&app_paths_manifest)?).into(),\n+                FileContent::Content(File::from(serde_json::to_string_pretty(\n+                    &app_paths_manifest,\n+                )?))\n+                .cell(),\n             ),\n         )\n         .to_resolved()"
        },
        {
            "sha": "5eedf4df5d2526a2610a46ed9c862daf71333bff",
            "filename": "crates/next-api/src/font.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Ffont.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Ffont.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Ffont.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -2,7 +2,7 @@ use anyhow::Result;\n use next_core::next_manifests::NextFontManifest;\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, Vc};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     output::{OutputAsset, OutputAssets, OutputAssetsReference},\n@@ -94,7 +94,10 @@ impl Asset for FontManifest {\n         };\n \n         Ok(AssetContent::file(\n-            File::from(serde_json::to_string_pretty(&next_font_manifest)?).into(),\n+            FileContent::Content(File::from(serde_json::to_string_pretty(\n+                &next_font_manifest,\n+            )?))\n+            .cell(),\n         ))\n     }\n }"
        },
        {
            "sha": "29511b0fa22c2e3aee3473831c2a17e4e2ddf854",
            "filename": "crates/next-api/src/next_server_nft.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fnext_server_nft.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fnext_server_nft.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fnext_server_nft.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -10,7 +10,9 @@ use turbo_tasks::{\n     NonLocalValue, ResolvedVc, TaskInput, TryFlatJoinIterExt, TryJoinIterExt, Vc,\n     trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::{DirectoryContent, DirectoryEntry, File, FileSystemPath, glob::Glob};\n+use turbo_tasks_fs::{\n+    DirectoryContent, DirectoryEntry, File, FileContent, FileSystemPath, glob::Glob,\n+};\n use turbopack::externals_tracing_module_context;\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n@@ -161,7 +163,9 @@ impl Asset for ServerNftJsonAsset {\n           \"files\": server_output_assets\n         });\n \n-        Ok(AssetContent::file(File::from(json.to_string()).into()))\n+        Ok(AssetContent::file(\n+            FileContent::Content(File::from(json.to_string())).cell(),\n+        ))\n     }\n }\n "
        },
        {
            "sha": "3b613dbd3a4f147d5a8abd8258536c22372ee7dd",
            "filename": "crates/next-api/src/nft_json.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fnft_json.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fnft_json.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fnft_json.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -9,7 +9,7 @@ use turbo_tasks::{\n     graph::{AdjacencyMap, GraphTraversal, Visit, VisitControlFlow},\n };\n use turbo_tasks_fs::{\n-    DirectoryEntry, File, FileSystem, FileSystemPath,\n+    DirectoryEntry, File, FileContent, FileSystem, FileSystemPath,\n     glob::{Glob, GlobOptions},\n };\n use turbopack_core::{\n@@ -349,7 +349,9 @@ impl Asset for NftJsonAsset {\n               \"files\": result\n             });\n \n-            Ok(AssetContent::file(File::from(json.to_string()).into()))\n+            Ok(AssetContent::file(\n+                FileContent::Content(File::from(json.to_string())).cell(),\n+            ))\n         }\n         .instrument(span)\n         .await"
        },
        {
            "sha": "0108e61387dc6babeb5de01492d526f222047357",
            "filename": "crates/next-api/src/pages.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fpages.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fpages.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fpages.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1212,7 +1212,10 @@ impl PageEndpoint {\n             node_root.join(&format!(\n                 \"server/pages{manifest_path_prefix}/pages-manifest.json\",\n             ))?,\n-            AssetContent::file(File::from(serde_json::to_string_pretty(&pages_manifest)?).into()),\n+            AssetContent::file(\n+                FileContent::Content(File::from(serde_json::to_string_pretty(&pages_manifest)?))\n+                    .cell(),\n+            ),\n         ));\n         Ok(asset)\n     }\n@@ -1384,7 +1387,8 @@ impl PageEndpoint {\n                     \"server/pages{manifest_path_prefix}/webpack-stats.json\",\n                 ))?,\n                 AssetContent::file(\n-                    File::from(serde_json::to_string_pretty(&webpack_stats)?).into(),\n+                    FileContent::Content(File::from(serde_json::to_string_pretty(&webpack_stats)?))\n+                        .cell(),\n                 ),\n             )\n             .to_resolved()"
        },
        {
            "sha": "4c4aa036438abbd1a61ca20acbf08a4cc8821378",
            "filename": "crates/next-api/src/server_actions.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fserver_actions.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-api%2Fsrc%2Fserver_actions.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fserver_actions.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -20,7 +20,7 @@ use swc_core::{\n };\n use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{FxIndexMap, ResolvedVc, TryFlatJoinIterExt, Vc};\n-use turbo_tasks_fs::{self, File, FileSystemPath, rope::RopeBuilder};\n+use turbo_tasks_fs::{self, File, FileContent, FileSystemPath, rope::RopeBuilder};\n use turbopack_core::{\n     asset::AssetContent,\n     chunk::{\n@@ -127,7 +127,7 @@ pub(crate) async fn build_server_actions_loader(\n     let file = File::from(contents.build());\n     let source = VirtualSource::new_with_ident(\n         AssetIdent::from_path(path).with_modifier(rcstr!(\"server actions loader\")),\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n     let import_map = import_map.into_iter().map(|(k, v)| (v, k)).collect();\n     let module = asset_context\n@@ -209,7 +209,9 @@ async fn build_manifest(\n     Ok(ResolvedVc::upcast(\n         VirtualOutputAsset::new(\n             manifest_path,\n-            AssetContent::file(File::from(serde_json::to_string_pretty(&manifest)?).into()),\n+            AssetContent::file(\n+                FileContent::Content(File::from(serde_json::to_string_pretty(&manifest)?)).cell(),\n+            ),\n         )\n         .to_resolved()\n         .await?,"
        },
        {
            "sha": "8227baff9795b7848dd3ad84045f4867a0fb32f3",
            "filename": "crates/next-core/src/bootstrap.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fbootstrap.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fbootstrap.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fbootstrap.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::{Context, Result, bail};\n use turbo_rcstr::rcstr;\n use turbo_tasks::{FxIndexMap, ResolvedVc, ValueToString, Vc};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::AssetContent,\n     chunk::EvaluatableAsset,\n@@ -76,14 +76,14 @@ pub async fn bootstrap(\n             Vc::upcast(VirtualSource::new(\n                 asset.ident().path().await?.join(\"bootstrap-config.ts\")?,\n                 AssetContent::file(\n-                    File::from(\n+                    FileContent::Content(File::from(\n                         config\n                             .iter()\n                             .map(|(k, v)| format!(\"export const {} = {};\\n\", k, StringifyJs(v)))\n                             .collect::<Vec<_>>()\n                             .join(\"\"),\n-                    )\n-                    .into(),\n+                    ))\n+                    .cell(),\n                 ),\n             )),\n             ReferenceType::Internal(InnerAssets::empty().to_resolved().await?),"
        },
        {
            "sha": "ba4dad8aca1959e24f25db7f7c7d94294f4432cc",
            "filename": "crates/next-core/src/next_app/app_page_entry.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_page_entry.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_page_entry.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_page_entry.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -3,7 +3,7 @@ use std::io::Write;\n use anyhow::Result;\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, Vc, fxindexmap};\n-use turbo_tasks_fs::{self, File, FileSystemPath, rope::RopeBuilder};\n+use turbo_tasks_fs::{self, File, FileContent, FileSystemPath, rope::RopeBuilder};\n use turbopack::ModuleAssetContext;\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n@@ -106,7 +106,7 @@ pub async fn get_app_page_entry(\n     let file = File::from(result.build());\n     let source = VirtualSource::new_with_ident(\n         source.ident().with_query(RcStr::from(format!(\"?{query}\"))),\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     let mut rsc_entry = module_asset_context"
        },
        {
            "sha": "4e1ed6e29793f98045a6bb230f939c220278aea2",
            "filename": "crates/next-core/src/next_app/metadata/image.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmetadata%2Fimage.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmetadata%2Fimage.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmetadata%2Fimage.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -109,7 +109,7 @@ async fn dynamic_image_metadata_with_generator_source(\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--metadata.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))\n@@ -177,7 +177,7 @@ async fn dynamic_image_metadata_without_generator_source(\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--metadata.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))"
        },
        {
            "sha": "58b144856f1798945754eac26b0df93cf2443737",
            "filename": "crates/next-core/src/next_app/metadata/route.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmetadata%2Froute.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmetadata%2Froute.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmetadata%2Froute.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -205,7 +205,7 @@ async fn static_route_source(mode: NextMode, path: FileSystemPath) -> Result<Vc<\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--route-entry.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))\n@@ -259,7 +259,7 @@ async fn dynamic_text_route_source(path: FileSystemPath) -> Result<Vc<Box<dyn So\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--route-entry.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))\n@@ -349,7 +349,7 @@ async fn dynamic_sitemap_route_with_generate_source(\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--route-entry.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))\n@@ -400,7 +400,7 @@ async fn dynamic_sitemap_route_without_generate_source(\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--route-entry.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))\n@@ -484,7 +484,7 @@ async fn dynamic_image_route_with_metadata_source(\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--route-entry.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))\n@@ -518,7 +518,7 @@ async fn dynamic_image_route_without_metadata_source(\n     let file = File::from(code);\n     let source = VirtualSource::new(\n         path.parent().join(&format!(\"{stem}--route-entry.js\"))?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     Ok(Vc::upcast(source))"
        },
        {
            "sha": "35526af5537d8d6aa5ff2de7458420d94c2fcf40",
            "filename": "crates/next-core/src/next_client_reference/ecmascript_client_reference/ecmascript_client_reference_module.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_client_reference%2Fecmascript_client_reference%2Fecmascript_client_reference_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_client_reference%2Fecmascript_client_reference%2Fecmascript_client_reference_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_client_reference%2Fecmascript_client_reference%2Fecmascript_client_reference_module.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -149,7 +149,7 @@ impl EcmascriptClientReferenceModule {\n \n         let code = code.build();\n         let proxy_module_content =\n-            AssetContent::file(File::from(code.source_code().clone()).into());\n+            AssetContent::file(FileContent::Content(File::from(code.source_code().clone())).cell());\n \n         let proxy_source = VirtualSource::new(\n             self.server_ident.path().await?.join("
        },
        {
            "sha": "bd51ee66032e070dda9bb91ab2ca783868fde284",
            "filename": "crates/next-core/src/next_edge/entry.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fentry.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fentry.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fentry.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -2,7 +2,7 @@ use anyhow::Result;\n use indoc::formatdoc;\n use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{ResolvedVc, Vc, fxindexmap};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::AssetContent, context::AssetContext, module::Module, reference_type::ReferenceType,\n     virtual_source::VirtualSource,\n@@ -47,7 +47,7 @@ pub fn wrap_edge_entry(\n     // TODO(alexkirsz) Figure out how to name this virtual asset.\n     let virtual_source = VirtualSource::new(\n         project_root.join(\"edge-wrapper.js\")?,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     );\n \n     let inner_assets = fxindexmap! {"
        },
        {
            "sha": "dc20358107111ca871455ca51ee248e7797299ad",
            "filename": "crates/next-core/src/next_edge/unsupported.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Funsupported.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Funsupported.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Funsupported.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use indoc::formatdoc;\n use turbo_tasks::{ResolvedVc, Vc};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::AssetContent,\n     ident::AssetIdent,\n@@ -69,7 +69,7 @@ fn unsupported_module_source(root_path: FileSystemPath, module: Pattern) -> Vc<V\n         \"#,\n         module = module.as_constant_string().map(ToString::to_string).unwrap_or_else(|| module.describe_as_string()),\n     };\n-    let content = AssetContent::file(File::from(code).into());\n+    let content = AssetContent::file(FileContent::Content(File::from(code)).cell());\n     VirtualSource::new_with_ident(\n         AssetIdent::from_path(root_path).with_modifier(\n             format!(\"unsupported edge import {}\", module.describe_as_string()).into(),"
        },
        {
            "sha": "c2ef222103803ff1293582b4bb7c63e869a3b98c",
            "filename": "crates/next-core/src/next_font/google/mod.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_font%2Fgoogle%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_font%2Fgoogle%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_font%2Fgoogle%2Fmod.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -738,14 +738,14 @@ async fn get_mock_stylesheet(\n     let loader_source = Vc::upcast(VirtualSource::new(\n         loader_path.clone(),\n         AssetContent::file(\n-            File::from(format!(\n+            FileContent::Content(File::from(format!(\n                 \"import data from './{}'; export default function load() {{ return data; }};\",\n                 response_path\n                     .file_name()\n                     .context(\"Must exist\")?\n                     .to_string_lossy(),\n-            ))\n-            .into(),\n+            )))\n+            .cell(),\n         ),\n     ));\n     let mocked_response_asset = asset_context"
        },
        {
            "sha": "58d40c1a65f0fa17c866f28fdf1ac1faf9ab1952",
            "filename": "crates/next-core/src/next_manifests/client_reference_manifest.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fclient_reference_manifest.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fclient_reference_manifest.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fclient_reference_manifest.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -9,7 +9,7 @@ use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{\n     FxIndexMap, FxIndexSet, ResolvedVc, TryFlatJoinIterExt, TryJoinIterExt, ValueToString, Vc,\n };\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::{ChunkingContext, ModuleChunkItemIdExt, ModuleId as TurbopackModuleId},\n@@ -466,15 +466,15 @@ async fn build_manifest(\n         let normalized_manifest_entry = entry_name.replace(\"%5F\", \"_\");\n         Ok(ClientReferenceManifestResult {\n             content: AssetContent::file(\n-                File::from(formatdoc! {\n+                FileContent::Content(File::from(formatdoc! {\n                     r#\"\n                         globalThis.__RSC_MANIFEST = globalThis.__RSC_MANIFEST || {{}};\n                         globalThis.__RSC_MANIFEST[{entry_name}] = {manifest}\n                     \"#,\n                     entry_name = StringifyJs(&normalized_manifest_entry),\n                     manifest = &client_reference_manifest_json\n-                })\n-                .into(),\n+                }))\n+                .cell(),\n             )\n             .to_resolved()\n             .await?,"
        },
        {
            "sha": "e30f75f256fa05634425be88d280029da6621190",
            "filename": "crates/next-core/src/next_manifests/mod.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fmod.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -10,7 +10,7 @@ use turbo_tasks::{\n     FxIndexMap, NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryFlatJoinIterExt, TryJoinIterExt,\n     Vc, trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     output::{OutputAsset, OutputAssets, OutputAssetsReference, OutputAssetsWithReferenced},\n@@ -153,7 +153,7 @@ impl Asset for BuildManifest {\n         };\n \n         Ok(AssetContent::file(\n-            File::from(serde_json::to_string_pretty(&manifest)?).into(),\n+            FileContent::Content(File::from(serde_json::to_string_pretty(&manifest)?)).cell(),\n         ))\n     }\n }\n@@ -210,7 +210,7 @@ impl Asset for ClientBuildManifest {\n             .collect();\n \n         Ok(AssetContent::file(\n-            File::from(serde_json::to_string_pretty(&manifest)?).into(),\n+            FileContent::Content(File::from(serde_json::to_string_pretty(&manifest)?)).cell(),\n         ))\n     }\n }"
        },
        {
            "sha": "955acda553c44e8439120e76b859ad1a43ffe071",
            "filename": "crates/next-core/src/next_pages/page_entry.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_pages%2Fpage_entry.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fnext_pages%2Fpage_entry.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_pages%2Fpage_entry.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -4,7 +4,7 @@ use anyhow::{Result, bail};\n use serde::Serialize;\n use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{ResolvedVc, Vc, fxindexmap};\n-use turbo_tasks_fs::{File, FileSystemPath, rope::RopeBuilder};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath, rope::RopeBuilder};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     context::AssetContext,\n@@ -117,7 +117,7 @@ pub async fn create_page_ssr_entry_module(\n \n         source = Vc::upcast(VirtualSource::new_with_ident(\n             source.ident(),\n-            AssetContent::file(file.into()),\n+            AssetContent::file(FileContent::Content(file).cell()),\n         ));\n     }\n "
        },
        {
            "sha": "5cb8caa93fc654692b14991a97ae24187d11f182",
            "filename": "crates/next-core/src/page_loader.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fpage_loader.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Fpage_loader.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fpage_loader.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -45,7 +45,7 @@ pub async fn create_page_loader_entry_module(\n \n     let virtual_source = Vc::upcast(VirtualSource::new(\n         page_loader_path,\n-        AssetContent::file(file.into()),\n+        AssetContent::file(FileContent::Content(file).cell()),\n     ));\n \n     let module = client_context\n@@ -202,6 +202,8 @@ impl Asset for PageLoaderAsset {\n             StringifyJs(&chunks_data)\n         );\n \n-        Ok(AssetContent::file(File::from(content).into()))\n+        Ok(AssetContent::file(\n+            FileContent::Content(File::from(content)).cell(),\n+        ))\n     }\n }"
        },
        {
            "sha": "c46ec8bda89fd4b2c121e1dfbf7ae8aeb81ac4af",
            "filename": "crates/next-core/src/util.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Futil.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/crates%2Fnext-core%2Fsrc%2Futil.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Futil.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -260,8 +260,10 @@ pub async fn load_next_js_template(\n     )?;\n \n     let file = File::from(content);\n-\n-    let source = VirtualSource::new(template_path, AssetContent::file(file.into()));\n+    let source = VirtualSource::new(\n+        template_path,\n+        AssetContent::file(FileContent::Content(file).cell()),\n+    );\n \n     Ok(Vc::upcast(source))\n }"
        },
        {
            "sha": "6cbc30eaac163c1c024e21b7ddb8c6d525ded43b",
            "filename": "turbopack/crates/turbo-tasks-fs/src/embed/file.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fembed%2Ffile.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fembed%2Ffile.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fembed%2Ffile.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -31,7 +31,7 @@ pub async fn content_from_relative_path(\n \n #[turbo_tasks::function]\n pub fn content_from_str(string: RcStr) -> Vc<FileContent> {\n-    File::from(string).into()\n+    FileContent::Content(File::from(string)).cell()\n }\n \n /// Loads a file's content from disk and invalidates on change (debug builds)."
        },
        {
            "sha": "cb2b5dba1c4e0a6e0af05b9a0711b224318ea42c",
            "filename": "turbopack/crates/turbo-tasks-fs/src/embed/fs.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fembed%2Ffs.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fembed%2Ffs.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fembed%2Ffs.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -31,7 +31,7 @@ impl FileSystem for EmbeddedFileSystem {\n             None => return Ok(FileContent::NotFound.cell()),\n         };\n \n-        Ok(File::from(file.contents()).into())\n+        Ok(FileContent::Content(File::from(file.contents())).cell())\n     }\n \n     #[turbo_tasks::function]"
        },
        {
            "sha": "e9f575c565cfca77a3844deb6ebc70b559df0d07",
            "filename": "turbopack/crates/turbo-tasks-fs/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1763,13 +1763,6 @@ impl From<File> for FileContent {\n     }\n }\n \n-// TODO remove this, it hides cell creation\n-impl From<File> for Vc<FileContent> {\n-    fn from(file: File) -> Self {\n-        FileContent::Content(file).cell()\n-    }\n-}\n-\n #[derive(Clone, Debug, Eq, PartialEq)]\n enum FileComparison {\n     Create,"
        },
        {
            "sha": "d9869bdc5181f90191b8dc2f9e0c5c189bbdeb9e",
            "filename": "turbopack/crates/turbopack-analyze/tests/split_chunk.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-analyze%2Ftests%2Fsplit_chunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-analyze%2Ftests%2Fsplit_chunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-analyze%2Ftests%2Fsplit_chunk.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -124,7 +124,7 @@ impl Asset for TestAsset {\n     #[turbo_tasks::function]\n     async fn content(&self) -> Result<Vc<AssetContent>> {\n         Ok(AssetContent::file(\n-            File::from(self.code.await?.source_code().clone()).into(),\n+            FileContent::Content(File::from(self.code.await?.source_code().clone())).cell(),\n         ))\n     }\n }"
        },
        {
            "sha": "8193a07ee87553547312998051bf58395b2c5e67",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/content.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -140,12 +140,12 @@ impl VersionedContent for EcmascriptBrowserChunkContent {\n         let this = self.await?;\n \n         Ok(AssetContent::file(\n-            File::from(\n+            FileContent::Content(File::from(\n                 self.code()\n                     .to_rope_with_magic_comments(|| *this.source_map)\n                     .await?,\n-            )\n-            .into(),\n+            ))\n+            .cell(),\n         ))\n     }\n "
        },
        {
            "sha": "e72be41a3d2c8f29c1d25e778a536ae8068e8d99",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/evaluate/chunk.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -286,12 +286,12 @@ impl Asset for EcmascriptBrowserEvaluateChunk {\n     #[turbo_tasks::function]\n     async fn content(self: Vc<Self>) -> Result<Vc<AssetContent>> {\n         Ok(AssetContent::file(\n-            File::from(\n+            FileContent::Content(File::from(\n                 self.code()\n                     .to_rope_with_magic_comments(|| self.source_map())\n                     .await?,\n-            )\n-            .into(),\n+            ))\n+            .cell(),\n         ))\n     }\n }"
        },
        {
            "sha": "055a6aff89efb2d86200a225a2a2d3416073a035",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/list/content.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Flist%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Flist%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Flist%2Fcontent.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -8,7 +8,7 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{\n     FxIndexMap, IntoTraitRef, NonLocalValue, ResolvedVc, TryJoinIterExt, Vc, trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::File;\n+use turbo_tasks_fs::{File, FileContent};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::ChunkingContext,\n@@ -177,7 +177,7 @@ impl VersionedContent for EcmascriptDevChunkListContent {\n     async fn content(self: Vc<Self>) -> Result<Vc<AssetContent>> {\n         let code = self.code().await?;\n         Ok(AssetContent::file(\n-            File::from(code.source_code().clone()).into(),\n+            FileContent::Content(File::from(code.source_code().clone())).cell(),\n         ))\n     }\n "
        },
        {
            "sha": "eb41b2e242c2512935c505c1af24d01c4f977a29",
            "filename": "turbopack/crates/turbopack-core/src/code_builder.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fcode_builder.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fcode_builder.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fcode_builder.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -260,7 +260,7 @@ impl GenerateSourceMap for Code {\n     #[turbo_tasks::function]\n     pub async fn generate_source_map(self: ResolvedVc<Self>) -> Result<Vc<FileContent>> {\n         let debug_id = self.debug_id().owned().await?;\n-        Ok(File::from(self.await?.generate_source_map_ref(debug_id)).into())\n+        Ok(FileContent::Content(File::from(self.await?.generate_source_map_ref(debug_id))).cell())\n     }\n }\n "
        },
        {
            "sha": "305a7380cb08c757cb76393d2cbe8f8e9185e102",
            "filename": "turbopack/crates/turbopack-core/src/reference/source_map.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Freference%2Fsource_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Freference%2Fsource_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Freference%2Fsource_map.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -63,7 +63,7 @@ impl GenerateSourceMap for SourceMapReference {\n         let content = file.read().await?;\n         let content = content.as_content().map(|file| file.content());\n         if let Some(source_map) = resolve_source_map_sources(content, &self.from).await? {\n-            Ok(File::from(source_map).into())\n+            Ok(FileContent::Content(File::from(source_map)).cell())\n         } else {\n             Ok(FileContent::NotFound.cell())\n         }"
        },
        {
            "sha": "3eca3f76c698f92577471854ecf9ce00f6602061",
            "filename": "turbopack/crates/turbopack-core/src/source_map/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fsource_map%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fsource_map%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fsource_map%2Fmod.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -626,7 +626,7 @@ impl SourceMap {\n impl GenerateSourceMap for SourceMap {\n     #[turbo_tasks::function]\n     fn generate_source_map(&self) -> Result<Vc<FileContent>> {\n-        Ok(File::from(self.to_rope()?).into())\n+        Ok(FileContent::Content(File::from(self.to_rope()?)).cell())\n     }\n }\n "
        },
        {
            "sha": "d6acb8b8c3ba7e3ded45c90071424d3025e18fa1",
            "filename": "turbopack/crates/turbopack-core/src/source_map/source_map_asset.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fsource_map%2Fsource_map_asset.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fsource_map%2Fsource_map_asset.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fsource_map%2Fsource_map_asset.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -5,7 +5,7 @@ use turbo_tasks::{\n     FxIndexSet, NonLocalValue, ResolvedVc, ValueToString, Vc, debug::ValueDebugFormat,\n     trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n \n use crate::{\n     asset::{Asset, AssetContent},\n@@ -103,7 +103,7 @@ impl Asset for SourceMapAsset {\n             Ok(AssetContent::file(content))\n         } else {\n             Ok(AssetContent::file(\n-                File::from(SourceMap::empty_rope()).into(),\n+                FileContent::Content(File::from(SourceMap::empty_rope())).cell(),\n             ))\n         }\n     }"
        },
        {
            "sha": "d8ffebcffc4ff0498ec03e72265135a90c887d59",
            "filename": "turbopack/crates/turbopack-css/src/chunk/mod.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -159,7 +159,9 @@ impl CssChunk {\n             code.source_code().clone()\n         };\n \n-        Ok(AssetContent::file(File::from(rope).into()))\n+        Ok(AssetContent::file(\n+            FileContent::Content(File::from(rope)).cell(),\n+        ))\n     }\n \n     #[turbo_tasks::function]"
        },
        {
            "sha": "8ca269fc927b62a19f5b57c5ddf6dc0c568ca101",
            "filename": "turbopack/crates/turbopack-css/src/chunk/single_item_chunk/chunk.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -160,7 +160,9 @@ impl Asset for SingleItemCssChunk {\n             code.source_code().clone()\n         };\n \n-        Ok(AssetContent::file(File::from(rope).into()))\n+        Ok(AssetContent::file(\n+            FileContent::Content(File::from(rope)).cell(),\n+        ))\n     }\n }\n "
        },
        {
            "sha": "e3a075a910e181f90a926563ac13f57274ca28ce",
            "filename": "turbopack/crates/turbopack-css/src/chunk/single_item_chunk/source_map.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fsource_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fsource_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fsource_map.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use turbo_rcstr::rcstr;\n use turbo_tasks::{ResolvedVc, Vc};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::ChunkingContext,\n@@ -58,7 +58,7 @@ impl Asset for SingleItemCssChunkSourceMapAsset {\n             Ok(AssetContent::file(content))\n         } else {\n             Ok(AssetContent::file(\n-                File::from(SourceMap::empty_rope()).into(),\n+                FileContent::Content(File::from(SourceMap::empty_rope())).cell(),\n             ))\n         }\n     }"
        },
        {
            "sha": "481b3ccfa2a9455ebb1c2fbe233d83b48045af50",
            "filename": "turbopack/crates/turbopack-css/src/chunk/source_map.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsource_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsource_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsource_map.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use turbo_rcstr::rcstr;\n use turbo_tasks::{ResolvedVc, Vc};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::ChunkingContext,\n@@ -54,7 +54,7 @@ impl Asset for CssChunkSourceMapAsset {\n             Ok(AssetContent::file(content))\n         } else {\n             Ok(AssetContent::file(\n-                File::from(SourceMap::empty_rope()).into(),\n+                FileContent::Content(File::from(SourceMap::empty_rope())).cell(),\n             ))\n         }\n     }"
        },
        {
            "sha": "9ff4c61e7a6b0c9917e04f1251656e4ac61c83d9",
            "filename": "turbopack/crates/turbopack-dev-server/src/html.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fhtml.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fhtml.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fhtml.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -5,7 +5,7 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{\n     NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryJoinIterExt, Vc, trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbo_tasks_hash::{Xxh3Hash64Hasher, encode_hex};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n@@ -248,7 +248,7 @@ impl DevHtmlAssetContent {\n         .into();\n \n         Ok(AssetContent::file(\n-            File::from(html).with_content_type(TEXT_HTML_UTF_8).into(),\n+            FileContent::Content(File::from(html).with_content_type(TEXT_HTML_UTF_8)).cell(),\n         ))\n     }\n "
        },
        {
            "sha": "0201241f2d786390e905d8d658a057df91e42256",
            "filename": "turbopack/crates/turbopack-dev-server/src/introspect/mod.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fintrospect%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fintrospect%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fintrospect%2Fmod.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -4,7 +4,7 @@ use anyhow::Result;\n use rustc_hash::FxHashSet;\n use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{ReadRef, ResolvedVc, TryJoinIterExt, Vc};\n-use turbo_tasks_fs::{File, json::parse_json_with_source_context};\n+use turbo_tasks_fs::{File, FileContent, json::parse_json_with_source_context};\n use turbopack_core::{\n     asset::AssetContent,\n     introspect::{Introspectable, IntrospectableChildren},\n@@ -183,9 +183,8 @@ impl GetContentSourceContent for IntrospectionSource {\n         .into();\n         Ok(ContentSourceContent::static_content(\n             AssetContent::file(\n-                File::from(html)\n-                    .with_content_type(mime::TEXT_HTML_UTF_8)\n-                    .into(),\n+                FileContent::Content(File::from(html).with_content_type(mime::TEXT_HTML_UTF_8))\n+                    .cell(),\n             )\n             .versioned(),\n         ))"
        },
        {
            "sha": "74b7e56a1cc118e9d544b333dd5f3cab2f5894f0",
            "filename": "turbopack/crates/turbopack-ecmascript/src/single_file_ecmascript_output.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fsingle_file_ecmascript_output.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fsingle_file_ecmascript_output.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fsingle_file_ecmascript_output.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -94,6 +94,6 @@ impl GenerateSourceMap for SingleFileEcmascriptOutput {\n         );\n \n         let map = generate_js_source_map(&*sm, mappings, None::<&Rope>, true, true)?;\n-        Ok(File::from(map).into())\n+        Ok(FileContent::Content(File::from(map)).cell())\n     }\n }"
        },
        {
            "sha": "fb8519c74333b91db17c5b969c05bc593ae695af",
            "filename": "turbopack/crates/turbopack-ecmascript/src/source_map.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fsource_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fsource_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fsource_map.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -31,7 +31,7 @@ impl GenerateSourceMap for InlineSourceMap {\n         if let Some(source_map) =\n             resolve_source_map_sources(source_map.as_ref(), &self.origin_path).await?\n         {\n-            Ok(File::from(source_map).into())\n+            Ok(FileContent::Content(File::from(source_map)).cell())\n         } else {\n             Ok(FileContent::NotFound.cell())\n         }"
        },
        {
            "sha": "4f304a1ef069cdc7dbb4bcb43021c13c944afc9a",
            "filename": "turbopack/crates/turbopack-env/src/asset.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-env%2Fsrc%2Fasset.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-env%2Fsrc%2Fasset.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-env%2Fsrc%2Fasset.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -3,7 +3,7 @@ use std::io::Write;\n use anyhow::Result;\n use turbo_tasks::{ResolvedVc, Vc};\n use turbo_tasks_env::ProcessEnv;\n-use turbo_tasks_fs::{File, FileSystemPath, rope::RopeBuilder};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath, rope::RopeBuilder};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     ident::AssetIdent,\n@@ -59,6 +59,8 @@ impl Asset for ProcessEnvAsset {\n             writeln!(code, \"env[{}] = {};\", StringifyJs(name), val)?;\n         }\n \n-        Ok(AssetContent::file(File::from(code.build()).into()))\n+        Ok(AssetContent::file(\n+            FileContent::Content(File::from(code.build())).cell(),\n+        ))\n     }\n }"
        },
        {
            "sha": "c771f6e4bbd25aa4c59389a06450e2d85610fbc9",
            "filename": "turbopack/crates/turbopack-mdx/src/lib.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -173,9 +173,11 @@ impl MdxTransformedAsset {\n \n         match result {\n             Ok(mdx_jsx_component) => Ok(MdxTransformResult {\n-                content: AssetContent::file(File::from(Rope::from(mdx_jsx_component)).into())\n-                    .to_resolved()\n-                    .await?,\n+                content: AssetContent::file(\n+                    FileContent::Content(File::from(Rope::from(mdx_jsx_component))).cell(),\n+                )\n+                .to_resolved()\n+                .await?,\n             }\n             .cell()),\n             Err(err) => {"
        },
        {
            "sha": "e7141b73239b8f18220f3e8269fdd16f9a9bfccd",
            "filename": "turbopack/crates/turbopack-node/src/evaluate.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fevaluate.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fevaluate.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fevaluate.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -10,7 +10,7 @@ use turbo_tasks::{\n     TryJoinIterExt, Vc, duration_span, fxindexmap, get_effects, trace::TraceRawVcs,\n };\n use turbo_tasks_env::{EnvMap, ProcessEnv};\n-use turbo_tasks_fs::{File, FileSystemPath, to_sys_path};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath, to_sys_path};\n use turbopack_core::{\n     asset::AssetContent,\n     changed::content_changed,\n@@ -376,7 +376,10 @@ pub async fn get_evaluate_entries(\n             Vc::upcast(VirtualSource::new(\n                 runtime_asset.ident().path().await?.join(\"evaluate.js\")?,\n                 AssetContent::file(\n-                    File::from(\"import { run } from 'RUNTIME'; run(() => import('INNER'))\").into(),\n+                    FileContent::Content(File::from(\n+                        \"import { run } from 'RUNTIME'; run(() => import('INNER'))\",\n+                    ))\n+                    .cell(),\n                 ),\n             )),\n             ReferenceType::Internal(ResolvedVc::cell(fxindexmap! {"
        },
        {
            "sha": "c9c043ee7cd1cc3010db7fb5a68dfba3b36be6ad",
            "filename": "turbopack/crates/turbopack-node/src/lib.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -5,7 +5,7 @@\n use anyhow::Result;\n use rustc_hash::FxHashMap;\n use turbo_tasks::{ResolvedVc, TryFlatJoinIterExt, Vc};\n-use turbo_tasks_fs::{File, FileSystemPath};\n+use turbo_tasks_fs::{File, FileContent, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     output::{ExpandOutputAssetsInput, OutputAsset, OutputAssets, expand_output_assets},\n@@ -97,7 +97,7 @@ fn emit_package_json(dir: FileSystemPath) -> Result<Vc<()>> {\n     Ok(emit(\n         Vc::upcast(VirtualOutputAsset::new(\n             dir.join(\"package.json\")?,\n-            AssetContent::file(File::from(\"{\\\"type\\\": \\\"commonjs\\\"}\").into()),\n+            AssetContent::file(FileContent::Content(File::from(\"{\\\"type\\\": \\\"commonjs\\\"}\")).cell()),\n         )),\n         dir,\n     ))"
        },
        {
            "sha": "5cbdb1a741d4f8c1867273bb3058334bbeb57b89",
            "filename": "turbopack/crates/turbopack-node/src/transforms/postcss.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fpostcss.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fpostcss.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fpostcss.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -298,7 +298,9 @@ impl Asset for JsonSource {\n                     }\n                     None => &*json,\n                 };\n-                Ok(AssetContent::file(File::from(value.to_string()).into()))\n+                Ok(AssetContent::file(\n+                    FileContent::Content(File::from(value.to_string())).cell(),\n+                ))\n             }\n             FileSystemEntryType::NotFound => {\n                 Ok(AssetContent::File(FileContent::NotFound.resolved_cell()).cell())\n@@ -364,7 +366,7 @@ pub(crate) async fn config_loader_source(\n \n     Ok(Vc::upcast(VirtualSource::new(\n         postcss_config_path.append(\"_.loader.mjs\")?,\n-        AssetContent::file(File::from(code).into()),\n+        AssetContent::file(FileContent::Content(File::from(code)).cell()),\n     )))\n }\n "
        },
        {
            "sha": "851f4cfbe99f524a6abaf9057caa394858951ac2",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/content.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fcontent.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -102,12 +102,12 @@ impl VersionedContent for EcmascriptBuildNodeChunkContent {\n     async fn content(self: Vc<Self>) -> Result<Vc<AssetContent>> {\n         let this = self.await?;\n         Ok(AssetContent::file(\n-            File::from(\n+            FileContent::Content(File::from(\n                 self.code()\n                     .to_rope_with_magic_comments(|| *this.source_map)\n                     .await?,\n-            )\n-            .into(),\n+            ))\n+            .cell(),\n         ))\n     }\n "
        },
        {
            "sha": "99b750a60f5196a3e5c91a05174a3eace704803e",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/entry/chunk.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -213,7 +213,7 @@ impl Asset for EcmascriptBuildNodeEntryChunk {\n     async fn content(self: Vc<Self>) -> Result<Vc<AssetContent>> {\n         let code = self.code().await?;\n         Ok(AssetContent::file(\n-            File::from(code.source_code().clone()).into(),\n+            FileContent::Content(File::from(code.source_code().clone())).cell(),\n         ))\n     }\n }"
        },
        {
            "sha": "a494c409124ae5a12e739664c9fce4ce7c19c25a",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/entry/runtime.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fruntime.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fruntime.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fruntime.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -158,12 +158,12 @@ impl Asset for EcmascriptBuildNodeRuntimeChunk {\n     #[turbo_tasks::function]\n     async fn content(self: Vc<Self>) -> Result<Vc<AssetContent>> {\n         Ok(AssetContent::file(\n-            File::from(\n+            FileContent::Content(File::from(\n                 self.code()\n                     .to_rope_with_magic_comments(|| self.source_map())\n                     .await?,\n-            )\n-            .into(),\n+            ))\n+            .cell(),\n         ))\n     }\n }"
        },
        {
            "sha": "0ce4dae65bdd5281b892184df0ac484306a4c63c",
            "filename": "turbopack/crates/turbopack-test-utils/src/snapshot.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-test-utils%2Fsrc%2Fsnapshot.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-test-utils%2Fsrc%2Fsnapshot.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-test-utils%2Fsrc%2Fsnapshot.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -73,7 +73,7 @@ pub async fn snapshot_issues<I: IntoIterator<Item = ReadRef<PlainIssue>>>(\n             .replace(\"\\\\\\\\\", \"/\")\n             .into();\n \n-        let asset = AssetContent::file(File::from(content).into());\n+        let asset = AssetContent::file(FileContent::Content(File::from(content)).cell());\n \n         diff(path, asset).await?;\n     }\n@@ -127,7 +127,7 @@ pub async fn diff(path: FileSystemPath, actual: Vc<AssetContent>) -> Result<()>\n     if actual != expected {\n         if let Some(actual) = actual {\n             if *UPDATE {\n-                let content = File::from(RcStr::from(actual)).into();\n+                let content = FileContent::Content(File::from(RcStr::from(actual))).cell();\n                 path.write(content).await?;\n                 println!(\"updated contents of {path_str}\");\n             } else {"
        },
        {
            "sha": "e3d67e4c45336b1edeeabb813dbf8c264d1ee8a7",
            "filename": "turbopack/crates/turbopack-wasm/src/loader.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Floader.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Floader.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Floader.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -4,7 +4,7 @@ use anyhow::Result;\n use indoc::{formatdoc, writedoc};\n use turbo_rcstr::RcStr;\n use turbo_tasks::Vc;\n-use turbo_tasks_fs::File;\n+use turbo_tasks_fs::{File, FileContent};\n use turbopack_core::{asset::AssetContent, source::Source, virtual_source::VirtualSource};\n use turbopack_ecmascript::utils::StringifyJs;\n \n@@ -57,7 +57,7 @@ pub(crate) async fn instantiating_loader_source(\n \n     Ok(Vc::upcast(VirtualSource::new(\n         source.ident().path().await?.append(\"_.loader.mjs\")?,\n-        AssetContent::file(File::from(code).into()),\n+        AssetContent::file(FileContent::Content(File::from(code)).cell()),\n     )))\n }\n \n@@ -81,6 +81,6 @@ pub(crate) async fn compiling_loader_source(\n \n     Ok(Vc::upcast(VirtualSource::new(\n         source.ident().path().await?.append(\"_.loader.mjs\")?,\n-        AssetContent::file(File::from(code).into()),\n+        AssetContent::file(FileContent::Content(File::from(code)).cell()),\n     )))\n }"
        },
        {
            "sha": "c76fea76290a957e9f928f712485561a668ff6b8",
            "filename": "turbopack/crates/turbopack-wasm/src/source.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Fsource.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/47d309af34198c92053280ffe40e918ee258dfd0/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Fsource.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Fsource.rs?ref=47d309af34198c92053280ffe40e918ee258dfd0",
            "patch": "@@ -79,6 +79,8 @@ impl Asset for WebAssemblySource {\n         let bytes = file.content().to_bytes();\n         let parsed = wat::parse_bytes(&bytes)?;\n \n-        Ok(AssetContent::file(File::from(&*parsed).into()))\n+        Ok(AssetContent::file(\n+            FileContent::Content(File::from(&*parsed)).cell(),\n+        ))\n     }\n }"
        }
    ],
    "stats": {
        "total": 250,
        "additions": 141,
        "deletions": 109
    }
}