{
    "author": "sokra",
    "message": "Turbopack: disable pages dir css test cases (#77380)\n\n### What?\n\nDisable these test cases until we have a css chunking implementation for\npages router too",
    "sha": "8f2e16dd4cc21a8edbe5f941e82625d3657751a0",
    "files": [
        {
            "sha": "967394e9b1633aead2794ca3980f11326408c0af",
            "filename": "test/e2e/app-dir/css-order/css-order.test.ts",
            "status": "modified",
            "additions": 31,
            "deletions": 3,
            "changes": 34,
            "blob_url": "https://github.com/vercel/next.js/blob/8f2e16dd4cc21a8edbe5f941e82625d3657751a0/test%2Fe2e%2Fapp-dir%2Fcss-order%2Fcss-order.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8f2e16dd4cc21a8edbe5f941e82625d3657751a0/test%2Fe2e%2Fapp-dir%2Fcss-order%2Fcss-order.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcss-order%2Fcss-order.test.ts?ref=8f2e16dd4cc21a8edbe5f941e82625d3657751a0",
            "patch": "@@ -25,6 +25,7 @@ const PAGES: Record<\n     color: string\n     background?: string\n     conflict?: boolean\n+    conflictTurbo?: boolean\n     brokenLoading?: boolean\n     brokenLoadingDev?: boolean\n   }\n@@ -153,20 +154,26 @@ const PAGES: Record<\n   'pages-reversed-a': {\n     group: 'pages-reversed',\n     brokenLoadingDev: true,\n+    // TODO Turbopack can support this case with a pages dir css chunking\n+    conflictTurbo: true,\n     url: '/pages/reversed/a',\n     selector: '#hellora',\n     color: 'rgb(0, 166, 255)',\n   },\n   'pages-reversed-b': {\n     group: 'pages-reversed',\n     brokenLoadingDev: true,\n+    // TODO Turbopack can support this case with a pages dir css chunking\n+    conflictTurbo: true,\n     url: '/pages/reversed/b',\n     selector: '#hellorb',\n     color: 'rgb(0, 89, 255)',\n   },\n   'pages-partial-reversed-a': {\n     group: 'pages-partial-reversed',\n     brokenLoadingDev: true,\n+    // TODO Turbopack can support this case with a pages dir css chunking\n+    conflictTurbo: true,\n     url: '/pages/partial-reversed/a',\n     selector: '#hellopra',\n     color: 'rgb(255, 166, 255)',\n@@ -175,6 +182,8 @@ const PAGES: Record<\n   'pages-partial-reversed-b': {\n     group: 'pages-partial-reversed',\n     brokenLoadingDev: true,\n+    // TODO Turbopack can support this case with a pages dir css chunking\n+    conflictTurbo: true,\n     url: '/pages/partial-reversed/b',\n     selector: '#helloprb',\n     color: 'rgb(255, 55, 255)',\n@@ -232,7 +241,15 @@ describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', true])(\n       const name = `should load correct styles navigating back again ${ordering.join(\n         ' -> '\n       )} -> ${ordering.join(' -> ')}`\n-      if (ordering.some((page) => PAGES[page].conflict)) {\n+      if (\n+        ordering\n+          .map((page) => PAGES[page])\n+          .some((page) =>\n+            mode === 'turbo'\n+              ? page.conflictTurbo || page.conflict\n+              : page.conflict\n+          )\n+      ) {\n         // Conflict scenarios won't support that case\n         continue\n       }\n@@ -285,7 +302,15 @@ describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', 'loose'])(\n       const name = `should load correct styles navigating ${ordering.join(\n         ' -> '\n       )}`\n-      if (ordering.some((page) => PAGES[page].conflict)) {\n+      if (\n+        ordering\n+          .map((page) => PAGES[page])\n+          .some((page) =>\n+            mode === 'turbo'\n+              ? page.conflictTurbo || page.conflict\n+              : page.conflict\n+          )\n+      ) {\n         // Conflict scenarios won't support that case\n         continue\n       }\n@@ -328,7 +353,10 @@ describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', 'loose'])(\n     const { next } = nextTestSetup(options(mode))\n     for (const [page, pageInfo] of Object.entries(PAGES)) {\n       const name = `should load correct styles on ${page}`\n-      if (mode !== 'strict' && pageInfo.conflict) {\n+      if (\n+        (mode !== 'strict' && pageInfo.conflict) ||\n+        (mode === 'turbo' && pageInfo.conflictTurbo)\n+      ) {\n         // Conflict scenarios won't support that case\n         continue\n       }"
        },
        {
            "sha": "09f14c4ed15864dddeb90f5e84e2b5214c27fd0c",
            "filename": "test/turbopack-build-tests-manifest.json",
            "status": "modified",
            "additions": 1,
            "deletions": 14,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/8f2e16dd4cc21a8edbe5f941e82625d3657751a0/test%2Fturbopack-build-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/8f2e16dd4cc21a8edbe5f941e82625d3657751a0/test%2Fturbopack-build-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fturbopack-build-tests-manifest.json?ref=8f2e16dd4cc21a8edbe5f941e82625d3657751a0",
            "patch": "@@ -1616,27 +1616,14 @@\n       \"css-order turbo should load correct styles on pages-first\",\n       \"css-order turbo should load correct styles on pages-interleaved-a\",\n       \"css-order turbo should load correct styles on pages-interleaved-b\",\n-      \"css-order turbo should load correct styles on pages-partial-reversed-a\",\n-      \"css-order turbo should load correct styles on pages-reversed-a\",\n       \"css-order turbo should load correct styles on pages-second\",\n       \"css-order turbo should load correct styles on pages-third\",\n       \"css-order turbo should load correct styles on second\",\n       \"css-order turbo should load correct styles on second-client\",\n       \"css-order turbo should load correct styles on third\",\n       \"css-order turbo should load correct styles on vendor\"\n     ],\n-    \"failed\": [\n-      \"css-order turbo should load correct styles navigating back again pages-partial-reversed-a -> pages-partial-reversed-b -> pages-partial-reversed-a -> pages-partial-reversed-b\",\n-      \"css-order turbo should load correct styles navigating back again pages-partial-reversed-b -> pages-partial-reversed-a -> pages-partial-reversed-b -> pages-partial-reversed-a\",\n-      \"css-order turbo should load correct styles navigating back again pages-reversed-a -> pages-reversed-b -> pages-reversed-a -> pages-reversed-b\",\n-      \"css-order turbo should load correct styles navigating back again pages-reversed-b -> pages-reversed-a -> pages-reversed-b -> pages-reversed-a\",\n-      \"css-order turbo should load correct styles navigating pages-partial-reversed-a -> pages-partial-reversed-b\",\n-      \"css-order turbo should load correct styles navigating pages-partial-reversed-b -> pages-partial-reversed-a\",\n-      \"css-order turbo should load correct styles navigating pages-reversed-a -> pages-reversed-b\",\n-      \"css-order turbo should load correct styles navigating pages-reversed-b -> pages-reversed-a\",\n-      \"css-order turbo should load correct styles on pages-partial-reversed-b\",\n-      \"css-order turbo should load correct styles on pages-reversed-b\"\n-    ],\n+    \"failed\": [],\n     \"pending\": [\n       \"css-order turbo should load correct styles navigating back again big-interleaved-a -> big-interleaved-b -> big-interleaved-a -> big-interleaved-b\",\n       \"css-order turbo should load correct styles navigating back again big-interleaved-b -> big-interleaved-a -> big-interleaved-b -> big-interleaved-a\","
        }
    ],
    "stats": {
        "total": 49,
        "additions": 32,
        "deletions": 17
    }
}