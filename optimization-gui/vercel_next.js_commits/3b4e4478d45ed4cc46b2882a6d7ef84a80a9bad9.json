{
    "author": "eps1lon",
    "message": "Use ESLint Flat Config (#84800)",
    "sha": "3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
    "files": [
        {
            "sha": "b9bda80eb90d7f98f6dc3084a19ecafdbf973780",
            "filename": ".config/eslintignore.mjs",
            "status": "added",
            "additions": 58,
            "deletions": 0,
            "changes": 58,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/.config%2Feslintignore.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/.config%2Feslintignore.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.config%2Feslintignore.mjs?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -0,0 +1,58 @@\n+import { globalIgnores } from 'eslint/config'\n+\n+export default globalIgnores([\n+  '**/.*/**/*', // Default of ESLint legacy config\n+  '**/node_modules',\n+  '**/.next/**/*',\n+  '**/_next/**/*',\n+  '**/.vscode/**/*',\n+  '**/dist/**/*',\n+  'e2e-tests/**/*',\n+  'examples/cms-sanity/sanity.types.ts',\n+  'examples/with-eslint/**/*',\n+  'examples/with-typescript-eslint-jest/**/*',\n+  'examples/with-kea/**/*',\n+  'examples/with-custom-babel-config/**/*',\n+  'examples/with-flow/**/*',\n+  'examples/with-jest/**/*',\n+  'examples/with-mobx-state-tree/**/*',\n+  'examples/with-mobx/**/*',\n+  'examples/with-tigris/db/models/todoItems.ts',\n+  'packages/next/src/bundles/webpack/packages/*.runtime.js',\n+  'packages/next/src/bundles/webpack/packages/lazy-compilation-*.js',\n+  'packages/next/src/compiled/**/*',\n+  'packages/next/wasm/@next',\n+  'packages/react-refresh-utils/**/*.js',\n+  'packages/react-dev-overlay/lib/**/*',\n+  '**/__tmp__/**/*',\n+  '.github/actions/next-stats-action/.work',\n+  'packages/next-codemod/transforms/__testfixtures__/**/*',\n+  'packages/next-codemod/transforms/__tests__/**/*',\n+  'packages/next-codemod/bin/__testfixtures__/**/*',\n+  'packages/next-codemod/**/*.js',\n+  'packages/next-codemod/**/*.d.ts',\n+  'packages/next-env/**/*.d.ts',\n+  'packages/create-next-app/templates/**/*',\n+  'test/integration/eslint/**/*.js',\n+  'test/integration/script-loader/**/*.js',\n+  'test/development/basic/legacy-decorators/**/*.js',\n+  'test/production/emit-decorator-metadata/**/*.js',\n+  '!test/**/*.test.*',\n+  'test/e2e/app-dir/rsc-errors/app/swc/use-client/page.js',\n+  '**/test-timings.json',\n+  'crates/**/*',\n+  'bench/nested-deps/**/*',\n+  'bench/nested-deps-app-router/**/*',\n+  'bench/heavy-npm-deps/**/*',\n+  'packages/next-bundle-analyzer/index.d.ts',\n+  'examples/with-typescript-graphql/lib/gql/',\n+  'test/development/basic/hmr/components/parse-error.js',\n+  'test/development/mcp-server/fixtures/default-template/app/build-error/page.tsx',\n+  'packages/next-swc/docs/assets/**/*',\n+  'test/e2e/app-dir/server-source-maps/fixtures/default/internal-pkg/sourcemapped.js',\n+  'test/e2e/app-dir/server-source-maps/fixtures/default/external-pkg/sourcemapped.js',\n+  'test/development/next-lint-eslint-formatter-compact/**/*.js',\n+  'test/e2e/app-dir/app-external/app/mixed/import/mixed-mod.mjs',\n+  'turbopack/crates/*/tests/**/*',\n+  'turbopack/crates/*/js/src/compiled',\n+])"
        },
        {
            "sha": "0e3c720bc136be9ef0f6b82c2ff68fa3c16ffe74",
            "filename": ".eslintignore",
            "status": "removed",
            "additions": 0,
            "deletions": 55,
            "changes": 55,
            "blob_url": "https://github.com/vercel/next.js/blob/0720d7c0d20283c31b0a8a97a8195daa53493ee1/.eslintignore",
            "raw_url": "https://github.com/vercel/next.js/raw/0720d7c0d20283c31b0a8a97a8195daa53493ee1/.eslintignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.eslintignore?ref=0720d7c0d20283c31b0a8a97a8195daa53493ee1",
            "patch": "@@ -1,55 +0,0 @@\n-node_modules\n-**/.next/**\n-**/_next/**\n-**/.vscode/**\n-**/dist/**\n-e2e-tests/**\n-examples/cms-sanity/sanity.types.ts\n-examples/with-eslint/**\n-examples/with-typescript-eslint-jest/**\n-examples/with-kea/**\n-examples/with-custom-babel-config/**\n-examples/with-flow/**\n-examples/with-jest/**\n-examples/with-mobx-state-tree/**\n-examples/with-mobx/**\n-examples/with-tigris/db/models/todoItems.ts\n-packages/next/src/bundles/webpack/packages/*.runtime.js\n-packages/next/src/bundles/webpack/packages/lazy-compilation-*.js\n-packages/next/src/compiled/**/*\n-packages/next/wasm/@next\n-packages/react-refresh-utils/**/*.js\n-packages/react-dev-overlay/lib/**\n-**/__tmp__/**\n-.github/actions/next-stats-action/.work\n-packages/next-codemod/transforms/__testfixtures__/**/*\n-packages/next-codemod/transforms/__tests__/**/*\n-packages/next-codemod/bin/__testfixtures__/**/*\n-packages/next-codemod/**/*.js\n-packages/next-codemod/**/*.d.ts\n-packages/next-env/**/*.d.ts\n-packages/create-next-app/templates/**\n-test/integration/eslint/**/*.js\n-test/integration/script-loader/**/*.js\n-test/development/basic/legacy-decorators/**/*.js\n-test/production/emit-decorator-metadata/**/*.js\n-!test/**/*.test.*\n-test/e2e/app-dir/rsc-errors/app/swc/use-client/page.js\n-test-timings.json\n-crates/**\n-bench/nested-deps/**\n-bench/nested-deps-app-router/**\n-bench/heavy-npm-deps/**\n-packages/next-bundle-analyzer/index.d.ts\n-examples/with-typescript-graphql/lib/gql/\n-test/development/basic/hmr/components/parse-error.js\n-test/development/mcp-server/fixtures/default-template/app/build-error/page.tsx\n-packages/next-swc/docs/assets/**/*\n-test/e2e/app-dir/server-source-maps/fixtures/default/internal-pkg/sourcemapped.js\n-test/e2e/app-dir/server-source-maps/fixtures/default/external-pkg/sourcemapped.js\n-test/development/next-lint-eslint-formatter-compact/**/*.js\n-test/e2e/app-dir/app-external/app/mixed/import/mixed-mod.mjs\n-\n-# turbopack crates\n-turbopack/crates/*/tests/**\n-turbopack/crates/*/js/src/compiled\n\\ No newline at end of file"
        },
        {
            "sha": "af6b69c5af120056f881b480182ab6f43efa42ca",
            "filename": ".eslintrc.cli.json",
            "status": "removed",
            "additions": 0,
            "deletions": 28,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/0720d7c0d20283c31b0a8a97a8195daa53493ee1/.eslintrc.cli.json",
            "raw_url": "https://github.com/vercel/next.js/raw/0720d7c0d20283c31b0a8a97a8195daa53493ee1/.eslintrc.cli.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.eslintrc.cli.json?ref=0720d7c0d20283c31b0a8a97a8195daa53493ee1",
            "patch": "@@ -1,28 +0,0 @@\n-{\n-  \"$schema\": \"https://json.schemastore.org/eslintrc\",\n-  \"extends\": [\".eslintrc.json\"],\n-  \"overrides\": [\n-    {\n-      // This override adds type-checked rules.\n-      \"files\": [\"**/*.ts\", \"**/*.tsx\"],\n-      // Linting with type-checked rules is very slow and needs a lot of memory,\n-      // so we exclude non-essential files.\n-      \"excludedFiles\": [\n-        \"examples/**/*\",\n-        \"test/**/*\",\n-        \"**/*.d.ts\",\n-        \"turbopack/**/*\"\n-      ],\n-      \"parserOptions\": {\n-        \"project\": true\n-      },\n-      // These rules are added on top of the rules that are declared in\n-      // .eslintrc.json for the matching files.\n-      \"rules\": {\n-        // TODO: enable in follow-up PR\n-        \"@typescript-eslint/no-floating-promises\": \"off\",\n-        \"@typescript-eslint/switch-exhaustiveness-check\": \"error\"\n-      }\n-    }\n-  ]\n-}"
        },
        {
            "sha": "235ebec65dce8825578efa0f1d5c32a06d1f427b",
            "filename": ".eslintrc.json",
            "status": "removed",
            "additions": 0,
            "deletions": 429,
            "changes": 429,
            "blob_url": "https://github.com/vercel/next.js/blob/0720d7c0d20283c31b0a8a97a8195daa53493ee1/.eslintrc.json",
            "raw_url": "https://github.com/vercel/next.js/raw/0720d7c0d20283c31b0a8a97a8195daa53493ee1/.eslintrc.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.eslintrc.json?ref=0720d7c0d20283c31b0a8a97a8195daa53493ee1",
            "patch": "@@ -1,429 +0,0 @@\n-{\n-  // This is the default eslint config that is used by IDEs. It does not use\n-  // computation-heavy type-checked rules to ensure maximum responsiveness while\n-  // writing code. In addition, there is .eslintrc.cli.json that does use\n-  // type-checked rules in addition to the rules defined here, and it is used\n-  // when running `pnpm lint-eslint` locally or in CI.\n-  \"$schema\": \"https://json.schemastore.org/eslintrc\",\n-  \"root\": true,\n-  \"parser\": \"@babel/eslint-parser\",\n-  \"plugins\": [\"react\", \"react-hooks\", \"jest\", \"import\", \"jsdoc\"],\n-  \"env\": {\n-    \"browser\": true,\n-    \"commonjs\": true,\n-    \"es6\": true,\n-    \"node\": true,\n-    \"jest\": true,\n-    \"es2020\": true\n-  },\n-  \"parserOptions\": {\n-    \"requireConfigFile\": false,\n-    \"sourceType\": \"module\",\n-    \"ecmaFeatures\": {\n-      \"jsx\": true\n-    },\n-    \"babelOptions\": {\n-      \"presets\": [\"next/babel\"],\n-      \"caller\": {\n-        // Eslint supports top level await when a parser for it is included. We enable the parser by default for Babel.\n-        \"supportsTopLevelAwait\": true\n-      }\n-    }\n-  },\n-  \"settings\": {\n-    \"react\": {\n-      \"version\": \"detect\"\n-    },\n-    \"import/internal-regex\": \"^next/\"\n-  },\n-  \"overrides\": [\n-    {\n-      \"files\": [\n-        \"test/**/*.js\",\n-        \"test/**/*.ts\",\n-        \"test/**/*.tsx\",\n-        \"**/*.test.ts\",\n-        \"**/*.test.tsx\"\n-      ],\n-      \"excludedFiles\": [\"test/tmp/**\"],\n-      \"extends\": [\"plugin:jest/recommended\"],\n-      \"rules\": {\n-        \"jest/expect-expect\": \"off\",\n-        \"jest/no-disabled-tests\": \"off\",\n-        \"jest/no-conditional-expect\": \"off\",\n-        \"jest/valid-title\": \"off\",\n-        \"jest/no-interpolation-in-snapshots\": \"off\",\n-        \"jest/no-export\": \"off\",\n-        \"jest/no-standalone-expect\": [\n-          \"error\",\n-          { \"additionalTestBlockFunctions\": [\"retry\", \"itCI\", \"itHeaded\"] }\n-        ]\n-      }\n-    },\n-    { \"files\": [\"**/__tests__/**\"], \"env\": { \"jest\": true } },\n-    {\n-      \"extends\": [\n-        \"plugin:@typescript-eslint/recommended\",\n-        \"plugin:@typescript-eslint/stylistic\"\n-      ],\n-      \"files\": [\"**/*.ts\", \"**/*.tsx\", \"**/*.mts\"],\n-      \"parser\": \"@typescript-eslint/parser\",\n-      \"parserOptions\": {\n-        \"sourceType\": \"module\",\n-        \"warnOnUnsupportedTypeScriptVersion\": false\n-      },\n-      \"plugins\": [\"@typescript-eslint\"],\n-      \"rules\": {\n-        // Todo: investigate, for each of these rules, whether we want them.\n-        \"@typescript-eslint/array-type\": \"off\",\n-        \"@typescript-eslint/ban-ts-comment\": \"off\",\n-        \"@typescript-eslint/ban-tslint-comment\": \"off\",\n-        \"@typescript-eslint/no-empty-object-type\": \"off\",\n-        \"@typescript-eslint/no-restricted-types\": \"off\",\n-        \"@typescript-eslint/no-unsafe-function-type\": \"off\",\n-        \"@typescript-eslint/no-wrapper-object-types\": \"off\",\n-        \"@typescript-eslint/class-literal-property-style\": \"off\",\n-        \"@typescript-eslint/consistent-generic-constructors\": \"off\",\n-        \"@typescript-eslint/consistent-indexed-object-style\": \"off\",\n-        \"@typescript-eslint/consistent-type-definitions\": \"off\",\n-        \"@typescript-eslint/no-empty-function\": \"off\",\n-        \"@typescript-eslint/no-namespace\": \"off\",\n-        \"@typescript-eslint/no-shadow\": \"off\",\n-        \"@typescript-eslint/no-empty-interface\": \"off\",\n-        \"@typescript-eslint/no-explicit-any\": \"off\",\n-        \"@typescript-eslint/no-inferrable-types\": \"off\",\n-        \"@typescript-eslint/no-require-imports\": \"off\",\n-        \"@typescript-eslint/no-var-requires\": \"off\",\n-        \"@typescript-eslint/prefer-for-of\": \"off\",\n-        \"@typescript-eslint/prefer-function-type\": \"off\",\n-        \"@typescript-eslint/no-this-alias\": \"off\",\n-        \"@typescript-eslint/triple-slash-reference\": \"off\",\n-        \"no-var\": \"off\",\n-        \"prefer-const\": \"off\",\n-        \"prefer-rest-params\": \"off\",\n-        \"prefer-spread\": \"off\",\n-\n-        // These off- or differently-configured rules work well for us.\n-        \"no-unused-expressions\": \"off\",\n-        \"@typescript-eslint/no-unused-expressions\": [\n-          \"error\",\n-          {\n-            \"allowShortCircuit\": true,\n-            \"allowTernary\": true,\n-            \"allowTaggedTemplates\": true\n-          }\n-        ],\n-        \"no-unused-vars\": \"off\",\n-        \"@typescript-eslint/no-unused-vars\": [\n-          \"error\",\n-          {\n-            \"args\": \"none\",\n-            \"ignoreRestSiblings\": true,\n-            \"argsIgnorePattern\": \"^_\",\n-            \"caughtErrors\": \"none\",\n-            \"caughtErrorsIgnorePattern\": \"^_\",\n-            \"destructuredArrayIgnorePattern\": \"^_\",\n-            \"varsIgnorePattern\": \"^_\"\n-          }\n-        ],\n-        \"no-use-before-define\": \"off\",\n-        \"no-useless-constructor\": \"off\",\n-        \"@typescript-eslint/no-use-before-define\": \"off\",\n-        \"@typescript-eslint/no-useless-constructor\": \"error\",\n-        \"@typescript-eslint/prefer-literal-enum-member\": \"error\"\n-      }\n-    },\n-    {\n-      \"files\": [\"packages/**/*.ts\", \"packages/**/*.tsx\"],\n-      \"plugins\": [\"@next/eslint-plugin-internal\"],\n-      \"rules\": {\n-        \"@next/internal/typechecked-require\": \"error\",\n-        \"jsdoc/no-types\": \"error\",\n-        \"jsdoc/no-undefined-types\": \"error\"\n-      }\n-    },\n-    {\n-      \"files\": [\"examples/**/*\"],\n-      \"rules\": {\n-        \"@typescript-eslint/no-use-before-define\": [\n-          \"error\",\n-          {\n-            \"functions\": true,\n-            \"classes\": true,\n-            \"variables\": true,\n-            \"enums\": true,\n-            \"typedefs\": true\n-          }\n-        ],\n-        \"import/no-anonymous-default-export\": [\n-          \"error\",\n-          {\n-            // React components:\n-            \"allowArrowFunction\": false,\n-            \"allowAnonymousClass\": false,\n-            \"allowAnonymousFunction\": false,\n-\n-            // Non-React stuff:\n-            \"allowArray\": true,\n-            \"allowCallExpression\": true,\n-            \"allowLiteral\": true,\n-            \"allowObject\": true\n-          }\n-        ]\n-      }\n-    },\n-    {\n-      \"files\": [\"packages/**\"],\n-      \"excludedFiles\": [\n-        \"packages/next/taskfile*.js\",\n-        \"packages/next/next-devtools.webpack-config.js\",\n-        \"packages/next/next-runtime.webpack-config.js\"\n-      ],\n-      \"rules\": {\n-        \"no-shadow\": [\"error\", { \"builtinGlobals\": false }],\n-        \"import/no-extraneous-dependencies\": [\n-          \"error\",\n-          { \"devDependencies\": false }\n-        ]\n-      }\n-    },\n-    {\n-      \"files\": [\"packages/**/*.tsx\", \"packages/**/*.ts\"],\n-      \"rules\": {\n-        // Note: you must disable the base rule as it can report incorrect errors\n-        \"no-shadow\": \"off\",\n-        \"@typescript-eslint/no-shadow\": [\"error\", { \"builtinGlobals\": false }],\n-        \"@typescript-eslint/no-unused-vars\": [\n-          \"error\",\n-          {\n-            \"args\": \"all\",\n-            \"argsIgnorePattern\": \"^_\",\n-            \"caughtErrors\": \"none\",\n-            \"ignoreRestSiblings\": true,\n-            \"varsIgnorePattern\": \"^_\"\n-          }\n-        ]\n-      }\n-    },\n-    {\n-      \"files\": [\n-        \"packages/eslint-plugin-next/**/*.js\",\n-        \"test/unit/eslint-plugin-next/**/*.test.ts\"\n-      ],\n-      \"extends\": [\"plugin:eslint-plugin/recommended\"],\n-      \"parserOptions\": {\n-        \"sourceType\": \"script\"\n-      },\n-      \"rules\": {\n-        \"eslint-plugin/prefer-replace-text\": \"error\",\n-        \"eslint-plugin/report-message-format\": [\n-          \"error\",\n-          \".+\\\\. See: https://nextjs.org/docs/messages/[a-z\\\\-]+$\"\n-        ],\n-        \"eslint-plugin/require-meta-docs-description\": [\n-          \"error\",\n-          {\n-            \"pattern\": \".+\"\n-          }\n-        ],\n-        \"eslint-plugin/require-meta-docs-url\": \"error\"\n-      }\n-    },\n-    {\n-      \"files\": [\"packages/**/*.tsx\", \"packages/**/*.ts\"],\n-      \"rules\": {\n-        \"@typescript-eslint/consistent-type-imports\": [\n-          \"error\",\n-          {\n-            \"disallowTypeAnnotations\": false\n-          }\n-        ],\n-        \"@typescript-eslint/no-import-type-side-effects\": \"error\"\n-      }\n-    },\n-    {\n-      \"files\": [\"*.mdx\"],\n-      \"extends\": [\"plugin:mdx/recommended\"],\n-      \"parser\": \"eslint-mdx\",\n-      \"rules\": {\n-        \"react/jsx-no-undef\": \"off\"\n-      }\n-    },\n-    {\n-      \"files\": [\n-        \"packages/next/src/next-devtools/dev-overlay/**/*.tsx\",\n-        \"packages/next/src/next-devtools/dev-overlay/**/*.ts\"\n-      ],\n-      \"extends\": [\"plugin:react-hooks/recommended-legacy\"],\n-      \"rules\": {\n-        \"react-hooks/exhaustive-deps\": \"error\"\n-      }\n-    }\n-  ],\n-  \"rules\": {\n-    \"array-callback-return\": \"error\",\n-    \"default-case\": [\"error\", { \"commentPattern\": \"^no default$\" }],\n-    \"dot-location\": [\"error\", \"property\"],\n-    \"eqeqeq\": [\"error\", \"smart\"],\n-    \"new-parens\": \"error\",\n-    \"no-array-constructor\": \"error\",\n-    \"no-caller\": \"error\",\n-    \"no-cond-assign\": [\"error\", \"except-parens\"],\n-    \"no-const-assign\": \"error\",\n-    \"no-control-regex\": \"error\",\n-    \"no-delete-var\": \"error\",\n-    \"no-dupe-args\": \"error\",\n-    \"no-dupe-class-members\": \"error\",\n-    \"no-dupe-keys\": \"error\",\n-    \"no-duplicate-case\": \"error\",\n-    \"no-empty-character-class\": \"error\",\n-    \"no-empty-pattern\": \"error\",\n-    \"no-eval\": \"error\",\n-    \"no-ex-assign\": \"error\",\n-    \"no-extend-native\": \"error\",\n-    \"no-extra-bind\": \"error\",\n-    \"no-extra-label\": \"error\",\n-    \"no-fallthrough\": \"error\",\n-    \"no-func-assign\": \"error\",\n-    \"no-implied-eval\": \"error\",\n-    \"no-invalid-regexp\": \"error\",\n-    \"no-iterator\": \"error\",\n-    \"no-label-var\": \"error\",\n-    \"no-labels\": [\"error\", { \"allowLoop\": true, \"allowSwitch\": false }],\n-    \"no-lone-blocks\": \"error\",\n-    \"no-loop-func\": \"error\",\n-    \"no-mixed-operators\": [\n-      \"error\",\n-      {\n-        \"groups\": [\n-          [\"&\", \"|\", \"^\", \"~\", \"<<\", \">>\", \">>>\"],\n-          [\"==\", \"!=\", \"===\", \"!==\", \">\", \">=\", \"<\", \"<=\"],\n-          [\"&&\", \"||\"],\n-          [\"in\", \"instanceof\"]\n-        ],\n-        \"allowSamePrecedence\": false\n-      }\n-    ],\n-    \"no-multi-str\": \"error\",\n-    \"no-native-reassign\": \"error\",\n-    \"no-negated-in-lhs\": \"error\",\n-    \"no-new-func\": \"error\",\n-    \"no-new-object\": \"error\",\n-    \"no-new-symbol\": \"error\",\n-    \"no-new-wrappers\": \"error\",\n-    \"no-obj-calls\": \"error\",\n-    \"no-octal\": \"error\",\n-    \"no-octal-escape\": \"error\",\n-    \"no-regex-spaces\": \"error\",\n-    \"no-restricted-imports\": [\n-      \"error\",\n-      {\n-        \"patterns\": [\n-          {\n-            \"group\": [\"*/next-devtools/dev-overlay*\"],\n-            \"message\": \"Use `next/dist/compiled/next-devtools` (`src/next-devtools/dev-overlay/entrypoint.ts`) instead. Prefer `src/next-devtools/shared/` for shared utils.\"\n-          }\n-        ]\n-      }\n-    ],\n-    \"no-restricted-syntax\": [\n-      \"error\",\n-      \"WithStatement\",\n-      {\n-        \"message\": \"substr() is deprecated, use slice() or substring() instead\",\n-        \"selector\": \"MemberExpression > Identifier[name='substr']\"\n-      },\n-      // ban plain workUnitStore.type if statements and ternaries\n-      {\n-        \"selector\": \"BinaryExpression[left.object.name='workUnitStore'][left.property.name='type'][operator=/^(?:===|!==)$/]\",\n-        \"message\": \"Use an exhaustive switch on `workUnitStore.type` (with a `never`-based default) instead of using if statements or ternaries.\"\n-      },\n-      // ban optional-chained workUnitStore?.type if statements and ternaries\n-      {\n-        \"selector\": \"BinaryExpression[left.type='ChainExpression'][left.expression.object.name='workUnitStore'][left.expression.property.name='type'][operator=/^(?:===|!==)$/]\",\n-        \"message\": \"Use an exhaustive switch on `workUnitStore.type` (with a `never`-based default) instead of using if statements or ternaries.\"\n-      }\n-    ],\n-    \"no-script-url\": \"error\",\n-    \"no-self-assign\": \"error\",\n-    \"no-self-compare\": \"error\",\n-    \"no-sequences\": \"error\",\n-    \"no-shadow-restricted-names\": \"error\",\n-    \"no-sparse-arrays\": \"error\",\n-    \"no-template-curly-in-string\": \"error\",\n-    \"no-this-before-super\": \"error\",\n-    \"no-throw-literal\": \"error\",\n-    \"no-undef\": \"error\",\n-    \"no-unexpected-multiline\": \"error\",\n-    \"no-unreachable\": \"error\",\n-    \"no-unused-expressions\": [\n-      \"error\",\n-      {\n-        \"allowShortCircuit\": true,\n-        \"allowTernary\": true,\n-        \"allowTaggedTemplates\": true\n-      }\n-    ],\n-    \"no-unused-labels\": \"error\",\n-    \"no-unused-vars\": [\n-      \"error\",\n-      {\n-        \"args\": \"none\",\n-        \"caughtErrors\": \"none\",\n-        \"ignoreRestSiblings\": true\n-      }\n-    ],\n-    \"no-use-before-define\": \"off\",\n-    \"no-useless-computed-key\": \"error\",\n-    \"no-useless-concat\": \"error\",\n-    \"no-useless-constructor\": \"error\",\n-    \"no-useless-escape\": \"error\",\n-    \"no-useless-rename\": [\n-      \"error\",\n-      {\n-        \"ignoreDestructuring\": false,\n-        \"ignoreImport\": false,\n-        \"ignoreExport\": false\n-      }\n-    ],\n-    \"no-with\": \"error\",\n-    \"no-whitespace-before-property\": \"error\",\n-    \"react-hooks/exhaustive-deps\": \"error\",\n-    \"require-yield\": \"error\",\n-    \"rest-spread-spacing\": [\"error\", \"never\"],\n-    \"strict\": [\"error\", \"never\"],\n-    \"unicode-bom\": [\"error\", \"never\"],\n-    \"use-isnan\": \"error\",\n-    \"valid-typeof\": \"error\",\n-    \"getter-return\": \"error\",\n-    \"react/forbid-foreign-prop-types\": [\"error\", { \"allowInPropTypes\": true }],\n-    \"react/jsx-no-comment-textnodes\": \"error\",\n-    \"react/jsx-no-duplicate-props\": \"error\",\n-    \"react/jsx-no-target-blank\": \"error\",\n-    \"react/jsx-no-undef\": \"error\",\n-    \"react/jsx-pascal-case\": [\n-      \"error\",\n-      {\n-        \"allowAllCaps\": true,\n-        \"ignore\": []\n-      }\n-    ],\n-    \"react/jsx-uses-react\": \"error\",\n-    \"react/jsx-uses-vars\": \"error\",\n-    \"react/no-danger-with-children\": \"error\",\n-    \"react/no-deprecated\": \"error\",\n-    \"react/no-direct-mutation-state\": \"error\",\n-    \"react/no-is-mounted\": \"error\",\n-    \"react/no-typos\": \"error\",\n-    \"react/react-in-jsx-scope\": \"off\",\n-    \"react/require-render-return\": \"error\",\n-    \"react/style-prop-object\": \"error\",\n-    \"react-hooks/rules-of-hooks\": \"error\",\n-    // \"@typescript-eslint/non-nullable-type-assertion-style\": \"error\",\n-    \"@typescript-eslint/prefer-as-const\": \"error\",\n-    \"@typescript-eslint/no-redeclare\": [\n-      \"error\",\n-      { \"builtinGlobals\": false, \"ignoreDeclarationMerge\": true }\n-    ]\n-  }\n-}"
        },
        {
            "sha": "3049540a75fd35a2c00ca2baa1488fd37f847052",
            "filename": ".vscode/settings.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/.vscode%2Fsettings.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/.vscode%2Fsettings.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.vscode%2Fsettings.json?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -16,7 +16,7 @@\n     \"typescript\",\n     \"typescriptreact\"\n   ],\n-  \"eslint.useFlatConfig\": false,\n+  \"eslint.useFlatConfig\": true,\n   // Set Jest runMode to on-demand as otherwise it will start running all tests the first time.\n   // Equivalent to deprecated option \"jest.autoRun\": \"off\"\n   \"jest.runMode\": \"on-demand\","
        },
        {
            "sha": "a93df5d7f18cdf0acd4f64bd9547acf5be4e1f45",
            "filename": "apps/docs/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/apps%2Fdocs%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/apps%2Fdocs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fdocs%2Fpackage.json?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -23,7 +23,7 @@\n     \"@types/node\": \"^20\",\n     \"@types/react\": \"^19\",\n     \"@types/react-dom\": \"^19\",\n-    \"eslint\": \"^9\",\n+    \"eslint\": \"9.37.0\",\n     \"eslint-config-next\": \"canary\",\n     \"tailwindcss\": \"4.1.13\",\n     \"typescript\": \"^5\""
        },
        {
            "sha": "7c198f240d93da96ce4a021c4dbe7bde470d0483",
            "filename": "contributing/repository/linting.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/contributing%2Frepository%2Flinting.md",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/contributing%2Frepository%2Flinting.md",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/contributing%2Frepository%2Flinting.md?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -22,7 +22,7 @@ If you get a warning by alex, follow the instructions to correct the language.\n \n We recommend installing the [ESLint plugin for VS Code](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint).\n \n-You can find the enabled rules in the [ESLint config](../../.eslintrc.json).\n+You can find the enabled rules in the [ESLint config](../../eslint.config.mjs).\n \n ## Prettier\n "
        },
        {
            "sha": "6f7319621cd5a85b87f961759277b5f4836b05da",
            "filename": "eslint.cli.config.mjs",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/eslint.cli.config.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/eslint.cli.config.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/eslint.cli.config.mjs?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -0,0 +1,27 @@\n+import { defineConfig } from 'eslint/config'\n+import baseConfig from './eslint.config.mjs'\n+\n+export default defineConfig([\n+  {\n+    extends: [baseConfig],\n+  },\n+  {\n+    files: ['**/*.ts', '**/*.tsx'],\n+    // This override adds type-checked rules.\n+    // Linting with type-checked rules is very slow and needs a lot of memory,\n+    // so we exclude non-essential files.\n+    ignores: ['examples/**/*', 'test/**/*', '**/*.d.ts', 'turbopack/**/*'],\n+    languageOptions: {\n+      parserOptions: {\n+        project: true,\n+      },\n+    },\n+    // These rules are added on top of the rules that are declared in\n+    // the base config for the matching files.\n+    rules: {\n+      // TODO: enable in follow-up PR\n+      '@typescript-eslint/no-floating-promises': 'off',\n+      '@typescript-eslint/switch-exhaustiveness-check': 'error',\n+    },\n+  },\n+])"
        },
        {
            "sha": "edc52218410f28941f4a3a13935159c15cb43dfc",
            "filename": "eslint.config.mjs",
            "status": "added",
            "additions": 554,
            "deletions": 0,
            "changes": 554,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/eslint.config.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/eslint.config.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/eslint.config.mjs?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -0,0 +1,554 @@\n+import { defineConfig } from 'eslint/config'\n+import react from 'eslint-plugin-react'\n+import reactHooks from 'eslint-plugin-react-hooks'\n+import jest from 'eslint-plugin-jest'\n+import _import from 'eslint-plugin-import'\n+import jsdoc from 'eslint-plugin-jsdoc'\n+import { fixupPluginRules } from '@eslint/compat'\n+import globals from 'globals'\n+import babelParser from '@babel/eslint-parser'\n+import tseslint from 'typescript-eslint'\n+import nextEslintPluginInternal from '@next/eslint-plugin-internal'\n+import mdxParser from 'eslint-mdx'\n+import path from 'node:path'\n+import { fileURLToPath } from 'node:url'\n+import js from '@eslint/js'\n+import { FlatCompat } from '@eslint/eslintrc'\n+import eslintignore from './.config/eslintignore.mjs'\n+\n+const __filename = fileURLToPath(import.meta.url)\n+const __dirname = path.dirname(__filename)\n+const compat = new FlatCompat({\n+  baseDirectory: __dirname,\n+  recommendedConfig: js.configs.recommended,\n+  allConfig: js.configs.all,\n+})\n+\n+// This is the default eslint config that is used by IDEs. It does not use\n+// computation-heavy type-checked rules to ensure maximum responsiveness while\n+// writing code. In addition, there is .eslintrc.cli.json that does use\n+// type-checked rules in addition to the rules defined here, and it is used\n+// when running `pnpm lint-eslint` locally or in CI.\n+export default defineConfig([\n+  eslintignore,\n+  {\n+    files: ['**/*.{js,jsx,mjs,ts,tsx,mts,mdx}'],\n+    linterOptions: {\n+      reportUnusedDisableDirectives: 'error',\n+    },\n+    plugins: {\n+      '@typescript-eslint': tseslint.plugin,\n+      react,\n+      'react-hooks': reactHooks,\n+      jest,\n+      import: fixupPluginRules(_import),\n+      jsdoc,\n+    },\n+    languageOptions: {\n+      globals: {\n+        ...globals.browser,\n+        ...globals.commonjs,\n+        ...globals.node,\n+        ...globals.jest,\n+      },\n+      parser: babelParser,\n+      ecmaVersion: 2020,\n+      sourceType: 'module',\n+      parserOptions: {\n+        requireConfigFile: false,\n+        ecmaFeatures: {\n+          jsx: true,\n+        },\n+        babelOptions: {\n+          presets: ['next/babel'],\n+          caller: {\n+            supportsTopLevelAwait: true,\n+          },\n+        },\n+      },\n+    },\n+    settings: {\n+      react: {\n+        version: 'detect',\n+      },\n+      'import/internal-regex': '^next/',\n+    },\n+    rules: {\n+      'array-callback-return': 'error',\n+\n+      'default-case': [\n+        'error',\n+        {\n+          commentPattern: '^no default$',\n+        },\n+      ],\n+\n+      'dot-location': ['error', 'property'],\n+      eqeqeq: ['error', 'smart'],\n+      'new-parens': 'error',\n+      'no-array-constructor': 'error',\n+      'no-caller': 'error',\n+      'no-cond-assign': ['error', 'except-parens'],\n+      'no-const-assign': 'error',\n+      'no-control-regex': 'error',\n+      'no-delete-var': 'error',\n+      'no-dupe-args': 'error',\n+      'no-dupe-class-members': 'error',\n+      'no-dupe-keys': 'error',\n+      'no-duplicate-case': 'error',\n+      'no-empty-character-class': 'error',\n+      'no-empty-pattern': 'error',\n+      'no-eval': 'error',\n+      'no-ex-assign': 'error',\n+      'no-extend-native': 'error',\n+      'no-extra-bind': 'error',\n+      'no-extra-label': 'error',\n+      'no-fallthrough': 'error',\n+      'no-func-assign': 'error',\n+      'no-implied-eval': 'error',\n+      'no-invalid-regexp': 'error',\n+      'no-iterator': 'error',\n+      'no-label-var': 'error',\n+\n+      'no-labels': [\n+        'error',\n+        {\n+          allowLoop: true,\n+          allowSwitch: false,\n+        },\n+      ],\n+\n+      'no-lone-blocks': 'error',\n+      'no-loop-func': 'error',\n+\n+      'no-mixed-operators': [\n+        'error',\n+        {\n+          groups: [\n+            ['&', '|', '^', '~', '<<', '>>', '>>>'],\n+            ['==', '!=', '===', '!==', '>', '>=', '<', '<='],\n+            ['&&', '||'],\n+            ['in', 'instanceof'],\n+          ],\n+\n+          allowSamePrecedence: false,\n+        },\n+      ],\n+\n+      'no-multi-str': 'error',\n+      'no-native-reassign': 'error',\n+      'no-negated-in-lhs': 'error',\n+      'no-new-func': 'error',\n+      'no-new-object': 'error',\n+      'no-new-symbol': 'error',\n+      'no-new-wrappers': 'error',\n+      'no-obj-calls': 'error',\n+      'no-octal': 'error',\n+      'no-octal-escape': 'error',\n+      'no-regex-spaces': 'error',\n+\n+      'no-restricted-imports': [\n+        'error',\n+        {\n+          patterns: [\n+            {\n+              group: ['*/next-devtools/dev-overlay*'],\n+              message:\n+                'Use `next/dist/compiled/next-devtools` (`src/next-devtools/dev-overlay/entrypoint.ts`) instead. Prefer `src/next-devtools/shared/` for shared utils.',\n+            },\n+          ],\n+        },\n+      ],\n+\n+      'no-restricted-syntax': [\n+        'error',\n+        'WithStatement',\n+        {\n+          message: 'substr() is deprecated, use slice() or substring() instead',\n+          selector: \"MemberExpression > Identifier[name='substr']\",\n+        },\n+        {\n+          selector:\n+            \"BinaryExpression[left.object.name='workUnitStore'][left.property.name='type'][operator=/^(?:===|!==)$/]\",\n+          message:\n+            'Use an exhaustive switch on `workUnitStore.type` (with a `never`-based default) instead of using if statements or ternaries.',\n+        },\n+        {\n+          selector:\n+            \"BinaryExpression[left.type='ChainExpression'][left.expression.object.name='workUnitStore'][left.expression.property.name='type'][operator=/^(?:===|!==)$/]\",\n+          message:\n+            'Use an exhaustive switch on `workUnitStore.type` (with a `never`-based default) instead of using if statements or ternaries.',\n+        },\n+      ],\n+\n+      'no-script-url': 'error',\n+      'no-self-assign': 'error',\n+      'no-self-compare': 'error',\n+      'no-sequences': 'error',\n+      'no-shadow-restricted-names': 'error',\n+      'no-sparse-arrays': 'error',\n+      'no-template-curly-in-string': 'error',\n+      'no-this-before-super': 'error',\n+      'no-throw-literal': 'error',\n+      'no-undef': 'error',\n+      'no-unexpected-multiline': 'error',\n+      'no-unreachable': 'error',\n+\n+      'no-unused-expressions': [\n+        'error',\n+        {\n+          allowShortCircuit: true,\n+          allowTernary: true,\n+          allowTaggedTemplates: true,\n+        },\n+      ],\n+\n+      'no-unused-labels': 'error',\n+\n+      'no-unused-vars': [\n+        'error',\n+        {\n+          args: 'none',\n+          caughtErrors: 'none',\n+          ignoreRestSiblings: true,\n+        },\n+      ],\n+\n+      'no-use-before-define': 'off',\n+      'no-useless-computed-key': 'error',\n+      'no-useless-concat': 'error',\n+      'no-useless-constructor': 'error',\n+      'no-useless-escape': 'error',\n+\n+      'no-useless-rename': [\n+        'error',\n+        {\n+          ignoreDestructuring: false,\n+          ignoreImport: false,\n+          ignoreExport: false,\n+        },\n+      ],\n+\n+      'no-with': 'error',\n+      'no-whitespace-before-property': 'error',\n+      'react-hooks/exhaustive-deps': 'error',\n+      'require-yield': 'error',\n+      'rest-spread-spacing': ['error', 'never'],\n+      strict: ['error', 'never'],\n+      'unicode-bom': ['error', 'never'],\n+      'use-isnan': 'error',\n+      'valid-typeof': 'error',\n+      'getter-return': 'error',\n+\n+      'react/forbid-foreign-prop-types': [\n+        'error',\n+        {\n+          allowInPropTypes: true,\n+        },\n+      ],\n+\n+      'react/jsx-no-comment-textnodes': 'error',\n+      'react/jsx-no-duplicate-props': 'error',\n+      'react/jsx-no-target-blank': 'error',\n+      'react/jsx-no-undef': 'error',\n+\n+      'react/jsx-pascal-case': [\n+        'error',\n+        {\n+          allowAllCaps: true,\n+          ignore: [],\n+        },\n+      ],\n+\n+      'react/jsx-uses-react': 'error',\n+      'react/jsx-uses-vars': 'error',\n+      'react/no-danger-with-children': 'error',\n+      'react/no-deprecated': 'error',\n+      'react/no-direct-mutation-state': 'error',\n+      'react/no-is-mounted': 'error',\n+      'react/no-typos': 'error',\n+      'react/react-in-jsx-scope': 'off',\n+      'react/require-render-return': 'error',\n+      'react/style-prop-object': 'error',\n+      'react-hooks/rules-of-hooks': 'error',\n+      '@typescript-eslint/prefer-as-const': 'error',\n+\n+      '@typescript-eslint/no-redeclare': [\n+        'error',\n+        {\n+          builtinGlobals: false,\n+          ignoreDeclarationMerge: true,\n+        },\n+      ],\n+    },\n+  },\n+  {\n+    files: [\n+      'test/**/*.js',\n+      'test/**/*.ts',\n+      'test/**/*.tsx',\n+      '**/*.test.ts',\n+      '**/*.test.tsx',\n+    ],\n+    ignores: ['test/tmp/**'],\n+    extends: compat.extends('plugin:jest/recommended'),\n+    rules: {\n+      'jest/expect-expect': 'off',\n+      'jest/no-disabled-tests': 'off',\n+      'jest/no-conditional-expect': 'off',\n+      'jest/valid-title': 'off',\n+      'jest/no-interpolation-in-snapshots': 'off',\n+      'jest/no-export': 'off',\n+\n+      'jest/no-standalone-expect': [\n+        'error',\n+        {\n+          additionalTestBlockFunctions: ['retry', 'itCI', 'itHeaded'],\n+        },\n+      ],\n+    },\n+  },\n+  {\n+    files: ['**/__tests__/**'],\n+    languageOptions: {\n+      globals: {\n+        ...globals.jest,\n+      },\n+    },\n+  },\n+  {\n+    files: ['**/*.ts', '**/*.tsx', '**/*.mts'],\n+    extends: [tseslint.configs.recommended, tseslint.configs.stylistic],\n+    languageOptions: {\n+      ecmaVersion: 2020,\n+      sourceType: 'module',\n+      parserOptions: {\n+        warnOnUnsupportedTypeScriptVersion: false,\n+      },\n+    },\n+    rules: {\n+      '@typescript-eslint/array-type': 'off',\n+      '@typescript-eslint/ban-ts-comment': 'off',\n+      '@typescript-eslint/ban-tslint-comment': 'off',\n+      '@typescript-eslint/no-empty-object-type': 'off',\n+      '@typescript-eslint/no-restricted-types': 'off',\n+      '@typescript-eslint/no-unsafe-function-type': 'off',\n+      '@typescript-eslint/no-wrapper-object-types': 'off',\n+      '@typescript-eslint/class-literal-property-style': 'off',\n+      '@typescript-eslint/consistent-generic-constructors': 'off',\n+      '@typescript-eslint/consistent-indexed-object-style': 'off',\n+      '@typescript-eslint/consistent-type-definitions': 'off',\n+      '@typescript-eslint/no-empty-function': 'off',\n+      '@typescript-eslint/no-namespace': 'off',\n+      '@typescript-eslint/no-shadow': 'off',\n+      '@typescript-eslint/no-empty-interface': 'off',\n+      '@typescript-eslint/no-explicit-any': 'off',\n+      '@typescript-eslint/no-inferrable-types': 'off',\n+      '@typescript-eslint/no-require-imports': 'off',\n+      '@typescript-eslint/no-var-requires': 'off',\n+      '@typescript-eslint/prefer-for-of': 'off',\n+      '@typescript-eslint/prefer-function-type': 'off',\n+      '@typescript-eslint/no-this-alias': 'off',\n+      '@typescript-eslint/triple-slash-reference': 'off',\n+      'no-var': 'off',\n+      'prefer-const': 'off',\n+      'prefer-rest-params': 'off',\n+      'prefer-spread': 'off',\n+      'no-unused-expressions': 'off',\n+\n+      '@typescript-eslint/no-unused-expressions': [\n+        'error',\n+        {\n+          allowShortCircuit: true,\n+          allowTernary: true,\n+          allowTaggedTemplates: true,\n+        },\n+      ],\n+\n+      'no-unused-vars': 'off',\n+\n+      '@typescript-eslint/no-unused-vars': [\n+        'error',\n+        {\n+          args: 'none',\n+          ignoreRestSiblings: true,\n+          argsIgnorePattern: '^_',\n+          caughtErrors: 'none',\n+          caughtErrorsIgnorePattern: '^_',\n+          destructuredArrayIgnorePattern: '^_',\n+          varsIgnorePattern: '^_',\n+        },\n+      ],\n+\n+      'no-use-before-define': 'off',\n+      'no-useless-constructor': 'off',\n+      '@typescript-eslint/no-use-before-define': 'off',\n+      '@typescript-eslint/no-useless-constructor': 'error',\n+      '@typescript-eslint/prefer-literal-enum-member': 'error',\n+    },\n+  },\n+  {\n+    files: ['packages/**/*.ts', 'packages/**/*.tsx'],\n+    plugins: {\n+      '@next/internal': nextEslintPluginInternal,\n+    },\n+    rules: {\n+      '@next/internal/typechecked-require': 'error',\n+      'jsdoc/no-types': 'error',\n+      'jsdoc/no-undefined-types': 'error',\n+    },\n+  },\n+  {\n+    files: ['examples/**/*'],\n+    linterOptions: {\n+      reportUnusedDisableDirectives: 'off',\n+    },\n+    rules: {\n+      '@typescript-eslint/no-use-before-define': [\n+        'error',\n+        {\n+          functions: true,\n+          classes: true,\n+          variables: true,\n+          enums: true,\n+          typedefs: true,\n+        },\n+      ],\n+\n+      'import/no-anonymous-default-export': [\n+        'error',\n+        {\n+          allowArrowFunction: false,\n+          allowAnonymousClass: false,\n+          allowAnonymousFunction: false,\n+          allowArray: true,\n+          allowCallExpression: true,\n+          allowLiteral: true,\n+          allowObject: true,\n+        },\n+      ],\n+    },\n+  },\n+  {\n+    files: ['packages/**'],\n+    ignores: [\n+      'packages/next/taskfile*.js',\n+      'packages/next/next-devtools.webpack-config.js',\n+      'packages/next/next-runtime.webpack-config.js',\n+    ],\n+    rules: {\n+      'no-shadow': [\n+        'error',\n+        {\n+          builtinGlobals: false,\n+        },\n+      ],\n+\n+      'import/no-extraneous-dependencies': [\n+        'error',\n+        {\n+          devDependencies: false,\n+        },\n+      ],\n+    },\n+  },\n+  {\n+    files: ['packages/**/*.tsx', 'packages/**/*.ts'],\n+\n+    rules: {\n+      'no-shadow': 'off',\n+\n+      '@typescript-eslint/no-shadow': [\n+        'error',\n+        {\n+          builtinGlobals: false,\n+        },\n+      ],\n+\n+      '@typescript-eslint/no-unused-vars': [\n+        'error',\n+        {\n+          args: 'all',\n+          argsIgnorePattern: '^_',\n+          caughtErrors: 'none',\n+          ignoreRestSiblings: true,\n+          varsIgnorePattern: '^_',\n+        },\n+      ],\n+    },\n+  },\n+  {\n+    files: [\n+      'packages/eslint-plugin-next/**/*.js',\n+      'test/unit/eslint-plugin-next/**/*.test.ts',\n+    ],\n+    extends: compat.extends('plugin:eslint-plugin/recommended'),\n+    languageOptions: {\n+      ecmaVersion: 5,\n+      sourceType: 'script',\n+    },\n+    rules: {\n+      'eslint-plugin/prefer-replace-text': 'error',\n+      'eslint-plugin/report-message-format': [\n+        'error',\n+        '.+\\\\. See: https://nextjs.org/docs/messages/[a-z\\\\-]+$',\n+      ],\n+      'eslint-plugin/require-meta-docs-description': [\n+        'error',\n+        {\n+          pattern: '.+',\n+        },\n+      ],\n+      'eslint-plugin/require-meta-docs-url': 'error',\n+    },\n+  },\n+  {\n+    files: ['packages/**/*.tsx', 'packages/**/*.ts'],\n+    rules: {\n+      '@typescript-eslint/consistent-type-imports': [\n+        'error',\n+        {\n+          disallowTypeAnnotations: false,\n+        },\n+      ],\n+      '@typescript-eslint/no-import-type-side-effects': 'error',\n+    },\n+  },\n+  {\n+    files: ['**/*.mdx'],\n+    extends: compat.extends('plugin:mdx/recommended'),\n+    languageOptions: {\n+      parser: mdxParser,\n+    },\n+    rules: {\n+      'react/jsx-no-undef': 'off',\n+    },\n+  },\n+  {\n+    files: [\n+      'packages/next/src/next-devtools/dev-overlay/**/*.tsx',\n+      'packages/next/src/next-devtools/dev-overlay/**/*.ts',\n+    ],\n+    extends: [reactHooks.configs.flat['recommended']],\n+    rules: {\n+      'react-hooks/exhaustive-deps': 'error',\n+    },\n+  },\n+  {\n+    // auto-generated file\n+    files: [\n+      'packages/next/src/build/swc/generated-native.d.ts',\n+      'packages/next/src/build/swc/generated-wasm.d.ts',\n+      'rspack/crates/binding/index.d.ts',\n+    ],\n+    linterOptions: {\n+      reportUnusedDisableDirectives: 'off',\n+    },\n+  },\n+  {\n+    files: ['turbopack/crates/turbopack-tests/tests/**/*'],\n+    rules: {\n+      'no-console': 'off',\n+    },\n+  },\n+])"
        },
        {
            "sha": "922dba1027cfb1bd7f2fc478163420415a55a229",
            "filename": "lint-staged.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/lint-staged.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/lint-staged.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/lint-staged.config.js?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -1,7 +1,7 @@\n module.exports = {\n   '*.{js,jsx,mjs,ts,tsx,mts,mdx}': [\n     'prettier --with-node-modules --ignore-path .prettierignore --write',\n-    'cross-env ESLINT_USE_FLAT_CONFIG=false eslint --config .eslintrc.json --no-eslintrc --fix',\n+    'eslint --config eslint.config.mjs --fix',\n   ],\n   '*.{json,md,css,html,yml,yaml,scss}': [\n     'prettier --with-node-modules --ignore-path .prettierignore --write',"
        },
        {
            "sha": "21408017edb2a742e7c8dee13cce79370603a566",
            "filename": "package.json",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -67,7 +67,7 @@\n     \"git-clean\": \"git clean -d -x -e node_modules -e packages -f\",\n     \"typescript\": \"tsc --noEmit\",\n     \"lint-typescript\": \"turbo run typescript\",\n-    \"lint-eslint\": \"cross-env ESLINT_USE_FLAT_CONFIG=false eslint --ext js,jsx,mjs,ts,tsx,mts,mdx --config .eslintrc.cli.json --no-eslintrc\",\n+    \"lint-eslint\": \"eslint --config eslint.cli.config.mjs\",\n     \"lint-ast-grep\": \"ast-grep scan\",\n     \"lint-no-typescript\": \"run-p prettier-check \\\"lint-eslint .\\\" lint-language\",\n     \"types-and-precompiled\": \"run-p \\\"lint-typescript --log-order=stream\\\" check-compiler-fixtures types:test-lib && pnpm check-precompiled\",\n@@ -127,6 +127,9 @@\n     \"@edge-runtime/jest-environment\": \"4.0.0\",\n     \"@emotion/cache\": \"11.11.0\",\n     \"@emotion/react\": \"11.11.1\",\n+    \"@eslint/compat\": \"1.4.0\",\n+    \"@eslint/eslintrc\": \"^3\",\n+    \"@eslint/js\": \"9.37.0\",\n     \"@fullhuman/postcss-purgecss\": \"1.3.0\",\n     \"@jest/expect-utils\": \"29.7.0\",\n     \"@mdx-js/loader\": \"2.2.1\",\n@@ -168,8 +171,6 @@\n     \"@types/relay-runtime\": \"14.1.13\",\n     \"@types/string-hash\": \"1.1.1\",\n     \"@types/trusted-types\": \"2.0.3\",\n-    \"@typescript-eslint/eslint-plugin\": \"^8.36.0\",\n-    \"@typescript-eslint/parser\": \"^8.36.0\",\n     \"@vercel/devlow-bench\": \"workspace:*\",\n     \"@vercel/kv\": \"3.0.0\",\n     \"@vercel/og\": \"0.7.2\",\n@@ -190,7 +191,7 @@\n     \"dd-trace\": \"4.12.0\",\n     \"es5-ext\": \"0.10.53\",\n     \"escape-string-regexp\": \"2.0.0\",\n-    \"eslint\": \"9.12.0\",\n+    \"eslint\": \"9.37.0\",\n     \"eslint-config-next\": \"workspace:*\",\n     \"eslint-formatter-codeframe\": \"7.32.1\",\n     \"eslint-plugin-eslint-plugin\": \"5.2.1\",\n@@ -214,6 +215,7 @@\n     \"get-port\": \"5.1.1\",\n     \"get-port-please\": \"3.1.1\",\n     \"glob\": \"7.1.6\",\n+    \"globals\": \"16.4.0\",\n     \"gzip-size\": \"5.1.1\",\n     \"html-validator\": \"5.1.18\",\n     \"http-proxy\": \"1.18.1\",\n@@ -294,6 +296,7 @@\n     \"tsx\": \"4.19.2\",\n     \"turbo\": \"2.5.5\",\n     \"typescript\": \"5.9.2\",\n+    \"typescript-eslint\": \"8.46.0\",\n     \"unfetch\": \"4.2.0\",\n     \"wait-port\": \"0.2.2\",\n     \"webpack\": \"5.98.0\","
        },
        {
            "sha": "d3d1c35584d3f34462a35699258bcbeae8d723ac",
            "filename": "packages/eslint-plugin-internal/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Feslint-plugin-internal%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Feslint-plugin-internal%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Feslint-plugin-internal%2Fpackage.json?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -12,9 +12,9 @@\n     \"directory\": \"packages/eslint-plugin-internal\"\n   },\n   \"peerDependencies\": {\n-    \"eslint\": \"9.12.0\"\n+    \"eslint\": \"9.37.0\"\n   },\n   \"devDependencies\": {\n-    \"eslint\": \"9.12.0\"\n+    \"eslint\": \"9.37.0\"\n   }\n }"
        },
        {
            "sha": "b5531918d75ab9b82e387d39bda65380e927c087",
            "filename": "packages/eslint-plugin-next/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Feslint-plugin-next%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Feslint-plugin-next%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Feslint-plugin-next%2Fpackage.json?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -17,7 +17,7 @@\n   },\n   \"devDependencies\": {\n     \"@types/eslint\": \"9.6.1\",\n-    \"eslint\": \"9.12.0\"\n+    \"eslint\": \"9.37.0\"\n   },\n   \"scripts\": {\n     \"dev\": \"pnpm build\","
        },
        {
            "sha": "be2813a8ae365ed56cfb6bb9d34613c19bc1b222",
            "filename": "packages/next/.storybook/main.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Fnext%2F.storybook%2Fmain.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Fnext%2F.storybook%2Fmain.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2F.storybook%2Fmain.ts?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9",
            "patch": "@@ -37,9 +37,9 @@ const config: StorybookConfig = {\n       },\n     },\n   }),\n-  webpackFinal: async (config) => {\n+  webpackFinal: async (webpackConfig) => {\n     // Find and override CSS rule to use the devtool style injection\n-    const cssRule = config.module?.rules?.find((rule) => {\n+    const cssRule = webpackConfig.module?.rules?.find((rule) => {\n       if (typeof rule !== 'object' || !rule) return false\n       if ('test' in rule && rule.test instanceof RegExp) {\n         return rule.test.test('.css')\n@@ -77,7 +77,7 @@ const config: StorybookConfig = {\n       }\n     }\n \n-    return config\n+    return webpackConfig\n   },\n }\n "
        },
        {
            "sha": "42483655b4336349519d207edf27e2649ec3a107",
            "filename": "packages/next/src/compiled/babel-packages/packages-bundle.js",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Fnext%2Fsrc%2Fcompiled%2Fbabel-packages%2Fpackages-bundle.js",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/packages%2Fnext%2Fsrc%2Fcompiled%2Fbabel-packages%2Fpackages-bundle.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Fbabel-packages%2Fpackages-bundle.js?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9"
        },
        {
            "sha": "38259155f70dd82b10346e1f72ea4a00bafdf85c",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 1171,
            "deletions": 663,
            "changes": 1834,
            "blob_url": "https://github.com/vercel/next.js/blob/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=3b4e4478d45ed4cc46b2882a6d7ef84a80a9bad9"
        },
        {
            "sha": "d5ba8f9d9ca87e03c0be04dd936ce188dcf16b23",
            "filename": "turbopack/crates/turbopack-tests/tests/.eslintrc.json",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/0720d7c0d20283c31b0a8a97a8195daa53493ee1/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2F.eslintrc.json",
            "raw_url": "https://github.com/vercel/next.js/raw/0720d7c0d20283c31b0a8a97a8195daa53493ee1/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2F.eslintrc.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2F.eslintrc.json?ref=0720d7c0d20283c31b0a8a97a8195daa53493ee1",
            "patch": "@@ -1,5 +0,0 @@\n-{\n-  \"rules\": {\n-    \"no-console\": \"off\"\n-  }\n-}"
        }
    ],
    "stats": {
        "total": 3037,
        "additions": 1835,
        "deletions": 1202
    }
}