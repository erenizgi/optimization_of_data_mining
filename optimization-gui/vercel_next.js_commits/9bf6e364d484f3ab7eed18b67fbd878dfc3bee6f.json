{
    "author": "wbinnssmith",
    "message": "Turbopack: Make `turbo-backend` crate Rust 2024 (#79125)\n\n- This required explicitly wrapping certain calls in `unsafe` blocks.\nThe calling functions were already marked `unsafe`.\n- Made this implied reference pattern explicit:\n```\n    |\n183 |             &mut WriteBatch::Concurrent(ref batch, _) => {\n    |             ++++\n```",
    "sha": "9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
    "files": [
        {
            "sha": "4755e1de6cef55b9be3ae99978c0d631c93ac359",
            "filename": "turbopack/crates/turbo-tasks-backend/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2FCargo.toml?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,7 +3,7 @@ name = \"turbo-tasks-backend\"\n version = \"0.1.0\"\n description = \"TBD\"\n license = \"MIT\"\n-edition = \"2021\"\n+edition = \"2024\"\n autobenches = false\n \n [lib]"
        },
        {
            "sha": "ea83c350544e9f4ee67f42573ce973129ce04cea",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fmod.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,7 +1,7 @@\n #![feature(arbitrary_self_types)]\n #![feature(arbitrary_self_types_pointers)]\n \n-use criterion::{criterion_group, criterion_main, Criterion};\n+use criterion::{Criterion, criterion_group, criterion_main};\n \n pub(crate) mod scope_stress;\n pub(crate) mod stress;"
        },
        {
            "sha": "48b331d7fbe92c6c90f3da984a44d474344fbec8",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/scope_stress.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fscope_stress.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fscope_stress.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fscope_stress.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use criterion::{BenchmarkId, Criterion};\n use turbo_tasks::{Completion, ReadConsistency, TryJoinIterExt, TurboTasks, Vc};\n-use turbo_tasks_backend::{noop_backing_storage, BackendOptions, TurboTasksBackend};\n+use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n \n use super::register;\n "
        },
        {
            "sha": "af1b92295033bc400e588e2c8490a4225379279d",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/stress.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fstress.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fstress.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fstress.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use criterion::{BenchmarkId, Criterion};\n use turbo_tasks::{ReadConsistency, TryJoinIterExt, TurboTasks, Vc};\n-use turbo_tasks_backend::{noop_backing_storage, BackendOptions, TurboTasksBackend};\n+use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n \n use super::register;\n "
        },
        {
            "sha": "001bb6ee78cb314579bc6119025f6815fa10afe4",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/mod.rs",
            "status": "modified",
            "additions": 12,
            "deletions": 14,
            "changes": 26,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fmod.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -10,20 +10,22 @@ use std::{\n     mem::take,\n     pin::Pin,\n     sync::{\n-        atomic::{AtomicBool, AtomicU64, AtomicUsize, Ordering},\n         Arc,\n+        atomic::{AtomicBool, AtomicU64, AtomicUsize, Ordering},\n     },\n     thread::available_parallelism,\n };\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use auto_hash_map::{AutoMap, AutoSet};\n use indexmap::IndexSet;\n use parking_lot::{Condvar, Mutex};\n use rustc_hash::{FxHashMap, FxHashSet, FxHasher};\n-use smallvec::{smallvec, SmallVec};\n+use smallvec::{SmallVec, smallvec};\n use tokio::time::{Duration, Instant};\n use turbo_tasks::{\n+    CellId, FunctionId, FxDashMap, KeyValuePair, RawVc, ReadCellOptions, ReadConsistency,\n+    SessionId, TRANSIENT_TASK_BIT, TaskId, TraitTypeId, TurboTasksBackendApi, ValueTypeId,\n     backend::{\n         Backend, BackendJobId, CachedTaskType, CellContent, TaskExecutionSpec, TransientTaskRoot,\n         TransientTaskType, TypedCellContent,\n@@ -33,8 +35,6 @@ use turbo_tasks::{\n     task_statistics::TaskStatisticsApi,\n     trace::TraceRawVcs,\n     util::IdFactoryWithReuse,\n-    CellId, FunctionId, FxDashMap, KeyValuePair, RawVc, ReadCellOptions, ReadConsistency,\n-    SessionId, TaskId, TraitTypeId, TurboTasksBackendApi, ValueTypeId, TRANSIENT_TASK_BIT,\n };\n \n pub use self::{operation::AnyOperation, storage::TaskDataCategory};\n@@ -43,14 +43,14 @@ use crate::backend::operation::TaskDirtyCause;\n use crate::{\n     backend::{\n         operation::{\n-            connect_children, get_aggregation_number, is_root_node, prepare_new_children,\n             AggregatedDataUpdate, AggregationUpdateJob, AggregationUpdateQueue,\n             CleanupOldEdgesOperation, ConnectChildOperation, ExecuteContext, ExecuteContextImpl,\n-            Operation, OutdatedEdge, TaskGuard,\n+            Operation, OutdatedEdge, TaskGuard, connect_children, get_aggregation_number,\n+            is_root_node, prepare_new_children,\n         },\n         storage::{\n-            get, get_many, get_mut, get_mut_or_insert_with, iter_many, remove,\n-            InnerStorageSnapshot, Storage,\n+            InnerStorageSnapshot, Storage, get, get_many, get_mut, get_mut_or_insert_with,\n+            iter_many, remove,\n         },\n     },\n     backing_storage::BackingStorage,\n@@ -265,8 +265,7 @@ impl<B: BackingStorage> TurboTasksBackendInner<B> {\n         'tx: 'e,\n     {\n         // Safety: `tx` is from `self`.\n-        let ctx = unsafe { ExecuteContextImpl::new_with_tx(self, tx, turbo_tasks) };\n-        ctx\n+        unsafe { ExecuteContextImpl::new_with_tx(self, tx, turbo_tasks) }\n     }\n \n     fn suspending_requested(&self) -> bool {\n@@ -429,14 +428,13 @@ impl<B: BackingStorage> TurboTasksBackendInner<B> {\n             done_event: &Event,\n         ) -> EventListener {\n             let reader_desc = reader.map(|r| this.get_task_desc_fn(r));\n-            let listener = done_event.listen_with_note(move || {\n+            done_event.listen_with_note(move || {\n                 if let Some(reader_desc) = reader_desc.as_ref() {\n                     format!(\"try_read_task_output from {}\", reader_desc())\n                 } else {\n                     \"try_read_task_output (untracked)\".to_string()\n                 }\n-            });\n-            listener\n+            })\n         }\n \n         fn check_in_progress<B: BackingStorage>("
        },
        {
            "sha": "46d70c7e9c563f9bfe5eeafbf49904f12113b3b0",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/aggregation_update.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Faggregation_update.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Faggregation_update.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Faggregation_update.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,15 +1,15 @@\n use std::{\n-    cmp::{max, Ordering},\n-    collections::{hash_map::Entry as HashMapEntry, VecDeque},\n+    cmp::{Ordering, max},\n+    collections::{VecDeque, hash_map::Entry as HashMapEntry},\n     hash::Hash,\n     mem::take,\n     num::NonZeroU32,\n };\n \n use indexmap::map::Entry;\n use rustc_hash::{FxHashMap, FxHashSet};\n-use serde::{ser::SerializeSeq, Deserialize, Serialize, Serializer};\n-use smallvec::{smallvec, SmallVec};\n+use serde::{Deserialize, Serialize, Serializer, ser::SerializeSeq};\n+use smallvec::{SmallVec, smallvec};\n #[cfg(any(\n     feature = \"trace_aggregation_update\",\n     feature = \"trace_find_and_schedule\"\n@@ -21,10 +21,9 @@ use turbo_tasks::{FxIndexMap, SessionId, TaskId};\n use crate::backend::operation::invalidate::TaskDirtyCause;\n use crate::{\n     backend::{\n-        get_mut, get_mut_or_insert_with,\n-        operation::{invalidate::make_task_dirty, ExecuteContext, Operation, TaskGuard},\n+        TaskDataCategory, get_mut, get_mut_or_insert_with,\n+        operation::{ExecuteContext, Operation, TaskGuard, invalidate::make_task_dirty},\n         storage::{count, get, get_many, iter_many, remove, update, update_count},\n-        TaskDataCategory,\n     },\n     data::{\n         ActivenessState, AggregationNumber, CachedDataItem, CachedDataItemKey, CollectibleRef,"
        },
        {
            "sha": "0d6092884581194f6c61a04f48b2ae268c4d2238",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/cleanup_old_edges.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fcleanup_old_edges.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fcleanup_old_edges.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fcleanup_old_edges.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -9,17 +9,16 @@ use turbo_tasks::TaskId;\n use crate::backend::operation::invalidate::TaskDirtyCause;\n use crate::{\n     backend::{\n-        get, get_many,\n+        TaskDataCategory, get, get_many,\n         operation::{\n+            AggregatedDataUpdate, ExecuteContext, Operation, TaskGuard,\n             aggregation_update::{\n-                get_aggregation_number, get_uppers, is_aggregating_node, AggregationUpdateJob,\n-                AggregationUpdateQueue, InnerOfUppersLostFollowersJob,\n+                AggregationUpdateJob, AggregationUpdateQueue, InnerOfUppersLostFollowersJob,\n+                get_aggregation_number, get_uppers, is_aggregating_node,\n             },\n             invalidate::make_task_dirty,\n-            AggregatedDataUpdate, ExecuteContext, Operation, TaskGuard,\n         },\n         storage::update_count,\n-        TaskDataCategory,\n     },\n     data::{CachedDataItemKey, CellRef, CollectibleRef, CollectiblesRef},\n };"
        },
        {
            "sha": "12be851cae15b9e27a8060e28532de23ad9b99d6",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/connect_child.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_child.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_child.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_child.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,12 +3,11 @@ use turbo_tasks::TaskId;\n \n use crate::{\n     backend::{\n-        get_mut,\n+        TaskDataCategory, get_mut,\n         operation::{\n-            aggregation_update::{AggregationUpdateJob, AggregationUpdateQueue},\n             ExecuteContext, Operation, TaskGuard,\n+            aggregation_update::{AggregationUpdateJob, AggregationUpdateQueue},\n         },\n-        TaskDataCategory,\n     },\n     data::{CachedDataItem, CachedDataItemKey, InProgressState, InProgressStateInner},\n };"
        },
        {
            "sha": "0f650d1ef0a14eeabf53b54e68b39aa31369b9e9",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/connect_children.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_children.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_children.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_children.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,8 +4,9 @@ use turbo_tasks::TaskId;\n \n use crate::{\n     backend::operation::{\n+        AggregationUpdateJob, AggregationUpdateQueue, TaskGuard,\n         aggregation_update::InnerOfUppersHasNewFollowersJob, get_aggregation_number, get_uppers,\n-        is_aggregating_node, AggregationUpdateJob, AggregationUpdateQueue, TaskGuard,\n+        is_aggregating_node,\n     },\n     data::CachedDataItem,\n };"
        },
        {
            "sha": "349ca52feb0b08dd823825cd1207996ee295f153",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/invalidate.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Finvalidate.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Finvalidate.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Finvalidate.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,14 +4,14 @@ use turbo_tasks::TaskId;\n \n use crate::{\n     backend::{\n+        TaskDataCategory,\n         operation::{\n+            ExecuteContext, Operation, TaskGuard,\n             aggregation_update::{\n                 AggregatedDataUpdate, AggregationUpdateJob, AggregationUpdateQueue,\n             },\n-            ExecuteContext, Operation, TaskGuard,\n         },\n         storage::{get, get_mut},\n-        TaskDataCategory,\n     },\n     data::{\n         CachedDataItem, CachedDataItemKey, CachedDataItemValue, DirtyState, InProgressState,"
        },
        {
            "sha": "0160c50bc9b77188a0bb445a8a96190b7063fa3f",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/mod.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fmod.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -18,8 +18,8 @@ use turbo_tasks::{KeyValuePair, SessionId, TaskId, TurboTasksBackendApi};\n \n use crate::{\n     backend::{\n-        storage::{SpecificTaskDataCategory, StorageWriteGuard},\n         OperationGuard, TaskDataCategory, TransientTask, TurboTasksBackend, TurboTasksBackendInner,\n+        storage::{SpecificTaskDataCategory, StorageWriteGuard},\n     },\n     backing_storage::BackingStorage,\n     data::{\n@@ -645,8 +645,8 @@ impl_operation!(AggregationUpdate aggregation_update::AggregationUpdateQueue);\n pub use self::invalidate::TaskDirtyCause;\n pub use self::{\n     aggregation_update::{\n-        get_aggregation_number, get_uppers, is_aggregating_node, is_root_node,\n-        AggregatedDataUpdate, AggregationUpdateJob,\n+        AggregatedDataUpdate, AggregationUpdateJob, get_aggregation_number, get_uppers,\n+        is_aggregating_node, is_root_node,\n     },\n     cleanup_old_edges::OutdatedEdge,\n     connect_children::connect_children,"
        },
        {
            "sha": "8c148296a9481b07ed2e572e9d08ced631ebbe17",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/prepare_new_children.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fprepare_new_children.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fprepare_new_children.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fprepare_new_children.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -6,7 +6,7 @@ use turbo_tasks::TaskId;\n use crate::backend::{\n     get,\n     operation::{\n-        is_aggregating_node, is_root_node, AggregationUpdateJob, AggregationUpdateQueue, TaskGuard,\n+        AggregationUpdateJob, AggregationUpdateQueue, TaskGuard, is_aggregating_node, is_root_node,\n     },\n };\n "
        },
        {
            "sha": "fadf13d9fbf374189e91fb40b7e6da64a69381b2",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/update_cell.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_cell.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_cell.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_cell.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,12 +1,12 @@\n-use turbo_tasks::{backend::CellContent, CellId, TaskId};\n+use turbo_tasks::{CellId, TaskId, backend::CellContent};\n \n #[cfg(feature = \"trace_task_dirty\")]\n use crate::backend::operation::invalidate::TaskDirtyCause;\n use crate::{\n     backend::{\n+        TaskDataCategory,\n         operation::{ExecuteContext, InvalidateOperation, TaskGuard},\n         storage::{get_many, remove},\n-        TaskDataCategory,\n     },\n     data::{CachedDataItem, CachedDataItemKey},\n };"
        },
        {
            "sha": "274213cae5e208352bb4b4b686358c8cace948d9",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/update_collectible.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_collectible.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_collectible.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_collectible.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -5,13 +5,12 @@ use turbo_tasks::TaskId;\n \n use crate::{\n     backend::{\n-        get_many,\n+        TaskDataCategory, get_many,\n         operation::{\n-            get_aggregation_number, is_root_node, AggregatedDataUpdate, AggregationUpdateJob,\n-            AggregationUpdateQueue, ExecuteContext, Operation,\n+            AggregatedDataUpdate, AggregationUpdateJob, AggregationUpdateQueue, ExecuteContext,\n+            Operation, get_aggregation_number, is_root_node,\n         },\n         storage::{get, update_count},\n-        TaskDataCategory,\n     },\n     data::CollectibleRef,\n };"
        },
        {
            "sha": "1e563d17830c7b89665d744157aa7976a1e730c8",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/update_output.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_output.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_output.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fupdate_output.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,19 +1,19 @@\n use std::{borrow::Cow, mem::take};\n \n-use anyhow::{anyhow, Result};\n+use anyhow::{Result, anyhow};\n use serde::{Deserialize, Serialize};\n-use turbo_tasks::{util::SharedError, RawVc, TaskId};\n+use turbo_tasks::{RawVc, TaskId, util::SharedError};\n \n #[cfg(feature = \"trace_task_dirty\")]\n use crate::backend::operation::invalidate::TaskDirtyCause;\n use crate::{\n     backend::{\n+        TaskDataCategory,\n         operation::{\n-            invalidate::{make_task_dirty, make_task_dirty_internal},\n             AggregationUpdateQueue, ExecuteContext, Operation, TaskGuard,\n+            invalidate::{make_task_dirty, make_task_dirty_internal},\n         },\n         storage::{get, get_many},\n-        TaskDataCategory,\n     },\n     data::{\n         CachedDataItem, CachedDataItemKey, CellRef, InProgressState, InProgressStateInner,"
        },
        {
            "sha": "1e31ff9b0714b82ba5bd35e385f290f4018b3679",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/storage.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 10,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fstorage.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fstorage.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Fstorage.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,7 +1,7 @@\n use std::{\n     hash::Hash,\n     ops::{Deref, DerefMut},\n-    sync::{atomic::AtomicBool, Arc},\n+    sync::{Arc, atomic::AtomicBool},\n     thread::available_parallelism,\n };\n \n@@ -16,7 +16,7 @@ use crate::{\n         CachedDataItemValue, CachedDataItemValueRef, CachedDataItemValueRefMut, OutputValue,\n     },\n     data_storage::{AutoMapStorage, OptionStorage},\n-    utils::dash_map_multi::{get_multiple_mut, RefMut},\n+    utils::dash_map_multi::{RefMut, get_multiple_mut},\n };\n \n #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]\n@@ -654,8 +654,7 @@ impl Storage {\n \n         // The number of shards is much larger than the number of threads, so the effect of the\n         // locks held is negligible.\n-        let shards = self\n-            .modified\n+        self.modified\n             .shards()\n             .par_iter()\n             .with_max_len(1)\n@@ -696,9 +695,7 @@ impl Storage {\n                     process_snapshot,\n                 }\n             })\n-            .collect::<Vec<_>>();\n-\n-        shards\n+            .collect::<Vec<_>>()\n     }\n \n     /// Start snapshot mode.\n@@ -891,9 +888,7 @@ impl DerefMut for StorageWriteGuard<'_> {\n }\n \n macro_rules! count {\n-    ($task:ident, $key:ident) => {{\n-        $task.count($crate::data::CachedDataItemType::$key)\n-    }};\n+    ($task:ident, $key:ident) => {{ $task.count($crate::data::CachedDataItemType::$key) }};\n }\n \n macro_rules! get {"
        },
        {
            "sha": "7603c02201951f4370dc2e850a2710477fd76839",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backing_storage.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbacking_storage.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbacking_storage.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbacking_storage.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -2,7 +2,7 @@ use std::sync::Arc;\n \n use anyhow::Result;\n use smallvec::SmallVec;\n-use turbo_tasks::{backend::CachedTaskType, SessionId, TaskId};\n+use turbo_tasks::{SessionId, TaskId, backend::CachedTaskType};\n \n use crate::{\n     backend::{AnyOperation, TaskDataCategory},"
        },
        {
            "sha": "942e8002cc83b699abafc626cc94ede788649465",
            "filename": "turbopack/crates/turbo-tasks-backend/src/data.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdata.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdata.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdata.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,10 +3,10 @@ use std::cmp::Ordering;\n use rustc_hash::FxHashSet;\n use serde::{Deserialize, Serialize};\n use turbo_tasks::{\n+    CellId, KeyValuePair, SessionId, TaskId, TraitTypeId, TypedSharedReference, ValueTypeId,\n     event::{Event, EventListener},\n     registry,\n     util::SharedError,\n-    CellId, KeyValuePair, SessionId, TaskId, TraitTypeId, TypedSharedReference, ValueTypeId,\n };\n \n use crate::{"
        },
        {
            "sha": "7ae3162ea905ece8764abf0bc585cf4b8a40bf20",
            "filename": "turbopack/crates/turbo-tasks-backend/src/data_storage.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdata_storage.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdata_storage.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdata_storage.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,6 +1,6 @@\n use std::hash::{BuildHasherDefault, Hash};\n \n-use auto_hash_map::{map::Entry, AutoMap};\n+use auto_hash_map::{AutoMap, map::Entry};\n use rustc_hash::FxHasher;\n \n pub trait Storage {\n@@ -17,7 +17,7 @@ pub trait Storage {\n     fn get(&self, key: &Self::K) -> Option<&Self::V>;\n     fn get_mut(&mut self, key: &Self::K) -> Option<&mut Self::V>;\n     fn get_mut_or_insert_with(&mut self, key: Self::K, f: impl FnOnce() -> Self::V)\n-        -> &mut Self::V;\n+    -> &mut Self::V;\n     fn extract_if<'l, F>(&'l mut self, f: F) -> impl Iterator<Item = (Self::K, Self::V)>\n     where\n         F: for<'a, 'b> FnMut(&'a Self::K, &'b mut Self::V) -> bool + 'l;\n@@ -93,11 +93,7 @@ impl<V> Storage for OptionStorage<V> {\n     }\n \n     fn len(&self) -> usize {\n-        if self.value.is_some() {\n-            1\n-        } else {\n-            0\n-        }\n+        if self.value.is_some() { 1 } else { 0 }\n     }\n \n     fn iter(&self) -> Self::Iterator<'_> {"
        },
        {
            "sha": "f586522701958c77d5b7f545e666e10f823f53fa",
            "filename": "turbopack/crates/turbo-tasks-backend/src/database/turbo.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdatabase%2Fturbo.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdatabase%2Fturbo.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdatabase%2Fturbo.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,7 +1,7 @@\n use std::{\n     path::PathBuf,\n     sync::Arc,\n-    thread::{spawn, JoinHandle},\n+    thread::{JoinHandle, spawn},\n };\n \n use anyhow::Result;\n@@ -162,7 +162,7 @@ impl<'a> ConcurrentWriteBatch<'a> for TurboWriteBatch<'a> {\n     }\n \n     unsafe fn flush(&self, key_space: KeySpace) -> Result<()> {\n-        self.batch.flush(key_space as u32)\n+        unsafe { self.batch.flush(key_space as u32) }\n     }\n }\n "
        },
        {
            "sha": "43b0304f9afafdd95f85ed3ccd111c1d1b757ba5",
            "filename": "turbopack/crates/turbo-tasks-backend/src/kv_backing_storage.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fkv_backing_storage.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fkv_backing_storage.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fkv_backing_storage.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -1,11 +1,11 @@\n use std::{borrow::Borrow, cmp::max, sync::Arc};\n \n-use anyhow::{anyhow, Context, Result};\n+use anyhow::{Context, Result, anyhow};\n use rayon::iter::{IndexedParallelIterator, IntoParallelIterator, ParallelIterator};\n use serde::Serialize;\n use smallvec::SmallVec;\n use tracing::Span;\n-use turbo_tasks::{backend::CachedTaskType, turbo_tasks_scope, SessionId, TaskId};\n+use turbo_tasks::{SessionId, TaskId, backend::CachedTaskType, turbo_tasks_scope};\n \n use crate::{\n     backend::{AnyOperation, TaskDataCategory},\n@@ -180,7 +180,7 @@ impl<T: KeyValueDatabase + Send + Sync + 'static> BackingStorage\n \n         // Start organizing the updates in parallel\n         match &mut batch {\n-            WriteBatch::Concurrent(ref batch, _) => {\n+            &mut WriteBatch::Concurrent(ref batch, _) => {\n                 {\n                     let _span = tracing::trace_span!(\"update task data\").entered();\n                     process_task_data(snapshots, Some(batch))?;"
        },
        {
            "sha": "be2d162adfb2b58db341fff02dfb016a191e6e29",
            "filename": "turbopack/crates/turbo-tasks-backend/src/lib.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Flib.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -41,7 +41,7 @@ pub fn lmdb_backing_storage(\n     version_info: &GitVersionInfo,\n ) -> Result<LmdbBackingStorage> {\n     use crate::database::{\n-        fresh_db_optimization::{is_fresh, FreshDbOptimization},\n+        fresh_db_optimization::{FreshDbOptimization, is_fresh},\n         read_transaction_cache::ReadTransactionCache,\n         startup_cache::StartupCacheLayer,\n     };"
        },
        {
            "sha": "7684ba928011eeda29d7c1d8c4e629723371ad6d",
            "filename": "turbopack/crates/turbo-tasks-backend/src/utils/swap_retain.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Futils%2Fswap_retain.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Futils%2Fswap_retain.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Futils%2Fswap_retain.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -40,7 +40,7 @@ pub fn swap_retain<T>(vec: &mut impl VecLike<T>, mut f: impl FnMut(&mut T) -> bo\n \n #[cfg(test)]\n mod tests {\n-    use smallvec::{smallvec, SmallVec};\n+    use smallvec::{SmallVec, smallvec};\n \n     use super::swap_retain;\n "
        },
        {
            "sha": "f68012ba07a2e11191b04c4a74eb810b80e18f40",
            "filename": "turbopack/crates/turbo-tasks-backend/tests/trace_transient.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftrace_transient.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftrace_transient.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftrace_transient.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,8 +3,8 @@\n \n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n-use turbo_tasks::{trace::TraceRawVcs, NonLocalValue, ResolvedVc, TaskInput, Vc};\n-use turbo_tasks_testing::{register, run_without_cache_check, Registration};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, TaskInput, Vc, trace::TraceRawVcs};\n+use turbo_tasks_testing::{Registration, register, run_without_cache_check};\n \n static REGISTRATION: Registration = register!();\n \n@@ -32,10 +32,12 @@ async fn test_trace_transient() {\n         anyhow::Ok(())\n     })\n     .await;\n-    assert!(result\n-        .unwrap_err()\n-        .to_string()\n-        .contains(&EXPECTED_TRACE.escape_debug().to_string()));\n+    assert!(\n+        result\n+            .unwrap_err()\n+            .to_string()\n+            .contains(&EXPECTED_TRACE.escape_debug().to_string())\n+    );\n }\n \n #[turbo_tasks::value]"
        },
        {
            "sha": "5610dfa7686b4abc2ef506827419c73745926987",
            "filename": "turbopack/crates/turbo-tasks-backend/tests/transient_collectible.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftransient_collectible.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftransient_collectible.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftransient_collectible.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -2,8 +2,8 @@\n #![feature(arbitrary_self_types_pointers)]\n \n use serde::{Deserialize, Serialize};\n-use turbo_tasks::{trace::TraceRawVcs, NonLocalValue, ResolvedVc, TaskInput};\n-use turbo_tasks_testing::{register, run_without_cache_check, Registration};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, TaskInput, trace::TraceRawVcs};\n+use turbo_tasks_testing::{Registration, register, run_without_cache_check};\n \n static REGISTRATION: Registration = register!();\n \n@@ -19,10 +19,12 @@ async fn test_transient_emit_from_persistent() {\n         anyhow::Ok(())\n     })\n     .await;\n-    assert!(result\n-        .unwrap_err()\n-        .to_string()\n-        .contains(&EXPECTED_MSG.escape_debug().to_string()));\n+    assert!(\n+        result\n+            .unwrap_err()\n+            .to_string()\n+            .contains(&EXPECTED_MSG.escape_debug().to_string())\n+    );\n }\n \n #[turbo_tasks::function(operation)]"
        },
        {
            "sha": "28e48fab6ec4362f600a7ba2844a401226c4981d",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/all_in_one.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fall_in_one.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fall_in_one.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fall_in_one.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -2,10 +2,10 @@\n #![feature(arbitrary_self_types)]\n #![feature(arbitrary_self_types_pointers)]\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, Value, ValueToString, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "c6bf73d28a5e2314337adc87d3bb45848cee2197",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/basic.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fbasic.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fbasic.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fbasic.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::Vc;\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "e59df5c8f1cfbd8602ced3ec565c0b2aa408943d",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/call_types.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fcall_types.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fcall_types.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fcall_types.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::Vc;\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "bbc4781e3b91a8fde32946fbcc66121d36a25b04",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/collectibles.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fcollectibles.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fcollectibles.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fcollectibles.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -9,8 +9,8 @@ use auto_hash_map::AutoSet;\n use rustc_hash::FxHashSet;\n use tokio::time::sleep;\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{emit, CollectiblesSource, ResolvedVc, ValueToString, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{CollectiblesSource, ResolvedVc, ValueToString, Vc, emit};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "854d57b2343956559a89a080657bbe30f44fe704",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/debug.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdebug.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdebug.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdebug.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,8 +4,8 @@\n \n use std::sync::Mutex;\n \n-use turbo_tasks::{debug::ValueDebug, ResolvedVc, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{ResolvedVc, Vc, debug::ValueDebug};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "c76c23590f8abb72a26bb431cb26992e4ebb6395",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/detached.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdetached.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdetached.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdetached.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,15 +3,15 @@\n #![feature(arbitrary_self_types_pointers)]\n \n use tokio::{\n-    sync::{watch, Notify},\n-    time::{sleep, timeout, Duration},\n+    sync::{Notify, watch},\n+    time::{Duration, sleep, timeout},\n };\n use turbo_tasks::{\n-    prevent_gc,\n+    State, TransientInstance, Vc, prevent_gc,\n     trace::{TraceRawVcs, TraceRawVcsContext},\n-    turbo_tasks, State, TransientInstance, Vc,\n+    turbo_tasks,\n };\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "8171cead7dd405d173b65ea3ff1986d88de3f032",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/dirty_in_progress.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdirty_in_progress.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdirty_in_progress.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fdirty_in_progress.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,10 +4,10 @@\n \n use std::time::Duration;\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{emit, CollectiblesSource, ResolvedVc, State, ValueToString, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{CollectiblesSource, ResolvedVc, State, ValueToString, Vc, emit};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "4a3ddce3bfa73e8df9c06e750dee994c28af834e",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/emptied_cells.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Femptied_cells.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Femptied_cells.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Femptied_cells.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::{State, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "7747d87ee1ca4922104fbafb296627b983d566d1",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/filter_unused_args.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ffilter_unused_args.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ffilter_unused_args.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ffilter_unused_args.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::Vc;\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "ee3602b4f0e1fbc5fccf2ca213a88488b69b629d",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/local_tasks.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Flocal_tasks.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Flocal_tasks.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Flocal_tasks.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,8 +3,8 @@\n #![allow(clippy::needless_return)] // tokio macro-generated code doesn't respect this\n \n use anyhow::Result;\n-use turbo_tasks::{test_helpers::current_task_for_testing, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{Vc, test_helpers::current_task_for_testing};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "125ec9b8943649a5c31bd94b8c44391eb9dcc7a1",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/operation_vc.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Foperation_vc.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Foperation_vc.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Foperation_vc.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::{OperationVc, ResolvedVc, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "61a2dcac385b27ceba69b7aa208dc6412fba7434",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/performance.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fperformance.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fperformance.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fperformance.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -6,7 +6,7 @@ use std::{future::Future, time::Duration};\n \n use anyhow::Result;\n use turbo_tasks::{TransientInstance, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "841c4564af44482ef10aff3dcb96187e23b5749f",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/random_change.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frandom_change.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frandom_change.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frandom_change.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -2,10 +2,10 @@\n #![feature(arbitrary_self_types_pointers)]\n #![allow(clippy::needless_return)] // tokio macro-generated code doesn't respect this\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use rand::Rng;\n use turbo_tasks::{State, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "7949c493f52618306b20119078a9e62e49ff54d1",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/read_ref_cell.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fread_ref_cell.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fread_ref_cell.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fread_ref_cell.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -5,8 +5,8 @@\n use std::sync::Mutex;\n \n use anyhow::Result;\n-use turbo_tasks::{get_invalidator, Invalidator, ReadRef, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{Invalidator, ReadRef, Vc, get_invalidator};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "f6d9f3210ac6293520ed73dcfdabdc232153879c",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/recompute.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frecompute.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frecompute.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frecompute.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::{State, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "54074af628add5406275d33f6a10419e5b044dc9",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/recompute_collectibles.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frecompute_collectibles.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frecompute_collectibles.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Frecompute_collectibles.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -2,10 +2,10 @@\n #![feature(arbitrary_self_types_pointers)]\n #![allow(clippy::needless_return)] // clippy bug causes false positive\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{emit, CollectiblesSource, ResolvedVc, State, ValueToString, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{CollectiblesSource, ResolvedVc, State, ValueToString, Vc, emit};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "ad4692bf6f6ea0361711f3c40e611f281318a3b7",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/resolved_vc.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fresolved_vc.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fresolved_vc.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fresolved_vc.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::{ReadRef, ResolvedVc, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "524a78950acf227d74e2d0dea6a53d9335b95c77",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/shrink_to_fit.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fshrink_to_fit.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fshrink_to_fit.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Fshrink_to_fit.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -4,7 +4,7 @@\n \n use anyhow::Result;\n use turbo_tasks::Vc;\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "c023d9a0adb6a581a870d437697f55b47e36d465",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/task_statistics.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftask_statistics.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftask_statistics.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftask_statistics.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -9,7 +9,7 @@ use once_cell::sync::Lazy;\n use regex::Regex;\n use serde_json::json;\n use turbo_tasks::Vc;\n-use turbo_tasks_testing::{register, run_without_cache_check, Registration};\n+use turbo_tasks_testing::{Registration, register, run_without_cache_check};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "59e62f754765ae8368aef975070156275e33ce24",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/trait_ref_cell.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftrait_ref_cell.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftrait_ref_cell.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftrait_ref_cell.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -5,8 +5,8 @@\n use std::sync::Mutex;\n \n use anyhow::Result;\n-use turbo_tasks::{get_invalidator, IntoTraitRef, Invalidator, TraitRef, Vc};\n-use turbo_tasks_testing::{register, run, Registration};\n+use turbo_tasks::{IntoTraitRef, Invalidator, TraitRef, Vc, get_invalidator};\n+use turbo_tasks_testing::{Registration, register, run};\n \n static REGISTRATION: Registration = register!();\n "
        },
        {
            "sha": "7db072310c915df44ec3a30cdf789eb9cc89eb3b",
            "filename": "turbopack/crates/turbo-tasks-testing/tests/transient_vc.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftransient_vc.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftransient_vc.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Ftests%2Ftransient_vc.rs?ref=9bf6e364d484f3ab7eed18b67fbd878dfc3bee6f",
            "patch": "@@ -3,7 +3,7 @@\n \n use anyhow::Result;\n use turbo_tasks::{TaskInput, TransientValue, Vc};\n-use turbo_tasks_testing::{register, run_without_cache_check, Registration};\n+use turbo_tasks_testing::{Registration, register, run_without_cache_check};\n \n static REGISTRATION: Registration = register!();\n "
        }
    ],
    "stats": {
        "total": 238,
        "additions": 114,
        "deletions": 124
    }
}