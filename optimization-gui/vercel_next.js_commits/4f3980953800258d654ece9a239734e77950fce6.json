{
    "author": "bgw",
    "message": "Turbopack: chore: Merge `turbo-tasks-macros-shared` crate into `turbo-tasks-macros` (#85917)\n\nThis was left over from the `turbo-tasks-build` crate, which @lukesandberg eliminated in favor of `inventory`. This crate was used for sharing code between `turbo-tasks-build` and `turbo-tasks-macros`.\n\nWe can just merge these crates together now.\n\nRegarding compilation time: The dependency graph here is pretty linear, so I don't think there's any benefit from splitting these.",
    "sha": "4f3980953800258d654ece9a239734e77950fce6",
    "files": [
        {
            "sha": "44fc569dff5359e091fdf5a62f36bce8c6a8acb3",
            "filename": "Cargo.lock",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/Cargo.lock",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/Cargo.lock",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.lock?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -9385,16 +9385,6 @@ dependencies = [\n  \"regex\",\n  \"rustc-hash 2.1.1\",\n  \"syn 2.0.104\",\n- \"turbo-tasks-macros-shared\",\n-]\n-\n-[[package]]\n-name = \"turbo-tasks-macros-shared\"\n-version = \"0.1.0\"\n-dependencies = [\n- \"proc-macro2\",\n- \"quote\",\n- \"syn 2.0.104\",\n ]\n \n [[package]]"
        },
        {
            "sha": "e685d439e41fec62492432c4882a039a82762821",
            "filename": "Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/Cargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/Cargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.toml?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -308,7 +308,6 @@ turbo-tasks-fetch = { path = \"turbopack/crates/turbo-tasks-fetch\" }\n turbo-tasks-fs = { path = \"turbopack/crates/turbo-tasks-fs\" }\n turbo-tasks-hash = { path = \"turbopack/crates/turbo-tasks-hash\" }\n turbo-tasks-macros = { path = \"turbopack/crates/turbo-tasks-macros\" }\n-turbo-tasks-macros-shared = { path = \"turbopack/crates/turbo-tasks-macros-shared\" }\n turbo-tasks-testing = { path = \"turbopack/crates/turbo-tasks-testing\" }\n turbopack = { path = \"turbopack/crates/turbopack\" }\n turbopack-bench = { path = \"turbopack/crates/turbopack-bench\" }"
        },
        {
            "sha": "3807580446f389a218fcc0e73fe0d4c869501730",
            "filename": "turbopack/crates/turbo-tasks-macros-shared/Cargo.toml",
            "status": "removed",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/d358c547c94429c05dcc7a6964684236d8b36dc4/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d358c547c94429c05dcc7a6964684236d8b36dc4/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2FCargo.toml?ref=d358c547c94429c05dcc7a6964684236d8b36dc4",
            "patch": "@@ -1,17 +0,0 @@\n-[package]\n-name = \"turbo-tasks-macros-shared\"\n-version = \"0.1.0\"\n-description = \"TBD\"\n-license = \"MIT\"\n-edition = \"2024\"\n-\n-[lib]\n-bench = false\n-\n-[lints]\n-workspace = true\n-\n-[dependencies]\n-proc-macro2 = { workspace = true }\n-quote = { workspace = true }\n-syn = { workspace = true, features = [\"full\", \"extra-traits\", \"visit\"] }"
        },
        {
            "sha": "ab4de49a59dd464d61609a54c33e6cd9bc73fbe6",
            "filename": "turbopack/crates/turbo-tasks-macros-shared/readme.md",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/d358c547c94429c05dcc7a6964684236d8b36dc4/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2Freadme.md",
            "raw_url": "https://github.com/vercel/next.js/raw/d358c547c94429c05dcc7a6964684236d8b36dc4/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2Freadme.md",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2Freadme.md?ref=d358c547c94429c05dcc7a6964684236d8b36dc4",
            "patch": "@@ -1,3 +0,0 @@\n-# turbo-tasks-macros-shared\n-\n-Shared utilities between `turbo-tasks-macros` and `turbo-tasks-build`."
        },
        {
            "sha": "502882e745c18449eb3dfb3f58b3fb47ec374bae",
            "filename": "turbopack/crates/turbo-tasks-macros-shared/src/lib.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/d358c547c94429c05dcc7a6964684236d8b36dc4/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d358c547c94429c05dcc7a6964684236d8b36dc4/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros-shared%2Fsrc%2Flib.rs?ref=d358c547c94429c05dcc7a6964684236d8b36dc4",
            "patch": "@@ -1,16 +0,0 @@\n-#![feature(proc_macro_diagnostic)]\n-#![feature(box_patterns)]\n-\n-mod expand;\n-mod generic_type_input;\n-mod ident;\n-mod primitive_input;\n-mod self_filter;\n-mod value_trait_arguments;\n-\n-pub use expand::*;\n-pub use generic_type_input::GenericTypeInput;\n-pub use ident::*;\n-pub use primitive_input::PrimitiveInput;\n-pub use self_filter::is_self_used;\n-pub use value_trait_arguments::ValueTraitArguments;"
        },
        {
            "sha": "e49b490f07f02f8cac839e190605c6186cf0912a",
            "filename": "turbopack/crates/turbo-tasks-macros/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2FCargo.toml?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -20,4 +20,3 @@ quote = { workspace = true }\n regex = { workspace = true }\n rustc-hash = { workspace = true }\n syn = { workspace = true, features = [\"full\", \"extra-traits\", \"visit\", \"visit-mut\"] }\n-turbo-tasks-macros-shared = { workspace = true }"
        },
        {
            "sha": "a1b6407137693dbd947938036763fd53b521e703",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/deterministic_hash_macro.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fdeterministic_hash_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fdeterministic_hash_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fdeterministic_hash_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -2,7 +2,8 @@ use proc_macro::TokenStream;\n use proc_macro2::TokenStream as TokenStream2;\n use quote::quote;\n use syn::{Data, DeriveInput, FieldsNamed, FieldsUnnamed, parse_macro_input};\n-use turbo_tasks_macros_shared::{generate_exhaustive_destructuring, match_expansion};\n+\n+use crate::expand::{generate_exhaustive_destructuring, match_expansion};\n \n /// This macro generates the implementation of the `DeterministicHash` trait for\n /// a given type."
        },
        {
            "sha": "4b5fb047d937b4c6a87000c9d99fc52bac07b638",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/task_input_macro.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftask_input_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftask_input_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftask_input_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -1,7 +1,8 @@\n use proc_macro::TokenStream;\n use quote::quote;\n use syn::{DeriveInput, parse_macro_input, spanned::Spanned};\n-use turbo_tasks_macros_shared::{generate_exhaustive_destructuring, match_expansion};\n+\n+use crate::expand::{generate_exhaustive_destructuring, match_expansion};\n \n pub fn derive_task_input(input: TokenStream) -> TokenStream {\n     let derive_input = parse_macro_input!(input as DeriveInput);"
        },
        {
            "sha": "d9d5c211b4ab1e3f0f51b76bcea333f9c7d1525e",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/trace_raw_vcs_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftrace_raw_vcs_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftrace_raw_vcs_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Ftrace_raw_vcs_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -2,9 +2,9 @@ use proc_macro::TokenStream;\n use proc_macro2::TokenStream as TokenStream2;\n use quote::quote;\n use syn::{DeriveInput, Field, FieldsNamed, FieldsUnnamed, parse_macro_input};\n-use turbo_tasks_macros_shared::{generate_destructuring, match_expansion};\n \n use super::FieldAttributes;\n+use crate::expand::{generate_destructuring, match_expansion};\n \n pub fn filter_field(field: &Field) -> bool {\n     !FieldAttributes::from(field.attrs.as_slice()).trace_ignore"
        },
        {
            "sha": "477222d39e254c439fc5945096b7fe7009ba5878",
            "filename": "turbopack/crates/turbo-tasks-macros/src/derive/value_debug_format_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_format_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_format_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fderive%2Fvalue_debug_format_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -2,9 +2,9 @@ use proc_macro::TokenStream;\n use proc_macro2::TokenStream as TokenStream2;\n use quote::quote;\n use syn::{DeriveInput, Field, FieldsNamed, FieldsUnnamed, parse_macro_input};\n-use turbo_tasks_macros_shared::{generate_destructuring, match_expansion};\n \n use super::FieldAttributes;\n+use crate::expand::{generate_destructuring, match_expansion};\n \n fn filter_field(field: &Field) -> bool {\n     !FieldAttributes::from(field.attrs.as_slice()).debug_ignore"
        },
        {
            "sha": "43bc26a2e3acd831e6ce140bd7ac0ab9eccf88f1",
            "filename": "turbopack/crates/turbo-tasks-macros/src/expand.rs",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fexpand.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fexpand.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fexpand.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "previous_filename": "turbopack/crates/turbo-tasks-macros-shared/src/expand.rs"
        },
        {
            "sha": "0816e106a78682f1b5733392ee1719cf29e3b32d",
            "filename": "turbopack/crates/turbo-tasks-macros/src/function_macro.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunction_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunction_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Ffunction_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -1,11 +1,12 @@\n use proc_macro::TokenStream;\n use quote::quote;\n use syn::{ItemFn, parse_macro_input, parse_quote};\n-use turbo_tasks_macros_shared::{get_native_function_ident, is_self_used};\n \n use crate::{\n     func::{DefinitionContext, FunctionArguments, NativeFn, TurboFn, filter_inline_attributes},\n     global_name::global_name,\n+    ident::get_native_function_ident,\n+    self_filter::is_self_used,\n };\n \n /// This macro generates the virtual function that powers turbo tasks."
        },
        {
            "sha": "ebac1308951e22df503533c9d45431eb6c3cfcce",
            "filename": "turbopack/crates/turbo-tasks-macros/src/generic_type_input.rs",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_input.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_input.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_input.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "previous_filename": "turbopack/crates/turbo-tasks-macros-shared/src/generic_type_input.rs"
        },
        {
            "sha": "d455e34c2b65b85b82f5cf9adba23b5792ffd54c",
            "filename": "turbopack/crates/turbo-tasks-macros/src/generic_type_macro.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fgeneric_type_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -2,9 +2,11 @@ use proc_macro::TokenStream;\n use quote::quote;\n use rustc_hash::FxHashSet;\n use syn::{GenericParam, Lifetime, Type, parse_macro_input, spanned::Spanned, visit_mut::VisitMut};\n-use turbo_tasks_macros_shared::{GenericTypeInput, get_type_ident};\n \n-use crate::{global_name::global_name, value_macro::value_type_and_register};\n+use crate::{\n+    generic_type_input::GenericTypeInput, global_name::global_name, ident::get_type_ident,\n+    value_macro::value_type_and_register,\n+};\n \n pub fn generic_type(input: TokenStream) -> TokenStream {\n     let mut input = parse_macro_input!(input as GenericTypeInput);"
        },
        {
            "sha": "38d24469f31a1f291cd1bf6fe22c8a98c01adddd",
            "filename": "turbopack/crates/turbo-tasks-macros/src/ident.rs",
            "status": "renamed",
            "additions": 0,
            "deletions": 38,
            "changes": 38,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fident.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fident.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fident.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -22,17 +22,6 @@ pub fn get_trait_type_ident(ident: &Ident) -> Ident {\n     )\n }\n \n-pub fn get_impl_function_ident(struct_ident: &Ident, ident: &Ident) -> Ident {\n-    Ident::new(\n-        &format!(\n-            \"{}_IMPL_{}_FUNCTION\",\n-            struct_ident.to_string().to_uppercase(),\n-            ident.to_string().to_uppercase()\n-        ),\n-        ident.span(),\n-    )\n-}\n-\n pub fn get_inherent_impl_function_ident(ty_ident: &Ident, fn_ident: &Ident) -> Ident {\n     Ident::new(\n         &format!(\n@@ -44,17 +33,6 @@ pub fn get_inherent_impl_function_ident(ty_ident: &Ident, fn_ident: &Ident) -> I\n     )\n }\n \n-pub fn get_inherent_impl_function_id_ident(ty_ident: &Ident, fn_ident: &Ident) -> Ident {\n-    Ident::new(\n-        &format!(\n-            \"{}_IMPL_{}_FUNCTION_ID\",\n-            ty_ident.to_string().to_uppercase(),\n-            fn_ident.to_string().to_uppercase()\n-        ),\n-        fn_ident.span(),\n-    )\n-}\n-\n pub fn get_trait_impl_function_ident(\n     struct_ident: &Ident,\n     trait_ident: &Ident,\n@@ -71,22 +49,6 @@ pub fn get_trait_impl_function_ident(\n     )\n }\n \n-pub fn get_trait_impl_function_id_ident(\n-    struct_ident: &Ident,\n-    trait_ident: &Ident,\n-    ident: &Ident,\n-) -> Ident {\n-    Ident::new(\n-        &format!(\n-            \"{}_IMPL_TRAIT_{}_{}_FUNCTION_ID\",\n-            struct_ident.to_string().to_uppercase(),\n-            trait_ident.to_string().to_uppercase(),\n-            ident.to_string().to_uppercase()\n-        ),\n-        ident.span(),\n-    )\n-}\n-\n pub fn get_path_ident(path: &Path) -> Ident {\n     let mut result = String::new();\n ",
            "previous_filename": "turbopack/crates/turbo-tasks-macros-shared/src/ident.rs"
        },
        {
            "sha": "cde19e18830396c4c88652a9ef54dd412170b7fc",
            "filename": "turbopack/crates/turbo-tasks-macros/src/lib.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Flib.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -14,6 +14,13 @@ mod value_impl_macro;\n mod value_macro;\n mod value_trait_macro;\n \n+mod expand;\n+mod generic_type_input;\n+mod ident;\n+mod primitive_input;\n+mod self_filter;\n+mod value_trait_arguments;\n+\n use proc_macro::TokenStream;\n use proc_macro_error::proc_macro_error;\n "
        },
        {
            "sha": "d76babd90594728fb0885c7e68ea1ce656935bb5",
            "filename": "turbopack/crates/turbo-tasks-macros/src/primitive_input.rs",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_input.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_input.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_input.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "previous_filename": "turbopack/crates/turbo-tasks-macros-shared/src/primitive_input.rs"
        },
        {
            "sha": "35f537bf013529b52df7c2b9fd6ce2f1b071851d",
            "filename": "turbopack/crates/turbo-tasks-macros/src/primitive_macro.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fprimitive_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -1,9 +1,11 @@\n use proc_macro::TokenStream;\n use quote::quote;\n use syn::parse_macro_input;\n-use turbo_tasks_macros_shared::{PrimitiveInput, get_type_ident};\n \n-use crate::{global_name::global_name, value_macro::value_type_and_register};\n+use crate::{\n+    global_name::global_name, ident::get_type_ident, primitive_input::PrimitiveInput,\n+    value_macro::value_type_and_register,\n+};\n \n pub fn primitive(input: TokenStream) -> TokenStream {\n     let input = parse_macro_input!(input as PrimitiveInput);"
        },
        {
            "sha": "3ff4aa3d477caf6c4552a5b67e0dee2b19719868",
            "filename": "turbopack/crates/turbo-tasks-macros/src/self_filter.rs",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fself_filter.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fself_filter.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fself_filter.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "previous_filename": "turbopack/crates/turbo-tasks-macros-shared/src/self_filter.rs"
        },
        {
            "sha": "991e583d74509cc58f762adf156015385e5b8b9a",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_impl_macro.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_impl_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_impl_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_impl_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -8,17 +8,18 @@ use syn::{\n     parse_macro_input, parse_quote,\n     spanned::Spanned,\n };\n-use turbo_tasks_macros_shared::{\n-    get_cast_to_fat_pointer_ident, get_inherent_impl_function_ident, get_path_ident,\n-    get_trait_impl_function_ident, get_type_ident, is_self_used,\n-};\n \n use crate::{\n     func::{\n         DefinitionContext, FunctionArguments, NativeFn, TurboFn, filter_inline_attributes,\n         split_function_attributes,\n     },\n     global_name::global_name,\n+    ident::{\n+        get_cast_to_fat_pointer_ident, get_inherent_impl_function_ident, get_path_ident,\n+        get_trait_impl_function_ident, get_type_ident,\n+    },\n+    self_filter::is_self_used,\n };\n \n struct ValueImplArguments {"
        },
        {
            "sha": "487180e55314ccb89f9882123e618ce9bb98c77d",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_macro.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -11,9 +11,8 @@ use syn::{\n     parse_macro_input, parse_quote,\n     spanned::Spanned,\n };\n-use turbo_tasks_macros_shared::get_value_type_ident;\n \n-use crate::global_name::global_name;\n+use crate::{global_name::global_name, ident::get_value_type_ident};\n \n enum CellMode {\n     Compare,"
        },
        {
            "sha": "5f622c2c5878f8f993fb0bb4d5a21f8be8d76209",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_trait_arguments.rs",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_arguments.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_arguments.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_arguments.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "previous_filename": "turbopack/crates/turbo-tasks-macros-shared/src/value_trait_arguments.rs"
        },
        {
            "sha": "44611f68f72beab40618519ccd17acbfa1255512",
            "filename": "turbopack/crates/turbo-tasks-macros/src/value_trait_macro.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_macro.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4f3980953800258d654ece9a239734e77950fce6/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_macro.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros%2Fsrc%2Fvalue_trait_macro.rs?ref=4f3980953800258d654ece9a239734e77950fce6",
            "patch": "@@ -5,16 +5,16 @@ use syn::{\n     FnArg, ItemTrait, Pat, Receiver, TraitItem, TraitItemFn, parse_macro_input, parse_quote,\n     spanned::Spanned,\n };\n-use turbo_tasks_macros_shared::{\n-    ValueTraitArguments, get_trait_default_impl_function_ident, get_trait_type_ident, is_self_used,\n-};\n \n use crate::{\n     func::{\n         DefinitionContext, FunctionArguments, NativeFn, TurboFn, filter_inline_attributes,\n         get_receiver_style, split_function_attributes,\n     },\n     global_name::global_name,\n+    ident::{get_trait_default_impl_function_ident, get_trait_type_ident},\n+    self_filter::is_self_used,\n+    value_trait_arguments::ValueTraitArguments,\n };\n \n pub fn value_trait(args: TokenStream, input: TokenStream) -> TokenStream {"
        }
    ],
    "stats": {
        "total": 136,
        "additions": 32,
        "deletions": 104
    }
}