{
    "author": "devjiwonchoi",
    "message": "[bundle-analyzer] Disable revalidateOnFocus and revalidateOnReconnect (#86688)\n\nFor the `experimental-analyze`, the page resets its selected state\n`onSuccess`.\n\n\nhttps://github.com/vercel/next.js/blob/2307d46f511d02f48d4b8f93713c4bc087c0e5ff/apps/bundle-analyzer/app/page.tsx#L64-L68\n\nHowever, since SWR revalidates on focus, if you click outside the tab\nand come back, e.g., write to docs or messengers, it revalidates and\nresets the state. Since the current view can be inside multiple depths,\nlosing that state for focus can be painful. Therefore, set\n`revalidateOnFocus` to false. For similar reasons, set\n`revalidateOnReconnect` to false as well.\n\n### Before\n\n\nhttps://github.com/user-attachments/assets/ed04b4c2-f414-4fd9-9a6e-4c910031af9f\n\n### After\n\n\nhttps://github.com/user-attachments/assets/4130e3ca-9f3a-4f8b-8a5b-a8eb8d7d23dc",
    "sha": "c40eb0c18ebab15fccb676d3eeb3f70d42bb2cc5",
    "files": [
        {
            "sha": "7c3d4f703128a4e1c0c23524f9bba6319a3a344f",
            "filename": "apps/bundle-analyzer/app/page.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c40eb0c18ebab15fccb676d3eeb3f70d42bb2cc5/apps%2Fbundle-analyzer%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c40eb0c18ebab15fccb676d3eeb3f70d42bb2cc5/apps%2Fbundle-analyzer%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fapp%2Fpage.tsx?ref=c40eb0c18ebab15fccb676d3eeb3f70d42bb2cc5",
            "patch": "@@ -61,6 +61,8 @@ export default function Home() {\n     isLoading: isAnalyzeLoading,\n     error: analyzeError,\n   } = useSWR<AnalyzeData>(analyzeDataPath, fetchAnalyzeData, {\n+    revalidateOnFocus: false,\n+    revalidateOnReconnect: false,\n     onSuccess: (newData) => {\n       const newRootSourceIndex = getRootSourceIndex(newData)\n       setSelectedSourceIndex(newRootSourceIndex)"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}