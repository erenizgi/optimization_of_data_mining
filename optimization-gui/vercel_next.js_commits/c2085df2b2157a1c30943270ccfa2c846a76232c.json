{
    "author": "devjiwonchoi",
    "message": "[dev-overlay] change dev indicator position by next config option (#76077)\n\n### What?\r\n\r\nThis PR uses the `devIndicators.position` option to set the position of the dev indicator.\r\nThe default option is changed from `\"bottom-right\"` to `\"bottom-left\"` to sync the previous dev indicator behavior, but have covered backward compatibility for the default position of old overlay's build activity indicator.\r\n\r\n### Success Criteria\r\n\r\n- [x] Does setting `buildActivityPosition` correctly set the dev indicator position?\r\n- [x] Does setting the `position` correctly set the dev indicator position?\r\n- [x] Does it default to `\"bottom-left\"`?\r\n- [x] Does the dev indicator popover display properly based on the `position`?\r\n\r\nBackwards Compatible:\r\n\r\n> Are there any breaking changes?\r\n\r\n- [x]  Is the position `\"bottom-right\"` on the old overlay if the user hasn't set the `position`?\r\n- [x] Is the position `\"bottom-right\"` on the old overlay if the user hasn't set the `buildActivityPosition`?\r\n- [x] Does the position follow the `position` option?\r\n- [x] Does the position follow the `buildActivityPosition` option?\r\n\r\nhttps://github.com/user-attachments/assets/a5dba705-1b9d-4470-80e6-1952b22c2f46\r\n\r\nCloses NDX-838",
    "sha": "c2085df2b2157a1c30943270ccfa2c846a76232c",
    "files": [
        {
            "sha": "612391710577b37dd64cad080195bef901289433",
            "filename": "packages/next/src/build/webpack/plugins/define-env-plugin.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fdefine-env-plugin.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fdefine-env-plugin.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fdefine-env-plugin.ts?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -239,8 +239,8 @@ export function getDefineEnv({\n     'process.env.__NEXT_TRAILING_SLASH': config.trailingSlash,\n     'process.env.__NEXT_BUILD_INDICATOR':\n       config.devIndicators.buildActivity ?? true,\n-    'process.env.__NEXT_BUILD_INDICATOR_POSITION':\n-      config.devIndicators.position ?? 'bottom-right',\n+    'process.env.__NEXT_DEV_INDICATOR_POSITION':\n+      config.devIndicators.position ?? 'bottom-left',\n     'process.env.__NEXT_STRICT_MODE':\n       config.reactStrictMode === null ? false : config.reactStrictMode,\n     'process.env.__NEXT_STRICT_MODE_APP':"
        },
        {
            "sha": "883c90bdf4ff4574cc2c18f4392dce2fb3d54d5e",
            "filename": "packages/next/src/client/components/react-dev-overlay/_experimental/internal/components/errors/dev-tools-indicator/dev-tools-indicator.stories.tsx",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.stories.tsx?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -9,6 +9,13 @@ const meta: Meta<typeof DevToolsIndicator> = {\n   parameters: {\n     layout: 'centered',\n   },\n+  argTypes: {\n+    position: {\n+      control: 'select',\n+      options: ['top-left', 'top-right', 'bottom-left', 'bottom-right'],\n+      defaultValue: 'bottom-left',\n+    },\n+  },\n   decorators: [\n     withShadowPortal,\n     // Test for high z-index"
        },
        {
            "sha": "4f2173167ec13bc4cc8757e3e64e42c34109e64e",
            "filename": "packages/next/src/client/components/react-dev-overlay/_experimental/internal/components/errors/dev-tools-indicator/dev-tools-indicator.tsx",
            "status": "modified",
            "additions": 162,
            "deletions": 8,
            "changes": 170,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.tsx?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -7,17 +7,28 @@ import { Cross, NextLogo } from './internal/next-logo'\n import { useIsDevBuilding } from '../../../../../../../dev/dev-build-indicator/internal/initialize-for-new-overlay'\n import { useIsDevRendering } from './internal/dev-render-indicator'\n import { useDelayedRender } from '../../../hooks/use-delayed-render'\n+import { noop as css } from '../../../helpers/noop-template'\n \n // TODO: add E2E tests to cover different scenarios\n \n+const INDICATOR_POSITION =\n+  (process.env\n+    .__NEXT_DEV_INDICATOR_POSITION as typeof window.__NEXT_DEV_INDICATOR_POSITION) ||\n+  'bottom-left'\n+\n+type DevToolsIndicatorPosition = typeof INDICATOR_POSITION\n+\n export function DevToolsIndicator({\n   state,\n   errorCount,\n   setIsErrorOverlayOpen,\n+  position = INDICATOR_POSITION,\n }: {\n   state: OverlayState\n   errorCount: number\n   setIsErrorOverlayOpen: Dispatch<SetStateAction<boolean>>\n+  // Technically this prop isn't needed, but useful for testing.\n+  position?: DevToolsIndicatorPosition\n }) {\n   const [isDevToolsIndicatorOpen, setIsDevToolsIndicatorOpen] = useState(true)\n \n@@ -32,6 +43,7 @@ export function DevToolsIndicator({\n         }}\n         setIsErrorOverlayOpen={setIsErrorOverlayOpen}\n         isTurbopack={!!process.env.TURBOPACK}\n+        position={position}\n       />\n     )\n   )\n@@ -54,13 +66,15 @@ function DevToolsPopover({\n   issueCount,\n   isStaticRoute,\n   isTurbopack,\n+  position,\n   hide,\n   setIsErrorOverlayOpen,\n }: {\n   issueCount: number\n   isStaticRoute: boolean\n   semver: string | undefined\n   isTurbopack: boolean\n+  position: DevToolsIndicatorPosition\n   hide: () => void\n   setIsErrorOverlayOpen: Dispatch<SetStateAction<boolean>>\n }) {\n@@ -174,12 +188,19 @@ function DevToolsPopover({\n     }, ANIMATE_OUT_DURATION_MS)\n   }\n \n+  const [vertical, horizontal] = position.split('-', 2)\n+\n   return (\n     <Toast\n       data-nextjs-toast\n       style={{\n         boxShadow: 'none',\n         zIndex: 2147483647,\n+        // Reset the toast component's default positions.\n+        bottom: 'initial',\n+        left: 'initial',\n+        [vertical]: 'var(--size-2_5)',\n+        [horizontal]: 'var(--size-5)',\n       }}\n     >\n       <NextLogo\n@@ -206,13 +227,15 @@ function DevToolsPopover({\n           aria-orientation=\"vertical\"\n           aria-label=\"Next.js Dev Tools Items\"\n           tabIndex={-1}\n-          className=\"menu\"\n+          className=\"dev-tools-indicator-menu\"\n           onKeyDown={onMenuKeydown}\n           data-rendered={rendered}\n           style={\n             {\n               '--animate-out-duration-ms': `${ANIMATE_OUT_DURATION_MS}ms`,\n               '--animate-out-timing-function': ANIMATE_OUT_TIMING_FUNCTION,\n+              [vertical]: 'calc(100% + var(--size-gap))',\n+              [horizontal]: 0,\n             } as React.CSSProperties\n           }\n         >\n@@ -223,7 +246,7 @@ function DevToolsPopover({\n               setSelectedIndex,\n             }}\n           >\n-            <div className=\"inner\">\n+            <div className=\"dev-tools-indicator-inner\">\n               {issueCount > 0 && (\n                 <MenuItem\n                   index={0}\n@@ -249,7 +272,7 @@ function DevToolsPopover({\n               )}\n             </div>\n \n-            <div className=\"footer\">\n+            <div className=\"dev-tools-indicator-footer\">\n               <MenuItem\n                 data-hide-dev-tools\n                 label=\"Hide Dev Tools\"\n@@ -296,7 +319,7 @@ function MenuItem({\n \n   return (\n     <div\n-      className=\"item\"\n+      className=\"dev-tools-indicator-item\"\n       data-index={index}\n       data-selected={selected}\n       onClick={click}\n@@ -317,16 +340,19 @@ function MenuItem({\n       tabIndex={selected ? 0 : -1}\n       {...props}\n     >\n-      <span className=\"label\">{label}</span>\n-      <span className=\"value\">{value}</span>\n+      <span className=\"dev-tools-indicator-label\">{label}</span>\n+      <span className=\"dev-tools-indicator-value\">{value}</span>\n     </div>\n   )\n }\n \n function IssueCount({ children }: { children: number }) {\n   return (\n-    <span className=\"issueCount\" data-has-issues={children > 0}>\n-      <span className=\"indicator\" />\n+    <span\n+      className=\"dev-tools-indicator-issue-count\"\n+      data-has-issues={children > 0}\n+    >\n+      <span className=\"dev-tools-indicator-issue-count-indicator\" />\n       {children}\n     </span>\n   )\n@@ -431,3 +457,131 @@ function ExternalIcon() {\n     </svg>\n   )\n }\n+\n+export const DEV_TOOLS_INDICATOR_STYLES = css`\n+  .dev-tools-indicator-menu {\n+    -webkit-font-smoothing: antialiased;\n+    display: flex;\n+    flex-direction: column;\n+    align-items: flex-start;\n+    background: var(--color-background-100);\n+    border: 1px solid var(--color-gray-alpha-400);\n+    background-clip: padding-box;\n+    box-shadow: var(--shadow-menu);\n+    border-radius: var(--rounded-xl);\n+    position: absolute;\n+    font-family: var(--font-stack-sans);\n+    z-index: 1000;\n+    overflow: hidden;\n+    opacity: 0;\n+    outline: 0;\n+    min-width: 248px;\n+    transition: opacity var(--animate-out-duration-ms)\n+      var(--animate-out-timing-function);\n+\n+    &[data-rendered='true'] {\n+      opacity: 1;\n+      scale: 1;\n+    }\n+  }\n+\n+  .dev-tools-indicator-inner {\n+    padding: 6px;\n+    width: 100%;\n+  }\n+\n+  .dev-tools-indicator-item {\n+    display: flex;\n+    align-items: center;\n+    padding: 8px 6px;\n+    height: 36px;\n+    border-radius: 6px;\n+    text-decoration: none !important;\n+    user-select: none;\n+\n+    &:focus-visible {\n+      outline: 0;\n+    }\n+  }\n+\n+  .dev-tools-indicator-footer {\n+    background: var(--color-background-200);\n+    padding: 6px;\n+    border-top: 1px solid var(--color-gray-400);\n+    width: 100%;\n+  }\n+\n+  .dev-tools-indicator-item[data-selected='true'] {\n+    cursor: pointer;\n+    background-color: var(--color-gray-200);\n+  }\n+\n+  .dev-tools-indicator-label {\n+    font-size: var(--size-font-small);\n+    line-height: var(--size-5);\n+    color: var(--color-gray-1000);\n+  }\n+\n+  .dev-tools-indicator-value {\n+    font-size: var(--size-font-small);\n+    line-height: var(--size-5);\n+    color: var(--color-gray-900);\n+    margin-left: auto;\n+  }\n+\n+  .dev-tools-indicator-issue-count {\n+    --color-primary: var(--color-gray-800);\n+    --color-secondary: var(--color-gray-100);\n+    display: flex;\n+    flex-direction: row;\n+    align-items: center;\n+    justify-content: center;\n+    gap: 8px;\n+    min-width: 41px;\n+    height: 24px;\n+    background: var(--color-background-100);\n+    border: 1px solid var(--color-gray-alpha-400);\n+    background-clip: padding-box;\n+    box-shadow: var(--shadow-small);\n+    padding: 2px;\n+    color: var(--color-gray-1000);\n+    border-radius: 128px;\n+    font-weight: 500;\n+    font-size: 13px;\n+    font-variant-numeric: tabular-nums;\n+\n+    &[data-has-issues='true'] {\n+      --color-primary: var(--color-red-800);\n+      --color-secondary: var(--color-red-100);\n+    }\n+\n+    .dev-tools-indicator-issue-count-indicator {\n+      width: 8px;\n+      height: 8px;\n+      background: var(--color-primary);\n+      box-shadow: 0 0 0 2px var(--color-secondary);\n+      border-radius: 50%;\n+    }\n+  }\n+\n+  .dev-tools-indicator-shortcut {\n+    display: flex;\n+    gap: var(--size-1);\n+\n+    kbd {\n+      width: var(--size-5);\n+      height: var(--size-5);\n+      display: flex;\n+      justify-content: center;\n+      align-items: center;\n+      border-radius: var(--rounded-md);\n+      border: 1px solid var(--color-gray-400);\n+      font-family: var(--font-stack-sans);\n+      background: var(--color-background-100);\n+      color: var(--color-gray-1000);\n+      text-align: center;\n+      font-size: var(--size-font-smaller);\n+      line-height: var(--size-4);\n+    }\n+  }\n+`"
        },
        {
            "sha": "594a8e1a1a69ef23a7ecdf6f7b2bd79f3f448867",
            "filename": "packages/next/src/client/components/react-dev-overlay/_experimental/internal/components/errors/dev-tools-indicator/styles.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 131,
            "changes": 131,
            "blob_url": "https://github.com/vercel/next.js/blob/698220d1a7501ef8b30db7692782578a97bf1227/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fstyles.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/698220d1a7501ef8b30db7692782578a97bf1227/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fstyles.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fstyles.ts?ref=698220d1a7501ef8b30db7692782578a97bf1227",
            "patch": "@@ -1,131 +0,0 @@\n-import { noop as css } from '../../../helpers/noop-template'\n-\n-export const styles = css`\n-  .menu {\n-    -webkit-font-smoothing: antialiased;\n-    display: flex;\n-    flex-direction: column;\n-    align-items: flex-start;\n-    background: var(--color-background-100);\n-    border: 1px solid var(--color-gray-alpha-400);\n-    background-clip: padding-box;\n-    box-shadow: var(--shadow-menu);\n-    border-radius: var(--rounded-xl);\n-    position: absolute;\n-    font-family: var(--font-stack-sans);\n-    bottom: calc(100% + var(--size-gap));\n-    left: 0;\n-    z-index: 1000;\n-    overflow: hidden;\n-    opacity: 0;\n-    outline: 0;\n-    min-width: 248px;\n-    transition: opacity var(--animate-out-duration-ms)\n-      var(--animate-out-timing-function);\n-\n-    &[data-rendered='true'] {\n-      opacity: 1;\n-      scale: 1;\n-    }\n-  }\n-\n-  .inner {\n-    padding: 6px;\n-    width: 100%;\n-  }\n-\n-  .item {\n-    display: flex;\n-    align-items: center;\n-    padding: 8px 6px;\n-    height: 36px;\n-    border-radius: 6px;\n-    text-decoration: none !important;\n-    user-select: none;\n-\n-    &:focus-visible {\n-      outline: 0;\n-    }\n-  }\n-\n-  .footer {\n-    background: var(--color-background-200);\n-    padding: 6px;\n-    border-top: 1px solid var(--color-gray-400);\n-    width: 100%;\n-  }\n-\n-  .item[data-selected='true'] {\n-    cursor: pointer;\n-    background-color: var(--color-gray-200);\n-  }\n-\n-  .label {\n-    font-size: var(--size-font-small);\n-    line-height: var(--size-5);\n-    color: var(--color-gray-1000);\n-  }\n-\n-  .value {\n-    font-size: var(--size-font-small);\n-    line-height: var(--size-5);\n-    color: var(--color-gray-900);\n-    margin-left: auto;\n-  }\n-\n-  .issueCount {\n-    --color-primary: var(--color-gray-800);\n-    --color-secondary: var(--color-gray-100);\n-    display: flex;\n-    flex-direction: row;\n-    align-items: center;\n-    justify-content: center;\n-    gap: 8px;\n-    min-width: 41px;\n-    height: 24px;\n-    background: var(--color-background-100);\n-    border: 1px solid var(--color-gray-alpha-400);\n-    background-clip: padding-box;\n-    box-shadow: var(--shadow-small);\n-    padding: 2px;\n-    color: var(--color-gray-1000);\n-    border-radius: 128px;\n-    font-weight: 500;\n-    font-size: 13px;\n-    font-variant-numeric: tabular-nums;\n-\n-    &[data-has-issues='true'] {\n-      --color-primary: var(--color-red-800);\n-      --color-secondary: var(--color-red-100);\n-    }\n-\n-    .indicator {\n-      width: 8px;\n-      height: 8px;\n-      background: var(--color-primary);\n-      box-shadow: 0 0 0 2px var(--color-secondary);\n-      border-radius: 50%;\n-    }\n-  }\n-\n-  .shortcut {\n-    display: flex;\n-    gap: var(--size-1);\n-\n-    kbd {\n-      width: var(--size-5);\n-      height: var(--size-5);\n-      display: flex;\n-      justify-content: center;\n-      align-items: center;\n-      border-radius: var(--rounded-md);\n-      border: 1px solid var(--color-gray-400);\n-      font-family: var(--font-stack-sans);\n-      background: var(--color-background-100);\n-      color: var(--color-gray-1000);\n-      text-align: center;\n-      font-size: var(--size-font-smaller);\n-      line-height: var(--size-4);\n-    }\n-  }\n-`"
        },
        {
            "sha": "0dae48d2d7692715863a6eb06eb905a59bbcf2f8",
            "filename": "packages/next/src/client/components/react-dev-overlay/_experimental/internal/styles/component-styles.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fstyles%2Fcomponent-styles.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fstyles%2Fcomponent-styles.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2F_experimental%2Finternal%2Fstyles%2Fcomponent-styles.tsx?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -13,7 +13,7 @@ import { styles as containerErrorStyles } from '../container/errors'\n import { styles as containerRuntimeErrorStyles } from '../container/runtime-error'\n import { COPY_BUTTON_STYLES } from '../components/copy-button'\n import { CALL_STACK_FRAME_STYLES } from '../components/call-stack-frame/call-stack-frame'\n-import { styles as devToolsIndicator } from '../components/errors/dev-tools-indicator/styles'\n+import { DEV_TOOLS_INDICATOR_STYLES } from '../components/errors/dev-tools-indicator/dev-tools-indicator'\n import { noop as css } from '../helpers/noop-template'\n import { EDITOR_LINK_STYLES } from '../components/terminal/editor-link'\n import { ENVIRONMENT_NAME_LABEL_STYLES } from '../components/errors/environment-name-label/environment-name-label'\n@@ -38,7 +38,7 @@ export function ComponentStyles() {\n         ${containerErrorStyles}\n         ${containerRuntimeErrorStyles}\n         ${versionStaleness}\n-        ${devToolsIndicator}\n+        ${DEV_TOOLS_INDICATOR_STYLES}\n       `}\n     </style>\n   )"
        },
        {
            "sha": "c8b824149c679995d75ed94a15902a4fd53a4ab9",
            "filename": "packages/next/src/client/dev/dev-build-indicator/initialize-for-app-router.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fdev-build-indicator%2Finitialize-for-app-router.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fdev-build-indicator%2Finitialize-for-app-router.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fdev-build-indicator%2Finitialize-for-app-router.ts?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -6,5 +6,5 @@ export const initializeDevBuildIndicatorForAppRouter = () => {\n     return\n   }\n \n-  devBuildIndicator.initialize(process.env.__NEXT_BUILD_INDICATOR_POSITION)\n+  devBuildIndicator.initialize(process.env.__NEXT_DEV_INDICATOR_POSITION)\n }"
        },
        {
            "sha": "c89f949207123a23ceced2448d642e426ac54653",
            "filename": "packages/next/src/client/dev/dev-build-indicator/initialize-for-page-router.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fdev-build-indicator%2Finitialize-for-page-router.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fdev-build-indicator%2Finitialize-for-page-router.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fdev-build-indicator%2Finitialize-for-page-router.ts?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -8,7 +8,7 @@ export const initializeDevBuildIndicatorForPageRouter = () => {\n     return\n   }\n \n-  devBuildIndicator.initialize(process.env.__NEXT_BUILD_INDICATOR_POSITION)\n+  devBuildIndicator.initialize(process.env.__NEXT_DEV_INDICATOR_POSITION)\n \n   // Add message listener specifically for Pages Router to handle lifecycle events\n   // related to dev builds (building, built, sync)"
        },
        {
            "sha": "951484ed586a55d1bcc44fbece50fe9dd0b89016",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -854,16 +854,16 @@ export interface NextConfig extends Record<string, any> {\n      * @deprecated Renamed as `position`.\n      */\n     buildActivityPosition?:\n-      | 'bottom-right'\n-      | 'bottom-left'\n-      | 'top-right'\n       | 'top-left'\n+      | 'top-right'\n+      | 'bottom-left'\n+      | 'bottom-right'\n \n     /**\n-     * Position of \"building...\" indicator in browser\n-     * @default \"bottom-right\"\n+     * Position of the development tools indicator in the browser window.\n+     * @default \"bottom-left\"\n      * */\n-    position?: 'bottom-right' | 'bottom-left' | 'top-right' | 'top-left'\n+    position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'\n   }\n \n   /**\n@@ -1109,7 +1109,7 @@ export const defaultConfig: NextConfig = {\n   compress: true,\n   images: imageConfigDefault,\n   devIndicators: {\n-    position: 'bottom-right',\n+    position: 'bottom-left',\n   },\n   onDemandEntries: {\n     maxInactiveAge: 60 * 1000,"
        },
        {
            "sha": "db97469de585d5a2ef75f618a186cd144c643da6",
            "filename": "packages/next/src/server/config.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -965,6 +965,19 @@ function assignDefaults(\n       appIsrStatus: result.devIndicators?.appIsrStatus ?? true,\n       buildActivity: result.devIndicators?.buildActivity ?? true,\n     }\n+\n+    // If the user didn't explicitly set `position` or `buildActivityPosition` option,\n+    // the default is going to be \"bottom-left\". However, the default position for the\n+    // old build activity indicator was \"bottom-right\" which becomes a breaking change.\n+    // Therefore, set to \"bottom-right\" if the user didn't explicitly set the option.\n+    if (!hasWarnedBuildActivityPosition) {\n+      result.devIndicators = {\n+        ...result.devIndicators,\n+        position: userConfig.devIndicators?.position\n+          ? result.devIndicators.position\n+          : 'bottom-right',\n+      }\n+    }\n   }\n \n   result.experimental.optimizePackageImports = ["
        },
        {
            "sha": "4a839031678f0132d364faaf7533afd2164d26fa",
            "filename": "packages/next/types/global.d.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Ftypes%2Fglobal.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/packages%2Fnext%2Ftypes%2Fglobal.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftypes%2Fglobal.d.ts?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -48,6 +48,12 @@ interface Window {\n   __NEXT_HMR_CB?: null | ((message?: string) => void)\n   /** @internal */\n   __next_root_layout_missing_tags?: ('html' | 'body')[]\n+  /** @internal */\n+  __NEXT_DEV_INDICATOR_POSITION?:\n+    | 'top-left'\n+    | 'top-right'\n+    | 'bottom-left'\n+    | 'bottom-right'\n }\n \n interface NextFetchRequestConfig {"
        },
        {
            "sha": "fe6af8e72d6e9c1913ee8e07b09ee7ae08351555",
            "filename": "test/e2e/app-dir/navigation/app/scroll-restoration/page.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/c2085df2b2157a1c30943270ccfa2c846a76232c/test%2Fe2e%2Fapp-dir%2Fnavigation%2Fapp%2Fscroll-restoration%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2085df2b2157a1c30943270ccfa2c846a76232c/test%2Fe2e%2Fapp-dir%2Fnavigation%2Fapp%2Fscroll-restoration%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnavigation%2Fapp%2Fscroll-restoration%2Fpage.tsx?ref=c2085df2b2157a1c30943270ccfa2c846a76232c",
            "patch": "@@ -7,7 +7,8 @@ export default function Page() {\n   const { items, loadMoreItems } = useContext(ItemsContext)\n \n   return (\n-    <div>\n+    // Dev Indicator blocking the click.\n+    <div style={{ paddingBottom: 60 }}>\n       <h1>Page</h1>\n       <ul>\n         {items.map((item) => ("
        }
    ],
    "stats": {
        "total": 356,
        "additions": 203,
        "deletions": 153
    }
}