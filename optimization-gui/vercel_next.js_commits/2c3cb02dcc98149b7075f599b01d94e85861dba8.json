{
    "author": "devjiwonchoi",
    "message": "[dev-overlay] deprecate `devIndicators` options `appIsrStatus` and `buildActivity` (#76067)\n\n### Why?\r\n\r\nSince the new dev indicator supersedes the existing `appIsrStatus` (Static Route Indicator) and `buildActivity` (Compilation Indicator), deprecate them before we fully remove the old overlay.\r\n\r\n### Follow Up\r\n\r\nAfter removing the old overlay's sources, we can remove any logic that `appIsrStatus ` and `buildActivity` were holding for the old overlay.\r\n\r\nCloses NDX-836",
    "sha": "2c3cb02dcc98149b7075f599b01d94e85861dba8",
    "files": [
        {
            "sha": "4c5393b72161ea00b835e140a0313c323f3b659c",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/2c3cb02dcc98149b7075f599b01d94e85861dba8/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c3cb02dcc98149b7075f599b01d94e85861dba8/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=2c3cb02dcc98149b7075f599b01d94e85861dba8",
            "patch": "@@ -837,7 +837,10 @@ export interface NextConfig extends Record<string, any> {\n \n   /** Configure indicators in development environment */\n   devIndicators?: {\n-    /** Show \"building...\"\" indicator in development */\n+    /**\n+     * Show \"building...\"\" indicator in development\n+     * @deprecated The dev tools indicator has it enabled by default.\n+     */\n     buildActivity?: boolean\n     /** Position of \"building...\" indicator in browser */\n     buildActivityPosition?:\n@@ -846,6 +849,9 @@ export interface NextConfig extends Record<string, any> {\n       | 'top-right'\n       | 'top-left'\n \n+    /**\n+     * @deprecated The dev tools indicator has it enabled by default.\n+     * */\n     appIsrStatus?: boolean\n   }\n \n@@ -1092,8 +1098,6 @@ export const defaultConfig: NextConfig = {\n   compress: true,\n   images: imageConfigDefault,\n   devIndicators: {\n-    appIsrStatus: true,\n-    buildActivity: true,\n     buildActivityPosition: 'bottom-right',\n   },\n   onDemandEntries: {"
        },
        {
            "sha": "85910f2acc48f1cd555a00cabaadaa69bb1172f8",
            "filename": "packages/next/src/server/config.ts",
            "status": "modified",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/2c3cb02dcc98149b7075f599b01d94e85861dba8/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c3cb02dcc98149b7075f599b01d94e85861dba8/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig.ts?ref=2c3cb02dcc98149b7075f599b01d94e85861dba8",
            "patch": "@@ -463,6 +463,20 @@ function assignDefaults(\n     silent\n   )\n \n+  warnOptionHasBeenDeprecated(\n+    result,\n+    'devIndicators.appIsrStatus',\n+    `\\`devIndicators.appIsrStatus\\` is no longer needed and is enabled by default. You can remove it from ${configFileName}.`,\n+    silent\n+  )\n+\n+  warnOptionHasBeenDeprecated(\n+    result,\n+    'devIndicators.buildActivity',\n+    `\\`devIndicators.buildActivity\\` is no longer needed and is enabled by default. You can remove it from ${configFileName}.`,\n+    silent\n+  )\n+\n   warnOptionHasBeenMovedOutOfExperimental(\n     result,\n     'bundlePagesExternals',\n@@ -924,6 +938,14 @@ function assignDefaults(\n   if (process.env.__NEXT_EXPERIMENTAL_NEW_DEV_OVERLAY === 'false') {\n     result.experimental.newDevOverlay = false\n   }\n+  // Preserve the default indicator options for old overlay.\n+  if (result.experimental.newDevOverlay !== true) {\n+    result.devIndicators = {\n+      ...result.devIndicators,\n+      appIsrStatus: result.devIndicators?.appIsrStatus ?? true,\n+      buildActivity: result.devIndicators?.buildActivity ?? true,\n+    }\n+  }\n \n   result.experimental.optimizePackageImports = [\n     ...new Set(["
        },
        {
            "sha": "519bc743815c1de0cb6ce3385a98c5c6496fce78",
            "filename": "test/integration/next-image-new/svgo-webpack/test/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/2c3cb02dcc98149b7075f599b01d94e85861dba8/test%2Fintegration%2Fnext-image-new%2Fsvgo-webpack%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c3cb02dcc98149b7075f599b01d94e85861dba8/test%2Fintegration%2Fnext-image-new%2Fsvgo-webpack%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fsvgo-webpack%2Ftest%2Findex.test.ts?ref=2c3cb02dcc98149b7075f599b01d94e85861dba8",
            "patch": "@@ -52,7 +52,7 @@ let devOutput\n           await renderViaHTTP(appPort, '/', {})\n           const errors = devOutput.stderr\n             .split('\\n')\n-            .filter((line) => line && !line.trim().startsWith('⚠️'))\n+            .filter((line) => line && !line.trim().startsWith('⚠'))\n           expect(errors).toEqual([])\n         })\n       }"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 30,
        "deletions": 4
    }
}