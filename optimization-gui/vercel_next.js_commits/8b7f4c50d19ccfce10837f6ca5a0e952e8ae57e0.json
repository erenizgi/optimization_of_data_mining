{
    "author": "ijjk",
    "message": "Update NextAdapter type and re-export (#81692)\n\nJust fixes up the type and re-exports it so it can be imported directly\nfrom `next`. Also fixes test file not being type checked which didn't\ncatch missing optional fields.",
    "sha": "8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0",
    "files": [
        {
            "sha": "7e126f5bbb80a74d5fba6eddec9861fd284a0232",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0",
            "patch": "@@ -51,10 +51,10 @@ export type AdapterOutputs = Array<{\n \n export interface NextAdapter {\n   name: string\n-  modifyConfig(\n+  modifyConfig?: (\n     config: NextConfigComplete\n-  ): Promise<NextConfigComplete> | NextConfigComplete\n-  onBuildComplete(ctx: {\n+  ) => Promise<NextConfigComplete> | NextConfigComplete\n+  onBuildComplete?: (ctx: {\n     routes: {\n       headers: Array<ManifestHeaderRoute>\n       redirects: Array<ManifestRedirectRoute>\n@@ -66,7 +66,7 @@ export interface NextAdapter {\n       dynamicRoutes: Array<{}>\n     }\n     outputs: AdapterOutputs\n-  }): Promise<void> | void\n+  }) => Promise<void> | void\n }\n \n export type I18NDomains = readonly DomainLocale[]"
        },
        {
            "sha": "001cdf3b3314cd036ef39ed12bb3059ffb33e356",
            "filename": "packages/next/src/types.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0/packages%2Fnext%2Fsrc%2Ftypes.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0/packages%2Fnext%2Fsrc%2Ftypes.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Ftypes.ts?ref=8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0",
            "patch": "@@ -29,6 +29,8 @@ export type ServerRuntime = 'nodejs' | 'experimental-edge' | 'edge' | undefined\n // @ts-ignore This path is generated at build time and conflicts otherwise\n export { NextConfig } from './server/config'\n \n+export type { NextAdapter } from './server/config-shared'\n+\n export type {\n   Metadata,\n   MetadataRoute,"
        },
        {
            "sha": "21511681b914274e24b1ebe6d5c52df5ba23bd90",
            "filename": "test/production/adapter-config/my-adapter.mjs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0/test%2Fproduction%2Fadapter-config%2Fmy-adapter.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0/test%2Fproduction%2Fadapter-config%2Fmy-adapter.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fadapter-config%2Fmy-adapter.mjs?ref=8b7f4c50d19ccfce10837f6ca5a0e952e8ae57e0",
            "patch": "@@ -1,3 +1,4 @@\n+// @ts-check\n /** @type {import('next').NextAdapter } */\n const myAdapter = {\n   name: 'my-custom-adapter',"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 7,
        "deletions": 4
    }
}