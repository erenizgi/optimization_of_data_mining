{
    "author": "wyattjoh",
    "message": "Relax default.tsx validation for parallel routes leaf segments (#84767)\n\n### What?\n\nRelaxes the overly strict `default.tsx` validation for parallel routes\nto only require the file when it's actually needed (non-leaf segments\nwith routable children).\n\n### Why?\n\nThe initial validation for parallel routes required `default.tsx` files\nfor all parallel route slots to prevent a specific issue: when\nnavigating to child routes, missing `default.tsx` files could cause\nsilent 404s in slot content, creating a confusing user experience.\n\nHowever, this validation was **too strict** - it required `default.tsx`\neven in cases where it wasn't actually necessary:\n\n1. **Leaf segments** (routes with no child routes) - There are no child\nroutes to navigate to, so the 404 issue cannot occur\n2. **Route groups** - These are organizational folders and aren't\nroutable themselves\n3. **Catch-all parameters** - The matched segments are dynamic parameter\nvalues, not actual child route segments\n\nThis caused false positive build errors for valid parallel route\nconfigurations that don't have the underlying navigational issue.\n\nNAR-448",
    "sha": "c6cd1f455f5c55530ce894aad3210ef5f6003a77",
    "files": [
        {
            "sha": "0116c650fd4a88df96985524829aef6ec91ed779",
            "filename": "crates/next-core/src/app_structure.rs",
            "status": "modified",
            "additions": 61,
            "deletions": 11,
            "changes": 72,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -896,15 +896,24 @@ impl Issue for MissingDefaultParallelRouteIssue {\n     #[turbo_tasks::function]\n     async fn description(&self) -> Vc<OptionStyledString> {\n         Vc::cell(Some(\n-            StyledString::Text(\n-                format!(\n-                    \"The parallel route slot \\\"@{}\\\" is missing a default.js file. When using \\\n-                     parallel routes, each slot must have a default.js file to serve as a \\\n-                     fallback.\\n\\nCreate a default.js file at: {}/@{}/default.js\",\n-                    self.slot_name, self.app_page, self.slot_name\n-                )\n-                .into(),\n-            )\n+            StyledString::Stack(vec![\n+                StyledString::Text(\n+                    format!(\n+                        \"The parallel route slot \\\"@{}\\\" is missing a default.js file. When using \\\n+                         parallel routes, each slot must have a default.js file to serve as a \\\n+                         fallback.\",\n+                        self.slot_name\n+                    )\n+                    .into(),\n+                ),\n+                StyledString::Text(\n+                    format!(\n+                        \"Create a default.js file at: {}/@{}/default.js\",\n+                        self.app_page, self.slot_name\n+                    )\n+                    .into(),\n+                ),\n+            ])\n             .resolved_cell(),\n         ))\n     }\n@@ -940,6 +949,32 @@ fn page_path_except_parallel(loader_tree: &AppPageLoaderTree) -> Option<AppPage>\n     None\n }\n \n+/// Checks if a directory tree has child routes (non-parallel, non-group routes).\n+/// Leaf segments don't need default.js because there are no child routes\n+/// that could cause the parallel slot to unmatch.\n+fn has_child_routes(directory_tree: &PlainDirectoryTree) -> bool {\n+    for (name, subdirectory) in &directory_tree.subdirectories {\n+        // Skip parallel routes (start with '@')\n+        if is_parallel_route(name) {\n+            continue;\n+        }\n+\n+        // Skip route groups, but check if they have pages inside\n+        if is_group_route(name) {\n+            // Recursively check if the group has child routes\n+            if has_child_routes(subdirectory) {\n+                return true;\n+            }\n+            continue;\n+        }\n+\n+        // If we get here, it's a regular route segment (child route)\n+        return true;\n+    }\n+\n+    false\n+}\n+\n async fn check_duplicate(\n     duplicate: &mut FxHashMap<AppPath, AppPage>,\n     loader_tree: &AppPageLoaderTree,\n@@ -1200,9 +1235,20 @@ async fn directory_tree_to_loader_tree_internal(\n                 //   /[...catchAll]/@slot - is_inside_catchall = true (skip validation) ✓\n                 //   /@slot/[...catchAll] - is_inside_catchall = false (require default) ✓\n                 // The catch-all provides fallback behavior, so default.js is not required.\n+                //\n+                // Also skip validation if this is a leaf segment (no child routes).\n+                // Leaf segments don't need default.js because there are no child routes\n+                // that could cause the parallel slot to unmatch. For example:\n+                //   /repo-overview/@slot/page with no child routes - is_leaf_segment = true (skip\n+                // validation) ✓   /repo-overview/@slot/page with\n+                // /repo-overview/child/page - is_leaf_segment = false (require default) ✓\n+                // This also handles route groups correctly by filtering them out.\n+                let is_leaf_segment = !has_child_routes(directory_tree);\n+\n                 if key != \"children\"\n                     && subdirectory.modules.default.is_none()\n                     && !is_inside_catchall\n+                    && !is_leaf_segment\n                 {\n                     missing_default_parallel_route_issue(\n                         app_dir.clone(),\n@@ -1275,10 +1321,14 @@ async fn directory_tree_to_loader_tree_internal(\n \n             let is_inside_catchall = app_page.is_catchall();\n \n+            // Check if this is a leaf segment (no child routes).\n+            let is_leaf_segment = !has_child_routes(directory_tree);\n+\n             // Only emit the issue if this is not the children slot and there's no default\n             // component. The children slot is implicit and doesn't require a default.js\n-            // file. Also skip validation if the slot is UNDER a catch-all route.\n-            if default.is_none() && key != \"children\" && !is_inside_catchall {\n+            // file. Also skip validation if the slot is UNDER a catch-all route or if\n+            // this is a leaf segment (no child routes).\n+            if default.is_none() && key != \"children\" && !is_inside_catchall && !is_leaf_segment {\n                 missing_default_parallel_route_issue(\n                     app_dir.clone(),\n                     app_page.clone(),"
        },
        {
            "sha": "772dc35db9f14d0d295b02330a49bb69fcae88ab",
            "filename": "packages/next/src/build/webpack/loaders/next-app-loader/index.ts",
            "status": "modified",
            "additions": 58,
            "deletions": 2,
            "changes": 60,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -135,6 +135,7 @@ async function createTreeCodeFromPath(\n     resolveDir,\n     resolver,\n     resolveParallelSegments,\n+    hasChildRoutesForSegment,\n     metadataResolver,\n     pageExtensions,\n     basePath,\n@@ -148,6 +149,7 @@ async function createTreeCodeFromPath(\n     resolveParallelSegments: (\n       pathname: string\n     ) => [key: string, segment: string | string[]][]\n+    hasChildRoutesForSegment: (segmentPath: string) => boolean\n     loaderContext: webpack.LoaderContext<AppLoaderOptions>\n     pageExtensions: PageExtensions\n     basePath: string\n@@ -560,9 +562,23 @@ async function createTreeCodeFromPath(\n             //   /@slot/[...catchAll] - isInsideCatchAll = false (require default) ✓\n             // The catch-all provides fallback behavior, so default.js is not required.\n             const isInsideCatchAll = segments.some(isCatchAllSegment)\n-            if (!isInsideCatchAll) {\n+\n+            // Check if this is a leaf segment (no child routes).\n+            // Leaf segments don't need default.js because there are no child routes\n+            // that could cause the parallel slot to unmatch. For example:\n+            //   /repo-overview/@slot/page with no child routes - isLeafSegment = true (skip validation) ✓\n+            //   /repo-overview/@slot/page with /repo-overview/child/page - isLeafSegment = false (require default) ✓\n+            // This also handles route groups correctly by filtering them out.\n+            const isLeafSegment = !hasChildRoutesForSegment(segmentPath)\n+\n+            if (!isInsideCatchAll && !isLeafSegment) {\n+              // Replace internal webpack alias with user-facing directory name\n+              const userFacingPath = fullSegmentPath.replace(\n+                APP_DIR_ALIAS,\n+                'app'\n+              )\n               throw new MissingDefaultParallelRouteError(\n-                fullSegmentPath,\n+                userFacingPath,\n                 adjacentParallelSegment\n               )\n             }\n@@ -726,6 +742,44 @@ const nextAppLoader: AppLoader = async function nextAppLoader() {\n     return Object.entries(matched)\n   }\n \n+  const hasChildRoutesForSegment = (segmentPath: string): boolean => {\n+    const pathPrefix = segmentPath ? `${segmentPath}/` : ''\n+\n+    for (const appPath of normalizedAppPaths) {\n+      if (appPath.startsWith(pathPrefix)) {\n+        const rest = appPath.slice(pathPrefix.length).split('/')\n+\n+        // Filter out route groups to get the actual route segments\n+        // Route groups (e.g., \"(group)\") don't contribute to the URL path\n+        const routeSegments = rest.filter((segment) => !isGroupSegment(segment))\n+\n+        // If it's just 'page' at this level, skip (not a child route)\n+        if (routeSegments.length === 1 && routeSegments[0] === 'page') {\n+          continue\n+        }\n+\n+        // If the first segment (after filtering route groups) is a parallel route, skip\n+        if (routeSegments[0]?.startsWith('@')) {\n+          continue\n+        }\n+\n+        // If we have more than just 'page', then there are child routes\n+        // Examples:\n+        //   ['child', 'page'] -> true (has child route)\n+        //   ['page'] -> false (already filtered above)\n+        //   ['grandchild', 'deeper', 'page'] -> true (has nested child routes)\n+        if (\n+          routeSegments.length > 1 ||\n+          (routeSegments.length === 1 && routeSegments[0] !== 'page')\n+        ) {\n+          return true\n+        }\n+      }\n+    }\n+\n+    return false\n+  }\n+\n   const resolveDir: DirResolver = (pathToResolve) => {\n     return createAbsolutePath(appDir, pathToResolve)\n   }\n@@ -832,6 +886,7 @@ const nextAppLoader: AppLoader = async function nextAppLoader() {\n     resolver,\n     metadataResolver,\n     resolveParallelSegments,\n+    hasChildRoutesForSegment,\n     loaderContext: this,\n     pageExtensions,\n     basePath,\n@@ -889,6 +944,7 @@ const nextAppLoader: AppLoader = async function nextAppLoader() {\n         resolver,\n         metadataResolver,\n         resolveParallelSegments,\n+        hasChildRoutesForSegment,\n         loaderContext: this,\n         pageExtensions,\n         basePath,"
        },
        {
            "sha": "8ac75ed42394668a7abda02fe50f66f7f4d80a78",
            "filename": "packages/next/src/shared/lib/errors/missing-default-parallel-route-error.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Ferrors%2Fmissing-default-parallel-route-error.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Ferrors%2Fmissing-default-parallel-route-error.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Ferrors%2Fmissing-default-parallel-route-error.ts?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -8,5 +8,9 @@ export class MissingDefaultParallelRouteError extends Error {\n     )\n \n     this.name = 'MissingDefaultParallelRouteError'\n+\n+    // This error is meant to interrupt the server start/build process\n+    // but the stack trace isn't meaningful, as it points to internal code.\n+    this.stack = undefined\n   }\n }"
        },
        {
            "sha": "e684a1492a7a6c192b9d463e47f84a89c5695784",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/README.md",
            "status": "added",
            "additions": 125,
            "deletions": 0,
            "changes": 125,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2FREADME.md",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2FREADME.md",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2FREADME.md?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,125 @@\n+# Build Error Scenarios\n+\n+This fixture contains scenarios that **SHOULD throw `MissingDefaultParallelRouteError`** during build.\n+\n+## Why These Should Error\n+\n+All scenarios in this fixture have:\n+1. ✅ Parallel routes (slots starting with `@`)\n+2. ❌ **NO** `default.tsx` files for those parallel routes\n+3. ✅ **Child routes** that make these **non-leaf segments**\n+\n+The presence of child routes means `default.tsx` files are required for the parallel slots.\n+\n+---\n+\n+## Scenario 1: Non-Leaf Segment with Children\n+\n+**Path:** `/with-children`\n+\n+```\n+app/with-children/\n+├── @header/\n+│   └── page.tsx              ← Has page.tsx\n+│   ❌ NO default.tsx!        ← Missing default.tsx\n+├── @sidebar/\n+│   └── page.tsx              ← Has page.tsx\n+│   ❌ NO default.tsx!        ← Missing default.tsx\n+├── layout.tsx                ← Uses @header and @sidebar\n+├── page.tsx                  ← Parent page\n+└── child/\n+    └── page.tsx              ← ⚠️ CHILD ROUTE EXISTS!\n+```\n+\n+**Expected Error:**\n+```\n+MissingDefaultParallelRouteError:\n+  Missing required default.js file for parallel route at /with-children/@header\n+  The parallel route slot \"@header\" is missing a default.js file.\n+```\n+\n+**Why it errors:**\n+- When navigating from `/with-children` to `/with-children/child`, the routing system needs to know what to render for the `@header` and `@sidebar` slots\n+- Since `/with-children/child` doesn't define these parallel routes, Next.js looks for `default.tsx` files\n+- No `default.tsx` files exist → ERROR!\n+\n+---\n+\n+## Scenario 2: Non-Leaf with Route Groups and Children\n+\n+**Path:** `/with-groups-and-children`\n+\n+```\n+app/with-groups-and-children/(dashboard)/(overview)/\n+├── @analytics/\n+│   └── page.tsx              ← Has page.tsx\n+│   ❌ NO default.tsx!        ← Missing default.tsx\n+├── @metrics/\n+│   └── page.tsx              ← Has page.tsx\n+│   ❌ NO default.tsx!        ← Missing default.tsx\n+├── layout.tsx                ← Uses @analytics and @metrics\n+├── page.tsx                  ← Parent page\n+└── nested/\n+    └── page.tsx              ← ⚠️ CHILD ROUTE EXISTS!\n+```\n+\n+**Route Groups:** `(dashboard)` and `(overview)` don't affect the URL\n+\n+**Expected Error:**\n+```\n+MissingDefaultParallelRouteError:\n+  Missing required default.js file for parallel route at /with-groups-and-children/(dashboard)/(overview)/@analytics\n+  The parallel route slot \"@analytics\" is missing a default.js file.\n+```\n+\n+**Why it errors:**\n+- Even with route groups, the segment has a child route (`/nested`)\n+- The `hasChildRoutesForSegment()` helper correctly:\n+  1. Filters out route groups `(dashboard)` and `(overview)`\n+  2. Detects the `nested/page.tsx` child route\n+  3. Identifies this as a **non-leaf segment**\n+- No `default.tsx` files exist → ERROR!\n+\n+---\n+\n+## How to Fix These Errors\n+\n+To make these scenarios build successfully, add `default.tsx` files:\n+\n+### For Scenario 1:\n+```tsx\n+// app/with-children/@header/default.tsx\n+export default function HeaderDefault() {\n+  return <div>Header Fallback</div>\n+}\n+\n+// app/with-children/@sidebar/default.tsx\n+export default function SidebarDefault() {\n+  return <div>Sidebar Fallback</div>\n+}\n+```\n+\n+### For Scenario 2:\n+```tsx\n+// app/with-groups-and-children/(dashboard)/(overview)/@analytics/default.tsx\n+export default function AnalyticsDefault() {\n+  return <div>Analytics Fallback</div>\n+}\n+\n+// app/with-groups-and-children/(dashboard)/(overview)/@metrics/default.tsx\n+export default function MetricsDefault() {\n+  return <div>Metrics Fallback</div>\n+}\n+```\n+\n+---\n+\n+## Contrast with `no-build-error` Fixture\n+\n+The `no-build-error` fixture has similar parallel routes but:\n+- ❌ **NO child routes** (leaf segments)\n+- ✅ `default.tsx` files are **NOT required**\n+\n+This fixture (build-error) has:\n+- ✅ **Child routes exist** (non-leaf segments)\n+- ❌ `default.tsx` files **ARE required** but missing → **ERROR!**"
        },
        {
            "sha": "08eaa94fdc8896acfd343a0dbb61c713eec93a55",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/layout.tsx",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,11 @@\n+export default function RootLayout({\n+  children,\n+}: {\n+  children: React.ReactNode\n+}) {\n+  return (\n+    <html>\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "a7a60e1c37fa1045f2f8d2a1e97275c634cfb9f7",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/page.tsx",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,27 @@\n+import Link from 'next/link'\n+\n+export default function HomePage() {\n+  return (\n+    <div>\n+      <h1>Build Error Scenarios Test</h1>\n+      <p>\n+        These routes SHOULD cause MissingDefaultParallelRouteError because they\n+        have parallel routes without default.tsx files AND have child routes.\n+      </p>\n+      <nav>\n+        <ul>\n+          <li>\n+            <Link href=\"/with-children\">\n+              Non-Leaf Segment with Children (SHOULD ERROR)\n+            </Link>\n+          </li>\n+          <li>\n+            <Link href=\"/with-groups-and-children\">\n+              Non-Leaf with Route Groups and Children (SHOULD ERROR)\n+            </Link>\n+          </li>\n+        </ul>\n+      </nav>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "3d32476970979275e9f0fc29090eacb3718ee652",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-children/@header/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2F%40header%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2F%40header%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2F%40header%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function HeaderSlot() {\n+  return (\n+    <div>\n+      <h3>Header Slot (Parent)</h3>\n+      <p>This is the @header parallel route</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "8a9cb74206f80cc0024ee57cfd83a0373cca831e",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-children/child/page.tsx",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Fchild%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Fchild%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Fchild%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,13 @@\n+export default function ChildPage() {\n+  return (\n+    <div>\n+      <h2>Child Page</h2>\n+      <p>\n+        This child route exists, which means the parent segment is NOT a leaf.\n+      </p>\n+      <p>\n+        ERROR: The @header and @sidebar slots should have default.tsx files!\n+      </p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "bb8ca4ab55cc3183aabab7f8d17fade566ded8e5",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-children/layout.tsx",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,16 @@\n+export default function WithChildrenLayout({\n+  children,\n+  header,\n+}: {\n+  children: React.ReactNode\n+  header: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <div className=\"header\">{header}</div>\n+      <div className=\"container\">\n+        <div className=\"main\">{children}</div>\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "08ead5d9244519e3fc11797d34e62611594459c9",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-children/page.tsx",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-children%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,13 @@\n+import Link from 'next/link'\n+\n+export default function WithChildrenPage() {\n+  return (\n+    <div>\n+      <h2>Parent Page</h2>\n+      <p>This is a NON-leaf segment with child routes.</p>\n+      <nav>\n+        <Link href=\"/with-children/child\">Go to Child</Link>\n+      </nav>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "4e3543dbae7dda9b375713d7347d335fa96fbadd",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-groups-and-children/(dashboard)/(overview)/@metrics/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2F%40metrics%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2F%40metrics%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2F%40metrics%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function MetricsSlot() {\n+  return (\n+    <div>\n+      <h4>Metrics Slot (Parent)</h4>\n+      <p>This is the @metrics parallel route with route groups</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "1d5e2e6608d1bb30cec43835247cd0a4f4b99945",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-groups-and-children/(dashboard)/(overview)/layout.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,17 @@\n+export default function GroupedWithChildrenLayout({\n+  children,\n+  metrics,\n+}: {\n+  children: React.ReactNode\n+  metrics: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <h2>Parent with Route Groups</h2>\n+      <div className=\"grouped-container\">\n+        <div className=\"main\">{children}</div>\n+        <div className=\"metrics\">{metrics}</div>\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "4e59dff29170b6342251c04541266edf69d1ab34",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-groups-and-children/(dashboard)/(overview)/nested/page.tsx",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Fnested%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Fnested%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Fnested%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,18 @@\n+export default function NestedPage() {\n+  return (\n+    <div>\n+      <h3>Nested Child Page</h3>\n+      <p>\n+        This child route exists under a path with route groups, making the\n+        parent a non-leaf segment.\n+      </p>\n+      <p>\n+        ERROR: The @analytics and @metrics slots should have default.tsx files!\n+      </p>\n+      <p>\n+        Even though the parent has route groups, the hasChildRoutesForSegment\n+        helper correctly filters them out and detects this nested child route.\n+      </p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "dd4d797827010d7a516958a0ab1c3bd6a25044c5",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/build-error/app/with-groups-and-children/(dashboard)/(overview)/page.tsx",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fbuild-error%2Fapp%2Fwith-groups-and-children%2F(dashboard)%2F(overview)%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,16 @@\n+import Link from 'next/link'\n+\n+export default function GroupedParentPage() {\n+  return (\n+    <div>\n+      <h3>Parent with Route Groups</h3>\n+      <p>\n+        This segment has route groups (dashboard) and (overview), but it's NOT a\n+        leaf because child routes exist.\n+      </p>\n+      <nav>\n+        <Link href=\"/with-groups-and-children/nested\">Go to Nested</Link>\n+      </nav>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "3bc3c869a930d94674cfcb7718c85439d55499e3",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/catch-all-with-parallel/[...slug]/@footer/not/routable/component.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40footer%2Fnot%2Froutable%2Fcomponent.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40footer%2Fnot%2Froutable%2Fcomponent.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40footer%2Fnot%2Froutable%2Fcomponent.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,3 @@\n+export default function NotRoutableComponent() {\n+  return <div>Not routable component</div>\n+}"
        },
        {
            "sha": "de95e6a602d8df18eb2955f8d47360a0b727d9cd",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/catch-all-with-parallel/[...slug]/@footer/page.tsx",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40footer%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40footer%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40footer%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,11 @@\n+import NotRoutableComponent from './not/routable/component'\n+\n+export default function FooterSlot() {\n+  return (\n+    <div>\n+      <h3>Catch-All Footer Slot</h3>\n+      <p>This is the @footer parallel route in a catch-all segment</p>\n+      <NotRoutableComponent />\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "5cf156de9bebe02e3a69981911c11312fe8496f4",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/catch-all-with-parallel/[...slug]/@header/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40header%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40header%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2F%40header%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function HeaderSlot() {\n+  return (\n+    <div>\n+      <h3>Catch-All Header Slot</h3>\n+      <p>This is the @header parallel route in a catch-all segment</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "44b0261e45539f9727c8a66e3eead1c78fa8760d",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/catch-all-with-parallel/[...slug]/layout.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,17 @@\n+export default function CatchAllLayout({\n+  children,\n+  header,\n+  footer,\n+}: {\n+  children: React.ReactNode\n+  header: React.ReactNode\n+  footer: React.ReactNode\n+}) {\n+  return (\n+    <div className=\"catch-all-container\">\n+      <div className=\"header\">{header}</div>\n+      <div className=\"main\">{children}</div>\n+      <div className=\"footer\">{footer}</div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "141079b45f2b5459165f67a1afb939766d6ae4e3",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/catch-all-with-parallel/[...slug]/page.tsx",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2F%5B...slug%5D%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,22 @@\n+export default async function CatchAllPage({\n+  params,\n+}: {\n+  params: Promise<{ slug: string[] }>\n+}) {\n+  const { slug } = await params\n+  return (\n+    <div>\n+      <h2>Catch-All Leaf Segment Page</h2>\n+      <p>This is a catch-all route with parallel routes but NO child routes.</p>\n+      <p className=\"slug-info\">Current path: /{slug.join('/')}</p>\n+      <p>\n+        No default.tsx files are required for @header or @footer because there\n+        are no child routes to navigate to.\n+      </p>\n+    </div>\n+  )\n+}\n+\n+export async function generateStaticParams() {\n+  return [{ slug: ['a', 'b', 'c'] }]\n+}"
        },
        {
            "sha": "09367d77b06ee48c87f6f30825475eea8b44aaf5",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/catch-all-with-parallel/loading.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2Floading.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2Floading.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fcatch-all-with-parallel%2Floading.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Loading() {\n+  return <div>Loading...</div>\n+}"
        },
        {
            "sha": "08eaa94fdc8896acfd343a0dbb61c713eec93a55",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/layout.tsx",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,11 @@\n+export default function RootLayout({\n+  children,\n+}: {\n+  children: React.ReactNode\n+}) {\n+  return (\n+    <html>\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "a99338348d1a9858d9ff323c68b5ac2ed25c6b51",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-segment/@header/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40header%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40header%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40header%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function HeaderSlot() {\n+  return (\n+    <div>\n+      <h3>Header Slot</h3>\n+      <p>This is the @header parallel route</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "a06fad4713a864ef6af5c8b187389b79b3efbebb",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-segment/@metrics/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40metrics%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40metrics%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40metrics%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function MetricsSlot() {\n+  return (\n+    <div>\n+      <h3>Metrics Slot</h3>\n+      <p>This is the @metrics parallel route</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "8db75132461a1086d53a58d7ddfadb2db6d05132",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-segment/@sidebar/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40sidebar%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40sidebar%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2F%40sidebar%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function SidebarSlot() {\n+  return (\n+    <div>\n+      <h3>Sidebar Slot</h3>\n+      <p>This is the @sidebar parallel route</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "02ce528bcbc9bcba895e27e406fa329975c9b111",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-segment/layout.tsx",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,24 @@\n+export default function LeafLayout({\n+  children,\n+  header,\n+  sidebar,\n+  metrics,\n+}: {\n+  children: React.ReactNode\n+  header: React.ReactNode\n+  sidebar: React.ReactNode\n+  metrics: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <div className=\"header\">{header}</div>\n+      <div className=\"container\">\n+        <div className=\"sidebar\">{sidebar}</div>\n+        <div className=\"main\">\n+          {children}\n+          <div className=\"metrics\">{metrics}</div>\n+        </div>\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "25c15512ce9c7f7e998d6c36f4f587483df0c555",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-segment/page.tsx",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-segment%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,12 @@\n+export default function LeafPage() {\n+  return (\n+    <div>\n+      <h2>Leaf Segment Page</h2>\n+      <p>This is a leaf segment with parallel routes but NO child routes.</p>\n+      <p>\n+        No default.tsx files are required for @header, @sidebar, or @metrics\n+        because there are no child routes to navigate to.\n+      </p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "d7ab35455ba466b9f7136303f6c42e7b5c09a7f5",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-with-groups/(dashboard)/(sections)/@analytics/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2F%40analytics%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2F%40analytics%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2F%40analytics%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function AnalyticsSlot() {\n+  return (\n+    <div>\n+      <h4>Analytics Slot</h4>\n+      <p>This is the @analytics parallel route within route groups</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "6250c2003bef5160775c367c353bf637346426ae",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-with-groups/(dashboard)/(sections)/@reports/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2F%40reports%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2F%40reports%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2F%40reports%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,8 @@\n+export default function ReportsSlot() {\n+  return (\n+    <div>\n+      <h4>Reports Slot</h4>\n+      <p>This is the @reports parallel route within route groups</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "60ec32fb2d65411f76a1307ce2928345c6c8aa75",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-with-groups/(dashboard)/(sections)/layout.tsx",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,20 @@\n+export default function GroupedLeafLayout({\n+  children,\n+  analytics,\n+  reports,\n+}: {\n+  children: React.ReactNode\n+  analytics: React.ReactNode\n+  reports: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <h2>Leaf with Route Groups</h2>\n+      <div className=\"grouped-container\">\n+        <div className=\"analytics\">{analytics}</div>\n+        <div className=\"main\">{children}</div>\n+        <div className=\"reports\">{reports}</div>\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "00f414cbc6639e78137f9c7e0ee8cbf23b2b0bee",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/leaf-with-groups/(dashboard)/(sections)/page.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fleaf-with-groups%2F(dashboard)%2F(sections)%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,17 @@\n+export default function GroupedLeafPage() {\n+  return (\n+    <div>\n+      <h3>Grouped Leaf Segment Page</h3>\n+      <p>\n+        This demonstrates a leaf segment with route groups (dashboard) and\n+        (sections).\n+      </p>\n+      <p>\n+        Even though the path includes route groups, the logic correctly\n+        identifies this as a leaf segment because route groups don't contribute\n+        to routing.\n+      </p>\n+      <p>No default.tsx required for @analytics or @reports!</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "101a9db9d725e84bd8594cb8ea0aeec8b9b48928",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/no-children/@slot/other/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2F%40slot%2Fother%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2F%40slot%2Fother%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2F%40slot%2Fother%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,3 @@\n+export default function NoChildrenOtherPage() {\n+  return <div>No Children Other Page</div>\n+}"
        },
        {
            "sha": "d930726c113da76f019ef2d55e336262a9fdda85",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/no-children/default.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2Fdefault.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2Fdefault.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2Fdefault.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,3 @@\n+export default function NoChildrenDefault() {\n+  return <div>No Children Default</div>\n+}"
        },
        {
            "sha": "89ea055abf4314c897643cb600569eec4d168078",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/no-children/layout.tsx",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fno-children%2Flayout.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,14 @@\n+export default function NoChildrenLayout({\n+  children,\n+  slot,\n+}: {\n+  children: React.ReactNode\n+  slot: React.ReactNode\n+}) {\n+  return (\n+    <>\n+      <div id=\"slot\">{slot}</div>\n+      <div id=\"children\">{children}</div>\n+    </>\n+  )\n+}"
        },
        {
            "sha": "fedea68fb9d8e6280d4ded53679ecddc08e46d03",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/fixtures/no-build-error/app/page.tsx",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Ffixtures%2Fno-build-error%2Fapp%2Fpage.tsx?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,21 @@\n+import Link from 'next/link'\n+\n+export default function HomePage() {\n+  return (\n+    <div>\n+      <h1>Parallel Routes Leaf Segments Test</h1>\n+      <nav>\n+        <ul>\n+          <li>\n+            <Link href=\"/leaf-segment\">Leaf Segment (No Default Required)</Link>\n+          </li>\n+          <li>\n+            <Link href=\"/leaf-with-groups\">\n+              Leaf with Route Groups (No Default Required)\n+            </Link>\n+          </li>\n+        </ul>\n+      </nav>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "58d85cdebb56c7ccfa4658f9fac60fd15a49645f",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/parallel-routes-leaf-segments.build-error.test.ts",
            "status": "added",
            "additions": 82,
            "deletions": 0,
            "changes": 82,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Fparallel-routes-leaf-segments.build-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Fparallel-routes-leaf-segments.build-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Fparallel-routes-leaf-segments.build-error.test.ts?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,82 @@\n+import path from 'path'\n+import { nextTestSetup } from 'e2e-utils'\n+import { assertHasRedbox, retry } from 'next-test-utils'\n+\n+describe('parallel-routes-leaf-segments-build-error', () => {\n+  const { next, isNextDev, skipped } = nextTestSetup({\n+    files: path.join(__dirname, 'fixtures', 'build-error'),\n+    skipStart: true,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    it.skip('skip test', () => {})\n+    return\n+  }\n+\n+  if (isNextDev) {\n+    beforeAll(() => next.start())\n+  } else {\n+    beforeAll(async () => {\n+      try {\n+        await next.build()\n+      } catch {\n+        // Expect build error\n+      }\n+    })\n+  }\n+\n+  describe('Non-leaf segment with child routes', () => {\n+    it('should throw MissingDefaultParallelRouteError for @header slot', async () => {\n+      if (isNextDev) {\n+        const browser = await next.browser('/with-children/child')\n+        await assertHasRedbox(browser)\n+\n+        await retry(async () => {\n+          const logs = await browser.log()\n+          expect(logs).toEqual(\n+            expect.arrayContaining([\n+              expect.objectContaining({\n+                message: expect.stringContaining(\n+                  '/with-children/@header/default.js'\n+                ),\n+              }),\n+            ])\n+          )\n+        })\n+      } else {\n+        await retry(() => {\n+          expect(next.cliOutput).toContain('/with-children/@header/default.js')\n+        })\n+      }\n+    })\n+  })\n+\n+  describe('Non-leaf segment with route groups and child routes', () => {\n+    it('should throw MissingDefaultParallelRouteError for parallel slots', async () => {\n+      if (isNextDev) {\n+        const browser = await next.browser('/with-groups-and-children/nested')\n+        await assertHasRedbox(browser)\n+\n+        await retry(async () => {\n+          const logs = await browser.log()\n+          expect(logs).toEqual(\n+            expect.arrayContaining([\n+              expect.objectContaining({\n+                message: expect.stringContaining(\n+                  '/with-groups-and-children/(dashboard)/(overview)/@metrics/default.js'\n+                ),\n+              }),\n+            ])\n+          )\n+        })\n+      } else {\n+        await retry(() => {\n+          expect(next.cliOutput).toContain(\n+            '/with-groups-and-children/(dashboard)/(overview)/@metrics/default.js'\n+          )\n+        })\n+      }\n+    })\n+  })\n+})"
        },
        {
            "sha": "2024bf02c39262f0b829fda93a6931d1da3a7021",
            "filename": "test/e2e/app-dir/parallel-routes-leaf-segments/parallel-routes-leaf-segments.no-build-error.test.ts",
            "status": "added",
            "additions": 78,
            "deletions": 0,
            "changes": 78,
            "blob_url": "https://github.com/vercel/next.js/blob/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Fparallel-routes-leaf-segments.no-build-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c6cd1f455f5c55530ce894aad3210ef5f6003a77/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Fparallel-routes-leaf-segments.no-build-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-leaf-segments%2Fparallel-routes-leaf-segments.no-build-error.test.ts?ref=c6cd1f455f5c55530ce894aad3210ef5f6003a77",
            "patch": "@@ -0,0 +1,78 @@\n+import path from 'path'\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('parallel-routes-leaf-segments-no-build-error', () => {\n+  const { next } = nextTestSetup({\n+    files: path.join(__dirname, 'fixtures', 'no-build-error'),\n+  })\n+\n+  it('should build successfully without default.tsx for leaf segments', async () => {\n+    // This test verifies that the build does not throw\n+    // MissingDefaultParallelRouteError for leaf segments\n+    expect(next.cliOutput).not.toContain('MissingDefaultParallelRouteError')\n+  })\n+\n+  afterAll(() => {\n+    if (next.cliOutput.includes('MissingDefaultParallelRouteError')) {\n+      throw new Error('MissingDefaultParallelRouteError was thrown')\n+    }\n+  })\n+\n+  describe('leaf segment without child routes', () => {\n+    it('should render the leaf segment page with all parallel slots', async () => {\n+      const $ = await next.render$('/leaf-segment')\n+\n+      // Verify main page content\n+      expect($('h2').text()).toBe('Leaf Segment Page')\n+      expect($('.main p').first().text()).toContain(\n+        'This is a leaf segment with parallel routes but NO child routes'\n+      )\n+\n+      // Verify all parallel slots render\n+      expect($('.header h3').text()).toBe('Header Slot')\n+      expect($('.sidebar h3').text()).toBe('Sidebar Slot')\n+      expect($('.metrics h3').text()).toBe('Metrics Slot')\n+    })\n+  })\n+\n+  describe('leaf segment with route groups', () => {\n+    it('should render leaf segment with route groups and parallel slots', async () => {\n+      const $ = await next.render$('/leaf-with-groups')\n+\n+      // Verify main page content\n+      expect($('h3').first().text()).toBe('Grouped Leaf Segment Page')\n+\n+      // Verify route groups are handled correctly\n+      expect($('p').first().text()).toContain('route groups')\n+\n+      // Verify parallel slots render\n+      expect($('.analytics h4').text()).toBe('Analytics Slot')\n+      expect($('.reports h4').text()).toBe('Reports Slot')\n+    })\n+  })\n+\n+  describe('leaf segment with catch-all parameter', () => {\n+    it('should render catch-all segment with multiple path segments', async () => {\n+      const $ = await next.render$('/catch-all-with-parallel/a/b/c')\n+\n+      // Verify main page content\n+      expect($('h2').text()).toBe('Catch-All Leaf Segment Page')\n+\n+      // Verify the slug captures all segments\n+      expect($('.slug-info').text()).toBe('Current path: /a/b/c')\n+\n+      // Verify parallel slots still render correctly\n+      expect($('.header h3').text()).toBe('Catch-All Header Slot')\n+      expect($('.footer h3').text()).toBe('Catch-All Footer Slot')\n+    })\n+  })\n+\n+  describe('no children slot', () => {\n+    it('should render the no children slot', async () => {\n+      const $ = await next.render$('/no-children/other')\n+\n+      expect($('#slot').text()).toBe('No Children Other Page')\n+      expect($('#children').text()).toBe('No Children Default')\n+    })\n+  })\n+})"
        }
    ],
    "stats": {
        "total": 797,
        "additions": 784,
        "deletions": 13
    }
}