{
    "author": "icyJoseph",
    "message": "docs: Routes are wrapped w/ Activity in Cache Components (#85309)",
    "sha": "7f503bfe0fc1867fc621f8595d21da70809b2295",
    "files": [
        {
            "sha": "d115604ca8e5c5dcdbdedd98c3a779e33856400f",
            "filename": "docs/01-app/01-getting-started/06-cache-components.mdx",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/7f503bfe0fc1867fc621f8595d21da70809b2295/docs%2F01-app%2F01-getting-started%2F06-cache-components.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/7f503bfe0fc1867fc621f8595d21da70809b2295/docs%2F01-app%2F01-getting-started%2F06-cache-components.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F06-cache-components.mdx?ref=7f503bfe0fc1867fc621f8595d21da70809b2295",
            "patch": "@@ -333,6 +333,20 @@ const nextConfig = {\n module.exports = nextConfig\n ```\n \n+### Navigation with Cache Components\n+\n+When the [`cacheComponents`](/docs/app/api-reference/config/next-config-js/cacheComponents) flag is enabled, Next.js uses React's [`<Activity>`](https://react.dev/reference/react/Activity) component to preserve component state during client-side navigation.\n+\n+Rather than unmounting the previous route when you navigate away, Next.js sets the Activity mode to [`\"hidden\"`](https://react.dev/reference/react/Activity#activity). This means:\n+\n+- Component state is preserved when navigating between routes\n+- When you navigate back, the previous route reappears with its state intact\n+- Effects are cleaned up when a route is hidden, and recreated when it becomes visible again\n+\n+This behavior improves the navigation experience by maintaining UI state (form inputs, or expanded sections) when users navigate back and forth between routes.\n+\n+> **Good to know**: Next.js uses heuristics to keep a few recently visited routes [`\"hidden\"`](https://react.dev/reference/react/Activity#activity), while older routes are removed from the DOM to prevent excessive growth.\n+\n ### Effect on route segment config\n \n When Cache Components is enabled, several route segment config options are no longer needed or supported. Here's what changes and how to migrate:"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 14,
        "deletions": 0
    }
}