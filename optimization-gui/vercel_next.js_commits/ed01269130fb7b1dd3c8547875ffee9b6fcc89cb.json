{
    "author": "wbinnssmith",
    "message": "Update test snapshots for alternative bundler [6/n] (#76768)\n\nTest Plan: `pnpm test-start-rspack\ntest/integration/server-side-dev-errors/test/index.test.js` passes",
    "sha": "ed01269130fb7b1dd3c8547875ffee9b6fcc89cb",
    "files": [
        {
            "sha": "c2b722f346851c4be0e71541498253645b7b56df",
            "filename": "test/integration/server-side-dev-errors/test/index.test.js",
            "status": "modified",
            "additions": 114,
            "deletions": 112,
            "changes": 226,
            "blob_url": "https://github.com/vercel/next.js/blob/ed01269130fb7b1dd3c8547875ffee9b6fcc89cb/test%2Fintegration%2Fserver-side-dev-errors%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/ed01269130fb7b1dd3c8547875ffee9b6fcc89cb/test%2Fintegration%2Fserver-side-dev-errors%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fserver-side-dev-errors%2Ftest%2Findex.test.js?ref=ed01269130fb7b1dd3c8547875ffee9b6fcc89cb",
            "patch": "@@ -12,6 +12,8 @@ import {\n } from 'next-test-utils'\n import stripAnsi from 'strip-ansi'\n \n+const isRspack = process.env.NEXT_RSPACK !== undefined\n+\n const appDir = join(__dirname, '../')\n const gspPage = join(appDir, 'pages/gsp.js')\n const gsspPage = join(appDir, 'pages/gssp.js')\n@@ -518,7 +520,7 @@ describe('server-side dev errors', () => {\n       )\n       .trim()\n     // FIXME(veil): error repeated\n-    if (isTurbopack) {\n+    if (isTurbopack || isRspack) {\n       expect(stderrOutput).toMatchInlineSnapshot(`\n         \"Error: catch this rejection\n             at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-rejection.js:7:19)\n@@ -597,65 +599,65 @@ describe('server-side dev errors', () => {\n       )\n       .trim()\n     // FIXME(veil): error repeated\n-    if (isTurbopack) {\n+    if (isTurbopack || isRspack) {\n       expect(stderrOutput).toMatchInlineSnapshot(`\n-        \"Error: \n-            at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     Promise.reject(new Error())\n-             |                   ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ unhandledRejection: Error: \n-            at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     Promise.reject(new Error())\n-             |                   ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ unhandledRejection:  Error: \n-            at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     Promise.reject(new Error())\n-             |                   ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\"\n+       \"Error: \n+           at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     Promise.reject(new Error())\n+            |                   ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ unhandledRejection: Error: \n+           at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     Promise.reject(new Error())\n+            |                   ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ unhandledRejection:  Error: \n+           at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     Promise.reject(new Error())\n+            |                   ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\"\n       `)\n     } else {\n       expect(stderrOutput).toMatchInlineSnapshot(`\n-        \"Error: \n-            at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     Promise.reject(new Error())\n-             |                   ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ unhandledRejection: Error: \n-            at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     Promise.reject(new Error())\n-             |                   ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ unhandledRejection:  Error: \n-            at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     Promise.reject(new Error())\n-             |                   ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\"\n+       \"Error: \n+           at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     Promise.reject(new Error())\n+            |                   ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ unhandledRejection: Error: \n+           at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     Promise.reject(new Error())\n+            |                   ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ unhandledRejection:  Error: \n+           at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-rejection.js:7:19)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     Promise.reject(new Error())\n+            |                   ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\"\n       `)\n     }\n   })\n@@ -675,7 +677,7 @@ describe('server-side dev errors', () => {\n       )\n       .trim()\n     // FIXME(veil): error repeated\n-    if (isTurbopack) {\n+    if (isTurbopack || isRspack) {\n       expect(stderrOutput).toMatchInlineSnapshot(`\n         \"Error: catch this exception\n             at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-exception.js:7:10)\n@@ -753,65 +755,65 @@ describe('server-side dev errors', () => {\n       )\n       .trim()\n     // FIXME(veil): error repeated\n-    if (isTurbopack) {\n+    if (isTurbopack || isRspack) {\n       expect(stderrOutput).toMatchInlineSnapshot(`\n-        \"Error: \n-            at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     throw new Error()\n-             |          ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ uncaughtException: Error: \n-            at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     throw new Error()\n-             |          ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ uncaughtException:  Error: \n-            at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     throw new Error()\n-             |          ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\"\n+       \"Error: \n+           at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     throw new Error()\n+            |          ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ uncaughtException: Error: \n+           at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     throw new Error()\n+            |          ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ uncaughtException:  Error: \n+           at Timeout._onTimeout (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     throw new Error()\n+            |          ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\"\n       `)\n     } else {\n       expect(stderrOutput).toMatchInlineSnapshot(`\n-        \"Error: \n-            at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     throw new Error()\n-             |          ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ uncaughtException: Error: \n-            at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     throw new Error()\n-             |          ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\n-         ⨯ uncaughtException:  Error: \n-            at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n-           5 | export async function getServerSideProps() {\n-           6 |   setTimeout(() => {\n-        >  7 |     throw new Error()\n-             |          ^\n-           8 |   }, 10)\n-           9 |   return {\n-          10 |     props: {},\"\n+       \"Error: \n+           at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     throw new Error()\n+            |          ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ uncaughtException: Error: \n+           at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     throw new Error()\n+            |          ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\n+        ⨯ uncaughtException:  Error: \n+           at Timeout.eval [as _onTimeout] (../../test/integration/server-side-dev-errors/pages/uncaught-empty-exception.js:7:10)\n+          5 | export async function getServerSideProps() {\n+          6 |   setTimeout(() => {\n+       >  7 |     throw new Error()\n+            |          ^\n+          8 |   }, 10)\n+          9 |   return {\n+         10 |     props: {},\"\n       `)\n     }\n   })"
        }
    ],
    "stats": {
        "total": 226,
        "additions": 114,
        "deletions": 112
    }
}