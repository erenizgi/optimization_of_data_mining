{
    "author": "kdy1",
    "message": "build: Update `swc_core` to `v21.0.1` (#77918)\n\n### What?\n\nUpdate swc_core to the latest version. ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v19.0.0...swc_core%40v21.0.1\n\n### Why?\n\nTo keep in sync & apply https://github.com/swc-project/swc/pull/10314\n\n### How?\n\nCloses NDX-967",
    "sha": "082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
    "files": [
        {
            "sha": "ac6cfacff7a054682ea906042fec50f5d4a90df8",
            "filename": "Cargo.lock",
            "status": "modified",
            "additions": 103,
            "deletions": 31,
            "changes": 134,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/Cargo.lock",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/Cargo.lock",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.lock?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -750,9 +750,9 @@ dependencies = [\n \n [[package]]\n name = \"binding_macros\"\n-version = \"18.0.0\"\n+version = \"20.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5ef3b68f224012421461b216cfba80d6971e62abddb9e221ccce9c79e3a2a03d\"\n+checksum = \"3e75fa4ddc354a7e46572bc5e745d19245fc1a4c980cd8a6a82debffdca13f39\"\n dependencies = [\n  \"anyhow\",\n  \"console_error_panic_hook\",\n@@ -2962,7 +2962,7 @@ dependencies = [\n  \"httpdate\",\n  \"itoa\",\n  \"pin-project-lite\",\n- \"socket2 0.5.8\",\n+ \"socket2 0.4.9\",\n  \"tokio\",\n  \"tower-service\",\n  \"tracing\",\n@@ -4082,8 +4082,7 @@ dependencies = [\n [[package]]\n name = \"mdxjs\"\n version = \"0.3.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1f93363d4ecc5209500f27b94a6fe801f0d3eecf7fa685a4563bdd3ea8c917a8\"\n+source = \"git+https://github.com/kdy1/mdxjs-rs?branch=swc-core-21#477c41dd9cb462fa31f91359c9930b14fa920d67\"\n dependencies = [\n  \"markdown\",\n  \"rustc-hash 2.1.0\",\n@@ -6982,7 +6981,7 @@ dependencies = [\n  \"swc_css_prefixer\",\n  \"swc_css_visit\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_minifier\",\n+ \"swc_ecma_minifier 14.0.0\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_transforms_base\",\n  \"swc_ecma_utils\",\n@@ -7005,9 +7004,9 @@ checksum = \"804f44ed3c63152de6a9f90acbea1a110441de43006ea51bcce8f436196a288b\"\n \n [[package]]\n name = \"swc\"\n-version = \"18.0.0\"\n+version = \"20.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1ccfeff9af7ffb8fb7243dc698c598e00963486ef5cdeff449abf1cccacef417\"\n+checksum = \"1311db8bbe20ad5374dd10a92d2dba3bf5ac59ade06292bdd381d1897c74664a\"\n dependencies = [\n  \"anyhow\",\n  \"base64 0.22.1\",\n@@ -7034,11 +7033,11 @@ dependencies = [\n  \"swc_compiler_base\",\n  \"swc_config\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n+ \"swc_ecma_codegen 10.0.0\",\n  \"swc_ecma_ext_transforms\",\n  \"swc_ecma_lints\",\n  \"swc_ecma_loader\",\n- \"swc_ecma_minifier\",\n+ \"swc_ecma_minifier 16.0.0\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_preset_env\",\n  \"swc_ecma_transforms\",\n@@ -7103,9 +7102,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_bundler\"\n-version = \"13.0.0\"\n+version = \"15.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"be673e200f78a320003930fc9f27ee600f913188fa8804bf7fafc1ea70f420c7\"\n+checksum = \"900a8dba7470ecf731cba5d733e06134108142b1309147c25d32fab1f6846ac2\"\n dependencies = [\n  \"anyhow\",\n  \"crc\",\n@@ -7122,7 +7121,7 @@ dependencies = [\n  \"swc_atoms\",\n  \"swc_common\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n+ \"swc_ecma_codegen 10.0.0\",\n  \"swc_ecma_loader\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_transforms_base\",\n@@ -7183,9 +7182,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_compiler_base\"\n-version = \"15.0.0\"\n+version = \"17.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"806774262e8cc665d986364c109bdaa91eeadebf71402df6894c7c3c2be92795\"\n+checksum = \"dc96c4a212a3120deeefbc180bd7a4fed3d076af87d452d0b5773cc98b3934f6\"\n dependencies = [\n  \"anyhow\",\n  \"base64 0.22.1\",\n@@ -7202,8 +7201,8 @@ dependencies = [\n  \"swc_common\",\n  \"swc_config\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n- \"swc_ecma_minifier\",\n+ \"swc_ecma_codegen 10.0.0\",\n+ \"swc_ecma_minifier 16.0.0\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_visit\",\n  \"swc_timer\",\n@@ -7238,9 +7237,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_core\"\n-version = \"19.0.0\"\n+version = \"21.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"daca62565e1ae2a6b840f624e7d4613a1b2feb8790c5b9ac3df0b3cd442e167d\"\n+checksum = \"c89e035b38b98cbfa1950ca38f7cae673e3377ce80ed4e1dc58242a0f81dd8b8\"\n dependencies = [\n  \"binding_macros\",\n  \"swc\",\n@@ -7250,10 +7249,10 @@ dependencies = [\n  \"swc_cached\",\n  \"swc_common\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n+ \"swc_ecma_codegen 10.0.0\",\n  \"swc_ecma_lints\",\n  \"swc_ecma_loader\",\n- \"swc_ecma_minifier\",\n+ \"swc_ecma_minifier 16.0.0\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_preset_env\",\n  \"swc_ecma_quote_macros\",\n@@ -7448,7 +7447,30 @@ dependencies = [\n  \"swc_atoms\",\n  \"swc_common\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen_macros\",\n+ \"swc_ecma_codegen_macros 1.0.1\",\n+ \"tracing\",\n+]\n+\n+[[package]]\n+name = \"swc_ecma_codegen\"\n+version = \"10.0.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"b85453d346d0642f296c2b3aa204886a6ae2b9652262c3468d6f4556c1ed020d\"\n+dependencies = [\n+ \"ascii\",\n+ \"compact_str\",\n+ \"memchr\",\n+ \"num-bigint\",\n+ \"once_cell\",\n+ \"regex\",\n+ \"rustc-hash 2.1.0\",\n+ \"serde\",\n+ \"sourcemap\",\n+ \"swc_allocator\",\n+ \"swc_atoms\",\n+ \"swc_common\",\n+ \"swc_ecma_ast\",\n+ \"swc_ecma_codegen_macros 2.0.0\",\n  \"tracing\",\n ]\n \n@@ -7464,6 +7486,18 @@ dependencies = [\n  \"syn 2.0.95\",\n ]\n \n+[[package]]\n+name = \"swc_ecma_codegen_macros\"\n+version = \"2.0.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"e99e1931669a67c83e2c2b4375674f6901d1480994a76aa75b23f1389e6c5076\"\n+dependencies = [\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"swc_macros_common\",\n+ \"syn 2.0.95\",\n+]\n+\n [[package]]\n name = \"swc_ecma_compat_bugfixes\"\n version = \"12.0.0\"\n@@ -7745,7 +7779,44 @@ dependencies = [\n  \"swc_common\",\n  \"swc_config\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n+ \"swc_ecma_codegen 8.1.0\",\n+ \"swc_ecma_parser\",\n+ \"swc_ecma_transforms_base\",\n+ \"swc_ecma_transforms_optimization\",\n+ \"swc_ecma_usage_analyzer\",\n+ \"swc_ecma_utils\",\n+ \"swc_ecma_visit\",\n+ \"swc_timer\",\n+ \"tracing\",\n+]\n+\n+[[package]]\n+name = \"swc_ecma_minifier\"\n+version = \"16.0.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"96929d4669712d21609fbd1ba24461c964d93ed23702bd87cc530f4b307ecc34\"\n+dependencies = [\n+ \"arrayvec 0.7.4\",\n+ \"indexmap 2.7.1\",\n+ \"num-bigint\",\n+ \"num_cpus\",\n+ \"once_cell\",\n+ \"par-core\",\n+ \"par-iter\",\n+ \"parking_lot\",\n+ \"phf\",\n+ \"radix_fmt\",\n+ \"regex\",\n+ \"rustc-hash 2.1.0\",\n+ \"ryu-js\",\n+ \"serde\",\n+ \"serde_json\",\n+ \"swc_allocator\",\n+ \"swc_atoms\",\n+ \"swc_common\",\n+ \"swc_config\",\n+ \"swc_ecma_ast\",\n+ \"swc_ecma_codegen 10.0.0\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_transforms_base\",\n  \"swc_ecma_transforms_optimization\",\n@@ -8047,9 +8118,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_testing\"\n-version = \"12.0.0\"\n+version = \"14.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c9e812e5d5c89ac4559a2bb8bc7dcff2d09de7f7d4fc77a53293b93cb1bf9554\"\n+checksum = \"001e32bba70b2456a495dc7394673b233a19f76cdb46d7b0ce52ef1af8ecc573\"\n dependencies = [\n  \"ansi_term\",\n  \"anyhow\",\n@@ -8062,7 +8133,7 @@ dependencies = [\n  \"swc_allocator\",\n  \"swc_common\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n+ \"swc_ecma_codegen 10.0.0\",\n  \"swc_ecma_parser\",\n  \"swc_ecma_testing\",\n  \"swc_ecma_transforms_base\",\n@@ -8163,7 +8234,7 @@ dependencies = [\n  \"swc_atoms\",\n  \"swc_common\",\n  \"swc_ecma_ast\",\n- \"swc_ecma_codegen\",\n+ \"swc_ecma_codegen 8.1.0\",\n  \"swc_ecma_transforms\",\n  \"swc_ecma_utils\",\n  \"swc_ecma_visit\",\n@@ -8184,9 +8255,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_error_reporters\"\n-version = \"9.1.1\"\n+version = \"9.1.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7938665a5561d6c3e2b796b5b2d0bc9a961d461db960cb5139f12e82b45bb471\"\n+checksum = \"cc812b793a12b737b6cb949a6e8c87dfcd006c07d9490a5c4529d61e890003dc\"\n dependencies = [\n  \"anyhow\",\n  \"miette\",\n@@ -8358,10 +8429,11 @@ dependencies = [\n \n [[package]]\n name = \"swc_typescript\"\n-version = \"11.0.0\"\n+version = \"11.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1b8f660e0ab0e92551747a41335ab6a0c7b685885da37f4e8e79ac5737bc4e04\"\n+checksum = \"e8538a8b2e8d8a3ebbf58fe7f933d7b4bb01a291fbd7356352ea255cc15bbc70\"\n dependencies = [\n+ \"bitflags 2.5.0\",\n  \"petgraph 0.7.1\",\n  \"rustc-hash 2.1.0\",\n  \"swc_atoms\","
        },
        {
            "sha": "3ebf1c6ab718dede1d2bc98176b9f37055146983",
            "filename": "Cargo.toml",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/Cargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/Cargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.toml?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -296,7 +296,7 @@ turbopack-trace-utils = { path = \"turbopack/crates/turbopack-trace-utils\" }\n turbopack-wasm = { path = \"turbopack/crates/turbopack-wasm\" }\n \n # SWC crates\n-swc_core = { version = \"19.0.0\", features = [\n+swc_core = { version = \"21.0.1\", features = [\n   \"ecma_loader_lru\",\n   \"ecma_loader_parking_lot\",\n ] }\n@@ -432,3 +432,5 @@ wasmer = { git = \"https://github.com/kdy1/wasmer\", branch = \"build-deps\" }\n wasmer-cache = { git = \"https://github.com/kdy1/wasmer\", branch = \"build-deps\" }\n wasmer-compiler-cranelift = { git = \"https://github.com/kdy1/wasmer\", branch = \"build-deps\" }\n wasmer-wasix = { git = \"https://github.com/kdy1/wasmer\", branch = \"build-deps\" }\n+\n+mdxjs = { git = \"https://github.com/kdy1/mdxjs-rs\", branch = \"swc-core-21\" }"
        },
        {
            "sha": "6a8ac143aeb95014be852b5588653cc370f444eb",
            "filename": "test/development/acceptance-app/ReactRefreshLogBoxMisc.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fdevelopment%2Facceptance-app%2FReactRefreshLogBoxMisc.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fdevelopment%2Facceptance-app%2FReactRefreshLogBoxMisc.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2FReactRefreshLogBoxMisc.test.ts?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -54,7 +54,6 @@ describe('ReactRefreshLogBox app', () => {\n          \"label\": \"Build Error\",\n          \"source\": \"./app/page.js\n        Error:   x \"getStaticProps\" is not supported in app/. Read more: https://nextjs.org/docs/app/building-your-application/data-fetching\n-         |\n          |\n           ,-[3:1]\n         1 | 'use client'"
        },
        {
            "sha": "87490ee440608075bda26228971e632845651102",
            "filename": "test/development/acceptance/server-component-compiler-errors-in-pages.test.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 12,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fdevelopment%2Facceptance%2Fserver-component-compiler-errors-in-pages.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fdevelopment%2Facceptance%2Fserver-component-compiler-errors-in-pages.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance%2Fserver-component-compiler-errors-in-pages.test.ts?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -89,10 +89,9 @@ describe('Error Overlay for server components compiler errors in pages', () => {\n       expect(next.normalizeTestDirContent(await session.getRedboxSource()))\n         .toMatchInlineSnapshot(`\n        \"./components/Comp.js\n-       Error:   x You're importing a component that needs \"next/headers\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-\n-         | your-application/rendering/server-components\n-         | \n-         | \n+       Error:   x You're importing a component that needs \"next/headers\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-your-application/rendering/server-components\n+         |\n+\n           ,-[1:1]\n         1 | import { cookies } from 'next/headers'\n           : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -170,10 +169,9 @@ describe('Error Overlay for server components compiler errors in pages', () => {\n         )\n       ).toMatchInlineSnapshot(`\n        \"./components/Comp.js\n-       Error:   x You're importing a component that needs \"server-only\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-your-\n-         | application/rendering/server-components\n-         | \n-         | \n+       Error:   x You're importing a component that needs \"server-only\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-your-application/rendering/server-components\n+         |\n+\n           ,-[1:1]\n         1 | import 'server-only'\n           : ^^^^^^^^^^^^^^^^^^^^\n@@ -249,10 +247,9 @@ describe('Error Overlay for server components compiler errors in pages', () => {\n         )\n       ).toMatchInlineSnapshot(`\n        \"./components/Comp.js\n-       Error:   x You're importing a component that needs \"after\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-your-\n-         | application/rendering/server-components\n-         | \n-         | \n+       Error:   x You're importing a component that needs \"after\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-your-application/rendering/server-components\n+         |\n+\n           ,-[1:1]\n         1 | import { after } from 'next/server'\n           :          ^^^^^"
        },
        {
            "sha": "39e043e5f828491487f56ac54022dd0ca4fc2e66",
            "filename": "test/e2e/app-dir/error-on-next-codemod-comment/error-on-next-codemod-comment.test.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 13,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fe2e%2Fapp-dir%2Ferror-on-next-codemod-comment%2Ferror-on-next-codemod-comment.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fe2e%2Fapp-dir%2Ferror-on-next-codemod-comment%2Ferror-on-next-codemod-comment.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Ferror-on-next-codemod-comment%2Ferror-on-next-codemod-comment.test.ts?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -39,19 +39,18 @@ describe('app-dir - error-on-next-codemod-comment', () => {\n           `)\n       } else {\n         expect(await getRedboxSource(browser)).toMatchInlineSnapshot(`\n-           \"./app/page.tsx\n-           Error:   x You have an unresolved @next/codemod comment \"remove jsx of next line\" that needs review.\n-             | After review, either remove the comment if you made the necessary changes or replace \"@next-codemod-error\" with \"@next-codemod-ignore\" to bypass the build error if no action at this line can\n-             | be taken.\n-             | \n-              ,-[2:1]\n-            1 | export default function Page() {\n-            2 |   // @next-codemod-error remove jsx of next line\n-              :  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-            3 |   return <p>hello world</p>\n-            4 | }\n-              \\`----\"\n-          `)\n+         \"./app/page.tsx\n+         Error:   x You have an unresolved @next/codemod comment \"remove jsx of next line\" that needs review.\n+           | After review, either remove the comment if you made the necessary changes or replace \"@next-codemod-error\" with \"@next-codemod-ignore\" to bypass the build error if no action at this line can be taken.\n+\n+            ,-[2:1]\n+          1 | export default function Page() {\n+          2 |   // @next-codemod-error remove jsx of next line\n+            :  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+          3 |   return <p>hello world</p>\n+          4 | }\n+            \\`----\"\n+        `)\n       }\n     })\n "
        },
        {
            "sha": "0a35ddda3ef349eda1498f687d4c2cbadab73f18",
            "filename": "test/e2e/app-dir/use-cache-unknown-cache-kind/use-cache-unknown-cache-kind.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fe2e%2Fapp-dir%2Fuse-cache-unknown-cache-kind%2Fuse-cache-unknown-cache-kind.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fe2e%2Fapp-dir%2Fuse-cache-unknown-cache-kind%2Fuse-cache-unknown-cache-kind.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fuse-cache-unknown-cache-kind%2Fuse-cache-unknown-cache-kind.test.ts?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -86,7 +86,7 @@ describe('use-cache-unknown-cache-kind', () => {\n          \"\n          ./app/page.tsx\n          Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n-           | \n+\n             ,-[1:1]\n           1 | 'use cache: custom'\n             : ^^^^^^^^^^^^^^^^^^^\n@@ -169,7 +169,7 @@ describe('use-cache-unknown-cache-kind', () => {\n         expect(errorSource).toMatchInlineSnapshot(`\n          \"./app/page.tsx\n          Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n-           | \n+\n             ,-[1:1]\n           1 | 'use cache: custom'\n             : ^^^^^^^^^^^^^^^^^^^"
        },
        {
            "sha": "4d6d3aa6a2412215c2ae6fbcfe66d719a746774d",
            "filename": "test/e2e/app-dir/use-cache-without-experimental-flag/use-cache-without-experimental-flag.test.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 15,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fe2e%2Fapp-dir%2Fuse-cache-without-experimental-flag%2Fuse-cache-without-experimental-flag.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d/test%2Fe2e%2Fapp-dir%2Fuse-cache-without-experimental-flag%2Fuse-cache-without-experimental-flag.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fuse-cache-without-experimental-flag%2Fuse-cache-without-experimental-flag.test.ts?ref=082b2dd19d0e92f34cfefa326a4f6f13b4e7de2d",
            "patch": "@@ -54,9 +54,9 @@ describe('use-cache-without-experimental-flag', () => {\n          \"\n          ./app/page.tsx\n          Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n-           | \n+           |\n            | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n-           | \n+\n             ,-[1:1]\n           1 | 'use cache'\n             : ^^^^^^^^^^^\n@@ -109,19 +109,19 @@ describe('use-cache-without-experimental-flag', () => {\n           `)\n       } else {\n         expect(errorSource).toMatchInlineSnapshot(`\n-           \"./app/page.tsx\n-           Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n-             | \n-             | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n-             | \n-              ,-[1:1]\n-            1 | 'use cache'\n-              : ^^^^^^^^^^^\n-            2 | \n-            3 | export default async function Page() {\n-            4 |   return <p>hello world</p>\n-              \\`----\"\n-          `)\n+         \"./app/page.tsx\n+         Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+           |\n+           | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n+\n+            ,-[1:1]\n+          1 | 'use cache'\n+            : ^^^^^^^^^^^\n+          2 | \n+          3 | export default async function Page() {\n+          4 |   return <p>hello world</p>\n+            \\`----\"\n+        `)\n       }\n     })\n "
        }
    ],
    "stats": {
        "total": 219,
        "additions": 144,
        "deletions": 75
    }
}