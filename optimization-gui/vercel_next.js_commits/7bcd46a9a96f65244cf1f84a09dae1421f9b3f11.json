{
    "author": "gnoff",
    "message": "[dynamicIO] Track module loading in dev always (#81388)\n\nIn dev we prerender and render concurrently. The former to validate\ndynamicIO rules. The latter to stream a response as soon as possible. If\nwe only track module loading during prerenders it is possible to kick\noff loading a chunk during the render and then not observe that chunk\nload during prerender, leading to an early abort before all modules have\nhad a chance to load.\n\nTo solve this we simply always track module loading in dev.",
    "sha": "7bcd46a9a96f65244cf1f84a09dae1421f9b3f11",
    "files": [
        {
            "sha": "f199da94194230750d89df1980cf08034630a0a2",
            "filename": "packages/next/src/server/app-render/app-render.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/7bcd46a9a96f65244cf1f84a09dae1421f9b3f11/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/7bcd46a9a96f65244cf1f84a09dae1421f9b3f11/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx?ref=7bcd46a9a96f65244cf1f84a09dae1421f9b3f11",
            "patch": "@@ -1221,6 +1221,9 @@ async function renderToHTMLOrFlightImpl(\n       if (!renderOpts.experimental.dynamicIO) {\n         return false\n       }\n+      if (renderOpts.dev) {\n+        return true\n+      }\n       const workUnitStore = workUnitAsyncStorage.getStore()\n       return !!(\n         workUnitStore &&"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}