{
    "author": "devjiwonchoi",
    "message": "docs: Remove AMP docs (#84357)\n\nStacked on https://github.com/vercel/next.js/pull/84312\n\nRemoves the AMP docs, which is no longer supported.",
    "sha": "2318b5e2c01e74e94c5ea1527f949e6a708fe124",
    "files": [
        {
            "sha": "0454f4fea3e4bb0ce7f15cdb599d5ce63e8830a3",
            "filename": "docs/01-app/02-guides/upgrading/codemods.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/2318b5e2c01e74e94c5ea1527f949e6a708fe124/docs%2F01-app%2F02-guides%2Fupgrading%2Fcodemods.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2318b5e2c01e74e94c5ea1527f949e6a708fe124/docs%2F01-app%2F02-guides%2Fupgrading%2Fcodemods.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fupgrading%2Fcodemods.mdx?ref=2318b5e2c01e74e94c5ea1527f949e6a708fe124",
            "patch": "@@ -531,6 +531,8 @@ The component will have a camel-cased name based on the name of the file, and it\n \n ### 8\n \n+> **Note**: Built-in AMP support and this codemod have been removed in Next.js 16.\n+\n #### Transform AMP HOC into page config\n \n ##### `withamp-to-config`"
        },
        {
            "sha": "ae72991968279eebd009573f5c953e31e83a175b",
            "filename": "docs/01-app/03-api-reference/08-turbopack.mdx",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/2318b5e2c01e74e94c5ea1527f949e6a708fe124/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2318b5e2c01e74e94c5ea1527f949e6a708fe124/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx?ref=2318b5e2c01e74e94c5ea1527f949e6a708fe124",
            "patch": "@@ -160,8 +160,6 @@ Some features are not yet implemented or not planned:\n   - `@import` in CSS Modules importing `.css` as a CSS Module. In webpack this would treat the `.css` file as a CSS Module, with Turbopack the `.css` file will always be global. This means that if you want to use `@import` in a CSS Module, you need to change the `.css` file to a `.module.css` file.\n - **`webpack()` configuration** in `next.config.js`\n   Turbopack replaces webpack, so `webpack()` configs are not recognized. Use the [`turbopack` config](/docs/app/api-reference/config/next-config-js/turbopack) instead.\n-- **AMP**\n-  Not planned for Turbopack support in Next.js.\n - **Yarn PnP**\n   Not planned for Turbopack support in Next.js.\n - **`experimental.urlImports`**"
        },
        {
            "sha": "051a3e123afb8ebc324a54ba1854a6986fe7a507",
            "filename": "docs/02-pages/02-guides/amp.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 159,
            "changes": 159,
            "blob_url": "https://github.com/vercel/next.js/blob/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/docs%2F02-pages%2F02-guides%2Famp.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/docs%2F02-pages%2F02-guides%2Famp.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F02-guides%2Famp.mdx?ref=43b8e3d6ad5acc569be6c1c12ee73dff04949c66",
            "patch": "@@ -1,159 +0,0 @@\n----\n-title: How to create AMP pages in Next.js\n-nav_title: AMP\n-description: With minimal config, and without leaving React, you can start adding AMP and improve the performance and speed of your pages.\n----\n-\n-<details>\n-  <summary>Examples</summary>\n-\n-- [AMP](https://github.com/vercel/next.js/tree/canary/examples/amp)\n-\n-</details>\n-\n-> **Warning**: Built-in AMP support will be removed in Next.js 16.\n-\n-With Next.js you can turn any React page into an AMP page, with minimal config, and without leaving React.\n-\n-You can read more about AMP in the official [amp.dev](https://amp.dev/) site.\n-\n-## Enabling AMP\n-\n-To enable AMP support for a page, and to learn more about the different AMP configs, read the [API documentation for `next/amp`](/docs/pages/guides/amp).\n-\n-## Caveats\n-\n-- Only CSS-in-JS is supported. [CSS Modules](/docs/app/getting-started/css) aren't supported by AMP pages at the moment. You can [contribute CSS Modules support to Next.js](https://github.com/vercel/next.js/issues/10549).\n-\n-## Adding AMP Components\n-\n-The AMP community provides [many components](https://amp.dev/documentation/components/) to make AMP pages more interactive. Next.js will automatically import all components used on a page and there is no need to manually import AMP component scripts:\n-\n-```jsx\n-export const config = { amp: true }\n-\n-function MyAmpPage() {\n-  const date = new Date()\n-\n-  return (\n-    <div>\n-      <p>Some time: {date.toJSON()}</p>\n-      <amp-timeago\n-        width=\"0\"\n-        height=\"15\"\n-        datetime={date.toJSON()}\n-        layout=\"responsive\"\n-      >\n-        .\n-      </amp-timeago>\n-    </div>\n-  )\n-}\n-\n-export default MyAmpPage\n-```\n-\n-The above example uses the [`amp-timeago`](https://amp.dev/documentation/components/amp-timeago/?format=websites) component.\n-\n-By default, the latest version of a component is always imported. If you want to customize the version, you can use `next/head`, as in the following example:\n-\n-```jsx\n-import Head from 'next/head'\n-\n-export const config = { amp: true }\n-\n-function MyAmpPage() {\n-  const date = new Date()\n-\n-  return (\n-    <div>\n-      <Head>\n-        <script\n-          async\n-          key=\"amp-timeago\"\n-          custom-element=\"amp-timeago\"\n-          src=\"https://cdn.ampproject.org/v0/amp-timeago-0.1.js\"\n-        />\n-      </Head>\n-\n-      <p>Some time: {date.toJSON()}</p>\n-      <amp-timeago\n-        width=\"0\"\n-        height=\"15\"\n-        datetime={date.toJSON()}\n-        layout=\"responsive\"\n-      >\n-        .\n-      </amp-timeago>\n-    </div>\n-  )\n-}\n-\n-export default MyAmpPage\n-```\n-\n-## AMP Validation\n-\n-AMP pages are automatically validated with [amphtml-validator](https://www.npmjs.com/package/amphtml-validator) during development. Errors and warnings will appear in the terminal where you started Next.js.\n-\n-Pages are also validated during [Static HTML export](/docs/pages/guides/static-exports) and any warnings / errors will be printed to the terminal. Any AMP errors will cause the export to exit with status code `1` because the export is not valid AMP.\n-\n-### Custom Validators\n-\n-You can set up custom AMP validator in `next.config.js` as shown below:\n-\n-```js\n-module.exports = {\n-  amp: {\n-    validator: './custom_validator.js',\n-  },\n-}\n-```\n-\n-### Skip AMP Validation\n-\n-To turn off AMP validation add the following code to `next.config.js`\n-\n-```js\n-experimental: {\n-  amp: {\n-    skipValidation: true\n-  }\n-}\n-```\n-\n-### AMP in Static HTML Export\n-\n-When using [Static HTML export](/docs/pages/guides/static-exports) statically prerender pages, Next.js will detect if the page supports AMP and change the exporting behavior based on that.\n-\n-For example, the hybrid AMP page `pages/about.js` would output:\n-\n-- `out/about.html` - HTML page with client-side React runtime\n-- `out/about.amp.html` - AMP page\n-\n-And if `pages/about.js` is an AMP-only page, then it would output:\n-\n-- `out/about.html` - Optimized AMP page\n-\n-Next.js will automatically insert a link to the AMP version of your page in the HTML version, so you don't have to, like so:\n-\n-```jsx\n-<link rel=\"amphtml\" href=\"/about.amp.html\" />\n-```\n-\n-And the AMP version of your page will include a link to the HTML page:\n-\n-```jsx\n-<link rel=\"canonical\" href=\"/about\" />\n-```\n-\n-When [`trailingSlash`](/docs/pages/api-reference/config/next-config-js/trailingSlash) is enabled the exported pages for `pages/about.js` would be:\n-\n-- `out/about/index.html` - HTML page\n-- `out/about.amp/index.html` - AMP page\n-\n-## TypeScript\n-\n-AMP currently doesn't have built-in types for TypeScript, but it's in their roadmap ([#13791](https://github.com/ampproject/amphtml/issues/13791)).\n-\n-As a workaround you can manually create a file called `amp.d.ts` inside your project and add these [custom types](https://stackoverflow.com/a/50601125)."
        },
        {
            "sha": "6237a4fb88da1cabd24daef0a4f7f1976cdd51a4",
            "filename": "docs/02-pages/04-api-reference/03-functions/use-amp.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 86,
            "changes": 86,
            "blob_url": "https://github.com/vercel/next.js/blob/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fuse-amp.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fuse-amp.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fuse-amp.mdx?ref=43b8e3d6ad5acc569be6c1c12ee73dff04949c66",
            "patch": "@@ -1,86 +0,0 @@\n----\n-title: useAmp\n-description: Enable AMP in a page, and control the way Next.js adds AMP to the page with the AMP config.\n----\n-\n-<details>\n-  <summary>Examples</summary>\n-\n-- [AMP](https://github.com/vercel/next.js/tree/canary/examples/amp)\n-\n-</details>\n-\n-> **Warning**: Built-in AMP support will be removed in Next.js 16.\n-\n-To enable AMP, add the following config to your page:\n-\n-```jsx filename=\"pages/index.js\"\n-export const config = { amp: true }\n-```\n-\n-The `amp` config accepts the following values:\n-\n-- `true` - The page will be AMP-only\n-- `'hybrid'` - The page will have two versions, one with AMP and another one with HTML\n-\n-To learn more about the `amp` config, read the sections below.\n-\n-## AMP First Page\n-\n-Take a look at the following example:\n-\n-```jsx filename=\"pages/about.js\"\n-export const config = { amp: true }\n-\n-function About(props) {\n-  return <h3>My AMP About Page!</h3>\n-}\n-\n-export default About\n-```\n-\n-The page above is an AMP-only page, which means:\n-\n-- The page has no Next.js or React client-side runtime\n-- The page is automatically optimized with [AMP Optimizer](https://github.com/ampproject/amp-toolbox/tree/master/packages/optimizer), an optimizer that applies the same transformations as AMP caches (improves performance by up to 42%)\n-- The page has a user-accessible (optimized) version of the page and a search-engine indexable (unoptimized) version of the page\n-\n-## Hybrid AMP Page\n-\n-Take a look at the following example:\n-\n-```jsx filename=\"pages/about.js\"\n-import { useAmp } from 'next/amp'\n-\n-export const config = { amp: 'hybrid' }\n-\n-function About(props) {\n-  const isAmp = useAmp()\n-\n-  return (\n-    <div>\n-      <h3>My AMP About Page!</h3>\n-      {isAmp ? (\n-        <amp-img\n-          width=\"300\"\n-          height=\"300\"\n-          src=\"/my-img.jpg\"\n-          alt=\"a cool image\"\n-          layout=\"responsive\"\n-        />\n-      ) : (\n-        <img width=\"300\" height=\"300\" src=\"/my-img.jpg\" alt=\"a cool image\" />\n-      )}\n-    </div>\n-  )\n-}\n-\n-export default About\n-```\n-\n-The page above is a hybrid AMP page, which means:\n-\n-- The page is rendered as traditional HTML (default) and AMP HTML (by adding `?amp=1` to the URL)\n-- The AMP version of the page only has valid optimizations applied with AMP Optimizer so that it is indexable by search-engines\n-\n-The page uses `useAmp` to differentiate between modes, it's a [React Hook](https://react.dev/reference/react) that returns `true` if the page is using AMP, and `false` otherwise."
        },
        {
            "sha": "52f944a4c26ff008567dd2cd13d0bd0c6681225d",
            "filename": "errors/amp-bind-jsx-alt.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/errors%2Famp-bind-jsx-alt.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/errors%2Famp-bind-jsx-alt.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Famp-bind-jsx-alt.mdx?ref=43b8e3d6ad5acc569be6c1c12ee73dff04949c66",
            "patch": "@@ -1,19 +0,0 @@\n----\n-title: Resolving \"AMP Bind JSX Error\" in Next.js\n-description: This document explains the \"AMP Bind JSX Error\" in Next.js and provides a valid solution to resolve it.\n----\n-\n-## Why This Error Occurred\n-\n-The \"AMP Bind JSX Error\" arises when you use the `[prop]='something'` syntax somewhere in your code.\n-\n-JSX is a syntax extension for JavaScript used by React (and by extension, Next.js). JSX does not support the usage of this particular syntax, hence the error.\n-\n-## Possible Ways to Fix It\n-\n-To fix this issue, instead of using `[prop]='something'`, you can use `data-amp-bind-prop='something'`. This is a valid alternative in Accelerated Mobile Pages (AMP) that works well with JSX.\n-\n-## Useful Links\n-\n-- [AMP HTML Specification](https://www.ampproject.org/docs/fundamentals/spec) - Understand the underlying standards and rules for creating AMP pages.\n-- [Possible future syntax](https://github.com/ampproject/amphtml/issues/21600) - Check out the discussions on potential syntax changes that may be applicable in the future."
        },
        {
            "sha": "fd00950ea8dfc01b5f4bee0e09f1c7b2189b134a",
            "filename": "errors/amp-export-validation.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/errors%2Famp-export-validation.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/errors%2Famp-export-validation.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Famp-export-validation.mdx?ref=43b8e3d6ad5acc569be6c1c12ee73dff04949c66",
            "patch": "@@ -1,18 +0,0 @@\n----\n-title: Troubleshooting \"AMP Export Validation\" Error in Next.js\n-description: This document provides insights on the \"AMP Export Validation\" error in Next.js and how to address it.\n----\n-\n-## Why This Error Occurred\n-\n-The \"AMP Export Validation\" error typically occurs during the export process when the AMP pages are validated using the [amphtml-validator](https://www.npmjs.com/package/amphtml-validator). If the validator returns any errors, the export process will fail.\n-\n-AMP validation errors are crucial as they can prevent your pages from being indexed by AMP Caches. AMP Caches are systems that store and serve valid AMP documents to ensure faster delivery of AMP pages to users.\n-\n-## Possible Ways to Fix It\n-\n-To resolve this issue, carefully review the error messages provided by the validator. These messages usually provide detailed insights into the problem and how to fix it. Following the links associated with these error messages can also guide you to more information about the particular error and its solution.\n-\n-## Useful Links\n-\n-- [AMP HTML Specification](https://www.ampproject.org/docs/fundamentals/spec) - Get more details about AMP standards and conventions to ensure your pages are compliant."
        },
        {
            "sha": "a6f88fbf54458112d7a68f896438ce06d4367456",
            "filename": "errors/conflicting-amp-tag.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/errors%2Fconflicting-amp-tag.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/43b8e3d6ad5acc569be6c1c12ee73dff04949c66/errors%2Fconflicting-amp-tag.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Fconflicting-amp-tag.mdx?ref=43b8e3d6ad5acc569be6c1c12ee73dff04949c66",
            "patch": "@@ -1,11 +0,0 @@\n----\n-title: Conflicting AMP Tag\n----\n-\n-## Why This Error Occurred\n-\n-In AMP mode Next.js adds certain necessary tags automatically to comply with the AMP standard. You added a tag using `next/head` that conflicts with one of these automatically added tags.\n-\n-## Possible Ways to Fix It\n-\n-Remove the tag mentioned in the error message from any `<Head></Head>` elements"
        },
        {
            "sha": "602c374b930f44c4060b8919bc4859fafc2e066a",
            "filename": "errors/invalid-page-config.mdx",
            "status": "modified",
            "additions": 0,
            "deletions": 31,
            "changes": 31,
            "blob_url": "https://github.com/vercel/next.js/blob/2318b5e2c01e74e94c5ea1527f949e6a708fe124/errors%2Finvalid-page-config.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2318b5e2c01e74e94c5ea1527f949e6a708fe124/errors%2Finvalid-page-config.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Finvalid-page-config.mdx?ref=2318b5e2c01e74e94c5ea1527f949e6a708fe124",
            "patch": "@@ -41,36 +41,6 @@ export const config = {}\n <tr>\n <td>\n \n-```js\n-export const config = {}\n-// `config.amp` is defined after `config` is exported\n-config.amp = true\n-\n-// `config.amp` contains a dynamic expression\n-export const config = {\n-  amp: 1 + 1 > 2,\n-}\n-```\n-\n-</td>\n-<td>\n-\n-```js\n-export const config = {\n-  amp: true,\n-}\n-\n-export const config = {\n-  amp: false,\n-}\n-```\n-\n-</td>\n-</tr>\n-\n-<tr>\n-<td>\n-\n ```js\n // `config.runtime` contains a dynamic expression\n export const config = {\n@@ -116,6 +86,5 @@ export const config = {}\n \n ## Useful Links\n \n-- [Enabling AMP Support](/docs/pages/guides/amp)\n - [API Routes Request Helpers](/docs/pages/building-your-application/routing/api-routes)\n - [Edge Runtime](/docs/app/api-reference/edge)"
        }
    ],
    "stats": {
        "total": 328,
        "additions": 2,
        "deletions": 326
    }
}