{
    "author": "timneutkens",
    "message": "Rename process.env.TURBOPACK to process.env.IS_TURBOPACK_TEST for tests (#77892)\n\nPreparation for removing `process.env.TURBOPACK` being added to\nTurbopack tests. That way we can properly test `next start` without\n`process.env.TURBOPACK` being set.\n\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\nTo make sure your PR is handled as smoothly as possible we request that\nyou follow the checklist sections below.\nChoose the right checklist for the change(s) that you're making:\n\n## For Contributors\n\n### Improving Documentation\n\n- Run `pnpm prettier-fix` to fix formatting issues before opening the\nPR.\n- Read the Docs Contribution Guide to ensure your contribution follows\nthe docs guidelines:\nhttps://nextjs.org/docs/community/contribution-guide\n\n### Adding or Updating Examples\n\n- The \"examples guidelines\" are followed from our contributing doc\nhttps://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See\nhttps://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\n\n### Fixing a bug\n\n- Related issues linked using `fixes #number`\n- Tests added. See:\nhttps://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\n- Errors have a helpful link attached, see\nhttps://github.com/vercel/next.js/blob/canary/contributing.md\n\n### Adding a feature\n\n- Implements an existing feature request or RFC. Make sure the feature\nrequest has been accepted for implementation before opening a PR. (A\ndiscussion must be opened, see\nhttps://github.com/vercel/next.js/discussions/new?category=ideas)\n- Related issues/discussions are linked using `fixes #number`\n- e2e tests added\n(https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\n- Documentation added\n- Telemetry added. In case of a feature if it's used or not.\n- Errors have a helpful link attached, see\nhttps://github.com/vercel/next.js/blob/canary/contributing.md\n\n\n## For Maintainers\n\n- Minimal description (aim for explaining to someone not on the team to\nunderstand the PR)\n- When linking to a Slack thread, you might want to share details of the\nconclusion\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\n- Add review comments if necessary to explain to the reviewer the logic\nbehind a change\n\n### What?\n\n### Why?\n\n### How?\n\nCloses NEXT-\nFixes #\n\n-->",
    "sha": "6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
    "files": [
        {
            "sha": "4d22813eb1c99770e9325b0c06c1a8d1a2f17e8e",
            "filename": ".github/workflows/build_and_test.yml",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/.github%2Fworkflows%2Fbuild_and_test.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/.github%2Fworkflows%2Fbuild_and_test.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_test.yml?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -240,7 +240,7 @@ jobs:\n         react: ['', '18.3.1']\n     uses: ./.github/workflows/build_reusable.yml\n     with:\n-      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-dev-tests-manifest.json\" TURBOPACK=1 TURBOPACK_DEV=1  NEXT_E2E_TEST_TIMEOUT=240000 NEXT_TEST_MODE=dev NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\" node run-tests.js --test-pattern '^(test\\/(development|e2e))/.*\\.test\\.(js|jsx|ts|tsx)$' --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY}\n+      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-dev-tests-manifest.json\" IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_DEV=1  NEXT_E2E_TEST_TIMEOUT=240000 NEXT_TEST_MODE=dev NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\" node run-tests.js --test-pattern '^(test\\/(development|e2e))/.*\\.test\\.(js|jsx|ts|tsx)$' --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY}\n       stepName: 'test-turbopack-dev-react-${{ matrix.react }}-${{ matrix.group }}'\n     secrets: inherit\n \n@@ -262,7 +262,7 @@ jobs:\n     uses: ./.github/workflows/build_reusable.yml\n     with:\n       nodeVersion: 18.18.2\n-      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-dev-tests-manifest.json\" TURBOPACK=1 TURBOPACK_DEV=1 NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\" node run-tests.js --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY} --type integration\n+      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-dev-tests-manifest.json\" IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_DEV=1 NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\" node run-tests.js --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY} --type integration\n       stepName: 'test-turbopack-integration-react-${{ matrix.react }}-${{ matrix.group }}'\n     secrets: inherit\n \n@@ -287,7 +287,7 @@ jobs:\n     uses: ./.github/workflows/build_reusable.yml\n     with:\n       nodeVersion: 18.18.2\n-      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-build-tests-manifest.json\" TURBOPACK=1 TURBOPACK_BUILD=1 NEXT_TEST_MODE=start NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\" node run-tests.js --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY} --type production\n+      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-build-tests-manifest.json\" IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_BUILD=1 NEXT_TEST_MODE=start NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\" node run-tests.js --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY} --type production\n       stepName: 'test-turbopack-production-react-${{ matrix.react }}-${{ matrix.group }}'\n     secrets: inherit\n \n@@ -303,7 +303,7 @@ jobs:\n     uses: ./.github/workflows/build_reusable.yml\n     with:\n       nodeVersion: 18.18.2\n-      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-build-tests-manifest.json\" TURBOPACK=1 TURBOPACK_BUILD=1 node run-tests.js --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY} --type integration\n+      afterBuild: RUST_BACKTRACE=0 NEXT_EXTERNAL_TESTS_FILTERS=\"$(pwd)/test/turbopack-build-tests-manifest.json\" IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_BUILD=1 node run-tests.js --timings -g ${{ matrix.group }} -c ${TEST_CONCURRENCY} --type integration\n       stepName: 'test-turbopack-production-integration-${{ matrix.group }}'\n     secrets: inherit\n "
        },
        {
            "sha": "a3388c22fac9dd6524b88739e41dcde876f9fcf1",
            "filename": ".github/workflows/turbopack-nextjs-build-integration-tests.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/.github%2Fworkflows%2Fturbopack-nextjs-build-integration-tests.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/.github%2Fworkflows%2Fturbopack-nextjs-build-integration-tests.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fturbopack-nextjs-build-integration-tests.yml?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -13,7 +13,7 @@ jobs:\n       name: turbopack-production\n       test_type: production\n       run_before_test: |\n-        export TURBOPACK=1 TURBOPACK_BUILD=1\n+        export IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_BUILD=1\n       # Failing tests take longer (due to timeouts and retries). Since we have\n       # many failing tests, we need smaller groups and longer timeouts, in case\n       # a group gets stuck with a cluster of failing tests."
        },
        {
            "sha": "d4f876deaa276c9c24f02082a41122205924099a",
            "filename": ".github/workflows/turbopack-nextjs-dev-integration-tests.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/.github%2Fworkflows%2Fturbopack-nextjs-dev-integration-tests.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/.github%2Fworkflows%2Fturbopack-nextjs-dev-integration-tests.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fturbopack-nextjs-dev-integration-tests.yml?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -13,5 +13,5 @@ jobs:\n       name: turbopack-development\n       test_type: development\n       run_before_test: |\n-        export TURBOPACK=1\n+        export IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_DEV=1\n     secrets: inherit"
        },
        {
            "sha": "90aa6ed95ce2dcbcc2eed02016dfc05237073cf2",
            "filename": "bench/heavy-npm-deps/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/bench%2Fheavy-npm-deps%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/bench%2Fheavy-npm-deps%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/bench%2Fheavy-npm-deps%2Fpackage.json?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -5,7 +5,7 @@\n   \"scripts\": {\n     \"dev-turbopack\": \"next dev --turbopack\",\n     \"dev-webpack\": \"next dev\",\n-    \"build-turbopack\": \"TURBOPACK=1 TURBOPACK_BUILD=1 next build\",\n+    \"build-turbopack\": \"next build --turbopack\",\n     \"build-webpack\": \"next build\",\n     \"start-turbopack\": \"TURBOPACK=1 next start\",\n     \"start-webpack\": \"next start\","
        },
        {
            "sha": "e1607822e72989a05871a7fba2a4c8132772c32c",
            "filename": "contributing/core/testing.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/contributing%2Fcore%2Ftesting.md",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/contributing%2Fcore%2Ftesting.md",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/contributing%2Fcore%2Ftesting.md?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -109,10 +109,10 @@ Add `NEXT_TEST_TRACE=1` to enable test profiling. It's useful for improving our\n \n ### Testing Turbopack\n \n-To run the test suite using Turbopack, you can use the `TURBOPACK=1` environment variable:\n+To run the test suite using Turbopack, you can use the `-turbo` version of the npm script:\n \n ```sh\n-TURBOPACK=1 pnpm test-dev test/e2e/app-dir/app/\n+pnpm test-dev-turbo test/e2e/app-dir/app/\n ```\n \n If you want to run a test again both Turbopack and Webpack, use Jest's `--projects` flag:"
        },
        {
            "sha": "c041d21a35c640ac5433964dd2a1e6f9a3e96bdd",
            "filename": "package.json",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -17,21 +17,21 @@\n     \"test-unit\": \"jest test/unit/ packages/next/ packages/font\",\n     \"test-dev\": \"cross-env NEXT_TEST_MODE=dev pnpm testheadless\",\n     \"test-dev-rspack\": \"pnpm run with-rspack pnpm run test-dev\",\n-    \"test-dev-turbo\": \"cross-env NEXT_TEST_MODE=dev TURBOPACK=1 TURBOPACK_DEV=1 pnpm testheadless\",\n+    \"test-dev-turbo\": \"cross-env NEXT_TEST_MODE=dev IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_DEV=1 pnpm testheadless\",\n     \"test-start\": \"cross-env NEXT_TEST_MODE=start pnpm testheadless\",\n     \"test-start-rspack\": \"pnpm run with-rspack pnpm run test-start\",\n-    \"test-start-turbo\": \"cross-env NEXT_TEST_MODE=start TURBOPACK=1 TURBOPACK_BUILD=1 pnpm testheadless\",\n+    \"test-start-turbo\": \"cross-env NEXT_TEST_MODE=start IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_BUILD=1 pnpm testheadless\",\n     \"test-deploy\": \"cross-env NEXT_TEST_MODE=deploy pnpm testheadless\",\n     \"testonly-dev\": \"cross-env NEXT_TEST_MODE=dev pnpm testonly\",\n     \"testonly-dev-rspack\": \"pnpm run with-rspack pnpm run testonly-dev\",\n-    \"testonly-dev-turbo\": \"cross-env NEXT_TEST_MODE=dev TURBOPACK=1 TURBOPACK_DEV=1 pnpm testonly\",\n+    \"testonly-dev-turbo\": \"cross-env NEXT_TEST_MODE=dev IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_DEV=1 pnpm testonly\",\n     \"testonly-start\": \"cross-env NEXT_TEST_MODE=start pnpm testonly\",\n     \"testonly-start-rspack\": \"pnpm run with-rspack pnpm run testonly-start\",\n-    \"testonly-start-turbo\": \"cross-env NEXT_TEST_MODE=start TURBOPACK=1 TURBOPACK_BUILD=1 pnpm testonly\",\n+    \"testonly-start-turbo\": \"cross-env NEXT_TEST_MODE=start IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_BUILD=1 pnpm testonly\",\n     \"testonly-deploy\": \"cross-env NEXT_TEST_MODE=deploy pnpm testonly\",\n     \"test\": \"pnpm testheadless\",\n     \"test-rspack\": \"pnpm run with-rspack pnpm run test\",\n-    \"test-turbo\": \"cross-env TURBOPACK=1 TURBOPACK_DEV=1 TURBOPACK_BUILD=1 pnpm testheadless\",\n+    \"test-turbo\": \"cross-env IS_TURBOPACK_TEST=1 TURBOPACK=1 TURBOPACK_DEV=1 TURBOPACK_BUILD=1 pnpm testheadless\",\n     \"testonly\": \"jest --runInBand\",\n     \"testheadless\": \"cross-env HEADLESS=true pnpm testonly\",\n     \"genstats\": \"cross-env LOCAL_STATS=true node .github/actions/next-stats-action/src/index.js\","
        },
        {
            "sha": "6ee2c626ef5b5be7848c2a29c97450128d622450",
            "filename": "test/development/acceptance-app/app-hmr-changes.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Fapp-hmr-changes.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Fapp-hmr-changes.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Fapp-hmr-changes.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -22,7 +22,7 @@ describe('Error overlay - RSC build errors', () => {\n   })\n \n   // TODO: The error overlay is not closed when restoring the working code.\n-  ;(process.env.TURBOPACK ? describe : describe.skip)(\n+  ;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n     'Skipped in webpack',\n     () => {\n       it('should handle successive HMR changes with errors correctly', async () => {"
        },
        {
            "sha": "30eade95e727aee4a46a99f712bb5a9e8b341ea0",
            "filename": "test/development/acceptance-app/editor-links.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Feditor-links.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Feditor-links.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Feditor-links.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -83,7 +83,7 @@ describe('Error overlay - editor links', () => {\n     await clickSourceFile(browser)\n     await check(() => editorRequestsCount, /1/)\n   })\n-  ;(process.env.TURBOPACK ? describe.skip : describe)(\n+  ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n     'opening links in import traces',\n     () => {\n       it('should be possible to open import trace files on RSC parse error', async () => {"
        },
        {
            "sha": "4b23c25f21c3cd1fed9c14873e5a2be4ebdc9550",
            "filename": "test/development/acceptance-app/invalid-imports.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Finvalid-imports.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Finvalid-imports.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Finvalid-imports.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -64,7 +64,7 @@ describe('Error Overlay invalid imports', () => {\n     await session.patch(pageFile, withoutUseClient)\n \n     await session.assertHasRedbox()\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n         \"./app\n         Invalid import\n@@ -146,7 +146,7 @@ describe('Error Overlay invalid imports', () => {\n     await session.patch(pageFile, withoutUseClient)\n \n     await session.assertHasRedbox()\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n         \"./node_modules/client-only-package\n         Invalid import\n@@ -226,7 +226,7 @@ describe('Error Overlay invalid imports', () => {\n     await session.patch(file, \"'use client'\\n\" + content)\n \n     await session.assertHasRedbox()\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n         \"./node_modules/server-only-package\n         Invalid import"
        },
        {
            "sha": "504b07843eb8290ae57b936c0a4171e1f0ab17ea",
            "filename": "test/development/acceptance-app/rsc-build-errors.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Frsc-build-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Frsc-build-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Frsc-build-errors.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -345,7 +345,7 @@ describe('Error overlay - RSC build errors', () => {\n     await expect(session.getRedboxSource()).resolves.toMatch(\n       /must be a Client \\n| Component/\n     )\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(next.normalizeTestDirContent(await session.getRedboxSource()))\n         .toMatchInlineSnapshot(`\n        \"./app/server-with-errors/error-file/error.js (1:1)"
        },
        {
            "sha": "321a5ba90d6866dd323656a57906550f4484a52c",
            "filename": "test/development/acceptance-app/version-staleness.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Fversion-staleness.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance-app%2Fversion-staleness.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Fversion-staleness.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -47,7 +47,7 @@ describe('Error Overlay version staleness', () => {\n \n     await session.openRedbox()\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(await getStaleness(browser)).toMatchInlineSnapshot(`\n          \"Next.js 1.0.0 (outdated)\n          Turbopack\"\n@@ -89,7 +89,7 @@ describe('Error Overlay version staleness', () => {\n       `\n     )\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(await getStaleness(browser)).toMatchInlineSnapshot(`\n          \"Next.js 2.0.0 (outdated)\n          Turbopack\"\n@@ -128,7 +128,7 @@ describe('Error Overlay version staleness', () => {\n       `\n     )\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(await getStaleness(browser)).toMatchInlineSnapshot(`\n          \"Next.js 3.0.0 (outdated)\n          Turbopack\""
        },
        {
            "sha": "b4940d847e900465ccce3684e39198f541699ade",
            "filename": "test/development/acceptance/ReactRefreshLogBox.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -367,7 +367,7 @@ describe('ReactRefreshLogBox', () => {\n       `\n     )\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       await expect(browser).toDisplayRedbox(`\n        {\n          \"count\": 1,"
        },
        {
            "sha": "0f7ccda5c9a72850913606231dbd1f881a9b236b",
            "filename": "test/development/acceptance/server-component-compiler-errors-in-pages.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance%2Fserver-component-compiler-errors-in-pages.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Facceptance%2Fserver-component-compiler-errors-in-pages.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance%2Fserver-component-compiler-errors-in-pages.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -51,7 +51,7 @@ describe('Error Overlay for server components compiler errors in pages', () => {\n       /That only works in a Server Component/\n     )\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(next.normalizeTestDirContent(await session.getRedboxSource()))\n         .toMatchInlineSnapshot(`\n        \"./components/Comp.js (1:1)\n@@ -128,7 +128,7 @@ describe('Error Overlay for server components compiler errors in pages', () => {\n       /That only works in a Server Component/\n     )\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(next.normalizeTestDirContent(await session.getRedboxSource()))\n         .toMatchInlineSnapshot(`\n        \"./components/Comp.js (1:1)\n@@ -207,7 +207,7 @@ describe('Error Overlay for server components compiler errors in pages', () => {\n       /That only works in a Server Component/\n     )\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(next.normalizeTestDirContent(await session.getRedboxSource()))\n         .toMatchInlineSnapshot(`\n        \"./components/Comp.js (1:10)"
        },
        {
            "sha": "99b804df9fa89ae40820adfa9e19f7192ecf6293",
            "filename": "test/development/app-dir/server-component-next-dynamic-ssr-false/server-component-next-dynamic-ssr-false.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fapp-dir%2Fserver-component-next-dynamic-ssr-false%2Fserver-component-next-dynamic-ssr-false.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fapp-dir%2Fserver-component-next-dynamic-ssr-false%2Fserver-component-next-dynamic-ssr-false.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fserver-component-next-dynamic-ssr-false%2Fserver-component-next-dynamic-ssr-false.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -18,7 +18,7 @@ describe('app-dir - server-component-next-dynamic-ssr-false', () => {\n       source: await getRedboxSource(browser),\n     }\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(redbox.description).toMatchInlineSnapshot(\n         `\"Ecmascript file had an error\"`\n       )"
        },
        {
            "sha": "9e5026478f6c469a5e56f3fd056bdc75626fb6b5",
            "filename": "test/development/basic/allowed-dev-origins.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fallowed-dev-origins.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fallowed-dev-origins.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fallowed-dev-origins.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -172,7 +172,7 @@ describe.each([['', '/docs']])(\n           await retry(async () => {\n             // TODO: These requests seem to be blocked regardless of our handling only when running with Turbopack\n             // Investigate why this is the case\n-            if (!process.env.TURBOPACK) {\n+            if (!process.env.IS_TURBOPACK_TEST) {\n               expect(await browser.elementByCss('#status').text()).toBe('OK')\n             }\n "
        },
        {
            "sha": "210f077fe98547c46c22690c95241804d818a0fe",
            "filename": "test/development/basic/barrel-optimization/barrel-optimization-mui.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fbarrel-optimization%2Fbarrel-optimization-mui.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fbarrel-optimization%2Fbarrel-optimization-mui.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fbarrel-optimization%2Fbarrel-optimization-mui.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -3,7 +3,7 @@ import { nextTestSetup } from 'e2e-utils'\n import { assertNoRedbox } from 'next-test-utils'\n \n // Skipped in Turbopack, will be added later.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Skipped in Turbopack',\n   () => {\n     describe('optimizePackageImports - mui', () => {"
        },
        {
            "sha": "af412087379cf8ec65b4286286e6817db3f3ddb5",
            "filename": "test/development/basic/barrel-optimization/barrel-optimization.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fbarrel-optimization%2Fbarrel-optimization.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fbarrel-optimization%2Fbarrel-optimization.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fbarrel-optimization%2Fbarrel-optimization.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,7 +1,7 @@\n import { join } from 'path'\n import { nextTestSetup } from 'e2e-utils'\n // Skipped in Turbopack, will be added later.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Skipped in Turbopack',\n   () => {\n     describe('optimizePackageImports - basic', () => {"
        },
        {
            "sha": "7b72ca0d10f9e457751e7e8abe567838d4eb3d95",
            "filename": "test/development/basic/hmr/error-recovery.test.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fhmr%2Ferror-recovery.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fhmr%2Ferror-recovery.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fhmr%2Ferror-recovery.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -99,7 +99,7 @@ describe.each([\n         throw err\n       }\n     })\n-    ;(process.env.TURBOPACK ? it.skip : it)(\n+    ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n       // this test fails frequently with turbopack\n       'should not continously poll a custom error page',\n       async () => {\n@@ -171,7 +171,7 @@ describe.each([\n         await getRedboxSource(browser)\n       )\n \n-      if (basePath === '' && process.env.TURBOPACK) {\n+      if (basePath === '' && process.env.IS_TURBOPACK_TEST) {\n         expect(source).toMatchInlineSnapshot(`\n          \"./pages/hmr/about2.js (7:1)\n          Parsing ecmascript source code failed\n@@ -234,7 +234,7 @@ describe.each([\n           Import trace for requested module:\n           ./pages/hmr/about2.js\"\n         `)\n-      } else if (basePath === '/docs' && process.env.TURBOPACK) {\n+      } else if (basePath === '/docs' && process.env.IS_TURBOPACK_TEST) {\n         expect(source).toMatchInlineSnapshot(`\n             \"./pages/hmr/about2.js (7:1)\n             Parsing ecmascript source code failed\n@@ -308,7 +308,7 @@ describe.each([\n       })\n     })\n \n-    if (!process.env.TURBOPACK) {\n+    if (!process.env.IS_TURBOPACK_TEST) {\n       // Turbopack doesn't have this restriction\n       it('should show the error on all pages', async () => {\n         const aboutPage = join('pages', 'hmr', 'about2.js')\n@@ -577,7 +577,7 @@ describe.each([\n         await assertHasRedbox(browser)\n         expect(await getRedboxHeader(browser)).toMatch('Build Error')\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(await getRedboxSource(browser)).toMatchInlineSnapshot(`\n               \"./components/parse-error.xyz\n               Unknown module type\n@@ -670,7 +670,7 @@ describe.each([\n         let redboxSource = await getRedboxSource(browser)\n \n         redboxSource = redboxSource.replace(`${next.testDir}`, '.')\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(next.normalizeTestDirContent(redboxSource))\n             .toMatchInlineSnapshot(`\n            \"./components/parse-error.js (3:1)\n@@ -829,7 +829,7 @@ describe.each([\n       }\n     })\n \n-    if (!process.env.TURBOPACK) {\n+    if (!process.env.IS_TURBOPACK_TEST) {\n       it('should have client HMR events in trace file', async () => {\n         const traceData = await next.readFile('.next/trace')\n         expect(traceData).toContain('client-hmr-latency')"
        },
        {
            "sha": "3b84350601b5d4d9a18ee93913c561d936414106",
            "filename": "test/development/basic/next-dynamic/next-dynamic.test.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fnext-dynamic%2Fnext-dynamic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fnext-dynamic%2Fnext-dynamic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fnext-dynamic%2Fnext-dynamic.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -40,7 +40,7 @@ describe('next/dynamic', () => {\n           [`${srcPrefix}/pages/_document.js`]: customDocumentGipContent,\n         }),\n         // When it's not turbopack and babel is enabled, we add a .babelrc file.\n-        ...(!process.env.TURBOPACK &&\n+        ...(!process.env.IS_TURBOPACK_TEST &&\n           process.env.TEST_BABEL === '1' && {\n             '.babelrc': `{ \"presets\": [\"next/babel\"] }`,\n           }),\n@@ -58,15 +58,15 @@ describe('next/dynamic', () => {\n   }\n \n   // Turbopack doesn't support babel.\n-  ;(process.env.TURBOPACK && process.env.TEST_BABEL === '1'\n+  ;(process.env.IS_TURBOPACK_TEST && process.env.TEST_BABEL === '1'\n     ? describe.skip\n     : describe)('Dynamic import', () => {\n     describe('default behavior', () => {\n       it('should render dynamic import components', async () => {\n         const $ = await get$(basePath + '/dynamic/ssr')\n         // Make sure the client side knows it has to wait for the bundle\n         expect(JSON.parse($('#__NEXT_DATA__').html()).dynamicIds).toContain(\n-          process.env.TURBOPACK\n+          process.env.IS_TURBOPACK_TEST\n             ? '[project]/components/hello1.js [client] (ecmascript, next/dynamic entry)'\n             : 'pages/dynamic/ssr.js -> ../../components/hello1'\n         )\n@@ -77,7 +77,7 @@ describe('next/dynamic', () => {\n         const $ = await get$(basePath + '/dynamic/function')\n         // Make sure the client side knows it has to wait for the bundle\n         expect(JSON.parse($('#__NEXT_DATA__').html()).dynamicIds).toContain(\n-          process.env.TURBOPACK\n+          process.env.IS_TURBOPACK_TEST\n             ? '[project]/components/hello1.js [client] (ecmascript, next/dynamic entry)'\n             : 'pages/dynamic/function.js -> ../../components/hello1'\n         )\n@@ -224,7 +224,7 @@ describe('next/dynamic', () => {\n       }\n     })\n     // Turbopack doesn't have this feature.\n-    ;(process.env.TURBOPACK ? describe.skip : describe)(\n+    ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n       'custom chunkfilename',\n       () => {\n         it('should render the correct filename', async () => {\n@@ -279,7 +279,7 @@ describe('next/dynamic', () => {\n     })\n \n     // TODO: Make this test work with Turbopack. Currently the test relies on `chunkFileName` which is not supported by Turbopack.\n-    ;(process.env.TURBOPACK ? describe.skip : describe)(\n+    ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n       'Multiple modules',\n       () => {\n         it('should only include the rendered module script tag', async () => {"
        },
        {
            "sha": "48fb6d5b6beb5f35a2e8323cd3f2a1978b995b7c",
            "filename": "test/development/basic/styled-components-disabled.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fstyled-components-disabled.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fbasic%2Fstyled-components-disabled.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fstyled-components-disabled.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -6,7 +6,7 @@ import { retry } from 'next-test-utils'\n \n // TODO: Somehow the warning doesn't show up with Turbopack, even though the transform is not enabled.\n // TODO: It no longer shows up with Webpack either in tests. Manual repro does work though.\n-;(process.env.TURBOPACK ? describe.skip : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe.skip)(\n   'styled-components SWC transform',\n   () => {\n     let next: NextInstance"
        },
        {
            "sha": "57b66a5483b3a56dba5672aacfb62e93df1b5bf2",
            "filename": "test/development/next-font/font-loader-in-document-error.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fnext-font%2Ffont-loader-in-document-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fnext-font%2Ffont-loader-in-document-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fnext-font%2Ffont-loader-in-document-error.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -19,7 +19,7 @@ describe('font-loader-in-document-error', () => {\n   test('next/font inside _document', async () => {\n     const browser = await webdriver(next.url, '/')\n     await assertHasRedbox(browser)\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       // TODO: Turbopack doesn't include pages/\n       expect(await getRedboxSource(browser)).toMatchInlineSnapshot(`\n         \"./_document.js"
        },
        {
            "sha": "909e19a2f06c40a9ba5e8ea7c750937406909152",
            "filename": "test/development/pages-dir/client-navigation/rendering.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fpages-dir%2Fclient-navigation%2Frendering.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fpages-dir%2Fclient-navigation%2Frendering.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fpages-dir%2Fclient-navigation%2Frendering.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -324,7 +324,7 @@ describe('Client Navigation rendering', () => {\n \n       const buildManifest = await next.readJSON(`.next/${BUILD_MANIFEST}`)\n       const reactLoadableManifest = await next.readJSON(\n-        process.env.TURBOPACK\n+        process.env.IS_TURBOPACK_TEST\n           ? `.next/server/pages/dynamic/ssr/${REACT_LOADABLE_MANIFEST}`\n           : `.next/${REACT_LOADABLE_MANIFEST}`\n       )\n@@ -334,7 +334,7 @@ describe('Client Navigation rendering', () => {\n         return item\n           .replace(/\\\\/g, '/')\n           .endsWith(\n-            process.env.TURBOPACK\n+            process.env.IS_TURBOPACK_TEST\n               ? 'components/hello1.js [client] (ecmascript, next/dynamic entry)'\n               : 'ssr.js -> ../../components/hello1'\n           )"
        },
        {
            "sha": "fe58711f56ef01824dfc919813cd83a14fe50c8f",
            "filename": "test/development/sass-error/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fsass-error%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fsass-error%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fsass-error%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -15,7 +15,7 @@ describe('app dir - css', () => {\n   }\n \n   describe('sass support', () => {\n-    ;(process.env.TURBOPACK ? describe : describe.skip)(\n+    ;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n       'error handling',\n       () => {\n         it('should use original source points for sass errors', async () => {"
        },
        {
            "sha": "086874455c5b94c1f3646bc8163f5b8e3f6cf229",
            "filename": "test/development/slow-module-detection/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fslow-module-detection%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fslow-module-detection%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fslow-module-detection%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import { fetchViaHTTP } from 'next-test-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Slow Module Detection',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "193717b3688ee73c97ec56191345cfd461477430",
            "filename": "test/development/webpack-issuer-deprecation-warning/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fwebpack-issuer-deprecation-warning%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fdevelopment%2Fwebpack-issuer-deprecation-warning%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fwebpack-issuer-deprecation-warning%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -3,7 +3,7 @@ import { NextInstance } from 'e2e-utils'\n import { renderViaHTTP } from 'next-test-utils'\n \n // Skip on Turbopack because it's not supported\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'webpack-issuer-deprecation-warning',\n   () => {\n     let next: NextInstance"
        },
        {
            "sha": "6a7e6bb126f18b31a85de1aa28c433fa43f2198e",
            "filename": "test/e2e/app-dir/action-in-pages-router/action-in-pages-router.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Faction-in-pages-router%2Faction-in-pages-router.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Faction-in-pages-router%2Faction-in-pages-router.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Faction-in-pages-router%2Faction-in-pages-router.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -23,7 +23,7 @@ describe('app-dir - action-in-pages-router', () => {\n \n   if (isNextStart) {\n     // Disabling for turbopack because the chunk path are different\n-    if (!process.env.TURBOPACK) {\n+    if (!process.env.IS_TURBOPACK_TEST) {\n       it('should not contain server action in page bundle', async () => {\n         const pageBundle = await next.readFile('.next/server/pages/foo.js')\n         // Should not contain the RSC client import source for the server action\n@@ -32,7 +32,7 @@ describe('app-dir - action-in-pages-router', () => {\n     }\n \n     it('should not contain server action in manifest', async () => {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         const manifest = JSON.parse(\n           await next.readFile('.next/server/server-reference-manifest.json')\n         )"
        },
        {
            "sha": "6c230794475a6b3bf4771fccce18e4a7f477b4fa",
            "filename": "test/e2e/app-dir/app-css/index.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fapp-css%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fapp-css%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-css%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -374,7 +374,7 @@ describe('app dir - css', () => {\n       })\n \n       // Turbopack doesn't preload styles\n-      if (!process.env.TURBOPACK) {\n+      if (!process.env.IS_TURBOPACK_TEST) {\n         it('should not preload styles twice during HMR', async () => {\n           const filePath = 'app/hmr/page.js'\n           const origContent = await next.readFile(filePath)\n@@ -482,7 +482,7 @@ describe('app dir - css', () => {\n         it('should only include the same style once in the flight data', async () => {\n           const initialHtml = await next.render('/css/css-duplicate-2/server')\n \n-          if (process.env.TURBOPACK) {\n+          if (process.env.IS_TURBOPACK_TEST) {\n             expect(\n               initialHtml.match(/app_css_css-duplicate-2_[\\w]+\\.css/g).length\n             ).toBe(5)"
        },
        {
            "sha": "5054ef60e3dde6f98ae1dc955eb64dbc44371601",
            "filename": "test/e2e/app-dir/app-edge/app-edge.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fapp-edge%2Fapp-edge.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fapp-edge%2Fapp-edge.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-edge%2Fapp-edge.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -106,7 +106,7 @@ describe('app-dir edge SSR', () => {\n       const manifest = JSON.parse(\n         await next.readFile('.next/server/middleware-manifest.json')\n       )\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(manifest.functions['/(group)/group/page'].matchers).toEqual([\n           {\n             regexp: '^/group(?:/)?$',"
        },
        {
            "sha": "69f659f97fec6e1816278ab706fa46dfd33892fe",
            "filename": "test/e2e/app-dir/app/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fapp%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fapp%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -174,7 +174,7 @@ describe('app dir - basic', () => {\n   }\n \n   // Turbopack has different chunking in dev/production which results in the entrypoint name not being included in the outputs.\n-  if (!process.env.TURBOPACK) {\n+  if (!process.env.IS_TURBOPACK_TEST) {\n     it('should encode chunk path correctly', async () => {\n       await next.fetch('/dynamic-client/first/second')\n       const browser = await next.browser('/')"
        },
        {
            "sha": "fd862a592c3c16e1c2aa8e74fd3f3d9c4861747e",
            "filename": "test/e2e/app-dir/create-root-layout/create-root-layout.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fcreate-root-layout%2Fcreate-root-layout.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fcreate-root-layout%2Fcreate-root-layout.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcreate-root-layout%2Fcreate-root-layout.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -3,7 +3,7 @@ import { createNext, FileRef } from 'e2e-utils'\n import { NextInstance } from 'e2e-utils'\n import { check } from 'next-test-utils'\n import stripAnsi from 'strip-ansi'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'app-dir create root layout',\n   () => {\n     const isDev = (global as any).isNextDev"
        },
        {
            "sha": "83ce512ae9fdb2d3a711176b9f6e1583bfa25815",
            "filename": "test/e2e/app-dir/css-chunking/css-chunking.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fcss-chunking%2Fcss-chunking.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fcss-chunking%2Fcss-chunking.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcss-chunking%2Fcss-chunking.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -7,7 +7,7 @@ describe('css-chunking', () => {\n   // do not contain styles for the `/other` page, which can happen\n   // when the CSSChunkingPlugin is enabled and styles are shared across\n   // both routes.\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should be possible to disable the chunking plugin',\n     async () => {\n       const $ = await next.render$('/')"
        },
        {
            "sha": "113f288de68820610d8e22370f9641f801c70118",
            "filename": "test/e2e/app-dir/css-order/css-order.test.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fcss-order%2Fcss-order.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fcss-order%2Fcss-order.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcss-order%2Fcss-order.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -217,7 +217,7 @@ const options = (mode: string) => ({\n   files: {\n     app: new FileRef(path.join(__dirname, 'app')),\n     pages: new FileRef(path.join(__dirname, 'pages')),\n-    'next.config.js': process.env.TURBOPACK\n+    'next.config.js': process.env.IS_TURBOPACK_TEST\n       ? `\n             module.exports = {}`\n       : `\n@@ -232,7 +232,7 @@ const options = (mode: string) => ({\n   },\n   skipDeployment: true,\n })\n-describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', true])(\n+describe.each(process.env.IS_TURBOPACK_TEST ? ['turbo'] : ['strict', true])(\n   'css-order %s',\n   (mode: string) => {\n     const { next, isNextDev, skipped } = nextTestSetup(options(mode))\n@@ -294,7 +294,7 @@ describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', true])(\n     }\n   }\n )\n-describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', 'loose'])(\n+describe.each(process.env.IS_TURBOPACK_TEST ? ['turbo'] : ['strict', 'loose'])(\n   'css-order %s',\n   (mode: string) => {\n     const { next, isNextDev } = nextTestSetup(options(mode))\n@@ -347,7 +347,7 @@ describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', 'loose'])(\n     }\n   }\n )\n-describe.each(process.env.TURBOPACK ? ['turbo'] : ['strict', 'loose'])(\n+describe.each(process.env.IS_TURBOPACK_TEST ? ['turbo'] : ['strict', 'loose'])(\n   'css-order %s',\n   (mode: string) => {\n     const { next } = nextTestSetup(options(mode))"
        },
        {
            "sha": "c50c76fd66cf963609ed618d1c50d75b566c6e96",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.prospective-errors.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.prospective-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.prospective-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.prospective-errors.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-const isTurbopack = !!process.env.TURBOPACK\n+const isTurbopack = !!process.env.IS_TURBOPACK_TEST\n \n describe(`Dynamic IO Prospective Render Errors - Debug Build`, () => {\n   const { next, isNextDev, skipped } = nextTestSetup({"
        },
        {
            "sha": "462855eaf87150caafb0896c500e3b84914e0823",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -39,7 +39,7 @@ function createExpectError(cliOutput: string) {\n }\n \n function runTests(options: { withMinification: boolean }) {\n-  const isTurbopack = !!process.env.TURBOPACK\n+  const isTurbopack = !!process.env.IS_TURBOPACK_TEST\n   const { withMinification } = options\n   describe(`Dynamic IO Errors - ${withMinification ? 'With Minification' : 'Without Minification'}`, () => {\n     describe('Dynamic Metadata - Static Route', () => {"
        },
        {
            "sha": "73c887d897072ad49ee1cce249c58b11442a7490",
            "filename": "test/e2e/app-dir/ecmascript-features/turbopack/ecmascript-features-turbopack.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fecmascript-features%2Fturbopack%2Fecmascript-features-turbopack.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fecmascript-features%2Fturbopack%2Fecmascript-features-turbopack.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fecmascript-features%2Fturbopack%2Fecmascript-features-turbopack.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n   'ecmascript-features turbopack',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "189c59b954e521cd3307c8b7b8de341dbef293f4",
            "filename": "test/e2e/app-dir/ecmascript-features/webpack/ecmascript-features-webpack.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fecmascript-features%2Fwebpack%2Fecmascript-features-webpack.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fecmascript-features%2Fwebpack%2Fecmascript-features-webpack.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fecmascript-features%2Fwebpack%2Fecmascript-features-webpack.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'ecmascript-features webpack',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "e19f643058b8d86f99441ba7e2347317093d796b",
            "filename": "test/e2e/app-dir/error-on-next-codemod-comment/error-on-next-codemod-comment.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Ferror-on-next-codemod-comment%2Ferror-on-next-codemod-comment.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Ferror-on-next-codemod-comment%2Ferror-on-next-codemod-comment.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Ferror-on-next-codemod-comment%2Ferror-on-next-codemod-comment.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -23,7 +23,7 @@ describe('app-dir - error-on-next-codemod-comment', () => {\n \n       await assertHasRedbox(browser)\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await getRedboxSource(browser)).toMatchInlineSnapshot(`\n            \"./app/page.tsx (2:2)\n            Ecmascript file had an error"
        },
        {
            "sha": "befad92bc5708aac047e80925bd3333cf21a0ede",
            "filename": "test/e2e/app-dir/loader-file-named-export-custom-loader-error/loader-file-named-export-custom-loader-error.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Floader-file-named-export-custom-loader-error%2Floader-file-named-export-custom-loader-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Floader-file-named-export-custom-loader-error%2Floader-file-named-export-custom-loader-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Floader-file-named-export-custom-loader-error%2Floader-file-named-export-custom-loader-error.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -38,7 +38,7 @@ describe('Error test if the loader file export a named function', () => {\n \n     // next build doesn't support turbopack yet\n     // see https://nextjs.org/docs/app/api-reference/turbopack#unsupported-features\n-    ;(isNextStart && !process.env.TURBOPACK ? describe : describe.skip)(\n+    ;(isNextStart && !process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n       'build and start only',\n       () => {\n         it('should show the build error', async () => {"
        },
        {
            "sha": "41d112a0ed4aa33c6bf731b0482a85534a131ca6",
            "filename": "test/e2e/app-dir/metadata/metadata.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -833,7 +833,7 @@ describe('app dir - metadata', () => {\n     if (isNextDev) {\n       // This test frequently causes a compilation error when run in Turbopack\n       // which also causes all subsequent tests to fail. Disabled while we investigate to reduce flakes.\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should handle updates to the file icon name and order',\n         async () => {\n           await next.renameFile("
        },
        {
            "sha": "1f1db29b4fc69f087bd2c0b1f997424b81909273",
            "filename": "test/e2e/app-dir/missing-suspense-with-csr-bailout/missing-suspense-with-csr-bailout.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fmissing-suspense-with-csr-bailout%2Fmissing-suspense-with-csr-bailout.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fmissing-suspense-with-csr-bailout%2Fmissing-suspense-with-csr-bailout.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmissing-suspense-with-csr-bailout%2Fmissing-suspense-with-csr-bailout.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -30,7 +30,7 @@ describe('missing-suspense-with-csr-bailout', () => {\n       expect(next.cliOutput).toContain(message)\n       // Can show the trace where the searchParams hook is used\n       // TODO: This path is different for Turbopack. Builds need to have sourcemaps support.\n-      if (!process.env.TURBOPACK) {\n+      if (!process.env.IS_TURBOPACK_TEST) {\n         expect(next.cliOutput).toMatch(/at.*server[\\\\/]app[\\\\/]page.js/)\n       }\n     })"
        },
        {
            "sha": "c284104f5928155643d471d8968511f44be8982c",
            "filename": "test/e2e/app-dir/next-font/next-font.test.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 17,
            "changes": 34,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-font%2Fnext-font.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-font%2Fnext-font.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-font%2Fnext-font.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -47,10 +47,10 @@ describe('app dir - next/font', () => {\n         // layout\n         expect(JSON.parse($('#root-layout').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           variable: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_variable$/ : /^__variable_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_variable$/ : /^__variable_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font1', 'font1 Fallback'$/),\n@@ -59,10 +59,10 @@ describe('app dir - next/font', () => {\n         // page\n         expect(JSON.parse($('#root-page').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           variable: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_variable$/ : /^__variable_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_variable$/ : /^__variable_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font2', 'font2 Fallback'$/),\n@@ -71,7 +71,7 @@ describe('app dir - next/font', () => {\n         // Comp\n         expect(JSON.parse($('#root-comp').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font3', 'font3 Fallback'$/),\n@@ -87,10 +87,10 @@ describe('app dir - next/font', () => {\n         // root layout\n         expect(JSON.parse($('#root-layout').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           variable: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_variable$/ : /^__variable_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_variable$/ : /^__variable_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font1', 'font1 Fallback'$/),\n@@ -100,7 +100,7 @@ describe('app dir - next/font', () => {\n         // layout\n         expect(JSON.parse($('#client-layout').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font4', 'font4 Fallback'$/),\n@@ -110,7 +110,7 @@ describe('app dir - next/font', () => {\n         // page\n         expect(JSON.parse($('#client-page').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font5', 'font5 Fallback'$/),\n@@ -120,7 +120,7 @@ describe('app dir - next/font', () => {\n         // Comp\n         expect(JSON.parse($('#client-comp').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font6', 'font6 Fallback'$/),\n@@ -132,13 +132,13 @@ describe('app dir - next/font', () => {\n         const $ = await next.render$('/third-party')\n         expect(JSON.parse($('#third-party-page').text())).toEqual({\n           className: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_className$/ : /^__className_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_className$/ : /^__className_.*/\n           ),\n           style: {\n             fontFamily: expect.stringMatching(/^'font1', 'font1 Fallback'$/),\n           },\n           variable: expect.stringMatching(\n-            process.env.TURBOPACK ? /.*_variable$/ : /^__variable_.*/\n+            process.env.IS_TURBOPACK_TEST ? /.*_variable$/ : /^__variable_.*/\n           ),\n         })\n       })\n@@ -313,7 +313,7 @@ describe('app dir - next/font', () => {\n           for (const link of links) {\n             expect(link.as).toBe('font')\n             expect(link.crossorigin).toBe('')\n-            if (process.env.TURBOPACK) {\n+            if (process.env.IS_TURBOPACK_TEST) {\n               expect(link.href).toMatch(\n                 /\\/_next\\/static\\/media\\/(.*)-s.p.(.*)\\.woff2/\n               )\n@@ -338,7 +338,7 @@ describe('app dir - next/font', () => {\n           for (const link of links) {\n             expect(link.as).toBe('font')\n             expect(link.crossorigin).toBe('')\n-            if (process.env.TURBOPACK) {\n+            if (process.env.IS_TURBOPACK_TEST) {\n               expect(link.href).toMatch(\n                 /\\/_next\\/static\\/media\\/(.*)-s.p.(.*)\\.woff2/\n               )\n@@ -363,7 +363,7 @@ describe('app dir - next/font', () => {\n           for (const link of links) {\n             expect(link.as).toBe('font')\n             expect(link.crossorigin).toBe('')\n-            if (process.env.TURBOPACK) {\n+            if (process.env.IS_TURBOPACK_TEST) {\n               expect(link.href).toMatch(\n                 /\\/_next\\/static\\/media\\/(.*)-s.p.(.*)\\.woff2/\n               )\n@@ -416,7 +416,7 @@ describe('app dir - next/font', () => {\n           await browser.elementsByCss('link[as=\"font\"]')\n         expect(preloadBeforeNavigation.length).toBe(1)\n         const href = await preloadBeforeNavigation[0].getAttribute('href')\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(href).toMatch(/\\/_next\\/static\\/media\\/(.*)-s\\.p\\.(.*)\\.woff2/)\n         } else {\n           expect(href).toMatch(/\\/_next\\/static\\/media\\/(.*)-s\\.p\\.woff2/)\n@@ -432,7 +432,7 @@ describe('app dir - next/font', () => {\n         expect(preloadAfterNavigation.length).toBe(1)\n \n         const href2 = await preloadAfterNavigation[0].getAttribute('href')\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(href2).toMatch(\n             /\\/_next\\/static\\/media\\/(.*)-s\\.p\\.(.*)\\.woff2/\n           )"
        },
        {
            "sha": "06d060170298db2b29b8e130acf90cc9895c3e76",
            "filename": "test/e2e/app-dir/next-image/next-image-https.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image-https.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image-https.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image-https.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -39,7 +39,7 @@ describe('app dir - next-image (with https)', () => {\n     const image = browser.elementByCss('#app-page')\n     const src = await image.getAttribute('src')\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(src).toMatchInlineSnapshot(\n         `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=90\"`\n       )"
        },
        {
            "sha": "03f0c485a009df1af2fe96f1e41d0fd05711f198",
            "filename": "test/e2e/app-dir/next-image/next-image-proxy.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image-proxy.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image-proxy.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image-proxy.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -78,7 +78,7 @@ describe('next-image-proxy', () => {\n \n     const local = await browser.elementByCss('#app-page').getAttribute('src')\n \n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(local).toMatchInlineSnapshot(\n         `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=90\"`\n       )\n@@ -91,7 +91,7 @@ describe('next-image-proxy', () => {\n     const remote = await browser\n       .elementByCss('#remote-app-page')\n       .getAttribute('src')\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(remote).toMatchInlineSnapshot(\n         `\"/_next/image?url=https%3A%2F%2Fimage-optimization-test.vercel.app%2Ftest.jpg&w=640&q=90\"`\n       )"
        },
        {
            "sha": "ffe1f5ddb45792d1737431bf6e9d3dc61cf456c0",
            "filename": "test/e2e/app-dir/next-image/next-image.test.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-image%2Fnext-image.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -16,7 +16,7 @@ describe('app dir - next-image', () => {\n \n       const layout = $('#app-layout')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(layout.attr('src')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=85\"`\n         )\n@@ -26,7 +26,7 @@ describe('app dir - next-image', () => {\n         )\n       }\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(layout.attr('srcset')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=640&q=85 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=85 2x\"`\n         )\n@@ -38,7 +38,7 @@ describe('app dir - next-image', () => {\n \n       const page = $('#app-page')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(page.attr('src')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=90\"`\n         )\n@@ -48,7 +48,7 @@ describe('app dir - next-image', () => {\n         )\n       }\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(page.attr('srcset')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=640&q=90 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=90 2x\"`\n         )\n@@ -60,7 +60,7 @@ describe('app dir - next-image', () => {\n \n       const comp = $('#app-comp')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(comp.attr('src')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=80\"`\n         )\n@@ -70,7 +70,7 @@ describe('app dir - next-image', () => {\n         )\n       }\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(comp.attr('srcset')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=640&q=80 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=80 2x\"`\n         )\n@@ -160,7 +160,7 @@ describe('app dir - next-image', () => {\n \n       const layout = await browser.elementById('app-layout')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await layout.getAttribute('src')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=85\"`\n         )\n@@ -170,7 +170,7 @@ describe('app dir - next-image', () => {\n         )\n       }\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await layout.getAttribute('srcset')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=640&q=85 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=85 2x\"`\n         )\n@@ -182,7 +182,7 @@ describe('app dir - next-image', () => {\n \n       const page = await browser.elementById('app-page')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await page.getAttribute('src')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=90\"`\n         )\n@@ -192,7 +192,7 @@ describe('app dir - next-image', () => {\n         )\n       }\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await page.getAttribute('srcset')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=640&q=90 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=90 2x\"`\n         )\n@@ -204,7 +204,7 @@ describe('app dir - next-image', () => {\n \n       const comp = await browser.elementById('app-comp')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await comp.getAttribute('src')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=80\"`\n         )\n@@ -214,7 +214,7 @@ describe('app dir - next-image', () => {\n         )\n       }\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await comp.getAttribute('srcset')).toMatchInlineSnapshot(\n           `\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=640&q=80 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftest.308c602d.png&w=828&q=80 2x\"`\n         )"
        },
        {
            "sha": "461af33c55c8164be8e9339a2c2d0a82ddf10118",
            "filename": "test/e2e/app-dir/parallel-routes-and-interception/parallel-routes-and-interception.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fparallel-routes-and-interception%2Fparallel-routes-and-interception.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fparallel-routes-and-interception%2Fparallel-routes-and-interception.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-and-interception%2Fparallel-routes-and-interception.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -901,7 +901,7 @@ describe('parallel-routes-and-interception-conflicting-pages', () => {\n \n     // before adding this file, the page would have matched `/app/parallel/(new)/@baz/nested-2/page`\n     // but we've added a more specific page, so it should match that instead\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       // TODO: this matches differently in Turbopack because the Webpack loader does some sorting on the paths\n       // Investigate the discrepancy in a follow-up. For now, since no errors are being thrown (and since this test was previously ignored in Turbopack),\n       // we'll just verify that the page is rendered and some content was matched."
        },
        {
            "sha": "6ac877840b2b01609ec4dacfd5c30fb33c9cc533",
            "filename": "test/e2e/app-dir/resource-url-encoding/resource-url-encoding.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fresource-url-encoding%2Fresource-url-encoding.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fresource-url-encoding%2Fresource-url-encoding.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fresource-url-encoding%2Fresource-url-encoding.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -8,7 +8,7 @@ describe('scripts', () => {\n \n   // TODO: fix test case in webpack\n   // It's failing with `Could not find the module \".../app/client#component.tsx#\" in the React Client Manifest. This is probably a bug in the React Server Components bundler.`\n-  ;(process.env.TURBOPACK ? it : it.skip).each(['app', 'pages'])(\n+  ;(process.env.IS_TURBOPACK_TEST ? it : it.skip).each(['app', 'pages'])(\n     'encodes characters in %s router',\n     async (routerType) => {\n       const browser = await next.browser(routerType === 'app' ? '/' : '/pages')\n@@ -30,7 +30,7 @@ describe('styles', () => {\n   })\n   // TODO: fix test case in webpack\n   // It's failing with `Could not find the module \".../app/client#component.tsx#\" in the React Client Manifest. This is probably a bug in the React Server Components bundler.`\n-  ;(process.env.TURBOPACK ? it : it.skip).each(['app', 'pages'])(\n+  ;(process.env.IS_TURBOPACK_TEST ? it : it.skip).each(['app', 'pages'])(\n     'encodes characters in %s router',\n     async (routerType) => {\n       const browser = await next.browser(routerType === 'app' ? '/' : '/pages')"
        },
        {
            "sha": "5c08213ec3c3932287d6c6879a74e249a271d2d7",
            "filename": "test/e2e/app-dir/rsc-webpack-loader/rsc-webpack-loader.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Frsc-webpack-loader%2Frsc-webpack-loader.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Frsc-webpack-loader%2Frsc-webpack-loader.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Frsc-webpack-loader%2Frsc-webpack-loader.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'app dir - rsc webpack loader',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "f6be9b5577889e4ccc07e40185ca1a4b76324549",
            "filename": "test/e2e/app-dir/scss/compilation-and-prefixing/compilation-and-prefixing.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fscss%2Fcompilation-and-prefixing%2Fcompilation-and-prefixing.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fscss%2Fcompilation-and-prefixing%2Fcompilation-and-prefixing.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fscss%2Fcompilation-and-prefixing%2Fcompilation-and-prefixing.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -45,7 +45,7 @@ describe.each([\n           .replace(/\\/\\*.*?\\*\\//g, '')\n           .trim()\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           if (dependencies.sass) {\n             expect(cssContentWithoutSourceMap).toMatchInlineSnapshot(\n               `\".redText ::placeholder{color:red}.flex-parsing{flex:0 0 calc(50% - var(--vertical-gutter))}\"`\n@@ -84,7 +84,7 @@ describe.each([\n         delete sourceMapContentParsed.file\n         delete sourceMapContentParsed.sources\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           if (dependencies.sass) {\n             expect(sourceMapContentParsed).toMatchInlineSnapshot(`\n               {"
        },
        {
            "sha": "857758d41271300d0ec74057d50fcaf0c544f710",
            "filename": "test/e2e/app-dir/scss/invalid-module-document/invalid-module-document.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fscss%2Finvalid-module-document%2Finvalid-module-document.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fscss%2Finvalid-module-document%2Finvalid-module-document.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fscss%2Finvalid-module-document%2Finvalid-module-document.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -7,7 +7,7 @@ import { join } from 'path'\n import 'e2e-utils'\n \n // TODO: Implement warning for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Invalid SCSS in _document',\n   () => {\n     ;(Boolean((global as any).isNextStart) ? describe : describe.skip)("
        },
        {
            "sha": "aa0bfe8307a0845b53e5a2fca81c45ff8a82114d",
            "filename": "test/e2e/app-dir/turbopack-loader-resource-query/turbopack-loader-resource-query.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fturbopack-loader-resource-query%2Fturbopack-loader-resource-query.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fturbopack-loader-resource-query%2Fturbopack-loader-resource-query.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fturbopack-loader-resource-query%2Fturbopack-loader-resource-query.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n   'turbopack-loader-resource-query',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "39e9e2fcf6e6ec08497b3b447088302fa2ca4317",
            "filename": "test/e2e/app-dir/with-babel/with-babel.test.ts",
            "status": "modified",
            "additions": 25,
            "deletions": 22,
            "changes": 47,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fwith-babel%2Fwith-babel.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fapp-dir%2Fwith-babel%2Fwith-babel.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fwith-babel%2Fwith-babel.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,28 +1,31 @@\n import { nextTestSetup } from 'e2e-utils'\n \n // Tests Babel, not needed for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)('with babel', () => {\n-  describe('with babel', () => {\n-    const { next, isNextStart, skipped } = nextTestSetup({\n-      files: __dirname,\n-      skipDeployment: true,\n-    })\n-\n-    if (skipped) {\n-      return\n-    }\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'with babel',\n+  () => {\n+    describe('with babel', () => {\n+      const { next, isNextStart, skipped } = nextTestSetup({\n+        files: __dirname,\n+        skipDeployment: true,\n+      })\n \n-    it('should support babel in app dir', async () => {\n-      const $ = await next.render$('/')\n-      expect($('h1').text()).toBe('hello')\n-    })\n+      if (skipped) {\n+        return\n+      }\n \n-    if (isNextStart) {\n-      it('should contain og package files in middleware', async () => {\n-        const middleware = await next.readFile('.next/server/middleware.js')\n-        // @vercel/og default font should be bundled\n-        expect(middleware).not.toContain('noto-sans-v27-latin-regular.ttf')\n+      it('should support babel in app dir', async () => {\n+        const $ = await next.render$('/')\n+        expect($('h1').text()).toBe('hello')\n       })\n-    }\n-  })\n-})\n+\n+      if (isNextStart) {\n+        it('should contain og package files in middleware', async () => {\n+          const middleware = await next.readFile('.next/server/middleware.js')\n+          // @vercel/og default font should be bundled\n+          expect(middleware).not.toContain('noto-sans-v27-latin-regular.ttf')\n+        })\n+      }\n+    })\n+  }\n+)"
        },
        {
            "sha": "ce3af461adfce12b3df27f6925c5775595a8324d",
            "filename": "test/e2e/conflicting-app-page-error/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fconflicting-app-page-error%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fconflicting-app-page-error%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fconflicting-app-page-error%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -22,7 +22,7 @@ describe('Conflict between app file and pages file', () => {\n   if (isNextStart) {\n     it('should print error for conflicting app/page', async () => {\n       const { cliOutput } = await next.build()\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(cliOutput).toContain(\n           'App Router and Pages Router both match path: /'\n         )\n@@ -50,13 +50,13 @@ describe('Conflict between app file and pages file', () => {\n   async function containConflictsError(browser, conflicts) {\n     await retry(async () => {\n       await assertHasRedbox(browser)\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(await getRedboxDescription(browser)).toContain(\n           'App Router and Pages Router both match path:'\n         )\n       }\n \n-      if (!process.env.TURBOPACK) {\n+      if (!process.env.IS_TURBOPACK_TEST) {\n         for (const pair of conflicts) {\n           expect(await getRedboxSource(browser)).toContain(\n             `\"${pair[0]}\" - \"${pair[1]}\"`"
        },
        {
            "sha": "13029ea788e108a06f5471ea08a329f29c491b07",
            "filename": "test/e2e/edge-can-use-wasm-files/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-can-use-wasm-files%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-can-use-wasm-files%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fedge-can-use-wasm-files%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -106,7 +106,7 @@ describe('middleware can use wasm files', () => {\n         '.next/server/middleware-manifest.json'\n       )\n       const manifest = await fs.readJSON(manifestPath)\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(manifest.middleware['/'].wasm).toEqual(\n           expect.arrayContaining([\n             expect.objectContaining({"
        },
        {
            "sha": "cb83a3bceda247c69f95c8f0a6d25a357c7abb1e",
            "filename": "test/e2e/edge-configurable-runtime/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-configurable-runtime%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-configurable-runtime%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fedge-configurable-runtime%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -7,7 +7,7 @@ import stripAnsi from 'strip-ansi'\n const pagePath = 'pages/index.jsx'\n const apiPath = 'pages/api/edge.js'\n \n-;(process.env.TURBOPACK ? describe.skip.each : describe.each)([\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip.each : describe.each)([\n   { appDir: join(__dirname, './app/src'), title: 'src/pages and API routes' },\n   { appDir: join(__dirname, './app'), title: 'pages and API routes' },\n ])('Configurable runtime for $title', ({ appDir }) => {"
        },
        {
            "sha": "210104fa84b3412f6024ce4a987338e979e066d3",
            "filename": "test/e2e/edge-pages-support/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-pages-support%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-pages-support%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fedge-pages-support%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -13,7 +13,7 @@ describe('edge-render-getserversideprops', () => {\n   if ((global as any).isNextStart) {\n     // Turbopack doesn't have entry chunks for edge routes like Webpack does, so there is no fixed\n     // known path where the nft file would be written to.\n-    ;(process.env.TURBOPACK ? it.skip : it)(\n+    ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n       'should not output trace files for edge routes',\n       async () => {\n         /* eslint-disable jest/no-standalone-expect */"
        },
        {
            "sha": "b1686ecdc48f247464f5388baa1a89b9c709baf0",
            "filename": "test/e2e/edge-runtime-uses-edge-light-import-specifier-for-packages/edge-runtime-uses-edge-light-import-specifier-for-packages.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-runtime-uses-edge-light-import-specifier-for-packages%2Fedge-runtime-uses-edge-light-import-specifier-for-packages.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fedge-runtime-uses-edge-light-import-specifier-for-packages%2Fedge-runtime-uses-edge-light-import-specifier-for-packages.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fedge-runtime-uses-edge-light-import-specifier-for-packages%2Fedge-runtime-uses-edge-light-import-specifier-for-packages.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -27,7 +27,7 @@ describe('edge-runtime uses edge-light import specifier for packages', () => {\n     const html = await res.json()\n     expect(html).toEqual({\n       // edge-light is only supported in `exports` and `imports` but webpack also adds the top level `edge-light` key incorrectly.\n-      edgeLightPackage: process.env.TURBOPACK ? 'import' : 'edge-light',\n+      edgeLightPackage: process.env.IS_TURBOPACK_TEST ? 'import' : 'edge-light',\n       edgeLightPackageExports: 'edge-light',\n     })\n   })\n@@ -37,7 +37,7 @@ describe('edge-runtime uses edge-light import specifier for packages', () => {\n     const text = JSON.parse($('pre#result').text())\n     expect(text).toEqual({\n       // edge-light is only supported in `exports` and `imports` but webpack also adds the top level `edge-light` key incorrectly.\n-      edgeLightPackage: process.env.TURBOPACK ? 'import' : 'edge-light',\n+      edgeLightPackage: process.env.IS_TURBOPACK_TEST ? 'import' : 'edge-light',\n       edgeLightPackageExports: 'edge-light',\n     })\n   })\n@@ -47,7 +47,7 @@ describe('edge-runtime uses edge-light import specifier for packages', () => {\n     const text = JSON.parse($('pre#result').text())\n     expect(text).toEqual({\n       // edge-light is only supported in `exports` and `imports` but webpack also adds the top level `edge-light` key incorrectly.\n-      edgeLightPackage: process.env.TURBOPACK ? 'import' : 'edge-light',\n+      edgeLightPackage: process.env.IS_TURBOPACK_TEST ? 'import' : 'edge-light',\n       edgeLightPackageExports: 'edge-light',\n     })\n   })"
        },
        {
            "sha": "e67d966d6a9b6b77bf5ea2b5c3486b28bfa60bec",
            "filename": "test/e2e/i18n-ignore-rewrite-source-locale/rewrites-with-basepath.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fi18n-ignore-rewrite-source-locale%2Frewrites-with-basepath.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fi18n-ignore-rewrite-source-locale%2Frewrites-with-basepath.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fi18n-ignore-rewrite-source-locale%2Frewrites-with-basepath.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -73,7 +73,7 @@ describe('i18n-ignore-rewrite-source-locale with basepath', () => {\n   // build artifacts aren't available on deploy\n   if (!(global as any).isNextDeploy) {\n     // chunks are not written to disk with TURBOPACK\n-    ;(process.env.TURBOPACK ? it.skip.each : it.each)(locales)(\n+    ;(process.env.IS_TURBOPACK_TEST ? it.skip.each : it.each)(locales)(\n       'get _next/static/ files by skipping locale in rewrite, locale: %s',\n       async (locale) => {\n         const chunks = ("
        },
        {
            "sha": "4320b1e581f98d3728e853fab6445212a894f202",
            "filename": "test/e2e/i18n-ignore-rewrite-source-locale/rewrites.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fi18n-ignore-rewrite-source-locale%2Frewrites.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fi18n-ignore-rewrite-source-locale%2Frewrites.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fi18n-ignore-rewrite-source-locale%2Frewrites.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -69,7 +69,7 @@ describe('i18n-ignore-rewrite-source-locale', () => {\n   // build artifacts aren't available on deploy\n   if (!(global as any).isNextDeploy) {\n     // chunks are not written to disk with TURBOPACK\n-    ;(process.env.TURBOPACK ? it.skip.each : it.each)(locales)(\n+    ;(process.env.IS_TURBOPACK_TEST ? it.skip.each : it.each)(locales)(\n       'get _next/static/ files by skipping locale in rewrite, locale: %s',\n       async (locale) => {\n         const chunks = ("
        },
        {
            "sha": "a802d4c527828e3b5545859e52e39d2d2d200098",
            "filename": "test/e2e/middleware-general/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fmiddleware-general%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fmiddleware-general%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fmiddleware-general%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -226,7 +226,7 @@ describe('Middleware Runtime', () => {\n         delete middlewareWithoutEnvs.env\n         expect(middlewareWithoutEnvs).toEqual({\n           // Turbopack creates more files as it can do chunking.\n-          files: process.env.TURBOPACK\n+          files: process.env.IS_TURBOPACK_TEST\n             ? expect.toBeArray()\n             : expect.arrayContaining([\n                 'server/edge-runtime-webpack.js',\n@@ -236,7 +236,7 @@ describe('Middleware Runtime', () => {\n           page: '/',\n           matchers: [{ regexp: '^/.*$', originalSource: '/:path*' }],\n           wasm: [],\n-          assets: process.env.TURBOPACK ? expect.toBeArray() : [],\n+          assets: process.env.IS_TURBOPACK_TEST ? expect.toBeArray() : [],\n           regions: 'auto',\n         })\n         expect(envs).toContainAllKeys([\n@@ -265,7 +265,7 @@ describe('Middleware Runtime', () => {\n         )\n         for (const key of Object.keys(manifest.middleware)) {\n           const middleware = manifest.middleware[key]\n-          if (!process.env.TURBOPACK) {\n+          if (!process.env.IS_TURBOPACK_TEST) {\n             expect(middleware.files).toContainEqual(\n               expect.stringContaining('server/edge-runtime-webpack')\n             )"
        },
        {
            "sha": "ce643d18ab23ecf6b83b5b49e21fb8380dc5a162",
            "filename": "test/e2e/middleware-trailing-slash/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fmiddleware-trailing-slash%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fmiddleware-trailing-slash%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fmiddleware-trailing-slash%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -114,7 +114,7 @@ describe('Middleware Runtime trailing slash', () => {\n         }\n         delete middlewareWithoutEnvs.env\n         expect(middlewareWithoutEnvs).toEqual({\n-          files: process.env.TURBOPACK\n+          files: process.env.IS_TURBOPACK_TEST\n             ? expect.toBeArray()\n             : expect.arrayContaining([\n                 'server/edge-runtime-webpack.js',\n@@ -124,7 +124,7 @@ describe('Middleware Runtime trailing slash', () => {\n           page: '/',\n           matchers: [{ regexp: '^/.*$', originalSource: '/:path*' }],\n           wasm: [],\n-          assets: process.env.TURBOPACK ? expect.toBeArray() : [],\n+          assets: process.env.IS_TURBOPACK_TEST ? expect.toBeArray() : [],\n         })\n       })\n \n@@ -134,7 +134,7 @@ describe('Middleware Runtime trailing slash', () => {\n         )\n         for (const key of Object.keys(manifest.middleware)) {\n           const middleware = manifest.middleware[key]\n-          if (!process.env.TURBOPACK) {\n+          if (!process.env.IS_TURBOPACK_TEST) {\n             expect(middleware.files).toContainEqual(\n               expect.stringContaining('server/edge-runtime-webpack')\n             )"
        },
        {
            "sha": "ec0e3518b905bc43baadc4fcb2927423688057f2",
            "filename": "test/e2e/next-config-warnings/esm-externals-false/esm-externals-false.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-config-warnings%2Fesm-externals-false%2Fesm-externals-false.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-config-warnings%2Fesm-externals-false%2Fesm-externals-false.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-config-warnings%2Fesm-externals-false%2Fesm-externals-false.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -2,7 +2,7 @@ import { nextTestSetup } from 'e2e-utils'\n import { findAllTelemetryEvents } from 'next-test-utils'\n \n // Turbopack hasn't fully enabled this option yet\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'next-config-warnings - esm-externals-false',\n   () => {\n     const { next, isNextStart } = nextTestSetup({"
        },
        {
            "sha": "1b5c4c93c2b365846a1ee7e6eb27f12b59ef4b06",
            "filename": "test/e2e/next-font/index.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-font%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-font%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-font%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ function getClassNameRegex(className: string): RegExp {\n }\n \n function hrefMatchesFontWithSizeAdjust(href: string) {\n-  if (process.env.TURBOPACK) {\n+  if (process.env.IS_TURBOPACK_TEST) {\n     expect(href).toMatch(\n       // Turbopack includes the file hash\n       /\\/_next\\/static\\/media\\/(.*)-s\\.p\\.(.*)\\.woff2/\n@@ -25,7 +25,7 @@ function hrefMatchesFontWithSizeAdjust(href: string) {\n }\n \n function hrefMatchesFontWithoutSizeAdjust(href: string) {\n-  if (process.env.TURBOPACK) {\n+  if (process.env.IS_TURBOPACK_TEST) {\n     expect(href).toMatch(\n       // Turbopack includes the file hash\n       /\\/_next\\/static\\/media\\/(.*)\\.p\\.(.*)\\.woff2/"
        },
        {
            "sha": "0d781f7cf9e48c41d3662bc5451a06a32a96cc4e",
            "filename": "test/e2e/next-font/with-proxy.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-font%2Fwith-proxy.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-font%2Fwith-proxy.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-font%2Fwith-proxy.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -40,7 +40,7 @@ describe('next/font/google with proxy', () => {\n   })\n \n   // Reqwest doesn't seem to fully work with https proxy\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should use a proxy agent when proxy environment variable is set',\n     async () => {\n       await renderViaHTTP(next.url, '/')"
        },
        {
            "sha": "6443a14136fa3aa4766aaf5e7c70bb65b18a06a4",
            "filename": "test/e2e/next-script/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-script%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fnext-script%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-script%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -227,7 +227,7 @@ describe('empty strategy in document body', () => {\n     }\n   })\n })\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'experimental.nextScriptWorkers',\n   () => {\n     describe('experimental.nextScriptWorkers: false with no Partytown dependency', () => {"
        },
        {
            "sha": "0f562554b92411e742dc31290cb3d78110929dd1",
            "filename": "test/e2e/react-compiler/react-compiler.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Freact-compiler%2Freact-compiler.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Freact-compiler%2Freact-compiler.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Freact-compiler%2Freact-compiler.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -17,7 +17,9 @@ function normalizeCodeLocInfo(str) {\n }\n \n describe.each(\n-  ['default', process.env.TURBOPACK ? undefined : 'babelrc'].filter(Boolean)\n+  ['default', process.env.IS_TURBOPACK_TEST ? undefined : 'babelrc'].filter(\n+    Boolean\n+  )\n )('react-compiler %s', (variant) => {\n   const dependencies = (global as any).isNextDeploy\n     ? // `link` is incompatible with the npm version used when this test is deployed"
        },
        {
            "sha": "10bd96035e7c9569ebf3ad6c0ddb35592e09937c",
            "filename": "test/e2e/streaming-ssr/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fstreaming-ssr%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fstreaming-ssr%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fstreaming-ssr%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -167,7 +167,7 @@ if (isNextProd) {\n     })\n \n     // Relies on the custom webpack config above\n-    ;(process.env.TURBOPACK ? it.skip : it)(\n+    ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n       'should pass correct nextRuntime values',\n       async () => {\n         const content = await next.readFile('runtimes.txt')"
        },
        {
            "sha": "acc56ec1999de72c799f2c4c5dac7308315b0c21",
            "filename": "test/e2e/swc-warnings/index.test.ts",
            "status": "modified",
            "additions": 26,
            "deletions": 23,
            "changes": 49,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fswc-warnings%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fswc-warnings%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fswc-warnings%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -3,7 +3,7 @@ import { NextInstance } from 'e2e-utils'\n import { renderViaHTTP } from 'next-test-utils'\n \n // Tests Babel, not needed for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'swc warnings by default',\n   () => {\n     let next: NextInstance\n@@ -37,37 +37,40 @@ import { renderViaHTTP } from 'next-test-utils'\n )\n \n // Tests Babel, not needed for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)('can force swc', () => {\n-  let next: NextInstance\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'can force swc',\n+  () => {\n+    let next: NextInstance\n \n-  beforeAll(async () => {\n-    next = await createNext({\n-      nextConfig: {\n-        experimental: {\n-          forceSwcTransforms: true,\n+    beforeAll(async () => {\n+      next = await createNext({\n+        nextConfig: {\n+          experimental: {\n+            forceSwcTransforms: true,\n+          },\n         },\n-      },\n-      files: {\n-        'pages/index.js': `\n+        files: {\n+          'pages/index.js': `\n           export default function Page() { \n             return <p>hello world</p>\n           } \n         `,\n-        '.babelrc': `\n+          '.babelrc': `\n           {\n             \"presets\": [\"next/babel\"]\n           }\n         `,\n-      },\n-      dependencies: {},\n+        },\n+        dependencies: {},\n+      })\n     })\n-  })\n-  afterAll(() => next.destroy())\n+    afterAll(() => next.destroy())\n \n-  it('should not have warning', async () => {\n-    await renderViaHTTP(next.url, '/')\n-    expect(next.cliOutput).not.toContain(\n-      'Disabled SWC as replacement for Babel because of custom Babel configuration'\n-    )\n-  })\n-})\n+    it('should not have warning', async () => {\n+      await renderViaHTTP(next.url, '/')\n+      expect(next.cliOutput).not.toContain(\n+        'Disabled SWC as replacement for Babel because of custom Babel configuration'\n+      )\n+    })\n+  }\n+)"
        },
        {
            "sha": "ad9fbd53b3bc19d49027586291f063d350a8e525",
            "filename": "test/e2e/yarn-pnp/test/mdx-pages.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fmdx-pages.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fmdx-pages.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fmdx-pages.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,6 +1,6 @@\n import { runTests } from './utils'\n \n // Skip in Turbopack as Yarn PnP is not supported.\n-;(process.env.TURBOPACK ? describe.skip : describe)('yarn PnP', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('yarn PnP', () => {\n   runTests('mdx-pages', '/', ['Look, a button', 'Hello'])\n })"
        },
        {
            "sha": "a0ae20ccd7c83ad5697305eaa4da78d30349a478",
            "filename": "test/e2e/yarn-pnp/test/with-eslint.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fwith-eslint.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fwith-eslint.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fwith-eslint.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,4 +1,4 @@\n import { runTests } from './utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)('yarn PnP', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('yarn PnP', () => {\n   runTests('with-eslint', '/', ['<html', 'Home', 'fake-script'])\n })"
        },
        {
            "sha": "21c1cc7748c4e1b871884de24b3c51e3dae77677",
            "filename": "test/e2e/yarn-pnp/test/with-sass.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fwith-sass.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fwith-sass.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fyarn-pnp%2Ftest%2Fwith-sass.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,7 +1,7 @@\n import { runTests } from './utils'\n \n // Skip in Turbopack as Yarn PnP is not supported.\n-;(process.env.TURBOPACK ? describe.skip : describe)('yarn PnP', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('yarn PnP', () => {\n   runTests('with-sass', '/', [\n     'Hello World, I am being styled using SCSS Modules',\n   ])"
        },
        {
            "sha": "882e1fdf1b592695b70aa727c9415a774cf2d519",
            "filename": "test/integration/amp-export-validation/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famp-export-validation%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famp-export-validation%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Famp-export-validation%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -13,7 +13,7 @@ const nextConfig = new File(join(appDir, 'next.config.js'))\n let buildOutput\n \n   // Turbopack does not support AMP rendering.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'AMP Validation on Export',\n   () => {\n     describe('production mode', () => {"
        },
        {
            "sha": "d8d9574e8c2ee77c91ae0c848c1d1f2697cf8545",
            "filename": "test/integration/amphtml-custom-optimizer/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-custom-optimizer%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-custom-optimizer%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Famphtml-custom-optimizer%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ let appPort\n const appDir = join(__dirname, '../')\n \n // Turbopack does not support AMP rendering.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'AMP Custom Optimizer',\n   () => {\n     describe('production mode', () => {"
        },
        {
            "sha": "2b243726250290e0601246d91d89981d1a726db0",
            "filename": "test/integration/amphtml-custom-validator/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-custom-validator%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-custom-validator%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Famphtml-custom-validator%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -15,7 +15,7 @@ let appPort\n const appDir = join(__dirname, '../')\n \n // Turbopack does not support AMP rendering.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'AMP Custom Validator',\n   () => {\n     describe('production mode', () => {"
        },
        {
            "sha": "e8782ea0da9e1c08b0ac756307616e4404b9eda1",
            "filename": "test/integration/amphtml-fragment-style/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-fragment-style%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-fragment-style%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Famphtml-fragment-style%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -16,7 +16,7 @@ let appPort\n let app\n \n   // Turbopack does not support AMP rendering.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'AMP Fragment Styles',\n   () => {\n     describe('production mode', () => {"
        },
        {
            "sha": "145ad212f65eeb66c969236ba6f301585de4198a",
            "filename": "test/integration/amphtml-ssg/test/index.test.js",
            "status": "modified",
            "additions": 51,
            "deletions": 48,
            "changes": 99,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-ssg%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml-ssg%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Famphtml-ssg%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -99,59 +99,62 @@ const runTests = (isDev = false) => {\n }\n \n // Turbopack does not support AMP rendering.\n-;(process.env.TURBOPACK ? describe.skip : describe)('AMP SSG Support', () => {\n-  describe('production mode', () => {\n-    beforeAll(async () => {\n-      await nextBuild(appDir)\n-      appPort = await findPort()\n-      app = await nextStart(appDir, appPort)\n-      // TODO: use browser instead to do checks that now need filesystem access\n-      builtServerPagesDir = join(appDir, '.next', 'server', 'pages')\n-    })\n-    afterAll(() => killApp(app))\n-    runTests()\n-  })\n-\n-  describe('development mode', () => {\n-    beforeAll(async () => {\n-      appPort = await findPort()\n-      app = await launchApp(appDir, appPort)\n-    })\n-    afterAll(() => killApp(app))\n-    runTests(true)\n-  })\n-\n-  describe('export mode', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'AMP SSG Support',\n+  () => {\n     describe('production mode', () => {\n-      let buildId\n-\n       beforeAll(async () => {\n-        nextConfig.write(`module.exports = { output: 'export' }`)\n         await nextBuild(appDir)\n-        buildId = await fs.readFile(join(appDir, '.next/BUILD_ID'), 'utf8')\n+        appPort = await findPort()\n+        app = await nextStart(appDir, appPort)\n+        // TODO: use browser instead to do checks that now need filesystem access\n+        builtServerPagesDir = join(appDir, '.next', 'server', 'pages')\n       })\n+      afterAll(() => killApp(app))\n+      runTests()\n+    })\n \n-      afterAll(() => nextConfig.delete())\n-\n-      it('should have copied SSG files correctly', async () => {\n-        const outFile = (file) => join(appDir, 'out', file)\n-\n-        expect(await fsExists(outFile('amp.html'))).toBe(true)\n-        expect(await fsExists(outFile('index.html'))).toBe(true)\n-        expect(await fsExists(outFile('hybrid.html'))).toBe(true)\n-        expect(await fsExists(outFile('amp.amp.html'))).toBe(false)\n-        expect(await fsExists(outFile('hybrid.amp.html'))).toBe(true)\n-        expect(await fsExists(outFile('blog/post-1.html'))).toBe(true)\n-        expect(await fsExists(outFile('blog/post-1.amp.html'))).toBe(true)\n-\n-        expect(\n-          await fsExists(outFile(join('_next/data', buildId, 'amp.json')))\n-        ).toBe(true)\n+    describe('development mode', () => {\n+      beforeAll(async () => {\n+        appPort = await findPort()\n+        app = await launchApp(appDir, appPort)\n+      })\n+      afterAll(() => killApp(app))\n+      runTests(true)\n+    })\n \n-        expect(\n-          await fsExists(outFile(join('_next/data', buildId, 'hybrid.json')))\n-        ).toBe(true)\n+    describe('export mode', () => {\n+      describe('production mode', () => {\n+        let buildId\n+\n+        beforeAll(async () => {\n+          nextConfig.write(`module.exports = { output: 'export' }`)\n+          await nextBuild(appDir)\n+          buildId = await fs.readFile(join(appDir, '.next/BUILD_ID'), 'utf8')\n+        })\n+\n+        afterAll(() => nextConfig.delete())\n+\n+        it('should have copied SSG files correctly', async () => {\n+          const outFile = (file) => join(appDir, 'out', file)\n+\n+          expect(await fsExists(outFile('amp.html'))).toBe(true)\n+          expect(await fsExists(outFile('index.html'))).toBe(true)\n+          expect(await fsExists(outFile('hybrid.html'))).toBe(true)\n+          expect(await fsExists(outFile('amp.amp.html'))).toBe(false)\n+          expect(await fsExists(outFile('hybrid.amp.html'))).toBe(true)\n+          expect(await fsExists(outFile('blog/post-1.html'))).toBe(true)\n+          expect(await fsExists(outFile('blog/post-1.amp.html'))).toBe(true)\n+\n+          expect(\n+            await fsExists(outFile(join('_next/data', buildId, 'amp.json')))\n+          ).toBe(true)\n+\n+          expect(\n+            await fsExists(outFile(join('_next/data', buildId, 'hybrid.json')))\n+          ).toBe(true)\n+        })\n       })\n     })\n-  })\n-})\n+  }\n+)"
        },
        {
            "sha": "b97ba624ebdb32fb1eb5f148ac612fa4bab86536",
            "filename": "test/integration/amphtml/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Famphtml%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Famphtml%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -25,7 +25,7 @@ let app\n const context = {}\n \n // Turbopack does not support AMP rendering.\n-;(process.env.TURBOPACK ? describe.skip : describe)('AMP Usage', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('AMP Usage', () => {\n   describe('production mode', () => {\n     let output = ''\n "
        },
        {
            "sha": "4e87c5ae96a51d8bba41a15c2807658a823afc3c",
            "filename": "test/integration/app-dir-export/test/utils.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fapp-dir-export%2Ftest%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fapp-dir-export%2Ftest%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fapp-dir-export%2Ftest%2Futils.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -33,12 +33,12 @@ export const expectedWhenTrailingSlashTrue = [\n   '404/index.html',\n   // Turbopack and plain next.js have different hash output for the file name\n   // Turbopack will output favicon in the _next/static/media folder\n-  ...(process.env.TURBOPACK\n+  ...(process.env.IS_TURBOPACK_TEST\n     ? [expect.stringMatching(/_next\\/static\\/media\\/favicon\\.[0-9a-f]+\\.ico/)]\n     : []),\n   expect.stringMatching(/_next\\/static\\/media\\/test\\.[0-9a-f]+\\.png/),\n   '_next/static/test-build-id/_buildManifest.js',\n-  ...(process.env.TURBOPACK\n+  ...(process.env.IS_TURBOPACK_TEST\n     ? ['_next/static/test-build-id/_clientMiddlewareManifest.json']\n     : []),\n   '_next/static/test-build-id/_ssgManifest.js',\n@@ -63,12 +63,12 @@ export const expectedWhenTrailingSlashTrue = [\n const expectedWhenTrailingSlashFalse = [\n   '404.html',\n   // Turbopack will output favicon in the _next/static/media folder\n-  ...(process.env.TURBOPACK\n+  ...(process.env.IS_TURBOPACK_TEST\n     ? [expect.stringMatching(/_next\\/static\\/media\\/favicon\\.[0-9a-f]+\\.ico/)]\n     : []),\n   expect.stringMatching(/_next\\/static\\/media\\/test\\.[0-9a-f]+\\.png/),\n   '_next/static/test-build-id/_buildManifest.js',\n-  ...(process.env.TURBOPACK\n+  ...(process.env.IS_TURBOPACK_TEST\n     ? ['_next/static/test-build-id/_clientMiddlewareManifest.json']\n     : []),\n   '_next/static/test-build-id/_ssgManifest.js',"
        },
        {
            "sha": "a20882d0eb4057f23097949ef3cad001bb6735d4",
            "filename": "test/integration/app-document-import-order/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fapp-document-import-order%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fapp-document-import-order%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fapp-document-import-order%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -88,7 +88,7 @@ describe('Root components import order', () => {\n     )\n \n     // Test relies on webpack splitChunks overrides.\n-    ;(process.env.TURBOPACK ? describe.skip : describe)(\n+    ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n       'Skipped in Turbopack',\n       () => {\n         it("
        },
        {
            "sha": "af0b2f42ad84cb24c410c0a8a706400367c89301",
            "filename": "test/integration/app-types/app-types.test.js",
            "status": "modified",
            "additions": 122,
            "deletions": 119,
            "changes": 241,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fapp-types%2Fapp-types.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fapp-types%2Fapp-types.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fapp-types%2Fapp-types.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -7,122 +7,125 @@ import { nextBuild } from 'next-test-utils'\n const appDir = __dirname\n \n // Turbopack doesn't support additional experimental features in the first version\n-;(process.env.TURBOPACK ? describe.skip : describe)('app type checking', () => {\n-  ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n-    'production mode',\n-    () => {\n-      let stderr, errors\n-      beforeAll(async () => {\n-        stderr = (await nextBuild(appDir, [], { stderr: true })).stderr\n-\n-        errors = stderr.match(\n-          /===== TS errors =====(.+)===== TS errors =====/s\n-        )?.[1]\n-      })\n-\n-      it('should generate route types correctly and report link error', async () => {\n-        // Make sure the d.ts file is generated\n-        const dts = (\n-          await fs.readFile(path.join(appDir, '.next', 'types', 'link.d.ts'))\n-        ).toString()\n-        expect(dts.includes('`/dashboard/user/')).toBeTruthy()\n-        expect(dts.includes('`/dashboard/another')).toBeTruthy()\n-\n-        // Check type checking errors\n-        expect(errors).toContain(\n-          'Type error: \"/(newroot)/dashboard/another\" is not an existing route. If it is intentional, please type it explicitly with `as Route`.'\n-        )\n-\n-        // Make sure all errors were reported and other links passed type checking\n-        const errorLines = [\n-          ...errors.matchAll(\n-            /\\.\\/src\\/app\\/type-checks\\/link\\/page\\.tsx:(\\d+):/g\n-          ),\n-        ].map(([, line]) => +line)\n-\n-        const ST = 18\n-        const ED = 35\n-        expect(errorLines).toEqual(\n-          Array.from({ length: ED - ST + 1 }, (_, i) => i + ST)\n-        )\n-      })\n-\n-      it('should generate route types correctly and report router API errors', async () => {\n-        // Make sure all errors were reported and other links passed type checking\n-        const errorLines = [\n-          ...errors.matchAll(\n-            /\\.\\/src\\/app\\/type-checks\\/router\\/page\\.tsx:(\\d+):/g\n-          ),\n-        ].map(([, line]) => +line)\n-\n-        const ST = 11\n-        const ED = 13\n-        expect(errorLines).toEqual(\n-          Array.from({ length: ED - ST + 1 }, (_, i) => i + ST)\n-        )\n-      })\n-\n-      it('should generate route types correctly and report form errors', async () => {\n-        // Make sure all errors were reported and other Forms passed type checking\n-        const errorLines = [\n-          ...errors.matchAll(\n-            /\\.\\/src\\/app\\/type-checks\\/form\\/page\\.tsx:(\\d+):/g\n-          ),\n-        ].map(([, line]) => +line)\n-\n-        const ST = 8\n-        const ED = 10\n-        expect(errorLines).toEqual(\n-          Array.from({ length: ED - ST + 1 }, (_, i) => i + ST)\n-        )\n-      })\n-\n-      it('should type check invalid entry exports', () => {\n-        // Can't export arbitrary things.\n-        expect(errors).toContain(`\"foo\" is not a valid Page export field.`)\n-\n-        // Can't export invalid fields.\n-        expect(errors).toMatch(\n-          /Invalid configuration \"revalidate\":\\s+Expected \"false | number (>= 0)\", got \"-1\"/\n-        )\n-\n-        // Avoid invalid argument types for exported functions.\n-        expect(errors).toMatch(\n-          /Page \"src\\/app\\/type-checks\\/config\\/page\\.tsx\" has an invalid \"default\" export:\\s+Type \"{ foo: string; }\" is not valid/\n-        )\n-        expect(errors).toMatch(\n-          /Page \"src\\/app\\/type-checks\\/config\\/page\\.tsx\" has an invalid \"generateMetadata\" export:\\s+Type \"{ s: number; }\" is not valid/\n-        )\n-        expect(errors).toMatch(\n-          /Page \"src\\/app\\/type-checks\\/config\\/page\\.tsx\" has an invalid \"generateStaticParams\" export:\\s+Type \"string\" is not valid/\n-        )\n-\n-        // Avoid invalid return types for exported functions.\n-        expect(errors).toContain(\n-          `\"Promise<number>\" is not a valid generateStaticParams return type`\n-        )\n-\n-        // Can't export arbitrary things.\n-        expect(errors).toContain(`\"bar\" is not a valid Route export field.`)\n-\n-        // Can't export invalid fields.\n-        expect(errors).toMatch(\n-          /Invalid configuration \"revalidate\":\\s+Expected \"false | number (>= 0)\", got \"-1\"/\n-        )\n-\n-        // Avoid invalid argument types for exported functions.\n-        expect(errors).toMatch(\n-          /Route \"src\\/app\\/type-checks\\/route-handlers\\/route\\.ts\" has an invalid \"GET\" export:\\s+Type \"boolean\" is not a valid type for the function's first argument/\n-        )\n-        expect(errors).toMatch(\n-          /Route \"src\\/app\\/type-checks\\/route-handlers\\/route\\.ts\" has an invalid \"generateStaticParams\" export:\\s+Type \"string\" is not valid/\n-        )\n-\n-        // Avoid invalid return types for exported functions.\n-        expect(errors).toContain(\n-          `\"Promise<boolean>\" is not a valid generateStaticParams return type`\n-        )\n-      })\n-    }\n-  )\n-})\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'app type checking',\n+  () => {\n+    ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n+      'production mode',\n+      () => {\n+        let stderr, errors\n+        beforeAll(async () => {\n+          stderr = (await nextBuild(appDir, [], { stderr: true })).stderr\n+\n+          errors = stderr.match(\n+            /===== TS errors =====(.+)===== TS errors =====/s\n+          )?.[1]\n+        })\n+\n+        it('should generate route types correctly and report link error', async () => {\n+          // Make sure the d.ts file is generated\n+          const dts = (\n+            await fs.readFile(path.join(appDir, '.next', 'types', 'link.d.ts'))\n+          ).toString()\n+          expect(dts.includes('`/dashboard/user/')).toBeTruthy()\n+          expect(dts.includes('`/dashboard/another')).toBeTruthy()\n+\n+          // Check type checking errors\n+          expect(errors).toContain(\n+            'Type error: \"/(newroot)/dashboard/another\" is not an existing route. If it is intentional, please type it explicitly with `as Route`.'\n+          )\n+\n+          // Make sure all errors were reported and other links passed type checking\n+          const errorLines = [\n+            ...errors.matchAll(\n+              /\\.\\/src\\/app\\/type-checks\\/link\\/page\\.tsx:(\\d+):/g\n+            ),\n+          ].map(([, line]) => +line)\n+\n+          const ST = 18\n+          const ED = 35\n+          expect(errorLines).toEqual(\n+            Array.from({ length: ED - ST + 1 }, (_, i) => i + ST)\n+          )\n+        })\n+\n+        it('should generate route types correctly and report router API errors', async () => {\n+          // Make sure all errors were reported and other links passed type checking\n+          const errorLines = [\n+            ...errors.matchAll(\n+              /\\.\\/src\\/app\\/type-checks\\/router\\/page\\.tsx:(\\d+):/g\n+            ),\n+          ].map(([, line]) => +line)\n+\n+          const ST = 11\n+          const ED = 13\n+          expect(errorLines).toEqual(\n+            Array.from({ length: ED - ST + 1 }, (_, i) => i + ST)\n+          )\n+        })\n+\n+        it('should generate route types correctly and report form errors', async () => {\n+          // Make sure all errors were reported and other Forms passed type checking\n+          const errorLines = [\n+            ...errors.matchAll(\n+              /\\.\\/src\\/app\\/type-checks\\/form\\/page\\.tsx:(\\d+):/g\n+            ),\n+          ].map(([, line]) => +line)\n+\n+          const ST = 8\n+          const ED = 10\n+          expect(errorLines).toEqual(\n+            Array.from({ length: ED - ST + 1 }, (_, i) => i + ST)\n+          )\n+        })\n+\n+        it('should type check invalid entry exports', () => {\n+          // Can't export arbitrary things.\n+          expect(errors).toContain(`\"foo\" is not a valid Page export field.`)\n+\n+          // Can't export invalid fields.\n+          expect(errors).toMatch(\n+            /Invalid configuration \"revalidate\":\\s+Expected \"false | number (>= 0)\", got \"-1\"/\n+          )\n+\n+          // Avoid invalid argument types for exported functions.\n+          expect(errors).toMatch(\n+            /Page \"src\\/app\\/type-checks\\/config\\/page\\.tsx\" has an invalid \"default\" export:\\s+Type \"{ foo: string; }\" is not valid/\n+          )\n+          expect(errors).toMatch(\n+            /Page \"src\\/app\\/type-checks\\/config\\/page\\.tsx\" has an invalid \"generateMetadata\" export:\\s+Type \"{ s: number; }\" is not valid/\n+          )\n+          expect(errors).toMatch(\n+            /Page \"src\\/app\\/type-checks\\/config\\/page\\.tsx\" has an invalid \"generateStaticParams\" export:\\s+Type \"string\" is not valid/\n+          )\n+\n+          // Avoid invalid return types for exported functions.\n+          expect(errors).toContain(\n+            `\"Promise<number>\" is not a valid generateStaticParams return type`\n+          )\n+\n+          // Can't export arbitrary things.\n+          expect(errors).toContain(`\"bar\" is not a valid Route export field.`)\n+\n+          // Can't export invalid fields.\n+          expect(errors).toMatch(\n+            /Invalid configuration \"revalidate\":\\s+Expected \"false | number (>= 0)\", got \"-1\"/\n+          )\n+\n+          // Avoid invalid argument types for exported functions.\n+          expect(errors).toMatch(\n+            /Route \"src\\/app\\/type-checks\\/route-handlers\\/route\\.ts\" has an invalid \"GET\" export:\\s+Type \"boolean\" is not a valid type for the function's first argument/\n+          )\n+          expect(errors).toMatch(\n+            /Route \"src\\/app\\/type-checks\\/route-handlers\\/route\\.ts\" has an invalid \"generateStaticParams\" export:\\s+Type \"string\" is not valid/\n+          )\n+\n+          // Avoid invalid return types for exported functions.\n+          expect(errors).toContain(\n+            `\"Promise<boolean>\" is not a valid generateStaticParams return type`\n+          )\n+        })\n+      }\n+    )\n+  }\n+)"
        },
        {
            "sha": "3fbb9c9c063ea326f13ce1af5c781189c9a96350",
            "filename": "test/integration/babel-custom/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbabel-custom%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbabel-custom%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbabel-custom%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -2,7 +2,7 @@\n \n import { join } from 'path'\n import { nextBuild } from 'next-test-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)('Babel', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('Babel', () => {\n   it('should allow setting babelrc env', async () => {\n     await nextBuild(join(__dirname, '../fixtures/babel-env'))\n   })"
        },
        {
            "sha": "b7e7b02233d5931c7cbff0b1b6c043e778b5e505",
            "filename": "test/integration/babel-next-image/babel-next-image.test.js",
            "status": "modified",
            "additions": 16,
            "deletions": 13,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbabel-next-image%2Fbabel-next-image.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbabel-next-image%2Fbabel-next-image.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbabel-next-image%2Fbabel-next-image.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,19 +1,22 @@\n /* eslint-env jest */\n \n import { fetchViaHTTP, findPort, killApp, launchApp } from 'next-test-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)('babel-next-image', () => {\n-  let appPort\n-  let app\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'babel-next-image',\n+  () => {\n+    let appPort\n+    let app\n \n-  beforeAll(async () => {\n-    appPort = await findPort()\n-    app = await launchApp(__dirname, appPort)\n-  })\n+    beforeAll(async () => {\n+      appPort = await findPort()\n+      app = await launchApp(__dirname, appPort)\n+    })\n \n-  afterAll(() => killApp(app))\n+    afterAll(() => killApp(app))\n \n-  it('should work with babel and next/image', async () => {\n-    const res = await fetchViaHTTP(appPort, '/')\n-    expect(res.status).toBe(200)\n-  })\n-})\n+    it('should work with babel and next/image', async () => {\n+      const res = await fetchViaHTTP(appPort, '/')\n+      expect(res.status).toBe(200)\n+    })\n+  }\n+)"
        },
        {
            "sha": "3e666d794750135943a67bdf0bf46a25350ad75e",
            "filename": "test/integration/babel/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbabel%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbabel%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbabel%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ import rendering from './rendering'\n \n const context = {}\n \n-;(process.env.TURBOPACK ? describe.skip : describe)('Babel', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('Babel', () => {\n   beforeAll(async () => {\n     context.appPort = await findPort()\n     context.server = await launchApp(join(__dirname, '../'), context.appPort)"
        },
        {
            "sha": "549cb68ecf30853598d0c3d92f521a79228d4947",
            "filename": "test/integration/basepath-root-catch-all/test/index.test.js",
            "status": "modified",
            "additions": 14,
            "deletions": 11,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbasepath-root-catch-all%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbasepath-root-catch-all%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbasepath-root-catch-all%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -28,17 +28,20 @@ const runTests = () => {\n }\n \n // Skip as it runs `next build`, seems that is a bug.\n-;(process.env.TURBOPACK ? describe.skip : describe)('development mode', () => {\n-  beforeAll(async () => {\n-    // TODO: This look like a bug, `nextBuild` shouldn't be required here.\n-    await nextBuild(appDir)\n-    appPort = await findPort()\n-    buildId = 'development'\n-    app = await launchApp(appDir, appPort)\n-  })\n-  afterAll(() => killApp(app))\n-  runTests()\n-})\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'development mode',\n+  () => {\n+    beforeAll(async () => {\n+      // TODO: This look like a bug, `nextBuild` shouldn't be required here.\n+      await nextBuild(appDir)\n+      appPort = await findPort()\n+      buildId = 'development'\n+      app = await launchApp(appDir, appPort)\n+    })\n+    afterAll(() => killApp(app))\n+    runTests()\n+  }\n+)\n ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n   'production mode',\n   () => {"
        },
        {
            "sha": "0fa1a8f2ec2ba7b567eb61c29b3b958fb2a9b9de",
            "filename": "test/integration/broken-webpack-plugin/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbroken-webpack-plugin%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbroken-webpack-plugin%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbroken-webpack-plugin%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -10,7 +10,7 @@ let appPort\n let app\n \n   // Skipped as it's not relevant to Turbopack.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Handles a broken webpack plugin (precompile)',\n   () => {\n     let stderr = ''"
        },
        {
            "sha": "bfdf78a4e1b313a24a2d0d3a1c31f43dfe3f3efc",
            "filename": "test/integration/build-indicator/test/index.test.js",
            "status": "modified",
            "additions": 17,
            "deletions": 14,
            "changes": 31,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbuild-indicator%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbuild-indicator%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbuild-indicator%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -66,20 +66,23 @@ describe('Build Activity Indicator', () => {\n       app = await launchApp(appDir, appPort)\n     })\n     afterAll(() => killApp(app))\n-    ;(process.env.TURBOPACK ? describe.skip : describe)('webpack only', () => {\n-      it('Shows the build indicator when a page is built during navigation', async () => {\n-        const browser = await webdriver(\n-          appPort,\n-          pagesOrApp === 'pages' ? '/' : '/app'\n-        )\n-        await installCheckVisible(browser)\n-        await browser.elementByCss('#to-a').click()\n-        await waitFor(500)\n-        const wasVisible = await browser.eval('window.showedBuilder')\n-        expect(wasVisible).toBe(true)\n-        await browser.close()\n-      })\n-    })\n+    ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+      'webpack only',\n+      () => {\n+        it('Shows the build indicator when a page is built during navigation', async () => {\n+          const browser = await webdriver(\n+            appPort,\n+            pagesOrApp === 'pages' ? '/' : '/app'\n+          )\n+          await installCheckVisible(browser)\n+          await browser.elementByCss('#to-a').click()\n+          await waitFor(500)\n+          const wasVisible = await browser.eval('window.showedBuilder')\n+          expect(wasVisible).toBe(true)\n+          await browser.close()\n+        })\n+      }\n+    )\n \n     it('Shows build indicator when page is built from modifying', async () => {\n       const browser = await webdriver("
        },
        {
            "sha": "774368921d7a7d9a17b9a129f7572cdc6f0bbf3e",
            "filename": "test/integration/build-output/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbuild-output%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbuild-output%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbuild-output%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -221,7 +221,7 @@ describe('Build Output', () => {\n       })\n \n       // AMP is not supported with Turbopack.\n-      ;(process.env.TURBOPACK ? describe.skip : describe)(\n+      ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n         'With AMP Output',\n         () => {\n           const appDir = join(fixturesDir, 'with-amp')"
        },
        {
            "sha": "1586ad3fe55842d614b327909c5dc981a50988b5",
            "filename": "test/integration/build-warnings/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbuild-warnings%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fbuild-warnings%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fbuild-warnings%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ describe('Build warnings', () => {\n         const { stderr } = await nextBuild(appDir, undefined, { stderr: true })\n         expect(stderr).not.toContain('optimization has been disabled')\n       })\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should shown warning about minification for minimize',\n         async () => {\n           const nextConfig = new File(join(appDir, 'next.config.js'))\n@@ -33,7 +33,7 @@ describe('Build warnings', () => {\n           nextConfig.restore()\n         }\n       )\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should shown warning about minification for minimizer',\n         async () => {\n           const nextConfig = new File(join(appDir, 'next.config.js'))"
        },
        {
            "sha": "042976b4c732ab933c4441eabf79db8d2a4fdd78",
            "filename": "test/integration/chunking/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fchunking%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fchunking%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fchunking%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -23,7 +23,7 @@ const existsChunkNamed = (name) => {\n }\n \n // Skipped as it uses webpack internals / stats.json.\n-;(process.env.TURBOPACK ? describe.skip : describe)('Chunking', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('Chunking', () => {\n   ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n     'production mode',\n     () => {"
        },
        {
            "sha": "83cc51faf8c7dd85b16176ce1247442b5fb1c433",
            "filename": "test/integration/config-devtool-dev/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fconfig-devtool-dev%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fconfig-devtool-dev%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fconfig-devtool-dev%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ import { join } from 'path'\n const appDir = join(__dirname, '../')\n \n // Webpack specific config tests.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'devtool set in development mode in next config',\n   () => {\n     it('should warn and revert when a devtool is set in development mode', async () => {"
        },
        {
            "sha": "717a7af367165933f5d8643e7c9b0f1016da0e59",
            "filename": "test/integration/config-promise-error/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fconfig-promise-error%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fconfig-promise-error%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fconfig-promise-error%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -6,7 +6,7 @@ import { nextBuild } from 'next-test-utils'\n \n const appDir = join(__dirname, '..')\n \n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Promise in next config',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "29abbd108706b52742356c6366db876a1afff9ca",
            "filename": "test/integration/config-resolve-alias/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fconfig-resolve-alias%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fconfig-resolve-alias%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fconfig-resolve-alias%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -4,7 +4,7 @@ import { join } from 'path'\n import { runNextCommand } from 'next-test-utils'\n \n // Skip in Turbopack as it does not support `config.resolve.alias` from webpack.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Invalid resolve alias',\n   () => {\n     it('should show relevant error when webpack resolve alias is wrong', async () => {"
        },
        {
            "sha": "fdb95b38d74d40e7c9bcf7ecbc7e2e1ebeae89cd",
            "filename": "test/integration/create-next-app/templates/matrix.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcreate-next-app%2Ftemplates%2Fmatrix.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcreate-next-app%2Ftemplates%2Fmatrix.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcreate-next-app%2Ftemplates%2Fmatrix.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -21,7 +21,7 @@ describe.each(['app', 'pages'] as const)(\n \n     const allFlagValues = {\n       app: [isApp ? '--app' : '--no-app'],\n-      turbo: [process.env.TURBOPACK ? '--turbopack' : '--no-turbopack'],\n+      turbo: [process.env.IS_TURBOPACK_TEST ? '--turbopack' : '--no-turbopack'],\n \n       ts: ['--js', '--ts'],\n       importAlias: ["
        },
        {
            "sha": "6831467babc418a263648c0a4eadbf57d01c8ce9",
            "filename": "test/integration/css-customization/test/index.test.js",
            "status": "modified",
            "additions": 290,
            "deletions": 281,
            "changes": 571,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-customization%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-customization%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss-customization%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -9,62 +9,65 @@ const fixturesDir = join(__dirname, '../..', 'css-fixtures')\n const BUILD_FAILURE_RE = /Build failed because of (webpack|rspack) errors/\n \n // Test checks webpack loaders and plugins.\n-;(process.env.TURBOPACK ? describe.skip : describe)('CSS Customization', () => {\n-  ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n-    'production mode',\n-    () => {\n-      const appDir = join(fixturesDir, 'custom-configuration')\n-\n-      beforeAll(async () => {\n-        await remove(join(appDir, '.next'))\n-      })\n-\n-      describe('Basic CSS', () => {\n-        it('should compile successfully', async () => {\n-          const { code, stdout } = await nextBuild(appDir, [], {\n-            stdout: true,\n-          })\n-          expect(code).toBe(0)\n-          expect(stdout).toMatch(/Compiled successfully/)\n-        })\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'CSS Customization',\n+  () => {\n+    ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n+      'production mode',\n+      () => {\n+        const appDir = join(fixturesDir, 'custom-configuration')\n \n-        it(`should've compiled and prefixed`, async () => {\n-          const cssFolder = join(appDir, '.next/static/css')\n-\n-          const files = await readdir(cssFolder)\n-          const cssFiles = files.filter((f) => /\\.css$/.test(f))\n-\n-          expect(cssFiles.length).toBe(1)\n-          const cssContent = await readFile(\n-            join(cssFolder, cssFiles[0]),\n-            'utf8'\n-          )\n-          expect(\n-            cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n-          ).toMatchInlineSnapshot(\n-            `\"@media (480px <= width < 768px){::placeholder{color:green}}.video{max-width:400px;max-height:300px}\"`\n-          )\n-\n-          // Contains a source map\n-          expect(cssContent).toMatch(\n-            /\\/\\*#\\s*sourceMappingURL=(.+\\.map)\\s*\\*\\//\n-          )\n+        beforeAll(async () => {\n+          await remove(join(appDir, '.next'))\n         })\n \n-        it(`should've emitted a source map`, async () => {\n-          const cssFolder = join(appDir, '.next/static/css')\n+        describe('Basic CSS', () => {\n+          it('should compile successfully', async () => {\n+            const { code, stdout } = await nextBuild(appDir, [], {\n+              stdout: true,\n+            })\n+            expect(code).toBe(0)\n+            expect(stdout).toMatch(/Compiled successfully/)\n+          })\n+\n+          it(`should've compiled and prefixed`, async () => {\n+            const cssFolder = join(appDir, '.next/static/css')\n \n-          const files = await readdir(cssFolder)\n-          const cssMapFiles = files.filter((f) => /\\.css\\.map$/.test(f))\n+            const files = await readdir(cssFolder)\n+            const cssFiles = files.filter((f) => /\\.css$/.test(f))\n \n-          expect(cssMapFiles.length).toBe(1)\n-          const cssMapContent = (\n-            await readFile(join(cssFolder, cssMapFiles[0]), 'utf8')\n-          ).trim()\n+            expect(cssFiles.length).toBe(1)\n+            const cssContent = await readFile(\n+              join(cssFolder, cssFiles[0]),\n+              'utf8'\n+            )\n+            expect(\n+              cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n+            ).toMatchInlineSnapshot(\n+              `\"@media (480px <= width < 768px){::placeholder{color:green}}.video{max-width:400px;max-height:300px}\"`\n+            )\n \n-          const { version, mappings, sourcesContent } =\n-            JSON.parse(cssMapContent)\n-          expect({ version, mappings, sourcesContent }).toMatchInlineSnapshot(`\n+            // Contains a source map\n+            expect(cssContent).toMatch(\n+              /\\/\\*#\\s*sourceMappingURL=(.+\\.map)\\s*\\*\\//\n+            )\n+          })\n+\n+          it(`should've emitted a source map`, async () => {\n+            const cssFolder = join(appDir, '.next/static/css')\n+\n+            const files = await readdir(cssFolder)\n+            const cssMapFiles = files.filter((f) => /\\.css\\.map$/.test(f))\n+\n+            expect(cssMapFiles.length).toBe(1)\n+            const cssMapContent = (\n+              await readFile(join(cssFolder, cssMapFiles[0]), 'utf8')\n+            ).trim()\n+\n+            const { version, mappings, sourcesContent } =\n+              JSON.parse(cssMapContent)\n+            expect({ version, mappings, sourcesContent })\n+              .toMatchInlineSnapshot(`\n {\n   \"mappings\": \"AACA,gCACE,cACE,WACF,CACF,CAGA,OACE,eAA0B,CAA1B,gBACF\",\n   \"sourcesContent\": [\n@@ -84,61 +87,62 @@ const BUILD_FAILURE_RE = /Build failed because of (webpack|rspack) errors/\n   \"version\": 3,\n }\n `)\n+          })\n         })\n-      })\n \n-      describe('Correct CSS Customization Array', () => {\n-        const appDir = join(fixturesDir, 'custom-configuration-arr')\n+        describe('Correct CSS Customization Array', () => {\n+          const appDir = join(fixturesDir, 'custom-configuration-arr')\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n-        })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-        it('should compile successfully', async () => {\n-          const { code, stdout } = await nextBuild(appDir, [], {\n-            stdout: true,\n+          it('should compile successfully', async () => {\n+            const { code, stdout } = await nextBuild(appDir, [], {\n+              stdout: true,\n+            })\n+            expect(code).toBe(0)\n+            expect(stdout).toMatch(/Compiled successfully/)\n           })\n-          expect(code).toBe(0)\n-          expect(stdout).toMatch(/Compiled successfully/)\n-        })\n \n-        it(`should've compiled and prefixed`, async () => {\n-          const cssFolder = join(appDir, '.next/static/css')\n-\n-          const files = await readdir(cssFolder)\n-          const cssFiles = files.filter((f) => /\\.css$/.test(f))\n-\n-          expect(cssFiles.length).toBe(1)\n-          const cssContent = await readFile(\n-            join(cssFolder, cssFiles[0]),\n-            'utf8'\n-          )\n-          expect(\n-            cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n-          ).toMatchInlineSnapshot(\n-            `\"@media (480px <= width < 768px){a:before{content:\"\"}::placeholder{color:green}}.video{max-width:6400px;max-height:4800px;max-width:400rem;max-height:300rem}\"`\n-          )\n-\n-          // Contains a source map\n-          expect(cssContent).toMatch(\n-            /\\/\\*#\\s*sourceMappingURL=(.+\\.map)\\s*\\*\\//\n-          )\n-        })\n+          it(`should've compiled and prefixed`, async () => {\n+            const cssFolder = join(appDir, '.next/static/css')\n \n-        it(`should've emitted a source map`, async () => {\n-          const cssFolder = join(appDir, '.next/static/css')\n+            const files = await readdir(cssFolder)\n+            const cssFiles = files.filter((f) => /\\.css$/.test(f))\n \n-          const files = await readdir(cssFolder)\n-          const cssMapFiles = files.filter((f) => /\\.css\\.map$/.test(f))\n+            expect(cssFiles.length).toBe(1)\n+            const cssContent = await readFile(\n+              join(cssFolder, cssFiles[0]),\n+              'utf8'\n+            )\n+            expect(\n+              cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n+            ).toMatchInlineSnapshot(\n+              `\"@media (480px <= width < 768px){a:before{content:\"\"}::placeholder{color:green}}.video{max-width:6400px;max-height:4800px;max-width:400rem;max-height:300rem}\"`\n+            )\n \n-          expect(cssMapFiles.length).toBe(1)\n-          const cssMapContent = (\n-            await readFile(join(cssFolder, cssMapFiles[0]), 'utf8')\n-          ).trim()\n+            // Contains a source map\n+            expect(cssContent).toMatch(\n+              /\\/\\*#\\s*sourceMappingURL=(.+\\.map)\\s*\\*\\//\n+            )\n+          })\n+\n+          it(`should've emitted a source map`, async () => {\n+            const cssFolder = join(appDir, '.next/static/css')\n+\n+            const files = await readdir(cssFolder)\n+            const cssMapFiles = files.filter((f) => /\\.css\\.map$/.test(f))\n+\n+            expect(cssMapFiles.length).toBe(1)\n+            const cssMapContent = (\n+              await readFile(join(cssFolder, cssMapFiles[0]), 'utf8')\n+            ).trim()\n \n-          const { version, mappings, sourcesContent } =\n-            JSON.parse(cssMapContent)\n-          expect({ version, mappings, sourcesContent }).toMatchInlineSnapshot(`\n+            const { version, mappings, sourcesContent } =\n+              JSON.parse(cssMapContent)\n+            expect({ version, mappings, sourcesContent })\n+              .toMatchInlineSnapshot(`\n {\n   \"mappings\": \"AACA,gCACE,SACE,UACF,CACA,cACE,WACF,CACF,CAGA,OACE,gBAA4B,CAA5B,iBAA4B,CAA5B,gBAA4B,CAA5B,iBACF\",\n   \"sourcesContent\": [\n@@ -161,252 +165,257 @@ const BUILD_FAILURE_RE = /Build failed because of (webpack|rspack) errors/\n   \"version\": 3,\n }\n `)\n+          })\n         })\n-      })\n \n-      describe('Correct CSS Customization custom loader', () => {\n-        const appDir = join(fixturesDir, 'custom-configuration-loader')\n+        describe('Correct CSS Customization custom loader', () => {\n+          const appDir = join(fixturesDir, 'custom-configuration-loader')\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n-        })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-        it('should compile successfully', async () => {\n-          const { code, stdout, stderr } = await nextBuild(appDir, [], {\n-            stdout: true,\n-            stderr: true,\n+          it('should compile successfully', async () => {\n+            const { code, stdout, stderr } = await nextBuild(appDir, [], {\n+              stdout: true,\n+              stderr: true,\n+            })\n+            expect(code).toBe(0)\n+            expect(stderr).toMatch(/Built-in CSS support is being disabled/)\n+            expect(stdout).toMatch(/Compiled successfully/)\n           })\n-          expect(code).toBe(0)\n-          expect(stderr).toMatch(/Built-in CSS support is being disabled/)\n-          expect(stdout).toMatch(/Compiled successfully/)\n-        })\n \n-        it(`should've applied style`, async () => {\n-          const pagesFolder = join(appDir, '.next/static/chunks/pages')\n+          it(`should've applied style`, async () => {\n+            const pagesFolder = join(appDir, '.next/static/chunks/pages')\n \n-          const files = await readdir(pagesFolder)\n-          const indexFiles = files.filter((f) => /^index.+\\.js$/.test(f))\n+            const files = await readdir(pagesFolder)\n+            const indexFiles = files.filter((f) => /^index.+\\.js$/.test(f))\n \n-          expect(indexFiles.length).toBe(1)\n-          const indexContent = await readFile(\n-            join(pagesFolder, indexFiles[0]),\n-            'utf8'\n-          )\n-          expect(indexContent).toMatch(/\\.my-text\\.jsx-[0-9a-z]+{color:red}/)\n+            expect(indexFiles.length).toBe(1)\n+            const indexContent = await readFile(\n+              join(pagesFolder, indexFiles[0]),\n+              'utf8'\n+            )\n+            expect(indexContent).toMatch(/\\.my-text\\.jsx-[0-9a-z]+{color:red}/)\n+          })\n         })\n-      })\n \n-      describe('Bad CSS Customization', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration')\n+        describe('Bad CSS Customization', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration')\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n-        })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-        it('should compile successfully', async () => {\n-          const { stdout, stderr } = await nextBuild(appDir, [], {\n-            stdout: true,\n-            stderr: true,\n-          })\n-          expect(stdout).toMatch(/Compiled successfully/)\n-          expect(stderr).toMatch(/field which is not supported.*?sourceMap/)\n-          ;[\n-            'postcss-modules-values',\n-            'postcss-modules-scope',\n-            'postcss-modules-extract-imports',\n-            'postcss-modules-local-by-default',\n-            'postcss-modules',\n-          ].forEach((plugin) => {\n-            expect(stderr).toMatch(\n-              new RegExp(`Please remove the.*?${escapeStringRegexp(plugin)}`)\n-            )\n+          it('should compile successfully', async () => {\n+            const { stdout, stderr } = await nextBuild(appDir, [], {\n+              stdout: true,\n+              stderr: true,\n+            })\n+            expect(stdout).toMatch(/Compiled successfully/)\n+            expect(stderr).toMatch(/field which is not supported.*?sourceMap/)\n+            ;[\n+              'postcss-modules-values',\n+              'postcss-modules-scope',\n+              'postcss-modules-extract-imports',\n+              'postcss-modules-local-by-default',\n+              'postcss-modules',\n+            ].forEach((plugin) => {\n+              expect(stderr).toMatch(\n+                new RegExp(`Please remove the.*?${escapeStringRegexp(plugin)}`)\n+              )\n+            })\n           })\n-        })\n \n-        it(`should've compiled and prefixed`, async () => {\n-          const cssFolder = join(appDir, '.next/static/css')\n-\n-          const files = await readdir(cssFolder)\n-          const cssFiles = files.filter((f) => /\\.css$/.test(f))\n-\n-          expect(cssFiles.length).toBe(1)\n-          const cssContent = await readFile(\n-            join(cssFolder, cssFiles[0]),\n-            'utf8'\n-          )\n-          expect(\n-            cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n-          ).toMatchInlineSnapshot(`\".video{max-width:400px;max-height:300px}\"`)\n-\n-          // Contains a source map\n-          expect(cssContent).toMatch(\n-            /\\/\\*#\\s*sourceMappingURL=(.+\\.map)\\s*\\*\\//\n-          )\n-        })\n+          it(`should've compiled and prefixed`, async () => {\n+            const cssFolder = join(appDir, '.next/static/css')\n \n-        it(`should've emitted a source map`, async () => {\n-          const cssFolder = join(appDir, '.next/static/css')\n+            const files = await readdir(cssFolder)\n+            const cssFiles = files.filter((f) => /\\.css$/.test(f))\n \n-          const files = await readdir(cssFolder)\n-          const cssMapFiles = files.filter((f) => /\\.css\\.map$/.test(f))\n+            expect(cssFiles.length).toBe(1)\n+            const cssContent = await readFile(\n+              join(cssFolder, cssFiles[0]),\n+              'utf8'\n+            )\n+            expect(\n+              cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n+            ).toMatchInlineSnapshot(\n+              `\".video{max-width:400px;max-height:300px}\"`\n+            )\n \n-          expect(cssMapFiles.length).toBe(1)\n-        })\n-      })\n+            // Contains a source map\n+            expect(cssContent).toMatch(\n+              /\\/\\*#\\s*sourceMappingURL=(.+\\.map)\\s*\\*\\//\n+            )\n+          })\n \n-      describe('Bad CSS Customization Array (1)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-1')\n+          it(`should've emitted a source map`, async () => {\n+            const cssFolder = join(appDir, '.next/static/css')\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            const files = await readdir(cssFolder)\n+            const cssMapFiles = files.filter((f) => /\\.css\\.map$/.test(f))\n+\n+            expect(cssMapFiles.length).toBe(1)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (1)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-1')\n \n-          expect(stderr).toMatch(\n-            /A PostCSS Plugin was passed as an array but did not provide its configuration \\('postcss-trolling'\\)/\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (2)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-2')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /A PostCSS Plugin was passed as an array but did not provide its configuration \\('postcss-trolling'\\)/\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (2)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-2')\n \n-          expect(stderr).toMatch(\n-            /Error: Your PostCSS configuration for 'postcss-trolling' cannot have null configuration./\n-          )\n-          expect(stderr).toMatch(\n-            /To disable 'postcss-trolling', pass false, otherwise, pass true or a configuration object./\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (3)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-3')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /Error: Your PostCSS configuration for 'postcss-trolling' cannot have null configuration./\n+            )\n+            expect(stderr).toMatch(\n+              /To disable 'postcss-trolling', pass false, otherwise, pass true or a configuration object./\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (3)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-3')\n \n-          expect(stderr).toMatch(\n-            /A PostCSS Plugin must be provided as a string. Instead, we got: '5'/\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (4)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-4')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /A PostCSS Plugin must be provided as a string. Instead, we got: '5'/\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (4)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-4')\n \n-          expect(stderr).toMatch(/An unknown PostCSS plugin was provided \\(5\\)/)\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (5)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-5')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /An unknown PostCSS plugin was provided \\(5\\)/\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (5)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-5')\n \n-          expect(stderr).toMatch(\n-            /Your custom PostCSS configuration must export a `plugins` key./\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (6)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-6')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /Your custom PostCSS configuration must export a `plugins` key./\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (6)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-6')\n \n-          expect(stderr).toMatch(\n-            /Your custom PostCSS configuration must export a `plugins` key./\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (7)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-7')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /Your custom PostCSS configuration must export a `plugins` key./\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (7)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-7')\n \n-          expect(stderr).toMatch(\n-            /A PostCSS Plugin was passed as an array but did not provide its configuration \\('postcss-trolling'\\)/\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Array (8)', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-arr-8')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /A PostCSS Plugin was passed as an array but did not provide its configuration \\('postcss-trolling'\\)/\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Array (8)', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-arr-8')\n \n-          expect(stderr).toMatch(\n-            /A PostCSS Plugin was passed as a function using require\\(\\), but it must be provided as a string/\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n-        })\n-      })\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n \n-      describe('Bad CSS Customization Function', () => {\n-        const appDir = join(fixturesDir, 'bad-custom-configuration-func')\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n \n-        beforeAll(async () => {\n-          await remove(join(appDir, '.next'))\n+            expect(stderr).toMatch(\n+              /A PostCSS Plugin was passed as a function using require\\(\\), but it must be provided as a string/\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n \n-        it('should fail the build', async () => {\n-          const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+        describe('Bad CSS Customization Function', () => {\n+          const appDir = join(fixturesDir, 'bad-custom-configuration-func')\n \n-          expect(stderr).toMatch(\n-            /Your custom PostCSS configuration may not export a function/\n-          )\n-          expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          beforeAll(async () => {\n+            await remove(join(appDir, '.next'))\n+          })\n+\n+          it('should fail the build', async () => {\n+            const { stderr } = await nextBuild(appDir, [], { stderr: true })\n+\n+            expect(stderr).toMatch(\n+              /Your custom PostCSS configuration may not export a function/\n+            )\n+            expect(stderr).toMatch(BUILD_FAILURE_RE)\n+          })\n         })\n-      })\n-    }\n-  )\n-})\n+      }\n+    )\n+  }\n+)"
        },
        {
            "sha": "283efb735da5bea060993af9e8e7b23b3890283c",
            "filename": "test/integration/css-features/test/css-modules.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-features%2Ftest%2Fcss-modules.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-features%2Ftest%2Fcss-modules.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss-features%2Ftest%2Fcss-modules.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -15,7 +15,7 @@ import { join } from 'path'\n const fixturesDir = join(__dirname, '../fixtures')\n \n // Turbopack uses LightningCSS which supports scoping `:root` to the CSS module.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Custom Properties: Fail for :root {} in CSS Modules',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n@@ -100,7 +100,7 @@ describe('CSS Modules: Import Global CSS', () => {\n           .replace(/\\/\\*.*?\\*\\//g, '')\n           .trim()\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(`\"a .foo{all:initial}\"`)\n@@ -138,7 +138,7 @@ describe('CSS Modules: Importing Invalid Global CSS', () => {\n })\n \n // Turbopack uses LightningCSS which doesn't support `@value`.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'CSS Modules: Import Exports',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "c28f2f9f8f7325aa29ec3fbcbcfed1667cadd538",
            "filename": "test/integration/css-features/test/index.test.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-features%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-features%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss-features%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -51,7 +51,7 @@ describe('Custom Properties: Pass-Through IE11', () => {\n           .replace(/\\/\\*.*?\\*\\//g, '')\n           .trim()\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(`\":root{--color:red}h1{color:var(--color)}\"`)\n@@ -101,7 +101,7 @@ describe('Custom Properties: Pass-Through Modern', () => {\n           .replace(/\\/\\*.*?\\*\\//g, '')\n           .trim()\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(`\":root{--color:red}h1{color:var(--color)}\"`)\n@@ -116,7 +116,7 @@ describe('Custom Properties: Pass-Through Modern', () => {\n })\n \n // This is checking invalid CSS that Lightning CSS in Turbopack interprets differently. Since it's invalid syntax it's documented as unsupported.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Inline Comments: Minify',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n@@ -154,7 +154,7 @@ describe('Custom Properties: Pass-Through Modern', () => {\n             .replace(/\\/\\*.*?\\*\\//g, '')\n             .trim()\n \n-          if (process.env.TURBOPACK) {\n+          if (process.env.IS_TURBOPACK_TEST) {\n             expect(\n               cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n             ).toMatchInlineSnapshot(`\"\"`)"
        },
        {
            "sha": "2cd11d1fde25f58398855f3a82ad41791306aa44",
            "filename": "test/integration/css-minify/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-minify%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-minify%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss-minify%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -20,7 +20,7 @@ function runTests() {\n     const $ = cheerio.load(html)\n     const href = $('link').attr('href')\n     const css = await renderViaHTTP(appPort, href)\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(css).toMatchInlineSnapshot(`\n        \"/* [project]/test/integration/css-minify/styles/global.css [client] (css) */\n        .a{--var-1:-50%;--var-2:-50%}.b{--var-1:0;--var-2:-50%}"
        },
        {
            "sha": "8f5bb28e99f07288814bfa44f5afb88d5fcab3a9",
            "filename": "test/integration/css-modules/test/index.test.js",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-modules%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss-modules%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss-modules%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -58,7 +58,7 @@ describe('Basic CSS Module Support', () => {\n           res.text()\n         )\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(`\".index-module__VJHdSq__redText{color:red}\"`)\n@@ -81,7 +81,7 @@ describe('Basic CSS Module Support', () => {\n         expect(cssSheet.length).toBe(1)\n         expect(cssSheet.attr('href')).toMatch(/^\\/_next\\/static\\/.*\\.css$/)\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect($('#verify-red').attr('class')).toMatchInlineSnapshot(\n             `\"index-module__VJHdSq__redText\"`\n           )\n@@ -133,7 +133,7 @@ describe('3rd Party CSS Module Support', () => {\n         const cssContent = await fetchViaHTTP(appPort, stylesheet).then((res) =>\n           res.text()\n         )\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(\n@@ -160,7 +160,7 @@ describe('3rd Party CSS Module Support', () => {\n         expect(cssSheet.length).toBe(1)\n         expect(cssSheet.attr('href')).toMatch(/^\\/_next\\/static\\/.*\\.css$/)\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect($('#verify-div').attr('class')).toMatchInlineSnapshot(\n             `\"index-module__jAE1EW__foo\"`\n           )\n@@ -375,7 +375,7 @@ describe('Valid CSS Module Usage from within node_modules', () => {\n         const $ = cheerio.load(content)\n \n         const cssPreload = $('#nm-div')\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(cssPreload.text()).toMatchInlineSnapshot(\n             `\"{\"message\":\"Why hello there\",\"default\":{\"message\":\"Why hello there\"}} {\"redText\":\"index-module__kwuKnq__redText\",\"default\":{\"redText\":\"index-module__kwuKnq__redText\"}}\"`\n           )\n@@ -398,7 +398,7 @@ describe('Valid CSS Module Usage from within node_modules', () => {\n           res.text()\n         )\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(`\".index-module__kwuKnq__redText{color:red}\"`)\n@@ -460,7 +460,7 @@ describe('Valid Nested CSS Module Usage from within node_modules', () => {\n           res.text()\n         )\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(\n@@ -518,7 +518,7 @@ describe('CSS Module Composes Usage (Basic)', () => {\n           res.text()\n         )\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(\n@@ -574,7 +574,7 @@ describe('CSS Module Composes Usage (External)', () => {\n           res.text()\n         )\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(\n@@ -639,7 +639,7 @@ describe('Dynamic Route CSS Module Usage', () => {\n         const cssContent = await fetchViaHTTP(appPort, stylesheet).then((res) =>\n           res.text()\n         )\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim()\n           ).toMatchInlineSnapshot(\n@@ -705,7 +705,7 @@ describe('Catch-all Route CSS Module Usage', () => {\n           res.text()\n         )\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim())\n             .toMatchInlineSnapshot(`\n             \".index-module___rV4CG__home{background:red}"
        },
        {
            "sha": "45ac429017cfec78072dab931e40f07d40879adf",
            "filename": "test/integration/css/test/basic-global-support.test.js",
            "status": "modified",
            "additions": 16,
            "deletions": 16,
            "changes": 32,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fbasic-global-support.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fbasic-global-support.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss%2Ftest%2Fbasic-global-support.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -59,14 +59,14 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n              .red-text{color:red}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -143,14 +143,14 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n              .red-text{color:red}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -222,14 +222,14 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n              .red-text{color:red}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -302,7 +302,7 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -312,7 +312,7 @@ module.exports = {\n              .blue-text{color:#00f}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -388,7 +388,7 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -404,7 +404,7 @@ module.exports = {\n              .blue-text{color:#00f}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -487,7 +487,7 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -497,7 +497,7 @@ module.exports = {\n              .red-text{color:red}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -573,7 +573,7 @@ module.exports = {\n           const cssSheet = $('link[rel=\"stylesheet\"]')\n           const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-          if (process.env.TURBOPACK && useLightningcss) {\n+          if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -586,7 +586,7 @@ module.exports = {\n              .blue-text{color:#00f}\",\n              ]\n             `)\n-          } else if (process.env.TURBOPACK && !useLightningcss) {\n+          } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n             expect(cssContent).toMatchInlineSnapshot(`\n              [\n                \"/_next/static/chunks/HASH.css:\n@@ -650,7 +650,7 @@ describe('CSS URL via `file-loader` and asset prefix (1)', () => {\n         const cssSheet = $('link[rel=\"stylesheet\"]')\n         const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(cssContent).toMatchInlineSnapshot(`\n            [\n              \"/_next/static/chunks/HASH.css:\n@@ -706,7 +706,7 @@ describe('CSS URL via `file-loader` and asset prefix (2)', () => {\n         const cssSheet = $('link[rel=\"stylesheet\"]')\n         const cssContent = await getStylesheetContents($, appPort, cssSheet)\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(cssContent).toMatchInlineSnapshot(`\n            [\n              \"/_next/static/chunks/HASH.css:"
        },
        {
            "sha": "ae37863e678e1cfb359e848de5cb9c2788e942e1",
            "filename": "test/integration/css/test/css-compilation.test.js",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fcss-compilation.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fcss-compilation.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss%2Ftest%2Fcss-compilation.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -77,11 +77,11 @@ module.exports = {\n                 .replace(/\\/\\*.*?\\*\\//g, '')\n                 .trim()\n \n-              if (process.env.TURBOPACK && useLightningcss) {\n+              if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n                 expect(cssContentWithoutSourceMap).toMatchInlineSnapshot(\n                   `\"@media (480px<=width<768px){::placeholder{color:green}}.flex-parsing{flex:0 0 calc(50% - var(--vertical-gutter))}.transform-parsing{transform:translate3d(0px,0px)}.css-grid-shorthand{grid-column:span 2}.g-docs-sidenav .filter::-webkit-input-placeholder{opacity:.8}\"`\n                 )\n-              } else if (process.env.TURBOPACK && !useLightningcss) {\n+              } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n                 expect(cssContentWithoutSourceMap).toMatchInlineSnapshot(\n                   `\"@media (480px<=width<768px){::placeholder{color:green}}.flex-parsing{flex:0 0 calc(50% - var(--vertical-gutter))}.transform-parsing{transform:translate3d(0px,0px)}.css-grid-shorthand{grid-column:span 2}.g-docs-sidenav .filter::-webkit-input-placeholder{opacity:.8}\"`\n                 )\n@@ -116,7 +116,7 @@ module.exports = {\n               delete sourceMapContentParsed.file\n               delete sourceMapContentParsed.sources\n \n-              if (process.env.TURBOPACK && useLightningcss) {\n+              if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n                 expect(sourceMapContentParsed).toMatchInlineSnapshot(`\n                   {\n                     \"sections\": [\n@@ -162,7 +162,7 @@ module.exports = {\n                     \"version\": 3,\n                   }\n                 `)\n-              } else if (process.env.TURBOPACK && !useLightningcss) {\n+              } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n                 expect(sourceMapContentParsed).toMatchInlineSnapshot(`\n                   {\n                     \"sections\": [\n@@ -522,15 +522,15 @@ module.exports = {\n                 .replace(/\\/\\*.*?\\*\\//g, '')\n                 .trim()\n \n-              if (process.env.TURBOPACK && useLightningcss) {\n+              if (process.env.IS_TURBOPACK_TEST && useLightningcss) {\n                 expect(cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim())\n                   .toMatchInlineSnapshot(`\n                  \".other{color:#00f}\n \n \n                  .test{color:red}\"\n                 `)\n-              } else if (process.env.TURBOPACK && !useLightningcss) {\n+              } else if (process.env.IS_TURBOPACK_TEST && !useLightningcss) {\n                 expect(cssContent.replace(/\\/\\*.*?\\*\\//g, '').trim())\n                   .toMatchInlineSnapshot(`\n                  \".other{color:#00f}"
        },
        {
            "sha": "66ce50ceb8440e05f6648f381699dab842699cde",
            "filename": "test/integration/css/test/css-modules.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fcss-modules.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fcss-modules.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss%2Ftest%2Fcss-modules.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -93,7 +93,7 @@ useLightningcss: ${useLightningcss}\n       })\n     }\n \n-    ;(process.env.TURBOPACK ? describe.skip : describe)(\n+    ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n       'Development Mode',\n       () => {\n         // TODO(PACK-2308): Fix the ordering issue of CSS Modules in turbopack\n@@ -111,7 +111,7 @@ useLightningcss: ${useLightningcss}\n         tests()\n       }\n     )\n-    ;(process.env.TURBOPACK ? describe.skip : describe)(\n+    ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n       'production mode',\n       () => {\n         beforeAll(async () => {\n@@ -354,7 +354,7 @@ module.exports = {\n \n // https://github.com/vercel/next.js/issues/12445\n // This feature is not supported in Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'CSS Modules Composes Ordering',\n   () => {\n     const appDir = join(fixturesDir, 'composes-ordering')"
        },
        {
            "sha": "b9b61aa033f22c7afc409f52ea6ba2f7354e9add",
            "filename": "test/integration/css/test/css-rendering.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fcss-rendering.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fcss-rendering.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss%2Ftest%2Fcss-rendering.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -116,7 +116,7 @@ module.exports = {\n         const browser = await webdriver(appPort, '/')\n         try {\n           // There's a better test for CSS order in test/e2e/app-dir/css-order, this test in particular should check the UI, not the implementation detail of the ordering.\n-          if (process.env.TURBOPACK) {\n+          if (process.env.IS_TURBOPACK_TEST) {\n             await checkGreenTitle(browser)\n \n             // Navigate to other:\n@@ -229,7 +229,7 @@ module.exports = {\n   })\n \n   // Turbopack keeps styles which mirrors development with webpack. This test only checks a behavior for webpack.\n-  ;(process.env.TURBOPACK ? describe.skip : describe)(\n+  ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n     'CSS Cleanup on Render Failure',\n     () => {\n       const appDir = join(fixturesDir, 'transition-cleanup')\n@@ -363,7 +363,7 @@ module.exports = {\n       }\n \n       // This test case will fail in Turbopack when both pages share some css chunks. Deleting them will cause the / page to fail too.\n-      ;(process.env.TURBOPACK ? describe.skip : describe)(\n+      ;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n         'production mode',\n         () => {\n           beforeAll(async () => {"
        },
        {
            "sha": "84b2ddf792038025b7ae2e7508ccf5805a7a3220",
            "filename": "test/integration/css/test/valid-invalid-css.test.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fvalid-invalid-css.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fcss%2Ftest%2Fvalid-invalid-css.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss%2Ftest%2Fvalid-invalid-css.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ import { join } from 'path'\n const fixturesDir = join(__dirname, '../..', 'css-fixtures')\n \n // TODO: Implement warning for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Invalid CSS in _document',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n@@ -42,7 +42,7 @@ const fixturesDir = join(__dirname, '../..', 'css-fixtures')\n     )\n   }\n )\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Invalid Global CSS',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n@@ -108,7 +108,7 @@ describe('Valid Global CSS from npm', () => {\n           .replace(/\\/\\*.*?\\*\\//g, '')\n           .trim()\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(cssContent).toMatchInlineSnapshot(`\".red-text{color:\"red\"}\"`)\n         } else {\n           expect(cssContent).toMatchInlineSnapshot(`\".red-text{color:\"red\"}\"`)\n@@ -119,7 +119,7 @@ describe('Valid Global CSS from npm', () => {\n })\n \n // TODO: Implement warning for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Invalid Global CSS with Custom App',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n@@ -150,7 +150,7 @@ describe('Valid Global CSS from npm', () => {\n )\n \n // TODO: Implement warning for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Valid and Invalid Global CSS with Custom App',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "c7d6b9aa260cf4efb177fc9f2260c999328069b1",
            "filename": "test/integration/dynamic-routing/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fdynamic-routing%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fdynamic-routing%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fdynamic-routing%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1550,7 +1550,7 @@ function runTests({ dev }) {\n         '/d/[id]': 'pages/d/[id].html',\n         '/dash/[hello-world]': 'pages/dash/[hello-world].html',\n         '/': 'pages/index.html',\n-        '/index/[...slug]': process.env.TURBOPACK\n+        '/index/[...slug]': process.env.IS_TURBOPACK_TEST\n           ? 'pages/index/index/[...slug].html'\n           : 'pages/index/[...slug].html',\n         '/on-mount/[post]': 'pages/on-mount/[post].html',"
        },
        {
            "sha": "939ac9fe150b3da2cf4ff1d947e93a6f02ec52d9",
            "filename": "test/integration/edge-runtime-configurable-guards/test/index.test.js",
            "status": "modified",
            "additions": 18,
            "deletions": 12,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-configurable-guards%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-configurable-guards%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fedge-runtime-configurable-guards%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -115,17 +115,19 @@ describe('Edge runtime configurable guards', () => {\n           const output = await nextBuild(context.appDir, undefined, {\n             stdout: true,\n             stderr: true,\n-            env: process.env.TURBOPACK ? {} : { NEXT_TELEMETRY_DEBUG: 1 },\n+            env: process.env.IS_TURBOPACK_TEST\n+              ? {}\n+              : { NEXT_TELEMETRY_DEBUG: 1 },\n           })\n \n           expect(output.code).toBe(1)\n-          if (!process.env.TURBOPACK) {\n+          if (!process.env.IS_TURBOPACK_TEST) {\n             expect(output.stderr).toContain(`./pages/api/route.js`)\n           }\n           expect(output.stderr).toContain(\n             `Dynamic Code Evaluation (e. g. 'eval', 'new Function', 'WebAssembly.compile') not allowed in Edge Runtime`\n           )\n-          if (!process.env.TURBOPACK) {\n+          if (!process.env.IS_TURBOPACK_TEST) {\n             expect(output.stderr).toContain(`Used by default`)\n             expect(output.stderr).toContain(TELEMETRY_EVENT_NAME)\n           }\n@@ -215,7 +217,7 @@ describe('Edge runtime configurable guards', () => {\n       },\n       // TODO: Re-enable when Turbopack applies the middleware dynamic code\n       // evaluation transforms also to code in node_modules.\n-      skip: Boolean(process.env.TURBOPACK),\n+      skip: Boolean(process.env.IS_TURBOPACK_TEST),\n     },\n   ])('$title with allowed, used dynamic code', ({ init, url, skip }) => {\n     beforeEach(() => init())\n@@ -325,17 +327,19 @@ describe('Edge runtime configurable guards', () => {\n       'production mode',\n       () => {\n         // This checks the unstable_allowDynamic configuration which is not supported in Turbopack.\n-        ;(process.env.TURBOPACK ? it.skip : it)(\n+        ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n           'build and does not warn at runtime',\n           async () => {\n             const output = await nextBuild(context.appDir, undefined, {\n               stdout: true,\n               stderr: true,\n-              env: process.env.TURBOPACK ? {} : { NEXT_TELEMETRY_DEBUG: 1 },\n+              env: process.env.IS_TURBOPACK_TEST\n+                ? {}\n+                : { NEXT_TELEMETRY_DEBUG: 1 },\n             })\n             // eslint-disable-next-line jest/no-standalone-expect\n             expect(output.stderr).not.toContain(`Build failed`)\n-            if (!process.env.TURBOPACK) {\n+            if (!process.env.IS_TURBOPACK_TEST) {\n               // eslint-disable-next-line jest/no-standalone-expect\n               expect(output.stderr).toContain(TELEMETRY_EVENT_NAME)\n             }\n@@ -384,7 +388,7 @@ describe('Edge runtime configurable guards', () => {\n       },\n       // TODO: Re-enable when Turbopack applies the edge runtime transforms also\n       // to code in node_modules.\n-      skip: Boolean(process.env.TURBOPACK),\n+      skip: Boolean(process.env.IS_TURBOPACK_TEST),\n     },\n     {\n       title: 'Middleware using lib',\n@@ -409,7 +413,7 @@ describe('Edge runtime configurable guards', () => {\n       },\n       // TODO: Re-enable when Turbopack applies the middleware dynamic code\n       // evaluation transforms also to code in node_modules.\n-      skip: Boolean(process.env.TURBOPACK),\n+      skip: Boolean(process.env.IS_TURBOPACK_TEST),\n     },\n   ])('$title with unallowed, used dynamic code', ({ init, url, skip }) => {\n     beforeEach(() => init())\n@@ -431,12 +435,14 @@ describe('Edge runtime configurable guards', () => {\n           const output = await nextBuild(context.appDir, undefined, {\n             stdout: true,\n             stderr: true,\n-            env: process.env.TURBOPACK ? {} : { NEXT_TELEMETRY_DEBUG: 1 },\n+            env: process.env.IS_TURBOPACK_TEST\n+              ? {}\n+              : { NEXT_TELEMETRY_DEBUG: 1 },\n           })\n           expect(output.stderr).toContain(\n             `Dynamic Code Evaluation (e. g. 'eval', 'new Function', 'WebAssembly.compile') not allowed in Edge Runtime`\n           )\n-          if (!process.env.TURBOPACK) {\n+          if (!process.env.IS_TURBOPACK_TEST) {\n             expect(output.stderr).toContain(TELEMETRY_EVENT_NAME)\n           }\n         })\n@@ -488,7 +494,7 @@ describe('Edge runtime configurable guards', () => {\n       () => {\n         // This checks the unstable_allowDynamic configuration which is not supported in Turbopack.\n         // eslint-disable-next-line jest/no-identical-title\n-        ;(process.env.TURBOPACK ? it.skip : it)(\n+        ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n           'build and does not warn at runtime',\n           async () => {\n             const output = await nextBuild(context.appDir, undefined, {"
        },
        {
            "sha": "32cad529762ac63f5e9a70ee0d3bb37a654087ca",
            "filename": "test/integration/edge-runtime-dynamic-code/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-dynamic-code%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-dynamic-code%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fedge-runtime-dynamic-code%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -22,7 +22,7 @@ const context = {\n   appDir: join(__dirname, '../'),\n }\n \n-const isTurbopack = process.env.TURBOPACK\n+const isTurbopack = process.env.IS_TURBOPACK_TEST\n \n describe('Page using eval in development mode', () => {\n   let output = ''\n@@ -297,7 +297,7 @@ describe.each([\n         })\n \n         it('should have middleware warning during build', () => {\n-          if (process.env.TURBOPACK) {\n+          if (process.env.IS_TURBOPACK_TEST) {\n             expect(buildResult.stderr).toContain(`Ecmascript file had an error`)\n           } else {\n             expect(buildResult.stderr).toContain(`Failed to compile`)"
        },
        {
            "sha": "02b88f5d40941d4b472d97ddfd9f227c2ca0a56f",
            "filename": "test/integration/edge-runtime-module-errors/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-module-errors%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-module-errors%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fedge-runtime-module-errors%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -113,7 +113,7 @@ describe('Edge runtime code with imports', () => {\n           expect(stderr).toContain(getUnsupportedModuleWarning(moduleName))\n \n           // TODO: should this be failing build or not in turbopack\n-          if (!process.env.TURBOPACK) {\n+          if (!process.env.IS_TURBOPACK_TEST) {\n             context.app = await nextStart(\n               context.appDir,\n               context.appPort,"
        },
        {
            "sha": "23b9b32acf8db21f9bfd59a4c8d6c3337fa0653c",
            "filename": "test/integration/edge-runtime-streaming-error/test/index.test.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 11,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-streaming-error%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-streaming-error%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fedge-runtime-streaming-error%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -51,21 +51,24 @@ function createContext() {\n }\n \n // TODO(veil): Missing `cause` in Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)('development mode', () => {\n-  const context = createContext()\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'development mode',\n+  () => {\n+    const context = createContext()\n \n-  beforeAll(async () => {\n-    context.appPort = await findPort()\n-    context.app = await launchApp(appDir, context.appPort, {\n-      ...context.handler,\n-      env: { __NEXT_TEST_WITH_DEVTOOL: '1' },\n+    beforeAll(async () => {\n+      context.appPort = await findPort()\n+      context.app = await launchApp(appDir, context.appPort, {\n+        ...context.handler,\n+        env: { __NEXT_TEST_WITH_DEVTOOL: '1' },\n+      })\n     })\n-  })\n \n-  afterAll(() => killApp(context.app))\n+    afterAll(() => killApp(context.app))\n \n-  it('logs the error correctly', test(context))\n-})\n+    it('logs the error correctly', test(context))\n+  }\n+)\n ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n   'production mode',\n   () => {"
        },
        {
            "sha": "000a138e74d7b21459c05c74d77acd02d6f14ab9",
            "filename": "test/integration/edge-runtime-with-node.js-apis/test/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-with-node.js-apis%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fedge-runtime-with-node.js-apis%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fedge-runtime-with-node.js-apis%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -44,7 +44,7 @@ const unsupportedClasses = [\n   'WritableStreamDefaultController',\n ]\n \n-const isTurbopack = process.env.TURBOPACK\n+const isTurbopack = process.env.IS_TURBOPACK_TEST\n \n describe.each([\n   {"
        },
        {
            "sha": "2754abb1216d29a3aa1a84159117b14583b26dcc",
            "filename": "test/integration/error-plugin-stack-overflow/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ferror-plugin-stack-overflow%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ferror-plugin-stack-overflow%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ferror-plugin-stack-overflow%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -6,7 +6,7 @@ import { nextBuild } from 'next-test-utils'\n const appDir = join(__dirname, '..')\n \n // This test is skipped because it's not relevant to Turbopack.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Reports stack trace when webpack plugin stack overflows',\n   () => {\n     it('shows details in next build', async () => {"
        },
        {
            "sha": "b492e1a9e9b7da15b586fe338c8f40cae1015699",
            "filename": "test/integration/externals-esm-loose/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fexternals-esm-loose%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fexternals-esm-loose%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fexternals-esm-loose%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -13,7 +13,7 @@ import {\n const appDir = join(__dirname, '../')\n let appPort\n let app\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   \"Handle ESM externals with esmExternals: 'loose'\",\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "511e3c706fecd37ac5c9f6f4b136ae0d2b3de29a",
            "filename": "test/integration/externals-pages-bundle/test/externals.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fexternals-pages-bundle%2Ftest%2Fexternals.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fexternals-pages-bundle%2Ftest%2Fexternals.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fexternals-pages-bundle%2Ftest%2Fexternals.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -20,7 +20,7 @@ describe('default', () => {\n     try {\n       const app = await launchApp(appDir, port)\n       await renderViaHTTP(port, '/')\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         const ssrPath = join(appDir, '.next/server/chunks/ssr')\n         const pageBundleBasenames = (await fs.readdir(ssrPath)).filter((p) =>\n           p.match(/\\.js$/)"
        },
        {
            "sha": "4869a3c0500c509b51a28adb54b7be19591741ba",
            "filename": "test/integration/externals-pages-bundle/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fexternals-pages-bundle%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fexternals-pages-bundle%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fexternals-pages-bundle%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -15,7 +15,7 @@ describe('bundle pages externals with config.bundlePagesRouterDependencies', ()\n       })\n \n       it('should have no externals with the config set', async () => {\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           const ssrPath = join(appDir, '.next/server/chunks/ssr')\n           const pageBundleBasenames = (await fs.readdir(ssrPath)).filter((p) =>\n             p.match(/\\.js$/)\n@@ -39,7 +39,7 @@ describe('bundle pages externals with config.bundlePagesRouterDependencies', ()\n       })\n \n       it('should respect the serverExternalPackages config', async () => {\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           const ssrPath = join(appDir, '.next/server/chunks/ssr')\n           const pageBundleBasenames = (await fs.readdir(ssrPath)).filter((p) =>\n             p.match(/\\.js$/)"
        },
        {
            "sha": "c3d4d5d7e5c0919269802e5ae14cb5db943517e6",
            "filename": "test/integration/gsp-build-errors/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fgsp-build-errors%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fgsp-build-errors%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fgsp-build-errors%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -17,7 +17,7 @@ describe('GSP build errors', () => {\n     'production mode',\n     () => {\n       afterEach(() => fs.remove(pagesDir))\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should fail build from module not found',\n         async () => {\n           await writePage(`"
        },
        {
            "sha": "f0380fa136d11441ee6edbf2b76df45828745bda",
            "filename": "test/integration/mixed-ssg-serverprops-error/test/index.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fmixed-ssg-serverprops-error%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fmixed-ssg-serverprops-error%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fmixed-ssg-serverprops-error%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ describe('Mixed getStaticProps and getServerSideProps error', () => {\n     'production mode',\n     () => {\n       // Uses Babel, not supported in Turbopack.\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should error with getStaticProps but no default export',\n         async () => {\n           // TODO: remove after investigating why dev swc build fails here\n@@ -45,7 +45,7 @@ describe('Mixed getStaticProps and getServerSideProps error', () => {\n       )\n \n       // Uses Babel, not supported in Turbopack.\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should error when exporting both getStaticProps and getServerSideProps',\n         async () => {\n           // TODO: remove after investigating why dev swc build fails here\n@@ -61,7 +61,7 @@ describe('Mixed getStaticProps and getServerSideProps error', () => {\n       )\n \n       // Uses Babel, not supported in Turbopack.\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should error when exporting both getStaticPaths and getServerSideProps',\n         async () => {\n           // TODO: remove after investigating why dev swc build fails here"
        },
        {
            "sha": "ba2754b891f98cb29135986d86a5e7043fe415c1",
            "filename": "test/integration/module-id-strategies/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fmodule-id-strategies%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fmodule-id-strategies%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fmodule-id-strategies%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -16,7 +16,7 @@ let appPort\n let app\n \n describe('minified module ids', () => {\n-  ;(!process.env.TURBOPACK || process.env.TURBOPACK_DEV\n+  ;(!process.env.IS_TURBOPACK_TEST || process.env.TURBOPACK_DEV\n     ? describe.skip\n     : describe)('production mode', () => {\n     let ssrBundles = ''\n@@ -65,7 +65,7 @@ describe('minified module ids', () => {\n       expect(staticBundles).not.toContain('next/dist/client/next-turbopack')\n     })\n   })\n-  ;(!process.env.TURBOPACK || process.env.TURBOPACK_BUILD\n+  ;(!process.env.IS_TURBOPACK_TEST || process.env.TURBOPACK_BUILD\n     ? describe.skip\n     : describe)('development mode', () => {\n     let ssrBundles = ''"
        },
        {
            "sha": "42b0541248d2e98e1c6011add3c8f270b144eb4f",
            "filename": "test/integration/next-dynamic-lazy-compilation/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-dynamic-lazy-compilation%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-dynamic-lazy-compilation%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-dynamic-lazy-compilation%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -47,7 +47,7 @@ function runTests() {\n }\n \n // This test is not needed for Turbopack as it relies on an experimental webpack feature.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'next/dynamic lazy compilation',\n   () => {\n     ;(process.env.TURBOPACK_BUILD ? describe.skip : describe)("
        },
        {
            "sha": "1aaa224f52d01aeaa2d3ef63468de6beaef24cd3",
            "filename": "test/integration/next-image-legacy/asset-prefix/test/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fasset-prefix%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fasset-prefix%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-legacy%2Fasset-prefix%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -33,7 +33,7 @@ describe('Image Component assetPrefix Tests', () => {\n           const bgImage = await browser.eval(\n             `document.getElementById('${id}').style['background-image']`\n           )\n-          if (process.env.TURBOPACK) {\n+          if (process.env.IS_TURBOPACK_TEST) {\n             expect(bgImage).toContain('data:image/jpeg;')\n           } else {\n             expect(bgImage).toMatch("
        },
        {
            "sha": "dd1f3cae4a2fae48a36ee653b9b3fb4affbccddc",
            "filename": "test/integration/next-image-legacy/base-path/test/static.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fbase-path%2Ftest%2Fstatic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fbase-path%2Ftest%2Fstatic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-legacy%2Fbase-path%2Ftest%2Fstatic.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -69,7 +69,7 @@ const runTests = (isDev = false) => {\n     expect(html).not.toContain('width:400px;height:400px')\n   })\n   it('Should add a blur placeholder to statically imported jpg', async () => {\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(html).toContain(\n         `style=\"position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/jpeg;base64`\n       )\n@@ -84,7 +84,7 @@ const runTests = (isDev = false) => {\n     }\n   })\n   it('Should add a blur placeholder to statically imported png', async () => {\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(html).toContain(\n         `style=\"position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/png;base64`\n       )"
        },
        {
            "sha": "2a493e3b4756303bbcebaf5015eff2488c11796d",
            "filename": "test/integration/next-image-legacy/default/test/static.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fdefault%2Ftest%2Fstatic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fdefault%2Ftest%2Fstatic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-legacy%2Fdefault%2Ftest%2Fstatic.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -67,7 +67,7 @@ const runTests = () => {\n   })\n   it('Should add a blur placeholder to statically imported jpg', async () => {\n     const $ = cheerio.load(html)\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect($('#basic-static').attr('style')).toMatchInlineSnapshot(\n         `\"position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAGAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDyj7Rp39h/Zvscn9oefv8AtPmfLsxjZtx+Oc0Af//Z\")\"`\n       )\n@@ -79,7 +79,7 @@ const runTests = () => {\n   })\n   it('Should add a blur placeholder to statically imported png', async () => {\n     const $ = cheerio.load(html)\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect($('#basic-static')[2].attribs.style).toMatchInlineSnapshot(\n         `\"position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAARUlEQVR42l3MoQ0AQQhE0XG7xWwIJSBIKBRJOZRBEXOWnPjimQ8AXC3ce+nuPOcQEcHuppkRVcWZYWYSIkJV5XvvN9j4AFZHJTnjDHb/AAAAAElFTkSuQmCC\")\"`\n       )\n@@ -130,7 +130,7 @@ describe('Build Error Tests', () => {\n           \"Module not found: Can't resolve '../public/foo/test-rect-broken.jpg\"\n         )\n         // should contain the importing module\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           // For this test with Turbopack the root of the project is the root of the Next.js repository because it's not isolated.\n           expect(stderr).toContain('pages/static-img.js')\n         } else {"
        },
        {
            "sha": "f060966cb1b7e151d02575d06befafab4098b000",
            "filename": "test/integration/next-image-legacy/svgo-webpack/test/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fsvgo-webpack%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-legacy%2Fsvgo-webpack%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-legacy%2Fsvgo-webpack%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -15,7 +15,7 @@ let app\n let devOutput\n \n   // Skip as this is a webpack specific test.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'svgo-webpack with Image Component',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "2e4f060b9abb749540408d0b1202a63d205d8402",
            "filename": "test/integration/next-image-new/app-dir/test/static.test.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fapp-dir%2Ftest%2Fstatic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fapp-dir%2Ftest%2Fstatic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fapp-dir%2Ftest%2Fstatic.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -124,7 +124,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported jpg', async () => {\n     const style = $('#basic-static').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -134,7 +134,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -149,7 +149,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported png', async () => {\n     const style = $('#blur-png').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -159,7 +159,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -174,7 +174,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported png with fill', async () => {\n     const style = $('#blur-png-fill').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -184,7 +184,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -238,7 +238,7 @@ describe('Build Error Tests', () => {\n           \"Module not found: Can't resolve '../../public/foo/test-rect-broken.jpg\"\n         )\n         // should contain the importing module\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           // For this test with Turbopack the root of the project is the root of the Next.js repository because it's not isolated.\n           expect(stderr).toContain('app/static-img/page.js')\n         } else {"
        },
        {
            "sha": "fb71088d257ca9543b7d47949989069d33ec62cc",
            "filename": "test/integration/next-image-new/asset-prefix/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fasset-prefix%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fasset-prefix%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fasset-prefix%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -40,7 +40,7 @@ describe('Image Component assetPrefix Tests', () => {\n         const bgImage = await browser.eval(\n           `document.getElementById('${id}').style['background-image']`\n         )\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(bgImage).toContain('data:image/svg+xml;')\n         } else {\n           expect(bgImage).toMatch("
        },
        {
            "sha": "03e304bbec6685066c1c75cc6da2d09950cbf815",
            "filename": "test/integration/next-image-new/base-path/test/static.test.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fbase-path%2Ftest%2Fstatic.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fbase-path%2Ftest%2Fstatic.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fbase-path%2Ftest%2Fstatic.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -119,7 +119,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported jpg', async () => {\n     const style = $('#basic-static').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -129,7 +129,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -144,7 +144,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported png', async () => {\n     const style = $('#blur-png').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -154,7 +154,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -184,7 +184,7 @@ describe('Build Error Tests', () => {\n           \"Module not found: Can't resolve '../public/foo/test-rect-broken.jpg\"\n         )\n         // should contain the importing module\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(stderr).toContain('/pages/static-img.js')\n         } else {\n           expect(stderr).toContain('./pages/static-img.js')"
        },
        {
            "sha": "270b786917cb8708615eddbb1d4bca862cdc0bd4",
            "filename": "test/integration/next-image-new/default/test/static.test.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fdefault%2Ftest%2Fstatic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fdefault%2Ftest%2Fstatic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fdefault%2Ftest%2Fstatic.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -124,7 +124,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported jpg', async () => {\n     const style = $('#basic-static').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -134,7 +134,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -149,7 +149,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported png', async () => {\n     const style = $('#blur-png').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -159,7 +159,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -174,7 +174,7 @@ const runTests = (isDev) => {\n   it('should add a blur placeholder a statically imported png with fill', async () => {\n     const style = $('#blur-png-fill').attr('style')\n     if (isDev) {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )\n@@ -184,7 +184,7 @@ const runTests = (isDev) => {\n         )\n       }\n     } else {\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(style).toContain(\n           `position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml`\n         )"
        },
        {
            "sha": "175c9876f46a431ffbb4921cecd4a7f740f80afa",
            "filename": "test/integration/next-image-new/invalid-image-import/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Finvalid-image-import%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Finvalid-image-import%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Finvalid-image-import%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -24,15 +24,15 @@ function runTests({ isDev }) {\n       const browser = await webdriver(appPort, '/')\n       await assertHasRedbox(browser)\n       const description = await getRedboxDescription(browser)\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(description).toMatchInlineSnapshot(`\"Processing image failed\"`)\n       } else {\n         expect(description).toMatchInlineSnapshot(\n           `\"Error: Image import \"../public/invalid.svg\" is not a valid image file. The image may be corrupted or an unsupported format.\"`\n         )\n       }\n       const source = await getRedboxSource(browser)\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(source).toMatchInlineSnapshot(`\n           \"./test/integration/next-image-new/invalid-image-import/public/invalid.svg\n           Processing image failed\n@@ -49,7 +49,7 @@ function runTests({ isDev }) {\n       }\n     } else {\n       const output = stripAnsi(stderr)\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         expect(output).toContain(\n           `./test/integration/next-image-new/invalid-image-import/public/invalid.svg\n Processing image failed"
        },
        {
            "sha": "860ed1e5c795aa738899dd0767c2ac06acded5f1",
            "filename": "test/integration/next-image-new/svgo-webpack/test/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fsvgo-webpack%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fnext-image-new%2Fsvgo-webpack%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fsvgo-webpack%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -15,7 +15,7 @@ let app\n let devOutput\n \n   // Skip as this is a webpack specific test.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'svgo-webpack with Image Component',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "36af4fcffb8254019ef9881c55a0f14cee285a6c",
            "filename": "test/integration/ondemand/test/index.test.js",
            "status": "modified",
            "additions": 61,
            "deletions": 58,
            "changes": 119,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fondemand%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fondemand%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fondemand%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -29,72 +29,75 @@ const startServer = async (optEnv = {}, opts) => {\n }\n \n // Tests are skipped in Turbopack because they are not relevant to Turbopack.\n-;(process.env.TURBOPACK ? describe.skip : describe)('On Demand Entries', () => {\n-  it('should pass', () => {})\n-  beforeAll(async () => {\n-    await startServer()\n-  })\n-  afterAll(async () => {\n-    await killApp(context.server)\n-  })\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'On Demand Entries',\n+  () => {\n+    it('should pass', () => {})\n+    beforeAll(async () => {\n+      await startServer()\n+    })\n+    afterAll(async () => {\n+      await killApp(context.server)\n+    })\n \n-  it('should compile pages for SSR', async () => {\n-    // The buffer of built page uses the on-demand-entries-ping to know which pages should be\n-    // buffered. Therefore, we need to double each render call with a ping.\n-    const pageContent = await renderViaHTTP(context.appPort, '/')\n-    expect(pageContent.includes('Index Page')).toBeTrue()\n-  })\n+    it('should compile pages for SSR', async () => {\n+      // The buffer of built page uses the on-demand-entries-ping to know which pages should be\n+      // buffered. Therefore, we need to double each render call with a ping.\n+      const pageContent = await renderViaHTTP(context.appPort, '/')\n+      expect(pageContent.includes('Index Page')).toBeTrue()\n+    })\n \n-  it('should compile pages for JSON page requests', async () => {\n-    await renderViaHTTP(context.appPort, '/about')\n-    const pageFile = getPageFileFromBuildManifest(appDir, '/about')\n-    const pageContent = await renderViaHTTP(\n-      context.appPort,\n-      join('/_next', pageFile)\n-    )\n-    expect(pageContent.includes('About Page')).toBeTrue()\n-  })\n+    it('should compile pages for JSON page requests', async () => {\n+      await renderViaHTTP(context.appPort, '/about')\n+      const pageFile = getPageFileFromBuildManifest(appDir, '/about')\n+      const pageContent = await renderViaHTTP(\n+        context.appPort,\n+        join('/_next', pageFile)\n+      )\n+      expect(pageContent.includes('About Page')).toBeTrue()\n+    })\n \n-  it('should dispose inactive pages', async () => {\n-    await renderViaHTTP(context.appPort, '/')\n+    it('should dispose inactive pages', async () => {\n+      await renderViaHTTP(context.appPort, '/')\n \n-    // Render two pages after the index, since the server keeps at least two pages\n-    await renderViaHTTP(context.appPort, '/about')\n+      // Render two pages after the index, since the server keeps at least two pages\n+      await renderViaHTTP(context.appPort, '/about')\n \n-    await renderViaHTTP(context.appPort, '/third')\n+      await renderViaHTTP(context.appPort, '/third')\n \n-    // Wait maximum of jest.setTimeout checking\n-    // for disposing /about\n-    for (let i = 0; i < 30; ++i) {\n-      await waitFor(1000 * 1)\n-      try {\n-        const buildManifest = getBuildManifest(appDir)\n-        // Assert that the two lastly demanded page are not disposed\n-        expect(buildManifest.pages['/']).toBeUndefined()\n-        expect(buildManifest.pages['/about']).toBeDefined()\n-        expect(buildManifest.pages['/third']).toBeDefined()\n-        return\n-      } catch (err) {\n-        continue\n+      // Wait maximum of jest.setTimeout checking\n+      // for disposing /about\n+      for (let i = 0; i < 30; ++i) {\n+        await waitFor(1000 * 1)\n+        try {\n+          const buildManifest = getBuildManifest(appDir)\n+          // Assert that the two lastly demanded page are not disposed\n+          expect(buildManifest.pages['/']).toBeUndefined()\n+          expect(buildManifest.pages['/about']).toBeDefined()\n+          expect(buildManifest.pages['/third']).toBeDefined()\n+          return\n+        } catch (err) {\n+          continue\n+        }\n       }\n-    }\n-  })\n+    })\n \n-  it('should navigate to pages with dynamic imports', async () => {\n-    let browser\n-    try {\n-      browser = await webdriver(context.appPort, '/nav')\n+    it('should navigate to pages with dynamic imports', async () => {\n+      let browser\n+      try {\n+        browser = await webdriver(context.appPort, '/nav')\n \n-      await browser.eval('document.getElementById(\"to-dynamic\").click()')\n+        await browser.eval('document.getElementById(\"to-dynamic\").click()')\n \n-      await check(async () => {\n-        const text = await getBrowserBodyText(browser)\n-        return text\n-      }, /Hello/)\n-    } finally {\n-      if (browser) {\n-        await browser.close()\n+        await check(async () => {\n+          const text = await getBrowserBodyText(browser)\n+          return text\n+        }, /Hello/)\n+      } finally {\n+        if (browser) {\n+          await browser.close()\n+        }\n       }\n-    }\n-  })\n-})\n+    })\n+  }\n+)"
        },
        {
            "sha": "ec2e075adcd7024c1b864c82705fe0039a2c93ac",
            "filename": "test/integration/preload-viewport/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fpreload-viewport%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fpreload-viewport%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fpreload-viewport%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -390,7 +390,7 @@ describe('Prefetching Links in viewport', () => {\n       })\n \n       // Turbopack handling of chunks is different, by default it does not include a script tag for the page itself.\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'should not prefetch already loaded scripts',\n         async () => {\n           const browser = await webdriver(appPort, '/')"
        },
        {
            "sha": "3debd5e4357c968317c789a5442201afc5d80cc1",
            "filename": "test/integration/react-current-version/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Freact-current-version%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Freact-current-version%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Freact-current-version%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -58,7 +58,7 @@ describe('Basics', () => {\n         if (env === 'dev') {\n           expect(\n             dynamicIds.find((id) =>\n-              process.env.TURBOPACK\n+              process.env.IS_TURBOPACK_TEST\n                 ? id.endsWith(\n                     'app/components/foo.js [client] (ecmascript, next/dynamic entry)'\n                   )"
        },
        {
            "sha": "12cf3a29af1a3b6f90b26d5f52183f46cccb083c",
            "filename": "test/integration/read-only-source-hmr/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fread-only-source-hmr%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fread-only-source-hmr%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fread-only-source-hmr%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -65,7 +65,7 @@ describe('Read-only source HMR', () => {\n       const originalContent = await fs.readFile(pagePath, 'utf8')\n       const editedContent = originalContent.replace('Hello World', 'COOL page')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         // TODO Turbopack needs a bit to start watching\n         await new Promise((resolve) => setTimeout(resolve, 500))\n       }\n@@ -91,7 +91,7 @@ describe('Read-only source HMR', () => {\n \n       const originalContent = await fs.readFile(pagePath, 'utf8')\n \n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         // TODO Turbopack needs a bit to start watching\n         await new Promise((resolve) => setTimeout(resolve, 500))\n       }"
        },
        {
            "sha": "a55d445b78ae1fd295ca4da253b9299c0a864d24",
            "filename": "test/integration/script-loader/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fscript-loader%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fscript-loader%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fscript-loader%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -115,7 +115,7 @@ const runTests = (isDev) => {\n \n       // Script is inserted before NextScripts\n       let scriptCount\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         // Turbopack generates different script names\n         if (isDev) {\n           scriptCount = $(\n@@ -152,7 +152,7 @@ const runTests = (isDev) => {\n \n       // Script is inserted before NextScripts\n       let scriptCount\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         // Turbopack generates different script names\n         if (isDev) {\n           scriptCount = $("
        },
        {
            "sha": "c4049473b6dd364ea33239e16efc1a5b87e5c924",
            "filename": "test/integration/server-side-dev-errors/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fserver-side-dev-errors%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fserver-side-dev-errors%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fserver-side-dev-errors%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -25,7 +25,7 @@ let stderr = ''\n let appPort\n let app\n \n-const isTurbopack = process.env.TURBOPACK\n+const isTurbopack = process.env.IS_TURBOPACK_TEST\n \n describe('server-side dev errors', () => {\n   beforeAll(async () => {"
        },
        {
            "sha": "bf464d2c6b7e6b8126edd2651bf00eded808652e",
            "filename": "test/integration/sharp-api/test/sharp-api.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fsharp-api%2Ftest%2Fsharp-api.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fsharp-api%2Ftest%2Fsharp-api.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fsharp-api%2Ftest%2Fsharp-api.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -16,7 +16,7 @@ let app,\n   appPort\n \n   // Skip as Turbopack doesn't support `next build` yet\n-;(process.env.TURBOPACK ? describe.skip : describe)('sharp api', () => {\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('sharp api', () => {\n   beforeAll(async () => {\n     await execa('npm', ['install'], { cwd: appDir, stdio: 'inherit' })\n     await nextBuild(appDir)"
        },
        {
            "sha": "4f32faab7a2c04cd2a46a79aa8e579158e04c4d3",
            "filename": "test/integration/styled-jsx-plugin/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fstyled-jsx-plugin%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fstyled-jsx-plugin%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fstyled-jsx-plugin%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -21,7 +21,7 @@ function runTests() {\n }\n \n // This test is skipped in Turbopack because it uses a custom babelrc.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'styled-jsx using in node_modules',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "a790c10e7ba30892cbe661d1c1fba937029529e6",
            "filename": "test/integration/telemetry/test/config.test.js",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftelemetry%2Ftest%2Fconfig.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftelemetry%2Ftest%2Fconfig.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftelemetry%2Ftest%2Fconfig.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -269,7 +269,7 @@ describe('config telemetry', () => {\n       })\n \n       // Turbopack intentionally does not support these events\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemery for usage of image, script & dynamic',\n         async () => {\n           const { stderr } = await nextBuild(appDir, [], {\n@@ -304,7 +304,7 @@ describe('config telemetry', () => {\n       )\n \n       // Turbopack intentionally does not support these events\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemetry for usage of swc',\n         async () => {\n           await fs.remove(path.join(appDir, 'next.config.js'))\n@@ -520,7 +520,7 @@ describe('config telemetry', () => {\n       })\n \n       // Turbopack intentionally does not support these events\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemetry for usage of next/legacy/image',\n         async () => {\n           const { stderr } = await nextBuild(appDir, [], {\n@@ -547,7 +547,7 @@ describe('config telemetry', () => {\n       )\n \n       // Turbopack intentionally does not support these events\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemetry for usage of @vercel/og',\n         async () => {\n           const { stderr } = await nextBuild(appDir, [], {\n@@ -567,7 +567,7 @@ describe('config telemetry', () => {\n       )\n \n       // Turbopack intentionally does not support these events\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemetry for transpilePackages',\n         async () => {\n           await fs.rename(\n@@ -598,7 +598,7 @@ describe('config telemetry', () => {\n       )\n \n       // Turbopack intentionally does not support these events\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemetry for middleware related options',\n         async () => {\n           await fs.rename(\n@@ -718,7 +718,7 @@ describe('config telemetry', () => {\n       })\n \n       // TODO: support use cache tracking in Turbopack\n-      ;(process.env.TURBOPACK ? it.skip : it)(\n+      ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n         'emits telemetry for useCache directive',\n         async () => {\n           // use cache depends on dynamicIO flag"
        },
        {
            "sha": "97bc36c7524506ffdcb73fe9c5f8a75c6137aeaa",
            "filename": "test/integration/telemetry/test/index.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftelemetry%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftelemetry%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftelemetry%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -115,7 +115,7 @@ describe('Telemetry CLI', () => {\n         expect(stderr).toMatch(/isSrcDir.*?false/)\n \n         // Turbopack intentionally does not support these events\n-        if (!process.env.TURBOPACK) {\n+        if (!process.env.IS_TURBOPACK_TEST) {\n           expect(stderr).toMatch(/package.*?\"fs\"/)\n           expect(stderr).toMatch(/package.*?\"path\"/)\n           expect(stderr).toMatch(/package.*?\"http\"/)\n@@ -175,7 +175,7 @@ describe('Telemetry CLI', () => {\n         )\n \n         // Turbopack does not have this specific log line.\n-        if (!process.env.TURBOPACK) {\n+        if (!process.env.IS_TURBOPACK_TEST) {\n           expect(stderr).toMatch(/Compiled with warnings/)\n         }\n         expect(stderr).toMatch(/NEXT_BUILD_COMPLETED/)\n@@ -358,7 +358,7 @@ describe('Telemetry CLI', () => {\n         expect(event).toMatch(/\"hasBabelConfig\": false/)\n \n         // This event doesn't get recorded for Turbopack as the webpack config is not executed.\n-        if (!process.env.TURBOPACK) {\n+        if (!process.env.IS_TURBOPACK_TEST) {\n           // Check if features are detected correctly when custom webpack config exists\n           const featureUsageEvents = findAllTelemetryEvents(\n             stderr,"
        },
        {
            "sha": "5e08cf1c251e244052c714f8231fb096b9d05d49",
            "filename": "test/integration/telemetry/test/page-features.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftelemetry%2Ftest%2Fpage-features.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftelemetry%2Ftest%2Fpage-features.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftelemetry%2Ftest%2Fpage-features.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -12,7 +12,7 @@ import {\n const appDir = path.join(__dirname, '..')\n \n describe('page features telemetry', () => {\n-  if (process.env.TURBOPACK) {\n+  if (process.env.IS_TURBOPACK_TEST) {\n     it('detects --turbo correctly for `next dev`', async () => {\n       let port = await findPort()\n       let stderr = ''"
        },
        {
            "sha": "f0094fc3f3d0bcba1f8a54e199cb03a3d88c7a21",
            "filename": "test/integration/turbopack-unsupported-log/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fturbopack-unsupported-log%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fturbopack-unsupported-log%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fturbopack-unsupported-log%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -9,7 +9,7 @@ import fs from 'fs-extra'\n import { join } from 'path'\n \n describe('turbopack unsupported features log', () => {\n-  if (process.env.TURBOPACK) {\n+  if (process.env.IS_TURBOPACK_TEST) {\n     const appDir = join(__dirname, 'app')\n \n     it('should not warn by default', async () => {"
        },
        {
            "sha": "6a9d94eaff40cd6a0178b66f500f16a33a8ce3f5",
            "filename": "test/integration/turbotrace-with-webpack-worker/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fturbotrace-with-webpack-worker%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fturbotrace-with-webpack-worker%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fturbotrace-with-webpack-worker%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -6,7 +6,7 @@ import { nextBuild } from 'next-test-utils'\n \n const appDir = join(__dirname, '../app')\n \n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'build trace with extra entries',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "3d69673a547752bdda5cb0bfffa3fad335634d06",
            "filename": "test/integration/typescript-hmr/test/index.test.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftypescript-hmr%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftypescript-hmr%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftypescript-hmr%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -42,7 +42,7 @@ describe('TypeScript HMR', () => {\n         const originalContent = await fs.readFile(pagePath, 'utf8')\n         const editedContent = originalContent.replace('Hello', 'COOL page')\n \n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           // TODO Turbopack needs a bit to start watching\n           await new Promise((resolve) => setTimeout(resolve, 500))\n         }\n@@ -98,7 +98,7 @@ describe('TypeScript HMR', () => {\n         '() => <p>Hello world</p>',\n         '(): boolean => <p>hello with error</p>'\n       )\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         // TODO Turbopack needs a bit to start watching\n         await new Promise((resolve) => setTimeout(resolve, 500))\n       }"
        },
        {
            "sha": "cced10cf781102ee2d37cf6d747ef7f682818f26",
            "filename": "test/integration/typescript-only-remove-type-imports/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftypescript-only-remove-type-imports%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftypescript-only-remove-type-imports%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftypescript-only-remove-type-imports%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -28,7 +28,7 @@ const runTests = () => {\n }\n \n // Test specific Babel feature that is not supported in Turbopack.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'TypeScript onlyRemoveTypeImports',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "b49bd5d926bf091c426695b772700ff414fcc2ef",
            "filename": "test/integration/typescript/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftypescript%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Ftypescript%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftypescript%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -73,7 +73,7 @@ describe('TypeScript Features', () => {\n     })\n \n     // Turbopack has the correct behavior where `.ts` / `.tsx` is preferred over `.js` / `.jsx`. Webpack prefers `.js` / `.jsx`.\n-    ;(process.env.TURBOPACK ? it.skip : it)(\n+    ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n       'should resolve files in correct order',\n       async () => {\n         const $ = await get$('/hello')"
        },
        {
            "sha": "5563bdc4c6f6c0c85c834d1636daefd107ba9999",
            "filename": "test/integration/undefined-webpack-config/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fundefined-webpack-config%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fundefined-webpack-config%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fundefined-webpack-config%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -8,7 +8,7 @@ const expectedErr =\n   /Webpack config is undefined. You may have forgot to return properly from within the \"webpack\" method of your next.config.js/\n \n // Tests webpack, not needed for Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'undefined webpack config error',\n   () => {\n     ;(process.env.TURBOPACK_DEV ? describe.skip : describe)("
        },
        {
            "sha": "c588025f5094e39384c0021fd9284305e60db93e",
            "filename": "test/integration/url-imports/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Furl-imports%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Furl-imports%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Furl-imports%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -21,7 +21,7 @@ import webdriver from 'next-webdriver'\n jest.setTimeout(1000 * 60 * 2)\n const appDir = join(__dirname, '../')\n \n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   `Handle url imports`,\n   () => {\n     let staticServer"
        },
        {
            "sha": "ad860c21ae195b9b15c2517cd19970ce0b24264e",
            "filename": "test/integration/url/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Furl%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Furl%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Furl%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -20,7 +20,7 @@ jest.setTimeout(1000 * 60 * 2)\n const appDir = join(__dirname, '../')\n \n for (const dev of [false, true]) {\n-  ;(process.env.TURBOPACK && !dev ? describe.skip : describe)(\n+  ;(process.env.IS_TURBOPACK_TEST && !dev ? describe.skip : describe)(\n     `Handle new URL asset references in next ${dev ? 'dev' : 'build'}`,\n     () => {\n       let appPort"
        },
        {
            "sha": "cd9954ba8d641cfc230bd2e35d77d25b6e2ffb30",
            "filename": "test/integration/webpack-config-extensionalias/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fwebpack-config-extensionalias%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fwebpack-config-extensionalias%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fwebpack-config-extensionalias%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -4,7 +4,7 @@ import { nextBuild } from 'next-test-utils'\n const appDir = join(__dirname, '../')\n \n // Skip webpack specific test in Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'webpack config with extensionAlias setting',\n   () => {\n     it('should run correctly with an tsx file import with .js extension', async () => {"
        },
        {
            "sha": "6052d98764d379a1b32316aee0fbfc78fbdb7e48",
            "filename": "test/integration/webpack-config-mainjs/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fwebpack-config-mainjs%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fwebpack-config-mainjs%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fwebpack-config-mainjs%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -6,7 +6,7 @@ import { nextBuild } from 'next-test-utils'\n const appDir = join(__dirname, '../')\n \n // Skip webpack specific test in Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Customized webpack config with main.js',\n   () => {\n     it('should run correctly with main.js customized', async () => {"
        },
        {
            "sha": "0bf737ab3deb9b81c6dfad4901b2f726c2cc1127",
            "filename": "test/integration/webpack-require-hook/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fwebpack-require-hook%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fwebpack-require-hook%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fwebpack-require-hook%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -13,7 +13,7 @@ import {\n const appDir = path.join(__dirname, '..')\n \n // Skip webpack specific test in Turbopack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Handles Webpack Require Hook',\n   () => {\n     describe('build', () => {"
        },
        {
            "sha": "71a983f33721aa056cce51b4f48dba8097fede61",
            "filename": "test/integration/worker-webpack5/test/index.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fworker-webpack5%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fintegration%2Fworker-webpack5%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fworker-webpack5%2Ftest%2Findex.test.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -32,7 +32,7 @@ const runTests = () => {\n   })\n }\n \n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Web Workers with webpack 5',\n   () => {\n     ;(process.env.TURBOPACK_BUILD ? describe.skip : describe)("
        },
        {
            "sha": "de9adb8e5da261e220c379b55437d249cd2b5497",
            "filename": "test/jest-setup-files.turbopack.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fjest-setup-files.turbopack.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fjest-setup-files.turbopack.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fjest-setup-files.turbopack.js?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1 +1 @@\n-process.env.TURBOPACK = '1'\n+process.env.IS_TURBOPACK_TEST = '1'"
        },
        {
            "sha": "f824229abb2edc3c34302cc5c5e322856f6d6490",
            "filename": "test/lib/next-modes/next-dev.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fnext-modes%2Fnext-dev.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fnext-modes%2Fnext-dev.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-modes%2Fnext-dev.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -136,7 +136,7 @@ export class NextDevInstance extends NextInstance {\n     // This is a temporary workaround for turbopack starting watching too late.\n     // So we delay file changes by 500ms to give it some time\n     // to connect the WebSocket and start watching.\n-    if (process.env.TURBOPACK) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       require('console').log('fs dev delay before', filename)\n       await waitFor(500)\n     }"
        },
        {
            "sha": "eb08280bbc01230db892b93c9f8fcb932587e058",
            "filename": "test/lib/next-test-utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fnext-test-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fnext-test-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-test-utils.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1214,7 +1214,7 @@ export function getPageFileFromBuildManifest(dir: string, page: string) {\n \n   const pageFile = pageFiles[pageFiles.length - 1]\n   expect(pageFile).toEndWith('.js')\n-  if (!process.env.TURBOPACK) {\n+  if (!process.env.IS_TURBOPACK_TEST) {\n     expect(pageFile).toInclude(`pages${page === '' ? '/index' : page}`)\n   }\n   if (!pageFile) {"
        },
        {
            "sha": "54e56aa3ac301d6746b11c8ed080ba1e1f8f62e9",
            "filename": "test/lib/next-webdriver.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fnext-webdriver.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fnext-webdriver.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-webdriver.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -197,7 +197,7 @@ export default async function webdriver(\n   // This is a temporary workaround for turbopack starting watching too late.\n   // So we delay file changes to give it some time\n   // to connect the WebSocket and start watching.\n-  if (process.env.TURBOPACK) {\n+  if (process.env.IS_TURBOPACK_TEST) {\n     await waitFor(1000)\n   }\n   return browser"
        },
        {
            "sha": "8b8c8dc91bddb38ee82dd710d9286b1bff99d561",
            "filename": "test/lib/turbo.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fturbo.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Flib%2Fturbo.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fturbo.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -14,7 +14,7 @@ export function shouldRunTurboDevTest(): boolean {\n     return false\n   }\n \n-  const shouldRunTurboDev = !!process.env.TURBOPACK\n+  const shouldRunTurboDev = !!process.env.IS_TURBOPACK_TEST\n   if (shouldRunTurboDev && !loggedTurbopack) {\n     require('console').log(\n       `Running tests with turbopack because environment variable TURBOPACK is set`\n@@ -26,7 +26,7 @@ export function shouldRunTurboDevTest(): boolean {\n }\n \n export function getTurbopackFlag(): string {\n-  if (!!process.env.TURBOPACK) {\n+  if (!!process.env.IS_TURBOPACK_TEST) {\n     return '--turbo'\n   } else {\n     throw Error(`Cannot get the flag for running turbopack`)"
        },
        {
            "sha": "64811245520124dd58d88742ee500aa74dbc2aec",
            "filename": "test/production/app-dir/actions-tree-shaking/basic/basic.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fbasic%2Fbasic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fbasic%2Fbasic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fbasic%2Fbasic.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -5,7 +5,7 @@ import {\n } from '../_testing/utils'\n \n // TODO: revisit when we have a better side-effect free transform approach for server action\n-;(process.env.TURBOPACK ? describe : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n   'actions-tree-shaking - basic',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "f31661d7907a2be2ac5a5ffab479ede6f55051ec",
            "filename": "test/production/app-dir/actions-tree-shaking/mixed-module-actions/mixed-module-actions.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fmixed-module-actions%2Fmixed-module-actions.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fmixed-module-actions%2Fmixed-module-actions.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fmixed-module-actions%2Fmixed-module-actions.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -5,7 +5,7 @@ import {\n } from '../_testing/utils'\n \n // TODO: revisit when we have a better side-effect free transform approach for server action\n-;(process.env.TURBOPACK ? describe : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n   'actions-tree-shaking - mixed-module-actions',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "528c9cb60ba6072c1db1482becd5e52db914651d",
            "filename": "test/production/app-dir/actions-tree-shaking/reexport/reexport.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Freexport%2Freexport.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Freexport%2Freexport.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Freexport%2Freexport.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -6,7 +6,7 @@ import {\n import { retry } from 'next-test-utils'\n \n // TODO: revisit when we have a better side-effect free transform approach for server action\n-;(process.env.TURBOPACK ? describe : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n   'actions-tree-shaking - reexport',\n   () => {\n     const { next } = nextTestSetup({\n@@ -24,7 +24,7 @@ import { retry } from 'next-test-utils'\n       expect(actionsRoutesState).toMatchObject({\n         'app/namespace-reexport/server/page': {\n           // Turbopack does not tree-shake server side chunks\n-          rsc: process.env.TURBOPACK ? 3 : 1,\n+          rsc: process.env.IS_TURBOPACK_TEST ? 3 : 1,\n         },\n         'app/namespace-reexport/client/page': {\n           'action-browser': 1,\n@@ -36,7 +36,7 @@ import { retry } from 'next-test-utils'\n         },\n         'app/named-reexport/client/page': {\n           // Turbopack supports tree-shaking these re-exports\n-          'action-browser': process.env.TURBOPACK ? 1 : 3,\n+          'action-browser': process.env.IS_TURBOPACK_TEST ? 1 : 3,\n         },\n       })\n     })"
        },
        {
            "sha": "eaadac04f29255441ff34ded58f6abda6332e33d",
            "filename": "test/production/app-dir/actions-tree-shaking/shared-module-actions/shared-module-actions.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fshared-module-actions%2Fshared-module-actions.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fshared-module-actions%2Fshared-module-actions.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Factions-tree-shaking%2Fshared-module-actions%2Fshared-module-actions.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -5,7 +5,7 @@ import {\n } from '../_testing/utils'\n \n // TODO: revisit when we have a better side-effect free transform approach for server action\n-;(process.env.TURBOPACK ? describe : describe.skip)(\n+;(process.env.IS_TURBOPACK_TEST ? describe : describe.skip)(\n   'actions-tree-shaking - shared-module-actions',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "29f79084610f5a7003d864a39c3462ce2111a003",
            "filename": "test/production/app-dir/next-types-plugin/basic/index.test.ts",
            "status": "modified",
            "additions": 36,
            "deletions": 31,
            "changes": 67,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fbasic%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fbasic%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fbasic%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,34 +1,39 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)('next-types-plugin', () => {\n-  const { next, skipped } = nextTestSetup({\n-    files: __dirname,\n-    skipDeployment: true,\n-  })\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'next-types-plugin',\n+  () => {\n+    const { next, skipped } = nextTestSetup({\n+      files: __dirname,\n+      skipDeployment: true,\n+    })\n \n-  if (skipped) return\n+    if (skipped) return\n \n-  it('should have type for root page', async () => {\n-    expect(await next.hasFile('app/page.tsx')).toBe(true)\n-    expect(await next.hasFile('.next/types/app/page.ts')).toBe(true)\n-  })\n-  it('should have type for root layout', async () => {\n-    expect(await next.hasFile('app/layout.tsx')).toBe(true)\n-    expect(await next.hasFile('.next/types/app/layout.ts')).toBe(true)\n-  })\n-  it('should have type for nested page', async () => {\n-    expect(await next.hasFile('app/nested/page.tsx')).toBe(true)\n-    expect(await next.hasFile('.next/types/app/nested/page.ts')).toBe(true)\n-  })\n-  it('should have type for nested layout', async () => {\n-    expect(await next.hasFile('app/nested/layout.tsx')).toBe(true)\n-    expect(await next.hasFile('.next/types/app/nested/layout.ts')).toBe(true)\n-  })\n-  it('should have type for dynamic page', async () => {\n-    expect(await next.hasFile('app/[dynamic]/page.tsx')).toBe(true)\n-    expect(await next.hasFile('.next/types/app/[dynamic]/page.ts')).toBe(true)\n-  })\n-  it('should have type for dynamic layout', async () => {\n-    expect(await next.hasFile('app/[dynamic]/layout.tsx')).toBe(true)\n-    expect(await next.hasFile('.next/types/app/[dynamic]/layout.ts')).toBe(true)\n-  })\n-})\n+    it('should have type for root page', async () => {\n+      expect(await next.hasFile('app/page.tsx')).toBe(true)\n+      expect(await next.hasFile('.next/types/app/page.ts')).toBe(true)\n+    })\n+    it('should have type for root layout', async () => {\n+      expect(await next.hasFile('app/layout.tsx')).toBe(true)\n+      expect(await next.hasFile('.next/types/app/layout.ts')).toBe(true)\n+    })\n+    it('should have type for nested page', async () => {\n+      expect(await next.hasFile('app/nested/page.tsx')).toBe(true)\n+      expect(await next.hasFile('.next/types/app/nested/page.ts')).toBe(true)\n+    })\n+    it('should have type for nested layout', async () => {\n+      expect(await next.hasFile('app/nested/layout.tsx')).toBe(true)\n+      expect(await next.hasFile('.next/types/app/nested/layout.ts')).toBe(true)\n+    })\n+    it('should have type for dynamic page', async () => {\n+      expect(await next.hasFile('app/[dynamic]/page.tsx')).toBe(true)\n+      expect(await next.hasFile('.next/types/app/[dynamic]/page.ts')).toBe(true)\n+    })\n+    it('should have type for dynamic layout', async () => {\n+      expect(await next.hasFile('app/[dynamic]/layout.tsx')).toBe(true)\n+      expect(await next.hasFile('.next/types/app/[dynamic]/layout.ts')).toBe(\n+        true\n+      )\n+    })\n+  }\n+)"
        },
        {
            "sha": "37c5f5a72640a5c618410a207b36d38213881efd",
            "filename": "test/production/app-dir/next-types-plugin/private-folder-convention/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fprivate-folder-convention%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fprivate-folder-convention%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fprivate-folder-convention%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'next-types-plugin private-folder-convention',\n   () => {\n     const { next, skipped } = nextTestSetup({"
        },
        {
            "sha": "05a43bcad6b8e636dbc87c0abc89945004a733d0",
            "filename": "test/production/app-dir/next-types-plugin/sync-params-type-check/sync-params-type-check.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fsync-params-type-check%2Fsync-params-type-check.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fsync-params-type-check%2Fsync-params-type-check.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fnext-types-plugin%2Fsync-params-type-check%2Fsync-params-type-check.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,7 +1,7 @@\n import { nextTestSetup } from 'e2e-utils'\n \n // This next-types-plugin feature only works in webpack\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'app-dir - sync-params-type-check',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "8f437e62b8f466ee1d062a91448253d43046a864",
            "filename": "test/production/app-dir/subresource-integrity/subresource-integrity.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fsubresource-integrity%2Fsubresource-integrity.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Fsubresource-integrity%2Fsubresource-integrity.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fsubresource-integrity%2Fsubresource-integrity.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -4,7 +4,7 @@ import path from 'path'\n import cheerio from 'cheerio'\n \n // This test suite is skipped with Turbopack because it's testing an experimental feature. To be implemented after stable.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Subresource Integrity',\n   () => {\n     describe.each(['node', 'edge'] as const)('with %s runtime', (runtime) => {"
        },
        {
            "sha": "b3eaf35fa86f58793370c3ddbda29d31d9c8b9f2",
            "filename": "test/production/app-dir/typed-routes-with-webpack-worker/typed-routes-with-webpack-worker.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Ftyped-routes-with-webpack-worker%2Ftyped-routes-with-webpack-worker.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fapp-dir%2Ftyped-routes-with-webpack-worker%2Ftyped-routes-with-webpack-worker.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Ftyped-routes-with-webpack-worker%2Ftyped-routes-with-webpack-worker.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,6 +1,6 @@\n import { nextBuild } from 'next-test-utils'\n import path from 'path'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'app dir - typed-routes-with-webpack-worker',\n   () => {\n     it('builds successfully without errors', async () => {"
        },
        {
            "sha": "eb634c55abada7c2f15fa185ec560f1d1cbdfff7",
            "filename": "test/production/disable-fallback-polyfills/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fdisable-fallback-polyfills%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fdisable-fallback-polyfills%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fdisable-fallback-polyfills%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -2,7 +2,7 @@ import { createNext } from 'e2e-utils'\n import { NextInstance } from 'e2e-utils'\n \n // TODO: Implement experimental.fallbackNodePolyfills\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'Disable fallback polyfills',\n   () => {\n     let next: NextInstance"
        },
        {
            "sha": "d092e0435104e509368a9acdfde6cafb3644a998",
            "filename": "test/production/edge-config-validations/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fedge-config-validations%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fedge-config-validations%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fedge-config-validations%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -5,7 +5,7 @@ describe('Edge config validations', () => {\n   let next: NextInstance\n \n   afterAll(() => next.destroy())\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'fails to build when unstable_allowDynamic is not a string',\n     async () => {\n       next = await createNext({"
        },
        {
            "sha": "43c6c4ed5f74e85fee42fc36261f549332cac444",
            "filename": "test/production/edge-dynamic-code-eval/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fedge-dynamic-code-eval%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fedge-dynamic-code-eval%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fedge-dynamic-code-eval%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -17,7 +17,7 @@ describe('Dynamic Code Evaluation (DCE)', () => {\n       `Dynamic Code Evaluation (e. g. 'eval', 'new Function', 'WebAssembly.compile') not allowed in Edge Runtime`\n     )\n   })\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     \"should show the user's import trace\",\n     async () => {\n       await next.patchFile("
        },
        {
            "sha": "eb445a7f6cc7b48aef0c1a79e88d63a1e9e186fe",
            "filename": "test/production/graceful-shutdown/index.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fgraceful-shutdown%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fgraceful-shutdown%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fgraceful-shutdown%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -33,7 +33,7 @@ describe('Graceful Shutdown', () => {\n \n     runTests(true)\n   })\n-  ;(process.env.TURBOPACK && !process.env.TURBOPACK_BUILD\n+  ;(process.env.IS_TURBOPACK_TEST && !process.env.TURBOPACK_BUILD\n     ? describe.skip\n     : describe)('production (next start)', () => {\n     beforeAll(async () => {\n@@ -47,7 +47,7 @@ describe('Graceful Shutdown', () => {\n \n     runTests()\n   })\n-  ;(process.env.TURBOPACK && !process.env.TURBOPACK_BUILD\n+  ;(process.env.IS_TURBOPACK_TEST && !process.env.TURBOPACK_BUILD\n     ? describe.skip\n     : describe)('production (standalone mode)', () => {\n     let next: NextInstance"
        },
        {
            "sha": "4a5dcc982265601d0da3a269b7b7aab902f50511",
            "filename": "test/production/next-font/babel-unsupported.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fnext-font%2Fbabel-unsupported.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fnext-font%2Fbabel-unsupported.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fnext-font%2Fbabel-unsupported.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -3,7 +3,7 @@ import { NextInstance } from 'e2e-utils'\n import { join } from 'path'\n \n // Turbopack does not support `.babelrc`. So this test is not relevant for Turbopack.\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   '@next/font babel unsupported',\n   () => {\n     let next: NextInstance"
        },
        {
            "sha": "7bf40016733a40e4b2242c9e0ebfe0269274b5af",
            "filename": "test/production/next-font/telemetry.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fnext-font%2Ftelemetry.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fnext-font%2Ftelemetry.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fnext-font%2Ftelemetry.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -8,7 +8,7 @@ const mockedGoogleFontResponses = require.resolve(\n )\n \n // Turbopack intentionally does not support these events\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'next/font used telemetry',\n   () => {\n     let next: NextInstance\n@@ -44,7 +44,7 @@ const mockedGoogleFontResponses = require.resolve(\n )\n \n // Turbopack intentionally does not support these events\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'next/font unused telemetry',\n   () => {\n     let next: NextInstance"
        },
        {
            "sha": "038515d8487f6779f586dd33880168721797499f",
            "filename": "test/production/optimize-server-react/optimize-server-react.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Foptimize-server-react%2Foptimize-server-react.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Foptimize-server-react%2Foptimize-server-react.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Foptimize-server-react%2Foptimize-server-react.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-;(process.env.TURBOPACK ? describe.skip : describe)(\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n   'optimize-server-react',\n   () => {\n     const { next } = nextTestSetup({"
        },
        {
            "sha": "0d109631ec97b87a8c1820b9e4f37e891ea6f5ff",
            "filename": "test/production/pages-dir/production/test/index.test.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fpages-dir%2Fproduction%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fpages-dir%2Fproduction%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fpages-dir%2Fproduction%2Ftest%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -320,7 +320,7 @@ describe('Production Usage', () => {\n   })\n \n   // This test checks webpack chunks in particular\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should not contain currentScript usage for publicPath',\n     async () => {\n       const globResult = await glob('webpack-*.js', {\n@@ -341,7 +341,7 @@ describe('Production Usage', () => {\n   )\n \n   // This test checks webpack chunks in particular\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should not contain amp, rsc APIs in main chunk',\n     async () => {\n       const globResult = await glob('main-*.js', {\n@@ -578,7 +578,7 @@ describe('Production Usage', () => {\n     it('should set Cache-Control header', async () => {\n       const buildManifest = await next.readJSON(`.next/${BUILD_MANIFEST}`)\n       const reactLoadableManifest = await next.readJSON(\n-        process.env.TURBOPACK\n+        process.env.IS_TURBOPACK_TEST\n           ? `.next/server/pages/dynamic/css/${REACT_LOADABLE_MANIFEST}`\n           : `.next/${REACT_LOADABLE_MANIFEST}`\n       )\n@@ -587,7 +587,7 @@ describe('Production Usage', () => {\n       const resources: Set<string> = new Set()\n \n       let manifestKey: string\n-      if (process.env.TURBOPACK) {\n+      if (process.env.IS_TURBOPACK_TEST) {\n         // the key is an arbitrary and changing number for Turbopack prod, but each page has its own manifest\n         expect(Object.keys(reactLoadableManifest).length).toBe(1)\n         manifestKey = Object.keys(reactLoadableManifest)[0]\n@@ -615,15 +615,15 @@ describe('Production Usage', () => {\n         { pathnameFilter: (f) => /\\.css$/.test(f) }\n       )\n       expect(cssStaticAssets.length).toBeGreaterThanOrEqual(1)\n-      if (!process.env.TURBOPACK) {\n+      if (!process.env.IS_TURBOPACK_TEST) {\n         expect(cssStaticAssets[0]).toMatch(/[\\\\/]css[\\\\/]/)\n       }\n       const mediaStaticAssets = await recursiveReadDir(\n         join(next.testDir, '.next', 'static'),\n         { pathnameFilter: (f) => /\\.svg$/.test(f) }\n       )\n       expect(mediaStaticAssets.length).toBeGreaterThanOrEqual(1)\n-      if (!process.env.TURBOPACK) {\n+      if (!process.env.IS_TURBOPACK_TEST) {\n         expect(mediaStaticAssets[0]).toMatch(/[\\\\/]media[\\\\/]/)\n       }\n       ;[...cssStaticAssets, ...mediaStaticAssets].forEach((asset) => {\n@@ -1157,7 +1157,7 @@ describe('Production Usage', () => {\n       expect(version).toBeTruthy()\n       expect(version).toBe(\n         (await next.readJSON('node_modules/next/package.json')).version +\n-          (process.env.TURBOPACK ? '-turbo' : '')\n+          (process.env.IS_TURBOPACK_TEST ? '-turbo' : '')\n       )\n     } finally {\n       if (browser) {"
        },
        {
            "sha": "5c2af38484abf8a629f55627826250095432cf06",
            "filename": "test/production/standalone-mode/required-server-files/required-server-files-node-middleware.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fstandalone-mode%2Frequired-server-files%2Frequired-server-files-node-middleware.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fstandalone-mode%2Frequired-server-files%2Frequired-server-files-node-middleware.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fstandalone-mode%2Frequired-server-files%2Frequired-server-files-node-middleware.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -1,6 +1,6 @@\n process.env.TEST_NODE_MIDDLEWARE = '1'\n \n-if (process.env.TURBOPACK) {\n+if (process.env.IS_TURBOPACK_TEST) {\n   it('should skip for now', () => {})\n } else {\n   require('./required-server-files.test')"
        },
        {
            "sha": "16c92bded7d95e0fa440ba9aa2fb75bca7caf01f",
            "filename": "test/production/standalone-mode/required-server-files/required-server-files.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fstandalone-mode%2Frequired-server-files%2Frequired-server-files.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Fstandalone-mode%2Frequired-server-files%2Frequired-server-files.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fstandalone-mode%2Frequired-server-files%2Frequired-server-files.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -346,7 +346,7 @@ describe('required server files', () => {\n   })\n \n   // TODO(mischnic) do we still want to do this?\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should warn when \"next\" is imported directly',\n     async () => {\n       await renderViaHTTP(appPort, '/gssp')\n@@ -380,7 +380,7 @@ describe('required server files', () => {\n   })\n \n   // TODO(mischnic) do these files even exist in turbopack?\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should output middleware correctly',\n     async () => {\n       if (!process.env.TEST_NODE_MIDDLEWARE) {\n@@ -1379,7 +1379,7 @@ describe('required server files', () => {\n       expect(await res.text()).toContain('index page')\n \n       if (!process.env.TEST_NODE_MIDDLEWARE) {\n-        if (process.env.TURBOPACK) {\n+        if (process.env.IS_TURBOPACK_TEST) {\n           expect(\n             fs.existsSync(join(standaloneDir, '.next/server/edge/chunks'))\n           ).toBe(true)"
        },
        {
            "sha": "f13c5e338865ebe92634686fa715f31f18591359",
            "filename": "test/production/typescript-basic/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Ftypescript-basic%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6e51845ac45dc9623944a70e0dc33ae26b3a12d8/test%2Fproduction%2Ftypescript-basic%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Ftypescript-basic%2Findex.test.ts?ref=6e51845ac45dc9623944a70e0dc33ae26b3a12d8",
            "patch": "@@ -32,7 +32,7 @@ describe('TypeScript basic', () => {\n   })\n \n   // Turbopack doesn't support Babel built-in.\n-  ;(process.env.TURBOPACK ? it.skip : it)(\n+  ;(process.env.IS_TURBOPACK_TEST ? it.skip : it)(\n     'should work with babel',\n     async () => {\n       await next.stop()"
        }
    ],
    "stats": {
        "total": 1991,
        "additions": 1020,
        "deletions": 971
    }
}