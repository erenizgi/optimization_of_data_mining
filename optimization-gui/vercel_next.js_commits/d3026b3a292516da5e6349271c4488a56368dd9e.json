{
    "author": "bgw",
    "message": "Turbopack: chore: Update anyhow, remove old backtrace feature (#85844)\n\n- `anyhow` now causes `cargo clippy` to warn about `.to_string()` in `bail!(...)` calls. I also inlined most of these format string variables while I was at it. https://github.com/dtolnay/anyhow/pull/426\n- The `backtrace` feature isn't needed (and is a no-op) since Rust 1.65. https://github.com/dtolnay/anyhow/blob/master/Cargo.toml#L19-L22",
    "sha": "d3026b3a292516da5e6349271c4488a56368dd9e",
    "files": [
        {
            "sha": "5e5f3e6e786d3406813d27125f67340758b7786c",
            "filename": "Cargo.lock",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/Cargo.lock",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/Cargo.lock",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.lock?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -244,12 +244,9 @@ checksum = \"70033777eb8b5124a81a1889416543dddef2de240019b674c81285a2635a7e1e\"\n \n [[package]]\n name = \"anyhow\"\n-version = \"1.0.98\"\n+version = \"1.0.100\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e16d2d3311acee920a9eb8d33b8cbc1787ce4a264e85f964c2404b969bdcd487\"\n-dependencies = [\n- \"backtrace\",\n-]\n+checksum = \"a23eb6b1614318a8071c9b2521f36b424b2c83db5eb3a0fead4a6c0809af6e61\"\n \n [[package]]\n name = \"approx\""
        },
        {
            "sha": "7a1c1cf7a6268f4969ebe9c875ca46ca305b85f7",
            "filename": "Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/Cargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/Cargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.toml?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -371,7 +371,7 @@ tungstenite = \"0.20.1\"\n allsorts = { version = \"0.14.0\", default-features = false, features = [\n   \"flate2_rust\",\n ] }\n-anyhow = \"1.0.98\"\n+anyhow = \"1.0.100\"\n async-compression = { version = \"0.3.13\", default-features = false, features = [\n   \"gzip\",\n   \"tokio\","
        },
        {
            "sha": "7aee602833372ba79e78e3561473ae24e9951667",
            "filename": "crates/next-api/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/crates%2Fnext-api%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/crates%2Fnext-api%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2FCargo.toml?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -13,7 +13,7 @@ bench = false\n workspace = true\n \n [dependencies]\n-anyhow = { workspace = true, features = [\"backtrace\"] }\n+anyhow = { workspace = true }\n byteorder = { workspace = true }\n either = { workspace = true }\n futures = { workspace = true }"
        },
        {
            "sha": "45655c78316fa4074756ca0060bdd914982734ff",
            "filename": "turbopack/crates/turbo-tasks-fs/src/lib.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -1533,10 +1533,8 @@ pub async fn rebase(\n         let base_path = [&old_base.path, \"/\"].concat();\n         if !fs_path.path.starts_with(&base_path) {\n             bail!(\n-                \"rebasing {} from {} onto {} doesn't work because it's not part of the source path\",\n-                fs_path.to_string(),\n-                old_base.to_string(),\n-                new_base.to_string()\n+                \"rebasing {fs_path} from {old_base} onto {new_base} doesn't work because it's not \\\n+                 part of the source path\",\n             );\n         }\n         if new_base.path.is_empty() {"
        },
        {
            "sha": "41708383c08096639dcfbce149c71830beb1068e",
            "filename": "turbopack/crates/turbo-tasks-fs/src/read_glob.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fread_glob.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fread_glob.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fread_glob.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -124,7 +124,7 @@ async fn resolve_symlink_safely(entry: DirectoryEntry) -> Result<DirectoryEntry>\n         if source_path.is_inside_or_equal(&resolved_entry.clone().path().unwrap()) {\n             bail!(\n                 \"'{}' is a symlink causes that causes an infinite loop!\",\n-                source_path.path.to_string()\n+                source_path.path,\n             )\n         }\n     }"
        },
        {
            "sha": "c0eed2654dbe1af8a330592f1614ab77bb81a4f7",
            "filename": "turbopack/crates/turbopack-bench/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-bench%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-bench%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-bench%2FCargo.toml?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -17,7 +17,7 @@ harness = false\n workspace = true\n \n [dependencies]\n-anyhow = { workspace = true, features = [\"backtrace\"] }\n+anyhow = { workspace = true }\n chromiumoxide = { workspace = true, features = [\n   \"tokio-runtime\",\n ], default-features = false }"
        },
        {
            "sha": "fc8e9d4bf31ca04a0fb7d8305335cd2d14c0613c",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/content.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -84,11 +84,7 @@ impl EcmascriptBrowserChunkContent {\n                 let chunk_server_path = if let Some(path) = output_root.get_path_to(&chunk_path) {\n                     path\n                 } else {\n-                    bail!(\n-                        \"chunk path {} is not in output root {}\",\n-                        chunk_path.to_string(),\n-                        output_root.to_string()\n-                    );\n+                    bail!(\"chunk path {chunk_path} is not in output root {output_root}\");\n                 };\n                 Either::Left(StringifyJs(chunk_server_path))\n             }"
        },
        {
            "sha": "d25bd932a4a78a5ffe5dcabefb9098777cdca687",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/evaluate/chunk.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -99,11 +99,7 @@ impl EcmascriptBrowserEvaluateChunk {\n                 let chunk_server_path = if let Some(path) = output_root.get_path_to(&chunk_path) {\n                     path\n                 } else {\n-                    bail!(\n-                        \"chunk path {} is not in output root {}\",\n-                        chunk_path.to_string(),\n-                        output_root.to_string()\n-                    );\n+                    bail!(\"chunk path {chunk_path} is not in output root {output_root}\");\n                 };\n                 Either::Left(StringifyJs(chunk_server_path))\n             }"
        },
        {
            "sha": "1442e6669703d510062ab13df55f541441cac58d",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/version.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fversion.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fversion.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fversion.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -27,11 +27,7 @@ impl EcmascriptBrowserChunkVersion {\n         let chunk_path = if let Some(path) = output_root.get_path_to(&chunk_path) {\n             path\n         } else {\n-            bail!(\n-                \"chunk path {} is not in client root {}\",\n-                chunk_path.to_string(),\n-                output_root.to_string()\n-            );\n+            bail!(\"chunk path {chunk_path} is not in client root {output_root}\");\n         };\n         let entries = EcmascriptBrowserChunkContentEntries::new(content).await?;\n         let mut entries_hashes ="
        },
        {
            "sha": "d885720bec7420f5d3fd0d2bc8d01a2ab8fda455",
            "filename": "turbopack/crates/turbopack-cli/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -37,7 +37,7 @@ custom_allocator = [\"turbo-tasks-malloc/custom_allocator\"]\n workspace = true\n \n [dependencies]\n-anyhow = { workspace = true, features = [\"backtrace\"] }\n+anyhow = { workspace = true }\n clap = { workspace = true, features = [\"derive\", \"env\"] }\n console-subscriber = { workspace = true, optional = true }\n dunce = { workspace = true }"
        },
        {
            "sha": "44a4c7f19ca833c86463036ed3316cf869841cc4",
            "filename": "turbopack/crates/turbopack-nft/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nft%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nft%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nft%2FCargo.toml?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -18,7 +18,7 @@ bench = false\n workspace = true\n \n [dependencies]\n-anyhow = { workspace = true, features = [\"backtrace\"] }\n+anyhow = { workspace = true }\n clap = { workspace = true, features = [\"derive\", \"env\"] }\n console-subscriber = { workspace = true, optional = true }\n rustc-hash = { workspace = true }"
        },
        {
            "sha": "f20caa4ff84ac4b9eb70d631254b61100e527fee",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/entry/chunk.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -69,19 +69,14 @@ impl EcmascriptBuildNodeEntryChunk {\n                 path\n             } else {\n                 bail!(\n-                    \"cannot find a relative path from the chunk ({}) to the runtime chunk ({})\",\n-                    chunk_path.to_string(),\n-                    runtime_path.to_string(),\n+                    \"cannot find a relative path from the chunk ({chunk_path}) to the runtime \\\n+                     chunk ({runtime_path})\",\n                 );\n             };\n         let chunk_public_path = if let Some(path) = output_root.get_path_to(&chunk_path) {\n             path\n         } else {\n-            bail!(\n-                \"chunk path ({}) is not in output root ({})\",\n-                chunk_path.to_string(),\n-                output_root.to_string()\n-            );\n+            bail!(\"chunk path ({chunk_path}) is not in output root ({output_root})\");\n         };\n \n         let mut code = CodeBuilder::default();"
        },
        {
            "sha": "f17eaa5b1d15b69817b39866a840c95e69d656f9",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/entry/runtime.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fruntime.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fruntime.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fruntime.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -46,11 +46,7 @@ impl EcmascriptBuildNodeRuntimeChunk {\n         let runtime_public_path = if let Some(path) = output_root.get_path_to(&runtime_path) {\n             path\n         } else {\n-            bail!(\n-                \"runtime path {} is not in output root {}\",\n-                runtime_path.to_string(),\n-                output_root.to_string()\n-            );\n+            bail!(\"runtime path {runtime_path} is not in output root {output_root}\");\n         };\n \n         let mut code = CodeBuilder::default();"
        },
        {
            "sha": "68179126defd32acb55654797d61ff15ce106213",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/version.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fversion.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fversion.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fversion.rs?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -27,11 +27,7 @@ impl EcmascriptBuildNodeChunkVersion {\n         let chunk_path = if let Some(path) = output_root.get_path_to(&chunk_path) {\n             path\n         } else {\n-            bail!(\n-                \"chunk path {} is not in client root {}\",\n-                chunk_path.to_string(),\n-                output_root.to_string()\n-            );\n+            bail!(\"chunk path {chunk_path} is not in client root {output_root}\");\n         };\n         let chunk_items = content.await?.chunk_item_code_and_ids().await?;\n         Ok(EcmascriptBuildNodeChunkVersion {"
        },
        {
            "sha": "d3b845b3be3e39802bc8b2c6adbddbf3b2b959d3",
            "filename": "turbopack/crates/turbopack-trace-server/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-trace-server%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/d3026b3a292516da5e6349271c4488a56368dd9e/turbopack%2Fcrates%2Fturbopack-trace-server%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-trace-server%2FCargo.toml?ref=d3026b3a292516da5e6349271c4488a56368dd9e",
            "patch": "@@ -12,7 +12,7 @@ path = \"src/main.rs\"\n bench = false\n \n [dependencies]\n-anyhow = { workspace = true, features = [\"backtrace\"] }\n+anyhow = { workspace = true }\n either = { workspace = true }\n flate2 = { workspace = true }\n hashbrown = { workspace = true, features = [\"raw\"] }"
        }
    ],
    "stats": {
        "total": 68,
        "additions": 19,
        "deletions": 49
    }
}