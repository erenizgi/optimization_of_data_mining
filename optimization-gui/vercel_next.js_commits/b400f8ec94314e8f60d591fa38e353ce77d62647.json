{
    "author": "eps1lon",
    "message": "[test] Use new Redbox matchers in app/ dynamic-error (#76744)",
    "sha": "b400f8ec94314e8f60d591fa38e353ce77d62647",
    "files": [
        {
            "sha": "8d40d89826a67a358962b233cd9e40878acabef6",
            "filename": "test/development/acceptance-app/dynamic-error.test.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 6,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/b400f8ec94314e8f60d591fa38e353ce77d62647/test%2Fdevelopment%2Facceptance-app%2Fdynamic-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b400f8ec94314e8f60d591fa38e353ce77d62647/test%2Fdevelopment%2Facceptance-app%2Fdynamic-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Fdynamic-error.test.ts?ref=b400f8ec94314e8f60d591fa38e353ce77d62647",
            "patch": "@@ -29,11 +29,21 @@ describe('dynamic = \"error\" in devmode', () => {\n       ]),\n       '/server'\n     )\n-    const { session } = sandbox\n-    await session.assertHasRedbox()\n-    const description = await session.getRedboxDescription()\n-    expect(description).toMatchInlineSnapshot(\n-      `\"Error: Route /server with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"`\n-    )\n+    const { browser } = sandbox\n+\n+    await expect(browser).toDisplayRedbox(`\n+     {\n+       \"count\": 1,\n+       \"description\": \"Error: Route /server with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\",\n+       \"environmentLabel\": \"Server\",\n+       \"label\": \"Unhandled Runtime Error\",\n+       \"source\": \"app/server/page.js (4:16) @ Page\n+     > 4 |   await cookies()\n+         |                ^\",\n+       \"stack\": [\n+         \"Page app/server/page.js (4:16)\",\n+       ],\n+     }\n+    `)\n   })\n })"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 16,
        "deletions": 6
    }
}