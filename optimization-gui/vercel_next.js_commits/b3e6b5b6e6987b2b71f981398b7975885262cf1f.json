{
    "author": "icyJoseph",
    "message": "Docs/fetching data deduping (#80806)\n\nFixes: https://github.com/vercel/next.js/issues/77077\nhttps://github.com/vercel/next.js/issues/80790\n\n- We are missing the deduping step that wraps with React.cache\n- Add some more clarify about passing cache, current and future renders\n\nCloses: https://linear.app/vercel/issue/DOC-4806/fetching-dedupe\n\n---------\n\nCo-authored-by: Delba de Oliveira <32464864+delbaoliveira@users.noreply.github.com>",
    "sha": "b3e6b5b6e6987b2b71f981398b7975885262cf1f",
    "files": [
        {
            "sha": "a4635c72b7080da89c35499f08efb4d94f38ed75",
            "filename": "docs/01-app/01-getting-started/07-fetching-data.mdx",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/b3e6b5b6e6987b2b71f981398b7975885262cf1f/docs%2F01-app%2F01-getting-started%2F07-fetching-data.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/b3e6b5b6e6987b2b71f981398b7975885262cf1f/docs%2F01-app%2F01-getting-started%2F07-fetching-data.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F07-fetching-data.mdx?ref=b3e6b5b6e6987b2b71f981398b7975885262cf1f",
            "patch": "@@ -234,13 +234,17 @@ export default function BlogPage() {\n }\n ```\n \n-## Deduplicating requests with `React.cache`\n+## Deduplicate requests and cache data\n \n-Deduplication is the process of _preventing duplicate requests_ for the same resource during a render pass. It allows you to fetch the same data in different components while preventing multiple network requests to your data source.\n+One way to deduplicate `fetch` requests is with [request memoization](/docs/app/guides/caching#request-memoization). With this mechanism, `fetch` calls using `GET` or `HEAD` with the same URL and options in a single render pass are combined into one request. This happens automatically, and you can [opt out](/docs/app/guides/caching#opting-out) by passing an Abort signal to `fetch`.\n \n-If you are using `fetch`, requests can be deduplicated by adding `cache: 'force-cache'`. This means you can safely call the same URL with the same options, and only one request will be made.\n+Request memoization is scoped to the lifetime of a request.\n \n-If you are _not_ using `fetch`, and instead using an ORM or database directly, you can wrap your data fetch with the [React `cache`](https://react.dev/reference/react/cache) function.\n+You can also deduplicate `fetch` requests by using Next.jsâ€™ [Data Cache](/docs/app/guides/caching#data-cache), for example by setting `cache: 'force-cache'` in your `fetch` options.\n+\n+Data Cache allows sharing data across the current render pass and incoming requests.\n+\n+If you are _not_ using `fetch`, and instead using an ORM or database directly, you can wrap your data access with the [React `cache`](https://react.dev/reference/react/cache) function.\n \n ```tsx filename=\"app/lib/data.ts\" switcher\n import { cache } from 'react'"
        },
        {
            "sha": "36c277cabf062c9900ed3c55fab0e8b04d4406c0",
            "filename": "docs/01-app/02-guides/caching.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b3e6b5b6e6987b2b71f981398b7975885262cf1f/docs%2F01-app%2F02-guides%2Fcaching.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/b3e6b5b6e6987b2b71f981398b7975885262cf1f/docs%2F01-app%2F02-guides%2Fcaching.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fcaching.mdx?ref=b3e6b5b6e6987b2b71f981398b7975885262cf1f",
            "patch": "@@ -113,7 +113,7 @@ Since the memoization is not shared across server requests and only applies duri\n \n Memoization only applies to the `GET` method in `fetch` requests, other methods, such as `POST` and `DELETE`, are not memoized. This default behavior is a React optimization and we do not recommend opting out of it.\n \n-To manage individual requests, you can use the [`signal`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController/signal) property from [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController). However, this will not opt requests out of memoization, rather, abort in-flight requests.\n+To manage individual requests, you can use the [`signal`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController/signal) property from [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController).\n \n ```js filename=\"app/example.js\"\n const { signal } = new AbortController()"
        },
        {
            "sha": "82985e3f1b960ca3fb706eb26a5a8395edfb7dba",
            "filename": "docs/01-app/03-api-reference/04-functions/fetch.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b3e6b5b6e6987b2b71f981398b7975885262cf1f/docs%2F01-app%2F03-api-reference%2F04-functions%2Ffetch.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/b3e6b5b6e6987b2b71f981398b7975885262cf1f/docs%2F01-app%2F03-api-reference%2F04-functions%2Ffetch.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2Ffetch.mdx?ref=b3e6b5b6e6987b2b71f981398b7975885262cf1f",
            "patch": "@@ -61,7 +61,7 @@ fetch(`https://...`, { cache: 'force-cache' | 'no-store' })\n fetch(`https://...`, { next: { revalidate: false | 0 | number } })\n ```\n \n-Set the cache lifetime of a resource (in seconds).\n+Set the cache lifetime of a resource (in seconds). [Data Cache](/docs/app/guides/caching#data-cache).\n \n - **`false`** - Cache the resource indefinitely. Semantically equivalent to `revalidate: Infinity`. The HTTP cache may evict older resources over time.\n - **`0`** - Prevent the resource from being cached.\n@@ -71,7 +71,6 @@ Set the cache lifetime of a resource (in seconds).\n >\n > - If an individual `fetch()` request sets a `revalidate` number lower than the [default `revalidate`](/docs/app/api-reference/file-conventions/route-segment-config#revalidate) of a route, the whole route revalidation interval will be decreased.\n > - If two fetch requests with the same URL in the same route have different `revalidate` values, the lower value will be used.\n-> - As a convenience, it is not necessary to set the `cache` option if `revalidate` is set to a number.\n > - Conflicting options such as `{ revalidate: 3600, cache: 'no-store' }` will cause an error.\n \n ### `options.next.tags`"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 10,
        "deletions": 7
    }
}