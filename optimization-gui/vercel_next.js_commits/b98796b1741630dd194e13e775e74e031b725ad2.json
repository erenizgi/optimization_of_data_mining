{
    "author": "eps1lon",
    "message": "[devtools] Remove unnecessary cascading update (#82295)",
    "sha": "b98796b1741630dd194e13e775e74e031b725ad2",
    "files": [
        {
            "sha": "dbd851b77d201d4b7d138f377df252e4c73c521e",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-indicator/next-logo.tsx",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/b98796b1741630dd194e13e775e74e031b725ad2/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-indicator%2Fnext-logo.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b98796b1741630dd194e13e775e74e031b725ad2/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-indicator%2Fnext-logo.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-indicator%2Fnext-logo.tsx?ref=b98796b1741630dd194e13e775e74e031b725ad2",
            "patch": "@@ -1,4 +1,4 @@\n-import { useEffect, useRef, useState } from 'react'\n+import { useRef, useState } from 'react'\n import { useUpdateAnimation } from './hooks/use-update-animation'\n import { useMeasureWidth } from './hooks/use-measure-width'\n import { useMinimumLoadingTimeMultiple } from './hooks/use-minimum-loading-time-multiple'\n@@ -28,6 +28,12 @@ export function NextLogo({\n \n   const hasError = totalErrorCount > 0\n   const [isErrorExpanded, setIsErrorExpanded] = useState(hasError)\n+  const [previousHasError, setPreviousHasError] = useState(hasError)\n+  if (previousHasError !== hasError) {\n+    setPreviousHasError(hasError)\n+    // Reset the expanded state when the error state changes\n+    setIsErrorExpanded(hasError)\n+  }\n   const [dismissed, setDismissed] = useState(false)\n   const newErrorDetected = useUpdateAnimation(\n     totalErrorCount,\n@@ -43,11 +49,6 @@ export function NextLogo({\n   const isExpanded = isErrorExpanded || state.disableDevIndicator\n   const width = measuredWidth === 0 ? 'auto' : measuredWidth\n \n-  useEffect(() => {\n-    // eslint-disable-next-line react-hooks/react-compiler -- TODO\n-    setIsErrorExpanded(hasError)\n-  }, [hasError])\n-\n   return (\n     <div\n       data-next-badge-root"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 7,
        "deletions": 6
    }
}