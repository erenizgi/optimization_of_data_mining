{
    "author": "delbaoliveira",
    "message": "Docs IA 2.0: Add examples to layout.js (#79453)\n\nIn the **layout.js** API reference, we talk about the limitations of\nlayouts but don't provide alternative examples. This simplifies the\nwording, and adds examples using the recommended APIs.\n\nAlso adds more general `layout.js` examples.\n\nPart of:\nhttps://linear.app/vercel/issue/DOC-4696/routing-section-layouts-and-templates\n\nFollow up: Look into template.js\n\n---------\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "f18b756cde52e188985285993dd29596b8ffc639",
    "files": [
        {
            "sha": "686d1501540cac5dc80d78130fcde1780af244ec",
            "filename": "docs/01-app/02-guides/css-in-js.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fcss-in-js.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fcss-in-js.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fcss-in-js.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -92,7 +92,7 @@ export default function StyledJsxRegistry({ children }) {\n }\n ```\n \n-Then, wrap your [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required) with the registry:\n+Then, wrap your [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts) with the registry:\n \n ```tsx filename=\"app/layout.tsx\" switcher\n import StyledJsxRegistry from './registry'"
        },
        {
            "sha": "8037c5bc66cbbbaf01e01e304c5fe9032970d432",
            "filename": "docs/01-app/02-guides/mdx.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmdx.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmdx.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmdx.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -483,7 +483,7 @@ export default function Page() {\n \n <AppOnly>\n \n-To share a layout across MDX pages, you can use the [built-in layouts support](/docs/app/building-your-application/routing/layouts-and-templates#layouts) with the App Router.\n+To share a layout across MDX pages, you can use the [built-in layouts support](/docs/app/getting-started/layouts-and-pages#creating-a-layout) with the App Router.\n \n ```tsx filename=\"app/mdx-page/layout.tsx\" switcher\n export default function MdxLayout({ children }: { children: React.ReactNode }) {"
        },
        {
            "sha": "e6277f801e0f58a143b864bd61b71e9b49644b0a",
            "filename": "docs/01-app/02-guides/migrating/app-router-migration.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmigrating%2Fapp-router-migration.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmigrating%2Fapp-router-migration.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmigrating%2Fapp-router-migration.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -112,7 +112,7 @@ We recommend reducing the combined complexity of these updates by breaking down\n   - `.js`, `.jsx`, or `.tsx` file extensions can be used for special files.\n - You can colocate other files inside the `app` directory such as components, styles, tests, and more. [Learn more](/docs/app/building-your-application/routing).\n - Data fetching functions like `getServerSideProps` and `getStaticProps` have been replaced with [a new API](/docs/app/building-your-application/data-fetching) inside `app`. `getStaticPaths` has been replaced with [`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params).\n-- `pages/_app.js` and `pages/_document.js` have been replaced with a single `app/layout.js` root layout. [Learn more](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required).\n+- `pages/_app.js` and `pages/_document.js` have been replaced with a single `app/layout.js` root layout. [Learn more](/docs/app/api-reference/file-conventions/layout#root-layouts).\n - `pages/_error.js` has been replaced with more granular `error.js` special files. [Learn more](/docs/app/building-your-application/routing/error-handling).\n - `pages/404.js` has been replaced with the [`not-found.js`](/docs/app/api-reference/file-conventions/not-found) file.\n - `pages/api/*` API Routes have been replaced with the [`route.js`](/docs/app/api-reference/file-conventions/route) (Route Handler) special file.\n@@ -129,7 +129,7 @@ Then, create a new `app` directory at the root of your project (or `src/` direct\n \n ### Step 2: Creating a Root Layout\n \n-Create a new `app/layout.tsx` file inside the `app` directory. This is a [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required) that will apply to all routes inside `app`.\n+Create a new `app/layout.tsx` file inside the `app` directory. This is a [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts) that will apply to all routes inside `app`.\n \n ```tsx filename=\"app/layout.tsx\" switcher\n export default function RootLayout({\n@@ -192,7 +192,7 @@ If you are using any React Context providers, they will need to be moved to a [C\n \n #### Migrating the `getLayout()` pattern to Layouts (Optional)\n \n-Next.js recommended adding a [property to Page components](/docs/pages/building-your-application/routing/pages-and-layouts#layout-pattern#per-page-layouts) to achieve per-page layouts in the `pages` directory. This pattern can be replaced with native support for [nested layouts](/docs/app/building-your-application/routing/layouts-and-templates#layouts) in the `app` directory.\n+Next.js recommended adding a [property to Page components](/docs/pages/building-your-application/routing/pages-and-layouts#layout-pattern#per-page-layouts) to achieve per-page layouts in the `pages` directory. This pattern can be replaced with native support for [nested layouts](/docs/app/getting-started/layouts-and-pages#creating-a-layout) in the `app` directory.\n \n <details>\n   <summary>See before and after example</summary>"
        },
        {
            "sha": "c765645b906a054a7893d49edfe81b723f24d8da",
            "filename": "docs/01-app/02-guides/migrating/from-create-react-app.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmigrating%2Ffrom-create-react-app.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmigrating%2Ffrom-create-react-app.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmigrating%2Ffrom-create-react-app.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -78,7 +78,7 @@ export default nextConfig\n \n ### Step 3: Create the Root Layout\n \n-A Next.js [App Router](/docs/app) application must include a [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required) file, which is a [React Server Component](/docs/app/getting-started/server-and-client-components) that will wrap all your pages.\n+A Next.js [App Router](/docs/app) application must include a [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts) file, which is a [React Server Component](/docs/app/getting-started/server-and-client-components) that will wrap all your pages.\n \n The closest equivalent of the root layout file in a CRA application is `public/index.html`, which includes your `<html>`, `<head>`, and `<body>` tags.\n "
        },
        {
            "sha": "cb954518d35880e32fcfda0f2da60639063bb5d9",
            "filename": "docs/01-app/02-guides/migrating/from-vite.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmigrating%2Ffrom-vite.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fmigrating%2Ffrom-vite.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmigrating%2Ffrom-vite.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -129,7 +129,7 @@ You can find more information about configuring TypeScript on the\n ### Step 4: Create the Root Layout\n \n A Next.js [App Router](/docs/app) application must include a\n-[root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required)\n+[root layout](/docs/app/api-reference/file-conventions/layout#root-layouts)\n file, which is a [React Server Component](/docs/app/getting-started/server-and-client-components)\n that will wrap all pages in your application. This file is defined at the top level of the `app`\n directory."
        },
        {
            "sha": "2c0e75fc8520c87c1ddee957c60e39a5466a9938",
            "filename": "docs/01-app/02-guides/production-checklist.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fproduction-checklist.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fproduction-checklist.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fproduction-checklist.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -40,11 +40,11 @@ While building your application, we recommend using the following features to en\n \n <AppOnly>\n \n-- **[Layouts](/docs/app/building-your-application/routing/layouts-and-templates#layouts):** Use layouts to share UI across pages and enable [partial rendering](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering) on navigation.\n+- **[Layouts](/docs/app/getting-started/layouts-and-pages#creating-a-layout):** Use layouts to share UI across pages and enable [partial rendering](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering) on navigation.\n - **[`<Link>` component](/docs/app/building-your-application/routing/linking-and-navigating#link-component):** Use the `<Link>` component for [client-side navigation and prefetching](/docs/app/building-your-application/routing/linking-and-navigating#how-routing-and-navigation-works).\n - **[Error Handling](/docs/app/building-your-application/routing/error-handling):** Gracefully handle [catch-all errors](/docs/app/building-your-application/routing/error-handling) and [404 errors](/docs/app/api-reference/file-conventions/not-found) in production by creating custom error pages.\n - **[Client and Server Components](/docs/app/getting-started/server-and-client-components#examples):** Follow the recommended composition patterns for Server and Client Components, and check the placement of your [`\"use client\"` boundaries](/docs/app/getting-started/server-and-client-components#examples#moving-client-components-down-the-tree) to avoid unnecessarily increasing your client-side JavaScript bundle.\n-- **[Dynamic APIs](/docs/app/getting-started/partial-prerendering#dynamic-rendering):** Be aware that Dynamic APIs like [`cookies`](/docs/app/api-reference/functions/cookies) and the [`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional) prop will opt the entire route into [Dynamic Rendering](/docs/app/getting-started/partial-prerendering#dynamic-rendering) (or your whole application if used in the [Root Layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required)). Ensure Dynamic API usage is intentional and wrap them in `<Suspense>` boundaries where appropriate.\n+- **[Dynamic APIs](/docs/app/getting-started/partial-prerendering#dynamic-rendering):** Be aware that Dynamic APIs like [`cookies`](/docs/app/api-reference/functions/cookies) and the [`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional) prop will opt the entire route into [Dynamic Rendering](/docs/app/getting-started/partial-prerendering#dynamic-rendering) (or your whole application if used in the [Root Layout](/docs/app/api-reference/file-conventions/layout#root-layouts)). Ensure Dynamic API usage is intentional and wrap them in `<Suspense>` boundaries where appropriate.\n \n > **Good to know**: [Partial Prerendering (experimental)](/blog/next-14#partial-prerendering-preview) will allow parts of a route to be dynamic without opting the whole route into dynamic rendering.\n "
        },
        {
            "sha": "25d7c59b09c582f95f43c71d27f5a25eacea1f3b",
            "filename": "docs/01-app/02-guides/self-hosting.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fself-hosting.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Fself-hosting.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fself-hosting.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -28,7 +28,7 @@ Image Optimization can be used with a [static export](/docs/app/guides/static-ex\n \n Middleware uses the [Edge runtime](/docs/app/api-reference/edge), a subset of all available Node.js APIs to help ensure low latency, since it may run in front of every route or asset in your application. If you do not want this, you can use the [full Node.js runtime](/blog/next-15-2#nodejs-middleware-experimental) to run Middleware.\n \n-If you are looking to add logic (or use an external package) that requires all Node.js APIs, you might be able to move this logic to a [layout](/docs/app/building-your-application/routing/layouts-and-templates#layouts) as a [Server Component](/docs/app/getting-started/server-and-client-components). For example, checking [headers](/docs/app/api-reference/functions/headers) and [redirecting](/docs/app/api-reference/functions/redirect). You can also use headers, cookies, or query parameters to [redirect](/docs/app/api-reference/config/next-config-js/redirects#header-cookie-and-query-matching) or [rewrite](/docs/app/api-reference/config/next-config-js/rewrites#header-cookie-and-query-matching) through `next.config.js`. If that does not work, you can also use a [custom server](/docs/pages/guides/custom-server).\n+If you are looking to add logic (or use an external package) that requires all Node.js APIs, you might be able to move this logic to a [layout](/docs/app/getting-started/layouts-and-pages#creating-a-layout) as a [Server Component](/docs/app/getting-started/server-and-client-components). For example, checking [headers](/docs/app/api-reference/functions/headers) and [redirecting](/docs/app/api-reference/functions/redirect). You can also use headers, cookies, or query parameters to [redirect](/docs/app/api-reference/config/next-config-js/redirects#header-cookie-and-query-matching) or [rewrite](/docs/app/api-reference/config/next-config-js/rewrites#header-cookie-and-query-matching) through `next.config.js`. If that does not work, you can also use a [custom server](/docs/pages/guides/custom-server).\n \n ## Environment Variables\n "
        },
        {
            "sha": "812508f40fe3778fe98b996768a925c95e0a21f5",
            "filename": "docs/01-app/02-guides/tailwind-css.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Ftailwind-css.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F02-guides%2Ftailwind-css.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Ftailwind-css.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -45,7 +45,7 @@ Add the [Tailwind CSS directives](https://tailwindcss.com/docs/functions-and-dir\n @import 'tailwindcss';\n ```\n \n-Inside the [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required) (`app/layout.tsx`), import the `globals.css` stylesheet to apply the styles to every route in your application.\n+Inside the [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts) (`app/layout.tsx`), import the `globals.css` stylesheet to apply the styles to every route in your application.\n \n ```tsx filename=\"app/layout.tsx\" switcher\n import type { Metadata } from 'next'"
        },
        {
            "sha": "7406c06e2c1ec6cb37cfdd061fd0747a401d55e6",
            "filename": "docs/01-app/03-building-your-application/01-routing/03-layouts-and-templates.mdx",
            "status": "modified",
            "additions": 0,
            "deletions": 260,
            "changes": 260,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F03-building-your-application%2F01-routing%2F03-layouts-and-templates.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F03-building-your-application%2F01-routing%2F03-layouts-and-templates.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F01-routing%2F03-layouts-and-templates.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -3,146 +3,6 @@ title: Layouts and Templates\n description: Create your first shared layout in Next.js.\n ---\n \n-The special files [layout.js](#layouts) and [template.js](#templates) allow you to create UI that is shared between routes. This page will guide you through how and when to use these special files.\n-\n-## Layouts\n-\n-A layout is UI that is **shared** between multiple routes. On navigation, layouts preserve state, remain interactive, and do not re-render. Layouts can also be [nested](#nesting-layouts).\n-\n-You can define a layout by default exporting a React component from a `layout.js` file. The component should accept a `children` prop that will be populated with a child layout (if it exists) or a page during rendering.\n-\n-For example, the layout will be shared with the `/dashboard` and `/dashboard/settings` pages:\n-\n-<Image\n-  alt=\"layout.js special file\"\n-  srcLight=\"/docs/light/layout-special-file.png\"\n-  srcDark=\"/docs/dark/layout-special-file.png\"\n-  width=\"1600\"\n-  height=\"606\"\n-/>\n-\n-```tsx filename=\"app/dashboard/layout.tsx\" switcher\n-export default function DashboardLayout({\n-  children, // will be a page or nested layout\n-}: {\n-  children: React.ReactNode\n-}) {\n-  return (\n-    <section>\n-      {/* Include shared UI here e.g. a header or sidebar */}\n-      <nav></nav>\n-\n-      {children}\n-    </section>\n-  )\n-}\n-```\n-\n-```jsx filename=\"app/dashboard/layout.js\" switcher\n-export default function DashboardLayout({\n-  children, // will be a page or nested layout\n-}) {\n-  return (\n-    <section>\n-      {/* Include shared UI here e.g. a header or sidebar */}\n-      <nav></nav>\n-\n-      {children}\n-    </section>\n-  )\n-}\n-```\n-\n-### Root Layout (Required)\n-\n-The root layout is defined at the top level of the `app` directory and applies to all routes. This layout is **required** and must contain `html` and `body` tags, allowing you to modify the initial HTML returned from the server.\n-\n-```tsx filename=\"app/layout.tsx\" switcher\n-export default function RootLayout({\n-  children,\n-}: {\n-  children: React.ReactNode\n-}) {\n-  return (\n-    <html lang=\"en\">\n-      <body>\n-        {/* Layout UI */}\n-        <main>{children}</main>\n-      </body>\n-    </html>\n-  )\n-}\n-```\n-\n-```jsx filename=\"app/layout.js\" switcher\n-export default function RootLayout({ children }) {\n-  return (\n-    <html lang=\"en\">\n-      <body>\n-        {/* Layout UI */}\n-        <main>{children}</main>\n-      </body>\n-    </html>\n-  )\n-}\n-```\n-\n-### Nesting Layouts\n-\n-By default, layouts in the folder hierarchy are **nested**, which means they wrap child layouts via their `children` prop. You can nest layouts by adding `layout.js` inside specific route segments (folders).\n-\n-For example, to create a layout for the `/dashboard` route, add a new `layout.js` file inside the `dashboard` folder:\n-\n-<Image\n-  alt=\"Nested Layout\"\n-  srcLight=\"/docs/light/nested-layout.png\"\n-  srcDark=\"/docs/dark/nested-layout.png\"\n-  width=\"1600\"\n-  height=\"606\"\n-/>\n-\n-```tsx filename=\"app/dashboard/layout.tsx\" switcher\n-export default function DashboardLayout({\n-  children,\n-}: {\n-  children: React.ReactNode\n-}) {\n-  return <section>{children}</section>\n-}\n-```\n-\n-```jsx filename=\"app/dashboard/layout.js\" switcher\n-export default function DashboardLayout({ children }) {\n-  return <section>{children}</section>\n-}\n-```\n-\n-If you were to combine the two layouts above, the root layout (`app/layout.js`) would wrap the dashboard layout (`app/dashboard/layout.js`), which would wrap route segments inside `app/dashboard/*`.\n-\n-The two layouts would be nested as such:\n-\n-<Image\n-  alt=\"Nested Layouts\"\n-  srcLight=\"/docs/light/nested-layouts-ui.png\"\n-  srcDark=\"/docs/dark/nested-layouts-ui.png\"\n-  width=\"1600\"\n-  height=\"1026\"\n-/>\n-\n-> **Good to know**:\n->\n-> - `.js`, `.jsx`, or `.tsx` file extensions can be used for Layouts.\n-> - Only the root layout can contain `<html>` and `<body>` tags.\n-> - When a `layout.js` and `page.js` file are defined in the same folder, the layout will wrap the page.\n-> - Layouts are [Server Components](/docs/app/getting-started/server-and-client-components) by default but can be set to a [Client Component](/docs/app/getting-started/server-and-client-components).\n-> - Layouts can fetch data. View the [Data Fetching](/docs/app/building-your-application/data-fetching) section for more information.\n-> - Passing data between a parent layout and its children is not possible. However, you can fetch the same data in a route more than once, and React will [automatically dedupe the requests](/docs/app/deep-dive/caching#request-memoization) without affecting performance.\n-> - Layouts do not have access to `pathname` ([learn more](/docs/app/api-reference/file-conventions/layout)). But imported Client Components can access the pathname using [`usePathname`](/docs/app/api-reference/functions/use-pathname) hook.\n-> - Layouts do not have access to the route segments below itself. To access all route segments, you can use [`useSelectedLayoutSegment`](/docs/app/api-reference/functions/use-selected-layout-segment) or [`useSelectedLayoutSegments`](/docs/app/api-reference/functions/use-selected-layout-segments) in a Client Component.\n-> - You can use [Route Groups](/docs/app/building-your-application/routing/route-groups) to opt specific route segments in and out of shared layouts.\n-> - You can use [Route Groups](/docs/app/building-your-application/routing/route-groups) to create multiple root layouts. See an [example here](/docs/app/getting-started/project-structure#creating-multiple-root-layouts).\n-> - **Migrating from the `pages` directory:** The root layout replaces the [`_app.js`](/docs/pages/building-your-application/routing/custom-app) and [`_document.js`](/docs/pages/building-your-application/routing/custom-document) files. [View the migration guide](/docs/app/guides/migrating/app-router-migration#migrating-_documentjs-and-_appjs).\n-\n ## Templates\n \n Templates are similar to layouts in that they wrap a child layout or page. Unlike layouts that persist across routes and maintain state, templates create a new instance for each of their children on navigation. This means that when a user navigates between routes that share a template, a new instance of the child is mounted, DOM elements are recreated, state is **not** preserved in Client Components, and effects are re-synchronized.\n@@ -184,123 +44,3 @@ In terms of nesting, `template.js` is rendered between a layout and its children\n ```\n \n ## Examples\n-\n-### Metadata\n-\n-You can modify the `<head>` HTML elements such as `title` and `meta` using the [Metadata APIs](/docs/app/getting-started/metadata-and-og-images).\n-\n-Metadata can be defined by exporting a [`metadata` object](/docs/app/api-reference/functions/generate-metadata#the-metadata-object) or [`generateMetadata` function](/docs/app/api-reference/functions/generate-metadata#generatemetadata-function) in a [`layout.js`](/docs/app/api-reference/file-conventions/layout) or [`page.js`](/docs/app/api-reference/file-conventions/page) file.\n-\n-```tsx filename=\"app/page.tsx\" switcher\n-import type { Metadata } from 'next'\n-\n-export const metadata: Metadata = {\n-  title: 'Next.js',\n-}\n-\n-export default function Page() {\n-  return '...'\n-}\n-```\n-\n-```jsx filename=\"app/page.js\" switcher\n-export const metadata = {\n-  title: 'Next.js',\n-}\n-\n-export default function Page() {\n-  return '...'\n-}\n-```\n-\n-> **Good to know**: You should **not** manually add `<head>` tags such as `<title>` and `<meta>` to root layouts. Instead, use the [Metadata API](/docs/app/api-reference/functions/generate-metadata) which automatically handles advanced requirements such as streaming and de-duplicating `<head>` elements.\n-\n-Learn more about available metadata options in the [API reference](/docs/app/api-reference/functions/generate-metadata).\n-\n-### Active Nav Links\n-\n-You can use the [usePathname()](/docs/app/api-reference/functions/use-pathname) hook to determine if a nav link is active.\n-\n-Since `usePathname()` is a client hook, you need to extract the nav links into a Client Component, which can be imported into your layout or template:\n-\n-```tsx filename=\"app/ui/nav-links.tsx\" switcher\n-'use client'\n-\n-import { usePathname } from 'next/navigation'\n-import Link from 'next/link'\n-\n-export function NavLinks() {\n-  const pathname = usePathname()\n-\n-  return (\n-    <nav>\n-      <Link className={`link ${pathname === '/' ? 'active' : ''}`} href=\"/\">\n-        Home\n-      </Link>\n-\n-      <Link\n-        className={`link ${pathname === '/about' ? 'active' : ''}`}\n-        href=\"/about\"\n-      >\n-        About\n-      </Link>\n-    </nav>\n-  )\n-}\n-```\n-\n-```jsx filename=\"app/ui/nav-links.js\" switcher\n-'use client'\n-\n-import { usePathname } from 'next/navigation'\n-import Link from 'next/link'\n-\n-export function Links() {\n-  const pathname = usePathname()\n-\n-  return (\n-    <nav>\n-      <Link className={`link ${pathname === '/' ? 'active' : ''}`} href=\"/\">\n-        Home\n-      </Link>\n-\n-      <Link\n-        className={`link ${pathname === '/about' ? 'active' : ''}`}\n-        href=\"/about\"\n-      >\n-        About\n-      </Link>\n-    </nav>\n-  )\n-}\n-```\n-\n-```tsx filename=\"app/layout.tsx\" switcher\n-import { NavLinks } from '@/app/ui/nav-links'\n-\n-export default function Layout({ children }: { children: React.ReactNode }) {\n-  return (\n-    <html lang=\"en\">\n-      <body>\n-        <NavLinks />\n-        <main>{children}</main>\n-      </body>\n-    </html>\n-  )\n-}\n-```\n-\n-```jsx filename=\"app/layout.js\" switcher\n-import { NavLinks } from '@/app/ui/nav-links'\n-\n-export default function Layout({ children }) {\n-  return (\n-    <html lang=\"en\">\n-      <body>\n-        <NavLinks />\n-        <main>{children}</main>\n-      </body>\n-    </html>\n-  )\n-}\n-```"
        },
        {
            "sha": "478bdd55c2ab8f4023e1b687c13137a6c9f9ffec",
            "filename": "docs/01-app/05-api-reference/02-components/font.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F02-components%2Ffont.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F02-components%2Ffont.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F02-components%2Ffont.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -1050,8 +1050,8 @@ import { greatVibes, sourceCodePro400 } from '@/fonts'\n When a font function is called on a page of your site, it is not globally available and preloaded on all routes. Rather, the font is only preloaded on the related routes based on the type of file where it is used:\n \n - If it's a [unique page](/docs/app/api-reference/file-conventions/page), it is preloaded on the unique route for that page.\n-- If it's a [layout](/docs/app/building-your-application/routing/layouts-and-templates#layouts), it is preloaded on all the routes wrapped by the layout.\n-- If it's the [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required), it is preloaded on all routes.\n+- If it's a [layout](/docs/app/getting-started/layouts-and-pages#creating-a-layout), it is preloaded on all the routes wrapped by the layout.\n+- If it's the [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts), it is preloaded on all routes.\n \n </AppOnly>\n "
        },
        {
            "sha": "c4fe531e19f7c3d4ce5a2a91ec7717cf6f2bf975",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/layout.mdx",
            "status": "modified",
            "additions": 422,
            "deletions": 34,
            "changes": 456,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Flayout.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Flayout.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Flayout.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -53,7 +53,7 @@ export default function RootLayout({ children }) {\n \n #### `children` (required)\n \n-Layout components should accept and use a `children` prop. During rendering, `children` will be populated with the route segments the layout is wrapping. These will primarily be the component of a child [Layout](/docs/app/api-reference/file-conventions/page) (if it exists) or [Page](/docs/app/api-reference/file-conventions/page), but could also be other special files like [Loading](/docs/app/building-your-application/routing/loading-ui-and-streaming) or [Error](/docs/app/building-your-application/routing/error-handling) when applicable.\n+Layout components accept and use a `children` prop. During rendering, `children` will be populated with the route segments the layout is wrapping. These will primarily be the component of a child [Layout](/docs/app/api-reference/file-conventions/page) (if it exists) or [Page](/docs/app/api-reference/file-conventions/page), but could also be other special files like [Loading](/docs/app/building-your-application/routing/loading-ui-and-streaming) or [Error](/docs/app/building-your-application/routing/error-handling) when applicable.\n \n #### `params` (optional)\n \n@@ -119,78 +119,466 @@ export default function RootLayout({ children }) {\n \n ## Caveats\n \n-### How can I access the request object in a layout?\n+### Request Object\n \n-You intentionally cannot access the raw request object in a layout. However, you can access [`headers`](/docs/app/api-reference/functions/headers) and [`cookies`](/docs/app/api-reference/functions/cookies) through server-only functions.\n+Layouts are cached in the client during navigation to avoid unnecessary server requests.\n \n-[Layouts](/docs/app/building-your-application/routing/layouts-and-templates#layouts) do not rerender. They can be cached and reused to avoid unnecessary computation when navigating between pages. By restricting layouts from accessing the raw request, Next.js can prevent the execution of potentially slow or expensive user code within the layout, which could negatively impact performance.\n+By restricting layouts from directly accessing the raw request object, Next.js can prevent the execution of potentially slow or expensive user code within the layout, which could negatively impact performance.\n \n-This design also enforces consistent and predictable behavior for layouts across different pages, which simplifies development and debugging.\n+To access the request object, you can use [`headers`](/docs/app/api-reference/functions/headers) and [`cookies`](/docs/app/api-reference/functions/cookies) APIs in [Server Components](/docs/app/getting-started/server-and-client-components) and Functions.\n \n-### Layouts do not receive `searchParams`\n+```tsx filename=\"app/shop/layout.tsx\" switcher\n+import { cookies } from 'next/headers'\n \n-Unlike [Pages](/docs/app/api-reference/file-conventions/page), Layout components **do not** receive the `searchParams` prop. This is because a shared layout is [not re-rendered during navigation](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering) which could lead to stale `searchParams` between navigations.\n+export default async function Layout({ children }) {\n+  const cookieStore = await cookies()\n+  const theme = cookieStore.get('theme')\n+  return '...'\n+}\n+```\n \n-When using client-side navigation, Next.js automatically only renders the part of the page below the common layout between two routes.\n+```jsx filename=\"app/shop/layout.js\" switcher\n+import { cookies } from 'next/headers'\n \n-For example, in the following directory structure, `dashboard/layout.tsx` is the common layout for both `/dashboard/settings` and `/dashboard/analytics`:\n+export default async function Layout({ children }) {\n+  const cookieStore = await cookies()\n+  const theme = cookieStore.get('theme')\n+  return '...'\n+}\n+```\n \n-<Image\n-  alt=\"File structure showing a dashboard folder nesting a layout.tsx file, and settings and analytics folders with their own pages\"\n-  srcLight=\"/docs/light/shared-dashboard-layout.png\"\n-  srcDark=\"/docs/dark/shared-dashboard-layout.png\"\n-  width=\"1600\"\n-  height=\"687\"\n-/>\n+### Query params\n \n-When navigating from `/dashboard/settings` to `/dashboard/analytics`, `page.tsx` in `/dashboard/analytics` will rerender on the server, while `dashboard/layout.tsx` will **not** rerender because it's a common UI shared between the two routes.\n+Layouts do not rerender on navigation, so they cannot access search params which would otherwise become stale.\n \n-This performance optimization allows navigation between pages that share a layout to be quicker as only the data fetching and rendering for the page has to run, instead of the entire route that could include shared layouts that fetch their own data.\n+To access updated query parameters, you can use the Page [`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional) prop, or read them inside a Client Component using the [`useSearchParams`](/docs/app/api-reference/functions/use-search-params) hook. Since Client Components re-render on navigation, they have access to the latest query parameters.\n \n-Because `dashboard/layout.tsx` doesn't re-render, the `searchParams` prop in the layout Server Component might become **stale** after navigation.\n+```tsx filename=\"app/ui/search.tsx\" switcher\n+'use client'\n \n-Instead, use the Page [`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional) prop or the [`useSearchParams`](/docs/app/api-reference/functions/use-search-params) hook in a Client Component within the layout, which is rerendered on the client with the latest `searchParams`.\n+import { useSearchParams } from 'next/navigation'\n \n-### Layouts cannot access `pathname`\n+export default function Search() {\n+  const searchParams = useSearchParams()\n \n-Layouts cannot access `pathname`. This is because layouts are Server Components by default, and [don't rerender during client-side navigation](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering), which could lead to `pathname` becoming stale between navigations. To prevent staleness, Next.js would need to refetch all segments of a route, losing the benefits of client caching.\n+  const search = searchParams.get('search')\n \n-Instead, you can extract the logic that depends on pathname into a Client Component and import it into your layouts. Since Client Components rerender (but are not refetched) during navigation, you can use Next.js hooks such as [`usePathname`](https://nextjs.org/docs/app/api-reference/functions/use-pathname) to access the current pathname and prevent staleness.\n+  return '...'\n+}\n+```\n \n-```tsx filename=\"app/dashboard/layout.tsx\" switcher\n-import { ClientComponent } from '@/app/ui/ClientComponent'\n+```jsx filename=\"app/ui/search.js\" switcher\n+'use client'\n+\n+import { useSearchParams } from 'next/navigation'\n+\n+export default function Search() {\n+  const searchParams = useSearchParams()\n+\n+  const search = searchParams.get('search')\n+\n+  return '...'\n+}\n+```\n+\n+```tsx filename=\"app/shop/layout.tsx\" switcher\n+import Search from '@/app/ui/search'\n+\n+export default function Layout({ children }) {\n+  return (\n+    <>\n+      <Search />\n+      {children}\n+    </>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/shop/layout.js\" switcher\n+import Search from '@/app/ui/search'\n+\n+export default function Layout({ children }) {\n+  return (\n+    <>\n+      <Search />\n+      {children}\n+    </>\n+  )\n+}\n+```\n+\n+### Pathname\n+\n+Layouts do not re-render on navigation, so they do not access pathname which would otherwise become stale.\n+\n+To access the current pathname, you can read it inside a Client Component using the [`usePathname`](https://nextjs.org/docs/app/api-reference/functions/use-pathname) hook. Since Client Components re-render during navigation, they have access to the latest pathname.\n+\n+```tsx filename=\"app/ui/breadcrumbs.tsx\" switcher\n+'use client'\n+\n+import { usePathname } from 'next/navigation'\n+\n+// Simplified breadcrumbs logic\n+export default function Breadcrumbs() {\n+  const pathname = usePathname()\n+  const segments = pathname.split('/')\n+\n+  return (\n+    <nav>\n+      {segments.map((segment, index) => (\n+        <span key={index}>\n+          {' > '}\n+          {segment}\n+        </span>\n+      ))}\n+    </nav>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/ui/breadcrumbs.js\" switcher\n+'use client'\n+\n+import { usePathname } from 'next/navigation'\n+\n+// Simplified breadcrumbs logic\n+export default function Breadcrumbs() {\n+  const pathname = usePathname()\n+  const segments = pathname.split('/')\n \n-export default function Layout({ children }: { children: React.ReactNode }) {\n+  return (\n+    <nav>\n+      {segments.map((segment, index) => (\n+        <span key={index}>\n+          {' > '}\n+          {segment}\n+        </span>\n+      ))}\n+    </nav>\n+  )\n+}\n+```\n+\n+```tsx filename=\"app/docs/layout.tsx\" switcher\n+import { Breadcrumbs } from '@/app/ui/Breadcrumbs'\n+\n+export default function Layout({ children }) {\n   return (\n     <>\n-      <ClientComponent />\n-      {/* Other Layout UI */}\n+      <Breadcrumbs />\n       <main>{children}</main>\n     </>\n   )\n }\n ```\n \n-```jsx filename=\"app/dashboard/layout.js\" switcher\n-import { ClientComponent } from '@/app/ui/ClientComponent'\n+```jsx filename=\"app/docs/layout.js\" switcher\n+import { Breadcrumbs } from '@/app/ui/Breadcrumbs'\n \n export default function Layout({ children }) {\n   return (\n     <>\n-      <ClientComponent />\n-      {/* Other Layout UI */}\n+      <Breadcrumbs />\n       <main>{children}</main>\n     </>\n   )\n }\n ```\n \n-Common `pathname` patterns can also be implemented with [`params`](#params-optional) prop.\n+### Fetching Data\n+\n+Layouts cannot pass data to their `children`. However, you can fetch the same data in a route more than once, and use React [`cache`](https://react.dev/reference/react/cache) to dedupe the requests without affecting performance.\n+\n+Alternatively, when using [`fetch`](https://nextjs.org/docs/app/api-reference/functions/fetch)in Next.js, requests are automatically deduped.\n+\n+```tsx filename=\"app/lib/data.ts\" switcher\n+export async function getUser(id: string) {\n+  const res = await fetch(`https://.../users/${id}`)\n+  return res.json()\n+}\n+```\n+\n+```tsx filename=\"app/dashboard/layout.tsx\" switcher\n+import { getUser } from '@/app/lib/data'\n+import { UserName } from '@/app/ui/user-name'\n+\n+export default async function Layout({ children }) {\n+  const user = await getUser('1')\n+\n+  return (\n+    <>\n+      <nav>\n+        {/* ... */}\n+        <UserName user={user.name} />\n+      </nav>\n+      {children}\n+    </>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/dashboard/layout.js\" switcher\n+import { getUser } from '@/app/lib/data'\n+import { UserName } from '@/app/ui/user-name'\n+\n+export default async function Layout({ children }) {\n+  const user = await getUser('1')\n+\n+  return (\n+    <>\n+      <nav>\n+        {/* ... */}\n+        <UserName user={user.name} />\n+      </nav>\n+      {children}\n+    </>\n+  )\n+}\n+```\n+\n+```tsx filename=\"app/dashboard/page.tsx\" switcher\n+import { getUser } from '@/app/lib/data'\n+import { UserName } from '@/app/ui/user-name'\n+\n+export default async function Page() {\n+  const user = await getUser('1')\n+\n+  return (\n+    <div>\n+      <h1>Welcome {user.name}</h1>\n+    </div>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/dashboard/page.js\" switcher\n+import { getUser } from '@/app/lib/data'\n+import { UserName } from '@/app/ui/user-name'\n+\n+export default async function Page() {\n+  const user = await getUser('1')\n+\n+  return (\n+    <div>\n+      <h1>Welcome {user.name}</h1>\n+    </div>\n+  )\n+}\n+```\n+\n+### Accessing child segments\n \n-See the [examples](/docs/app/building-your-application/routing/layouts-and-templates#examples) section for more information.\n+Layouts do not have access to the route segments below itself. To access all route segments, you can use [`useSelectedLayoutSegment`](/docs/app/api-reference/functions/use-selected-layout-segment) or [`useSelectedLayoutSegments`](/docs/app/api-reference/functions/use-selected-layout-segments) in a Client Component.\n+\n+```tsx filename=\"app/ui/nav-link.tsx\" switcher\n+'use client'\n+\n+import Link from 'next/link'\n+import { useSelectedLayoutSegment } from 'next/navigation'\n+\n+export default function NavLink({\n+  slug,\n+  children,\n+}: {\n+  slug: string\n+  children: React.ReactNode\n+}) {\n+  const segment = useSelectedLayoutSegment()\n+  const isActive = slug === segment\n+\n+  return (\n+    <Link\n+      href={`/blog/${slug}`}\n+      // Change style depending on whether the link is active\n+      style={{ fontWeight: isActive ? 'bold' : 'normal' }}\n+    >\n+      {children}\n+    </Link>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/ui/nav-link.js\" switcher\n+'use client'\n+\n+import Link from 'next/link'\n+import { useSelectedLayoutSegment } from 'next/navigation'\n+\n+export default function NavLinks({ slug, children }) {\n+  const segment = useSelectedLayoutSegment()\n+  const isActive = slug === segment\n+\n+  return (\n+    <Link\n+      href={`/blog/${slug}`}\n+      style={{ fontWeight: isActive ? 'bold' : 'normal' }}\n+    >\n+      {children}\n+    </Link>\n+  )\n+}\n+```\n+\n+```tsx filename=\"app/blog/layout.tsx\" switcher\n+import { NavLink } from './nav-link'\n+import getPosts from './get-posts'\n+\n+export default async function Layout({\n+  children,\n+}: {\n+  children: React.ReactNode\n+}) {\n+  const featuredPosts = await getPosts()\n+  return (\n+    <div>\n+      {featuredPosts.map((post) => (\n+        <div key={post.id}>\n+          <NavLink slug={post.slug}>{post.title}</NavLink>\n+        </div>\n+      ))}\n+      <div>{children}</div>\n+    </div>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/blog/layout.js\" switcher\n+import { NavLink } from './nav-link'\n+import getPosts from './get-posts'\n+\n+export default async function Layout({ children }) {\n+  const featuredPosts = await getPosts()\n+  return (\n+    <div>\n+      {featuredPosts.map((post) => (\n+        <div key={post.id}>\n+          <NavLink slug={post.slug}>{post.title}</NavLink>\n+        </div>\n+      ))}\n+      <div>{children}</div>\n+    </div>\n+  )\n+}\n+```\n \n ## Examples\n \n+### Metadata\n+\n+You can modify the `<head>` HTML elements such as `title` and `meta` using the [`metadata` object](/docs/app/api-reference/functions/generate-metadata#the-metadata-object) or [`generateMetadata` function](/docs/app/api-reference/functions/generate-metadata#generatemetadata-function).\n+\n+```tsx filename=\"app/layout.tsx\" switcher\n+import type { Metadata } from 'next'\n+\n+export const metadata: Metadata = {\n+  title: 'Next.js',\n+}\n+\n+export default function Layout({ children }: { children: React.ReactNode }) {\n+  return '...'\n+}\n+```\n+\n+```jsx filename=\"app/layout.js\" switcher\n+export const metadata = {\n+  title: 'Next.js',\n+}\n+\n+export default function Layout({ children }) {\n+  return '...'\n+}\n+```\n+\n+> **Good to know**: You should **not** manually add `<head>` tags such as `<title>` and `<meta>` to root layouts. Instead, use the [Metadata APIs](/docs/app/api-reference/functions/generate-metadata) which automatically handles advanced requirements such as streaming and de-duplicating `<head>` elements.\n+\n+### Active Nav Links\n+\n+You can use the [`usePathname`](/docs/app/api-reference/functions/use-pathname) hook to determine if a nav link is active.\n+\n+Since `usePathname` is a client hook, you need to extract the nav links into a Client Component, which can be imported into your layout:\n+\n+```tsx filename=\"app/ui/nav-links.tsx\" switcher\n+'use client'\n+\n+import { usePathname } from 'next/navigation'\n+import Link from 'next/link'\n+\n+export function NavLinks() {\n+  const pathname = usePathname()\n+\n+  return (\n+    <nav>\n+      <Link className={`link ${pathname === '/' ? 'active' : ''}`} href=\"/\">\n+        Home\n+      </Link>\n+\n+      <Link\n+        className={`link ${pathname === '/about' ? 'active' : ''}`}\n+        href=\"/about\"\n+      >\n+        About\n+      </Link>\n+    </nav>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/ui/nav-links.js\" switcher\n+'use client'\n+\n+import { usePathname } from 'next/navigation'\n+import Link from 'next/link'\n+\n+export function Links() {\n+  const pathname = usePathname()\n+\n+  return (\n+    <nav>\n+      <Link className={`link ${pathname === '/' ? 'active' : ''}`} href=\"/\">\n+        Home\n+      </Link>\n+\n+      <Link\n+        className={`link ${pathname === '/about' ? 'active' : ''}`}\n+        href=\"/about\"\n+      >\n+        About\n+      </Link>\n+    </nav>\n+  )\n+}\n+```\n+\n+```tsx filename=\"app/layout.tsx\" switcher\n+import { NavLinks } from '@/app/ui/nav-links'\n+\n+export default function Layout({ children }: { children: React.ReactNode }) {\n+  return (\n+    <html lang=\"en\">\n+      <body>\n+        <NavLinks />\n+        <main>{children}</main>\n+      </body>\n+    </html>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/layout.js\" switcher\n+import { NavLinks } from '@/app/ui/nav-links'\n+\n+export default function Layout({ children }) {\n+  return (\n+    <html lang=\"en\">\n+      <body>\n+        <NavLinks />\n+        <main>{children}</main>\n+      </body>\n+    </html>\n+  )\n+}\n+```\n+\n ### Displaying content based on `params`\n \n Using [dynamic route segments](/docs/app/building-your-application/routing/dynamic-routes), you can display or fetch specific content based on the `params` prop."
        },
        {
            "sha": "c1f2afa26c8d28d94ba185bd136f98c81ba182d4",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/template.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Ftemplate.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Ftemplate.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Ftemplate.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -3,7 +3,7 @@ title: template.js\n description: API Reference for the template.js file.\n ---\n \n-A **template** file is similar to a [layout](/docs/app/building-your-application/routing/layouts-and-templates#layouts) in that it wraps a layout or page. Unlike layouts that persist across routes and maintain state, templates are given a unique key, meaning children Client Components reset their state on navigation.\n+A **template** file is similar to a [layout](/docs/app/getting-started/layouts-and-pages#creating-a-layout) in that it wraps a layout or page. Unlike layouts that persist across routes and maintain state, templates are given a unique key, meaning children Client Components reset their state on navigation.\n \n ```tsx filename=\"app/template.tsx\" switcher\n export default function Template({ children }: { children: React.ReactNode }) {"
        },
        {
            "sha": "ea465d0348970c14bd681a6c733dc971e93230e0",
            "filename": "docs/01-app/05-api-reference/04-functions/forbidden.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F04-functions%2Fforbidden.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F04-functions%2Fforbidden.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fforbidden.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -69,7 +69,7 @@ export default async function AdminPage() {\n \n ## Good to know\n \n-- The `forbidden` function cannot be called in the [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required).\n+- The `forbidden` function cannot be called in the [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts).\n \n ## Examples\n "
        },
        {
            "sha": "1a284c716f5c394f438cae86d6c24538889daac2",
            "filename": "docs/01-app/05-api-reference/04-functions/unauthorized.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F04-functions%2Funauthorized.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F04-functions%2Funauthorized.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Funauthorized.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -77,7 +77,7 @@ export default async function DashboardPage() {\n \n ## Good to know\n \n-- The `unauthorized` function cannot be called in the [root layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required).\n+- The `unauthorized` function cannot be called in the [root layout](/docs/app/api-reference/file-conventions/layout#root-layouts).\n \n ## Examples\n "
        },
        {
            "sha": "3650cbe3c48f80475ada7dfdc9c75daf89a81945",
            "filename": "docs/01-app/05-api-reference/04-functions/use-search-params.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-search-params.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-search-params.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-search-params.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -258,7 +258,7 @@ To access search params in [Pages](/docs/app/api-reference/file-conventions/page\n \n #### Layouts\n \n-Unlike Pages, [Layouts](/docs/app/api-reference/file-conventions/layout) (Server Components) **do not** receive the `searchParams` prop. This is because a shared layout is [not re-rendered during navigation](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering) which could lead to stale `searchParams` between navigations. View [detailed explanation](/docs/app/api-reference/file-conventions/layout#layouts-do-not-receive-searchparams).\n+Unlike Pages, [Layouts](/docs/app/api-reference/file-conventions/layout) (Server Components) **do not** receive the `searchParams` prop. This is because a shared layout is [not re-rendered during navigation](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering) which could lead to stale `searchParams` between navigations. View [detailed explanation](/docs/app/api-reference/file-conventions/layout#query-params).\n \n Instead, use the Page [`searchParams`](/docs/app/api-reference/file-conventions/page) prop or the [`useSearchParams`](/docs/app/api-reference/functions/use-search-params) hook in a Client Component, which is re-rendered on the client with the latest `searchParams`.\n "
        },
        {
            "sha": "3bcff81d74825fe6368e4437aaf7eea528fa24b0",
            "filename": "errors/missing-root-layout-tags.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f18b756cde52e188985285993dd29596b8ffc639/errors%2Fmissing-root-layout-tags.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f18b756cde52e188985285993dd29596b8ffc639/errors%2Fmissing-root-layout-tags.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Fmissing-root-layout-tags.mdx?ref=f18b756cde52e188985285993dd29596b8ffc639",
            "patch": "@@ -26,4 +26,4 @@ export default function Layout({ children }: { children: React.ReactNode }) {\n \n ## Useful Links\n \n-- [Root Layout](/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required)\n+- [Root Layout](/docs/app/api-reference/file-conventions/layout#root-layouts)"
        }
    ],
    "stats": {
        "total": 752,
        "additions": 440,
        "deletions": 312
    }
}