{
    "author": "icyJoseph",
    "message": "docs: CSP with SRI corrections (#82365)\n\nFeedback on the csp guide updates",
    "sha": "ea08bf273ce03ac2ba8c6b021f35c27a8facdac1",
    "files": [
        {
            "sha": "dcd24b273f6eda498e617f58ed3f2aa338f90fc7",
            "filename": "docs/01-app/02-guides/content-security-policy.mdx",
            "status": "modified",
            "additions": 9,
            "deletions": 7,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/ea08bf273ce03ac2ba8c6b021f35c27a8facdac1/docs%2F01-app%2F02-guides%2Fcontent-security-policy.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/ea08bf273ce03ac2ba8c6b021f35c27a8facdac1/docs%2F01-app%2F02-guides%2Fcontent-security-policy.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fcontent-security-policy.mdx?ref=ea08bf273ce03ac2ba8c6b021f35c27a8facdac1",
            "patch": "@@ -447,15 +447,15 @@ module.exports = {\n \n <AppOnly>\n \n-## Hash-based CSP with Subresource Integrity (Experimental)\n+## Subresource Integrity (Experimental)\n \n As an alternative to nonces, Next.js offers experimental support for hash-based CSP using Subresource Integrity (SRI). This approach allows you to maintain static generation while still having a strict CSP.\n \n-> **Warning**: This feature is experimental and only available with webpack bundler in App Router applications.\n+> **Good to know**: This feature is experimental and only available with webpack bundler in App Router applications.\n \n ### How SRI works\n \n-Instead of using nonces, SRI generates cryptographic hashes of your JavaScript and CSS files at build time. These hashes are then used in your CSP policy to allow specific scripts and styles.\n+Instead of using nonces, SRI generates cryptographic hashes of your JavaScript files at build time. These hashes are added as `integrity` attributes to script tags, allowing browsers to verify that files haven't been modified during transit.\n \n ### Enabling SRI\n \n@@ -474,15 +474,17 @@ const nextConfig = {\n module.exports = nextConfig\n ```\n \n-### Using SRI with CSP\n+### CSP configuration with SRI\n \n-When SRI is enabled, you can use hash-based CSP policies:\n+When SRI is enabled, you can continue using your existing CSP policies. SRI works independently by adding `integrity` attributes to your assets:\n+\n+> **Good to know**: For dynamic rendering scenarios, you can still generate nonces with middleware if needed, combining both SRI integrity attributes and nonce-based CSP approaches.\n \n ```js filename=\"next.config.js\"\n const cspHeader = `\n     default-src 'self';\n-    script-src 'self'; /* Next.js will automatically add hashes */\n-    style-src 'self'; /* Next.js will automatically add hashes */\n+    script-src 'self';\n+    style-src 'self';\n     img-src 'self' blob: data:;\n     font-src 'self';\n     object-src 'none';"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 9,
        "deletions": 7
    }
}