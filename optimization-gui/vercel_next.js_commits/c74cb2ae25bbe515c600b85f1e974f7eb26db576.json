{
    "author": "feedthejim",
    "message": "Redesign default error pages with cleaner, more user-friendly UI (#87988)\n\n- redesigns the default global + default error boundaries. removing the\nWSOD forever :/\n- adds dark mode support\n- unifies a bit of the styling\n- add the digest for the server error\n- adds a return button on the client errors\n\n<img width=\"3328\" height=\"1914\" alt=\"CleanShot 2026-01-02 at 09 46\n36@2x\"\nsrc=\"https://github.com/user-attachments/assets/9994eb37-c22b-4847-9a18-e9acf0ae6236\"\n/>\n\n<img width=\"2144\" height=\"1242\" alt=\"CleanShot 2026-01-02 at 09 47\n01@2x\"\nsrc=\"https://github.com/user-attachments/assets/9b3bcf39-63f6-4c8d-85c5-2976c25f5b7b\"\n/>\n\n\n<img width=\"2238\" height=\"1632\" alt=\"CleanShot 2026-01-02 at 09 47\n17@2x\"\nsrc=\"https://github.com/user-attachments/assets/436433d7-9873-496a-9c96-536e070be9d7\"\n/>\n<img width=\"1708\" height=\"1260\" alt=\"CleanShot 2026-01-02 at 09 47\n23@2x\"\nsrc=\"https://github.com/user-attachments/assets/1ec42402-dbd9-41a3-801b-4745a4f128f7\"\n/>\n\n---------\n\nCo-authored-by: Claude Opus 4.5 <noreply@anthropic.com>",
    "sha": "c74cb2ae25bbe515c600b85f1e974f7eb26db576",
    "files": [
        {
            "sha": "a61ad9c6bfdd15dd28c59fea9979634ac88a4a90",
            "filename": "packages/next/src/client/components/builtin/app-error.tsx",
            "status": "modified",
            "additions": 20,
            "deletions": 64,
            "changes": 84,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fapp-error.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fapp-error.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fapp-error.tsx?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -1,75 +1,31 @@\n import React from 'react'\n+import { errorStyles, errorThemeCss, ErrorIcon } from './error-styles'\n \n-const styles: Record<string, React.CSSProperties> = {\n-  error: {\n-    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n-    fontFamily:\n-      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n-    height: '100vh',\n-    textAlign: 'center',\n-    display: 'flex',\n-    flexDirection: 'column',\n-    alignItems: 'center',\n-    justifyContent: 'center',\n-  },\n-  desc: {\n-    lineHeight: '48px',\n-  },\n-  h1: {\n-    display: 'inline-block',\n-    margin: '0 20px 0 0',\n-    paddingRight: 23,\n-    fontSize: 24,\n-    fontWeight: 500,\n-    verticalAlign: 'top',\n-  },\n-  h2: {\n-    fontSize: 14,\n-    fontWeight: 400,\n-    lineHeight: '28px',\n-  },\n-  wrap: {\n-    display: 'inline-block',\n-  },\n-} as const\n-\n-/* CSS minified from\n-body { margin: 0; color: #000; background: #fff; }\n-.next-error-h1 {\n-  border-right: 1px solid rgba(0, 0, 0, .3);\n-}\n-@media (prefers-color-scheme: dark) {\n-  body { color: #fff; background: #000; }\n-  .next-error-h1 {\n-    border-right: 1px solid rgba(255, 255, 255, .3);\n-  }\n-}\n-*/\n-const themeCss = `body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}\n-@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}`\n-\n+// This is the static 500.html page for App Router apps.\n+// Always a server error, rendered at build time.\n function AppError() {\n-  const errorMessage = 'Internal Server Error.'\n-  const title = `500: ${errorMessage}`\n   return (\n     <html id=\"__next_error__\">\n       <head>\n-        <title>{title}</title>\n+        <title>500: This page failed to load</title>\n+        <style dangerouslySetInnerHTML={{ __html: errorThemeCss }} />\n       </head>\n       <body>\n-        <div style={styles.error}>\n-          <div style={styles.desc}>\n-            <style\n-              dangerouslySetInnerHTML={{\n-                __html: themeCss,\n-              }}\n-            />\n-            <h1 className=\"next-error-h1\" style={styles.h1}>\n-              500\n-            </h1>\n-            <div style={styles.wrap}>\n-              <h2 style={styles.h2}>{errorMessage}</h2>\n-            </div>\n+        <div style={errorStyles.container}>\n+          <div style={errorStyles.card}>\n+            <ErrorIcon />\n+            <h1 style={errorStyles.title}>This page failed to load</h1>\n+            <p style={errorStyles.message}>\n+              Something went wrong while loading this page.\n+            </p>\n+            <p style={errorStyles.messageHint}>\n+              If this keeps happening, it may be a server issue.\n+            </p>\n+            <form>\n+              <button type=\"submit\" style={errorStyles.button}>\n+                Reload page\n+              </button>\n+            </form>\n           </div>\n         </div>\n       </body>"
        },
        {
            "sha": "9d6f929e365b7b7d9736139f9f4e660e203cf4c2",
            "filename": "packages/next/src/client/components/builtin/error-styles.tsx",
            "status": "added",
            "additions": 152,
            "deletions": 0,
            "changes": 152,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Ferror-styles.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Ferror-styles.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Ferror-styles.tsx?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -0,0 +1,152 @@\n+import React from 'react'\n+\n+export const errorStyles = {\n+  container: {\n+    fontFamily:\n+      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n+    height: '100vh',\n+    display: 'flex',\n+    alignItems: 'center',\n+    justifyContent: 'center',\n+  },\n+  card: {\n+    maxWidth: '420px',\n+    padding: '32px 28px',\n+    textAlign: 'left' as const,\n+  },\n+  icon: {\n+    marginBottom: '16px',\n+  },\n+  title: {\n+    fontSize: '17px',\n+    fontWeight: 600,\n+    letterSpacing: '-0.01em',\n+    margin: '0 0 8px 0',\n+    color: 'var(--next-error-title)',\n+  },\n+  message: {\n+    fontSize: '14px',\n+    fontWeight: 400,\n+    lineHeight: 1.6,\n+    margin: '0 0 6px 0',\n+    color: 'var(--next-error-message)',\n+  },\n+  messageHint: {\n+    fontSize: '13px',\n+    fontWeight: 400,\n+    lineHeight: 1.5,\n+    margin: '0 0 20px 0',\n+    color: 'var(--next-error-hint)',\n+  },\n+  buttonGroup: {\n+    display: 'flex',\n+    gap: '12px',\n+    alignItems: 'center',\n+  },\n+  button: {\n+    padding: '10px 20px',\n+    fontSize: '14px',\n+    fontWeight: 500,\n+    letterSpacing: '0.01em',\n+    borderRadius: '6px',\n+    cursor: 'pointer',\n+    color: 'var(--next-error-btn-text)',\n+    background: 'var(--next-error-btn-bg)',\n+    border: 'var(--next-error-btn-border)',\n+  },\n+  buttonSecondary: {\n+    padding: '10px 20px',\n+    fontSize: '14px',\n+    fontWeight: 500,\n+    letterSpacing: '0.01em',\n+    borderRadius: '6px',\n+    cursor: 'pointer',\n+    color: 'var(--next-error-btn-secondary-text)',\n+    background: 'transparent',\n+    border: 'none',\n+  },\n+  digestContainer: {\n+    marginTop: '20px',\n+    paddingTop: '16px',\n+    borderTop: 'var(--next-error-digest-border)',\n+  },\n+  digest: {\n+    fontSize: '12px',\n+    fontWeight: 400,\n+    margin: '0',\n+    color: 'var(--next-error-digest)',\n+  },\n+  digestCode: {\n+    fontFamily:\n+      'ui-monospace,SFMono-Regular,\"SF Mono\",Menlo,Consolas,monospace',\n+    fontSize: '11px',\n+    color: 'var(--next-error-digest-code)',\n+    userSelect: 'all' as const,\n+  },\n+} as const\n+\n+export const errorThemeCss = `\n+:root {\n+  --next-error-bg: #fff;\n+  --next-error-text: #171717;\n+  --next-error-title: #171717;\n+  --next-error-message: #666;\n+  --next-error-hint: #888;\n+  --next-error-digest: #999;\n+  --next-error-digest-code: #888;\n+  --next-error-digest-border: 1px solid rgba(0,0,0,0.06);\n+  --next-error-btn-text: #171717;\n+  --next-error-btn-bg: #fff;\n+  --next-error-btn-border: 1px solid #e5e5e5;\n+  --next-error-btn-secondary-text: #666;\n+  --next-error-icon-ring: #fecaca;\n+  --next-error-icon-fill: #fef2f2;\n+}\n+@media (prefers-color-scheme: dark) {\n+  :root {\n+    --next-error-bg: #0a0a0a;\n+    --next-error-text: #ededed;\n+    --next-error-title: #ededed;\n+    --next-error-message: #a0a0a0;\n+    --next-error-hint: #707070;\n+    --next-error-digest: #606060;\n+    --next-error-digest-code: #707070;\n+    --next-error-digest-border: 1px solid rgba(255,255,255,0.08);\n+    --next-error-btn-text: #ededed;\n+    --next-error-btn-bg: #1a1a1a;\n+    --next-error-btn-border: 1px solid #333;\n+    --next-error-btn-secondary-text: #a0a0a0;\n+    --next-error-icon-ring: #5c2121;\n+    --next-error-icon-fill: #2a1618;\n+  }\n+}\n+body { margin: 0; color: var(--next-error-text); background: var(--next-error-bg); }\n+`.replace(/\\n\\s*/g, '')\n+\n+export function ErrorIcon() {\n+  return (\n+    <svg\n+      width=\"40\"\n+      height=\"40\"\n+      viewBox=\"0 0 40 40\"\n+      fill=\"none\"\n+      style={errorStyles.icon}\n+    >\n+      <circle\n+        cx=\"20\"\n+        cy=\"20\"\n+        r=\"19\"\n+        stroke=\"var(--next-error-icon-ring)\"\n+        strokeWidth=\"2\"\n+      />\n+      <circle cx=\"20\" cy=\"20\" r=\"16\" fill=\"var(--next-error-icon-fill)\" />\n+      <path\n+        d=\"M20 12v9\"\n+        stroke=\"#dc2626\"\n+        strokeWidth=\"2.5\"\n+        strokeLinecap=\"round\"\n+      />\n+      <circle cx=\"20\" cy=\"27\" r=\"1.5\" fill=\"#dc2626\" />\n+    </svg>\n+  )\n+}"
        },
        {
            "sha": "74e9797422aac7e3589fd5fbfee4c0b62f0f1fc2",
            "filename": "packages/next/src/client/components/builtin/global-error.tsx",
            "status": "modified",
            "additions": 58,
            "deletions": 30,
            "changes": 88,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fglobal-error.tsx?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -1,46 +1,74 @@\n 'use client'\n \n import { HandleISRError } from '../handle-isr-error'\n-\n-const styles = {\n-  error: {\n-    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n-    fontFamily:\n-      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n-    height: '100vh',\n-    textAlign: 'center',\n-    display: 'flex',\n-    flexDirection: 'column',\n-    alignItems: 'center',\n-    justifyContent: 'center',\n-  },\n-  text: {\n-    fontSize: '14px',\n-    fontWeight: 400,\n-    lineHeight: '28px',\n-    margin: '0 8px',\n-  },\n-} as const\n+import { errorStyles, errorThemeCss, ErrorIcon } from './error-styles'\n \n export type GlobalErrorComponent = React.ComponentType<{\n   error: any\n }>\n+\n function DefaultGlobalError({ error }: { error: any }) {\n   const digest: string | undefined = error?.digest\n+  const isServerError = !!digest\n+\n+  // Server error: \"This page failed to load\"\n+  // Client error: \"This page crashed\"\n+  const title = isServerError ? 'This page failed to load' : 'This page crashed'\n+  const message = isServerError\n+    ? 'Something went wrong while loading this page.'\n+    : 'An error occurred while running this page.'\n+  const hint = isServerError\n+    ? 'If this keeps happening, it may be a server issue.'\n+    : null\n+\n   return (\n     <html id=\"__next_error__\">\n-      <head></head>\n+      <head>\n+        <style dangerouslySetInnerHTML={{ __html: errorThemeCss }} />\n+      </head>\n       <body>\n         <HandleISRError error={error} />\n-        <div style={styles.error}>\n-          <div>\n-            <h2 style={styles.text}>\n-              Application error: a {digest ? 'server' : 'client'}-side exception\n-              has occurred while loading {window.location.hostname} (see the{' '}\n-              {digest ? 'server logs' : 'browser console'} for more\n-              information).\n-            </h2>\n-            {digest ? <p style={styles.text}>{`Digest: ${digest}`}</p> : null}\n+        <div style={errorStyles.container}>\n+          <div style={errorStyles.card}>\n+            <ErrorIcon />\n+            <h1 style={errorStyles.title}>{title}</h1>\n+            <p style={errorStyles.message}>{message}</p>\n+            {hint && <p style={errorStyles.messageHint}>{hint}</p>}\n+            {!isServerError && (\n+              <p style={errorStyles.messageHint}>\n+                Reloading usually fixes this.\n+              </p>\n+            )}\n+            <div style={errorStyles.buttonGroup}>\n+              <form>\n+                <button type=\"submit\" style={errorStyles.button}>\n+                  Reload page\n+                </button>\n+              </form>\n+              {!isServerError && (\n+                <button\n+                  type=\"button\"\n+                  style={errorStyles.buttonSecondary}\n+                  onClick={() => {\n+                    if (window.history.length > 1) {\n+                      window.history.back()\n+                    } else {\n+                      window.location.href = '/'\n+                    }\n+                  }}\n+                >\n+                  Go back\n+                </button>\n+              )}\n+            </div>\n+            {digest && (\n+              <div style={errorStyles.digestContainer}>\n+                <p style={errorStyles.digest}>\n+                  Error reference:{' '}\n+                  <code style={errorStyles.digestCode}>{digest}</code>\n+                </p>\n+              </div>\n+            )}\n           </div>\n         </div>\n       </body>"
        },
        {
            "sha": "531808c79350a01e68c9f2f1d97066eddee3ab7b",
            "filename": "test/development/app-dir/serialize-circular-error/serialize-circular-error.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fdevelopment%2Fapp-dir%2Fserialize-circular-error%2Fserialize-circular-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fdevelopment%2Fapp-dir%2Fserialize-circular-error%2Fserialize-circular-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fserialize-circular-error%2Fserialize-circular-error.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -38,9 +38,7 @@ describe('serialize-circular-error', () => {\n     `)\n \n     const bodyText = await browser.elementByCss('body').text()\n-    expect(bodyText).toContain(\n-      'Application error: a client-side exception has occurred while loading localhost (see the browser console for more information).'\n-    )\n+    expect(bodyText).toContain('This page crashed')\n \n     const output = next.cliOutput\n     expect(output).toContain("
        },
        {
            "sha": "803f17d863c8ad887c14588aab3487e473367b41",
            "filename": "test/e2e/app-dir/default-error-page-ui/app/layout.js",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Flayout.js?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -0,0 +1,7 @@\n+export default function RootLayout({ children }) {\n+  return (\n+    <html>\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "47d3b3cec13aa6d2b26eaa6ef028751bae985159",
            "filename": "test/e2e/app-dir/default-error-page-ui/app/page.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Fpage.js?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Home() {\n+  return <div>Home Page</div>\n+}"
        },
        {
            "sha": "3ece6d0332d8f3ec88d635da1069fe3bc0519638",
            "filename": "test/e2e/app-dir/default-error-page-ui/app/server-error/page.js",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Fserver-error%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Fserver-error%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Fserver-error%2Fpage.js?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -0,0 +1,15 @@\n+import { Suspense } from 'react'\n+import { connection } from 'next/server'\n+\n+async function ServerErrorContent() {\n+  await connection()\n+  throw new Error('Test server error')\n+}\n+\n+export default function ServerErrorPage() {\n+  return (\n+    <Suspense fallback={<div>Loading...</div>}>\n+      <ServerErrorContent />\n+    </Suspense>\n+  )\n+}"
        },
        {
            "sha": "9ad48634779b7f67b7e0a29c6099944808d7ce8c",
            "filename": "test/e2e/app-dir/default-error-page-ui/app/trigger-error/page.js",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Ftrigger-error%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Ftrigger-error%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fapp%2Ftrigger-error%2Fpage.js?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -0,0 +1,20 @@\n+'use client'\n+\n+import { useState } from 'react'\n+\n+export default function TriggerErrorPage() {\n+  const [shouldError, setShouldError] = useState(false)\n+\n+  if (shouldError) {\n+    throw new Error('Test client error')\n+  }\n+\n+  return (\n+    <div>\n+      <h1>Trigger Error Page</h1>\n+      <button id=\"trigger-error\" onClick={() => setShouldError(true)}>\n+        Trigger Error\n+      </button>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "c3b2773b9cd6f2c4527638032a224a164fe3f468",
            "filename": "test/e2e/app-dir/default-error-page-ui/default-error-page-ui.test.ts",
            "status": "added",
            "additions": 160,
            "deletions": 0,
            "changes": 160,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fdefault-error-page-ui.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fdefault-error-page-ui.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdefault-error-page-ui%2Fdefault-error-page-ui.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -0,0 +1,160 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('app dir - default error page UI', () => {\n+  const { next, isNextDev } = nextTestSetup({\n+    files: __dirname,\n+  })\n+\n+  it('should render client error page with correct UI elements', async () => {\n+    const browser = await next.browser('/trigger-error')\n+\n+    // Trigger a client-side error\n+    await browser.elementByCss('#trigger-error').click()\n+\n+    // Skip UI checks in dev mode (redbox overlay covers the error page)\n+    if (isNextDev) {\n+      await expect(browser).toDisplayRedbox(`\n+       {\n+         \"description\": \"Test client error\",\n+         \"environmentLabel\": null,\n+         \"label\": \"Runtime Error\",\n+         \"source\": \"app/trigger-error/page.js (9:11) @ TriggerErrorPage\n+       >  9 |     throw new Error('Test client error')\n+            |           ^\",\n+         \"stack\": [\n+           \"TriggerErrorPage app/trigger-error/page.js (9:11)\",\n+         ],\n+       }\n+      `)\n+      return\n+    }\n+\n+    // In production mode, verify the client error page UI elements\n+\n+    // Check that the SVG icon is present (40x40 size)\n+    const svgIcon = await browser.elementByCss('svg')\n+    expect(await svgIcon.getAttribute('width')).toBe('40')\n+    expect(await svgIcon.getAttribute('height')).toBe('40')\n+\n+    // Check the error title - client errors show \"This page crashed\"\n+    const title = await browser.elementByCss('h1')\n+    expect(await title.text()).toBe('This page crashed')\n+\n+    // Check the error message - client errors show \"An error occurred while running this page.\"\n+    const message = await browser.elementByCss('p')\n+    expect(await message.text()).toContain('An error occurred while running')\n+\n+    // Check the \"Reload page\" button exists\n+    const buttons = await browser.elementsByCss('button')\n+    expect(await buttons[0].innerText()).toBe('Reload page')\n+\n+    // Check \"Go back\" button exists for client errors\n+    expect(await buttons[1].innerText()).toBe('Go back')\n+\n+    // Check the hint text about reloading\n+    const html = await browser.eval('document.documentElement.innerHTML')\n+    expect(html).toContain('Reloading usually fixes this')\n+  })\n+\n+  it('should reload the page when Reload page button is clicked', async () => {\n+    const browser = await next.browser('/trigger-error')\n+\n+    // Trigger a client-side error\n+    await browser.elementByCss('#trigger-error').click()\n+\n+    // Skip in dev mode (redbox overlay)\n+    if (isNextDev) {\n+      return\n+    }\n+\n+    // Get the current URL\n+    const urlBefore = await browser.url()\n+\n+    // Click the Reload page button\n+    await browser.elementByCss('button').click()\n+\n+    // Wait for page to reload (should be back to the trigger-error page)\n+    await browser.waitForElementByCss('#trigger-error')\n+\n+    // Verify we're on the same page\n+    const urlAfter = await browser.url()\n+    expect(urlAfter).toBe(urlBefore)\n+\n+    // Verify the page content is showing (not the error)\n+    const pageTitle = await browser.elementByCss('h1')\n+    expect(await pageTitle.text()).toBe('Trigger Error Page')\n+  })\n+\n+  it('should have proper styling in the default error page', async () => {\n+    const browser = await next.browser('/trigger-error')\n+\n+    // Trigger a client-side error\n+    await browser.elementByCss('#trigger-error').click()\n+\n+    // Skip in dev mode\n+    if (isNextDev) {\n+      return\n+    }\n+\n+    // Check that the title has neutral dark color (not red)\n+    const title = await browser.elementByCss('h1')\n+    const titleColor = await title.getComputedCss('color')\n+    // In light mode: #171717 = rgb(23, 23, 23)\n+    expect(titleColor).toContain('23')\n+\n+    // Check that the button has neutral styling (white background with border)\n+    const button = await browser.elementByCss('button')\n+    const buttonBg = await button.getComputedCss('background-color')\n+    // White = rgb(255, 255, 255)\n+    expect(buttonBg).toContain('255')\n+  })\n+\n+  it('should display server error page with Error reference', async () => {\n+    const browser = await next.browser('/server-error')\n+\n+    // Skip in dev mode (redbox overlay)\n+    if (isNextDev) {\n+      await expect(browser).toDisplayRedbox(`\n+       {\n+         \"description\": \"Test server error\",\n+         \"environmentLabel\": \"Server\",\n+         \"label\": \"Runtime Error\",\n+         \"source\": \"app/server-error/page.js (6:9) @ ServerErrorContent\n+       > 6 |   throw new Error('Test server error')\n+           |         ^\",\n+         \"stack\": [\n+           \"ServerErrorContent app/server-error/page.js (6:9)\",\n+         ],\n+       }\n+      `)\n+      return\n+    }\n+\n+    // In production mode, verify the server error page\n+    const html = await browser.eval('document.documentElement.innerHTML')\n+\n+    // Server errors show \"This page failed to load\"\n+    expect(html).toContain('This page failed to load')\n+\n+    // Server errors show \"Error reference:\" with digest\n+    expect(html).toContain('Error reference:')\n+\n+    // Server errors show hint about server issue\n+    expect(html).toContain('it may be a server issue')\n+  })\n+\n+  it('should have left-aligned text in error page', async () => {\n+    const browser = await next.browser('/trigger-error')\n+\n+    await browser.elementByCss('#trigger-error').click()\n+\n+    if (isNextDev) {\n+      return\n+    }\n+\n+    // Check that the h1 has left text alignment\n+    const title = await browser.elementByCss('h1')\n+    const textAlign = await title.getComputedCss('text-align')\n+    expect(textAlign).toBe('left')\n+  })\n+})"
        },
        {
            "sha": "d94a771323c873afc07355e42ad264ca2e487b40",
            "filename": "test/e2e/app-dir/errors/index.test.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 11,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Ferrors%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Ferrors%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Ferrors%2Findex.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -189,10 +189,8 @@ describe('app-dir - errors', () => {\n         `)\n       } else {\n         expect(\n-          await browser.waitForElementByCss('body').elementByCss('h2').text()\n-        ).toBe(\n-          'Application error: a client-side exception has occurred while loading localhost (see the browser console for more information).'\n-        )\n+          await browser.waitForElementByCss('body').elementByCss('h1').text()\n+        ).toBe('This page crashed')\n       }\n \n       expect(pageErrors).toEqual([\n@@ -228,13 +226,11 @@ describe('app-dir - errors', () => {\n         `)\n       } else {\n         expect(\n-          await browser.waitForElementByCss('body').elementByCss('h2').text()\n-        ).toBe(\n-          'Application error: a server-side exception has occurred while loading localhost (see the server logs for more information).'\n-        )\n-        expect(\n-          await browser.waitForElementByCss('body').elementByCss('p').text()\n-        ).toMatch(/Digest: \\w+/)\n+          await browser.waitForElementByCss('body').elementByCss('h1').text()\n+        ).toBe('This page failed to load')\n+        // Check digest is displayed in error reference\n+        const bodyText = await browser.waitForElementByCss('body').text()\n+        expect(bodyText).toMatch(/Error reference:\\s*\\w+/)\n       }\n \n       expect(pageErrors).toEqual(["
        },
        {
            "sha": "98ca02c4cf6b1afd6f1a70cd15281735fedbac5e",
            "filename": "test/e2e/app-dir/global-error/error-in-global-error/error-in-global-error.test.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fglobal-error%2Ferror-in-global-error%2Ferror-in-global-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Fglobal-error%2Ferror-in-global-error%2Ferror-in-global-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fglobal-error%2Ferror-in-global-error%2Ferror-in-global-error.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -31,10 +31,10 @@ describe('app dir - global-error - error-in-global-error', () => {\n \n   it('should render fallback UI when error occurs in global-error', async () => {\n     const browser = await next.browser('/?error-in-global-error=1')\n-    const text = await browser.elementByCss('h2').text()\n-    expect(text).toMatch(\n-      /Application error: a client-side exception has occurred while loading [\\w.-]+ \\(see the browser console for more information\\)./\n-    )\n+    // When the custom global-error throws, it falls back to the default global-error\n+    // Client errors show \"This page crashed\"\n+    const title = await browser.elementByCss('h1').text()\n+    expect(title).toBe('This page crashed')\n \n     if (isNextDev) {\n       await waitForRedbox(browser)"
        },
        {
            "sha": "daf6954ba737e8f4231b7e64fb901bc7a0052b99",
            "filename": "test/e2e/app-dir/revalidatetag-rsc/revalidatetag-rsc.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Frevalidatetag-rsc%2Frevalidatetag-rsc.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fapp-dir%2Frevalidatetag-rsc%2Frevalidatetag-rsc.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Frevalidatetag-rsc%2Frevalidatetag-rsc.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -36,7 +36,7 @@ describe('revalidateTag-rsc', () => {\n         await retry(async () => {\n           expect(\n             await browser.eval('document.documentElement.innerHTML')\n-          ).toContain('Application error: a server-side exception has occurred')\n+          ).toContain('This page failed to load')\n         })\n       }\n "
        },
        {
            "sha": "fd557f2e5644c6c220786746b47937cbad2ab600",
            "filename": "test/e2e/next-link-errors/next-link-errors.test.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fnext-link-errors%2Fnext-link-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fe2e%2Fnext-link-errors%2Fnext-link-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-link-errors%2Fnext-link-errors.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -28,8 +28,9 @@ describe('next-link', () => {\n        }\n       `)\n     }\n-    expect(await browser.elementByCss('body').text()).toMatchInlineSnapshot(\n-      `\"Application error: a client-side exception has occurred while loading localhost (see the browser console for more information).\"`\n+    // Client errors show \"This page crashed\"\n+    expect(await browser.elementByCss('body').text()).toContain(\n+      'This page crashed'\n     )\n   })\n \n@@ -51,8 +52,9 @@ describe('next-link', () => {\n          ],\n        }\n       `)\n-      expect(await browser.elementByCss('body').text()).toMatchInlineSnapshot(\n-        `\"Application error: a client-side exception has occurred while loading localhost (see the browser console for more information).\"`\n+      // Client errors show \"This page crashed\"\n+      expect(await browser.elementByCss('body').text()).toContain(\n+        'This page crashed'\n       )\n     } else {\n       expect(await browser.elementByCss('body').text()).toMatchInlineSnapshot("
        },
        {
            "sha": "8e697405a8bf9fa7c2a517d955e6265946f63ffe",
            "filename": "test/production/500-page/app-router-only/app-router-only.test.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2F500-page%2Fapp-router-only%2Fapp-router-only.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2F500-page%2Fapp-router-only%2Fapp-router-only.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2F500-page%2Fapp-router-only%2Fapp-router-only.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -11,8 +11,8 @@ describe('500-page app-router-only', () => {\n     it('should render app router 500 page when route error', async () => {\n       const $ = await next.render$('/route-error')\n       expect($('html').attr('id')).toBe('__next_error__')\n-      expect($('body').text()).toContain('Internal Server Error.')\n-      expect($('body').text()).toContain('500')\n+      // Server errors show \"This page failed to load\"\n+      expect($('body').text()).toContain('This page failed to load')\n     })\n   }\n \n@@ -24,7 +24,8 @@ describe('500-page app-router-only', () => {\n       )\n       // Not use pages router to generate 500.html\n       expect(html).toContain('__next_error__')\n-      expect(html).toContain('Internal Server Error.')\n+      // Server errors show \"This page failed to load\"\n+      expect(html).toContain('This page failed to load')\n       // global-error is not used in app router 500.html\n       expect(html).not.toContain('app-router-global-error')\n     })"
        },
        {
            "sha": "cf44115d8b9f8ca3573ee8f0614a8369571cd3fb",
            "filename": "test/production/app-dir/graceful-degrade/graceful-degrade-non-bot.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2Fapp-dir%2Fgraceful-degrade%2Fgraceful-degrade-non-bot.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2Fapp-dir%2Fgraceful-degrade%2Fgraceful-degrade-non-bot.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fgraceful-degrade%2Fgraceful-degrade-non-bot.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -32,9 +32,8 @@ describe('graceful-degrade - non bot', () => {\n     expect(await body.getAttribute('class')).not.toBe('body-cls')\n \n     const bodyText = await body.text()\n-    expect(bodyText).toMatch(\n-      /Application error: a client-side exception has occurred while loading/\n-    )\n+    // Client errors show \"This page crashed\"\n+    expect(bodyText).toMatch(/This page crashed/)\n   })\n \n   it('should show error boundary when browser errors when error boundary is defined', async () => {"
        },
        {
            "sha": "0ceb67a344703c0666e655ffa531012243f8c60c",
            "filename": "test/production/app-dir/graceful-degrade/graceful-degrade.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2Fapp-dir%2Fgraceful-degrade%2Fgraceful-degrade.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2Fapp-dir%2Fgraceful-degrade%2Fgraceful-degrade.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fgraceful-degrade%2Fgraceful-degrade.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -31,9 +31,7 @@ describe('graceful-degrade', () => {\n \n     // Do not contain the global error boundary text\n     const bodyText = await originBody.text()\n-    expect(bodyText).not.toMatch(\n-      /Application error: a client-side exception has occurred while loading/\n-    )\n+    expect(bodyText).not.toMatch(/This page crashed/)\n   })\n \n   it('should preserve the ssr html when browser errors for bot', async () => {\n@@ -50,9 +48,7 @@ describe('graceful-degrade', () => {\n     expect(errors).toMatch(/Error: boom/)\n \n     const bodyText = await browser.elementByCss('body').text()\n-    expect(bodyText).not.toMatch(\n-      /Application error: a client-side exception has occurred while loading/\n-    )\n+    expect(bodyText).not.toMatch(/This page crashed/)\n     expect(bodyText).toMatch(/fine/)\n   })\n })"
        },
        {
            "sha": "d428502377d487920449abfbfc5adcc81baa71b5",
            "filename": "test/production/chunk-load-failure/chunk-load-failure.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2Fchunk-load-failure%2Fchunk-load-failure.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c74cb2ae25bbe515c600b85f1e974f7eb26db576/test%2Fproduction%2Fchunk-load-failure%2Fchunk-load-failure.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fchunk-load-failure%2Fchunk-load-failure.test.ts?ref=c74cb2ae25bbe515c600b85f1e974f7eb26db576",
            "patch": "@@ -41,9 +41,8 @@ describe('chunk-load-failure', () => {\n \n     await retry(async () => {\n       const body = await browser.elementByCss('body')\n-      expect(await body.text()).toMatch(\n-        /Application error: a client-side exception has occurred while loading/\n-      )\n+      // Client errors show \"This page crashed\"\n+      expect(await body.text()).toMatch(/This page crashed/)\n     })\n \n     expect(pageError).toBeDefined()"
        }
    ],
    "stats": {
        "total": 596,
        "additions": 464,
        "deletions": 132
    }
}