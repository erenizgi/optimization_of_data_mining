{
    "author": "devjiwonchoi",
    "message": "docs: improve  `'use client'` directive and client components (#79115)\n\n### Why?\r\n\r\nOur docs mention the `'use client'` directive to \"designate a Client Component,\"  but this can easily lead to misunderstanding that the users need to mark the directive to write a Client Component. This chains to ambiguity on the concept that the entry point Client Components' props must be serializable.\r\n\r\nIt is essential to emphasize that this directive serves as the **entry point** for the client-server **boundary**, not a Client Component opt-in feature.",
    "sha": "73e87727b71b1ec902be642253e2db23c3673e1c",
    "files": [
        {
            "sha": "f12d51efe302be80e79a20610b21e2f6a5e88e28",
            "filename": "docs/01-app/03-building-your-application/03-rendering/02-client-components.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/73e87727b71b1ec902be642253e2db23c3673e1c/docs%2F01-app%2F03-building-your-application%2F03-rendering%2F02-client-components.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/73e87727b71b1ec902be642253e2db23c3673e1c/docs%2F01-app%2F03-building-your-application%2F03-rendering%2F02-client-components.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F03-rendering%2F02-client-components.mdx?ref=73e87727b71b1ec902be642253e2db23c3673e1c",
            "patch": "@@ -18,7 +18,7 @@ There are a couple of benefits to doing the rendering work on the client, includ\n \n To use Client Components, you can add the React [`'use client'` directive](https://react.dev/reference/react/use-client) at the top of a file, above your imports.\n \n-`'use client'` is used to declare a [boundary](/docs/app/building-your-application/rendering#network-boundary) between a Server and Client Component modules. This means that by defining a `'use client'` in a file, all other modules imported into it, including child components, are considered part of the client bundle.\n+`'use client'` is used to declare a [boundary](/docs/app/building-your-application/rendering#network-boundary) between a Server and Client Component modules. This means that by defining a `'use client'` in a file, all other modules imported into it, including child components, are considered part of the client bundle. The props of components exported from a file with the `'use client'` directive must be [serializable](https://react.dev/reference/rsc/use-client#serializable-types) by React to allow data to be passed from the server to the client across the boundary.\n \n ```tsx filename=\"app/counter.tsx\" highlight={1} switcher\n 'use client'"
        },
        {
            "sha": "ae6764e532e3589464da12bae1679868145df61e",
            "filename": "docs/01-app/05-api-reference/01-directives/use-client.mdx",
            "status": "modified",
            "additions": 36,
            "deletions": 2,
            "changes": 38,
            "blob_url": "https://github.com/vercel/next.js/blob/73e87727b71b1ec902be642253e2db23c3673e1c/docs%2F01-app%2F05-api-reference%2F01-directives%2Fuse-client.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/73e87727b71b1ec902be642253e2db23c3673e1c/docs%2F01-app%2F05-api-reference%2F01-directives%2Fuse-client.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F01-directives%2Fuse-client.mdx?ref=73e87727b71b1ec902be642253e2db23c3673e1c",
            "patch": "@@ -3,11 +3,15 @@ title: use client\n description: Learn how to use the use client directive to render a component on the client.\n ---\n \n-The `'use client'` directive designates a component to be rendered on the **client side** and should be used when creating interactive user interfaces (UI) that require client-side JavaScript capabilities, such as state management, event handling, and access to browser APIs. This is a React feature.\n+The `'use client'` directive declares an entry point for the components to be rendered on the **client side** and should be used when creating interactive user interfaces (UI) that require client-side JavaScript capabilities, such as state management, event handling, and access to browser APIs. This is a React feature.\n+\n+> **Good to know:**\n+>\n+> You do not need to add the `'use client'` directive to every file that contains Client Components. You only need to add it to the files whose components you want to render directly within Server Components. The `'use client'` directive defines the client-server [boundary](https://nextjs.org/docs/app/building-your-application/rendering#network-boundary), and the components exported from such a file serve as entry points to the client.\n \n ## Usage\n \n-To designate a component as a Client Component, add the `'use client'` directive **at the top of the file**, before any imports:\n+To declare an entry point for the Client Components, add the `'use client'` directive **at the top of the file**, before any imports:\n \n ```tsx filename=\"app/components/counter.tsx\" highlight={1} switcher\n 'use client'\n@@ -43,6 +47,36 @@ export default function Counter() {\n }\n ```\n \n+When using the `'use client'` directive, the props of the Client Components must be [serializable](https://react.dev/reference/rsc/use-client#serializable-types). This means the props need to be in a format that React can serialize when sending data from the server to the client.\n+\n+```tsx filename=\"app/components/counter.tsx\" highlight={4} switcher\n+'use client'\n+\n+export default function Counter({\n+  onClick /* ❌ Function is not serializable */,\n+}) {\n+  return (\n+    <div>\n+      <button onClick={onClick}>Increment</button>\n+    </div>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/components/counter.js\" highlight={4} switcher\n+'use client'\n+\n+export default function Counter({\n+  onClick /* ❌ Function is not serializable */,\n+}) {\n+  return (\n+    <div>\n+      <button onClick={onClick}>Increment</button>\n+    </div>\n+  )\n+}\n+```\n+\n ## Nesting Client Components within Server Components\n \n Combining Server and Client Components allows you to build applications that are both performant and interactive:"
        }
    ],
    "stats": {
        "total": 40,
        "additions": 37,
        "deletions": 3
    }
}