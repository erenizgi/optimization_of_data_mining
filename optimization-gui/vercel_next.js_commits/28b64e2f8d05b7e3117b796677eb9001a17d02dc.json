{
    "author": "devjiwonchoi",
    "message": "[Breaking] Remove deprecated `unstable_rootParams` (#84373)\n\nThis PR removed the deprecated `unstable_rootParams`. This feature was\nnot documented.",
    "sha": "28b64e2f8d05b7e3117b796677eb9001a17d02dc",
    "files": [
        {
            "sha": "8c03305cfdd348ce28091a2f6ff69de21200d4df",
            "filename": "crates/next-custom-transforms/src/transforms/react_server_components.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Freact_server_components.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Freact_server_components.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Freact_server_components.rs?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -645,7 +645,7 @@ impl ReactServerComponentValidator {\n             ],\n \n             invalid_client_lib_apis_mapping: FxHashMap::from_iter([\n-                (\"next/server\", vec![\"after\", \"unstable_rootParams\"]),\n+                (\"next/server\", vec![\"after\"]),\n                 (\n                     \"next/cache\",\n                     vec!["
        },
        {
            "sha": "edde535f6212f9b7587b5302d08635659184b009",
            "filename": "crates/next-custom-transforms/tests/errors/react-server-components/client-graph/root-params/input.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Finput.js?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -6,7 +6,7 @@\n  * This is a comment.\n  */\n \n-import { unstable_rootParams } from 'next/server'\n+import { lang } from 'next/root-params'\n \n export default function () {\n   return null"
        },
        {
            "sha": "25945c27bfb2e7c19ae4b7c59d511a6ac181fe59",
            "filename": "crates/next-custom-transforms/tests/errors/react-server-components/client-graph/root-params/output.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Foutput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Foutput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Foutput.js?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n /**\n  * This is a comment.\n- */ import { unstable_rootParams } from 'next/server';\n+ */ import { lang } from 'next/root-params';\n export default function() {\n     return null;\n }"
        },
        {
            "sha": "12e2c99bfaafc49b6c40f10048af29734ebd07e2",
            "filename": "crates/next-custom-transforms/tests/errors/react-server-components/client-graph/root-params/output.stderr",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Foutput.stderr",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Foutput.stderr",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Freact-server-components%2Fclient-graph%2Froot-params%2Foutput.stderr?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -1,9 +1,9 @@\n-  x You're importing a component that needs \"unstable_rootParams\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/\n-  | building-your-application/rendering/server-components\n+  x You're importing a component that needs \"next/root-params\". That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/app/building-\n+  | your-application/rendering/server-components\n   | \n   | \n    ,-[input.js:9:1]\n  8 | \n- 9 | import { unstable_rootParams } from 'next/server'\n-   :          ^^^^^^^^^^^^^^^^^^^\n+ 9 | import { lang } from 'next/root-params'\n+   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    `----"
        },
        {
            "sha": "655efd6973ea7823b1b0503a773c46244afd6731",
            "filename": "packages/next/server.d.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fserver.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fserver.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fserver.d.ts?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -14,5 +14,4 @@ export { URLPattern } from 'next/dist/compiled/@edge-runtime/primitives/url'\n export { ImageResponse } from 'next/dist/server/web/spec-extension/image-response'\n export type { ImageResponseOptions } from 'next/dist/compiled/@vercel/og/types'\n export { after } from 'next/dist/server/after'\n-export { unstable_rootParams } from 'next/dist/server/request/root-params'\n export { connection } from 'next/dist/server/request/connection'"
        },
        {
            "sha": "2704955a25f364d4c7ff4df0ce88e7c3f0642017",
            "filename": "packages/next/server.js",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fserver.js",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fserver.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fserver.js?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -13,8 +13,6 @@ const serverExports = {\n     .URLPattern,\n   after: require('next/dist/server/after').after,\n   connection: require('next/dist/server/request/connection').connection,\n-  unstable_rootParams: require('next/dist/server/request/root-params')\n-    .unstable_rootParams,\n }\n \n // https://nodejs.org/api/esm.html#commonjs-namespaces\n@@ -30,4 +28,3 @@ exports.userAgent = serverExports.userAgent\n exports.URLPattern = serverExports.URLPattern\n exports.after = serverExports.after\n exports.connection = serverExports.connection\n-exports.unstable_rootParams = serverExports.unstable_rootParams"
        },
        {
            "sha": "9818532846e4fbf24894528f7835433e3c88c6fa",
            "filename": "packages/next/src/build/webpack/plugins/next-types-plugin/index.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 11,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fnext-types-plugin%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fnext-types-plugin%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fnext-types-plugin%2Findex.ts?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -402,9 +402,7 @@ function isSubpath(parentLayoutPath: string, potentialChildLayoutPath: string) {\n   )\n }\n \n-function createServerDefinitions(\n-  rootParams: { param: string; optional: boolean }[]\n-) {\n+function createServerDefinitions() {\n   return `\n   declare module 'next/server' {\n \n@@ -423,13 +421,6 @@ function createServerDefinitions(\n     export type { ImageResponseOptions } from 'next/dist/compiled/@vercel/og/types'\n     export { after } from 'next/dist/server/after'\n     export { connection } from 'next/dist/server/request/connection'\n-    export function unstable_rootParams(): Promise<{ ${rootParams\n-      .map(\n-        ({ param, optional }) =>\n-          // ensure params with dashes are valid keys\n-          `${param.includes('-') ? `'${param}'` : param}${optional ? '?' : ''}: string`\n-      )\n-      .join(', ')} }>\n   }\n   `\n }\n@@ -814,7 +805,7 @@ export class NextTypesPlugin {\n             compilation.emitAsset(\n               serverTypesPath,\n               new sources.RawSource(\n-                createServerDefinitions(rootParams)\n+                createServerDefinitions()\n               ) as unknown as webpack.sources.RawSource\n             )\n           }"
        },
        {
            "sha": "ee8393d64e1f9ce730a80bd6ac008341dc843f1d",
            "filename": "packages/next/src/server/request/root-params.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 182,
            "changes": 184,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fsrc%2Fserver%2Frequest%2Froot-params.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fsrc%2Fserver%2Frequest%2Froot-params.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Frequest%2Froot-params.ts?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -14,189 +14,9 @@ import {\n   type StaticPrerenderStore,\n } from '../app-render/work-unit-async-storage.external'\n import { makeHangingPromise } from '../dynamic-rendering-utils'\n-import type { OpaqueFallbackRouteParams } from './fallback-params'\n-import type { Params, ParamValue } from './params'\n-import {\n-  describeStringPropertyAccess,\n-  wellKnownProperties,\n-} from '../../shared/lib/utils/reflect-utils'\n+import type { ParamValue } from './params'\n+import { describeStringPropertyAccess } from '../../shared/lib/utils/reflect-utils'\n import { actionAsyncStorage } from '../app-render/action-async-storage.external'\n-import { warnOnce } from '../../build/output/log'\n-\n-interface CacheLifetime {}\n-const CachedParams = new WeakMap<CacheLifetime, Promise<Params>>()\n-\n-/**\n- * @deprecated import specific root params from `next/root-params` instead.\n- */\n-export async function unstable_rootParams(): Promise<Params> {\n-  warnOnce(\n-    '`unstable_rootParams()` is deprecated and will be removed in an upcoming major release. Import specific root params from `next/root-params` instead.'\n-  )\n-  const workStore = workAsyncStorage.getStore()\n-  if (!workStore) {\n-    throw new InvariantError('Missing workStore in unstable_rootParams')\n-  }\n-\n-  const workUnitStore = workUnitAsyncStorage.getStore()\n-\n-  if (!workUnitStore) {\n-    throw new Error(\n-      `Route ${workStore.route} used \\`unstable_rootParams()\\` in Pages Router. This API is only available within App Router.`\n-    )\n-  }\n-\n-  switch (workUnitStore.type) {\n-    case 'cache':\n-    case 'unstable-cache': {\n-      throw new Error(\n-        `Route ${workStore.route} used \\`unstable_rootParams()\\` inside \\`\"use cache\"\\` or \\`unstable_cache\\`. Support for this API inside cache scopes is planned for a future version of Next.js.`\n-      )\n-    }\n-    case 'prerender':\n-    case 'prerender-client':\n-    case 'prerender-ppr':\n-    case 'prerender-legacy':\n-      return createPrerenderRootParams(\n-        workUnitStore.rootParams,\n-        workStore,\n-        workUnitStore\n-      )\n-    case 'private-cache':\n-    case 'prerender-runtime':\n-    case 'request':\n-      return Promise.resolve(workUnitStore.rootParams)\n-    default:\n-      return workUnitStore satisfies never\n-  }\n-}\n-\n-function createPrerenderRootParams(\n-  underlyingParams: Params,\n-  workStore: WorkStore,\n-  prerenderStore: StaticPrerenderStore\n-): Promise<Params> {\n-  switch (prerenderStore.type) {\n-    case 'prerender-client': {\n-      const exportName = '`unstable_rootParams`'\n-      throw new InvariantError(\n-        `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n-      )\n-    }\n-    case 'prerender': {\n-      const fallbackParams = prerenderStore.fallbackRouteParams\n-      if (fallbackParams) {\n-        for (const key in underlyingParams) {\n-          if (fallbackParams.has(key)) {\n-            const cachedParams = CachedParams.get(underlyingParams)\n-            if (cachedParams) {\n-              return cachedParams\n-            }\n-\n-            const promise = makeHangingPromise<Params>(\n-              prerenderStore.renderSignal,\n-              workStore.route,\n-              '`unstable_rootParams`'\n-            )\n-            CachedParams.set(underlyingParams, promise)\n-\n-            return promise\n-          }\n-        }\n-      }\n-      break\n-    }\n-    case 'prerender-ppr': {\n-      const fallbackParams = prerenderStore.fallbackRouteParams\n-      if (fallbackParams) {\n-        for (const key in underlyingParams) {\n-          if (fallbackParams.has(key)) {\n-            // We have fallback params at this level so we need to make an erroring\n-            // params object which will postpone if you access the fallback params\n-            return makeErroringRootParams(\n-              underlyingParams,\n-              fallbackParams,\n-              workStore,\n-              prerenderStore\n-            )\n-          }\n-        }\n-      }\n-      break\n-    }\n-    case 'prerender-legacy':\n-      break\n-    default:\n-      prerenderStore satisfies never\n-  }\n-\n-  // We don't have any fallback params so we have an entirely static safe params object\n-  return Promise.resolve(underlyingParams)\n-}\n-\n-function makeErroringRootParams(\n-  underlyingParams: Params,\n-  fallbackParams: OpaqueFallbackRouteParams,\n-  workStore: WorkStore,\n-  prerenderStore: PrerenderStorePPR | PrerenderStoreLegacy\n-): Promise<Params> {\n-  const cachedParams = CachedParams.get(underlyingParams)\n-  if (cachedParams) {\n-    return cachedParams\n-  }\n-\n-  const augmentedUnderlying = { ...underlyingParams }\n-\n-  // We don't use makeResolvedReactPromise here because params\n-  // supports copying with spread and we don't want to unnecessarily\n-  // instrument the promise with spreadable properties of ReactPromise.\n-  const promise = Promise.resolve(augmentedUnderlying)\n-  CachedParams.set(underlyingParams, promise)\n-\n-  Object.keys(underlyingParams).forEach((prop) => {\n-    if (wellKnownProperties.has(prop)) {\n-      // These properties cannot be shadowed because they need to be the\n-      // true underlying value for Promises to work correctly at runtime\n-    } else {\n-      if (fallbackParams.has(prop)) {\n-        Object.defineProperty(augmentedUnderlying, prop, {\n-          get() {\n-            const expression = describeStringPropertyAccess(\n-              'unstable_rootParams',\n-              prop\n-            )\n-            // In most dynamic APIs we also throw if `dynamic = \"error\"` however\n-            // for params is only dynamic when we're generating a fallback shell\n-            // and even when `dynamic = \"error\"` we still support generating dynamic\n-            // fallback shells\n-            // TODO remove this comment when cacheComponents is the default since there\n-            // will be no `dynamic = \"error\"`\n-            if (prerenderStore.type === 'prerender-ppr') {\n-              // PPR Prerender (no cacheComponents)\n-              postponeWithTracking(\n-                workStore.route,\n-                expression,\n-                prerenderStore.dynamicTracking\n-              )\n-            } else {\n-              // Legacy Prerender\n-              throwToInterruptStaticGeneration(\n-                expression,\n-                workStore,\n-                prerenderStore\n-              )\n-            }\n-          },\n-          enumerable: true,\n-        })\n-      } else {\n-        ;(promise as any)[prop] = underlyingParams[prop]\n-      }\n-    }\n-  })\n-\n-  return promise\n-}\n \n /**\n  * Used for the compiler-generated `next/root-params` module."
        },
        {
            "sha": "38b1264ed87bff275f0191d6d2890569e69ba29e",
            "filename": "packages/next/src/server/web/exports/index.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fsrc%2Fserver%2Fweb%2Fexports%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/packages%2Fnext%2Fsrc%2Fserver%2Fweb%2Fexports%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fweb%2Fexports%2Findex.ts?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -7,4 +7,3 @@ export { userAgent, userAgentFromString } from '../spec-extension/user-agent'\n export { URLPattern } from '../spec-extension/url-pattern'\n export { after } from '../../after'\n export { connection } from '../../request/connection'\n-export { unstable_rootParams } from '../../request/root-params'"
        },
        {
            "sha": "0502ea507ea10670a970dada5ca7c180be06ceb2",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/generate-static-params/app/[lang]/[locale]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,16 +0,0 @@\n-import { ReactNode } from 'react'\n-\n-export default function Root({ children }: { children: ReactNode }) {\n-  return (\n-    <html>\n-      <body>{children}</body>\n-    </html>\n-  )\n-}\n-\n-export async function generateStaticParams() {\n-  return [\n-    { lang: 'en', locale: 'en-US' },\n-    { lang: 'es', locale: 'es-ES' },\n-  ]\n-}"
        },
        {
            "sha": "d75c116266dca1dd40ff3f888cb1dd02c3dc6ffd",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/generate-static-params/app/[lang]/[locale]/other/[slug]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,3 +0,0 @@\n-export default function Layout({ children }) {\n-  return <div>{children}</div>\n-}"
        },
        {
            "sha": "760aaed24e1438eb2aa054ba520c25afc3084418",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/generate-static-params/app/[lang]/[locale]/other/[slug]/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 13,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,13 +0,0 @@\n-import { headers } from 'next/headers'\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page({ params }) {\n-  await headers()\n-  const { slug } = await params\n-  return (\n-    <div>\n-      <p id=\"dynamic-params\">{slug}</p>\n-      <p id=\"root-params\">{JSON.stringify(await unstable_rootParams())}</p>\n-    </div>\n-  )\n-}"
        },
        {
            "sha": "d75c116266dca1dd40ff3f888cb1dd02c3dc6ffd",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/generate-static-params/app/[lang]/[locale]/other/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,3 +0,0 @@\n-export default function Layout({ children }) {\n-  return <div>{children}</div>\n-}"
        },
        {
            "sha": "187b8651110662bfda00b5edb6b3906c2fd2165d",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/generate-static-params/app/[lang]/[locale]/other/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,3 +0,0 @@\n-export default function Page() {\n-  return <div>Other Page</div>\n-}"
        },
        {
            "sha": "f241e008dc96f4072195a8399b5bcaf0543da23c",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/generate-static-params/app/[lang]/[locale]/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fgenerate-static-params%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,5 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  return <p>hello world {JSON.stringify(await unstable_rootParams())}</p>\n-}"
        },
        {
            "sha": "f241e008dc96f4072195a8399b5bcaf0543da23c",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/multiple-roots/app/(dashboard)/[id]/data/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(dashboard)%2F%5Bid%5D%2Fdata%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(dashboard)%2F%5Bid%5D%2Fdata%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(dashboard)%2F%5Bid%5D%2Fdata%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,5 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  return <p>hello world {JSON.stringify(await unstable_rootParams())}</p>\n-}"
        },
        {
            "sha": "f7b45d80141e47a007a9955bec9b713865e31df8",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/multiple-roots/app/(dashboard)/[id]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(dashboard)%2F%5Bid%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(dashboard)%2F%5Bid%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(dashboard)%2F%5Bid%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,14 +0,0 @@\n-import { ReactNode } from 'react'\n-\n-export default function Root({ children }: { children: ReactNode }) {\n-  return (\n-    <html>\n-      <body>Dashboard Root: {children}</body>\n-    </html>\n-  )\n-}\n-\n-export const revalidate = 0\n-export async function generateStaticParams() {\n-  return [{ id: '1' }]\n-}"
        },
        {
            "sha": "f241e008dc96f4072195a8399b5bcaf0543da23c",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/multiple-roots/app/(marketing)/landing/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(marketing)%2Flanding%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(marketing)%2Flanding%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(marketing)%2Flanding%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,5 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  return <p>hello world {JSON.stringify(await unstable_rootParams())}</p>\n-}"
        },
        {
            "sha": "ab9238c0e14de93f25fae266e1368d0b6a65db45",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/multiple-roots/app/(marketing)/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(marketing)%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(marketing)%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fmultiple-roots%2Fapp%2F(marketing)%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,9 +0,0 @@\n-import { ReactNode } from 'react'\n-\n-export default function Root({ children }: { children: ReactNode }) {\n-  return (\n-    <html>\n-      <body>Marketing Root: {children}</body>\n-    </html>\n-  )\n-}"
        },
        {
            "sha": "614e0bf24928dc42236a0e9d25d5a0cf81fa6ae4",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/simple/app/[lang]/[locale]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,14 +0,0 @@\n-import { ReactNode } from 'react'\n-\n-export default function Root({ children }: { children: ReactNode }) {\n-  return (\n-    <html>\n-      <body>{children}</body>\n-    </html>\n-  )\n-}\n-\n-export const revalidate = 0\n-export async function generateStaticParams() {\n-  return [{ lang: 'en', locale: 'us' }]\n-}"
        },
        {
            "sha": "d75c116266dca1dd40ff3f888cb1dd02c3dc6ffd",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/simple/app/[lang]/[locale]/other/[slug]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,3 +0,0 @@\n-export default function Layout({ children }) {\n-  return <div>{children}</div>\n-}"
        },
        {
            "sha": "f5dcadb7a7bbe2cfc5c6848a16e5244926fdcfc3",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/simple/app/[lang]/[locale]/other/[slug]/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 13,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2F%5Bslug%5D%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,13 +0,0 @@\n-import { cookies } from 'next/headers'\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page({ params }) {\n-  await cookies()\n-  const { slug } = await params\n-  return (\n-    <div>\n-      <p id=\"dynamic-params\">{slug}</p>\n-      <p id=\"root-params\">{JSON.stringify(await unstable_rootParams())}</p>\n-    </div>\n-  )\n-}"
        },
        {
            "sha": "d75c116266dca1dd40ff3f888cb1dd02c3dc6ffd",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/simple/app/[lang]/[locale]/other/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,3 +0,0 @@\n-export default function Layout({ children }) {\n-  return <div>{children}</div>\n-}"
        },
        {
            "sha": "187b8651110662bfda00b5edb6b3906c2fd2165d",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/simple/app/[lang]/[locale]/other/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fother%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,3 +0,0 @@\n-export default function Page() {\n-  return <div>Other Page</div>\n-}"
        },
        {
            "sha": "f241e008dc96f4072195a8399b5bcaf0543da23c",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/simple/app/[lang]/[locale]/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fsimple%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,5 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  return <p>hello world {JSON.stringify(await unstable_rootParams())}</p>\n-}"
        },
        {
            "sha": "0502ea507ea10670a970dada5ca7c180be06ceb2",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-build/app/[lang]/[locale]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,16 +0,0 @@\n-import { ReactNode } from 'react'\n-\n-export default function Root({ children }: { children: ReactNode }) {\n-  return (\n-    <html>\n-      <body>{children}</body>\n-    </html>\n-  )\n-}\n-\n-export async function generateStaticParams() {\n-  return [\n-    { lang: 'en', locale: 'en-US' },\n-    { lang: 'es', locale: 'es-ES' },\n-  ]\n-}"
        },
        {
            "sha": "334d9d6f222e08e29bc71b6395fc9ed5dd1fd898",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-build/app/[lang]/[locale]/use-cache/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 22,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fuse-cache%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fuse-cache%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fuse-cache%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,22 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  const rootParams = await getCachedParams()\n-  const data = await fetch(\n-    'https://next-data-api-endpoint.vercel.app/api/random'\n-  ).then((res) => res.text())\n-\n-  return (\n-    <p>\n-      <span id=\"param\">\n-        {rootParams.lang} {rootParams.locale}\n-      </span>{' '}\n-      <span id=\"random\">{data}</span>\n-    </p>\n-  )\n-}\n-\n-async function getCachedParams() {\n-  'use cache'\n-  return unstable_rootParams()\n-}"
        },
        {
            "sha": "9b469ab0242bf6f3efedd7279f24aae4a43a2c5e",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-build/next.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-build%2Fnext.config.js?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,5 +0,0 @@\n-module.exports = {\n-  experimental: {\n-    useCache: true,\n-  },\n-}"
        },
        {
            "sha": "716a8db36f52c5b3b068de4e1d3c3bd64290a8be",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-runtime/app/[lang]/[locale]/layout.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Flayout.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,9 +0,0 @@\n-import { ReactNode } from 'react'\n-\n-export default function Root({ children }: { children: ReactNode }) {\n-  return (\n-    <html>\n-      <body>{children}</body>\n-    </html>\n-  )\n-}"
        },
        {
            "sha": "44a4d23cad589341c342b0792ba2d41d474c5bc5",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-runtime/app/[lang]/[locale]/request/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Frequest%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Frequest%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Frequest%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,17 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  const rootParams = await unstable_rootParams()\n-  const data = await fetch(\n-    'https://next-data-api-endpoint.vercel.app/api/random'\n-  ).then((res) => res.text())\n-\n-  return (\n-    <p>\n-      <span id=\"param\">\n-        {rootParams.lang} {rootParams.locale}\n-      </span>{' '}\n-      <span id=\"random\">{data}</span>\n-    </p>\n-  )\n-}"
        },
        {
            "sha": "2ffdc10ec5fdd5384e5ed669199dd2592999b70d",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-runtime/app/[lang]/[locale]/unstable_cache/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 22,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Funstable_cache%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Funstable_cache%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Funstable_cache%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,22 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-import { unstable_cache as cache } from 'next/cache'\n-\n-export default async function Page() {\n-  const rootParams = await getCachedParams()\n-  const data = await fetch(\n-    'https://next-data-api-endpoint.vercel.app/api/random'\n-  ).then((res) => res.text())\n-\n-  return (\n-    <p>\n-      <span id=\"param\">\n-        {rootParams.lang} {rootParams.locale}\n-      </span>{' '}\n-      <span id=\"random\">{data}</span>\n-    </p>\n-  )\n-}\n-\n-const getCachedParams = cache(async () => {\n-  return unstable_rootParams()\n-})"
        },
        {
            "sha": "334d9d6f222e08e29bc71b6395fc9ed5dd1fd898",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-runtime/app/[lang]/[locale]/use-cache/page.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 22,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fuse-cache%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fuse-cache%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fapp%2F%5Blang%5D%2F%5Blocale%5D%2Fuse-cache%2Fpage.tsx?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,22 +0,0 @@\n-import { unstable_rootParams } from 'next/server'\n-\n-export default async function Page() {\n-  const rootParams = await getCachedParams()\n-  const data = await fetch(\n-    'https://next-data-api-endpoint.vercel.app/api/random'\n-  ).then((res) => res.text())\n-\n-  return (\n-    <p>\n-      <span id=\"param\">\n-        {rootParams.lang} {rootParams.locale}\n-      </span>{' '}\n-      <span id=\"random\">{data}</span>\n-    </p>\n-  )\n-}\n-\n-async function getCachedParams() {\n-  'use cache'\n-  return unstable_rootParams()\n-}"
        },
        {
            "sha": "9b469ab0242bf6f3efedd7279f24aae4a43a2c5e",
            "filename": "test/e2e/app-dir/app-root-params/fixtures/use-cache-runtime/next.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Ffixtures%2Fuse-cache-runtime%2Fnext.config.js?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,5 +0,0 @@\n-module.exports = {\n-  experimental: {\n-    useCache: true,\n-  },\n-}"
        },
        {
            "sha": "12b95cc7ab0159178dcf10bd8f3916bece9ae404",
            "filename": "test/e2e/app-dir/app-root-params/generate-static-params.test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 50,
            "changes": 50,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fgenerate-static-params.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fgenerate-static-params.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fgenerate-static-params.test.ts?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,50 +0,0 @@\n-import { nextTestSetup } from 'e2e-utils'\n-import { join } from 'path'\n-\n-describe('app-root-params - generateStaticParams', () => {\n-  const { next, isNextDeploy, isTurbopack } = nextTestSetup({\n-    files: join(__dirname, 'fixtures', 'generate-static-params'),\n-  })\n-\n-  it('should return rootParams', async () => {\n-    const $ = await next.render$('/en/us')\n-    expect($('p').text()).toBe('hello world {\"lang\":\"en\",\"locale\":\"us\"}')\n-  })\n-\n-  it('should only return rootParams and not other params', async () => {\n-    const $ = await next.render$('/en/us/other/1')\n-    expect($('#dynamic-params').text()).toBe('1')\n-    expect($('#root-params').text()).toBe('{\"lang\":\"en\",\"locale\":\"us\"}')\n-  })\n-\n-  it('should be a cache hit for fully prerendered pages', async () => {\n-    const response = await next.fetch('/en/us')\n-    expect(response.status).toBe(200)\n-    expect(\n-      response.headers.get(isNextDeploy ? 'x-vercel-cache' : 'x-nextjs-cache')\n-    ).toBe('HIT')\n-  })\n-\n-  it(\"should be a cache miss for pages that aren't prerendered\", async () => {\n-    const response = await next.fetch('/en/us/other/1')\n-    expect(response.status).toBe(200)\n-    if (isNextDeploy) {\n-      expect(response.headers.get('x-vercel-cache')).toBe('MISS')\n-    } else {\n-      expect(response.headers.get('x-nextjs-cache')).toBeFalsy()\n-    }\n-  })\n-\n-  // `next-types-plugin` currently only runs in Webpack.\n-  // We skip deployment mode since we don't care about the deploy, we just want to\n-  // check the file generated at build time.\n-  if (!isNextDeploy && !isTurbopack) {\n-    it('should correctly generate types', async () => {\n-      expect(await next.hasFile('.next/types/server.d.ts')).toBe(true)\n-      const fileContents = await next.readFile('.next/types/server.d.ts')\n-      expect(fileContents).toContain(\n-        `export function unstable_rootParams(): Promise<{ lang: string, locale: string }>`\n-      )\n-    })\n-  }\n-})"
        },
        {
            "sha": "6dc4d6985dc3919d66671cdf4b4dd6680412b7b0",
            "filename": "test/e2e/app-dir/app-root-params/multiple-roots.test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 33,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fmultiple-roots.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fmultiple-roots.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fmultiple-roots.test.ts?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,33 +0,0 @@\n-import { nextTestSetup } from 'e2e-utils'\n-import { join } from 'path'\n-\n-describe('app-root-params - multiple roots', () => {\n-  const { next, isNextDeploy, isTurbopack } = nextTestSetup({\n-    files: join(__dirname, 'fixtures', 'multiple-roots'),\n-  })\n-\n-  it('should have root params on dashboard pages', async () => {\n-    const $ = await next.render$('/1/data')\n-    expect($('body').text()).toContain('Dashboard Root')\n-    expect($('p').text()).toBe('hello world {\"id\":\"1\"}')\n-  })\n-\n-  it('should not have root params on marketing pages', async () => {\n-    const $ = await next.render$('/landing')\n-    expect($('body').text()).toContain('Marketing Root')\n-    expect($('p').text()).toBe('hello world {}')\n-  })\n-\n-  // `next-types-plugin` currently only runs in Webpack.\n-  // We skip deployment mode since we don't care about the deploy, we just want to\n-  // check the file generated at build time.\n-  if (!isNextDeploy && !isTurbopack) {\n-    it('should correctly generate types', async () => {\n-      expect(await next.hasFile('.next/types/server.d.ts')).toBe(true)\n-      const fileContents = await next.readFile('.next/types/server.d.ts')\n-      expect(fileContents).toContain(\n-        `export function unstable_rootParams(): Promise<{ id?: string }>`\n-      )\n-    })\n-  }\n-})"
        },
        {
            "sha": "807126e4cf0bf5b1c8c917e6e0148a27331587d1",
            "filename": "test/e2e/app-dir/app-root-params/next.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fnext.config.js?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,6 +0,0 @@\n-/**\n- * @type {import('next').NextConfig}\n- */\n-const nextConfig = {}\n-\n-module.exports = nextConfig"
        },
        {
            "sha": "ecbf15b4b8d46f554ff669abd5ca699a0fb0151e",
            "filename": "test/e2e/app-dir/app-root-params/simple.test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 41,
            "changes": 41,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fsimple.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fsimple.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fsimple.test.ts?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,41 +0,0 @@\n-import { nextTestSetup } from 'e2e-utils'\n-import { assertNoRedbox } from 'next-test-utils'\n-import { join } from 'path'\n-\n-describe('app-root-params - simple', () => {\n-  const { next, isNextDeploy, isTurbopack } = nextTestSetup({\n-    files: join(__dirname, 'fixtures', 'simple'),\n-  })\n-\n-  it('should return rootParams', async () => {\n-    const $ = await next.render$('/en/us')\n-    expect($('p').text()).toBe('hello world {\"lang\":\"en\",\"locale\":\"us\"}')\n-  })\n-\n-  it('should only return rootParams and not other params', async () => {\n-    const $ = await next.render$('/en/us/other/1')\n-    expect($('#dynamic-params').text()).toBe('1')\n-    expect($('#root-params').text()).toBe('{\"lang\":\"en\",\"locale\":\"us\"}')\n-  })\n-\n-  it('should render the not found page without errors', async () => {\n-    const browser = await next.browser('/')\n-    expect(await browser.elementByCss('h2').text()).toBe(\n-      'This page could not be found.'\n-    )\n-    await assertNoRedbox(browser)\n-  })\n-\n-  // `next-types-plugin` currently only runs in Webpack.\n-  // We skip deployment mode since we don't care about the deploy, we just want to\n-  // check the file generated at build time.\n-  if (!isNextDeploy && !isTurbopack) {\n-    it('should correctly generate types', async () => {\n-      expect(await next.hasFile('.next/types/server.d.ts')).toBe(true)\n-      const fileContents = await next.readFile('.next/types/server.d.ts')\n-      expect(fileContents).toContain(\n-        `export function unstable_rootParams(): Promise<{ lang: string, locale: string }>`\n-      )\n-    })\n-  }\n-})"
        },
        {
            "sha": "7a54ce5c2437d62112ede7cca11c157446575cb6",
            "filename": "test/e2e/app-dir/app-root-params/use-cache.test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 121,
            "changes": 121,
            "blob_url": "https://github.com/vercel/next.js/blob/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fuse-cache.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2c08aba7731c793f9f08db07d2791bb05864b53f/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fuse-cache.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-root-params%2Fuse-cache.test.ts?ref=2c08aba7731c793f9f08db07d2791bb05864b53f",
            "patch": "@@ -1,121 +0,0 @@\n-import { nextTestSetup } from 'e2e-utils'\n-import { join } from 'path'\n-import { createSandbox } from 'development-sandbox'\n-\n-const isPPREnabled = process.env.__NEXT_EXPERIMENTAL_PPR === 'true'\n-\n-describe('app-root-params - cache - at runtime', () => {\n-  const { next, isNextDev, skipped } = nextTestSetup({\n-    files: join(__dirname, 'fixtures', 'use-cache-runtime'),\n-    skipStart: true,\n-    // this test asserts on build failure logs, which aren't currently observable in `next.cliOutput`.\n-    skipDeployment: true,\n-  })\n-\n-  if (skipped) return\n-\n-  if (isNextDev) {\n-    it('should error when using rootParams within a \"use cache\" - dev', async () => {\n-      await using sandbox = await createSandbox(\n-        next,\n-        undefined,\n-        '/en/us/use-cache'\n-      )\n-      const { session } = sandbox\n-      await session.assertHasRedbox()\n-      if (isPPREnabled) {\n-        // When PPR is enabled we verify that we have at least one root param value from generateStaticParams\n-        // Which this test does not define so we get a different error which preempts the root params error\n-        expect(await session.getRedboxDescription()).toInclude(\n-          'Required root params (lang, locale) were not provided in generateStaticParams'\n-        )\n-      } else {\n-        expect(await session.getRedboxDescription()).toInclude(\n-          'Route /[lang]/[locale]/use-cache used `unstable_rootParams()` inside `\"use cache\"` or `unstable_cache`'\n-        )\n-      }\n-    })\n-\n-    it('should error when using rootParams within `unstable_cache` - dev', async () => {\n-      await using sandbox = await createSandbox(\n-        next,\n-        undefined,\n-        '/en/us/unstable_cache'\n-      )\n-      const { session } = sandbox\n-      await session.assertHasRedbox()\n-      if (isPPREnabled) {\n-        // When PPR is enabled we verify that we have at least one root param value from generateStaticParams\n-        // Which this test does not define so we get a different error which preempts the root params error\n-        expect(await session.getRedboxDescription()).toInclude(\n-          'Required root params (lang, locale) were not provided in generateStaticParams'\n-        )\n-      } else {\n-        expect(await session.getRedboxDescription()).toInclude(\n-          'Route /[lang]/[locale]/unstable_cache used `unstable_rootParams()` inside `\"use cache\"` or `unstable_cache`'\n-        )\n-      }\n-    })\n-  } else {\n-    beforeAll(async () => {\n-      try {\n-        await next.start()\n-      } catch (_) {\n-        // We expect the build to fail\n-      }\n-    })\n-\n-    it('should error when using rootParams within a \"use cache\" - start', async () => {\n-      if (isPPREnabled) {\n-        // When PPR is enabled we verify that we have at least one root param value from generateStaticParams\n-        // Which this test does not define so we get a different error which preempts the root params error\n-        expect(next.cliOutput).toInclude(\n-          'Required root params (lang, locale) were not provided in generateStaticParams'\n-        )\n-      } else {\n-        await next.render$('/en/us/use-cache')\n-        expect(next.cliOutput).toInclude(\n-          'Error: Route /[lang]/[locale]/use-cache used `unstable_rootParams()` inside `\"use cache\"` or `unstable_cache`'\n-        )\n-      }\n-    })\n-\n-    it('should error when using rootParams within `unstable_cache` - start', async () => {\n-      if (isPPREnabled) {\n-        // When PPR is enabled we verify that we have at least one root param value from generateStaticParams\n-        // Which this test does not define so we get a different error which preempts the root params error\n-        expect(next.cliOutput).toInclude(\n-          'Required root params (lang, locale) were not provided in generateStaticParams'\n-        )\n-      } else {\n-        await next.render$('/en/us/unstable_cache')\n-        expect(next.cliOutput).toInclude(\n-          'Error: Route /[lang]/[locale]/unstable_cache used `unstable_rootParams()` inside `\"use cache\"` or `unstable_cache`'\n-        )\n-      }\n-    })\n-  }\n-})\n-\n-describe('app-root-params - cache - at build', () => {\n-  const { next, isNextDev } = nextTestSetup({\n-    files: join(__dirname, 'fixtures', 'use-cache-build'),\n-    skipStart: true,\n-  })\n-\n-  if (isNextDev) {\n-    // we omit these tests in dev because they are duplicates semantically to the runtime fixture tested above\n-    it('noop in dev', () => {})\n-  } else {\n-    it('should error when building a project that uses rootParams within `\"use cache\"`', async () => {\n-      try {\n-        await next.start()\n-      } catch {\n-        // we expect the build to fail\n-      }\n-      expect(next.cliOutput).toInclude(\n-        'Error: Route /[lang]/[locale]/use-cache used `unstable_rootParams()` inside `\"use cache\"` or `unstable_cache`'\n-      )\n-    })\n-  }\n-})"
        },
        {
            "sha": "6ffbb0a88b20f2394e1b570b6decc88121a9f6b3",
            "filename": "test/rspack-build-tests-manifest.json",
            "status": "modified",
            "additions": 0,
            "deletions": 47,
            "changes": 47,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Frspack-build-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Frspack-build-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Frspack-build-tests-manifest.json?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -893,53 +893,6 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/e2e/app-dir/app-root-params/generate-static-params.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - generateStaticParams should be a cache hit for fully prerendered pages\",\n-      \"app-root-params - generateStaticParams should be a cache miss for pages that aren't prerendered\",\n-      \"app-root-params - generateStaticParams should correctly generate types\",\n-      \"app-root-params - generateStaticParams should only return rootParams and not other params\",\n-      \"app-root-params - generateStaticParams should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/multiple-roots.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - multiple roots should correctly generate types\",\n-      \"app-root-params - multiple roots should have root params on dashboard pages\",\n-      \"app-root-params - multiple roots should not have root params on marketing pages\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/simple.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - simple should correctly generate types\",\n-      \"app-root-params - simple should only return rootParams and not other params\",\n-      \"app-root-params - simple should render the not found page without errors\",\n-      \"app-root-params - simple should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/use-cache.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - cache - at build should error when building a project that uses rootParams within `\\\"use cache\\\"`\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within `unstable_cache` - start\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within a \\\"use cache\\\" - start\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/e2e/app-dir/app-routes-client-component/app-routes-client-component.test.ts\": {\n     \"passed\": [\n       \"referencing a client component in an app route responds without error\""
        },
        {
            "sha": "f17e4b172520b86de1a7bd98e1133178b73bee01",
            "filename": "test/rspack-dev-tests-manifest.json",
            "status": "modified",
            "additions": 0,
            "deletions": 47,
            "changes": 47,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Frspack-dev-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Frspack-dev-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Frspack-dev-tests-manifest.json?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -3283,53 +3283,6 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/e2e/app-dir/app-root-params/generate-static-params.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - generateStaticParams should be a cache hit for fully prerendered pages\",\n-      \"app-root-params - generateStaticParams should be a cache miss for pages that aren't prerendered\",\n-      \"app-root-params - generateStaticParams should correctly generate types\",\n-      \"app-root-params - generateStaticParams should only return rootParams and not other params\",\n-      \"app-root-params - generateStaticParams should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/multiple-roots.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - multiple roots should correctly generate types\",\n-      \"app-root-params - multiple roots should have root params on dashboard pages\",\n-      \"app-root-params - multiple roots should not have root params on marketing pages\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/simple.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - simple should correctly generate types\",\n-      \"app-root-params - simple should only return rootParams and not other params\",\n-      \"app-root-params - simple should render the not found page without errors\",\n-      \"app-root-params - simple should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/use-cache.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - cache - at build noop in dev\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within `unstable_cache` - dev\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within a \\\"use cache\\\" - dev\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/e2e/app-dir/app-routes-client-component/app-routes-client-component.test.ts\": {\n     \"passed\": [\n       \"referencing a client component in an app route responds without error\""
        },
        {
            "sha": "52b2fea7a40b9c07b91b61589875472a96b13b3e",
            "filename": "test/turbopack-build-tests-manifest.json",
            "status": "modified",
            "additions": 0,
            "deletions": 44,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Fturbopack-build-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Fturbopack-build-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fturbopack-build-tests-manifest.json?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -814,50 +814,6 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/e2e/app-dir/app-root-params/generate-static-params.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - generateStaticParams should be a cache hit for fully prerendered pages\",\n-      \"app-root-params - generateStaticParams should be a cache miss for pages that aren't prerendered\",\n-      \"app-root-params - generateStaticParams should only return rootParams and not other params\",\n-      \"app-root-params - generateStaticParams should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/multiple-roots.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - multiple roots should have root params on dashboard pages\",\n-      \"app-root-params - multiple roots should not have root params on marketing pages\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/simple.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - simple should only return rootParams and not other params\",\n-      \"app-root-params - simple should render the not found page without errors\",\n-      \"app-root-params - simple should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/use-cache.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - cache - at build should error when building a project that uses rootParams within `\\\"use cache\\\"`\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within `unstable_cache` - start\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within a \\\"use cache\\\" - start\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/e2e/app-dir/app-routes-client-component/app-routes-client-component.test.ts\": {\n     \"passed\": [\n       \"referencing a client component in an app route responds without error\""
        },
        {
            "sha": "9a77e8a58633c52fa1fc2907f2721c65841d6c20",
            "filename": "test/turbopack-dev-tests-manifest.json",
            "status": "modified",
            "additions": 0,
            "deletions": 44,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Fturbopack-dev-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/28b64e2f8d05b7e3117b796677eb9001a17d02dc/test%2Fturbopack-dev-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fturbopack-dev-tests-manifest.json?ref=28b64e2f8d05b7e3117b796677eb9001a17d02dc",
            "patch": "@@ -4809,50 +4809,6 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/e2e/app-dir/app-root-params/generate-static-params.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - generateStaticParams should be a cache hit for fully prerendered pages\",\n-      \"app-root-params - generateStaticParams should be a cache miss for pages that aren't prerendered\",\n-      \"app-root-params - generateStaticParams should only return rootParams and not other params\",\n-      \"app-root-params - generateStaticParams should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/multiple-roots.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - multiple roots should have root params on dashboard pages\",\n-      \"app-root-params - multiple roots should not have root params on marketing pages\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/simple.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - simple should only return rootParams and not other params\",\n-      \"app-root-params - simple should render the not found page without errors\",\n-      \"app-root-params - simple should return rootParams\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n-  \"test/e2e/app-dir/app-root-params/use-cache.test.ts\": {\n-    \"passed\": [\n-      \"app-root-params - cache - at build noop in dev\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within `unstable_cache` - dev\",\n-      \"app-root-params - cache - at runtime should error when using rootParams within a \\\"use cache\\\" - dev\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/e2e/app-dir/app-routes-client-component/app-routes-client-component.test.ts\": {\n     \"passed\": [\n       \"referencing a client component in an app route responds without error\""
        }
    ],
    "stats": {
        "total": 884,
        "additions": 11,
        "deletions": 873
    }
}