{
    "author": "kdy1",
    "message": "fix(turbopack): Fix analysis of private properties (#76654)\n\n### What?\n\nStill look for effects even if a private property exists.\n\n### Why?\n\nIt's valid ECMAScript input.\n\n### How?\n\nCloses https://github.com/vercel/next.js/issues/75938",
    "sha": "c6ab3d53694dd3e692daa433449707cba3ea9568",
    "files": [
        {
            "sha": "5986f6b781663a7c95821828f572a3276aba3343",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/graph.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fgraph.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fgraph.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fgraph.rs?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -1141,9 +1141,10 @@ impl Analyzer<'_> {\n                     let prop_value = match prop {\n                         // TODO avoid clone\n                         MemberProp::Ident(i) => Box::new(i.sym.clone().into()),\n-                        MemberProp::PrivateName(_) => {\n-                            return;\n-                        }\n+                        MemberProp::PrivateName(_) => Box::new(JsValue::unknown_empty(\n+                            false,\n+                            \"private names in member expressions are not supported\",\n+                        )),\n                         MemberProp::Computed(ComputedPropName { expr, .. }) => {\n                             Box::new(self.eval_context.eval(expr))\n                         }"
        },
        {
            "sha": "a186a2bd2ba32aab4cb3d03980c758c1ffb7f5ec",
            "filename": "turbopack/crates/turbopack-ecmascript/tests/analyzer/graph/issue-75938/graph-effects.snapshot",
            "status": "added",
            "additions": 1422,
            "deletions": 0,
            "changes": 1422,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph-effects.snapshot",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph-effects.snapshot",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph-effects.snapshot?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -0,0 +1,1422 @@\n+[\n+    ImportedBinding {\n+        esm_reference_index: 3,\n+        export: Some(\n+            \"useMemo\",\n+        ),\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    0,\n+                ),\n+            ),\n+            Stmt(\n+                Decl,\n+            ),\n+            Decl(\n+                Var,\n+            ),\n+            VarDecl(\n+                Decls(\n+                    0,\n+                ),\n+            ),\n+            VarDeclarator(\n+                Init,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+            CallExpr(\n+                Callee,\n+            ),\n+            Callee(\n+                Expr,\n+            ),\n+            Expr(\n+                Ident,\n+            ),\n+        ],\n+        span: 268..275,\n+        in_try: false,\n+    },\n+    Call {\n+        func: Member(\n+            3,\n+            Module(\n+                ModuleValue {\n+                    module: \"react\",\n+                    annotations: ImportAnnotations {\n+                        map: {},\n+                    },\n+                },\n+            ),\n+            Constant(\n+                Str(\n+                    Atom(\n+                        \"useMemo\",\n+                    ),\n+                ),\n+            ),\n+        ),\n+        args: [\n+            Closure(\n+                Variable(\n+                    (\n+                        \"*arrow function 276*\",\n+                        #0,\n+                    ),\n+                ),\n+                EffectsBlock {\n+                    effects: [\n+                        Call {\n+                            func: Variable(\n+                                (\n+                                    \"HelloWorld\",\n+                                    #2,\n+                                ),\n+                            ),\n+                            args: [],\n+                            ast_path: [\n+                                Program(\n+                                    Module,\n+                                ),\n+                                Module(\n+                                    Body(\n+                                        4,\n+                                    ),\n+                                ),\n+                                ModuleItem(\n+                                    ModuleDecl,\n+                                ),\n+                                ModuleDecl(\n+                                    ExportDefaultDecl,\n+                                ),\n+                                ExportDefaultDecl(\n+                                    Decl,\n+                                ),\n+                                DefaultDecl(\n+                                    Fn,\n+                                ),\n+                                FnExpr(\n+                                    Function,\n+                                ),\n+                                Function(\n+                                    Body,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Decl,\n+                                ),\n+                                Decl(\n+                                    Var,\n+                                ),\n+                                VarDecl(\n+                                    Decls(\n+                                        0,\n+                                    ),\n+                                ),\n+                                VarDeclarator(\n+                                    Init,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Arrow,\n+                                ),\n+                                ArrowExpr(\n+                                    Body,\n+                                ),\n+                                BlockStmtOrExpr(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    New,\n+                                ),\n+                            ],\n+                            span: 280..296,\n+                            in_try: false,\n+                            new: true,\n+                        },\n+                    ],\n+                    range: Exact(\n+                        [\n+                            Program(\n+                                Module,\n+                            ),\n+                            Module(\n+                                Body(\n+                                    4,\n+                                ),\n+                            ),\n+                            ModuleItem(\n+                                ModuleDecl,\n+                            ),\n+                            ModuleDecl(\n+                                ExportDefaultDecl,\n+                            ),\n+                            ExportDefaultDecl(\n+                                Decl,\n+                            ),\n+                            DefaultDecl(\n+                                Fn,\n+                            ),\n+                            FnExpr(\n+                                Function,\n+                            ),\n+                            Function(\n+                                Body,\n+                            ),\n+                            BlockStmt(\n+                                Stmts(\n+                                    0,\n+                                ),\n+                            ),\n+                            Stmt(\n+                                Decl,\n+                            ),\n+                            Decl(\n+                                Var,\n+                            ),\n+                            VarDecl(\n+                                Decls(\n+                                    0,\n+                                ),\n+                            ),\n+                            VarDeclarator(\n+                                Init,\n+                            ),\n+                            Expr(\n+                                Call,\n+                            ),\n+                            CallExpr(\n+                                Args(\n+                                    0,\n+                                ),\n+                            ),\n+                            ExprOrSpread(\n+                                Expr,\n+                            ),\n+                            Expr(\n+                                Arrow,\n+                            ),\n+                            ArrowExpr(\n+                                Body,\n+                            ),\n+                            BlockStmtOrExpr(\n+                                Expr,\n+                            ),\n+                        ],\n+                    ),\n+                },\n+            ),\n+            Value(\n+                Array {\n+                    total_nodes: 1,\n+                    items: [],\n+                    mutable: true,\n+                },\n+            ),\n+        ],\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    0,\n+                ),\n+            ),\n+            Stmt(\n+                Decl,\n+            ),\n+            Decl(\n+                Var,\n+            ),\n+            VarDecl(\n+                Decls(\n+                    0,\n+                ),\n+            ),\n+            VarDeclarator(\n+                Init,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+        ],\n+        span: 268..301,\n+        in_try: false,\n+        new: false,\n+    },\n+    ImportedBinding {\n+        esm_reference_index: 1,\n+        export: Some(\n+            \"jsx\",\n+        ),\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    1,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+            ReturnStmt(\n+                Arg,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+            CallExpr(\n+                Callee,\n+            ),\n+            Callee(\n+                Expr,\n+            ),\n+            Expr(\n+                Ident,\n+            ),\n+        ],\n+        span: 328..332,\n+        in_try: false,\n+    },\n+    Member {\n+        obj: Variable(\n+            (\n+                \"helloWorld\",\n+                #3,\n+            ),\n+        ),\n+        prop: Constant(\n+            Str(\n+                Atom(\n+                    \"hi\",\n+                ),\n+            ),\n+        ),\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    1,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+            ReturnStmt(\n+                Arg,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+            CallExpr(\n+                Args(\n+                    1,\n+                ),\n+            ),\n+            ExprOrSpread(\n+                Expr,\n+            ),\n+            Expr(\n+                Object,\n+            ),\n+            ObjectLit(\n+                Props(\n+                    0,\n+                ),\n+            ),\n+            PropOrSpread(\n+                Prop,\n+            ),\n+            Prop(\n+                KeyValue,\n+            ),\n+            KeyValueProp(\n+                Value,\n+            ),\n+            Expr(\n+                Arrow,\n+            ),\n+            ArrowExpr(\n+                Body,\n+            ),\n+            BlockStmtOrExpr(\n+                Expr,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+            CallExpr(\n+                Callee,\n+            ),\n+            Callee(\n+                Expr,\n+            ),\n+            Expr(\n+                Member,\n+            ),\n+        ],\n+        span: 366..379,\n+        in_try: false,\n+    },\n+    MemberCall {\n+        obj: Variable(\n+            (\n+                \"helloWorld\",\n+                #3,\n+            ),\n+        ),\n+        prop: Constant(\n+            Str(\n+                Atom(\n+                    \"hi\",\n+                ),\n+            ),\n+        ),\n+        args: [],\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    1,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+            ReturnStmt(\n+                Arg,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+            CallExpr(\n+                Args(\n+                    1,\n+                ),\n+            ),\n+            ExprOrSpread(\n+                Expr,\n+            ),\n+            Expr(\n+                Object,\n+            ),\n+            ObjectLit(\n+                Props(\n+                    0,\n+                ),\n+            ),\n+            PropOrSpread(\n+                Prop,\n+            ),\n+            Prop(\n+                KeyValue,\n+            ),\n+            KeyValueProp(\n+                Value,\n+            ),\n+            Expr(\n+                Arrow,\n+            ),\n+            ArrowExpr(\n+                Body,\n+            ),\n+            BlockStmtOrExpr(\n+                Expr,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+        ],\n+        span: 366..381,\n+        in_try: false,\n+        new: false,\n+    },\n+    Call {\n+        func: Member(\n+            3,\n+            Module(\n+                ModuleValue {\n+                    module: \"https://esm.sh/preact/jsx-runtime\",\n+                    annotations: ImportAnnotations {\n+                        map: {},\n+                    },\n+                },\n+            ),\n+            Constant(\n+                Str(\n+                    Atom(\n+                        \"jsx\",\n+                    ),\n+                ),\n+            ),\n+        ),\n+        args: [\n+            Value(\n+                Constant(\n+                    Str(\n+                        Atom(\n+                            \"button\",\n+                        ),\n+                    ),\n+                ),\n+            ),\n+            Value(\n+                Object {\n+                    total_nodes: 5,\n+                    parts: [\n+                        KeyValue(\n+                            Constant(\n+                                Str(\n+                                    Atom(\n+                                        \"onClick\",\n+                                    ),\n+                                ),\n+                            ),\n+                            Variable(\n+                                (\n+                                    \"*arrow function 362*\",\n+                                    #0,\n+                                ),\n+                            ),\n+                        ),\n+                        KeyValue(\n+                            Constant(\n+                                Str(\n+                                    Atom(\n+                                        \"children\",\n+                                    ),\n+                                ),\n+                            ),\n+                            Constant(\n+                                Str(\n+                                    Atom(\n+                                        \"Click me\",\n+                                    ),\n+                                ),\n+                            ),\n+                        ),\n+                    ],\n+                    mutable: true,\n+                },\n+            ),\n+        ],\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    1,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+            ReturnStmt(\n+                Arg,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+        ],\n+        span: 328..418,\n+        in_try: false,\n+        new: false,\n+    },\n+    Unreachable {\n+        start_ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    4,\n+                ),\n+            ),\n+            ModuleItem(\n+                ModuleDecl,\n+            ),\n+            ModuleDecl(\n+                ExportDefaultDecl,\n+            ),\n+            ExportDefaultDecl(\n+                Decl,\n+            ),\n+            DefaultDecl(\n+                Fn,\n+            ),\n+            FnExpr(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    1,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+        ],\n+    },\n+    MemberCall {\n+        obj: Unknown {\n+            original_value: None,\n+            reason: \"unsupported expression\",\n+            has_side_effects: true,\n+        },\n+        prop: Unknown {\n+            original_value: None,\n+            reason: \"private names in member expressions are not supported\",\n+            has_side_effects: false,\n+        },\n+        args: [\n+            Closure(\n+                Variable(\n+                    (\n+                        \"*arrow function 471*\",\n+                        #0,\n+                    ),\n+                ),\n+                EffectsBlock {\n+                    effects: [\n+                        FreeVar {\n+                            var: FreeVar(\n+                                \"alert\",\n+                            ),\n+                            ast_path: [\n+                                Program(\n+                                    Module,\n+                                ),\n+                                Module(\n+                                    Body(\n+                                        5,\n+                                    ),\n+                                ),\n+                                ModuleItem(\n+                                    Stmt,\n+                                ),\n+                                Stmt(\n+                                    Decl,\n+                                ),\n+                                Decl(\n+                                    Class,\n+                                ),\n+                                ClassDecl(\n+                                    Class,\n+                                ),\n+                                Class(\n+                                    Body(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ClassMember(\n+                                    Method,\n+                                ),\n+                                ClassMethod(\n+                                    Function,\n+                                ),\n+                                Function(\n+                                    Body,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Arrow,\n+                                ),\n+                                ArrowExpr(\n+                                    Body,\n+                                ),\n+                                BlockStmtOrExpr(\n+                                    BlockStmt,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Callee,\n+                                ),\n+                                Callee(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Ident,\n+                                ),\n+                            ],\n+                            span: 489..494,\n+                            in_try: false,\n+                        },\n+                        ImportedBinding {\n+                            esm_reference_index: 5,\n+                            export: Some(\n+                                \"fooBar\",\n+                            ),\n+                            ast_path: [\n+                                Program(\n+                                    Module,\n+                                ),\n+                                Module(\n+                                    Body(\n+                                        5,\n+                                    ),\n+                                ),\n+                                ModuleItem(\n+                                    Stmt,\n+                                ),\n+                                Stmt(\n+                                    Decl,\n+                                ),\n+                                Decl(\n+                                    Class,\n+                                ),\n+                                ClassDecl(\n+                                    Class,\n+                                ),\n+                                Class(\n+                                    Body(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ClassMember(\n+                                    Method,\n+                                ),\n+                                ClassMethod(\n+                                    Function,\n+                                ),\n+                                Function(\n+                                    Body,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Arrow,\n+                                ),\n+                                ArrowExpr(\n+                                    Body,\n+                                ),\n+                                BlockStmtOrExpr(\n+                                    BlockStmt,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Callee,\n+                                ),\n+                                Callee(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Ident,\n+                                ),\n+                            ],\n+                            span: 495..501,\n+                            in_try: false,\n+                        },\n+                        Call {\n+                            func: Member(\n+                                3,\n+                                Module(\n+                                    ModuleValue {\n+                                        module: \"./external\",\n+                                        annotations: ImportAnnotations {\n+                                            map: {},\n+                                        },\n+                                    },\n+                                ),\n+                                Constant(\n+                                    Str(\n+                                        Atom(\n+                                            \"fooBar\",\n+                                        ),\n+                                    ),\n+                                ),\n+                            ),\n+                            args: [],\n+                            ast_path: [\n+                                Program(\n+                                    Module,\n+                                ),\n+                                Module(\n+                                    Body(\n+                                        5,\n+                                    ),\n+                                ),\n+                                ModuleItem(\n+                                    Stmt,\n+                                ),\n+                                Stmt(\n+                                    Decl,\n+                                ),\n+                                Decl(\n+                                    Class,\n+                                ),\n+                                ClassDecl(\n+                                    Class,\n+                                ),\n+                                Class(\n+                                    Body(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ClassMember(\n+                                    Method,\n+                                ),\n+                                ClassMethod(\n+                                    Function,\n+                                ),\n+                                Function(\n+                                    Body,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Arrow,\n+                                ),\n+                                ArrowExpr(\n+                                    Body,\n+                                ),\n+                                BlockStmtOrExpr(\n+                                    BlockStmt,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                            ],\n+                            span: 495..503,\n+                            in_try: false,\n+                            new: false,\n+                        },\n+                        Call {\n+                            func: FreeVar(\n+                                \"alert\",\n+                            ),\n+                            args: [\n+                                Value(\n+                                    Call(\n+                                        4,\n+                                        Member(\n+                                            3,\n+                                            Module(\n+                                                ModuleValue {\n+                                                    module: \"./external\",\n+                                                    annotations: ImportAnnotations {\n+                                                        map: {},\n+                                                    },\n+                                                },\n+                                            ),\n+                                            Constant(\n+                                                Str(\n+                                                    Atom(\n+                                                        \"fooBar\",\n+                                                    ),\n+                                                ),\n+                                            ),\n+                                        ),\n+                                        [],\n+                                    ),\n+                                ),\n+                            ],\n+                            ast_path: [\n+                                Program(\n+                                    Module,\n+                                ),\n+                                Module(\n+                                    Body(\n+                                        5,\n+                                    ),\n+                                ),\n+                                ModuleItem(\n+                                    Stmt,\n+                                ),\n+                                Stmt(\n+                                    Decl,\n+                                ),\n+                                Decl(\n+                                    Class,\n+                                ),\n+                                ClassDecl(\n+                                    Class,\n+                                ),\n+                                Class(\n+                                    Body(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ClassMember(\n+                                    Method,\n+                                ),\n+                                ClassMethod(\n+                                    Function,\n+                                ),\n+                                Function(\n+                                    Body,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                                CallExpr(\n+                                    Args(\n+                                        0,\n+                                    ),\n+                                ),\n+                                ExprOrSpread(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Arrow,\n+                                ),\n+                                ArrowExpr(\n+                                    Body,\n+                                ),\n+                                BlockStmtOrExpr(\n+                                    BlockStmt,\n+                                ),\n+                                BlockStmt(\n+                                    Stmts(\n+                                        0,\n+                                    ),\n+                                ),\n+                                Stmt(\n+                                    Expr,\n+                                ),\n+                                ExprStmt(\n+                                    Expr,\n+                                ),\n+                                Expr(\n+                                    Call,\n+                                ),\n+                            ],\n+                            span: 489..504,\n+                            in_try: false,\n+                            new: false,\n+                        },\n+                    ],\n+                    range: Exact(\n+                        [\n+                            Program(\n+                                Module,\n+                            ),\n+                            Module(\n+                                Body(\n+                                    5,\n+                                ),\n+                            ),\n+                            ModuleItem(\n+                                Stmt,\n+                            ),\n+                            Stmt(\n+                                Decl,\n+                            ),\n+                            Decl(\n+                                Class,\n+                            ),\n+                            ClassDecl(\n+                                Class,\n+                            ),\n+                            Class(\n+                                Body(\n+                                    0,\n+                                ),\n+                            ),\n+                            ClassMember(\n+                                Method,\n+                            ),\n+                            ClassMethod(\n+                                Function,\n+                            ),\n+                            Function(\n+                                Body,\n+                            ),\n+                            BlockStmt(\n+                                Stmts(\n+                                    0,\n+                                ),\n+                            ),\n+                            Stmt(\n+                                Expr,\n+                            ),\n+                            ExprStmt(\n+                                Expr,\n+                            ),\n+                            Expr(\n+                                Call,\n+                            ),\n+                            CallExpr(\n+                                Args(\n+                                    0,\n+                                ),\n+                            ),\n+                            ExprOrSpread(\n+                                Expr,\n+                            ),\n+                            Expr(\n+                                Arrow,\n+                            ),\n+                            ArrowExpr(\n+                                Body,\n+                            ),\n+                            BlockStmtOrExpr(\n+                                BlockStmt,\n+                            ),\n+                        ],\n+                    ),\n+                },\n+            ),\n+        ],\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    5,\n+                ),\n+            ),\n+            ModuleItem(\n+                Stmt,\n+            ),\n+            Stmt(\n+                Decl,\n+            ),\n+            Decl(\n+                Class,\n+            ),\n+            ClassDecl(\n+                Class,\n+            ),\n+            Class(\n+                Body(\n+                    0,\n+                ),\n+            ),\n+            ClassMember(\n+                Method,\n+            ),\n+            ClassMethod(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    0,\n+                ),\n+            ),\n+            Stmt(\n+                Expr,\n+            ),\n+            ExprStmt(\n+                Expr,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+        ],\n+        span: 460..516,\n+        in_try: false,\n+        new: false,\n+    },\n+    Call {\n+        func: Variable(\n+            (\n+                \"cb\",\n+                #6,\n+            ),\n+        ),\n+        args: [],\n+        ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    5,\n+                ),\n+            ),\n+            ModuleItem(\n+                Stmt,\n+            ),\n+            Stmt(\n+                Decl,\n+            ),\n+            Decl(\n+                Class,\n+            ),\n+            ClassDecl(\n+                Class,\n+            ),\n+            Class(\n+                Body(\n+                    1,\n+                ),\n+            ),\n+            ClassMember(\n+                PrivateMethod,\n+            ),\n+            PrivateMethod(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    0,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+            ReturnStmt(\n+                Arg,\n+            ),\n+            Expr(\n+                Call,\n+            ),\n+        ],\n+        span: 555..559,\n+        in_try: false,\n+        new: false,\n+    },\n+    Unreachable {\n+        start_ast_path: [\n+            Program(\n+                Module,\n+            ),\n+            Module(\n+                Body(\n+                    5,\n+                ),\n+            ),\n+            ModuleItem(\n+                Stmt,\n+            ),\n+            Stmt(\n+                Decl,\n+            ),\n+            Decl(\n+                Class,\n+            ),\n+            ClassDecl(\n+                Class,\n+            ),\n+            Class(\n+                Body(\n+                    1,\n+                ),\n+            ),\n+            ClassMember(\n+                PrivateMethod,\n+            ),\n+            PrivateMethod(\n+                Function,\n+            ),\n+            Function(\n+                Body,\n+            ),\n+            BlockStmt(\n+                Stmts(\n+                    0,\n+                ),\n+            ),\n+            Stmt(\n+                Return,\n+            ),\n+        ],\n+    },\n+]"
        },
        {
            "sha": "cfb00fa8d09fe717c0a97a1b7e0d4e35aeb66b7b",
            "filename": "turbopack/crates/turbopack-ecmascript/tests/analyzer/graph/issue-75938/graph-explained.snapshot",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph-explained.snapshot",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph-explained.snapshot",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph-explained.snapshot?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -0,0 +1,18 @@\n+*arrow function 276* = (...) => new HelloWorld()\n+\n+*arrow function 362* = (...) => helloWorld[\"hi\"]()\n+\n+*arrow function 471* = (...) => undefined\n+\n+HelloWorld = ???*0*\n+- *0* unsupported expression\n+  ⚠️  This value might have side effects\n+\n+Home = (...) => module<https://esm.sh/preact/jsx-runtime, {}>[\"jsx\"](\n+    \"button\",\n+    {\"onClick\": *arrow function 362*, \"children\": \"Click me\"}\n+)\n+\n+cb = arguments[0]\n+\n+helloWorld = module<react, {}>[\"useMemo\"](*arrow function 276*, [])"
        },
        {
            "sha": "725b2366968953db102ce0b4dab8f3f1bcd60241",
            "filename": "turbopack/crates/turbopack-ecmascript/tests/analyzer/graph/issue-75938/graph.snapshot",
            "status": "added",
            "additions": 179,
            "deletions": 0,
            "changes": 179,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph.snapshot",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph.snapshot",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fgraph.snapshot?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -0,0 +1,179 @@\n+[\n+    (\n+        \"*arrow function 276*\",\n+        Function(\n+            3,\n+            276,\n+            New(\n+                2,\n+                Variable(\n+                    (\n+                        \"HelloWorld\",\n+                        #2,\n+                    ),\n+                ),\n+                [],\n+            ),\n+        ),\n+    ),\n+    (\n+        \"*arrow function 362*\",\n+        Function(\n+            4,\n+            362,\n+            MemberCall(\n+                3,\n+                Variable(\n+                    (\n+                        \"helloWorld\",\n+                        #3,\n+                    ),\n+                ),\n+                Constant(\n+                    Str(\n+                        Atom(\n+                            \"hi\",\n+                        ),\n+                    ),\n+                ),\n+                [],\n+            ),\n+        ),\n+    ),\n+    (\n+        \"*arrow function 471*\",\n+        Function(\n+            2,\n+            471,\n+            Constant(\n+                Undefined,\n+            ),\n+        ),\n+    ),\n+    (\n+        \"HelloWorld\",\n+        Unknown {\n+            original_value: None,\n+            reason: \"unsupported expression\",\n+            has_side_effects: true,\n+        },\n+    ),\n+    (\n+        \"Home\",\n+        Function(\n+            11,\n+            227,\n+            Call(\n+                10,\n+                Member(\n+                    3,\n+                    Module(\n+                        ModuleValue {\n+                            module: \"https://esm.sh/preact/jsx-runtime\",\n+                            annotations: ImportAnnotations {\n+                                map: {},\n+                            },\n+                        },\n+                    ),\n+                    Constant(\n+                        Str(\n+                            Atom(\n+                                \"jsx\",\n+                            ),\n+                        ),\n+                    ),\n+                ),\n+                [\n+                    Constant(\n+                        Str(\n+                            Atom(\n+                                \"button\",\n+                            ),\n+                        ),\n+                    ),\n+                    Object {\n+                        total_nodes: 5,\n+                        parts: [\n+                            KeyValue(\n+                                Constant(\n+                                    Str(\n+                                        Atom(\n+                                            \"onClick\",\n+                                        ),\n+                                    ),\n+                                ),\n+                                Variable(\n+                                    (\n+                                        \"*arrow function 362*\",\n+                                        #0,\n+                                    ),\n+                                ),\n+                            ),\n+                            KeyValue(\n+                                Constant(\n+                                    Str(\n+                                        Atom(\n+                                            \"children\",\n+                                        ),\n+                                    ),\n+                                ),\n+                                Constant(\n+                                    Str(\n+                                        Atom(\n+                                            \"Click me\",\n+                                        ),\n+                                    ),\n+                                ),\n+                            ),\n+                        ],\n+                        mutable: true,\n+                    },\n+                ],\n+            ),\n+        ),\n+    ),\n+    (\n+        \"cb\",\n+        Argument(\n+            0,\n+            0,\n+        ),\n+    ),\n+    (\n+        \"helloWorld\",\n+        Call(\n+            6,\n+            Member(\n+                3,\n+                Module(\n+                    ModuleValue {\n+                        module: \"react\",\n+                        annotations: ImportAnnotations {\n+                            map: {},\n+                        },\n+                    },\n+                ),\n+                Constant(\n+                    Str(\n+                        Atom(\n+                            \"useMemo\",\n+                        ),\n+                    ),\n+                ),\n+            ),\n+            [\n+                Variable(\n+                    (\n+                        \"*arrow function 276*\",\n+                        #0,\n+                    ),\n+                ),\n+                Array {\n+                    total_nodes: 1,\n+                    items: [],\n+                    mutable: true,\n+                },\n+            ],\n+        ),\n+    ),\n+]"
        },
        {
            "sha": "261674723c280cdccbead243d8d8d7e7698ae4bf",
            "filename": "turbopack/crates/turbopack-ecmascript/tests/analyzer/graph/issue-75938/input.js",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Finput.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Finput.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Finput.js?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -0,0 +1,21 @@\n+\"use client\";\n+import { jsx as _jsx } from \"https://esm.sh/preact/jsx-runtime\";\n+import { useMemo } from \"react\";\n+import { fooBar } from \"./external\";\n+/** Add your relevant code here for the issue to reproduce */ export default function Home() {\n+    const helloWorld = useMemo(()=>new HelloWorld(), []);\n+    return /*#__PURE__*/ _jsx(\"button\", {\n+        onClick: ()=>helloWorld.hi(),\n+        children: \"Click me\"\n+    });\n+}\n+class HelloWorld {\n+    hi() {\n+        this.#wrap(()=>{\n+            alert(fooBar());\n+        });\n+    }\n+    #wrap(cb) {\n+        return cb();\n+    }\n+}"
        },
        {
            "sha": "e1af7e8407af0a80c82c62d01952f866903e966b",
            "filename": "turbopack/crates/turbopack-ecmascript/tests/analyzer/graph/issue-75938/resolved-effects.snapshot",
            "status": "added",
            "additions": 40,
            "deletions": 0,
            "changes": 40,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fresolved-effects.snapshot",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fresolved-effects.snapshot",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fresolved-effects.snapshot?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -0,0 +1,40 @@\n+0 -> 2 call = module<react, {}>[\"useMemo\"]((...) => new HelloWorld(), [])\n+\n+2 -> 3 call = new ???*0*()\n+- *0* unsupported expression\n+  ⚠️  This value might have side effects\n+\n+0 -> 6 member call = module<react, {}>[\"useMemo\"]((...) => ???*0*, [])[\"hi\"]()\n+- *0* new HelloWorld()\n+  ⚠️  nested operation\n+\n+0 -> 7 call = module<https://esm.sh/preact/jsx-runtime, {}>[\"jsx\"](\n+    \"button\",\n+    {\"onClick\": (...) => helloWorld[\"hi\"](), \"children\": \"Click me\"}\n+)\n+\n+0 -> 8 unreachable = ???*0*\n+- *0* unreachable\n+  ⚠️  This value might have side effects\n+\n+0 -> 9 member call = ???*0*[???*1*]((...) => undefined)\n+- *0* unsupported expression\n+  ⚠️  This value might have side effects\n+- *1* private names in member expressions are not supported\n+\n+9 -> 10 free var = FreeVar(alert)\n+\n+9 -> 12 call = module<./external, {}>[\"fooBar\"]()\n+\n+9 -> 13 call = ???*0*(module<./external, {}>[\"fooBar\"]())\n+- *0* FreeVar(alert)\n+  ⚠️  unknown global\n+  ⚠️  This value might have side effects\n+\n+0 -> 14 call = ???*0*()\n+- *0* arguments[0]\n+  ⚠️  function calls are not analysed yet\n+\n+0 -> 15 unreachable = ???*0*\n+- *0* unreachable\n+  ⚠️  This value might have side effects"
        },
        {
            "sha": "bd409759bd92b699cb2c3a7efea3238600dc0b4a",
            "filename": "turbopack/crates/turbopack-ecmascript/tests/analyzer/graph/issue-75938/resolved-explained.snapshot",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fresolved-explained.snapshot",
            "raw_url": "https://github.com/vercel/next.js/raw/c6ab3d53694dd3e692daa433449707cba3ea9568/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fresolved-explained.snapshot",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Ftests%2Fanalyzer%2Fgraph%2Fissue-75938%2Fresolved-explained.snapshot?ref=c6ab3d53694dd3e692daa433449707cba3ea9568",
            "patch": "@@ -0,0 +1,22 @@\n+*arrow function 276* = (...) => new HelloWorld()\n+\n+*arrow function 362* = (...) => helloWorld[\"hi\"]()\n+\n+*arrow function 471* = (...) => undefined\n+\n+HelloWorld = ???*0*\n+- *0* unsupported expression\n+  ⚠️  This value might have side effects\n+\n+Home = (...) => module<https://esm.sh/preact/jsx-runtime, {}>[\"jsx\"](\n+    \"button\",\n+    {\"onClick\": *arrow function 362*, \"children\": \"Click me\"}\n+)\n+\n+cb = ???*0*\n+- *0* arguments[0]\n+  ⚠️  function calls are not analysed yet\n+\n+helloWorld = module<react, {}>[\"useMemo\"]((...) => ???*0*, [])\n+- *0* new HelloWorld()\n+  ⚠️  nested operation"
        }
    ],
    "stats": {
        "total": 1709,
        "additions": 1706,
        "deletions": 3
    }
}