{
    "author": "SyMind",
    "message": "feat: rspack use swc to warn for edge runtime (#80485)\n\nRspack's decision to avoid parser hooks, I propose discussing\nalternative approaches to implement code analysis in middleware plugins.\n\nA alternative code analysis approach. During the `finishModules` phase,\nimplement a custom warnForEdgeRuntime method via N-API to perform\nmodule-level code analysis.\n\nPasses tests:\n1. test/integration/edge-runtime-module-errors/test/module-imports.test.js\n2. test/integration/edge-runtime-with-node.js-apis/test/index.test.ts",
    "sha": "0c454dbfff0b41d8be92e09929453fd9a4581061",
    "files": [
        {
            "sha": "72e8680ae7e84d8845ef5efa71f49b9347a7f23f",
            "filename": "crates/napi/src/rspack.rs",
            "status": "modified",
            "additions": 139,
            "deletions": 11,
            "changes": 150,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/crates%2Fnapi%2Fsrc%2Frspack.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/crates%2Fnapi%2Fsrc%2Frspack.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Frspack.rs?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -1,4 +1,4 @@\n-use std::{fs, path::PathBuf, sync::Arc};\n+use std::{cell::RefCell, fs, path::PathBuf, sync::Arc};\n \n use napi::bindgen_prelude::*;\n use swc_core::{\n@@ -7,18 +7,20 @@ use swc_core::{\n         try_with_handler,\n     },\n     common::{\n-        FileName, FilePathMapping, GLOBALS, SourceMap, comments::Comments, errors::ColorConfig,\n+        FileName, FilePathMapping, GLOBALS, Mark, SourceMap, SyntaxContext, errors::ColorConfig,\n     },\n     ecma::{\n         ast::{Decl, EsVersion, Id},\n         atoms::Atom,\n         parser::{EsSyntax, Syntax, TsSyntax},\n-        utils::find_pat_ids,\n-        visit::{Visit, VisitWith},\n+        utils::{ExprCtx, find_pat_ids},\n+        visit::{Visit, VisitMutWith, VisitWith},\n     },\n     node::MapErr,\n };\n \n+use crate::next_api::utils::{NapiIssueSourceRange, NapiSourcePos};\n+\n struct Finder {\n     pub named_exports: Vec<Atom>,\n }\n@@ -118,12 +120,6 @@ impl Task for FinderTask {\n                 is_module: IsModule::Unknown,\n                 target: EsVersion::default(),\n             };\n-            let comments = c.comments().clone();\n-            let comments: Option<&dyn Comments> = if options.comments {\n-                Some(&comments)\n-            } else {\n-                None\n-            };\n             let fm =\n                 c.cm.new_source_file(Arc::new(FileName::Real(resource_path)), src);\n             let program = try_with_handler(\n@@ -139,7 +135,7 @@ impl Task for FinderTask {\n                         options.target,\n                         options.syntax,\n                         options.is_module,\n-                        comments,\n+                        None,\n                     )\n                 },\n             )\n@@ -172,3 +168,135 @@ pub fn get_module_named_exports(resource_path: String) -> AsyncTask<FinderTask>\n         resource_path: Some(resource_path),\n     })\n }\n+\n+#[napi(object)]\n+pub struct NapiSourceDiagnostic {\n+    pub severity: &'static str,\n+    pub message: String,\n+    pub loc: NapiIssueSourceRange,\n+}\n+\n+pub struct AnalyzeTask {\n+    pub source: Option<String>,\n+    pub is_production: bool,\n+}\n+\n+impl Task for AnalyzeTask {\n+    type Output = Vec<NapiSourceDiagnostic>;\n+    type JsValue = Vec<NapiSourceDiagnostic>;\n+\n+    fn compute(&mut self) -> Result<Self::Output> {\n+        GLOBALS.set(&Default::default(), || {\n+            let c =\n+                swc_core::base::Compiler::new(Arc::new(SourceMap::new(FilePathMapping::empty())));\n+\n+            let options = ParseOptions {\n+                comments: false,\n+                syntax: Syntax::Es(EsSyntax {\n+                    jsx: true,\n+                    fn_bind: true,\n+                    decorators: true,\n+                    decorators_before_export: true,\n+                    export_default_from: true,\n+                    import_attributes: true,\n+                    allow_super_outside_method: true,\n+                    allow_return_outside_function: true,\n+                    auto_accessors: true,\n+                    explicit_resource_management: true,\n+                }),\n+                is_module: IsModule::Unknown,\n+                target: EsVersion::default(),\n+            };\n+            let source = self.source.take().unwrap();\n+            let fm =\n+                c.cm.new_source_file(Arc::new(FileName::Anon), source);\n+            let mut program = try_with_handler(\n+                c.cm.clone(),\n+                swc_core::base::HandlerOpts {\n+                    color: ColorConfig::Never,\n+                    skip_filename: false,\n+                },\n+                |handler| {\n+                    c.parse_js(\n+                        fm,\n+                        handler,\n+                        options.target,\n+                        options.syntax,\n+                        options.is_module,\n+                        None,\n+                    )\n+                },\n+            )\n+            .map_err(|e| e.to_pretty_error())\n+            .convert_err()?;\n+\n+            let diagnostics = RefCell::new(Vec::new());\n+            let top_level_mark = Mark::fresh(Mark::root());\n+            let unresolved_mark = Mark::fresh(Mark::root());\n+            let mut resolver_visitor = swc_core::ecma::transforms::base::resolver(unresolved_mark, top_level_mark, true);\n+            let mut analyze_visitor = next_custom_transforms::transforms::warn_for_edge_runtime::warn_for_edge_runtime_with_handlers(\n+                c.cm.clone(),\n+                ExprCtx {\n+                    is_unresolved_ref_safe: true,\n+                    unresolved_ctxt: SyntaxContext::empty().apply_mark(unresolved_mark),\n+                    in_strict: false,\n+                    remaining_depth: 4,\n+                },\n+                false,\n+                self.is_production,\n+                |span, msg| {\n+                    let start = c.cm.lookup_char_pos(span.lo);\n+                    let end = c.cm.lookup_char_pos(span.hi);\n+                    diagnostics.borrow_mut().push(NapiSourceDiagnostic {\n+                        severity: \"Warning\",\n+                        message: msg,\n+                        loc: NapiIssueSourceRange {\n+                            start: NapiSourcePos {\n+                                line: start.line as u32,\n+                                column: start.col_display as u32,\n+                            },\n+                            end: NapiSourcePos {\n+                                line: end.line as u32,\n+                                column: end.col_display as u32,\n+                            }\n+                        }\n+                    });\n+                },\n+                |span, msg| {\n+                    let start = c.cm.lookup_char_pos(span.lo);\n+                    let end = c.cm.lookup_char_pos(span.hi);\n+                    diagnostics.borrow_mut().push(NapiSourceDiagnostic {\n+                        severity: \"Error\",\n+                        message: msg,\n+                        loc: NapiIssueSourceRange {\n+                            start: NapiSourcePos {\n+                                line: start.line as u32,\n+                                column: start.col_display as u32,\n+                            },\n+                            end: NapiSourcePos {\n+                                line: end.line as u32,\n+                                column: end.col_display as u32,\n+                            }\n+                        }\n+                    });\n+                });\n+\n+                program.visit_mut_with(&mut resolver_visitor);\n+                program.visit_with(&mut analyze_visitor);\n+\n+            Ok(diagnostics.take())\n+        })\n+    }\n+\n+    fn resolve(&mut self, _env: Env, output: Self::Output) -> Result<Self::JsValue> {\n+        Ok(output)\n+    }\n+}\n+\n+#[napi(ts_return_type = \"Promise<NapiSourceDiagnostic[]>\")]\n+pub fn warn_for_edge_runtime(source: String, is_production: bool) -> AsyncTask<AnalyzeTask> {\n+    AsyncTask::new(AnalyzeTask {\n+        source: Some(source),\n+        is_production,\n+    })\n+}"
        },
        {
            "sha": "2f23c02d3f9d4fffe1e11d5b10a3245eeea10330",
            "filename": "crates/next-custom-transforms/src/transforms/warn_for_edge_runtime.rs",
            "status": "modified",
            "additions": 56,
            "deletions": 16,
            "changes": 72,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Fwarn_for_edge_runtime.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Fwarn_for_edge_runtime.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Fwarn_for_edge_runtime.rs?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -28,6 +28,42 @@ pub fn warn_for_edge_runtime(\n         guarded_process_props: Default::default(),\n         guarded_runtime: false,\n         is_production,\n+        emit_warn: |span: Span, msg: String| {\n+            HANDLER.with(|h| {\n+                h.struct_span_warn(span, &msg).emit();\n+            });\n+        },\n+        emit_error: |span: Span, msg: String| {\n+            HANDLER.with(|h| {\n+                h.struct_span_err(span, &msg).emit();\n+            });\n+        },\n+    }\n+}\n+\n+pub fn warn_for_edge_runtime_with_handlers<EmitWarn, EmitError>(\n+    cm: Arc<SourceMap>,\n+    ctx: ExprCtx,\n+    should_error_for_node_apis: bool,\n+    is_production: bool,\n+    emit_warn: EmitWarn,\n+    emit_error: EmitError,\n+) -> impl Visit\n+where\n+    EmitWarn: Fn(Span, String),\n+    EmitError: Fn(Span, String),\n+{\n+    WarnForEdgeRuntime {\n+        cm,\n+        ctx,\n+        should_error_for_node_apis,\n+        should_add_guards: false,\n+        guarded_symbols: Default::default(),\n+        guarded_process_props: Default::default(),\n+        guarded_runtime: false,\n+        is_production,\n+        emit_warn,\n+        emit_error,\n     }\n }\n \n@@ -41,7 +77,7 @@ pub fn warn_for_edge_runtime(\n /// ```js\n /// if(typeof clearImmediate !== \"function\") clearImmediate();\n /// ```\n-struct WarnForEdgeRuntime {\n+struct WarnForEdgeRuntime<EmitWarn, EmitError> {\n     cm: Arc<SourceMap>,\n     ctx: ExprCtx,\n     should_error_for_node_apis: bool,\n@@ -52,6 +88,8 @@ struct WarnForEdgeRuntime {\n     // for process.env.NEXT_RUNTIME\n     guarded_runtime: bool,\n     is_production: bool,\n+    emit_warn: EmitWarn,\n+    emit_error: EmitError,\n }\n \n const EDGE_UNSUPPORTED_NODE_APIS: &[&str] = &[\n@@ -144,7 +182,11 @@ const NODEJS_MODULE_NAMES: &[&str] = &[\n     \"zlib\",\n ];\n \n-impl WarnForEdgeRuntime {\n+impl<EmitWarn, EmitError> WarnForEdgeRuntime<EmitWarn, EmitError>\n+where\n+    EmitWarn: Fn(Span, String),\n+    EmitError: Fn(Span, String),\n+{\n     fn warn_if_nodejs_module(&self, span: Span, module_specifier: &str) -> Option<()> {\n         if self.guarded_runtime {\n             return None;\n@@ -162,9 +204,7 @@ Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime\",\n                 loc.line + 1\n             );\n \n-            HANDLER.with(|h| {\n-                h.struct_span_warn(span, &msg).emit();\n-            });\n+            (self.emit_warn)(span, msg);\n         }\n \n         None\n@@ -189,13 +229,11 @@ Learn more: https://nextjs.org/docs/api-reference/edge-runtime\",\n             loc.line + 1\n         );\n \n-        HANDLER.with(|h| {\n-            if self.should_error_for_node_apis {\n-                h.struct_span_err(span, &msg).emit();\n-            } else {\n-                h.struct_span_warn(span, &msg).emit();\n-            }\n-        });\n+        if self.should_error_for_node_apis {\n+            (self.emit_error)(span, msg);\n+        } else {\n+            (self.emit_warn)(span, msg);\n+        }\n \n         None\n     }\n@@ -266,9 +304,7 @@ Learn more: https://nextjs.org/docs/api-reference/edge-runtime\",\n                        'WebAssembly.compile') not allowed in Edge Runtime\"\n                 .to_string();\n \n-            HANDLER.with(|h| {\n-                h.struct_span_err(span, &msg).emit();\n-            });\n+            (self.emit_error)(span, msg);\n         }\n     }\n \n@@ -284,7 +320,11 @@ Learn more: https://nextjs.org/docs/api-reference/edge-runtime\",\n     }\n }\n \n-impl Visit for WarnForEdgeRuntime {\n+impl<EmitWarn, EmitError> Visit for WarnForEdgeRuntime<EmitWarn, EmitError>\n+where\n+    EmitWarn: Fn(Span, String),\n+    EmitError: Fn(Span, String),\n+{\n     fn visit_call_expr(&mut self, n: &CallExpr) {\n         n.visit_children_with(self);\n "
        },
        {
            "sha": "1809c305b1f0e58030c891f6afbd582e8c50afac",
            "filename": "packages/next/errors.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Ferrors.json",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Ferrors.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ferrors.json?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -709,5 +709,6 @@\n   \"708\": \"Failed to persist Chrome DevTools workspace UUID. The Chrome DevTools Workspace needs to be reconnected after the next page reload.\",\n   \"709\": \"`rspack.getModuleNamedExports` is not supported by the wasm bindings.\",\n   \"710\": \"Unable to remove an invalidated webpack cache. If this issue persists you can work around it by deleting %s\",\n-  \"711\": \"Can't resolve %s\"\n+  \"711\": \"Can't resolve %s\",\n+  \"712\": \"`rspack.warnForEdgeRuntime` is not supported by the wasm bindings.\"\n }"
        },
        {
            "sha": "fc9c2905f15420b71f0f3e4448d1322002a74ab3",
            "filename": "packages/next/src/build/swc/generated-native.d.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Fgenerated-native.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Fgenerated-native.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Fgenerated-native.d.ts?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -392,6 +392,15 @@ export declare function isReactCompilerRequired(\n export declare function getModuleNamedExports(\n   resourcePath: string\n ): Promise<string[]>\n+export interface NapiSourceDiagnostic {\n+  severity: string\n+  message: string\n+  loc: NapiIssueSourceRange\n+}\n+export declare function warnForEdgeRuntime(\n+  source: string,\n+  isProduction: boolean\n+): Promise<NapiSourceDiagnostic[]>\n export declare function transform(\n   src: string | Buffer | undefined,\n   isModule: boolean,"
        },
        {
            "sha": "2c077207f579d75105fd3119425e2c8f79dbd85f",
            "filename": "packages/next/src/build/swc/index.ts",
            "status": "modified",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Findex.ts?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -21,6 +21,7 @@ import { getReactCompilerLoader } from '../get-babel-loader-config'\n import type {\n   NapiPartialProjectOptions,\n   NapiProjectOptions,\n+  NapiSourceDiagnostic,\n } from './generated-native'\n import type {\n   Binding,\n@@ -1159,6 +1160,14 @@ async function loadWasm(importPath = '') {\n               '`rspack.getModuleNamedExports` is not supported by the wasm bindings.'\n             )\n           },\n+          warnForEdgeRuntime: function (\n+            _source: string,\n+            _isProduction: boolean\n+          ): Promise<NapiSourceDiagnostic[]> {\n+            throw new Error(\n+              '`rspack.warnForEdgeRuntime` is not supported by the wasm bindings.'\n+            )\n+          },\n         },\n       }\n       return wasmBindings\n@@ -1342,6 +1351,12 @@ function loadNative(importPath?: string) {\n         ): Promise<string[]> {\n           return bindings.getModuleNamedExports(resourcePath)\n         },\n+        warnForEdgeRuntime: function (\n+          source: string,\n+          isProduction: boolean\n+        ): Promise<NapiSourceDiagnostic[]> {\n+          return bindings.warnForEdgeRuntime(source, isProduction)\n+        },\n       },\n     }\n     return nativeBindings\n@@ -1466,3 +1481,11 @@ export async function getModuleNamedExports(\n   const bindings = await loadBindings()\n   return bindings.rspack.getModuleNamedExports(resourcePath)\n }\n+\n+export async function warnForEdgeRuntime(\n+  source: string,\n+  isProduction: boolean\n+): Promise<NapiSourceDiagnostic[]> {\n+  const bindings = await loadBindings()\n+  return bindings.rspack.warnForEdgeRuntime(source, isProduction)\n+}"
        },
        {
            "sha": "6beab32f6a5473b501415760ec23d406847933f5",
            "filename": "packages/next/src/build/swc/types.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Ftypes.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Ftypes.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Ftypes.ts?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -4,6 +4,7 @@ import type {\n   ExternalObject,\n   RefCell,\n   NapiTurboEngineOptions,\n+  NapiSourceDiagnostic,\n } from './generated-native'\n \n export type { NapiTurboEngineOptions as TurboEngineOptions }\n@@ -46,6 +47,10 @@ export interface Binding {\n \n   rspack: {\n     getModuleNamedExports(resourcePath: string): Promise<string[]>\n+    warnForEdgeRuntime(\n+      source: string,\n+      isProduction: boolean\n+    ): Promise<NapiSourceDiagnostic[]>\n   }\n }\n "
        },
        {
            "sha": "4d9156bf43ca33ff09ce886385b552247ed6f0b0",
            "filename": "packages/next/src/build/webpack/plugins/middleware-plugin.ts",
            "status": "modified",
            "additions": 56,
            "deletions": 11,
            "changes": 67,
            "blob_url": "https://github.com/vercel/next.js/blob/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/0c454dbfff0b41d8be92e09929453fd9a4581061/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts?ref=0c454dbfff0b41d8be92e09929453fd9a4581061",
            "patch": "@@ -567,6 +567,47 @@ Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`,\n   }\n }\n \n+async function codeAnalyzerBySwc(\n+  compilation: webpack.Compilation,\n+  modules: Iterable<webpack.Module>,\n+  dev: boolean\n+) {\n+  const binding = require('../../swc') as typeof import('../../swc')\n+  for (const module of modules) {\n+    if (\n+      module.layer !== WEBPACK_LAYERS.middleware &&\n+      module.layer !== WEBPACK_LAYERS.apiEdge\n+    ) {\n+      continue\n+    }\n+    if (module.constructor.name !== 'NormalModule') {\n+      continue\n+    }\n+    const originalSource = (module as webpack.NormalModule).originalSource()\n+    if (!originalSource) {\n+      continue\n+    }\n+    const source = originalSource.source()\n+    if (typeof source !== 'string') {\n+      continue\n+    }\n+    const diagnostics = await binding.warnForEdgeRuntime(source, !dev)\n+    for (const diagnostic of diagnostics) {\n+      const webpackError = buildWebpackError({\n+        message: diagnostic.message,\n+        loc: diagnostic.loc,\n+        compilation,\n+        entryModule: module,\n+      })\n+      if (diagnostic.severity === 'Warning') {\n+        compilation.warnings.push(webpackError)\n+      } else {\n+        compilation.errors.push(webpackError)\n+      }\n+    }\n+  }\n+}\n+\n function getExtractMetadata(params: {\n   compilation: webpack.Compilation\n   compiler: webpack.Compiler\n@@ -784,18 +825,22 @@ export default class MiddlewarePlugin {\n \n   public apply(compiler: webpack.Compiler) {\n     compiler.hooks.compilation.tap(NAME, (compilation, params) => {\n-      const { hooks } = params.normalModuleFactory\n-      /**\n-       * This is the static code analysis phase.\n-       */\n-      const codeAnalyzer = getCodeAnalyzer({\n-        dev: this.dev,\n-        compiler,\n-        compilation,\n-      })\n-\n       // parser hooks aren't available in rspack\n-      if (!process.env.NEXT_RSPACK) {\n+      if (process.env.NEXT_RSPACK) {\n+        compilation.hooks.finishModules.tapPromise(NAME, async (modules) => {\n+          await codeAnalyzerBySwc(compilation, modules, this.dev)\n+        })\n+      } else {\n+        const { hooks } = params.normalModuleFactory\n+        /**\n+         * This is the static code analysis phase.\n+         */\n+        const codeAnalyzer = getCodeAnalyzer({\n+          dev: this.dev,\n+          compiler,\n+          compilation,\n+        })\n+\n         hooks.parser.for('javascript/auto').tap(NAME, codeAnalyzer)\n         hooks.parser.for('javascript/dynamic').tap(NAME, codeAnalyzer)\n         hooks.parser.for('javascript/esm').tap(NAME, codeAnalyzer)"
        }
    ],
    "stats": {
        "total": 329,
        "additions": 290,
        "deletions": 39
    }
}