{
    "author": "huozhi",
    "message": "enable mcp server by default (#85058)",
    "sha": "79e127afbd916f9c904cf23ccac7818e3cd86e29",
    "files": [
        {
            "sha": "83b3d693b5c262562ac1a542c338dc8e9fad5474",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -802,7 +802,7 @@ export interface ExperimentalConfig {\n    * When enabled, Next.js will expose an MCP server at `/_next/mcp` that provides\n    * code intelligence and project context to AI assistants.\n    *\n-   * @default false\n+   * @default true\n    */\n   mcpServer?: boolean\n \n@@ -1541,6 +1541,7 @@ export const defaultConfig = Object.freeze({\n     isolatedDevBuild: true,\n     proxyClientMaxBodySize: 10_485_760, // 10MB\n     hideLogsAfterAbort: false,\n+    mcpServer: true,\n   },\n   htmlLimitedBots: undefined,\n   bundlePagesRouterDependencies: false,"
        },
        {
            "sha": "a469284e03d6889c741c8e571e388b76a015fe1c",
            "filename": "packages/next/src/telemetry/events/version.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/packages%2Fnext%2Fsrc%2Ftelemetry%2Fevents%2Fversion.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/packages%2Fnext%2Fsrc%2Ftelemetry%2Fevents%2Fversion.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Ftelemetry%2Fevents%2Fversion.ts?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -134,10 +134,11 @@ export function eventCliSession(\n       typeof nextConfig.reactCompiler !== 'boolean'\n         ? (nextConfig.reactCompiler?.panicThreshold ?? null)\n         : null,\n+    // Default mcpServer to true if not set\n     mcpServer:\n       typeof nextConfig.experimental.mcpServer === 'boolean'\n         ? nextConfig.experimental.mcpServer\n-        : null,\n+        : true,\n   }\n   return [{ eventName: EVENT_VERSION, payload }]\n }"
        },
        {
            "sha": "4ba52ba2c8df6758685c8f65f490306b5c44eb76",
            "filename": "test/development/mcp-server/fixtures/actions-app/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Factions-app%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Factions-app%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Factions-app%2Fnext.config.js?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -1,5 +1 @@\n-module.exports = {\n-  experimental: {\n-    mcpServer: true,\n-  },\n-}\n+module.exports = {}"
        },
        {
            "sha": "4ba52ba2c8df6758685c8f65f490306b5c44eb76",
            "filename": "test/development/mcp-server/fixtures/default-template/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fdefault-template%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fdefault-template%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fdefault-template%2Fnext.config.js?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -1,5 +1 @@\n-module.exports = {\n-  experimental: {\n-    mcpServer: true,\n-  },\n-}\n+module.exports = {}"
        },
        {
            "sha": "807126e4cf0bf5b1c8c917e6e0148a27331587d1",
            "filename": "test/development/mcp-server/fixtures/log-file-app/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Flog-file-app%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Flog-file-app%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Flog-file-app%2Fnext.config.js?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -1,10 +1,6 @@\n /**\n  * @type {import('next').NextConfig}\n  */\n-const nextConfig = {\n-  experimental: {\n-    mcpServer: true,\n-  },\n-}\n+const nextConfig = {}\n \n module.exports = nextConfig"
        },
        {
            "sha": "4ba52ba2c8df6758685c8f65f490306b5c44eb76",
            "filename": "test/development/mcp-server/fixtures/pages-router-template/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fpages-router-template%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fpages-router-template%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fpages-router-template%2Fnext.config.js?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -1,5 +1 @@\n-module.exports = {\n-  experimental: {\n-    mcpServer: true,\n-  },\n-}\n+module.exports = {}"
        },
        {
            "sha": "4ba52ba2c8df6758685c8f65f490306b5c44eb76",
            "filename": "test/development/mcp-server/fixtures/parallel-routes-template/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fparallel-routes-template%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fparallel-routes-template%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fmcp-server%2Ffixtures%2Fparallel-routes-template%2Fnext.config.js?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -1,5 +1 @@\n-module.exports = {\n-  experimental: {\n-    mcpServer: true,\n-  },\n-}\n+module.exports = {}"
        },
        {
            "sha": "43285d67461c5a4c74342e58ebc686b0727d4be8",
            "filename": "test/development/mcp-server/mcp-server-get-errors.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Fmcp-server-get-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fdevelopment%2Fmcp-server%2Fmcp-server-get-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fmcp-server%2Fmcp-server-get-errors.test.ts?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -323,7 +323,6 @@ describe('mcp-server get_errors tool', () => {\n       'next.config.js',\n       `module.exports = {\n   experimental: {\n-    mcpServer: true,\n     invalidTestProperty: 'this should cause a validation warning',\n   },\n }`"
        },
        {
            "sha": "807126e4cf0bf5b1c8c917e6e0148a27331587d1",
            "filename": "test/e2e/app-dir/log-file/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fe2e%2Fapp-dir%2Flog-file%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/79e127afbd916f9c904cf23ccac7818e3cd86e29/test%2Fe2e%2Fapp-dir%2Flog-file%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Flog-file%2Fnext.config.js?ref=79e127afbd916f9c904cf23ccac7818e3cd86e29",
            "patch": "@@ -1,10 +1,6 @@\n /**\n  * @type {import('next').NextConfig}\n  */\n-const nextConfig = {\n-  experimental: {\n-    mcpServer: true,\n-  },\n-}\n+const nextConfig = {}\n \n module.exports = nextConfig"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 10,
        "deletions": 33
    }
}