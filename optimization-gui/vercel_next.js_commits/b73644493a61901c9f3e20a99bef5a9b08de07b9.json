{
    "author": "raunofreiberg",
    "message": " [dev-overlay] Fix highlighted line cut off on scroll (#79930)\n\nTiny PR to fix the error highlight not spanning full width of the\ncontainer.\n\n\n\n\nhttps://github.com/user-attachments/assets/595b7184-e325-4b24-afdb-7683c04f0999\n\n\n\n---\nCloses NDX-1025",
    "sha": "b73644493a61901c9f3e20a99bef5a9b08de07b9",
    "files": [
        {
            "sha": "51c7b075b942f22f0e574f89bafd6e62670e7774",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/code-frame/code-frame.tsx",
            "status": "modified",
            "additions": 40,
            "deletions": 34,
            "changes": 74,
            "blob_url": "https://github.com/vercel/next.js/blob/b73644493a61901c9f3e20a99bef5a9b08de07b9/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fcode-frame%2Fcode-frame.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b73644493a61901c9f3e20a99bef5a9b08de07b9/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fcode-frame%2Fcode-frame.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fcode-frame%2Fcode-frame.tsx?ref=b73644493a61901c9f3e20a99bef5a9b08de07b9",
            "patch": "@@ -62,40 +62,42 @@ export function CodeFrame({ stackFrame, codeFrame }: CodeFrameProps) {\n         </p>\n       </div>\n       <pre className=\"code-frame-pre\">\n-        {parsedLineStates.map(({ line, parsedLine }, lineIndex) => {\n-          const { lineNumber, isErroredLine } = parsedLine\n-\n-          const lineNumberProps: Record<string, string | boolean> = {}\n-          if (lineNumber) {\n-            lineNumberProps['data-nextjs-codeframe-line'] = lineNumber\n-          }\n-          if (isErroredLine) {\n-            lineNumberProps['data-nextjs-codeframe-line--errored'] = true\n-          }\n-\n-          return (\n-            <div key={`line-${lineIndex}`} {...lineNumberProps}>\n-              {line.map((entry, entryIndex) => (\n-                <span\n-                  key={`frame-${entryIndex}`}\n-                  style={{\n-                    color: entry.fg ? `var(--color-${entry.fg})` : undefined,\n-                    ...(entry.decoration === 'bold'\n-                      ? // TODO(jiwon): This used to be 800, but the symbols like `─┬─` are\n-                        // having longer width than expected on Geist Mono font-weight\n-                        // above 600, hence a temporary fix is to use 500 for bold.\n-                        { fontWeight: 500 }\n-                      : entry.decoration === 'italic'\n-                        ? { fontStyle: 'italic' }\n-                        : undefined),\n-                  }}\n-                >\n-                  {entry.content}\n-                </span>\n-              ))}\n-            </div>\n-          )\n-        })}\n+        <div className=\"code-frame-lines\">\n+          {parsedLineStates.map(({ line, parsedLine }, lineIndex) => {\n+            const { lineNumber, isErroredLine } = parsedLine\n+\n+            const lineNumberProps: Record<string, string | boolean> = {}\n+            if (lineNumber) {\n+              lineNumberProps['data-nextjs-codeframe-line'] = lineNumber\n+            }\n+            if (isErroredLine) {\n+              lineNumberProps['data-nextjs-codeframe-line--errored'] = true\n+            }\n+\n+            return (\n+              <div key={`line-${lineIndex}`} {...lineNumberProps}>\n+                {line.map((entry, entryIndex) => (\n+                  <span\n+                    key={`frame-${entryIndex}`}\n+                    style={{\n+                      color: entry.fg ? `var(--color-${entry.fg})` : undefined,\n+                      ...(entry.decoration === 'bold'\n+                        ? // TODO(jiwon): This used to be 800, but the symbols like `─┬─` are\n+                          // having longer width than expected on Geist Mono font-weight\n+                          // above 600, hence a temporary fix is to use 500 for bold.\n+                          { fontWeight: 500 }\n+                        : entry.decoration === 'italic'\n+                          ? { fontStyle: 'italic' }\n+                          : undefined),\n+                    }}\n+                  >\n+                    {entry.content}\n+                  </span>\n+                ))}\n+              </div>\n+            )\n+          })}\n+        </div>\n       </pre>\n     </div>\n   )\n@@ -131,6 +133,10 @@ export const CODE_FRAME_STYLES = `\n     flex-shrink: 0;\n   }\n \n+  .code-frame-lines {\n+    min-width: max-content;\n+  }\n+\n   .code-frame-link [data-text] {\n     display: inline-flex;\n     text-align: left;"
        },
        {
            "sha": "8c30f049fe49a7563b668d270e159e4accc8c572",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/terminal/terminal.tsx",
            "status": "modified",
            "additions": 27,
            "deletions": 25,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/b73644493a61901c9f3e20a99bef5a9b08de07b9/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fterminal%2Fterminal.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b73644493a61901c9f3e20a99bef5a9b08de07b9/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fterminal%2Fterminal.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fterminal%2Fterminal.tsx?ref=b73644493a61901c9f3e20a99bef5a9b08de07b9",
            "patch": "@@ -113,31 +113,33 @@ export const Terminal: React.FC<TerminalProps> = function Terminal({\n         </div>\n       </div>\n       <pre className=\"code-frame-pre\">\n-        {decoded.map((entry, index) => (\n-          <span\n-            key={`terminal-entry-${index}`}\n-            style={{\n-              color: entry.fg ? `var(--color-${entry.fg})` : undefined,\n-              ...(entry.decoration === 'bold'\n-                ? // TODO(jiwon): This used to be 800, but the symbols like `─┬─` are\n-                  // having longer width than expected on Geist Mono font-weight\n-                  // above 600, hence a temporary fix is to use 500 for bold.\n-                  { fontWeight: 500 }\n-                : entry.decoration === 'italic'\n-                  ? { fontStyle: 'italic' }\n-                  : undefined),\n-            }}\n-          >\n-            <HotlinkedText text={entry.content} />\n-          </span>\n-        ))}\n-        {importTraceFiles.map((importTraceFile) => (\n-          <EditorLink\n-            isSourceFile={false}\n-            key={importTraceFile}\n-            file={importTraceFile}\n-          />\n-        ))}\n+        <div className=\"code-frame-lines\">\n+          {decoded.map((entry, index) => (\n+            <span\n+              key={`terminal-entry-${index}`}\n+              style={{\n+                color: entry.fg ? `var(--color-${entry.fg})` : undefined,\n+                ...(entry.decoration === 'bold'\n+                  ? // TODO(jiwon): This used to be 800, but the symbols like `─┬─` are\n+                    // having longer width than expected on Geist Mono font-weight\n+                    // above 600, hence a temporary fix is to use 500 for bold.\n+                    { fontWeight: 500 }\n+                  : entry.decoration === 'italic'\n+                    ? { fontStyle: 'italic' }\n+                    : undefined),\n+              }}\n+            >\n+              <HotlinkedText text={entry.content} />\n+            </span>\n+          ))}\n+          {importTraceFiles.map((importTraceFile) => (\n+            <EditorLink\n+              isSourceFile={false}\n+              key={importTraceFile}\n+              file={importTraceFile}\n+            />\n+          ))}\n+        </div>\n       </pre>\n     </div>\n   )"
        }
    ],
    "stats": {
        "total": 126,
        "additions": 67,
        "deletions": 59
    }
}