{
    "author": "eps1lon",
    "message": "[ci] Only install Playwright dependencies for used browser (#87002)\n\nInstalls much less via apt.",
    "sha": "9688b06c0bc10653fbffe85b0aea79f07bf69e59",
    "files": [
        {
            "sha": "3f8ec4490943abdca5d5d80f4ae7c1e180a11f6a",
            "filename": ".github/workflows/build_and_test.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/9688b06c0bc10653fbffe85b0aea79f07bf69e59/.github%2Fworkflows%2Fbuild_and_test.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/9688b06c0bc10653fbffe85b0aea79f07bf69e59/.github%2Fworkflows%2Fbuild_and_test.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_test.yml?ref=9688b06c0bc10653fbffe85b0aea79f07bf69e59",
            "patch": "@@ -902,6 +902,7 @@ jobs:\n \n     uses: ./.github/workflows/build_reusable.yml\n     with:\n+      browser: 'firefox webkit'\n       afterBuild: |\n         pnpm playwright install\n "
        },
        {
            "sha": "b950cfa9a9151588b198eae47d0e3e6d356bd91a",
            "filename": ".github/workflows/build_reusable.yml",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/9688b06c0bc10653fbffe85b0aea79f07bf69e59/.github%2Fworkflows%2Fbuild_reusable.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/9688b06c0bc10653fbffe85b0aea79f07bf69e59/.github%2Fworkflows%2Fbuild_reusable.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_reusable.yml?ref=9688b06c0bc10653fbffe85b0aea79f07bf69e59",
            "patch": "@@ -80,6 +80,11 @@ on:\n         type: string\n         default: ''\n \n+      browser:\n+        description: 'Browser to use for tests'\n+        required: false\n+        type: string\n+        default: 'chromium'\n env:\n   NAPI_CLI_VERSION: 2.18.4\n   TURBO_VERSION: 2.5.5\n@@ -266,10 +271,7 @@ jobs:\n         run: pnpm install\n         if: ${{ inputs.skipInstallBuild != 'yes' }}\n \n-      - run: pnpm playwright install-deps\n-        if: ${{ inputs.skipInstallBuild != 'yes' }}\n-\n-      - run: pnpm playwright install chromium\n+      - run: pnpm playwright install --with-deps ${{ inputs.browser }}\n         if: ${{ inputs.skipInstallBuild != 'yes' }}\n \n       - run: pnpm dlx turbo@${TURBO_VERSION} run get-test-timings -- --build ${{ github.sha }}"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 7,
        "deletions": 4
    }
}