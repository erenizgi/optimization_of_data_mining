{
    "author": "lubieowoce",
    "message": "fix: error build if fixture typechecking fails (#78839)\n\nThe type checking introduced in #75935 wasn't actually failing the\nbuild, because `find ... -exec ...` seems to eat non-zero exit codes.\nThis is fixed by using `xargs` instead.\n\nAlso fixes some files that were failing typechecking but no one noticed\ndue to the above bug.",
    "sha": "6dbaf95a1a0755008741dc966ff7268b85e41510",
    "files": [
        {
            "sha": "f49bb27f64b98cba97b9592f90339eeca1294957",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/modules.d.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/6dbaf95a1a0755008741dc966ff7268b85e41510/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fmodules.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/6dbaf95a1a0755008741dc966ff7268b85e41510/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fmodules.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Fmodules.d.ts?ref=6dbaf95a1a0755008741dc966ff7268b85e41510",
            "patch": "@@ -49,3 +49,6 @@ declare module 'components' {\n declare module 'navigation' {\n   export function redirect(href: string): void\n }\n+\n+// Some tests generate `data:text/javascript,...` imports\n+declare module 'data:text/*'"
        },
        {
            "sha": "c3bcd7b15bc33cc9fb4e80de66bae5f6a75f7ff2",
            "filename": "crates/next-custom-transforms/tests/fixture/server-actions/tsconfig.json",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6dbaf95a1a0755008741dc966ff7268b85e41510/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Ftsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/6dbaf95a1a0755008741dc966ff7268b85e41510/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ffixture%2Fserver-actions%2Ftsconfig.json?ref=6dbaf95a1a0755008741dc966ff7268b85e41510",
            "patch": "@@ -29,6 +29,8 @@\n     \"./server-graph/25/output.js\",\n     \"./server-graph/28/output.js\",\n     \"./server-graph/30/output.js\",\n+    // FIXME: buggy renaming of anonymous functions\n+    \"./server-graph/51/output.js\",\n     // Excluded because of weird TS behavior around `action.bind(...)` making args optional\n     // (but only if no JSDoc type annotations are present)\n     \"./server-graph/24/output.js\""
        },
        {
            "sha": "fe4c11a042d4d571a7925f7f105a2145eac2427e",
            "filename": "package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/6dbaf95a1a0755008741dc966ff7268b85e41510/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/6dbaf95a1a0755008741dc966ff7268b85e41510/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=6dbaf95a1a0755008741dc966ff7268b85e41510",
            "patch": "@@ -43,7 +43,7 @@\n     \"lint-ast-grep\": \"ast-grep scan\",\n     \"lint-no-typescript\": \"run-p prettier-check lint-eslint lint-language\",\n     \"types-and-precompiled\": \"run-p lint-typescript check-precompiled check-compiler-fixtures types:test-lib\",\n-    \"check-compiler-fixtures\": \"find crates/next-custom-transforms/tests/fixture -type f -name 'tsconfig.json' -exec /bin/sh -c 'echo \\\"project: $1\\\"; pnpm tsc --noEmit --project \\\"$1\\\"' -- {} \\\\;\",\n+    \"check-compiler-fixtures\": \"find crates/next-custom-transforms/tests/fixture -type f -name 'tsconfig.json' -print0 | xargs --null -n1 -I'{}' pnpm tsc --noEmit --project '{}'\",\n     \"validate-externals-doc\": \"node ./scripts/validate-externals-doc.js\",\n     \"lint\": \"run-p test-types lint-typescript prettier-check lint-eslint lint-ast-grep lint-language\",\n     \"lint-fix\": \"pnpm prettier-fix && pnpm lint-eslint --fix\","
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}