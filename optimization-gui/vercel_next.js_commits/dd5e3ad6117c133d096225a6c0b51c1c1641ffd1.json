{
    "author": "ztanner",
    "message": "[ci]: move router-act to top level testing utils (#84653)\n\nWe're starting to use this pattern in more places, so this moves `router-act` into our top level testing utils.",
    "sha": "dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
    "files": [
        {
            "sha": "421596b3b5c90fa0b7b82df7a2945f192735e5cf",
            "filename": "test/e2e/app-dir/app-prefetch/prefetching.stale-times.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.stale-times.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.stale-times.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.stale-times.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { FileRef, nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from './router-act'\n+import { createRouterAct } from 'router-act'\n import { createTimeController } from './test-utils'\n import { join } from 'path'\n "
        },
        {
            "sha": "fd6cbb4ec27d2f9517b90deee97bb91682857f0a",
            "filename": "test/e2e/app-dir/app-prefetch/prefetching.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Fprefetching.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -2,7 +2,7 @@ import { FileRef, nextTestSetup } from 'e2e-utils'\n import { waitFor, retry } from 'next-test-utils'\n import { NEXT_RSC_UNION_QUERY } from 'next/dist/client/components/app-router-headers'\n import { computeCacheBustingSearchParam } from 'next/dist/shared/lib/router/utils/cache-busting-search-param'\n-import { createRouterAct } from './router-act'\n+import { createRouterAct } from 'router-act'\n import { createTimeController } from './test-utils'\n import { join } from 'path'\n "
        },
        {
            "sha": "d73e4cfdb8277c817a3d631df087c6688d0d13c0",
            "filename": "test/e2e/app-dir/app-prefetch/router-act.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 504,
            "changes": 504,
            "blob_url": "https://github.com/vercel/next.js/blob/1e9fe5f89e481f9ff41100a3f7bcdc3e51a53af3/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Frouter-act.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1e9fe5f89e481f9ff41100a3f7bcdc3e51a53af3/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Frouter-act.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fapp-prefetch%2Frouter-act.ts?ref=1e9fe5f89e481f9ff41100a3f7bcdc3e51a53af3",
            "patch": "@@ -1,504 +0,0 @@\n-import type * as Playwright from 'playwright'\n-import { diff } from 'jest-diff'\n-import { equals } from '@jest/expect-utils'\n-\n-type Batch = {\n-  pendingRequestChecks: Set<Promise<void>>\n-  pendingRequests: Set<PendingRSCRequest>\n-}\n-\n-type PendingRSCRequest = {\n-  url: string\n-  route: Playwright.Route | null\n-  result: Promise<{\n-    text: string\n-    body: any\n-    headers: Record<string, string>\n-    status: number\n-  }>\n-  didProcess: boolean\n-}\n-\n-let currentBatch: Batch | null = null\n-\n-type ExpectedResponseConfig = { includes: string; block?: boolean | 'reject' }\n-\n-/**\n- * Represents the expected responses sent by the server to fulfill requests\n- * initiated by the `scope` function.\n- *\n- * - `includes` is a substring of an expected response body.\n- * - `block` indicates whether the response should not yet be sent to the\n- *   client. This option is only supported when nested inside an outer `act`\n- *   scope. The blocked response will be fulfilled when the outer\n- *   scope completes.\n- *\n- * The list of expected responses does not need to be exhaustive â€” any\n- * responses that don't match will proceed like normal. However, `act` will\n- * error if the expected substring is not found in any of the responses, or\n- * if the expected responses are received out of order. It will also error\n- * if the same expected substring is found in multiple responses.\n- *\n- * If no expected responses are provided, the only expectation is that at\n- * least one request is initiated. (This is the same as passing an\n- * empty array.)\n- *\n- * Alternatively, if no network activity is expected, pass \"no-requests\".\n- */\n-type ActConfig =\n-  | ExpectedResponseConfig\n-  | Array<ExpectedResponseConfig>\n-  | 'block'\n-  | 'no-requests'\n-  | null\n-\n-export function createRouterAct(\n-  page: Playwright.Page\n-): <T>(scope: () => Promise<T> | T, config?: ActConfig) => Promise<T> {\n-  /**\n-   * Test utility for requests initiated by the Next.js Router, such as\n-   * prefetches and navigations. Calls the given async function then intercepts\n-   * any router requests that are initiated as a result. It will then wait for\n-   * all the requests to complete before exiting. Inspired by the React\n-   * `act` API.\n-   */\n-  async function act<T>(\n-    scope: () => Promise<T> | T,\n-    config?: ActConfig\n-  ): Promise<T> {\n-    // Capture a stack trace for better async error messages.\n-    const error = new Error()\n-    if (Error.captureStackTrace) {\n-      Error.captureStackTrace(error, act)\n-    }\n-\n-    let expectedResponses: Array<ExpectedResponseConfig> | null\n-    let forbiddenResponses: Array<ExpectedResponseConfig> | null = null\n-    let shouldBlockAll = false\n-    if (config === undefined || config === null) {\n-      // Default. Expect at least one request, but don't assert on the response.\n-      expectedResponses = []\n-    } else if (config === 'block') {\n-      // Expect at least one request, and block them all from being fulfilled.\n-      if (currentBatch === null) {\n-        error.message =\n-          '`block` option only supported when nested inside an outer ' +\n-          '`act` scope.'\n-        throw error\n-      }\n-      expectedResponses = []\n-      shouldBlockAll = true\n-    } else if (config === 'no-requests') {\n-      // Expect no requests to be initiated.\n-      expectedResponses = null\n-    } else if (!Array.isArray(config)) {\n-      // Shortcut for a single expected response.\n-      if (config.block === true && currentBatch === null) {\n-        error.message =\n-          '`block: true` option only supported when nested inside an outer ' +\n-          '`act` scope.'\n-        throw error\n-      }\n-      if (config.block !== 'reject') {\n-        expectedResponses = [config]\n-      } else {\n-        expectedResponses = []\n-        forbiddenResponses = [config]\n-      }\n-    } else {\n-      expectedResponses = []\n-      for (const item of config) {\n-        if (item.block === true && currentBatch === null) {\n-          error.message =\n-            '`block: true` option only supported when nested inside an outer ' +\n-            '`act` scope.'\n-          throw error\n-        }\n-        if (item.block !== 'reject') {\n-          expectedResponses.push(item)\n-        } else {\n-          if (forbiddenResponses === null) {\n-            forbiddenResponses = [item]\n-          } else {\n-            forbiddenResponses.push(item)\n-          }\n-        }\n-      }\n-    }\n-\n-    // Attach a route handler to intercept router requests for the duration\n-    // of the `act` scope. It will be removed before `act` exits.\n-    let onDidIssueFirstRequest: (() => void) | null = null\n-    const routeHandler = async (route: Playwright.Route) => {\n-      const request = route.request()\n-\n-      const pendingRequests = batch.pendingRequests\n-      const pendingRequestChecks = batch.pendingRequestChecks\n-\n-      // Because determining whether we need to intercept the request is an\n-      // async operation, we collect these promises so we can await them at the\n-      // end of the `act` scope to see whether any additional requests\n-      // were initiated.\n-      // NOTE: The default check doesn't actually need to be async, but since\n-      // this logic is subtle, to preserve the ability to add an async\n-      // check later, I'm treating it as if it could possibly be async.\n-      const checkIfRouterRequest = (async () => {\n-        const headers = request.headers()\n-\n-        // The default check includes navigations, prefetches, and actions.\n-        const isRouterRequest =\n-          headers['rsc'] !== undefined || // Matches navigations and prefetches\n-          headers['next-action'] !== undefined // Matches Server Actions\n-\n-        if (isRouterRequest) {\n-          // This request was initiated by the Next.js Router. Intercept it and\n-          // add it to the current batch.\n-          pendingRequests.add({\n-            url: request.url(),\n-            route,\n-            // `act` controls the timing of when responses reach the client,\n-            // but it should not affect the timing of when requests reach the\n-            // server; we pass the request to the server the immediately.\n-            result: new Promise(async (resolve) => {\n-              const originalResponse = await page.request.fetch(request, {\n-                maxRedirects: 0,\n-              })\n-\n-              // WORKAROUND:\n-              // intercepting responses with 'Transfer-Encoding: chunked' (used for streaming)\n-              // seems to be problematic sometimes, making the browser error with `net::ERR_INCOMPLETE_CHUNKED_ENCODING`.\n-              // In particular, this seems to happen when blocking a streaming navigation response. (but not always)\n-              // Playwright buffers the whole body anyway, so we can remove the header to sidestep this.\n-              const headers = originalResponse.headers()\n-              delete headers['transfer-encoding']\n-\n-              resolve({\n-                text: await originalResponse.text(),\n-                body: await originalResponse.body(),\n-                headers,\n-                status: originalResponse.status(),\n-              })\n-            }),\n-            didProcess: false,\n-          })\n-          if (onDidIssueFirstRequest !== null) {\n-            onDidIssueFirstRequest()\n-            onDidIssueFirstRequest = null\n-          }\n-          return\n-        }\n-        // This is some other request not related to the Next.js Router. Allow\n-        // it to continue as normal.\n-        route.continue()\n-      })()\n-\n-      pendingRequestChecks.add(checkIfRouterRequest)\n-      await checkIfRouterRequest\n-      // Once we've read the header, we can remove it from the pending set.\n-      pendingRequestChecks.delete(checkIfRouterRequest)\n-    }\n-\n-    let didHardNavigate = false\n-    const hardNavigationHandler = async () => {\n-      // If a hard navigation occurs, the current batch of requests is no longer\n-      // valid. In fact, Playwright will hang indefinitely if we attempt to\n-      // await the response of an orphaned request. Reset the batch and unblock\n-      // all the orphaned requests.\n-      const orphanedRequests = batch.pendingRequests\n-      batch.pendingRequests = new Set()\n-      batch.pendingRequestChecks = new Set()\n-      await Promise.all(\n-        Array.from(orphanedRequests).map((item) => item.route.continue())\n-      )\n-      didHardNavigate = true\n-    }\n-\n-    const waitForPendingRequestChecks = async () => {\n-      const prevChecks = batch.pendingRequestChecks\n-      batch.pendingRequestChecks = new Set()\n-      await Promise.all(prevChecks)\n-    }\n-\n-    const prevBatch = currentBatch\n-    const batch: Batch = {\n-      pendingRequestChecks: new Set(),\n-      pendingRequests: new Set(),\n-    }\n-    currentBatch = batch\n-    await page.route('**/*', routeHandler)\n-    await page.on('framedetached', hardNavigationHandler)\n-    try {\n-      // Call the user-provided scope function\n-      const returnValue = await scope()\n-\n-      // Wait until the first request is initiated, up to some timeout.\n-      if (expectedResponses !== null && batch.pendingRequests.size === 0) {\n-        await new Promise<void>((resolve, reject) => {\n-          const timerId = setTimeout(() => {\n-            error.message = 'Timed out waiting for a request to be initiated.'\n-            reject(error)\n-          }, 500)\n-          onDidIssueFirstRequest = () => {\n-            clearTimeout(timerId)\n-            resolve()\n-          }\n-        })\n-      }\n-\n-      // Fulfill all the requests that were initiated by the scope function. But\n-      // first, wait an additional browser task. This simulates the real world\n-      // behavior where the network response is received in an async event/task\n-      // that comes after the scope function, rather than immediately when the\n-      // scope function exits.\n-      //\n-      // We use requestIdleCallback to schedule the task because that's\n-      // guaranteed to fire after any IntersectionObserver events, which the\n-      // router uses to track the visibility of links.\n-      await page.evaluate(\n-        () => new Promise<void>((res) => requestIdleCallback(() => res()))\n-      )\n-\n-      // Checking whether a request needs to be intercepted is an async\n-      // operation, so we need to wait for all the checks to complete before\n-      // checking whether the queue is empty.\n-      await waitForPendingRequestChecks()\n-\n-      // Because responding to one request may unblock additional requests,\n-      // keep checking for more requests until the queue has settled.\n-      const remaining = new Set<PendingRSCRequest>()\n-      let actualResponses: Array<ExpectedResponseConfig> = []\n-      let alreadyMatched = new Map<string, string>()\n-      while (batch.pendingRequests.size > 0) {\n-        const pending = batch.pendingRequests\n-        batch.pendingRequests = new Set()\n-        for (const item of pending) {\n-          const route = item.route\n-          const url = item.url\n-\n-          let shouldBlock = false\n-          const fulfilled = await item.result\n-          if (item.didProcess) {\n-            // This response was already processed by an inner `act` call.\n-          } else {\n-            item.didProcess = true\n-            if (expectedResponses === null) {\n-              error.message = `\n-Expected no network requests to be initiated.\n-\n-URL: ${url}\n-Headers: ${JSON.stringify(fulfilled.headers)}\n-\n-Response:\n-${fulfilled.body}\n-`\n-\n-              throw error\n-            }\n-            if (fulfilled.status >= 400) {\n-              error.message = `\n-Received a response with an error status code.\n-\n-Status: ${fulfilled.status}\n-URL: ${url}\n-Headers: ${JSON.stringify(fulfilled.headers)}\n-\n-Response:\n-${fulfilled.body}\n-`\n-              throw error\n-            }\n-            if (forbiddenResponses !== null) {\n-              for (const forbiddenResponse of forbiddenResponses) {\n-                const includes = forbiddenResponse.includes\n-                if (fulfilled.body.includes(includes)) {\n-                  error.message = `\n-Received a response containing an unexpected substring:\n-\n-Rejected substring: ${includes}\n-\n-Response:\n-${fulfilled.body}\n-`\n-                  throw error\n-                }\n-              }\n-            }\n-            if (expectedResponses !== null) {\n-              for (const expectedResponse of expectedResponses) {\n-                const includes = expectedResponse.includes\n-                const block = expectedResponse.block\n-                if (fulfilled.body.includes(includes)) {\n-                  // Match. Don't check yet whether the responses are received\n-                  // in the expected order. Instead collect all the matches and\n-                  // check at the end so we can include a diff in the\n-                  // error message.\n-                  const otherResponse = alreadyMatched.get(includes)\n-                  if (otherResponse !== undefined) {\n-                    error.message = `\n-Received multiple responses containing the same expected substring.\n-\n-Expected substring:\n-${includes}\n-\n-Responses:\n-\n-${otherResponse}\n-\n-${fulfilled.body}\n-\n-Choose a more specific substring to assert on.\n-`\n-                    throw error\n-                  }\n-                  alreadyMatched.set(includes, fulfilled.body)\n-                  if (actualResponses === null) {\n-                    actualResponses = [expectedResponse]\n-                  } else {\n-                    actualResponses.push(expectedResponse)\n-                  }\n-                  if (block) {\n-                    shouldBlock = true\n-                  }\n-                  // Keep checking all the expected responses to verify there\n-                  // are no duplicate matches\n-                }\n-              }\n-            }\n-          }\n-\n-          if (shouldBlock || shouldBlockAll) {\n-            // This response was blocked by the `block` option. Don't\n-            // fulfill it yet.\n-            remaining.add(item)\n-            if (route === null) {\n-              error.message = `\n-The \"block\" option is not supported for requests that are redirected.\n-\n-URL: ${url}\n-Headers: ${JSON.stringify(fulfilled.headers)}\n-\n-Response:\n-${fulfilled.body}\n-`\n-\n-              throw error\n-            }\n-          } else {\n-            if (route !== null) {\n-              const request = route.request()\n-              await route.fulfill({\n-                body: fulfilled.body,\n-                headers: fulfilled.headers,\n-                status: fulfilled.status,\n-              })\n-              const browserResponse = await request.response()\n-              if (browserResponse !== null) {\n-                await browserResponse.finished()\n-              }\n-            }\n-          }\n-\n-          if (fulfilled.status === 307 || fulfilled.status === 308) {\n-            // When fulfilling a redirect, for some reason, the page.route()\n-            // handler installed earlier will not intercept the\n-            // redirect request. Install a one-off event listener to wait for\n-            // the redirected request to finish. This works for this case\n-            // because we don't need to modify to delay the response; we only\n-            // need to observe when it has finished.\n-            // TODO: Because this request cannot be intercepted, it's\n-            // incompatible with the \"block\" option. I haven't yet figured out\n-            // a strategy to make that work. In the meantime, attempting to\n-            // write a test that blocks a redirect will result in an error\n-            // (see error above).\n-            await new Promise<void>((resolve) => {\n-              page.once('request', (req) => {\n-                const handleResponse = (res: Playwright.Response) => {\n-                  if (res.url() === req.url()) {\n-                    batch.pendingRequests.add({\n-                      url: req.url(),\n-                      route: null,\n-                      result: new Promise(async (resolve) => {\n-                        resolve({\n-                          text: await res.text(),\n-                          body: await res.body(),\n-                          headers: res.headers(),\n-                          status: res.status(),\n-                        })\n-                      }),\n-                      didProcess: false,\n-                    })\n-                    page.off('response', handleResponse)\n-                    resolve()\n-                  }\n-                }\n-                page.on('response', handleResponse)\n-              })\n-            })\n-          }\n-        }\n-\n-        // After flushing the queue, wait for the microtask queue to be\n-        // exhausted, then check if any additional requests are initiated. A\n-        // single macrotask should be enough because if the router queue is\n-        // network throttled, the next request is issued either directly within\n-        // the task of the previous request's completion event, or in the\n-        // microtask queue of that event.\n-        await page.evaluate(\n-          () => new Promise<void>((res) => requestIdleCallback(() => res()))\n-        )\n-\n-        await waitForPendingRequestChecks()\n-      }\n-\n-      if (didHardNavigate) {\n-        error.message =\n-          'A hard navigation or refresh was triggerd during the `act` scope. ' +\n-          'This is not supported.'\n-        throw error\n-      }\n-\n-      if (expectedResponses !== null) {\n-        // Assert that the responses were received in the expected order\n-        if (!equals(actualResponses, expectedResponses)) {\n-          // Print a helpful error message.\n-\n-          if (expectedResponses.length === 1) {\n-            error.message =\n-              'Expected a response containing the given string:\\n\\n' +\n-              expectedResponses[0].includes +\n-              '\\n'\n-          } else {\n-            const expectedSubstrings = expectedResponses.map(\n-              (item) => item.includes\n-            )\n-            const actualSubstrings = actualResponses.map(\n-              (item) => item.includes\n-            )\n-            error.message =\n-              'Expected sequence of responses does not match:\\n\\n' +\n-              diff(expectedSubstrings, actualSubstrings) +\n-              '\\n'\n-          }\n-          throw error\n-        }\n-      }\n-\n-      // Some of the requests were blocked. Transfer them to the outer `act`\n-      // batch so it can flush them.\n-      if (remaining.size !== 0 && prevBatch !== null) {\n-        for (const item of remaining) {\n-          prevBatch.pendingRequests.add(item)\n-        }\n-      }\n-\n-      return returnValue\n-    } finally {\n-      // Clean up\n-      currentBatch = prevBatch\n-      await page.unroute('**/*', routeHandler)\n-      await page.off('framedetached', hardNavigationHandler)\n-    }\n-  }\n-\n-  return act\n-}"
        },
        {
            "sha": "735c3b72ce14ed680cfc49e7df8f98d7f94381da",
            "filename": "test/e2e/app-dir/segment-cache/basic/segment-cache-basic.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fbasic%2Fsegment-cache-basic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fbasic%2Fsegment-cache-basic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fbasic%2Fsegment-cache-basic.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { waitFor } from 'next-test-utils'\n \n describe('segment cache (basic tests)', () => {"
        },
        {
            "sha": "aabbb2919acc305ad83c9c3ea3ec52c97cfe5ed1",
            "filename": "test/e2e/app-dir/segment-cache/cdn-cache-busting/cdn-cache-busting.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fcdn-cache-busting%2Fcdn-cache-busting.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fcdn-cache-busting%2Fcdn-cache-busting.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fcdn-cache-busting%2Fcdn-cache-busting.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import type * as Playwright from 'playwright'\n import webdriver from 'next-webdriver'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { findPort, nextBuild } from 'next-test-utils'\n import { isNextDeploy, isNextDev } from 'e2e-utils'\n import { start } from './server.mjs'"
        },
        {
            "sha": "e69e13f44625e25845dd6317690a59ef1c640f72",
            "filename": "test/e2e/app-dir/segment-cache/client-only-opt-in/client-only-opt-in.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-only-opt-in%2Fclient-only-opt-in.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-only-opt-in%2Fclient-only-opt-in.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fclient-only-opt-in%2Fclient-only-opt-in.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('segment cache prefetch scheduling', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "6958610d7ffda20a0a46cb42f9dbdda68cf2f720",
            "filename": "test/e2e/app-dir/segment-cache/deployment-skew/deployment-skew.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fdeployment-skew%2Fdeployment-skew.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fdeployment-skew%2Fdeployment-skew.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fdeployment-skew%2Fdeployment-skew.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import type * as Playwright from 'playwright'\n import webdriver from 'next-webdriver'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { findPort } from 'next-test-utils'\n import { isNextDeploy, isNextDev } from 'e2e-utils'\n import { build, start } from './servers.mjs'"
        },
        {
            "sha": "b1049f8b95ca6276463c8dada72562a931f54a01",
            "filename": "test/e2e/app-dir/segment-cache/dynamic-on-hover/dynamic-on-hover.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fdynamic-on-hover%2Fdynamic-on-hover.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fdynamic-on-hover%2Fdynamic-on-hover.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fdynamic-on-hover%2Fdynamic-on-hover.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('dynamic on hover', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "62006a662027239b555083e724a0acea39d30d61",
            "filename": "test/e2e/app-dir/segment-cache/export/segment-cache-output-export.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fexport%2Fsegment-cache-output-export.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fexport%2Fsegment-cache-output-export.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fexport%2Fsegment-cache-output-export.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import type * as Playwright from 'playwright'\n import webdriver from 'next-webdriver'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { findPort, nextBuild } from 'next-test-utils'\n import { isNextStart } from 'e2e-utils'\n import { server } from './server.mjs'"
        },
        {
            "sha": "3d13c83f53a7d3ac93085a1b45f3c214ac688aa2",
            "filename": "test/e2e/app-dir/segment-cache/incremental-opt-in/segment-cache-incremental-opt-in.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fincremental-opt-in%2Fsegment-cache-incremental-opt-in.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fincremental-opt-in%2Fsegment-cache-incremental-opt-in.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fincremental-opt-in%2Fsegment-cache-incremental-opt-in.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { Page } from 'playwright'\n \n describe('segment cache (incremental opt in)', () => {"
        },
        {
            "sha": "fbd6ba94e85f649c581eb7332abefdeea76dde0f",
            "filename": "test/e2e/app-dir/segment-cache/memory-pressure/segment-cache-memory-pressure.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fmemory-pressure%2Fsegment-cache-memory-pressure.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fmemory-pressure%2Fsegment-cache-memory-pressure.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fmemory-pressure%2Fsegment-cache-memory-pressure.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('segment cache memory pressure', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "d3c7226f7f6f49edc588c314786b19dd0b4d4085",
            "filename": "test/e2e/app-dir/segment-cache/metadata/segment-cache-metadata.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fmetadata%2Fsegment-cache-metadata.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fmetadata%2Fsegment-cache-metadata.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fmetadata%2Fsegment-cache-metadata.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('segment cache (metadata)', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "5a090b301a7b569f68eb99b4aa42777880f6451e",
            "filename": "test/e2e/app-dir/segment-cache/no-prefetch/no-prefetch.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fno-prefetch%2Fno-prefetch.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fno-prefetch%2Fno-prefetch.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fno-prefetch%2Fno-prefetch.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('navigating without a prefetch', () => {\n   const { next } = nextTestSetup({"
        },
        {
            "sha": "d15ad39b653b8e44dfdc18e5dfd04b918bb72bd1",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-auto/prefetch-auto.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-auto%2Fprefetch-auto.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-auto%2Fprefetch-auto.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-auto%2Fprefetch-auto.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('<Link prefetch=\"auto\">', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "31e681607e067f4aadc3b4403a4ea4106e5eb18d",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-layout-sharing/prefetch-layout-sharing.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fprefetch-layout-sharing.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fprefetch-layout-sharing.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-layout-sharing%2Fprefetch-layout-sharing.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,7 +1,7 @@\n import { nextTestSetup } from 'e2e-utils'\n import { Playwright as NextBrowser } from '../../../../lib/next-webdriver'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('layout sharing in non-static prefetches', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "e0e993b494b7090697175030c1fdc22fe1fcb214",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-runtime/prefetch-runtime.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fprefetch-runtime.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fprefetch-runtime.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-runtime%2Fprefetch-runtime.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('runtime prefetching', () => {\n   const { next, isNextDev, isNextDeploy } = nextTestSetup({"
        },
        {
            "sha": "dc0adc2e5c1624b507eb7f78f385ec6c00d85904",
            "filename": "test/e2e/app-dir/segment-cache/prefetch-scheduling/prefetch-scheduling.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-scheduling%2Fprefetch-scheduling.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-scheduling%2Fprefetch-scheduling.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fprefetch-scheduling%2Fprefetch-scheduling.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('segment cache prefetch scheduling', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "2f5a6eb87f2ba833bd329a84297a86c51ac9915e",
            "filename": "test/e2e/app-dir/segment-cache/revalidation/segment-cache-revalidation.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Frevalidation%2Fsegment-cache-revalidation.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Frevalidation%2Fsegment-cache-revalidation.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Frevalidation%2Fsegment-cache-revalidation.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { isNextDev, isNextDeploy, createNext } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { createTestDataServer } from 'test-data-service/writer'\n import { createTestLog } from 'test-log'\n import { findPort } from 'next-test-utils'"
        },
        {
            "sha": "009a177b25e5d3adca931aacb5af3ee608775ae7",
            "filename": "test/e2e/app-dir/segment-cache/search-params/segment-cache-search-params-shared-loading-state.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fsearch-params%2Fsegment-cache-search-params-shared-loading-state.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fsearch-params%2Fsegment-cache-search-params-shared-loading-state.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fsearch-params%2Fsegment-cache-search-params-shared-loading-state.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('segment cache (search params shared loading state)', () => {\n   const { next, isNextDev } = nextTestSetup({"
        },
        {
            "sha": "420c024f3c95f6f7943b7a8f03067320dc88f1ce",
            "filename": "test/e2e/app-dir/segment-cache/search-params/segment-cache-search-params.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fsearch-params%2Fsegment-cache-search-params.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fsearch-params%2Fsegment-cache-search-params.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fsearch-params%2Fsegment-cache-search-params.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,5 +1,5 @@\n import { nextTestSetup } from 'e2e-utils'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n import { retry } from '../../../../lib/next-test-utils'\n \n describe('segment cache (search params)', () => {"
        },
        {
            "sha": "cdd58d47239bd95af5e15b617aadb57169a1dc9a",
            "filename": "test/e2e/app-dir/segment-cache/staleness/segment-cache-stale-time.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fstaleness%2Fsegment-cache-stale-time.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fstaleness%2Fsegment-cache-stale-time.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fsegment-cache%2Fstaleness%2Fsegment-cache-stale-time.test.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n import type * as Playwright from 'playwright'\n-import { createRouterAct } from '../router-act'\n+import { createRouterAct } from 'router-act'\n \n describe('segment cache (staleness)', () => {\n   const { next, isNextDev, isNextDeploy } = nextTestSetup({"
        },
        {
            "sha": "f0f20793c8da26a438b3271614be78fb6bbdc75b",
            "filename": "test/lib/router-act.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Flib%2Frouter-act.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/test%2Flib%2Frouter-act.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Frouter-act.ts?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -212,7 +212,7 @@ export function createRouterAct(\n       batch.pendingRequests = new Set()\n       batch.pendingRequestChecks = new Set()\n       await Promise.all(\n-        Array.from(orphanedRequests).map((item) => item.route.continue())\n+        Array.from(orphanedRequests).map((item) => item.route?.continue())\n       )\n       didHardNavigate = true\n     }",
            "previous_filename": "test/e2e/app-dir/segment-cache/router-act.ts"
        },
        {
            "sha": "1453cd37c0b8aecc38791f1280cf5e4ba2853c16",
            "filename": "tsconfig.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/tsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/dd5e3ad6117c133d096225a6c0b51c1c1641ffd1/tsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/tsconfig.json?ref=dd5e3ad6117c133d096225a6c0b51c1c1641ffd1",
            "patch": "@@ -17,7 +17,8 @@\n       \"e2e-utils\": [\"./test/lib/e2e-utils\"],\n       \"e2e-utils/*\": [\"./test/lib/e2e-utils/*\"],\n       \"test-data-service/*\": [\"./test/lib/test-data-service/*\"],\n-      \"test-log\": [\"./test/lib/test-log\"]\n+      \"test-log\": [\"./test/lib/test-log\"],\n+      \"router-act\": [\"./test/lib/router-act\"]\n     }\n   },\n   \"include\": ["
        }
    ],
    "stats": {
        "total": 549,
        "additions": 23,
        "deletions": 526
    }
}