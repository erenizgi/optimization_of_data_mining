{
    "author": "ztanner",
    "message": "Revert \"Remove clientParamParsing requirement from RDC for Navigations\" (#83725)\n\nReverts vercel/next.js#83661\n\nThis appears to be causing performance regressions and failing\ndeployment tests.\n\n\n[Failures](https://github.com/vercel/next.js/actions/runs/17660037496/job/50193288746)",
    "sha": "4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a",
    "files": [
        {
            "sha": "fab1bccb6e6c572654746d05644a78b1bb280b49",
            "filename": "packages/next/src/build/index.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts?ref=4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a",
            "patch": "@@ -1574,7 +1574,12 @@ export default async function build(\n                 // Once we've made RDC for Navigations the default for PPR, we\n                 // can remove the check for `config.experimental.rdcForNavigations`.\n                 isAppPPREnabled &&\n-                config.experimental.rdcForNavigations === true,\n+                config.experimental.rdcForNavigations === true &&\n+                // Temporarily we require that clientParamParsing is enabled for\n+                // RDC for Navigations. This is due to a builder configuration\n+                // bug that manifests as invalid query params being passed to\n+                // the resume lambdas.\n+                config.experimental.clientParamParsing === true,\n             },\n             rewriteHeaders: {\n               pathHeader: NEXT_REWRITTEN_PATH_HEADER,\n@@ -2194,8 +2199,7 @@ export default async function build(\n \n                       if (pageType === 'app' && originalAppPath) {\n                         appNormalizedPaths.set(originalAppPath, page)\n-\n-                        // Edge runtime doesn't support static generation.\n+                        // TODO-APP: handle prerendering with edge\n                         if (isEdgeRuntime(pageRuntime)) {\n                           isStatic = false\n                           isSSG = false"
        },
        {
            "sha": "a57de597a64538962d060e81f669095080709838",
            "filename": "packages/next/src/build/templates/app-page.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-page.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-page.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-page.ts?ref=4d26abdd268b3ac9ee0d42ea6bf6f72a72725d8a",
            "patch": "@@ -294,7 +294,13 @@ export async function handler(\n   // When a page supports PPR, we can support RSC for Navigations so long as the\n   // feature is not disabled.\n   const supportsRSCForNavigations =\n-    isRoutePPREnabled && nextConfig.experimental.rdcForNavigations === true\n+    isRoutePPREnabled &&\n+    nextConfig.experimental.rdcForNavigations === true &&\n+    // Temporarily we require that clientParamParsing is enabled for\n+    // RDC for Navigations. This is due to a builder configuration\n+    // bug that manifests as invalid query params being passed to\n+    // the resume lambdas.\n+    nextConfig.experimental.clientParamParsing === true\n \n   // In development, we always want to generate dynamic HTML.\n   const supportsDynamicResponse: boolean ="
        }
    ],
    "stats": {
        "total": 18,
        "additions": 14,
        "deletions": 4
    }
}