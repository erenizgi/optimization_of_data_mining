{
    "author": "ijjk",
    "message": "Allow specifying CLI version for e2e deploy (#81998)\n\nThis just allows testing specific CLI versions as well, leaving our\ndefault of latest the same",
    "sha": "9d45ade9f66d31bed46cd020b6e254d5dae2747c",
    "files": [
        {
            "sha": "cd6bbf01cad88a996544318b1c08f7f166e8e952",
            "filename": ".github/workflows/test_e2e_deploy_release.yml",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/9d45ade9f66d31bed46cd020b6e254d5dae2747c/.github%2Fworkflows%2Ftest_e2e_deploy_release.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/9d45ade9f66d31bed46cd020b6e254d5dae2747c/.github%2Fworkflows%2Ftest_e2e_deploy_release.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Ftest_e2e_deploy_release.yml?ref=9d45ade9f66d31bed46cd020b6e254d5dae2747c",
            "patch": "@@ -11,6 +11,10 @@ on:\n         description: canary or custom tarball URL\n         default: canary\n         type: string\n+      vercelCliVersion:\n+        description: Version of Vercel CLI to use\n+        default: 'vercel@latest'\n+        type: string\n \n env:\n   VERCEL_TEST_TEAM: vtest314-next-e2e-tests\n@@ -61,7 +65,7 @@ jobs:\n       matrix:\n         group: [1/6, 2/6, 3/6, 4/6, 5/6, 6/6]\n     with:\n-      afterBuild: npm i -g vercel@latest && NEXT_E2E_TEST_TIMEOUT=240000 NEXT_TEST_MODE=deploy NEXT_EXTERNAL_TESTS_FILTERS=\"test/deploy-tests-manifest.json\" NEXT_TEST_VERSION=\"${{ github.event.inputs.nextVersion || 'canary' }}\" node run-tests.js --timings -g ${{ matrix.group }} -c 2 --type e2e\n+      afterBuild: npm i -g vercel@latest && NEXT_E2E_TEST_TIMEOUT=240000 NEXT_TEST_MODE=deploy NEXT_EXTERNAL_TESTS_FILTERS=\"test/deploy-tests-manifest.json\" NEXT_TEST_VERSION=\"${{ github.event.inputs.nextVersion || 'canary' }}\" VERCEL_CLI_VERSION=\"${{ github.event.inputs.vercelCliVersion || 'vercel@latest' }}\" node run-tests.js --timings -g ${{ matrix.group }} -c 2 --type e2e\n       skipNativeBuild: 'yes'\n       skipNativeInstall: 'no'\n       stepName: 'test-deploy-${{ matrix.group }}'"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}