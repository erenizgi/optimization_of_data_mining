{
    "author": "styfle",
    "message": "breaking(next/image)!: remove 16px from default `images.imageSizes` config (#84647)\n\nWe took a look at unique Next.js projects that have one or more requests\nfor a specific image size and here are the findings as seen from the\nImage Optimization API:\n\n- `w=16` 4.2%\n- `w=32` 17.1%\n- `w=48` 21.4%\n- `w=64` 22.6%\n- `w=96` 25.8%\n- `w=128` 29.5%\n- `w=256` 46.5%\n- `w=384` 35.1%\n- `w=640` 57.2%\n\nOnly 4.2% of Next.js projects ever made a request to a 16px width image.\nThis is low enough to remove from the default configuration so that all\nother projects can benefit from reduced html\n[srcset](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/srcset)\nand fewer variations exposed from the backend API.\n\nYou might think that this means few developers are using `<Image\nwidth={16} />` but it probably means that most displays nowadays use\ndevicePixelRatio 2 meaning that specifying a 16px image width will\nactually fetch the 32px width to ensure it won't looking blurry on your\nretina display.\n\nBREAKING CHANGE: this is technically a breaking change but it won't\ncause apps to stop working, its just 4% of them may have some requests\nserve a 32px image instead of 16px. Those apps can of course opt in by\nchanging their `images.imageSizes` config back to allowing 16.",
    "sha": "600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
    "files": [
        {
            "sha": "e58b86c9465acaf1427ca139a36ab9d145c4731a",
            "filename": "crates/next-build-test/nextConfig.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/crates%2Fnext-build-test%2FnextConfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/crates%2Fnext-build-test%2FnextConfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build-test%2FnextConfig.json?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -22,7 +22,7 @@\n   \"analyticsId\": \"\",\n   \"images\": {\n     \"deviceSizes\": [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n-    \"imageSizes\": [16, 32, 48, 64, 96, 128, 256, 384],\n+    \"imageSizes\": [32, 48, 64, 96, 128, 256, 384],\n     \"path\": \"/_next/image\",\n     \"loader\": \"default\",\n     \"loaderFile\": \"\","
        },
        {
            "sha": "b3b4bcffa6778d4cc286cb67ff7da95052705767",
            "filename": "crates/next-core/src/next_config.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/crates%2Fnext-core%2Fsrc%2Fnext_config.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/crates%2Fnext-core%2Fsrc%2Fnext_config.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_config.rs?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -466,7 +466,7 @@ impl Default for ImageConfig {\n         // https://github.com/vercel/next.js/blob/327634eb/packages/next/shared/lib/image-config.ts#L100-L114\n         Self {\n             device_sizes: vec![640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n-            image_sizes: vec![16, 32, 48, 64, 96, 128, 256, 384],\n+            image_sizes: vec![32, 48, 64, 96, 128, 256, 384],\n             path: \"/_next/image\".to_string(),\n             loader: ImageLoader::Default,\n             loader_file: None,"
        },
        {
            "sha": "10947926eaf0c1739f3c0a73755a26bb9bcf3b3d",
            "filename": "docs/01-app/03-api-reference/02-components/image.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/docs%2F01-app%2F03-api-reference%2F02-components%2Fimage.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/docs%2F01-app%2F03-api-reference%2F02-components%2Fimage.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F02-components%2Fimage.mdx?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -684,7 +684,7 @@ If no configuration is provided, the default below is used:\n ```js filename=\"next.config.js\"\n module.exports = {\n   images: {\n-    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+    imageSizes: [32, 48, 64, 96, 128, 256, 384],\n   },\n }\n ```"
        },
        {
            "sha": "ba921c214eaa86d6719c940c2584fd9cde467eab",
            "filename": "docs/02-pages/04-api-reference/01-components/image-legacy.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/docs%2F02-pages%2F04-api-reference%2F01-components%2Fimage-legacy.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/docs%2F02-pages%2F04-api-reference%2F01-components%2Fimage-legacy.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F04-api-reference%2F01-components%2Fimage-legacy.mdx?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -497,7 +497,7 @@ If no configuration is provided, the default below is used.\n ```js filename=\"next.config.js\"\n module.exports = {\n   images: {\n-    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+    imageSizes: [32, 48, 64, 96, 128, 256, 384],\n   },\n }\n ```"
        },
        {
            "sha": "e56a61c499035efa94c5183c231eb47216e76f6d",
            "filename": "errors/invalid-images-config.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/errors%2Finvalid-images-config.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/errors%2Finvalid-images-config.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Finvalid-images-config.mdx?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -16,7 +16,7 @@ module.exports = {\n     // limit of 25 deviceSizes values\n     deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n     // limit of 25 imageSizes values\n-    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+    imageSizes: [32, 48, 64, 96, 128, 256, 384],\n     // limit of 50 domains values (deprecated)\n     domains: [],\n     // path prefix for Image Optimization API, useful with `loader`"
        },
        {
            "sha": "abd1b4939da9ba7170d4b6311ba7562c73b1c512",
            "filename": "packages/next/src/shared/lib/image-config.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fimage-config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fimage-config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fimage-config.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -129,7 +129,7 @@ export type ImageConfig = Partial<ImageConfigComplete>\n \n export const imageConfigDefault: ImageConfigComplete = {\n   deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n-  imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+  imageSizes: [32, 48, 64, 96, 128, 256, 384],\n   path: '/_next/image',\n   loader: 'default',\n   loaderFile: '',"
        },
        {
            "sha": "73710e1c752a2e9b942a42e0086f6ed51f0d4682",
            "filename": "test/integration/next-image-legacy/base-path/test/index.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-legacy%2Fbase-path%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-legacy%2Fbase-path%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-legacy%2Fbase-path%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -344,7 +344,7 @@ function runTests(mode) {\n         return 'success'\n       }, 'success')\n       expect(await browser.elementById(id).getAttribute('srcset')).toBe(\n-        '/docs/_next/image?url=%2Fdocs%2Fwide.png&w=16&q=75 16w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=32&q=75 32w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=48&q=75 48w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=64&q=75 64w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=96&q=75 96w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=128&q=75 128w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=256&q=75 256w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=384&q=75 384w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=640&q=75 640w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=750&q=75 750w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=828&q=75 828w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=1080&q=75 1080w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=1200&q=75 1200w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=1920&q=75 1920w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=2048&q=75 2048w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=3840&q=75 3840w'\n+        '/docs/_next/image?url=%2Fdocs%2Fwide.png&w=32&q=75 32w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=48&q=75 48w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=64&q=75 64w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=96&q=75 96w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=128&q=75 128w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=256&q=75 256w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=384&q=75 384w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=640&q=75 640w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=750&q=75 750w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=828&q=75 828w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=1080&q=75 1080w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=1200&q=75 1200w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=1920&q=75 1920w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=2048&q=75 2048w, /docs/_next/image?url=%2Fdocs%2Fwide.png&w=3840&q=75 3840w'\n       )\n       expect(await browser.elementById(id).getAttribute('sizes')).toBe(\n         '(max-width: 2048px) 1200px, 3840px'"
        },
        {
            "sha": "dc6ce25ea89b6ee5df7b0aa5c63e3c95786351b4",
            "filename": "test/integration/next-image-legacy/default/test/index.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-legacy%2Fdefault%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-legacy%2Fdefault%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-legacy%2Fdefault%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -708,7 +708,7 @@ function runTests(mode) {\n         return browser.eval(\n           `document.querySelector('#fill4').getAttribute('srcset')`\n         )\n-      }, '/_next/image?url=%2Fwide.png&w=16&q=75 16w, /_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w')\n+      }, '/_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w')\n     } finally {\n       if (browser) {\n         await browser.close()\n@@ -732,7 +732,7 @@ function runTests(mode) {\n         return 'success'\n       }, 'success')\n       expect(await browser.elementById(id).getAttribute('srcset')).toBe(\n-        '/_next/image?url=%2Fwide.png&w=16&q=75 16w, /_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w'\n+        '/_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w'\n       )\n       expect(await browser.elementById(id).getAttribute('sizes')).toBe(\n         '(max-width: 2048px) 1200px, 3840px'"
        },
        {
            "sha": "30e4907ec04b9cde720c5bf181c433c23f05617a",
            "filename": "test/integration/next-image-new/app-dir-localpatterns/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fapp-dir-localpatterns%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fapp-dir-localpatterns%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fapp-dir-localpatterns%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -80,7 +80,7 @@ function runTests(mode: 'dev' | 'server') {\n           disableStaticImages: false,\n           domains: [],\n           formats: ['image/webp'],\n-          imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+          imageSizes: [32, 48, 64, 96, 128, 256, 384],\n           loader: 'default',\n           loaderFile: '',\n           remotePatterns: [],\n@@ -100,8 +100,8 @@ function runTests(mode: 'dev' | 'server') {\n           path: '/_next/image',\n           qualities: [75],\n           sizes: [\n-            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 16, 32, 48, 64, 96,\n-            128, 256, 384,\n+            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 32, 48, 64, 96, 128,\n+            256, 384,\n           ],\n           unoptimized: false,\n         },"
        },
        {
            "sha": "8ff2a1da9a3315e6081d63eb39cf8cce56fa316c",
            "filename": "test/integration/next-image-new/app-dir-qualities/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fapp-dir-qualities%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fapp-dir-qualities%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fapp-dir-qualities%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -97,7 +97,7 @@ function runTests(mode: 'dev' | 'server') {\n           disableStaticImages: false,\n           domains: [],\n           formats: ['image/webp'],\n-          imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+          imageSizes: [32, 48, 64, 96, 128, 256, 384],\n           loader: 'default',\n           loaderFile: '',\n           remotePatterns: [],\n@@ -106,8 +106,8 @@ function runTests(mode: 'dev' | 'server') {\n           path: '/_next/image',\n           qualities: [42, 69, 88],\n           sizes: [\n-            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 16, 32, 48, 64, 96,\n-            128, 256, 384,\n+            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 32, 48, 64, 96, 128,\n+            256, 384,\n           ],\n           unoptimized: false,\n         },"
        },
        {
            "sha": "b3d3d9f94042d9249e5634b3230ec62b202e2c70",
            "filename": "test/integration/next-image-new/app-dir/test/index.test.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fapp-dir%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fapp-dir%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fapp-dir%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -753,7 +753,7 @@ function runTests(mode: 'dev' | 'server') {\n       '/_next/image?url=%2Fwide.png&w=3840&q=75'\n     )\n     expect(await browser.elementById(id).getAttribute('srcset')).toBe(\n-      '/_next/image?url=%2Fwide.png&w=16&q=75 16w, /_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w'\n+      '/_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w'\n     )\n     expect(await browser.elementById(id).getAttribute('sizes')).toBe(\n       '(max-width: 2048px) 1200px, 3840px'\n@@ -800,7 +800,7 @@ function runTests(mode: 'dev' | 'server') {\n         '1200'\n       )\n       expect(await browser.elementById('img2').getAttribute('srcset')).toBe(\n-        `/_next/image?url=%2Fwide.png&w=16&q=75 16w, /_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w`\n+        `/_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w`\n       )\n       expect(await browser.elementById('img2').getAttribute('loading')).toBe(\n         'lazy'\n@@ -1783,7 +1783,7 @@ function runTests(mode: 'dev' | 'server') {\n           disableStaticImages: false,\n           domains: [],\n           formats: ['image/webp'],\n-          imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+          imageSizes: [32, 48, 64, 96, 128, 256, 384],\n           loader: 'default',\n           loaderFile: '',\n           remotePatterns: [],\n@@ -1792,8 +1792,8 @@ function runTests(mode: 'dev' | 'server') {\n           path: '/_next/image',\n           qualities: [75],\n           sizes: [\n-            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 16, 32, 48, 64, 96,\n-            128, 256, 384,\n+            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 32, 48, 64, 96, 128,\n+            256, 384,\n           ],\n           unoptimized: false,\n         },"
        },
        {
            "sha": "52ae99e6a62f27d2727da5f67fdba6a9c5b83d95",
            "filename": "test/integration/next-image-new/default/test/index.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fdefault%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Fdefault%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Fdefault%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -752,7 +752,7 @@ function runTests(mode) {\n       '/_next/image?url=%2Fwide.png&w=3840&q=75'\n     )\n     expect(await browser.elementById(id).getAttribute('srcset')).toBe(\n-      '/_next/image?url=%2Fwide.png&w=16&q=75 16w, /_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w'\n+      '/_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w'\n     )\n     expect(await browser.elementById(id).getAttribute('sizes')).toBe(\n       '(max-width: 2048px) 1200px, 3840px'\n@@ -799,7 +799,7 @@ function runTests(mode) {\n         '1200'\n       )\n       expect(await browser.elementById('img2').getAttribute('srcset')).toBe(\n-        `/_next/image?url=%2Fwide.png&w=16&q=75 16w, /_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w`\n+        `/_next/image?url=%2Fwide.png&w=32&q=75 32w, /_next/image?url=%2Fwide.png&w=48&q=75 48w, /_next/image?url=%2Fwide.png&w=64&q=75 64w, /_next/image?url=%2Fwide.png&w=96&q=75 96w, /_next/image?url=%2Fwide.png&w=128&q=75 128w, /_next/image?url=%2Fwide.png&w=256&q=75 256w, /_next/image?url=%2Fwide.png&w=384&q=75 384w, /_next/image?url=%2Fwide.png&w=640&q=75 640w, /_next/image?url=%2Fwide.png&w=750&q=75 750w, /_next/image?url=%2Fwide.png&w=828&q=75 828w, /_next/image?url=%2Fwide.png&w=1080&q=75 1080w, /_next/image?url=%2Fwide.png&w=1200&q=75 1200w, /_next/image?url=%2Fwide.png&w=1920&q=75 1920w, /_next/image?url=%2Fwide.png&w=2048&q=75 2048w, /_next/image?url=%2Fwide.png&w=3840&q=75 3840w`\n       )\n       expect(await browser.elementById('img2').getAttribute('loading')).toBe(\n         'lazy'"
        },
        {
            "sha": "e7682fc0d5003690dd0aef03ab940b1342329d53",
            "filename": "test/integration/next-image-new/unicode/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Funicode%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Funicode%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Funicode%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -80,7 +80,7 @@ function runTests(mode: 'server' | 'dev') {\n           disableStaticImages: false,\n           domains: [],\n           formats: ['image/webp'],\n-          imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+          imageSizes: [32, 48, 64, 96, 128, 256, 384],\n           loader: 'default',\n           loaderFile: '',\n           remotePatterns: [\n@@ -98,8 +98,8 @@ function runTests(mode: 'server' | 'dev') {\n           path: '/_next/image',\n           qualities: [75],\n           sizes: [\n-            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 16, 32, 48, 64, 96,\n-            128, 256, 384,\n+            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 32, 48, 64, 96, 128,\n+            256, 384,\n           ],\n           unoptimized: false,\n         },"
        },
        {
            "sha": "630278c1a8e9b1561098b39dcc0781e3033fc100",
            "filename": "test/integration/next-image-new/unoptimized/test/index.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Funoptimized%2Ftest%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Fintegration%2Fnext-image-new%2Funoptimized%2Ftest%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fnext-image-new%2Funoptimized%2Ftest%2Findex.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -105,7 +105,7 @@ function runTests(url: string, mode: 'dev' | 'server') {\n           disableStaticImages: false,\n           domains: [],\n           formats: ['image/webp'],\n-          imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n+          imageSizes: [32, 48, 64, 96, 128, 256, 384],\n           loader: 'default',\n           loaderFile: '',\n           remotePatterns: [],\n@@ -114,8 +114,8 @@ function runTests(url: string, mode: 'dev' | 'server') {\n           path: '/_next/image',\n           qualities: [75],\n           sizes: [\n-            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 16, 32, 48, 64, 96,\n-            128, 256, 384,\n+            640, 750, 828, 1080, 1200, 1920, 2048, 3840, 32, 48, 64, 96, 128,\n+            256, 384,\n           ],\n           unoptimized: true,\n         },"
        },
        {
            "sha": "dec2cb916bd3dcb88461a8b4c6938729de82de5c",
            "filename": "test/unit/next-image-get-img-props.test.ts",
            "status": "modified",
            "additions": 114,
            "deletions": 0,
            "changes": 114,
            "blob_url": "https://github.com/vercel/next.js/blob/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Funit%2Fnext-image-get-img-props.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2/test%2Funit%2Fnext-image-get-img-props.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Fnext-image-get-img-props.test.ts?ref=600238f0b66ba0ee40c1d4e2ee7a5d91f6a0a6e2",
            "patch": "@@ -254,6 +254,120 @@ describe('getImageProps()', () => {\n       ['src', '/_next/image?url=%2Ftest.png&w=256&q=75'],\n     ])\n   })\n+  it('should handle 16px image', async () => {\n+    const { props } = getImageProps({\n+      alt: 'a nice desc',\n+      id: 'my-image',\n+      src: '/test.png',\n+      width: 16,\n+      height: 16,\n+    })\n+    expect(warningMessages).toStrictEqual([])\n+    expect(Object.entries(props)).toStrictEqual([\n+      ['alt', 'a nice desc'],\n+      ['id', 'my-image'],\n+      ['loading', 'lazy'],\n+      ['width', 16],\n+      ['height', 16],\n+      ['decoding', 'async'],\n+      ['style', { color: 'transparent' }],\n+      ['srcSet', '/_next/image?url=%2Ftest.png&w=32&q=75 1x'],\n+      ['src', '/_next/image?url=%2Ftest.png&w=32&q=75'],\n+    ])\n+  })\n+  it('should handle 32px image', async () => {\n+    const { props } = getImageProps({\n+      alt: 'a nice desc',\n+      id: 'my-image',\n+      src: '/test.png',\n+      width: 32,\n+      height: 32,\n+    })\n+    expect(warningMessages).toStrictEqual([])\n+    expect(Object.entries(props)).toStrictEqual([\n+      ['alt', 'a nice desc'],\n+      ['id', 'my-image'],\n+      ['loading', 'lazy'],\n+      ['width', 32],\n+      ['height', 32],\n+      ['decoding', 'async'],\n+      ['style', { color: 'transparent' }],\n+      [\n+        'srcSet',\n+        '/_next/image?url=%2Ftest.png&w=32&q=75 1x, /_next/image?url=%2Ftest.png&w=64&q=75 2x',\n+      ],\n+      ['src', '/_next/image?url=%2Ftest.png&w=64&q=75'],\n+    ])\n+  })\n+  it('should handle 256px image', async () => {\n+    const { props } = getImageProps({\n+      alt: 'a nice desc',\n+      id: 'my-image',\n+      src: '/test.png',\n+      width: 256,\n+      height: 256,\n+    })\n+    expect(warningMessages).toStrictEqual([])\n+    expect(Object.entries(props)).toStrictEqual([\n+      ['alt', 'a nice desc'],\n+      ['id', 'my-image'],\n+      ['loading', 'lazy'],\n+      ['width', 256],\n+      ['height', 256],\n+      ['decoding', 'async'],\n+      ['style', { color: 'transparent' }],\n+      [\n+        'srcSet',\n+        '/_next/image?url=%2Ftest.png&w=256&q=75 1x, /_next/image?url=%2Ftest.png&w=640&q=75 2x',\n+      ],\n+      ['src', '/_next/image?url=%2Ftest.png&w=640&q=75'],\n+    ])\n+  })\n+  it('should handle 512px image', async () => {\n+    const { props } = getImageProps({\n+      alt: 'a nice desc',\n+      id: 'my-image',\n+      src: '/test.png',\n+      width: 512,\n+      height: 512,\n+    })\n+    expect(warningMessages).toStrictEqual([])\n+    expect(Object.entries(props)).toStrictEqual([\n+      ['alt', 'a nice desc'],\n+      ['id', 'my-image'],\n+      ['loading', 'lazy'],\n+      ['width', 512],\n+      ['height', 512],\n+      ['decoding', 'async'],\n+      ['style', { color: 'transparent' }],\n+      [\n+        'srcSet',\n+        '/_next/image?url=%2Ftest.png&w=640&q=75 1x, /_next/image?url=%2Ftest.png&w=1080&q=75 2x',\n+      ],\n+      ['src', '/_next/image?url=%2Ftest.png&w=1080&q=75'],\n+    ])\n+  })\n+  it('should handle 3072px image', async () => {\n+    const { props } = getImageProps({\n+      alt: 'a nice desc',\n+      id: 'my-image',\n+      src: '/test.png',\n+      width: 3072,\n+      height: 3072,\n+    })\n+    expect(warningMessages).toStrictEqual([])\n+    expect(Object.entries(props)).toStrictEqual([\n+      ['alt', 'a nice desc'],\n+      ['id', 'my-image'],\n+      ['loading', 'lazy'],\n+      ['width', 3072],\n+      ['height', 3072],\n+      ['decoding', 'async'],\n+      ['style', { color: 'transparent' }],\n+      ['srcSet', '/_next/image?url=%2Ftest.png&w=3840&q=75 1x'],\n+      ['src', '/_next/image?url=%2Ftest.png&w=3840&q=75'],\n+    ])\n+  })\n   it('should handle sizes', async () => {\n     const { props } = getImageProps({\n       alt: 'a nice desc',"
        }
    ],
    "stats": {
        "total": 170,
        "additions": 142,
        "deletions": 28
    }
}