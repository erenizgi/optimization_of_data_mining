{
    "author": "kdy1",
    "message": "fix(turbopack): Disable ES3 transforms from preset-env (#86532)\n\nCo-authored-by: Niklas Mischkulnig <4586894+mischnic@users.noreply.github.com>",
    "sha": "e0008a9e7df9318604dcd5a47a5893c62c7bc9b2",
    "files": [
        {
            "sha": "2a66ecf2948fa7737dfac7f8ec5a52b3231b607c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/transform/mod.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/e0008a9e7df9318604dcd5a47a5893c62c7bc9b2/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftransform%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e0008a9e7df9318604dcd5a47a5893c62c7bc9b2/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftransform%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftransform%2Fmod.rs?ref=e0008a9e7df9318604dcd5a47a5893c62c7bc9b2",
            "patch": "@@ -8,7 +8,7 @@ use swc_core::{\n     common::{Mark, SourceMap, comments::Comments},\n     ecma::{\n         ast::{ExprStmt, ModuleItem, Pass, Program, Stmt},\n-        preset_env::{self, Targets},\n+        preset_env::{self, Feature, FeatureOrModule, Targets},\n         transforms::{\n             base::{\n                 assumptions::Assumptions,\n@@ -210,6 +210,13 @@ impl EcmascriptInputTransform {\n                     swc_core::ecma::preset_env::Config {\n                         targets: Some(Targets::Versions(*versions)),\n                         mode: None, // Don't insert core-js polyfills\n+                        // Disable some ancient ES3 transforms, ReservedWords breaks resolving of\n+                        // some idents references\n+                        exclude: vec![\n+                            FeatureOrModule::Feature(Feature::ReservedWords),\n+                            FeatureOrModule::Feature(Feature::MemberExpressionLiterals),\n+                            FeatureOrModule::Feature(Feature::PropertyLiterals),\n+                        ],\n                         ..Default::default()\n                     },\n                 );"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 8,
        "deletions": 1
    }
}