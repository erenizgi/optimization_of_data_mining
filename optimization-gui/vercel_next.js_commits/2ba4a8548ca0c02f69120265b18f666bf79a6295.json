{
    "author": "icyJoseph",
    "message": "global-error, revalidatePath and PWA headings (#82408)\n\nComplement to: https://github.com/vercel/next.js/issues/82379\n\nAlso adding corrections to other sections",
    "sha": "2ba4a8548ca0c02f69120265b18f666bf79a6295",
    "files": [
        {
            "sha": "472680b38ddc7b6777ce07197d40effc707c8629",
            "filename": "docs/01-app/01-getting-started/14-metadata-and-og-images.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F01-getting-started%2F14-metadata-and-og-images.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F01-getting-started%2F14-metadata-and-og-images.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F14-metadata-and-og-images.mdx?ref=2ba4a8548ca0c02f69120265b18f666bf79a6295",
            "patch": "@@ -23,6 +23,8 @@ The Metadata APIs can be used to define your application metadata for improved S\n \n With all the options above, Next.js will automatically generate the relevant `<head>` tags for your page, which can be inspected in the browser's developer tools.\n \n+The `metadata` object and `generateMetadata` function exports are only supported in Server Components.\n+\n ## Default fields\n \n There are two default `meta` tags that are always added even if a route doesn't define metadata:"
        },
        {
            "sha": "c4b676102d3034c397fd2b273d36482c799bfba9",
            "filename": "docs/01-app/02-guides/progressive-web-apps.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F02-guides%2Fprogressive-web-apps.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F02-guides%2Fprogressive-web-apps.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fprogressive-web-apps.mdx?ref=2ba4a8548ca0c02f69120265b18f666bf79a6295",
            "patch": "@@ -648,7 +648,7 @@ Letâ€™s go over each of these options:\n \n Learn more about defining [Content Security Policies](/docs/app/guides/content-security-policy) with Next.js.\n \n-## Next Steps\n+## Extending your PWA\n \n 1. **Exploring PWA Capabilities**: PWAs can leverage various web APIs to provide advanced functionality. Consider exploring features like background sync, periodic background sync, or the File System Access API to enhance your application. For inspiration and up-to-date information on PWA capabilities, you can refer to resources like [What PWA Can Do Today](https://whatpwacando.today/).\n 2. **Static Exports:** If your application requires not running a server, and instead using a static export of files, you can update the Next.js configuration to enable this change. Learn more in the [Next.js Static Export documentation](/docs/app/guides/static-exports). However, you will need to move from Server Actions to calling an external API, as well as moving your defined headers to your proxy."
        },
        {
            "sha": "9897e4d007f2da5357f5bdd3a20acc2a9cbd123b",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/error.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Ferror.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Ferror.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Ferror.mdx?ref=2ba4a8548ca0c02f69120265b18f666bf79a6295",
            "patch": "@@ -153,7 +153,9 @@ export default function Error({ error, reset }) {\n \n ### Global Error\n \n-While less common, you can handle errors in the root layout or template using `global-error.js`, located in the root app directory, even when leveraging [internationalization](/docs/app/guides/internationalization). Global error UI must define its own `<html>` and `<body>` tags. This file replaces the root layout or template when active.\n+While less common, you can handle errors in the root layout or template using `global-error.js`, located in the root app directory, even when leveraging [internationalization](/docs/app/guides/internationalization). Global error UI must define its own `<html>` and `<body>` tags, global styles, fonts, or other dependencies that your error page requires. This file replaces the root layout or template when active.\n+\n+> **Good to know**: Error boundaries must be [Client Components](/docs/app/getting-started/server-and-client-components#using-client-components), which means that [`metadata` and `generateMetadata`](/docs/app/getting-started/metadata-and-og-images) exports are not supported in `global-error.js`. As an alternative, you can use the React [`<title>`](https://react.dev/reference/react-dom/components/title) component.\n \n ```tsx filename=\"app/global-error.tsx\" switcher\n 'use client' // Error boundaries must be Client Components"
        },
        {
            "sha": "397c278e67d08c012b26122582e129511a3737ad",
            "filename": "docs/01-app/03-api-reference/04-functions/revalidatePath.mdx",
            "status": "modified",
            "additions": 15,
            "deletions": 5,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidatePath.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ba4a8548ca0c02f69120265b18f666bf79a6295/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidatePath.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidatePath.mdx?ref=2ba4a8548ca0c02f69120265b18f666bf79a6295",
            "patch": "@@ -35,7 +35,17 @@ The path parameter can point to pages, layouts, or route handlers:\n \n - **Pages**: Revalidates the specific page\n - **Layouts**: Revalidates the layout and all pages beneath it\n-- **GET Route Handlers**: Only if they're statically generated\n+- **Route Handlers**: Revalidates Data Cache entries accessed within route handlers. For example `revalidatePath(\"/api/data\")` revalidates this GET handler:\n+\n+```ts filename=\"app/api/data/route.ts\"\n+export async function GET() {\n+  const data = await fetch('https://api.vercel.app/blog', {\n+    cache: 'force-cache',\n+  })\n+\n+  return Response.json(await data.json())\n+}\n+```\n \n ## Relationship with `revalidateTag`\n \n@@ -84,7 +94,7 @@ This pattern ensures that both the specific page and any other pages using the s\n \n ## Examples\n \n-### Revalidating A Specific URL\n+### Revalidating a specific URL\n \n ```ts\n import { revalidatePath } from 'next/cache'\n@@ -93,7 +103,7 @@ revalidatePath('/blog/post-1')\n \n This will revalidate one specific URL on the next page visit.\n \n-### Revalidating A Page Path\n+### Revalidating a Page path\n \n ```ts\n import { revalidatePath } from 'next/cache'\n@@ -104,7 +114,7 @@ revalidatePath('/(main)/blog/[slug]', 'page')\n \n This will revalidate any URL that matches the provided `page` file on the next page visit. This will _not_ invalidate pages beneath the specific page. For example, `/blog/[slug]` won't invalidate `/blog/[slug]/[author]`.\n \n-### Revalidating A Layout Path\n+### Revalidating a Layout path\n \n ```ts\n import { revalidatePath } from 'next/cache'\n@@ -115,7 +125,7 @@ revalidatePath('/(main)/post/[slug]', 'layout')\n \n This will revalidate any URL that matches the provided `layout` file on the next page visit. This will cause pages beneath with the same layout to revalidate on the next visit. For example, in the above case, `/blog/[slug]/[another]` would also revalidate on the next visit.\n \n-### Revalidating All Data\n+### Revalidating all data\n \n ```ts\n import { revalidatePath } from 'next/cache'"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 21,
        "deletions": 7
    }
}