{
    "author": "eps1lon",
    "message": "[devtools] Remove unused `componentStackFrames` field (#82395)",
    "sha": "b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
    "files": [
        {
            "sha": "0c42f6f9bfd18eab69481e7b755d3c017b6d9500",
            "filename": "packages/next/src/client/app-next-dev.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Fapp-next-dev.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Fapp-next-dev.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fapp-next-dev.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -4,10 +4,7 @@ import './app-webpack'\n \n import { renderAppDevOverlay } from 'next/dist/compiled/next-devtools'\n import { appBootstrap } from './app-bootstrap'\n-import {\n-  getComponentStack,\n-  getOwnerStack,\n-} from '../next-devtools/userspace/app/errors/stitched-error'\n+import { getOwnerStack } from '../next-devtools/userspace/app/errors/stitched-error'\n import { isRecoverableError } from './react-client-callbacks/on-recoverable-error'\n \n // eslint-disable-next-line @next/internal/typechecked-require\n@@ -18,6 +15,6 @@ appBootstrap(() => {\n   try {\n     hydrate(instrumentationHooks)\n   } finally {\n-    renderAppDevOverlay(getComponentStack, getOwnerStack, isRecoverableError)\n+    renderAppDevOverlay(getOwnerStack, isRecoverableError)\n   }\n })"
        },
        {
            "sha": "d7ed9ab6e2f2bc03a36bf44376a1b6d971eb2545",
            "filename": "packages/next/src/client/app-next-turbopack.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Fapp-next-turbopack.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Fapp-next-turbopack.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fapp-next-turbopack.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -13,11 +13,11 @@ appBootstrap(() => {\n     hydrate(instrumentationHooks)\n   } finally {\n     if (process.env.NODE_ENV !== 'production') {\n-      const { getComponentStack, getOwnerStack } =\n+      const { getOwnerStack } =\n         require('../next-devtools/userspace/app/errors/stitched-error') as typeof import('../next-devtools/userspace/app/errors/stitched-error')\n       const { renderAppDevOverlay } =\n         require('next/dist/compiled/next-devtools') as typeof import('next/dist/compiled/next-devtools')\n-      renderAppDevOverlay(getComponentStack, getOwnerStack, isRecoverableError)\n+      renderAppDevOverlay(getOwnerStack, isRecoverableError)\n     }\n   }\n })"
        },
        {
            "sha": "38eef5ae6ce0125063e7a59e090f1cfe312f3696",
            "filename": "packages/next/src/client/react-client-callbacks/error-boundary-callbacks.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Freact-client-callbacks%2Ferror-boundary-callbacks.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Freact-client-callbacks%2Ferror-boundary-callbacks.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Freact-client-callbacks%2Ferror-boundary-callbacks.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -54,7 +54,7 @@ export function onCaughtError(\n     // We don't consider errors caught unless they're caught by an explicit error\n     // boundary. The built-in ones are considered implicit.\n     // This mimics how the same app would behave without Next.js.\n-    return onUncaughtError(thrownValue, errorInfo)\n+    return onUncaughtError(thrownValue)\n   }\n \n   // Skip certain custom errors which are not expected to be reported on client\n@@ -84,7 +84,7 @@ export function onCaughtError(\n       : `The above error occurred in one of your components.`\n \n     const errorLocation = `${componentErrorMessage} ${errorBoundaryMessage}`\n-    const error = devToolErrorMod.decorateDevError(thrownValue, errorInfo)\n+    const error = devToolErrorMod.decorateDevError(thrownValue)\n \n     // Log and report the error with location but without modifying the error stack\n     devToolErrorMod.originConsoleError('%o\\n\\n%s', thrownValue, errorLocation)\n@@ -95,15 +95,12 @@ export function onCaughtError(\n   }\n }\n \n-export function onUncaughtError(\n-  thrownValue: unknown,\n-  errorInfo: React.ErrorInfo\n-) {\n+export function onUncaughtError(thrownValue: unknown) {\n   // Skip certain custom errors which are not expected to be reported on client\n   if (isBailoutToCSRError(thrownValue) || isNextRouterError(thrownValue)) return\n \n   if (process.env.NODE_ENV !== 'production') {\n-    const error = devToolErrorMod.decorateDevError(thrownValue, errorInfo)\n+    const error = devToolErrorMod.decorateDevError(thrownValue)\n \n     // TODO: Add an adendum to the overlay telling people about custom error boundaries.\n     reportGlobalError(error)"
        },
        {
            "sha": "5e145f1c0201410e3130eec6074db6c155c8d7f8",
            "filename": "packages/next/src/client/react-client-callbacks/on-recoverable-error.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Freact-client-callbacks%2Fon-recoverable-error.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fclient%2Freact-client-callbacks%2Fon-recoverable-error.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Freact-client-callbacks%2Fon-recoverable-error.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -12,8 +12,7 @@ export function isRecoverableError(error: Error): boolean {\n }\n \n export const onRecoverableError: HydrationOptions['onRecoverableError'] = (\n-  error,\n-  errorInfo\n+  error\n ) => {\n   // x-ref: https://github.com/facebook/react/pull/28736\n   let cause = isError(error) && 'cause' in error ? error.cause : error\n@@ -23,7 +22,7 @@ export const onRecoverableError: HydrationOptions['onRecoverableError'] = (\n   if (process.env.NODE_ENV !== 'production') {\n     const { decorateDevError } =\n       require('../../next-devtools/userspace/app/errors/stitched-error') as typeof import('../../next-devtools/userspace/app/errors/stitched-error')\n-    const causeError = decorateDevError(cause, errorInfo)\n+    const causeError = decorateDevError(cause)\n     recoverableErrors.add(causeError)\n     cause = causeError\n   }"
        },
        {
            "sha": "15ee9af768511ff86ecb7e47eae1cc1b91c5cb4f",
            "filename": "packages/next/src/next-devtools/dev-overlay.browser.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay.browser.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay.browser.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay.browser.tsx?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -185,21 +185,18 @@ function replayQueuedEvents(dispatch: NonNullable<typeof maybeDispatch>) {\n }\n \n function DevOverlayRoot({\n-  getComponentStack,\n   getOwnerStack,\n   getSquashedHydrationErrorDetails,\n   isRecoverableError,\n   routerType,\n }: {\n-  getComponentStack: (error: Error) => string | undefined\n   getOwnerStack: (error: Error) => string | null | undefined\n   getSquashedHydrationErrorDetails: (error: Error) => HydrationErrorState | null\n   isRecoverableError: (error: Error) => boolean\n   routerType: 'app' | 'pages'\n }) {\n   const [state, dispatch] = useErrorOverlayReducer(\n     routerType,\n-    getComponentStack,\n     getOwnerStack,\n     isRecoverableError\n   )\n@@ -254,7 +251,6 @@ function getSquashedHydrationErrorDetailsApp() {\n }\n \n export function renderAppDevOverlay(\n-  getComponentStack: (error: Error) => string | undefined,\n   getOwnerStack: (error: Error) => string | null | undefined,\n   isRecoverableError: (error: Error) => boolean\n ): void {\n@@ -293,7 +289,6 @@ export function renderAppDevOverlay(\n       // At least it won't unmount any user code if it errors.\n       root.render(\n         <DevOverlayRoot\n-          getComponentStack={getComponentStack}\n           getOwnerStack={getOwnerStack}\n           getSquashedHydrationErrorDetails={getSquashedHydrationErrorDetailsApp}\n           isRecoverableError={isRecoverableError}\n@@ -307,7 +302,6 @@ export function renderAppDevOverlay(\n }\n \n export function renderPagesDevOverlay(\n-  getComponentStack: (error: Error) => string | undefined,\n   getOwnerStack: (error: Error) => string | null | undefined,\n   getSquashedHydrationErrorDetails: (\n     error: Error\n@@ -357,7 +351,6 @@ export function renderPagesDevOverlay(\n       // At least it won't unmount any user code if it errors.\n       root.render(\n         <DevOverlayRoot\n-          getComponentStack={getComponentStack}\n           getOwnerStack={getOwnerStack}\n           getSquashedHydrationErrorDetails={getSquashedHydrationErrorDetails}\n           isRecoverableError={isRecoverableError}"
        },
        {
            "sha": "8f5db5b4edcc4cb308f8ec8c9237b76fc1cfbbe5",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/error-overlay-nav/error-overlay-nav.stories.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.stories.tsx?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -21,23 +21,20 @@ export const Default: Story = {\n         runtime: true,\n         error: new Error('First error message'),\n         frames: () => Promise.resolve([]),\n-        componentStackFrames: undefined,\n         type: 'runtime',\n       },\n       {\n         id: 1,\n         runtime: true,\n         error: new Error('Second error message'),\n         frames: () => Promise.resolve([]),\n-        componentStackFrames: undefined,\n         type: 'runtime',\n       },\n       {\n         id: 2,\n         runtime: true,\n         error: new Error('Third error message'),\n         frames: () => Promise.resolve([]),\n-        componentStackFrames: undefined,\n         type: 'runtime',\n       },\n     ],"
        },
        {
            "sha": "160aab4dc8d31f48ed910ca90c3f1d28295f15fa",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/error-overlay-pagination/error-overlay-pagination.stories.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-pagination%2Ferror-overlay-pagination.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-pagination%2Ferror-overlay-pagination.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-pagination%2Ferror-overlay-pagination.stories.tsx?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -22,23 +22,20 @@ const mockErrors: ReadyRuntimeError[] = [\n     runtime: true as const,\n     error: new Error('First error'),\n     frames: () => Promise.resolve([]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n     id: 2,\n     runtime: true as const,\n     error: new Error('Second error'),\n     frames: () => Promise.resolve([]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n     id: 3,\n     runtime: true as const,\n     error: new Error('Third error'),\n     frames: () => Promise.resolve([]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n ]"
        },
        {
            "sha": "d07a1d5131b4b62f849f77d8e979585351f2f96a",
            "filename": "packages/next/src/next-devtools/dev-overlay/container/errors.stories.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Ferrors.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Ferrors.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Ferrors.stories.tsx?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -89,22 +89,6 @@ export const WithHydrationWarning: Story = {\n               },\n             },\n           ]),\n-        componentStackFrames: [\n-          {\n-            component: 'MyComponent',\n-            file: 'app/page.tsx',\n-            line1: 10,\n-            column1: 5,\n-            canOpenInEditor: true,\n-          },\n-          {\n-            component: 'ParentComponent',\n-            file: 'app/layout.tsx',\n-            line1: 20,\n-            column1: 3,\n-            canOpenInEditor: true,\n-          },\n-        ],\n         type: 'runtime',\n       },\n     ],"
        },
        {
            "sha": "aa0d91e1aae9bae2a03836619a4e43836eb8ebdf",
            "filename": "packages/next/src/next-devtools/dev-overlay/container/runtime-error/render-error.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Fruntime-error%2Frender-error.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Fruntime-error%2Frender-error.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Fruntime-error%2Frender-error.tsx?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -6,14 +6,12 @@ import {\n   getErrorByType,\n   type ReadyRuntimeError,\n } from '../../utils/get-error-by-type'\n-import type { ComponentStackFrame } from '../../utils/parse-component-stack'\n import { usePersistentCacheErrorDetection } from '../../components/errors/error-overlay-toolbar/restart-server-button'\n \n export type SupportedErrorEvent = {\n   id: number\n   error: Error\n   frames: readonly StackFrame[]\n-  componentStackFrames?: readonly ComponentStackFrame[]\n   type: 'runtime' | 'recoverable' | 'console'\n }\n "
        },
        {
            "sha": "fb608ef6cddc7603d820c19e7402685083b7be98",
            "filename": "packages/next/src/next-devtools/dev-overlay/shared.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fshared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fshared.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -2,7 +2,6 @@ import { useReducer } from 'react'\n \n import type { VersionInfo } from '../../server/dev/parse-version-info'\n import type { SupportedErrorEvent } from './container/runtime-error/render-error'\n-import { parseComponentStack } from './utils/parse-component-stack'\n import type { DebugInfo } from '../shared/types'\n import type { DevIndicatorServerState } from '../../server/dev/dev-indicator-server-state'\n import { parseStack } from '../../server/lib/parse-stack'\n@@ -319,7 +318,6 @@ function getInitialState(\n \n export function useErrorOverlayReducer(\n   routerType: 'pages' | 'app',\n-  getComponentStack: (error: Error) => string | undefined,\n   getOwnerStack: (error: Error) => string | null | undefined,\n   isRecoverableError: (error: Error) => boolean\n ) {\n@@ -328,18 +326,12 @@ export function useErrorOverlayReducer(\n     id: number,\n     error: Error\n   ): readonly SupportedErrorEvent[] {\n-    const componentStack = getComponentStack(error)\n-    const componentStackFrames =\n-      componentStack === undefined\n-        ? undefined\n-        : parseComponentStack(componentStack)\n     const ownerStack = getOwnerStack(error)\n     const frames = parseStack((error.stack || '') + (ownerStack || ''))\n     const pendingEvent: SupportedErrorEvent = {\n       id,\n       error,\n       frames,\n-      componentStackFrames,\n       type: isRecoverableError(error)\n         ? 'recoverable'\n         : isConsoleError(error)"
        },
        {
            "sha": "aeb82c8af75af0350b573f7e4d26e1e93ffd7804",
            "filename": "packages/next/src/next-devtools/dev-overlay/storybook/errors.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstorybook%2Ferrors.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstorybook%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstorybook%2Ferrors.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -62,15 +62,6 @@ export const errors: SupportedErrorEvent[] = [\n     error: Object.assign(new Error('First error message'), {\n       __NEXT_ERROR_CODE: 'E001',\n     }),\n-    componentStackFrames: [\n-      {\n-        file: 'app/page.tsx',\n-        component: 'Home',\n-        line1: 10,\n-        column1: 5,\n-        canOpenInEditor: true,\n-      },\n-    ],\n     frames: [\n       {\n         file: 'app/page.tsx',\n@@ -126,7 +117,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n         },\n         ...Array(20).fill(ignoredFrame),\n       ]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n@@ -145,7 +135,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Second error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'console',\n   },\n   {\n@@ -164,7 +153,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Third error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'recoverable',\n   },\n   {\n@@ -183,7 +171,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('typeof window !== undefined'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n@@ -208,7 +195,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Fifth error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'console',\n   },\n   {\n@@ -227,7 +213,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Sixth error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'recoverable',\n   },\n   {\n@@ -246,7 +231,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Sixth error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n@@ -265,7 +249,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Eighth error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n@@ -284,7 +267,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Ninth error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n   {\n@@ -303,7 +285,6 @@ export const runtimeErrors: ReadyRuntimeError[] = [\n           originalCodeFrame: originalCodeFrame('Tenth error message'),\n         },\n       ]),\n-    componentStackFrames: undefined,\n     type: 'runtime',\n   },\n ]"
        },
        {
            "sha": "058176f2e70d63c883a36d84505ce45572893d8f",
            "filename": "packages/next/src/next-devtools/dev-overlay/utils/get-error-by-type.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Futils%2Fget-error-by-type.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Futils%2Fget-error-by-type.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Futils%2Fget-error-by-type.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -1,7 +1,6 @@\n import type { SupportedErrorEvent } from '../container/runtime-error/render-error'\n import { getOriginalStackFrames } from '../../shared/stack-frame'\n import type { OriginalStackFrame } from '../../shared/stack-frame'\n-import type { ComponentStackFrame } from './parse-component-stack'\n import { getErrorSource } from '../../../shared/lib/error-source'\n import React from 'react'\n \n@@ -12,7 +11,6 @@ export type ReadyRuntimeError = {\n   frames:\n     | readonly OriginalStackFrame[]\n     | (() => Promise<readonly OriginalStackFrame[]>)\n-  componentStackFrames: readonly ComponentStackFrame[] | undefined\n   type: 'runtime' | 'console' | 'recoverable'\n }\n \n@@ -51,7 +49,6 @@ export async function getErrorByType(\n     runtime: true,\n     error: event.error,\n     type: event.type,\n-    componentStackFrames: event.componentStackFrames,\n   } as const\n \n   if ('use' in React) {"
        },
        {
            "sha": "94f91d4436b927d19b97f0bec5a2678a5bdd8b39",
            "filename": "packages/next/src/next-devtools/dev-overlay/utils/parse-component-stack.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 109,
            "changes": 109,
            "blob_url": "https://github.com/vercel/next.js/blob/333489d8dbfacfbe3c91b3f8945503192a93ace8/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Futils%2Fparse-component-stack.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/333489d8dbfacfbe3c91b3f8945503192a93ace8/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Futils%2Fparse-component-stack.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Futils%2Fparse-component-stack.ts?ref=333489d8dbfacfbe3c91b3f8945503192a93ace8",
            "patch": "@@ -1,109 +0,0 @@\n-export type ComponentStackFrame = {\n-  canOpenInEditor: boolean\n-  component: string\n-  file: string | null\n-  line1: number | null\n-  column1: number | null\n-}\n-\n-enum LocationType {\n-  FILE = 'file',\n-  WEBPACK_INTERNAL = 'webpack-internal',\n-  HTTP = 'http',\n-  PROTOCOL_RELATIVE = 'protocol-relative',\n-  UNKNOWN = 'unknown',\n-}\n-\n-/**\n- * Get the type of frame line based on the location\n- */\n-function getLocationType(location: string): LocationType {\n-  if (location.startsWith('file://')) {\n-    return LocationType.FILE\n-  }\n-  if (location.includes('webpack-internal://')) {\n-    return LocationType.WEBPACK_INTERNAL\n-  }\n-  if (location.startsWith('http://') || location.startsWith('https://')) {\n-    return LocationType.HTTP\n-  }\n-  if (location.startsWith('//')) {\n-    return LocationType.PROTOCOL_RELATIVE\n-  }\n-  return LocationType.UNKNOWN\n-}\n-\n-function parseStackFrameLocation(\n-  location: string\n-): Omit<ComponentStackFrame, 'component'> {\n-  const locationType = getLocationType(location)\n-\n-  const modulePath = location?.replace(\n-    /^(webpack-internal:\\/\\/\\/|file:\\/\\/)(\\(.*\\)\\/)?/,\n-    ''\n-  )\n-  const [, file, line1, column1] = modulePath?.match(/^(.+):(\\d+):(\\d+)/) ?? []\n-\n-  switch (locationType) {\n-    case LocationType.FILE:\n-    case LocationType.WEBPACK_INTERNAL:\n-      return {\n-        canOpenInEditor: true,\n-        file,\n-        line1: line1 ? Number(line1) : null,\n-        column1: column1 ? Number(column1) : null,\n-      }\n-    // When the location is a URL we only show the file\n-    // TODO: Resolve http(s) URLs through sourcemaps\n-    case LocationType.HTTP:\n-    case LocationType.PROTOCOL_RELATIVE:\n-    case LocationType.UNKNOWN:\n-    default: {\n-      return {\n-        canOpenInEditor: false,\n-        file: null,\n-        line1: null,\n-        column1: null,\n-      }\n-    }\n-  }\n-}\n-\n-export function parseComponentStack(\n-  componentStack: string\n-): ComponentStackFrame[] {\n-  const componentStackFrames: ComponentStackFrame[] = []\n-  for (const line of componentStack.trim().split('\\n')) {\n-    // TODO: support safari stack trace\n-    // Get component and file from the component stack line\n-    const match = /at ([^ ]+)( \\((.*)\\))?/.exec(line)\n-    if (match?.[1]) {\n-      const component = match[1]\n-      const location = match[3]\n-\n-      if (!location) {\n-        componentStackFrames.push({\n-          canOpenInEditor: false,\n-          component,\n-          file: null,\n-          line1: null,\n-          column1: null,\n-        })\n-        continue\n-      }\n-\n-      // Stop parsing the component stack if we reach a Next.js component\n-      if (location?.includes('next/dist')) {\n-        break\n-      }\n-\n-      const frameLocation = parseStackFrameLocation(location)\n-      componentStackFrames.push({\n-        component,\n-        ...frameLocation,\n-      })\n-    }\n-  }\n-\n-  return componentStackFrames\n-}"
        },
        {
            "sha": "1f8726cac58dfafc57e6be0bf3f22e81501f4364",
            "filename": "packages/next/src/next-devtools/userspace/app/errors/stitched-error.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 17,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fuserspace%2Fapp%2Ferrors%2Fstitched-error.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fuserspace%2Fapp%2Ferrors%2Fstitched-error.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fuserspace%2Fapp%2Ferrors%2Fstitched-error.ts?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -2,14 +2,6 @@ import React from 'react'\n import isError from '../../../../lib/is-error'\n \n const ownerStacks = new WeakMap<Error, string | null>()\n-const componentStacks = new WeakMap<Error, string>()\n-\n-export function getComponentStack(error: Error): string | undefined {\n-  return componentStacks.get(error)\n-}\n-export function setComponentStack(error: Error, stack: string) {\n-  componentStacks.set(error, stack)\n-}\n \n export function getOwnerStack(error: Error): string | null | undefined {\n   return ownerStacks.get(error)\n@@ -29,16 +21,8 @@ export function setOwnerStackIfAvailable(error: Error): void {\n   }\n }\n \n-export function decorateDevError(\n-  thrownValue: unknown,\n-  errorInfo: React.ErrorInfo\n-) {\n+export function decorateDevError(thrownValue: unknown) {\n   const error = coerceError(thrownValue)\n   setOwnerStackIfAvailable(error)\n-  // TODO: change to passing down errorInfo later\n-  // In development mode, pass along the component stack to the error\n-  if (errorInfo.componentStack) {\n-    setComponentStack(error, errorInfo.componentStack)\n-  }\n   return error\n }"
        },
        {
            "sha": "af95eaa4b65c7f75e30cefe2d3d4cfd8fc6522ab",
            "filename": "packages/next/src/next-devtools/userspace/pages/pages-dev-overlay-setup.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fuserspace%2Fpages%2Fpages-dev-overlay-setup.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b2c751f466d848c8c06f1ee75f57d4029f3a1a4d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fuserspace%2Fpages%2Fpages-dev-overlay-setup.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fuserspace%2Fpages%2Fpages-dev-overlay-setup.tsx?ref=b2c751f466d848c8c06f1ee75f57d4029f3a1a4d",
            "patch": "@@ -6,7 +6,7 @@ import {\n   storeHydrationErrorStateFromConsoleArgs,\n } from './hydration-error-state'\n import { Router } from '../../../client/router'\n-import { getComponentStack, getOwnerStack } from '../app/errors/stitched-error'\n+import { getOwnerStack } from '../app/errors/stitched-error'\n import { isRecoverableError } from '../../../client/react-client-callbacks/on-recoverable-error'\n import { getSquashedHydrationErrorDetails } from './hydration-error-state'\n import { PagesDevOverlayErrorBoundary } from './pages-dev-overlay-error-boundary'\n@@ -23,7 +23,6 @@ const usePagesDevOverlayBridge = () => {\n     // NDT uses a different React instance so it's not technically a state update\n     // scheduled from useInsertionEffect.\n     renderPagesDevOverlay(\n-      getComponentStack,\n       getOwnerStack,\n       getSquashedHydrationErrorDetails,\n       isRecoverableError"
        }
    ],
    "stats": {
        "total": 218,
        "additions": 12,
        "deletions": 206
    }
}