{
    "author": "wbinnssmith",
    "message": "Turbopack: Make `turbopack-ecmascript` Rust 2024 (#79132)\n\nThese were all\nhttps://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html",
    "sha": "f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
    "files": [
        {
            "sha": "26e36bb210e35b9d6a1432a578ef737455866064",
            "filename": "turbopack/crates/turbopack-ecmascript/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,7 +3,7 @@ name = \"turbopack-ecmascript\"\n version = \"0.1.0\"\n description = \"TBD\"\n license = \"MIT\"\n-edition = \"2021\"\n+edition = \"2024\"\n autobenches = false\n \n [lib]"
        },
        {
            "sha": "76e318b3bd4d7484b954ecc34952bf0d5c590d25",
            "filename": "turbopack/crates/turbopack-ecmascript/benches/analyzer.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Fanalyzer.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Fanalyzer.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Fanalyzer.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -2,7 +2,7 @@ use std::{fs, path::PathBuf, sync::Arc, time::Duration};\n \n use criterion::{Bencher, BenchmarkId, Criterion};\n use swc_core::{\n-    common::{FilePathMapping, Mark, SourceMap, GLOBALS},\n+    common::{FilePathMapping, GLOBALS, Mark, SourceMap},\n     ecma::{\n         ast::{EsVersion, Program},\n         parser::parse_file_as_program,\n@@ -18,7 +18,7 @@ use turbopack_core::{\n     target::CompileTarget,\n };\n use turbopack_ecmascript::analyzer::{\n-    graph::{create_graph, EvalContext, VarGraph},\n+    graph::{EvalContext, VarGraph, create_graph},\n     imports::ImportAttributes,\n     linker::link,\n     test_utils::{early_visitor, visitor},"
        },
        {
            "sha": "4f6107d80e791518ebcbf8c65f613d5e6b2337dd",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/builtin.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fbuiltin.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fbuiltin.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fbuiltin.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -11,7 +11,7 @@ use crate::analyzer::JsValueUrlKind;\n pub fn early_replace_builtin(value: &mut JsValue) -> bool {\n     match value {\n         // matching calls like `callee(arg1, arg2, ...)`\n-        JsValue::Call(_, box ref mut callee, args) => {\n+        JsValue::Call(_, box callee, args) => {\n             let args_have_side_effects = || args.iter().any(|arg| arg.has_side_effects());\n             match callee {\n                 // We don't know what the callee is, so we can early return\n@@ -43,7 +43,7 @@ pub fn early_replace_builtin(value: &mut JsValue) -> bool {\n             }\n         }\n         // matching calls with this context like `obj.prop(arg1, arg2, ...)`\n-        JsValue::MemberCall(_, box ref mut obj, box ref mut prop, args) => {\n+        JsValue::MemberCall(_, box obj, box prop, args) => {\n             let args_have_side_effects = || args.iter().any(|arg| arg.has_side_effects());\n             match obj {\n                 // We don't know what the callee is, so we can early return\n@@ -112,7 +112,7 @@ pub fn replace_builtin(value: &mut JsValue) -> bool {\n \n         // matching property access like `obj.prop`\n         // Accessing a property on something can be handled in some cases\n-        JsValue::Member(_, box ref mut obj, ref mut prop) => match obj {\n+        JsValue::Member(_, box obj, prop) => match obj {\n             // matching property access when obj is a bunch of alternatives\n             // like `(obj1 | obj2 | obj3).prop`\n             // We expand these to `obj1.prop | obj2.prop | obj3.prop`\n@@ -341,7 +341,7 @@ pub fn replace_builtin(value: &mut JsValue) -> bool {\n             _ => false,\n         },\n         // matching calls with this context like `obj.prop(arg1, arg2, ...)`\n-        JsValue::MemberCall(_, box ref mut obj, box ref mut prop, ref mut args) => {\n+        JsValue::MemberCall(_, box obj, box prop, args) => {\n             match obj {\n                 // matching calls on an array like `[1,2,3].concat([4,5,6])`\n                 JsValue::Array { items, mutable, .. } => {\n@@ -474,7 +474,7 @@ pub fn replace_builtin(value: &mut JsValue) -> bool {\n                 values,\n                 logical_property: _,\n             },\n-            ref mut args,\n+            args,\n         ) => {\n             *value = JsValue::alternatives(\n                 take(values)\n@@ -513,7 +513,7 @@ pub fn replace_builtin(value: &mut JsValue) -> bool {\n         }\n         // match logical expressions like `a && b` or `a || b || c` or `a ?? b`\n         // Reduce logical expressions to their final value(s)\n-        JsValue::Logical(_, op, ref mut parts) => {\n+        JsValue::Logical(_, op, parts) => {\n             let len = parts.len();\n             let input_parts: Vec<JsValue> = take(parts);\n             *parts = Vec::with_capacity(len);\n@@ -637,7 +637,7 @@ pub fn replace_builtin(value: &mut JsValue) -> bool {\n         }\n         // match the not operator like `!a`\n         // Evaluate not when the inner value is truthy or falsy\n-        JsValue::Not(_, ref inner) => match inner.is_truthy() {\n+        JsValue::Not(_, inner) => match inner.is_truthy() {\n             Some(true) => {\n                 *value = JsValue::Constant(ConstantValue::False);\n                 true"
        },
        {
            "sha": "020d7c6e2bb71754d9bdb781a4cfbe6420170213",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/graph.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fgraph.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fgraph.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fgraph.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -7,7 +7,7 @@ use std::{\n use rustc_hash::{FxHashMap, FxHashSet};\n use swc_core::{\n     atoms::Atom,\n-    common::{comments::Comments, pass::AstNodePath, Mark, Span, Spanned, SyntaxContext, GLOBALS},\n+    common::{GLOBALS, Mark, Span, Spanned, SyntaxContext, comments::Comments, pass::AstNodePath},\n     ecma::{\n         ast::*,\n         atoms::atom,\n@@ -20,13 +20,13 @@ use turbo_tasks::ResolvedVc;\n use turbopack_core::source::Source;\n \n use super::{\n-    is_unresolved_id, ConstantNumber, ConstantValue, ImportMap, JsValue, ObjectPart,\n-    WellKnownFunctionKind,\n+    ConstantNumber, ConstantValue, ImportMap, JsValue, ObjectPart, WellKnownFunctionKind,\n+    is_unresolved_id,\n };\n use crate::{\n-    analyzer::{is_unresolved, WellKnownObjectKind},\n-    utils::{unparen, AstPathRange},\n     SpecifiedModuleType,\n+    analyzer::{WellKnownObjectKind, is_unresolved},\n+    utils::{AstPathRange, unparen},\n };\n \n #[derive(Debug, Clone)]"
        },
        {
            "sha": "58ce393de91442f46e7c4e44311e8574d9ba2f2c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/imports.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fimports.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fimports.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fimports.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,10 +3,10 @@ use std::{collections::BTreeMap, fmt::Display};\n use once_cell::sync::Lazy;\n use rustc_hash::{FxHashMap, FxHashSet};\n use swc_core::{\n-    common::{comments::Comments, source_map::SmallPos, BytePos, Span, Spanned},\n+    common::{BytePos, Span, Spanned, comments::Comments, source_map::SmallPos},\n     ecma::{\n         ast::*,\n-        atoms::{atom, Atom},\n+        atoms::{Atom, atom},\n         utils::find_pat_ids,\n         visit::{Visit, VisitWith},\n     },\n@@ -15,11 +15,11 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{FxIndexMap, FxIndexSet, ResolvedVc};\n use turbopack_core::{issue::IssueSource, source::Source};\n \n-use super::{top_level_await::has_top_level_await, JsValue, ModuleValue};\n+use super::{JsValue, ModuleValue, top_level_await::has_top_level_await};\n use crate::{\n-    analyzer::{ConstantValue, ObjectPart},\n-    tree_shake::{find_turbopack_part_id_in_asserts, PartId},\n     SpecifiedModuleType,\n+    analyzer::{ConstantValue, ObjectPart},\n+    tree_shake::{PartId, find_turbopack_part_id_in_asserts},\n };\n \n #[turbo_tasks::value(serialization = \"auto_for_input\")]"
        },
        {
            "sha": "da02e6c43cb92ffd36818cd4ac00bccd99ecfe9f",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/linker.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Flinker.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Flinker.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Flinker.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -5,7 +5,7 @@ use parking_lot::Mutex;\n use rustc_hash::{FxHashMap, FxHashSet};\n use swc_core::ecma::ast::Id;\n \n-use super::{graph::VarGraph, JsValue};\n+use super::{JsValue, graph::VarGraph};\n \n pub async fn link<'a, B, RB, F, RF>(\n     graph: &VarGraph,"
        },
        {
            "sha": "c09818166a319a8cb6b554f9ec7cfe5d58ec5a7f",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/mod.rs",
            "status": "modified",
            "additions": 24,
            "deletions": 44,
            "changes": 68,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -11,7 +11,7 @@ use std::{\n     sync::Arc,\n };\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use graph::VarGraph;\n use num_bigint::BigInt;\n use num_traits::identities::Zero;\n@@ -2235,11 +2235,7 @@ impl JsValue {\n                                     | (Null, Null)\n                             )\n                         };\n-                        if same_type {\n-                            Some(a == b)\n-                        } else {\n-                            None\n-                        }\n+                        if same_type { Some(a == b) } else { None }\n                     }\n                     (\n                         PositiveBinaryOperator::Equal,\n@@ -2485,11 +2481,7 @@ impl JsValue {\n                     if item.ends_with(str) == Some(true) {\n                         Some(true)\n                     } else if let Some(s) = item.as_str() {\n-                        if str.ends_with(s) {\n-                            None\n-                        } else {\n-                            Some(false)\n-                        }\n+                        if str.ends_with(s) { None } else { Some(false) }\n                     } else {\n                         None\n                     }\n@@ -2539,11 +2531,7 @@ fn all_if_known<T: Copy>(\n             _ => {}\n         }\n     }\n-    if unknown {\n-        None\n-    } else {\n-        Some(true)\n-    }\n+    if unknown { None } else { Some(true) }\n }\n \n /// Evaluates all elements of the list and returns Some(true) if any element is\n@@ -2806,11 +2794,7 @@ impl JsValue {\n     {\n         let (v, modified) = self.visit_each_children_async(visitor).await?;\n         let (v, m) = visitor(v).await?;\n-        if m {\n-            Ok((v, true))\n-        } else {\n-            Ok((v, modified))\n-        }\n+        if m { Ok((v, true)) } else { Ok((v, modified)) }\n     }\n \n     /// Visit all children of the node with an async function.\n@@ -2859,11 +2843,7 @@ impl JsValue {\n     /// Visit the node and all its children with a function.\n     pub fn visit_mut(&mut self, visitor: &mut impl FnMut(&mut JsValue) -> bool) -> bool {\n         let modified = self.for_each_children_mut(&mut |value| value.visit_mut(visitor));\n-        if visitor(self) {\n-            true\n-        } else {\n-            modified\n-        }\n+        if visitor(self) { true } else { modified }\n     }\n \n     /// Visit all children of the node with a function. Only visits nodes where\n@@ -2875,11 +2855,7 @@ impl JsValue {\n     ) -> bool {\n         if condition(self) {\n             let modified = self.for_each_children_mut(&mut |value| value.visit_mut(visitor));\n-            if visitor(self) {\n-                true\n-            } else {\n-                modified\n-            }\n+            if visitor(self) { true } else { modified }\n         } else {\n             false\n         }\n@@ -3875,14 +3851,15 @@ pub mod test_utils {\n     use turbopack_core::{compile_time_info::CompileTimeInfo, error::PrettyPrintError};\n \n     use super::{\n-        builtin::early_replace_builtin, well_known::replace_well_known, ConstantValue, JsValue,\n-        JsValueUrlKind, ModuleValue, WellKnownFunctionKind, WellKnownObjectKind,\n+        ConstantValue, JsValue, JsValueUrlKind, ModuleValue, WellKnownFunctionKind,\n+        WellKnownObjectKind, builtin::early_replace_builtin, well_known::replace_well_known,\n     };\n     use crate::{\n         analyzer::{\n+            RequireContextValue,\n             builtin::replace_builtin,\n             imports::{ImportAnnotations, ImportAttributes},\n-            parse_require_context, RequireContextValue,\n+            parse_require_context,\n         },\n         utils::module_value_to_well_known_object,\n     };\n@@ -3945,11 +3922,14 @@ pub mod test_utils {\n                 box JsValue::WellKnownFunction(WellKnownFunctionKind::URLConstructor),\n                 ref args,\n             ) => {\n-                if let [JsValue::Constant(ConstantValue::Str(url)), JsValue::Member(\n-                    _,\n-                    box JsValue::WellKnownObject(WellKnownObjectKind::ImportMeta),\n-                    box JsValue::Constant(ConstantValue::Str(prop)),\n-                )] = &args[..]\n+                if let [\n+                    JsValue::Constant(ConstantValue::Str(url)),\n+                    JsValue::Member(\n+                        _,\n+                        box JsValue::WellKnownObject(WellKnownObjectKind::ImportMeta),\n+                        box JsValue::Constant(ConstantValue::Str(prop)),\n+                    ),\n+                ] = &args[..]\n                 {\n                     if prop.as_str() == \"url\" {\n                         // TODO avoid clone\n@@ -4016,26 +3996,26 @@ mod tests {\n     use parking_lot::Mutex;\n     use rustc_hash::FxHashMap;\n     use swc_core::{\n-        common::{comments::SingleThreadedComments, Mark},\n+        common::{Mark, comments::SingleThreadedComments},\n         ecma::{\n             ast::{EsVersion, Id},\n             parser::parse_file_as_program,\n             transforms::base::resolver,\n             visit::VisitMutWith,\n         },\n-        testing::{fixture, run_test, NormalizedOutput},\n+        testing::{NormalizedOutput, fixture, run_test},\n     };\n-    use turbo_tasks::{util::FormatDuration, ResolvedVc, Value};\n+    use turbo_tasks::{ResolvedVc, Value, util::FormatDuration};\n     use turbopack_core::{\n         compile_time_info::CompileTimeInfo,\n         environment::{Environment, ExecutionEnvironment, NodeJsEnvironment, NodeJsVersion},\n         target::{Arch, CompileTarget, Endianness, Libc, Platform},\n     };\n \n     use super::{\n-        graph::{create_graph, ConditionalKind, Effect, EffectArg, EvalContext, VarGraph},\n-        linker::link,\n         JsValue,\n+        graph::{ConditionalKind, Effect, EffectArg, EvalContext, VarGraph, create_graph},\n+        linker::link,\n     };\n     use crate::analyzer::imports::ImportAttributes;\n "
        },
        {
            "sha": "3cffacfd1d0c6ddabdb5cd7c3f9ffff182d888fe",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/top_level_await.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Ftop_level_await.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Ftop_level_await.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Ftop_level_await.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -2,7 +2,7 @@ use swc_core::{\n     common::Span,\n     ecma::{\n         ast::*,\n-        visit::{noop_visit_type, Visit, VisitWith},\n+        visit::{Visit, VisitWith, noop_visit_type},\n     },\n };\n "
        },
        {
            "sha": "7db29e9f397382c808c63f94dd57552a9ae3095d",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/well_known.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fwell_known.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fwell_known.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fwell_known.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -6,8 +6,8 @@ use turbopack_core::compile_time_info::CompileTimeInfo;\n use url::Url;\n \n use super::{\n-    imports::ImportAnnotations, ConstantValue, JsValue, JsValueUrlKind, ModuleValue,\n-    WellKnownFunctionKind, WellKnownObjectKind,\n+    ConstantValue, JsValue, JsValueUrlKind, ModuleValue, WellKnownFunctionKind,\n+    WellKnownObjectKind, imports::ImportAnnotations,\n };\n use crate::analyzer::RequireContextValue;\n \n@@ -561,7 +561,7 @@ pub fn well_known_function_member(kind: WellKnownFunctionKind, prop: JsValue) ->\n             return (\n                 JsValue::member(Box::new(JsValue::WellKnownFunction(kind)), Box::new(prop)),\n                 false,\n-            )\n+            );\n         }\n     };\n     (new_value, true)\n@@ -598,7 +598,7 @@ pub async fn well_known_object_member(\n             return Ok((\n                 JsValue::member(Box::new(JsValue::WellKnownObject(kind)), Box::new(prop)),\n                 false,\n-            ))\n+            ));\n         }\n     };\n     Ok((new_value, true))\n@@ -655,10 +655,10 @@ pub fn fs_module_member(kind: WellKnownObjectKind, prop: JsValue) -> JsValue {\n                 ));\n             }\n             (WellKnownObjectKind::FsModule | WellKnownObjectKind::FsModuleDefault, \"promises\") => {\n-                return JsValue::WellKnownObject(WellKnownObjectKind::FsModulePromises)\n+                return JsValue::WellKnownObject(WellKnownObjectKind::FsModulePromises);\n             }\n             (WellKnownObjectKind::FsModule, \"default\") => {\n-                return JsValue::WellKnownObject(WellKnownObjectKind::FsModuleDefault)\n+                return JsValue::WellKnownObject(WellKnownObjectKind::FsModuleDefault);\n             }\n             _ => {}\n         }"
        },
        {
            "sha": "de607b161a7dfb027c5d53dd5367a0e5ea4ec81c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/async_chunk/chunk_item.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fchunk_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -10,16 +10,16 @@ use turbopack_core::{\n     ident::AssetIdent,\n     module::Module,\n     module_graph::{\n-        chunk_group_info::ChunkGroup, module_batch::ChunkableModuleOrBatch, ModuleGraph,\n+        ModuleGraph, chunk_group_info::ChunkGroup, module_batch::ChunkableModuleOrBatch,\n     },\n     output::OutputAssets,\n };\n \n use crate::{\n     async_chunk::module::AsyncLoaderModule,\n     chunk::{\n-        data::EcmascriptChunkData, EcmascriptChunkItem, EcmascriptChunkItemContent,\n-        EcmascriptChunkPlaceable, EcmascriptChunkType,\n+        EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkPlaceable,\n+        EcmascriptChunkType, data::EcmascriptChunkData,\n     },\n     runtime_functions::{TURBOPACK_EXPORT_VALUE, TURBOPACK_LOAD},\n     utils::{StringifyJs, StringifyModuleId},"
        },
        {
            "sha": "f2a42bd8b45aea75300f920018c882a8f56e2080",
            "filename": "turbopack/crates/turbopack-ecmascript/src/async_chunk/module.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fmodule.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fmodule.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fmodule.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,7 +3,7 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, Value, Vc};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n-    chunk::{availability_info::AvailabilityInfo, ChunkableModule, ChunkingContext},\n+    chunk::{ChunkableModule, ChunkingContext, availability_info::AvailabilityInfo},\n     ident::AssetIdent,\n     module::Module,\n     module_graph::ModuleGraph,"
        },
        {
            "sha": "f9c24ba019bbe8c3aacd63007d0a89d277b5d206",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/batch.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fbatch.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fbatch.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fbatch.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n-use turbo_tasks::{trace::TraceRawVcs, NonLocalValue, ResolvedVc, TaskInput, TryJoinIterExt, Vc};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, TaskInput, TryJoinIterExt, Vc, trace::TraceRawVcs};\n use turbopack_core::{\n     chunk::{\n         ChunkItem, ChunkItemBatchGroup, ChunkItemBatchWithAsyncModuleInfo,"
        },
        {
            "sha": "32c5f449ce105c8ee839cdf373fce66f334c3df4",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/chunk_type.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fchunk_type.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fchunk_type.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fchunk_type.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,10 +1,10 @@\n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, TryJoinIterExt, ValueDefault, ValueToString, Vc};\n use turbopack_core::{\n     chunk::{\n-        round_chunk_item_size, AsyncModuleInfo, Chunk, ChunkItem, ChunkItemBatchGroup,\n-        ChunkItemOrBatchWithAsyncModuleInfo, ChunkType, ChunkingContext,\n+        AsyncModuleInfo, Chunk, ChunkItem, ChunkItemBatchGroup,\n+        ChunkItemOrBatchWithAsyncModuleInfo, ChunkType, ChunkingContext, round_chunk_item_size,\n     },\n     output::OutputAssets,\n };"
        },
        {
            "sha": "f4f80376cb323670e035f86f163ad795eb633187",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/code_and_ids.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fcode_and_ids.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fcode_and_ids.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fcode_and_ids.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use anyhow::Result;\n use rustc_hash::FxHashMap;\n-use smallvec::{smallvec, SmallVec};\n+use smallvec::{SmallVec, smallvec};\n use turbo_tasks::{ReadRef, TryJoinIterExt, Vc};\n use turbopack_core::{\n     chunk::{ChunkItemExt, ModuleId},"
        },
        {
            "sha": "a8941a2ef02ba3127a0aacf96c55eb5c6647d86b",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/content.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fcontent.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -4,13 +4,14 @@ use anyhow::Result;\n use either::Either;\n use turbo_tasks::{ReadRef, ResolvedVc, TryJoinIterExt, Vc};\n use turbopack_core::{\n-    chunk::{batch_info, ChunkItem, ChunkItems},\n+    chunk::{ChunkItem, ChunkItems, batch_info},\n     output::OutputAsset,\n };\n \n use crate::chunk::{\n+    CodeAndIds,\n     batch::{EcmascriptChunkItemBatchGroup, EcmascriptChunkItemOrBatchWithAsyncInfo},\n-    batch_group_code_and_ids, item_code_and_ids, CodeAndIds,\n+    batch_group_code_and_ids, item_code_and_ids,\n };\n \n #[turbo_tasks::value(shared)]"
        },
        {
            "sha": "515035e459d0f56350dc37edbc126e09963902f5",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/item.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,23 +1,23 @@\n use std::io::Write;\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use serde::{Deserialize, Serialize};\n use turbo_tasks::{\n-    trace::TraceRawVcs, NonLocalValue, ResolvedVc, TaskInput, Upcast, ValueToString, Vc,\n+    NonLocalValue, ResolvedVc, TaskInput, Upcast, ValueToString, Vc, trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::{rope::Rope, FileSystemPath};\n+use turbo_tasks_fs::{FileSystemPath, rope::Rope};\n use turbopack_core::{\n     chunk::{AsyncModuleInfo, ChunkItem, ChunkItemWithAsyncModuleInfo, ChunkingContext},\n     code_builder::{Code, CodeBuilder},\n     error::PrettyPrintError,\n-    issue::{code_gen::CodeGenerationIssue, IssueExt, IssueSeverity, StyledString},\n+    issue::{IssueExt, IssueSeverity, StyledString, code_gen::CodeGenerationIssue},\n     source_map::utils::fileify_source_map,\n };\n \n use crate::{\n+    EcmascriptModuleContent, EcmascriptOptions,\n     references::async_module::{AsyncModuleOptions, OptionAsyncModuleOptions},\n     utils::FormatIter,\n-    EcmascriptModuleContent, EcmascriptOptions,\n };\n \n #[turbo_tasks::value(shared)]"
        },
        {
            "sha": "8da0601da65a69629d9dcd3a51d80b9c9250e5c9",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/mod.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -16,8 +16,8 @@ use turbopack_core::{\n     chunk::{Chunk, ChunkItem, ChunkItems, ChunkingContext, ModuleIds},\n     ident::AssetIdent,\n     introspect::{\n-        module::IntrospectableModule, utils::children_from_output_assets, Introspectable,\n-        IntrospectableChildren,\n+        Introspectable, IntrospectableChildren, module::IntrospectableModule,\n+        utils::children_from_output_assets,\n     },\n     output::{OutputAsset, OutputAssets},\n     server_fs::ServerFileSystem,\n@@ -29,7 +29,7 @@ pub use self::{\n         EcmascriptChunkItemOrBatchWithAsyncInfo,\n     },\n     chunk_type::EcmascriptChunkType,\n-    code_and_ids::{batch_group_code_and_ids, item_code_and_ids, BatchGroupCodeAndIds, CodeAndIds},\n+    code_and_ids::{BatchGroupCodeAndIds, CodeAndIds, batch_group_code_and_ids, item_code_and_ids},\n     content::EcmascriptChunkContent,\n     data::EcmascriptChunkData,\n     item::{"
        },
        {
            "sha": "1ae9575abed3e13ca99222b2cac051e8ba459662",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/placeable.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fplaceable.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fplaceable.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fplaceable.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,13 +1,13 @@\n use anyhow::Result;\n use turbo_tasks::{ResolvedVc, TryFlatJoinIterExt, Vc};\n-use turbo_tasks_fs::{glob::Glob, FileJsonContent, FileSystemPath};\n+use turbo_tasks_fs::{FileJsonContent, FileSystemPath, glob::Glob};\n use turbopack_core::{\n     asset::Asset,\n     chunk::ChunkableModule,\n     error::PrettyPrintError,\n     issue::{Issue, IssueExt, IssueSeverity, IssueStage, OptionStyledString, StyledString},\n     module::Module,\n-    resolve::{find_context_file, package_json, FindContextFileResult},\n+    resolve::{FindContextFileResult, find_context_file, package_json},\n };\n \n use crate::references::{"
        },
        {
            "sha": "4dafe6869427048a68e1b20e523833d53f84e043",
            "filename": "turbopack/crates/turbopack-ecmascript/src/code_gen.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fcode_gen.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fcode_gen.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fcode_gen.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -5,12 +5,13 @@ use swc_core::ecma::{\n     visit::{AstParentKind, VisitMut},\n };\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, Vc};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{\n     chunk::ChunkingContext, module_graph::ModuleGraph, reference::ModuleReference,\n };\n \n use crate::references::{\n+    AstPath,\n     amd::AmdDefineWithDependenciesCodeGen,\n     cjs::{\n         CjsRequireAssetReferenceCodeGen, CjsRequireCacheAccess,\n@@ -20,15 +21,15 @@ use crate::references::{\n     constant_value::ConstantValueCodeGen,\n     dynamic_expression::DynamicExpression,\n     esm::{\n+        EsmBinding, EsmModuleItem, ImportMetaBinding, ImportMetaRef,\n         dynamic::EsmAsyncAssetReferenceCodeGen, module_id::EsmModuleIdAssetReferenceCodeGen,\n-        url::UrlAssetReferenceCodeGen, EsmBinding, EsmModuleItem, ImportMetaBinding, ImportMetaRef,\n+        url::UrlAssetReferenceCodeGen,\n     },\n     ident::IdentReplacement,\n     member::MemberReplacement,\n     require_context::RequireContextAssetReferenceCodeGen,\n     unreachable::Unreachable,\n     worker::WorkerAssetReferenceCodeGen,\n-    AstPath,\n };\n \n #[derive(Default)]"
        },
        {
            "sha": "7275efc7fcc86d7352c524ce30e748df65cc3079",
            "filename": "turbopack/crates/turbopack-ecmascript/src/lib.rs",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -43,17 +43,17 @@ use anyhow::Result;\n use chunk::EcmascriptChunkItem;\n use code_gen::{CodeGeneration, CodeGenerationHoistedStmt};\n use either::Either;\n-use parse::{parse, ParseResult};\n+use parse::{ParseResult, parse};\n use path_visitor::ApplyVisitors;\n use references::esm::UrlRewriteBehavior;\n pub use references::{AnalyzeEcmascriptModuleResult, TURBOPACK_HELPER};\n use serde::{Deserialize, Serialize};\n pub use static_code::StaticEcmascriptCode;\n use swc_core::{\n-    common::{comments::Comments, util::take::Take, Globals, Mark, SourceMap, DUMMY_SP, GLOBALS},\n+    common::{DUMMY_SP, GLOBALS, Globals, Mark, SourceMap, comments::Comments, util::take::Take},\n     ecma::{\n         ast::{self, Expr, ModuleItem, Program, Script},\n-        codegen::{text_writer::JsWriter, Emitter},\n+        codegen::{Emitter, text_writer::JsWriter},\n         visit::{VisitMutWith, VisitMutWithAstPath},\n     },\n     quote,\n@@ -65,10 +65,10 @@ pub use transform::{\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    trace::TraceRawVcs, FxIndexMap, NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryJoinIterExt,\n-    Value, ValueToString, Vc,\n+    FxIndexMap, NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryJoinIterExt, Value,\n+    ValueToString, Vc, trace::TraceRawVcs,\n };\n-use turbo_tasks_fs::{glob::Glob, rope::Rope, FileJsonContent, FileSystemPath};\n+use turbo_tasks_fs::{FileJsonContent, FileSystemPath, glob::Glob, rope::Rope};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::{\n@@ -82,8 +82,8 @@ use turbopack_core::{\n     reference::ModuleReferences,\n     reference_type::InnerAssets,\n     resolve::{\n-        find_context_file, origin::ResolveOrigin, package_json, parse::Request,\n-        FindContextFileResult,\n+        FindContextFileResult, find_context_file, origin::ResolveOrigin, package_json,\n+        parse::Request,\n     },\n     source::Source,\n     source_map::GenerateSourceMap,\n@@ -93,7 +93,7 @@ pub use turbopack_resolve::ecmascript as resolve;\n \n use self::chunk::{EcmascriptChunkItemContent, EcmascriptChunkType, EcmascriptExports};\n use crate::{\n-    chunk::{placeable::is_marked_as_side_effect_free, EcmascriptChunkPlaceable},\n+    chunk::{EcmascriptChunkPlaceable, placeable::is_marked_as_side_effect_free},\n     code_gen::CodeGens,\n     parse::generate_js_source_map,\n     references::{\n@@ -580,10 +580,10 @@ impl EcmascriptModuleAsset {\n \n         match this.options.await?.specified_module_type {\n             SpecifiedModuleType::EcmaScript => {\n-                return ModuleTypeResult::new(SpecifiedModuleType::EcmaScript).await\n+                return ModuleTypeResult::new(SpecifiedModuleType::EcmaScript).await;\n             }\n             SpecifiedModuleType::CommonJs => {\n-                return ModuleTypeResult::new(SpecifiedModuleType::CommonJs).await\n+                return ModuleTypeResult::new(SpecifiedModuleType::CommonJs).await;\n             }\n             SpecifiedModuleType::Automatic => {}\n         }"
        },
        {
            "sha": "914986d33edc62c08bbff4f05fd567257f101b1a",
            "filename": "turbopack/crates/turbopack-ecmascript/src/manifest/chunk_asset.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_asset.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_asset.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_asset.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -4,12 +4,12 @@ use turbo_tasks::{ResolvedVc, TryJoinIterExt, Value, Vc};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::{\n-        availability_info::AvailabilityInfo, ChunkableModule, ChunkingContext, ChunkingContextExt,\n+        ChunkableModule, ChunkingContext, ChunkingContextExt, availability_info::AvailabilityInfo,\n     },\n     ident::AssetIdent,\n     module::Module,\n     module_graph::{\n-        chunk_group_info::ChunkGroup, module_batch::ChunkableModuleOrBatch, ModuleGraph,\n+        ModuleGraph, chunk_group_info::ChunkGroup, module_batch::ChunkableModuleOrBatch,\n     },\n     output::OutputAssets,\n     reference::{ModuleReferences, SingleOutputAssetReference},"
        },
        {
            "sha": "50598f7ab9b5c8e99e5cd942accaf64c6dcecddc",
            "filename": "turbopack/crates/turbopack-ecmascript/src/manifest/chunk_item.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -11,8 +11,8 @@ use turbopack_core::{\n use super::chunk_asset::ManifestAsyncModule;\n use crate::{\n     chunk::{\n-        data::EcmascriptChunkData, EcmascriptChunkItem, EcmascriptChunkItemContent,\n-        EcmascriptChunkType,\n+        EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkType,\n+        data::EcmascriptChunkData,\n     },\n     runtime_functions::TURBOPACK_EXPORT_VALUE,\n     utils::StringifyJs,"
        },
        {
            "sha": "1b3fb473901b11ca76d815e4c53d6d6cfd61c631",
            "filename": "turbopack/crates/turbopack-ecmascript/src/manifest/loader_item.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Floader_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Floader_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Floader_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use std::io::Write as _;\n \n-use anyhow::{anyhow, Result};\n+use anyhow::{Result, anyhow};\n use indoc::writedoc;\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, TryJoinIterExt, Vc};\n@@ -18,8 +18,8 @@ use turbopack_core::{\n use super::chunk_asset::ManifestAsyncModule;\n use crate::{\n     chunk::{\n-        data::EcmascriptChunkData, EcmascriptChunkItem, EcmascriptChunkItemContent,\n-        EcmascriptChunkPlaceable, EcmascriptChunkType,\n+        EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkPlaceable,\n+        EcmascriptChunkType, data::EcmascriptChunkData,\n     },\n     runtime_functions::{TURBOPACK_EXPORT_VALUE, TURBOPACK_LOAD, TURBOPACK_REQUIRE},\n     utils::{StringifyJs, StringifyModuleId},"
        },
        {
            "sha": "517cac31d5581d564a08d1e6be3bd20be8a5f89f",
            "filename": "turbopack/crates/turbopack-ecmascript/src/minify.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fminify.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fminify.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fminify.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,28 +1,28 @@\n use std::sync::Arc;\n \n-use anyhow::{bail, Context, Result};\n+use anyhow::{Context, Result, bail};\n use swc_core::{\n     base::try_with_handler,\n     common::{\n+        BytePos, FileName, FilePathMapping, GLOBALS, LineCol, Mark, SourceMap as SwcSourceMap,\n         comments::{Comments, SingleThreadedComments},\n-        BytePos, FileName, FilePathMapping, LineCol, Mark, SourceMap as SwcSourceMap, GLOBALS,\n     },\n     ecma::{\n         self,\n         ast::{EsVersion, Program},\n         codegen::{\n-            text_writer::{self, JsWriter, WriteJs},\n             Emitter,\n+            text_writer::{self, JsWriter, WriteJs},\n         },\n         minifier::option::{CompressOptions, ExtraOptions, MangleOptions, MinifyOptions},\n-        parser::{lexer::Lexer, Parser, StringInput, Syntax},\n+        parser::{Parser, StringInput, Syntax, lexer::Lexer},\n         transforms::base::{\n             fixer::paren_remover,\n             hygiene::{self, hygiene_with_config},\n         },\n     },\n };\n-use tracing::{instrument, Level};\n+use tracing::{Level, instrument};\n use turbopack_core::{\n     chunk::MangleType,\n     code_builder::{Code, CodeBuilder},"
        },
        {
            "sha": "dc6b4703fd86a6a955803f91829c1f226426ecb5",
            "filename": "turbopack/crates/turbopack-ecmascript/src/parse.rs",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,48 +1,48 @@\n use std::{future::Future, sync::Arc};\n \n-use anyhow::{anyhow, Context, Result};\n+use anyhow::{Context, Result, anyhow};\n use rustc_hash::FxHashSet;\n use swc_core::{\n     base::SwcComments,\n     common::{\n-        errors::{Handler, HANDLER},\n+        BytePos, FileName, GLOBALS, Globals, LineCol, Mark, SyntaxContext,\n+        errors::{HANDLER, Handler},\n         input::StringInput,\n         source_map::SourceMapGenConfig,\n         util::take::Take,\n-        BytePos, FileName, Globals, LineCol, Mark, SyntaxContext, GLOBALS,\n     },\n     ecma::{\n         ast::{EsVersion, Id, ObjectPatProp, Pat, Program, VarDecl},\n         lints::{config::LintConfig, rules::LintParams},\n-        parser::{lexer::Lexer, EsSyntax, Parser, Syntax, TsSyntax},\n+        parser::{EsSyntax, Parser, Syntax, TsSyntax, lexer::Lexer},\n         transforms::base::{\n-            helpers::{Helpers, HELPERS},\n+            helpers::{HELPERS, Helpers},\n             resolver,\n         },\n-        visit::{noop_visit_type, Visit, VisitMutWith, VisitWith},\n+        visit::{Visit, VisitMutWith, VisitWith, noop_visit_type},\n     },\n };\n use tracing::Instrument;\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{util::WrapFuture, ResolvedVc, Value, ValueToString, Vc};\n-use turbo_tasks_fs::{rope::Rope, FileContent, FileSystemPath};\n+use turbo_tasks::{ResolvedVc, Value, ValueToString, Vc, util::WrapFuture};\n+use turbo_tasks_fs::{FileContent, FileSystemPath, rope::Rope};\n use turbo_tasks_hash::hash_xxh3_hash64;\n use turbopack_core::{\n+    SOURCE_URL_PROTOCOL,\n     asset::{Asset, AssetContent},\n     error::PrettyPrintError,\n     issue::{Issue, IssueExt, IssueSeverity, IssueStage, OptionStyledString, StyledString},\n     source::Source,\n     source_map::utils::add_default_ignore_list,\n-    SOURCE_URL_PROTOCOL,\n };\n use turbopack_swc_utils::emitter::IssueEmitter;\n \n use super::EcmascriptModuleAssetType;\n use crate::{\n-    analyzer::{graph::EvalContext, ImportMap},\n+    EcmascriptInputTransform,\n+    analyzer::{ImportMap, graph::EvalContext},\n     swc_comments::ImmutableComments,\n     transform::{EcmascriptInputTransforms, TransformContext},\n-    EcmascriptInputTransform,\n };\n \n #[turbo_tasks::value(shared, serialization = \"none\", eq = \"manual\")]"
        },
        {
            "sha": "dde79bb8abb3f11de11cfbf947f9d7c1252b5b1c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/path_visitor.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fpath_visitor.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fpath_visitor.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fpath_visitor.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -162,13 +162,13 @@ mod tests {\n     use std::sync::Arc;\n \n     use swc_core::{\n-        common::{errors::HANDLER, FileName, Mark, SourceFile, SourceMap},\n+        common::{FileName, Mark, SourceFile, SourceMap, errors::HANDLER},\n         ecma::{\n             ast::*,\n-            codegen::{text_writer::JsWriter, Emitter},\n+            codegen::{Emitter, text_writer::JsWriter},\n             parser::parse_file_as_module,\n             transforms::base::resolver,\n-            visit::{fields::*, AstParentKind, VisitMut, VisitMutWith, VisitMutWithAstPath},\n+            visit::{AstParentKind, VisitMut, VisitMutWith, VisitMutWithAstPath, fields::*},\n         },\n         testing::run_test,\n     };"
        },
        {
            "sha": "0346e85c6d4a8d476928ea15d9f77995ff600bc4",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/amd.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Famd.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Famd.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Famd.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -12,24 +12,24 @@ use swc_core::{\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ReadRef, ResolvedVc,\n-    TryJoinIterExt, ValueToString, Vc,\n+    NonLocalValue, ReadRef, ResolvedVc, TryJoinIterExt, ValueToString, Vc, debug::ValueDebugFormat,\n+    trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{ChunkableModuleReference, ChunkingContext},\n     issue::IssueSource,\n     module_graph::ModuleGraph,\n     reference::ModuleReference,\n-    resolve::{origin::ResolveOrigin, parse::Request, ModuleResolveResult},\n+    resolve::{ModuleResolveResult, origin::ResolveOrigin, parse::Request},\n };\n use turbopack_resolve::ecmascript::cjs_resolve;\n \n use crate::{\n     code_gen::{CodeGen, CodeGeneration},\n     create_visitor,\n     references::{\n-        pattern_mapping::{PatternMapping, ResolveType},\n         AstPath,\n+        pattern_mapping::{PatternMapping, ResolveType},\n     },\n     runtime_functions::{TURBOPACK_EXPORT_VALUE, TURBOPACK_REQUIRE},\n };"
        },
        {
            "sha": "75a731a5f91838b699c7eb41e88ec0065a996a27",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/async_module.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fasync_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fasync_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fasync_module.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -6,8 +6,8 @@ use swc_core::{\n     quote,\n };\n use turbo_tasks::{\n-    trace::TraceRawVcs, FxIndexSet, NonLocalValue, ReadRef, ResolvedVc, TryFlatJoinIterExt,\n-    TryJoinIterExt, Vc,\n+    FxIndexSet, NonLocalValue, ReadRef, ResolvedVc, TryFlatJoinIterExt, TryJoinIterExt, Vc,\n+    trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{AsyncModuleInfo, ChunkableModuleReference, ChunkingContext, ChunkingType},"
        },
        {
            "sha": "52a5a3b8ec5a277960dde254ac60a09a40a7edb8",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/cjs.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fcjs.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fcjs.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fcjs.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -7,23 +7,23 @@ use swc_core::{\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, ValueToString, Vc,\n+    NonLocalValue, ResolvedVc, ValueToString, Vc, debug::ValueDebugFormat, trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{ChunkableModuleReference, ChunkingContext},\n     issue::IssueSource,\n     module_graph::ModuleGraph,\n     reference::ModuleReference,\n-    resolve::{origin::ResolveOrigin, parse::Request, ModuleResolveResult},\n+    resolve::{ModuleResolveResult, origin::ResolveOrigin, parse::Request},\n };\n use turbopack_resolve::ecmascript::cjs_resolve;\n \n use crate::{\n     code_gen::{CodeGen, CodeGeneration, IntoCodeGenReference},\n     create_visitor,\n     references::{\n-        pattern_mapping::{PatternMapping, ResolveType},\n         AstPath,\n+        pattern_mapping::{PatternMapping, ResolveType},\n     },\n     runtime_functions::TURBOPACK_CACHE,\n };"
        },
        {
            "sha": "c23397f9ccbb484d0c5228a661607fb6e1b4a505",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/constant_condition.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fconstant_condition.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fconstant_condition.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fconstant_condition.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use swc_core::quote;\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Vc};\n+use turbo_tasks::{NonLocalValue, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use super::AstPath;"
        },
        {
            "sha": "d076719aeb92521e0fa657744136eb41e2190fb6",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/constant_value.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fconstant_value.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fconstant_value.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fconstant_value.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use swc_core::quote;\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Value, Vc};\n+use turbo_tasks::{NonLocalValue, Value, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{\n     chunk::ChunkingContext, compile_time_info::CompileTimeDefineValue, module_graph::ModuleGraph,\n };"
        },
        {
            "sha": "2845a205e889b15cd23616d88f1196784d261a3c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/dynamic_expression.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fdynamic_expression.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fdynamic_expression.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fdynamic_expression.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,7 +1,7 @@\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use swc_core::quote;\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Vc};\n+use turbo_tasks::{NonLocalValue, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use super::AstPath;"
        },
        {
            "sha": "ac0b1046db68980219518792c7fa934fa07e7939",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/base.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbase.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbase.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbase.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,7 +1,7 @@\n-use anyhow::{anyhow, bail, Result};\n+use anyhow::{Result, anyhow, bail};\n use strsim::jaro;\n use swc_core::{\n-    common::{BytePos, Span, DUMMY_SP},\n+    common::{BytePos, DUMMY_SP, Span},\n     ecma::ast::{Decl, Expr, ExprStmt, Ident, Stmt},\n     quote,\n };\n@@ -22,24 +22,24 @@ use turbopack_core::{\n     reference::ModuleReference,\n     reference_type::{EcmaScriptModulesReferenceSubType, ImportWithType},\n     resolve::{\n+        ExternalType, ModulePart, ModuleResolveResult, ModuleResolveResultItem, RequestKey,\n         origin::{ResolveOrigin, ResolveOriginExt},\n         parse::Request,\n-        ExternalType, ModulePart, ModuleResolveResult, ModuleResolveResultItem, RequestKey,\n     },\n };\n use turbopack_resolve::ecmascript::esm_resolve;\n \n use super::export::{all_known_export_names, is_export_missing};\n use crate::{\n+    TreeShakingMode,\n     analyzer::imports::ImportAnnotations,\n     chunk::EcmascriptChunkPlaceable,\n     code_gen::CodeGeneration,\n     magic_identifier,\n     references::util::{request_to_string, throw_module_not_found_expr},\n     runtime_functions::{TURBOPACK_EXTERNAL_IMPORT, TURBOPACK_EXTERNAL_REQUIRE, TURBOPACK_IMPORT},\n-    tree_shake::{asset::EcmascriptModulePartAsset, TURBOPACK_PART_IMPORT_SOURCE},\n+    tree_shake::{TURBOPACK_PART_IMPORT_SOURCE, asset::EcmascriptModulePartAsset},\n     utils::module_id_to_lit,\n-    TreeShakingMode,\n };\n \n #[turbo_tasks::value]"
        },
        {
            "sha": "c11187ddfd1b596dac7c794ccf7824caf97df00d",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/binding.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbinding.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbinding.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbinding.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -11,14 +11,14 @@ use swc_core::{\n     },\n };\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{trace::TraceRawVcs, NonLocalValue, ResolvedVc, Vc};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, Vc, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use super::EsmAssetReference;\n use crate::{\n     code_gen::{CodeGen, CodeGeneration},\n     create_visitor,\n-    references::{esm::base::ReferencedAsset, AstPath},\n+    references::{AstPath, esm::base::ReferencedAsset},\n };\n \n #[derive(Hash, Clone, Debug, Serialize, Deserialize, PartialEq, Eq, TraceRawVcs, NonLocalValue)]"
        },
        {
            "sha": "ab68120b0589b00f23c84e63aeee5d647283b1e2",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/dynamic.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fdynamic.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fdynamic.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fdynamic.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,14 +1,14 @@\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use swc_core::{\n-    common::{util::take::Take, DUMMY_SP},\n+    common::{DUMMY_SP, util::take::Take},\n     ecma::ast::{CallExpr, Callee, Expr, ExprOrSpread, Lit},\n     quote_expr,\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, Value, ValueToString,\n-    Vc,\n+    NonLocalValue, ResolvedVc, Value, ValueToString, Vc, debug::ValueDebugFormat,\n+    trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{ChunkableModuleReference, ChunkingContext, ChunkingType, ChunkingTypeOption},\n@@ -18,9 +18,9 @@ use turbopack_core::{\n     reference::ModuleReference,\n     reference_type::EcmaScriptModulesReferenceSubType,\n     resolve::{\n+        ModuleResolveResult,\n         origin::{ResolveOrigin, ResolveOriginExt},\n         parse::Request,\n-        ModuleResolveResult,\n     },\n };\n use turbopack_resolve::ecmascript::esm_resolve;"
        },
        {
            "sha": "e4a75fed70b6842119ad22777bbebf44d4ad0fb2",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/export.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fexport.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fexport.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fexport.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -13,14 +13,14 @@ use swc_core::{\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    trace::TraceRawVcs, FxIndexMap, FxIndexSet, NonLocalValue, ResolvedVc, TryFlatJoinIterExt,\n-    ValueToString, Vc,\n+    FxIndexMap, FxIndexSet, NonLocalValue, ResolvedVc, TryFlatJoinIterExt, ValueToString, Vc,\n+    trace::TraceRawVcs,\n };\n use turbo_tasks_fs::glob::Glob;\n use turbopack_core::{\n     chunk::ChunkingContext,\n     ident::AssetIdent,\n-    issue::{analyze::AnalyzeIssue, IssueExt, IssueSeverity, StyledString},\n+    issue::{IssueExt, IssueSeverity, StyledString, analyze::AnalyzeIssue},\n     module::Module,\n     module_graph::ModuleGraph,\n     reference::ModuleReference,\n@@ -29,13 +29,13 @@ use turbopack_core::{\n \n use super::base::ReferencedAsset;\n use crate::{\n+    EcmascriptModuleAsset,\n     chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n     code_gen::{CodeGeneration, CodeGenerationHoistedStmt},\n     magic_identifier,\n     parse::ParseResult,\n     runtime_functions::{TURBOPACK_DYNAMIC, TURBOPACK_ESM},\n     tree_shake::asset::EcmascriptModulePartAsset,\n-    EcmascriptModuleAsset,\n };\n \n #[derive(Clone, Hash, Debug, PartialEq, Eq, Serialize, Deserialize, TraceRawVcs, NonLocalValue)]"
        },
        {
            "sha": "59e03d383f5ea97fecafa82902c4801c68a79a12",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/meta.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmeta.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmeta.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmeta.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -7,7 +7,7 @@ use swc_core::{\n     ecma::ast::{Expr, Ident},\n     quote,\n };\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, Vc};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbo_tasks_fs::FileSystemPath;\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n "
        },
        {
            "sha": "0369a92b69b21ae246db9281bbae71c1448d4e3e",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/module_id.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmodule_id.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmodule_id.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmodule_id.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,7 +3,7 @@ use serde::{Deserialize, Serialize};\n use swc_core::quote;\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, ValueToString, Vc,\n+    NonLocalValue, ResolvedVc, ValueToString, Vc, debug::ValueDebugFormat, trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{ChunkableModuleReference, ChunkingContext, ChunkingTypeOption, ModuleChunkItemIdExt},\n@@ -12,7 +12,7 @@ use turbopack_core::{\n     resolve::ModuleResolveResult,\n };\n \n-use super::{base::ReferencedAsset, EsmAssetReference};\n+use super::{EsmAssetReference, base::ReferencedAsset};\n use crate::{\n     code_gen::{CodeGen, CodeGeneration, IntoCodeGenReference},\n     create_visitor,"
        },
        {
            "sha": "59b710cb15f4a5ee3593eace8361bee7fc8e4535",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/module_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmodule_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmodule_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fmodule_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -10,7 +10,7 @@ use swc_core::{\n     },\n     quote,\n };\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Vc};\n+use turbo_tasks::{NonLocalValue, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use crate::{"
        },
        {
            "sha": "d5743278bab8e64afa1de1d8c18cc3d238b5d0ef",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/url.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Furl.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Furl.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Furl.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,13 +1,13 @@\n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use serde::{Deserialize, Serialize};\n use swc_core::{\n     ecma::ast::{Expr, ExprOrSpread, NewExpr},\n     quote,\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, TaskInput, Value,\n-    ValueToString, Vc,\n+    NonLocalValue, ResolvedVc, TaskInput, Value, ValueToString, Vc, debug::ValueDebugFormat,\n+    trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{\n@@ -20,7 +20,7 @@ use turbopack_core::{\n     reference::ModuleReference,\n     reference_type::{ReferenceType, UrlReferenceSubType},\n     resolve::{\n-        origin::ResolveOrigin, parse::Request, url_resolve, ExternalType, ModuleResolveResult,\n+        ExternalType, ModuleResolveResult, origin::ResolveOrigin, parse::Request, url_resolve,\n     },\n };\n "
        },
        {
            "sha": "15633a241950ca29559f29c16c8df014b6873855",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/external_module.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fexternal_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fexternal_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fexternal_module.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,8 +3,8 @@ use std::{fmt::Display, io::Write};\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{trace::TraceRawVcs, NonLocalValue, ResolvedVc, TaskInput, Vc};\n-use turbo_tasks_fs::{glob::Glob, rope::RopeBuilder, FileContent, FileSystem, VirtualFileSystem};\n+use turbo_tasks::{NonLocalValue, ResolvedVc, TaskInput, Vc, trace::TraceRawVcs};\n+use turbo_tasks_fs::{FileContent, FileSystem, VirtualFileSystem, glob::Glob, rope::RopeBuilder};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::{AsyncModuleInfo, ChunkItem, ChunkType, ChunkableModule, ChunkingContext},\n@@ -15,6 +15,7 @@ use turbopack_core::{\n };\n \n use crate::{\n+    EcmascriptModuleContent, EcmascriptOptions,\n     chunk::{\n         EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkPlaceable,\n         EcmascriptChunkType, EcmascriptExports,\n@@ -24,7 +25,6 @@ use crate::{\n         TURBOPACK_EXPORT_NAMESPACE, TURBOPACK_EXTERNAL_IMPORT, TURBOPACK_EXTERNAL_REQUIRE,\n     },\n     utils::StringifyJs,\n-    EcmascriptModuleContent, EcmascriptOptions,\n };\n \n #[turbo_tasks::function]"
        },
        {
            "sha": "74a349682ee854b3e19c612726c25711b1016924",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/ident.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fident.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fident.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fident.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -2,7 +2,7 @@ use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use swc_core::{ecma::ast::Expr, quote};\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Vc};\n+use turbo_tasks::{NonLocalValue, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use super::AstPath;"
        },
        {
            "sha": "aaa6b7bfb55e3c07b9528e5f7d0cb433fa55a978",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/member.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmember.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmember.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmember.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -6,7 +6,7 @@ use swc_core::{\n     quote,\n };\n use turbo_rcstr::RcStr;\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Vc};\n+use turbo_tasks::{NonLocalValue, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use super::AstPath;"
        },
        {
            "sha": "942480eb77ebd2ca9d5439f7b684f42c4e09ea93",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/mod.rs",
            "status": "modified",
            "additions": 49,
            "deletions": 39,
            "changes": 88,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -20,7 +20,7 @@ pub mod worker;\n \n use std::{borrow::Cow, collections::BTreeMap, future::Future, mem::take, ops::Deref, sync::Arc};\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use constant_condition::{ConstantConditionCodeGen, ConstantConditionValue};\n use constant_value::ConstantValueCodeGen;\n use either::Either;\n@@ -35,26 +35,26 @@ use serde::{Deserialize, Serialize};\n use swc_core::{\n     atoms::Atom,\n     common::{\n+        GLOBALS, Globals, Span, Spanned,\n         comments::{CommentKind, Comments},\n-        errors::{DiagnosticId, Handler, HANDLER},\n+        errors::{DiagnosticId, HANDLER, Handler},\n         pass::AstNodePath,\n         source_map::SmallPos,\n-        Globals, Span, Spanned, GLOBALS,\n     },\n     ecma::{\n         ast::*,\n         utils::IsDirective,\n         visit::{\n-            fields::{AssignExprField, AssignTargetField, SimpleAssignTargetField},\n             AstParentKind, AstParentNodeRef, VisitAstPath, VisitWithAstPath,\n+            fields::{AssignExprField, AssignTargetField, SimpleAssignTargetField},\n         },\n     },\n };\n use tracing::Instrument;\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    trace::TraceRawVcs, FxIndexMap, FxIndexSet, NonLocalValue, ReadRef, ResolvedVc, TaskInput,\n-    TryJoinIterExt, Upcast, Value, ValueToString, Vc,\n+    FxIndexMap, FxIndexSet, NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryJoinIterExt, Upcast,\n+    Value, ValueToString, Vc, trace::TraceRawVcs,\n };\n use turbo_tasks_fs::FileSystemPath;\n use turbopack_core::{\n@@ -64,16 +64,16 @@ use turbopack_core::{\n     },\n     environment::Rendering,\n     error::PrettyPrintError,\n-    issue::{analyze::AnalyzeIssue, IssueExt, IssueSeverity, IssueSource, StyledString},\n+    issue::{IssueExt, IssueSeverity, IssueSource, StyledString, analyze::AnalyzeIssue},\n     module::Module,\n     reference::{ModuleReference, ModuleReferences, SourceMapReference},\n     reference_type::{CommonJsReferenceSubType, ReferenceType},\n     resolve::{\n-        find_context_file,\n+        FindContextFileResult, ModulePart, find_context_file,\n         origin::{PlainResolveOrigin, ResolveOrigin, ResolveOriginExt},\n         parse::Request,\n         pattern::Pattern,\n-        resolve, FindContextFileResult, ModulePart,\n+        resolve,\n     },\n     source::Source,\n     source_map::GenerateSourceMap,\n@@ -93,41 +93,43 @@ use self::{\n     },\n     cjs::CjsAssetReference,\n     esm::{\n-        export::EsmExport, EsmAssetReference, EsmAsyncAssetReference, EsmExports, EsmModuleItem,\n-        ImportMetaBinding, ImportMetaRef, UrlAssetReference,\n+        EsmAssetReference, EsmAsyncAssetReference, EsmExports, EsmModuleItem, ImportMetaBinding,\n+        ImportMetaRef, UrlAssetReference, export::EsmExport,\n     },\n     node::DirAssetReference,\n     raw::FileSourceReference,\n     typescript::{TsConfigReference, TsReferencePathAssetReference, TsReferenceTypeAssetReference},\n };\n use super::{\n+    EcmascriptModuleAssetType, ModuleTypeResult,\n     analyzer::{\n+        ConstantValue as JsConstantValue, JsValue, ObjectPart, WellKnownFunctionKind,\n+        WellKnownObjectKind,\n         builtin::replace_builtin,\n-        graph::{create_graph, Effect},\n+        graph::{Effect, create_graph},\n         linker::link,\n         well_known::replace_well_known,\n-        ConstantValue as JsConstantValue, JsValue, ObjectPart, WellKnownFunctionKind,\n-        WellKnownObjectKind,\n     },\n     errors,\n     parse::ParseResult,\n     special_cases::special_cases,\n     utils::js_value_to_pattern,\n     webpack::{\n-        parse::{webpack_runtime, WebpackRuntime},\n         WebpackChunkAssetReference, WebpackEntryAssetReference, WebpackRuntimeAssetReference,\n+        parse::{WebpackRuntime, webpack_runtime},\n     },\n-    EcmascriptModuleAssetType, ModuleTypeResult,\n };\n-pub use crate::references::esm::export::{follow_reexports, FollowExportsResult};\n+pub use crate::references::esm::export::{FollowExportsResult, follow_reexports};\n use crate::{\n+    EcmascriptInputTransforms, EcmascriptModuleAsset, EcmascriptParsable, SpecifiedModuleType,\n+    TreeShakingMode,\n     analyzer::{\n+        ConstantNumber, ConstantString, JsValueUrlKind, RequireContextValue,\n         builtin::early_replace_builtin,\n         graph::{ConditionalKind, EffectArg, EvalContext, VarGraph},\n         imports::{ImportAnnotations, ImportAttributes, ImportedSymbol, Reexport},\n         parse_require_context,\n         top_level_await::has_top_level_await,\n-        ConstantNumber, ConstantString, JsValueUrlKind, RequireContextValue,\n     },\n     chunk::EcmascriptExports,\n     code_gen::{CodeGen, CodeGens, IntoCodeGenReference},\n@@ -138,8 +140,8 @@ use crate::{\n         cjs::{CjsRequireAssetReference, CjsRequireCacheAccess, CjsRequireResolveAssetReference},\n         dynamic_expression::DynamicExpression,\n         esm::{\n-            base::EsmAssetReferences, module_id::EsmModuleIdAssetReference, EsmBinding,\n-            UrlRewriteBehavior,\n+            EsmBinding, UrlRewriteBehavior, base::EsmAssetReferences,\n+            module_id::EsmModuleIdAssetReference,\n         },\n         ident::IdentReplacement,\n         member::MemberReplacement,\n@@ -153,9 +155,7 @@ use crate::{\n         TURBOPACK_REQUIRE_REAL, TURBOPACK_REQUIRE_STUB,\n     },\n     tree_shake::{find_turbopack_part_id_in_asserts, part_of_module, split},\n-    utils::{module_value_to_well_known_object, AstPathRange},\n-    EcmascriptInputTransforms, EcmascriptModuleAsset, EcmascriptParsable, SpecifiedModuleType,\n-    TreeShakingMode,\n+    utils::{AstPathRange, module_value_to_well_known_object},\n };\n \n #[turbo_tasks::value(shared)]\n@@ -1600,11 +1600,14 @@ async fn handle_call<G: Fn(Vec<Effect>) + Send + Sync>(\n         match func {\n             JsValue::WellKnownFunction(WellKnownFunctionKind::URLConstructor) => {\n                 let args = linked_args(args).await?;\n-                if let [url, JsValue::Member(\n-                    _,\n-                    box JsValue::WellKnownObject(WellKnownObjectKind::ImportMeta),\n-                    box JsValue::Constant(super::analyzer::ConstantValue::Str(meta_prop)),\n-                )] = &args[..]\n+                if let [\n+                    url,\n+                    JsValue::Member(\n+                        _,\n+                        box JsValue::WellKnownObject(WellKnownObjectKind::ImportMeta),\n+                        box JsValue::Constant(super::analyzer::ConstantValue::Str(meta_prop)),\n+                    ),\n+                ] = &args[..]\n                 {\n                     if meta_prop.as_str() == \"url\" {\n                         let pat = js_value_to_pattern(url);\n@@ -2925,11 +2928,14 @@ async fn value_visitor_inner(\n             box JsValue::WellKnownFunction(WellKnownFunctionKind::URLConstructor),\n             ref args,\n         ) => {\n-            if let [JsValue::Constant(super::analyzer::ConstantValue::Str(url)), JsValue::Member(\n-                _,\n-                box JsValue::WellKnownObject(WellKnownObjectKind::ImportMeta),\n-                box JsValue::Constant(super::analyzer::ConstantValue::Str(prop)),\n-            )] = &args[..]\n+            if let [\n+                JsValue::Constant(super::analyzer::ConstantValue::Str(url)),\n+                JsValue::Member(\n+                    _,\n+                    box JsValue::WellKnownObject(WellKnownObjectKind::ImportMeta),\n+                    box JsValue::Constant(super::analyzer::ConstantValue::Str(prop)),\n+                ),\n+            ] = &args[..]\n             {\n                 if prop.as_str() == \"url\" {\n                     // TODO avoid clone\n@@ -3071,7 +3077,7 @@ async fn require_context_visitor(\n                 ),\n                 true,\n                 PrettyPrintError(&err).to_string(),\n-            ))\n+            ));\n         }\n     };\n \n@@ -3467,10 +3473,14 @@ impl VisitAstPath for ModuleReferencesVisitor<'_> {\n                     [webpack_require, property]\n                         if webpack_require == \"__webpack_require__\" && property == \"X\" =>\n                     {\n-                        if let [_, ExprOrSpread {\n-                            spread: None,\n-                            expr: chunk_ids,\n-                        }, _] = &call.args[..]\n+                        if let [\n+                            _,\n+                            ExprOrSpread {\n+                                spread: None,\n+                                expr: chunk_ids,\n+                            },\n+                            _,\n+                        ] = &call.args[..]\n                         {\n                             if let Some(array) = chunk_ids.as_array() {\n                                 for elem in array.elems.iter().flatten() {\n@@ -3562,7 +3572,7 @@ enum DetectedDynamicExportType {\n }\n \n fn detect_dynamic_export(p: &Program) -> DetectedDynamicExportType {\n-    use swc_core::ecma::visit::{visit_obj_and_computed, Visit, VisitWith};\n+    use swc_core::ecma::visit::{Visit, VisitWith, visit_obj_and_computed};\n \n     if let Program::Module(m) = p {\n         // Check for imports/exports"
        },
        {
            "sha": "8f543df3c6aa3f56b56d31d90be2e2dd064e3c23",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/node.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fnode.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fnode.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fnode.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -9,8 +9,8 @@ use turbopack_core::{\n     raw_module::RawModule,\n     reference::ModuleReference,\n     resolve::{\n-        pattern::{read_matches, Pattern, PatternMatch},\n         ModuleResolveResult, RequestKey,\n+        pattern::{Pattern, PatternMatch, read_matches},\n     },\n     source::Source,\n };"
        },
        {
            "sha": "0036a507d39249ad81075a7abb3ff441ac281391",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/pattern_mapping.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fpattern_mapping.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fpattern_mapping.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fpattern_mapping.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -12,18 +12,18 @@ use swc_core::{\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, FxIndexMap, NonLocalValue, ResolvedVc, TaskInput,\n-    TryJoinIterExt, Vc,\n+    FxIndexMap, NonLocalValue, ResolvedVc, TaskInput, TryJoinIterExt, Vc, debug::ValueDebugFormat,\n+    trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{ChunkableModule, ChunkingContext, ModuleChunkItemIdExt, ModuleId},\n     issue::{\n-        code_gen::CodeGenerationIssue, module::emit_unknown_module_type_error, IssueExt,\n-        IssueSeverity, StyledString,\n+        IssueExt, IssueSeverity, StyledString, code_gen::CodeGenerationIssue,\n+        module::emit_unknown_module_type_error,\n     },\n     resolve::{\n-        origin::ResolveOrigin, parse::Request, ExternalType, ModuleResolveResult,\n-        ModuleResolveResultItem,\n+        ExternalType, ModuleResolveResult, ModuleResolveResultItem, origin::ResolveOrigin,\n+        parse::Request,\n     },\n };\n \n@@ -334,7 +334,7 @@ async fn to_single_pattern_mapping(\n             ));\n         }\n         ModuleResolveResultItem::Error(str) => {\n-            return Ok(SinglePatternMapping::Unresolvable(str.await?.to_string()))\n+            return Ok(SinglePatternMapping::Unresolvable(str.await?.to_string()));\n         }\n         ModuleResolveResultItem::OutputAsset(_)\n         | ModuleResolveResultItem::Empty"
        },
        {
            "sha": "76cf53065f80ff96cf9e9f56de99d2e1e53d39e3",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/raw.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fraw.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fraw.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fraw.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,7 +3,7 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, ValueToString, Vc};\n use turbopack_core::{\n     reference::ModuleReference,\n-    resolve::{pattern::Pattern, resolve_raw, ModuleResolveResult},\n+    resolve::{ModuleResolveResult, pattern::Pattern, resolve_raw},\n     source::Source,\n };\n "
        },
        {
            "sha": "907e19e2ed64179e19f37c4c80474371f738590d",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/require_context.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Frequire_context.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Frequire_context.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Frequire_context.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use std::{borrow::Cow, collections::VecDeque, sync::Arc};\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use serde::{Deserialize, Serialize};\n use swc_core::{\n     common::DUMMY_SP,\n@@ -9,15 +9,15 @@ use swc_core::{\n             Expr, ExprStmt, KeyValueProp, Lit, ModuleItem, ObjectLit, Prop, PropName, PropOrSpread,\n             Stmt, {self},\n         },\n-        codegen::{text_writer::JsWriter, Emitter},\n+        codegen::{Emitter, text_writer::JsWriter},\n     },\n     quote, quote_expr,\n };\n use turbo_esregex::EsRegex;\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, FxIndexMap, NonLocalValue, ResolvedVc, Value,\n-    ValueToString, Vc,\n+    FxIndexMap, NonLocalValue, ResolvedVc, Value, ValueToString, Vc, debug::ValueDebugFormat,\n+    trace::TraceRawVcs,\n };\n use turbo_tasks_fs::{DirectoryContent, DirectoryEntry, FileSystemPath};\n use turbopack_core::{\n@@ -31,24 +31,24 @@ use turbopack_core::{\n     module::Module,\n     module_graph::ModuleGraph,\n     reference::{ModuleReference, ModuleReferences},\n-    resolve::{origin::ResolveOrigin, parse::Request, ModuleResolveResult},\n+    resolve::{ModuleResolveResult, origin::ResolveOrigin, parse::Request},\n     source::Source,\n };\n use turbopack_resolve::ecmascript::cjs_resolve;\n \n use crate::{\n+    EcmascriptChunkPlaceable,\n     chunk::{\n         EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkType, EcmascriptExports,\n     },\n     code_gen::{CodeGen, CodeGeneration, IntoCodeGenReference},\n     create_visitor,\n     references::{\n-        pattern_mapping::{PatternMapping, ResolveType},\n         AstPath,\n+        pattern_mapping::{PatternMapping, ResolveType},\n     },\n     runtime_functions::{TURBOPACK_EXPORT_VALUE, TURBOPACK_MODULE_CONTEXT, TURBOPACK_REQUIRE},\n     utils::module_id_to_lit,\n-    EcmascriptChunkPlaceable,\n };\n \n #[turbo_tasks::value]"
        },
        {
            "sha": "5753a39a40f5e96962054744a6e547a6f5bef71c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/typescript.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Ftypescript.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Ftypescript.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Ftypescript.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -7,7 +7,7 @@ use turbopack_core::{\n     file_source::FileSource,\n     reference::ModuleReference,\n     reference_type::{ReferenceType, TypeScriptReferenceSubType},\n-    resolve::{origin::ResolveOrigin, parse::Request, ModuleResolveResult},\n+    resolve::{ModuleResolveResult, origin::ResolveOrigin, parse::Request},\n };\n use turbopack_resolve::typescript::type_resolve;\n "
        },
        {
            "sha": "30c53dbe5abb0e519626b9b90edb1be8cb27ece4",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/unreachable.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Funreachable.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Funreachable.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Funreachable.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,21 +3,21 @@ use std::mem::take;\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n use swc_core::{\n-    common::{util::take::Take, Spanned},\n+    common::{Spanned, util::take::Take},\n     ecma::{\n         ast::{\n             ArrayPat, ArrowExpr, AssignPat, AssignPatProp, BindingIdent, BlockStmt, ClassDecl,\n             Decl, FnDecl, Ident, KeyValuePatProp, ObjectPat, ObjectPatProp, Pat, RestPat, Stmt,\n             VarDecl, VarDeclKind, VarDeclarator,\n         },\n         visit::{\n-            fields::{BlockStmtField, SwitchCaseField},\n             AstParentKind, VisitMut, VisitMutWith,\n+            fields::{BlockStmtField, SwitchCaseField},\n         },\n     },\n     quote,\n };\n-use turbo_tasks::{debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, Vc};\n+use turbo_tasks::{NonLocalValue, Vc, debug::ValueDebugFormat, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use crate::{"
        },
        {
            "sha": "c2838413be7490b773e60d87da8f503f4fa6d218",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/util.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Futil.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Futil.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Futil.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -2,11 +2,11 @@ use anyhow::Result;\n use swc_core::{ecma::ast::Expr, quote};\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, Vc};\n-use turbo_tasks_fs::{rope::Rope, FileSystemPath};\n+use turbo_tasks_fs::{FileSystemPath, rope::Rope};\n use turbopack_core::{\n     resolve::parse::Request,\n     source_map::{\n-        utils::resolve_source_map_sources, GenerateSourceMap, OptionStringifiedSourceMap,\n+        GenerateSourceMap, OptionStringifiedSourceMap, utils::resolve_source_map_sources,\n     },\n };\n "
        },
        {
            "sha": "437589dadad1c39c7444c9c2f68866980ea7e6a7",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/worker.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fworker.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fworker.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fworker.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,4 +1,4 @@\n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use serde::{Deserialize, Serialize};\n use swc_core::{\n     common::util::take::Take,\n@@ -7,17 +7,17 @@ use swc_core::{\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n-    debug::ValueDebugFormat, trace::TraceRawVcs, NonLocalValue, ResolvedVc, Value, ValueToString,\n-    Vc,\n+    NonLocalValue, ResolvedVc, Value, ValueToString, Vc, debug::ValueDebugFormat,\n+    trace::TraceRawVcs,\n };\n use turbopack_core::{\n     chunk::{ChunkableModule, ChunkableModuleReference, ChunkingContext},\n-    issue::{code_gen::CodeGenerationIssue, IssueExt, IssueSeverity, IssueSource, StyledString},\n+    issue::{IssueExt, IssueSeverity, IssueSource, StyledString, code_gen::CodeGenerationIssue},\n     module::Module,\n     module_graph::ModuleGraph,\n     reference::ModuleReference,\n     reference_type::{ReferenceType, WorkerReferenceSubType},\n-    resolve::{origin::ResolveOrigin, parse::Request, url_resolve, ModuleResolveResult},\n+    resolve::{ModuleResolveResult, origin::ResolveOrigin, parse::Request, url_resolve},\n };\n \n use crate::{"
        },
        {
            "sha": "9da8ec01dd0104d327009dc07fec1db4c70cdd73",
            "filename": "turbopack/crates/turbopack-ecmascript/src/side_effect_optimization/facade/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Ffacade%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Ffacade%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Ffacade%2Fchunk_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -9,11 +9,11 @@ use turbopack_core::{\n \n use super::module::EcmascriptModuleFacadeModule;\n use crate::{\n+    EcmascriptAnalyzable, EcmascriptOptions,\n     chunk::{\n         EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkPlaceable,\n         EcmascriptChunkType,\n     },\n-    EcmascriptAnalyzable, EcmascriptOptions,\n };\n \n /// The chunk item for [EcmascriptModuleFacadeModule]."
        },
        {
            "sha": "b768bfc9e622ad634bef5eeb76c7529f1259ef04",
            "filename": "turbopack/crates/turbopack-ecmascript/src/side_effect_optimization/facade/module.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Ffacade%2Fmodule.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Ffacade%2Fmodule.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Ffacade%2Fmodule.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,8 +1,8 @@\n use std::collections::BTreeMap;\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_tasks::{ResolvedVc, Vc};\n-use turbo_tasks_fs::{glob::Glob, File, FileContent};\n+use turbo_tasks_fs::{File, FileContent, glob::Glob};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::{AsyncModuleInfo, ChunkableModule, ChunkingContext, EvaluatableAsset},\n@@ -15,16 +15,16 @@ use turbopack_core::{\n \n use super::chunk_item::EcmascriptModuleFacadeChunkItem;\n use crate::{\n+    AnalyzeEcmascriptModuleResult, EcmascriptAnalyzable, EcmascriptModuleContent,\n+    EcmascriptModuleContentOptions, SpecifiedModuleType,\n     chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n     code_gen::CodeGens,\n     parse::ParseResult,\n     references::{\n         async_module::{AsyncModule, OptionAsyncModule},\n-        esm::{base::EsmAssetReferences, EsmExport, EsmExports},\n+        esm::{EsmExport, EsmExports, base::EsmAssetReferences},\n     },\n     side_effect_optimization::reference::EcmascriptModulePartReference,\n-    AnalyzeEcmascriptModuleResult, EcmascriptAnalyzable, EcmascriptModuleContent,\n-    EcmascriptModuleContentOptions, SpecifiedModuleType,\n };\n \n /// A module derived from an original ecmascript module that only contains all"
        },
        {
            "sha": "781f08e44f05c6f085451cd275d35147b91c7e01",
            "filename": "turbopack/crates/turbopack-ecmascript/src/side_effect_optimization/locals/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Flocals%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Flocals%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Flocals%2Fchunk_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -9,8 +9,8 @@ use turbopack_core::{\n \n use super::module::EcmascriptModuleLocalsModule;\n use crate::{\n-    chunk::{EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkType},\n     EcmascriptAnalyzable,\n+    chunk::{EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkType},\n };\n \n /// The chunk item for [EcmascriptModuleLocalsModule]."
        },
        {
            "sha": "19cb8f4e2e5d8f6a7d56dcfb99d44f54591ecc78",
            "filename": "turbopack/crates/turbopack-ecmascript/src/side_effect_optimization/locals/module.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Flocals%2Fmodule.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Flocals%2Fmodule.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Flocals%2Fmodule.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use std::collections::BTreeMap;\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_tasks::{ResolvedVc, Vc};\n use turbo_tasks_fs::glob::Glob;\n use turbopack_core::{\n@@ -15,13 +15,13 @@ use turbopack_core::{\n \n use super::chunk_item::EcmascriptModuleLocalsChunkItem;\n use crate::{\n+    AnalyzeEcmascriptModuleResult, EcmascriptAnalyzable, EcmascriptModuleAsset,\n+    EcmascriptModuleContent, EcmascriptModuleContentOptions,\n     chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n     references::{\n         async_module::OptionAsyncModule,\n         esm::{EsmExport, EsmExports},\n     },\n-    AnalyzeEcmascriptModuleResult, EcmascriptAnalyzable, EcmascriptModuleAsset,\n-    EcmascriptModuleContent, EcmascriptModuleContentOptions,\n };\n \n /// A module derived from an original ecmascript module that only contains the"
        },
        {
            "sha": "ef09e373a3a72a56f79ef819b9473ae92357d4d5",
            "filename": "turbopack/crates/turbopack-ecmascript/src/side_effect_optimization/reference.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Freference.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Freference.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Freference.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,4 +1,4 @@\n-use anyhow::{bail, Context, Result};\n+use anyhow::{Context, Result, bail};\n use swc_core::{common::DUMMY_SP, ecma::ast::Ident, quote};\n use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, ValueToString, Vc};"
        },
        {
            "sha": "0ef2a6a7d24ee1459f3c68763db5a1253b5f311f",
            "filename": "turbopack/crates/turbopack-ecmascript/src/static_code.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fstatic_code.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fstatic_code.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fstatic_code.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,4 +1,4 @@\n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use turbo_tasks::{ResolvedVc, Value, Vc};\n use turbo_tasks_fs::FileSystemPath;\n use turbopack_core::{"
        },
        {
            "sha": "e64ff72be7bc962b77d0666f1c5884f0b933d2e9",
            "filename": "turbopack/crates/turbopack-ecmascript/src/swc_comments.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fswc_comments.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fswc_comments.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fswc_comments.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -4,8 +4,8 @@ use rustc_hash::FxHashMap;\n use swc_core::{\n     base::SwcComments,\n     common::{\n-        comments::{Comment, CommentKind, Comments},\n         BytePos,\n+        comments::{Comment, CommentKind, Comments},\n     },\n };\n "
        },
        {
            "sha": "25d360554472fb940988745a6114edbbb1b924d1",
            "filename": "turbopack/crates/turbopack-ecmascript/src/transform/mod.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftransform%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftransform%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftransform%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -4,9 +4,9 @@ use anyhow::Result;\n use async_trait::async_trait;\n use rustc_hash::FxHashMap;\n use swc_core::{\n-    atoms::{atom, Atom},\n+    atoms::{Atom, atom},\n     base::SwcComments,\n-    common::{comments::Comments, util::take::Take, Mark, SourceMap},\n+    common::{Mark, SourceMap, comments::Comments, util::take::Take},\n     ecma::{\n         ast::{Module, ModuleItem, Program, Script},\n         preset_env::{self, Targets},\n@@ -156,7 +156,7 @@ impl EcmascriptInputTransform {\n                             return Err(anyhow::anyhow!(\n                                 \"Invalid value for swc.jsc.transform.react.runtime: {}\",\n                                 runtime\n-                            ))\n+                            ));\n                         }\n                     }\n                 } else {\n@@ -278,7 +278,7 @@ impl EcmascriptInputTransform {\n                 // TODO(WEB-1213)\n                 use_define_for_class_fields: _use_define_for_class_fields,\n             } => {\n-                use swc_core::ecma::transforms::proposal::decorators::{decorators, Config};\n+                use swc_core::ecma::transforms::proposal::decorators::{Config, decorators};\n                 let config = Config {\n                     legacy: *is_legacy,\n                     emit_metadata: *emit_decorators_metadata,"
        },
        {
            "sha": "77d846db0bcf85016f935cf3f21ea4f1e5bfe08c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/asset.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fasset.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fasset.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fasset.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -10,24 +10,24 @@ use turbopack_core::{\n     module::Module,\n     module_graph::ModuleGraph,\n     reference::{ModuleReference, ModuleReferences, SingleChunkableModuleReference},\n-    resolve::{origin::ResolveOrigin, ModulePart},\n+    resolve::{ModulePart, origin::ResolveOrigin},\n };\n \n use super::{\n-    chunk_item::EcmascriptModulePartChunkItem, get_part_id, part_of_module, split, split_module,\n-    SplitResult,\n+    SplitResult, chunk_item::EcmascriptModulePartChunkItem, get_part_id, part_of_module, split,\n+    split_module,\n };\n use crate::{\n+    AnalyzeEcmascriptModuleResult, EcmascriptAnalyzable, EcmascriptModuleAsset,\n+    EcmascriptModuleAssetType, EcmascriptModuleContent, EcmascriptModuleContentOptions,\n+    EcmascriptParsable,\n     chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n     parse::ParseResult,\n     references::{\n-        analyse_ecmascript_module, esm::FoundExportType, follow_reexports, FollowExportsResult,\n+        FollowExportsResult, analyse_ecmascript_module, esm::FoundExportType, follow_reexports,\n     },\n     side_effect_optimization::facade::module::EcmascriptModuleFacadeModule,\n-    tree_shake::{side_effect_module::SideEffectsModule, Key},\n-    AnalyzeEcmascriptModuleResult, EcmascriptAnalyzable, EcmascriptModuleAsset,\n-    EcmascriptModuleAssetType, EcmascriptModuleContent, EcmascriptModuleContentOptions,\n-    EcmascriptParsable,\n+    tree_shake::{Key, side_effect_module::SideEffectsModule},\n };\n \n /// A reference to part of an ES module."
        },
        {
            "sha": "9576997c12095ba4351294c8182716d083d02583",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fchunk_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -10,6 +10,7 @@ use turbopack_core::{\n \n use super::asset::EcmascriptModulePartAsset;\n use crate::{\n+    EcmascriptAnalyzable,\n     chunk::{\n         EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkItemOptions,\n         EcmascriptChunkPlaceable, EcmascriptChunkType,\n@@ -18,7 +19,6 @@ use crate::{\n     runtime_functions::{TURBOPACK_EXPORT_NAMESPACE, TURBOPACK_IMPORT},\n     tree_shake::side_effect_module::SideEffectsModule,\n     utils::StringifyModuleId,\n-    EcmascriptAnalyzable,\n };\n \n /// This is an implementation of [ChunkItem] for"
        },
        {
            "sha": "cac42c7defd42ff08bcc4ed183f052219687a3a9",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/graph.rs",
            "status": "modified",
            "additions": 11,
            "deletions": 15,
            "changes": 26,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fgraph.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fgraph.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fgraph.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,36 +1,36 @@\n use std::{fmt, hash::Hash};\n \n use petgraph::{\n+    Direction, Graph,\n     algo::{condensation, has_path_connecting},\n     graph::NodeIndex,\n     graphmap::GraphMap,\n     prelude::DiGraphMap,\n     visit::EdgeRef,\n-    Direction, Graph,\n };\n use rustc_hash::{FxHashMap, FxHashSet};\n use swc_core::{\n-    common::{comments::Comments, util::take::Take, BytePos, Spanned, SyntaxContext, DUMMY_SP},\n+    common::{BytePos, DUMMY_SP, Spanned, SyntaxContext, comments::Comments, util::take::Take},\n     ecma::{\n         ast::{\n-            op, ClassDecl, Decl, DefaultDecl, EsReserved, ExportAll, ExportDecl,\n-            ExportNamedSpecifier, ExportSpecifier, Expr, ExprStmt, FnDecl, Id, Ident, IdentName,\n-            ImportDecl, ImportNamedSpecifier, ImportSpecifier, ImportStarAsSpecifier, KeyValueProp,\n-            Lit, Module, ModuleDecl, ModuleExportName, ModuleItem, NamedExport, ObjectLit, Prop,\n-            PropName, PropOrSpread, Stmt, Str, VarDecl, VarDeclKind, VarDeclarator,\n+            ClassDecl, Decl, DefaultDecl, EsReserved, ExportAll, ExportDecl, ExportNamedSpecifier,\n+            ExportSpecifier, Expr, ExprStmt, FnDecl, Id, Ident, IdentName, ImportDecl,\n+            ImportNamedSpecifier, ImportSpecifier, ImportStarAsSpecifier, KeyValueProp, Lit,\n+            Module, ModuleDecl, ModuleExportName, ModuleItem, NamedExport, ObjectLit, Prop,\n+            PropName, PropOrSpread, Stmt, Str, VarDecl, VarDeclKind, VarDeclarator, op,\n         },\n         atoms::Atom,\n-        utils::{find_pat_ids, private_ident, quote_ident, ExprCtx, ExprExt},\n+        utils::{ExprCtx, ExprExt, find_pat_ids, private_ident, quote_ident},\n     },\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::FxIndexSet;\n \n use super::{\n+    Key, TURBOPACK_PART_IMPORT_SOURCE,\n     util::{\n-        collect_top_level_decls, ids_captured_by, ids_used_by, ids_used_by_ignoring_nested, Vars,\n+        Vars, collect_top_level_decls, ids_captured_by, ids_used_by, ids_used_by_ignoring_nested,\n     },\n-    Key, TURBOPACK_PART_IMPORT_SOURCE,\n };\n use crate::{magic_identifier, tree_shake::optimizations::GraphOptimizer};\n \n@@ -1659,11 +1659,7 @@ pub(crate) fn create_turbopack_part_id_assert(dep: PartId) -> ObjectLit {\n                 PartId::Export(e) => format!(\"export {e}\").into(),\n                 PartId::Internal(dep, is_for_eval) => {\n                     let v = dep as f64;\n-                    if is_for_eval {\n-                        v\n-                    } else {\n-                        -v\n-                    }\n+                    if is_for_eval { v } else { -v }\n                 }\n                 .into(),\n             },"
        },
        {
            "sha": "ecde6bad578d39850bc081b5acab30edfacdb0b2",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/merge.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fmerge.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fmerge.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fmerge.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -5,7 +5,7 @@ use swc_core::ecma::{\n     atoms::Atom,\n };\n \n-use super::{graph::find_turbopack_part_id_in_asserts, PartId};\n+use super::{PartId, graph::find_turbopack_part_id_in_asserts};\n \n /// A loader used to merge module items after splitting.\n pub trait Load {"
        },
        {
            "sha": "3356c77228a8c49b065a00ab117960f6e27e8e5d",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/mod.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,9 +1,9 @@\n use std::fmt::Write;\n \n-use anyhow::{bail, Result};\n+use anyhow::{Result, bail};\n use rustc_hash::FxHashMap;\n use swc_core::{\n-    common::{comments::Comments, util::take::Take, SyntaxContext, DUMMY_SP, GLOBALS},\n+    common::{DUMMY_SP, GLOBALS, SyntaxContext, comments::Comments, util::take::Take},\n     ecma::{\n         ast::{\n             ExportAll, ExportNamedSpecifier, Expr, ExprStmt, Id, Ident, ImportDecl, Lit, Module,\n@@ -16,11 +16,11 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{FxIndexSet, ResolvedVc, ValueToString, Vc};\n use turbopack_core::{ident::AssetIdent, resolve::ModulePart, source::Source};\n \n+use self::graph::{DepGraph, ItemData, ItemId, ItemIdGroupKind, Mode, SplitModuleResult};\n pub(crate) use self::graph::{\n-    create_turbopack_part_id_assert, find_turbopack_part_id_in_asserts, PartId,\n+    PartId, create_turbopack_part_id_assert, find_turbopack_part_id_in_asserts,\n };\n-use self::graph::{DepGraph, ItemData, ItemId, ItemIdGroupKind, Mode, SplitModuleResult};\n-use crate::{analyzer::graph::EvalContext, parse::ParseResult, EcmascriptModuleAsset};\n+use crate::{EcmascriptModuleAsset, analyzer::graph::EvalContext, parse::ParseResult};\n \n pub mod asset;\n pub mod chunk_item;"
        },
        {
            "sha": "97d0ed5a34779f05af83990380e45598bd22cac2",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/optimizations.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Foptimizations.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Foptimizations.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Foptimizations.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use std::ops::Index;\n \n-use petgraph::{visit::EdgeRef, Direction, Graph};\n+use petgraph::{Direction, Graph, visit::EdgeRef};\n use rustc_hash::{FxHashMap, FxHashSet};\n use turbo_tasks::FxIndexSet;\n "
        },
        {
            "sha": "eb65dfc98652693d6759d8e58b4f8adef0d5c2a9",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/side_effect_module.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fside_effect_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fside_effect_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fside_effect_module.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -13,9 +13,9 @@ use turbopack_core::{\n };\n \n use crate::{\n+    EcmascriptModuleAsset,\n     chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n     tree_shake::chunk_item::SideEffectsModuleChunkItem,\n-    EcmascriptModuleAsset,\n };\n \n #[turbo_tasks::value]"
        },
        {
            "sha": "37c17df8325246b760b35d2b6cbe206f26b20db9",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/tests.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Ftests.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Ftests.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Ftests.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -3,24 +3,24 @@ use std::{collections::BTreeMap, fmt::Write, hash::Hash, path::PathBuf, sync::Ar\n use anyhow::Error;\n use serde::Deserialize;\n use swc_core::{\n-    common::{comments::SingleThreadedComments, util::take::Take, Mark, SourceMap, SyntaxContext},\n+    common::{Mark, SourceMap, SyntaxContext, comments::SingleThreadedComments, util::take::Take},\n     ecma::{\n         ast::{EsVersion, Id, Module},\n         atoms::Atom,\n         codegen::text_writer::JsWriter,\n-        parser::{parse_file_as_module, EsSyntax},\n+        parser::{EsSyntax, parse_file_as_module},\n         visit::VisitMutWith,\n     },\n-    testing::{self, fixture, NormalizedOutput},\n+    testing::{self, NormalizedOutput, fixture},\n };\n use turbo_tasks::FxIndexSet;\n \n use super::{\n+    Analyzer, Key,\n     graph::{\n         DepGraph, Dependency, InternedGraph, ItemId, ItemIdGroupKind, Mode, SplitModuleResult,\n     },\n     merge::Merger,\n-    Analyzer, Key,\n };\n \n #[fixture(\"tests/tree-shaker/analyzer/**/input.js\")]"
        },
        {
            "sha": "cbc01fc5de0ea2fec309794b47b3aadc9f07ad52",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/util.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Futil.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Futil.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Futil.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -8,7 +8,7 @@ use swc_core::{\n             Function, Id, Ident, ImportSpecifier, MemberExpr, MemberProp, NamedExport, Param, Pat,\n             Prop, PropName, VarDeclarator, *,\n         },\n-        visit::{noop_visit_type, Visit, VisitWith},\n+        visit::{Visit, VisitWith, noop_visit_type},\n     },\n };\n use turbo_tasks::FxIndexSet;"
        },
        {
            "sha": "493b81102e44d43d8ea45ae3c26de370ea5e0656",
            "filename": "turbopack/crates/turbopack-ecmascript/src/typescript/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftypescript%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftypescript%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftypescript%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -11,9 +11,9 @@ use turbopack_core::{\n     reference::{ModuleReference, ModuleReferences},\n     reference_type::{CommonJsReferenceSubType, ReferenceType},\n     resolve::{\n+        ModuleResolveResult,\n         origin::{ResolveOrigin, ResolveOriginExt},\n         parse::Request,\n-        ModuleResolveResult,\n     },\n     source::Source,\n };"
        },
        {
            "sha": "78f5e711ea4efde7569c2be42b903d58782517a1",
            "filename": "turbopack/crates/turbopack-ecmascript/src/utils.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Futils.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Futils.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Futils.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -6,7 +6,7 @@ use swc_core::{\n         visit::AstParentKind,\n     },\n };\n-use turbo_tasks::{trace::TraceRawVcs, NonLocalValue};\n+use turbo_tasks::{NonLocalValue, trace::TraceRawVcs};\n use turbopack_core::{chunk::ModuleId, resolve::pattern::Pattern};\n \n use crate::analyzer::{"
        },
        {
            "sha": "5d9b7ccb96a948f2f89353d48a9c4e8509f70970",
            "filename": "turbopack/crates/turbopack-ecmascript/src/webpack/mod.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Fmod.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -10,9 +10,10 @@ use turbopack_core::{\n     reference::{ModuleReference, ModuleReferences},\n     reference_type::{CommonJsReferenceSubType, ReferenceType},\n     resolve::{\n+        ModuleResolveResult, ModuleResolveResultItem,\n         origin::{ResolveOrigin, ResolveOriginExt},\n         parse::Request,\n-        resolve, ModuleResolveResult, ModuleResolveResultItem,\n+        resolve,\n     },\n     source::Source,\n };"
        },
        {
            "sha": "0142bf3e7777eb743ca260f916aaaf617818938c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/webpack/parse.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Fparse.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Fparse.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Fparse.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -17,10 +17,10 @@ use turbo_tasks_fs::FileSystemPath;\n use turbopack_core::source::Source;\n \n use crate::{\n-    analyzer::{graph::EvalContext, JsValue},\n-    parse::{parse, ParseResult},\n-    utils::unparen,\n     EcmascriptInputTransforms, EcmascriptModuleAssetType,\n+    analyzer::{JsValue, graph::EvalContext},\n+    parse::{ParseResult, parse},\n+    utils::unparen,\n };\n \n #[turbo_tasks::value(shared, serialization = \"none\")]"
        },
        {
            "sha": "2051191752be0d990af01e411faa00942028283c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/webpack/references.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Freferences.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Freferences.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fwebpack%2Freferences.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -1,6 +1,6 @@\n use anyhow::Result;\n use swc_core::{\n-    common::errors::{Handler, HANDLER},\n+    common::errors::{HANDLER, Handler},\n     ecma::{\n         ast::{CallExpr, Expr, ExprOrSpread},\n         visit::{Visit, VisitWith},\n@@ -13,10 +13,10 @@ use turbopack_core::{\n };\n use turbopack_swc_utils::emitter::IssueEmitter;\n \n-use super::{parse::WebpackRuntime, WebpackChunkAssetReference};\n+use super::{WebpackChunkAssetReference, parse::WebpackRuntime};\n use crate::{\n-    parse::{parse, ParseResult},\n     EcmascriptInputTransforms, EcmascriptModuleAssetType,\n+    parse::{ParseResult, parse},\n };\n \n #[turbo_tasks::function]"
        },
        {
            "sha": "05a738de5038feaae487f604e271fc6f0063ca76",
            "filename": "turbopack/crates/turbopack-ecmascript/src/worker_chunk/chunk_item.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fworker_chunk%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fworker_chunk%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fworker_chunk%2Fchunk_item.rs?ref=f9e78faee6e959a2bbc8891e3f7761d0d7d7dcb1",
            "patch": "@@ -4,20 +4,20 @@ use turbo_rcstr::RcStr;\n use turbo_tasks::{ResolvedVc, TryJoinIterExt, Value, Vc};\n use turbopack_core::{\n     chunk::{\n-        availability_info::AvailabilityInfo, ChunkData, ChunkItem, ChunkType, ChunkingContext,\n-        ChunkingContextExt, ChunksData,\n+        ChunkData, ChunkItem, ChunkType, ChunkingContext, ChunkingContextExt, ChunksData,\n+        availability_info::AvailabilityInfo,\n     },\n     ident::AssetIdent,\n     module::Module,\n-    module_graph::{chunk_group_info::ChunkGroup, ModuleGraph},\n+    module_graph::{ModuleGraph, chunk_group_info::ChunkGroup},\n     output::OutputAssets,\n };\n \n use super::module::WorkerLoaderModule;\n use crate::{\n     chunk::{\n-        data::EcmascriptChunkData, EcmascriptChunkItem, EcmascriptChunkItemContent,\n-        EcmascriptChunkType,\n+        EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkType,\n+        data::EcmascriptChunkData,\n     },\n     runtime_functions::{TURBOPACK_EXPORT_VALUE, TURBOPACK_WORKER_BLOB_URL},\n     utils::StringifyJs,"
        }
    ],
    "stats": {
        "total": 603,
        "additions": 296,
        "deletions": 307
    }
}