{
    "author": "sokra",
    "message": "Turbopack: fix side effects optimization bug (#77640)\n\n### What?\n\nthe local fragment need to reference evaluation references\n\nSo if importing local exports of a module that is flagged as side effect free it potentially need to run the side effects of imports (if they are not flagged as side effect free).",
    "sha": "5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
    "files": [
        {
            "sha": "225352b112cb4a32685270eca0e8107f6a105d86",
            "filename": "test/development/acceptance/ReactRefreshLogBox.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox.test.ts?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -180,8 +180,8 @@ describe('ReactRefreshLogBox', () => {\n              |       ^\",\n            \"stack\": [\n              \"[project]/index.js [ssr] (ecmascript) index.js (3:7)\",\n-             \"<FIXME-next-dist-dir>\",\n-             \"<FIXME-next-dist-dir>\",\n+             \"[project]/pages/index.js [ssr] (ecmascript) <module evaluation> pages/index.js (1:1)\",\n+             \"[project]/pages/index.js [ssr] (ecmascript) pages/index.js (1:1)\",\n              \"<FIXME-next-dist-dir>\",\n            ],\n          }"
        },
        {
            "sha": "fb502a5183f0cdf0e24276b037c54a305291ef8c",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -276,6 +276,7 @@ impl AnalyzeEcmascriptModuleResultBuilder {\n     /// If you're unsure about which function to use, use `add_reference()`\n     pub fn add_esm_evaluation_reference(&mut self, idx: usize) {\n         self.esm_references.insert(idx);\n+        self.esm_local_references.insert(idx);\n         self.esm_evaluation_references.insert(idx);\n     }\n "
        },
        {
            "sha": "371cacd646dcde648c4d796fc04794319afca88e",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/index.js",
            "status": "modified",
            "additions": 20,
            "deletions": 4,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Findex.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -1,3 +1,20 @@\n+import {\n+  a as a0,\n+  b as b0,\n+  c as c0,\n+  d as d0,\n+  e as e0,\n+  def as def0,\n+} from \"package-named\";\n+it(\"should optimize named reexports from side effect free module\", () => {\n+  expect(a0).toBe(\"a\");\n+  expect(b0).toBe(\"b\");\n+  expect(c0).toBe(\"x\");\n+  expect(d0).toBe(\"y\");\n+  expect(e0).toBe(\"x\");\n+  expect(def0).toBe(\"default\");\n+});\n+\n import {\n   a as a1,\n   b as b1,\n@@ -7,8 +24,8 @@ import {\n   local as local1,\n   default as default1,\n   def as def1,\n-} from \"package-named\";\n-it(\"should optimize named reexports from side effect free module\", () => {\n+} from \"package-named-local\";\n+it(\"should optimize named reexports with locals from side effect free module\", () => {\n   expect(a1).toBe(\"a\");\n   expect(b1).toBe(\"b\");\n   expect(c1).toBe(\"x\");\n@@ -19,11 +36,10 @@ it(\"should optimize named reexports from side effect free module\", () => {\n   expect(def1).toBe(\"default\");\n });\n \n-import { a as a2, b as b2, local as local2 } from \"package-star\";\n+import { a as a2, b as b2 } from \"package-star\";\n it(\"should optimize star reexports from side effect free module\", () => {\n   expect(a2).toBe(\"a\");\n   expect(b2).toBe(\"b\");\n-  expect(local2).toBe(\"local\");\n });\n \n import {"
        },
        {
            "sha": "9233cce2f0e1865e70253e51dc5369c3c11cb49f",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/a.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fa.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fa.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fa.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1 @@\n+export const a = \"a\";"
        },
        {
            "sha": "79044b663db8bb815f7e60c8f256f8f8d682416a",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/b.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fb.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fb.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fb.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,2 @@\n+const myB = \"b\";\n+export { myB as b };"
        },
        {
            "sha": "17e060e96f9f21434aae009fb58a4a5a4a0931b6",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/default.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fdefault.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fdefault.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fdefault.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1 @@\n+export default \"default\";"
        },
        {
            "sha": "cf8203e5ada104b87c6e2a62f912d8378f38c903",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/index.js",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Findex.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,12 @@\n+export { notCompiled } from \"./not-compiled.js\";\n+export { notExecuted } from \"./not-executed.js\";\n+export * from \"./not-compiled.js\";\n+export * from \"./not-executed.js\";\n+export { a } from \"./a.js\";\n+export { b } from \"./b.js\";\n+export { x as c } from \"./x.js\";\n+export { y as d } from \"./y.js\";\n+export { x as e } from \"./y.js\";\n+export { default as def } from \"./default.js\";\n+export const local = \"local\";\n+export default \"local-default\";"
        },
        {
            "sha": "850b713f4687f8133a287426720550a1ad896771",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/not-compiled.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fnot-compiled.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fnot-compiled.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fnot-compiled.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1 @@\n+)))"
        },
        {
            "sha": "d7651bb289d5d9dbc4c403f3bf467b8670732b16",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/not-executed.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fnot-executed.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fnot-executed.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fnot-executed.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1 @@\n+throw new Error(\"Module should not be executed\");"
        },
        {
            "sha": "a43829151e1423f0641beb1f114773f1c67fda72",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/package.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fpackage.json?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"sideEffects\": false\n+}"
        },
        {
            "sha": "985ed7b9d82e5a7c0684c3d2da3d95777cc5bf96",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/x.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fx.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fx.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fx.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1 @@\n+export const x = \"x\";"
        },
        {
            "sha": "7e92113032c4c04c04f8effbdda2a513c871f434",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named-local/y.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fy.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fy.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named-local%2Fy.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,3 @@\n+export * from \"./x.js\";\n+\n+export const y = \"y\";"
        },
        {
            "sha": "2607288865a3307776f737754674c619b733395f",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-named/index.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-named%2Findex.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -10,5 +10,3 @@ export { x as c } from \"./x.js\";\n export { y as d } from \"./y.js\";\n export { x as e } from \"./y.js\";\n export { default as def } from \"./default.js\";\n-export const local = \"local\";\n-export default \"local-default\";"
        },
        {
            "sha": "a9932284c5cf465656f31e7352da6d7137b73813",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/basic/input/node_modules/package-star/index.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-star%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-star%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fbasic%2Finput%2Fnode_modules%2Fpackage-star%2Findex.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -1,5 +1,4 @@\n export { notCompiled } from \"./not-compiled.js\";\n-export { notExisting } from \"./not-existing.js\";\n export { notExecuted } from \"./not-executed.js\";\n export * from \"./not-executed.js\";\n export * from \"./a.js\";"
        },
        {
            "sha": "dab6b80b1bce262be2f232693ec3699a7c1c4c43",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/follow-keeps-side-effect/input/index.js",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Findex.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,5 @@\n+import getValue from \"./reexport.js\";\n+\n+it(\"should not optimize away side effects\", () => {\n+  expect(getValue()).toBe(42);\n+});"
        },
        {
            "sha": "ad9f3bdb826df3eb4cd5d47e0ac54e5859b98375",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/follow-keeps-side-effect/input/package.json",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Fpackage.json?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"sideEffects\": [\n+    \"./index.js\",\n+    \"./valueSetter.js\"\n+  ]\n+}"
        },
        {
            "sha": "43e26e14878b6a03980a624b437436f6f37f3dd2",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/follow-keeps-side-effect/input/reexport.js",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Freexport.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Freexport.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2Freexport.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,7 @@\n+import { value } from \"./valueSetter.js\";\n+\n+export { value } from \"./valueSetter.js\";\n+\n+export default () => {\n+    return value\n+}"
        },
        {
            "sha": "d31ec4e34e2b8e8d70258784ef8a5d119b1da151",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/follow-keeps-side-effect/input/valueContainer.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2FvalueContainer.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2FvalueContainer.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2FvalueContainer.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,4 @@\n+export let value = undefined;\n+export function setValue(newValue) {\n+    value = newValue;\n+}"
        },
        {
            "sha": "3d64dab93fd07ab598d4f020d69e3d31b5ce4781",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/follow-keeps-side-effect/input/valueSetter.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2FvalueSetter.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2FvalueSetter.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Finput%2FvalueSetter.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,3 @@\n+import { setValue } from \"./valueContainer.js\";\n+setValue(42);\n+export * from \"./valueContainer.js\";"
        },
        {
            "sha": "af13697f09f935e9c18c212c95296a9187fde3eb",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/follow-keeps-side-effect/options.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Ffollow-keeps-side-effect%2Foptions.json?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"treeShakingMode\": \"reexports-only\"\n+}"
        },
        {
            "sha": "69c69a74041e1d6d203619b7d87de68e16170aab",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/tree-shaking/follow-keeps-side-effect/input/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Ftree-shaking%2Ffollow-keeps-side-effect%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Ftree-shaking%2Ffollow-keeps-side-effect%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Ftree-shaking%2Ffollow-keeps-side-effect%2Finput%2Findex.js?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1 @@\n+import \"../../../side-effects-optimization/follow-keeps-side-effect/input/index.js\";"
        },
        {
            "sha": "000d78a6b3cbbc7dcf47535adef096194689fc10",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/tree-shaking/follow-keeps-side-effect/options.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Ftree-shaking%2Ffollow-keeps-side-effect%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Ftree-shaking%2Ffollow-keeps-side-effect%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Ftree-shaking%2Ffollow-keeps-side-effect%2Foptions.json?ref=5ad7b1f86c1acc5ef4dc6683da39bca6f68529bf",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"treeShakingMode\": \"module-fragments\"\n+}"
        }
    ],
    "stats": {
        "total": 89,
        "additions": 80,
        "deletions": 9
    }
}