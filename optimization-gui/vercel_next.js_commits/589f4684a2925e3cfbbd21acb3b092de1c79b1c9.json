{
    "author": "timneutkens",
    "message": "Docs: Mention npm link with Turbopack root (#86075)\n\n## What?\n\nMention `npm link` case for the Turbopack root for when the package is\noutside of the project directory.\n\nBased on feedback here:\nhttps://x.com/stevenaharrison/status/1988781488738070962.\n\n---------\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "589f4684a2925e3cfbbd21acb3b092de1c79b1c9",
    "files": [
        {
            "sha": "a260fc2aa8ce7c9cab71b7a12dbf63e8b5de3eca",
            "filename": "docs/01-app/03-api-reference/05-config/01-next-config-js/turbopack.mdx",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/589f4684a2925e3cfbbd21acb3b092de1c79b1c9/docs%2F01-app%2F03-api-reference%2F05-config%2F01-next-config-js%2Fturbopack.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/589f4684a2925e3cfbbd21acb3b092de1c79b1c9/docs%2F01-app%2F03-api-reference%2F05-config%2F01-next-config-js%2Fturbopack.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F05-config%2F01-next-config-js%2Fturbopack.mdx?ref=589f4684a2925e3cfbbd21acb3b092de1c79b1c9",
            "patch": "@@ -98,6 +98,8 @@ If you have a loader that is critically dependent upon one of these features ple\n \n Turbopack uses the root directory to resolve modules. Files outside of the project root are not resolved.\n \n+The reason files are not resolved outside of the project root is to improve cache validation, reduce filesystem watching overhead, and reduce the number of resolving steps needed.\n+\n Next.js automatically detects the root directory of your project. It does so by looking for one of these files:\n \n - `pnpm-lock.yaml`\n@@ -117,6 +119,10 @@ module.exports = {\n }\n ```\n \n+To resolve files from linked dependencies outside the project root (via `npm link`, `yarn link`, `pnpm link`, etc.), you must configure the `turbopack.root` to the parent directory of both the project and the linked dependencies.\n+\n+While this expands the scope of filesystem watching, it's typically only necessary during development when actively working on linked packages.\n+\n ### Configuring webpack loaders\n \n If you need loader support beyond what's built in, many webpack loaders already work with Turbopack. There are currently some limitations:"
        },
        {
            "sha": "3b6a949daf4404b6a3e10473d827442c2ef8f428",
            "filename": "docs/01-app/03-api-reference/08-turbopack.mdx",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/589f4684a2925e3cfbbd21acb3b092de1c79b1c9/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/589f4684a2925e3cfbbd21acb3b092de1c79b1c9/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx?ref=589f4684a2925e3cfbbd21acb3b092de1c79b1c9",
            "patch": "@@ -110,6 +110,14 @@ Turbopack in Next.js has **zero-configuration** for the common use cases. Below\n \n There are a number of non-trivial behavior differences between webpack and Turbopack that are important to be aware of when migrating an application. Generally, these are less of a concern for new applications.\n \n+### Filesystem Root\n+\n+Turbopack uses the root directory to resolve modules. Files outside of the project root are not resolved.\n+\n+For example, when linking dependencies outside the project root (via `npm link`, `yarn link`, `pnpm link`, etc.), those linked files will not be resolved by default. To resolve these files, you must configure the root option to the parent directory of both the project and the linked dependencies.\n+\n+You can configure the filesystem root using [turbopack.root](/docs/app/api-reference/config/next-config-js/turbopack#root-directory) option in `next.config.js`.\n+\n ### CSS Module Ordering\n \n Turbopack will follow JS import order to order [CSS modules](/docs/app/getting-started/css#css-modules) which are not otherwise ordered. For example:"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 14,
        "deletions": 0
    }
}