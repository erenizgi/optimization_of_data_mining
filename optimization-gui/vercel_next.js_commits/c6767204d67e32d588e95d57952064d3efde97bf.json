{
    "author": "eps1lon",
    "message": "[test] Ignore in deploy tests if a child process isn't available (#85636)\n\nBecause deploy tests won't have access to the child process.",
    "sha": "c6767204d67e32d588e95d57952064d3efde97bf",
    "files": [
        {
            "sha": "0bedc822af01b0c3342ae45c9db5c5bbd2f669a9",
            "filename": "test/lib/next-modes/next-deploy.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/c6767204d67e32d588e95d57952064d3efde97bf/test%2Flib%2Fnext-modes%2Fnext-deploy.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c6767204d67e32d588e95d57952064d3efde97bf/test%2Flib%2Fnext-modes%2Fnext-deploy.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-modes%2Fnext-deploy.ts?ref=c6767204d67e32d588e95d57952064d3efde97bf",
            "patch": "@@ -16,6 +16,22 @@ export class NextDeployInstance extends NextInstance {\n   private _buildId: string\n   private _writtenHostsLine: string | null = null\n \n+  protected throwIfUnavailable(): void | never {\n+    if (this.isStopping !== null) {\n+      throw new Error('Next.js is no longer available.', {\n+        cause: this.isStopping,\n+      })\n+    }\n+    if (this.isDestroyed !== null) {\n+      throw new Error('Next.js is no longer available.', {\n+        cause: this.isDestroyed,\n+      })\n+    }\n+    if (this.childProcess === undefined) {\n+      // deploy tests don't have access to the process\n+    }\n+  }\n+\n   public get buildId() {\n     // get deployment ID via fetch since we can't access\n     // build artifacts directly"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 16,
        "deletions": 0
    }
}