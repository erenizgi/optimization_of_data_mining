{
    "author": "Cy-Tek",
    "message": "fix(turbopack) Adjust tree loader to respect parent module overrides (#81139)\n\n## Fix not-found page inheritance in nested layouts\n\n### What?\nThis PR fixes an issue where custom not-found pages weren't properly\ninherited in nested layouts. Previously, when a page within a route\ngroup threw a `notFound()` error, it wouldn't correctly use the group's\ncustom not-found page if there was also a custom layout.\n\n### How?\n- Added a new `check_and_update_module_references` helper function to\nmanage module inheritance\n- Implemented proper parent-child relationship for special pages\n(not-found, forbidden, unauthorized, global-error)\n- Added test cases for not-found pages with nested layouts and route\ngroups\n- Ensured custom not-found pages are properly rendered when notFound()\nis thrown from pages in nested layouts\n\nFixes #PACK-4496",
    "sha": "5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
    "files": [
        {
            "sha": "fe05195e36ff7bedea737050981b703d53491a55",
            "filename": "crates/next-core/src/app_structure.rs",
            "status": "modified",
            "additions": 67,
            "deletions": 29,
            "changes": 96,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -853,12 +853,45 @@ async fn directory_tree_to_loader_tree(\n         plain_tree,\n         app_page,\n         for_app_path,\n+        AppDirModules::default(),\n     )\n     .await?;\n \n     Ok(Vc::cell(tree.map(AppPageLoaderTree::resolved_cell)))\n }\n \n+/// Checks the current module if it needs to be updated with the default page.\n+/// If the module is already set, update the parent module to the same value.\n+/// If the parent module is set and module is not set, set the module to the parent module.\n+/// If the module and the parent module are not set, set them to the default value.\n+///\n+/// # Arguments\n+/// * `app_dir` - The application directory.\n+/// * `module` - The current module to check and update if it is not set.\n+/// * `parent_module` - The parent module to update if the current module is set or both are not\n+///   set.\n+/// * `file_path` - The file path to the default page if neither the current module nor the parent\n+///   module is set.\n+async fn check_and_update_module_references(\n+    app_dir: FileSystemPath,\n+    module: &mut Option<FileSystemPath>,\n+    parent_module: &mut Option<FileSystemPath>,\n+    file_path: &str,\n+) -> Result<()> {\n+    match (module.as_mut(), parent_module.as_mut()) {\n+        (Some(module), _) => *parent_module = Some(module.clone()),\n+        (None, Some(parent_module)) => *module = Some(parent_module.clone()),\n+        (None, None) => {\n+            let default_page = get_next_package(app_dir.clone()).await?.join(file_path)?;\n+\n+            *module = Some(default_page.clone());\n+            *parent_module = Some(default_page);\n+        }\n+    }\n+\n+    Ok(())\n+}\n+\n async fn directory_tree_to_loader_tree_internal(\n     app_dir: FileSystemPath,\n     global_metadata: Vc<GlobalMetadata>,\n@@ -867,6 +900,7 @@ async fn directory_tree_to_loader_tree_internal(\n     app_page: AppPage,\n     // the page this loader tree is constructed for\n     for_app_path: AppPath,\n+    mut parent_modules: AppDirModules,\n ) -> Result<Option<AppPageLoaderTree>> {\n     let app_path = AppPath::from(app_page.clone());\n \n@@ -887,34 +921,37 @@ async fn directory_tree_to_loader_tree_internal(\n     let is_root_layout = app_path.is_root() && modules.layout.is_some();\n \n     if is_root_directory || is_root_layout {\n-        if modules.not_found.is_none() {\n-            modules.not_found = Some(\n-                get_next_package(app_dir.clone())\n-                    .await?\n-                    .join(\"dist/client/components/builtin/not-found.js\")?,\n-            );\n-        }\n-        if modules.forbidden.is_none() {\n-            modules.forbidden = Some(\n-                get_next_package(app_dir.clone())\n-                    .await?\n-                    .join(\"dist/client/components/builtin/forbidden.js\")?,\n-            );\n-        }\n-        if modules.unauthorized.is_none() {\n-            modules.unauthorized = Some(\n-                get_next_package(app_dir.clone())\n-                    .await?\n-                    .join(\"dist/client/components/builtin/unauthorized.js\")?,\n-            );\n-        }\n-        if modules.global_error.is_none() {\n-            modules.global_error = Some(\n-                get_next_package(app_dir.clone())\n-                    .await?\n-                    .join(\"dist/client/components/builtin/global-error.js\")?,\n-            );\n-        }\n+        check_and_update_module_references(\n+            app_dir.clone(),\n+            &mut modules.not_found,\n+            &mut parent_modules.not_found,\n+            \"dist/client/components/builtin/not-found.js\",\n+        )\n+        .await?;\n+\n+        check_and_update_module_references(\n+            app_dir.clone(),\n+            &mut modules.forbidden,\n+            &mut parent_modules.forbidden,\n+            \"dist/client/components/builtin/forbidden.js\",\n+        )\n+        .await?;\n+\n+        check_and_update_module_references(\n+            app_dir.clone(),\n+            &mut modules.unauthorized,\n+            &mut parent_modules.unauthorized,\n+            \"dist/client/components/builtin/unauthorized.js\",\n+        )\n+        .await?;\n+\n+        check_and_update_module_references(\n+            app_dir.clone(),\n+            &mut modules.global_error,\n+            &mut parent_modules.global_error,\n+            \"dist/client/components/builtin/global-error.js\",\n+        )\n+        .await?;\n     }\n \n     let mut tree = AppPageLoaderTree {\n@@ -977,6 +1014,7 @@ async fn directory_tree_to_loader_tree_internal(\n             subdirectory,\n             child_app_page.clone(),\n             for_app_path.clone(),\n+            parent_modules.clone(),\n         ))\n         .await?;\n \n@@ -1353,7 +1391,7 @@ async fn directory_tree_to_entrypoints_internal_untraced(\n             },\n             global_metadata,\n         }\n-        .resolved_cell();\n+            .resolved_cell();\n \n         {\n             let app_page = app_page"
        },
        {
            "sha": "8bcc35bc66c65eb2b570cd6561c2d40164732721",
            "filename": "test/e2e/app-dir/not-found-with-layout-and-group-not-found/app/(main)/layout.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Flayout.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,3 @@\n+export default function MainLayout({ children }) {\n+  return <>{children}</>\n+}"
        },
        {
            "sha": "8a78cfb0e275579bf72505311d0d6ab02462ecc1",
            "filename": "test/e2e/app-dir/not-found-with-layout-and-group-not-found/app/(main)/not-found.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Fnot-found.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Fnot-found.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Fnot-found.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,3 @@\n+export default function NotFound() {\n+  return <h1 id=\"not-found-heading\">Group Not Found Page</h1>\n+}"
        },
        {
            "sha": "3a2a76160f27acf620808b1bc92a6bfa0f8dd030",
            "filename": "test/e2e/app-dir/not-found-with-layout-and-group-not-found/app/(main)/page.js",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2F(main)%2Fpage.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,5 @@\n+import { notFound } from 'next/navigation'\n+\n+export default function Home() {\n+  notFound()\n+}"
        },
        {
            "sha": "6d7e1ed585862084bbcead3642e23690d53bd1fd",
            "filename": "test/e2e/app-dir/not-found-with-layout-and-group-not-found/app/layout.js",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2Flayout.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,8 @@\n+export default function RootLayout({ children }) {\n+  return (\n+    <html>\n+      <head />\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "4dd12168d0661c13c9a58d34809a7ef0b40e0926",
            "filename": "test/e2e/app-dir/not-found-with-layout-and-group-not-found/app/not-found.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2Fnot-found.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2Fnot-found.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Fapp%2Fnot-found.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,3 @@\n+export default function NotFound() {\n+  return <h1 id=\"not-found-heading\">Root Not Found Page</h1>\n+}"
        },
        {
            "sha": "9bdd2811cb9c68938c60d8bddf9bcf25f5fe2aec",
            "filename": "test/e2e/app-dir/not-found-with-layout-and-group-not-found/index.test.ts",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-layout-and-group-not-found%2Findex.test.ts?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,20 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { assertNoRedbox } from 'next-test-utils'\n+\n+describe('app dir - not found with nested layouts and custom not-found', () => {\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should render the custom not-found page when notFound() is thrown from a page within the group', async () => {\n+    const browser = await next.browser('/')\n+    await assertNoRedbox(browser)\n+    const heading = await browser.elementByCss('h1#not-found-heading')\n+    expect(await heading.text()).toBe('Group Not Found Page')\n+  })\n+})"
        },
        {
            "sha": "8bcc35bc66c65eb2b570cd6561c2d40164732721",
            "filename": "test/e2e/app-dir/not-found-with-nested-layouts/app/(main)/layout.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2F(main)%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2F(main)%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2F(main)%2Flayout.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,3 @@\n+export default function MainLayout({ children }) {\n+  return <>{children}</>\n+}"
        },
        {
            "sha": "3a2a76160f27acf620808b1bc92a6bfa0f8dd030",
            "filename": "test/e2e/app-dir/not-found-with-nested-layouts/app/(main)/page.js",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2F(main)%2Fpage.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2F(main)%2Fpage.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2F(main)%2Fpage.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,5 @@\n+import { notFound } from 'next/navigation'\n+\n+export default function Home() {\n+  notFound()\n+}"
        },
        {
            "sha": "6d7e1ed585862084bbcead3642e23690d53bd1fd",
            "filename": "test/e2e/app-dir/not-found-with-nested-layouts/app/layout.js",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2Flayout.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2Flayout.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2Flayout.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,8 @@\n+export default function RootLayout({ children }) {\n+  return (\n+    <html>\n+      <head />\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "5f3843718e0165d8eca6852cea629d25296b48d6",
            "filename": "test/e2e/app-dir/not-found-with-nested-layouts/app/not-found.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2Fnot-found.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2Fnot-found.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Fapp%2Fnot-found.js?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,3 @@\n+export default function NotFound() {\n+  return <h1 id=\"not-found-heading\">Custom Not Found Page</h1>\n+}"
        },
        {
            "sha": "cf0ba5eaf415db61b41e4e352f329ed5a1d891f4",
            "filename": "test/e2e/app-dir/not-found-with-nested-layouts/index.test.ts",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnot-found-with-nested-layouts%2Findex.test.ts?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -0,0 +1,20 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { assertNoRedbox } from 'next-test-utils'\n+\n+describe('app dir - not found with nested layouts', () => {\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should render the custom not-found page when notFound() is thrown from a page', async () => {\n+    const browser = await next.browser('/')\n+    await assertNoRedbox(browser)\n+    const heading = await browser.elementByCss('h1#not-found-heading')\n+    expect(await heading.text()).toBe('Custom Not Found Page')\n+  })\n+})"
        },
        {
            "sha": "c50840b92d1370e24eb0eaf62257f7a5d85f3f71",
            "filename": "test/turbopack-build-tests-manifest.json",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fturbopack-build-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fturbopack-build-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fturbopack-build-tests-manifest.json?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -3841,6 +3841,24 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n+  \"test/e2e/app-dir/not-found-with-layout-and-group-not-found/index.test.ts\": {\n+    \"passed\": [\n+      \"app dir - not found with nested layouts and custom not-found should render the custom not-found page when notFound() is thrown from a page within the group\"\n+    ],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n+  \"test/e2e/app-dir/not-found-with-nested-layouts/index.test.ts\": {\n+    \"passed\": [\n+      \"app dir - not found with nested layouts should render the custom not-found page when notFound() is thrown from a page\"\n+    ],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n   \"test/e2e/app-dir/not-found-with-pages-i18n/not-found-with-pages.test.ts\": {\n     \"passed\": [\n       \"not-found-with-pages should prefer the app router 404 over the pages router 404 when both are present\","
        },
        {
            "sha": "237405b914710e3c7d3126687b4f069081560ccc",
            "filename": "test/turbopack-dev-tests-manifest.json",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fturbopack-dev-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5248e1576632ea82d6f3cbc932ec73d1f6a401d6/test%2Fturbopack-dev-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fturbopack-dev-tests-manifest.json?ref=5248e1576632ea82d6f3cbc932ec73d1f6a401d6",
            "patch": "@@ -7684,6 +7684,24 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n+  \"test/e2e/app-dir/not-found-with-layout-and-group-not-found/index.test.ts\": {\n+    \"passed\": [\n+      \"app dir - not found with nested layouts and custom not-found should render the custom not-found page when notFound() is thrown from a page within the group\"\n+    ],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n+  \"test/e2e/app-dir/not-found-with-nested-layouts/index.test.ts\": {\n+    \"passed\": [\n+      \"app dir - not found with nested layouts should render the custom not-found page when notFound() is thrown from a page\"\n+    ],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n   \"test/e2e/app-dir/not-found-with-pages-i18n/not-found-with-pages.test.ts\": {\n     \"passed\": [\n       \"not-found-with-pages should prefer the app router 404 over the pages router 404 when both are present\""
        }
    ],
    "stats": {
        "total": 213,
        "additions": 184,
        "deletions": 29
    }
}