{
    "author": "ijjk",
    "message": "Ensure deploymentId is used for CSS preloads (#77210)\n\nThis just ensures we use the deployment ID if configured for preload CSS\nlinks.\n\nx-ref: [slack\nthread](https://vercel.slack.com/archives/C03S8ED1DKM/p1742146672858189)",
    "sha": "e0abc5d2fa63b4da07e326815aab8927d072ec4c",
    "files": [
        {
            "sha": "fdbbe726296ce19699893e2666413a8518efade7",
            "filename": "packages/next/src/shared/lib/lazy-dynamic/preload-chunks.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e0abc5d2fa63b4da07e326815aab8927d072ec4c/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-chunks.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/e0abc5d2fa63b4da07e326815aab8927d072ec4c/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-chunks.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-chunks.tsx?ref=e0abc5d2fa63b4da07e326815aab8927d072ec4c",
            "patch": "@@ -37,10 +37,14 @@ export function PreloadChunks({\n     return null\n   }\n \n+  const dplId = process.env.NEXT_DEPLOYMENT_ID\n+    ? `?dpl=${process.env.NEXT_DEPLOYMENT_ID}`\n+    : ''\n+\n   return (\n     <>\n       {allFiles.map((chunk) => {\n-        const href = `${workStore.assetPrefix}/_next/${encodeURIPath(chunk)}`\n+        const href = `${workStore.assetPrefix}/_next/${encodeURIPath(chunk)}${dplId}`\n         const isCss = chunk.endsWith('.css')\n         // If it's stylesheet we use `precedence` o help hoist with React Float.\n         // For stylesheets we actually need to render the CSS because nothing else is going to do it so it needs to be part of the component tree."
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}