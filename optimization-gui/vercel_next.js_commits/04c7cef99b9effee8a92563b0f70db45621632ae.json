{
    "author": "CarloQuick",
    "message": "[docs] fix(with-supabase): Update README env variables (#84745)\n\nCloses #84734\n\nFixes environmental variable names in `with-supabase` example README to\nmatch the actual `.env.example` file.\n\nUpdates `NEXT_PUBLIC_SUPABASE_ANON_KEY` to\n`NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY` in two locations.\n\n---------\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "04c7cef99b9effee8a92563b0f70db45621632ae",
    "files": [
        {
            "sha": "91cdb14f9f95f68e8dcdf2132f72f2dcb0cf6e62",
            "filename": "examples/with-supabase/.env.example",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2F.env.example",
            "raw_url": "https://github.com/vercel/next.js/raw/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2F.env.example",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-supabase%2F.env.example?ref=04c7cef99b9effee8a92563b0f70db45621632ae",
            "patch": "@@ -1,4 +1,4 @@\n # Update these with your Supabase details from your project settings > API\n # https://app.supabase.com/project/_/settings/api\n NEXT_PUBLIC_SUPABASE_URL=your-project-url\n-NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=your-anon-key\n+NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-publishable-or-anon-key"
        },
        {
            "sha": "2b2d80c36396c0488834b3a0e5fa1a10f1715fb9",
            "filename": "examples/with-supabase/README.md",
            "status": "modified",
            "additions": 10,
            "deletions": 6,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2FREADME.md",
            "raw_url": "https://github.com/vercel/next.js/raw/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2FREADME.md",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-supabase%2FREADME.md?ref=04c7cef99b9effee8a92563b0f70db45621632ae",
            "patch": "@@ -75,12 +75,16 @@ If you wish to just develop locally and not deploy to Vercel, [follow the steps\n \n 4. Rename `.env.example` to `.env.local` and update the following:\n \n-   ```\n-   NEXT_PUBLIC_SUPABASE_URL=[INSERT SUPABASE PROJECT URL]\n-   NEXT_PUBLIC_SUPABASE_ANON_KEY=[INSERT SUPABASE PROJECT API ANON KEY]\n-   ```\n-\n-   Both `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY` can be found in [your Supabase project's API settings](https://supabase.com/dashboard/project/_?showConnect=true)\n+  ```env\n+  NEXT_PUBLIC_SUPABASE_URL=[INSERT SUPABASE PROJECT URL]\n+  NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=[INSERT SUPABASE PROJECT API PUBLISHABLE OR ANON KEY]\n+  ```\n+  > [!NOTE]\n+  > This example uses `NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY`, which refers to Supabase's new **publishable** key format.\n+  > Both legacy **anon** keys and new **publishable** keys can be used with this variable name during the transition period. Supabase's dashboard may show `NEXT_PUBLIC_SUPABASE_ANON_KEY`; its value can be used in this example.\n+  > See the [full announcement](https://github.com/orgs/supabase/discussions/29260) for more information.\n+\n+  Both `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY` can be found in [your Supabase project's API settings](https://supabase.com/dashboard/project/_?showConnect=true)\n \n 5. You can now run the Next.js local development server:\n "
        },
        {
            "sha": "e50bdf6889b8195c9b7a5daae9b5ff2d1a99b295",
            "filename": "examples/with-supabase/lib/supabase/client.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fclient.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fclient.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fclient.ts?ref=04c7cef99b9effee8a92563b0f70db45621632ae",
            "patch": "@@ -3,6 +3,6 @@ import { createBrowserClient } from \"@supabase/ssr\";\n export function createClient() {\n   return createBrowserClient(\n     process.env.NEXT_PUBLIC_SUPABASE_URL!,\n-    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY!,\n+    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!,\n   );\n }"
        },
        {
            "sha": "d00b6214fcbc29714449230772e377ca51f6c3c3",
            "filename": "examples/with-supabase/lib/supabase/middleware.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fmiddleware.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fmiddleware.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fmiddleware.ts?ref=04c7cef99b9effee8a92563b0f70db45621632ae",
            "patch": "@@ -17,7 +17,7 @@ export async function updateSession(request: NextRequest) {\n   // variable. Always create a new one on each request.\n   const supabase = createServerClient(\n     process.env.NEXT_PUBLIC_SUPABASE_URL!,\n-    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY!,\n+    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!,\n     {\n       cookies: {\n         getAll() {"
        },
        {
            "sha": "fc71fddc336d084787f6a69201a174e4db9227e9",
            "filename": "examples/with-supabase/lib/supabase/server.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fserver.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fserver.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-supabase%2Flib%2Fsupabase%2Fserver.ts?ref=04c7cef99b9effee8a92563b0f70db45621632ae",
            "patch": "@@ -11,7 +11,7 @@ export async function createClient() {\n \n   return createServerClient(\n     process.env.NEXT_PUBLIC_SUPABASE_URL!,\n-    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY!,\n+    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!,\n     {\n       cookies: {\n         getAll() {"
        },
        {
            "sha": "8173d3735c10c44ceb30d5a2485d41109e819a78",
            "filename": "examples/with-supabase/lib/utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/04c7cef99b9effee8a92563b0f70db45621632ae/examples%2Fwith-supabase%2Flib%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fwith-supabase%2Flib%2Futils.ts?ref=04c7cef99b9effee8a92563b0f70db45621632ae",
            "patch": "@@ -8,4 +8,4 @@ export function cn(...inputs: ClassValue[]) {\n // This check can be removed, it is just for tutorial purposes\n export const hasEnvVars =\n   process.env.NEXT_PUBLIC_SUPABASE_URL &&\n-  process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY;\n+  process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY;"
        }
    ],
    "stats": {
        "total": 26,
        "additions": 15,
        "deletions": 11
    }
}