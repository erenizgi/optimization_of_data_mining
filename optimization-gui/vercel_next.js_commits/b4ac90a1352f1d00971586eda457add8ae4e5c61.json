{
    "author": "devjiwonchoi",
    "message": "[test] Add esm and cjs testing for next-config-ts (#83134)\n\nSplit tests into ESM and CJS to ensure it works on both environments.\r\n\r\nThe changes are mostly:\r\n\r\n1. Split tests into two\r\n2. Add `-esm` and `-cjs` for each\r\n3. Add `packageJson: { type: 'module' }` to `-esm` test\r\n4. Renamed `tsconfig.json` -> `tsconfig.test.json`\r\n\r\nAdded more fixtures to test `import-from-node-modules`.\r\n\r\nx-ref: https://github.com/vercel/next.js/pull/83134/files#diff-1a4138af8d7d9ec956653ae76ede7eaa8b1f701931dc302f039fa4e770ef61afR3",
    "sha": "b4ac90a1352f1d00971586eda457add8ae4e5c61",
    "files": [
        {
            "sha": "e7077399c03ce1479a655dc647c0545b64531628",
            "filename": "test/e2e/app-dir/next-config-ts/async-function/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fapp%2Flayout.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/config-as-async-function/app/layout.tsx"
        },
        {
            "sha": "b5f92b56c02e4e66c6c1d8c6581c23763ccc3414",
            "filename": "test/e2e/app-dir/next-config-ts/async-function/app/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/config-as-async-function/app/page.tsx"
        },
        {
            "sha": "916b67c02cad48699f3ec031a14d02e89cda20f3",
            "filename": "test/e2e/app-dir/next-config-ts/async-function/async-function-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fasync-function-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fasync-function-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fasync-function-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-config-as-async-function', () => {\n+describe('next-config-ts-async-function-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should support config as async function', async () => {\n+  it('should support config as async function (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foo')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/config-as-async-function/index.test.ts"
        },
        {
            "sha": "108356160d34b7adf668022c0f6ad4e8a47f8b31",
            "filename": "test/e2e/app-dir/next-config-ts/async-function/async-function-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fasync-function-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fasync-function-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fasync-function-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-async-function-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support config as async function (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foo')\n+  })\n+})"
        },
        {
            "sha": "1c61877f6dccea6e9a61c34fb500733cfaeceb5b",
            "filename": "test/e2e/app-dir/next-config-ts/async-function/next.config.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fasync-function%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/config-as-async-function/next.config.ts"
        },
        {
            "sha": "1cdc9143c8e773e5f964bcb7336a81259361d040",
            "filename": "test/e2e/app-dir/next-config-ts/export-as-default/next-config-ts-export-as-default-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-as-default%2Fnext-config-ts-export-as-default-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-as-default%2Fnext-config-ts-export-as-default-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-as-default%2Fnext-config-ts-export-as-default-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-export-as-default', () => {\n+describe('next-config-ts-export-as-default-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should support export { x as default }', async () => {\n+  it('should support export as default (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foo')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/export-as-default/index.test.ts"
        },
        {
            "sha": "ff20fdca3d01c103f1487df4cca52162f41114cf",
            "filename": "test/e2e/app-dir/next-config-ts/export-as-default/next-config-ts-export-as-default-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-as-default%2Fnext-config-ts-export-as-default-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-as-default%2Fnext-config-ts-export-as-default-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-as-default%2Fnext-config-ts-export-as-default-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-export-as-default-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support export as default (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foo')\n+  })\n+})"
        },
        {
            "sha": "fefdb2c3f30a4f2453505c25581f8802ebfe06c3",
            "filename": "test/e2e/app-dir/next-config-ts/export-default/next-config-ts-export-default-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-default%2Fnext-config-ts-export-default-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-default%2Fnext-config-ts-export-default-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-default%2Fnext-config-ts-export-default-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-export-default', () => {\n+describe('next-config-ts-export-default-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should support export default { ... }', async () => {\n+  it('should support export default (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foo')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/export-default/index.test.ts"
        },
        {
            "sha": "ac5ba6276c479106c6ffd8062fbf404a1ffe6aaf",
            "filename": "test/e2e/app-dir/next-config-ts/export-default/next-config-ts-export-default-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-default%2Fnext-config-ts-export-default-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-default%2Fnext-config-ts-export-default-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fexport-default%2Fnext-config-ts-export-default-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-export-default-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support export default (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foo')\n+  })\n+})"
        },
        {
            "sha": "1fc11814f22e8055ad96dae288f9faf32b67c1d5",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/bar.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fbar.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fbar.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fbar.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-alias/bar.ts"
        },
        {
            "sha": "233248930402f98d6abe59c6fc199dba3a4aebd8",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/next-config-ts-import-alias-paths-only-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext-config-ts-import-alias-paths-only-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext-config-ts-import-alias-paths-only-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext-config-ts-import-alias-paths-only-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-import-from-node-modules', () => {\n+describe('next-config-ts-import-alias-paths-only-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should import from node_modules', async () => {\n+  it('should support import alias paths only (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foo')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/index.test.ts"
        },
        {
            "sha": "54a198156eef3331f8fb6032d5caadba92496dbb",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/next-config-ts-import-alias-paths-only-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext-config-ts-import-alias-paths-only-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext-config-ts-import-alias-paths-only-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext-config-ts-import-alias-paths-only-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-import-alias-paths-only-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support import alias paths only (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foo')\n+  })\n+})"
        },
        {
            "sha": "f454c8b9227d52e5bc9c2b713e346c31a16069b8",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/next.config.ts",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,10 @@\n+import type { NextConfig } from 'next'\n+import { foo } from '@/foo'\n+\n+const nextConfig: NextConfig = {\n+  env: {\n+    foo,\n+  },\n+}\n+\n+export default nextConfig"
        },
        {
            "sha": "e7077399c03ce1479a655dc647c0545b64531628",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/src/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Fapp%2Flayout.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-alias/src/app/layout.tsx"
        },
        {
            "sha": "b5f92b56c02e4e66c6c1d8c6581c23763ccc3414",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/src/app/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/node-api/app/page.tsx"
        },
        {
            "sha": "cb356468240d506ec494bbe2cdd8c46c20a50558",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/src/foo.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Ffoo.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Ffoo.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Fsrc%2Ffoo.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-alias/src/foo.ts"
        },
        {
            "sha": "02e1082105e79361ccab49b70458de8f25b6a33f",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-only/tsconfig.test.json",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Ftsconfig.test.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Ftsconfig.test.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-only%2Ftsconfig.test.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,8 @@\n+{\n+  \"compilerOptions\": {\n+    \"paths\": {\n+      // path should be relative when baseUrl is not set\n+      \"@/*\": [\"./src/*\"]\n+    }\n+  }\n+}"
        },
        {
            "sha": "1fc11814f22e8055ad96dae288f9faf32b67c1d5",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/bar.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fbar.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fbar.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fbar.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export const bar = 'bar'"
        },
        {
            "sha": "2e3b3b9cc01a1c817d9f0735b967ee310f65ef01",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/next-config-ts-import-alias-paths-with-baseurl-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext-config-ts-import-alias-paths-with-baseurl-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext-config-ts-import-alias-paths-with-baseurl-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext-config-ts-import-alias-paths-with-baseurl-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-import-alias', () => {\n+describe('next-config-ts-import-alias-paths-with-baseurl-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should support import alias', async () => {\n+  it('should support import alias paths with baseUrl (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foobar')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-alias/index.test.ts"
        },
        {
            "sha": "7103bded762793e122939ab45774aa91cfc6d0c4",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/next-config-ts-import-alias-paths-with-baseurl-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext-config-ts-import-alias-paths-with-baseurl-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext-config-ts-import-alias-paths-with-baseurl-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext-config-ts-import-alias-paths-with-baseurl-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-import-alias-paths-with-baseurl-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support import alias paths with baseUrl (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foobar')\n+  })\n+})"
        },
        {
            "sha": "32b00acc74b2f28d4e9a4b219cadbf2b7ad34666",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/next.config.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-alias/next.config.ts"
        },
        {
            "sha": "e7077399c03ce1479a655dc647c0545b64531628",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/src/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Fapp%2Flayout.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/node-api/app/layout.tsx"
        },
        {
            "sha": "a5bd27cb99b4d0adb94cd6f9d7953cbe247593ab",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/src/app/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-alias/src/app/page.tsx"
        },
        {
            "sha": "cb356468240d506ec494bbe2cdd8c46c20a50558",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/src/foo.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Ffoo.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Ffoo.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Fsrc%2Ffoo.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export const foo = 'foo'"
        },
        {
            "sha": "50991cbdd2197080de1449da7772b28e8ba6f2ad",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias-paths-with-baseurl/tsconfig.test.json",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Ftsconfig.test.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Ftsconfig.test.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias-paths-with-baseurl%2Ftsconfig.test.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,9 @@\n+{\n+  \"compilerOptions\": {\n+    \"paths\": {\n+      // path can be not relative when baseUrl is set\n+      \"@/*\": [\"src/*\"]\n+    },\n+    \"baseUrl\": \".\"\n+  }\n+}"
        },
        {
            "sha": "ca3f2dbd5e047e55cc406d013cd54407d7a8c3ea",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias/.gitignore",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias%2F.gitignore",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias%2F.gitignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias%2F.gitignore?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-!tsconfig.json"
        },
        {
            "sha": "1196830bda117014fa7cddb8092f2aa266bcc850",
            "filename": "test/e2e/app-dir/next-config-ts/import-alias/tsconfig.json",
            "status": "removed",
            "additions": 0,
            "deletions": 13,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias%2Ftsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-alias%2Ftsconfig.json?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1,13 +0,0 @@\n-/**\n- * comment\n- */\n-{\n-  \"compilerOptions\": {\n-    \"jsx\": \"preserve\",\n-    /* comment */\n-    \"baseUrl\": \".\",\n-    \"paths\": {\n-      \"@/*\": [\"./src/*\"] // comment\n-    }\n-  }\n-}"
        },
        {
            "sha": "e5ca1a77124e2b939b05914d2a9ca9745b823950",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/app/page.tsx",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,3 +1,12 @@\n export default function Page() {\n-  return <p>{process.env.foo}</p>\n+  return (\n+    <p>\n+      {JSON.stringify([\n+        process.env.cjs,\n+        process.env.mjs,\n+        process.env.jsCJS,\n+        process.env.jsESM,\n+      ])}\n+    </p>\n+  )\n }"
        },
        {
            "sha": "6cd6e0276e7caa95b3134387571230218bb71eb2",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/next-config-ts-import-from-node-modules-cjs.test.ts",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext-config-ts-import-from-node-modules-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext-config-ts-import-from-node-modules-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext-config-ts-import-from-node-modules-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,16 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-import-from-node-modules-cjs', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+  })\n+\n+  it('should import from node_modules (CJS)', async () => {\n+    const $ = await next.render$('/')\n+    const text = $('p').text()\n+    expect(text).toContain('cjs')\n+    expect(text).toContain('mjs')\n+    expect(text).toContain('jsCJS')\n+    expect(text).toContain('jsESM')\n+  })\n+})"
        },
        {
            "sha": "fbab63d0b0c8a90075f1b193e3dabb0b960b7e76",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/next-config-ts-import-from-node-modules-esm.test.ts",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext-config-ts-import-from-node-modules-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext-config-ts-import-from-node-modules-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext-config-ts-import-from-node-modules-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,19 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-import-from-node-modules-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should import from node_modules (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    const text = $('p').text()\n+    expect(text).toContain('cjs')\n+    expect(text).toContain('mjs')\n+    expect(text).toContain('jsCJS')\n+    expect(text).toContain('jsESM')\n+  })\n+})"
        },
        {
            "sha": "faf87caadb12e5fcd09dcea9511c0fb2db6fe6c6",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/next.config.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,9 +1,15 @@\n import type { NextConfig } from 'next'\n-import { foo } from 'foo'\n+import cjs from 'cjs'\n+import mjs from 'mjs'\n+import jsCJS from 'js-cjs'\n+import jsESM from 'js-esm'\n \n const nextConfig: NextConfig = {\n   env: {\n-    foo,\n+    cjs,\n+    mjs,\n+    jsCJS,\n+    jsESM,\n   },\n }\n "
        },
        {
            "sha": "011bde74737d04c2c40410a590f76e6a6509264f",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/cjs/index.cjs",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Findex.cjs",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Findex.cjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Findex.cjs?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+module.exports = 'cjs'"
        },
        {
            "sha": "443834d04c84c1a62bf236c6d98052555ec47ea1",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/cjs/index.d.ts",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Findex.d.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,2 @@\n+declare const cjs: string\n+export default cjs"
        },
        {
            "sha": "490dbe501c0eb0d81a8d8de778eab6388086b79d",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/cjs/package.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fcjs%2Fpackage.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"type\": \"commonjs\",\n+  \"main\": \"index.cjs\"\n+}"
        },
        {
            "sha": "45299b289360152e074775bfab27d8e96726e4c2",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/foo.js",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Ffoo.js",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Ffoo.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Ffoo.js?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-exports.foo = 'foo'"
        },
        {
            "sha": "828616938f8f9fe8c99ab35d39a02f3b4ec5e6ee",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/js-cjs/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-cjs%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-cjs%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-cjs%2Findex.js?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+module.exports = 'jsCJS'"
        },
        {
            "sha": "4aaa4a2388d533377fabe40476492f1b20d81efa",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/js-cjs/package.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-cjs%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-cjs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-cjs%2Fpackage.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"type\": \"commonjs\",\n+  \"main\": \"index.js\"\n+}"
        },
        {
            "sha": "93663ef708ac8be1ed3e91bf8c754cf92a6f3bb2",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/js-esm/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-esm%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-esm%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-esm%2Findex.js?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'jsESM'"
        },
        {
            "sha": "07aec65d5a4f318072e44bafd186b56a387d9f58",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/js-esm/package.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-esm%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-esm%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fjs-esm%2Fpackage.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"type\": \"module\",\n+  \"main\": \"index.js\"\n+}"
        },
        {
            "sha": "396adc75950033e5ebba375b2a205a045d200ff6",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/mjs/index.d.ts",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Findex.d.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,2 @@\n+declare const mjs: string\n+export default mjs"
        },
        {
            "sha": "e7b27c03ffc66b50cedbbed53422e05f3e83b09e",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/mjs/index.mjs",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Findex.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Findex.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Findex.mjs?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'mjs'"
        },
        {
            "sha": "d06c01d9b1a8b044536e03512c3fd2418d334ca3",
            "filename": "test/e2e/app-dir/next-config-ts/import-from-node-modules/node_modules/mjs/package.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-from-node-modules%2Fnode_modules%2Fmjs%2Fpackage.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"type\": \"commonjs\",\n+  \"main\": \"index.mjs\"\n+}"
        },
        {
            "sha": "e7077399c03ce1479a655dc647c0545b64531628",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fapp%2Flayout.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/app/layout.tsx"
        },
        {
            "sha": "3ed1e8d2583a5d152830042d9a0a0d3e873af0ac",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/app/page.tsx",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -2,12 +2,12 @@ export default function Page() {\n   return (\n     <p>\n       {JSON.stringify([\n+        process.env.js,\n         process.env.cjs,\n         process.env.mjs,\n         process.env.cts,\n         process.env.mts,\n         process.env.ts,\n-        process.env.esm,\n       ])}\n     </p>\n   )",
            "previous_filename": "test/e2e/app-dir/next-config-ts/pkg-module/app/page.tsx"
        },
        {
            "sha": "011bde74737d04c2c40410a590f76e6a6509264f",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/fixtures/cjs.cjs",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fcjs.cjs",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fcjs.cjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fcjs.cjs?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+module.exports = 'cjs'"
        },
        {
            "sha": "5bd85fa82d56a360480bde7d03ae70516488627b",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/fixtures/cts.cts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fcts.cts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fcts.cts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fcts.cts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'cts'"
        },
        {
            "sha": "828616938f8f9fe8c99ab35d39a02f3b4ec5e6ee",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/fixtures/js-cjs.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fjs-cjs.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fjs-cjs.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fjs-cjs.js?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+module.exports = 'jsCJS'"
        },
        {
            "sha": "e7b27c03ffc66b50cedbbed53422e05f3e83b09e",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/fixtures/mjs.mjs",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fmjs.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fmjs.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fmjs.mjs?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'mjs'"
        },
        {
            "sha": "f6744bd66196f3ae87fb9128617a2be68309b15a",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/fixtures/mts.mts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fmts.mts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fmts.mts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fmts.mts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'mts'"
        },
        {
            "sha": "ef5c20433536154aba302e4e0525b2962959efc5",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/fixtures/ts.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fts.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fts.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ffixtures%2Fts.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'ts'"
        },
        {
            "sha": "ea9f181669487fe86037933656ee7186ffe92487",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/next-config-ts-import-js-extensions-cjs.test.ts",
            "status": "renamed",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fnext-config-ts-import-js-extensions-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fnext-config-ts-import-js-extensions-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fnext-config-ts-import-js-extensions-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,18 +1,18 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-pkg-commonjs', () => {\n+describe('next-config-ts-import-js-extensions-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should handle ESM modules in CommonJS project', async () => {\n+  it('should import js extensions (CJS)', async () => {\n     const $ = await next.render$('/')\n     const text = $('p').text()\n+    expect(text).toContain('jsCJS')\n     expect(text).toContain('cjs')\n     expect(text).toContain('mjs')\n     expect(text).toContain('cts')\n     expect(text).toContain('mts')\n     expect(text).toContain('ts')\n-    expect(text).toContain('commonjs')\n   })\n })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/index.test.ts"
        },
        {
            "sha": "abe822f158ee182321e8f076247fb1ea708c7f42",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/next.config.ts",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,20 @@\n+import type { NextConfig } from 'next'\n+import cjs from './fixtures/cjs.cjs'\n+import mjs from './fixtures/mjs.mjs'\n+import cts from './fixtures/cts.cts'\n+import mts from './fixtures/mts.mts'\n+import ts from './fixtures/ts'\n+import js from './fixtures/js-cjs'\n+\n+const nextConfig: NextConfig = {\n+  env: {\n+    cjs,\n+    mjs,\n+    cts,\n+    mts,\n+    ts,\n+    js,\n+  },\n+}\n+\n+export default nextConfig"
        },
        {
            "sha": "8393f2663ceb2ebd2d2643a05f83e2514477c278",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-cjs/tsconfig.test.json",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ftsconfig.test.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ftsconfig.test.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-cjs%2Ftsconfig.test.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"compilerOptions\": {\n+    \"allowImportingTsExtensions\": true,\n+    \"esModuleInterop\": true,\n+    \"allowJs\": true\n+  }\n+}"
        },
        {
            "sha": "e7077399c03ce1479a655dc647c0545b64531628",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fapp%2Flayout.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/pkg-module/app/layout.tsx"
        },
        {
            "sha": "3ed1e8d2583a5d152830042d9a0a0d3e873af0ac",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/app/page.tsx",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -2,12 +2,12 @@ export default function Page() {\n   return (\n     <p>\n       {JSON.stringify([\n+        process.env.js,\n         process.env.cjs,\n         process.env.mjs,\n         process.env.cts,\n         process.env.mts,\n         process.env.ts,\n-        process.env.commonjs,\n       ])}\n     </p>\n   )",
            "previous_filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/app/page.tsx"
        },
        {
            "sha": "011bde74737d04c2c40410a590f76e6a6509264f",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/fixtures/cjs.cjs",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fcjs.cjs",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fcjs.cjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fcjs.cjs?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+module.exports = 'cjs'"
        },
        {
            "sha": "5bd85fa82d56a360480bde7d03ae70516488627b",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/fixtures/cts.cts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fcts.cts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fcts.cts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fcts.cts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'cts'"
        },
        {
            "sha": "93663ef708ac8be1ed3e91bf8c754cf92a6f3bb2",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/fixtures/js-esm.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fjs-esm.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fjs-esm.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fjs-esm.js?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'jsESM'"
        },
        {
            "sha": "e7b27c03ffc66b50cedbbed53422e05f3e83b09e",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/fixtures/mjs.mjs",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fmjs.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fmjs.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fmjs.mjs?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'mjs'"
        },
        {
            "sha": "f6744bd66196f3ae87fb9128617a2be68309b15a",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/fixtures/mts.mts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fmts.mts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fmts.mts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fmts.mts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'mts'"
        },
        {
            "sha": "ef5c20433536154aba302e4e0525b2962959efc5",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/fixtures/ts.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fts.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fts.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ffixtures%2Fts.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1 @@\n+export default 'ts'"
        },
        {
            "sha": "fc23174e2bada2f52d3ddeb7058ec48a049bf2b4",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/next-config-ts-import-js-extensions-esm.test.ts",
            "status": "renamed",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fnext-config-ts-import-js-extensions-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fnext-config-ts-import-js-extensions-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fnext-config-ts-import-js-extensions-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,19 +1,21 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-pkg-module', () => {\n+describe('next-config-ts-import-js-extensions-esm', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n-    packageJson: { type: 'module' },\n+    packageJson: {\n+      type: 'module',\n+    },\n   })\n \n-  it('should handle ESM modules in CommonJS project', async () => {\n+  it('should import js extensions (ESM)', async () => {\n     const $ = await next.render$('/')\n     const text = $('p').text()\n+    expect(text).toContain('jsESM')\n     expect(text).toContain('cjs')\n     expect(text).toContain('mjs')\n     expect(text).toContain('cts')\n     expect(text).toContain('mts')\n     expect(text).toContain('ts')\n-    expect(text).toContain('esm')\n   })\n })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/pkg-module/index.test.ts"
        },
        {
            "sha": "9dd5bc7340ca6d921fc608db9c4b09c8cbee5468",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/next.config.ts",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,20 @@\n+import type { NextConfig } from 'next'\n+import cjs from './fixtures/cjs.cjs'\n+import mjs from './fixtures/mjs.mjs'\n+import cts from './fixtures/cts.cts'\n+import mts from './fixtures/mts.mts'\n+import ts from './fixtures/ts'\n+import js from './fixtures/js-esm'\n+\n+const nextConfig: NextConfig = {\n+  env: {\n+    cjs,\n+    mjs,\n+    cts,\n+    mts,\n+    ts,\n+    js,\n+  },\n+}\n+\n+export default nextConfig"
        },
        {
            "sha": "8393f2663ceb2ebd2d2643a05f83e2514477c278",
            "filename": "test/e2e/app-dir/next-config-ts/import-js-extensions-esm/tsconfig.test.json",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ftsconfig.test.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ftsconfig.test.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-js-extensions-esm%2Ftsconfig.test.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"compilerOptions\": {\n+    \"allowImportingTsExtensions\": true,\n+    \"esModuleInterop\": true,\n+    \"allowJs\": true\n+  }\n+}"
        },
        {
            "sha": "5785f84cc9e85d07661c96d052d90a69ecb41592",
            "filename": "test/e2e/app-dir/next-config-ts/import-json/next-config-ts-import-json-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-json%2Fnext-config-ts-import-json-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-json%2Fnext-config-ts-import-json-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-json%2Fnext-config-ts-import-json-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-import-json', () => {\n+describe('next-config-ts-import-json-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should support import json', async () => {\n+  it('should support import json (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foo')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/import-json/index.test.ts"
        },
        {
            "sha": "dcea8a8f9907acda2326e837a039aaf931560787",
            "filename": "test/e2e/app-dir/next-config-ts/import-json/next-config-ts-import-json-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-json%2Fnext-config-ts-import-json-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-json%2Fnext-config-ts-import-json-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fimport-json%2Fnext-config-ts-import-json-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-import-json-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support import json (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foo')\n+  })\n+})"
        },
        {
            "sha": "5095708e6c54b157af7a8c44d18b6958f2e313d2",
            "filename": "test/e2e/app-dir/next-config-ts/nested-imports/next-config-ts-nested-imports-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnested-imports%2Fnext-config-ts-nested-imports-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnested-imports%2Fnext-config-ts-nested-imports-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnested-imports%2Fnext-config-ts-nested-imports-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-nested-imports', () => {\n+describe('next-config-ts-nested-imports-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should handle nested imports', async () => {\n+  it('should handle nested imports (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foobarbaz')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/nested-imports/index.test.ts"
        },
        {
            "sha": "507aa061ea3181a937e66e17e19e1b2349401085",
            "filename": "test/e2e/app-dir/next-config-ts/nested-imports/next-config-ts-nested-imports-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnested-imports%2Fnext-config-ts-nested-imports-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnested-imports%2Fnext-config-ts-nested-imports-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnested-imports%2Fnext-config-ts-nested-imports-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-nested-imports-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should handle nested imports (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foobarbaz')\n+  })\n+})"
        },
        {
            "sha": "e7077399c03ce1479a655dc647c0545b64531628",
            "filename": "test/e2e/app-dir/next-config-ts/node-api-cjs/app/layout.tsx",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fapp%2Flayout.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,7 @@\n+export default function Root({ children }: { children: React.ReactNode }) {\n+  return (\n+    <html>\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "b5f92b56c02e4e66c6c1d8c6581c23763ccc3414",
            "filename": "test/e2e/app-dir/next-config-ts/node-api-cjs/app/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fapp%2Fpage.tsx?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>{process.env.foo}</p>\n+}"
        },
        {
            "sha": "19102815663d23f8b75a47e7a01965dcdc96468c",
            "filename": "test/e2e/app-dir/next-config-ts/node-api-cjs/foo.txt",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Ffoo.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Ffoo.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Ffoo.txt?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/node-api/foo.txt"
        },
        {
            "sha": "11666cdf99e5317ec788d84284599139284ec9de",
            "filename": "test/e2e/app-dir/next-config-ts/node-api-cjs/next-config-ts-node-api-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fnext-config-ts-node-api-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fnext-config-ts-node-api-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fnext-config-ts-node-api-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-node-api', () => {\n+describe('next-config-ts-node-api-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should be able to use Node.js API', async () => {\n+  it('should be able to use Node.js API (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foo')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/node-api/index.test.ts"
        },
        {
            "sha": "aee7aeef21a1b965a1c1b45cbea37e1a4d18df2e",
            "filename": "test/e2e/app-dir/next-config-ts/node-api-cjs/next.config.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fnode-api-cjs%2Fnext.config.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/node-api/next.config.ts"
        },
        {
            "sha": "ca3f2dbd5e047e55cc406d013cd54407d7a8c3ea",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/.gitignore",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2F.gitignore",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2F.gitignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2F.gitignore?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-!tsconfig.json"
        },
        {
            "sha": "4b4c913bb01b31f58908eabe958a5db5517248c3",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/fixtures/cjs.cjs",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcjs.cjs",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcjs.cjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcjs.cjs?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-exports.cjs = 'cjs'"
        },
        {
            "sha": "d0afe22b7474a4e8d37390e736b328f36b56141e",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/fixtures/commonjs.js",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcommonjs.js",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcommonjs.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcommonjs.js?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-exports.commonjs = 'commonjs'"
        },
        {
            "sha": "0c672b5069f10d15c643a0edf500b735edafbc91",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/fixtures/cts.cts",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcts.cts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcts.cts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fcts.cts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const cts = 'cts'"
        },
        {
            "sha": "48fc9493942ef9154ad81a29020a9f156e32e885",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/fixtures/mjs.mjs",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fmjs.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fmjs.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fmjs.mjs?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const mjs = 'mjs'"
        },
        {
            "sha": "54bb37910cc45a4958dcf1e43a9f7b47c979750b",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/fixtures/mts.mts",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fmts.mts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fmts.mts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fmts.mts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const mts = 'mts'"
        },
        {
            "sha": "a6687353214c2d6277c18b0f542d424feefd2789",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/fixtures/ts.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fts.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fts.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ffixtures%2Fts.ts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const ts = 'ts'"
        },
        {
            "sha": "7e0def29791318b62e1744186d65ac2faad3fe2d",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/next.config.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 20,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Fnext.config.ts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1,20 +0,0 @@\n-import type { NextConfig } from 'next'\n-import { cjs } from './fixtures/cjs.cjs'\n-import { mjs } from './fixtures/mjs.mjs'\n-import { cts } from './fixtures/cts.cts'\n-import { mts } from './fixtures/mts.mts'\n-import { ts } from './fixtures/ts'\n-import { commonjs } from './fixtures/commonjs'\n-\n-const nextConfig: NextConfig = {\n-  env: {\n-    cjs,\n-    mjs,\n-    cts,\n-    mts,\n-    ts,\n-    commonjs,\n-  },\n-}\n-\n-export default nextConfig"
        },
        {
            "sha": "b3c2d01bb4ba1262ef65efaa0e67a3f4585fe176",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-commonjs/tsconfig.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ftsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-commonjs%2Ftsconfig.json?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"compilerOptions\": {\n-    \"jsx\": \"preserve\",\n-    \"lib\": [\"ESNext\"],\n-    \"allowImportingTsExtensions\": true,\n-    \"allowJs\": true,\n-    \"noEmit\": true\n-  }\n-}"
        },
        {
            "sha": "ca3f2dbd5e047e55cc406d013cd54407d7a8c3ea",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/.gitignore",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2F.gitignore",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2F.gitignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2F.gitignore?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-!tsconfig.json"
        },
        {
            "sha": "4b4c913bb01b31f58908eabe958a5db5517248c3",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/fixtures/cjs.cjs",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fcjs.cjs",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fcjs.cjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fcjs.cjs?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-exports.cjs = 'cjs'"
        },
        {
            "sha": "0c672b5069f10d15c643a0edf500b735edafbc91",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/fixtures/cts.cts",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fcts.cts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fcts.cts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fcts.cts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const cts = 'cts'"
        },
        {
            "sha": "e0eb5b1e0e442becb50c5ffe0d3d8e7563a395e5",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/fixtures/esm.js",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fesm.js",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fesm.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fesm.js?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const esm = 'esm'"
        },
        {
            "sha": "48fc9493942ef9154ad81a29020a9f156e32e885",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/fixtures/mjs.mjs",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fmjs.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fmjs.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fmjs.mjs?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const mjs = 'mjs'"
        },
        {
            "sha": "54bb37910cc45a4958dcf1e43a9f7b47c979750b",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/fixtures/mts.mts",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fmts.mts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fmts.mts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fmts.mts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const mts = 'mts'"
        },
        {
            "sha": "a6687353214c2d6277c18b0f542d424feefd2789",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/fixtures/ts.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fts.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fts.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ffixtures%2Fts.ts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-export const ts = 'ts'"
        },
        {
            "sha": "e6ecc24db718f240d3d8f997946d24f7d47b8803",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/next.config.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 20,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Fnext.config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Fnext.config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Fnext.config.ts?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1,20 +0,0 @@\n-import type { NextConfig } from 'next'\n-import { cjs } from './fixtures/cjs.cjs'\n-import { mjs } from './fixtures/mjs.mjs'\n-import { cts } from './fixtures/cts.cts'\n-import { mts } from './fixtures/mts.mts'\n-import { ts } from './fixtures/ts'\n-import { esm } from './fixtures/esm'\n-\n-const nextConfig: NextConfig = {\n-  env: {\n-    cjs,\n-    mjs,\n-    cts,\n-    mts,\n-    ts,\n-    esm,\n-  },\n-}\n-\n-export default nextConfig"
        },
        {
            "sha": "b3c2d01bb4ba1262ef65efaa0e67a3f4585fe176",
            "filename": "test/e2e/app-dir/next-config-ts/pkg-module/tsconfig.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ftsconfig.json",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Fpkg-module%2Ftsconfig.json?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"compilerOptions\": {\n-    \"jsx\": \"preserve\",\n-    \"lib\": [\"ESNext\"],\n-    \"allowImportingTsExtensions\": true,\n-    \"allowJs\": true,\n-    \"noEmit\": true\n-  }\n-}"
        },
        {
            "sha": "ca3f2dbd5e047e55cc406d013cd54407d7a8c3ea",
            "filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/.gitignore",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2F.gitignore",
            "raw_url": "https://github.com/vercel/next.js/raw/8d78f8f11014a02a9f7d15127bea21f9b865e428/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2F.gitignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2F.gitignore?ref=8d78f8f11014a02a9f7d15127bea21f9b865e428",
            "patch": "@@ -1 +0,0 @@\n-!tsconfig.json"
        },
        {
            "sha": "addbe8a5d7d088b53056b14c12f8a7b7d2dbaa33",
            "filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/next-config-ts-tsconfig-extends-cjs.test.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Fnext-config-ts-tsconfig-extends-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Fnext-config-ts-tsconfig-extends-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Fnext-config-ts-tsconfig-extends-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,11 +1,11 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-tsconfig-extends', () => {\n+describe('next-config-ts-tsconfig-extends-cjs', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n   })\n \n-  it('should support tsconfig extends', async () => {\n+  it('should support tsconfig extends (CJS)', async () => {\n     const $ = await next.render$('/')\n     expect($('p').text()).toBe('foobar')\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/index.test.ts"
        },
        {
            "sha": "16b16d71038a0285e03deb8b26074236183f3a70",
            "filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/next-config-ts-tsconfig-extends-esm.test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Fnext-config-ts-tsconfig-extends-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Fnext-config-ts-tsconfig-extends-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Fnext-config-ts-tsconfig-extends-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,15 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-tsconfig-extends-esm', () => {\n+  const { next } = nextTestSetup({\n+    files: __dirname,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  it('should support tsconfig extends (ESM)', async () => {\n+    const $ = await next.render$('/')\n+    expect($('p').text()).toBe('foobar')\n+  })\n+})"
        },
        {
            "sha": "abe04df57891975b7972e6f33d456f995d198a4f",
            "filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/tsconfig.base.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Ftsconfig.base.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Ftsconfig.base.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Ftsconfig.base.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,6 +1,5 @@\n {\n   \"compilerOptions\": {\n-    \"jsx\": \"preserve\",\n     \"baseUrl\": \".\",\n     \"paths\": {\n       \"@/*\": [\"./src/*\"]"
        },
        {
            "sha": "ffcbb9477ec54d030206d6583dfd9f70f7fbc3b4",
            "filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/tsconfig.test.json",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Ftsconfig.test.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Ftsconfig.test.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftsconfig-extends%2Ftsconfig.test.json?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "previous_filename": "test/e2e/app-dir/next-config-ts/tsconfig-extends/tsconfig.json"
        },
        {
            "sha": "417347f107fcfca2c42dfc80eda79bc39ee5d074",
            "filename": "test/e2e/app-dir/next-config-ts/type-error/next-config-ts-type-error-cjs.test.ts",
            "status": "renamed",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftype-error%2Fnext-config-ts-type-error-cjs.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftype-error%2Fnext-config-ts-type-error-cjs.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftype-error%2Fnext-config-ts-type-error-cjs.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -1,6 +1,6 @@\n import { nextTestSetup } from 'e2e-utils'\n \n-describe('next-config-ts-type-error', () => {\n+describe('next-config-ts-type-error-cjs', () => {\n   const { next, isNextDev, skipped } = nextTestSetup({\n     files: __dirname,\n     skipStart: true,\n@@ -11,15 +11,15 @@ describe('next-config-ts-type-error', () => {\n     return\n   }\n \n-  it('should throw with type error on build', async () => {\n+  it('should throw with type error on build (CJS)', async () => {\n     if (isNextDev) {\n       await next.start()\n       const $ = await next.render$('/')\n       expect($('p').text()).toBe('foo')\n     } else {\n       const { cliOutput } = await next.build()\n       await expect(cliOutput).toContain(\n-        `Type error: Type 'string' is not assignable to type 'number'.`\n+        `Type 'string' is not assignable to type 'number'.`\n       )\n     }\n   })",
            "previous_filename": "test/e2e/app-dir/next-config-ts/type-error/index.test.ts"
        },
        {
            "sha": "da86a75defb69241b15895d52588335c7721d470",
            "filename": "test/e2e/app-dir/next-config-ts/type-error/next-config-ts-type-error-esm.test.ts",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftype-error%2Fnext-config-ts-type-error-esm.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b4ac90a1352f1d00971586eda457add8ae4e5c61/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftype-error%2Fnext-config-ts-type-error-esm.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-config-ts%2Ftype-error%2Fnext-config-ts-type-error-esm.test.ts?ref=b4ac90a1352f1d00971586eda457add8ae4e5c61",
            "patch": "@@ -0,0 +1,29 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('next-config-ts-type-error-esm', () => {\n+  const { next, isNextDev, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipStart: true,\n+    skipDeployment: true,\n+    packageJson: {\n+      type: 'module',\n+    },\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should throw with type error on build (ESM)', async () => {\n+    if (isNextDev) {\n+      await next.start()\n+      const $ = await next.render$('/')\n+      expect($('p').text()).toBe('foo')\n+    } else {\n+      const { cliOutput } = await next.build()\n+      await expect(cliOutput).toContain(\n+        `Type 'string' is not assignable to type 'number'.`\n+      )\n+    }\n+  })\n+})"
        }
    ],
    "stats": {
        "total": 485,
        "additions": 363,
        "deletions": 122
    }
}