{
    "author": "huozhi",
    "message": "[devtool] dynamically import segment explorer when enabled (#81473)",
    "sha": "322e2d9044e5707c525846f46828666a5689a13d",
    "files": [
        {
            "sha": "9bd7b85ca874bbd228a49e41904d68f893f85b2e",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel-tab/segments-explorer-tab.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/322e2d9044e5707c525846f46828666a5689a13d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fsegments-explorer-tab.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/322e2d9044e5707c525846f46828666a5689a13d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fsegments-explorer-tab.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fsegments-explorer-tab.tsx?ref=322e2d9044e5707c525846f46828666a5689a13d",
            "patch": "@@ -1,4 +1,8 @@\n-import { PageSegmentTree } from '../../overview/segment-explorer'\n+const PageSegmentTree = process.env.__NEXT_DEVTOOL_SEGMENT_EXPLORER\n+  ? (\n+      require('../../overview/segment-explorer') as typeof import('../../overview/segment-explorer')\n+    ).PageSegmentTree\n+  : () => null\n \n function SegmentsExplorer({\n   routerType,"
        },
        {
            "sha": "e9d4af4bc164e012ad22c601a102225f71e5e1d2",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/dev-tools-indicator/dev-tools-indicator.tsx",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/322e2d9044e5707c525846f46828666a5689a13d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/322e2d9044e5707c525846f46828666a5689a13d/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-indicator.tsx?ref=322e2d9044e5707c525846f46828666a5689a13d",
            "patch": "@@ -28,7 +28,6 @@ import {\n } from './dev-tools-info/preferences'\n import { Draggable } from './draggable'\n import { useShortcuts } from '../../../hooks/use-shortcuts'\n-import { SegmentsExplorer } from './dev-tools-info/segments-explorer'\n \n // TODO: add E2E tests to cover different scenarios\n \n@@ -97,6 +96,15 @@ export type Overlays = (typeof OVERLAYS)[keyof typeof OVERLAYS]\n \n const INDICATOR_PADDING = 20\n \n+// Dynamic import for SegmentsExplorer which including base-ui that causing Edge browser crash\n+// x-ref: https://github.com/vercel/next.js/pull/64602\n+// TODO: remove this once the new base-ui version is released\n+const SegmentsExplorer = process.env.__NEXT_DEVTOOL_SEGMENT_EXPLORER\n+  ? (\n+      require('./dev-tools-info/segments-explorer') as typeof import('./dev-tools-info/segments-explorer')\n+    ).SegmentsExplorer\n+  : () => null\n+\n function DevToolsPopover({\n   routerType,\n   disabled,"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 14,
        "deletions": 2
    }
}