{
    "author": "bgw",
    "message": "Turbopack: Remove not-very-useful \"Finished writing to disk in\" log line (#84244)\n\nWe've received feedback that this log line is more confusing than useful.\r\n\r\nIn the future, we'd like to show this, but in a more clear and structured way, along with other metrics for other parts of the build.",
    "sha": "dc0ad267506339f3392f777b9da84697409f4c0f",
    "files": [
        {
            "sha": "efa9df0ef9761d7bb32e55e11312413f287e8ab6",
            "filename": "crates/napi/src/next_api/project.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 11,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/dc0ad267506339f3392f777b9da84697409f4c0f/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/dc0ad267506339f3392f777b9da84697409f4c0f/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs?ref=dc0ad267506339f3392f777b9da84697409f4c0f",
            "patch": "@@ -34,7 +34,7 @@ use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{\n     Effects, FxIndexSet, NonLocalValue, OperationValue, OperationVc, ReadRef, ResolvedVc,\n     TaskInput, TransientInstance, TryJoinIterExt, TurboTasksApi, UpdateInfo, Vc, get_effects,\n-    message_queue::{CompilationEvent, Severity, TimingEvent},\n+    message_queue::{CompilationEvent, Severity},\n     trace::TraceRawVcs,\n };\n use turbo_tasks_backend::{BackingStorage, db_invalidation::invalidation_reasons};\n@@ -892,7 +892,6 @@ pub async fn project_write_all_entrypoints_to_disk(\n     let ctx = &project.turbopack_ctx;\n     let container = project.container;\n     let tt = ctx.turbo_tasks();\n-    let tt_clone = tt.clone();\n \n     let (entrypoints, issues, diags) = tt\n         .run(async move {\n@@ -909,18 +908,9 @@ pub async fn project_write_all_entrypoints_to_disk(\n                 .read_strongly_consistent()\n                 .await?;\n \n-            // Start timing writing the files to disk\n-            let now = Instant::now();\n-\n             // Write the files to disk\n             effects.apply().await?;\n \n-            // Send a compilation event to indicate that the files have been written to disk\n-            tt_clone.send_compilation_event(Arc::new(TimingEvent::new(\n-                \"Finished writing to disk\".to_owned(),\n-                now.elapsed(),\n-            )));\n-\n             Ok((entrypoints.clone(), issues.clone(), diagnostics.clone()))\n         })\n         .or_else(|e| ctx.throw_turbopack_internal_result(&e.into()))"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 1,
        "deletions": 11
    }
}