{
    "author": "mischnic",
    "message": "Turbopack: fix NFT tracing of sharp 0.34 (#82340)\n\nWe need a special case for this shared library loading",
    "sha": "1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
    "files": [
        {
            "sha": "39a3d214a5bfebd57fa55603465acf42e54be675",
            "filename": "turbopack/crates/turbopack-core/src/lib.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Flib.rs?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -25,6 +25,7 @@ pub mod introspect;\n pub mod issue;\n pub mod module;\n pub mod module_graph;\n+pub mod node_addon_module;\n pub mod output;\n pub mod package_json;\n pub mod proxied_asset;"
        },
        {
            "sha": "2401aa93a332806991d19454bd71fa80cee7e8aa",
            "filename": "turbopack/crates/turbopack-core/src/node_addon_module.rs",
            "status": "added",
            "additions": 145,
            "deletions": 0,
            "changes": 145,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fnode_addon_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fnode_addon_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fnode_addon_module.rs?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -0,0 +1,145 @@\n+use std::sync::LazyLock;\n+\n+use anyhow::Result;\n+use regex::Regex;\n+use turbo_rcstr::rcstr;\n+use turbo_tasks::{FxIndexSet, ResolvedVc, TryJoinIterExt, Vc};\n+use turbo_tasks_fs::{FileSystemEntryType, FileSystemPath};\n+\n+use crate::{\n+    asset::{Asset, AssetContent},\n+    file_source::FileSource,\n+    ident::AssetIdent,\n+    module::Module,\n+    raw_module::RawModule,\n+    reference::{ModuleReferences, TracedModuleReference},\n+    resolve::pattern::{Pattern, PatternMatch, read_matches},\n+    source::Source,\n+};\n+\n+/// A module corresponding to `.node` files.\n+#[turbo_tasks::value]\n+pub struct NodeAddonModule {\n+    source: ResolvedVc<Box<dyn Source>>,\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl NodeAddonModule {\n+    #[turbo_tasks::function]\n+    pub fn new(source: ResolvedVc<Box<dyn Source>>) -> Vc<NodeAddonModule> {\n+        NodeAddonModule { source }.cell()\n+    }\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl Module for NodeAddonModule {\n+    #[turbo_tasks::function]\n+    fn ident(&self) -> Vc<AssetIdent> {\n+        self.source.ident().with_modifier(rcstr!(\"node addon\"))\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn references(&self) -> Result<Vc<ModuleReferences>> {\n+        static SHARP_BINARY_REGEX: LazyLock<Regex> =\n+            LazyLock::new(|| Regex::new(\"/sharp-(\\\\w+-\\\\w+).node$\").unwrap());\n+        let module_path = self.source.ident().path().await?;\n+\n+        // For most .node binaries, we usually assume that they are standalone dynamic library\n+        // binaries that get loaded by some `require` call. So the binary itself doesn't read any\n+        // files by itself, but only when instructed to from the JS side.\n+        //\n+        // For sharp, that is not the case:\n+        // 1. `node_modules/sharp/lib/sharp.js` does `require(\"@img/sharp-${arch}/sharp.node\")`\n+        //    which ends up resolving to ...\n+        // 2. @img/sharp-darwin-arm64/lib/sharp-darwin-arm64.node. That is however a dynamic library\n+        //    that uses the OS loader to load yet another binary (you can view these via `otool -L`\n+        //    on macOS or `ldd` on Linux):\n+        // 3. @img/sharp-libvips-darwin-arm64/libvips.dylib\n+        //\n+        // We could either try to parse the binary and read these dependencies, or (as we do in the\n+        // following) special case sharp and hardcode this dependency.\n+        //\n+        // The JS @vercel/nft implementation has a similar special case:\n+        // https://github.com/vercel/nft/blob/7e915aa02073ec57dc0d6528c419a4baa0f03d40/src/utils/special-cases.ts#L151-L181\n+        if SHARP_BINARY_REGEX.is_match(&module_path.path) {\n+            // module_path might be something like\n+            // node_modules/@img/sharp-darwin-arm64/lib/sharp-darwin-arm64.node\n+            let arch = SHARP_BINARY_REGEX\n+                .captures(&module_path.path)\n+                .unwrap()\n+                .get(1)\n+                .unwrap()\n+                .as_str();\n+\n+            let package_name = format!(\"@img/sharp-libvips-{arch}\");\n+            for folder in [\n+                // This is the list of rpaths (lookup paths) of the shared library, at least on\n+                // macOS and Linux https://github.com/lovell/sharp/blob/c01e272db522a8b7d174bd3be7400a4a87f08702/src/binding.gyp#L158-L201\n+                \"../..\",\n+                \"../../..\",\n+                \"../../node_modules\",\n+                \"../../../node_modules\",\n+            ]\n+            .iter()\n+            .filter_map(|p| module_path.parent().join(p).ok()?.join(&package_name).ok())\n+            {\n+                if matches!(\n+                    &*folder.get_type().await?,\n+                    FileSystemEntryType::Directory | FileSystemEntryType::Symlink\n+                ) {\n+                    return Ok(dir_references(folder));\n+                }\n+            }\n+        };\n+\n+        // Most addon modules don't have references to other modules.\n+        Ok(ModuleReferences::empty())\n+    }\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl Asset for NodeAddonModule {\n+    #[turbo_tasks::function]\n+    fn content(&self) -> Vc<AssetContent> {\n+        self.source.content()\n+    }\n+}\n+\n+#[turbo_tasks::function]\n+async fn dir_references(package_dir: FileSystemPath) -> Result<Vc<ModuleReferences>> {\n+    let matches = read_matches(\n+        package_dir.clone(),\n+        rcstr!(\"\"),\n+        true,\n+        Pattern::new(Pattern::Dynamic),\n+    )\n+    .await?;\n+\n+    let mut results: FxIndexSet<FileSystemPath> = FxIndexSet::default();\n+    for pat_match in matches.into_iter() {\n+        match pat_match {\n+            PatternMatch::File(_, file) => {\n+                let realpath = file.realpath_with_links().await?;\n+                results.extend(realpath.symlinks.iter().cloned());\n+                results.insert(realpath.path.clone());\n+            }\n+            PatternMatch::Directory(..) => {}\n+        }\n+    }\n+\n+    Ok(Vc::cell(\n+        results\n+            .into_iter()\n+            .map(async |p| {\n+                Ok(ResolvedVc::upcast(\n+                    TracedModuleReference::new(Vc::upcast(RawModule::new(Vc::upcast(\n+                        FileSource::new(p),\n+                    ))))\n+                    .to_resolved()\n+                    .await?,\n+                ))\n+            })\n+            .try_join()\n+            .await?,\n+    ))\n+}"
        },
        {
            "sha": "11d10e74311c683b6b155a2c73f54929a261a9ee",
            "filename": "turbopack/crates/turbopack/src/lib.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -39,6 +39,7 @@ use turbopack_core::{\n     ident::Layer,\n     issue::{IssueExt, IssueSource, StyledString, module::ModuleIssue},\n     module::Module,\n+    node_addon_module::NodeAddonModule,\n     output::OutputAsset,\n     raw_module::RawModule,\n     reference_type::{\n@@ -236,6 +237,9 @@ async fn apply_module_type(\n         }\n         ModuleType::Json => ResolvedVc::upcast(JsonModuleAsset::new(*source).to_resolved().await?),\n         ModuleType::Raw => ResolvedVc::upcast(RawModule::new(*source).to_resolved().await?),\n+        ModuleType::NodeAddon => {\n+            ResolvedVc::upcast(NodeAddonModule::new(*source).to_resolved().await?)\n+        }\n         ModuleType::CssModule => ResolvedVc::upcast(\n             ModuleCssAsset::new(*source, Vc::upcast(module_asset_context))\n                 .to_resolved()"
        },
        {
            "sha": "38aa2605dfc2eeb69923a9257c85845cd8c2dcce",
            "filename": "turbopack/crates/turbopack/src/module_options/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmod.rs?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -414,7 +414,7 @@ impl ModuleOptions {\n                 RuleCondition::any(vec![RuleCondition::ResourcePathEndsWith(\n                     \".node\".to_string(),\n                 )]),\n-                vec![ModuleRuleEffect::ModuleType(ModuleType::Raw)],\n+                vec![ModuleRuleEffect::ModuleType(ModuleType::NodeAddon)],\n             ),\n             // WebAssembly\n             ModuleRule::new("
        },
        {
            "sha": "e6586ad847af6ace59d28599cbe77e7508ee11f4",
            "filename": "turbopack/crates/turbopack/src/module_options/module_rule.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmodule_rule.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmodule_rule.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmodule_rule.rs?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -119,6 +119,7 @@ pub enum ModuleType {\n     },\n     Json,\n     Raw,\n+    NodeAddon,\n     CssModule,\n     Css {\n         ty: CssModuleAssetType,"
        },
        {
            "sha": "0723f23d2cb8577e89e123a08d5b65ed839da43b",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace.rs",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -158,6 +158,18 @@ static ALLOC: turbo_tasks_malloc::TurboMalloc = turbo_tasks_malloc::TurboMalloc;\n #[case::sentry(\"integration/sentry.js\")]\n #[case::sequelize(\"integration/sequelize.js\")]\n #[case::serialport(\"integration/serialport.js\")]\n+#[cfg_attr(\n+    target_os = \"windows\",\n+    should_panic(expected = \"Something went wrong installing the \\\"sharp\\\" module\"),\n+    case::sharp030(\"integration/sharp030.js\")\n+)]\n+#[cfg_attr(not(target_os = \"windows\"), case::sharp030(\"integration/sharp030.js\"))]\n+#[cfg_attr(\n+    target_os = \"windows\",\n+    should_panic(expected = \"Something went wrong installing the \\\"sharp\\\" module\"),\n+    case::sharp033(\"integration/sharp033.js\")\n+)]\n+#[cfg_attr(not(target_os = \"windows\"), case::sharp033(\"integration/sharp033.js\"))]\n #[cfg_attr(\n     target_os = \"windows\",\n     should_panic(expected = \"Something went wrong installing the \\\"sharp\\\" module\"),"
        },
        {
            "sha": "ae11545437b98f8903ba5f3a04ed172befa339f2",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace/integration/sharp030.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fintegration%2Fsharp030.js",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fintegration%2Fsharp030.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fintegration%2Fsharp030.js?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -0,0 +1,13 @@\n+const sharp = require('sharp030')\n+const path = require('path')\n+\n+const roundedCorners = Buffer.from(\n+  '<svg><rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" rx=\"50\" ry=\"50\"/></svg>'\n+)\n+\n+sharp(roundedCorners).resize(200, 200).png().toBuffer()\n+\n+sharp(path.resolve(__dirname, 'fixtures/vercel.svg'))\n+  .resize({ width: 100, height: 100 })\n+  .jpeg()\n+  .toBuffer()"
        },
        {
            "sha": "2b2c339b9645da2827ed59437e1eb558d05994a8",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace/integration/sharp033.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fintegration%2Fsharp033.js",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fintegration%2Fsharp033.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fintegration%2Fsharp033.js?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -0,0 +1,13 @@\n+const sharp = require('sharp033')\n+const path = require('path')\n+\n+const roundedCorners = Buffer.from(\n+  '<svg><rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" rx=\"50\" ry=\"50\"/></svg>'\n+)\n+\n+sharp(roundedCorners).resize(200, 200).png().toBuffer()\n+\n+sharp(path.resolve(__dirname, 'fixtures/vercel.svg'))\n+  .resize({ width: 100, height: 100 })\n+  .jpeg()\n+  .toBuffer()"
        },
        {
            "sha": "c3764353bc59c83b936654196b415aa1d7592884",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace/package.json",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fpackage.json?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -101,7 +101,9 @@\n     \"semver\": \"^7.1.1\",\n     \"sequelize\": \"^5.9.3\",\n     \"serialport\": \"^13.0.0\",\n-    \"sharp\": \"^0.30.0\",\n+    \"sharp030\": \"npm:sharp@^0.30.0\",\n+    \"sharp033\": \"npm:sharp@^0.33.0\",\n+    \"sharp\": \"^0.34.0\",\n     \"shiki\": \"^0.14.5\",\n     \"socket.io\": \"^2.4.0\",\n     \"socket.io-client\": \"^2.2.0\","
        },
        {
            "sha": "a13006b09f7c0c5e588f4f6d6f1dbeaebdb38dfb",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace/pnpm-lock.yaml",
            "status": "modified",
            "additions": 501,
            "deletions": 30,
            "changes": 531,
            "blob_url": "https://github.com/vercel/next.js/blob/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fpnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fpnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace%2Fpnpm-lock.yaml?ref=1e0f9d489880c4744a9d203f41c8c8ebcf0e8f2f",
            "patch": "@@ -307,8 +307,14 @@ importers:\n         specifier: ^13.0.0\n         version: 13.0.0\n       sharp:\n-        specifier: ^0.30.0\n-        version: 0.30.7\n+        specifier: ^0.34.0\n+        version: 0.34.3\n+      sharp030:\n+        specifier: npm:sharp@^0.30.0\n+        version: sharp@0.30.7\n+      sharp033:\n+        specifier: npm:sharp@^0.33.0\n+        version: sharp@0.33.5\n       shiki:\n         specifier: ^0.14.5\n         version: 0.14.7\n@@ -760,6 +766,9 @@ packages:\n     resolution: {integrity: sha512-7KretVkHUANWe31u9cGJpxmUkyrXsCD+fmlZQUz/zk9mtQNC4uBIKX53VUFfrVj/bxAhEEIPw5XTYiMc5RJLsw==}\n     engines: {node: '>=16'}\n \n+  '@emnapi/runtime@1.4.5':\n+    resolution: {integrity: sha512-++LApOtY0pEEz1zrd9vy1/zXVaVJJ/EbAF3u0fXIzPJEDtnITsBGbbK0EkM72amhl/R5b+5xx0Y/QhcVOpuulg==}\n+\n   '@esbuild/android-arm@0.15.12':\n     resolution: {integrity: sha512-IC7TqIqiyE0MmvAhWkl/8AEzpOtbhRNDo7aph47We1NbE5w2bt/Q+giAhe0YYeVpYnIhGMcuZY92qDK6dQauvA==}\n     engines: {node: '>=12'}\n@@ -1102,6 +1111,233 @@ packages:\n     engines: {node: '>=6'}\n     hasBin: true\n \n+  '@img/sharp-darwin-arm64@0.33.5':\n+    resolution: {integrity: sha512-UT4p+iz/2H4twwAoLCqfA9UH5pI6DggwKEGuaPy7nCVQ8ZsiY5PIcrRvD1DzuY3qYL07NtIQcWnBSY/heikIFQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [darwin]\n+\n+  '@img/sharp-darwin-arm64@0.34.3':\n+    resolution: {integrity: sha512-ryFMfvxxpQRsgZJqBd4wsttYQbCxsJksrv9Lw/v798JcQ8+w84mBWuXwl+TT0WJ/WrYOLaYpwQXi3sA9nTIaIg==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [darwin]\n+\n+  '@img/sharp-darwin-x64@0.33.5':\n+    resolution: {integrity: sha512-fyHac4jIc1ANYGRDxtiqelIbdWkIuQaI84Mv45KvGRRxSAa7o7d1ZKAOBaYbnepLC1WqxfpimdeWfvqqSGwR2Q==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [darwin]\n+\n+  '@img/sharp-darwin-x64@0.34.3':\n+    resolution: {integrity: sha512-yHpJYynROAj12TA6qil58hmPmAwxKKC7reUqtGLzsOHfP7/rniNGTL8tjWX6L3CTV4+5P4ypcS7Pp+7OB+8ihA==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [darwin]\n+\n+  '@img/sharp-libvips-darwin-arm64@1.0.4':\n+    resolution: {integrity: sha512-XblONe153h0O2zuFfTAbQYAX2JhYmDHeWikp1LM9Hul9gVPjFY427k6dFEcOL72O01QxQsWi761svJ/ev9xEDg==}\n+    cpu: [arm64]\n+    os: [darwin]\n+\n+  '@img/sharp-libvips-darwin-arm64@1.2.0':\n+    resolution: {integrity: sha512-sBZmpwmxqwlqG9ueWFXtockhsxefaV6O84BMOrhtg/YqbTaRdqDE7hxraVE3y6gVM4eExmfzW4a8el9ArLeEiQ==}\n+    cpu: [arm64]\n+    os: [darwin]\n+\n+  '@img/sharp-libvips-darwin-x64@1.0.4':\n+    resolution: {integrity: sha512-xnGR8YuZYfJGmWPvmlunFaWJsb9T/AO2ykoP3Fz/0X5XV2aoYBPkX6xqCQvUTKKiLddarLaxpzNe+b1hjeWHAQ==}\n+    cpu: [x64]\n+    os: [darwin]\n+\n+  '@img/sharp-libvips-darwin-x64@1.2.0':\n+    resolution: {integrity: sha512-M64XVuL94OgiNHa5/m2YvEQI5q2cl9d/wk0qFTDVXcYzi43lxuiFTftMR1tOnFQovVXNZJ5TURSDK2pNe9Yzqg==}\n+    cpu: [x64]\n+    os: [darwin]\n+\n+  '@img/sharp-libvips-linux-arm64@1.0.4':\n+    resolution: {integrity: sha512-9B+taZ8DlyyqzZQnoeIvDVR/2F4EbMepXMc/NdVbkzsJbzkUjhXv/70GQJ7tdLA4YJgNP25zukcxpX2/SueNrA==}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-arm64@1.2.0':\n+    resolution: {integrity: sha512-RXwd0CgG+uPRX5YYrkzKyalt2OJYRiJQ8ED/fi1tq9WQW2jsQIn0tqrlR5l5dr/rjqq6AHAxURhj2DVjyQWSOA==}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-arm@1.0.5':\n+    resolution: {integrity: sha512-gvcC4ACAOPRNATg/ov8/MnbxFDJqf/pDePbBnuBDcjsI8PssmjoKMAz4LtLaVi+OnSb5FK/yIOamqDwGmXW32g==}\n+    cpu: [arm]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-arm@1.2.0':\n+    resolution: {integrity: sha512-mWd2uWvDtL/nvIzThLq3fr2nnGfyr/XMXlq8ZJ9WMR6PXijHlC3ksp0IpuhK6bougvQrchUAfzRLnbsen0Cqvw==}\n+    cpu: [arm]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-ppc64@1.2.0':\n+    resolution: {integrity: sha512-Xod/7KaDDHkYu2phxxfeEPXfVXFKx70EAFZ0qyUdOjCcxbjqyJOEUpDe6RIyaunGxT34Anf9ue/wuWOqBW2WcQ==}\n+    cpu: [ppc64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-s390x@1.0.4':\n+    resolution: {integrity: sha512-u7Wz6ntiSSgGSGcjZ55im6uvTrOxSIS8/dgoVMoiGE9I6JAfU50yH5BoDlYA1tcuGS7g/QNtetJnxA6QEsCVTA==}\n+    cpu: [s390x]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-s390x@1.2.0':\n+    resolution: {integrity: sha512-eMKfzDxLGT8mnmPJTNMcjfO33fLiTDsrMlUVcp6b96ETbnJmd4uvZxVJSKPQfS+odwfVaGifhsB07J1LynFehw==}\n+    cpu: [s390x]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-x64@1.0.4':\n+    resolution: {integrity: sha512-MmWmQ3iPFZr0Iev+BAgVMb3ZyC4KeFc3jFxnNbEPas60e1cIfevbtuyf9nDGIzOaW9PdnDciJm+wFFaTlj5xYw==}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linux-x64@1.2.0':\n+    resolution: {integrity: sha512-ZW3FPWIc7K1sH9E3nxIGB3y3dZkpJlMnkk7z5tu1nSkBoCgw2nSRTFHI5pB/3CQaJM0pdzMF3paf9ckKMSE9Tg==}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linuxmusl-arm64@1.0.4':\n+    resolution: {integrity: sha512-9Ti+BbTYDcsbp4wfYib8Ctm1ilkugkA/uscUn6UXK1ldpC1JjiXbLfFZtRlBhjPZ5o1NCLiDbg8fhUPKStHoTA==}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linuxmusl-arm64@1.2.0':\n+    resolution: {integrity: sha512-UG+LqQJbf5VJ8NWJ5Z3tdIe/HXjuIdo4JeVNADXBFuG7z9zjoegpzzGIyV5zQKi4zaJjnAd2+g2nna8TZvuW9Q==}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linuxmusl-x64@1.0.4':\n+    resolution: {integrity: sha512-viYN1KX9m+/hGkJtvYYp+CCLgnJXwiQB39damAO7WMdKWlIhmYTfHjwSbQeUK/20vY154mwezd9HflVFM1wVSw==}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-libvips-linuxmusl-x64@1.2.0':\n+    resolution: {integrity: sha512-SRYOLR7CXPgNze8akZwjoGBoN1ThNZoqpOgfnOxmWsklTGVfJiGJoC/Lod7aNMGA1jSsKWM1+HRX43OP6p9+6Q==}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-linux-arm64@0.33.5':\n+    resolution: {integrity: sha512-JMVv+AMRyGOHtO1RFBiJy/MBsgz0x4AWrT6QoEVVTyh1E39TrCUpTRI7mx9VksGX4awWASxqCYLCV4wBZHAYxA==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-linux-arm64@0.34.3':\n+    resolution: {integrity: sha512-QdrKe3EvQrqwkDrtuTIjI0bu6YEJHTgEeqdzI3uWJOH6G1O8Nl1iEeVYRGdj1h5I21CqxSvQp1Yv7xeU3ZewbA==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-linux-arm@0.33.5':\n+    resolution: {integrity: sha512-JTS1eldqZbJxjvKaAkxhZmBqPRGmxgu+qFKSInv8moZ2AmT5Yib3EQ1c6gp493HvrvV8QgdOXdyaIBrhvFhBMQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm]\n+    os: [linux]\n+\n+  '@img/sharp-linux-arm@0.34.3':\n+    resolution: {integrity: sha512-oBK9l+h6KBN0i3dC8rYntLiVfW8D8wH+NPNT3O/WBHeW0OQWCjfWksLUaPidsrDKpJgXp3G3/hkmhptAW0I3+A==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm]\n+    os: [linux]\n+\n+  '@img/sharp-linux-ppc64@0.34.3':\n+    resolution: {integrity: sha512-GLtbLQMCNC5nxuImPR2+RgrviwKwVql28FWZIW1zWruy6zLgA5/x2ZXk3mxj58X/tszVF69KK0Is83V8YgWhLA==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [ppc64]\n+    os: [linux]\n+\n+  '@img/sharp-linux-s390x@0.33.5':\n+    resolution: {integrity: sha512-y/5PCd+mP4CA/sPDKl2961b+C9d+vPAveS33s6Z3zfASk2j5upL6fXVPZi7ztePZ5CuH+1kW8JtvxgbuXHRa4Q==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [s390x]\n+    os: [linux]\n+\n+  '@img/sharp-linux-s390x@0.34.3':\n+    resolution: {integrity: sha512-3gahT+A6c4cdc2edhsLHmIOXMb17ltffJlxR0aC2VPZfwKoTGZec6u5GrFgdR7ciJSsHT27BD3TIuGcuRT0KmQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [s390x]\n+    os: [linux]\n+\n+  '@img/sharp-linux-x64@0.33.5':\n+    resolution: {integrity: sha512-opC+Ok5pRNAzuvq1AG0ar+1owsu842/Ab+4qvU879ippJBHvyY5n2mxF1izXqkPYlGuP/M556uh53jRLJmzTWA==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-linux-x64@0.34.3':\n+    resolution: {integrity: sha512-8kYso8d806ypnSq3/Ly0QEw90V5ZoHh10yH0HnrzOCr6DKAPI6QVHvwleqMkVQ0m+fc7EH8ah0BB0QPuWY6zJQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-linuxmusl-arm64@0.33.5':\n+    resolution: {integrity: sha512-XrHMZwGQGvJg2V/oRSUfSAfjfPxO+4DkiRh6p2AFjLQztWUuY/o8Mq0eMQVIY7HJ1CDQUJlxGGZRw1a5bqmd1g==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-linuxmusl-arm64@0.34.3':\n+    resolution: {integrity: sha512-vAjbHDlr4izEiXM1OTggpCcPg9tn4YriK5vAjowJsHwdBIdx0fYRsURkxLG2RLm9gyBq66gwtWI8Gx0/ov+JKQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [linux]\n+\n+  '@img/sharp-linuxmusl-x64@0.33.5':\n+    resolution: {integrity: sha512-WT+d/cgqKkkKySYmqoZ8y3pxx7lx9vVejxW/W4DOFMYVSkErR+w7mf2u8m/y4+xHe7yY9DAXQMWQhpnMuFfScw==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-linuxmusl-x64@0.34.3':\n+    resolution: {integrity: sha512-gCWUn9547K5bwvOn9l5XGAEjVTTRji4aPTqLzGXHvIr6bIDZKNTA34seMPgM0WmSf+RYBH411VavCejp3PkOeQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [linux]\n+\n+  '@img/sharp-wasm32@0.33.5':\n+    resolution: {integrity: sha512-ykUW4LVGaMcU9lu9thv85CbRMAwfeadCJHRsg2GmeRa/cJxsVY9Rbd57JcMxBkKHag5U/x7TSBpScF4U8ElVzg==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [wasm32]\n+\n+  '@img/sharp-wasm32@0.34.3':\n+    resolution: {integrity: sha512-+CyRcpagHMGteySaWos8IbnXcHgfDn7pO2fiC2slJxvNq9gDipYBN42/RagzctVRKgxATmfqOSulgZv5e1RdMg==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [wasm32]\n+\n+  '@img/sharp-win32-arm64@0.34.3':\n+    resolution: {integrity: sha512-MjnHPnbqMXNC2UgeLJtX4XqoVHHlZNd+nPt1kRPmj63wURegwBhZlApELdtxM2OIZDRv/DFtLcNhVbd1z8GYXQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [arm64]\n+    os: [win32]\n+\n+  '@img/sharp-win32-ia32@0.33.5':\n+    resolution: {integrity: sha512-T36PblLaTwuVJ/zw/LaH0PdZkRz5rd3SmMHX8GSmR7vtNSP5Z6bQkExdSK7xGWyxLw4sUknBuugTelgw2faBbQ==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [ia32]\n+    os: [win32]\n+\n+  '@img/sharp-win32-ia32@0.34.3':\n+    resolution: {integrity: sha512-xuCdhH44WxuXgOM714hn4amodJMZl3OEvf0GVTm0BEyMeA2to+8HEdRPShH0SLYptJY1uBw+SCFP9WVQi1Q/cw==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [ia32]\n+    os: [win32]\n+\n+  '@img/sharp-win32-x64@0.33.5':\n+    resolution: {integrity: sha512-MpY/o8/8kj+EcnxwvrP4aTJSWw/aZ7JIGR4aBeZkZw5B7/Jn+tY9/VNwtcoGmdT7GfggGIU4kygOMSbYnOrAbg==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [win32]\n+\n+  '@img/sharp-win32-x64@0.34.3':\n+    resolution: {integrity: sha512-OWwz05d++TxzLEv4VnsTz5CmZ6mI6S05sfQGEMrNrQcOEERbX46332IvE7pO/EUiw7jUrrS40z/M7kPyjfl04g==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+    cpu: [x64]\n+    os: [win32]\n+\n   '@ioredis/commands@1.2.0':\n     resolution: {integrity: sha512-Sx1pU8EM64o2BrqNpEO1CNLtKQwyhuXuqyfH7oGKCk+1a33d2r5saW8zNwm3j6BTExtjrv2BxTgzzkMwts6vGg==}\n \n@@ -4324,6 +4560,10 @@ packages:\n     resolution: {integrity: sha512-463v3ZeIrcWtdgIg6vI6XUncguvr2TnGl4SzDXinkt9mSLpBJKXT3mW6xT3VQdDN11+WVs29pgvivTc4Lp8v+w==}\n     engines: {node: '>=8'}\n \n+  detect-libc@2.0.4:\n+    resolution: {integrity: sha512-3UDv+G9CsCKO1WKMGw9fwq/SWJYbI0c5Y7LU1AXYoDdbhE2AHQ6N6Nb34sG8Fj7T5APy8qXDCKuuIHd1BR0tVA==}\n+    engines: {node: '>=8'}\n+\n   detect-newline@3.1.0:\n     resolution: {integrity: sha512-TLz+x/vEXm/Y7P7wn1EJFNLxYpUD4TgMosxY6fAVJUnJMbupHBOncxyWUG9OpTaH9EBD7uFI5LfEgmMOc54DsA==}\n     engines: {node: '>=8'}\n@@ -8616,6 +8856,14 @@ packages:\n     resolution: {integrity: sha512-G+MY2YW33jgflKPTXXptVO28HvNOo9G3j0MybYAHeEmby+QuD2U98dT6ueht9cv/XDqZspSpIhoSW+BAKJ7Hig==}\n     engines: {node: '>=12.13.0'}\n \n+  sharp@0.33.5:\n+    resolution: {integrity: sha512-haPVm1EkS9pgvHrQ/F3Xy+hgcuMV0Wm9vfIBSiwZ05k+xgb0PkBQpGsAA/oWdDobNaZTH5ppvHtzCFbnSEwHVw==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+\n+  sharp@0.34.3:\n+    resolution: {integrity: sha512-eX2IQ6nFohW4DbvHIOLRB3MHFpYqaqvXd3Tp5e/T/dSH83fxaNJQRvDMhASmkNTsNTVF2/OOopzRCt7xokgPfg==}\n+    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n+\n   shasum-object@1.0.0:\n     resolution: {integrity: sha512-Iqo5rp/3xVi6M4YheapzZhhGPVs0yZwHj7wvwQ1B9z8H6zk+FEnI7y3Teq7qwnekfEhu8WmG2z0z4iWZaxLWVg==}\n \n@@ -10857,6 +11105,11 @@ snapshots:\n       pprof-format: 2.1.0\n       source-map: 0.7.4\n \n+  '@emnapi/runtime@1.4.5':\n+    dependencies:\n+      tslib: 2.8.1\n+    optional: true\n+\n   '@esbuild/android-arm@0.15.12':\n     optional: true\n \n@@ -10901,7 +11154,7 @@ snapshots:\n   '@financial-times/polyfill-useragent-normaliser@1.10.2':\n     dependencies:\n       '@financial-times/useragent_parser': 1.6.3\n-      semver: 7.3.8\n+      semver: 7.7.2\n \n   '@financial-times/useragent_parser@1.6.3': {}\n \n@@ -11337,6 +11590,167 @@ snapshots:\n       protobufjs: 7.5.3\n       yargs: 16.2.0\n \n+  '@img/sharp-darwin-arm64@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-darwin-arm64': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-darwin-arm64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-darwin-arm64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-darwin-x64@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-darwin-x64': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-darwin-x64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-darwin-x64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-libvips-darwin-arm64@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-darwin-arm64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-darwin-x64@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-darwin-x64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-arm64@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-arm64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-arm@1.0.5':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-arm@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-ppc64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-s390x@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-s390x@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-x64@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-linux-x64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linuxmusl-arm64@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-linuxmusl-arm64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-libvips-linuxmusl-x64@1.0.4':\n+    optional: true\n+\n+  '@img/sharp-libvips-linuxmusl-x64@1.2.0':\n+    optional: true\n+\n+  '@img/sharp-linux-arm64@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-arm64': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-linux-arm64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-arm64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-linux-arm@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-arm': 1.0.5\n+    optional: true\n+\n+  '@img/sharp-linux-arm@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-arm': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-linux-ppc64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-ppc64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-linux-s390x@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-s390x': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-linux-s390x@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-s390x': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-linux-x64@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-x64': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-linux-x64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linux-x64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-linuxmusl-arm64@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linuxmusl-arm64': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-linuxmusl-arm64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linuxmusl-arm64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-linuxmusl-x64@0.33.5':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linuxmusl-x64': 1.0.4\n+    optional: true\n+\n+  '@img/sharp-linuxmusl-x64@0.34.3':\n+    optionalDependencies:\n+      '@img/sharp-libvips-linuxmusl-x64': 1.2.0\n+    optional: true\n+\n+  '@img/sharp-wasm32@0.33.5':\n+    dependencies:\n+      '@emnapi/runtime': 1.4.5\n+    optional: true\n+\n+  '@img/sharp-wasm32@0.34.3':\n+    dependencies:\n+      '@emnapi/runtime': 1.4.5\n+    optional: true\n+\n+  '@img/sharp-win32-arm64@0.34.3':\n+    optional: true\n+\n+  '@img/sharp-win32-ia32@0.33.5':\n+    optional: true\n+\n+  '@img/sharp-win32-ia32@0.34.3':\n+    optional: true\n+\n+  '@img/sharp-win32-x64@0.33.5':\n+    optional: true\n+\n+  '@img/sharp-win32-x64@0.34.3':\n+    optional: true\n+\n   '@ioredis/commands@1.2.0': {}\n \n   '@istanbuljs/load-nyc-config@1.1.0':\n@@ -11812,7 +12226,7 @@ snapshots:\n   '@npmcli/fs@1.1.1':\n     dependencies:\n       '@gar/promisify': 1.1.3\n-      semver: 7.3.8\n+      semver: 7.7.2\n     optional: true\n \n   '@npmcli/move-file@1.1.2':\n@@ -12158,7 +12572,7 @@ snapshots:\n       '@rdfjs/data-model': 1.3.4\n       '@rdfjs/sink': 1.0.3\n       n3: 1.16.2\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n       readable-to-readable: 0.1.3\n \n   '@rdfjs/sink@1.0.3': {}\n@@ -14280,12 +14694,12 @@ snapshots:\n   are-we-there-yet@2.0.0:\n     dependencies:\n       delegates: 1.0.0\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   are-we-there-yet@3.0.1:\n     dependencies:\n       delegates: 1.0.0\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n     optional: true\n \n   arg@4.1.3: {}\n@@ -14620,19 +15034,19 @@ snapshots:\n \n   bl@1.2.3:\n     dependencies:\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n       safe-buffer: 5.2.1\n \n   bl@2.2.1:\n     dependencies:\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n       safe-buffer: 5.2.1\n \n   bl@4.1.0:\n     dependencies:\n       buffer: 5.7.1\n       inherits: 2.0.4\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   blob@0.0.5: {}\n \n@@ -14780,7 +15194,7 @@ snapshots:\n       elliptic: 6.5.4\n       inherits: 2.0.4\n       parse-asn1: 5.1.6\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n       safe-buffer: 5.2.1\n \n   browserify-zlib@0.2.0:\n@@ -14991,7 +15405,7 @@ snapshots:\n   callback-stream@1.1.0:\n     dependencies:\n       inherits: 2.0.4\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n \n   callguard@2.0.0: {}\n \n@@ -15747,6 +16161,8 @@ snapshots:\n \n   detect-libc@2.0.1: {}\n \n+  detect-libc@2.0.4: {}\n+\n   detect-newline@3.1.0: {}\n \n   detective@5.2.1:\n@@ -16668,7 +17084,7 @@ snapshots:\n   from2@2.3.0:\n     dependencies:\n       inherits: 2.0.4\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n \n   fs-capacitor@2.0.4: {}\n \n@@ -16896,7 +17312,7 @@ snapshots:\n       is-negated-glob: 1.0.0\n       ordered-read-streams: 1.0.1\n       pumpify: 1.5.1\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n       remove-trailing-separator: 1.1.0\n       to-absolute-glob: 2.0.2\n       unique-stream: 2.3.1\n@@ -18189,7 +18605,7 @@ snapshots:\n       jest-util: 27.5.1\n       natural-compare: 1.4.0\n       pretty-format: 27.5.1\n-      semver: 7.3.8\n+      semver: 7.7.2\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -19530,7 +19946,7 @@ snapshots:\n     dependencies:\n       bl: 2.2.1\n       inherits: 2.0.4\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n       safe-buffer: 5.2.1\n \n   msgpackr-extract@2.2.0:\n@@ -19571,7 +19987,7 @@ snapshots:\n   n3@1.16.2:\n     dependencies:\n       queue-microtask: 1.2.3\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   nan@2.17.0: {}\n \n@@ -19617,7 +20033,7 @@ snapshots:\n \n   node-abi@3.28.0:\n     dependencies:\n-      semver: 7.3.8\n+      semver: 7.7.2\n \n   node-addon-api@3.2.1: {}\n \n@@ -19661,7 +20077,7 @@ snapshots:\n       nopt: 5.0.0\n       npmlog: 6.0.2\n       rimraf: 3.0.2\n-      semver: 7.3.8\n+      semver: 7.7.2\n       tar: 6.1.11\n       which: 2.0.2\n     transitivePeerDependencies:\n@@ -19853,7 +20269,7 @@ snapshots:\n \n   ordered-read-streams@1.0.1:\n     dependencies:\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n \n   os-browserify@0.3.0: {}\n \n@@ -20643,7 +21059,7 @@ snapshots:\n       '@rdfjs/dataset': 1.1.1\n       '@rdfjs/to-ntriples': 1.0.2\n       rdf-normalize: 1.0.0\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   rdf-js@4.0.2:\n     dependencies:\n@@ -20716,13 +21132,13 @@ snapshots:\n \n   readable-to-readable@0.1.3:\n     dependencies:\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   readdirp@2.2.1:\n     dependencies:\n       graceful-fs: 4.2.11\n       micromatch: 3.1.10\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -21145,11 +21561,66 @@ snapshots:\n       detect-libc: 2.0.1\n       node-addon-api: 5.0.0\n       prebuild-install: 7.1.1\n-      semver: 7.3.8\n+      semver: 7.7.2\n       simple-get: 4.0.1\n       tar-fs: 2.1.1\n       tunnel-agent: 0.6.0\n \n+  sharp@0.33.5:\n+    dependencies:\n+      color: 4.2.3\n+      detect-libc: 2.0.4\n+      semver: 7.7.2\n+    optionalDependencies:\n+      '@img/sharp-darwin-arm64': 0.33.5\n+      '@img/sharp-darwin-x64': 0.33.5\n+      '@img/sharp-libvips-darwin-arm64': 1.0.4\n+      '@img/sharp-libvips-darwin-x64': 1.0.4\n+      '@img/sharp-libvips-linux-arm': 1.0.5\n+      '@img/sharp-libvips-linux-arm64': 1.0.4\n+      '@img/sharp-libvips-linux-s390x': 1.0.4\n+      '@img/sharp-libvips-linux-x64': 1.0.4\n+      '@img/sharp-libvips-linuxmusl-arm64': 1.0.4\n+      '@img/sharp-libvips-linuxmusl-x64': 1.0.4\n+      '@img/sharp-linux-arm': 0.33.5\n+      '@img/sharp-linux-arm64': 0.33.5\n+      '@img/sharp-linux-s390x': 0.33.5\n+      '@img/sharp-linux-x64': 0.33.5\n+      '@img/sharp-linuxmusl-arm64': 0.33.5\n+      '@img/sharp-linuxmusl-x64': 0.33.5\n+      '@img/sharp-wasm32': 0.33.5\n+      '@img/sharp-win32-ia32': 0.33.5\n+      '@img/sharp-win32-x64': 0.33.5\n+\n+  sharp@0.34.3:\n+    dependencies:\n+      color: 4.2.3\n+      detect-libc: 2.0.4\n+      semver: 7.7.2\n+    optionalDependencies:\n+      '@img/sharp-darwin-arm64': 0.34.3\n+      '@img/sharp-darwin-x64': 0.34.3\n+      '@img/sharp-libvips-darwin-arm64': 1.2.0\n+      '@img/sharp-libvips-darwin-x64': 1.2.0\n+      '@img/sharp-libvips-linux-arm': 1.2.0\n+      '@img/sharp-libvips-linux-arm64': 1.2.0\n+      '@img/sharp-libvips-linux-ppc64': 1.2.0\n+      '@img/sharp-libvips-linux-s390x': 1.2.0\n+      '@img/sharp-libvips-linux-x64': 1.2.0\n+      '@img/sharp-libvips-linuxmusl-arm64': 1.2.0\n+      '@img/sharp-libvips-linuxmusl-x64': 1.2.0\n+      '@img/sharp-linux-arm': 0.34.3\n+      '@img/sharp-linux-arm64': 0.34.3\n+      '@img/sharp-linux-ppc64': 0.34.3\n+      '@img/sharp-linux-s390x': 0.34.3\n+      '@img/sharp-linux-x64': 0.34.3\n+      '@img/sharp-linuxmusl-arm64': 0.34.3\n+      '@img/sharp-linuxmusl-x64': 0.34.3\n+      '@img/sharp-wasm32': 0.34.3\n+      '@img/sharp-win32-arm64': 0.34.3\n+      '@img/sharp-win32-ia32': 0.34.3\n+      '@img/sharp-win32-x64': 0.34.3\n+\n   shasum-object@1.0.0:\n     dependencies:\n       fast-safe-stringify: 2.1.1\n@@ -21491,7 +21962,7 @@ snapshots:\n       merge-source-map: 1.0.4\n       object-inspect: 1.4.1\n       quote-stream: 1.0.2\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n       shallow-copy: 0.0.1\n       static-eval: 2.1.0\n       through2: 2.0.5\n@@ -21510,7 +21981,7 @@ snapshots:\n   stream-combiner2@1.1.1:\n     dependencies:\n       duplexer2: 0.1.4\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n \n   stream-combiner@0.0.2:\n     dependencies:\n@@ -21546,7 +22017,7 @@ snapshots:\n   stream-splicer@2.0.1:\n     dependencies:\n       inherits: 2.0.4\n-      readable-stream: 2.3.7\n+      readable-stream: 2.3.8\n \n   stream-to-string@1.2.0:\n     dependencies:\n@@ -21574,7 +22045,7 @@ snapshots:\n \n   string-to-stream@3.0.1:\n     dependencies:\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   string-width@1.0.2:\n     dependencies:\n@@ -21783,7 +22254,7 @@ snapshots:\n       mime: 2.6.0\n       qs: 6.11.0\n       readable-stream: 3.6.0\n-      semver: 7.3.8\n+      semver: 7.7.2\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -21847,7 +22318,7 @@ snapshots:\n       end-of-stream: 1.4.4\n       fs-constants: 1.0.0\n       inherits: 2.0.4\n-      readable-stream: 3.6.0\n+      readable-stream: 3.6.2\n \n   tar-stream@3.1.7:\n     dependencies:"
        }
    ],
    "stats": {
        "total": 726,
        "additions": 694,
        "deletions": 32
    }
}