{
    "author": "SyMind",
    "message": "fix: rspack code analyzer should only handle javascript module (#80711)\n\nWhen import json module in middleware will case error, because\ncodeAnalyzerBySwc should only handle javascript module.",
    "sha": "80062e58bb8df11b987ee6e96a16815073605b6b",
    "files": [
        {
            "sha": "93d6e98a93ef4fd863ae3a89f289bf698be2724c",
            "filename": "packages/next/src/build/webpack/plugins/middleware-plugin.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/80062e58bb8df11b987ee6e96a16815073605b6b/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/80062e58bb8df11b987ee6e96a16815073605b6b/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts?ref=80062e58bb8df11b987ee6e96a16815073605b6b",
            "patch": "@@ -583,7 +583,12 @@ async function codeAnalyzerBySwc(\n     if (module.constructor.name !== 'NormalModule') {\n       continue\n     }\n-    const originalSource = (module as webpack.NormalModule).originalSource()\n+    const normalModule = module as webpack.NormalModule\n+    if (!normalModule.type.startsWith('javascript')) {\n+      // Only analyze JavaScript modules\n+      continue\n+    }\n+    const originalSource = normalModule.originalSource()\n     if (!originalSource) {\n       continue\n     }"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}