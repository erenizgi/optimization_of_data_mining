{
    "author": "icyJoseph",
    "message": "docs: x-nextjs-stale-time header (#84901)\n\nLet's add a note about this header.\n\n-\nhttps://github.com/vercel/next.js/blob/3ae7ace09338bcde92ececb6b03a03760f302aed/packages/next/src/server/app-render/app-render.tsx#L2076-L2079\n\n-\nhttps://github.com/vercel/next.js/blob/3ae7ace09338bcde92ececb6b03a03760f302aed/packages/next/src/client/components/segment-cache-impl/cache.ts#L262-L268\n\n-\nhttps://github.com/vercel/next.js/blob/3ae7ace09338bcde92ececb6b03a03760f302aed/packages/next/src/client/components/segment-cache-impl/cache.ts#L318-L326\n\n---------\n\nCo-authored-by: Ismael <ismael@vercel.com>",
    "sha": "45fcbdea7a86bc81a73ecadba37e1cc9c3493956",
    "files": [
        {
            "sha": "9fa289a8c66cc2a7305fa63a8742d16d63397a3f",
            "filename": "docs/01-app/03-api-reference/04-functions/cacheLife.mdx",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/45fcbdea7a86bc81a73ecadba37e1cc9c3493956/docs%2F01-app%2F03-api-reference%2F04-functions%2FcacheLife.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/45fcbdea7a86bc81a73ecadba37e1cc9c3493956/docs%2F01-app%2F03-api-reference%2F04-functions%2FcacheLife.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2FcacheLife.mdx?ref=45fcbdea7a86bc81a73ecadba37e1cc9c3493956",
            "patch": "@@ -98,7 +98,13 @@ Cache profiles are objects that contain the following properties:\n \n The \"stale\" property differs from the [`staleTimes`](/docs/app/api-reference/config/next-config-js/staleTimes) setting in that it specifically controls client-side router caching. While `staleTimes` is a global setting that affects all instances of both dynamic and static data, the `cacheLife` configuration allows you to define \"stale\" times on a per-function or per-route basis.\n \n-> **Good to know**: The “stale” property does not set the `Cache-control: max-age` header. It instead controls the client-side router cache.\n+### `stale` time in the client router cache\n+\n+The \"stale\" property does not set the `Cache-control: max-age` header. Instead, it controls the client-side router cache. The server sends this value to the client via the `x-nextjs-stale-time` response header (in seconds), which the client router uses to determine how long to cache the route before needing to revalidate.\n+\n+**The client enforces a minimum stale time of 30 seconds**: This ensures that prefetched data remains usable long enough for users to click on links after they've been prefetched. Without this minimum, very short stale times would cause prefetched data to expire before it could be used, making prefetching ineffective.\n+\n+This minimum only applies to time-based expiration. When you call [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag), [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath), [`updateTag`](/docs/app/api-reference/functions/updateTag), or [`refresh`](/docs/app/api-reference/functions/refresh) from a Server Action, the entire client cache is immediately cleared, bypassing the stale time entirely.\n \n ## Examples\n "
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}