{
    "author": "wyattjoh",
    "message": "Fix 404 responses for interception routes with missing children slots (#85779)\n\n### What?\n\nIntroduces a null-rendering default component for interception routes to\nprevent 404 responses when children slots are missing.\n\n### Why?\n\nWhen rendering interception routes like `(.)[id]`, there's a segment\nmismatch where the interception route lacks a children slot that the\nbase `[id]` route has.\n\n**The Bug:**\nPreviously, the framework injected a 404 page into the missing default\nslot for the children route. On platforms like Vercel, this caused full\n404 RSC responses because the HTTP status code has semantic meaning for\nroute behavior when using cache components. This resulted in the\n\"unknown segment value fallback page\" issue.\n\n**Impact:**\n- RSC requests for interception routes would return 404 status codes\n- Platform routing behavior was incorrectly triggered by these 404\nresponses\n- Only affects pages rendering with cache components\n\n### How?\n\n- Created new `default-null.tsx` builtin component that renders `null`\n- Updated Rust code (`app_structure.rs`) to detect interception routes\nand use the null default\n- Updated webpack loader (`next-app-loader/index.ts`) to check\n`isInterceptionRouteAppPath()` and inject the null default\n- Removed test-specific default component that was working around this\nbug\n- The old `page.tsx` is still used during client navigation, so there's\nno visible change to users\n\nThis ensures minimal RSC payload changes and prevents 404 status codes\nwhile maintaining existing client-side behavior.\n\nNAR-483",
    "sha": "291aefd98555879833ece638b8643cb42f195b7d",
    "files": [
        {
            "sha": "f4b973458394e71b2a01e13ec81ea7c4a1c3b046",
            "filename": "crates/next-core/src/app_structure.rs",
            "status": "modified",
            "additions": 47,
            "deletions": 16,
            "changes": 63,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fapp_structure.rs?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -1226,17 +1226,19 @@ async fn directory_tree_to_loader_tree_internal(\n \n         if let Some(subtree) = subtree {\n             if let Some(key) = parallel_route_key {\n-                let is_inside_catchall = app_page.is_catchall();\n-\n                 // Validate that parallel routes (except \"children\") have a default.js file.\n-                // Skip this validation if the slot is UNDER a catch-all route (i.e., the\n-                // parallel route is a child of a catch-all segment).\n+                // This validation matches the webpack loader's logic but is implemented\n+                // differently due to Turbopack's single-pass recursive processing.\n+\n+                // Check if we're inside a catch-all route (i.e., the parallel route is a child\n+                // of a catch-all segment). Only skip validation if the slot is UNDER a catch-all.\n                 // For example:\n                 //   /[...catchAll]/@slot - is_inside_catchall = true (skip validation) ‚úì\n                 //   /@slot/[...catchAll] - is_inside_catchall = false (require default) ‚úì\n                 // The catch-all provides fallback behavior, so default.js is not required.\n-                //\n-                // Also skip validation if this is a leaf segment (no child routes).\n+                let is_inside_catchall = app_page.is_catchall();\n+\n+                // Check if this is a leaf segment (no child routes).\n                 // Leaf segments don't need default.js because there are no child routes\n                 // that could cause the parallel slot to unmatch. For example:\n                 //   /repo-overview/@slot/page with no child routes - is_leaf_segment = true (skip\n@@ -1245,10 +1247,23 @@ async fn directory_tree_to_loader_tree_internal(\n                 // This also handles route groups correctly by filtering them out.\n                 let is_leaf_segment = !has_child_routes(directory_tree);\n \n+                // Turbopack-specific: Check if the parallel slot has matching child routes.\n+                // In webpack, this is checked implicitly via the two-phase processing:\n+                // slots with content are processed first and skip validation in the second phase.\n+                // In Turbopack's single-pass approach, we check directly if the slot has child\n+                // routes. If the slot has child routes that match the parent's\n+                // child routes, it can render content for those routes and doesn't\n+                // need a default. For example:\n+                //   /parent/@slot/page + /parent/@slot/child + /parent/child - slot_has_children =\n+                // true (skip validation) ‚úì   /parent/@slot/page + /parent/child (no\n+                // @slot/child) - slot_has_children = false (require default) ‚úì\n+                let slot_has_children = has_child_routes(subdirectory);\n+\n                 if key != \"children\"\n                     && subdirectory.modules.default.is_none()\n                     && !is_inside_catchall\n                     && !is_leaf_segment\n+                    && !slot_has_children\n                 {\n                     missing_default_parallel_route_issue(\n                         app_dir.clone(),\n@@ -1341,8 +1356,15 @@ async fn directory_tree_to_loader_tree_internal(\n \n             tree.parallel_routes.insert(\n                 key.clone(),\n-                default_route_tree(app_dir.clone(), global_metadata, app_page.clone(), default)\n-                    .await?,\n+                default_route_tree(\n+                    app_dir.clone(),\n+                    global_metadata,\n+                    app_page.clone(),\n+                    default,\n+                    key.clone(),\n+                    for_app_path.clone(),\n+                )\n+                .await?,\n             );\n         }\n     }\n@@ -1352,8 +1374,10 @@ async fn directory_tree_to_loader_tree_internal(\n             tree = default_route_tree(\n                 app_dir.clone(),\n                 global_metadata,\n-                app_page,\n+                app_page.clone(),\n                 modules.default.clone(),\n+                rcstr!(\"children\"),\n+                for_app_path.clone(),\n             )\n             .await?;\n         } else {\n@@ -1365,8 +1389,10 @@ async fn directory_tree_to_loader_tree_internal(\n             default_route_tree(\n                 app_dir.clone(),\n                 global_metadata,\n-                app_page,\n+                app_page.clone(),\n                 modules.default.clone(),\n+                rcstr!(\"children\"),\n+                for_app_path.clone(),\n             )\n             .await?,\n         );\n@@ -1388,6 +1414,8 @@ async fn default_route_tree(\n     global_metadata: Vc<GlobalMetadata>,\n     app_page: AppPage,\n     default_component: Option<FileSystemPath>,\n+    slot_name: RcStr,\n+    for_app_path: AppPath,\n ) -> Result<AppPageLoaderTree> {\n     Ok(AppPageLoaderTree {\n         page: app_page.clone(),\n@@ -1399,13 +1427,16 @@ async fn default_route_tree(\n                 ..Default::default()\n             }\n         } else {\n-            // default fallback component\n+            let contains_interception = for_app_path.contains_interception();\n+\n+            let default_file = if contains_interception && slot_name == \"children\" {\n+                \"dist/client/components/builtin/default-null.js\"\n+            } else {\n+                \"dist/client/components/builtin/default.js\"\n+            };\n+\n             AppDirModules {\n-                default: Some(\n-                    get_next_package(app_dir)\n-                        .await?\n-                        .join(\"dist/client/components/builtin/default.js\")?,\n-                ),\n+                default: Some(get_next_package(app_dir).await?.join(default_file)?),\n                 ..Default::default()\n             }\n         },"
        },
        {
            "sha": "c10501a3f8075fa8cd56b9334b9bcd25fbcccd8a",
            "filename": "crates/next-core/src/next_app/mod.rs",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fmod.rs?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -460,6 +460,18 @@ impl AppPath {\n \n         true\n     }\n+\n+    /// Returns true if ANY segment in the entire path is an interception route.\n+    /// This is different from `is_intercepting()` which only checks the last\n+    /// segment.\n+    pub fn contains_interception(&self) -> bool {\n+        self.iter().any(|segment| {\n+            matches!(\n+                segment,\n+                PathSegment::Static(s) if s.starts_with(\"(.)\") || s.starts_with(\"(..)\") || s.starts_with(\"(...)\")\n+            )\n+        })\n+    }\n }\n \n impl Deref for AppPath {"
        },
        {
            "sha": "53f703c92b6ef5d367db393bbbf1fdb1a1c9ee52",
            "filename": "packages/next/src/build/webpack/loaders/next-app-loader/index.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 1,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -35,9 +35,11 @@ import {\n import { getFilesInDir } from '../../../../lib/get-files-in-dir'\n import type { PageExtensions } from '../../../page-extensions-type'\n import { PARALLEL_ROUTE_DEFAULT_PATH } from '../../../../client/components/builtin/default'\n+import { PARALLEL_ROUTE_DEFAULT_NULL_PATH } from '../../../../client/components/builtin/default-null'\n import type { Compilation } from 'webpack'\n import { createAppRouteCode } from './create-app-route-code'\n import { MissingDefaultParallelRouteError } from '../../../../shared/lib/errors/missing-default-parallel-route-error'\n+import { isInterceptionRouteAppPath } from '../../../../shared/lib/router/utils/interception-routes'\n \n import { normalizePathSep } from '../../../../shared/lib/page-path/normalize-path-sep'\n import { installBindings } from '../../../swc/install-bindings'\n@@ -558,7 +560,18 @@ async function createTreeCodeFromPath(\n         let defaultPath = await resolver(`${fullSegmentPath}/default`)\n         if (!defaultPath) {\n           if (adjacentParallelSegment === 'children') {\n-            defaultPath = PARALLEL_ROUTE_DEFAULT_PATH\n+            // When we host applications on Vercel, the status code affects the\n+            // underlying behavior of the route, which when we are missing the\n+            // children slot of an interception route, will yield a full 404\n+            // response for the RSC request instead. For this reason, we expect\n+            // that if a default file is missing when we're rendering an\n+            // interception route, we instead always render null for the default\n+            // slot to avoid the full 404 response.\n+            if (isInterceptionRouteAppPath(page)) {\n+              defaultPath = PARALLEL_ROUTE_DEFAULT_NULL_PATH\n+            } else {\n+              defaultPath = PARALLEL_ROUTE_DEFAULT_PATH\n+            }\n           } else {\n             // Check if we're inside a catch-all route (i.e., the parallel route is a child\n             // of a catch-all segment). Only skip validation if the slot is UNDER a catch-all."
        },
        {
            "sha": "a466a5e10edc47d6db7b35c7f67eacfb18f8579f",
            "filename": "packages/next/src/client/components/builtin/default-null.tsx",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fdefault-null.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fdefault-null.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Fbuiltin%2Fdefault-null.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,6 @@\n+export const PARALLEL_ROUTE_DEFAULT_NULL_PATH =\n+  'next/dist/client/components/builtin/default-null.js'\n+\n+export default function ParallelRouteDefaultNull() {\n+  return null\n+}"
        },
        {
            "sha": "0459845769f77e2c4de13855ba4dff7ae66100be",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)explicit-layout/deeper/page.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)explicit-layout%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)explicit-layout%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)explicit-layout%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,8 @@\n+export default function Page() {\n+  return (\n+    <div>\n+      <h3>Deeper page under explicit layout</h3>\n+      <p>This page is nested under the explicit layout</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "924edb9843f4a00571a4841255b098c264bc9844",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)explicit-layout/layout.tsx",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)explicit-layout%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)explicit-layout%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)explicit-layout%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,18 @@\n+/**\n+ * TEST CASE: Interception route WITH explicit layout.tsx but NO parallel routes\n+ *\n+ * This is the KEY test to determine if we need to check for:\n+ * - Implicit layout (from parallel routes) OR\n+ * - Explicit layout (layout.tsx file)\n+ */\n+export default function Layout({ children }: { children: React.ReactNode }) {\n+  return (\n+    <div>\n+      <div>Explicit layout at (.)explicit-layout</div>\n+      <div>\n+        <div>children:</div>\n+        {children}\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "71be66f97cb4a682eafdecd3beff8b86e5e46880",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)has-both/@sidebar/page.tsx",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-both%2F%40sidebar%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-both%2F%40sidebar%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-both%2F%40sidebar%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,7 @@\n+export default function Page() {\n+  return (\n+    <div>\n+      <strong>@sidebar content</strong>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "58bfe5ecb4adf8f0e96c27d0edd0075cbcd99794",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)has-both/page.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-both%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-both%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-both%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,17 @@\n+/**\n+ * TEST CASE 3: Interception route WITH parallel routes AND page.tsx\n+ *\n+ * Expected: NO default.tsx needed for children slot\n+ * Reason: Has page.tsx which fills the children slot\n+ *         The @sidebar slot exists but children slot has content\n+ */\n+export default function Page() {\n+  return (\n+    <div>\n+      <h3>‚úÖ TEST CASE 3: Has both @sidebar AND page.tsx</h3>\n+      <p>This level has @sidebar parallel route AND a page.tsx</p>\n+      <p>The page.tsx fills the children slot.</p>\n+      <p>NO default.tsx needed!</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "808b10624f26f56496369bb2c310c1f94811e178",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)has-page/page.tsx",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-page%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-page%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)has-page%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,15 @@\n+/**\n+ * TEST CASE 1: Interception route WITH page.tsx\n+ *\n+ * Expected: NO default.tsx needed\n+ * Reason: Has a page at this level, so no children slot exists\n+ */\n+export default function Page() {\n+  return (\n+    <div>\n+      <h3>‚úÖ TEST CASE 1: Has page.tsx</h3>\n+      <p>This interception route has a page.tsx at this level.</p>\n+      <p>No children slot exists, so NO default.tsx needed!</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "ec0fc55c5e6ee4a74dac2b960ebc1fb9e4acc2af",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)no-parallel-routes/deeper/page.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)no-parallel-routes%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)no-parallel-routes%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)no-parallel-routes%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,17 @@\n+/**\n+ * TEST CASE 2: Interception route WITHOUT parallel routes\n+ *\n+ * Expected: NO default.tsx needed at (.)no-parallel-routes level\n+ * Reason: No @parallel routes exist, so no implicit layout created\n+ *         Only has a nested page, no children slot at root level\n+ */\n+export default function Page() {\n+  return (\n+    <div>\n+      <h3>‚úÖ TEST CASE 2: No parallel routes</h3>\n+      <p>This is a nested page under (.)no-parallel-routes/deeper</p>\n+      <p>No @sidebar or other parallel routes exist at parent level.</p>\n+      <p>NO default.tsx needed at (.)no-parallel-routes!</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "5604d50f64c9323b0f36678cda87156a8081b0be",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)simple-page/page.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)simple-page%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)simple-page%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)simple-page%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,17 @@\n+/**\n+ * TEST CASE: Interception route WITHOUT parallel routes (just a page)\n+ *\n+ * Expected: Should work WITHOUT special null default handling\n+ * Reason: No parallel routes at this level means no children slot structure\n+ *         The page itself is the content, no implicit layout needed\n+ */\n+export default function Page() {\n+  return (\n+    <div>\n+      <h3>‚úÖ Simple interception page (no parallel routes)</h3>\n+      <p>This is just a regular page.tsx at the interception route level.</p>\n+      <p>No @sidebar or other parallel routes.</p>\n+      <p>Should NOT need null default logic!</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "98a0eb9ebe326444a2ce7491d5e7c824d4ee1ef0",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)test-nested/@sidebar/deeper/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2F%40sidebar%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2F%40sidebar%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2F%40sidebar%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Intercepted test-nested sidebar/deeper</div>\n+}"
        },
        {
            "sha": "4ec910cdfd11b80e391e8970cc8e4b220c7df7bb",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)test-nested/@sidebar/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2F%40sidebar%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2F%40sidebar%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2F%40sidebar%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Intercepted test-nested sidebar</div>\n+}"
        },
        {
            "sha": "d7c9d632775ab432eb1c7f687f81e953766d860d",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)test-nested/deeper/@panel/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2Fdeeper%2F%40panel%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2Fdeeper%2F%40panel%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2Fdeeper%2F%40panel%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Panel at deeper level (deeper than marker)</div>\n+}"
        },
        {
            "sha": "3bc5fe50e264359271831d774a7c6008874f4110",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/@modal/(.)test-nested/layout.tsx",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2F%40modal%2F(.)test-nested%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,14 @@\n+export default function Layout({\n+  children,\n+  sidebar,\n+}: {\n+  children: React.ReactNode\n+  sidebar: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <div>{sidebar}</div>\n+      <div>{children}</div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "75268750d729155b1175a8f568322aec4dbb41f7",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/explicit-layout/deeper/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fexplicit-layout%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fexplicit-layout%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fexplicit-layout%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Regular explicit-layout/deeper route</div>\n+}"
        },
        {
            "sha": "77ac17ba3c92d9eb19582346c21678c944a16f09",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/explicit-layout/layout.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fexplicit-layout%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fexplicit-layout%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fexplicit-layout%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,8 @@\n+export default function Layout({ children }: { children: React.ReactNode }) {\n+  return (\n+    <div>\n+      <div>Regular explicit-layout layout</div>\n+      {children}\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "2fa9b8ce84b576c2a1138a5ff40cd09c17e061da",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/has-both/@sidebar/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2F%40sidebar%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2F%40sidebar%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2F%40sidebar%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Sidebar for regular has-both route</div>\n+}"
        },
        {
            "sha": "c988efdd2410fd69ddcd17e86a98efffe8a46940",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/has-both/layout.tsx",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,21 @@\n+export default function Layout({\n+  children,\n+  sidebar,\n+}: {\n+  children: React.ReactNode\n+  sidebar: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <div>has-both layout</div>\n+      <div>\n+        <div>@sidebar:</div>\n+        {sidebar}\n+      </div>\n+      <div>\n+        <div>children:</div>\n+        {children}\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "41b546458afeb8e2c97c6adc987a8a1ba0bcf5dc",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/has-both/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-both%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Regular has-both route</div>\n+}"
        },
        {
            "sha": "649c502292ab557865c3b4e758bfe4252b80e717",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/has-page/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-page%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-page%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fhas-page%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Regular has-page route</div>\n+}"
        },
        {
            "sha": "94463753e86a60f31940fb869e18eb3820c25bf1",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/layout.tsx",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -5,8 +5,14 @@ export default function Layout(props: {\n   return (\n     <html>\n       <body>\n-        <div id=\"children\">{props.children}</div>\n-        <div id=\"modal\">{props.modal}</div>\n+        <div id=\"children\">\n+          <div>CHILDREN SLOT:</div>\n+          {props.children}\n+        </div>\n+        <div id=\"modal\">\n+          <div>MODAL SLOT:</div>\n+          {props.modal}\n+        </div>\n       </body>\n     </html>\n   )"
        },
        {
            "sha": "163203325b8c98cc5fec4d21030ba8ef83119689",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/no-parallel-routes/deeper/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fno-parallel-routes%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fno-parallel-routes%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fno-parallel-routes%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Regular no-parallel-routes/deeper route</div>\n+}"
        },
        {
            "sha": "78696db55f96efa5b23f20388f9d560963c098af",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/page.tsx",
            "status": "modified",
            "additions": 82,
            "deletions": 2,
            "changes": 84,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -2,8 +2,88 @@ import Link from 'next/link'\n \n export default function Page() {\n   return (\n-    <div>\n-      <Link href=\"/foo/1\">Foo</Link> <Link href=\"/bar/1\">Foo</Link>\n+    <div id=\"children\">\n+      <section>\n+        <h2>‚úÖ Should Work WITHOUT default.tsx</h2>\n+\n+        <div>\n+          <h3>Test Case 1a: Simple page (no parallel routes)</h3>\n+          <Link href=\"/simple-page\" style={{ color: 'blue', fontSize: '16px' }}>\n+            ‚Üí /simple-page\n+          </Link>\n+          <p>\n+            Interception route with just a page.tsx, no parallel routes at all.\n+          </p>\n+        </div>\n+\n+        <div>\n+          <h3>Test Case 1b: Has page.tsx</h3>\n+          <Link href=\"/has-page\">‚Üí /has-page</Link>\n+          <p>\n+            Interception route has page.tsx at root level. No children slot\n+            exists.\n+          </p>\n+        </div>\n+\n+        <div>\n+          <h3>Test Case 2: No parallel routes</h3>\n+          <Link href=\"/no-parallel-routes/deeper\">\n+            ‚Üí /no-parallel-routes/deeper\n+          </Link>\n+          <p>No @parallel routes exist, so no implicit layout created.</p>\n+        </div>\n+\n+        <div>\n+          <h3>Test Case 3: Has both @sidebar AND page.tsx</h3>\n+          <Link href=\"/has-both\">‚Üí /has-both</Link>\n+          <p>\n+            Has @sidebar parallel route BUT page.tsx fills the children slot.\n+          </p>\n+        </div>\n+      </section>\n+\n+      <section>\n+        <h2>üî¨ Test Cases - Require Null Default Logic</h2>\n+\n+        <div>\n+          <h3>Test Case 4a: Has @sidebar but NO page.tsx (implicit layout)</h3>\n+          <Link href=\"/test-nested\">‚Üí /test-nested</Link>\n+          <p>Has @sidebar (creates implicit layout) but NO page.tsx.</p>\n+          <p>‚úì Auto-uses null default (no explicit files needed)</p>\n+        </div>\n+\n+        <div>\n+          <h3>Test Case 4b: Has explicit layout.tsx but NO parallel routes</h3>\n+          <Link href=\"/explicit-layout/deeper\">‚Üí /explicit-layout/deeper</Link>\n+          <p>\n+            Has explicit layout.tsx with children slot, but NO parallel routes\n+            like @sidebar.\n+          </p>\n+          <p>\n+            ? Should it 404 or 200? This determines if we need to check for\n+            explicit layouts!\n+          </p>\n+        </div>\n+      </section>\n+      <section>\n+        <h2>Original Tests</h2>\n+        <ul>\n+          <li>\n+            <Link href=\"/foo/1\">/foo/1</Link>\n+          </li>\n+          <li>\n+            <Link href=\"/bar/1\">/bar/1</Link>\n+          </li>\n+          <li>\n+            <Link href=\"/test-nested/deeper\">/test-nested/deeper</Link>\n+          </li>\n+          <li>\n+            <Link href=\"/generate-static-params/foo\">\n+              /generate-static-params/foo\n+            </Link>\n+          </li>\n+        </ul>\n+      </section>\n     </div>\n   )\n }"
        },
        {
            "sha": "86b9e9a3881296c372d3f1de5b6988d1d31e3c9d",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/regular-route/@sidebar/default.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2F%40sidebar%2Fdefault.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2F%40sidebar%2Fdefault.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2F%40sidebar%2Fdefault.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "previous_filename": "test/e2e/app-dir/interception-dynamic-segment/app/default.tsx"
        },
        {
            "sha": "d423ec38ab297abad5ef1d7bcda75fc63f897a9e",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/regular-route/@sidebar/page.tsx",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2F%40sidebar%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2F%40sidebar%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2F%40sidebar%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,7 @@\n+export default function Page() {\n+  return (\n+    <div>\n+      <strong>Regular route @sidebar</strong>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "f1acd56b3aad905801e1b1ca5acc15f94596cf5c",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/regular-route/deeper/page.tsx",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,18 @@\n+/**\n+ * TEST CASE 5: Regular route (NO interception) WITH parallel routes but NO page.tsx\n+ *\n+ * Expected: REQUIRES default.tsx at regular-route level OR will 404\n+ * Reason: This is NOT an interception route, so missing children should 404\n+ *         Currently uses PARALLEL_ROUTE_DEFAULT_PATH (calls notFound())\n+ *         This is the CORRECT behavior for non-interception routes\n+ */\n+export default function Page() {\n+  return (\n+    <div>\n+      <h3>‚ùå TEST CASE 5: Regular route without default.tsx</h3>\n+      <p>This is deeper/page.tsx</p>\n+      <p>Parent has @sidebar but no page.tsx or default.tsx</p>\n+      <p>Should 404 when navigating directly to /regular-route!</p>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "7bb397feeaf40160695e317e0037c1ce220c8055",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/regular-route/layout.tsx",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fregular-route%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,15 @@\n+export default function Layout({\n+  children,\n+  sidebar,\n+}: {\n+  children: React.ReactNode\n+  sidebar: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <div>Regular Route Layout</div>\n+      <div>{sidebar}</div>\n+      <div>{children}</div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "1d102f1263c9cd44bd690643d17affe0820a0ef4",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/simple-page/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fsimple-page%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fsimple-page%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Fsimple-page%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Regular simple-page route</div>\n+}"
        },
        {
            "sha": "4c4591cb9e734bb601211614c819ff75cadc1498",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/test-nested/@sidebar/deeper/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2F%40sidebar%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2F%40sidebar%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2F%40sidebar%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Actual test-nested sidebar/deeper</div>\n+}"
        },
        {
            "sha": "7ab4dd920a1a7db1502ab8a8d20cba18a6bffb51",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/test-nested/@sidebar/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2F%40sidebar%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2F%40sidebar%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2F%40sidebar%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Actual test-nested sidebar</div>\n+}"
        },
        {
            "sha": "5056ab590e48499ca44f98faa8265e5a662ccd82",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/test-nested/deeper/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Fdeeper%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Fdeeper%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Fdeeper%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Actual test-nested/deeper page</div>\n+}"
        },
        {
            "sha": "bf009d841c7a8bcca52239ed1767be8b1df14078",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/test-nested/layout.tsx",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Flayout.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,21 @@\n+export default function Layout({\n+  children,\n+  sidebar,\n+}: {\n+  children: React.ReactNode\n+  sidebar: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <div>test-nested layout</div>\n+      <div>\n+        <div>@sidebar slot:</div>\n+        {sidebar}\n+      </div>\n+      <div>\n+        <div>children slot:</div>\n+        {children}\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "409aa15a681c27371edeed59d9f20e360698d2f7",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/app/test-nested/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Fapp%2Ftest-nested%2Fpage.tsx?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <div>Actual test-nested page</div>\n+}"
        },
        {
            "sha": "b3b0afdabad72c4dc5a6c6021ae10df0e2c722f5",
            "filename": "test/e2e/app-dir/interception-dynamic-segment/interception-dynamic-segment.test.ts",
            "status": "modified",
            "additions": 296,
            "deletions": 7,
            "changes": 303,
            "blob_url": "https://github.com/vercel/next.js/blob/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Finterception-dynamic-segment.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/291aefd98555879833ece638b8643cb42f195b7d/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Finterception-dynamic-segment.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Finterception-dynamic-segment%2Finterception-dynamic-segment.test.ts?ref=291aefd98555879833ece638b8643cb42f195b7d",
            "patch": "@@ -1,24 +1,47 @@\n import { nextTestSetup } from 'e2e-utils'\n import { retry } from 'next-test-utils'\n+import { createRouterAct } from 'router-act'\n \n describe('interception-dynamic-segment', () => {\n-  const { next, isNextStart } = nextTestSetup({\n+  const { next, isNextStart, isNextDev } = nextTestSetup({\n     files: __dirname,\n   })\n \n+  /**\n+   * Create a browser with router act that will FAIL if any 404s occur during navigation.\n+   * This is critical because if a 404 occurs, the client will perform MPA navigation\n+   * (full page reload) which still successfully navigates, hiding the bug.\n+   */\n+  async function createBrowserWithRouterAct(url: string) {\n+    let act: ReturnType<typeof createRouterAct>\n+    const browser = await next.browser(url, {\n+      beforePageLoad(page) {\n+        // DON'T use allowErrorStatusCodes - we want 404s to fail the test\n+        act = createRouterAct(page)\n+      },\n+    })\n+\n+    return { act: act!, browser }\n+  }\n+\n   it('should work when interception route is paired with a dynamic segment', async () => {\n     const browser = await next.browser('/')\n \n     await browser.elementByCss('[href=\"/foo/1\"]').click()\n+    await browser.waitForIdleNetwork()\n+\n     await retry(async () => {\n-      expect(await browser.elementById('modal').text()).toEqual('intercepted')\n+      expect(await browser.elementById('modal').text()).toContain('intercepted')\n     })\n+\n     await browser.refresh()\n+    await browser.waitForIdleNetwork()\n+\n     await retry(async () => {\n-      expect(await browser.elementById('modal').text()).toEqual('catch-all')\n+      expect(await browser.elementById('modal').text()).toContain('catch-all')\n     })\n     await retry(async () => {\n-      expect(await browser.elementById('children').text()).toEqual(\n+      expect(await browser.elementById('children').text()).toContain(\n         'not intercepted'\n       )\n     })\n@@ -30,21 +53,27 @@ describe('interception-dynamic-segment', () => {\n \n     // Navigate with interception\n     await browser.elementByCss('[href=\"/foo/1\"]').click()\n+    await browser.waitForIdleNetwork()\n+\n     await retry(async () => {\n-      expect(await browser.elementById('modal').text()).toEqual('intercepted')\n+      expect(await browser.elementById('modal').text()).toContain('intercepted')\n     })\n \n     // Go back to root\n     await browser.back()\n+    await browser.waitForIdleNetwork()\n+\n     await retry(async () => {\n       const url = await browser.url()\n       expect(url).toContain('/')\n     })\n \n     // Go forward - should show intercepted version\n     await browser.forward()\n+    await browser.waitForIdleNetwork()\n+\n     await retry(async () => {\n-      expect(await browser.elementById('modal').text()).toEqual('intercepted')\n+      expect(await browser.elementById('modal').text()).toContain('intercepted')\n     })\n   })\n \n@@ -54,11 +83,17 @@ describe('interception-dynamic-segment', () => {\n \n     for (let i = 0; i < 2; i++) {\n       await browser.elementByCss('[href=\"/foo/1\"]').click()\n+      await browser.waitForIdleNetwork()\n+\n       await retry(async () => {\n-        expect(await browser.elementById('modal').text()).toEqual('intercepted')\n+        expect(await browser.elementById('modal').text()).toContain(\n+          'intercepted'\n+        )\n       })\n \n       await browser.back()\n+      await browser.waitForIdleNetwork()\n+\n       await retry(async () => {\n         const url = await browser.url()\n         expect(url).toMatch(/\\/$/)\n@@ -74,4 +109,258 @@ describe('interception-dynamic-segment', () => {\n       expect(res.headers.get('x-nextjs-cache')).toBe('HIT')\n     })\n   }\n+\n+  if (!isNextDev) {\n+    /**\n+     * Test Case Validation: Ensure NO 404s occur during interception navigation\n+     * These tests validate the fix for default.tsx injection with parallel routes.\n+     * Using createRouterAct WITHOUT allowErrorStatusCodes ensures that any 404\n+     * response will fail the test, preventing the bug where MPA navigation masks 404s.\n+     */\n+    describe('Default.tsx injection validation (no 404s allowed)', () => {\n+      /**\n+       * Test Case: Dynamic segment interception route [username]/[id]\n+       * Validates that intercepted routes with dynamic segments don't return 404\n+       */\n+      it('should not render a 404 for the intercepted route with dynamic segments', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/foo/1\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          expect(await browser.elementById('modal').text()).toContain(\n+            'intercepted'\n+          )\n+        })\n+      })\n+      /**\n+       * Test Case 1a: Simple interception page (no parallel routes)\n+       * Structure: @modal/(.)simple-page/page.tsx\n+       * Expected: Should work WITHOUT null default logic\n+       * Reason: No parallel routes = no implicit layout = no children slot\n+       */\n+      it('should navigate to /simple-page without 404 (no parallel routes)', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/simple-page\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          expect(await browser.elementByCss('#modal h3').text()).toContain(\n+            'Simple interception page'\n+          )\n+        })\n+      })\n+\n+      /**\n+       * Test Case 1b: Has page.tsx at interception level\n+       * Structure: @modal/(.)has-page/page.tsx\n+       * Expected: Should work WITHOUT default.tsx\n+       * Reason: page.tsx fills the children slot\n+       */\n+      it('should navigate to /has-page without 404 (page fills children)', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/has-page\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          expect(await browser.elementByCss('#modal h3').text()).toContain(\n+            'TEST CASE 1'\n+          )\n+        })\n+      })\n+\n+      /**\n+       * Test Case 2: No parallel routes (nested page)\n+       * Structure: @modal/(.)no-parallel-routes/deeper/page.tsx\n+       * Expected: Should work WITHOUT default.tsx at parent level\n+       * Reason: No parallel routes exist, so no implicit layout\n+       */\n+      it('should navigate to /no-parallel-routes/deeper without 404', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser\n+            .elementByCss('[href=\"/no-parallel-routes/deeper\"]')\n+            .click()\n+        })\n+\n+        await retry(async () => {\n+          expect(await browser.elementByCss('#modal h3').text()).toContain(\n+            'TEST CASE 2'\n+          )\n+        })\n+      })\n+\n+      /**\n+       * Test Case 3: Has both @sidebar AND page.tsx\n+       * Structure: @modal/(.)has-both/page.tsx + @sidebar/page.tsx\n+       * Expected: Should work WITHOUT default.tsx\n+       * Reason: page.tsx fills children slot, even though @sidebar creates implicit layout\n+       */\n+      it('should navigate to /has-both without 404 (has both @sidebar and page)', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/has-both\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          expect(await browser.elementByCss('#modal h3').text()).toContain(\n+            'TEST CASE 3'\n+          )\n+        })\n+      })\n+\n+      /**\n+       * Test Case 4: Has @sidebar but NO page.tsx (THE KEY BUG CASE)\n+       * Structure: @modal/(.)test-nested/@sidebar/page.tsx (NO page.tsx at root)\n+       * Expected: Should work WITHOUT explicit default.tsx (auto null default)\n+       * Reason: Interception + parallel routes should inject null default\n+       *\n+       * This is the critical test! Without the fix:\n+       * 1. Server returns 404 (default.js calls notFound())\n+       * 2. Client sees !res.ok in fetch-server-response.ts:229\n+       * 3. Client triggers doMpaNavigation() - full page reload\n+       * 4. Navigation still succeeds via MPA, hiding the 404 bug\n+       *\n+       * With createRouterAct (no allowErrorStatusCodes), 404 fails the test.\n+       */\n+      it('should navigate to /test-nested without 404 (auto null default)', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/test-nested\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          // Modal should show intercepted content\n+          const modalContent = await browser.elementByCss('#modal').text()\n+          expect(modalContent).toContain('Intercepted test-nested sidebar')\n+        })\n+\n+        await retry(async () => {\n+          // Children slot should still show original page (/)\n+          const childrenContent = await browser.elementByCss('#children').text()\n+          expect(childrenContent).toContain('CHILDREN SLOT')\n+        })\n+      })\n+\n+      /**\n+       * Test Case 4b: Navigate deeper within intercepted route with parallel routes\n+       * This validates that navigating to the deeper page directly (from home) works\n+       */\n+      it('should navigate to /test-nested/deeper without 404', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        // Navigate directly to the deeper page from home\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/test-nested/deeper\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          const modalContent = await browser.elementByCss('#modal').text()\n+          // Should show the deeper intercepted content\n+          expect(modalContent).toContain('deeper')\n+        })\n+      })\n+\n+      it('should navigate to /regular-route/deeper without 404 (has page)', async () => {\n+        // Navigate directly via URL to avoid potential link click issues\n+        const browser = await next.browser('/regular-route/deeper')\n+\n+        await retry(async () => {\n+          // Since this is NOT an interception route, we should see the actual page content\n+          // The page should render in the main content area, not in a modal\n+          const bodyText = await browser.elementByCss('body').text()\n+          expect(bodyText).toContain('Regular route without default.tsx')\n+          expect(bodyText).toContain('deeper/page.tsx')\n+        })\n+      })\n+\n+      /**\n+       * Explicit layout test: Verify behavior with layout.tsx but no parallel routes\n+       */\n+      it('should navigate to /explicit-layout/deeper without 404', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/explicit-layout/deeper\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          const modalContent = await browser.elementByCss('#modal').text()\n+          expect(modalContent).toContain('Explicit layout')\n+          expect(modalContent).toContain('Deeper page under explicit layout')\n+        })\n+      })\n+\n+      /**\n+       * Repeated navigation test: Validate __DEFAULT__ marker handling is consistent\n+       * Uses act() to ensure navigation requests return 200 (not 404). Each forward\n+       * navigation triggers an RSC request (even if cached), while back navigation\n+       * uses browser history without network requests.\n+       */\n+      it('should handle repeated interceptions without 404', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        for (let i = 0; i < 3; i++) {\n+          // Forward navigation: triggers RSC request (validates no 404)\n+          await act(\n+            async () => {\n+              await browser.elementByCss('[href=\"/test-nested\"]').click()\n+            },\n+            i > 0 ? 'no-requests' : undefined\n+          )\n+\n+          await retry(async () => {\n+            const modalContent = await browser.elementByCss('#modal').text()\n+            expect(modalContent).toContain('Intercepted test-nested sidebar')\n+          })\n+\n+          // Back navigation: uses browser history, no network request\n+          await act(async () => {\n+            await browser.back()\n+          }, 'no-requests')\n+\n+          await retry(async () => {\n+            const url = await browser.url()\n+            expect(url).toMatch(/\\/$/)\n+          })\n+        }\n+      })\n+\n+      /**\n+       * Cross-interception navigation\n+       */\n+      it('should navigate between different interception routes without 404', async () => {\n+        const { act, browser } = await createBrowserWithRouterAct('/')\n+\n+        // First interception\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/test-nested\"]').click()\n+        })\n+\n+        await retry(async () => {\n+          const modalContent = await browser.elementByCss('#modal').text()\n+          expect(modalContent).toContain('Intercepted test-nested sidebar')\n+        })\n+\n+        // Second interception\n+        await act(async () => {\n+          await browser.elementByCss('[href=\"/has-both\"]').click()\n+        }, 'no-requests')\n+\n+        await retry(async () => {\n+          const modalContent = await browser.elementByCss('#modal').text()\n+          expect(modalContent).toContain('TEST CASE 3')\n+        })\n+      })\n+    })\n+  }\n })"
        }
    ],
    "stats": {
        "total": 735,
        "additions": 707,
        "deletions": 28
    }
}