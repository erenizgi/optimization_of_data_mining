{
    "author": "icyJoseph",
    "message": "docs: use-link-status as a subtle hint (#83104)\n\nLet's try to change how we present useLinkStatus - it could be misused\nto overuse loading spinners next to links - which can cause layout\nshifts.\n\nCloses:\nhttps://linear.app/vercel/issue/DOC-5028/uselinkstatus-reformulation\n\n---------\n\nCo-authored-by: Ian Jones <witspr@gmail.com>",
    "sha": "f49402c7ff0286f5ca6c23c8ff712fc7f1845c53",
    "files": [
        {
            "sha": "2efa978bd3f897e8460a9b89dbb80f27f912afc6",
            "filename": "docs/01-app/01-getting-started/04-linking-and-navigating.mdx",
            "status": "modified",
            "additions": 8,
            "deletions": 33,
            "changes": 41,
            "blob_url": "https://github.com/vercel/next.js/blob/f49402c7ff0286f5ca6c23c8ff712fc7f1845c53/docs%2F01-app%2F01-getting-started%2F04-linking-and-navigating.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f49402c7ff0286f5ca6c23c8ff712fc7f1845c53/docs%2F01-app%2F01-getting-started%2F04-linking-and-navigating.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F04-linking-and-navigating.mdx?ref=f49402c7ff0286f5ca6c23c8ff712fc7f1845c53",
            "patch": "@@ -225,7 +225,7 @@ export default async function Page({ params }) {\n \n On slow or unstable networks, prefetching may not finish before the user clicks a link. This can affect both static and dynamic routes. In these cases, the `loading.js` fallback may not appear immediately because it hasn't been prefetched yet.\n \n-To improve perceived performance, you can use the [`useLinkStatus` hook](/docs/app/api-reference/functions/use-link-status) to show inline visual feedback to the user (like spinners or text glimmers on the link) while a transition is in progress.\n+To improve perceived performance, you can use the [`useLinkStatus` hook](/docs/app/api-reference/functions/use-link-status) to show immediate feedback while the transition is in progress.\n \n ```tsx filename=\"app/ui/loading-indicator.tsx\" switcher\n 'use client'\n@@ -234,9 +234,9 @@ import { useLinkStatus } from 'next/link'\n \n export default function LoadingIndicator() {\n   const { pending } = useLinkStatus()\n-  return pending ? (\n-    <div role=\"status\" aria-label=\"Loading\" className=\"spinner\" />\n-  ) : null\n+  return (\n+    <span aria-hidden className={`link-hint ${pending ? 'is-pending' : ''}`} />\n+  )\n }\n ```\n \n@@ -247,38 +247,13 @@ import { useLinkStatus } from 'next/link'\n \n export default function LoadingIndicator() {\n   const { pending } = useLinkStatus()\n-  return pending ? (\n-    <div role=\"status\" aria-label=\"Loading\" className=\"spinner\" />\n-  ) : null\n+  return (\n+    <span aria-hidden className={`link-hint ${pending ? 'is-pending' : ''}`} />\n+  )\n }\n ```\n \n-You can \"debounce\" the loading indicator by adding an initial animation delay (e.g. 100ms) and starting the animation as invisible (e.g. `opacity: 0`). This means the loading indicator will only be shown if the navigation takes longer than the specified delay.\n-\n-```css\n-.spinner {\n-  /* ... */\n-  opacity: 0;\n-  animation:\n-    fadeIn 500ms 100ms forwards,\n-    rotate 1s linear infinite;\n-}\n-\n-@keyframes fadeIn {\n-  from {\n-    opacity: 0;\n-  }\n-  to {\n-    opacity: 1;\n-  }\n-}\n-\n-@keyframes rotate {\n-  to {\n-    transform: rotate(360deg);\n-  }\n-}\n-```\n+You can \"debounce\" the hint by adding an initial animation delay (e.g. 100ms) and starting as invisible (e.g. `opacity: 0`). This means the loading indicator will only be shown if the navigation takes longer than the specified delay. See the [`useLinkStatus` reference](/docs/app/api-reference/functions/use-link-status#gracefully-handling-fast-navigation) for a CSS example.\n \n > **Good to know**: You can use other visual feedback patterns like a progress bar. View an example [here](https://github.com/vercel/react-transition-progress).\n "
        },
        {
            "sha": "b72efa86ba14b838171127ecdbb1c9fce2beb40f",
            "filename": "docs/01-app/03-api-reference/04-functions/use-link-status.mdx",
            "status": "modified",
            "additions": 69,
            "deletions": 53,
            "changes": 122,
            "blob_url": "https://github.com/vercel/next.js/blob/f49402c7ff0286f5ca6c23c8ff712fc7f1845c53/docs%2F01-app%2F03-api-reference%2F04-functions%2Fuse-link-status.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/f49402c7ff0286f5ca6c23c8ff712fc7f1845c53/docs%2F01-app%2F03-api-reference%2F04-functions%2Fuse-link-status.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2Fuse-link-status.mdx?ref=f49402c7ff0286f5ca6c23c8ff712fc7f1845c53",
            "patch": "@@ -9,63 +9,55 @@ related:\n     - app/api-reference/file-conventions/loading\n ---\n \n-The `useLinkStatus` hook lets you tracks the **pending** state of a `<Link>`. You can use it to show inline visual feedback to the user (like spinners or text glimmers) while a navigation to a new route completes.\n+The `useLinkStatus` hook lets you track the **pending** state of a `<Link>`. Use it for subtle, inline feedback, for example a shimmer effect over the clicked link, while navigation completes. Prefer route-level fallbacks with `loading.js`, and prefetching for instant transitions.\n \n `useLinkStatus` is useful when:\n \n - [Prefetching](/docs/app/getting-started/linking-and-navigating#prefetching) is disabled or in progress meaning navigation is blocked.\n - The destination route is dynamic **and** doesn't include a [`loading.js`](/docs/app/api-reference/file-conventions/loading) file that would allow an instant navigation.\n \n-```tsx filename=\"app/loading-indicator.tsx\" switcher\n+```tsx filename=\"app/hint.tsx\" switcher\n 'use client'\n \n+import Link from 'next/link'\n import { useLinkStatus } from 'next/link'\n \n-export default function LoadingIndicator() {\n+function Hint() {\n   const { pending } = useLinkStatus()\n-  return pending ? (\n-    <div role=\"status\" aria-label=\"Loading\" className=\"spinner\" />\n-  ) : null\n-}\n-```\n-\n-```jsx filename=\"app/loading-indicator.js\" switcher\n-'use client'\n-\n-import { useLinkStatus } from 'next/link'\n-\n-export default function LoadingIndicator() {\n-  const { pending } = useLinkStatus()\n-  return pending ? (\n-    <div role=\"status\" aria-label=\"Loading\" className=\"spinner\" />\n-  ) : null\n+  return (\n+    <span aria-hidden className={`link-hint ${pending ? 'is-pending' : ''}`} />\n+  )\n }\n-```\n-\n-```tsx filename=\"app/header.tsx\" switcher\n-import Link from 'next/link'\n-import LoadingIndicator from './loading-indicator'\n \n export default function Header() {\n   return (\n     <header>\n       <Link href=\"/dashboard\" prefetch={false}>\n-        Dashboard <LoadingIndicator />\n+        <span className=\"label\">Dashboard</span> <Hint />\n       </Link>\n     </header>\n   )\n }\n ```\n \n-```jsx filename=\"app/header.js\" switcher\n+```jsx filename=\"app/hint.js\" switcher\n+'use client'\n+\n import Link from 'next/link'\n-import LoadingIndicator from './loading-indicator'\n+import { useLinkStatus } from 'next/link'\n+\n+function Hint() {\n+  const { pending } = useLinkStatus()\n+  return (\n+    <span aria-hidden className={`link-hint ${pending ? 'is-pending' : ''}`} />\n+  )\n+}\n \n export default function Header() {\n   return (\n     <header>\n       <Link href=\"/dashboard\" prefetch={false}>\n-        Dashboard <LoadingIndicator />\n+        <span className=\"label\">Dashboard</span> <Hint />\n       </Link>\n     </header>\n   )\n@@ -78,7 +70,17 @@ export default function Header() {\n > - The hook is most useful when `prefetch={false}` is set on the `Link` component\n > - If the linked route has been prefetched, the pending state will be skipped\n > - When clicking multiple links in quick succession, only the last link's pending state is shown\n-> - This hook is not supported in the Pages Router and will always return `{ pending: false }`\n+> - This hook is not supported in the Pages Router and always returns `{ pending: false }`\n+> - Inline indicators can easily introduce layout shifts. Prefer a fixed-size, always-rendered hint element and toggle its opacity, or use an animation.\n+\n+## You might not need `useLinkStatus`\n+\n+Before adding inline feedback, consider if:\n+\n+- The destination is static and prefetched in production, so the pending phase may be skipped.\n+- The route has a `loading.js` file, enabling instant transitions with a route-level fallback.\n+\n+Navigation is typically fast. Use `useLinkStatus` as a quick patch when you identify a slow transition, then iterate to fix the root cause with prefetching or a `loading.js` fallback.\n \n ## Parameters\n \n@@ -98,9 +100,9 @@ const { pending } = useLinkStatus()\n \n ## Example\n \n-### Inline loading indicator\n+### Inline link hint\n \n-It's helpful to add visual feedback that navigation is happening in case the user clicks a link before prefetching is complete.\n+Add a subtle, fixed-size hint that doesn’t affect layout to confirm a click when prefetching hasn’t completed.\n \n ```tsx filename=\"app/components/loading-indicator.tsx\" switcher\n 'use client'\n@@ -109,9 +111,9 @@ import { useLinkStatus } from 'next/link'\n \n export default function LoadingIndicator() {\n   const { pending } = useLinkStatus()\n-  return pending ? (\n-    <div role=\"status\" aria-label=\"Loading\" className=\"spinner\" />\n-  ) : null\n+  return (\n+    <span aria-hidden className={`link-hint ${pending ? 'is-pending' : ''}`} />\n+  )\n }\n ```\n \n@@ -122,9 +124,9 @@ import { useLinkStatus } from 'next/link'\n \n export default function LoadingIndicator() {\n   const { pending } = useLinkStatus()\n-  return pending ? (\n-    <div role=\"status\" aria-label=\"Loading\" className=\"spinner\" />\n-  ) : null\n+  return (\n+    <span aria-hidden className={`link-hint ${pending ? 'is-pending' : ''}`} />\n+  )\n }\n ```\n \n@@ -143,7 +145,7 @@ function Menubar() {\n     <div>\n       {links.map((link) => (\n         <Link key={link.label} href={link.href}>\n-          {link.label} <LoadingIndicator />\n+          <span className=\"label\">{link.label}</span> <LoadingIndicator />\n         </Link>\n       ))}\n     </div>\n@@ -175,7 +177,7 @@ function Menubar() {\n     <div>\n       {links.map((link) => (\n         <Link key={link.label} href={link.href}>\n-          {link.label} <LoadingIndicator />\n+          <span className=\"label\">{link.label}</span> <LoadingIndicator />\n         </Link>\n       ))}\n     </div>\n@@ -194,33 +196,47 @@ export default function Layout({ children }) {\n \n ## Gracefully handling fast navigation\n \n-If the navigation to a new route is fast, users may see an unnecessary flash of the loading indicator. One way to improve the user experience and only show the loading indicator when the navigation takes time to complete is to add an initial animation delay (e.g. 100ms) and start the animation as invisible (e.g. `opacity: 0`).\n+If the navigation to a new route is fast, users may see an unnecessary flash of the hint. One way to improve the user experience and only show the hint when the navigation takes time to complete is to add an initial animation delay (e.g. 100ms) and start the animation as invisible (e.g. `opacity: 0`).\n \n ```css filename=\"app/styles/global.css\"\n-.spinner {\n-  /* ... */\n+.link-hint {\n+  display: inline-block;\n+  width: 0.6em;\n+  height: 0.6em;\n+  margin-left: 0.25rem;\n+  border-radius: 9999px;\n+  background: currentColor;\n   opacity: 0;\n-  animation:\n-    fadeIn 500ms 100ms forwards,\n-    rotate 1s linear infinite;\n+  visibility: hidden; /* reserve space without showing the hint */\n+}\n+\n+.link-hint.is-pending {\n+  /* Animation 1: fade in after 100ms and keep final opacity */\n+  /* Animation 2: subtle pulsing while pending */\n+  visibility: visible;\n+  animation-name: fadeIn, pulse;\n+  animation-duration: 200ms, 1s;\n+  /* Appear only if navigation actually takes time */\n+  animation-delay: 100ms, 100ms;\n+  animation-timing-function: ease, ease-in-out;\n+  animation-iteration-count: 1, infinite;\n+  animation-fill-mode: forwards, none;\n }\n \n @keyframes fadeIn {\n-  from {\n-    opacity: 0;\n-  }\n   to {\n-    opacity: 1;\n+    opacity: 0.35;\n   }\n }\n-\n-@keyframes rotate {\n-  to {\n-    transform: rotate(360deg);\n+@keyframes pulse {\n+  50% {\n+    opacity: 0.15;\n   }\n }\n ```\n \n+## Version History\n+\n | Version   | Changes                     |\n | --------- | --------------------------- |\n | `v15.3.0` | `useLinkStatus` introduced. |"
        }
    ],
    "stats": {
        "total": 163,
        "additions": 77,
        "deletions": 86
    }
}