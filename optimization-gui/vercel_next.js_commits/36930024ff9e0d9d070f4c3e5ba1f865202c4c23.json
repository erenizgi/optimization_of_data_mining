{
    "author": "unstubbable",
    "message": "Ignore `JSON.parse <anonymous> (0:0)` stack frames in test snapshots (#81044)\n\nThese frames will be ignore-listed soon. Until then, we remove them from the test snapshots, because their occurrence seems to be non-deterministic. They come from React's RSC parsing.",
    "sha": "36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
    "files": [
        {
            "sha": "ae901c6348d7f97b16671f431a774106968ccb42",
            "filename": "test/development/app-dir/capture-console-error-owner-stack/capture-console-error-owner-stack.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fdevelopment%2Fapp-dir%2Fcapture-console-error-owner-stack%2Fcapture-console-error-owner-stack.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fdevelopment%2Fapp-dir%2Fcapture-console-error-owner-stack%2Fcapture-console-error-owner-stack.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fcapture-console-error-owner-stack%2Fcapture-console-error-owner-stack.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -112,8 +112,6 @@ describe('app-dir - capture-console-error-owner-stack', () => {\n          |                 ^\",\n        \"stack\": [\n          \"Page app/rsc/page.js (2:17)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n          \"Page <anonymous> (0:0)\",\n        ],\n      }"
        },
        {
            "sha": "4a4533ce3729c6f07c67b5e934b66bbaff20f5f2",
            "filename": "test/development/app-dir/dynamic-io-dev-errors/dynamic-io-dev-errors.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fdevelopment%2Fapp-dir%2Fdynamic-io-dev-errors%2Fdynamic-io-dev-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fdevelopment%2Fapp-dir%2Fdynamic-io-dev-errors%2Fdynamic-io-dev-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fdynamic-io-dev-errors%2Fdynamic-io-dev-errors.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -22,8 +22,6 @@ describe('Dynamic IO Dev Errors', () => {\n          |                       ^\",\n        \"stack\": [\n          \"Page app/error/page.tsx (2:23)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n          \"LogSafely <anonymous> (0:0)\",\n        ],\n      }\n@@ -49,8 +47,6 @@ describe('Dynamic IO Dev Errors', () => {\n          |                       ^\",\n        \"stack\": [\n          \"Page app/error/page.tsx (2:23)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n          \"LogSafely <anonymous> (0:0)\",\n        ],\n      }\n@@ -112,8 +108,6 @@ describe('Dynamic IO Dev Errors', () => {\n          \"body <anonymous> (1:13)\",\n          \"html <anonymous> (1:13)\",\n          \"Root [Server] <anonymous> (1:22)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n-         \"JSON.parse <anonymous> (0:0)\",\n          \"LogSafely <anonymous> (0:0)\",\n        ],\n      }"
        },
        {
            "sha": "06ade81033fb5da42a964e34568c867e873d009c",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.platform-dynamic.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.platform-dynamic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.platform-dynamic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.platform-dynamic.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -79,7 +79,6 @@ describe.each([\n               |                       ^\",\n            \"stack\": [\n              \"RandomReadingComponent app/page.tsx (35:23)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n              \"LogSafely <anonymous> (0:0)\",\n            ],\n          }"
        },
        {
            "sha": "bf1fa400c5343f9ce25f251c96e53bad3610656c",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.sync-attribution.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-attribution.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-attribution.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-attribution.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -80,8 +80,6 @@ describe.each([\n              |                ^\",\n            \"stack\": [\n              \"SyncIO app/client.tsx (5:16)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n              \"LogSafely <anonymous> (0:0)\",\n            ],\n          }\n@@ -193,8 +191,6 @@ describe.each([\n                \"body <anonymous> (1:13)\",\n                \"html <anonymous> (1:13)\",\n                \"Root [Server] <anonymous> (1:22)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            }\n@@ -217,8 +213,6 @@ describe.each([\n                \"body <anonymous> (1:13)\",\n                \"html <anonymous> (1:13)\",\n                \"Root [Server] <anonymous> (1:22)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            }\n@@ -368,8 +362,6 @@ describe.each([\n              |                ^\",\n            \"stack\": [\n              \"SyncIO app/client.tsx (5:16)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n              \"LogSafely <anonymous> (0:0)\",\n            ],\n          }"
        },
        {
            "sha": "c3338cf2786d97cedd36d0e58dc53b72786c9e72",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.sync-dynamic.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-dynamic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-dynamic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-dynamic.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -101,8 +101,6 @@ describe.each([\n                \"body <anonymous> (1:13)\",\n                \"html <anonymous> (1:13)\",\n                \"Root [Server] <anonymous> (1:22)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            },\n@@ -278,8 +276,6 @@ describe.each([\n               |     ^\",\n            \"stack\": [\n              \"SearchParamsReadingComponent app/page.tsx (42:5)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n              \"Page app/page.tsx (19:11)\",\n            ],\n          }\n@@ -333,8 +329,6 @@ describe.each([\n               |     ^\",\n              \"stack\": [\n                \"SearchParamsReadingComponent app/page.tsx (40:5)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"Page app/page.tsx (19:11)\",\n              ],\n            },\n@@ -347,8 +341,6 @@ describe.each([\n               |     ^\",\n              \"stack\": [\n                \"SearchParamsReadingComponent app/page.tsx (40:5)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            },\n@@ -459,8 +451,6 @@ describe.each([\n               |                                                                   ^\",\n            \"stack\": [\n              \"CookiesReadingComponent app/page.tsx (34:67)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n-             \"JSON.parse <anonymous> (0:0)\",\n              \"Page app/page.tsx (17:11)\",\n            ],\n          }\n@@ -514,8 +504,6 @@ describe.each([\n               |                                                                   ^\",\n              \"stack\": [\n                \"CookiesReadingComponent app/page.tsx (32:67)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"Page app/page.tsx (17:11)\",\n              ],\n            },\n@@ -528,8 +516,6 @@ describe.each([\n               |                                                                   ^\",\n              \"stack\": [\n                \"CookiesReadingComponent app/page.tsx (32:67)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            },"
        },
        {
            "sha": "666f68acadd59c320e794d6693a4f12ef1898c94",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -132,8 +132,6 @@ describe.each([\n                \"body <anonymous> (1:13)\",\n                \"html <anonymous> (1:13)\",\n                \"Root [Server] <anonymous> (1:22)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            }\n@@ -154,8 +152,6 @@ describe.each([\n                \"body <anonymous> (1:13)\",\n                \"html <anonymous> (1:13)\",\n                \"Root [Server] <anonymous> (1:22)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n-               \"JSON.parse <anonymous> (0:0)\",\n                \"LogSafely <anonymous> (0:0)\",\n              ],\n            }\n@@ -620,8 +616,6 @@ describe.each([\n                  \"body <anonymous> (1:13)\",\n                  \"html <anonymous> (1:13)\",\n                  \"Root [Server] <anonymous> (1:22)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n                  \"LogSafely <anonymous> (0:0)\",\n                ],\n              },\n@@ -637,8 +631,6 @@ describe.each([\n                  \"body <anonymous> (1:13)\",\n                  \"html <anonymous> (1:13)\",\n                  \"Root [Server] <anonymous> (1:22)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n                  \"LogSafely <anonymous> (0:0)\",\n                ],\n              },\n@@ -662,8 +654,6 @@ describe.each([\n                  \"body <anonymous> (1:13)\",\n                  \"html <anonymous> (1:13)\",\n                  \"Root [Server] <anonymous> (1:22)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n                  \"LogSafely <anonymous> (0:0)\",\n                ],\n              },\n@@ -681,8 +671,6 @@ describe.each([\n                  \"body <anonymous> (1:13)\",\n                  \"html <anonymous> (1:13)\",\n                  \"Root [Server] <anonymous> (1:22)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n-                 \"JSON.parse <anonymous> (0:0)\",\n                  \"LogSafely <anonymous> (0:0)\",\n                ],\n              },"
        },
        {
            "sha": "21e93827b1e73bdb7decfb4010e01496f974f449",
            "filename": "test/e2e/app-dir/global-error/basic/index.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fglobal-error%2Fbasic%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Fe2e%2Fapp-dir%2Fglobal-error%2Fbasic%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fglobal-error%2Fbasic%2Findex.test.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -109,7 +109,6 @@ describe('app dir - global-error', () => {\n            |         ^\",\n          \"stack\": [\n            \"Module.generateMetadata app/metadata-error-without-boundary/page.js (4:9)\",\n-           \"JSON.parse <anonymous> (0:0)\",\n          ],\n        }\n       `)"
        },
        {
            "sha": "c2799d744389beb6eb356374d179f68532b1ba13",
            "filename": "test/lib/next-test-utils.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Flib%2Fnext-test-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/36930024ff9e0d9d070f4c3e5ba1f865202c4c23/test%2Flib%2Fnext-test-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-test-utils.ts?ref=36930024ff9e0d9d070f4c3e5ba1f865202c4c23",
            "patch": "@@ -1439,6 +1439,10 @@ export async function getRedboxCallStack(\n           stack.push('<FIXME-file-protocol>')\n         } else if (frame.includes('.next/')) {\n           stack.push('<FIXME-next-dist-dir>')\n+        } else if (frame === 'JSON.parse <anonymous> (0:0)') {\n+          // TODO(veil): These frames will be ignore-listed soon. Until then, we\n+          // remove them here, because their occurrence seems to be\n+          // non-deterministic. They come from React's RSC parsing.\n         } else {\n           stack.push(frame)\n         }"
        }
    ],
    "stats": {
        "total": 48,
        "additions": 4,
        "deletions": 44
    }
}