{
    "author": "kdy1",
    "message": "test(turbopack): Use `mimalloc` for codspeed to make it realistic (#80877)\n\n### What?\n\nUse `mimalloc` for the codspeed benchmark to make it more realistic.\n\n\n### Why?\n\nI made a mistake while creating https://github.com/vercel/next.js/pull/79980. I'm retrying this to make\nthe benchmark more realistic.\n\nNote: I didn't apply it to HMR benchmarks because it makes them more flaky.",
    "sha": "0cf44913068a2be4051508aaad79ad44c3fd8e5a",
    "files": [
        {
            "sha": "53b587c69cb34ebcb7cba564c90336558399972d",
            "filename": "crates/next-api/benches/hmr.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/0cf44913068a2be4051508aaad79ad44c3fd8e5a/crates%2Fnext-api%2Fbenches%2Fhmr.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/0cf44913068a2be4051508aaad79ad44c3fd8e5a/crates%2Fnext-api%2Fbenches%2Fhmr.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fbenches%2Fhmr.rs?ref=0cf44913068a2be4051508aaad79ad44c3fd8e5a",
            "patch": "@@ -1,5 +1,3 @@\n-extern crate turbo_tasks_malloc;\n-\n use std::{\n     env,\n     fs::{create_dir_all, write},"
        },
        {
            "sha": "4d7eade04118e28b933d65bc3cc86fd26b5adbfb",
            "filename": "turbopack/crates/turbopack-cli/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/0cf44913068a2be4051508aaad79ad44c3fd8e5a/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/0cf44913068a2be4051508aaad79ad44c3fd8e5a/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml?ref=0cf44913068a2be4051508aaad79ad44c3fd8e5a",
            "patch": "@@ -74,6 +74,7 @@ webbrowser = { workspace = true }\n criterion = { workspace = true, features = [\"async_tokio\"] }\n regex = { workspace = true }\n turbopack-bench = { workspace = true }\n+turbo-tasks-malloc = { workspace = true, features = [\"custom_allocator\"] }\n \n [build-dependencies]\n turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "0e83b7d5d0183afc97faaf7cb11da278914d52e9",
            "filename": "turbopack/crates/turbopack-cli/benches/small_apps.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/0cf44913068a2be4051508aaad79ad44c3fd8e5a/turbopack%2Fcrates%2Fturbopack-cli%2Fbenches%2Fsmall_apps.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/0cf44913068a2be4051508aaad79ad44c3fd8e5a/turbopack%2Fcrates%2Fturbopack-cli%2Fbenches%2Fsmall_apps.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fbenches%2Fsmall_apps.rs?ref=0cf44913068a2be4051508aaad79ad44c3fd8e5a",
            "patch": "@@ -1,6 +1,7 @@\n #![cfg_attr(not(codspeed), allow(unused))]\n \n-extern crate turbo_tasks_malloc;\n+#[global_allocator]\n+static ALLOC: turbo_tasks_malloc::TurboMalloc = turbo_tasks_malloc::TurboMalloc;\n \n use std::{\n     path::{Path, PathBuf},"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}