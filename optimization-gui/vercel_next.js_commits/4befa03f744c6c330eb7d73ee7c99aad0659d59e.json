{
    "author": "gnoff",
    "message": "[Cache Components] default to filtering unhandledRejection after abort (#84192)\n\ndefaulting this filtering to enabled but can still be disabled by\nenvironment variable.",
    "sha": "4befa03f744c6c330eb7d73ee7c99aad0659d59e",
    "files": [
        {
            "sha": "c3e3ea0013e4961a2081ea66c9399e0bf68dff7d",
            "filename": "packages/next/src/server/node-environment-extensions/unhandled-rejection.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4befa03f744c6c330eb7d73ee7c99aad0659d59e/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Funhandled-rejection.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/4befa03f744c6c330eb7d73ee7c99aad0659d59e/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Funhandled-rejection.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Funhandled-rejection.test.ts?ref=4befa03f744c6c330eb7d73ee7c99aad0659d59e",
            "patch": "@@ -146,7 +146,7 @@ export function runWorkerCode(fn: Function): Promise<WorkerResult> {\n \n describe('unhandled-rejection filter', () => {\n   describe('environment variable configuration', () => {\n-    it('should not install filter by default', async () => {\n+    it('should install filter by default', async () => {\n       async function testForWorker() {\n         require('next/dist/server/node-environment-extensions/unhandled-rejection')\n \n@@ -160,7 +160,7 @@ describe('unhandled-rejection filter', () => {\n \n       expect(exitCode).toBe(0)\n       expect(messages).toEqual(\n-        expect.arrayContaining([expect.objectContaining({ count: 0 })])\n+        expect.arrayContaining([expect.objectContaining({ count: 1 })])\n       )\n     })\n "
        },
        {
            "sha": "1b6c30bc7600904c62fc08969cc7331aff64c260",
            "filename": "packages/next/src/server/node-environment-extensions/unhandled-rejection.tsx",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/4befa03f744c6c330eb7d73ee7c99aad0659d59e/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Funhandled-rejection.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/4befa03f744c6c330eb7d73ee7c99aad0659d59e/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Funhandled-rejection.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Funhandled-rejection.tsx?ref=4befa03f744c6c330eb7d73ee7c99aad0659d59e",
            "patch": "@@ -32,23 +32,23 @@ const MODE:\n   | string\n   | undefined = process.env.NEXT_USE_UNHANDLED_REJECTION_FILTER\n \n-let ENABLE_UHR_FILTER = false\n+let ENABLE_UHR_FILTER = true\n let DEBUG_UHR_FILTER = false\n \n switch (MODE) {\n   case 'debug':\n     DEBUG_UHR_FILTER = true\n-  // fallthrough\n-  case 'enabled':\n-  case 'true':\n-  case '1':\n-    ENABLE_UHR_FILTER = true\n     break\n   case 'false':\n   case 'disabled':\n   case '0':\n+    ENABLE_UHR_FILTER = false\n+    break\n   case '':\n   case undefined:\n+  case 'enabled':\n+  case 'true':\n+  case '1':\n     break\n   default:\n     if (typeof MODE === 'string') {"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}