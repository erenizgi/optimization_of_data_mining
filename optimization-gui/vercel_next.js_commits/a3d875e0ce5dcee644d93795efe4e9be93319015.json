{
    "author": "unstubbable",
    "message": "Enable `@typescript-eslint/switch-exhaustiveness-check` rule (#81583)",
    "sha": "a3d875e0ce5dcee644d93795efe4e9be93319015",
    "files": [
        {
            "sha": "af6b69c5af120056f881b480182ab6f43efa42ca",
            "filename": ".eslintrc.cli.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/.eslintrc.cli.json",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/.eslintrc.cli.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.eslintrc.cli.json?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -20,7 +20,8 @@\n       // .eslintrc.json for the matching files.\n       \"rules\": {\n         // TODO: enable in follow-up PR\n-        \"@typescript-eslint/no-floating-promises\": \"off\"\n+        \"@typescript-eslint/no-floating-promises\": \"off\",\n+        \"@typescript-eslint/switch-exhaustiveness-check\": \"error\"\n       }\n     }\n   ]"
        },
        {
            "sha": "8dbbe7cd778e60fdbcf42f6741c6eccdcd402e90",
            "filename": "packages/eslint-plugin-next/src/rules/no-typos.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Feslint-plugin-next%2Fsrc%2Frules%2Fno-typos.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Feslint-plugin-next%2Fsrc%2Frules%2Fno-typos.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Feslint-plugin-next%2Fsrc%2Frules%2Fno-typos.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -98,9 +98,11 @@ export = defineRule({\n             })\n             break\n           }\n-          default: {\n+          case 'ClassDeclaration':\n+            // We don't need to check typos in class declarations.\n             break\n-          }\n+          default:\n+            decl satisfies never\n         }\n         return\n       },"
        },
        {
            "sha": "e544816a56069e6ffa8e5adbfbdd6acdb70adbe4",
            "filename": "packages/next/src/build/entries.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fentries.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fentries.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fentries.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -865,7 +865,7 @@ export function finalizeEntrypoint({\n   isServerComponent,\n   hasAppDir,\n }: {\n-  compilerType?: CompilerNameValues\n+  compilerType: CompilerNameValues\n   name: string\n   value: ObjectValue<webpack.EntryObject>\n   isServerComponent?: boolean\n@@ -958,9 +958,7 @@ export function finalizeEntrypoint({\n         ...entry,\n       }\n     }\n-    default: {\n-      // Should never happen.\n-      throw new Error('Invalid compiler type')\n-    }\n+    default:\n+      return compilerType satisfies never\n   }\n }"
        },
        {
            "sha": "5939d3f0bf8731ceb332174940750d9d8f2bde3b",
            "filename": "packages/next/src/build/handle-entrypoints.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fhandle-entrypoints.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fhandle-entrypoints.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fhandle-entrypoints.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -33,9 +33,11 @@ export async function rawEntrypointsToEntrypoints(\n         app.set(route.originalName, route)\n         break\n       }\n-      default:\n+      case 'conflict':\n         Log.info(`skipping ${pathname} (${route.type})`)\n         break\n+      default:\n+        route satisfies never\n     }\n   }\n "
        },
        {
            "sha": "d1fd3b5869f8aad2c239d40213dd42dfd43e11f6",
            "filename": "packages/next/src/build/swc/options.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 10,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Foptions.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Foptions.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Foptions.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -276,16 +276,19 @@ function getEmotionOptions(\n     return null\n   }\n   let autoLabel = !!development\n-  switch (typeof emotionConfig === 'object' && emotionConfig.autoLabel) {\n-    case 'never':\n-      autoLabel = false\n-      break\n-    case 'always':\n-      autoLabel = true\n-      break\n-    case 'dev-only':\n-    default:\n-      break\n+  if (typeof emotionConfig === 'object' && emotionConfig.autoLabel) {\n+    switch (emotionConfig.autoLabel) {\n+      case 'never':\n+        autoLabel = false\n+        break\n+      case 'always':\n+        autoLabel = true\n+        break\n+      case 'dev-only':\n+        break\n+      default:\n+        emotionConfig.autoLabel satisfies never\n+    }\n   }\n   return {\n     enabled: true,"
        },
        {
            "sha": "bfcd001f702b15341dc3e2cdcad807b127fd79de",
            "filename": "packages/next/src/build/webpack-config.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -1947,6 +1947,8 @@ export default async function getBaseWebpackConfig(\n               case WEBPACK_LAYERS.actionBrowser:\n                 runtime = 'app-page'\n                 break\n+              case null:\n+              case undefined:\n               default:\n                 runtime = 'pages'\n             }"
        },
        {
            "sha": "ff74c18d5a7a83ca33d3bb4aeac686d9988e5fca",
            "filename": "packages/next/src/client/dev/hot-reloader/app/hot-reloader-app.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fhot-reloader%2Fapp%2Fhot-reloader-app.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fhot-reloader%2Fapp%2Fhot-reloader-app.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fhot-reloader%2Fapp%2Fhot-reloader-app.tsx?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -441,6 +441,7 @@ function processMessage(\n       return\n     }\n     default: {\n+      obj satisfies never\n     }\n   }\n }"
        },
        {
            "sha": "7cbe585d464dda64a70b63886fe081853c3419df",
            "filename": "packages/next/src/client/dev/hot-reloader/pages/hot-reloader-pages.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fhot-reloader%2Fpages%2Fhot-reloader-pages.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fhot-reloader%2Fpages%2Fhot-reloader-pages.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fdev%2Fhot-reloader%2Fpages%2Fhot-reloader-pages.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -361,13 +361,16 @@ function processMessage(obj: HMR_ACTION_TYPES) {\n       dispatcher.onRefresh()\n       break\n     }\n-    default: {\n+    case HMR_ACTIONS_SENT_TO_BROWSER.ADDED_PAGE:\n+    case HMR_ACTIONS_SENT_TO_BROWSER.REMOVED_PAGE:\n+    case HMR_ACTIONS_SENT_TO_BROWSER.RELOAD_PAGE:\n+    case HMR_ACTIONS_SENT_TO_BROWSER.DEV_PAGES_MANIFEST_UPDATE:\n       if (customHmrEventHandler) {\n         customHmrEventHandler(obj)\n-        break\n       }\n       break\n-    }\n+    default:\n+      obj satisfies never\n   }\n }\n "
        },
        {
            "sha": "722ab26dc18854b9a49dae1e533943210773c542",
            "filename": "packages/next/src/client/lib/console.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Flib%2Fconsole.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Flib%2Fconsole.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Flib%2Fconsole.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -48,6 +48,12 @@ function formatObject(arg: unknown, depth: number) {\n       }\n     case 'string':\n       return JSON.stringify(arg)\n+    case 'number':\n+    case 'bigint':\n+    case 'boolean':\n+    case 'symbol':\n+    case 'undefined':\n+    case 'function':\n     default:\n       return String(arg)\n   }"
        },
        {
            "sha": "d442e5785bcfbdfa9a2707241f1c0ef358bdd2a1",
            "filename": "packages/next/src/client/page-bootstrap.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 2,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Fpage-bootstrap.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fclient%2Fpage-bootstrap.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fpage-bootstrap.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -52,8 +52,20 @@ export function pageBootstrap(assetPrefix: string) {\n               })\n             break\n           }\n-          default:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.ADDED_PAGE:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.REMOVED_PAGE:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.SERVER_COMPONENT_CHANGES:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.SYNC:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.BUILT:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.BUILDING:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.TURBOPACK_MESSAGE:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.TURBOPACK_CONNECTED:\n+          case HMR_ACTIONS_SENT_TO_BROWSER.ISR_MANIFEST:\n+            // Most of these action types are handled in\n+            // src/client/dev/hot-reloader/pages/hot-reloader-pages.ts\n             break\n+          default:\n+            payload satisfies never\n         }\n       } else if ('event' in payload) {\n         switch (payload.event) {\n@@ -116,7 +128,7 @@ export function pageBootstrap(assetPrefix: string) {\n             break\n           }\n           default:\n-            break\n+            payload satisfies never\n         }\n       }\n     })"
        },
        {
            "sha": "b76d9ba1e16d6f2d4c15d5deeaa53c68ee4bf43a",
            "filename": "packages/next/src/experimental/testmode/fetch.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fexperimental%2Ftestmode%2Ffetch.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fexperimental%2Ftestmode%2Ffetch.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fexperimental%2Ftestmode%2Ffetch.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -117,10 +117,11 @@ export async function handleFetch(\n       throw new Error(\n         `Proxy request aborted [${request.method} ${request.url}]`\n       )\n+    case 'fetch':\n+      return buildResponse(proxyResponse)\n     default:\n-      break\n+      return api satisfies never\n   }\n-  return buildResponse(proxyResponse)\n }\n \n export function interceptFetch(originalFetch: Fetch) {"
        },
        {
            "sha": "760c4c0f91c75b92b52e9019eae45e31a70e1224",
            "filename": "packages/next/src/lib/metadata/resolve-metadata.ts",
            "status": "modified",
            "additions": 29,
            "deletions": 8,
            "changes": 37,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fresolve-metadata.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fresolve-metadata.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fresolve-metadata.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -269,6 +269,7 @@ async function mergeMetadata(\n         break\n       }\n       // directly assign fields that fallback to null\n+      case 'abstract':\n       case 'applicationName':\n       case 'description':\n       case 'generator':\n@@ -290,18 +291,29 @@ async function mergeMetadata(\n         target.metadataBase = metadataBase\n         break\n \n-      default: {\n-        if (\n-          (key === 'viewport' ||\n-            key === 'themeColor' ||\n-            key === 'colorScheme') &&\n-          source[key] != null\n-        ) {\n+      case 'apple-touch-fullscreen': {\n+        buildState.warnings.add(\n+          `Use appleWebApp instead\\nRead more: https://nextjs.org/docs/app/api-reference/functions/generate-metadata`\n+        )\n+        break\n+      }\n+      case 'apple-touch-icon-precomposed': {\n+        buildState.warnings.add(\n+          `Use icons.apple instead\\nRead more: https://nextjs.org/docs/app/api-reference/functions/generate-metadata`\n+        )\n+        break\n+      }\n+      case 'themeColor':\n+      case 'colorScheme':\n+      case 'viewport':\n+        if (source[key] != null) {\n           buildState.warnings.add(\n             `Unsupported metadata ${key} is configured in metadata export in ${route}. Please move it to viewport export instead.\\nRead more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport`\n           )\n         }\n         break\n+      default: {\n+        key satisfies never\n       }\n     }\n   }\n@@ -335,11 +347,20 @@ function mergeViewport({\n       case 'colorScheme':\n         target.colorScheme = source.colorScheme || null\n         break\n-      default:\n+      case 'width':\n+      case 'height':\n+      case 'initialScale':\n+      case 'minimumScale':\n+      case 'maximumScale':\n+      case 'userScalable':\n+      case 'viewportFit':\n+      case 'interactiveWidget':\n         // always override the target with the source\n         // @ts-ignore viewport properties\n         target[key] = source[key]\n         break\n+      default:\n+        key satisfies never\n     }\n   }\n }"
        },
        {
            "sha": "bff23d27c33ed00a7c7ce51bb29487187a2f095f",
            "filename": "packages/next/src/lib/metadata/resolvers/resolve-opengraph.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fresolvers%2Fresolve-opengraph.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fresolvers%2Fresolve-opengraph.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fresolvers%2Fresolve-opengraph.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -247,8 +247,11 @@ export const resolveTwitter: FieldResolverExtraArgs<\n         resolved.app = resolved.app || {}\n         break\n       }\n-      default:\n+      case 'summary':\n+      case 'summary_large_image':\n         break\n+      default:\n+        resolved satisfies never\n     }\n   }\n "
        },
        {
            "sha": "e96dbcd0f1565fac4d2052886ed00df7e3bb5cdd",
            "filename": "packages/next/src/lib/metadata/types/metadata-types.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Ftypes%2Fmetadata-types.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Ftypes%2Fmetadata-types.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Ftypes%2Fmetadata-types.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -7,14 +7,14 @@\n export interface DeprecatedMetadataFields {\n   /**\n    * Deprecated options that have a preferred method\n-   * @deprecated Use appWebApp to configure mobile-web-app-capable which provides\n+   * @deprecated Use appleWebApp instead\n    */\n   'apple-touch-fullscreen'?: never | undefined\n \n   /**\n    * Obsolete since iOS 7.\n    * @see https://web.dev/apple-touch-icon/\n-   * @deprecated use icons.apple or instead\n+   * @deprecated Use icons.apple instead\n    */\n   'apple-touch-icon-precomposed'?: never | undefined\n }"
        },
        {
            "sha": "f036c00314b49787ca6a50c15afb107b8790feeb",
            "filename": "packages/next/src/lib/typescript/diagnosticFormatter.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 14,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Ftypescript%2FdiagnosticFormatter.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Ftypescript%2FdiagnosticFormatter.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Ftypescript%2FdiagnosticFormatter.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -1,15 +1,6 @@\n import { bold, cyan, red, yellow } from '../picocolors'\n import path from 'path'\n \n-// eslint typescript has a bug with TS enums\n-/* eslint-disable no-shadow */\n-export enum DiagnosticCategory {\n-  Warning = 0,\n-  Error = 1,\n-  Suggestion = 2,\n-  Message = 3,\n-}\n-\n function getFormattedLinkDiagnosticMessageText(\n   diagnostic: import('typescript').Diagnostic\n ) {\n@@ -339,21 +330,22 @@ export function getFormattedDiagnostic(\n   const category = diagnostic.category\n   switch (category) {\n     // Warning\n-    case DiagnosticCategory.Warning: {\n+    case ts.DiagnosticCategory.Warning: {\n       message += yellow(bold('Type warning')) + ': '\n       break\n     }\n     // Error\n-    case DiagnosticCategory.Error: {\n+    case ts.DiagnosticCategory.Error: {\n       message += red(bold('Type error')) + ': '\n       break\n     }\n     // 2 = Suggestion, 3 = Message\n-    case DiagnosticCategory.Suggestion:\n-    case DiagnosticCategory.Message:\n-    default: {\n+    case ts.DiagnosticCategory.Suggestion:\n+    case ts.DiagnosticCategory.Message:\n       message += cyan(bold(category === 2 ? 'Suggestion' : 'Info')) + ': '\n       break\n+    default: {\n+      category satisfies never\n     }\n   }\n "
        },
        {
            "sha": "a46efac659bc33ee59356b2307389597a55f87f9",
            "filename": "packages/next/src/lib/typescript/runTypeCheck.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 8,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Ftypescript%2FrunTypeCheck.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Flib%2Ftypescript%2FrunTypeCheck.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Ftypescript%2FrunTypeCheck.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -1,8 +1,5 @@\n import path from 'path'\n-import {\n-  DiagnosticCategory,\n-  getFormattedDiagnostic,\n-} from './diagnosticFormatter'\n+import { getFormattedDiagnostic } from './diagnosticFormatter'\n import { getTypeScriptConfiguration } from './getTypeScriptConfiguration'\n import { getRequiredConfiguration } from './writeConfigurationDefaults'\n \n@@ -91,14 +88,14 @@ export async function runTypeCheck(\n \n   const firstError =\n     allDiagnostics.find(\n-      (d) => d.category === DiagnosticCategory.Error && Boolean(d.file)\n-    ) ?? allDiagnostics.find((d) => d.category === DiagnosticCategory.Error)\n+      (d) => d.category === ts.DiagnosticCategory.Error && Boolean(d.file)\n+    ) ?? allDiagnostics.find((d) => d.category === ts.DiagnosticCategory.Error)\n \n   // In test mode, we want to check all diagnostics, not just the first one.\n   if (process.env.__NEXT_TEST_MODE) {\n     if (firstError) {\n       const allErrors = allDiagnostics\n-        .filter((d) => d.category === DiagnosticCategory.Error)\n+        .filter((d) => d.category === ts.DiagnosticCategory.Error)\n         .map(\n           (d) =>\n             '[Test Mode] ' +\n@@ -123,7 +120,7 @@ export async function runTypeCheck(\n   }\n \n   const warnings = allDiagnostics\n-    .filter((d) => d.category === DiagnosticCategory.Warning)\n+    .filter((d) => d.category === ts.DiagnosticCategory.Warning)\n     .map((d) =>\n       getFormattedDiagnostic(ts, baseDir, distDir, d, isAppDirEnabled)\n     )"
        },
        {
            "sha": "96d47821a06d417f0c7784acac44ebe2044d274a",
            "filename": "packages/next/src/next-devtools/dev-overlay/storybook/use-overlay-reducer.ts",
            "status": "modified",
            "additions": 37,
            "deletions": 4,
            "changes": 41,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstorybook%2Fuse-overlay-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstorybook%2Fuse-overlay-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstorybook%2Fuse-overlay-reducer.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -2,15 +2,31 @@ import type { DispatcherEvent, OverlayState } from '../shared'\n \n import { useReducer } from 'react'\n import {\n-  ACTION_DEVTOOLS_POSITION,\n+  ACTION_BEFORE_REFRESH,\n+  ACTION_BUILD_ERROR,\n+  ACTION_BUILD_OK,\n+  ACTION_BUILDING_INDICATOR_HIDE,\n+  ACTION_BUILDING_INDICATOR_SHOW,\n+  ACTION_DEBUG_INFO,\n+  ACTION_DEV_INDICATOR,\n+  ACTION_DEVTOOL_UPDATE_ROUTE_STATE,\n   ACTION_DEVTOOLS_PANEL_CLOSE,\n+  ACTION_DEVTOOLS_PANEL_OPEN,\n   ACTION_DEVTOOLS_PANEL_TOGGLE,\n+  ACTION_DEVTOOLS_POSITION,\n+  ACTION_DEVTOOLS_SCALE,\n   ACTION_ERROR_OVERLAY_CLOSE,\n   ACTION_ERROR_OVERLAY_OPEN,\n   ACTION_ERROR_OVERLAY_TOGGLE,\n-  ACTION_DEVTOOLS_SCALE,\n+  ACTION_REFRESH,\n+  ACTION_RENDERING_INDICATOR_HIDE,\n+  ACTION_RENDERING_INDICATOR_SHOW,\n+  ACTION_RESTART_SERVER_BUTTON,\n+  ACTION_STATIC_INDICATOR,\n+  ACTION_UNHANDLED_ERROR,\n+  ACTION_UNHANDLED_REJECTION,\n+  ACTION_VERSION_INFO,\n   INITIAL_OVERLAY_STATE,\n-  ACTION_DEVTOOLS_PANEL_OPEN,\n } from '../shared'\n \n export const storybookDefaultOverlayState: OverlayState = {\n@@ -52,8 +68,25 @@ export function useStorybookOverlayReducer(initialState?: OverlayState) {\n         case ACTION_DEVTOOLS_SCALE: {\n           return { ...state, scale: action.scale }\n         }\n-        default: {\n+        case ACTION_BEFORE_REFRESH:\n+        case ACTION_BUILD_ERROR:\n+        case ACTION_BUILD_OK:\n+        case ACTION_BUILDING_INDICATOR_HIDE:\n+        case ACTION_BUILDING_INDICATOR_SHOW:\n+        case ACTION_DEBUG_INFO:\n+        case ACTION_DEV_INDICATOR:\n+        case ACTION_DEVTOOL_UPDATE_ROUTE_STATE:\n+        case ACTION_REFRESH:\n+        case ACTION_RENDERING_INDICATOR_HIDE:\n+        case ACTION_RENDERING_INDICATOR_SHOW:\n+        case ACTION_RESTART_SERVER_BUTTON:\n+        case ACTION_STATIC_INDICATOR:\n+        case ACTION_UNHANDLED_ERROR:\n+        case ACTION_UNHANDLED_REJECTION:\n+        case ACTION_VERSION_INFO:\n           return state\n+        default: {\n+          return action satisfies never\n         }\n       }\n     },"
        },
        {
            "sha": "dc50aae5c539c5519a659dd32e1bdfbd38a7364f",
            "filename": "packages/next/src/server/app-render/app-render-prerender-utils.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 162,
            "changes": 162,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render-prerender-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render-prerender-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render-prerender-utils.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -31,168 +31,6 @@ export function prerenderAndAbortInSequentialTasks<R>(\n   }\n }\n \n-const PENDING = 0\n-const COMPLETE = 1\n-const INTERRUPTED = 2\n-const ERRORED = 3\n-\n-export class ServerPrerenderStreamResult {\n-  private currentChunks: Array<Uint8Array>\n-  private chunksByPhase: Array<Array<Uint8Array>>\n-  private trailingChunks: Array<Uint8Array>\n-  private status: 0 | 1 | 2 | 3\n-  private reason: null | unknown\n-\n-  constructor(stream: ReadableStream<Uint8Array>) {\n-    this.status = PENDING\n-    this.reason = null\n-\n-    this.trailingChunks = []\n-    this.currentChunks = []\n-    this.chunksByPhase = [this.currentChunks]\n-\n-    const reader = stream.getReader()\n-\n-    const progress = ({\n-      done,\n-      value,\n-    }: ReadableStreamReadResult<Uint8Array>) => {\n-      if (done) {\n-        if (this.status === PENDING) {\n-          this.status = COMPLETE\n-        }\n-        return\n-      }\n-      if (this.status === PENDING || this.status === INTERRUPTED) {\n-        this.currentChunks.push(value)\n-      } else {\n-        this.trailingChunks.push(value)\n-      }\n-      reader.read().then(progress, error)\n-    }\n-    const error = (reason: unknown) => {\n-      this.status = ERRORED\n-      this.reason = reason\n-    }\n-\n-    reader.read().then(progress, error)\n-  }\n-\n-  markPhase() {\n-    this.currentChunks = []\n-    this.chunksByPhase.push(this.currentChunks)\n-  }\n-\n-  markComplete() {\n-    if (this.status === PENDING) {\n-      this.status = COMPLETE\n-    }\n-  }\n-\n-  markInterrupted() {\n-    this.status = INTERRUPTED\n-  }\n-\n-  /**\n-   * Returns a stream which only releases chunks when `releasePhase` is called. This stream will never \"complete\" because\n-   * we rely upon the stream remaining open when prerendering to avoid triggering errors for incomplete chunks in the client.\n-   *\n-   * asPhasedStream is expected to be called once per result however it is safe to call multiple times as long as we have not\n-   * transferred the underlying data. Generally this will only happen when streaming to a response\n-   */\n-  asPhasedStream() {\n-    switch (this.status) {\n-      case COMPLETE:\n-      case INTERRUPTED:\n-        return new PhasedStream(this.chunksByPhase)\n-      default:\n-        throw new InvariantError(\n-          `ServerPrerenderStreamResult cannot be consumed as a stream because it is not yet complete. status: ${this.status}`\n-        )\n-    }\n-  }\n-\n-  /**\n-   * Returns a stream which will release all chunks immediately. This stream will \"complete\" synchronously. It should be used outside\n-   * of render use cases like loading client chunks ahead of SSR or writing the streamed content to disk.\n-   */\n-  asStream() {\n-    switch (this.status) {\n-      case COMPLETE:\n-      case INTERRUPTED:\n-        const chunksByPhase = this.chunksByPhase\n-        const trailingChunks = this.trailingChunks\n-        return new ReadableStream({\n-          start(controller) {\n-            for (let i = 0; i < chunksByPhase.length; i++) {\n-              const chunks = chunksByPhase[i]\n-              for (let j = 0; j < chunks.length; j++) {\n-                controller.enqueue(chunks[j])\n-              }\n-            }\n-            for (let i = 0; i < trailingChunks.length; i++) {\n-              controller.enqueue(trailingChunks[i])\n-            }\n-            controller.close()\n-          },\n-        })\n-      default:\n-        throw new InvariantError(\n-          `ServerPrerenderStreamResult cannot be consumed as a stream because it is not yet complete. status: ${this.status}`\n-        )\n-    }\n-  }\n-}\n-\n-class PhasedStream<T> extends ReadableStream<T> {\n-  private nextPhase: number\n-  private chunksByPhase: Array<Array<T>>\n-  private destination: ReadableStreamDefaultController<T>\n-\n-  constructor(chunksByPhase: Array<Array<T>>) {\n-    if (chunksByPhase.length === 0) {\n-      throw new InvariantError(\n-        'PhasedStream expected at least one phase but none were found.'\n-      )\n-    }\n-\n-    let destination: ReadableStreamDefaultController<T>\n-    super({\n-      start(controller) {\n-        destination = controller\n-      },\n-    })\n-\n-    // the start function above is called synchronously during construction so we will always have a destination\n-    // We wait to assign it until after the super call because we cannot access `this` before calling super\n-    this.destination = destination!\n-    this.nextPhase = 0\n-    this.chunksByPhase = chunksByPhase\n-    this.releasePhase()\n-  }\n-\n-  releasePhase() {\n-    if (this.nextPhase < this.chunksByPhase.length) {\n-      const chunks = this.chunksByPhase[this.nextPhase++]\n-      for (let i = 0; i < chunks.length; i++) {\n-        this.destination.enqueue(chunks[i])\n-      }\n-    } else {\n-      throw new InvariantError(\n-        'PhasedStream expected more phases to release but none were found.'\n-      )\n-    }\n-  }\n-\n-  assertExhausted() {\n-    if (this.nextPhase < this.chunksByPhase.length) {\n-      throw new InvariantError(\n-        'PhasedStream expected no more phases to release but some were found.'\n-      )\n-    }\n-  }\n-}\n-\n // React's RSC prerender function will emit an incomplete flight stream when using `prerender`. If the connection\n // closes then whatever hanging chunks exist will be errored. This is because prerender (an experimental feature)\n // has not yet implemented a concept of resume. For now we will simulate a paused connection by wrapping the stream"
        },
        {
            "sha": "6726f6715ae33dd8667c5a862df4cb6bebeec45f",
            "filename": "packages/next/src/server/app-render/app-render.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 12,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -153,10 +153,7 @@ import { createMutableActionQueue } from '../../client/components/app-router-ins\n import { getRevalidateReason } from '../instrumentation/utils'\n import { PAGE_SEGMENT_KEY } from '../../shared/lib/segment'\n import type { FallbackRouteParams } from '../request/fallback-params'\n-import {\n-  ServerPrerenderStreamResult,\n-  processPrelude,\n-} from './app-render-prerender-utils'\n+import { processPrelude } from './app-render-prerender-utils'\n import {\n   type ReactServerPrerenderResult,\n   ReactServerResult,\n@@ -2889,10 +2886,7 @@ async function prerenderToStream(\n     onHTMLRenderSSRError\n   )\n \n-  let reactServerPrerenderResult:\n-    | null\n-    | ReactServerPrerenderResult\n-    | ServerPrerenderStreamResult = null\n+  let reactServerPrerenderResult: null | ReactServerPrerenderResult = null\n   const setMetadataHeader = (name: string) => {\n     metadata.headers ??= {}\n     metadata.headers[name] = res.getHeader(name)\n@@ -3945,10 +3939,7 @@ async function prerenderToStream(\n \n       // This is intentionally using the readable datastream from the main\n       // render rather than the flight data from the error page render\n-      const flightStream =\n-        reactServerPrerenderResult instanceof ServerPrerenderStreamResult\n-          ? reactServerPrerenderResult.asStream()\n-          : reactServerPrerenderResult.consumeAsStream()\n+      const flightStream = reactServerPrerenderResult.consumeAsStream()\n \n       return {\n         // Returning the error that was thrown so it can be used to handle"
        },
        {
            "sha": "0c10125c712c6bf5d222c9479b2b46904d32e742",
            "filename": "packages/next/src/server/app-render/csrf-protection.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcsrf-protection.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcsrf-protection.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcsrf-protection.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -51,6 +51,7 @@ function matchWildcardDomain(domain: string, pattern: string) {\n         // recursive wildcard matches anything so we terminate here if the domain part is non empty\n         return domainPart !== undefined\n       }\n+      case undefined:\n       default: {\n         if (domainPart !== patternPart) {\n           return false"
        },
        {
            "sha": "c362b656c202fdc58e26fa03b219404c9d71340c",
            "filename": "packages/next/src/server/dev/browser-logs/receive-logs.ts",
            "status": "modified",
            "additions": 23,
            "deletions": 5,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fbrowser-logs%2Freceive-logs.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fbrowser-logs%2Freceive-logs.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fbrowser-logs%2Freceive-logs.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -440,18 +440,36 @@ export async function handleLog(\n               await handleDir(entry, browserPrefix, ctx, distDir)\n               break\n             }\n-            // xml log thing maybe needs an impl\n-\n-            // [browser] undefined (app/page.tsx:8:11) console.group\n-            // check console assert\n-            default: {\n+            case 'dirxml': {\n+              // xml log thing maybe needs an impl\n+              // fallthrough\n+            }\n+            case 'group':\n+            case 'groupCollapsed':\n+            case 'groupEnd': {\n+              // [browser] undefined (app/page.tsx:8:11) console.group\n+              // fallthrough\n+            }\n+            case 'assert': {\n+              // check console assert\n+              // fallthrough\n+            }\n+            case 'log':\n+            case 'info':\n+            case 'debug':\n+            case 'error':\n+            case 'warn': {\n               await handleDefaultConsole(\n                 entry,\n                 browserPrefix,\n                 ctx,\n                 distDir,\n                 config\n               )\n+              break\n+            }\n+            default: {\n+              entry satisfies never\n             }\n           }\n           break"
        },
        {
            "sha": "45c0d35de1ebda6488f7f4ed88aa280431e6c188",
            "filename": "packages/next/src/server/dev/hot-reloader-types.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-types.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-types.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-types.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -119,11 +119,6 @@ export interface AppIsrManifestAction {\n   data: Record<string, boolean>\n }\n \n-export interface DevIndicatorAction {\n-  action: HMR_ACTIONS_SENT_TO_BROWSER.DEV_INDICATOR\n-  devIndicator: DevIndicatorServerState\n-}\n-\n export type HMR_ACTION_TYPES =\n   | TurbopackMessageAction\n   | TurbopackConnectedAction\n@@ -140,7 +135,6 @@ export type HMR_ACTION_TYPES =\n   | DevPagesManifestUpdateAction\n   | ServerErrorAction\n   | AppIsrManifestAction\n-  | DevIndicatorAction\n \n export type TurbopackMsgToBrowser =\n   | { type: HMR_ACTIONS_SENT_TO_BROWSER.TURBOPACK_MESSAGE; data: any }"
        },
        {
            "sha": "47c88b0578f49ed38ccc0642c47a7d81cb33081f",
            "filename": "packages/next/src/server/dev/log-requests.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Flog-requests.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Flog-requests.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Flog-requests.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -171,7 +171,10 @@ function formatCacheStatus(cacheStatus: FetchMetric['cacheStatus']): string {\n       return green('(HMR cache)')\n     case 'hit':\n       return green('(cache hit)')\n-    default:\n+    case 'miss':\n+    case 'skip':\n       return yellow(`(cache ${cacheStatus})`)\n+    default:\n+      return cacheStatus satisfies never\n   }\n }"
        },
        {
            "sha": "2e65b2f8af50f8199eb862e10f246f2ae430ae73",
            "filename": "packages/next/src/server/dev/turbopack-utils.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fturbopack-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fturbopack-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fturbopack-utils.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -621,9 +621,11 @@ export async function handleEntrypoints({\n         currentEntrypoints.app.set(route.originalName, route)\n         break\n       }\n-      default:\n+      case 'conflict':\n         Log.info(`skipping ${pathname} (${route.type})`)\n         break\n+      default:\n+        route satisfies never\n     }\n   }\n "
        },
        {
            "sha": "7c9a4f67bb15e88eb52c53dabb24472de6c3bb11",
            "filename": "packages/next/src/server/lib/patch-fetch.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 4,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Fpatch-fetch.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Fpatch-fetch.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Fpatch-fetch.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -609,11 +609,17 @@ export function createPatchedFetcher(\n             }\n             break\n           }\n+          case 'default-cache':\n+          case 'default-no-store':\n+          case 'auto':\n+          case undefined:\n+            // sometimes we won't match the above cases. the reason we don't move\n+            // everything to this switch is the use of autoNoCache which is not a fetchCacheMode\n+            // I suspect this could be unified with fetchCacheMode however in which case we could\n+            // simplify the switch case and ensure we have an exhaustive switch handling all modes\n+            break\n           default:\n-          // sometimes we won't match the above cases. the reason we don't move\n-          // everything to this switch is the use of autoNoCache which is not a fetchCacheMode\n-          // I suspect this could be unified with fetchCacheMode however in which case we could\n-          // simplify the switch case and ensure we have an exhaustive switch handling all modes\n+            pageFetchCacheMode satisfies never\n         }\n \n         if (typeof finalRevalidate === 'undefined') {"
        },
        {
            "sha": "cd8eac59e04bf1661f97a702dc69fb6e5690490e",
            "filename": "packages/next/src/server/lib/router-utils/filesystem.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ffilesystem.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ffilesystem.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ffilesystem.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -611,9 +611,15 @@ export async function setupFsCheck(opts: {\n               itemsRoot = publicFolderPath\n               break\n             }\n-            default: {\n+            case 'appFile':\n+            case 'pageFile':\n+            case 'nextImage':\n+            case 'devVirtualFsItem': {\n               break\n             }\n+            default: {\n+              ;(type) satisfies never\n+            }\n           }\n \n           if (itemsRoot && curItemPath) {"
        },
        {
            "sha": "f5da32d79c0d9c76ae085352e93ba54f6c338be0",
            "filename": "packages/next/src/server/node-environment-extensions/console-dev.tsx",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Fconsole-dev.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Fconsole-dev.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fnode-environment-extensions%2Fconsole-dev.tsx?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -97,6 +97,8 @@ function dimConsoleCall(\n   switch (methodName) {\n     case 'dir':\n     case 'dirxml':\n+    case 'group':\n+    case 'groupCollapsed':\n     case 'groupEnd':\n     case 'table': {\n       // These methods cannot be colorized because they don't take a formatting string.\n@@ -109,10 +111,17 @@ function dimConsoleCall(\n         ...formatConsoleArguments(args[1], ...args.slice(2))\n       )\n     }\n-    default:\n+    case 'error':\n+    case 'debug':\n+    case 'info':\n+    case 'log':\n+    case 'trace':\n+    case 'warn':\n       return [ANSI_STYLE_DIMMING_TEMPLATE].concat(\n         ...formatConsoleArguments(args[0], ...args.slice(1))\n       )\n+    default:\n+      return methodName satisfies never\n   }\n }\n "
        },
        {
            "sha": "aa448997f9089082a4ad8f4825198d083486ba1e",
            "filename": "packages/next/src/server/response-cache/utils.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fresponse-cache%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Fresponse-cache%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fresponse-cache%2Futils.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -82,7 +82,10 @@ export function routeKindToIncrementalCacheKind(\n       return IncrementalCacheKind.IMAGE\n     case RouteKind.APP_ROUTE:\n       return IncrementalCacheKind.APP_ROUTE\n-    default:\n+    case RouteKind.PAGES_API:\n+      // Pages Router API routes are not cached in the incremental cache.\n       throw new Error(`Unexpected route kind ${routeKind}`)\n+    default:\n+      return routeKind satisfies never\n   }\n }"
        },
        {
            "sha": "3cac95904768a176f1261f3164ac7018eb2b117b",
            "filename": "packages/next/src/server/route-modules/app-route/module.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-route%2Fmodule.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a3d875e0ce5dcee644d93795efe4e9be93319015/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-route%2Fmodule.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-route%2Fmodule.ts?ref=a3d875e0ce5dcee644d93795efe4e9be93319015",
            "patch": "@@ -754,9 +754,14 @@ export class AppRouteRouteModule extends RouteModule<\n                 if (workStore.isStaticGeneration)\n                   request = new Proxy(req, requireStaticRequestHandlers)\n                 break\n-              default:\n-                // We proxy `NextRequest` to track dynamic access, and potentially bail out of static generation\n+              case undefined:\n+              case 'auto':\n+                // We proxy `NextRequest` to track dynamic access, and\n+                // potentially bail out of static generation.\n                 request = proxyNextRequest(req, workStore)\n+                break\n+              default:\n+                this.dynamic satisfies never\n             }\n \n             // TODO: propagate this pathname from route matcher"
        }
    ],
    "stats": {
        "total": 471,
        "additions": 212,
        "deletions": 259
    }
}