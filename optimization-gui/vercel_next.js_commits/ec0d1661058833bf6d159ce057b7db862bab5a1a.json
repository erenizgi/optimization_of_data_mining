{
    "author": "icyJoseph",
    "message": "docs: fix proxy matcher overflow (#85337)\n\nAlso closes: https://github.com/vercel/next.js/issues/85344",
    "sha": "ec0d1661058833bf6d159ce057b7db862bab5a1a",
    "files": [
        {
            "sha": "074680bcb00d635b7dd2b6bff57fa80978855185",
            "filename": "docs/01-app/01-getting-started/16-proxy.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/ec0d1661058833bf6d159ce057b7db862bab5a1a/docs%2F01-app%2F01-getting-started%2F16-proxy.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/ec0d1661058833bf6d159ce057b7db862bab5a1a/docs%2F01-app%2F01-getting-started%2F16-proxy.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F16-proxy.mdx?ref=ec0d1661058833bf6d159ce057b7db862bab5a1a",
            "patch": "@@ -22,10 +22,7 @@ Some common scenarios where Proxy is effective include:\n - Rewriting to different pages based on A/B tests or experiments\n - Modifying headers for all pages or a subset of pages\n \n-Proxy is _not_ a good fit for:\n-\n-- Slow data fetching\n-- Session management\n+Proxy is _not_ intended for slow data fetching. While Proxy can be helpful for [optimistic checks](/docs/app/guides/authentication#optimistic-checks-with-proxy-optional) such as permission-based redirects, it should not be used as a full session management or authorization solution.\n \n Using fetch with `options.cache`, `options.next.revalidate`, or `options.next.tags`, has no effect in Proxy.\n "
        },
        {
            "sha": "e90dea91b92164c2a715ec328857d491673bef4d",
            "filename": "docs/01-app/02-guides/authentication.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/ec0d1661058833bf6d159ce057b7db862bab5a1a/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/ec0d1661058833bf6d159ce057b7db862bab5a1a/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fauthentication.mdx?ref=ec0d1661058833bf6d159ce057b7db862bab5a1a",
            "patch": "@@ -1121,7 +1121,7 @@ While Proxy can be useful for initial checks, it should not be your only line of\n > **Tips**:\n >\n > - In Proxy, you can also read cookies using `req.cookies.get('session').value`.\n-> - Proxy uses the [Edge Runtime](/docs/app/api-reference/edge), check if your Auth library and session management library are compatible.\n+> - Proxy uses the Node.js runtime, check if your Auth library and session management library are compatible. You may need to use [Middleware](https://github.com/vercel/next.js/blob/v15.5.6/docs/01-app/03-api-reference/03-file-conventions/middleware.mdx) if your Auth library only supports [Edge Runtime](/docs/app/api-reference/edge)\n > - You can use the `matcher` property in the Proxy to specify which routes Proxy should run on. Although, for auth, it's recommended Proxy runs on all routes.\n \n <AppOnly>"
        },
        {
            "sha": "59265b7762b7469ecd872baa2b3c4cb17e806309",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/proxy.mdx",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/ec0d1661058833bf6d159ce057b7db862bab5a1a/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fproxy.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/ec0d1661058833bf6d159ce057b7db862bab5a1a/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fproxy.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fproxy.mdx?ref=ec0d1661058833bf6d159ce057b7db862bab5a1a",
            "patch": "@@ -80,7 +80,18 @@ export const config = {\n }\n ```\n \n-Additionally, the `matcher` option supports complex path specifications through regular expressions, such as `matcher: ['/((?!api|_next/static|_next/image|.*\\\\.png$).*)']`, enabling precise control over which paths to include or exclude.\n+Additionally, the `matcher` option supports complex path specifications using regular expressions. For example, you can exclude certain paths with a regular expression matcher:\n+\n+```js filename=\"proxy.js\"\n+export const config = {\n+  matcher: [\n+    // Exclude API routes, static files, image optimizations, and .png files\n+    '/((?!api|_next/static|_next/image|.*\\\\.png$).*)',\n+  ],\n+}\n+```\n+\n+This enables precise control over which paths to include or exclude.\n \n The `matcher` option accepts an array of objects with the following keys:\n "
        }
    ],
    "stats": {
        "total": 20,
        "additions": 14,
        "deletions": 6
    }
}