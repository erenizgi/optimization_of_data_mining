{
    "author": "ijjk",
    "message": "Update test E2E deploy workflow to accept version (#79420)\n\nThis allows us to run the E2E deploy tests against a custom tarball or\nversion without triggering a canary release.",
    "sha": "6440778d60690fe74a564de47f54d9496ea3fead",
    "files": [
        {
            "sha": "c78f078f359b8870790150655f69ec89653aefc7",
            "filename": ".github/workflows/test_e2e_deploy_release.yml",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/6440778d60690fe74a564de47f54d9496ea3fead/.github%2Fworkflows%2Ftest_e2e_deploy_release.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/6440778d60690fe74a564de47f54d9496ea3fead/.github%2Fworkflows%2Ftest_e2e_deploy_release.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Ftest_e2e_deploy_release.yml?ref=6440778d60690fe74a564de47f54d9496ea3fead",
            "patch": "@@ -6,6 +6,11 @@ on:\n     types: [published]\n   # allow triggering manually as well\n   workflow_dispatch:\n+    inputs:\n+      nextVersion:\n+        description: canary or custom tarball URL\n+        default: canary\n+        type: string\n \n env:\n   VERCEL_TEST_TEAM: vtest314-next-e2e-tests\n@@ -54,7 +59,7 @@ jobs:\n       matrix:\n         group: [1/6, 2/6, 3/6, 4/6, 5/6, 6/6]\n     with:\n-      afterBuild: npm i -g vercel@latest && NEXT_E2E_TEST_TIMEOUT=240000 NEXT_TEST_MODE=deploy NEXT_EXTERNAL_TESTS_FILTERS=\"test/deploy-tests-manifest.json\" node run-tests.js --timings -g ${{ matrix.group }} -c 2 --type e2e\n+      afterBuild: npm i -g vercel@latest && NEXT_E2E_TEST_TIMEOUT=240000 NEXT_TEST_MODE=deploy NEXT_EXTERNAL_TESTS_FILTERS=\"test/deploy-tests-manifest.json\" NEXT_TEST_VERSION=\"${{ github.event.inputs.nextVersion || 'canary' }}\" node run-tests.js --timings -g ${{ matrix.group }} -c 2 --type e2e\n       skipNativeBuild: 'yes'\n       skipNativeInstall: 'no'\n       stepName: 'test-deploy-${{ matrix.group }}'"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}