{
    "author": "mischnic",
    "message": "Turbopack: remove `clone_value` again (#81539)\n\n```\nast-grep run --pattern '$$$X.await?.clone_value()' --rewrite '$$$X.owned().await?' --lang rust -U\n```\n\nThis was originally removed in #75852, but added again in #80634 for no apparent reason.",
    "sha": "8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
    "files": [
        {
            "sha": "fdbb25649cda8f9992c13af2aef56268ce0059a3",
            "filename": "crates/napi/src/next_api/project.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -454,7 +454,7 @@ pub async fn project_new(\n     turbo_tasks.spawn_once_task({\n         let tt = turbo_tasks.clone();\n         async move {\n-            benchmark_file_io(tt, container.project().node_root().await?.clone_value())\n+            benchmark_file_io(tt, container.project().node_root().owned().await?)\n                 .await\n                 .inspect_err(|err| tracing::warn!(%err, \"failed to benchmark file IO\"))\n         }\n@@ -1501,12 +1501,8 @@ pub async fn project_trace_source_operation(\n         }\n     };\n \n-    let project_root_uri = uri_from_file(\n-        container.project().project_root_path().await?.clone_value(),\n-        None,\n-    )\n-    .await?\n-        + \"/\";\n+    let project_root_uri =\n+        uri_from_file(container.project().project_root_path().owned().await?, None).await? + \"/\";\n     let (file, original_file, is_internal) =\n         if let Some(source_file) = original_file.strip_prefix(&project_root_uri) {\n             // Client code uses file://"
        },
        {
            "sha": "e2025ea904a611e2ec1e0b8a3f780440b4c50c5d",
            "filename": "crates/next-api/src/app.rs",
            "status": "modified",
            "additions": 34,
            "deletions": 54,
            "changes": 88,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fapp.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fapp.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fapp.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -204,7 +204,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn client_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_client_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.project().client_compile_time_info().environment(),\n             self.client_ty().owned().await?,\n@@ -217,7 +217,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn client_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_client_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.client_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -234,7 +234,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn rsc_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.rsc_ty().owned().await?,\n             self.project().next_mode(),\n@@ -248,7 +248,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn edge_rsc_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.rsc_ty().owned().await?,\n             self.project().next_mode(),\n@@ -262,7 +262,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn route_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.route_ty().owned().await?,\n             self.project().next_mode(),\n@@ -276,7 +276,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn edge_route_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.route_ty().owned().await?,\n             self.project().next_mode(),\n@@ -290,7 +290,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn rsc_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_server_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.rsc_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -301,7 +301,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn edge_rsc_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_edge_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.rsc_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -312,7 +312,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn route_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_server_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.route_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -325,7 +325,7 @@ impl AppProject {\n         self: Vc<Self>,\n     ) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_edge_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.route_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -594,7 +594,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn ssr_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.ssr_ty().owned().await?,\n             self.project().next_mode(),\n@@ -608,7 +608,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn edge_ssr_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.ssr_ty().owned().await?,\n             self.project().next_mode(),\n@@ -622,7 +622,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn ssr_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_server_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.ssr_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -633,7 +633,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn edge_ssr_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_edge_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.ssr_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -797,7 +797,7 @@ impl AppProject {\n     #[turbo_tasks::function]\n     async fn client_runtime_entries(self: Vc<Self>) -> Result<Vc<EvaluatableAssets>> {\n         Ok(get_client_runtime_entries(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.client_ty().owned().await?,\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -1076,11 +1076,7 @@ impl AppEndpoint {\n             self.app_project.edge_rsc_module_context(),\n             loader_tree,\n             self.page.clone(),\n-            self.app_project\n-                .project()\n-                .project_path()\n-                .await?\n-                .clone_value(),\n+            self.app_project.project().project_path().owned().await?,\n             self.app_project.project().next_config(),\n         ))\n     }\n@@ -1112,11 +1108,7 @@ impl AppEndpoint {\n             self.app_project.edge_route_module_context(),\n             Vc::upcast(FileSource::new(path)),\n             self.page.clone(),\n-            self.app_project\n-                .project()\n-                .project_path()\n-                .await?\n-                .clone_value(),\n+            self.app_project.project().project_path().owned().await?,\n             config,\n             next_config,\n         ))\n@@ -1131,11 +1123,7 @@ impl AppEndpoint {\n         Ok(get_app_metadata_route_entry(\n             self.app_project.rsc_module_context(),\n             self.app_project.edge_rsc_module_context(),\n-            self.app_project\n-                .project()\n-                .project_path()\n-                .await?\n-                .clone_value(),\n+            self.app_project.project().project_path().owned().await?,\n             self.page.clone(),\n             *self.app_project.project().next_mode().await?,\n             metadata,\n@@ -1199,8 +1187,8 @@ impl AppEndpoint {\n             ),\n         };\n \n-        let node_root = project.node_root().await?.clone_value();\n-        let client_relative_path = project.client_relative_path().await?.clone_value();\n+        let node_root = project.node_root().owned().await?;\n+        let client_relative_path = project.client_relative_path().owned().await?;\n         let server_path = node_root.join(\"server\")?;\n \n         let mut server_assets = fxindexset![];\n@@ -1240,7 +1228,7 @@ impl AppEndpoint {\n         };\n \n         let client_shared_chunk_group = get_app_client_shared_chunk_group(\n-            AssetIdent::from_path(project.project_path().await?.clone_value())\n+            AssetIdent::from_path(project.project_path().owned().await?)\n                 .with_modifier(rcstr!(\"client-shared-chunks\")),\n             this.app_project.client_runtime_entries(),\n             *module_graphs.full,\n@@ -1340,9 +1328,9 @@ impl AppEndpoint {\n \n         // polyfill-nomodule.js is a pre-compiled asset distributed as part of next,\n         // load it as a RawModule.\n-        let next_package = get_next_package(project.project_path().await?.clone_value())\n-            .await?\n-            .clone_value();\n+        let next_package = get_next_package(project.project_path().owned().await?)\n+            .owned()\n+            .await?;\n         let polyfill_source =\n             FileSource::new(next_package.join(\"dist/build/polyfills/polyfill-nomodule.js\")?);\n         let polyfill_output_path = client_chunking_context\n@@ -1351,8 +1339,8 @@ impl AppEndpoint {\n                 polyfill_source.ident(),\n                 rcstr!(\".js\"),\n             )\n-            .await?\n-            .clone_value();\n+            .owned()\n+            .await?;\n         let polyfill_output_asset = ResolvedVc::upcast(\n             RawOutput::new(polyfill_output_path, Vc::upcast(polyfill_source))\n                 .to_resolved()\n@@ -1431,7 +1419,7 @@ impl AppEndpoint {\n \n         let server_action_manifest = create_server_actions_manifest(\n             actions,\n-            project.project_path().await?.clone_value(),\n+            project.project_path().owned().await?,\n             node_root.clone(),\n             app_entry.original_name.clone(),\n             runtime,\n@@ -1495,9 +1483,9 @@ impl AppEndpoint {\n             client_reference_manifest = Some(entry_manifest);\n \n             let next_font_manifest_output = create_font_manifest(\n-                project.client_root().await?.clone_value(),\n+                project.client_root().owned().await?,\n                 node_root.clone(),\n-                this.app_project.app_dir().await?.clone_value(),\n+                this.app_project.app_dir().owned().await?,\n                 &app_entry.original_name,\n                 &app_entry.original_name,\n                 &app_entry.original_name,\n@@ -1800,11 +1788,7 @@ impl AppEndpoint {\n                         let chunk_group = chunking_context\n                             .chunk_group(\n                                 AssetIdent::from_path(\n-                                    this.app_project\n-                                        .project()\n-                                        .project_path()\n-                                        .await?\n-                                        .clone_value(),\n+                                    this.app_project.project().project_path().owned().await?,\n                                 )\n                                 .with_modifier(rcstr!(\"server-utils\")),\n                                 // TODO this should be ChunkGroup::Shared\n@@ -1954,15 +1938,15 @@ impl Endpoint for AppEndpoint {\n                 .await?\n                 .is_development()\n             {\n-                let node_root = this.app_project.project().node_root().await?.clone_value();\n+                let node_root = this.app_project.project().node_root().owned().await?;\n                 let server_paths = all_server_paths(output_assets, node_root).owned().await?;\n \n                 let client_relative_root = this\n                     .app_project\n                     .project()\n                     .client_relative_path()\n-                    .await?\n-                    .clone_value();\n+                    .owned()\n+                    .await?;\n                 let client_paths = all_paths_in_root(output_assets, client_relative_root)\n                     .owned()\n                     .instrument(tracing::info_span!(\"client_paths\"))\n@@ -2060,11 +2044,7 @@ impl Endpoint for AppEndpoint {\n \n         let server_actions_loader = ResolvedVc::upcast(\n             build_server_actions_loader(\n-                this.app_project\n-                    .project()\n-                    .project_path()\n-                    .await?\n-                    .clone_value(),\n+                this.app_project.project().project_path().owned().await?,\n                 app_entry.original_name.clone(),\n                 actions,\n                 match runtime {"
        },
        {
            "sha": "e5bcb45112614c6d18d64e49f3cfeadfed25d75b",
            "filename": "crates/next-api/src/instrumentation.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Finstrumentation.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Finstrumentation.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Finstrumentation.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -83,7 +83,7 @@ impl InstrumentationEndpoint {\n \n         let edge_entry_module = wrap_edge_entry(\n             *self.asset_context,\n-            self.project.project_path().await?.clone_value(),\n+            self.project.project_path().owned().await?,\n             *userland_module,\n             rcstr!(\"instrumentation\"),\n         )\n@@ -177,7 +177,7 @@ impl InstrumentationEndpoint {\n             let edge_files = self.edge_files();\n             let mut output_assets = edge_files.owned().await?;\n \n-            let node_root = this.project.node_root().await?.clone_value();\n+            let node_root = this.project.node_root().owned().await?;\n             let node_root_value = node_root.clone();\n \n             let file_paths_from_root =\n@@ -243,7 +243,7 @@ impl Endpoint for InstrumentationEndpoint {\n             let output_assets = self.output_assets();\n \n             let server_paths = if this.project.next_mode().await?.is_development() {\n-                let node_root = this.project.node_root().await?.clone_value();\n+                let node_root = this.project.node_root().owned().await?;\n                 all_server_paths(output_assets, node_root).owned().await?\n             } else {\n                 vec![]"
        },
        {
            "sha": "ade51e52f8c17ffde8b55c99a83e7a96fe952338",
            "filename": "crates/next-api/src/middleware.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fmiddleware.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fmiddleware.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fmiddleware.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -82,7 +82,7 @@ impl MiddlewareEndpoint {\n \n         let module = get_middleware_module(\n             *self.asset_context,\n-            self.project.project_path().await?.clone_value(),\n+            self.project.project_path().owned().await?,\n             userland_module,\n         );\n \n@@ -94,7 +94,7 @@ impl MiddlewareEndpoint {\n         }\n         Ok(wrap_edge_entry(\n             *self.asset_context,\n-            self.project.project_path().await?.clone_value(),\n+            self.project.project_path().owned().await?,\n             module,\n             rcstr!(\"middleware\"),\n         ))\n@@ -282,7 +282,7 @@ impl MiddlewareEndpoint {\n             let edge_files = self.edge_files();\n             let mut output_assets = edge_files.owned().await?;\n \n-            let node_root = this.project.node_root().await?.clone_value();\n+            let node_root = this.project.node_root().owned().await?;\n             let node_root_value = node_root.clone();\n \n             let file_paths_from_root =\n@@ -362,11 +362,11 @@ impl Endpoint for MiddlewareEndpoint {\n             let output_assets = self.output_assets();\n \n             let (server_paths, client_paths) = if this.project.next_mode().await?.is_development() {\n-                let node_root = this.project.node_root().await?.clone_value();\n+                let node_root = this.project.node_root().owned().await?;\n                 let server_paths = all_server_paths(output_assets, node_root).owned().await?;\n \n                 // Middleware could in theory have a client path (e.g. `new URL`).\n-                let client_relative_root = this.project.client_relative_path().await?.clone_value();\n+                let client_relative_root = this.project.client_relative_path().owned().await?;\n                 let client_paths = all_paths_in_root(output_assets, client_relative_root)\n                     .into_future()\n                     .owned()"
        },
        {
            "sha": "b0c78f086c76c21c0c8027081f3f9bf698a4b5e4",
            "filename": "crates/next-api/src/module_graph.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fmodule_graph.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fmodule_graph.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fmodule_graph.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -408,8 +408,8 @@ impl Issue for CssGlobalImportIssue {\n \n     #[turbo_tasks::function]\n     async fn description(&self) -> Result<Vc<OptionStyledString>> {\n-        let parent_path = self.parent_module.ident().path().await?.clone_value();\n-        let module_path = self.module.ident().path().await?.clone_value();\n+        let parent_path = self.parent_module.ident().path().owned().await?;\n+        let module_path = self.module.ident().path().owned().await?;\n         let relative_import_location = parent_path.parent();\n \n         let import_path = match relative_import_location.get_relative_path_to(&module_path) {"
        },
        {
            "sha": "6b4f7cb155e8939d87d660cf2adff66a7fba5e41",
            "filename": "crates/next-api/src/nft_json.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fnft_json.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fnft_json.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fnft_json.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -234,7 +234,7 @@ impl Asset for NftJsonAsset {\n         // Apply outputFileTracingIncludes and outputFileTracingExcludes\n         // Extract route from chunk path for pattern matching\n         if let Some(route) = &this.page_name {\n-            let project_path = this.project.project_path().await?.clone_value();\n+            let project_path = this.project.project_path().owned().await?;\n             let mut combined_includes = BTreeSet::new();\n \n             // Process includes"
        },
        {
            "sha": "10b18bd5bea6918935a577e43997d5eeb2760712",
            "filename": "crates/next-api/src/pages.rs",
            "status": "modified",
            "additions": 47,
            "deletions": 93,
            "changes": 140,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fpages.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fpages.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fpages.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -264,9 +264,9 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn pages_structure(&self) -> Result<Vc<PagesStructure>> {\n         let next_router_fs = Vc::upcast::<Box<dyn FileSystem>>(VirtualFileSystem::new());\n-        let next_router_root = next_router_fs.root().await?.clone_value();\n+        let next_router_root = next_router_fs.root().owned().await?;\n         Ok(find_pages_structure(\n-            self.project.project_path().await?.clone_value(),\n+            self.project.project_path().owned().await?,\n             next_router_root,\n             self.project.next_config().page_extensions(),\n         ))\n@@ -333,11 +333,11 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn client_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_client_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             self.project().client_compile_time_info().environment(),\n             ClientContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -348,9 +348,9 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn client_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_client_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             ClientContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -440,10 +440,10 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn ssr_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             ServerContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -456,10 +456,10 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn edge_ssr_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             ServerContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -472,10 +472,10 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn api_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             ServerContextType::PagesApi {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -488,10 +488,10 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn edge_api_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             ServerContextType::PagesApi {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -504,10 +504,10 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn ssr_data_module_options_context(self: Vc<Self>) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             ServerContextType::PagesData {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -522,10 +522,10 @@ impl PagesProject {\n         self: Vc<Self>,\n     ) -> Result<Vc<ModuleOptionsContext>> {\n         Ok(get_server_module_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             self.project().execution_context(),\n             ServerContextType::PagesData {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -538,12 +538,12 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn ssr_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_server_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             // NOTE(alexkirsz) This could be `PagesData` for the data endpoint, but it doesn't\n             // matter (for now at least) because `get_server_resolve_options_context` doesn't\n             // differentiate between the two.\n             ServerContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -554,12 +554,12 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn edge_ssr_resolve_options_context(self: Vc<Self>) -> Result<Vc<ResolveOptionsContext>> {\n         Ok(get_edge_resolve_options_context(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             // NOTE(alexkirsz) This could be `PagesData` for the data endpoint, but it doesn't\n             // matter (for now at least) because `get_server_resolve_options_context` doesn't\n             // differentiate between the two.\n             ServerContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -570,9 +570,9 @@ impl PagesProject {\n     #[turbo_tasks::function]\n     async fn client_runtime_entries(self: Vc<Self>) -> Result<Vc<EvaluatableAssets>> {\n         let client_runtime_entries = get_client_runtime_entries(\n-            self.project().project_path().await?.clone_value(),\n+            self.project().project_path().owned().await?,\n             ClientContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n             self.project().next_config(),\n@@ -585,7 +585,7 @@ impl PagesProject {\n     async fn runtime_entries(self: Vc<Self>) -> Result<Vc<RuntimeEntries>> {\n         Ok(get_server_runtime_entries(\n             ServerContextType::Pages {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n         ))\n@@ -595,7 +595,7 @@ impl PagesProject {\n     async fn data_runtime_entries(self: Vc<Self>) -> Result<Vc<RuntimeEntries>> {\n         Ok(get_server_runtime_entries(\n             ServerContextType::PagesData {\n-                pages_dir: self.pages_dir().await?.clone_value(),\n+                pages_dir: self.pages_dir().owned().await?,\n             },\n             self.project().next_mode(),\n         ))\n@@ -727,7 +727,7 @@ impl PageEndpoint {\n     #[turbo_tasks::function]\n     async fn source(&self) -> Result<Vc<Box<dyn Source>>> {\n         Ok(Vc::upcast(FileSource::new(\n-            self.page.file_path().await?.clone_value(),\n+            self.page.file_path().owned().await?,\n         )))\n     }\n \n@@ -864,7 +864,7 @@ impl PageEndpoint {\n     ) -> Result<Vc<Box<dyn OutputAsset>>> {\n         let this = self.await?;\n         let project = this.pages_project.project();\n-        let node_root = project.client_root().await?.clone_value();\n+        let node_root = project.client_root().owned().await?;\n         let client_relative_path = self.client_relative_path();\n         let page_loader = PageLoaderAsset::new(\n             node_root,\n@@ -882,31 +882,19 @@ impl PageEndpoint {\n         let (reference_type, project_root, module_context, edge_module_context) = match this.ty {\n             PageEndpointType::Html | PageEndpointType::SsrOnly => (\n                 ReferenceType::Entry(EntryReferenceSubType::Page),\n-                this.pages_project\n-                    .project()\n-                    .project_path()\n-                    .await?\n-                    .clone_value(),\n+                this.pages_project.project().project_path().owned().await?,\n                 this.pages_project.ssr_module_context(),\n                 this.pages_project.edge_ssr_module_context(),\n             ),\n             PageEndpointType::Data => (\n                 ReferenceType::Entry(EntryReferenceSubType::Page),\n-                this.pages_project\n-                    .project()\n-                    .project_path()\n-                    .await?\n-                    .clone_value(),\n+                this.pages_project.project().project_path().owned().await?,\n                 this.pages_project.ssr_data_module_context(),\n                 this.pages_project.edge_ssr_data_module_context(),\n             ),\n             PageEndpointType::Api => (\n                 ReferenceType::Entry(EntryReferenceSubType::PagesApi),\n-                this.pages_project\n-                    .project()\n-                    .project_path()\n-                    .await?\n-                    .clone_value(),\n+                this.pages_project.project().project_path().owned().await?,\n                 this.pages_project.api_module_context(),\n                 this.pages_project.edge_api_module_context(),\n             ),\n@@ -1029,12 +1017,7 @@ impl PageEndpoint {\n                         .client_module_context()\n                         .process(\n                             Vc::upcast(FileSource::new(\n-                                this.pages_structure\n-                                    .await?\n-                                    .app\n-                                    .file_path()\n-                                    .await?\n-                                    .clone_value(),\n+                                this.pages_structure.await?.app.file_path().owned().await?,\n                             )),\n                             ReferenceType::Entry(EntryReferenceSubType::Page),\n                         )\n@@ -1276,18 +1259,13 @@ impl PageEndpoint {\n         dynamic_import_entries: Vc<DynamicImportedChunks>,\n         runtime: NextRuntime,\n     ) -> Result<Vc<OutputAssets>> {\n-        let node_root = self\n-            .pages_project\n-            .project()\n-            .node_root()\n-            .await?\n-            .clone_value();\n+        let node_root = self.pages_project.project().node_root().owned().await?;\n         let client_relative_path = self\n             .pages_project\n             .project()\n             .client_relative_path()\n-            .await?\n-            .clone_value();\n+            .owned()\n+            .await?;\n         let loadable_path_prefix = get_asset_prefix_from_pathname(&self.pathname);\n         Ok(create_react_loadable_manifest(\n             dynamic_import_entries,\n@@ -1304,18 +1282,13 @@ impl PageEndpoint {\n         &self,\n         client_chunks: ResolvedVc<OutputAssets>,\n     ) -> Result<Vc<Box<dyn OutputAsset>>> {\n-        let node_root = self\n-            .pages_project\n-            .project()\n-            .node_root()\n-            .await?\n-            .clone_value();\n+        let node_root = self.pages_project.project().node_root().owned().await?;\n         let client_relative_path = self\n             .pages_project\n             .project()\n             .client_relative_path()\n-            .await?\n-            .clone_value();\n+            .owned()\n+            .await?;\n         let build_manifest = BuildManifest {\n             pages: fxindexmap!(self.pathname.clone() => client_chunks),\n             ..Default::default()\n@@ -1362,20 +1335,11 @@ impl PageEndpoint {\n         let client_assets = OutputAssets::new(client_assets).to_resolved().await?;\n \n         let manifest_path_prefix = get_asset_prefix_from_pathname(pathname);\n-        let node_root = this\n-            .pages_project\n-            .project()\n-            .node_root()\n-            .await?\n-            .clone_value();\n+        let node_root = this.pages_project.project().node_root().owned().await?;\n         let next_font_manifest_output = create_font_manifest(\n-            this.pages_project\n-                .project()\n-                .client_root()\n-                .await?\n-                .clone_value(),\n+            this.pages_project.project().client_root().owned().await?,\n             node_root.clone(),\n-            this.pages_project.pages_dir().await?.clone_value(),\n+            this.pages_project.pages_dir().owned().await?,\n             original_name,\n             &manifest_path_prefix,\n             pathname,\n@@ -1441,12 +1405,7 @@ impl PageEndpoint {\n                 dynamic_import_entries,\n                 ref regions,\n             } => {\n-                let node_root = this\n-                    .pages_project\n-                    .project()\n-                    .node_root()\n-                    .await?\n-                    .clone_value();\n+                let node_root = this.pages_project.project().node_root().owned().await?;\n                 if emit_manifests {\n                     let files_value = files.await?;\n                     if let Some(&file) = files_value.first() {\n@@ -1558,8 +1517,8 @@ impl PageEndpoint {\n             self.pages_project\n                 .project()\n                 .client_relative_path()\n-                .await?\n-                .clone_value(),\n+                .owned()\n+                .await?,\n         )))\n     }\n }\n@@ -1599,12 +1558,7 @@ impl Endpoint for PageEndpoint {\n             let output = self.output().await?;\n             let output_assets = self.output().output_assets();\n \n-            let node_root = this\n-                .pages_project\n-                .project()\n-                .node_root()\n-                .await?\n-                .clone_value();\n+            let node_root = this.pages_project.project().node_root().owned().await?;\n \n             let (server_paths, client_paths) = if this\n                 .pages_project\n@@ -1621,8 +1575,8 @@ impl Endpoint for PageEndpoint {\n                     .pages_project\n                     .project()\n                     .client_relative_path()\n-                    .await?\n-                    .clone_value();\n+                    .owned()\n+                    .await?;\n                 let client_paths = all_paths_in_root(output_assets, client_relative_root)\n                     .owned()\n                     .instrument(tracing::info_span!(\"client_paths\"))"
        },
        {
            "sha": "030bf5803a498434d262ed31365313f9bb0ecc74",
            "filename": "crates/next-api/src/project.rs",
            "status": "modified",
            "additions": 35,
            "deletions": 35,
            "changes": 70,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fproject.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -649,7 +649,7 @@ impl Issue for ConflictIssue {\n impl Project {\n     #[turbo_tasks::function]\n     pub async fn app_project(self: Vc<Self>) -> Result<Vc<OptionAppProject>> {\n-        let app_dir = find_app_dir(self.project_path().await?.clone_value()).await?;\n+        let app_dir = find_app_dir(self.project_path().owned().await?).await?;\n \n         Ok(match &*app_dir {\n             Some(app_dir) => Vc::cell(Some(\n@@ -804,12 +804,12 @@ impl Project {\n \n     #[turbo_tasks::function]\n     pub(super) async fn execution_context(self: Vc<Self>) -> Result<Vc<ExecutionContext>> {\n-        let node_root = self.node_root().await?.clone_value();\n+        let node_root = self.node_root().owned().await?;\n         let next_mode = self.next_mode().await?;\n \n         let node_execution_chunking_context = Vc::upcast(\n             NodeJsChunkingContext::builder(\n-                self.project_root_path().await?.clone_value(),\n+                self.project_root_path().owned().await?,\n                 node_root.clone(),\n                 self.node_root_to_root_path().owned().await?,\n                 node_root.clone(),\n@@ -827,7 +827,7 @@ impl Project {\n         );\n \n         Ok(ExecutionContext::new(\n-            self.project_path().await?.clone_value(),\n+            self.project_path().owned().await?,\n             node_execution_chunking_context,\n             self.env(),\n         ))\n@@ -1008,7 +1008,7 @@ impl Project {\n     pub(super) async fn edge_compile_time_info(self: Vc<Self>) -> Result<Vc<CompileTimeInfo>> {\n         let this = self.await?;\n         Ok(get_edge_compile_time_info(\n-            self.project_path().await?.clone_value(),\n+            self.project_path().owned().await?,\n             this.define_env.edge(),\n             self.current_node_js_version(),\n         ))\n@@ -1032,8 +1032,8 @@ impl Project {\n     ) -> Result<Vc<Box<dyn ChunkingContext>>> {\n         Ok(get_client_chunking_context(ClientChunkingContextOptions {\n             mode: self.next_mode(),\n-            root_path: self.project_root_path().await?.clone_value(),\n-            client_root: self.client_relative_path().await?.clone_value(),\n+            root_path: self.project_root_path().owned().await?,\n+            client_root: self.client_relative_path().owned().await?,\n             client_root_to_root_path: rcstr!(\"/ROOT\"),\n             asset_prefix: self.next_config().computed_asset_prefix(),\n             chunk_suffix_path: self.next_config().chunk_suffix_path(),\n@@ -1054,8 +1054,8 @@ impl Project {\n     ) -> Result<Vc<NodeJsChunkingContext>> {\n         let options = ServerChunkingContextOptions {\n             mode: self.next_mode(),\n-            root_path: self.project_root_path().await?.clone_value(),\n-            node_root: self.node_root().await?.clone_value(),\n+            root_path: self.project_root_path().owned().await?,\n+            node_root: self.node_root().owned().await?,\n             node_root_to_root_path: self.node_root_to_root_path().owned().await?,\n             environment: self.server_compile_time_info().environment(),\n             module_id_strategy: self.module_ids(),\n@@ -1068,7 +1068,7 @@ impl Project {\n         Ok(if client_assets {\n             get_server_chunking_context_with_client_assets(\n                 options,\n-                self.client_relative_path().await?.clone_value(),\n+                self.client_relative_path().owned().await?,\n                 self.next_config().computed_asset_prefix().owned().await?,\n             )\n         } else {\n@@ -1083,8 +1083,8 @@ impl Project {\n     ) -> Result<Vc<Box<dyn ChunkingContext>>> {\n         let options = EdgeChunkingContextOptions {\n             mode: self.next_mode(),\n-            root_path: self.project_root_path().await?.clone_value(),\n-            node_root: self.node_root().await?.clone_value(),\n+            root_path: self.project_root_path().owned().await?,\n+            node_root: self.node_root().owned().await?,\n             output_root_to_root_path: self.node_root_to_root_path(),\n             environment: self.edge_compile_time_info().environment(),\n             module_id_strategy: self.module_ids(),\n@@ -1097,7 +1097,7 @@ impl Project {\n         Ok(if client_assets {\n             get_edge_chunking_context_with_client_assets(\n                 options,\n-                self.client_relative_path().await?.clone_value(),\n+                self.client_relative_path().owned().await?,\n                 self.next_config().computed_asset_prefix(),\n             )\n         } else {\n@@ -1221,7 +1221,7 @@ impl Project {\n             match routes.entry(pathname.clone()) {\n                 Entry::Occupied(mut entry) => {\n                     ConflictIssue {\n-                        path: self.project_path().await?.clone_value(),\n+                        path: self.project_path().owned().await?,\n                         title: StyledString::Text(\n                             format!(\"App Router and Pages Router both match path: {pathname}\")\n                                 .into(),\n@@ -1288,7 +1288,7 @@ impl Project {\n     async fn edge_middleware_context(self: Vc<Self>) -> Result<Vc<Box<dyn AssetContext>>> {\n         let mut transitions = vec![];\n \n-        let app_dir = find_app_dir(self.project_path().await?.clone_value())\n+        let app_dir = find_app_dir(self.project_path().owned().await?)\n             .owned()\n             .await?;\n         let app_project = *self.app_project().await?;\n@@ -1314,7 +1314,7 @@ impl Project {\n             .cell(),\n             self.edge_compile_time_info(),\n             get_server_module_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 self.execution_context(),\n                 ServerContextType::Middleware {\n                     app_dir: app_dir.clone(),\n@@ -1328,7 +1328,7 @@ impl Project {\n                 self.edge_compile_time_info().environment(),\n             ),\n             get_edge_resolve_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 ServerContextType::Middleware {\n                     app_dir: app_dir.clone(),\n                     ecmascript_client_reference_transition_name:\n@@ -1349,7 +1349,7 @@ impl Project {\n     async fn node_middleware_context(self: Vc<Self>) -> Result<Vc<Box<dyn AssetContext>>> {\n         let mut transitions = vec![];\n \n-        let app_dir = find_app_dir(self.project_path().await?.clone_value())\n+        let app_dir = find_app_dir(self.project_path().owned().await?)\n             .owned()\n             .await?;\n         let app_project = *self.app_project().await?;\n@@ -1375,7 +1375,7 @@ impl Project {\n             .cell(),\n             self.server_compile_time_info(),\n             get_server_module_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 self.execution_context(),\n                 ServerContextType::Middleware {\n                     app_dir: app_dir.clone(),\n@@ -1389,7 +1389,7 @@ impl Project {\n                 self.server_compile_time_info().environment(),\n             ),\n             get_server_resolve_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 ServerContextType::Middleware {\n                     app_dir: app_dir.clone(),\n                     ecmascript_client_reference_transition_name,\n@@ -1431,7 +1431,7 @@ impl Project {\n     #[turbo_tasks::function]\n     async fn find_middleware(self: Vc<Self>) -> Result<Vc<FindContextFileResult>> {\n         Ok(find_context_file(\n-            self.project_path().await?.clone_value(),\n+            self.project_path().owned().await?,\n             middleware_files(self.next_config().page_extensions()),\n         ))\n     }\n@@ -1443,7 +1443,7 @@ impl Project {\n             return Ok(Vc::upcast(EmptyEndpoint::new()));\n         };\n         let source = Vc::upcast(FileSource::new(fs_path.clone()));\n-        let app_dir = find_app_dir(self.project_path().await?.clone_value())\n+        let app_dir = find_app_dir(self.project_path().owned().await?)\n             .owned()\n             .await?;\n         let ecmascript_client_reference_transition_name = (*self.app_project().await?)\n@@ -1465,7 +1465,7 @@ impl Project {\n     async fn node_instrumentation_context(self: Vc<Self>) -> Result<Vc<Box<dyn AssetContext>>> {\n         let mut transitions = vec![];\n \n-        let app_dir = find_app_dir(self.project_path().await?.clone_value())\n+        let app_dir = find_app_dir(self.project_path().owned().await?)\n             .owned()\n             .await?;\n         let app_project = &*self.app_project().await?;\n@@ -1492,7 +1492,7 @@ impl Project {\n             .cell(),\n             self.server_compile_time_info(),\n             get_server_module_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 self.execution_context(),\n                 ServerContextType::Instrumentation {\n                     app_dir: app_dir.clone(),\n@@ -1506,7 +1506,7 @@ impl Project {\n                 self.server_compile_time_info().environment(),\n             ),\n             get_server_resolve_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 ServerContextType::Instrumentation {\n                     app_dir: app_dir.clone(),\n                     ecmascript_client_reference_transition_name,\n@@ -1526,7 +1526,7 @@ impl Project {\n     async fn edge_instrumentation_context(self: Vc<Self>) -> Result<Vc<Box<dyn AssetContext>>> {\n         let mut transitions = vec![];\n \n-        let app_dir = find_app_dir(self.project_path().await?.clone_value())\n+        let app_dir = find_app_dir(self.project_path().owned().await?)\n             .owned()\n             .await?;\n         let app_project = &*self.app_project().await?;\n@@ -1553,7 +1553,7 @@ impl Project {\n             .cell(),\n             self.edge_compile_time_info(),\n             get_server_module_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 self.execution_context(),\n                 ServerContextType::Instrumentation {\n                     app_dir: app_dir.clone(),\n@@ -1567,7 +1567,7 @@ impl Project {\n                 self.edge_compile_time_info().environment(),\n             ),\n             get_edge_resolve_options_context(\n-                self.project_path().await?.clone_value(),\n+                self.project_path().owned().await?,\n                 ServerContextType::Instrumentation {\n                     app_dir: app_dir.clone(),\n                     ecmascript_client_reference_transition_name,\n@@ -1586,7 +1586,7 @@ impl Project {\n     #[turbo_tasks::function]\n     async fn find_instrumentation(self: Vc<Self>) -> Result<Vc<FindContextFileResult>> {\n         Ok(find_context_file(\n-            self.project_path().await?.clone_value(),\n+            self.project_path().owned().await?,\n             instrumentation_files(self.next_config().page_extensions()),\n         ))\n     }\n@@ -1601,7 +1601,7 @@ impl Project {\n             return Ok(Vc::upcast(EmptyEndpoint::new()));\n         };\n         let source = Vc::upcast(FileSource::new(fs_path.clone()));\n-        let app_dir = find_app_dir(self.project_path().await?.clone_value())\n+        let app_dir = find_app_dir(self.project_path().owned().await?)\n             .owned()\n             .await?;\n         let ecmascript_client_reference_transition_name = (*self.app_project().await?)\n@@ -1633,8 +1633,8 @@ impl Project {\n         async move {\n             let all_output_assets = all_assets_from_entries_operation(output_assets);\n \n-            let client_relative_path = self.client_relative_path().await?.clone_value();\n-            let node_root = self.node_root().await?.clone_value();\n+            let client_relative_path = self.client_relative_path().owned().await?;\n+            let node_root = self.node_root().owned().await?;\n \n             if let Some(map) = self.await?.versioned_content_map {\n                 map.insert_output_assets(\n@@ -1734,7 +1734,7 @@ impl Project {\n     #[turbo_tasks::function]\n     pub async fn hmr_identifiers(self: Vc<Self>) -> Result<Vc<Vec<RcStr>>> {\n         if let Some(map) = self.await?.versioned_content_map {\n-            Ok(map.keys_in_path(self.client_relative_path().await?.clone_value()))\n+            Ok(map.keys_in_path(self.client_relative_path().owned().await?))\n         } else {\n             bail!(\"must be in dev mode to hmr\")\n         }\n@@ -1744,15 +1744,15 @@ impl Project {\n     /// referenced from the roots\n     #[turbo_tasks::function]\n     pub async fn server_changed(self: Vc<Self>, roots: Vc<OutputAssets>) -> Result<Vc<Completion>> {\n-        let path = self.node_root().await?.clone_value();\n+        let path = self.node_root().owned().await?;\n         Ok(any_output_changed(roots, path, true))\n     }\n \n     /// Completion when client side changes are detected in output assets\n     /// referenced from the roots\n     #[turbo_tasks::function]\n     pub async fn client_changed(self: Vc<Self>, roots: Vc<OutputAssets>) -> Result<Vc<Completion>> {\n-        let path = self.client_root().await?.clone_value();\n+        let path = self.client_root().owned().await?;\n         Ok(any_output_changed(roots, path, false))\n     }\n "
        },
        {
            "sha": "2b265cf527b2605cbc016b810a140d7470bc1a53",
            "filename": "crates/next-api/src/versioned_content_map.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fversioned_content_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-api%2Fsrc%2Fversioned_content_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fversioned_content_map.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -264,7 +264,7 @@ async fn get_entries(assets: OperationVc<OutputAssets>) -> Result<Vc<GetEntriesR\n     let entries = assets_ref\n         .iter()\n         .map(|&asset| async move {\n-            let path = asset.path().await?.clone_value();\n+            let path = asset.path().owned().await?;\n             Ok((path, asset))\n         })\n         .try_join()"
        },
        {
            "sha": "2ea821a6d1c605fe1dc5e17e964d60b2c999f2fa",
            "filename": "crates/next-core/src/embed_js.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fembed_js.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fembed_js.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fembed_js.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -25,6 +25,6 @@ pub(crate) async fn next_js_file_path(path: RcStr) -> Result<Vc<FileSystemPath>>\n #[turbo_tasks::function]\n pub(crate) async fn next_asset(path: RcStr) -> Result<Vc<Box<dyn Source>>> {\n     Ok(Vc::upcast(FileSource::new(\n-        next_js_file_path(path).await?.clone_value(),\n+        next_js_file_path(path).owned().await?,\n     )))\n }"
        },
        {
            "sha": "342cf73572af89b369326751503b8deb20b84c4a",
            "filename": "crates/next-core/src/emit.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Femit.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Femit.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Femit.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -55,7 +55,7 @@ pub async fn emit_assets(\n             let client_output_path = client_output_path.clone();\n \n             async move {\n-                let path = asset.path().await?.clone_value();\n+                let path = asset.path().owned().await?;\n                 let span = tracing::info_span!(\"emit asset\", name = %path.value_to_string().await?);\n                 async move {\n                     Ok(if path.is_inside_ref(&node_root) {\n@@ -88,7 +88,7 @@ async fn emit(asset: Vc<Box<dyn OutputAsset>>) -> Result<()> {\n         .content()\n         .resolve()\n         .await?\n-        .write(asset.path().await?.clone_value())\n+        .write(asset.path().owned().await?)\n         .as_side_effect()\n         .await?;\n     Ok(())\n@@ -100,9 +100,9 @@ async fn emit_rebase(\n     from: FileSystemPath,\n     to: FileSystemPath,\n ) -> Result<()> {\n-    let path = rebase(asset.path().await?.clone_value(), from, to)\n-        .await?\n-        .clone_value();\n+    let path = rebase(asset.path().owned().await?, from, to)\n+        .owned()\n+        .await?;\n     let content = asset.content();\n     content\n         .resolve()"
        },
        {
            "sha": "4afd73b1bedf739adf3dc9bd37512013a6753e86",
            "filename": "crates/next-core/src/next_app/app_client_references_chunks.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_client_references_chunks.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_client_references_chunks.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_client_references_chunks.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -179,7 +179,7 @@ pub async fn get_app_client_references_chunks(\n \n                 let base_ident = server_component.ident();\n \n-                let server_path = server_component.server_path().await?.clone_value();\n+                let server_path = server_component.server_path().owned().await?;\n                 let is_layout = server_path.file_stem() == Some(\"layout\");\n                 let server_component_path = server_path.value_to_string().await?;\n "
        },
        {
            "sha": "5d9b5e6547000fc02706d224c3b7b81128b0f7be",
            "filename": "crates/next-core/src/next_app/app_route_entry.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_route_entry.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_route_entry.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_app%2Fapp_route_entry.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -55,7 +55,7 @@ pub async fn get_app_route_entry(\n     let original_name: RcStr = page.to_string().into();\n     let pathname: RcStr = AppPath::from(page.clone()).to_string().into();\n \n-    let path = source.ident().path().await?.clone_value();\n+    let path = source.ident().path().owned().await?;\n \n     const INNER: &str = \"INNER_APP_ROUTE\";\n "
        },
        {
            "sha": "413c2107612c04bf6e1367f0fb5dd49dbd12a737",
            "filename": "crates/next-core/src/next_build.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_build.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_build.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_build.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -16,7 +16,7 @@ pub async fn get_postcss_package_mapping(\n             .resolved_cell(),\n         ImportMapping::PrimaryAlternative(\n             \"postcss\".into(),\n-            Some(get_next_package(project_path.clone()).await?.clone_value()),\n+            Some(get_next_package(project_path.clone()).owned().await?),\n         )\n         .resolved_cell(),\n     ])"
        },
        {
            "sha": "34b131b23188617e63baa4b5245cc45e00443471",
            "filename": "crates/next-core/src/next_client/context.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -149,7 +149,7 @@ pub async fn get_client_resolve_options_context(\n             .await?;\n     let custom_conditions = vec![mode.await?.condition().into()];\n     let resolve_options_context = ResolveOptionsContext {\n-        enable_node_modules: Some(project_path.root().await?.clone_value()),\n+        enable_node_modules: Some(project_path.root().owned().await?),\n         custom_conditions,\n         import_map: Some(next_client_import_map),\n         fallback_import_map: Some(next_client_fallback_import_map),\n@@ -431,9 +431,7 @@ pub async fn get_client_chunking_context(\n         client_root_to_root_path,\n         client_root.clone(),\n         client_root.join(\"static/chunks\")?,\n-        get_client_assets_path(client_root.clone())\n-            .await?\n-            .clone_value(),\n+        get_client_assets_path(client_root.clone()).owned().await?,\n         environment.to_resolved().await?,\n         next_mode.runtime_type(),\n     )"
        },
        {
            "sha": "9850dfee548df4a74726c7952f6871502da47318",
            "filename": "crates/next-core/src/next_edge/context.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fcontext.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -154,7 +154,7 @@ pub async fn get_edge_resolve_options_context(\n     };\n \n     let resolve_options_context = ResolveOptionsContext {\n-        enable_node_modules: Some(project_path.root().await?.clone_value()),\n+        enable_node_modules: Some(project_path.root().owned().await?),\n         enable_edge_node_externals: true,\n         custom_conditions,\n         import_map: Some(next_edge_import_map),"
        },
        {
            "sha": "51ffaa52364bca878e4a8e4868b7d0581161074c",
            "filename": "crates/next-core/src/next_edge/unsupported.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Funsupported.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Funsupported.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Funsupported.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -50,7 +50,7 @@ impl ImportMappingReplacement for NextEdgeUnsupportedModuleReplacer {\n             // Call out to separate `unsupported_module_source` to only have a single Source cell\n             // for requests with different subpaths: `fs` and `fs/promises`.\n             let source =\n-                unsupported_module_source(lookup_path.root().await?.clone_value(), module.clone())\n+                unsupported_module_source(lookup_path.root().owned().await?, module.clone())\n                     .to_resolved()\n                     .await?;\n             Ok(ImportMapResult::Result(ResolveResult::source(ResolvedVc::upcast(source))).cell())"
        },
        {
            "sha": "f3dfe33827cd361c861f6ebe8ae8e39cf3d20916",
            "filename": "crates/next-core/src/next_font/google/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_font%2Fgoogle%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_font%2Fgoogle%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_font%2Fgoogle%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -730,7 +730,7 @@ async fn get_mock_stylesheet(\n         )\n         .module();\n \n-    let root = mock_fs.root().await?.clone_value();\n+    let root = mock_fs.root().owned().await?;\n     let val = evaluate(\n         mocked_response_asset,\n         root,"
        },
        {
            "sha": "21d15af2a895648ffc458684db6775380645dad6",
            "filename": "crates/next-core/src/next_import_map.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 10,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_import_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_import_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_import_map.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -624,7 +624,7 @@ async fn insert_next_server_special_aliases(\n         ServerContextType::AppSSR { app_dir }\n         | ServerContextType::AppRSC { app_dir, .. }\n         | ServerContextType::AppRoute { app_dir, .. } => {\n-            let next_package = get_next_package(app_dir.clone()).await?.clone_value();\n+            let next_package = get_next_package(app_dir.clone()).owned().await?;\n             import_map.insert_exact_alias(\n                 \"styled-jsx\",\n                 request_to_import_mapping(next_package.clone(), \"styled-jsx\"),\n@@ -966,7 +966,7 @@ async fn insert_next_shared_aliases(\n     next_mode: Vc<NextMode>,\n     is_runtime_edge: bool,\n ) -> Result<()> {\n-    let package_root = next_js_fs().root().await?.clone_value();\n+    let package_root = next_js_fs().root().owned().await?;\n \n     insert_alias_to_alternatives(\n         import_map,\n@@ -1033,7 +1033,7 @@ async fn insert_next_shared_aliases(\n         .resolved_cell(),\n     );\n \n-    let next_package = get_next_package(project_path.clone()).await?.clone_value();\n+    let next_package = get_next_package(project_path.clone()).owned().await?;\n     import_map.insert_singleton_alias(\"@swc/helpers\", next_package.clone());\n     import_map.insert_singleton_alias(\"styled-jsx\", next_package.clone());\n     import_map.insert_singleton_alias(\"next\", project_path.clone());\n@@ -1108,10 +1108,7 @@ async fn insert_next_shared_aliases(\n     insert_package_alias(\n         import_map,\n         \"@vercel/turbopack-node/\",\n-        turbopack_node::embed_js::embed_fs()\n-            .root()\n-            .await?\n-            .clone_value(),\n+        turbopack_node::embed_js::embed_fs().root().owned().await?,\n     );\n \n     let image_config = next_config.image_config().await?;\n@@ -1138,7 +1135,7 @@ pub async fn get_next_package(context_directory: FileSystemPath) -> Result<Vc<Fi\n         context_directory.clone(),\n         ReferenceType::CommonJs(CommonJsReferenceSubType::Undefined),\n         Request::parse(Pattern::Constant(rcstr!(\"next/package.json\"))),\n-        node_cjs_resolve_options(context_directory.root().await?.clone_value()),\n+        node_cjs_resolve_options(context_directory.root().owned().await?),\n     );\n     let source = result\n         .first_source()\n@@ -1248,8 +1245,8 @@ async fn insert_turbopack_dev_alias(import_map: &mut ImportMap) -> Result<()> {\n         \"@vercel/turbopack-ecmascript-runtime/\",\n         turbopack_ecmascript_runtime::embed_fs()\n             .root()\n-            .await?\n-            .clone_value(),\n+            .owned()\n+            .await?,\n     );\n     Ok(())\n }"
        },
        {
            "sha": "ec2d543fb59b5faa051367260ac70d5bbfa0da09",
            "filename": "crates/next-core/src/next_manifests/client_reference_manifest.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fclient_reference_manifest.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fclient_reference_manifest.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_manifests%2Fclient_reference_manifest.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -139,7 +139,7 @@ impl ClientReferenceManifest {\n                         Ok(if let Some(path) = path {\n                             (chunk, Either::Left(path))\n                         } else {\n-                            (chunk, Either::Right(chunk.path().await?.clone_value()))\n+                            (chunk, Either::Right(chunk.path().owned().await?))\n                         })\n                     })\n                     .try_join()"
        },
        {
            "sha": "a748ecdc8136afd09839fda9e8e4ac7c564c0635",
            "filename": "crates/next-core/src/next_pages/page_entry.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_pages%2Fpage_entry.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_pages%2Fpage_entry.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_pages%2Fpage_entry.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -111,7 +111,7 @@ pub async fn create_page_ssr_entry_module(\n         let file = File::from(result.build());\n \n         source = Vc::upcast(VirtualSource::new(\n-            source.ident().path().await?.clone_value(),\n+            source.ident().path().owned().await?,\n             AssetContent::file(file.into()),\n         ));\n     }\n@@ -188,7 +188,7 @@ async fn process_global_item(\n     reference_type: ReferenceType,\n     module_context: Vc<Box<dyn AssetContext>>,\n ) -> Result<Vc<Box<dyn Module>>> {\n-    let source = Vc::upcast(FileSource::new(item.file_path().await?.clone_value()));\n+    let source = Vc::upcast(FileSource::new(item.file_path().owned().await?));\n     Ok(module_context.process(source, reference_type).module())\n }\n "
        },
        {
            "sha": "1bda28ef2ac35ecf9384681766c4c6ac68a09d7a",
            "filename": "crates/next-core/src/next_server/context.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -141,7 +141,7 @@ pub async fn get_server_resolve_options_context(\n     .await?;\n     let foreign_code_context_condition =\n         foreign_code_context_condition(next_config, project_path.clone()).await?;\n-    let root_dir = project_path.root().await?.clone_value();\n+    let root_dir = project_path.root().owned().await?;\n     let module_feature_report_resolve_plugin =\n         ModuleFeatureReportResolvePlugin::new(project_path.clone())\n             .to_resolved()\n@@ -194,7 +194,7 @@ pub async fn get_server_resolve_options_context(\n \n     let server_external_packages_plugin = ExternalCjsModulesResolvePlugin::new(\n         project_path.clone(),\n-        project_path.root().await?.clone_value(),\n+        project_path.root().owned().await?,\n         ExternalPredicate::Only(ResolvedVc::cell(external_packages)).cell(),\n         *next_config.import_externals().await?,\n     )\n@@ -219,7 +219,7 @@ pub async fn get_server_resolve_options_context(\n     } else {\n         ExternalCjsModulesResolvePlugin::new(\n             project_path.clone(),\n-            project_path.root().await?.clone_value(),\n+            project_path.root().owned().await?,\n             ExternalPredicate::AllExcept(ResolvedVc::cell(transpiled_packages)).cell(),\n             *next_config.import_externals().await?,\n         )"
        },
        {
            "sha": "ac072357f33a46a2929e1cb727bed754d3a67d68",
            "filename": "crates/next-core/src/next_server/resolve.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fresolve.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fresolve.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fresolve.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -215,9 +215,9 @@ impl AfterResolvePlugin for ExternalCjsModulesResolvePlugin {\n         let mut request_str = request_str.to_string();\n \n         let node_resolve_options = if is_esm {\n-            node_esm_resolve_options(lookup_path.root().await?.clone_value())\n+            node_esm_resolve_options(lookup_path.root().owned().await?)\n         } else {\n-            node_cjs_resolve_options(lookup_path.root().await?.clone_value())\n+            node_cjs_resolve_options(lookup_path.root().owned().await?)\n         };\n         let result_from_original_location = loop {\n             let node_resolved_from_original_location = resolve(\n@@ -348,7 +348,7 @@ impl AfterResolvePlugin for ExternalCjsModulesResolvePlugin {\n                 )]);\n             }\n         }\n-        let path = result.ident().path().await?.clone_value();\n+        let path = result.ident().path().owned().await?;\n         let file_type = get_file_type(path.clone(), &path).await?;\n \n         let external_type = match (file_type, is_esm) {\n@@ -370,15 +370,15 @@ impl AfterResolvePlugin for ExternalCjsModulesResolvePlugin {\n                 // It would be more efficient to use an CJS external instead of an ESM external,\n                 // but we need to verify if that would be correct (as in resolves to the same file).\n                 let node_resolve_options =\n-                    node_cjs_resolve_options(lookup_path.root().await?.clone_value());\n+                    node_cjs_resolve_options(lookup_path.root().owned().await?);\n                 let node_resolved = resolve(\n                     self.project_path.clone(),\n                     reference_type.clone(),\n                     request,\n                     node_resolve_options,\n                 );\n                 let resolves_equal = if let Some(result) = *node_resolved.first_source().await? {\n-                    let cjs_path = result.ident().path().await?.clone_value();\n+                    let cjs_path = result.ident().path().owned().await?;\n                     cjs_path == path\n                 } else {\n                     false"
        },
        {
            "sha": "8254cdc5728e3d0283174c201a02fdfe8ce0c510",
            "filename": "crates/next-core/src/next_shared/resolve.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_shared%2Fresolve.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_shared%2Fresolve.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_shared%2Fresolve.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -221,7 +221,7 @@ impl AfterResolvePlugin for NextExternalResolvePlugin {\n     #[turbo_tasks::function]\n     async fn after_resolve_condition(&self) -> Result<Vc<AfterResolvePluginCondition>> {\n         Ok(AfterResolvePluginCondition::new(\n-            self.project_path.root().await?.clone_value(),\n+            self.project_path.root().owned().await?,\n             Glob::new(\"**/next/dist/**/*.{external,runtime.dev,runtime.prod}.js\".into()),\n         ))\n     }\n@@ -275,7 +275,7 @@ impl AfterResolvePlugin for NextNodeSharedRuntimeResolvePlugin {\n     #[turbo_tasks::function]\n     async fn after_resolve_condition(&self) -> Result<Vc<AfterResolvePluginCondition>> {\n         Ok(AfterResolvePluginCondition::new(\n-            self.root.root().await?.clone_value(),\n+            self.root.root().owned().await?,\n             Glob::new(\"**/next/dist/**/*.shared-runtime.js\".into()),\n         ))\n     }\n@@ -400,7 +400,7 @@ impl AfterResolvePlugin for NextSharedRuntimeResolvePlugin {\n     #[turbo_tasks::function]\n     async fn after_resolve_condition(&self) -> Result<Vc<AfterResolvePluginCondition>> {\n         Ok(AfterResolvePluginCondition::new(\n-            self.root.root().await?.clone_value(),\n+            self.root.root().owned().await?,\n             Glob::new(\"**/next/dist/esm/**/*.shared-runtime.js\".into()),\n         ))\n     }"
        },
        {
            "sha": "f09a04f613caf7e02a35810dc87964b68622252d",
            "filename": "crates/next-core/src/next_shared/transforms/swc_ecma_transform_plugins.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_shared%2Ftransforms%2Fswc_ecma_transform_plugins.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fnext_shared%2Ftransforms%2Fswc_ecma_transform_plugins.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_shared%2Ftransforms%2Fswc_ecma_transform_plugins.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -65,7 +65,7 @@ pub async fn get_swc_ecma_transform_rule_impl(\n                 let resolve_options = resolve_options(\n                     project_path.clone(),\n                     ResolveOptionsContext {\n-                        enable_node_modules: Some(project_path.root().await?.clone_value()),\n+                        enable_node_modules: Some(project_path.root().owned().await?),\n                         enable_node_native_modules: true,\n                         ..Default::default()\n                     }"
        },
        {
            "sha": "beb4d95d34978eaafae95dc7402a49772ce4e517",
            "filename": "crates/next-core/src/page_loader.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fpage_loader.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fpage_loader.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fpage_loader.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -31,8 +31,8 @@ pub async fn create_page_loader_entry_module(\n     writeln!(result, \"const PAGE_PATH = {};\\n\", StringifyJs(&pathname))?;\n \n     let page_loader_path = next_js_file_path(rcstr!(\"entry/page-loader.ts\"))\n-        .await?\n-        .clone_value();\n+        .owned()\n+        .await?;\n     let base_code = page_loader_path.read();\n     if let FileContent::Content(base_file) = &*base_code.await? {\n         result += base_file.content()\n@@ -103,7 +103,7 @@ impl PageLoaderAsset {\n         // If we are provided a prefix path, we need to rewrite our chunk paths to\n         // remove that prefix.\n         if let Some(rebase_path) = &*rebase_prefix_path.await? {\n-            let root_path = rebase_path.root().await?.clone_value();\n+            let root_path = rebase_path.root().owned().await?;\n             let rebased = chunks\n                 .await?\n                 .iter()\n@@ -114,12 +114,12 @@ impl PageLoaderAsset {\n                         Vc::upcast::<Box<dyn OutputAsset>>(ProxiedAsset::new(\n                             *chunk,\n                             FileSystemPath::rebase(\n-                                chunk.path().await?.clone_value(),\n+                                chunk.path().owned().await?,\n                                 rebase_path.clone(),\n                                 root_path.clone(),\n                             )\n-                            .await?\n-                            .clone_value(),\n+                            .owned()\n+                            .await?,\n                         ))\n                         .to_resolved()\n                         .await"
        },
        {
            "sha": "dc918e081c4b18687daeb989dc85fe7b1d9cc642",
            "filename": "crates/next-core/src/pages_structure.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fpages_structure.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Fpages_structure.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fpages_structure.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -103,15 +103,11 @@ pub async fn find_pages_structure(\n     next_router_root: FileSystemPath,\n     page_extensions: Vc<Vec<RcStr>>,\n ) -> Result<Vc<PagesStructure>> {\n-    let pages_root = project_root.join(\"pages\")?.realpath().await?.clone_value();\n+    let pages_root = project_root.join(\"pages\")?.realpath().owned().await?;\n     let pages_root = if *pages_root.get_type().await? == FileSystemEntryType::Directory {\n         Some(pages_root)\n     } else {\n-        let src_pages_root = project_root\n-            .join(\"src/pages\")?\n-            .realpath()\n-            .await?\n-            .clone_value();\n+        let src_pages_root = project_root.join(\"src/pages\")?.realpath().owned().await?;\n         if *src_pages_root.get_type().await? == FileSystemEntryType::Directory {\n             Some(src_pages_root)\n         } else {"
        },
        {
            "sha": "2ba1b523d57ad3f096c5c444adac2a021a0abfb1",
            "filename": "crates/next-core/src/transform_options.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Ftransform_options.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Ftransform_options.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Ftransform_options.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -25,7 +25,7 @@ async fn get_typescript_options(\n         Some(FindContextFileResult::Found(path, _)) => read_tsconfigs(\n             path.read(),\n             ResolvedVc::upcast(FileSource::new(path.clone()).to_resolved().await?),\n-            node_cjs_resolve_options(path.root().await?.clone_value()),\n+            node_cjs_resolve_options(path.root().owned().await?),\n         )\n         .await\n         .ok(),"
        },
        {
            "sha": "b5a37d82bd1d5f1cb876a378010addfe4733c820",
            "filename": "crates/next-core/src/util.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 9,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Futil.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/crates%2Fnext-core%2Fsrc%2Futil.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Futil.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -187,19 +187,14 @@ pub async fn foreign_code_context_condition(\n // subject to Next.js's configuration even if it's embedded assets.\n pub async fn internal_assets_conditions() -> Result<ContextCondition> {\n     Ok(ContextCondition::any(vec![\n-        ContextCondition::InPath(next_js_fs().root().await?.clone_value()),\n+        ContextCondition::InPath(next_js_fs().root().owned().await?),\n         ContextCondition::InPath(\n             turbopack_ecmascript_runtime::embed_fs()\n                 .root()\n-                .await?\n-                .clone_value(),\n-        ),\n-        ContextCondition::InPath(\n-            turbopack_node::embed_js::embed_fs()\n-                .root()\n-                .await?\n-                .clone_value(),\n+                .owned()\n+                .await?,\n         ),\n+        ContextCondition::InPath(turbopack_node::embed_js::embed_fs().root().owned().await?),\n     ]))\n }\n "
        },
        {
            "sha": "b8afc01629c1170426e338ad072ca94a2dfbcdae",
            "filename": "turbopack/crates/turbo-tasks-fetch/tests/fetch.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 8,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Ftests%2Ffetch.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Ftests%2Ffetch.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Ftests%2Ffetch.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -125,10 +125,7 @@ async fn errors_on_failed_connection() {\n         assert_eq!(*err.kind.await?, FetchErrorKind::Connect);\n         assert_eq!(*err.url.await?, url);\n \n-        let issue = err_vc.to_issue(\n-            IssueSeverity::Error,\n-            get_issue_context().await?.clone_value(),\n-        );\n+        let issue = err_vc.to_issue(IssueSeverity::Error, get_issue_context().owned().await?);\n         assert_eq!(issue.await?.severity(), IssueSeverity::Error);\n         assert_eq!(\n             *issue.description().await?.unwrap().await?,\n@@ -162,10 +159,7 @@ async fn errors_on_404() {\n         assert!(matches!(*err.kind.await?, FetchErrorKind::Status(404)));\n         assert_eq!(*err.url.await?, url);\n \n-        let issue = err_vc.to_issue(\n-            IssueSeverity::Error,\n-            get_issue_context().await?.clone_value(),\n-        );\n+        let issue = err_vc.to_issue(IssueSeverity::Error, get_issue_context().owned().await?);\n         assert_eq!(issue.await?.severity(), IssueSeverity::Error);\n         assert_eq!(\n             *issue.description().await?.unwrap().await?,"
        },
        {
            "sha": "03b13ec188e64efe090473cac7441bcf8bdd5f81",
            "filename": "turbopack/crates/turbo-tasks/src/read_ref.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fread_ref.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fread_ref.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fread_ref.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -42,15 +42,6 @@ where\n     }\n }\n \n-impl<T> ReadRef<T>\n-where\n-    T: VcValueType + Clone,\n-{\n-    pub fn clone_value(&self) -> VcReadTarget<T> {\n-        T::Read::value_to_target((*self.0).clone())\n-    }\n-}\n-\n impl<T> Display for ReadRef<T>\n where\n     T: VcValueType,"
        },
        {
            "sha": "6d331270dd81811420829021df8a8415155c550a",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/content.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fcontent.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -62,8 +62,8 @@ impl EcmascriptBrowserChunkContent {\n     #[turbo_tasks::function]\n     pub(crate) async fn own_version(&self) -> Result<Vc<EcmascriptBrowserChunkVersion>> {\n         Ok(EcmascriptBrowserChunkVersion::new(\n-            self.chunking_context.output_root().await?.clone_value(),\n-            self.chunk.path().await?.clone_value(),\n+            self.chunking_context.output_root().owned().await?,\n+            self.chunk.path().owned().await?,\n             *self.content,\n         ))\n     }"
        },
        {
            "sha": "f1d195c372f49bd0e26c00b710344f30543fbf67",
            "filename": "turbopack/crates/turbopack-browser/src/ecmascript/evaluate/chunk.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fecmascript%2Fevaluate%2Fchunk.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -70,7 +70,7 @@ impl EcmascriptBrowserEvaluateChunk {\n     #[turbo_tasks::function]\n     async fn chunks_data(&self) -> Result<Vc<ChunksData>> {\n         Ok(ChunkData::from_assets(\n-            self.chunking_context.output_root().await?.clone_value(),\n+            self.chunking_context.output_root().owned().await?,\n             *self.other_chunks,\n         ))\n     }"
        },
        {
            "sha": "a8aded2dd8c8ffc77a8c6e972b7290e2c454feae",
            "filename": "turbopack/crates/turbopack-cli/src/build/mod.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fbuild%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fbuild%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fbuild%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -210,7 +210,7 @@ async fn build_internal(\n         .unwrap_or(project_relative)\n         .replace(MAIN_SEPARATOR, \"/\")\n         .into();\n-    let root_path = project_fs.root().await?.clone_value();\n+    let root_path = project_fs.root().owned().await?;\n     let project_path = root_path.join(&project_relative)?;\n     let build_output_root = output_fs.root().await?.join(\"dist\")?;\n \n@@ -502,7 +502,7 @@ async fn build_internal(\n \n     chunks\n         .iter()\n-        .map(|c| async move { c.content().write(c.path().await?.clone_value()).await })\n+        .map(|c| async move { c.content().write(c.path().owned().await?).await })\n         .try_join()\n         .await?;\n "
        },
        {
            "sha": "ba3f14abcf97f61f58c50445062da0f340e901a2",
            "filename": "turbopack/crates/turbopack-cli/src/contexts.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fcontexts.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fcontexts.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fcontexts.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -64,8 +64,8 @@ pub async fn get_client_import_map(project_path: FileSystemPath) -> Result<Vc<Im\n             Some(\n                 turbopack_ecmascript_runtime::embed_fs()\n                     .root()\n-                    .await?\n-                    .clone_value(),\n+                    .owned()\n+                    .await?,\n             ),\n         )\n         .resolved_cell(),\n@@ -83,7 +83,7 @@ pub async fn get_client_resolve_options_context(\n         .to_resolved()\n         .await?;\n     let module_options_context = ResolveOptionsContext {\n-        enable_node_modules: Some(project_path.root().await?.clone_value()),\n+        enable_node_modules: Some(project_path.root().owned().await?),\n         custom_conditions: vec![node_env.await?.to_string().into(), \"browser\".into()],\n         import_map: Some(next_client_import_map),\n         browser: true,"
        },
        {
            "sha": "6be138e63714c707e304fd43c7e5aad8940c5cd7",
            "filename": "turbopack/crates/turbopack-cli/src/dev/mod.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -266,7 +266,7 @@ async fn source(\n \n     let output_fs = output_fs(project_dir);\n     let fs: Vc<Box<dyn FileSystem>> = project_fs(root_dir, /* watch= */ true);\n-    let root_path = fs.root().await?.clone_value();\n+    let root_path = fs.root().owned().await?;\n     let project_path = root_path.join(&project_relative)?;\n \n     let env = load_env(root_path.clone());\n@@ -294,7 +294,7 @@ async fn source(\n         ExecutionContext::new(root_path.clone(), Vc::upcast(build_chunking_context), env);\n \n     let server_fs = Vc::upcast::<Box<dyn FileSystem>>(ServerFileSystem::new());\n-    let server_root = server_fs.root().await?.clone_value();\n+    let server_root = server_fs.root().owned().await?;\n     let entry_requests = entry_requests\n         .iter()\n         .map(|r| match r {"
        },
        {
            "sha": "f7e42bf75ab936519a4ae16a9be4ec90084f76d8",
            "filename": "turbopack/crates/turbopack-cli/src/dev/web_entry_source.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fweb_entry_source.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fweb_entry_source.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fweb_entry_source.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -84,8 +84,8 @@ pub async fn get_client_runtime_entries(\n         RuntimeEntry::Source(ResolvedVc::upcast(\n             FileSource::new(\n                 embed_file_path(rcstr!(\"entry/bootstrap.ts\"))\n-                    .await?\n-                    .clone_value(),\n+                    .owned()\n+                    .await?,\n             )\n             .to_resolved()\n             .await?,"
        },
        {
            "sha": "57aef81706e0bab2c021844303f7f0ed421c1637",
            "filename": "turbopack/crates/turbopack-core/src/issue/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fissue%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fissue%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fissue%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -910,7 +910,7 @@ impl PlainIssue {\n                     into_plain_trace(\n                         tracer\n                             .await?\n-                            .get_traces(issue.file_path().await?.clone_value())\n+                            .get_traces(issue.file_path().owned().await?)\n                             .await?,\n                     )\n                     .await?"
        },
        {
            "sha": "0c07198da89b9f35c01edcefc0e129a4c9a3b726",
            "filename": "turbopack/crates/turbopack-core/src/rebase.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Frebase.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Frebase.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Frebase.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -42,7 +42,7 @@ impl OutputAsset for RebasedAsset {\n     #[turbo_tasks::function]\n     async fn path(&self) -> Result<Vc<FileSystemPath>> {\n         Ok(FileSystemPath::rebase(\n-            self.module.ident().path().await?.clone_value(),\n+            self.module.ident().path().owned().await?,\n             self.input_dir.clone(),\n             self.output_dir.clone(),\n         ))"
        },
        {
            "sha": "00b0b9805cfaaa5499f0d8dde242902f1dea2ae4",
            "filename": "turbopack/crates/turbopack-core/src/resolve/mod.rs",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -1133,20 +1133,20 @@ async fn type_exists(\n     ty: FileSystemEntryType,\n     refs: &mut Vec<ResolvedVc<Box<dyn Source>>>,\n ) -> Result<Option<FileSystemPath>> {\n-    let result = fs_path.realpath_with_links().await?;\n+    let result = fs_path.realpath_with_links().owned().await?;\n     refs.extend(\n         result\n             .symlinks\n-            .iter()\n+            .into_iter()\n             .map(|path| async move {\n                 Ok(ResolvedVc::upcast(\n-                    FileSource::new(path.clone()).to_resolved().await?,\n+                    FileSource::new(path).to_resolved().await?,\n                 ))\n             })\n             .try_join()\n             .await?,\n     );\n-    let path = result.clone_value().path;\n+    let path = result.path;\n     Ok(if *path.get_type().await? == ty {\n         Some(path)\n     } else {\n@@ -1158,20 +1158,20 @@ async fn any_exists(\n     fs_path: FileSystemPath,\n     refs: &mut Vec<ResolvedVc<Box<dyn Source>>>,\n ) -> Result<Option<(FileSystemEntryType, FileSystemPath)>> {\n-    let result = fs_path.realpath_with_links().await?;\n+    let result = fs_path.realpath_with_links().owned().await?;\n     refs.extend(\n         result\n             .symlinks\n-            .iter()\n+            .into_iter()\n             .map(|path| async move {\n                 Ok(ResolvedVc::upcast(\n-                    FileSource::new(path.clone()).to_resolved().await?,\n+                    FileSource::new(path).to_resolved().await?,\n                 ))\n             })\n             .try_join()\n             .await?,\n     );\n-    let path = result.clone_value().path;\n+    let path = result.path;\n     let ty = *path.get_type().await?;\n     Ok(\n         if matches!(\n@@ -1508,7 +1508,7 @@ pub async fn resolve_raw(\n     {\n         let path = Pattern::new(pat);\n         let matches = read_matches(\n-            lookup_dir.root().await?.clone_value(),\n+            lookup_dir.root().owned().await?,\n             rcstr!(\"/ROOT/\"),\n             true,\n             path,\n@@ -1644,7 +1644,7 @@ pub async fn url_resolve(\n     handle_resolve_error(\n         result,\n         reference_type,\n-        origin.origin_path().await?.clone_value(),\n+        origin.origin_path().owned().await?,\n         request,\n         resolve_options,\n         is_optional,\n@@ -1717,7 +1717,7 @@ async fn handle_after_resolve_plugins(\n \n     for (key, primary) in result_value.primary.iter() {\n         if let &ResolveResultItem::Source(source) = primary {\n-            let path = source.ident().path().await?.clone_value();\n+            let path = source.ident().path().owned().await?;\n             if let Some(new_result) = apply_plugins_to_path(\n                 path.clone(),\n                 lookup_path.clone(),\n@@ -1944,7 +1944,7 @@ async fn resolve_internal_inline(\n                 }\n \n                 Box::pin(resolve_internal_inline(\n-                    lookup_path.root().await?.clone_value(),\n+                    lookup_path.root().owned().await?,\n                     relative,\n                     options,\n                 ))\n@@ -2768,10 +2768,10 @@ async fn resolve_import_map_result(\n                     match ty {\n                         // TODO is that root correct?\n                         ExternalType::CommonJs => {\n-                            node_cjs_resolve_options(alias_lookup_path.root().await?.clone_value())\n+                            node_cjs_resolve_options(alias_lookup_path.root().owned().await?)\n                         }\n                         ExternalType::EcmaScriptModule => {\n-                            node_esm_resolve_options(alias_lookup_path.root().await?.clone_value())\n+                            node_esm_resolve_options(alias_lookup_path.root().owned().await?)\n                         }\n                         ExternalType::Script | ExternalType::Url | ExternalType::Global => options,\n                     },"
        },
        {
            "sha": "ffdf82229589d597ee14b948abd4ed90a92b97e4",
            "filename": "turbopack/crates/turbopack-core/src/resolve/origin.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Forigin.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Forigin.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Forigin.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -75,7 +75,7 @@ where\n     ) -> Result<Vc<ResolveOptions>> {\n         Ok(self\n             .asset_context()\n-            .resolve_options(self.origin_path().await?.clone_value(), reference_type))\n+            .resolve_options(self.origin_path().owned().await?, reference_type))\n     }\n \n     fn with_transition(self: ResolvedVc<Self>, transition: RcStr) -> Vc<Box<dyn ResolveOrigin>> {\n@@ -103,7 +103,7 @@ async fn resolve_asset(\n         .resolve()\n         .await?\n         .resolve_asset(\n-            resolve_origin.origin_path().await?.clone_value(),\n+            resolve_origin.origin_path().owned().await?,\n             request.resolve().await?,\n             options.resolve().await?,\n             reference_type,"
        },
        {
            "sha": "1cb7046b4177dd8755b9abbd1db5cd567b6c1932",
            "filename": "turbopack/crates/turbopack-css/src/chunk/mod.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -102,7 +102,7 @@ impl CssChunk {\n             {\n                 fileify_source_map(\n                     content.source_map.as_ref(),\n-                    self.chunking_context().root_path().await?.clone_value(),\n+                    self.chunking_context().root_path().owned().await?,\n                 )\n                 .await?\n             } else {\n@@ -154,7 +154,7 @@ impl CssChunk {\n     async fn ident_for_path(&self) -> Result<Vc<AssetIdent>> {\n         let CssChunkContent { chunk_items, .. } = &*self.content.await?;\n         let mut common_path = if let Some(chunk_item) = chunk_items.first() {\n-            let path = chunk_item.asset_ident().path().await?.clone_value();\n+            let path = chunk_item.asset_ident().path().owned().await?;\n             Some((path.clone(), path))\n         } else {\n             None\n@@ -191,7 +191,7 @@ impl CssChunk {\n             path: if let Some((common_path, _)) = common_path {\n                 common_path\n             } else {\n-                ServerFileSystem::new().root().await?.clone_value()\n+                ServerFileSystem::new().root().owned().await?\n             },\n             query: RcStr::default(),\n             fragment: RcStr::default(),\n@@ -243,7 +243,7 @@ pub struct CssChunkContent {\n impl Chunk for CssChunk {\n     #[turbo_tasks::function]\n     async fn ident(self: Vc<Self>) -> Result<Vc<AssetIdent>> {\n-        Ok(AssetIdent::from_path(self.path().await?.clone_value()))\n+        Ok(AssetIdent::from_path(self.path().owned().await?))\n     }\n \n     #[turbo_tasks::function]"
        },
        {
            "sha": "58b23ba4dfb7d66e8dfd3e93d5ee7cc68241aa0a",
            "filename": "turbopack/crates/turbopack-css/src/chunk/single_item_chunk/chunk.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -85,7 +85,7 @@ impl Chunk for SingleItemCssChunk {\n     async fn ident(self: Vc<Self>) -> Result<Vc<AssetIdent>> {\n         let self_as_output_asset: Vc<Box<dyn OutputAsset>> = Vc::upcast(self);\n         Ok(AssetIdent::from_path(\n-            self_as_output_asset.path().await?.clone_value(),\n+            self_as_output_asset.path().owned().await?,\n         ))\n     }\n "
        },
        {
            "sha": "9a167bf1a6fa3880f6ffd18ab24b07ab15d14d98",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/src/embed_js.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fsrc%2Fembed_js.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fsrc%2Fembed_js.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fsrc%2Fembed_js.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -28,7 +28,7 @@ pub async fn embed_static_code(\n ) -> Result<Vc<Code>> {\n     Ok(StaticEcmascriptCode::new(\n         asset_context,\n-        embed_file_path(path).await?.clone_value(),\n+        embed_file_path(path).owned().await?,\n         generate_source_map,\n     )\n     .code())"
        },
        {
            "sha": "a5b247087863438f8561e6838933932aef1c1c8a",
            "filename": "turbopack/crates/turbopack-ecmascript/src/async_chunk/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fasync_chunk%2Fchunk_item.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -62,7 +62,7 @@ impl AsyncLoaderChunkItem {\n     async fn chunks_data(self: Vc<Self>) -> Result<Vc<ChunksData>> {\n         let this = self.await?;\n         Ok(ChunkData::from_assets(\n-            this.chunking_context.output_root().await?.clone_value(),\n+            this.chunking_context.output_root().owned().await?,\n             self.chunks(),\n         ))\n     }"
        },
        {
            "sha": "317866ca1cc0ec5bdf3e418e5cb92c97bb12e56b",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/item.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -55,7 +55,7 @@ impl EcmascriptChunkItemContent {\n \n         Ok(EcmascriptChunkItemContent {\n             rewrite_source_path: if *chunking_context.should_use_file_source_map_uris().await? {\n-                Some(chunking_context.root_path().await?.clone_value())\n+                Some(chunking_context.root_path().owned().await?)\n             } else {\n                 None\n             },\n@@ -279,7 +279,7 @@ async fn module_factory_with_code_generation_issue(\n                 let js_error_message = serde_json::to_string(&error_message)?;\n                 CodeGenerationIssue {\n                     severity: IssueSeverity::Error,\n-                    path: chunk_item.asset_ident().path().await?.clone_value(),\n+                    path: chunk_item.asset_ident().path().owned().await?,\n                     title: StyledString::Text(rcstr!(\"Code generation for chunk item errored\"))\n                         .resolved_cell(),\n                     message: StyledString::Text(error_message).resolved_cell(),"
        },
        {
            "sha": "83be0949661ebbdbd59cf7cbd10b1b2a9813729d",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/mod.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -72,7 +72,7 @@ impl Chunk for EcmascriptChunk {\n     async fn ident(&self) -> Result<Vc<AssetIdent>> {\n         let chunk_items = &*self.content.included_chunk_items().await?;\n         let mut common_path = if let Some(chunk_item) = chunk_items.first() {\n-            let path = chunk_item.asset_ident().path().await?.clone_value();\n+            let path = chunk_item.asset_ident().path().owned().await?;\n             Some(path)\n         } else {\n             None\n@@ -108,7 +108,7 @@ impl Chunk for EcmascriptChunk {\n             path: if let Some(common_path) = common_path {\n                 common_path\n             } else {\n-                ServerFileSystem::new().root().await?.clone_value()\n+                ServerFileSystem::new().root().owned().await?\n             },\n             query: RcStr::default(),\n             fragment: RcStr::default(),"
        },
        {
            "sha": "17d1aab0f3a4c994825c9b38df7043dc709cc76d",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/placeable.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fplaceable.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fplaceable.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fplaceable.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -34,7 +34,7 @@ pub trait EcmascriptChunkPlaceable: ChunkableModule + Module + Asset {\n         side_effect_free_packages: Vc<Glob>,\n     ) -> Result<Vc<bool>> {\n         Ok(is_marked_as_side_effect_free(\n-            self.ident().path().await?.clone_value(),\n+            self.ident().path().owned().await?,\n             side_effect_free_packages,\n         ))\n     }"
        },
        {
            "sha": "f4df9042e19d634fba657c85c904cb7947c04bc3",
            "filename": "turbopack/crates/turbopack-ecmascript/src/lib.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -694,7 +694,7 @@ impl EcmascriptChunkPlaceable for EcmascriptModuleAsset {\n     ) -> Result<Vc<bool>> {\n         // Check package.json first, so that we can skip parsing the module if it's marked that way.\n         let pkg_side_effect_free = is_marked_as_side_effect_free(\n-            self.ident().path().await?.clone_value(),\n+            self.ident().path().owned().await?,\n             side_effect_free_packages,\n         );\n         Ok(if *pkg_side_effect_free.await? {"
        },
        {
            "sha": "729a878c3904e89a68608d73fac2972e5c8b1bd4",
            "filename": "turbopack/crates/turbopack-ecmascript/src/manifest/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Fchunk_item.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -32,7 +32,7 @@ impl ManifestChunkItem {\n     #[turbo_tasks::function]\n     async fn chunks_data(&self) -> Result<Vc<ChunksData>> {\n         Ok(ChunkData::from_assets(\n-            self.chunking_context.output_root().await?.clone_value(),\n+            self.chunking_context.output_root().owned().await?,\n             self.manifest.chunks(),\n         ))\n     }"
        },
        {
            "sha": "aa35146b8e9ae6a717b3091f7b004345d45fc0e1",
            "filename": "turbopack/crates/turbopack-ecmascript/src/manifest/loader_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Floader_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Floader_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmanifest%2Floader_item.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -69,7 +69,7 @@ impl ManifestLoaderChunkItem {\n     pub async fn chunks_data(&self) -> Result<Vc<ChunksData>> {\n         let chunks = self.manifest.manifest_chunks();\n         Ok(ChunkData::from_assets(\n-            self.chunking_context.output_root().await?.clone_value(),\n+            self.chunking_context.output_root().owned().await?,\n             chunks,\n         ))\n     }"
        },
        {
            "sha": "82c9a7d6efb75a9aa34e2d5f5e53d24231b863b0",
            "filename": "turbopack/crates/turbopack-ecmascript/src/parse.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -218,7 +218,7 @@ async fn parse_internal(\n     transforms: Vc<EcmascriptInputTransforms>,\n ) -> Result<Vc<ParseResult>> {\n     let content = source.content();\n-    let fs_path_vc = source.ident().path().await?.clone_value();\n+    let fs_path_vc = source.ident().path().owned().await?;\n     let fs_path = fs_path_vc.clone();\n     let ident = &*source.ident().to_string().await?;\n     let file_path_hash = hash_xxh3_hash64(&*source.ident().to_string().await?) as u128;"
        },
        {
            "sha": "2383f46054a0f6896361354831836a066fb76c23",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/mod.rs",
            "status": "modified",
            "additions": 14,
            "deletions": 17,
            "changes": 31,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -526,7 +526,7 @@ pub(crate) async fn analyse_ecmascript_module_internal(\n     let origin = ResolvedVc::upcast::<Box<dyn ResolveOrigin>>(module);\n \n     let mut analysis = AnalyzeEcmascriptModuleResultBuilder::new();\n-    let path = origin.origin_path().await?.clone_value();\n+    let path = origin.origin_path().owned().await?;\n \n     // Is this a typescript file that requires analyzing type references?\n     let analyze_types = match &ty {\n@@ -545,8 +545,8 @@ pub(crate) async fn analyse_ecmascript_module_internal(\n \n     let ModuleTypeResult {\n         module_type: specified_type,\n-        referenced_package_json,\n-    } = module.determine_module_type().await?.clone_value();\n+        ref referenced_package_json,\n+    } = *module.determine_module_type().await?;\n \n     if let Some(package_json) = referenced_package_json {\n         let span = tracing::info_span!(\"package.json reference\");\n@@ -692,7 +692,7 @@ pub(crate) async fn analyse_ecmascript_module_internal(\n                 static JSON_DATA_URL_BASE64: LazyLock<Regex> = LazyLock::new(|| {\n                     Regex::new(r\"^data:application\\/json;(?:charset=utf-8;)?base64\").unwrap()\n                 });\n-                let origin_path = origin.origin_path().await?.clone_value();\n+                let origin_path = origin.origin_path().owned().await?;\n                 if path.ends_with(\".map\") {\n                     let source_map_origin = origin_path.parent().join(path)?;\n                     let reference = SourceMapReference::new(origin_path, source_map_origin)\n@@ -1421,7 +1421,7 @@ pub(crate) async fn analyse_ecmascript_module_internal(\n                     if analysis_state.first_import_meta {\n                         analysis_state.first_import_meta = false;\n                         analysis.add_code_gen(ImportMetaBinding::new(\n-                            source.ident().path().await?.clone_value(),\n+                            source.ident().path().owned().await?,\n                         ));\n                     }\n \n@@ -1948,7 +1948,7 @@ async fn handle_call<G: Fn(Vec<Effect>) + Send + Sync>(\n         }\n \n         JsValue::WellKnownFunction(WellKnownFunctionKind::PathResolve(..)) => {\n-            let parent_path = origin.origin_path().await?.clone_value().parent();\n+            let parent_path = origin.origin_path().owned().await?.parent();\n             let args = linked_args(args).await?;\n \n             let linked_func_call = state\n@@ -2220,12 +2220,9 @@ async fn handle_call<G: Fn(Vec<Effect>) + Send + Sync>(\n                     .await?;\n                 if let Some(s) = first_arg.as_str() {\n                     analysis.add_reference(\n-                        NodeBindingsReference::new(\n-                            origin.origin_path().await?.clone_value(),\n-                            s.into(),\n-                        )\n-                        .to_resolved()\n-                        .await?,\n+                        NodeBindingsReference::new(origin.origin_path().owned().await?, s.into())\n+                            .to_resolved()\n+                            .await?,\n                     );\n                     return Ok(());\n                 }\n@@ -2637,7 +2634,7 @@ async fn handle_free_var_reference(\n             ));\n         }\n         FreeVarReference::InputRelative(kind) => {\n-            let source_path = (*state.source).ident().path().await?.clone_value();\n+            let source_path = (*state.source).ident().path().owned().await?;\n             let source_path = match kind {\n                 InputRelativeConstant::DirName => source_path.parent(),\n                 InputRelativeConstant::FileName => source_path,\n@@ -2982,10 +2979,10 @@ async fn value_visitor_inner(\n             }\n         }\n         JsValue::FreeVar(ref kind) => match &**kind {\n-            \"__dirname\" => as_abs_path(origin.origin_path().await?.clone_value().parent())\n+            \"__dirname\" => as_abs_path(origin.origin_path().owned().await?.parent())\n                 .await?\n                 .into(),\n-            \"__filename\" => as_abs_path(origin.origin_path().await?.clone_value())\n+            \"__filename\" => as_abs_path(origin.origin_path().owned().await?)\n                 .await?\n                 .into(),\n \n@@ -3050,7 +3047,7 @@ async fn require_resolve_visitor(\n             .await?\n             .iter()\n             .map(|&source| async move {\n-                require_resolve(source.ident().path().await?.clone_value())\n+                require_resolve(source.ident().path().owned().await?)\n                     .await\n                     .map(JsValue::from)\n             })\n@@ -3107,8 +3104,8 @@ async fn require_context_visitor(\n \n     let dir = origin\n         .origin_path()\n+        .owned()\n         .await?\n-        .clone_value()\n         .parent()\n         .join(options.dir.as_str())?;\n "
        },
        {
            "sha": "41ac6633f15debe23c240800007bc6ae32872680",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/node.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fnode.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fnode.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fnode.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -80,7 +80,7 @@ async fn resolve_reference_from_dir(\n     let matches = match (abs_path, rel_path) {\n         (Some(abs_path), Some(rel_path)) => Either::Right(\n             read_matches(\n-                parent_path.root().await?.clone_value(),\n+                parent_path.root().owned().await?,\n                 rcstr!(\"/ROOT/\"),\n                 true,\n                 Pattern::new(abs_path.or_any_nested_file()),\n@@ -101,7 +101,7 @@ async fn resolve_reference_from_dir(\n         (Some(abs_path), None) => Either::Left(\n             // absolute path only\n             read_matches(\n-                parent_path.root().await?.clone_value(),\n+                parent_path.root().owned().await?,\n                 rcstr!(\"/ROOT/\"),\n                 true,\n                 Pattern::new(abs_path.or_any_nested_file()),"
        },
        {
            "sha": "45b6048ffe3c356905e4981a417500a10d4f377e",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/pattern_mapping.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fpattern_mapping.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fpattern_mapping.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fpattern_mapping.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -354,7 +354,7 @@ async fn to_single_pattern_mapping(\n                     .into(),\n                 )\n                 .resolved_cell(),\n-                path: origin.origin_path().await?.clone_value(),\n+                path: origin.origin_path().owned().await?,\n             }\n             .resolved_cell()\n             .emit();\n@@ -380,7 +380,7 @@ async fn to_single_pattern_mapping(\n             \"asset is not placeable in ESM chunks, so it doesn't have a module id\".into(),\n         )\n         .resolved_cell(),\n-        path: origin.origin_path().await?.clone_value(),\n+        path: origin.origin_path().owned().await?,\n     }\n     .resolved_cell()\n     .emit();"
        },
        {
            "sha": "d9b6799dcf82ec5df483dd24e4abe76d0622c068",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/worker.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fworker.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fworker.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fworker.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -73,7 +73,7 @@ impl WorkerAssetReference {\n                 title: StyledString::Text(rcstr!(\"non-ecmascript placeable asset\")).resolved_cell(),\n                 message: StyledString::Text(rcstr!(\"asset is not placeable in ESM chunks\"))\n                     .resolved_cell(),\n-                path: self.origin.origin_path().await?.clone_value(),\n+                path: self.origin.origin_path().owned().await?,\n             }\n             .resolved_cell()\n             .emit();"
        },
        {
            "sha": "3495b590981fe359091465a7d82f661b8bbdb2f6",
            "filename": "turbopack/crates/turbopack-ecmascript/src/worker_chunk/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fworker_chunk%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fworker_chunk%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fworker_chunk%2Fchunk_item.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -48,7 +48,7 @@ impl WorkerLoaderChunkItem {\n     async fn chunks_data(self: Vc<Self>) -> Result<Vc<ChunksData>> {\n         let this = self.await?;\n         Ok(ChunkData::from_assets(\n-            this.chunking_context.output_root().await?.clone_value(),\n+            this.chunking_context.output_root().owned().await?,\n             self.chunks(),\n         ))\n     }"
        },
        {
            "sha": "20243eeb94017bcb0a2266f8d5fd9ed85710ec3e",
            "filename": "turbopack/crates/turbopack-mdx/src/lib.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -120,10 +120,7 @@ impl Asset for MdxTransformedAsset {\n     async fn content(self: ResolvedVc<Self>) -> Result<Vc<AssetContent>> {\n         let this = self.await?;\n         Ok(*transform_process_operation(self)\n-            .issue_file_path(\n-                this.source.ident().path().await?.clone_value(),\n-                \"MDX processing\",\n-            )\n+            .issue_file_path(this.source.ident().path().owned().await?, \"MDX processing\")\n             .await?\n             .connect()\n             .await?"
        },
        {
            "sha": "b3cafa7afc0ebcfbbe790ba682f100a9813c8f7c",
            "filename": "turbopack/crates/turbopack-node/src/evaluate.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fevaluate.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fevaluate.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fevaluate.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -100,9 +100,7 @@ async fn emit_evaluate_pool_assets_operation(\n     let runtime_asset = asset_context\n         .process(\n             Vc::upcast(FileSource::new(\n-                embed_file_path(rcstr!(\"ipc/evaluate.ts\"))\n-                    .await?\n-                    .clone_value(),\n+                embed_file_path(rcstr!(\"ipc/evaluate.ts\")).owned().await?,\n             )),\n             ReferenceType::Internal(InnerAssets::empty().to_resolved().await?),\n         )\n@@ -141,7 +139,7 @@ async fn emit_evaluate_pool_assets_operation(\n         let globals_module = asset_context\n             .process(\n                 Vc::upcast(FileSource::new(\n-                    embed_file_path(rcstr!(\"globals.ts\")).await?.clone_value(),\n+                    embed_file_path(rcstr!(\"globals.ts\")).owned().await?,\n                 )),\n                 ReferenceType::Internal(InnerAssets::empty().to_resolved().await?),\n             )\n@@ -179,7 +177,7 @@ async fn emit_evaluate_pool_assets_operation(\n         OutputAssets::empty(),\n     );\n \n-    let output_root = chunking_context.output_root().await?.clone_value();\n+    let output_root = chunking_context.output_root().owned().await?;\n     emit_package_json(output_root.clone())?\n         .as_side_effect()\n         .await?;\n@@ -289,7 +287,7 @@ pub async fn get_evaluate_pool(\n         env.iter().map(|(k, v)| (k.clone(), v.clone())).collect(),\n         assets_for_source_mapping,\n         output_root.clone(),\n-        chunking_context.root_path().await?.clone_value(),\n+        chunking_context.root_path().owned().await?,\n         available_parallelism().map_or(1, |v| v.get()),\n         debug,\n     );\n@@ -664,7 +662,7 @@ impl EvaluateContext for BasicEvaluateContext {\n             source: IssueSource::from_source_only(self.context_source_for_issue),\n             assets_for_source_mapping: pool.assets_for_source_mapping,\n             assets_root: pool.assets_root.clone(),\n-            root_path: self.chunking_context.root_path().await?.clone_value(),\n+            root_path: self.chunking_context.root_path().owned().await?,\n         }\n         .resolved_cell()\n         .emit();\n@@ -711,7 +709,7 @@ async fn print_error(\n         .print(\n             *pool.assets_for_source_mapping,\n             pool.assets_root.clone(),\n-            evaluate_context.cwd().await?.clone_value(),\n+            evaluate_context.cwd().owned().await?,\n             FormattingMode::Plain,\n         )\n         .await"
        },
        {
            "sha": "ec8eb7b99ede6dea9658fa7f2dad11a55cf1f1bf",
            "filename": "turbopack/crates/turbopack-node/src/lib.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -46,7 +46,7 @@ async fn emit(\n     for asset in internal_assets(intermediate_asset, intermediate_output_path).await? {\n         let _ = asset\n             .content()\n-            .write(asset.path().await?.clone_value())\n+            .write(asset.path().owned().await?)\n             .resolve()\n             .await?;\n     }\n@@ -222,7 +222,7 @@ pub async fn get_renderer_pool_operation(\n     let assets_for_source_mapping =\n         internal_assets_for_source_mapping(*intermediate_asset, output_root.clone());\n \n-    let entrypoint = intermediate_asset.path().await?.clone_value();\n+    let entrypoint = intermediate_asset.path().owned().await?;\n \n     let Some(cwd) = to_sys_path(cwd.clone()).await? else {\n         bail!(\n@@ -267,8 +267,8 @@ pub async fn get_intermediate_asset(\n         chunking_context.root_entry_chunk_group_asset(\n             chunking_context\n                 .chunk_path(None, main_entry.ident(), rcstr!(\".js\"))\n-                .await?\n-                .clone_value(),\n+                .owned()\n+                .await?,\n             other_entries.with_entry(*main_entry),\n             ModuleGraph::from_modules(\n                 Vc::cell(vec![ChunkGroupEntry::Entry("
        },
        {
            "sha": "2e4579c2dd5739c31e19d707d6f1ba24843d8c24",
            "filename": "turbopack/crates/turbopack-node/src/render/rendered_source.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Frender%2Frendered_source.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Frender%2Frendered_source.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Frender%2Frendered_source.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -207,7 +207,7 @@ impl GetContentSourceContent for NodeRenderContentSource {\n             self.debug,\n         )\n         .issue_file_path(\n-            entry.module.ident().path().await?.clone_value(),\n+            entry.module.ident().path().owned().await?,\n             format!(\"server-side rendering {pathname}\"),\n         )\n         .await?;"
        },
        {
            "sha": "a508e93084f4222651e9d4c818770362adfd179f",
            "filename": "turbopack/crates/turbopack-node/src/source_map/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fsource_map%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fsource_map%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Fsource_map%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -65,7 +65,7 @@ pub async fn apply_source_mapping(\n         let resolved = resolve_source_mapping(\n             assets_for_source_mapping,\n             root.clone(),\n-            project_dir.root().await?.clone_value(),\n+            project_dir.root().owned().await?,\n             &frame,\n         )\n         .await;"
        },
        {
            "sha": "3a37dc20fdc177f39ac7fd94cf7d1686e6db0a2a",
            "filename": "turbopack/crates/turbopack-node/src/transforms/postcss.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fpostcss.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fpostcss.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fpostcss.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -169,7 +169,7 @@ impl Asset for PostCssTransformedAsset {\n         let this = self.await?;\n         Ok(*transform_process_operation(self)\n             .issue_file_path(\n-                this.source.ident().path().await?.clone_value(),\n+                this.source.ident().path().owned().await?,\n                 \"PostCSS processing\",\n             )\n             .await?\n@@ -403,8 +403,8 @@ async fn postcss_executor(\n     Ok(asset_context.process(\n         Vc::upcast(FileSource::new(\n             embed_file_path(rcstr!(\"transforms/postcss.ts\"))\n-                .await?\n-                .clone_value(),\n+                .owned()\n+                .await?,\n         )),\n         ReferenceType::Internal(ResolvedVc::cell(fxindexmap! {\n             rcstr!(\"CONFIG\") => config_asset"
        },
        {
            "sha": "9986f562731653851fe692a06b6ede6688345627",
            "filename": "turbopack/crates/turbopack-node/src/transforms/webpack.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fwebpack.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fwebpack.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Ftransforms%2Fwebpack.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -192,8 +192,8 @@ async fn webpack_loaders_executor(\n     Ok(evaluate_context.process(\n         Vc::upcast(FileSource::new(\n             embed_file_path(rcstr!(\"transforms/webpack-loaders.ts\"))\n-                .await?\n-                .clone_value(),\n+                .owned()\n+                .await?,\n         )),\n         ReferenceType::Internal(InnerAssets::empty().to_resolved().await?),\n     ))\n@@ -243,7 +243,7 @@ impl WebpackLoadersProcessedAsset {\n             .to_resolved()\n             .await?;\n \n-        let resource_fs_path = this.source.ident().path().await?.clone_value();\n+        let resource_fs_path = this.source.ident().path().owned().await?;\n         let resource_fs_path_ref = resource_fs_path.clone();\n         let Some(resource_path) = project_path.get_relative_path_to(&resource_fs_path_ref) else {\n             bail!(format!(\n@@ -472,7 +472,7 @@ impl EvaluateContext for WebpackLoaderContext {\n             source: IssueSource::from_source_only(self.context_source_for_issue),\n             assets_for_source_mapping: pool.assets_for_source_mapping,\n             assets_root: pool.assets_root.clone(),\n-            root_path: self.chunking_context.root_path().await?.clone_value(),\n+            root_path: self.chunking_context.root_path().owned().await?,\n         }\n         .resolved_cell()\n         .emit();\n@@ -543,7 +543,7 @@ impl EvaluateContext for WebpackLoaderContext {\n                     severity,\n                     assets_for_source_mapping: pool.assets_for_source_mapping,\n                     assets_root: pool.assets_root.clone(),\n-                    project_dir: self.chunking_context.root_path().await?.clone_value(),\n+                    project_dir: self.chunking_context.root_path().owned().await?,\n                 }\n                 .resolved_cell()\n                 .emit();\n@@ -635,7 +635,7 @@ impl EvaluateContext for WebpackLoaderContext {\n                 },\n                 assets_for_source_mapping: pool.assets_for_source_mapping,\n                 assets_root: pool.assets_root.clone(),\n-                project_dir: self.chunking_context.root_path().await?.clone_value(),\n+                project_dir: self.chunking_context.root_path().owned().await?,\n             }\n             .resolved_cell()\n             .emit();"
        },
        {
            "sha": "60f66d9a02f8301babc85b9dee13c8d5213d8e67",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/content.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fcontent.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fcontent.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fcontent.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -87,8 +87,8 @@ impl EcmascriptBuildNodeChunkContent {\n     #[turbo_tasks::function]\n     pub(crate) async fn own_version(&self) -> Result<Vc<EcmascriptBuildNodeChunkVersion>> {\n         Ok(EcmascriptBuildNodeChunkVersion::new(\n-            self.chunking_context.output_root().await?.clone_value(),\n-            self.chunk.path().await?.clone_value(),\n+            self.chunking_context.output_root().owned().await?,\n+            self.chunk.path().owned().await?,\n             *self.content,\n             *self.chunking_context.minify_type().await?,\n         ))"
        },
        {
            "sha": "55707a7ff58fe0341ea6940183ca7e757fba7367",
            "filename": "turbopack/crates/turbopack-nodejs/src/ecmascript/node/entry/chunk.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fecmascript%2Fnode%2Fentry%2Fchunk.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -57,10 +57,10 @@ impl EcmascriptBuildNodeEntryChunk {\n     async fn code(self: Vc<Self>) -> Result<Vc<Code>> {\n         let this = self.await?;\n \n-        let output_root = this.chunking_context.output_root().await?.clone_value();\n-        let chunk_path = self.path().await?.clone_value();\n+        let output_root = this.chunking_context.output_root().owned().await?;\n+        let chunk_path = self.path().owned().await?;\n         let chunk_directory = self.path().await?.parent();\n-        let runtime_path = self.runtime_chunk().path().await?.clone_value();\n+        let runtime_path = self.runtime_chunk().path().owned().await?;\n         let runtime_relative_path =\n             if let Some(path) = chunk_directory.get_relative_path_to(&runtime_path) {\n                 path"
        },
        {
            "sha": "c45d1c0b99c23094d96fbd541fdf43e524e61297",
            "filename": "turbopack/crates/turbopack-resolve/src/ecmascript.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fecmascript.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fecmascript.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fecmascript.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -137,7 +137,7 @@ pub async fn cjs_resolve_source(\n     handle_resolve_source_error(\n         result,\n         ty,\n-        origin.origin_path().await?.clone_value(),\n+        origin.origin_path().owned().await?,\n         *request,\n         options,\n         is_optional,\n@@ -161,7 +161,7 @@ async fn specific_resolve(\n     handle_resolve_error(\n         result,\n         reference_type,\n-        origin.origin_path().await?.clone_value(),\n+        origin.origin_path().owned().await?,\n         request,\n         options,\n         is_optional,"
        },
        {
            "sha": "f103db28de110c53c00c5d0fa6ff298ccbd6c1d2",
            "filename": "turbopack/crates/turbopack-resolve/src/node_native_binding.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fnode_native_binding.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fnode_native_binding.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fnode_native_binding.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -105,7 +105,7 @@ pub async fn resolve_node_pre_gyp_files(\n         && let AssetContent::File(file) = &*config_asset.content().await?\n         && let FileContent::Content(config_file) = &*file.await?\n     {\n-        let config_file_path = config_asset.ident().path().await?.clone_value();\n+        let config_file_path = config_asset.ident().path().owned().await?;\n         let mut affecting_paths = vec![config_file_path.clone()];\n         let config_file_dir = config_file_path.parent();\n         let node_pre_gyp_config: NodePreGypConfigJson ="
        },
        {
            "sha": "c539907b658f4e48d7b3e1739d6c74ab8b69bc2c",
            "filename": "turbopack/crates/turbopack-resolve/src/resolve.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fresolve.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fresolve.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fresolve.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -91,7 +91,7 @@ async fn base_resolve_options(\n ) -> Result<Vc<ResolveOptions>> {\n     let opt = options_context.await?;\n     let emulating = opt.emulate_environment;\n-    let root = fs.root().await?.clone_value();\n+    let root = fs.root().owned().await?;\n     let mut direct_mappings = AliasMap::new();\n     let node_externals = if let Some(environment) = emulating {\n         environment.node_externals().owned().await?"
        },
        {
            "sha": "097da234b404a56ac43037597a2fddced15c88db",
            "filename": "turbopack/crates/turbopack-resolve/src/typescript.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Ftypescript.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Ftypescript.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Ftypescript.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -267,7 +267,7 @@ pub async fn tsconfig_resolve_options(\n     let configs = read_tsconfigs(\n         tsconfig.read(),\n         ResolvedVc::upcast(FileSource::new(tsconfig.clone()).to_resolved().await?),\n-        node_cjs_resolve_options(tsconfig.root().await?.clone_value()),\n+        node_cjs_resolve_options(tsconfig.root().owned().await?),\n     )\n     .await?;\n \n@@ -473,7 +473,7 @@ pub async fn type_resolve(\n     handle_resolve_error(\n         result,\n         ty,\n-        origin.origin_path().await?.clone_value(),\n+        origin.origin_path().owned().await?,\n         request,\n         options,\n         false,"
        },
        {
            "sha": "8e714e9e0ab6f1000366ebaa51e86e0288522b05",
            "filename": "turbopack/crates/turbopack-static/src/ecma.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fecma.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fecma.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fecma.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -137,7 +137,7 @@ impl EcmascriptChunkItem for StaticUrlJsChunkItem {\n                 path = StringifyJs(\n                     &self\n                         .chunking_context\n-                        .asset_url(self.static_asset.path().await?.clone_value())\n+                        .asset_url(self.static_asset.path().owned().await?)\n                         .await?\n                 )\n             )"
        },
        {
            "sha": "168f5d0b36d67aa7279a5d7061764fad43f58d8e",
            "filename": "turbopack/crates/turbopack-tests/tests/execution.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -283,7 +283,7 @@ async fn prepare_test(resource: RcStr) -> Result<Vc<PreparedTest>> {\n \n     let root_fs = DiskFileSystem::new(rcstr!(\"workspace\"), REPO_ROOT.clone(), vec![]);\n     let project_fs = DiskFileSystem::new(rcstr!(\"project\"), REPO_ROOT.clone(), vec![]);\n-    let project_root = project_fs.root().await?.clone_value();\n+    let project_root = project_fs.root().owned().await?;\n \n     let relative_path = resource_path.strip_prefix(&*REPO_ROOT).context(format!(\n         \"stripping repo root {:?} from resource path {:?}\","
        },
        {
            "sha": "08a45ccc36fd292a88a671c4388506c93c6fab90",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -233,11 +233,7 @@ async fn run(resource: PathBuf) -> Result<()> {\n #[turbo_tasks::function(operation)]\n async fn run_inner_operation(resource: RcStr) -> Result<()> {\n     let out_op = run_test_operation(resource);\n-    let out_vc = out_op\n-        .resolve_strongly_consistent()\n-        .await?\n-        .await?\n-        .clone_value();\n+    let out_vc = out_op.resolve_strongly_consistent().await?.owned().await?;\n     let captured_issues = out_op.peek_issues_with_path().await?;\n \n     let plain_issues = captured_issues.get_plain_issues().await?;\n@@ -265,7 +261,7 @@ async fn run_test_operation(resource: RcStr) -> Result<Vc<FileSystemPath>> {\n         Ok(options_str) => parse_json_with_source_context(&options_str).unwrap(),\n     };\n     let project_fs = DiskFileSystem::new(rcstr!(\"project\"), REPO_ROOT.clone(), vec![]);\n-    let project_root = project_fs.root().await?.clone_value();\n+    let project_root = project_fs.root().owned().await?;\n \n     let relative_path = test_path.strip_prefix(&*REPO_ROOT)?;\n     let relative_path: RcStr = sys_to_unix(relative_path.to_str().unwrap()).into();\n@@ -552,7 +548,7 @@ async fn walk_asset(\n     seen: &mut FxHashSet<FileSystemPath>,\n     queue: &mut VecDeque<ResolvedVc<Box<dyn OutputAsset>>>,\n ) -> Result<()> {\n-    let path = asset.path().await?.clone_value();\n+    let path = asset.path().owned().await?;\n \n     if !seen.insert(path.clone()) {\n         return Ok(());"
        },
        {
            "sha": "54ee5d206e93685afea115e8434f6f5e7525e54a",
            "filename": "turbopack/crates/turbopack/benches/node_file_trace.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fbenches%2Fnode_file_trace.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fbenches%2Fnode_file_trace.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fbenches%2Fnode_file_trace.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -84,7 +84,7 @@ fn bench_emit(b: &mut Bencher, bench_input: &BenchInput) {\n \n                 let input_dir = input.parent().parent();\n                 let output_fs: Vc<NullFileSystem> = NullFileSystem.into();\n-                let output_dir = output_fs.root().await?.clone_value();\n+                let output_dir = output_fs.root().owned().await?;\n \n                 let source = FileSource::new(input);\n                 let compile_time_info = CompileTimeInfo::builder("
        },
        {
            "sha": "ef5f6dbead6ed123b95a5830943f424dde96a72c",
            "filename": "turbopack/crates/turbopack/examples/turbopack.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fexamples%2Fturbopack.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fexamples%2Fturbopack.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fexamples%2Fturbopack.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -56,7 +56,7 @@ async fn main() -> Result<()> {\n                 ResolveOptionsContext {\n                     enable_typescript: true,\n                     enable_react: true,\n-                    enable_node_modules: Some(fs.root().await?.clone_value()),\n+                    enable_node_modules: Some(fs.root().owned().await?),\n                     custom_conditions: vec![rcstr!(\"development\")],\n                     ..Default::default()\n                 }"
        },
        {
            "sha": "650f57bca633f51919a49f98ef4dfaf11d2d4cf0",
            "filename": "turbopack/crates/turbopack/src/evaluate_context.rs",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fevaluate_context.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fevaluate_context.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fevaluate_context.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -46,12 +46,7 @@ pub async fn node_evaluate_asset_context(\n         \"@vercel/turbopack-node/\",\n         ImportMapping::PrimaryAlternative(\n             rcstr!(\"./*\"),\n-            Some(\n-                turbopack_node::embed_js::embed_fs()\n-                    .root()\n-                    .await?\n-                    .clone_value(),\n-            ),\n+            Some(turbopack_node::embed_js::embed_fs().root().owned().await?),\n         )\n         .resolved_cell(),\n     );\n@@ -71,8 +66,8 @@ pub async fn node_evaluate_asset_context(\n                 .project_path()\n                 .await?\n                 .root()\n-                .await?\n-                .clone_value(),\n+                .owned()\n+                .await?,\n         ),\n         enable_node_externals: true,\n         enable_node_native_modules: true,"
        },
        {
            "sha": "3ee6b4511bba23b75424f58b7430ce8fd850820f",
            "filename": "turbopack/crates/turbopack/src/lib.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -935,7 +935,7 @@ async fn emit_aggregated_assets(\n pub async fn emit_asset(asset: Vc<Box<dyn OutputAsset>>) -> Result<()> {\n     asset\n         .content()\n-        .write(asset.path().await?.clone_value())\n+        .write(asset.path().owned().await?)\n         .as_side_effect()\n         .await?;\n "
        },
        {
            "sha": "bffe23ebe73f751edfaaf2d35b5eb70717a332b4",
            "filename": "turbopack/crates/turbopack/src/module_options/mod.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Fmod.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -650,7 +650,7 @@ impl ModuleOptions {\n \n                             match &condition.path {\n                                 ConditionPath::Glob(glob) => RuleCondition::ResourcePathGlob {\n-                                    base: execution_context.project_path().await?.clone_value(),\n+                                    base: execution_context.project_path().owned().await?,\n                                     glob: Glob::new(glob.clone()).await?,\n                                 },\n                                 ConditionPath::Regex(regex) => {\n@@ -659,7 +659,7 @@ impl ModuleOptions {\n                             }\n                         } else if key.contains('/') {\n                             RuleCondition::ResourcePathGlob {\n-                                base: execution_context.project_path().await?.clone_value(),\n+                                base: execution_context.project_path().owned().await?,\n                                 glob: Glob::new(key.clone()).await?,\n                             }\n                         } else {"
        },
        {
            "sha": "4b1c2a452d10f96e7791ce947b7c10fbe2d2aa82",
            "filename": "turbopack/crates/turbopack/src/unsupported_sass.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Funsupported_sass.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Funsupported_sass.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Funsupported_sass.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -33,7 +33,7 @@ impl AfterResolvePlugin for UnsupportedSassResolvePlugin {\n     #[turbo_tasks::function]\n     async fn after_resolve_condition(&self) -> Result<Vc<AfterResolvePluginCondition>> {\n         Ok(AfterResolvePluginCondition::new(\n-            self.root.root().await?.clone_value(),\n+            self.root.root().owned().await?,\n             Glob::new(\"**/*.{sass,scss}\".into()),\n         ))\n     }"
        },
        {
            "sha": "61dc2d920deddf490b31d13d3ee10e1818dc813f",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/8389b9f7f5f9a4c568725e2dceedfbdc5949c675/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs?ref=8389b9f7f5f9a4c568725e2dceedfbdc5949c675",
            "patch": "@@ -339,11 +339,11 @@ async fn node_file_trace_operation(\n         package_root.clone(),\n         vec![],\n     ));\n-    let input_dir = workspace_fs.root().await?.clone_value();\n+    let input_dir = workspace_fs.root().owned().await?;\n     let input = input_dir.join(&format!(\"tests/{input}\"))?;\n \n     let output_fs = DiskFileSystem::new(rcstr!(\"output\"), directory.clone(), vec![]);\n-    let output_dir = output_fs.root().await?.clone_value();\n+    let output_dir = output_fs.root().owned().await?;\n \n     let source = FileSource::new(input);\n     let environment = Environment::new(ExecutionEnvironment::NodeJsLambda("
        }
    ],
    "stats": {
        "total": 710,
        "additions": 297,
        "deletions": 413
    }
}