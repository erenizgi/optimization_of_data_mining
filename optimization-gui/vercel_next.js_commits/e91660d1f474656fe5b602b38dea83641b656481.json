{
    "author": "mischnic",
    "message": "Turbopack: scope hoisting (#79459)\n\nEnable Turbopack to merge modules together (when possible), getting rid of the `\"module id...\": (__turbopack_context__) => { ... __turbopack_esm_export__({foo: () => foo})` overhead:\r\n\r\n<img width=\"1591\" alt=\"Bildschirmfoto 2025-06-14 um 14 13 36\" src=\"https://github.com/user-attachments/assets/b6baccbe-a2c7-4acd-b17b-f7bd91c8f349\" />\r\n\r\n## Details\r\n\r\nThere is a lot of complexity here, mostly for the problem of when this is actually safe to do.\r\nGenerally, modules can only be merged if they are known to always execute in that exact order (also meaning in every chunk these modules are part of).\r\nThis is done by first propagating a bitmap on the whole module graph, to determine which modules are safe to merge together (module type is compatible, only ESM, etc). Then, these potential merged groups are linearized in execution order _per chunk_. These orderings are then split up until every module is just part of a single ordering (together with the modules that are always executed before/after it, if any). Each of these orderings then becomes a merged module.\r\n\r\nThis information is then used to replace these modules with the merged version in the middle of chunking (after the module graph -> vec of modules step, but before turning vec of modules -> vec of chunks).\r\n\r\nFor code generation, the runtime helpers are omitted and imports just become straight variable references (i.e. across modules). This (together with preventing local variable naming collisions in the merged module) is achieved by leveraging swc's syntax contexts (each module effectively gets it's own syntax context, so that variables of the same name don't collide, and then imports are rewritten to point to the local variable in the other module). Comments and source maps work by encoding the module into the `BytePos`, so that a given `BytePos` in the merged AST can be decoded back into the module that it originated from, to lookup comments and source locations in the right structs.",
    "sha": "e91660d1f474656fe5b602b38dea83641b656481",
    "files": [
        {
            "sha": "598a86ad2000c2ad7f0fd1f8f31c2247bb8f2780",
            "filename": ".prettierignore",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/.prettierignore",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/.prettierignore",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.prettierignore?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -66,6 +66,7 @@ test/e2e/async-modules/amp-validator-wasm.js\n /turbopack/crates/next-transform-dynamic/tests\n /turbopack/crates/turbopack-tests/tests/execution/turbopack/basic/error/input/broken.js\n /turbopack/crates/turbopack-tests/tests/snapshot/import-meta/cjs/input/mod.cjs\n+/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/*\n /turbopack/crates/turbopack-tests/tests/**/output*\n /turbopack/crates/turbopack-tests/tests/**/static\n "
        },
        {
            "sha": "0a1c7eda828688e6b31e83a8ac7986ba827de1d8",
            "filename": "Cargo.lock",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/Cargo.lock",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/Cargo.lock",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.lock?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -8198,9 +8198,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_sourcemap\"\n-version = \"9.3.1\"\n+version = \"9.3.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"604e837ad12213d381dea886a184e06b4e09fd502e5d1a4db9d4b7341eb85105\"\n+checksum = \"9755c673c6a83c461e98fa018f681adb8394a3f44f89a06f27e80fd4fe4fa1e4\"\n dependencies = [\n  \"base64-simd 0.8.0\",\n  \"bitvec\",\n@@ -9674,6 +9674,7 @@ dependencies = [\n  \"either\",\n  \"indexmap 2.7.1\",\n  \"indoc\",\n+ \"itertools 0.10.5\",\n  \"num-bigint\",\n  \"num-traits\",\n  \"once_cell\","
        },
        {
            "sha": "2a638722426247d7cc19b734f5f2712c47af9e59",
            "filename": "Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/Cargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/Cargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.toml?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -411,7 +411,7 @@ smallvec = { version = \"1.13.1\", features = [\n   \"union\",\n   \"const_new\",\n ] }\n-swc_sourcemap = \"9.2.2\"\n+swc_sourcemap = \"9.3.2\"\n strsim = \"0.11.1\"\n shrink-to-fit = \"0.2.10\"\n syn = \"2.0.100\""
        },
        {
            "sha": "fb6779119a86e8b995845b62e4154e1c9add563e",
            "filename": "crates/next-api/src/project.rs",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fproject.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1018,6 +1018,7 @@ impl Project {\n             self.next_config().turbo_minify(self.next_mode()),\n             self.next_config().client_source_maps(self.next_mode()),\n             self.no_mangling(),\n+            self.next_config().turbo_scope_hoisting(self.next_mode()),\n         ))\n     }\n \n@@ -1039,6 +1040,7 @@ impl Project {\n                 self.next_config().turbo_minify(self.next_mode()),\n                 self.next_config().server_source_maps(),\n                 self.no_mangling(),\n+                self.next_config().turbo_scope_hoisting(self.next_mode()),\n             )\n         } else {\n             get_server_chunking_context(\n@@ -1051,6 +1053,7 @@ impl Project {\n                 self.next_config().turbo_minify(self.next_mode()),\n                 self.next_config().server_source_maps(),\n                 self.no_mangling(),\n+                self.next_config().turbo_scope_hoisting(self.next_mode()),\n             )\n         })\n     }\n@@ -1073,6 +1076,7 @@ impl Project {\n                 self.next_config().turbo_minify(self.next_mode()),\n                 self.next_config().server_source_maps(),\n                 self.no_mangling(),\n+                self.next_config().turbo_scope_hoisting(self.next_mode()),\n             )\n         } else {\n             get_edge_chunking_context(\n@@ -1085,6 +1089,7 @@ impl Project {\n                 self.next_config().turbo_minify(self.next_mode()),\n                 self.next_config().server_source_maps(),\n                 self.no_mangling(),\n+                self.next_config().turbo_scope_hoisting(self.next_mode()),\n             )\n         })\n     }"
        },
        {
            "sha": "c4864bfdf05322e80c3ad4fe5ffd88d52fd0f108",
            "filename": "crates/next-core/src/next_client/context.rs",
            "status": "modified",
            "additions": 20,
            "deletions": 17,
            "changes": 37,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -435,6 +435,7 @@ pub async fn get_client_chunking_context(\n     minify: Vc<bool>,\n     source_maps: Vc<bool>,\n     no_mangling: Vc<bool>,\n+    scope_hoisting: Vc<bool>,\n ) -> Result<Vc<Box<dyn ChunkingContext>>> {\n     let next_mode = mode.await?;\n     let mut builder = BrowserChunkingContext::builder(\n@@ -471,23 +472,25 @@ pub async fn get_client_chunking_context(\n     if next_mode.is_development() {\n         builder = builder.hot_module_replacement().use_file_source_map_uris();\n     } else {\n-        builder = builder.chunking_config(\n-            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                min_chunk_size: 50_000,\n-                max_chunk_count_per_group: 40,\n-                max_merge_chunk_size: 200_000,\n-                ..Default::default()\n-            },\n-        );\n-        builder = builder.chunking_config(\n-            Vc::<CssChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n-        builder = builder.use_content_hashing(ContentHashing::Direct { length: 16 })\n+        builder = builder\n+            .chunking_config(\n+                Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    min_chunk_size: 50_000,\n+                    max_chunk_count_per_group: 40,\n+                    max_merge_chunk_size: 200_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .chunking_config(\n+                Vc::<CssChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .use_content_hashing(ContentHashing::Direct { length: 16 })\n+            .module_merging(*scope_hoisting.await?);\n     }\n \n     Ok(Vc::upcast(builder.build()))"
        },
        {
            "sha": "756da0adda3af7ca3da554f88b8af4a9c3f2e109",
            "filename": "crates/next-core/src/next_config.rs",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_config.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_config.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_config.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -795,6 +795,7 @@ pub struct ExperimentalConfig {\n     turbopack_persistent_caching: Option<bool>,\n     turbopack_source_maps: Option<bool>,\n     turbopack_tree_shaking: Option<bool>,\n+    turbopack_scope_hoisting: Option<bool>,\n     // Whether to enable the global-not-found convention\n     global_not_found: Option<bool>,\n     /// Defaults to false in development mode, true in production mode.\n@@ -1593,6 +1594,15 @@ impl NextConfig {\n         ))\n     }\n \n+    #[turbo_tasks::function]\n+    pub async fn turbo_scope_hoisting(&self, mode: Vc<NextMode>) -> Result<Vc<bool>> {\n+        Ok(Vc::cell(match *mode.await? {\n+            // Ignore configuration in development mode to not break HMR\n+            NextMode::Development => false,\n+            NextMode::Build => self.experimental.turbopack_scope_hoisting.unwrap_or(true),\n+        }))\n+    }\n+\n     #[turbo_tasks::function]\n     pub async fn client_source_maps(&self, _mode: Vc<NextMode>) -> Result<Vc<bool>> {\n         // Temporarily always enable client source maps as tests regress."
        },
        {
            "sha": "fbbd95a363dacf0c9c2e82caebe20fa21681e3de",
            "filename": "crates/next-core/src/next_edge/context.rs",
            "status": "modified",
            "additions": 34,
            "deletions": 28,
            "changes": 62,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_edge%2Fcontext.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -231,6 +231,7 @@ pub async fn get_edge_chunking_context_with_client_assets(\n     turbo_minify: Vc<bool>,\n     turbo_source_maps: Vc<bool>,\n     no_mangling: Vc<bool>,\n+    scope_hoisting: Vc<bool>,\n ) -> Result<Vc<Box<dyn ChunkingContext>>> {\n     let output_root = node_root.join(rcstr!(\"server/edge\")).to_resolved().await?;\n     let next_mode = mode.await?;\n@@ -264,20 +265,22 @@ pub async fn get_edge_chunking_context_with_client_assets(\n     .module_id_strategy(module_id_strategy);\n \n     if !next_mode.is_development() {\n-        builder = builder.chunking_config(\n-            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                min_chunk_size: 20_000,\n-                ..Default::default()\n-            },\n-        );\n-        builder = builder.chunking_config(\n-            Vc::<CssChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n+        builder = builder\n+            .chunking_config(\n+                Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    min_chunk_size: 20_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .chunking_config(\n+                Vc::<CssChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .module_merging(*scope_hoisting.await?);\n     }\n \n     Ok(Vc::upcast(builder.build()))\n@@ -294,6 +297,7 @@ pub async fn get_edge_chunking_context(\n     turbo_minify: Vc<bool>,\n     turbo_source_maps: Vc<bool>,\n     no_mangling: Vc<bool>,\n+    scope_hoisting: Vc<bool>,\n ) -> Result<Vc<Box<dyn ChunkingContext>>> {\n     let output_root = node_root.join(rcstr!(\"server/edge\")).to_resolved().await?;\n     let next_mode = mode.await?;\n@@ -327,20 +331,22 @@ pub async fn get_edge_chunking_context(\n     .module_id_strategy(module_id_strategy);\n \n     if !next_mode.is_development() {\n-        builder = builder.chunking_config(\n-            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                min_chunk_size: 20_000,\n-                ..Default::default()\n-            },\n-        );\n-        builder = builder.chunking_config(\n-            Vc::<CssChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n+        builder = builder\n+            .chunking_config(\n+                Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    min_chunk_size: 20_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .chunking_config(\n+                Vc::<CssChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .module_merging(*scope_hoisting.await?);\n     }\n \n     Ok(Vc::upcast(builder.build()))"
        },
        {
            "sha": "fd0da02a07ebc114a3a09736ffdcb4d341a1d380",
            "filename": "crates/next-core/src/next_server/context.rs",
            "status": "modified",
            "additions": 38,
            "deletions": 32,
            "changes": 70,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -998,6 +998,7 @@ pub async fn get_server_chunking_context_with_client_assets(\n     turbo_minify: Vc<bool>,\n     turbo_source_maps: Vc<bool>,\n     no_mangling: Vc<bool>,\n+    scope_hoisting: Vc<bool>,\n ) -> Result<Vc<NodeJsChunkingContext>> {\n     let next_mode = mode.await?;\n     // TODO(alexkirsz) This should return a trait that can be implemented by the\n@@ -1039,22 +1040,24 @@ pub async fn get_server_chunking_context_with_client_assets(\n     if next_mode.is_development() {\n         builder = builder.use_file_source_map_uris();\n     } else {\n-        builder = builder.chunking_config(\n-            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                min_chunk_size: 20_000,\n-                max_chunk_count_per_group: 100,\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n-        builder = builder.chunking_config(\n-            Vc::<CssChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n+        builder = builder\n+            .chunking_config(\n+                Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    min_chunk_size: 20_000,\n+                    max_chunk_count_per_group: 100,\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .chunking_config(\n+                Vc::<CssChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .module_merging(*scope_hoisting.await?);\n     }\n \n     Ok(builder.build())\n@@ -1071,6 +1074,7 @@ pub async fn get_server_chunking_context(\n     turbo_minify: Vc<bool>,\n     turbo_source_maps: Vc<bool>,\n     no_mangling: Vc<bool>,\n+    scope_hoisting: Vc<bool>,\n ) -> Result<Vc<NodeJsChunkingContext>> {\n     let next_mode = mode.await?;\n     // TODO(alexkirsz) This should return a trait that can be implemented by the\n@@ -1110,22 +1114,24 @@ pub async fn get_server_chunking_context(\n     if next_mode.is_development() {\n         builder = builder.use_file_source_map_uris()\n     } else {\n-        builder = builder.chunking_config(\n-            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                min_chunk_size: 20_000,\n-                max_chunk_count_per_group: 100,\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n-        builder = builder.chunking_config(\n-            Vc::<CssChunkType>::default().to_resolved().await?,\n-            ChunkingConfig {\n-                max_merge_chunk_size: 100_000,\n-                ..Default::default()\n-            },\n-        );\n+        builder = builder\n+            .chunking_config(\n+                Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    min_chunk_size: 20_000,\n+                    max_chunk_count_per_group: 100,\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .chunking_config(\n+                Vc::<CssChunkType>::default().to_resolved().await?,\n+                ChunkingConfig {\n+                    max_merge_chunk_size: 100_000,\n+                    ..Default::default()\n+                },\n+            )\n+            .module_merging(*scope_hoisting.await?);\n     }\n \n     Ok(builder.build())"
        },
        {
            "sha": "12cb82fad11afbfc104139786a3080998a16a08a",
            "filename": "packages/next/src/server/config-schema.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-schema.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-schema.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-schema.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -462,6 +462,7 @@ export const configSchema: zod.ZodType<NextConfig> = z.lazy(() =>\n         turbopackSourceMaps: z.boolean().optional(),\n         turbopackTreeShaking: z.boolean().optional(),\n         turbopackRemoveUnusedExports: z.boolean().optional(),\n+        turbopackScopeHoisting: z.boolean().optional(),\n         optimizePackageImports: z.array(z.string()).optional(),\n         optimizeServerReact: z.boolean().optional(),\n         clientTraceMetadata: z.array(z.string()).optional(),"
        },
        {
            "sha": "669e22c7c564f32d33872a0a50535d8d4db52e67",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -452,6 +452,11 @@ export interface ExperimentalConfig {\n    */\n   turbopackMinify?: boolean\n \n+  /**\n+   * Enable scope hoisting. Defaults to true in build mode. Always disabled in development mode.\n+   */\n+  turbopackScopeHoisting?: boolean\n+\n   /**\n    * Enable persistent caching for the turbopack dev server and build.\n    */"
        },
        {
            "sha": "9bea0051ac23a586a76c99ddbda36c484282a269",
            "filename": "turbopack/crates/turbopack-browser/src/chunking_context.rs",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fchunking_context.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fchunking_context.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Fchunking_context.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -97,6 +97,11 @@ impl BrowserChunkingContextBuilder {\n         self\n     }\n \n+    pub fn module_merging(mut self, enable_module_merging: bool) -> Self {\n+        self.chunking_context.enable_module_merging = enable_module_merging;\n+        self\n+    }\n+\n     pub fn asset_base_path(mut self, asset_base_path: Option<RcStr>) -> Self {\n         self.chunking_context.asset_base_path = asset_base_path;\n         self\n@@ -202,6 +207,8 @@ pub struct BrowserChunkingContext {\n     enable_hot_module_replacement: bool,\n     /// Enable tracing for this chunking\n     enable_tracing: bool,\n+    /// Enable module merging\n+    enable_module_merging: bool,\n     /// The environment chunks will be evaluated in.\n     environment: ResolvedVc<Environment>,\n     /// The kind of runtime to include in the output.\n@@ -248,6 +255,7 @@ impl BrowserChunkingContext {\n                 asset_base_path: None,\n                 enable_hot_module_replacement: false,\n                 enable_tracing: false,\n+                enable_module_merging: false,\n                 environment,\n                 runtime_type,\n                 minify_type: MinifyType::NoMinify,\n@@ -513,6 +521,11 @@ impl ChunkingContext for BrowserChunkingContext {\n         Vc::cell(self.enable_tracing)\n     }\n \n+    #[turbo_tasks::function]\n+    fn is_module_merging_enabled(&self) -> Vc<bool> {\n+        Vc::cell(self.enable_module_merging)\n+    }\n+\n     #[turbo_tasks::function]\n     pub fn minify_type(&self) -> Vc<MinifyType> {\n         self.minify_type.cell()"
        },
        {
            "sha": "5c7655640ebbc6ec44286bb2f912a4a1ce18407e",
            "filename": "turbopack/crates/turbopack-cli/src/build/mod.rs",
            "status": "modified",
            "additions": 37,
            "deletions": 33,
            "changes": 70,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fbuild%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fbuild%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fbuild%2Fmod.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -342,23 +342,25 @@ async fn build_internal(\n             match *node_env.await? {\n                 NodeEnv::Development => {}\n                 NodeEnv::Production => {\n-                    builder = builder.chunking_config(\n-                        Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-                        ChunkingConfig {\n-                            min_chunk_size: 50_000,\n-                            max_chunk_count_per_group: 40,\n-                            max_merge_chunk_size: 200_000,\n-                            ..Default::default()\n-                        },\n-                    );\n-                    builder = builder.chunking_config(\n-                        Vc::<CssChunkType>::default().to_resolved().await?,\n-                        ChunkingConfig {\n-                            max_merge_chunk_size: 100_000,\n-                            ..Default::default()\n-                        },\n-                    );\n-                    builder = builder.use_content_hashing(ContentHashing::Direct { length: 16 })\n+                    builder = builder\n+                        .chunking_config(\n+                            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                            ChunkingConfig {\n+                                min_chunk_size: 50_000,\n+                                max_chunk_count_per_group: 40,\n+                                max_merge_chunk_size: 200_000,\n+                                ..Default::default()\n+                            },\n+                        )\n+                        .chunking_config(\n+                            Vc::<CssChunkType>::default().to_resolved().await?,\n+                            ChunkingConfig {\n+                                max_merge_chunk_size: 100_000,\n+                                ..Default::default()\n+                            },\n+                        )\n+                        .use_content_hashing(ContentHashing::Direct { length: 16 })\n+                        .module_merging(true);\n                 }\n             }\n \n@@ -386,22 +388,24 @@ async fn build_internal(\n             match *node_env.await? {\n                 NodeEnv::Development => {}\n                 NodeEnv::Production => {\n-                    builder = builder.chunking_config(\n-                        Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n-                        ChunkingConfig {\n-                            min_chunk_size: 20_000,\n-                            max_chunk_count_per_group: 100,\n-                            max_merge_chunk_size: 100_000,\n-                            ..Default::default()\n-                        },\n-                    );\n-                    builder = builder.chunking_config(\n-                        Vc::<CssChunkType>::default().to_resolved().await?,\n-                        ChunkingConfig {\n-                            max_merge_chunk_size: 100_000,\n-                            ..Default::default()\n-                        },\n-                    );\n+                    builder = builder\n+                        .chunking_config(\n+                            Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                            ChunkingConfig {\n+                                min_chunk_size: 20_000,\n+                                max_chunk_count_per_group: 100,\n+                                max_merge_chunk_size: 100_000,\n+                                ..Default::default()\n+                            },\n+                        )\n+                        .chunking_config(\n+                            Vc::<CssChunkType>::default().to_resolved().await?,\n+                            ChunkingConfig {\n+                                max_merge_chunk_size: 100_000,\n+                                ..Default::default()\n+                            },\n+                        )\n+                        .module_merging(true);\n                 }\n             }\n "
        },
        {
            "sha": "324658c9833a5af8784307672ac33d18cea78ab4",
            "filename": "turbopack/crates/turbopack-core/src/chunk/chunk_group.rs",
            "status": "modified",
            "additions": 78,
            "deletions": 7,
            "changes": 85,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunk_group.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunk_group.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunk_group.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,8 +1,9 @@\n-use std::collections::HashSet;\n+use std::{collections::HashSet, sync::atomic::AtomicBool};\n \n use anyhow::{Context, Result};\n use rustc_hash::FxHashMap;\n-use turbo_tasks::{FxIndexSet, ResolvedVc, TryJoinIterExt, Vc};\n+use smallvec::{SmallVec, smallvec};\n+use turbo_tasks::{FxIndexSet, ResolvedVc, TryFlatJoinIterExt, TryJoinIterExt, Vc};\n \n use super::{\n     Chunk, ChunkGroupContent, ChunkItem, ChunkItemWithAsyncModuleInfo, ChunkingContext,\n@@ -45,19 +46,22 @@ pub async fn make_chunk_group(\n         ChunkLoading::Edge\n     );\n     let should_trace = *chunking_context.is_tracing_enabled().await?;\n+    let should_merge_modules = *chunking_context.is_module_merging_enabled().await?;\n     let batching_config = chunking_context.batching_config();\n \n     let ChunkGroupContent {\n         chunkable_items,\n         batch_groups,\n         async_modules,\n         traced_modules,\n+        availability_info,\n     } = chunk_group_content(\n         module_graph,\n         chunk_group_entries.clone(),\n         availability_info,\n         can_split_async,\n         should_trace,\n+        should_merge_modules,\n         batching_config,\n     )\n     .await?;\n@@ -95,11 +99,6 @@ pub async fn make_chunk_group(\n         .try_join()\n         .await?;\n \n-    // Compute new [AvailabilityInfo]\n-    let availability_info = availability_info\n-        .with_modules(Vc::cell(chunkable_items))\n-        .await?;\n-\n     // Insert async chunk loaders for every referenced async module\n     let async_loaders = async_modules\n         .into_iter()\n@@ -189,6 +188,7 @@ pub async fn chunk_group_content(\n     availability_info: AvailabilityInfo,\n     can_split_async: bool,\n     should_trace: bool,\n+    should_merge_modules: bool,\n     batching_config: Vc<BatchingConfig>,\n ) -> Result<ChunkGroupContent> {\n     let module_batches_graph = module_graph.module_batches(batching_config).await?;\n@@ -315,6 +315,76 @@ pub async fn chunk_group_content(\n         },\n     )?;\n \n+    // This needs to use the unmerged items\n+    let availability_info = availability_info\n+        .with_modules(Vc::cell(state.chunkable_items.clone()))\n+        .await?;\n+\n+    if should_merge_modules {\n+        let merged_modules = module_graph.merged_modules().await?;\n+        state.chunkable_items = state\n+            .chunkable_items\n+            .into_iter()\n+            .map(async |chunkable_module| match chunkable_module {\n+                ChunkableModuleOrBatch::Module(module) => {\n+                    if !merged_modules.should_create_chunk_item_for(ResolvedVc::upcast(module)) {\n+                        return Ok(smallvec![]);\n+                    }\n+\n+                    let module = if let Some(replacement) =\n+                        merged_modules.should_replace_module(ResolvedVc::upcast(module))\n+                    {\n+                        replacement\n+                    } else {\n+                        module\n+                    };\n+\n+                    Ok(smallvec![ChunkableModuleOrBatch::Module(module)])\n+                }\n+                ChunkableModuleOrBatch::Batch(batch) => {\n+                    let batch_ref = batch.await?;\n+                    let modules = &batch_ref.modules;\n+\n+                    let modified = AtomicBool::new(false);\n+                    let modules = modules\n+                        .iter()\n+                        .filter(|module| {\n+                            if merged_modules\n+                                .should_create_chunk_item_for(ResolvedVc::upcast(**module))\n+                            {\n+                                true\n+                            } else {\n+                                modified.store(true, std::sync::atomic::Ordering::Relaxed);\n+                                false\n+                            }\n+                        })\n+                        .map(|&module| {\n+                            if let Some(replacement) =\n+                                merged_modules.should_replace_module(ResolvedVc::upcast(module))\n+                            {\n+                                modified.store(true, std::sync::atomic::Ordering::Relaxed);\n+                                replacement\n+                            } else {\n+                                module\n+                            }\n+                        })\n+                        .map(ChunkableModuleOrBatch::Module)\n+                        .collect::<SmallVec<[_; 1]>>();\n+\n+                    if modified.load(std::sync::atomic::Ordering::Relaxed) {\n+                        Ok(modules)\n+                    } else {\n+                        Ok(smallvec![ChunkableModuleOrBatch::Batch(batch)])\n+                    }\n+                }\n+                ChunkableModuleOrBatch::None(i) => Ok(smallvec![ChunkableModuleOrBatch::None(i)]),\n+            })\n+            .try_flat_join()\n+            .await?\n+            .into_iter()\n+            .collect();\n+    };\n+\n     let mut batch_groups = FxIndexSet::default();\n     for &module in &state.chunkable_items {\n         if let Some(batch_group) = module_batches_graph.get_batch_group(&module.into()) {\n@@ -327,5 +397,6 @@ pub async fn chunk_group_content(\n         batch_groups,\n         async_modules: state.async_modules,\n         traced_modules: state.traced_modules,\n+        availability_info,\n     })\n }"
        },
        {
            "sha": "92283290356cc4d4e07e65d5ba9587ed11f678e6",
            "filename": "turbopack/crates/turbopack-core/src/chunk/chunking/production.rs",
            "status": "modified",
            "additions": 17,
            "deletions": 4,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunking%2Fproduction.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunking%2Fproduction.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunking%2Fproduction.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,6 +1,6 @@\n use std::{borrow::Cow, collections::BinaryHeap, hash::BuildHasherDefault, mem::take};\n \n-use anyhow::Result;\n+use anyhow::{Context, Result};\n use rustc_hash::FxHasher;\n use smallvec::SmallVec;\n use tracing::{Instrument, field::Empty};\n@@ -32,6 +32,7 @@ pub async fn make_production_chunks(\n     let span = span_outer.clone();\n     async move {\n         let chunk_group_info = module_graph.chunk_group_info().await?;\n+        let merged_modules = module_graph.merged_modules().await?;\n \n         #[derive(Default)]\n         struct GrouppedChunkItems<'l> {\n@@ -69,9 +70,21 @@ pub async fn make_production_chunks(\n                             ..\n                         },\n                     ..\n-                } => chunk_group_info\n-                    .module_chunk_groups\n-                    .get(&ResolvedVc::upcast(module)),\n+                } => Some(\n+                    chunk_group_info\n+                        .module_chunk_groups\n+                        .get(&ResolvedVc::upcast(module))\n+                        .or_else(|| {\n+                            // Merged modules don't have a chunk group in chunk_group_info, so\n+                            // lookup using the original module.\n+                            merged_modules\n+                                .get_original_module(ResolvedVc::upcast(module))\n+                                .and_then(|module| {\n+                                    chunk_group_info.module_chunk_groups.get(&module)\n+                                })\n+                        })\n+                        .context(\"every module should have a chunk group\")?,\n+                ),\n                 &ChunkItemOrBatchWithInfo::ChunkItem {\n                     chunk_item: ChunkItemWithAsyncModuleInfo { module: None, .. },\n                     .."
        },
        {
            "sha": "fbf1ad7607e6902746b6e55ea0137a40d7fdab05",
            "filename": "turbopack/crates/turbopack-core/src/chunk/chunking_context.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunking_context.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunking_context.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fchunking_context.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -218,11 +218,19 @@ pub trait ChunkingContext {\n         })\n     }\n \n+    /// Whether `ChunkingType::Traced` are used to create corresponding output assets for each\n+    /// traced module.\n     #[turbo_tasks::function]\n     fn is_tracing_enabled(self: Vc<Self>) -> Vc<bool> {\n         Vc::cell(false)\n     }\n \n+    /// Whether to use `MergableModule` to merge modules if possible.\n+    #[turbo_tasks::function]\n+    fn is_module_merging_enabled(self: Vc<Self>) -> Vc<bool> {\n+        Vc::cell(false)\n+    }\n+\n     #[turbo_tasks::function]\n     fn minify_type(self: Vc<Self>) -> Vc<MinifyType> {\n         MinifyType::NoMinify.cell()"
        },
        {
            "sha": "89f06f38f3ed024e81de2833150007ac6a260490",
            "filename": "turbopack/crates/turbopack-core/src/chunk/mod.rs",
            "status": "modified",
            "additions": 85,
            "deletions": 1,
            "changes": 86,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fchunk%2Fmod.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -36,6 +36,7 @@ pub use self::{\n };\n use crate::{\n     asset::Asset,\n+    chunk::availability_info::AvailabilityInfo,\n     ident::AssetIdent,\n     module::Module,\n     module_graph::{\n@@ -108,6 +109,89 @@ impl ChunkableModules {\n     }\n }\n \n+/// A [Module] that can be merged with other [Module]s (to perform scope hoisting)\n+// TODO currently this is only used for ecmascript modules, and with the current API cannot be used\n+// with other module types (as a MergeableModule cannot prevent itself from being merged with other\n+// module types)\n+#[turbo_tasks::value_trait]\n+pub trait MergeableModule: Module + Asset {\n+    /// Even though MergeableModule is implemented, this allows a dynamic condition to determine\n+    /// mergeability\n+    #[turbo_tasks::function]\n+    fn is_mergeable(self: Vc<Self>) -> Vc<bool> {\n+        Vc::cell(true)\n+    }\n+\n+    /// Create a new module representing the merged content of the given `modules`.\n+    ///\n+    /// Group entry points are not referenced by any other module in the group. This list is needed\n+    /// because the merged module is created by recursively inlining modules when they are imported,\n+    /// but this process has to start somewhere (= with these entry points).\n+    #[turbo_tasks::function]\n+    fn merge(\n+        self: Vc<Self>,\n+        modules: Vc<MergeableModulesExposed>,\n+        entry_points: Vc<MergeableModules>,\n+    ) -> Vc<Box<dyn ChunkableModule>>;\n+}\n+#[turbo_tasks::value(transparent)]\n+pub struct MergeableModules(Vec<ResolvedVc<Box<dyn MergeableModule>>>);\n+\n+#[turbo_tasks::value_impl]\n+impl MergeableModules {\n+    #[turbo_tasks::function]\n+    pub fn interned(modules: Vec<ResolvedVc<Box<dyn MergeableModule>>>) -> Vc<Self> {\n+        Vc::cell(modules)\n+    }\n+}\n+\n+/// Whether a given module needs to be exposed (depending on how it is imported by other modules)\n+#[derive(\n+    Copy,\n+    Clone,\n+    Debug,\n+    PartialEq,\n+    Eq,\n+    Serialize,\n+    Deserialize,\n+    TraceRawVcs,\n+    NonLocalValue,\n+    TaskInput,\n+    Hash,\n+)]\n+pub enum MergeableModuleExposure {\n+    // This module is only used from within the current group, and only individual exports are\n+    // used (and no namespace object is required).\n+    None,\n+    // This module is only used from within the current group, and but the namespace object is\n+    // needed.\n+    Internal,\n+    // The exports of this module are read from outside this group (necessitating a namespace\n+    // object anyway).\n+    External,\n+}\n+\n+#[turbo_tasks::value(transparent)]\n+pub struct MergeableModulesExposed(\n+    Vec<(\n+        ResolvedVc<Box<dyn MergeableModule>>,\n+        MergeableModuleExposure,\n+    )>,\n+);\n+\n+#[turbo_tasks::value_impl]\n+impl MergeableModulesExposed {\n+    #[turbo_tasks::function]\n+    pub fn interned(\n+        modules: Vec<(\n+            ResolvedVc<Box<dyn MergeableModule>>,\n+            MergeableModuleExposure,\n+        )>,\n+    ) -> Vc<Self> {\n+        Vc::cell(modules)\n+    }\n+}\n+\n #[turbo_tasks::value(transparent)]\n pub struct Chunks(Vec<ResolvedVc<Box<dyn Chunk>>>);\n \n@@ -289,12 +373,12 @@ pub trait ChunkableModuleReference: ModuleReference + ValueToString {\n     }\n }\n \n-#[derive(Default)]\n pub struct ChunkGroupContent {\n     pub chunkable_items: FxIndexSet<ChunkableModuleOrBatch>,\n     pub batch_groups: FxIndexSet<ResolvedVc<ModuleBatchGroup>>,\n     pub async_modules: FxIndexSet<ResolvedVc<Box<dyn ChunkableModule>>>,\n     pub traced_modules: FxIndexSet<ResolvedVc<Box<dyn Module>>>,\n+    pub availability_info: AvailabilityInfo,\n }\n \n #[turbo_tasks::value_trait]"
        },
        {
            "sha": "feb8c73bd81feb021db5f4961900f59dead491a1",
            "filename": "turbopack/crates/turbopack-core/src/module_graph/merged_modules.rs",
            "status": "added",
            "additions": 586,
            "deletions": 0,
            "changes": 586,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmerged_modules.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmerged_modules.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmerged_modules.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,586 @@\n+use std::collections::hash_map::Entry;\n+\n+use anyhow::{Context, Result, bail};\n+use rustc_hash::{FxHashMap, FxHashSet};\n+use tracing::Instrument;\n+use turbo_tasks::{\n+    FxIndexMap, FxIndexSet, ResolvedVc, TryFlatJoinIterExt, TryJoinIterExt, ValueToString, Vc,\n+};\n+\n+use crate::{\n+    chunk::{\n+        ChunkableModule, ChunkingType, MergeableModule, MergeableModuleExposure, MergeableModules,\n+        MergeableModulesExposed,\n+    },\n+    module::Module,\n+    module_graph::{\n+        GraphTraversalAction, ModuleGraph, RefData, SingleModuleGraphModuleNode,\n+        chunk_group_info::RoaringBitmapWrapper,\n+    },\n+    resolve::ExportUsage,\n+};\n+\n+#[turbo_tasks::value]\n+pub struct MergedModuleInfo {\n+    /// A map of modules to the merged module containing the module plus additional modules.\n+    #[allow(clippy::type_complexity)]\n+    pub replacements: FxHashMap<ResolvedVc<Box<dyn Module>>, ResolvedVc<Box<dyn ChunkableModule>>>,\n+    /// A map of replacement modules to their corresponding chunk group info (which is the same as\n+    /// the chunk group info of the original module it replaced).\n+    #[allow(clippy::type_complexity)]\n+    pub replacements_to_original:\n+        FxHashMap<ResolvedVc<Box<dyn Module>>, ResolvedVc<Box<dyn Module>>>,\n+    /// A map of modules that are already contained as values in replacements.\n+    pub included: FxHashSet<ResolvedVc<Box<dyn Module>>>,\n+}\n+\n+impl MergedModuleInfo {\n+    /// Whether the given module should be replaced with a merged module.\n+    pub fn should_replace_module(\n+        &self,\n+        module: ResolvedVc<Box<dyn Module>>,\n+    ) -> Option<ResolvedVc<Box<dyn ChunkableModule>>> {\n+        self.replacements.get(&module).copied()\n+    }\n+\n+    /// Returns the original module for the given replacement module (useful for retrieving the\n+    /// chunk group info).\n+    pub fn get_original_module(\n+        &self,\n+        module: ResolvedVc<Box<dyn Module>>,\n+    ) -> Option<ResolvedVc<Box<dyn Module>>> {\n+        self.replacements_to_original.get(&module).copied()\n+    }\n+\n+    // Whether the given module should be skipped during chunking, as it is already included in a\n+    // module returned by some `should_replace_module` call.\n+    pub fn should_create_chunk_item_for(&self, module: ResolvedVc<Box<dyn Module>>) -> bool {\n+        !self.included.contains(&module)\n+    }\n+}\n+\n+/// Determine which modules can be merged together:\n+/// - if all chunks execute a sequence of modules in the same order, they can be merged together and\n+///   treated as one.\n+/// - if a merged module has an incoming edge not contained in the group, it has to expose its\n+///   exports into the module cache.\n+pub async fn compute_merged_modules(module_graph: Vc<ModuleGraph>) -> Result<Vc<MergedModuleInfo>> {\n+    let span_outer = tracing::info_span!(\n+        \"compute merged modules\",\n+        module_count = tracing::field::Empty,\n+        visit_count = tracing::field::Empty,\n+        merged_groups = tracing::field::Empty,\n+        included_modules = tracing::field::Empty\n+    );\n+\n+    let span = span_outer.clone();\n+    async move {\n+        let async_module_info = module_graph.async_module_info().await?;\n+        let chunk_group_info = module_graph.chunk_group_info().await?;\n+        let module_graph = module_graph.await?;\n+\n+        let graphs = module_graph.graphs.iter().try_join().await?;\n+        let module_count = graphs.iter().map(|g| g.graph.node_count()).sum::<usize>();\n+        span.record(\"module_count\", module_count);\n+\n+        // Use all entries from all graphs\n+        let entries = graphs\n+            .iter()\n+            .flat_map(|g| g.entries.iter())\n+            .flat_map(|g| g.entries())\n+            .collect::<Vec<_>>();\n+\n+        // For each module, the indices in the bitmap store which merge group entry modules\n+        // transitively import that module. The bitmap can be treated as an opaque value, merging\n+        // all modules with the same bitmap.\n+        let mut module_merged_groups: FxHashMap<ResolvedVc<Box<dyn Module>>, RoaringBitmapWrapper> =\n+            FxHashMap::with_capacity_and_hasher(module_count, Default::default());\n+        // Entries that started a new merge group for some deopt reason\n+        let mut entry_modules =\n+            FxHashSet::with_capacity_and_hasher(module_count, Default::default());\n+\n+        let mergeable = graphs\n+            .iter()\n+            .flat_map(|g| g.iter_nodes())\n+            .map(async |n| {\n+                let module = n.module;\n+                if let Some(mergeable) =\n+                    ResolvedVc::try_downcast::<Box<dyn MergeableModule>>(module)\n+                    && *mergeable.is_mergeable().await?\n+                {\n+                    return Ok(Some(module));\n+                }\n+                Ok(None)\n+            })\n+            .try_flat_join()\n+            .await?\n+            .into_iter()\n+            .collect::<FxHashSet<_>>();\n+\n+        let mut next_index = 0u32;\n+        let visit_count = module_graph\n+            .traverse_edges_fixed_point_with_priority(\n+                entries.iter().map(|e| (*e, 0)),\n+                &mut (),\n+                |parent_info: Option<(&'_ SingleModuleGraphModuleNode, &'_ RefData)>,\n+                 node: &'_ SingleModuleGraphModuleNode,\n+                 _|\n+                 -> Result<GraphTraversalAction> {\n+                    // On the down traversal, establish which edges are mergable and set the list\n+                    // indices.\n+                    let (parent_module, hoisted) =\n+                        parent_info.map_or((None, false), |(node, ty)| {\n+                            (\n+                                Some(node.module),\n+                                match &ty.chunking_type {\n+                                    ChunkingType::Parallel { hoisted, .. } => *hoisted,\n+                                    _ => false,\n+                                },\n+                            )\n+                        });\n+                    let module = node.module;\n+\n+                    Ok(if parent_module.is_some_and(|p| p == module) {\n+                        // A self-reference\n+                        GraphTraversalAction::Skip\n+                    } else if hoisted\n+                        && let Some(parent_module) = parent_module\n+                        && mergeable.contains(&parent_module)\n+                        && mergeable.contains(&module)\n+                        && !async_module_info.contains(&parent_module)\n+                        && !async_module_info.contains(&module)\n+                    {\n+                        // ^ TODO technically we could merge a sync child into an async parent\n+\n+                        // A hoisted reference from a mergeable module to a non-async mergeable\n+                        // module, inherit bitmaps from parent.\n+                        module_merged_groups.entry(node.module).or_default();\n+                        let [Some(parent_merged_groups), Some(current_merged_groups)] =\n+                            module_merged_groups.get_disjoint_mut([&parent_module, &node.module])\n+                        else {\n+                            // All modules are inserted in the previous iteration\n+                            bail!(\"unreachable except for eventual consistency\");\n+                        };\n+\n+                        if current_merged_groups.is_empty() {\n+                            // Initial visit, clone instead of merging\n+                            *current_merged_groups = parent_merged_groups.clone();\n+                            GraphTraversalAction::Continue\n+                        } else if parent_merged_groups.is_proper_superset(current_merged_groups) {\n+                            // Add bits from parent, and continue traversal because changed\n+                            **current_merged_groups |= &**parent_merged_groups;\n+                            GraphTraversalAction::Continue\n+                        } else {\n+                            // Unchanged, no need to forward to children\n+                            GraphTraversalAction::Skip\n+                        }\n+                    } else {\n+                        // Either a non-hoisted reference or an incompatible parent or child module\n+\n+                        if entry_modules.insert(module) {\n+                            // Not assigned a new group before, create a new one.\n+                            let idx = next_index;\n+                            next_index += 1;\n+\n+                            if module_merged_groups.entry(module).or_default().insert(idx) {\n+                                // Mark and continue traversal because modified (or first visit)\n+                                GraphTraversalAction::Continue\n+                            } else {\n+                                // Unchanged, no need to forward to children\n+                                GraphTraversalAction::Skip\n+                            }\n+                        } else {\n+                            // Already visited and assigned a new group, no need to forward to\n+                            // children.\n+                            GraphTraversalAction::Skip\n+                        }\n+                    })\n+                },\n+                |_, _| Ok(0),\n+            )\n+            .await?;\n+\n+        span.record(\"visit_count\", visit_count);\n+\n+        #[derive(Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]\n+        struct ListOccurence {\n+            // The field order here is important, these structs will get ordered by the entry\n+            // index.\n+            entry: usize,\n+            list: usize,\n+        }\n+\n+        // A list of all different execution traces (orderings) of all modules, initially a union of\n+        // the partition of each chunk's modules (one for each ESM subtree in each chunks), but\n+        // further split up later on.\n+        let mut lists = vec![];\n+        let mut lists_reverse_indices: FxIndexMap<\n+            ResolvedVc<Box<dyn MergeableModule>>,\n+            FxIndexSet<ListOccurence>,\n+        > = FxIndexMap::default();\n+\n+        // A map of all references between modules with the same bitmap. These are all references,\n+        // including reexecution edges and cycles. Used to expose additional modules if the\n+        // bitmap-groups are split up further.\n+        #[allow(clippy::type_complexity)]\n+        let mut intra_group_references: FxIndexMap<\n+            ResolvedVc<Box<dyn Module>>,\n+            FxIndexSet<ResolvedVc<Box<dyn Module>>>,\n+        > = FxIndexMap::default();\n+        // A map of all references between modules with the same bitmap. These are only the\n+        // references relevant for execution (ignoring cycles), to find the entries of a group.\n+        #[allow(clippy::type_complexity)]\n+        let mut intra_group_references_rev: FxIndexMap<\n+            ResolvedVc<Box<dyn Module>>,\n+            FxIndexSet<ResolvedVc<Box<dyn Module>>>,\n+        > = FxIndexMap::default();\n+\n+        // TODO try to parallelize this loop somehow\n+        for chunk_group in &chunk_group_info.chunk_groups {\n+            // A partition of all modules in the chunk into several execution traces (orderings),\n+            // stored in the top-level lists and referenced here by index.\n+            let mut chunk_lists: FxHashMap<&RoaringBitmapWrapper, usize> =\n+                FxHashMap::with_capacity_and_hasher(\n+                    module_merged_groups.len() / chunk_group_info.chunk_groups.len(),\n+                    Default::default(),\n+                );\n+\n+            // This is necessary to have the correct order with cycles: a `a -> b -> a` graph would\n+            // otherwise be visited as `b->a`, `a->b`, leading to the list `a, b` which is not\n+            // execution order.\n+            let mut visited = FxHashSet::default();\n+\n+            module_graph\n+                .traverse_edges_from_entries_topological(\n+                    chunk_group.entries(),\n+                    &mut (),\n+                    |parent_info, node, _| {\n+                        if parent_info.is_none_or(|(_, r)| r.chunking_type.is_parallel())\n+                            && visited.insert(node.module)\n+                        {\n+                            Ok(GraphTraversalAction::Continue)\n+                        } else {\n+                            Ok(GraphTraversalAction::Exclude)\n+                        }\n+                    },\n+                    |parent_info, node, _| {\n+                        let module = node.module;\n+                        let bitmap = module_merged_groups\n+                            .get(&module)\n+                            .context(\"every module should have a bitmap at this point\")?;\n+\n+                        if mergeable.contains(&module) {\n+                            let mergeable_module =\n+                                ResolvedVc::try_downcast::<Box<dyn MergeableModule>>(module)\n+                                    .unwrap();\n+                            match chunk_lists.entry(bitmap) {\n+                                Entry::Vacant(e) => {\n+                                    // New list, insert the module\n+                                    let idx = lists.len();\n+                                    e.insert(idx);\n+                                    lists.push(vec![mergeable_module]);\n+                                    lists_reverse_indices\n+                                        .entry(mergeable_module)\n+                                        .or_default()\n+                                        .insert(ListOccurence {\n+                                            list: idx,\n+                                            entry: 0,\n+                                        });\n+                                }\n+                                Entry::Occupied(e) => {\n+                                    let list_idx = *e.get();\n+                                    let list = &mut lists[list_idx];\n+                                    list.push(mergeable_module);\n+                                    lists_reverse_indices\n+                                        .entry(mergeable_module)\n+                                        .or_default()\n+                                        .insert(ListOccurence {\n+                                            list: list_idx,\n+                                            entry: list.len() - 1,\n+                                        });\n+                                }\n+                            }\n+                        }\n+\n+                        if let Some((parent, _)) = parent_info {\n+                            let same_bitmap = module_merged_groups.get(&parent.module).unwrap()\n+                                == module_merged_groups.get(&module).unwrap();\n+\n+                            if same_bitmap {\n+                                intra_group_references_rev\n+                                    .entry(module)\n+                                    .or_default()\n+                                    .insert(parent.module);\n+                            }\n+                        }\n+                        Ok(())\n+                    },\n+                )\n+                .await?;\n+        }\n+\n+        // We use list.pop() below, so reverse order using negation\n+        lists_reverse_indices\n+            .sort_by_cached_key(|_, b| b.iter().map(|o| o.entry).min().map(|v| -(v as i64)));\n+\n+        // Modules that are referenced from outside the group, so their exports need to be exposed.\n+        // Initially these are set based on the bitmaps (and namespace imports), but more modules\n+        // might need to be exposed if the lists are split up further below.\n+        let mut exposed_modules_imported: FxHashSet<ResolvedVc<Box<dyn Module>>> =\n+            FxHashSet::with_capacity_and_hasher(module_merged_groups.len(), Default::default());\n+        let mut exposed_modules_namespace: FxHashSet<ResolvedVc<Box<dyn Module>>> =\n+            FxHashSet::with_capacity_and_hasher(module_merged_groups.len(), Default::default());\n+\n+        module_graph\n+            .traverse_edges_from_entries_topological(\n+                entries,\n+                &mut (),\n+                |_, _, _| Ok(GraphTraversalAction::Continue),\n+                |parent_info, node, _| {\n+                    let module = node.module;\n+\n+                    if let Some((parent, _)) = parent_info {\n+                        let same_bitmap = module_merged_groups.get(&parent.module).unwrap()\n+                            == module_merged_groups.get(&module).unwrap();\n+\n+                        if same_bitmap {\n+                            intra_group_references\n+                                .entry(parent.module)\n+                                .or_default()\n+                                .insert(module);\n+                        }\n+                    }\n+\n+                    if parent_info.is_none_or(|(parent, _)| {\n+                        module_merged_groups.get(&parent.module).unwrap()\n+                            != module_merged_groups.get(&module).unwrap()\n+                    }) {\n+                        // This module needs to be exposed:\n+                        // - referenced from another group or\n+                        // - an entry module (TODO assume it will be required for Node/Edge, but not\n+                        // necessarily needed for browser),\n+                        exposed_modules_imported.insert(module);\n+                    }\n+                    if parent_info.is_some_and(|(_, r)| matches!(r.export, ExportUsage::All)) {\n+                        // This module needs to be exposed:\n+                        // - namespace import from another group\n+                        exposed_modules_namespace.insert(module);\n+                    }\n+                    Ok(())\n+                },\n+            )\n+            .await?;\n+\n+        while let Some((_, common_occurences)) = lists_reverse_indices.pop() {\n+            if common_occurences.len() < 2 {\n+                // Module exists only in one list, no need to split\n+                continue;\n+            }\n+            // The module occurs in multiple lists, which need to split up so that there is exactly\n+            // one list containing the module.\n+\n+            let first_occurence = &common_occurences[0];\n+\n+            // Find the longest common sequence in the lists, starting from the given module.\n+            let mut common_length = 2;\n+            loop {\n+                let m = lists[first_occurence.list].get(first_occurence.entry + common_length - 1);\n+                if m.is_some()\n+                    && common_occurences\n+                        .iter()\n+                        .skip(1)\n+                        .all(|ListOccurence { list, entry }| {\n+                            lists[*list].get(*entry + common_length - 1) == m\n+                        })\n+                {\n+                    common_length += 1;\n+                    continue;\n+                }\n+\n+                // Went one too far, the common length is what the previous iteration verified\n+                common_length -= 1;\n+                break;\n+            }\n+\n+            // Split into three lists:\n+            // - \"common\" [occurrence.entry .. occurrence.entry + common_length) -- same for all\n+            // - \"before\" [0 .. occurrence.entry)\n+            // - \"after\"  [occurrence.entry + common_length .. ]\n+            let common_list = lists[first_occurence.list]\n+                [first_occurence.entry..first_occurence.entry + common_length]\n+                .to_vec();\n+\n+            let common_list_index = lists.len();\n+            lists.push(common_list.clone());\n+\n+            // Insert occurences for the \"common\" list, skip the first because that is now\n+            // guaranteed to exist only once\n+            for (i, &m) in common_list.iter().enumerate().skip(1) {\n+                let occurrences = lists_reverse_indices.get_mut(&m).unwrap();\n+                for common_occurrence in &common_occurences {\n+                    let removed = occurrences.swap_remove(&ListOccurence {\n+                        list: common_occurrence.list,\n+                        entry: common_occurrence.entry + i,\n+                    });\n+                    debug_assert!(removed);\n+                }\n+                occurrences.insert(ListOccurence {\n+                    list: common_list_index,\n+                    entry: i,\n+                });\n+            }\n+\n+            for common_occurrence in &common_occurences {\n+                let list = &mut lists[common_occurrence.list];\n+                let after_list = list.split_off(common_occurrence.entry + common_length);\n+                list.truncate(common_occurrence.entry);\n+                let before_list = &*list;\n+\n+                // For all previously merged references that exist from \"after\" to \"common\"/\"before\"\n+                // and from \"common\" to \"before\", mark the referenced modules as exposed.\n+                for m in &common_list {\n+                    let m = ResolvedVc::upcast(*m);\n+                    if let Some(refs) = intra_group_references.get(&m) {\n+                        exposed_modules_imported.extend(\n+                            before_list\n+                                .iter()\n+                                .map(|n| ResolvedVc::upcast(*n))\n+                                .filter(|n| refs.contains(n)),\n+                        );\n+                    }\n+                }\n+                for m in &after_list {\n+                    let m = ResolvedVc::upcast(*m);\n+                    if let Some(refs) = intra_group_references.get(&m) {\n+                        exposed_modules_imported.extend(\n+                            before_list\n+                                .iter()\n+                                .chain(common_list.iter())\n+                                .map(|n| ResolvedVc::upcast(*n))\n+                                .filter(|n| refs.contains(n)),\n+                        );\n+                    }\n+                }\n+\n+                // The occurences for the \"before\" list (`list`) are still valid, need to update the\n+                // occurences for the \"after\" list\n+                if !after_list.is_empty() {\n+                    let after_index = lists.len();\n+                    lists.push(after_list.clone());\n+                    for (i, &m) in after_list.iter().enumerate() {\n+                        let occurrences = lists_reverse_indices\n+                            .get_mut(&m)\n+                            .context(format!(\"{:?}\", m.ident().to_string().await?))?;\n+\n+                        let removed = occurrences.swap_remove(&ListOccurence {\n+                            list: common_occurrence.list,\n+                            entry: common_occurrence.entry + common_length + i,\n+                        });\n+                        debug_assert!(removed);\n+\n+                        occurrences.insert(ListOccurence {\n+                            list: after_index,\n+                            entry: i,\n+                        });\n+                    }\n+                }\n+            }\n+        }\n+\n+        // Dedupe the lists\n+        let lists = lists.into_iter().collect::<FxHashSet<_>>();\n+\n+        // Call MergeableModule impl to merge the modules.\n+        let result = lists\n+            .into_iter()\n+            .map(async |list| {\n+                if list.len() < 2 {\n+                    // Nothing to merge\n+                    return Ok(None);\n+                }\n+\n+                let list_set = list\n+                    .iter()\n+                    .map(|&m| ResolvedVc::upcast::<Box<dyn Module>>(m))\n+                    .collect::<FxIndexSet<_>>();\n+\n+                let entry_points = list\n+                    .iter()\n+                    .filter(|m| {\n+                        intra_group_references_rev\n+                            .get(&ResolvedVc::upcast(**m))\n+                            .is_none_or(|refs| refs.is_disjoint(&list_set))\n+                    })\n+                    .map(|m| **m)\n+                    .collect::<Vec<_>>();\n+                debug_assert_ne!(entry_points.len(), 0);\n+\n+                let list_exposed = list\n+                    .iter()\n+                    .map(|&m| {\n+                        (\n+                            m,\n+                            if exposed_modules_imported.contains(&ResolvedVc::upcast(m)) {\n+                                MergeableModuleExposure::External\n+                            } else if exposed_modules_namespace.contains(&ResolvedVc::upcast(m)) {\n+                                MergeableModuleExposure::Internal\n+                            } else {\n+                                MergeableModuleExposure::None\n+                            },\n+                        )\n+                    })\n+                    .collect::<Vec<_>>();\n+\n+                let entry = *list.last().unwrap();\n+                let result = entry\n+                    .merge(\n+                        MergeableModulesExposed::interned(list_exposed),\n+                        MergeableModules::interned(entry_points),\n+                    )\n+                    .to_resolved()\n+                    .await?;\n+\n+                let list_len = list.len();\n+                Ok(Some((\n+                    ResolvedVc::upcast::<Box<dyn Module>>(entry),\n+                    result,\n+                    list.into_iter()\n+                        .take(list_len - 1)\n+                        .map(ResolvedVc::upcast::<Box<dyn Module>>)\n+                        .collect::<Vec<_>>(),\n+                )))\n+            })\n+            .try_join()\n+            .await?;\n+\n+        #[allow(clippy::type_complexity)]\n+        let mut replacements: FxHashMap<\n+            ResolvedVc<Box<dyn Module>>,\n+            ResolvedVc<Box<dyn ChunkableModule>>,\n+        > = Default::default();\n+        #[allow(clippy::type_complexity)]\n+        let mut replacements_to_original: FxHashMap<\n+            ResolvedVc<Box<dyn Module>>,\n+            ResolvedVc<Box<dyn Module>>,\n+        > = Default::default();\n+        let mut included: FxHashSet<ResolvedVc<Box<dyn Module>>> = FxHashSet::default();\n+\n+        for (original, replacement, replacement_included) in result.into_iter().flatten() {\n+            replacements.insert(original, replacement);\n+            replacements_to_original.insert(ResolvedVc::upcast(replacement), original);\n+            included.extend(replacement_included);\n+        }\n+\n+        span.record(\"merged_groups\", replacements.len());\n+        span.record(\"included_modules\", included.len());\n+\n+        Ok(MergedModuleInfo {\n+            replacements,\n+            replacements_to_original,\n+            included,\n+        }\n+        .cell())\n+    }\n+    .instrument(span_outer)\n+    .await\n+}"
        },
        {
            "sha": "6f70c5ed37a9cd5ca3d80ad71f5a890b3bad9c83",
            "filename": "turbopack/crates/turbopack-core/src/module_graph/mod.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmod.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -32,6 +32,7 @@ use crate::{\n     module_graph::{\n         async_module_info::{AsyncModulesInfo, compute_async_module_info},\n         chunk_group_info::{ChunkGroupEntry, ChunkGroupInfo, compute_chunk_group_info},\n+        merged_modules::{MergedModuleInfo, compute_merged_modules},\n         module_batches::{ModuleBatchesGraph, compute_module_batches},\n         style_groups::{StyleGroups, StyleGroupsConfig, compute_style_groups},\n         traced_di_graph::{TracedDiGraph, iter_neighbors_rev},\n@@ -42,6 +43,7 @@ use crate::{\n \n pub mod async_module_info;\n pub mod chunk_group_info;\n+pub mod merged_modules;\n pub mod module_batch;\n pub(crate) mod module_batches;\n pub(crate) mod style_groups;\n@@ -992,6 +994,11 @@ impl ModuleGraph {\n         compute_chunk_group_info(self).await\n     }\n \n+    #[turbo_tasks::function]\n+    pub async fn merged_modules(self: Vc<Self>) -> Result<Vc<MergedModuleInfo>> {\n+        compute_merged_modules(self).await\n+    }\n+\n     #[turbo_tasks::function]\n     pub async fn module_batches(\n         self: Vc<Self>,"
        },
        {
            "sha": "f165140eae88ef4e90b642b8d401a31633d48e40",
            "filename": "turbopack/crates/turbopack-css/src/module_asset.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fmodule_asset.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fmodule_asset.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fmodule_asset.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -423,7 +423,7 @@ fn generate_minimal_source_map(filename: String, source: String) -> Result<Rope>\n     }\n     let sm: Arc<SourceMap> = Default::default();\n     sm.new_source_file(FileName::Custom(filename).into(), source);\n-    let map = generate_js_source_map(sm, mappings, None, true)?;\n+    let map = generate_js_source_map(&*sm, mappings, None, true, true)?;\n     Ok(map)\n }\n "
        },
        {
            "sha": "71a2ea5308faf38feec6c6a36cc08bc96cd04898",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/js/src/browser/runtime/base/build-base.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fbuild-base.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fbuild-base.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fbuild-base.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -109,10 +109,10 @@ function instantiateModule(id: ModuleId, source: SourceInfo): Module {\n         t: runtimeRequire,\n         f: moduleContext,\n         i: esmImport.bind(null, module),\n-        s: esmExport.bind(null, module, module.exports),\n-        j: dynamicExport.bind(null, module, module.exports),\n-        v: exportValue.bind(null, module),\n-        n: exportNamespace.bind(null, module),\n+        s: esmExport.bind(null, module, module.exports, moduleCache),\n+        j: dynamicExport.bind(null, module, module.exports, moduleCache),\n+        v: exportValue.bind(null, module, moduleCache),\n+        n: exportNamespace.bind(null, module, moduleCache),\n         m: module,\n         c: moduleCache,\n         M: moduleFactories,"
        },
        {
            "sha": "296efdd325c8872d1cf13d6ee670bbcf7fed961f",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/js/src/browser/runtime/base/dev-base.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fdev-base.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fdev-base.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fdev-base.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -43,7 +43,7 @@ interface TurbopackDevContext extends TurbopackDevBaseContext {}\n type ModuleFactory = (\n   this: Module['exports'],\n   context: TurbopackDevBaseContext\n-) => undefined\n+) => unknown\n \n interface DevRuntimeBackend {\n   reloadChunk?: (chunkUrl: ChunkUrl) => Promise<void>\n@@ -205,10 +205,10 @@ function instantiateModule(id: ModuleId, source: SourceInfo): Module {\n           t: runtimeRequire,\n           f: moduleContext,\n           i: esmImport.bind(null, module),\n-          s: esmExport.bind(null, module, module.exports),\n-          j: dynamicExport.bind(null, module, module.exports),\n-          v: exportValue.bind(null, module),\n-          n: exportNamespace.bind(null, module),\n+          s: esmExport.bind(null, module, module.exports, devModuleCache),\n+          j: dynamicExport.bind(null, module, module.exports, devModuleCache),\n+          v: exportValue.bind(null, module, devModuleCache),\n+          n: exportNamespace.bind(null, module, devModuleCache),\n           m: module,\n           c: devModuleCache,\n           M: moduleFactories,"
        },
        {
            "sha": "4dada0e519f20defa74f2857df3455bfca6e4601",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/js/src/browser/runtime/base/runtime-base.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fruntime-base.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fruntime-base.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fbrowser%2Fruntime%2Fbase%2Fruntime-base.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -31,7 +31,7 @@ type RuntimeParams = {\n \n type ChunkRegistration = [\n   chunkPath: ChunkScript,\n-  chunkModules: ModuleFactories,\n+  chunkModules: CompressedModuleFactories,\n   params: RuntimeParams | undefined,\n ]\n \n@@ -361,7 +361,15 @@ function registerChunk([\n   const chunkPath = getPathFromScript(chunkScript)\n   for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\n     if (!moduleFactories[moduleId]) {\n-      moduleFactories[moduleId] = moduleFactory\n+      if (Array.isArray(moduleFactory)) {\n+        let [moduleFactoryFn, otherIds] = moduleFactory\n+        moduleFactories[moduleId] = moduleFactoryFn\n+        for (const otherModuleId of otherIds) {\n+          moduleFactories[otherModuleId] = moduleFactoryFn\n+        }\n+      } else {\n+        moduleFactories[moduleId] = moduleFactory\n+      }\n     }\n     addModuleToChunk(moduleId, chunkPath)\n   }"
        },
        {
            "sha": "5906ddf04d2ae568618f52b3868566a71c6d6db5",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/js/src/nodejs/runtime.ts",
            "status": "modified",
            "additions": 25,
            "deletions": 23,
            "changes": 48,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fnodejs%2Fruntime.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fnodejs%2Fruntime.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fnodejs%2Fruntime.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -56,7 +56,7 @@ interface TurbopackNodeBuildContext extends TurbopackBaseContext<Module> {\n type ModuleFactory = (\n   this: Module['exports'],\n   context: TurbopackNodeBuildContext\n-) => undefined\n+) => unknown\n \n const url = require('url') as typeof import('url')\n const fs = require('fs/promises') as typeof import('fs/promises')\n@@ -107,11 +107,19 @@ function loadChunkPath(chunkPath: ChunkPath, source?: SourceInfo): void {\n \n   try {\n     const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\n-    const chunkModules: ModuleFactories = require(resolved)\n+    const chunkModules: CompressedModuleFactories = require(resolved)\n \n     for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\n       if (!moduleFactories[moduleId]) {\n-        moduleFactories[moduleId] = moduleFactory\n+        if (Array.isArray(moduleFactory)) {\n+          let [moduleFactoryFn, otherIds] = moduleFactory\n+          moduleFactories[moduleId] = moduleFactoryFn\n+          for (const otherModuleId of otherIds) {\n+            moduleFactories[otherModuleId] = moduleFactoryFn\n+          }\n+        } else {\n+          moduleFactories[moduleId] = moduleFactory\n+        }\n       }\n     }\n     loadedChunks.add(chunkPath)\n@@ -165,10 +173,18 @@ async function loadChunkAsync(\n         url.pathToFileURL(resolved)\n     )(module, module.exports, localRequire, path.dirname(resolved), resolved)\n \n-    const chunkModules: ModuleFactories = module.exports\n+    const chunkModules: CompressedModuleFactories = module.exports\n     for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\n       if (!moduleFactories[moduleId]) {\n-        moduleFactories[moduleId] = moduleFactory\n+        if (Array.isArray(moduleFactory)) {\n+          let [moduleFactoryFn, otherIds] = moduleFactory\n+          moduleFactories[moduleId] = moduleFactoryFn\n+          for (const otherModuleId of otherIds) {\n+            moduleFactories[otherModuleId] = moduleFactoryFn\n+          }\n+        } else {\n+          moduleFactories[moduleId] = moduleFactory\n+        }\n       }\n     }\n     loadedChunks.add(chunkPath)\n@@ -235,20 +251,6 @@ function instantiateModule(id: ModuleId, source: SourceInfo): Module {\n     )\n   }\n \n-  let parents: ModuleId[]\n-  switch (source.type) {\n-    case SourceType.Runtime:\n-      parents = []\n-      break\n-    case SourceType.Parent:\n-      // No need to add this module as a child of the parent module here, this\n-      // has already been taken care of in `getOrInstantiateModuleFromParent`.\n-      parents = [source.parentId]\n-      break\n-    default:\n-      invariant(source, (source) => `Unknown source type: ${source?.type}`)\n-  }\n-\n   const module: Module = {\n     exports: {},\n     error: undefined,\n@@ -270,10 +272,10 @@ function instantiateModule(id: ModuleId, source: SourceInfo): Module {\n       y: externalImport,\n       f: moduleContext,\n       i: esmImport.bind(null, module),\n-      s: esmExport.bind(null, module, module.exports),\n-      j: dynamicExport.bind(null, module, module.exports),\n-      v: exportValue.bind(null, module),\n-      n: exportNamespace.bind(null, module),\n+      s: esmExport.bind(null, module, module.exports, moduleCache),\n+      j: dynamicExport.bind(null, module, module.exports, moduleCache),\n+      v: exportValue.bind(null, module, moduleCache),\n+      n: exportNamespace.bind(null, module, moduleCache),\n       m: module,\n       c: moduleCache,\n       M: moduleFactories,"
        },
        {
            "sha": "89f79ab8d5e7300e62775cc61c57398aec0f5a3b",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/js/src/shared/runtime-types.d.ts",
            "status": "modified",
            "additions": 18,
            "deletions": 5,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fshared%2Fruntime-types.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fshared%2Fruntime-types.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fshared%2Fruntime-types.d.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -13,6 +13,7 @@ type ChunkListScript = CurrentScript & { readonly brand: unique symbol }\n type ChunkPath = string & { readonly brand: unique symbol }\n type ChunkScript = CurrentScript & { readonly brand: unique symbol }\n type ChunkUrl = string & { readonly brand: unique symbol }\n+// TODO this should actually be `string | number`\n type ModuleId = string\n \n interface Exports {\n@@ -36,10 +37,16 @@ type EsmImport = (\n   moduleId: ModuleId,\n   allowExportDefault: boolean\n ) => EsmNamespaceObject | Promise<EsmNamespaceObject>\n-type EsmExport = (exportGetters: Record<string, () => any>) => void\n-type ExportValue = (value: any) => void\n-type ExportNamespace = (namespace: any) => void\n-type DynamicExport = (object: Record<string, any>) => void\n+type EsmExport = (\n+  exportGetters: Record<string, () => any>,\n+  id: ModuleId | undefined\n+) => void\n+type ExportValue = (value: any, id: ModuleId | undefined) => void\n+type ExportNamespace = (namespace: any, id: ModuleId | undefined) => void\n+type DynamicExport = (\n+  object: Record<string, any>,\n+  id: ModuleId | undefined\n+) => void\n \n type LoadChunk = (chunkPath: ChunkPath) => Promise<any> | undefined\n type LoadChunkByUrl = (chunkUrl: ChunkUrl) => Promise<any> | undefined\n@@ -54,7 +61,13 @@ type LoadWebAssemblyModule = (\n ) => WebAssembly.Module\n \n type ModuleCache<M> = Record<ModuleId, M>\n-type ModuleFactories = Record<ModuleId, unknown>\n+// TODO properly type values here\n+type ModuleFactories = Record<ModuleId, Function>\n+// The value is an array with scope hoisting\n+type CompressedModuleFactories = Record<\n+  ModuleId,\n+  Function | [Function, ModuleId[]]\n+>\n \n type RelativeURL = (inputUrl: string) => void\n type ResolvePathFromModule = (moduleId: string) => string"
        },
        {
            "sha": "6c967f87491a5b66ca4f0c252ed54037e5f3a75e",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/js/src/shared/runtime-utils.ts",
            "status": "modified",
            "additions": 52,
            "deletions": 4,
            "changes": 56,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fshared%2Fruntime-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fshared%2Fruntime-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fjs%2Fsrc%2Fshared%2Fruntime-utils.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -59,6 +59,26 @@ function defineProp(\n   if (!hasOwnProperty.call(obj, name)) Object.defineProperty(obj, name, options)\n }\n \n+function getOverwrittenModule(\n+  moduleCache: ModuleCache<Module>,\n+  id: ModuleId\n+): Module {\n+  let module = moduleCache[id]\n+  if (!module) {\n+    // This is invoked when a module is merged into another module, thus it wasn't invoked via\n+    // instantiateModule and the cache entry wasn't created yet.\n+    module = {\n+      exports: {},\n+      error: undefined,\n+      loaded: false,\n+      id,\n+      namespaceObject: undefined,\n+    }\n+    moduleCache[id] = module\n+  }\n+  return module\n+}\n+\n /**\n  * Adds the getters to the exports object.\n  */\n@@ -89,8 +109,14 @@ function esm(\n function esmExport(\n   module: Module,\n   exports: Exports,\n-  getters: Record<string, () => any>\n+  moduleCache: ModuleCache<Module>,\n+  getters: Record<string, () => any>,\n+  id: ModuleId | undefined\n ) {\n+  if (id != null) {\n+    module = getOverwrittenModule(moduleCache, id)\n+    exports = module.exports\n+  }\n   module.namespaceObject = module.exports\n   esm(exports, getters)\n }\n@@ -134,20 +160,42 @@ function ensureDynamicExports(module: Module, exports: Exports) {\n function dynamicExport(\n   module: Module,\n   exports: Exports,\n-  object: Record<string, any>\n+  moduleCache: ModuleCache<Module>,\n+  object: Record<string, any>,\n+  id: ModuleId | undefined\n ) {\n+  if (id != null) {\n+    module = getOverwrittenModule(moduleCache, id)\n+    exports = module.exports\n+  }\n   ensureDynamicExports(module, exports)\n \n   if (typeof object === 'object' && object !== null) {\n     module[REEXPORTED_OBJECTS]!.push(object)\n   }\n }\n \n-function exportValue(module: Module, value: any) {\n+function exportValue(\n+  module: Module,\n+  moduleCache: ModuleCache<Module>,\n+  value: any,\n+  id: ModuleId | undefined\n+) {\n+  if (id != null) {\n+    module = getOverwrittenModule(moduleCache, id)\n+  }\n   module.exports = value\n }\n \n-function exportNamespace(module: Module, namespace: any) {\n+function exportNamespace(\n+  module: Module,\n+  moduleCache: ModuleCache<Module>,\n+  namespace: any,\n+  id: ModuleId | undefined\n+) {\n+  if (id != null) {\n+    module = getOverwrittenModule(moduleCache, id)\n+  }\n   module.exports = module.namespaceObject = namespace\n }\n "
        },
        {
            "sha": "472cf85dd526cd2fed74e7575e6fcf9e3cdbc81b",
            "filename": "turbopack/crates/turbopack-ecmascript/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -21,6 +21,7 @@ data-encoding = { workspace = true }\n either = { workspace = true }\n indexmap = { workspace = true }\n indoc = { workspace = true }\n+itertools = { workspace = true }\n num-bigint = \"0.4\"\n num-traits = \"0.2.15\"\n once_cell = { workspace = true }"
        },
        {
            "sha": "1ddf46914e79260fbb5fc6bf49d3a0c0c18e8e0b",
            "filename": "turbopack/crates/turbopack-ecmascript/src/chunk/item.rs",
            "status": "modified",
            "additions": 17,
            "deletions": 8,
            "changes": 25,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fchunk%2Fitem.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -2,13 +2,15 @@ use std::io::Write;\n \n use anyhow::{Result, bail};\n use serde::{Deserialize, Serialize};\n+use smallvec::SmallVec;\n use turbo_rcstr::rcstr;\n use turbo_tasks::{\n-    NonLocalValue, ResolvedVc, TaskInput, Upcast, ValueToString, Vc, trace::TraceRawVcs,\n+    NonLocalValue, ResolvedVc, TaskInput, TryJoinIterExt, Upcast, ValueToString, Vc,\n+    trace::TraceRawVcs,\n };\n use turbo_tasks_fs::{FileSystemPath, rope::Rope};\n use turbopack_core::{\n-    chunk::{AsyncModuleInfo, ChunkItem, ChunkItemWithAsyncModuleInfo, ChunkingContext},\n+    chunk::{AsyncModuleInfo, ChunkItem, ChunkItemWithAsyncModuleInfo, ChunkingContext, ModuleId},\n     code_builder::{Code, CodeBuilder},\n     error::PrettyPrintError,\n     issue::{IssueExt, IssueSeverity, StyledString, code_gen::CodeGenerationIssue},\n@@ -18,14 +20,15 @@ use turbopack_core::{\n use crate::{\n     EcmascriptModuleContent, EcmascriptOptions,\n     references::async_module::{AsyncModuleOptions, OptionAsyncModuleOptions},\n-    utils::FormatIter,\n+    utils::{FormatIter, StringifyJs},\n };\n \n #[turbo_tasks::value(shared)]\n #[derive(Default, Clone)]\n pub struct EcmascriptChunkItemContent {\n     pub inner_code: Rope,\n     pub source_map: Option<Rope>,\n+    pub additional_ids: SmallVec<[ResolvedVc<ModuleId>; 1]>,\n     pub options: EcmascriptChunkItemOptions,\n     pub rewrite_source_path: Option<ResolvedVc<FileSystemPath>>,\n     pub placeholder_for_future_extensions: (),\n@@ -57,6 +60,7 @@ impl EcmascriptChunkItemContent {\n             },\n             inner_code: content.inner_code.clone(),\n             source_map: content.source_map.clone(),\n+            additional_ids: content.additional_ids.clone(),\n             options: if content.is_esm {\n                 EcmascriptChunkItemOptions {\n                     strict: true,\n@@ -105,7 +109,12 @@ impl EcmascriptChunkItemContent {\n             args.push(\"w: __turbopack_wasm__\");\n             args.push(\"u: __turbopack_wasm_module__\");\n         }\n+\n         let mut code = CodeBuilder::default();\n+        let additional_ids = self.additional_ids.iter().try_join().await?;\n+        if !additional_ids.is_empty() {\n+            code += \"[\"\n+        }\n         if self.options.this {\n             code += \"(function(__turbopack_context__) {\\n\";\n         } else {\n@@ -148,6 +157,10 @@ impl EcmascriptChunkItemContent {\n         }\n \n         code += \"})\";\n+        if !additional_ids.is_empty() {\n+            writeln!(code, \", {}]\", StringifyJs(&additional_ids))?;\n+        }\n+\n         Ok(code.build().cell())\n     }\n }\n@@ -261,11 +274,7 @@ async fn module_factory_with_code_generation_issue(\n         {\n             Ok(factory) => factory,\n             Err(error) => {\n-                let id = chunk_item\n-                    .chunking_context()\n-                    .chunk_item_id(Vc::upcast(chunk_item))\n-                    .to_string()\n-                    .await;\n+                let id = chunk_item.asset_ident().to_string().await;\n                 let id = id.as_ref().map_or_else(|_| \"unknown\", |id| &**id);\n                 let error = error.context(format!(\n                     \"An error occurred while generating the chunk item {id}\""
        },
        {
            "sha": "dbb8a0db4bbe010af57e65513162b3c7565fbbf4",
            "filename": "turbopack/crates/turbopack-ecmascript/src/code_gen.rs",
            "status": "modified",
            "additions": 24,
            "deletions": 20,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fcode_gen.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fcode_gen.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fcode_gen.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -16,26 +16,29 @@ use turbopack_core::{\n     chunk::ChunkingContext, module_graph::ModuleGraph, reference::ModuleReference,\n };\n \n-use crate::references::{\n-    AstPath,\n-    amd::AmdDefineWithDependenciesCodeGen,\n-    cjs::{\n-        CjsRequireAssetReferenceCodeGen, CjsRequireCacheAccess,\n-        CjsRequireResolveAssetReferenceCodeGen,\n-    },\n-    constant_condition::ConstantConditionCodeGen,\n-    constant_value::ConstantValueCodeGen,\n-    dynamic_expression::DynamicExpression,\n-    esm::{\n-        EsmBinding, EsmModuleItem, ImportMetaBinding, ImportMetaRef,\n-        dynamic::EsmAsyncAssetReferenceCodeGen, module_id::EsmModuleIdAssetReferenceCodeGen,\n-        url::UrlAssetReferenceCodeGen,\n+use crate::{\n+    ScopeHoistingContext,\n+    references::{\n+        AstPath,\n+        amd::AmdDefineWithDependenciesCodeGen,\n+        cjs::{\n+            CjsRequireAssetReferenceCodeGen, CjsRequireCacheAccess,\n+            CjsRequireResolveAssetReferenceCodeGen,\n+        },\n+        constant_condition::ConstantConditionCodeGen,\n+        constant_value::ConstantValueCodeGen,\n+        dynamic_expression::DynamicExpression,\n+        esm::{\n+            EsmBinding, EsmModuleItem, ImportMetaBinding, ImportMetaRef,\n+            dynamic::EsmAsyncAssetReferenceCodeGen, module_id::EsmModuleIdAssetReferenceCodeGen,\n+            url::UrlAssetReferenceCodeGen,\n+        },\n+        ident::IdentReplacement,\n+        member::MemberReplacement,\n+        require_context::RequireContextAssetReferenceCodeGen,\n+        unreachable::Unreachable,\n+        worker::WorkerAssetReferenceCodeGen,\n     },\n-    ident::IdentReplacement,\n-    member::MemberReplacement,\n-    require_context::RequireContextAssetReferenceCodeGen,\n-    unreachable::Unreachable,\n-    worker::WorkerAssetReferenceCodeGen,\n };\n \n #[derive(Default)]\n@@ -193,14 +196,15 @@ impl CodeGen {\n         &self,\n         g: Vc<ModuleGraph>,\n         ctx: Vc<Box<dyn ChunkingContext>>,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n     ) -> Result<CodeGeneration> {\n         match self {\n             Self::AmdDefineWithDependenciesCodeGen(v) => v.code_generation(g, ctx).await,\n             Self::CjsRequireCacheAccess(v) => v.code_generation(g, ctx).await,\n             Self::ConstantConditionCodeGen(v) => v.code_generation(g, ctx).await,\n             Self::ConstantValueCodeGen(v) => v.code_generation(g, ctx).await,\n             Self::DynamicExpression(v) => v.code_generation(g, ctx).await,\n-            Self::EsmBinding(v) => v.code_generation(g, ctx).await,\n+            Self::EsmBinding(v) => v.code_generation(g, ctx, scope_hoisting_context).await,\n             Self::EsmModuleItem(v) => v.code_generation(g, ctx).await,\n             Self::IdentReplacement(v) => v.code_generation(g, ctx).await,\n             Self::ImportMetaBinding(v) => v.code_generation(g, ctx).await,"
        },
        {
            "sha": "96d29e1717c97c26eacd809c670c9aaf26a35fe7",
            "filename": "turbopack/crates/turbopack-ecmascript/src/lib.rs",
            "status": "modified",
            "additions": 1481,
            "deletions": 231,
            "changes": 1712,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -16,6 +16,7 @@ pub mod code_gen;\n mod errors;\n pub mod magic_identifier;\n pub mod manifest;\n+mod merged_module;\n pub mod minify;\n pub mod parse;\n mod path_visitor;\n@@ -35,32 +36,44 @@ pub mod webpack;\n pub mod worker_chunk;\n \n use std::{\n-    fmt::{Display, Formatter},\n+    borrow::Cow,\n+    collections::hash_map::Entry,\n+    fmt::{Debug, Display, Formatter},\n     mem::take,\n     sync::Arc,\n };\n \n-use anyhow::Result;\n+use anyhow::{Context, Result, bail};\n use chunk::EcmascriptChunkItem;\n use code_gen::{CodeGeneration, CodeGenerationHoistedStmt};\n use either::Either;\n+use itertools::Itertools;\n use parse::{ParseResult, parse};\n use path_visitor::ApplyVisitors;\n use references::esm::UrlRewriteBehavior;\n pub use references::{AnalyzeEcmascriptModuleResult, TURBOPACK_HELPER};\n+use rustc_hash::{FxHashMap, FxHashSet};\n use serde::{Deserialize, Serialize};\n+use smallvec::SmallVec;\n pub use static_code::StaticEcmascriptCode;\n use swc_core::{\n+    atoms::Atom,\n     base::SwcComments,\n     common::{\n-        BytePos, DUMMY_SP, GLOBALS, Globals, Mark, SourceMap,\n-        comments::{Comment, Comments},\n+        BytePos, DUMMY_SP, FileName, GLOBALS, Globals, Loc, Mark, SourceFile, SourceMap,\n+        SourceMapper, Span, SpanSnippetError, SyntaxContext,\n+        comments::{Comment, CommentKind, Comments},\n+        source_map::{FileLinesResult, Files, SourceMapLookupError},\n         util::take::Take,\n     },\n     ecma::{\n-        ast::{self, Expr, ModuleItem, Program, Script},\n+        ast::{\n+            self, CallExpr, Callee, Decl, EmptyStmt, Expr, ExprStmt, Id, Ident, ModuleItem,\n+            Program, Script, SourceMapperExt, Stmt,\n+        },\n         codegen::{Emitter, text_writer::JsWriter},\n-        visit::{VisitMutWith, VisitMutWithAstPath},\n+        utils::StmtLikeInjector,\n+        visit::{VisitMut, VisitMutWith, VisitMutWithAstPath},\n     },\n     quote,\n };\n@@ -69,17 +82,18 @@ pub use transform::{\n     CustomTransformer, EcmascriptInputTransform, EcmascriptInputTransforms, TransformContext,\n     TransformPlugin, UnsupportedServerActionIssue,\n };\n-use turbo_rcstr::rcstr;\n+use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{\n-    FxIndexMap, IntoTraitRef, NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryJoinIterExt,\n-    ValueToString, Vc, trace::TraceRawVcs,\n+    FxIndexMap, IntoTraitRef, NonLocalValue, ReadRef, ResolvedVc, TaskInput, TryFlatJoinIterExt,\n+    TryJoinIterExt, ValueToString, Vc, trace::TraceRawVcs,\n };\n use turbo_tasks_fs::{FileJsonContent, FileSystemPath, glob::Glob, rope::Rope};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n     chunk::{\n         AsyncModuleInfo, ChunkItem, ChunkType, ChunkableModule, ChunkingContext, EvaluatableAsset,\n-        MinifyType,\n+        MergeableModule, MergeableModuleExposure, MergeableModules, MergeableModulesExposed,\n+        MinifyType, ModuleChunkItemIdExt, ModuleId,\n     },\n     compile_time_info::CompileTimeInfo,\n     context::AssetContext,\n@@ -100,15 +114,19 @@ pub use turbopack_resolve::ecmascript as resolve;\n \n use self::chunk::{EcmascriptChunkItemContent, EcmascriptChunkType, EcmascriptExports};\n use crate::{\n+    analyzer::graph::EvalContext,\n     chunk::{EcmascriptChunkPlaceable, placeable::is_marked_as_side_effect_free},\n     code_gen::{CodeGens, ModifiableAst},\n+    merged_module::MergedEcmascriptModule,\n     parse::generate_js_source_map,\n     references::{\n-        analyse_ecmascript_module, async_module::OptionAsyncModule, esm::base::EsmAssetReferences,\n+        analyse_ecmascript_module,\n+        async_module::OptionAsyncModule,\n+        esm::{base::EsmAssetReferences, export},\n     },\n     side_effect_optimization::reference::EcmascriptModulePartReference,\n     simple_tree_shake::{ModuleExportUsageInfo, get_module_export_usages},\n-    swc_comments::ImmutableComments,\n+    swc_comments::{CowComments, ImmutableComments},\n     transform::remove_shebang,\n };\n \n@@ -335,12 +353,10 @@ pub trait EcmascriptAnalyzable: Module + Asset {\n         module_graph: Vc<ModuleGraph>,\n         chunking_context: Vc<Box<dyn ChunkingContext>>,\n         async_module_info: Option<Vc<AsyncModuleInfo>>,\n-    ) -> Vc<EcmascriptModuleContent> {\n-        EcmascriptModuleContent::new(self.module_content_options(\n-            module_graph,\n-            chunking_context,\n-            async_module_info,\n-        ))\n+    ) -> Result<Vc<EcmascriptModuleContent>> {\n+        let own_options =\n+            self.module_content_options(module_graph, chunking_context, async_module_info);\n+        Ok(EcmascriptModuleContent::new(own_options))\n     }\n }\n \n@@ -716,6 +732,51 @@ impl EcmascriptChunkPlaceable for EcmascriptModuleAsset {\n     }\n }\n \n+#[turbo_tasks::value_impl]\n+impl MergeableModule for EcmascriptModuleAsset {\n+    #[turbo_tasks::function]\n+    async fn is_mergeable(self: ResolvedVc<Self>) -> Result<Vc<bool>> {\n+        if matches!(\n+            &*self.get_exports().await?,\n+            EcmascriptExports::EsmExports(_)\n+        ) {\n+            return Ok(Vc::cell(true));\n+        }\n+\n+        Ok(Vc::cell(false))\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn merge(\n+        self: Vc<Self>,\n+        modules: Vc<MergeableModulesExposed>,\n+        entry_points: Vc<MergeableModules>,\n+    ) -> Result<Vc<Box<dyn ChunkableModule>>> {\n+        Ok(Vc::upcast(*MergedEcmascriptModule::new(\n+            modules\n+                .await?\n+                .iter()\n+                .map(|(m, exposed)| {\n+                    Ok((\n+                        ResolvedVc::try_sidecast::<Box<dyn EcmascriptAnalyzable>>(*m)\n+                            .context(\"expected EcmascriptAnalyzable\")?,\n+                        *exposed,\n+                    ))\n+                })\n+                .collect::<Result<Vec<_>>>()?,\n+            entry_points\n+                .await?\n+                .iter()\n+                .map(|m| {\n+                    ResolvedVc::try_sidecast::<Box<dyn EcmascriptAnalyzable>>(*m)\n+                        .context(\"expected EcmascriptAnalyzable\")\n+                })\n+                .collect::<Result<Vec<_>>>()?,\n+            self.options().to_resolved().await?,\n+        )))\n+    }\n+}\n+\n #[turbo_tasks::value_impl]\n impl EvaluatableAsset for EcmascriptModuleAsset {}\n \n@@ -827,7 +888,7 @@ pub struct EcmascriptModuleContent {\n     pub inner_code: Rope,\n     pub source_map: Option<Rope>,\n     pub is_esm: bool,\n-    // pub refresh: bool,\n+    pub additional_ids: SmallVec<[ResolvedVc<ModuleId>; 1]>,\n }\n \n #[turbo_tasks::value(shared)]\n@@ -851,7 +912,10 @@ pub struct EcmascriptModuleContentOptions {\n }\n \n impl EcmascriptModuleContentOptions {\n-    async fn merged_code_gens(&self) -> Result<Vec<CodeGeneration>> {\n+    async fn merged_code_gens(\n+        &self,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n+    ) -> Result<Vec<CodeGeneration>> {\n         let EcmascriptModuleContentOptions {\n             parsed,\n             module_graph,\n@@ -885,7 +949,12 @@ impl EcmascriptModuleContentOptions {\n                 if let EcmascriptExports::EsmExports(exports) = *exports.await? {\n                     Some(\n                         exports\n-                            .code_generation(**chunking_context, Some(**parsed), *export_usage_info)\n+                            .code_generation(\n+                                **chunking_context,\n+                                scope_hoisting_context,\n+                                Some(**parsed),\n+                                *export_usage_info,\n+                            )\n                             .await?,\n                     )\n                 } else {\n@@ -896,7 +965,7 @@ impl EcmascriptModuleContentOptions {\n             let esm_code_gens = esm_references\n                 .await?\n                 .iter()\n-                .map(|r| r.code_generation(**chunking_context))\n+                .map(|r| r.code_generation(**chunking_context, scope_hoisting_context))\n                 .try_join()\n                 .await?;\n \n@@ -909,7 +978,9 @@ impl EcmascriptModuleContentOptions {\n             let code_gens = code_generation\n                 .await?\n                 .iter()\n-                .map(|c| c.code_generation(**module_graph, **chunking_context))\n+                .map(|c| {\n+                    c.code_generation(**module_graph, **chunking_context, scope_hoisting_context)\n+                })\n                 .try_join()\n                 .await?;\n \n@@ -942,21 +1013,22 @@ impl EcmascriptModuleContent {\n             chunking_context,\n             ..\n         } = &*input;\n-        let code_gens = input.merged_code_gens().await?;\n+\n         async {\n             let minify = chunking_context.minify_type().await?;\n \n             let content = process_parse_result(\n                 *parsed,\n                 **ident,\n                 *specified_module_type,\n-                code_gens,\n                 *generate_source_map,\n                 *original_source_map,\n                 *minify,\n+                Some(&*input),\n+                None,\n             )\n             .await?;\n-            emit_content(content).await\n+            emit_content(content, Default::default()).await\n         }\n         .instrument(tracing::info_span!(\"gen content with code gens\"))\n         .await\n@@ -974,49 +1046,776 @@ impl EcmascriptModuleContent {\n             parsed.to_resolved().await?,\n             ident,\n             specified_module_type,\n-            vec![],\n             generate_source_map,\n             None,\n             MinifyType::NoMinify,\n+            None,\n+            None,\n         )\n         .await?;\n-        emit_content(content).await\n+        emit_content(content, Default::default()).await\n+    }\n+\n+    /// Creates a new [`Vc<EcmascriptModuleContent>`] from multiple modules, performing scope\n+    /// hoisting.\n+    /// - The `modules` argument is a list of all modules to be merged (and whether their exports\n+    ///   should be exposed).\n+    /// - The `entries` argument is a list of modules that should be treated as entry points for the\n+    ///   merged module (used to determine execution order).\n+    #[turbo_tasks::function]\n+    pub async fn new_merged(\n+        modules: Vec<(\n+            ResolvedVc<Box<dyn EcmascriptAnalyzable>>,\n+            MergeableModuleExposure,\n+        )>,\n+        module_options: Vec<Vc<EcmascriptModuleContentOptions>>,\n+        entry_points: Vec<ResolvedVc<Box<dyn EcmascriptAnalyzable>>>,\n+    ) -> Result<Vc<Self>> {\n+        let modules = modules\n+            .into_iter()\n+            .map(|(m, exposed)| {\n+                (\n+                    ResolvedVc::try_sidecast::<Box<dyn EcmascriptChunkPlaceable>>(m).unwrap(),\n+                    exposed,\n+                )\n+            })\n+            .collect::<FxIndexMap<_, _>>();\n+        let entry_points = entry_points\n+            .into_iter()\n+            .map(|m| {\n+                let m = ResolvedVc::try_sidecast::<Box<dyn EcmascriptChunkPlaceable>>(m).unwrap();\n+                (m, modules.get_index_of(&m).unwrap())\n+            })\n+            .collect::<Vec<_>>();\n+\n+        let globals_merged = Globals::default();\n+\n+        let contents = module_options\n+            .iter()\n+            .zip(modules.keys().copied())\n+            .map(async |(options, module)| {\n+                let options = options.await?;\n+                let EcmascriptModuleContentOptions {\n+                    chunking_context,\n+                    parsed,\n+                    ident,\n+                    specified_module_type,\n+                    generate_source_map,\n+                    original_source_map,\n+                    ..\n+                } = &*options;\n+\n+                let result = process_parse_result(\n+                    *parsed,\n+                    **ident,\n+                    *specified_module_type,\n+                    *generate_source_map,\n+                    *original_source_map,\n+                    *chunking_context.minify_type().await?,\n+                    Some(&*options),\n+                    Some(ScopeHoistingOptions {\n+                        module,\n+                        modules: &modules,\n+                    }),\n+                )\n+                .await?;\n+\n+                Ok((module, result))\n+            })\n+            .try_join()\n+            .await?;\n+\n+        let (merged_ast, comments, source_maps, original_source_maps) =\n+            merge_modules(contents, &entry_points, &globals_merged).await?;\n+\n+        // Use the options from an arbitrary module, since they should all be the same.\n+        let options = module_options.last().unwrap().await?;\n+\n+        let modules_header_width = modules.len().next_power_of_two().trailing_zeros();\n+        let content = CodeGenResult {\n+            program: merged_ast,\n+            source_map: CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            },\n+            comments: CodeGenResultComments::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            },\n+            export_contexts: None,\n+            is_esm: true,\n+            generate_source_map: options.generate_source_map,\n+            original_source_map: CodeGenResultOriginalSourceMap::ScopeHoisting(\n+                original_source_maps,\n+            ),\n+            minify: *options.chunking_context.minify_type().await?,\n+            scope_hoisting_syntax_contexts: None,\n+        };\n+\n+        let first_entry = entry_points.first().unwrap().0;\n+        let additional_ids = modules\n+            .keys()\n+            // Additionally set this module factory for all modules that are exposed. The whole\n+            // group might be imported via a different entry import in different chunks (we only\n+            // ensure that the modules are in the same order, not that they form a subgraph that is\n+            // always imported from the same root module).\n+            //\n+            // Also skip the first entry, which is the name of the chunk item.\n+            .filter(|m| {\n+                **m != first_entry && *modules.get(*m).unwrap() == MergeableModuleExposure::External\n+            })\n+            .map(|m| m.chunk_item_id(*options.chunking_context).to_resolved())\n+            .try_join()\n+            .await?\n+            .into();\n+\n+        emit_content(content, additional_ids).await\n+    }\n+}\n+\n+/// Merges multiple Ecmascript modules into a single AST, setting the syntax contexts correctly so\n+/// that imports work.\n+///\n+/// In `contents`, each import from another module in the group must have an Ident with\n+/// - a `ctxt` listed in scope_hoisting_syntax_contexts.module_contexts, and\n+/// - `sym` being the name of the import.\n+///\n+/// This is then used to map back to the variable name and context of the exporting module.\n+#[allow(clippy::type_complexity)]\n+async fn merge_modules(\n+    mut contents: Vec<(ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, CodeGenResult)>,\n+    entry_points: &Vec<(ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, usize)>,\n+    globals_merged: &'_ Globals,\n+) -> Result<(\n+    Program,\n+    Vec<CodeGenResultComments>,\n+    Vec<CodeGenResultSourceMap>,\n+    SmallVec<[ResolvedVc<Box<dyn GenerateSourceMap>>; 1]>,\n+)> {\n+    struct SetSyntaxContextVisitor<'a> {\n+        modules_header_width: u32,\n+        current_module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+        current_module_idx: u32,\n+        /// The export syntax contexts in the current AST, which will be mapped to merged_ctxts\n+        reverse_module_contexts:\n+            FxIndexMap<SyntaxContext, ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>>,\n+        /// For a given module, the `eval_context.imports.exports`. So for a given export, this\n+        /// allows looking up the corresponding local binding's name and context.\n+        export_contexts:\n+            &'a FxHashMap<ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, &'a FxHashMap<RcStr, Id>>,\n+        /// A fresh global SyntaxContext for each module-local context, so that we can merge them\n+        /// into a single global AST.\n+        unique_contexts_cache: &'a mut FxHashMap<\n+            (ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, SyntaxContext),\n+            SyntaxContext,\n+        >,\n+    }\n+\n+    impl<'a> SetSyntaxContextVisitor<'a> {\n+        fn get_context_for(\n+            &mut self,\n+            module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+            local_ctxt: SyntaxContext,\n+        ) -> SyntaxContext {\n+            if let Some(&global_ctxt) = self.unique_contexts_cache.get(&(module, local_ctxt)) {\n+                global_ctxt\n+            } else {\n+                let global_ctxt = SyntaxContext::empty().apply_mark(Mark::new());\n+                self.unique_contexts_cache\n+                    .insert((module, local_ctxt), global_ctxt);\n+                global_ctxt\n+            }\n+        }\n+    }\n+\n+    impl VisitMut for SetSyntaxContextVisitor<'_> {\n+        fn visit_mut_ident(&mut self, ident: &mut Ident) {\n+            let Ident {\n+                sym, ctxt, span, ..\n+            } = ident;\n+\n+            // If this ident is an imported binding, rewrite the name and context to the\n+            // corresponding export in the module that exports it.\n+            if let Some(&module) = self.reverse_module_contexts.get(ctxt) {\n+                let eval_context_exports = self.export_contexts.get(&module).unwrap();\n+                // TODO looking up an Atom in a Map<RcStr, _>\n+                let sym_rc_str: RcStr = sym.as_str().into();\n+                let (local, local_ctxt) = if let Some((local, local_ctxt)) =\n+                    eval_context_exports.get(&sym_rc_str)\n+                {\n+                    (Some(local), *local_ctxt)\n+                } else if sym.starts_with(\"__TURBOPACK__imported__module__\") {\n+                    // The variable corresponding to the `export * as foo from \"...\";` is generated\n+                    // in the module generating the reexport (and it's not listed in the\n+                    // eval_context). `EsmAssetReference::code_gen` uses a dummy span when\n+                    // generating this variable.\n+                    (None, SyntaxContext::empty())\n+                } else {\n+                    panic!(\n+                        \"Expected to find a local export for {sym} with ctxt {ctxt:#?} in \\\n+                         {eval_context_exports:?}\",\n+                    );\n+                };\n+\n+                let global_ctxt = self.get_context_for(module, local_ctxt);\n+\n+                if let Some(local) = local {\n+                    *sym = local.clone();\n+                }\n+                *ctxt = global_ctxt;\n+                span.visit_mut_with(self);\n+            } else {\n+                ident.visit_mut_children_with(self);\n+            }\n+        }\n+\n+        fn visit_mut_syntax_context(&mut self, local_ctxt: &mut SyntaxContext) {\n+            // The modules have their own local syntax contexts, which needs to be mapped to\n+            // contexts that were actually created in the merged Globals.\n+            let module = self\n+                .reverse_module_contexts\n+                .get(local_ctxt)\n+                .copied()\n+                .unwrap_or(self.current_module);\n+\n+            let global_ctxt = self.get_context_for(module, *local_ctxt);\n+            *local_ctxt = global_ctxt;\n+        }\n+        fn visit_mut_span(&mut self, span: &mut Span) {\n+            // Encode the module index into the span, to be able to retrieve the module later for\n+            // finding the correct Comments and SourceMap.\n+            span.lo = CodeGenResultComments::encode_bytepos(\n+                self.modules_header_width,\n+                self.current_module_idx,\n+                span.lo,\n+            );\n+            span.hi = CodeGenResultComments::encode_bytepos(\n+                self.modules_header_width,\n+                self.current_module_idx,\n+                span.hi,\n+            );\n+        }\n+    }\n+\n+    // Extract programs into a separate mutable list so that `content` doesn't have to be mutably\n+    // borrowed (and `export_contexts` doesn't have to clone).\n+    let mut programs = contents\n+        .iter_mut()\n+        .map(|(_, content)| content.program.take())\n+        .collect::<Vec<_>>();\n+\n+    let export_contexts = contents\n+        .iter()\n+        .map(|(module, content)| (*module, content.export_contexts.as_ref().unwrap()))\n+        .collect::<FxHashMap<_, _>>();\n+\n+    let (merged_ast, inserted) = GLOBALS.set(globals_merged, || {\n+        // As an optimization, assume an average number of 5 contexts per module.\n+        let mut unique_contexts_cache =\n+            FxHashMap::with_capacity_and_hasher(contents.len() * 5, Default::default());\n+\n+        let mut prepare_module =\n+            |(module, content): &(ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, CodeGenResult),\n+             program: &mut Program| {\n+                if let CodeGenResult {\n+                    scope_hoisting_syntax_contexts: Some(module_contexts),\n+                    ..\n+                } = content\n+                {\n+                    GLOBALS.set(globals_merged, || {\n+                        program.visit_mut_with(&mut SetSyntaxContextVisitor {\n+                            modules_header_width: module_contexts\n+                                .len()\n+                                .next_power_of_two()\n+                                .trailing_zeros(),\n+                            current_module: *module,\n+                            current_module_idx: module_contexts.get_index_of(module).unwrap()\n+                                as u32,\n+                            reverse_module_contexts: module_contexts\n+                                .iter()\n+                                .map(|(m, ctxt)| (*ctxt, *m))\n+                                .collect(),\n+                            export_contexts: &export_contexts,\n+                            unique_contexts_cache: &mut unique_contexts_cache,\n+                        });\n+                    });\n+\n+                    Ok(match program.take() {\n+                        Program::Module(module) => Either::Left(module.body.into_iter()),\n+                        // A module without any ModuleItem::ModuleDecl but a\n+                        // SpecifiedModuleType::EcmaScript can still contain a Module::Script.\n+                        Program::Script(script) => {\n+                            Either::Right(script.body.into_iter().map(ModuleItem::Stmt))\n+                        }\n+                    })\n+                } else {\n+                    bail!(\"Expected scope_hosting_syntax_contexts\");\n+                }\n+            };\n+\n+        let mut inserted = FxHashSet::with_capacity_and_hasher(contents.len(), Default::default());\n+        // Start with inserting the entry points, and recursively inline all their imports.\n+        inserted.extend(entry_points.iter().map(|(_, i)| *i));\n+\n+        let mut inserted_imports = FxHashMap::default();\n+\n+        // Replace inserted `__turbopack_merged_esm__(i);` statements with the corresponding\n+        // ith-module.\n+        let mut queue = entry_points\n+            .iter()\n+            .map(|(_, i)| prepare_module(&contents[*i], &mut programs[*i]))\n+            .flatten_ok()\n+            .rev()\n+            .collect::<Result<Vec<_>>>()?;\n+        let mut result = vec![];\n+        while let Some(item) = queue.pop() {\n+            if let ModuleItem::Stmt(stmt) = &item {\n+                match stmt {\n+                    Stmt::Expr(ExprStmt { expr, .. }) => {\n+                        if let Expr::Call(CallExpr {\n+                            callee: Callee::Expr(callee),\n+                            args,\n+                            ..\n+                        }) = &**expr\n+                            && callee.is_ident_ref_to(\"__turbopack_merged_esm__\")\n+                        {\n+                            let index =\n+                                args[0].expr.as_lit().unwrap().as_num().unwrap().value as usize;\n+\n+                            // Only insert once, otherwise the module was already executed\n+                            if inserted.insert(index) {\n+                                queue.extend(\n+                                    prepare_module(&contents[index], &mut programs[index])?\n+                                        .into_iter()\n+                                        .rev(),\n+                                );\n+                            }\n+                            continue;\n+                        }\n+                    }\n+                    Stmt::Decl(Decl::Var(var)) => {\n+                        if let [decl] = &*var.decls\n+                            && let Some(name) = decl.name.as_ident()\n+                            && name.sym.starts_with(\"__TURBOPACK__imported__module__\")\n+                        {\n+                            // var __TURBOPACK__imported__module__.. = __turbopack_context__.i(..);\n+\n+                            // Even if these imports are not side-effect free, they only execute\n+                            // once, so no need to insert multiple times.\n+                            match inserted_imports.entry(name.sym.clone()) {\n+                                Entry::Occupied(entry) => {\n+                                    // If the import was already inserted, we can skip it. The\n+                                    // variable mapping minifies better but is unfortunately\n+                                    // necessary as the syntax contexts of the two imports are\n+                                    // different.\n+                                    let entry_ctxt = *entry.get();\n+                                    let new = Ident::new(name.sym.clone(), DUMMY_SP, name.ctxt);\n+                                    let old = Ident::new(name.sym.clone(), DUMMY_SP, entry_ctxt);\n+                                    result.push(ModuleItem::Stmt(\n+                                        quote!(\"var $new = $old;\" as Stmt,\n+                                            new: Ident = new,\n+                                            old: Ident = old\n+                                        ),\n+                                    ));\n+                                    continue;\n+                                }\n+                                Entry::Vacant(entry) => {\n+                                    entry.insert(name.ctxt);\n+                                }\n+                            }\n+                        }\n+                    }\n+                    _ => (),\n+                }\n+            }\n+\n+            result.push(item);\n+        }\n+\n+        let mut merged_ast = Program::Module(swc_core::ecma::ast::Module {\n+            body: result,\n+            span: DUMMY_SP,\n+            shebang: None,\n+        });\n+        merged_ast.visit_mut_with(&mut swc_core::ecma::transforms::base::hygiene::hygiene());\n+\n+        anyhow::Ok((merged_ast, inserted))\n+    })?;\n+\n+    debug_assert!(\n+        inserted.len() == contents.len(),\n+        \"Not all merged modules were inserted: {:?}\",\n+        contents\n+            .iter()\n+            .enumerate()\n+            .map(async |(i, m)| Ok((inserted.contains(&i), m.0.ident().to_string().await?)))\n+            .try_join()\n+            .await?,\n+    );\n+\n+    let comments = contents\n+        .iter_mut()\n+        .map(|(_, content)| content.comments.take())\n+        .collect::<Vec<_>>();\n+\n+    let source_maps = contents\n+        .iter_mut()\n+        .map(|(_, content)| std::mem::take(&mut content.source_map))\n+        .collect::<Vec<_>>();\n+\n+    let original_source_maps = contents\n+        .iter_mut()\n+        .flat_map(|(_, content)| match content.original_source_map {\n+            CodeGenResultOriginalSourceMap::ScopeHoisting(_) => unreachable!(\n+                \"Didn't expect nested CodeGenResultOriginalSourceMap::ScopeHoisting: {:?}\",\n+                content.original_source_map\n+            ),\n+            CodeGenResultOriginalSourceMap::Single(map) => map,\n+        })\n+        .collect();\n+\n+    Ok((merged_ast, comments, source_maps, original_source_maps))\n+}\n+\n+/// Provides information about the other modules in the current scope hoisting group.\n+#[derive(Clone, Copy)]\n+pub enum ScopeHoistingContext<'a> {\n+    Some {\n+        /// The current module when scope hoisting\n+        module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+        /// All modules in the current group, and whether they should expose their exports\n+        modules:\n+            &'a FxIndexMap<ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, MergeableModuleExposure>,\n+        /// To import a specifier from another module, apply this context to the Ident\n+        module_syntax_contexts:\n+            &'a FxIndexMap<ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, SyntaxContext>,\n+    },\n+    None,\n+}\n+\n+impl<'a> ScopeHoistingContext<'a> {\n+    /// The current module when scope hoisting\n+    pub fn module(&self) -> Option<ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>> {\n+        match self {\n+            ScopeHoistingContext::Some { module, .. } => Some(*module),\n+            ScopeHoistingContext::None => None,\n+        }\n+    }\n+\n+    /// Whether the current module should not expose it's exports into the module cache.\n+    pub fn skip_module_exports(&self) -> bool {\n+        match self {\n+            ScopeHoistingContext::Some {\n+                module, modules, ..\n+            } => match modules.get(module).unwrap() {\n+                MergeableModuleExposure::None => true,\n+                MergeableModuleExposure::Internal | MergeableModuleExposure::External => false,\n+            },\n+            ScopeHoistingContext::None => false,\n+        }\n+    }\n+\n+    pub fn get_module_syntax_context(\n+        &self,\n+        module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+    ) -> Option<SyntaxContext> {\n+        match self {\n+            ScopeHoistingContext::Some {\n+                module_syntax_contexts,\n+                ..\n+            } => module_syntax_contexts.get(&module).copied(),\n+            ScopeHoistingContext::None => None,\n+        }\n+    }\n+\n+    pub fn get_module_index(\n+        &self,\n+        module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+    ) -> Option<usize> {\n+        match self {\n+            ScopeHoistingContext::Some { modules, .. } => modules.get_index_of(&module),\n+            ScopeHoistingContext::None => None,\n+        }\n     }\n }\n \n struct CodeGenResult {\n     program: Program,\n-    source_map: Arc<SourceMap>,\n-    comments: Either<ImmutableComments, Arc<ImmutableComments>>,\n-    extra_comments: SwcComments,\n+    source_map: CodeGenResultSourceMap,\n+    comments: CodeGenResultComments,\n+    /// `eval_context.imports.exports`\n+    export_contexts: Option<FxHashMap<RcStr, Id>>,\n     is_esm: bool,\n     generate_source_map: bool,\n-    original_source_map: Option<ResolvedVc<Box<dyn GenerateSourceMap>>>,\n+    original_source_map: CodeGenResultOriginalSourceMap,\n     minify: MinifyType,\n+    scope_hoisting_syntax_contexts:\n+        Option<FxIndexMap<ResolvedVc<Box<dyn EcmascriptChunkPlaceable + 'static>>, SyntaxContext>>,\n+}\n+\n+struct ScopeHoistingOptions<'a> {\n+    module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+    modules: &'a FxIndexMap<ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>, MergeableModuleExposure>,\n }\n \n async fn process_parse_result(\n     parsed: ResolvedVc<ParseResult>,\n     ident: Vc<AssetIdent>,\n     specified_module_type: SpecifiedModuleType,\n-    mut code_gens: Vec<CodeGeneration>,\n     generate_source_map: bool,\n     original_source_map: Option<ResolvedVc<Box<dyn GenerateSourceMap>>>,\n     minify: MinifyType,\n+    options: Option<&EcmascriptModuleContentOptions>,\n+    scope_hoisting_options: Option<ScopeHoistingOptions<'_>>,\n ) -> Result<CodeGenResult> {\n-    let parsed = parsed.final_read_hint().await?;\n+    with_consumed_parse_result(\n+        parsed,\n+        async |mut program, source_map, globals, eval_context, comments| -> Result<CodeGenResult> {\n+            let (top_level_mark, is_esm, export_contexts) = eval_context\n+                .map_either(\n+                    |e| {\n+                        (\n+                            e.top_level_mark,\n+                            e.is_esm(specified_module_type),\n+                            Cow::Owned(e.imports.exports),\n+                        )\n+                    },\n+                    |e| {\n+                        (\n+                            e.top_level_mark,\n+                            e.is_esm(specified_module_type),\n+                            Cow::Borrowed(&e.imports.exports),\n+                        )\n+                    },\n+                )\n+                .into_inner();\n+\n+            let (mut code_gens, retain_syntax_context, prepend_ident_comment) =\n+                if let Some(scope_hoisting_options) = scope_hoisting_options {\n+                    let (is_import_mark, module_syntax_contexts) = GLOBALS.set(globals, || {\n+                        let is_import_mark = Mark::new();\n+                        let module_syntax_contexts: FxIndexMap<_, _> = scope_hoisting_options\n+                            .modules\n+                            .keys()\n+                            .map(|m| {\n+                                let mark = Mark::fresh(is_import_mark);\n+                                (\n+                                    *m,\n+                                    SyntaxContext::empty()\n+                                        .apply_mark(is_import_mark)\n+                                        .apply_mark(mark),\n+                                )\n+                            })\n+                            .collect();\n+                        (is_import_mark, module_syntax_contexts)\n+                    });\n+\n+                    let ctx = ScopeHoistingContext::Some {\n+                        module: scope_hoisting_options.module,\n+                        modules: scope_hoisting_options.modules,\n+                        module_syntax_contexts: &module_syntax_contexts,\n+                    };\n+                    let code_gens = options.unwrap().merged_code_gens(ctx).await?;\n+                    let preserved_exports =\n+                        match &*scope_hoisting_options.module.get_exports().await? {\n+                            EcmascriptExports::EsmExports(exports) => exports\n+                                .await?\n+                                .exports\n+                                .iter()\n+                                .filter(|(_, e)| matches!(e, export::EsmExport::LocalBinding(_, _)))\n+                                .map(|(name, e)| {\n+                                    if let Some((sym, ctxt)) = export_contexts.get(name) {\n+                                        Ok((sym.clone(), *ctxt))\n+                                    } else {\n+                                        bail!(\"Couldn't find export {} for binding {:?}\", name, e);\n+                                    }\n+                                })\n+                                .collect::<Result<FxHashSet<_>>>()?,\n+                            _ => Default::default(),\n+                        };\n+\n+                    let prepend_ident_comment = if matches!(minify, MinifyType::NoMinify) {\n+                        Some(Comment {\n+                            kind: CommentKind::Line,\n+                            span: DUMMY_SP,\n+                            text: format!(\" MERGED MODULE: {}\", ident.to_string().await?).into(),\n+                        })\n+                    } else {\n+                        None\n+                    };\n+\n+                    (\n+                        code_gens,\n+                        Some((is_import_mark, module_syntax_contexts, preserved_exports)),\n+                        prepend_ident_comment,\n+                    )\n+                } else if let Some(options) = options {\n+                    (\n+                        options.merged_code_gens(ScopeHoistingContext::None).await?,\n+                        None,\n+                        None,\n+                    )\n+                } else {\n+                    (vec![], None, None)\n+                };\n \n-    Ok(match &*parsed {\n-        ParseResult::Ok { .. } => {\n             let extra_comments = SwcComments {\n                 leading: Default::default(),\n                 trailing: Default::default(),\n             };\n \n-            // We need a mutable version of the AST. We try to avoid cloning it by unwrapping the\n-            // ReadRef.\n+            process_content_with_code_gens(&mut program, globals, &mut code_gens);\n+\n+            for comments in code_gens.iter_mut().flat_map(|cg| cg.comments.as_mut()) {\n+                let leading = Arc::unwrap_or_clone(take(&mut comments.leading));\n+                let trailing = Arc::unwrap_or_clone(take(&mut comments.trailing));\n+\n+                for (pos, v) in leading {\n+                    extra_comments.leading.entry(pos).or_default().extend(v);\n+                }\n+\n+                for (pos, v) in trailing {\n+                    extra_comments.trailing.entry(pos).or_default().extend(v);\n+                }\n+            }\n+\n+            GLOBALS.set(globals, || {\n+                if let Some(prepend_ident_comment) = prepend_ident_comment {\n+                    let span = Span::dummy_with_cmt();\n+                    extra_comments.add_leading(span.lo, prepend_ident_comment);\n+                    let stmt = Stmt::Empty(EmptyStmt { span });\n+                    match &mut program {\n+                        Program::Module(module) => module.body.prepend_stmt(ModuleItem::Stmt(stmt)),\n+                        Program::Script(script) => script.body.prepend_stmt(stmt),\n+                    }\n+                }\n+\n+                if let Some((is_import_mark, _, preserved_exports)) = &retain_syntax_context {\n+                    program.visit_mut_with(&mut hygiene_rename_only(\n+                        Some(top_level_mark),\n+                        *is_import_mark,\n+                        preserved_exports,\n+                    ));\n+                } else {\n+                    program.visit_mut_with(\n+                        &mut swc_core::ecma::transforms::base::hygiene::hygiene_with_config(\n+                            swc_core::ecma::transforms::base::hygiene::Config {\n+                                top_level_mark,\n+                                ..Default::default()\n+                            },\n+                        ),\n+                    );\n+                }\n+                program.visit_mut_with(&mut swc_core::ecma::transforms::base::fixer::fixer(None));\n+\n+                // we need to remove any shebang before bundling as it's only valid as the first\n+                // line in a js file (not in a chunk item wrapped in the runtime)\n+                remove_shebang(&mut program);\n+            });\n+\n+            Ok(CodeGenResult {\n+                program,\n+                source_map: CodeGenResultSourceMap::Single {\n+                    source_map: source_map.clone(),\n+                },\n+                comments: CodeGenResultComments::Single {\n+                    comments,\n+                    extra_comments,\n+                },\n+                // TODO ideally don't clone here at all\n+                export_contexts: Some(export_contexts.into_owned()),\n+                is_esm,\n+                generate_source_map,\n+                original_source_map: CodeGenResultOriginalSourceMap::Single(original_source_map),\n+                minify,\n+                scope_hoisting_syntax_contexts: retain_syntax_context.map(|(_, ctxts, _)| ctxts),\n+            })\n+        },\n+        async |parse_result| -> Result<CodeGenResult> {\n+            Ok(match parse_result {\n+                ParseResult::Ok { .. } => unreachable!(),\n+                ParseResult::Unparseable { messages } => {\n+                    let path = ident.path().to_string().await?;\n+                    let error_messages = messages\n+                        .as_ref()\n+                        .and_then(|m| m.first().map(|f| format!(\"\\n{f}\")))\n+                        .unwrap_or(\"\".into());\n+                    let msg = format!(\"Could not parse module '{path}'\\n{error_messages}\");\n+                    let body = vec![\n+                        quote!(\n+                            \"const e = new Error($msg);\" as Stmt,\n+                            msg: Expr = Expr::Lit(msg.into()),\n+                        ),\n+                        quote!(\"e.code = 'MODULE_UNPARSEABLE';\" as Stmt),\n+                        quote!(\"throw e;\" as Stmt),\n+                    ];\n+\n+                    CodeGenResult {\n+                        program: Program::Script(Script {\n+                            span: DUMMY_SP,\n+                            body,\n+                            shebang: None,\n+                        }),\n+                        source_map: CodeGenResultSourceMap::default(),\n+                        comments: CodeGenResultComments::Empty,\n+                        export_contexts: None,\n+                        is_esm: false,\n+                        generate_source_map: false,\n+                        original_source_map: CodeGenResultOriginalSourceMap::Single(None),\n+                        minify: MinifyType::NoMinify,\n+                        scope_hoisting_syntax_contexts: None,\n+                    }\n+                }\n+                ParseResult::NotFound => {\n+                    let path = ident.path().to_string().await?;\n+                    let msg = format!(\"Could not parse module '{path}'\");\n+                    let body = vec![\n+                        quote!(\n+                            \"const e = new Error($msg);\" as Stmt,\n+                            msg: Expr = Expr::Lit(msg.into()),\n+                        ),\n+                        quote!(\"e.code = 'MODULE_UNPARSEABLE';\" as Stmt),\n+                        quote!(\"throw e;\" as Stmt),\n+                    ];\n+                    CodeGenResult {\n+                        program: Program::Script(Script {\n+                            span: DUMMY_SP,\n+                            body,\n+                            shebang: None,\n+                        }),\n+                        source_map: CodeGenResultSourceMap::default(),\n+                        comments: CodeGenResultComments::Empty,\n+                        export_contexts: None,\n+                        is_esm: false,\n+                        generate_source_map: false,\n+                        original_source_map: CodeGenResultOriginalSourceMap::Single(None),\n+                        minify: MinifyType::NoMinify,\n+                        scope_hoisting_syntax_contexts: None,\n+                    }\n+                }\n+            })\n+        },\n+    )\n+    .await\n+}\n+\n+/// Try to avoid cloning the AST and Globals by unwrapping the ReadRef (and cloning otherwise).\n+async fn with_consumed_parse_result<T>(\n+    parsed: ResolvedVc<ParseResult>,\n+    success: impl AsyncFnOnce(\n+        Program,\n+        &Arc<SourceMap>,\n+        &Arc<Globals>,\n+        Either<EvalContext, &'_ EvalContext>,\n+        Either<ImmutableComments, Arc<ImmutableComments>>,\n+    ) -> Result<T>,\n+    error: impl AsyncFnOnce(&ParseResult) -> Result<T>,\n+) -> Result<T> {\n+    let parsed = parsed.final_read_hint().await?;\n+    match &*parsed {\n+        ParseResult::Ok { .. } => {\n             let mut parsed = ReadRef::try_unwrap(parsed);\n-            let (mut program, source_map, globals, eval_context, comments) = match &mut parsed {\n+            let (program, source_map, globals, eval_context, comments) = match &mut parsed {\n                 Ok(ParseResult::Ok {\n                     program,\n                     source_map,\n@@ -1027,7 +1826,15 @@ async fn process_parse_result(\n                     program.take(),\n                     &*source_map,\n                     &*globals,\n-                    &*eval_context,\n+                    Either::Left(std::mem::replace(\n+                        eval_context,\n+                        EvalContext {\n+                            unresolved_mark: eval_context.unresolved_mark,\n+                            top_level_mark: eval_context.top_level_mark,\n+                            imports: Default::default(),\n+                            force_free_values: Default::default(),\n+                        },\n+                    )),\n                     match Arc::try_unwrap(take(comments)) {\n                         Ok(comments) => Either::Left(comments),\n                         Err(comments) => Either::Right(comments),\n@@ -1048,116 +1855,33 @@ async fn process_parse_result(\n                         program.clone(),\n                         source_map,\n                         globals,\n-                        eval_context,\n+                        Either::Right(eval_context),\n                         Either::Right(comments.clone()),\n                     )\n                 }\n                 _ => unreachable!(),\n             };\n-            let top_level_mark = eval_context.top_level_mark;\n-            let is_esm = eval_context.is_esm(specified_module_type);\n-\n-            process_content_with_code_gens(\n-                &mut program,\n-                globals,\n-                Some(top_level_mark),\n-                &mut code_gens,\n-            );\n-\n-            for comments in code_gens.iter_mut().flat_map(|cg| cg.comments.as_mut()) {\n-                let leading = Arc::unwrap_or_clone(take(&mut comments.leading));\n-                let trailing = Arc::unwrap_or_clone(take(&mut comments.trailing));\n-\n-                for (pos, v) in leading {\n-                    extra_comments.leading.entry(pos).or_default().extend(v);\n-                }\n-\n-                for (pos, v) in trailing {\n-                    extra_comments.trailing.entry(pos).or_default().extend(v);\n-                }\n-            }\n-\n-            CodeGenResult {\n-                program,\n-                source_map: source_map.clone(),\n-                comments,\n-                extra_comments,\n-                is_esm,\n-                generate_source_map,\n-                original_source_map,\n-                minify,\n-            }\n-        }\n-        ParseResult::Unparseable { messages } => {\n-            let path = ident.path().to_string().await?;\n-            let error_messages = messages\n-                .as_ref()\n-                .and_then(|m| m.first().map(|f| format!(\"\\n{f}\")))\n-                .unwrap_or(\"\".into());\n-            let msg = format!(\"Could not parse module '{path}'\\n{error_messages}\");\n-            let body = vec![\n-                quote!(\n-                    \"const e = new Error($msg);\" as Stmt,\n-                    msg: Expr = Expr::Lit(msg.into()),\n-                ),\n-                quote!(\"e.code = 'MODULE_UNPARSEABLE';\" as Stmt),\n-                quote!(\"throw e;\" as Stmt),\n-            ];\n \n-            CodeGenResult {\n-                program: Program::Script(Script {\n-                    span: DUMMY_SP,\n-                    body,\n-                    shebang: None,\n-                }),\n-                source_map: Arc::new(SourceMap::default()),\n-                comments: Either::Left(Default::default()),\n-                extra_comments: Default::default(),\n-                is_esm: false,\n-                generate_source_map: false,\n-                original_source_map: None,\n-                minify: MinifyType::NoMinify,\n-            }\n-        }\n-        ParseResult::NotFound => {\n-            let path = ident.path().to_string().await?;\n-            let msg = format!(\"Could not parse module '{path}'\");\n-            let body = vec![\n-                quote!(\n-                    \"const e = new Error($msg);\" as Stmt,\n-                    msg: Expr = Expr::Lit(msg.into()),\n-                ),\n-                quote!(\"e.code = 'MODULE_UNPARSEABLE';\" as Stmt),\n-                quote!(\"throw e;\" as Stmt),\n-            ];\n-            CodeGenResult {\n-                program: Program::Script(Script {\n-                    span: DUMMY_SP,\n-                    body,\n-                    shebang: None,\n-                }),\n-                source_map: Arc::new(SourceMap::default()),\n-                comments: Either::Left(Default::default()),\n-                extra_comments: Default::default(),\n-                is_esm: false,\n-                generate_source_map: false,\n-                original_source_map: None,\n-                minify: MinifyType::NoMinify,\n-            }\n+            success(program, source_map, globals, eval_context, comments).await\n         }\n-    })\n+        _ => error(&parsed).await,\n+    }\n }\n \n-async fn emit_content(content: CodeGenResult) -> Result<Vc<EcmascriptModuleContent>> {\n+async fn emit_content(\n+    content: CodeGenResult,\n+    additional_ids: SmallVec<[ResolvedVc<ModuleId>; 1]>,\n+) -> Result<Vc<EcmascriptModuleContent>> {\n     let CodeGenResult {\n         program,\n         source_map,\n         comments,\n-        extra_comments,\n         is_esm,\n         generate_source_map,\n         original_source_map,\n         minify,\n+        export_contexts: _,\n+        scope_hoisting_syntax_contexts: _,\n     } = content;\n \n     let mut bytes: Vec<u8> = vec![];\n@@ -1166,23 +1890,12 @@ async fn emit_content(content: CodeGenResult) -> Result<Vc<EcmascriptModuleConte\n \n     let mut mappings = vec![];\n \n-    {\n-        let comments = match comments {\n-            Either::Left(comments) => Either::Left(comments.into_consumable()),\n-            Either::Right(ref comments) => Either::Right(comments.consumable()),\n-        };\n-        let comments: &dyn Comments = match &comments {\n-            Either::Left(comments) => comments,\n-            Either::Right(comments) => comments,\n-        };\n-\n-        let comments = MergedComments {\n-            baseline: comments,\n-            mutable: extra_comments,\n-        };\n+    let source_map = Arc::new(source_map);\n \n+    {\n         let mut wr = JsWriter::new(\n-            source_map.clone(),\n+            // unused anyway?\n+            Default::default(),\n             \"\\n\",\n             &mut bytes,\n             generate_source_map.then_some(&mut mappings),\n@@ -1191,6 +1904,8 @@ async fn emit_content(content: CodeGenResult) -> Result<Vc<EcmascriptModuleConte\n             wr.set_indent_str(\"\");\n         }\n \n+        let comments = comments.consumable();\n+\n         let mut emitter = Emitter {\n             cfg: swc_core::ecma::codegen::Config::default(),\n             cm: source_map.clone(),\n@@ -1204,21 +1919,20 @@ async fn emit_content(content: CodeGenResult) -> Result<Vc<EcmascriptModuleConte\n     }\n \n     let source_map = if generate_source_map {\n-        if let Some(original_source_map) = original_source_map {\n-            Some(generate_js_source_map(\n-                source_map.clone(),\n-                mappings,\n-                original_source_map.generate_source_map().await?.as_ref(),\n-                true,\n-            )?)\n-        } else {\n-            Some(generate_js_source_map(\n-                source_map.clone(),\n-                mappings,\n-                None,\n-                true,\n-            )?)\n-        }\n+        Some(generate_js_source_map(\n+            &*source_map,\n+            mappings,\n+            original_source_map\n+                .iter()\n+                .map(|map| map.generate_source_map())\n+                .try_flat_join()\n+                .await?,\n+            matches!(\n+                original_source_map,\n+                CodeGenResultOriginalSourceMap::Single(_)\n+            ),\n+            true,\n+        )?)\n     } else {\n         None\n     };\n@@ -1227,14 +1941,14 @@ async fn emit_content(content: CodeGenResult) -> Result<Vc<EcmascriptModuleConte\n         inner_code: bytes.into(),\n         source_map,\n         is_esm,\n+        additional_ids,\n     }\n     .cell())\n }\n \n fn process_content_with_code_gens(\n     program: &mut Program,\n     globals: &Globals,\n-    top_level_mark: Option<Mark>,\n     code_gens: &mut Vec<CodeGeneration>,\n ) {\n     let mut visitors = Vec::new();\n@@ -1268,19 +1982,6 @@ fn process_content_with_code_gens(\n         for pass in root_visitors {\n             program.modify(pass);\n         }\n-        program.visit_mut_with(\n-            &mut swc_core::ecma::transforms::base::hygiene::hygiene_with_config(\n-                swc_core::ecma::transforms::base::hygiene::Config {\n-                    top_level_mark: top_level_mark.unwrap_or_default(),\n-                    ..Default::default()\n-                },\n-            ),\n-        );\n-        program.visit_mut_with(&mut swc_core::ecma::transforms::base::fixer::fixer(None));\n-\n-        // we need to remove any shebang before bundling as it's only valid as the first\n-        // line in a js file (not in a chunk item wrapped in the runtime)\n-        remove_shebang(program);\n     });\n \n     match program {\n@@ -1304,92 +2005,544 @@ fn process_content_with_code_gens(\n     };\n }\n \n-struct MergedComments<A, B>\n-where\n-    A: Comments,\n-    B: Comments,\n-{\n-    baseline: A,\n-    mutable: B,\n+/// Like `hygiene`, but only renames the Atoms without clearing all SyntaxContexts\n+///\n+/// Don't rename idents marked with `is_import_mark` (i.e. a reference to a value which is imported\n+/// from another merged module) or listed in `preserve_exports` (i.e. an exported local binding):\n+/// even if they are causing collisions, they will be handled by the next hygiene pass over the\n+/// whole module.\n+fn hygiene_rename_only(\n+    top_level_mark: Option<Mark>,\n+    is_import_mark: Mark,\n+    preserved_exports: &FxHashSet<Id>,\n+) -> impl VisitMut {\n+    struct HygieneRenamer<'a> {\n+        preserved_exports: &'a FxHashSet<Id>,\n+        is_import_mark: Mark,\n+    }\n+    // Copied from `hygiene_with_config`'s HygieneRenamer, but added an `preserved_exports`\n+    impl swc_core::ecma::transforms::base::rename::Renamer for HygieneRenamer<'_> {\n+        const MANGLE: bool = false;\n+        const RESET_N: bool = true;\n+\n+        fn new_name_for(&self, orig: &Id, n: &mut usize) -> Atom {\n+            let res = if *n == 0 {\n+                orig.0.clone()\n+            } else {\n+                format!(\"{}{}\", orig.0, n).into()\n+            };\n+            *n += 1;\n+            res\n+        }\n+\n+        fn preserve_name(&self, orig: &Id) -> bool {\n+            self.preserved_exports.contains(orig) || orig.1.has_mark(self.is_import_mark)\n+        }\n+    }\n+    swc_core::ecma::transforms::base::rename::renamer(\n+        swc_core::ecma::transforms::base::hygiene::Config {\n+            top_level_mark: top_level_mark.unwrap_or_default(),\n+            ..Default::default()\n+        },\n+        HygieneRenamer {\n+            preserved_exports,\n+            is_import_mark,\n+        },\n+    )\n+}\n+\n+enum CodeGenResultSourceMap {\n+    Single {\n+        source_map: Arc<SourceMap>,\n+    },\n+    ScopeHoisting {\n+        /// The bitwidth of the modules header in the spans, see\n+        /// [CodeGenResultComments::encode_bytepos]\n+        modules_header_width: u32,\n+        source_maps: Vec<CodeGenResultSourceMap>,\n+    },\n }\n \n-impl<A, B> Comments for MergedComments<A, B>\n-where\n-    A: Comments,\n-    B: Comments,\n-{\n-    fn add_leading(&self, pos: BytePos, cmt: Comment) {\n-        self.mutable.add_leading(pos, cmt);\n+impl Debug for CodeGenResultSourceMap {\n+    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => {\n+                write!(\n+                    f,\n+                    \"CodeGenResultSourceMap::Single {{ source_map: {:?} }}\",\n+                    source_map.files().clone()\n+                )\n+            }\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => write!(\n+                f,\n+                \"CodeGenResultSourceMap::ScopeHoisting {{ modules_header_width: \\\n+                 {modules_header_width}, source_maps: {source_maps:?} }}\",\n+            ),\n+        }\n+    }\n+}\n+\n+impl Default for CodeGenResultSourceMap {\n+    fn default() -> Self {\n+        CodeGenResultSourceMap::Single {\n+            source_map: Arc::new(SourceMap::default()),\n+        }\n+    }\n+}\n+\n+impl Files for CodeGenResultSourceMap {\n+    fn try_lookup_source_file(\n+        &self,\n+        pos: BytePos,\n+    ) -> Result<Option<Arc<SourceFile>>, SourceMapLookupError> {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.try_lookup_source_file(pos),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                source_maps[module].try_lookup_source_file(pos)\n+            }\n+        }\n+    }\n+\n+    fn is_in_file(&self, f: &Arc<SourceFile>, raw_pos: BytePos) -> bool {\n+        match self {\n+            CodeGenResultSourceMap::Single { .. } => f.start_pos <= raw_pos && raw_pos < f.end_pos,\n+            CodeGenResultSourceMap::ScopeHoisting { .. } => {\n+                // let (module, pos) = CodeGenResultComments::decode_bytepos(*modules_header_width,\n+                // pos);\n+\n+                // TODO optimize this, unfortunately, `SourceFile` doesn't know which `module` it\n+                // belongs from.\n+                false\n+            }\n+        }\n     }\n \n-    fn add_leading_comments(&self, pos: BytePos, comments: Vec<Comment>) {\n-        self.mutable.add_leading_comments(pos, comments);\n+    fn map_raw_pos(&self, pos: BytePos) -> BytePos {\n+        match self {\n+            CodeGenResultSourceMap::Single { .. } => pos,\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                ..\n+            } => CodeGenResultComments::decode_bytepos(*modules_header_width, pos).1,\n+        }\n+    }\n+}\n+\n+impl SourceMapper for CodeGenResultSourceMap {\n+    fn lookup_char_pos(&self, pos: BytePos) -> Loc {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.lookup_char_pos(pos),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                source_maps[module].lookup_char_pos(pos)\n+            }\n+        }\n+    }\n+    fn span_to_lines(&self, sp: Span) -> FileLinesResult {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.span_to_lines(sp),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, lo) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp.lo);\n+                source_maps[module].span_to_lines(Span {\n+                    lo,\n+                    hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp.hi).1,\n+                })\n+            }\n+        }\n+    }\n+    fn span_to_string(&self, sp: Span) -> String {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.span_to_string(sp),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, lo) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp.lo);\n+                source_maps[module].span_to_string(Span {\n+                    lo,\n+                    hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp.hi).1,\n+                })\n+            }\n+        }\n+    }\n+    fn span_to_filename(&self, sp: Span) -> Arc<FileName> {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.span_to_filename(sp),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, lo) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp.lo);\n+                source_maps[module].span_to_filename(Span {\n+                    lo,\n+                    hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp.hi).1,\n+                })\n+            }\n+        }\n+    }\n+    fn merge_spans(&self, sp_lhs: Span, sp_rhs: Span) -> Option<Span> {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.merge_spans(sp_lhs, sp_rhs),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module_lhs, lo_lhs) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp_lhs.lo);\n+                let (module_rhs, lo_rhs) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp_rhs.lo);\n+                if module_lhs != module_rhs {\n+                    return None;\n+                }\n+                source_maps[module_lhs].merge_spans(\n+                    Span {\n+                        lo: lo_lhs,\n+                        hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp_lhs.hi)\n+                            .1,\n+                    },\n+                    Span {\n+                        lo: lo_rhs,\n+                        hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp_rhs.hi)\n+                            .1,\n+                    },\n+                )\n+            }\n+        }\n+    }\n+    fn call_span_if_macro(&self, sp: Span) -> Span {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.call_span_if_macro(sp),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, lo) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp.lo);\n+                source_maps[module].call_span_if_macro(Span {\n+                    lo,\n+                    hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp.hi).1,\n+                })\n+            }\n+        }\n+    }\n+    fn doctest_offset_line(&self, _line: usize) -> usize {\n+        panic!(\"doctest_offset_line is not implemented for CodeGenResultSourceMap\");\n+    }\n+    fn span_to_snippet(&self, sp: Span) -> Result<String, Box<SpanSnippetError>> {\n+        match self {\n+            CodeGenResultSourceMap::Single { source_map } => source_map.span_to_snippet(sp),\n+            CodeGenResultSourceMap::ScopeHoisting {\n+                modules_header_width,\n+                source_maps,\n+            } => {\n+                let (module, lo) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, sp.lo);\n+                source_maps[module].span_to_snippet(Span {\n+                    lo,\n+                    hi: CodeGenResultComments::decode_bytepos(*modules_header_width, sp.hi).1,\n+                })\n+            }\n+        }\n+    }\n+}\n+impl SourceMapperExt for CodeGenResultSourceMap {\n+    fn get_code_map(&self) -> &dyn SourceMapper {\n+        self\n+    }\n+}\n+\n+#[derive(Debug)]\n+enum CodeGenResultOriginalSourceMap {\n+    Single(Option<ResolvedVc<Box<dyn GenerateSourceMap>>>),\n+    ScopeHoisting(SmallVec<[ResolvedVc<Box<dyn GenerateSourceMap>>; 1]>),\n+}\n+\n+impl CodeGenResultOriginalSourceMap {\n+    fn iter(&self) -> impl Iterator<Item = ResolvedVc<Box<dyn GenerateSourceMap>>> {\n+        match self {\n+            CodeGenResultOriginalSourceMap::Single(map) => Either::Left(map.iter().copied()),\n+            CodeGenResultOriginalSourceMap::ScopeHoisting(maps) => {\n+                Either::Right(maps.iter().copied())\n+            }\n+        }\n+    }\n+}\n+\n+enum CodeGenResultComments {\n+    Single {\n+        comments: Either<ImmutableComments, Arc<ImmutableComments>>,\n+        extra_comments: SwcComments,\n+    },\n+    ScopeHoisting {\n+        /// The bitwidth of the modules header in the spans, see\n+        /// [CodeGenResultComments::encode_bytepos]\n+        modules_header_width: u32,\n+        comments: Vec<CodeGenResultComments>,\n+    },\n+    Empty,\n+}\n+\n+impl CodeGenResultComments {\n+    fn take(&mut self) -> Self {\n+        std::mem::replace(self, CodeGenResultComments::Empty)\n+    }\n+\n+    fn consumable(&self) -> CodeGenResultCommentsConsumable {\n+        match self {\n+            CodeGenResultComments::Single {\n+                comments,\n+                extra_comments,\n+            } => CodeGenResultCommentsConsumable::Single {\n+                comments: match comments {\n+                    Either::Left(comments) => comments.consumable(),\n+                    Either::Right(comments) => comments.consumable(),\n+                },\n+                extra_comments,\n+            },\n+            CodeGenResultComments::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => CodeGenResultCommentsConsumable::ScopeHoisting {\n+                modules_header_width: *modules_header_width,\n+                comments: comments.iter().map(|c| c.consumable()).collect(),\n+            },\n+            CodeGenResultComments::Empty => CodeGenResultCommentsConsumable::Empty,\n+        }\n+    }\n+\n+    fn encode_bytepos(modules_header_width: u32, module: u32, pos: BytePos) -> BytePos {\n+        if pos.is_dummy() {\n+            // nothing to encode\n+            return pos;\n+        }\n+\n+        // 00010000000000100100011010100101\n+        // ^^^^ module id\n+        //     ^ whether the bits stolen for the module were once 1 (i.e. \"sign extend\" again later)\n+        //      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ the original bytepos\n+        //\n+        // # Example:\n+        // pos=11111111111111110000000000000101 with module=0001\n+        // would become\n+        // pos=00011111111111110000000000000101\n+        // # Example:\n+        // pos=00000111111111110000000000000101 with module=0001\n+        // would become\n+        // pos=00010111111111110000000000000101\n+\n+        let header_width = modules_header_width + 1;\n+        let pos_width = 32 - header_width;\n+\n+        let pos = pos.0;\n+\n+        let old_high_bits = pos >> pos_width;\n+        let high_bits_set = if (2u32.pow(header_width) - 1) == old_high_bits {\n+            true\n+        } else if old_high_bits == 0 {\n+            false\n+        } else {\n+            panic!(\"The high bits of the position {pos} are not all 0s or 1s: {old_high_bits:b}\",);\n+        };\n+\n+        let pos = pos & !((2u32.pow(header_width) - 1) << pos_width);\n+        let encoded_high_bits = if high_bits_set { 1 } else { 0 } << pos_width;\n+        let encoded_module = module << (pos_width + 1);\n+\n+        BytePos(encoded_module | encoded_high_bits | pos)\n+    }\n+\n+    fn decode_bytepos(modules_header_width: u32, pos: BytePos) -> (usize, BytePos) {\n+        if pos.is_dummy() {\n+            // nothing to decode\n+            panic!(\"Cannot decode dummy BytePos\");\n+        }\n+\n+        let header_width = modules_header_width + 1;\n+        let pos_width = 32 - header_width;\n+\n+        let high_bits_set = ((pos.0 >> (pos_width)) & 1) == 1;\n+        let module = pos.0 >> (pos_width + 1);\n+        let pos = pos.0 & !((2u32.pow(header_width) - 1) << pos_width);\n+        let pos = if high_bits_set {\n+            pos | ((2u32.pow(header_width) - 1) << pos_width)\n+        } else {\n+            pos\n+        };\n+        (module as usize, BytePos(pos))\n+    }\n+}\n+\n+enum CodeGenResultCommentsConsumable<'a> {\n+    Single {\n+        comments: CowComments<'a>,\n+        extra_comments: &'a SwcComments,\n+    },\n+    ScopeHoisting {\n+        modules_header_width: u32,\n+        comments: Vec<CodeGenResultCommentsConsumable<'a>>,\n+    },\n+    Empty,\n+}\n+\n+unsafe impl Send for CodeGenResultComments {}\n+unsafe impl Sync for CodeGenResultComments {}\n+\n+impl Comments for CodeGenResultCommentsConsumable<'_> {\n+    fn add_leading(&self, _pos: BytePos, _cmt: Comment) {\n+        unimplemented!()\n+    }\n+\n+    fn add_leading_comments(&self, _pos: BytePos, _comments: Vec<Comment>) {\n+        unimplemented!()\n     }\n \n     fn has_leading(&self, pos: BytePos) -> bool {\n-        self.baseline.has_leading(pos) || self.mutable.has_leading(pos)\n+        match self {\n+            Self::Single {\n+                comments,\n+                extra_comments,\n+            } => comments.has_leading(pos) || extra_comments.has_leading(pos),\n+            Self::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                comments[module].has_leading(pos)\n+            }\n+            Self::Empty => false,\n+        }\n     }\n \n-    fn move_leading(&self, from: BytePos, to: BytePos) {\n-        self.baseline.move_leading(from, to);\n-        self.mutable.move_leading(from, to);\n+    fn move_leading(&self, _from: BytePos, _to: BytePos) {\n+        unimplemented!()\n     }\n \n     fn take_leading(&self, pos: BytePos) -> Option<Vec<Comment>> {\n-        let (v1, v2) = (\n-            self.baseline.take_leading(pos),\n-            self.mutable.take_leading(pos),\n-        );\n-\n-        merge_option_vec(v1, v2)\n+        match self {\n+            Self::Single {\n+                comments,\n+                extra_comments,\n+            } => merge_option_vec(comments.take_leading(pos), extra_comments.take_leading(pos)),\n+            Self::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                comments[module].take_leading(pos)\n+            }\n+            Self::Empty => None,\n+        }\n     }\n \n     fn get_leading(&self, pos: BytePos) -> Option<Vec<Comment>> {\n-        let (v1, v2) = (\n-            self.baseline.get_leading(pos),\n-            self.mutable.get_leading(pos),\n-        );\n-\n-        merge_option_vec(v1, v2)\n+        match self {\n+            Self::Single {\n+                comments,\n+                extra_comments,\n+            } => merge_option_vec(comments.get_leading(pos), extra_comments.get_leading(pos)),\n+            Self::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                comments[module].get_leading(pos)\n+            }\n+            Self::Empty => None,\n+        }\n     }\n \n-    fn add_trailing(&self, pos: BytePos, cmt: Comment) {\n-        self.mutable.add_trailing(pos, cmt);\n+    fn add_trailing(&self, _pos: BytePos, _cmt: Comment) {\n+        unimplemented!()\n     }\n \n-    fn add_trailing_comments(&self, pos: BytePos, comments: Vec<Comment>) {\n-        self.mutable.add_trailing_comments(pos, comments);\n+    fn add_trailing_comments(&self, _pos: BytePos, _comments: Vec<Comment>) {\n+        unimplemented!()\n     }\n \n     fn has_trailing(&self, pos: BytePos) -> bool {\n-        self.baseline.has_trailing(pos) || self.mutable.has_trailing(pos)\n+        match self {\n+            Self::Single {\n+                comments,\n+                extra_comments,\n+            } => comments.has_trailing(pos) || extra_comments.has_trailing(pos),\n+            Self::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                comments[module].has_trailing(pos)\n+            }\n+            Self::Empty => false,\n+        }\n     }\n \n-    fn move_trailing(&self, from: BytePos, to: BytePos) {\n-        self.baseline.move_trailing(from, to);\n-        self.mutable.move_trailing(from, to);\n+    fn move_trailing(&self, _from: BytePos, _to: BytePos) {\n+        unimplemented!()\n     }\n \n     fn take_trailing(&self, pos: BytePos) -> Option<Vec<Comment>> {\n-        let (v1, v2) = (\n-            self.baseline.take_trailing(pos),\n-            self.mutable.take_trailing(pos),\n-        );\n-\n-        merge_option_vec(v1, v2)\n+        match self {\n+            Self::Single {\n+                comments,\n+                extra_comments,\n+            } => merge_option_vec(\n+                comments.take_trailing(pos),\n+                extra_comments.take_trailing(pos),\n+            ),\n+            Self::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                comments[module].take_trailing(pos)\n+            }\n+            Self::Empty => None,\n+        }\n     }\n \n     fn get_trailing(&self, pos: BytePos) -> Option<Vec<Comment>> {\n-        let (v1, v2) = (\n-            self.baseline.get_trailing(pos),\n-            self.mutable.get_trailing(pos),\n-        );\n-\n-        merge_option_vec(v1, v2)\n+        match self {\n+            Self::Single {\n+                comments,\n+                extra_comments,\n+            } => merge_option_vec(comments.get_leading(pos), extra_comments.get_leading(pos)),\n+            Self::ScopeHoisting {\n+                modules_header_width,\n+                comments,\n+            } => {\n+                let (module, pos) =\n+                    CodeGenResultComments::decode_bytepos(*modules_header_width, pos);\n+                comments[module].get_leading(pos)\n+            }\n+            Self::Empty => None,\n+        }\n     }\n \n-    fn add_pure_comment(&self, pos: BytePos) {\n-        self.mutable.add_pure_comment(pos);\n+    fn add_pure_comment(&self, _pos: BytePos) {\n+        unimplemented!()\n     }\n }\n \n@@ -1409,3 +2562,100 @@ pub fn register() {\n     turbo_esregex::register();\n     include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n }\n+\n+#[cfg(test)]\n+mod tests {\n+    use super::*;\n+    fn bytepos_ensure_identical(modules_header_width: u32, pos: BytePos) {\n+        let module_count = 2u32.pow(modules_header_width);\n+\n+        for module in [\n+            0,\n+            1,\n+            2,\n+            module_count / 2,\n+            module_count.wrapping_sub(5),\n+            module_count.wrapping_sub(1),\n+        ]\n+        .into_iter()\n+        .filter(|&m| m < module_count)\n+        {\n+            let encoded = CodeGenResultComments::encode_bytepos(modules_header_width, module, pos);\n+            let (decoded_module, decoded_pos) =\n+                CodeGenResultComments::decode_bytepos(modules_header_width, encoded);\n+            assert_eq!(\n+                decoded_module as u32, module,\n+                \"Testing width {modules_header_width} and pos {pos:?}\"\n+            );\n+            assert_eq!(\n+                decoded_pos, pos,\n+                \"Testing width {modules_header_width} and pos {pos:?}\"\n+            );\n+        }\n+    }\n+\n+    #[test]\n+    fn test_encode_decode_bytepos_format() {\n+        for (pos, module, modules_header_width, result) in [\n+            (\n+                0b00000000000000000000000000000101,\n+                0b1,\n+                1,\n+                0b10000000000000000000000000000101,\n+            ),\n+            (\n+                0b00000000000000000000000000000101,\n+                0b01,\n+                2,\n+                0b01000000000000000000000000000101,\n+            ),\n+            (\n+                0b11111111111111110000000000000101,\n+                0b0001,\n+                4,\n+                0b00011111111111110000000000000101,\n+            ),\n+            (\n+                0b00000111111111110000000000000101,\n+                0b0001,\n+                4,\n+                0b00010111111111110000000000000101,\n+            ),\n+            // Special case, DUMMY stays a DUMMY\n+            (BytePos::DUMMY.0, 0b0001, 4, BytePos::DUMMY.0),\n+        ] {\n+            let encoded =\n+                CodeGenResultComments::encode_bytepos(modules_header_width, module, BytePos(pos));\n+            assert_eq!(encoded.0, result);\n+        }\n+    }\n+\n+    #[test]\n+    fn test_encode_decode_bytepos_lossless() {\n+        // This is copied from swc (it's not exported), comments the range above this value.\n+        const DUMMY_RESERVE: u32 = u32::MAX - 2_u32.pow(16);\n+\n+        for modules_header_width in 1..=6 {\n+            for pos in [\n+                // BytePos::DUMMY, // This must never get decoded in the first place\n+                BytePos(1),\n+                BytePos(2),\n+                BytePos(100),\n+                BytePos(4_000_000),\n+                BytePos(60_000_000),\n+                BytePos::PLACEHOLDER,\n+                BytePos::SYNTHESIZED,\n+                BytePos::PURE,\n+                BytePos(DUMMY_RESERVE),\n+                BytePos(DUMMY_RESERVE + 10),\n+                BytePos(DUMMY_RESERVE + 10000),\n+            ] {\n+                if modules_header_width == 6 && pos.0 == 60_000_000 {\n+                    // this is unfortunately too large indeed, will trigger the panic.\n+                    continue;\n+                }\n+                bytepos_ensure_identical(modules_header_width, pos);\n+            }\n+        }\n+    }\n+}"
        },
        {
            "sha": "21e50229c762e07578346a2f9bb49692311f22ca",
            "filename": "turbopack/crates/turbopack-ecmascript/src/merged_module.rs",
            "status": "added",
            "additions": 172,
            "deletions": 0,
            "changes": 172,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmerged_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmerged_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fmerged_module.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,172 @@\n+use anyhow::Result;\n+use turbo_tasks::{ResolvedVc, Vc};\n+use turbopack_core::{\n+    asset::{Asset, AssetContent},\n+    chunk::{\n+        AsyncModuleInfo, ChunkItem, ChunkType, ChunkableModule, ChunkingContext,\n+        MergeableModuleExposure,\n+    },\n+    ident::AssetIdent,\n+    module::Module,\n+    module_graph::ModuleGraph,\n+    reference::ModuleReferences,\n+};\n+\n+use crate::{\n+    EcmascriptAnalyzable, EcmascriptModuleContent, EcmascriptOptions,\n+    chunk::{EcmascriptChunkItem, EcmascriptChunkItemContent, EcmascriptChunkType},\n+};\n+\n+#[turbo_tasks::value(shared)]\n+pub(crate) struct MergedEcmascriptModule {\n+    modules: Vec<(\n+        ResolvedVc<Box<dyn EcmascriptAnalyzable>>,\n+        MergeableModuleExposure,\n+    )>,\n+    entry_points: Vec<ResolvedVc<Box<dyn EcmascriptAnalyzable>>>,\n+    options: ResolvedVc<EcmascriptOptions>,\n+}\n+\n+impl MergedEcmascriptModule {\n+    pub fn new(\n+        modules: Vec<(\n+            ResolvedVc<Box<dyn EcmascriptAnalyzable>>,\n+            MergeableModuleExposure,\n+        )>,\n+        entry_points: Vec<ResolvedVc<Box<dyn EcmascriptAnalyzable>>>,\n+        options: ResolvedVc<EcmascriptOptions>,\n+    ) -> ResolvedVc<Self> {\n+        MergedEcmascriptModule {\n+            modules,\n+            entry_points,\n+            options,\n+        }\n+        .resolved_cell()\n+    }\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl Asset for MergedEcmascriptModule {\n+    #[turbo_tasks::function]\n+    fn content(&self) -> Vc<AssetContent> {\n+        panic!(\"content() should not be called\");\n+    }\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl Module for MergedEcmascriptModule {\n+    #[turbo_tasks::function]\n+    fn ident(&self) -> Vc<AssetIdent> {\n+        // This purposely reuses the module's ident as it has replaced the original module, thus\n+        // there can never be a collision.\n+        self.entry_points.first().unwrap().ident()\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn references(self: Vc<Self>) -> Result<Vc<ModuleReferences>> {\n+        panic!(\"references() should not be called\");\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn is_self_async(&self) -> Result<Vc<bool>> {\n+        panic!(\"is_self_async() should not be called\");\n+    }\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl ChunkableModule for MergedEcmascriptModule {\n+    #[turbo_tasks::function]\n+    fn as_chunk_item(\n+        self: ResolvedVc<Self>,\n+        module_graph: ResolvedVc<ModuleGraph>,\n+        chunking_context: ResolvedVc<Box<dyn ChunkingContext>>,\n+    ) -> Vc<Box<dyn ChunkItem>> {\n+        Vc::upcast(\n+            MergedEcmascriptModuleChunkItem {\n+                module: self,\n+                module_graph,\n+                chunking_context,\n+            }\n+            .cell(),\n+        )\n+    }\n+}\n+\n+#[turbo_tasks::value]\n+struct MergedEcmascriptModuleChunkItem {\n+    module: ResolvedVc<MergedEcmascriptModule>,\n+    module_graph: ResolvedVc<ModuleGraph>,\n+    chunking_context: ResolvedVc<Box<dyn ChunkingContext>>,\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl ChunkItem for MergedEcmascriptModuleChunkItem {\n+    #[turbo_tasks::function]\n+    fn asset_ident(&self) -> Vc<AssetIdent> {\n+        self.module.ident()\n+    }\n+\n+    #[turbo_tasks::function]\n+    fn chunking_context(&self) -> Vc<Box<dyn ChunkingContext>> {\n+        *ResolvedVc::upcast(self.chunking_context)\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn ty(&self) -> Result<Vc<Box<dyn ChunkType>>> {\n+        Ok(Vc::upcast(\n+            Vc::<EcmascriptChunkType>::default().resolve().await?,\n+        ))\n+    }\n+\n+    #[turbo_tasks::function]\n+    fn module(&self) -> Vc<Box<dyn Module>> {\n+        *ResolvedVc::upcast(self.module)\n+    }\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl EcmascriptChunkItem for MergedEcmascriptModuleChunkItem {\n+    #[turbo_tasks::function]\n+    fn content(self: Vc<Self>) -> Vc<EcmascriptChunkItemContent> {\n+        panic!(\"content() should not be called\");\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn content_with_async_module_info(\n+        &self,\n+        async_module_info: Option<Vc<AsyncModuleInfo>>,\n+    ) -> Result<Vc<EcmascriptChunkItemContent>> {\n+        let module = self.module.await?;\n+        let modules = &module.modules;\n+        let entry_points = &module.entry_points;\n+        let options = modules\n+            .iter()\n+            .map(|(m, _)| {\n+                let Some(m) = ResolvedVc::try_downcast::<Box<dyn EcmascriptAnalyzable>>(*m) else {\n+                    anyhow::bail!(\"Expected EcmascriptAnalyzable in scope hoisting group\");\n+                };\n+                Ok(m.module_content_options(\n+                    *self.module_graph,\n+                    *self.chunking_context,\n+                    async_module_info,\n+                ))\n+            })\n+            .collect::<Result<Vec<_>>>()?;\n+\n+        let content = EcmascriptModuleContent::new_merged(\n+            modules.clone(),\n+            options,\n+            ResolvedVc::deref_vec(entry_points.clone()),\n+        );\n+\n+        // Currently, merged modules never include async modules.\n+        let async_module_options = Vc::cell(None);\n+\n+        Ok(EcmascriptChunkItemContent::new(\n+            content,\n+            *self.chunking_context,\n+            *module.options,\n+            async_module_options,\n+        ))\n+    }\n+}"
        },
        {
            "sha": "419cdf308bda72a1dec799cbfa4968fa0bed6f02",
            "filename": "turbopack/crates/turbopack-ecmascript/src/minify.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fminify.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fminify.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fminify.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -132,9 +132,10 @@ pub fn minify(code: Code, source_maps: bool, mangle: Option<MangleType>) -> Resu\n         builder.push_source(\n             &src.into(),\n             Some(generate_js_source_map(\n-                cm,\n+                &*cm,\n                 src_map_buf,\n                 Some(original_map),\n+                true,\n                 // We do not inline source contents.\n                 // We provide a synthesized value to `cm.new_source_file` above, so it cannot be\n                 // the value user expect anyway."
        },
        {
            "sha": "98a6ed428f33c4c74ce6ff6fdb5a3368547e52c0",
            "filename": "turbopack/crates/turbopack-ecmascript/src/parse.rs",
            "status": "modified",
            "additions": 48,
            "deletions": 34,
            "changes": 82,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fparse.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -9,7 +9,7 @@ use swc_core::{\n         BytePos, FileName, GLOBALS, Globals, LineCol, Mark, SyntaxContext,\n         errors::{HANDLER, Handler},\n         input::StringInput,\n-        source_map::SourceMapGenConfig,\n+        source_map::{Files, SourceMapGenConfig, build_source_map},\n         util::take::Take,\n     },\n     ecma::{\n@@ -99,56 +99,70 @@ impl ParseResult {\n     }\n }\n \n+/// `original_source_maps_complete` indicates whether the `original_source_maps` cover the whole\n+/// map, i.e. whether every module that ended up in `mappings` had an original sourcemap.\n #[instrument(level = Level::INFO, skip_all)]\n-pub fn generate_js_source_map(\n-    files_map: Arc<swc_core::common::SourceMap>,\n+pub fn generate_js_source_map<'a>(\n+    files_map: &impl Files,\n     mappings: Vec<(BytePos, LineCol)>,\n-    original_source_map: Option<&Rope>,\n+    original_source_maps: impl IntoIterator<Item = &'a Rope>,\n+    original_source_maps_complete: bool,\n     inline_sources_content: bool,\n ) -> Result<Rope> {\n-    let original_source_map = original_source_map.map(|x| x.to_bytes());\n-    let input_map = if let Some(original_source_map) = &original_source_map {\n-        Some(swc_sourcemap::lazy::decode(original_source_map)?.into_source_map()?)\n-    } else {\n-        None\n-    };\n-\n-    let new_mappings = files_map.build_source_map(\n+    let original_source_maps = original_source_maps\n+        .into_iter()\n+        .map(|map| map.to_bytes())\n+        .collect::<Vec<_>>();\n+    let original_source_maps = original_source_maps\n+        .iter()\n+        .map(|map| Ok(swc_sourcemap::lazy::decode(map)?.into_source_map()?))\n+        .collect::<Result<Vec<_>>>()?;\n+\n+    let fast_path_single_original_source_map =\n+        original_source_maps.len() == 1 && original_source_maps_complete;\n+\n+    let mut new_mappings = build_source_map(\n+        files_map,\n         &mappings,\n         None,\n-        InlineSourcesContentConfig {\n+        &InlineSourcesContentConfig {\n             // If we are going to adjust the source map, we are going to throw the source contents\n             // of this source map away regardless.\n             //\n             // In other words, we don't need the content of `B` in source map chain of A -> B -> C.\n             // We only need the source content of `A`, and a way to map the content of `B` back to\n             // `A`, while constructing the final source map, `C`.\n-            inline_sources_content: inline_sources_content && input_map.is_none(),\n+            inline_sources_content: inline_sources_content && !fast_path_single_original_source_map,\n         },\n     );\n \n-    match input_map {\n-        Some(mut map) => {\n-            // TODO: Make this more efficient\n-            map.adjust_mappings(new_mappings);\n-\n-            // TODO: Enable this when we have a way to handle the ignore list\n-            // add_default_ignore_list(&mut map);\n-            let map = map.into_raw_sourcemap();\n-            let result = serde_json::to_vec(&map)?;\n-            Ok(Rope::from(result))\n-        }\n-        None => {\n-            // We don't convert sourcemap::SourceMap into raw_sourcemap::SourceMap because we don't\n-            // need to adjust mappings\n-            let mut map = new_mappings;\n+    if original_source_maps.is_empty() {\n+        // We don't convert sourcemap::SourceMap into raw_sourcemap::SourceMap because we don't\n+        // need to adjust mappings\n+\n+        add_default_ignore_list(&mut new_mappings);\n+\n+        let mut result = vec![];\n+        new_mappings.to_writer(&mut result)?;\n+        Ok(Rope::from(result))\n+    } else if fast_path_single_original_source_map {\n+        let mut map = original_source_maps.into_iter().next().unwrap();\n+        // TODO: Make this more efficient\n+        map.adjust_mappings(new_mappings);\n+\n+        // TODO: Enable this when we have a way to handle the ignore list\n+        // add_default_ignore_list(&mut map);\n+        let map = map.into_raw_sourcemap();\n+        let result = serde_json::to_vec(&map)?;\n+        Ok(Rope::from(result))\n+    } else {\n+        let mut map = new_mappings.adjust_mappings_from_multiple(original_source_maps);\n \n-            add_default_ignore_list(&mut map);\n+        add_default_ignore_list(&mut map);\n \n-            let mut result = vec![];\n-            map.to_writer(&mut result)?;\n-            Ok(Rope::from(result))\n-        }\n+        let mut result = vec![];\n+        map.to_writer(&mut result)?;\n+        Ok(Rope::from(result))\n     }\n }\n "
        },
        {
            "sha": "2c7ab0dcc41712f12240b46e96545dcb22e941f6",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/async_module.rs",
            "status": "modified",
            "additions": 19,
            "deletions": 7,
            "changes": 26,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fasync_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fasync_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fasync_module.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -17,7 +17,11 @@ use turbopack_core::{\n };\n \n use super::esm::base::ReferencedAsset;\n-use crate::code_gen::{CodeGeneration, CodeGenerationHoistedStmt};\n+use crate::{\n+    ScopeHoistingContext,\n+    code_gen::{CodeGeneration, CodeGenerationHoistedStmt},\n+    utils::AstSyntaxContext,\n+};\n \n /// Information needed for generating the async module wrapper for\n /// [EcmascriptChunkItem](crate::chunk::EcmascriptChunkItem)s.\n@@ -76,8 +80,10 @@ impl OptionAsyncModule {\n     }\n }\n \n+/// The identifiers (and their corresponding syntax context) of all async modules referenced by the\n+/// current module.\n #[turbo_tasks::value(transparent)]\n-struct AsyncModuleIdents(FxIndexSet<String>);\n+struct AsyncModuleIdents(FxIndexSet<(String, AstSyntaxContext)>);\n \n async fn get_inherit_async_referenced_asset(\n     r: Vc<Box<dyn ModuleReference>>,\n@@ -123,7 +129,11 @@ impl AsyncModule {\n                 Ok(match &*referenced_asset {\n                     ReferencedAsset::External(_, ExternalType::EcmaScriptModule) => {\n                         if self.import_externals {\n-                            referenced_asset.get_ident(chunking_context).await?\n+                            referenced_asset\n+                                .get_ident(chunking_context, None, ScopeHoistingContext::None)\n+                                .await?\n+                                .map(|i| i.into_module_namespace_ident().unwrap())\n+                                .map(|(i, ctx)| (i, ctx.unwrap_or_default().into()))\n                         } else {\n                             None\n                         }\n@@ -133,7 +143,11 @@ impl AsyncModule {\n                             .referenced_async_modules\n                             .contains(&ResolvedVc::upcast(*placeable))\n                         {\n-                            referenced_asset.get_ident(chunking_context).await?\n+                            referenced_asset\n+                                .get_ident(chunking_context, None, ScopeHoistingContext::None)\n+                                .await?\n+                                .map(|i| i.into_module_namespace_ident().unwrap())\n+                                .map(|(i, ctx)| (i, ctx.unwrap_or_default().into()))\n                         } else {\n                             None\n                         }\n@@ -208,9 +222,7 @@ impl AsyncModule {\n             if !async_idents.is_empty() {\n                 let idents = async_idents\n                     .iter()\n-                    .map(|ident: &String| {\n-                        Ident::new(ident.clone().into(), DUMMY_SP, Default::default())\n-                    })\n+                    .map(|(ident, ctxt)| Ident::new(ident.clone().into(), DUMMY_SP, **ctxt))\n                     .collect::<Vec<_>>();\n \n                 return Ok(CodeGeneration::hoisted_stmts(["
        },
        {
            "sha": "da38484398928bb99c4408ec9785e668befc5ce6",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/base.rs",
            "status": "modified",
            "additions": 447,
            "deletions": 127,
            "changes": 574,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbase.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbase.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbase.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,8 +1,12 @@\n use anyhow::{Result, anyhow, bail};\n+use either::Either;\n use strsim::jaro;\n use swc_core::{\n-    common::{BytePos, DUMMY_SP, Span},\n-    ecma::ast::{Decl, Expr, ExprStmt, Ident, Stmt},\n+    common::{BytePos, DUMMY_SP, Span, SyntaxContext},\n+    ecma::ast::{\n+        ComputedPropName, Decl, Expr, ExprStmt, Ident, Lit, MemberExpr, MemberProp, Number,\n+        SeqExpr, Stmt, Str,\n+    },\n     quote,\n };\n use turbo_rcstr::{RcStr, rcstr};\n@@ -32,12 +36,15 @@ use turbopack_resolve::ecmascript::esm_resolve;\n \n use super::export::{all_known_export_names, is_export_missing};\n use crate::{\n-    TreeShakingMode,\n+    ScopeHoistingContext, TreeShakingMode,\n     analyzer::imports::ImportAnnotations,\n-    chunk::EcmascriptChunkPlaceable,\n-    code_gen::CodeGeneration,\n+    chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n+    code_gen::{CodeGeneration, CodeGenerationHoistedStmt},\n     magic_identifier,\n-    references::util::{request_to_string, throw_module_not_found_expr},\n+    references::{\n+        esm::EsmExport,\n+        util::{request_to_string, throw_module_not_found_expr},\n+    },\n     runtime_functions::{TURBOPACK_EXTERNAL_IMPORT, TURBOPACK_EXTERNAL_REQUIRE, TURBOPACK_IMPORT},\n     tree_shake::{TURBOPACK_PART_IMPORT_SOURCE, asset::EcmascriptModulePartAsset},\n     utils::module_id_to_lit,\n@@ -51,18 +58,199 @@ pub enum ReferencedAsset {\n     Unresolvable,\n }\n \n+#[derive(Debug)]\n+pub enum ReferencedAssetIdent {\n+    /// The given export (or namespace) is a local binding in the current scope hoisting group.\n+    LocalBinding { ident: RcStr, ctxt: SyntaxContext },\n+    /// The given export (or namespace) should be imported and will be assigned to a new variable.\n+    Module {\n+        namespace_ident: String,\n+        ctxt: Option<SyntaxContext>,\n+        export: Option<RcStr>,\n+    },\n+}\n+\n+impl ReferencedAssetIdent {\n+    pub fn into_module_namespace_ident(self) -> Option<(String, Option<SyntaxContext>)> {\n+        match self {\n+            ReferencedAssetIdent::Module {\n+                namespace_ident,\n+                ctxt,\n+                ..\n+            } => Some((namespace_ident, ctxt)),\n+            ReferencedAssetIdent::LocalBinding { .. } => None,\n+        }\n+    }\n+\n+    pub fn as_expr_individual(&self, span: Span) -> Either<Ident, MemberExpr> {\n+        match self {\n+            ReferencedAssetIdent::LocalBinding { ident, ctxt } => {\n+                Either::Left(Ident::new(ident.as_str().into(), span, *ctxt))\n+            }\n+            ReferencedAssetIdent::Module {\n+                namespace_ident,\n+                ctxt,\n+                export,\n+            } => {\n+                let ns = Ident::new(\n+                    namespace_ident.as_str().into(),\n+                    span,\n+                    ctxt.unwrap_or_default(),\n+                );\n+                if let Some(export) = export {\n+                    Either::Right(MemberExpr {\n+                        span,\n+                        obj: Box::new(Expr::Ident(ns)),\n+                        prop: MemberProp::Computed(ComputedPropName {\n+                            span,\n+                            expr: Box::new(Expr::Lit(Lit::Str(Str {\n+                                span,\n+                                value: export.as_str().into(),\n+                                raw: None,\n+                            }))),\n+                        }),\n+                    })\n+                } else {\n+                    Either::Left(ns)\n+                }\n+            }\n+        }\n+    }\n+    pub fn as_expr(&self, span: Span, is_callee: bool) -> Expr {\n+        match self.as_expr_individual(span) {\n+            Either::Left(ident) => ident.into(),\n+            Either::Right(member) => {\n+                if is_callee {\n+                    Expr::Seq(SeqExpr {\n+                        exprs: vec![\n+                            Box::new(Expr::Lit(Lit::Num(Number {\n+                                span,\n+                                value: 0.0,\n+                                raw: None,\n+                            }))),\n+                            Box::new(member.into()),\n+                        ],\n+                        span,\n+                    })\n+                } else {\n+                    member.into()\n+                }\n+            }\n+        }\n+    }\n+}\n+\n impl ReferencedAsset {\n     pub async fn get_ident(\n         &self,\n         chunking_context: Vc<Box<dyn ChunkingContext>>,\n-    ) -> Result<Option<String>> {\n+        export: Option<RcStr>,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n+    ) -> Result<Option<ReferencedAssetIdent>> {\n+        self.get_ident_inner(chunking_context, export, scope_hoisting_context, None)\n+            .await\n+    }\n+\n+    async fn get_ident_inner(\n+        &self,\n+        chunking_context: Vc<Box<dyn ChunkingContext>>,\n+        export: Option<RcStr>,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n+        initial: Option<&ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>>,\n+    ) -> Result<Option<ReferencedAssetIdent>> {\n         Ok(match self {\n             ReferencedAsset::Some(asset) => {\n-                Some(Self::get_ident_from_placeable(asset, chunking_context).await?)\n+                if let Some(ctxt) =\n+                    scope_hoisting_context.get_module_syntax_context(ResolvedVc::upcast(*asset))\n+                    && let Some(export) = &export\n+                    && let EcmascriptExports::EsmExports(exports) = *asset.get_exports().await?\n+                {\n+                    let exports = exports.expand_exports(None).await?;\n+                    let esm_export = exports.exports.get(export);\n+                    match esm_export {\n+                        Some(EsmExport::LocalBinding(_, _)) => {\n+                            // A local binding in a module that is merged in the same group. Use the\n+                            // export name as identifier, it will be replaced with the actual\n+                            // variable name during AST merging.\n+                            return Ok(Some(ReferencedAssetIdent::LocalBinding {\n+                                ident: export.clone(),\n+                                ctxt,\n+                            }));\n+                        }\n+                        Some(b @ EsmExport::ImportedBinding(esm_ref, _, _))\n+                        | Some(b @ EsmExport::ImportedNamespace(esm_ref)) => {\n+                            let imported = if let EsmExport::ImportedBinding(_, export, _) = b {\n+                                Some(export.clone())\n+                            } else {\n+                                None\n+                            };\n+\n+                            let referenced_asset =\n+                                ReferencedAsset::from_resolve_result(esm_ref.resolve_reference())\n+                                    .await?;\n+\n+                            if let Some(&initial) = initial\n+                                && *referenced_asset == ReferencedAsset::Some(initial)\n+                            {\n+                                // `initial` reexports from `asset` reexports from\n+                                // `referenced_asset` (which is `initial`)\n+                                CircularReExport {\n+                                    export: export.clone(),\n+                                    import: imported.clone(),\n+                                    module: *asset,\n+                                    module_cycle: initial,\n+                                }\n+                                .resolved_cell()\n+                                .emit();\n+                                return Ok(None);\n+                            }\n+\n+                            // If the target module is still in the same group, we can\n+                            // refer it locally, otherwise it will be imported\n+                            return Ok(\n+                                match Box::pin(referenced_asset.get_ident_inner(\n+                                    chunking_context,\n+                                    imported,\n+                                    scope_hoisting_context,\n+                                    Some(asset),\n+                                ))\n+                                .await?\n+                                {\n+                                    Some(ReferencedAssetIdent::Module {\n+                                        namespace_ident,\n+                                        // Overwrite the context. This import isn't\n+                                        // inserted in the module that uses the import,\n+                                        // but in the module containing the reexport\n+                                        ctxt: None,\n+                                        export,\n+                                    }) => Some(ReferencedAssetIdent::Module {\n+                                        namespace_ident,\n+                                        ctxt: Some(ctxt),\n+                                        export,\n+                                    }),\n+                                    ident => ident,\n+                                },\n+                            );\n+                        }\n+                        Some(EsmExport::Error) | None => {\n+                            // Export not found, either there was already an error, or\n+                            // this is some dynamic (CJS) (re)export situation.\n+                        }\n+                    }\n+                }\n+\n+                Some(ReferencedAssetIdent::Module {\n+                    namespace_ident: Self::get_ident_from_placeable(asset, chunking_context)\n+                        .await?,\n+                    ctxt: None,\n+                    export,\n+                })\n             }\n-            ReferencedAsset::External(request, ty) => Some(magic_identifier::mangle(&format!(\n-                \"{ty} external {request}\"\n-            ))),\n+            ReferencedAsset::External(request, ty) => Some(ReferencedAssetIdent::Module {\n+                namespace_ident: magic_identifier::mangle(&format!(\"{ty} external {request}\")),\n+                ctxt: None,\n+                export,\n+            }),\n             ReferencedAsset::None | ReferencedAsset::Unresolvable => None,\n         })\n     }\n@@ -304,137 +492,209 @@ impl EsmAssetReference {\n     pub async fn code_generation(\n         self: Vc<Self>,\n         chunking_context: Vc<Box<dyn ChunkingContext>>,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n     ) -> Result<CodeGeneration> {\n         let this = &*self.await?;\n \n         // only chunked references can be imported\n-        let result = if this.annotations.chunking_type() != Some(\"none\") {\n+        if this.annotations.chunking_type() != Some(\"none\") {\n             let import_externals = this.import_externals;\n             let referenced_asset = self.get_referenced_asset().await?;\n-            if let ReferencedAsset::Unresolvable = &*referenced_asset {\n-                // Insert code that throws immediately at time of import if a request is\n-                // unresolvable\n-                let request = request_to_string(*this.request).await?.to_string();\n-                let stmt = Stmt::Expr(ExprStmt {\n-                    expr: Box::new(throw_module_not_found_expr(&request)),\n-                    span: DUMMY_SP,\n-                });\n-                Some((format!(\"throw {request}\").into(), stmt))\n-            } else if let Some(ident) = referenced_asset.get_ident(chunking_context).await? {\n-                let span = this\n-                    .issue_source\n-                    .to_swc_offsets()\n-                    .await?\n-                    .map_or(DUMMY_SP, |(start, end)| {\n-                        Span::new(BytePos(start), BytePos(end))\n+\n+            match &*referenced_asset {\n+                ReferencedAsset::Unresolvable => {\n+                    // Insert code that throws immediately at time of import if a request is\n+                    // unresolvable\n+                    let request = request_to_string(*this.request).await?.to_string();\n+                    let stmt = Stmt::Expr(ExprStmt {\n+                        expr: Box::new(throw_module_not_found_expr(&request)),\n+                        span: DUMMY_SP,\n                     });\n-                match &*referenced_asset {\n-                    ReferencedAsset::Unresolvable => {\n-                        unreachable!()\n-                    }\n-                    ReferencedAsset::Some(asset) => {\n-                        let id = asset.chunk_item_id(Vc::upcast(chunking_context)).await?;\n-                        let name = ident;\n-                        Some((\n-                            id.to_string().into(),\n-                            var_decl_with_span(\n-                                quote!(\n-                                    \"var $name = $turbopack_import($id);\" as Stmt,\n-                                    name = Ident::new(name.clone().into(), DUMMY_SP, Default::default()),\n-                                    turbopack_import: Expr = TURBOPACK_IMPORT.into(),\n-                                    id: Expr = module_id_to_lit(&id),\n-                                ),\n-                                span,\n+                    return Ok(CodeGeneration::hoisted_stmt(\n+                        format!(\"throw {request}\").into(),\n+                        stmt,\n+                    ));\n+                }\n+                ReferencedAsset::None => {}\n+                _ => {\n+                    let mut result = vec![];\n+\n+                    let merged_index = if let ReferencedAsset::Some(asset) = &*referenced_asset {\n+                        scope_hoisting_context.get_module_index(*asset)\n+                    } else {\n+                        None\n+                    };\n+\n+                    if let Some(merged_index) = merged_index {\n+                        // Insert a placeholder to inline the merged module at the right place\n+                        // relative to the other references (so to keep reference order).\n+                        result.push(CodeGenerationHoistedStmt::new(\n+                            format!(\"hoisted {merged_index}\").into(),\n+                            quote!(\n+                                \"__turbopack_merged_esm__($id);\" as Stmt,\n+                                id: Expr = Lit::Num(merged_index.into()).into(),\n                             ),\n-                        ))\n+                        ));\n                     }\n-                    ReferencedAsset::External(request, ExternalType::EcmaScriptModule) => {\n-                        if !*chunking_context\n-                            .environment()\n-                            .supports_esm_externals()\n-                            .await?\n-                        {\n-                            bail!(\n-                                \"the chunking context ({}) does not support external modules (esm \\\n-                                 request: {})\",\n-                                chunking_context.name().await?,\n-                                request\n-                            );\n+\n+                    if merged_index.is_some() && this.export_name == Some(ModulePart::Evaluation) {\n+                        // No need to import to execution, the module was already inlined.\n+                    } else {\n+                        let ident = referenced_asset\n+                            .get_ident(\n+                                chunking_context,\n+                                this.export_name.as_ref().and_then(|e| match e {\n+                                    ModulePart::Export(export_name) => Some(export_name.clone()),\n+                                    _ => None,\n+                                }),\n+                                scope_hoisting_context,\n+                            )\n+                            .await?;\n+                        match ident {\n+                            Some(ReferencedAssetIdent::LocalBinding { .. }) => {\n+                                // no need to import\n+                            }\n+                            Some(ident @ ReferencedAssetIdent::Module { .. }) => {\n+                                let span = this\n+                                    .issue_source\n+                                    .to_swc_offsets()\n+                                    .await?\n+                                    .map_or(DUMMY_SP, |(start, end)| {\n+                                        Span::new(BytePos(start), BytePos(end))\n+                                    });\n+                                match &*referenced_asset {\n+                                    ReferencedAsset::Unresolvable => {\n+                                        unreachable!();\n+                                    }\n+                                    ReferencedAsset::Some(asset) => {\n+                                        let id = asset\n+                                            .chunk_item_id(Vc::upcast(chunking_context))\n+                                            .await?;\n+                                        let (sym, ctxt) =\n+                                            ident.into_module_namespace_ident().unwrap();\n+                                        let name = Ident::new(\n+                                            sym.into(),\n+                                            DUMMY_SP,\n+                                            ctxt.unwrap_or_default(),\n+                                        );\n+                                        result.push(CodeGenerationHoistedStmt::new(\n+                                            id.to_string().into(),\n+                                            var_decl_with_span(\n+                                                quote!(\n+                                                    \"var $name = $turbopack_import($id);\" as Stmt,\n+                                                    name = name,\n+                                                    turbopack_import: Expr = TURBOPACK_IMPORT.into(),\n+                                                    id: Expr = module_id_to_lit(&id),\n+                                                ),\n+                                                span,\n+                                            ),\n+                                        ));\n+                                    }\n+                                    ReferencedAsset::External(\n+                                        request,\n+                                        ExternalType::EcmaScriptModule,\n+                                    ) => {\n+                                        if !*chunking_context\n+                                            .environment()\n+                                            .supports_esm_externals()\n+                                            .await?\n+                                        {\n+                                            bail!(\n+                                                \"the chunking context ({}) does not support \\\n+                                                 external modules (esm request: {})\",\n+                                                chunking_context.name().await?,\n+                                                request\n+                                            );\n+                                        }\n+                                        let (sym, ctxt) =\n+                                            ident.into_module_namespace_ident().unwrap();\n+                                        let name = Ident::new(\n+                                            sym.into(),\n+                                            DUMMY_SP,\n+                                            ctxt.unwrap_or_default(),\n+                                        );\n+                                        result.push(CodeGenerationHoistedStmt::new(\n+                                            name.sym.as_str().into(),\n+                                            var_decl_with_span(\n+                                                if import_externals {\n+                                                    quote!(\n+                                                        \"var $name = $turbopack_external_import($id);\" as Stmt,\n+                                                        name = name,\n+                                                        turbopack_external_import: Expr = TURBOPACK_EXTERNAL_IMPORT.into(),\n+                                                        id: Expr = Expr::Lit(request.clone().to_string().into())\n+                                                    )\n+                                                } else {\n+                                                    quote!(\n+                                                        \"var $name = $turbopack_external_require($id, () => require($id), true);\" as Stmt,\n+                                                        name = name,\n+                                                        turbopack_external_require: Expr = TURBOPACK_EXTERNAL_REQUIRE.into(),\n+                                                        id: Expr = Expr::Lit(request.clone().to_string().into())\n+                                                    )\n+                                                },\n+                                                span,\n+                                            ),\n+                                        ));\n+                                    }\n+                                    ReferencedAsset::External(\n+                                        request,\n+                                        ExternalType::CommonJs | ExternalType::Url,\n+                                    ) => {\n+                                        if !*chunking_context\n+                                            .environment()\n+                                            .supports_commonjs_externals()\n+                                            .await?\n+                                        {\n+                                            bail!(\n+                                                \"the chunking context ({}) does not support \\\n+                                                 external modules (request: {})\",\n+                                                chunking_context.name().await?,\n+                                                request\n+                                            );\n+                                        }\n+                                        let (sym, ctxt) =\n+                                            ident.into_module_namespace_ident().unwrap();\n+                                        let name = Ident::new(\n+                                            sym.into(),\n+                                            DUMMY_SP,\n+                                            ctxt.unwrap_or_default(),\n+                                        );\n+                                        result.push(CodeGenerationHoistedStmt::new(\n+                                            name.sym.as_str().into(),\n+                                            var_decl_with_span(\n+                                                quote!(\n+                                                    \"var $name = $turbopack_external_require($id, () => require($id), true);\" as Stmt,\n+                                                    name = name,\n+                                                    turbopack_external_require: Expr = TURBOPACK_EXTERNAL_REQUIRE.into(),\n+                                                    id: Expr = Expr::Lit(request.clone().to_string().into())\n+                                                ),\n+                                                span,\n+                                            ),\n+                                        ));\n+                                    }\n+                                    // fallback in case we introduce a new `ExternalType`\n+                                    #[allow(unreachable_patterns)]\n+                                    ReferencedAsset::External(request, ty) => {\n+                                        bail!(\n+                                            \"Unsupported external type {:?} for ESM reference \\\n+                                             with request: {:?}\",\n+                                            ty,\n+                                            request\n+                                        )\n+                                    }\n+                                    ReferencedAsset::None => {}\n+                                };\n+                            }\n+                            None => {\n+                                // Nothing to import.\n+                            }\n                         }\n-                        Some((\n-                            ident.clone().into(),\n-                            var_decl_with_span(\n-                                if import_externals {\n-                                    quote!(\n-                                        \"var $name = $turbopack_external_import($id);\" as Stmt,\n-                                        name = Ident::new(ident.clone().into(), DUMMY_SP, Default::default()),\n-                                        turbopack_external_import: Expr = TURBOPACK_EXTERNAL_IMPORT.into(),\n-                                        id: Expr = Expr::Lit(request.clone().to_string().into())\n-                                    )\n-                                } else {\n-                                    quote!(\n-                                        \"var $name = $turbopack_external_require($id, () => require($id), true);\" as Stmt,\n-                                        name = Ident::new(ident.clone().into(), DUMMY_SP, Default::default()),\n-                                        turbopack_external_require: Expr = TURBOPACK_EXTERNAL_REQUIRE.into(),\n-                                        id: Expr = Expr::Lit(request.clone().to_string().into())\n-                                    )\n-                                },\n-                                span,\n-                            ),\n-                        ))\n                     }\n-                    ReferencedAsset::External(\n-                        request,\n-                        ExternalType::CommonJs | ExternalType::Url,\n-                    ) => {\n-                        if !*chunking_context\n-                            .environment()\n-                            .supports_commonjs_externals()\n-                            .await?\n-                        {\n-                            bail!(\n-                                \"the chunking context ({}) does not support external modules \\\n-                                 (request: {})\",\n-                                chunking_context.name().await?,\n-                                request\n-                            );\n-                        }\n-                        Some((\n-                            ident.clone().into(),\n-                            var_decl_with_span(\n-                                quote!(\n-                                    \"var $name = $turbopack_external_require($id, () => require($id), true);\" as Stmt,\n-                                    name = Ident::new(ident.clone().into(), DUMMY_SP, Default::default()),\n-                                    turbopack_external_require: Expr = TURBOPACK_EXTERNAL_REQUIRE.into(),\n-                                    id: Expr = Expr::Lit(request.clone().to_string().into())\n-                                ),\n-                                span,\n-                            ),\n-                        ))\n-                    }\n-                    // fallback in case we introduce a new `ExternalType`\n-                    #[allow(unreachable_patterns)]\n-                    ReferencedAsset::External(request, ty) => {\n-                        bail!(\n-                            \"Unsupported external type {:?} for ESM reference with request: {:?}\",\n-                            ty,\n-                            request\n-                        )\n-                    }\n-                    ReferencedAsset::None => None,\n+                    return Ok(CodeGeneration::hoisted_stmts(result));\n                 }\n-            } else {\n-                None\n             }\n-        } else {\n-            None\n         };\n \n-        if let Some((key, stmt)) = result {\n-            Ok(CodeGeneration::hoisted_stmt(key, stmt))\n-        } else {\n-            Ok(CodeGeneration::empty())\n-        }\n+        Ok(CodeGeneration::empty())\n     }\n }\n \n@@ -539,3 +799,63 @@ impl Issue for InvalidExport {\n         Vc::cell(Some(self.source.clone()))\n     }\n }\n+\n+#[turbo_tasks::value(shared)]\n+pub struct CircularReExport {\n+    export: RcStr,\n+    import: Option<RcStr>,\n+    module: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+    module_cycle: ResolvedVc<Box<dyn EcmascriptChunkPlaceable>>,\n+    // TODO ideally we'd have an issue source here\n+}\n+\n+#[turbo_tasks::value_impl]\n+impl Issue for CircularReExport {\n+    fn severity(&self) -> IssueSeverity {\n+        IssueSeverity::Error\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn title(&self) -> Result<Vc<StyledString>> {\n+        Ok(StyledString::Line(vec![\n+            StyledString::Text(\"Export \".into()),\n+            StyledString::Code(self.export.clone()),\n+            StyledString::Text(\" is a circular re-export\".into()),\n+        ])\n+        .cell())\n+    }\n+\n+    #[turbo_tasks::function]\n+    fn stage(&self) -> Vc<IssueStage> {\n+        IssueStage::Bindings.into()\n+    }\n+\n+    #[turbo_tasks::function]\n+    fn file_path(&self) -> Vc<FileSystemPath> {\n+        self.module.ident().path()\n+    }\n+\n+    #[turbo_tasks::function]\n+    async fn description(&self) -> Result<Vc<OptionStyledString>> {\n+        Ok(Vc::cell(Some(\n+            StyledString::Stack(vec![\n+                StyledString::Line(vec![StyledString::Text(\"The export\".into())]),\n+                StyledString::Line(vec![\n+                    StyledString::Code(self.export.clone()),\n+                    StyledString::Text(\" of module \".into()),\n+                    StyledString::Strong(self.module.ident().to_string().owned().await?),\n+                ]),\n+                StyledString::Line(vec![StyledString::Text(\n+                    \"is a re-export of the export\".into(),\n+                )]),\n+                StyledString::Line(vec![\n+                    StyledString::Code(self.import.clone().unwrap_or_else(|| \"*\".into())),\n+                    StyledString::Text(\" of module \".into()),\n+                    StyledString::Strong(self.module_cycle.ident().to_string().owned().await?),\n+                    StyledString::Text(\".\".into()),\n+                ]),\n+            ])\n+            .resolved_cell(),\n+        )))\n+    }\n+}"
        },
        {
            "sha": "1bcd84ff6e16aa9049563d6e5e885730dd0b1cc8",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/binding.rs",
            "status": "modified",
            "additions": 37,
            "deletions": 76,
            "changes": 113,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbinding.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbinding.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fbinding.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,24 +1,22 @@\n use anyhow::Result;\n use serde::{Deserialize, Serialize};\n-use swc_core::{\n-    common::Span,\n-    ecma::{\n-        ast::{\n-            ComputedPropName, Expr, Ident, KeyValueProp, Lit, MemberExpr, MemberProp, Number, Prop,\n-            PropName, SeqExpr, SimpleAssignTarget, Str,\n-        },\n-        visit::fields::{CalleeField, PropField},\n-    },\n+use swc_core::ecma::{\n+    ast::{Expr, KeyValueProp, Prop, PropName, SimpleAssignTarget},\n+    visit::fields::{CalleeField, PropField},\n };\n use turbo_rcstr::RcStr;\n use turbo_tasks::{NonLocalValue, ResolvedVc, Vc, trace::TraceRawVcs};\n use turbopack_core::{chunk::ChunkingContext, module_graph::ModuleGraph};\n \n use super::EsmAssetReference;\n use crate::{\n+    ScopeHoistingContext,\n     code_gen::{CodeGen, CodeGeneration},\n     create_visitor,\n-    references::{AstPath, esm::base::ReferencedAsset},\n+    references::{\n+        AstPath,\n+        esm::base::{ReferencedAsset, ReferencedAssetIdent},\n+    },\n };\n \n #[derive(Hash, Clone, Debug, Serialize, Deserialize, PartialEq, Eq, TraceRawVcs, NonLocalValue)]\n@@ -45,22 +43,23 @@ impl EsmBinding {\n         &self,\n         _module_graph: Vc<ModuleGraph>,\n         chunking_context: Vc<Box<dyn ChunkingContext>>,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n     ) -> Result<CodeGeneration> {\n         let mut visitors = vec![];\n \n         let export = self.export.clone();\n-        let imported_module = self.reference.get_referenced_asset();\n+        let imported_module = self.reference.get_referenced_asset().await?;\n \n         enum ImportedIdent {\n-            Module(String),\n+            Module(ReferencedAssetIdent),\n             None,\n             Unresolvable,\n         }\n \n-        let imported_ident = match &*imported_module.await? {\n+        let imported_ident = match &*imported_module {\n             ReferencedAsset::None => ImportedIdent::None,\n             imported_module => imported_module\n-                .get_ident(chunking_context)\n+                .get_ident(chunking_context, export, scope_hoisting_context)\n                 .await?\n                 .map_or(ImportedIdent::Unresolvable, ImportedIdent::Module),\n         };\n@@ -80,18 +79,14 @@ impl EsmBinding {\n                                     ImportedIdent::Module(imported_ident) => {\n                                         *prop = Prop::KeyValue(KeyValueProp {\n                                             key: PropName::Ident(ident.clone().into()),\n-                                            value: Box::new(make_expr(\n-                                                imported_ident,\n-                                                export.as_deref(),\n-                                                ident.span,\n-                                                false,\n-                                            )),\n+                                            value: Box::new(imported_ident.as_expr(ident.span, false))\n                                         });\n                                     }\n                                     ImportedIdent::None => {\n                                         *prop = Prop::KeyValue(KeyValueProp {\n                                             key: PropName::Ident(ident.clone().into()),\n-                                            value: Expr::undefined(ident.span),\n+                                            value:\n+                                            Expr::undefined(ident.span),\n                                         });\n                                     }\n                                     ImportedIdent::Unresolvable => {\n@@ -118,7 +113,7 @@ impl EsmBinding {\n                             use swc_core::common::Spanned;\n                             match &imported_ident {\n                                 ImportedIdent::Module(imported_ident) => {\n-                                    *expr = make_expr(imported_ident, export.as_deref(), expr.span(), in_call);\n+                                    *expr = imported_ident.as_expr(expr.span(), in_call);\n                                 }\n                                 ImportedIdent::None => {\n                                     *expr = *Expr::undefined(expr.span());\n@@ -145,24 +140,27 @@ impl EsmBinding {\n                         ast_path.pop();\n \n                         visitors.push(\n-                        create_visitor!(exact ast_path, visit_mut_simple_assign_target(l: &mut SimpleAssignTarget) {\n-                            use swc_core::common::Spanned;\n-                            match &imported_ident {\n-                                ImportedIdent::Module(imported_ident) => {\n-                                    *l = match make_expr(imported_ident, export.as_deref(), l.span(), false) {\n-                                        Expr::Ident(ident) => SimpleAssignTarget::Ident(ident.into()),\n-                                        Expr::Member(member) => SimpleAssignTarget::Member(member),\n-                                        _ => unreachable!(),\n-                                    };\n-                                }\n-                                ImportedIdent::None => {\n-                                    // Do nothing, cannot assign to `undefined`\n-                                }\n-                                ImportedIdent::Unresolvable => {\n-                                    // Do nothing, the reference will insert a throw\n+                            create_visitor!(exact ast_path, visit_mut_simple_assign_target(l: &mut SimpleAssignTarget) {\n+                                use swc_core::common::Spanned;\n+                                match &imported_ident {\n+                                    ImportedIdent::Module(imported_ident) => {\n+                                        *l = imported_ident\n+                                            .as_expr_individual(l.span())\n+                                            .map_either(\n+                                                |i| SimpleAssignTarget::Ident(i.into()),\n+                                                SimpleAssignTarget::Member,\n+                                            )\n+                                            .into_inner();\n+                                    }\n+                                    ImportedIdent::None => {\n+                                        // Do nothing, cannot assign to `undefined`\n+                                    }\n+                                    ImportedIdent::Unresolvable => {\n+                                        // Do nothing, the reference will insert a throw\n+                                    }\n                                 }\n-                            }\n-                        }));\n+                            })\n+                        );\n                         break;\n                     }\n                 }\n@@ -182,40 +180,3 @@ impl From<EsmBinding> for CodeGen {\n         CodeGen::EsmBinding(val)\n     }\n }\n-\n-fn make_expr(imported_module: &str, export: Option<&str>, span: Span, in_call: bool) -> Expr {\n-    if let Some(export) = export {\n-        let mut expr = Expr::Member(MemberExpr {\n-            span,\n-            obj: Box::new(Expr::Ident(Ident::new(\n-                imported_module.into(),\n-                span,\n-                Default::default(),\n-            ))),\n-            prop: MemberProp::Computed(ComputedPropName {\n-                span,\n-                expr: Box::new(Expr::Lit(Lit::Str(Str {\n-                    span,\n-                    value: export.into(),\n-                    raw: None,\n-                }))),\n-            }),\n-        });\n-        if in_call {\n-            expr = Expr::Seq(SeqExpr {\n-                exprs: vec![\n-                    Box::new(Expr::Lit(Lit::Num(Number {\n-                        span,\n-                        value: 0.0,\n-                        raw: None,\n-                    }))),\n-                    Box::new(expr),\n-                ],\n-                span,\n-            });\n-        }\n-        expr\n-    } else {\n-        Expr::Ident(Ident::new(imported_module.into(), span, Default::default()))\n-    }\n-}"
        },
        {
            "sha": "014f99c73a6c22b3f26c50604b371669ebf22c29",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/esm/export.rs",
            "status": "modified",
            "additions": 94,
            "deletions": 63,
            "changes": 157,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fexport.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fexport.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fesm%2Fexport.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -6,8 +6,8 @@ use serde::{Deserialize, Serialize};\n use swc_core::{\n     common::{DUMMY_SP, SyntaxContext},\n     ecma::ast::{\n-        AssignTarget, ComputedPropName, Expr, ExprStmt, Ident, KeyValueProp, Lit, MemberExpr,\n-        MemberProp, ObjectLit, Prop, PropName, PropOrSpread, SimpleAssignTarget, Stmt, Str,\n+        AssignTarget, Expr, ExprStmt, Ident, KeyValueProp, ObjectLit, Prop, PropName, PropOrSpread,\n+        SimpleAssignTarget, Stmt, Str,\n     },\n     quote, quote_expr,\n };\n@@ -18,7 +18,7 @@ use turbo_tasks::{\n };\n use turbo_tasks_fs::glob::Glob;\n use turbopack_core::{\n-    chunk::ChunkingContext,\n+    chunk::{ChunkingContext, ModuleChunkItemIdExt},\n     ident::AssetIdent,\n     issue::{IssueExt, IssueSeverity, StyledString, analyze::AnalyzeIssue},\n     module::Module,\n@@ -28,14 +28,15 @@ use turbopack_core::{\n \n use super::base::ReferencedAsset;\n use crate::{\n-    EcmascriptModuleAsset,\n+    EcmascriptModuleAsset, ScopeHoistingContext,\n     chunk::{EcmascriptChunkPlaceable, EcmascriptExports},\n     code_gen::{CodeGeneration, CodeGenerationHoistedStmt},\n     magic_identifier,\n     parse::ParseResult,\n     runtime_functions::{TURBOPACK_DYNAMIC, TURBOPACK_ESM},\n     simple_tree_shake::ModuleExportUsageInfo,\n     tree_shake::asset::EcmascriptModulePartAsset,\n+    utils::module_id_to_lit,\n };\n \n #[derive(Clone, Hash, Debug, PartialEq, Eq, Serialize, Deserialize, TraceRawVcs, NonLocalValue)]\n@@ -552,30 +553,62 @@ impl EsmExports {\n     pub async fn code_generation(\n         self: Vc<Self>,\n         chunking_context: Vc<Box<dyn ChunkingContext>>,\n+        scope_hoisting_context: ScopeHoistingContext<'_>,\n         parsed: Option<Vc<ParseResult>>,\n         export_usage_info: Option<ResolvedVc<ModuleExportUsageInfo>>,\n     ) -> Result<CodeGeneration> {\n         let expanded = self.expand_exports(export_usage_info.map(|v| *v)).await?;\n+\n+        if scope_hoisting_context.skip_module_exports() && expanded.dynamic_exports.is_empty() {\n+            // If the current module is not exposed, no need to generate exports.\n+            //\n+            // If there are dynamic_exports, we still need to export everything because it wasn't\n+            // possible to determine statically where a reexport is coming from which will instead\n+            // be handled at runtime via property access, e.g. `export * from \"./some-dynamic-cjs\"`\n+            return Ok(CodeGeneration::empty());\n+        }\n+\n         let parsed = if let Some(parsed) = parsed {\n             Some(parsed.await?)\n         } else {\n             None\n         };\n \n         let mut dynamic_exports = Vec::<Box<Expr>>::new();\n-        for dynamic_export_asset in &expanded.dynamic_exports {\n-            let ident =\n-                ReferencedAsset::get_ident_from_placeable(dynamic_export_asset, chunking_context)\n-                    .await?;\n-\n-            dynamic_exports.push(quote_expr!(\n-                \"$turbopack_dynamic($arg)\",\n-                turbopack_dynamic: Expr = TURBOPACK_DYNAMIC.into(),\n-                arg: Expr = Ident::new(ident.into(), DUMMY_SP, Default::default()).into()\n-            ));\n+        {\n+            let id = if let Some(module) = scope_hoisting_context.module()\n+                && !expanded.dynamic_exports.is_empty()\n+            {\n+                Some(module.chunk_item_id(Vc::upcast(chunking_context)).await?)\n+            } else {\n+                None\n+            };\n+\n+            for dynamic_export_asset in &expanded.dynamic_exports {\n+                let ident = ReferencedAsset::get_ident_from_placeable(\n+                    dynamic_export_asset,\n+                    chunking_context,\n+                )\n+                .await?;\n+\n+                if let Some(id) = &id {\n+                    dynamic_exports.push(quote_expr!(\n+                        \"$turbopack_dynamic($arg, $id)\",\n+                        turbopack_dynamic: Expr = TURBOPACK_DYNAMIC.into(),\n+                        arg: Expr = Ident::new(ident.into(), DUMMY_SP, Default::default()).into(),\n+                        id: Expr = module_id_to_lit(id)\n+                    ));\n+                } else {\n+                    dynamic_exports.push(quote_expr!(\n+                        \"$turbopack_dynamic($arg)\",\n+                        turbopack_dynamic: Expr = TURBOPACK_DYNAMIC.into(),\n+                        arg: Expr = Ident::new(ident.into(), DUMMY_SP, Default::default()).into()\n+                    ));\n+                }\n+            }\n         }\n \n-        let mut props = Vec::new();\n+        let mut getters = Vec::new();\n         for (exported, local) in &expanded.exports {\n             let expr = match local {\n                 EsmExport::Error => Some(quote!(\n@@ -631,60 +664,47 @@ impl EsmExports {\n                 EsmExport::ImportedBinding(esm_ref, name, mutable) => {\n                     let referenced_asset =\n                         ReferencedAsset::from_resolve_result(esm_ref.resolve_reference()).await?;\n-                    referenced_asset.get_ident(\n-                        chunking_context\n-                    ).await?.map(|ident| {\n-                        let expr = MemberExpr {\n-                            span: DUMMY_SP,\n-                            obj: Box::new(Expr::Ident(Ident::new(\n-                                ident.into(),\n-                                DUMMY_SP,\n-                                Default::default(),\n-                            ))),\n-                            prop: MemberProp::Computed(ComputedPropName {\n-                                span: DUMMY_SP,\n-                                expr: Box::new(Expr::Lit(Lit::Str(Str {\n-                                    span: DUMMY_SP,\n-                                    value: (name as &str).into(),\n-                                    raw: None,\n-                                }))),\n-                            }),\n-                        };\n-                        if *mutable {\n-                            quote!(\n-                                \"([() => $expr, ($new) => $lhs = $new])\" as Expr,\n-                                expr: Expr = Expr::Member(expr.clone()),\n-                                lhs: AssignTarget = AssignTarget::Simple(SimpleAssignTarget::Member(expr)),\n-                                new = Ident::new(\n-                                    format!(\"new_{name}\").into(),\n-                                    DUMMY_SP,\n-                                    Default::default()\n-                                ),\n-                            )\n-                        } else {\n-                            quote!(\n-                                \"(() => $expr)\" as Expr,\n-                                expr: Expr = Expr::Member(expr),\n-                            )\n-                        }\n-                    })\n+                    referenced_asset\n+                        .get_ident(chunking_context, Some(name.clone()), scope_hoisting_context)\n+                        .await?\n+                        .map(|ident| {\n+                            let expr = ident.as_expr_individual(DUMMY_SP);\n+                            if *mutable {\n+                                quote!(\n+                                    \"([() => $expr, ($new) => $lhs = $new])\" as Expr,\n+                                    expr: Expr = expr.clone().map_either(Expr::from, Expr::from).into_inner(),\n+                                    lhs: AssignTarget = AssignTarget::Simple(\n+                                        expr.map_either(|i| SimpleAssignTarget::Ident(i.into()), SimpleAssignTarget::Member).into_inner()),\n+                                    new = Ident::new(\n+                                        format!(\"new_{name}\").into(),\n+                                        DUMMY_SP,\n+                                        Default::default()\n+                                    ),\n+                                )\n+                            } else {\n+                                quote!(\n+                                    \"(() => $expr)\" as Expr,\n+                                    expr: Expr = expr.map_either(Expr::from, Expr::from).into_inner()\n+                                )\n+                            }\n+                        })\n                 }\n                 EsmExport::ImportedNamespace(esm_ref) => {\n                     let referenced_asset =\n                         ReferencedAsset::from_resolve_result(esm_ref.resolve_reference()).await?;\n                     referenced_asset\n-                        .get_ident(chunking_context)\n+                        .get_ident(chunking_context, None, scope_hoisting_context)\n                         .await?\n                         .map(|ident| {\n                             quote!(\n                                 \"(() => $imported)\" as Expr,\n-                                imported = Ident::new(ident.into(), DUMMY_SP, Default::default())\n+                                imported: Expr = ident.as_expr(DUMMY_SP, false)\n                             )\n                         })\n                 }\n             };\n             if let Some(expr) = expr {\n-                props.push(PropOrSpread::Prop(Box::new(Prop::KeyValue(KeyValueProp {\n+                getters.push(PropOrSpread::Prop(Box::new(Prop::KeyValue(KeyValueProp {\n                     key: PropName::Str(Str {\n                         span: DUMMY_SP,\n                         value: exported.as_str().into(),\n@@ -696,7 +716,7 @@ impl EsmExports {\n         }\n         let getters = Expr::Object(ObjectLit {\n             span: DUMMY_SP,\n-            props,\n+            props: getters,\n         });\n         let dynamic_stmt = if !dynamic_exports.is_empty() {\n             Some(Stmt::Expr(ExprStmt {\n@@ -707,20 +727,31 @@ impl EsmExports {\n             None\n         };\n \n+        let early_hoisted_stmts = vec![CodeGenerationHoistedStmt::new(\n+            rcstr!(\"__turbopack_esm__\"),\n+            if let Some(module) = scope_hoisting_context.module() {\n+                let id = module.chunk_item_id(Vc::upcast(chunking_context)).await?;\n+                quote!(\"$turbopack_esm($getters, $id);\" as Stmt,\n+                    turbopack_esm: Expr = TURBOPACK_ESM.into(),\n+                    getters: Expr = getters,\n+                    id: Expr = module_id_to_lit(&id)\n+                )\n+            } else {\n+                quote!(\"$turbopack_esm($getters);\" as Stmt,\n+                    turbopack_esm: Expr = TURBOPACK_ESM.into(),\n+                    getters: Expr = getters\n+                )\n+            },\n+        )];\n+\n         Ok(CodeGeneration::new(\n             vec![],\n             [dynamic_stmt\n                 .map(|stmt| CodeGenerationHoistedStmt::new(rcstr!(\"__turbopack_dynamic__\"), stmt))]\n             .into_iter()\n             .flatten()\n             .collect(),\n-            vec![CodeGenerationHoistedStmt::new(\n-                rcstr!(\"__turbopack_esm__\"),\n-                quote!(\"$turbopack_esm($getters);\" as Stmt,\n-                    turbopack_esm: Expr = TURBOPACK_ESM.into(),\n-                    getters: Expr = getters\n-                ),\n-            )],\n+            early_hoisted_stmts,\n         ))\n     }\n }"
        },
        {
            "sha": "0171cbfc2f7dd3f6fc4201ac1db1f20732815884",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/external_module.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fexternal_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fexternal_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fexternal_module.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -125,6 +125,7 @@ impl CachedExternalModule {\n             inner_code: code.build(),\n             source_map: None,\n             is_esm: self.external_type != CachedExternalType::CommonJs,\n+            additional_ids: Default::default(),\n         }\n         .cell())\n     }"
        },
        {
            "sha": "000b33ae3bd722c1910ee4e8576751af9f8cb629",
            "filename": "turbopack/crates/turbopack-ecmascript/src/references/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Freferences%2Fmod.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -761,7 +761,7 @@ pub(crate) async fn analyse_ecmascript_module_internal(\n                         ImportedSymbol::Part(part_id) => Some(ModulePart::internal(*part_id)),\n                         ImportedSymbol::Exports => Some(ModulePart::exports()),\n                     },\n-                    Some(TreeShakingMode::ReexportsOnly) => match &r.imported_symbol {\n+                    _ => match &r.imported_symbol {\n                         ImportedSymbol::ModuleEvaluation => {\n                             should_add_evaluation = true;\n                             Some(ModulePart::evaluation())\n@@ -777,10 +777,6 @@ pub(crate) async fn analyse_ecmascript_module_internal(\n                         }\n                         ImportedSymbol::Exports => None,\n                     },\n-                    None => {\n-                        should_add_evaluation = true;\n-                        None\n-                    }\n                 },\n                 import_externals,\n             )"
        },
        {
            "sha": "4dfaa4f245e640457c5f490ad3bc264a599b5657",
            "filename": "turbopack/crates/turbopack-ecmascript/src/side_effect_optimization/reference.rs",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Freference.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Freference.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fside_effect_optimization%2Freference.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,6 +1,6 @@\n use anyhow::{Context, Result, bail};\n use serde::{Deserialize, Serialize};\n-use swc_core::{common::DUMMY_SP, ecma::ast::Ident, quote};\n+use swc_core::{common::DUMMY_SP, quote};\n use turbo_rcstr::RcStr;\n use turbo_tasks::{NonLocalValue, ResolvedVc, ValueToString, Vc, trace::TraceRawVcs};\n use turbopack_core::{\n@@ -17,7 +17,7 @@ use super::{\n     facade::module::EcmascriptModuleFacadeModule, locals::module::EcmascriptModuleLocalsModule,\n };\n use crate::{\n-    chunk::EcmascriptChunkPlaceable, code_gen::CodeGeneration,\n+    ScopeHoistingContext, chunk::EcmascriptChunkPlaceable, code_gen::CodeGeneration,\n     references::esm::base::ReferencedAsset, runtime_functions::TURBOPACK_IMPORT,\n     utils::module_id_to_lit,\n };\n@@ -156,20 +156,22 @@ impl EcmascriptModulePartReference {\n         let referenced_asset = ReferencedAsset::from_resolve_result(self.resolve_reference());\n         let referenced_asset = referenced_asset.await?;\n         let ident = referenced_asset\n-            .get_ident(chunking_context)\n+            .get_ident(chunking_context, None, ScopeHoistingContext::None)\n             .await?\n-            .context(\"part module reference should have an ident\")?;\n+            .context(\"part module reference should have an ident\")?\n+            .as_expr_individual(DUMMY_SP)\n+            .unwrap_left();\n \n         let ReferencedAsset::Some(module) = *referenced_asset else {\n             bail!(\"part module reference should have an module reference\");\n         };\n         let id = module.chunk_item_id(Vc::upcast(chunking_context)).await?;\n \n         Ok(CodeGeneration::hoisted_stmt(\n-            ident.clone().into(),\n+            ident.sym.as_str().into(),\n             quote!(\n                 \"var $name = $turbopack_import($id);\" as Stmt,\n-                name = Ident::new(ident.clone().into(), DUMMY_SP, Default::default()),\n+                name = ident,\n                 turbopack_import: Expr = TURBOPACK_IMPORT.into(),\n                 id: Expr = module_id_to_lit(&id),\n             ),"
        },
        {
            "sha": "135478168113b1f7ec5d5c12ac125d696575b3cc",
            "filename": "turbopack/crates/turbopack-ecmascript/src/tree_shake/chunk_item.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fchunk_item.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fchunk_item.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Ftree_shake%2Fchunk_item.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -183,6 +183,7 @@ impl EcmascriptChunkItem for SideEffectsModuleChunkItem {\n                 },\n                 ..Default::default()\n             },\n+            additional_ids: Default::default(),\n             placeholder_for_future_extensions: (),\n         }\n         .cell())"
        },
        {
            "sha": "b4562da77ecef515f500c57b497b1d637d493a9b",
            "filename": "turbopack/crates/turbopack-ecmascript/src/utils.rs",
            "status": "modified",
            "additions": 28,
            "deletions": 2,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Futils.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Futils.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Futils.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,13 +1,15 @@\n+use std::ops::Deref;\n+\n use serde::{Deserialize, Serialize};\n use swc_core::{\n-    common::DUMMY_SP,\n+    common::{DUMMY_SP, SyntaxContext},\n     ecma::{\n         ast::{Expr, Lit, Str},\n         visit::AstParentKind,\n     },\n };\n use turbo_rcstr::{RcStr, rcstr};\n-use turbo_tasks::{NonLocalValue, trace::TraceRawVcs};\n+use turbo_tasks::{NonLocalValue, TaskInput, trace::TraceRawVcs};\n use turbopack_core::{chunk::ModuleId, resolve::pattern::Pattern};\n \n use crate::analyzer::{\n@@ -216,6 +218,30 @@ pub fn module_value_to_well_known_object(module_value: &ModuleValue) -> Option<J\n     })\n }\n \n+#[derive(Hash, Debug, Clone, Copy, Eq, Serialize, Deserialize, PartialEq, TraceRawVcs)]\n+pub struct AstSyntaxContext(#[turbo_tasks(trace_ignore)] SyntaxContext);\n+\n+impl TaskInput for AstSyntaxContext {\n+    fn is_transient(&self) -> bool {\n+        false\n+    }\n+}\n+unsafe impl NonLocalValue for AstSyntaxContext {}\n+\n+impl Deref for AstSyntaxContext {\n+    type Target = SyntaxContext;\n+\n+    fn deref(&self) -> &Self::Target {\n+        &self.0\n+    }\n+}\n+\n+impl From<SyntaxContext> for AstSyntaxContext {\n+    fn from(v: SyntaxContext) -> Self {\n+        Self(v)\n+    }\n+}\n+\n #[cfg(test)]\n mod tests {\n     use turbo_rcstr::rcstr;"
        },
        {
            "sha": "efed2398cc7dcd34ca84675b8757ccd76fc01980",
            "filename": "turbopack/crates/turbopack-nodejs/src/chunking_context.rs",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fchunking_context.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fchunking_context.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Fchunking_context.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -56,6 +56,11 @@ impl NodeJsChunkingContextBuilder {\n         self\n     }\n \n+    pub fn module_merging(mut self, enable_module_merging: bool) -> Self {\n+        self.chunking_context.enable_module_merging = enable_module_merging;\n+        self\n+    }\n+\n     pub fn runtime_type(mut self, runtime_type: RuntimeType) -> Self {\n         self.chunking_context.runtime_type = runtime_type;\n         self\n@@ -119,6 +124,8 @@ pub struct NodeJsChunkingContext {\n     runtime_type: RuntimeType,\n     /// Enable tracing for this chunking\n     enable_file_tracing: bool,\n+    /// Enable module merging\n+    enable_module_merging: bool,\n     /// Whether to minify resulting chunks\n     minify_type: MinifyType,\n     /// Whether to generate source maps\n@@ -155,6 +162,7 @@ impl NodeJsChunkingContext {\n                 asset_root_path,\n                 asset_prefix: None,\n                 enable_file_tracing: false,\n+                enable_module_merging: false,\n                 environment,\n                 runtime_type,\n                 minify_type: MinifyType::NoMinify,\n@@ -249,6 +257,11 @@ impl ChunkingContext for NodeJsChunkingContext {\n         Vc::cell(self.enable_file_tracing)\n     }\n \n+    #[turbo_tasks::function]\n+    fn is_module_merging_enabled(&self) -> Vc<bool> {\n+        Vc::cell(self.enable_module_merging)\n+    }\n+\n     #[turbo_tasks::function]\n     pub fn minify_type(&self) -> Vc<MinifyType> {\n         self.minify_type.cell()"
        },
        {
            "sha": "0ec0969b445ceb58444edd168e815315d879bae8",
            "filename": "turbopack/crates/turbopack-tests/tests/execution.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -242,6 +242,7 @@ async fn run_inner_operation(\n struct TestOptions {\n     tree_shaking_mode: Option<TreeShakingMode>,\n     remove_unused_exports: Option<bool>,\n+    scope_hoisting: Option<bool>,\n }\n \n #[turbo_tasks::value]\n@@ -435,6 +436,7 @@ async fn run_test_operation(prepared_test: ResolvedVc<PreparedTest>) -> Result<V\n             ..Default::default()\n         },\n     )\n+    .module_merging(options.scope_hoisting.unwrap_or(true))\n     .build();\n \n     let jest_entry_source = FileSource::new(jest_entry_path);"
        },
        {
            "sha": "782b553e8785dbb37733eeb695eacbf740a47a63",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/issues/__l_Export __c_a__ is a circular re-export__-01c974.txt",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fcycle%2Freexport-cycle%2Fissues%2F__l_Export%20__c_a__%20is%20a%20circular%20re-export__-01c974.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fcycle%2Freexport-cycle%2Fissues%2F__l_Export%20__c_a__%20is%20a%20circular%20re-export__-01c974.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fcycle%2Freexport-cycle%2Fissues%2F__l_Export%20__c_a__%20is%20a%20circular%20re-export__-01c974.txt?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,15 @@\n+error - [bindings] [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/a.js  Export a is a circular re-export\n+  \n+  The export\n+  \n+  a of module [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/a.js [test] (ecmascript)\n+  \n+  is a re-export of the export\n+  \n+  a of module [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/b.js [test] (ecmascript).\n+  \n+  \n+  \n+  Example import trace:\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/a.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/index.js\n\\ No newline at end of file"
        },
        {
            "sha": "e1130d2d7a2a6dd7c69402070ac48e76ac040092",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/issues/__l_Export __c_a__ is a circular re-export__-1122f4.txt",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fcycle%2Freexport-cycle%2Fissues%2F__l_Export%20__c_a__%20is%20a%20circular%20re-export__-1122f4.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fcycle%2Freexport-cycle%2Fissues%2F__l_Export%20__c_a__%20is%20a%20circular%20re-export__-1122f4.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fcycle%2Freexport-cycle%2Fissues%2F__l_Export%20__c_a__%20is%20a%20circular%20re-export__-1122f4.txt?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,16 @@\n+error - [bindings] [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/b.js  Export a is a circular re-export\n+  \n+  The export\n+  \n+  a of module [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/b.js [test] (ecmascript)\n+  \n+  is a re-export of the export\n+  \n+  a of module [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/a.js [test] (ecmascript).\n+  \n+  \n+  \n+  Example import trace:\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/b.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/a.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/cycle/reexport-cycle/input/index.js\n\\ No newline at end of file"
        },
        {
            "sha": "bf30b867b72132fe909283a871c7916ee8109fb5",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/resolving/no-same-key-alternatives/options.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fresolving%2Fno-same-key-alternatives%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fresolving%2Fno-same-key-alternatives%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fresolving%2Fno-same-key-alternatives%2Foptions.json?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"scopeHoisting\": false\n+}"
        },
        {
            "sha": "5cc11a91590e4e6f1f7197aa7251a779f51b491f",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/empty-esm/input/a.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Fa.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Fa.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Fa.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+export const a = 123"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/empty-esm/input/empty.mjs",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Fempty.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Fempty.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Fempty.mjs?ref=e91660d1f474656fe5b602b38dea83641b656481"
        },
        {
            "sha": "1ec696e3e0caa6981ec7647f5c32e0429762a9f6",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/empty-esm/input/index.js",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,5 @@\n+import { a } from './reexport.js'\n+\n+it('should work', () => {\n+  expect(a).toBe(123)\n+})"
        },
        {
            "sha": "3afd5a4d6df0f3fe1060589106c16053213dc3fb",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/empty-esm/input/reexport.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Freexport.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Freexport.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Fempty-esm%2Finput%2Freexport.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,2 @@\n+export * from './a.js'\n+export * from './empty.mjs'"
        },
        {
            "sha": "b75ecfa304f69fdc8977f837fa7208229edf1a17",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/a.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Fa.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Fa.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Fa.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+module.exports = { A: 1 }"
        },
        {
            "sha": "3ef3d427b31a2563eba5e8405a0ebb08ab0b5613",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/b.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Fb.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Fb.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Fb.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+module.exports = { B: 2 }"
        },
        {
            "sha": "7789fa10b870814eb76ca320631a16029ea829c2",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/index.js",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,5 @@\n+import { A } from './reexport.js'\n+\n+it('should work', () => {\n+  expect(A).toBe(1)\n+})"
        },
        {
            "sha": "630314aa27d5545e405e57125350e4e339b78cca",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/reexport.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Freexport.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Freexport.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Finput%2Freexport.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,2 @@\n+export * from './a'\n+export * from './b'"
        },
        {
            "sha": "2faa2aced1e8159d588c70f6079ccb94e350bd8a",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/issues/unexpected export __star__-bffb6d.txt",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Fissues%2Funexpected%20export%20__star__-bffb6d.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Fissues%2Funexpected%20export%20__star__-bffb6d.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Fissues%2Funexpected%20export%20__star__-bffb6d.txt?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,8 @@\n+warning - [analysis] [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/a.js  unexpected export *\n+  export * used with module [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/a.js [test] (ecmascript) which is a CommonJS module with exports only available at runtime\n+  List all export names manually (`export { a, b, c } from \"...\") or rewrite the module to ESM, to avoid the additional runtime code.`\n+  \n+  Example import trace:\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/a.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/reexport.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/index.js\n\\ No newline at end of file"
        },
        {
            "sha": "0354417658ca48533f44890bb2de2402621cf3b5",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/issues/unexpected export __star__-e62f85.txt",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Fissues%2Funexpected%20export%20__star__-e62f85.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Fissues%2Funexpected%20export%20__star__-e62f85.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Freexport-dynamic-cjs%2Fissues%2Funexpected%20export%20__star__-e62f85.txt?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,8 @@\n+warning - [analysis] [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/b.js  unexpected export *\n+  export * used with module [project]/turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/b.js [test] (ecmascript) which is a CommonJS module with exports only available at runtime\n+  List all export names manually (`export { a, b, c } from \"...\") or rewrite the module to ESM, to avoid the additional runtime code.`\n+  \n+  Example import trace:\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/b.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/reexport.js\n+    ./turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/reexport-dynamic-cjs/input/index.js\n\\ No newline at end of file"
        },
        {
            "sha": "96e2c6302cf472d6f77cb74bc18cd15e3b9181a2",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/renaming/input/env.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Fenv.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Fenv.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Fenv.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,2 @@\n+const i = 'abc'\n+export const env = i"
        },
        {
            "sha": "02595d6509a619b8436504789427f5f61c433149",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/renaming/input/index.js",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,10 @@\n+import { useComputed } from './use-computed.js'\n+const increment = (i) => i + 1\n+\n+it('should correctly handle variable collisions', () => {\n+  let i = 123\n+\n+  expect(i).toBe(123)\n+  expect(useComputed).toBe('abc')\n+  expect(increment(1)).toBe(2)\n+})"
        },
        {
            "sha": "e5d9810a6268433374ced9368d1a8706ec252e19",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/scope-hoisting/renaming/input/use-computed.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Fuse-computed.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Fuse-computed.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fscope-hoisting%2Frenaming%2Finput%2Fuse-computed.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+import { env } from './env.js'\n+const i = env\n+export { i as useComputed }"
        },
        {
            "sha": "d9a24fe8177a63c9d5bbdfaa75c2e5a52217dabb",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/directive/options.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fdirective%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fdirective%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fdirective%2Foptions.json?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,3 +1,4 @@\n {\n-  \"treeShakingMode\": \"reexports-only\"\n+  \"treeShakingMode\": \"reexports-only\",\n+  \"scopeHoisting\": false\n }"
        },
        {
            "sha": "d9a24fe8177a63c9d5bbdfaa75c2e5a52217dabb",
            "filename": "turbopack/crates/turbopack-tests/tests/execution/turbopack/side-effects-optimization/import-star/options.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fimport-star%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fimport-star%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution%2Fturbopack%2Fside-effects-optimization%2Fimport-star%2Foptions.json?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,3 +1,4 @@\n {\n-  \"treeShakingMode\": \"reexports-only\"\n+  \"treeShakingMode\": \"reexports-only\",\n+  \"scopeHoisting\": false\n }"
        },
        {
            "sha": "805e3a493fafc5a58a3c861f48d2b537143d867b",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot.rs",
            "status": "modified",
            "additions": 42,
            "deletions": 10,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -22,7 +22,7 @@ use turbo_tasks_fs::{\n };\n use turbopack::{\n     ModuleAssetContext,\n-    ecmascript::{EcmascriptInputTransform, TreeShakingMode},\n+    ecmascript::{EcmascriptInputTransform, TreeShakingMode, chunk::EcmascriptChunkType},\n     module_options::{\n         CssOptionsContext, EcmascriptOptionsContext, JsxTransformOptions, ModuleOptionsContext,\n         ModuleRule, ModuleRuleEffect, RuleCondition,\n@@ -32,7 +32,7 @@ use turbopack_browser::BrowserChunkingContext;\n use turbopack_core::{\n     asset::Asset,\n     chunk::{\n-        ChunkingContext, ChunkingContextExt, EvaluatableAsset, EvaluatableAssetExt,\n+        ChunkingConfig, ChunkingContext, ChunkingContextExt, EvaluatableAsset, EvaluatableAssetExt,\n         EvaluatableAssets, MinifyType, availability_info::AvailabilityInfo,\n     },\n     compile_time_defines,\n@@ -97,6 +97,10 @@ struct SnapshotOptions {\n     tree_shaking_mode: Option<TreeShakingMode>,\n     #[serde(default)]\n     remove_unused_exports: bool,\n+    #[serde(default)]\n+    scope_hoisting: bool,\n+    #[serde(default)]\n+    production_chunking: bool,\n }\n \n #[derive(Debug, Deserialize, Default)]\n@@ -124,6 +128,8 @@ impl Default for SnapshotOptions {\n             environment: Default::default(),\n             tree_shaking_mode: Default::default(),\n             remove_unused_exports: false,\n+            scope_hoisting: false,\n+            production_chunking: false,\n         }\n     }\n }\n@@ -351,8 +357,8 @@ async fn run_test_operation(resource: RcStr) -> Result<Vc<FileSystemPath>> {\n     let static_root_path = project_path.join(rcstr!(\"static\")).to_resolved().await?;\n \n     let chunking_context: Vc<Box<dyn ChunkingContext>> = match options.runtime {\n-        Runtime::Browser => Vc::upcast(\n-            BrowserChunkingContext::builder(\n+        Runtime::Browser => {\n+            let mut builder = BrowserChunkingContext::builder(\n                 project_root,\n                 project_path,\n                 project_path_to_project_root,\n@@ -362,10 +368,23 @@ async fn run_test_operation(resource: RcStr) -> Result<Vc<FileSystemPath>> {\n                 env,\n                 options.runtime_type,\n             )\n-            .build(),\n-        ),\n-        Runtime::NodeJs => Vc::upcast(\n-            NodeJsChunkingContext::builder(\n+            .module_merging(options.scope_hoisting);\n+\n+            if options.production_chunking {\n+                builder = builder.chunking_config(\n+                    Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                    ChunkingConfig {\n+                        min_chunk_size: 2_000,\n+                        max_chunk_count_per_group: 40,\n+                        max_merge_chunk_size: 200_000,\n+                        ..Default::default()\n+                    },\n+                )\n+            }\n+            Vc::upcast(builder.build())\n+        }\n+        Runtime::NodeJs => {\n+            let mut builder = NodeJsChunkingContext::builder(\n                 project_root,\n                 project_path,\n                 project_path_to_project_root,\n@@ -376,8 +395,21 @@ async fn run_test_operation(resource: RcStr) -> Result<Vc<FileSystemPath>> {\n                 options.runtime_type,\n             )\n             .minify_type(options.minify_type)\n-            .build(),\n-        ),\n+            .module_merging(options.scope_hoisting);\n+\n+            if options.production_chunking {\n+                builder = builder.chunking_config(\n+                    Vc::<EcmascriptChunkType>::default().to_resolved().await?,\n+                    ChunkingConfig {\n+                        min_chunk_size: 2_000,\n+                        max_chunk_count_per_group: 40,\n+                        max_merge_chunk_size: 200_000,\n+                        ..Default::default()\n+                    },\n+                )\n+            }\n+            Vc::upcast(builder.build())\n+        }\n     };\n \n     let expected_paths = expected(*chunk_root_path)"
        },
        {
            "sha": "1b9c10c1a5d7882b1f2053855118479b2c1d3f83",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/output/4c35f_tests_snapshot_basic-tree-shake_dynamic-import_input_lib_b2d8c81e.js",
            "status": "modified",
            "additions": 26,
            "deletions": 26,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fdynamic-import%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_dynamic-import_input_lib_b2d8c81e.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fdynamic-import%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_dynamic-import_input_lib_b2d8c81e.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fdynamic-import%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_dynamic-import_input_lib_b2d8c81e.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,19 +50,19 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"b\": ([\n+    \"b\": [\n         ()=>getDog,\n         (new_getDog)=>getDog = new_getDog\n-    ]),\n-    \"c\": ([\n+    ],\n+    \"c\": [\n         ()=>setDog,\n         (new_setDog)=>setDog = new_setDog\n-    ]),\n-    \"d\": ([\n+    ],\n+    \"d\": [\n         ()=>dogRef,\n         (new_dogRef)=>dogRef = new_dogRef\n-    ]),\n-    \"dogRef\": (()=>dogRef)\n+    ],\n+    \"dogRef\": ()=>dogRef\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__4$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 4>\");\n@@ -88,10 +88,10 @@ const dogRef = {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -100,11 +100,11 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"f\": ([\n+    \"f\": [\n         ()=>initialCat,\n         (new_initialCat)=>initialCat = new_initialCat\n-    ]),\n-    \"initialCat\": (()=>initialCat)\n+    ],\n+    \"initialCat\": ()=>initialCat\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -116,11 +116,11 @@ const initialCat = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"g\": ([\n+    \"g\": [\n         ()=>getChimera,\n         (new_getChimera)=>getChimera = new_getChimera\n-    ]),\n-    \"getChimera\": (()=>getChimera)\n+    ],\n+    \"getChimera\": ()=>getChimera\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 5>\");\n@@ -138,7 +138,7 @@ function getChimera() {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -148,10 +148,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 3>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 6>\");\n@@ -166,10 +166,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__2$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <internal part 2>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$dynamic$2d$import$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/dynamic-import/input/lib.js [test] (ecmascript) <exports>\");"
        },
        {
            "sha": "88e0fca1a4b2d7b7f3acece0283ca2b64abfa336",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-named/output/b1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-named_input_058a40bc._.js",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fexport-named%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-named_input_058a40bc._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fexport-named%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-named_input_058a40bc._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fexport-named%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-named_input_058a40bc._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,10 +50,10 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -62,7 +62,7 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-named/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -72,11 +72,11 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"],\n         (new_cat)=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"] = new_cat\n-    ]),\n-    \"fakeCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"])\n+    ],\n+    \"fakeCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__2$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-named/input/lib.js [test] (ecmascript) <internal part 2>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-named/input/lib.js [test] (ecmascript) <internal part 8>\");"
        },
        {
            "sha": "f4507d5380e7c770d9bc25b6a4f44de888c0cbcf",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/output/b1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-namespace_input_f7fde6f3._.js",
            "status": "modified",
            "additions": 24,
            "deletions": 24,
            "changes": 48,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fexport-namespace%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-namespace_input_f7fde6f3._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fexport-namespace%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-namespace_input_f7fde6f3._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fexport-namespace%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_export-namespace_input_f7fde6f3._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,19 +50,19 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"b\": ([\n+    \"b\": [\n         ()=>getDog,\n         (new_getDog)=>getDog = new_getDog\n-    ]),\n-    \"c\": ([\n+    ],\n+    \"c\": [\n         ()=>setDog,\n         (new_setDog)=>setDog = new_setDog\n-    ]),\n-    \"d\": ([\n+    ],\n+    \"d\": [\n         ()=>dogRef,\n         (new_dogRef)=>dogRef = new_dogRef\n-    ]),\n-    \"dogRef\": (()=>dogRef)\n+    ],\n+    \"dogRef\": ()=>dogRef\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__4$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 4>\");\n@@ -88,10 +88,10 @@ const dogRef = {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -100,11 +100,11 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"f\": ([\n+    \"f\": [\n         ()=>initialCat,\n         (new_initialCat)=>initialCat = new_initialCat\n-    ]),\n-    \"initialCat\": (()=>initialCat)\n+    ],\n+    \"initialCat\": ()=>initialCat\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -116,11 +116,11 @@ const initialCat = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"g\": ([\n+    \"g\": [\n         ()=>getChimera,\n         (new_getChimera)=>getChimera = new_getChimera\n-    ]),\n-    \"getChimera\": (()=>getChimera)\n+    ],\n+    \"getChimera\": ()=>getChimera\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 5>\");\n@@ -138,7 +138,7 @@ function getChimera() {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -148,10 +148,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 3>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 6>\");\n@@ -166,8 +166,8 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__),\n-    \"lib\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__)\n+    \"a\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__,\n+    \"lib\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__2$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <internal part 2>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$export$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/export-namespace/input/lib.js [test] (ecmascript) <exports>\");"
        },
        {
            "sha": "1b33eac0ccd00c856d62b32b5da6558e65dbf448",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-named-all/output/b1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named-all_input_00b867a0._.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-named-all%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named-all_input_00b867a0._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-named-all%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named-all_input_00b867a0._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-named-all%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named-all_input_00b867a0._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,10 +50,10 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -62,7 +62,7 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$named$2d$all$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$named$2d$all$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$named$2d$all$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-named-all/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;"
        },
        {
            "sha": "eda2b04c92b9adf0feaa4b92df4fa7501bd6cd2c",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-named/output/b1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named_input_f64e7412._.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-named%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named_input_f64e7412._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-named%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named_input_f64e7412._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-named%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-named_input_f64e7412._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,10 +50,10 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -62,7 +62,7 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$named$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-named/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;"
        },
        {
            "sha": "d6b63d7fd90f29b176061c06e9c2fe04cb42e257",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/output/b1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-namespace_input_25e69485._.js",
            "status": "modified",
            "additions": 22,
            "deletions": 22,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-namespace%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-namespace_input_25e69485._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-namespace%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-namespace_input_25e69485._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-namespace%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_basic-tree-shake_import-namespace_input_25e69485._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,19 +50,19 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"b\": ([\n+    \"b\": [\n         ()=>getDog,\n         (new_getDog)=>getDog = new_getDog\n-    ]),\n-    \"c\": ([\n+    ],\n+    \"c\": [\n         ()=>setDog,\n         (new_setDog)=>setDog = new_setDog\n-    ]),\n-    \"d\": ([\n+    ],\n+    \"d\": [\n         ()=>dogRef,\n         (new_dogRef)=>dogRef = new_dogRef\n-    ]),\n-    \"dogRef\": (()=>dogRef)\n+    ],\n+    \"dogRef\": ()=>dogRef\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__4$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 4>\");\n@@ -88,10 +88,10 @@ const dogRef = {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -100,11 +100,11 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"f\": ([\n+    \"f\": [\n         ()=>initialCat,\n         (new_initialCat)=>initialCat = new_initialCat\n-    ]),\n-    \"initialCat\": (()=>initialCat)\n+    ],\n+    \"initialCat\": ()=>initialCat\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -116,11 +116,11 @@ const initialCat = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"g\": ([\n+    \"g\": [\n         ()=>getChimera,\n         (new_getChimera)=>getChimera = new_getChimera\n-    ]),\n-    \"getChimera\": (()=>getChimera)\n+    ],\n+    \"getChimera\": ()=>getChimera\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 5>\");\n@@ -138,7 +138,7 @@ function getChimera() {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -148,10 +148,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 3>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$import$2d$namespace$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-namespace/input/lib.js [test] (ecmascript) <internal part 6>\");"
        },
        {
            "sha": "f667b7bb9b4c46c72daa14f43d507123e765171d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/import-side-effect/output/4c35f_tests_snapshot_basic-tree-shake_import-side-effect_input_e082b9f6._.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-side-effect%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_import-side-effect_input_e082b9f6._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-side-effect%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_import-side-effect_input_e082b9f6._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Fimport-side-effect%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_import-side-effect_input_e082b9f6._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;"
        },
        {
            "sha": "57bce7e4ff16def6c364976141d4947a378550d8",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/output/4c35f_tests_snapshot_basic-tree-shake_require-side-effect_input_f83a22d6._.js",
            "status": "modified",
            "additions": 26,
            "deletions": 26,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Frequire-side-effect%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_require-side-effect_input_f83a22d6._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Frequire-side-effect%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_require-side-effect_input_f83a22d6._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Frequire-side-effect%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_require-side-effect_input_f83a22d6._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,19 +50,19 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"b\": ([\n+    \"b\": [\n         ()=>getDog,\n         (new_getDog)=>getDog = new_getDog\n-    ]),\n-    \"c\": ([\n+    ],\n+    \"c\": [\n         ()=>setDog,\n         (new_setDog)=>setDog = new_setDog\n-    ]),\n-    \"d\": ([\n+    ],\n+    \"d\": [\n         ()=>dogRef,\n         (new_dogRef)=>dogRef = new_dogRef\n-    ]),\n-    \"dogRef\": (()=>dogRef)\n+    ],\n+    \"dogRef\": ()=>dogRef\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__4$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 4>\");\n@@ -88,10 +88,10 @@ const dogRef = {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -100,11 +100,11 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"f\": ([\n+    \"f\": [\n         ()=>initialCat,\n         (new_initialCat)=>initialCat = new_initialCat\n-    ]),\n-    \"initialCat\": (()=>initialCat)\n+    ],\n+    \"initialCat\": ()=>initialCat\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -116,11 +116,11 @@ const initialCat = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"g\": ([\n+    \"g\": [\n         ()=>getChimera,\n         (new_getChimera)=>getChimera = new_getChimera\n-    ]),\n-    \"getChimera\": (()=>getChimera)\n+    ],\n+    \"getChimera\": ()=>getChimera\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 5>\");\n@@ -138,7 +138,7 @@ function getChimera() {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -148,10 +148,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 3>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 6>\");\n@@ -166,10 +166,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__2$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <internal part 2>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$require$2d$side$2d$effect$2f$input$2f$lib$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/require-side-effect/input/lib.js [test] (ecmascript) <exports>\");"
        },
        {
            "sha": "26206336f738937d7ac3ffbde4b8b934882244bd",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/output/4c35f_tests_snapshot_basic-tree-shake_tree-shake-test-1_input_index_09a16221.js",
            "status": "modified",
            "additions": 26,
            "deletions": 26,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Ftree-shake-test-1%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_tree-shake-test-1_input_index_09a16221.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Ftree-shake-test-1%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_tree-shake-test-1_input_index_09a16221.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic-tree-shake%2Ftree-shake-test-1%2Foutput%2F4c35f_tests_snapshot_basic-tree-shake_tree-shake-test-1_input_index_09a16221.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,10 +4,10 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": ([\n+    \"a\": [\n         ()=>dog,\n         (new_dog)=>dog = new_dog\n-    ])\n+    ]\n });\n let dog = 'dog';\n ;\n@@ -50,19 +50,19 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"b\": ([\n+    \"b\": [\n         ()=>getDog,\n         (new_getDog)=>getDog = new_getDog\n-    ]),\n-    \"c\": ([\n+    ],\n+    \"c\": [\n         ()=>setDog,\n         (new_setDog)=>setDog = new_setDog\n-    ]),\n-    \"d\": ([\n+    ],\n+    \"d\": [\n         ()=>dogRef,\n         (new_dogRef)=>dogRef = new_dogRef\n-    ]),\n-    \"dogRef\": (()=>dogRef)\n+    ],\n+    \"dogRef\": ()=>dogRef\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__4$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 4>\");\n@@ -88,10 +88,10 @@ const dogRef = {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"e\": ([\n+    \"e\": [\n         ()=>cat,\n         (new_cat)=>cat = new_cat\n-    ])\n+    ]\n });\n let cat = 'cat';\n ;\n@@ -100,11 +100,11 @@ let cat = 'cat';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"f\": ([\n+    \"f\": [\n         ()=>initialCat,\n         (new_initialCat)=>initialCat = new_initialCat\n-    ]),\n-    \"initialCat\": (()=>initialCat)\n+    ],\n+    \"initialCat\": ()=>initialCat\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -116,11 +116,11 @@ const initialCat = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"g\": ([\n+    \"g\": [\n         ()=>getChimera,\n         (new_getChimera)=>getChimera = new_getChimera\n-    ]),\n-    \"getChimera\": (()=>getChimera)\n+    ],\n+    \"getChimera\": ()=>getChimera\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__0$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 0>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 5>\");\n@@ -138,7 +138,7 @@ function getChimera() {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__[\"e\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__5$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 5>\");\n ;\n@@ -148,10 +148,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__8$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__7$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__3$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 3>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__6$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 6>\");\n@@ -166,10 +166,10 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"cat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"cat\"]),\n-    \"dogRef\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"dogRef\"]),\n-    \"getChimera\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"getChimera\"]),\n-    \"initialCat\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"initialCat\"])\n+    \"cat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"cat\"],\n+    \"dogRef\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"dogRef\"],\n+    \"getChimera\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"getChimera\"],\n+    \"initialCat\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__[\"initialCat\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$internal__part__2$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <internal part 2>\");\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2d$tree$2d$shake$2f$tree$2d$shake$2d$test$2d$1$2f$input$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic-tree-shake/tree-shake-test-1/input/index.js [test] (ecmascript) <exports>\");"
        },
        {
            "sha": "723ea9a4e9da3e50d667da7edbaf11d39719680e",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/async_chunk/output/turbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_46366300._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_46366300._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_46366300._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_46366300._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -23,7 +23,7 @@ __turbopack_context__.r(\"[project]/turbopack/crates/turbopack-tests/tests/snapsh\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"bar\": (()=>bar)\n+    \"bar\": ()=>bar\n });\n function bar(value) {\n     console.assert(value);"
        },
        {
            "sha": "e5861e23369509afc106f6cc61402b523ab1b780",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/async_chunk/output/turbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_b274c771._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_b274c771._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_b274c771._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_async_chunk_input_b274c771._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -17,7 +17,7 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"foo\": (()=>foo)\n+    \"foo\": ()=>foo\n });\n function foo(value) {\n     console.assert(value);"
        },
        {
            "sha": "736325e56c73e3cc440fbbfc6985cf363b09a78e",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/async_chunk_build/output/4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_1e41378a._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk_build%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_1e41378a._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk_build%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_1e41378a._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk_build%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_1e41378a._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -23,7 +23,7 @@ __turbopack_context__.r(\"[project]/turbopack/crates/turbopack-tests/tests/snapsh\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"bar\": (()=>bar)\n+    \"bar\": ()=>bar\n });\n function bar(value) {\n     console.assert(value);"
        },
        {
            "sha": "9ffd17caf23e59ef729164a89db2944a321d79eb",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/async_chunk_build/output/4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_23e8ba79._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk_build%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_23e8ba79._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk_build%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_23e8ba79._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fasync_chunk_build%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_async_chunk_build_input_23e8ba79._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -17,7 +17,7 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"foo\": (()=>foo)\n+    \"foo\": ()=>foo\n });\n function foo(value) {\n     console.assert(value);"
        },
        {
            "sha": "fc5106b922a40e979180927185629352aa19bfff",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/chunked/output/turbopack_crates_turbopack-tests_tests_snapshot_basic_chunked_input_1efdaca0._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fchunked%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_chunked_input_1efdaca0._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fchunked%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_chunked_input_1efdaca0._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fchunked%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_chunked_input_1efdaca0._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -12,7 +12,7 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"foo\": (()=>foo)\n+    \"foo\": ()=>foo\n });\n function foo(value) {\n     console.assert(value);"
        },
        {
            "sha": "85c80d002fba87c8194eef9759a1935e15519a0d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/shebang/output/turbopack_crates_turbopack-tests_tests_snapshot_basic_shebang_input_d5e8dcd4._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fshebang%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_shebang_input_d5e8dcd4._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fshebang%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_shebang_input_d5e8dcd4._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Fshebang%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_basic_shebang_input_d5e8dcd4._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -12,7 +12,7 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"foo\": (()=>foo)\n+    \"foo\": ()=>foo\n });\n function foo(value) {\n     console.assert(value);"
        },
        {
            "sha": "ba1aeefa4826b6dca7d90f499862a022b458e6c6",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/top-level-await/output/4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_9acd43f4._.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Ftop-level-await%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_9acd43f4._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Ftop-level-await%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_9acd43f4._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Ftop-level-await%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_9acd43f4._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -5,8 +5,8 @@\n \n // import() doesn't care about whether a module is an async module or not\n __turbopack_context__.s({\n-    \"AlternativeCreateUserAction\": (()=>AlternativeCreateUserAction),\n-    \"CreateUserAction\": (()=>CreateUserAction)\n+    \"AlternativeCreateUserAction\": ()=>AlternativeCreateUserAction,\n+    \"CreateUserAction\": ()=>CreateUserAction\n });\n const UserApi = __turbopack_context__.r(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic/top-level-await/input/UserAPI.js [test] (ecmascript, async loader)\")(__turbopack_context__.i);\n const CreateUserAction = async (name)=>{"
        },
        {
            "sha": "5a04fcf5c3921ab7fa132a528596feaf0f515f0d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/basic/top-level-await/output/4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_aa0a0c39._.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Ftop-level-await%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_aa0a0c39._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Ftop-level-await%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_aa0a0c39._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fbasic%2Ftop-level-await%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_basic_top-level-await_input_aa0a0c39._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -6,8 +6,8 @@\n var { a: __turbopack_async_module__ } = __turbopack_context__;\n __turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {\n __turbopack_context__.s({\n-    \"close\": (()=>close),\n-    \"dbCall\": (()=>dbCall)\n+    \"close\": ()=>close,\n+    \"dbCall\": ()=>dbCall\n });\n const connectToDB = async (url)=>{\n     console.log('connecting to db', url);\n@@ -32,13 +32,13 @@ __turbopack_async_result__();\n var { a: __turbopack_async_module__ } = __turbopack_context__;\n __turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {\n __turbopack_context__.s({\n-    \"createUser\": (()=>createUser)\n+    \"createUser\": ()=>createUser\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2f$top$2d$level$2d$await$2f$input$2f$db$2d$connection$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/basic/top-level-await/input/db-connection.js [test] (ecmascript)\");\n var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([\n     __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2f$top$2d$level$2d$await$2f$input$2f$db$2d$connection$2e$js__$5b$test$5d$__$28$ecmascript$29$__\n ]);\n-([__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2f$top$2d$level$2d$await$2f$input$2f$db$2d$connection$2e$js__$5b$test$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);\n+[__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$basic$2f$top$2d$level$2d$await$2f$input$2f$db$2d$connection$2e$js__$5b$test$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__;\n ;\n const createUser = async (name)=>{\n     const command = `CREATE USER ${name}`;"
        },
        {
            "sha": "53865d9ea6647730079ec5c91c3f0fee06c409ec",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/comptime/early-return/output/4e721_crates_turbopack-tests_tests_snapshot_comptime_early-return_input_82bbae08._.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fcomptime%2Fearly-return%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_comptime_early-return_input_82bbae08._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fcomptime%2Fearly-return%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_comptime_early-return_input_82bbae08._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fcomptime%2Fearly-return%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_comptime_early-return_input_82bbae08._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,16 +4,16 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": (()=>a),\n-    \"b\": (()=>b),\n-    \"c\": (()=>c),\n-    \"d\": (()=>d),\n-    \"e\": (()=>e),\n-    \"f\": (()=>f),\n-    \"g\": (()=>g),\n-    \"h\": (()=>h),\n-    \"i\": (()=>i),\n-    \"j\": (()=>j)\n+    \"a\": ()=>a,\n+    \"b\": ()=>b,\n+    \"c\": ()=>c,\n+    \"d\": ()=>d,\n+    \"e\": ()=>e,\n+    \"f\": ()=>f,\n+    \"g\": ()=>g,\n+    \"h\": ()=>h,\n+    \"i\": ()=>i,\n+    \"j\": ()=>j\n });\n function a() {\n     if (\"TURBOPACK compile-time truthy\", 1) {"
        },
        {
            "sha": "7bbfb1f4827c4cf6c1fea15e3a15bfcae1a655fc",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/emotion/emotion/output/turbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js",
            "status": "modified",
            "additions": 18,
            "deletions": 12,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Femotion%2Femotion%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Femotion%2Femotion%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Femotion%2Femotion%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -27,20 +27,26 @@ function ClassNameButton({ children }) {\n }\n console.log(StyledButton, ClassNameButton);\n }),\n-\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/jsx-dev-runtime.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/jsx-dev-runtime.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n \n-var { m: module, e: exports } = __turbopack_context__;\n-{\n-\"purposefully empty stub\";\n-\"@emtion/react/jsx-dev-runtime.js\";\n-}}),\n-\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/index.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+__turbopack_context__.s({\n+    \"jsxDEV\": ()=>jsxDEV\n+});\n+function jsxDEV() {\n+    return 'purposefully empty stub for @emotion/react/jsx-dev-runtime.js';\n+}\n+}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n \n-var { m: module, e: exports } = __turbopack_context__;\n-{\n-\"purposefully empty stub\";\n-\"@emtion/react/index.js\";\n-}}),\n+__turbopack_context__.s({\n+    \"jsx\": ()=>jsx\n+});\n+function jsx() {\n+    return 'purposefully empty stub for @emotion/react/index.js';\n+}\n+}),\n \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/styled/index.js [test] (ecmascript)\": (function(__turbopack_context__) {\n \n var { m: module, e: exports } = __turbopack_context__;"
        },
        {
            "sha": "73d024ecbb543c3524573c427f0795aad374b7fa",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/emotion/emotion/output/turbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js.map",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Femotion%2Femotion%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Femotion%2Femotion%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Femotion%2Femotion%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_6fdc60d8._.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -3,7 +3,7 @@\n   \"sources\": [],\n   \"sections\": [\n     {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/emotion/emotion/input/index.js\"],\"sourcesContent\":[\"/** @jsxImportSource @emotion/react */\\n\\nimport { jsx } from '@emotion/react'\\nimport styled from '@emotion/styled'\\n\\nconst StyledButton = styled.button`\\n  background: blue;\\n`\\n\\nfunction ClassNameButton({ children }) {\\n  return (\\n    <button\\n      className={css`\\n        background: blue;\\n      `}\\n    >\\n      {children}\\n    </button>\\n  )\\n}\\n\\nconsole.log(StyledButton, ClassNameButton)\\n\"],\"names\":[],\"mappings\":\"AAAA,oCAAoC;;AAEpC;AACA;;;;AAEA,MAAM,6BAAe,CAAA,GAAA,wMAAA,CAAA,UAAM,AAAD;;;AAI1B,SAAS,gBAAgB,EAAE,QAAQ,EAAE;IACnC,qBACE,uOAAC;QACC,WAAW,GAAG,CAAC;;MAEf,CAAC;kBAEA;;;;;;AAGP;AAEA,QAAQ,GAAG,CAAC,cAAc\"}},\n-    {\"offset\": {\"line\": 33, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/jsx-dev-runtime.js\"],\"sourcesContent\":[\"\\\"purposefully empty stub\\\";\\n\\\"@emtion/react/jsx-dev-runtime.js\\\";\\n\"],\"names\":[],\"mappings\":\"AAAA;AACA\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 40, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/index.js\"],\"sourcesContent\":[\"\\\"purposefully empty stub\\\";\\n\\\"@emtion/react/index.js\\\";\\n\"],\"names\":[],\"mappings\":\"AAAA;AACA\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 47, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/styled/index.js\"],\"sourcesContent\":[\"\\\"purposefully empty stub\\\";\\n\\\"@emtion/styled/index.js\\\";\\n\"],\"names\":[],\"mappings\":\"AAAA;AACA\",\"ignoreList\":[0]}}]\n+    {\"offset\": {\"line\": 32, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/jsx-dev-runtime.js\"],\"sourcesContent\":[\"export function jsxDEV() {\\n  return 'purposefully empty stub for @emotion/react/jsx-dev-runtime.js'\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAAO,SAAS;IACd,OAAO;AACT\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 42, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/index.js\"],\"sourcesContent\":[\"export function jsx() {\\n  return 'purposefully empty stub for @emotion/react/index.js'\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAAO,SAAS;IACd,OAAO;AACT\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 53, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/styled/index.js\"],\"sourcesContent\":[\"\\\"purposefully empty stub\\\";\\n\\\"@emtion/styled/index.js\\\";\\n\"],\"names\":[],\"mappings\":\"AAAA;AACA\",\"ignoreList\":[0]}}]\n }\n\\ No newline at end of file"
        },
        {
            "sha": "d0faf61d1a155ca47c77ef43f7fc65f478f9d9f5",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/duplicate-binding/output/4e721_crates_turbopack-tests_tests_snapshot_imports_duplicate-binding_input_8498b7ee._.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fduplicate-binding%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_duplicate-binding_input_8498b7ee._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fduplicate-binding%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_duplicate-binding_input_8498b7ee._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fduplicate-binding%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_duplicate-binding_input_8498b7ee._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"Table\": (()=>Table)\n+    \"Table\": ()=>Table\n });\n const Table = ()=>{\n     return 'table';\n@@ -14,7 +14,7 @@ const Table = ()=>{\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"Table\": (()=>Table)\n+    \"Table\": ()=>Table\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$imports$2f$duplicate$2d$binding$2f$input$2f$table$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/duplicate-binding/input/table.js [test] (ecmascript)\");\n ;"
        },
        {
            "sha": "dd7593d76c544b6c7eb4b2693a10350fef3739be",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/dynamic/output/4e721_crates_turbopack-tests_tests_snapshot_imports_dynamic_input_vercel_mjs_7f2965b8._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fdynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_dynamic_input_vercel_mjs_7f2965b8._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fdynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_dynamic_input_vercel_mjs_7f2965b8._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fdynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_dynamic_input_vercel_mjs_7f2965b8._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'turbopack';\n }),"
        },
        {
            "sha": "c501bba0ab3a9df2ed4e1479c106cbb348daaa99",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/ignore-comments/output/4c35f_tests_snapshot_imports_ignore-comments_input_vercel_mjs_9a2c4881._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fignore-comments%2Foutput%2F4c35f_tests_snapshot_imports_ignore-comments_input_vercel_mjs_9a2c4881._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fignore-comments%2Foutput%2F4c35f_tests_snapshot_imports_ignore-comments_input_vercel_mjs_9a2c4881._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fignore-comments%2Foutput%2F4c35f_tests_snapshot_imports_ignore-comments_input_vercel_mjs_9a2c4881._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'turbopack';\n }),"
        },
        {
            "sha": "e69874bff34c54871e9cdfd0f56097eb464bda87",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/ignore-comments/output/4e721_crates_turbopack-tests_tests_snapshot_imports_ignore-comments_input_7f940ff3._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fignore-comments%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_ignore-comments_input_7f940ff3._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fignore-comments%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_ignore-comments_input_7f940ff3._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fignore-comments%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_ignore-comments_input_7f940ff3._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -23,7 +23,7 @@ __turbopack_context__.v(\"/static/ignore-worker.c7cb9893.cjs\");}),\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"foo\": (()=>foo)\n+    \"foo\": ()=>foo\n });\n const __TURBOPACK__import$2e$meta__ = {\n     get url () {"
        },
        {
            "sha": "49c998093790f840f8fbbf52360cd5f19a348c2e",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/order/output/turbopack_crates_turbopack-tests_tests_snapshot_imports_order_input_152f317f._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Forder%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_imports_order_input_152f317f._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Forder%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_imports_order_input_152f317f._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Forder%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_imports_order_input_152f317f._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = {\n     js: true"
        },
        {
            "sha": "dcd399c3bd776d9e15b2c6d0e206e6d6bbc39c79",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/resolve_error_esm/issues/__l___Module not found____c__ Can't resolve __c_'d-3d3a88.txt",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fresolve_error_esm%2Fissues%2F__l___Module%20not%20found____c__%20Can't%20resolve%20__c_'d-3d3a88.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fresolve_error_esm%2Fissues%2F__l___Module%20not%20found____c__%20Can't%20resolve%20__c_'d-3d3a88.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fresolve_error_esm%2Fissues%2F__l___Module%20not%20found____c__%20Can't%20resolve%20__c_'d-3d3a88.txt?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -13,5 +13,5 @@ error - [resolve] [project]/turbopack/crates/turbopack-tests/tests/snapshot/impo\n   | It was not possible to find the requested file.\n   | Parsed request as written in source code: module \"does-not-exist\" with subpath '/path'\n   | Path where resolving has started: [project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/resolve_error_esm/input/index.js\n-  | Type of request: EcmaScript Modules request\n+  | Type of request: EcmaScript Modules (part) request\n   |\n\\ No newline at end of file",
            "previous_filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/resolve_error_esm/issues/__l___Module not found____c__ Can't resolve __c_'d-801ecb.txt"
        },
        {
            "sha": "396895f7f5d385fd1200aa1cb7a5d7f8a767219b",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/static-and-dynamic/output/4e721_crates_turbopack-tests_tests_snapshot_imports_static-and-dynamic_input_ab9cac73._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fstatic-and-dynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_static-and-dynamic_input_ab9cac73._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fstatic-and-dynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_static-and-dynamic_input_ab9cac73._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fstatic-and-dynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_static-and-dynamic_input_ab9cac73._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'turbopack';\n }),"
        },
        {
            "sha": "61f564347df5f5d6812c7f7600cc3bc114aa7085",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports-nested/output/b1abf_turbopack-tests_tests_snapshot_imports_subpath-imports-nested_input_2e0531bf._.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fsubpath-imports-nested%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_imports_subpath-imports-nested_input_2e0531bf._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fsubpath-imports-nested%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_imports_subpath-imports-nested_input_2e0531bf._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fsubpath-imports-nested%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_imports_subpath-imports-nested_input_2e0531bf._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,15 +4,15 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'foo';\n }),\n \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports-nested/input/nested/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$imports$2f$subpath$2d$imports$2d$nested$2f$input$2f$foo$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports-nested/input/foo.js [test] (ecmascript)\");\n ;"
        },
        {
            "sha": "d9a20d0e2e7ce62caa99562abb8dac43ea85267f",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports/output/4e721_crates_turbopack-tests_tests_snapshot_imports_subpath-imports_input_1e655205._.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fsubpath-imports%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_subpath-imports_input_1e655205._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fsubpath-imports%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_subpath-imports_input_1e655205._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fimports%2Fsubpath-imports%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_imports_subpath-imports_input_1e655205._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,31 +4,31 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'foo';\n }),\n \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports/input/dep/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'dep';\n }),\n \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports/input/pat.js [test] (ecmascript)\": ((__turbopack_context__) => {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'pat';\n }),\n \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/imports/subpath-imports/input/import.mjs [test] (ecmascript)\": ((__turbopack_context__) => {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>__TURBOPACK__default__export__)\n+    \"default\": ()=>__TURBOPACK__default__export__\n });\n const __TURBOPACK__default__export__ = 'import';\n }),"
        },
        {
            "sha": "369888b7a5dd7e433c839559b511c17ab66e50f2",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/intermediate-tree-shake/rename-side-effect-free-facade/output/457d9_snapshot_intermediate-tree-shake_rename-side-effect-free-facade_input_71bae14d._.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fintermediate-tree-shake%2Frename-side-effect-free-facade%2Foutput%2F457d9_snapshot_intermediate-tree-shake_rename-side-effect-free-facade_input_71bae14d._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fintermediate-tree-shake%2Frename-side-effect-free-facade%2Foutput%2F457d9_snapshot_intermediate-tree-shake_rename-side-effect-free-facade_input_71bae14d._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fintermediate-tree-shake%2Frename-side-effect-free-facade%2Foutput%2F457d9_snapshot_intermediate-tree-shake_rename-side-effect-free-facade_input_71bae14d._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -12,7 +12,7 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a\": (()=>a)\n+    \"a\": ()=>a\n });\n const a = 'a';\n const a_unused = 'a_unused';\n@@ -21,7 +21,7 @@ const a_unused = 'a_unused';\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"a0\": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$intermediate$2d$tree$2d$shake$2f$rename$2d$side$2d$effect$2d$free$2d$facade$2f$input$2f$node_modules$2f$lib$2f$a$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"a\"])\n+    \"a0\": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$intermediate$2d$tree$2d$shake$2f$rename$2d$side$2d$effect$2d$free$2d$facade$2f$input$2f$node_modules$2f$lib$2f$a$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"a\"]\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$intermediate$2d$tree$2d$shake$2f$rename$2d$side$2d$effect$2d$free$2d$facade$2f$input$2f$node_modules$2f$lib$2f$a$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/intermediate-tree-shake/rename-side-effect-free-facade/input/node_modules/lib/a.js [test] (ecmascript)\");\n }),"
        },
        {
            "sha": "bcbd867f855e95c34670cde02dc8672b8e241cfa",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/intermediate-tree-shake/tree-shake-test-1/output/4c35f_tests_snapshot_intermediate-tree-shake_tree-shake-test-1_input_80df1e23._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fintermediate-tree-shake%2Ftree-shake-test-1%2Foutput%2F4c35f_tests_snapshot_intermediate-tree-shake_tree-shake-test-1_input_80df1e23._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fintermediate-tree-shake%2Ftree-shake-test-1%2Foutput%2F4c35f_tests_snapshot_intermediate-tree-shake_tree-shake-test-1_input_80df1e23._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fintermediate-tree-shake%2Ftree-shake-test-1%2Foutput%2F4c35f_tests_snapshot_intermediate-tree-shake_tree-shake-test-1_input_80df1e23._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -12,7 +12,7 @@ console.log(`I like ${(0, __TURBOPACK__imported__module__$5b$project$5d2f$turbop\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"getCat\": (()=>getCat)\n+    \"getCat\": ()=>getCat\n });\n let cat = \"cat\";\n let dog = \"dog\";"
        },
        {
            "sha": "4708b4cb155eebf9fff354a48b5498b08fb4ccd2",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/spawn_dynamic/output/4e721_crates_turbopack-tests_tests_snapshot_node_spawn_dynamic_input_d33fdf1c._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fspawn_dynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_node_spawn_dynamic_input_d33fdf1c._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fspawn_dynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_node_spawn_dynamic_input_d33fdf1c._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fspawn_dynamic%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_node_spawn_dynamic_input_d33fdf1c._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -17,7 +17,7 @@ const proc = (0, __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$cr\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"spawn\": (()=>spawn)\n+    \"spawn\": ()=>spawn\n });\n function spawn(cmd, args) {\n //"
        },
        {
            "sha": "cd177690c571a75dcd2d16e8c919874757358e46",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/spawn_node_eval/output/4e721_crates_turbopack-tests_tests_snapshot_node_spawn_node_eval_input_bf21d136._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fspawn_node_eval%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_node_spawn_node_eval_input_bf21d136._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fspawn_node_eval%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_node_spawn_node_eval_input_bf21d136._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fspawn_node_eval%2Foutput%2F4e721_crates_turbopack-tests_tests_snapshot_node_spawn_node_eval_input_bf21d136._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -15,7 +15,7 @@ let x = (0, __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"spawn\": (()=>spawn)\n+    \"spawn\": ()=>spawn\n });\n function spawn(cmd, args) {\n //"
        },
        {
            "sha": "6904604683173248ca9854b1629b12d3150a89a6",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/index.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,3 @@\n-\"purposefully empty stub\";\n-\"@emtion/react/index.js\";\n+export function jsx() {\n+  return 'purposefully empty stub for @emotion/react/index.js'\n+}"
        },
        {
            "sha": "d5d921ad46b8bd8042dd3359e31c225a63f786f1",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/jsx-dev-runtime.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Fjsx-dev-runtime.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Fjsx-dev-runtime.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Fjsx-dev-runtime.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,3 @@\n-\"purposefully empty stub\";\n-\"@emtion/react/jsx-dev-runtime.js\";\n+export function jsxDEV() {\n+  return 'purposefully empty stub for @emotion/react/jsx-dev-runtime.js'\n+}"
        },
        {
            "sha": "e849b32f98a35183dd3d813b664bc3cd62b70405",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@emotion/react/jsx-runtime.js",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Fjsx-runtime.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Fjsx-runtime.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40emotion%2Freact%2Fjsx-runtime.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,6 @@\n-\"purposefully empty stub\";\n-\"@emtion/react/jsx-runtime.js\";\n+export function jsx() {\n+  return 'purposefully empty stub for @emotion/react/jsx-runtime.js'\n+}\n+export function jsxs() {\n+  return 'purposefully empty stub for @emotion/react/jsx-runtime.js'\n+}"
        },
        {
            "sha": "457130ced64147557d03135b410153c0841dc07a",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@swc/helpers/_/_class_call_check.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40swc%2Fhelpers%2F_%2F_class_call_check.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40swc%2Fhelpers%2F_%2F_class_call_check.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2F%40swc%2Fhelpers%2F_%2F_class_call_check.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,3 @@\n-\"purposefully empty stub\";\n-\"@swc/helpers/_/_class_call_check.js\";\n+export function _() {\n+  return 'purposefully empty stub for @swc/helpers/_/_class_call_check.js'\n+}"
        },
        {
            "sha": "98e53699f5402105efd3a38630c6206b8f5dc7bf",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/index.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,3 @@\n-\"purposefully empty stub\";\n-\"react/index.js\";\n+export function jsx() {\n+  return 'purposefully empty stub for react/index.js'\n+}"
        },
        {
            "sha": "99633e29cba2f8b030f0ebc0f9f32832f6a6a3a4",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-dev-runtime.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Fjsx-dev-runtime.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Fjsx-dev-runtime.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Fjsx-dev-runtime.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,3 @@\n-\"purposefully empty stub\";\n-\"react/jsx-dev-runtime.js\";\n+export function jsxDEV() {\n+  return 'purposefully empty stub for react/jsx-dev-runtime.js'\n+}"
        },
        {
            "sha": "35cdcbf319d0f62fbceb4c2524363fc94b1633f2",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-runtime.js",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Fjsx-runtime.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Fjsx-runtime.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode_modules%2Freact%2Fjsx-runtime.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,2 +1,6 @@\n-\"purposefully empty stub\";\n-\"react/jsx-runtime.js\";\n+export function jsx() {\n+  return 'purposefully empty stub for react/jsx-runtime.js'\n+}\n+export function jsxs() {\n+  return 'purposefully empty stub for react/jsx-runtime.js'\n+}"
        },
        {
            "sha": "56a6c731495fbf01d2dfd13d3d371fd8fdb3b05d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/runtime/default_build_runtime/output/[turbopack]_runtime.js",
            "status": "modified",
            "additions": 56,
            "deletions": 25,
            "changes": 81,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_build_runtime%2Foutput%2F%5Bturbopack%5D_runtime.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_build_runtime%2Foutput%2F%5Bturbopack%5D_runtime.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_build_runtime%2Foutput%2F%5Bturbopack%5D_runtime.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -13,6 +13,22 @@ const toStringTag = typeof Symbol !== 'undefined' && Symbol.toStringTag;\n function defineProp(obj, name, options) {\n     if (!hasOwnProperty.call(obj, name)) Object.defineProperty(obj, name, options);\n }\n+function getOverwrittenModule(moduleCache, id) {\n+    let module = moduleCache[id];\n+    if (!module) {\n+        // This is invoked when a module is merged into another module, thus it wasn't invoked via\n+        // instantiateModule and the cache entry wasn't created yet.\n+        module = {\n+            exports: {},\n+            error: undefined,\n+            loaded: false,\n+            id,\n+            namespaceObject: undefined\n+        };\n+        moduleCache[id] = module;\n+    }\n+    return module;\n+}\n /**\n  * Adds the getters to the exports object.\n  */ function esm(exports, getters) {\n@@ -41,7 +57,11 @@ function defineProp(obj, name, options) {\n }\n /**\n  * Makes the module an ESM with exports\n- */ function esmExport(module, exports, getters) {\n+ */ function esmExport(module, exports, moduleCache, getters, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+        exports = module.exports;\n+    }\n     module.namespaceObject = module.exports;\n     esm(exports, getters);\n }\n@@ -74,16 +94,26 @@ function ensureDynamicExports(module, exports) {\n }\n /**\n  * Dynamically exports properties from an object\n- */ function dynamicExport(module, exports, object) {\n+ */ function dynamicExport(module, exports, moduleCache, object, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+        exports = module.exports;\n+    }\n     ensureDynamicExports(module, exports);\n     if (typeof object === 'object' && object !== null) {\n         module[REEXPORTED_OBJECTS].push(object);\n     }\n }\n-function exportValue(module, value) {\n+function exportValue(module, moduleCache, value, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+    }\n     module.exports = value;\n }\n-function exportNamespace(module, namespace) {\n+function exportNamespace(module, moduleCache, namespace, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+    }\n     module.exports = module.namespaceObject = namespace;\n }\n function createGetter(obj, key) {\n@@ -480,7 +510,15 @@ function loadChunkPath(chunkPath, source) {\n         const chunkModules = require(resolved);\n         for (const [moduleId, moduleFactory] of Object.entries(chunkModules)){\n             if (!moduleFactories[moduleId]) {\n-                moduleFactories[moduleId] = moduleFactory;\n+                if (Array.isArray(moduleFactory)) {\n+                    let [moduleFactoryFn, otherIds] = moduleFactory;\n+                    moduleFactories[moduleId] = moduleFactoryFn;\n+                    for (const otherModuleId of otherIds){\n+                        moduleFactories[otherModuleId] = moduleFactoryFn;\n+                    }\n+                } else {\n+                    moduleFactories[moduleId] = moduleFactory;\n+                }\n             }\n         }\n         loadedChunks.add(chunkPath);\n@@ -522,7 +560,15 @@ async function loadChunkAsync(source, chunkData) {\n         const chunkModules = module1.exports;\n         for (const [moduleId, moduleFactory] of Object.entries(chunkModules)){\n             if (!moduleFactories[moduleId]) {\n-                moduleFactories[moduleId] = moduleFactory;\n+                if (Array.isArray(moduleFactory)) {\n+                    let [moduleFactoryFn, otherIds] = moduleFactory;\n+                    moduleFactories[moduleId] = moduleFactoryFn;\n+                    for (const otherModuleId of otherIds){\n+                        moduleFactories[otherModuleId] = moduleFactoryFn;\n+                    }\n+                } else {\n+                    moduleFactories[moduleId] = moduleFactory;\n+                }\n             }\n         }\n         loadedChunks.add(chunkPath);\n@@ -570,21 +616,6 @@ function instantiateModule(id, source) {\n         }\n         throw new Error(`Module ${id} was instantiated ${instantiationReason}, but the module factory is not available. It might have been deleted in an HMR update.`);\n     }\n-    let parents;\n-    switch(source.type){\n-        case 0:\n-            parents = [];\n-            break;\n-        case 1:\n-            // No need to add this module as a child of the parent module here, this\n-            // has already been taken care of in `getOrInstantiateModuleFromParent`.\n-            parents = [\n-                source.parentId\n-            ];\n-            break;\n-        default:\n-            invariant(source, (source)=>`Unknown source type: ${source?.type}`);\n-    }\n     const module1 = {\n         exports: {},\n         error: undefined,\n@@ -605,10 +636,10 @@ function instantiateModule(id, source) {\n             y: externalImport,\n             f: moduleContext,\n             i: esmImport.bind(null, module1),\n-            s: esmExport.bind(null, module1, module1.exports),\n-            j: dynamicExport.bind(null, module1, module1.exports),\n-            v: exportValue.bind(null, module1),\n-            n: exportNamespace.bind(null, module1),\n+            s: esmExport.bind(null, module1, module1.exports, moduleCache),\n+            j: dynamicExport.bind(null, module1, module1.exports, moduleCache),\n+            v: exportValue.bind(null, module1, moduleCache),\n+            n: exportNamespace.bind(null, module1, moduleCache),\n             m: module1,\n             c: moduleCache,\n             M: moduleFactories,"
        },
        {
            "sha": "d6de4d347597f214752e0ba8c24393cdd7d1a5a5",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/runtime/default_build_runtime/output/[turbopack]_runtime.js.map",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_build_runtime%2Foutput%2F%5Bturbopack%5D_runtime.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_build_runtime%2Foutput%2F%5Bturbopack%5D_runtime.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_build_runtime%2Foutput%2F%5Bturbopack%5D_runtime.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -2,9 +2,9 @@\n   \"version\": 3,\n   \"sources\": [],\n   \"sections\": [\n-    {\"offset\": {\"line\": 3, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared/runtime-utils.ts\"],\"sourcesContent\":[\"/**\\n * This file contains runtime types and functions that are shared between all\\n * TurboPack ECMAScript runtimes.\\n *\\n * It will be prepended to the runtime code of each runtime.\\n */\\n\\n/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"./runtime-types.d.ts\\\" />\\n\\ntype EsmNamespaceObject = Record<string, any>\\n\\n// @ts-ignore Defined in `dev-base.ts`\\ndeclare function getOrInstantiateModuleFromParent<M>(\\n  id: ModuleId,\\n  sourceModule: M\\n): M\\n\\nconst REEXPORTED_OBJECTS = Symbol('reexported objects')\\n\\ntype ModuleContextMap = Record<ModuleId, ModuleContextEntry>\\n\\ninterface ModuleContextEntry {\\n  id: () => ModuleId\\n  module: () => any\\n}\\n\\ninterface ModuleContext {\\n  // require call\\n  (moduleId: ModuleId): Exports | EsmNamespaceObject\\n\\n  // async import call\\n  import(moduleId: ModuleId): Promise<Exports | EsmNamespaceObject>\\n\\n  keys(): ModuleId[]\\n\\n  resolve(moduleId: ModuleId): ModuleId\\n}\\n\\ntype GetOrInstantiateModuleFromParent<M> = (\\n  moduleId: ModuleId,\\n  parentModule: M\\n) => M\\n\\ndeclare function getOrInstantiateRuntimeModule(\\n  moduleId: ModuleId,\\n  chunkPath: ChunkPath\\n): Module\\n\\nconst hasOwnProperty = Object.prototype.hasOwnProperty\\nconst toStringTag = typeof Symbol !== 'undefined' && Symbol.toStringTag\\n\\nfunction defineProp(\\n  obj: any,\\n  name: PropertyKey,\\n  options: PropertyDescriptor & ThisType<any>\\n) {\\n  if (!hasOwnProperty.call(obj, name)) Object.defineProperty(obj, name, options)\\n}\\n\\n/**\\n * Adds the getters to the exports object.\\n */\\nfunction esm(\\n  exports: Exports,\\n  getters: Record<string, (() => any) | [() => any, (v: any) => void]>\\n) {\\n  defineProp(exports, '__esModule', { value: true })\\n  if (toStringTag) defineProp(exports, toStringTag, { value: 'Module' })\\n  for (const key in getters) {\\n    const item = getters[key]\\n    if (Array.isArray(item)) {\\n      defineProp(exports, key, {\\n        get: item[0],\\n        set: item[1],\\n        enumerable: true,\\n      })\\n    } else {\\n      defineProp(exports, key, { get: item, enumerable: true })\\n    }\\n  }\\n  Object.seal(exports)\\n}\\n\\n/**\\n * Makes the module an ESM with exports\\n */\\nfunction esmExport(\\n  module: Module,\\n  exports: Exports,\\n  getters: Record<string, () => any>\\n) {\\n  module.namespaceObject = module.exports\\n  esm(exports, getters)\\n}\\n\\nfunction ensureDynamicExports(module: Module, exports: Exports) {\\n  let reexportedObjects = module[REEXPORTED_OBJECTS]\\n\\n  if (!reexportedObjects) {\\n    reexportedObjects = module[REEXPORTED_OBJECTS] = []\\n    module.exports = module.namespaceObject = new Proxy(exports, {\\n      get(target, prop) {\\n        if (\\n          hasOwnProperty.call(target, prop) ||\\n          prop === 'default' ||\\n          prop === '__esModule'\\n        ) {\\n          return Reflect.get(target, prop)\\n        }\\n        for (const obj of reexportedObjects!) {\\n          const value = Reflect.get(obj, prop)\\n          if (value !== undefined) return value\\n        }\\n        return undefined\\n      },\\n      ownKeys(target) {\\n        const keys = Reflect.ownKeys(target)\\n        for (const obj of reexportedObjects!) {\\n          for (const key of Reflect.ownKeys(obj)) {\\n            if (key !== 'default' && !keys.includes(key)) keys.push(key)\\n          }\\n        }\\n        return keys\\n      },\\n    })\\n  }\\n}\\n\\n/**\\n * Dynamically exports properties from an object\\n */\\nfunction dynamicExport(\\n  module: Module,\\n  exports: Exports,\\n  object: Record<string, any>\\n) {\\n  ensureDynamicExports(module, exports)\\n\\n  if (typeof object === 'object' && object !== null) {\\n    module[REEXPORTED_OBJECTS]!.push(object)\\n  }\\n}\\n\\nfunction exportValue(module: Module, value: any) {\\n  module.exports = value\\n}\\n\\nfunction exportNamespace(module: Module, namespace: any) {\\n  module.exports = module.namespaceObject = namespace\\n}\\n\\nfunction createGetter(obj: Record<string | symbol, any>, key: string | symbol) {\\n  return () => obj[key]\\n}\\n\\n/**\\n * @returns prototype of the object\\n */\\nconst getProto: (obj: any) => any = Object.getPrototypeOf\\n  ? (obj) => Object.getPrototypeOf(obj)\\n  : (obj) => obj.__proto__\\n\\n/** Prototypes that are not expanded for exports */\\nconst LEAF_PROTOTYPES = [null, getProto({}), getProto([]), getProto(getProto)]\\n\\n/**\\n * @param raw\\n * @param ns\\n * @param allowExportDefault\\n *   * `false`: will have the raw module as default export\\n *   * `true`: will have the default property as default export\\n */\\nfunction interopEsm(\\n  raw: Exports,\\n  ns: EsmNamespaceObject,\\n  allowExportDefault?: boolean\\n) {\\n  const getters: { [s: string]: () => any } = Object.create(null)\\n  for (\\n    let current = raw;\\n    (typeof current === 'object' || typeof current === 'function') &&\\n    !LEAF_PROTOTYPES.includes(current);\\n    current = getProto(current)\\n  ) {\\n    for (const key of Object.getOwnPropertyNames(current)) {\\n      getters[key] = createGetter(raw, key)\\n    }\\n  }\\n\\n  // this is not really correct\\n  // we should set the `default` getter if the imported module is a `.cjs file`\\n  if (!(allowExportDefault && 'default' in getters)) {\\n    getters['default'] = () => raw\\n  }\\n\\n  esm(ns, getters)\\n  return ns\\n}\\n\\nfunction createNS(raw: Module['exports']): EsmNamespaceObject {\\n  if (typeof raw === 'function') {\\n    return function (this: any, ...args: any[]) {\\n      return raw.apply(this, args)\\n    }\\n  } else {\\n    return Object.create(null)\\n  }\\n}\\n\\nfunction esmImport(\\n  sourceModule: Module,\\n  id: ModuleId\\n): Exclude<Module['namespaceObject'], undefined> {\\n  const module = getOrInstantiateModuleFromParent(id, sourceModule)\\n  if (module.error) throw module.error\\n\\n  // any ES module has to have `module.namespaceObject` defined.\\n  if (module.namespaceObject) return module.namespaceObject\\n\\n  // only ESM can be an async module, so we don't need to worry about exports being a promise here.\\n  const raw = module.exports\\n  return (module.namespaceObject = interopEsm(\\n    raw,\\n    createNS(raw),\\n    raw && (raw as any).__esModule\\n  ))\\n}\\n\\n// Add a simple runtime require so that environments without one can still pass\\n// `typeof require` CommonJS checks so that exports are correctly registered.\\nconst runtimeRequire =\\n  // @ts-ignore\\n  typeof require === 'function'\\n    ? // @ts-ignore\\n      require\\n    : function require() {\\n        throw new Error('Unexpected use of runtime require')\\n      }\\n\\nfunction commonJsRequire(sourceModule: Module, id: ModuleId): Exports {\\n  const module = getOrInstantiateModuleFromParent(id, sourceModule)\\n  if (module.error) throw module.error\\n  return module.exports\\n}\\n\\n/**\\n * `require.context` and require/import expression runtime.\\n */\\nfunction moduleContext(map: ModuleContextMap): ModuleContext {\\n  function moduleContext(id: ModuleId): Exports {\\n    if (hasOwnProperty.call(map, id)) {\\n      return map[id].module()\\n    }\\n\\n    const e = new Error(`Cannot find module '${id}'`)\\n    ;(e as any).code = 'MODULE_NOT_FOUND'\\n    throw e\\n  }\\n\\n  moduleContext.keys = (): ModuleId[] => {\\n    return Object.keys(map)\\n  }\\n\\n  moduleContext.resolve = (id: ModuleId): ModuleId => {\\n    if (hasOwnProperty.call(map, id)) {\\n      return map[id].id()\\n    }\\n\\n    const e = new Error(`Cannot find module '${id}'`)\\n    ;(e as any).code = 'MODULE_NOT_FOUND'\\n    throw e\\n  }\\n\\n  moduleContext.import = async (id: ModuleId) => {\\n    return await (moduleContext(id) as Promise<Exports>)\\n  }\\n\\n  return moduleContext\\n}\\n\\n/**\\n * Returns the path of a chunk defined by its data.\\n */\\nfunction getChunkPath(chunkData: ChunkData): ChunkPath {\\n  return typeof chunkData === 'string' ? chunkData : chunkData.path\\n}\\n\\nfunction isPromise<T = any>(maybePromise: any): maybePromise is Promise<T> {\\n  return (\\n    maybePromise != null &&\\n    typeof maybePromise === 'object' &&\\n    'then' in maybePromise &&\\n    typeof maybePromise.then === 'function'\\n  )\\n}\\n\\nfunction isAsyncModuleExt<T extends {}>(obj: T): obj is AsyncModuleExt & T {\\n  return turbopackQueues in obj\\n}\\n\\nfunction createPromise<T>() {\\n  let resolve: (value: T | PromiseLike<T>) => void\\n  let reject: (reason?: any) => void\\n\\n  const promise = new Promise<T>((res, rej) => {\\n    reject = rej\\n    resolve = res\\n  })\\n\\n  return {\\n    promise,\\n    resolve: resolve!,\\n    reject: reject!,\\n  }\\n}\\n\\n// everything below is adapted from webpack\\n// https://github.com/webpack/webpack/blob/6be4065ade1e252c1d8dcba4af0f43e32af1bdc1/lib/runtime/AsyncModuleRuntimeModule.js#L13\\n\\nconst turbopackQueues = Symbol('turbopack queues')\\nconst turbopackExports = Symbol('turbopack exports')\\nconst turbopackError = Symbol('turbopack error')\\n\\nconst enum QueueStatus {\\n  Unknown = -1,\\n  Unresolved = 0,\\n  Resolved = 1,\\n}\\n\\ntype AsyncQueueFn = (() => void) & { queueCount: number }\\ntype AsyncQueue = AsyncQueueFn[] & {\\n  status: QueueStatus\\n}\\n\\nfunction resolveQueue(queue?: AsyncQueue) {\\n  if (queue && queue.status !== QueueStatus.Resolved) {\\n    queue.status = QueueStatus.Resolved\\n    queue.forEach((fn) => fn.queueCount--)\\n    queue.forEach((fn) => (fn.queueCount-- ? fn.queueCount++ : fn()))\\n  }\\n}\\n\\ntype Dep = Exports | AsyncModulePromise | Promise<Exports>\\n\\ntype AsyncModuleExt = {\\n  [turbopackQueues]: (fn: (queue: AsyncQueue) => void) => void\\n  [turbopackExports]: Exports\\n  [turbopackError]?: any\\n}\\n\\ntype AsyncModulePromise<T = Exports> = Promise<T> & AsyncModuleExt\\n\\nfunction wrapDeps(deps: Dep[]): AsyncModuleExt[] {\\n  return deps.map((dep): AsyncModuleExt => {\\n    if (dep !== null && typeof dep === 'object') {\\n      if (isAsyncModuleExt(dep)) return dep\\n      if (isPromise(dep)) {\\n        const queue: AsyncQueue = Object.assign([], {\\n          status: QueueStatus.Unresolved,\\n        })\\n\\n        const obj: AsyncModuleExt = {\\n          [turbopackExports]: {},\\n          [turbopackQueues]: (fn: (queue: AsyncQueue) => void) => fn(queue),\\n        }\\n\\n        dep.then(\\n          (res) => {\\n            obj[turbopackExports] = res\\n            resolveQueue(queue)\\n          },\\n          (err) => {\\n            obj[turbopackError] = err\\n            resolveQueue(queue)\\n          }\\n        )\\n\\n        return obj\\n      }\\n    }\\n\\n    return {\\n      [turbopackExports]: dep,\\n      [turbopackQueues]: () => {},\\n    }\\n  })\\n}\\n\\nfunction asyncModule(\\n  module: Module,\\n  body: (\\n    handleAsyncDependencies: (\\n      deps: Dep[]\\n    ) => Exports[] | Promise<() => Exports[]>,\\n    asyncResult: (err?: any) => void\\n  ) => void,\\n  hasAwait: boolean\\n) {\\n  const queue: AsyncQueue | undefined = hasAwait\\n    ? Object.assign([], { status: QueueStatus.Unknown })\\n    : undefined\\n\\n  const depQueues: Set<AsyncQueue> = new Set()\\n\\n  const { resolve, reject, promise: rawPromise } = createPromise<Exports>()\\n\\n  const promise: AsyncModulePromise = Object.assign(rawPromise, {\\n    [turbopackExports]: module.exports,\\n    [turbopackQueues]: (fn) => {\\n      queue && fn(queue)\\n      depQueues.forEach(fn)\\n      promise['catch'](() => {})\\n    },\\n  } satisfies AsyncModuleExt)\\n\\n  const attributes: PropertyDescriptor = {\\n    get(): any {\\n      return promise\\n    },\\n    set(v: any) {\\n      // Calling `esmExport` leads to this.\\n      if (v !== promise) {\\n        promise[turbopackExports] = v\\n      }\\n    },\\n  }\\n\\n  Object.defineProperty(module, 'exports', attributes)\\n  Object.defineProperty(module, 'namespaceObject', attributes)\\n\\n  function handleAsyncDependencies(deps: Dep[]) {\\n    const currentDeps = wrapDeps(deps)\\n\\n    const getResult = () =>\\n      currentDeps.map((d) => {\\n        if (d[turbopackError]) throw d[turbopackError]\\n        return d[turbopackExports]\\n      })\\n\\n    const { promise, resolve } = createPromise<() => Exports[]>()\\n\\n    const fn: AsyncQueueFn = Object.assign(() => resolve(getResult), {\\n      queueCount: 0,\\n    })\\n\\n    function fnQueue(q: AsyncQueue) {\\n      if (q !== queue && !depQueues.has(q)) {\\n        depQueues.add(q)\\n        if (q && q.status === QueueStatus.Unresolved) {\\n          fn.queueCount++\\n          q.push(fn)\\n        }\\n      }\\n    }\\n\\n    currentDeps.map((dep) => dep[turbopackQueues](fnQueue))\\n\\n    return fn.queueCount ? promise : getResult()\\n  }\\n\\n  function asyncResult(err?: any) {\\n    if (err) {\\n      reject((promise[turbopackError] = err))\\n    } else {\\n      resolve(promise[turbopackExports])\\n    }\\n\\n    resolveQueue(queue)\\n  }\\n\\n  body(handleAsyncDependencies, asyncResult)\\n\\n  if (queue && queue.status === QueueStatus.Unknown) {\\n    queue.status = QueueStatus.Unresolved\\n  }\\n}\\n\\n/**\\n * A pseudo \\\"fake\\\" URL object to resolve to its relative path.\\n *\\n * When UrlRewriteBehavior is set to relative, calls to the `new URL()` will construct url without base using this\\n * runtime function to generate context-agnostic urls between different rendering context, i.e ssr / client to avoid\\n * hydration mismatch.\\n *\\n * This is based on webpack's existing implementation:\\n * https://github.com/webpack/webpack/blob/87660921808566ef3b8796f8df61bd79fc026108/lib/runtime/RelativeUrlRuntimeModule.js\\n */\\nconst relativeURL = function relativeURL(this: any, inputUrl: string) {\\n  const realUrl = new URL(inputUrl, 'x:/')\\n  const values: Record<string, any> = {}\\n  for (const key in realUrl) values[key] = (realUrl as any)[key]\\n  values.href = inputUrl\\n  values.pathname = inputUrl.replace(/[?#].*/, '')\\n  values.origin = values.protocol = ''\\n  values.toString = values.toJSON = (..._args: Array<any>) => inputUrl\\n  for (const key in values)\\n    Object.defineProperty(this, key, {\\n      enumerable: true,\\n      configurable: true,\\n      value: values[key],\\n    })\\n}\\n\\nrelativeURL.prototype = URL.prototype\\n\\n/**\\n * Utility function to ensure all variants of an enum are handled.\\n */\\nfunction invariant(never: never, computeMessage: (arg: any) => string): never {\\n  throw new Error(`Invariant: ${computeMessage(never)}`)\\n}\\n\\n/**\\n * A stub function to make `require` available but non-functional in ESM.\\n */\\nfunction requireStub(_moduleId: ModuleId): never {\\n  throw new Error('dynamic usage of require is not supported')\\n}\\n\"],\"names\":[],\"mappings\":\"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\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 337, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared-node/base-externals-utils.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"../shared/runtime-utils.ts\\\" />\\n\\n/// A 'base' utilities to support runtime can have externals.\\n/// Currently this is for node.js / edge runtime both.\\n/// If a fn requires node.js specific behavior, it should be placed in `node-external-utils` instead.\\n\\nasync function externalImport(id: ModuleId) {\\n  let raw\\n  try {\\n    raw = await import(id)\\n  } catch (err) {\\n    // TODO(alexkirsz) This can happen when a client-side module tries to load\\n    // an external module we don't provide a shim for (e.g. querystring, url).\\n    // For now, we fail semi-silently, but in the future this should be a\\n    // compilation error.\\n    throw new Error(`Failed to load external module ${id}: ${err}`)\\n  }\\n\\n  if (raw && raw.__esModule && raw.default && 'default' in raw.default) {\\n    return interopEsm(raw.default, createNS(raw), true)\\n  }\\n\\n  return raw\\n}\\n\\nfunction externalRequire(\\n  id: ModuleId,\\n  thunk: () => any,\\n  esm: boolean = false\\n): Exports | EsmNamespaceObject {\\n  let raw\\n  try {\\n    raw = thunk()\\n  } catch (err) {\\n    // TODO(alexkirsz) This can happen when a client-side module tries to load\\n    // an external module we don't provide a shim for (e.g. querystring, url).\\n    // For now, we fail semi-silently, but in the future this should be a\\n    // compilation error.\\n    throw new Error(`Failed to load external module ${id}: ${err}`)\\n  }\\n\\n  if (!esm || raw.__esModule) {\\n    return raw\\n  }\\n\\n  return interopEsm(raw, createNS(raw), true)\\n}\\n\\nexternalRequire.resolve = (\\n  id: string,\\n  options?: {\\n    paths?: string[]\\n  }\\n) => {\\n  return require.resolve(id, options)\\n}\\n\"],\"names\":[],\"mappings\":\"AAAA,oDAAoD,GAEpD,mDAAmD;AAEnD,6DAA6D;AAC7D,sDAAsD;AACtD,qGAAqG;AAErG,eAAe,eAAe,EAAY;IACxC,IAAI;IACJ,IAAI;QACF,MAAM,MAAM,MAAM,CAAC;IACrB,EAAE,OAAO,KAAK;QACZ,0EAA0E;QAC1E,0EAA0E;QAC1E,qEAAqE;QACrE,qBAAqB;QACrB,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,GAAG,EAAE,EAAE,KAAK;IAChE;IAEA,IAAI,OAAO,IAAI,UAAU,IAAI,IAAI,OAAO,IAAI,aAAa,IAAI,OAAO,EAAE;QACpE,OAAO,WAAW,IAAI,OAAO,EAAE,SAAS,MAAM;IAChD;IAEA,OAAO;AACT;AAEA,SAAS,gBACP,EAAY,EACZ,KAAgB,EAChB,MAAe,KAAK;IAEpB,IAAI;IACJ,IAAI;QACF,MAAM;IACR,EAAE,OAAO,KAAK;QACZ,0EAA0E;QAC1E,0EAA0E;QAC1E,qEAAqE;QACrE,qBAAqB;QACrB,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,GAAG,EAAE,EAAE,KAAK;IAChE;IAEA,IAAI,CAAC,OAAO,IAAI,UAAU,EAAE;QAC1B,OAAO;IACT;IAEA,OAAO,WAAW,KAAK,SAAS,MAAM;AACxC;AAEA,gBAAgB,OAAO,GAAG,CACxB,IACA;IAIA,OAAO,QAAQ,OAAO,CAAC,IAAI;AAC7B\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 376, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared-node/node-externals-utils.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\ndeclare var RUNTIME_PUBLIC_PATH: string\\ndeclare var RELATIVE_ROOT_PATH: string\\ndeclare var ASSET_PREFIX: string\\n\\nconst path = require('path')\\n\\nconst relativePathToRuntimeRoot = path.relative(RUNTIME_PUBLIC_PATH, '.')\\n// Compute the relative path to the `distDir`.\\nconst relativePathToDistRoot = path.join(\\n  relativePathToRuntimeRoot,\\n  RELATIVE_ROOT_PATH\\n)\\nconst RUNTIME_ROOT = path.resolve(__filename, relativePathToRuntimeRoot)\\n// Compute the absolute path to the root, by stripping distDir from the absolute path to this file.\\nconst ABSOLUTE_ROOT = path.resolve(__filename, relativePathToDistRoot)\\n\\n/**\\n * Returns an absolute path to the given module path.\\n * Module path should be relative, either path to a file or a directory.\\n *\\n * This fn allows to calculate an absolute path for some global static values, such as\\n * `__dirname` or `import.meta.url` that Turbopack will not embeds in compile time.\\n * See ImportMetaBinding::code_generation for the usage.\\n */\\nfunction resolveAbsolutePath(modulePath?: string): string {\\n  if (modulePath) {\\n    return path.join(ABSOLUTE_ROOT, modulePath)\\n  }\\n  return ABSOLUTE_ROOT\\n}\\n\"],\"names\":[],\"mappings\":\"AAAA,oDAAoD,GAMpD,MAAM,OAAO,QAAQ;AAErB,MAAM,4BAA4B,KAAK,QAAQ,CAAC,qBAAqB;AACrE,8CAA8C;AAC9C,MAAM,yBAAyB,KAAK,IAAI,CACtC,2BACA;AAEF,MAAM,eAAe,KAAK,OAAO,CAAC,YAAY;AAC9C,mGAAmG;AACnG,MAAM,gBAAgB,KAAK,OAAO,CAAC,YAAY;AAE/C;;;;;;;CAOC,GACD,SAAS,oBAAoB,UAAmB;IAC9C,IAAI,YAAY;QACd,OAAO,KAAK,IAAI,CAAC,eAAe;IAClC;IACA,OAAO;AACT\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 396, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared-node/node-wasm-utils.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"../shared/runtime-utils.ts\\\" />\\n\\nfunction readWebAssemblyAsResponse(path: string) {\\n  const { createReadStream } = require('fs') as typeof import('fs')\\n  const { Readable } = require('stream') as typeof import('stream')\\n\\n  const stream = createReadStream(path)\\n\\n  // @ts-ignore unfortunately there's a slight type mismatch with the stream.\\n  return new Response(Readable.toWeb(stream), {\\n    headers: {\\n      'content-type': 'application/wasm',\\n    },\\n  })\\n}\\n\\nasync function compileWebAssemblyFromPath(\\n  path: string\\n): Promise<WebAssembly.Module> {\\n  const response = readWebAssemblyAsResponse(path)\\n\\n  return await WebAssembly.compileStreaming(response)\\n}\\n\\nasync function instantiateWebAssemblyFromPath(\\n  path: string,\\n  importsObj: WebAssembly.Imports\\n): Promise<Exports> {\\n  const response = readWebAssemblyAsResponse(path)\\n\\n  const { instance } = await WebAssembly.instantiateStreaming(\\n    response,\\n    importsObj\\n  )\\n\\n  return instance.exports\\n}\\n\"],\"names\":[],\"mappings\":\"AAAA,oDAAoD,GAEpD,mDAAmD;AAEnD,SAAS,0BAA0B,IAAY;IAC7C,MAAM,EAAE,gBAAgB,EAAE,GAAG,QAAQ;IACrC,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ;IAE7B,MAAM,SAAS,iBAAiB;IAEhC,2EAA2E;IAC3E,OAAO,IAAI,SAAS,SAAS,KAAK,CAAC,SAAS;QAC1C,SAAS;YACP,gBAAgB;QAClB;IACF;AACF;AAEA,eAAe,2BACb,IAAY;IAEZ,MAAM,WAAW,0BAA0B;IAE3C,OAAO,MAAM,YAAY,gBAAgB,CAAC;AAC5C;AAEA,eAAe,+BACb,IAAY,EACZ,UAA+B;IAE/B,MAAM,WAAW,0BAA0B;IAE3C,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,YAAY,oBAAoB,CACzD,UACA;IAGF,OAAO,SAAS,OAAO;AACzB\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 417, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/nodejs/runtime.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"../shared/runtime-utils.ts\\\" />\\n/// <reference path=\\\"../shared-node/base-externals-utils.ts\\\" />\\n/// <reference path=\\\"../shared-node/node-externals-utils.ts\\\" />\\n/// <reference path=\\\"../shared-node/node-wasm-utils.ts\\\" />\\n\\nenum SourceType {\\n  /**\\n   * The module was instantiated because it was included in an evaluated chunk's\\n   * runtime.\\n   */\\n  Runtime = 0,\\n  /**\\n   * The module was instantiated because a parent module imported it.\\n   */\\n  Parent = 1,\\n}\\n\\ntype SourceInfo =\\n  | {\\n      type: SourceType.Runtime\\n      chunkPath: ChunkPath\\n    }\\n  | {\\n      type: SourceType.Parent\\n      parentId: ModuleId\\n    }\\n\\nprocess.env.TURBOPACK = '1'\\n\\nfunction stringifySourceInfo(source: SourceInfo): string {\\n  switch (source.type) {\\n    case SourceType.Runtime:\\n      return `runtime for chunk ${source.chunkPath}`\\n    case SourceType.Parent:\\n      return `parent module ${source.parentId}`\\n    default:\\n      invariant(source, (source) => `Unknown source type: ${source?.type}`)\\n  }\\n}\\n\\ntype ExternalRequire = (\\n  id: ModuleId,\\n  thunk: () => any,\\n  esm?: boolean\\n) => Exports | EsmNamespaceObject\\ntype ExternalImport = (id: ModuleId) => Promise<Exports | EsmNamespaceObject>\\n\\ninterface TurbopackNodeBuildContext extends TurbopackBaseContext<Module> {\\n  R: ResolvePathFromModule\\n  x: ExternalRequire\\n  y: ExternalImport\\n}\\n\\ntype ModuleFactory = (\\n  this: Module['exports'],\\n  context: TurbopackNodeBuildContext\\n) => undefined\\n\\nconst url = require('url') as typeof import('url')\\nconst fs = require('fs/promises') as typeof import('fs/promises')\\n\\nconst moduleFactories: ModuleFactories = Object.create(null)\\nconst moduleCache: ModuleCache<Module> = Object.create(null)\\n\\n/**\\n * Returns an absolute path to the given module's id.\\n */\\nfunction createResolvePathFromModule(\\n  resolver: (moduleId: string) => Exports\\n): (moduleId: string) => string {\\n  return function resolvePathFromModule(moduleId: string): string {\\n    const exported = resolver(moduleId)\\n    const exportedPath = exported?.default ?? exported\\n    if (typeof exportedPath !== 'string') {\\n      return exported as any\\n    }\\n\\n    const strippedAssetPrefix = exportedPath.slice(ASSET_PREFIX.length)\\n    const resolved = path.resolve(RUNTIME_ROOT, strippedAssetPrefix)\\n\\n    return url.pathToFileURL(resolved).href\\n  }\\n}\\n\\nfunction loadChunk(chunkData: ChunkData, source?: SourceInfo): void {\\n  if (typeof chunkData === 'string') {\\n    return loadChunkPath(chunkData, source)\\n  } else {\\n    return loadChunkPath(chunkData.path, source)\\n  }\\n}\\n\\nconst loadedChunks = new Set<ChunkPath>()\\n\\nfunction loadChunkPath(chunkPath: ChunkPath, source?: SourceInfo): void {\\n  if (!isJs(chunkPath)) {\\n    // We only support loading JS chunks in Node.js.\\n    // This branch can be hit when trying to load a CSS chunk.\\n    return\\n  }\\n\\n  if (loadedChunks.has(chunkPath)) {\\n    return\\n  }\\n\\n  try {\\n    const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n    const chunkModules: ModuleFactories = require(resolved)\\n\\n    for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\\n      if (!moduleFactories[moduleId]) {\\n        moduleFactories[moduleId] = moduleFactory\\n      }\\n    }\\n    loadedChunks.add(chunkPath)\\n  } catch (e) {\\n    let errorMessage = `Failed to load chunk ${chunkPath}`\\n\\n    if (source) {\\n      errorMessage += ` from ${stringifySourceInfo(source)}`\\n    }\\n\\n    throw new Error(errorMessage, {\\n      cause: e,\\n    })\\n  }\\n}\\n\\nasync function loadChunkAsync(\\n  source: SourceInfo,\\n  chunkData: ChunkData\\n): Promise<any> {\\n  const chunkPath = typeof chunkData === 'string' ? chunkData : chunkData.path\\n  if (!isJs(chunkPath)) {\\n    // We only support loading JS chunks in Node.js.\\n    // This branch can be hit when trying to load a CSS chunk.\\n    return\\n  }\\n\\n  if (loadedChunks.has(chunkPath)) {\\n    return\\n  }\\n\\n  const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n\\n  try {\\n    const contents = await fs.readFile(resolved, 'utf-8')\\n\\n    const localRequire = (id: string) => {\\n      let resolvedId = require.resolve(id, { paths: [path.dirname(resolved)] })\\n      return require(resolvedId)\\n    }\\n    const module = {\\n      exports: {},\\n    }\\n    // TODO: Use vm.runInThisContext once our minimal supported Node.js version includes https://github.com/nodejs/node/pull/52153\\n    // eslint-disable-next-line no-eval -- Can't use vm.runInThisContext due to https://github.com/nodejs/node/issues/52102\\n    ;(0, eval)(\\n      '(function(module, exports, require, __dirname, __filename) {' +\\n        contents +\\n        '\\\\n})' +\\n        '\\\\n//# sourceURL=' +\\n        url.pathToFileURL(resolved)\\n    )(module, module.exports, localRequire, path.dirname(resolved), resolved)\\n\\n    const chunkModules: ModuleFactories = module.exports\\n    for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\\n      if (!moduleFactories[moduleId]) {\\n        moduleFactories[moduleId] = moduleFactory\\n      }\\n    }\\n    loadedChunks.add(chunkPath)\\n  } catch (e) {\\n    let errorMessage = `Failed to load chunk ${chunkPath}`\\n\\n    if (source) {\\n      errorMessage += ` from ${stringifySourceInfo(source)}`\\n    }\\n\\n    throw new Error(errorMessage, {\\n      cause: e,\\n    })\\n  }\\n}\\n\\nasync function loadChunkAsyncByUrl(source: SourceInfo, chunkUrl: string) {\\n  const path = url.fileURLToPath(new URL(chunkUrl, RUNTIME_ROOT)) as ChunkPath\\n  return loadChunkAsync(source, path)\\n}\\n\\nfunction loadWebAssembly(\\n  chunkPath: ChunkPath,\\n  _edgeModule: () => WebAssembly.Module,\\n  imports: WebAssembly.Imports\\n) {\\n  const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n\\n  return instantiateWebAssemblyFromPath(resolved, imports)\\n}\\n\\nfunction loadWebAssemblyModule(\\n  chunkPath: ChunkPath,\\n  _edgeModule: () => WebAssembly.Module\\n) {\\n  const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n\\n  return compileWebAssemblyFromPath(resolved)\\n}\\n\\nfunction getWorkerBlobURL(_chunks: ChunkPath[]): string {\\n  throw new Error('Worker blobs are not implemented yet for Node.js')\\n}\\n\\nfunction instantiateModule(id: ModuleId, source: SourceInfo): Module {\\n  const moduleFactory = moduleFactories[id]\\n  if (typeof moduleFactory !== 'function') {\\n    // This can happen if modules incorrectly handle HMR disposes/updates,\\n    // e.g. when they keep a `setTimeout` around which still executes old code\\n    // and contains e.g. a `require(\\\"something\\\")` call.\\n    let instantiationReason\\n    switch (source.type) {\\n      case SourceType.Runtime:\\n        instantiationReason = `as a runtime entry of chunk ${source.chunkPath}`\\n        break\\n      case SourceType.Parent:\\n        instantiationReason = `because it was required from module ${source.parentId}`\\n        break\\n      default:\\n        invariant(source, (source) => `Unknown source type: ${source?.type}`)\\n    }\\n    throw new Error(\\n      `Module ${id} was instantiated ${instantiationReason}, but the module factory is not available. It might have been deleted in an HMR update.`\\n    )\\n  }\\n\\n  let parents: ModuleId[]\\n  switch (source.type) {\\n    case SourceType.Runtime:\\n      parents = []\\n      break\\n    case SourceType.Parent:\\n      // No need to add this module as a child of the parent module here, this\\n      // has already been taken care of in `getOrInstantiateModuleFromParent`.\\n      parents = [source.parentId]\\n      break\\n    default:\\n      invariant(source, (source) => `Unknown source type: ${source?.type}`)\\n  }\\n\\n  const module: Module = {\\n    exports: {},\\n    error: undefined,\\n    loaded: false,\\n    id,\\n    namespaceObject: undefined,\\n  }\\n  moduleCache[id] = module\\n\\n  // NOTE(alexkirsz) This can fail when the module encounters a runtime error.\\n  try {\\n    const r = commonJsRequire.bind(null, module)\\n    moduleFactory.call(module.exports, {\\n      a: asyncModule.bind(null, module),\\n      e: module.exports,\\n      r,\\n      t: runtimeRequire,\\n      x: externalRequire,\\n      y: externalImport,\\n      f: moduleContext,\\n      i: esmImport.bind(null, module),\\n      s: esmExport.bind(null, module, module.exports),\\n      j: dynamicExport.bind(null, module, module.exports),\\n      v: exportValue.bind(null, module),\\n      n: exportNamespace.bind(null, module),\\n      m: module,\\n      c: moduleCache,\\n      M: moduleFactories,\\n      l: loadChunkAsync.bind(null, { type: SourceType.Parent, parentId: id }),\\n      L: loadChunkAsyncByUrl.bind(null, {\\n        type: SourceType.Parent,\\n        parentId: id,\\n      }),\\n      w: loadWebAssembly,\\n      u: loadWebAssemblyModule,\\n      P: resolveAbsolutePath,\\n      U: relativeURL,\\n      R: createResolvePathFromModule(r),\\n      b: getWorkerBlobURL,\\n      z: requireStub,\\n    })\\n  } catch (error) {\\n    module.error = error as any\\n    throw error\\n  }\\n\\n  module.loaded = true\\n  if (module.namespaceObject && module.exports !== module.namespaceObject) {\\n    // in case of a circular dependency: cjs1 -> esm2 -> cjs1\\n    interopEsm(module.exports, module.namespaceObject)\\n  }\\n\\n  return module\\n}\\n\\n/**\\n * Retrieves a module from the cache, or instantiate it if it is not cached.\\n */\\n// @ts-ignore\\nfunction getOrInstantiateModuleFromParent(\\n  id: ModuleId,\\n  sourceModule: Module\\n): Module {\\n  const module = moduleCache[id]\\n\\n  if (module) {\\n    return module\\n  }\\n\\n  return instantiateModule(id, {\\n    type: SourceType.Parent,\\n    parentId: sourceModule.id,\\n  })\\n}\\n\\n/**\\n * Instantiates a runtime module.\\n */\\nfunction instantiateRuntimeModule(\\n  moduleId: ModuleId,\\n  chunkPath: ChunkPath\\n): Module {\\n  return instantiateModule(moduleId, { type: SourceType.Runtime, chunkPath })\\n}\\n\\n/**\\n * Retrieves a module from the cache, or instantiate it as a runtime module if it is not cached.\\n */\\n// @ts-ignore TypeScript doesn't separate this module space from the browser runtime\\nfunction getOrInstantiateRuntimeModule(\\n  moduleId: ModuleId,\\n  chunkPath: ChunkPath\\n): Module {\\n  const module = moduleCache[moduleId]\\n  if (module) {\\n    if (module.error) {\\n      throw module.error\\n    }\\n    return module\\n  }\\n\\n  return instantiateRuntimeModule(moduleId, chunkPath)\\n}\\n\\nconst regexJsUrl = /\\\\.js(?:\\\\?[^#]*)?(?:#.*)?$/\\n/**\\n * Checks if a given path/URL ends with .js, optionally followed by ?query or #fragment.\\n */\\nfunction isJs(chunkUrlOrPath: ChunkUrl | ChunkPath): boolean {\\n  return regexJsUrl.test(chunkUrlOrPath)\\n}\\n\\nmodule.exports = {\\n  getOrInstantiateRuntimeModule,\\n  loadChunk,\\n}\\n\"],\"names\":[],\"mappings\":\"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\",\"ignoreList\":[0]}}]\n+    {\"offset\": {\"line\": 3, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared/runtime-utils.ts\"],\"sourcesContent\":[\"/**\\n * This file contains runtime types and functions that are shared between all\\n * TurboPack ECMAScript runtimes.\\n *\\n * It will be prepended to the runtime code of each runtime.\\n */\\n\\n/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"./runtime-types.d.ts\\\" />\\n\\ntype EsmNamespaceObject = Record<string, any>\\n\\n// @ts-ignore Defined in `dev-base.ts`\\ndeclare function getOrInstantiateModuleFromParent<M>(\\n  id: ModuleId,\\n  sourceModule: M\\n): M\\n\\nconst REEXPORTED_OBJECTS = Symbol('reexported objects')\\n\\ntype ModuleContextMap = Record<ModuleId, ModuleContextEntry>\\n\\ninterface ModuleContextEntry {\\n  id: () => ModuleId\\n  module: () => any\\n}\\n\\ninterface ModuleContext {\\n  // require call\\n  (moduleId: ModuleId): Exports | EsmNamespaceObject\\n\\n  // async import call\\n  import(moduleId: ModuleId): Promise<Exports | EsmNamespaceObject>\\n\\n  keys(): ModuleId[]\\n\\n  resolve(moduleId: ModuleId): ModuleId\\n}\\n\\ntype GetOrInstantiateModuleFromParent<M> = (\\n  moduleId: ModuleId,\\n  parentModule: M\\n) => M\\n\\ndeclare function getOrInstantiateRuntimeModule(\\n  moduleId: ModuleId,\\n  chunkPath: ChunkPath\\n): Module\\n\\nconst hasOwnProperty = Object.prototype.hasOwnProperty\\nconst toStringTag = typeof Symbol !== 'undefined' && Symbol.toStringTag\\n\\nfunction defineProp(\\n  obj: any,\\n  name: PropertyKey,\\n  options: PropertyDescriptor & ThisType<any>\\n) {\\n  if (!hasOwnProperty.call(obj, name)) Object.defineProperty(obj, name, options)\\n}\\n\\nfunction getOverwrittenModule(\\n  moduleCache: ModuleCache<Module>,\\n  id: ModuleId\\n): Module {\\n  let module = moduleCache[id]\\n  if (!module) {\\n    // This is invoked when a module is merged into another module, thus it wasn't invoked via\\n    // instantiateModule and the cache entry wasn't created yet.\\n    module = {\\n      exports: {},\\n      error: undefined,\\n      loaded: false,\\n      id,\\n      namespaceObject: undefined,\\n    }\\n    moduleCache[id] = module\\n  }\\n  return module\\n}\\n\\n/**\\n * Adds the getters to the exports object.\\n */\\nfunction esm(\\n  exports: Exports,\\n  getters: Record<string, (() => any) | [() => any, (v: any) => void]>\\n) {\\n  defineProp(exports, '__esModule', { value: true })\\n  if (toStringTag) defineProp(exports, toStringTag, { value: 'Module' })\\n  for (const key in getters) {\\n    const item = getters[key]\\n    if (Array.isArray(item)) {\\n      defineProp(exports, key, {\\n        get: item[0],\\n        set: item[1],\\n        enumerable: true,\\n      })\\n    } else {\\n      defineProp(exports, key, { get: item, enumerable: true })\\n    }\\n  }\\n  Object.seal(exports)\\n}\\n\\n/**\\n * Makes the module an ESM with exports\\n */\\nfunction esmExport(\\n  module: Module,\\n  exports: Exports,\\n  moduleCache: ModuleCache<Module>,\\n  getters: Record<string, () => any>,\\n  id: ModuleId | undefined\\n) {\\n  if (id != null) {\\n    module = getOverwrittenModule(moduleCache, id)\\n    exports = module.exports\\n  }\\n  module.namespaceObject = module.exports\\n  esm(exports, getters)\\n}\\n\\nfunction ensureDynamicExports(module: Module, exports: Exports) {\\n  let reexportedObjects = module[REEXPORTED_OBJECTS]\\n\\n  if (!reexportedObjects) {\\n    reexportedObjects = module[REEXPORTED_OBJECTS] = []\\n    module.exports = module.namespaceObject = new Proxy(exports, {\\n      get(target, prop) {\\n        if (\\n          hasOwnProperty.call(target, prop) ||\\n          prop === 'default' ||\\n          prop === '__esModule'\\n        ) {\\n          return Reflect.get(target, prop)\\n        }\\n        for (const obj of reexportedObjects!) {\\n          const value = Reflect.get(obj, prop)\\n          if (value !== undefined) return value\\n        }\\n        return undefined\\n      },\\n      ownKeys(target) {\\n        const keys = Reflect.ownKeys(target)\\n        for (const obj of reexportedObjects!) {\\n          for (const key of Reflect.ownKeys(obj)) {\\n            if (key !== 'default' && !keys.includes(key)) keys.push(key)\\n          }\\n        }\\n        return keys\\n      },\\n    })\\n  }\\n}\\n\\n/**\\n * Dynamically exports properties from an object\\n */\\nfunction dynamicExport(\\n  module: Module,\\n  exports: Exports,\\n  moduleCache: ModuleCache<Module>,\\n  object: Record<string, any>,\\n  id: ModuleId | undefined\\n) {\\n  if (id != null) {\\n    module = getOverwrittenModule(moduleCache, id)\\n    exports = module.exports\\n  }\\n  ensureDynamicExports(module, exports)\\n\\n  if (typeof object === 'object' && object !== null) {\\n    module[REEXPORTED_OBJECTS]!.push(object)\\n  }\\n}\\n\\nfunction exportValue(\\n  module: Module,\\n  moduleCache: ModuleCache<Module>,\\n  value: any,\\n  id: ModuleId | undefined\\n) {\\n  if (id != null) {\\n    module = getOverwrittenModule(moduleCache, id)\\n  }\\n  module.exports = value\\n}\\n\\nfunction exportNamespace(\\n  module: Module,\\n  moduleCache: ModuleCache<Module>,\\n  namespace: any,\\n  id: ModuleId | undefined\\n) {\\n  if (id != null) {\\n    module = getOverwrittenModule(moduleCache, id)\\n  }\\n  module.exports = module.namespaceObject = namespace\\n}\\n\\nfunction createGetter(obj: Record<string | symbol, any>, key: string | symbol) {\\n  return () => obj[key]\\n}\\n\\n/**\\n * @returns prototype of the object\\n */\\nconst getProto: (obj: any) => any = Object.getPrototypeOf\\n  ? (obj) => Object.getPrototypeOf(obj)\\n  : (obj) => obj.__proto__\\n\\n/** Prototypes that are not expanded for exports */\\nconst LEAF_PROTOTYPES = [null, getProto({}), getProto([]), getProto(getProto)]\\n\\n/**\\n * @param raw\\n * @param ns\\n * @param allowExportDefault\\n *   * `false`: will have the raw module as default export\\n *   * `true`: will have the default property as default export\\n */\\nfunction interopEsm(\\n  raw: Exports,\\n  ns: EsmNamespaceObject,\\n  allowExportDefault?: boolean\\n) {\\n  const getters: { [s: string]: () => any } = Object.create(null)\\n  for (\\n    let current = raw;\\n    (typeof current === 'object' || typeof current === 'function') &&\\n    !LEAF_PROTOTYPES.includes(current);\\n    current = getProto(current)\\n  ) {\\n    for (const key of Object.getOwnPropertyNames(current)) {\\n      getters[key] = createGetter(raw, key)\\n    }\\n  }\\n\\n  // this is not really correct\\n  // we should set the `default` getter if the imported module is a `.cjs file`\\n  if (!(allowExportDefault && 'default' in getters)) {\\n    getters['default'] = () => raw\\n  }\\n\\n  esm(ns, getters)\\n  return ns\\n}\\n\\nfunction createNS(raw: Module['exports']): EsmNamespaceObject {\\n  if (typeof raw === 'function') {\\n    return function (this: any, ...args: any[]) {\\n      return raw.apply(this, args)\\n    }\\n  } else {\\n    return Object.create(null)\\n  }\\n}\\n\\nfunction esmImport(\\n  sourceModule: Module,\\n  id: ModuleId\\n): Exclude<Module['namespaceObject'], undefined> {\\n  const module = getOrInstantiateModuleFromParent(id, sourceModule)\\n  if (module.error) throw module.error\\n\\n  // any ES module has to have `module.namespaceObject` defined.\\n  if (module.namespaceObject) return module.namespaceObject\\n\\n  // only ESM can be an async module, so we don't need to worry about exports being a promise here.\\n  const raw = module.exports\\n  return (module.namespaceObject = interopEsm(\\n    raw,\\n    createNS(raw),\\n    raw && (raw as any).__esModule\\n  ))\\n}\\n\\n// Add a simple runtime require so that environments without one can still pass\\n// `typeof require` CommonJS checks so that exports are correctly registered.\\nconst runtimeRequire =\\n  // @ts-ignore\\n  typeof require === 'function'\\n    ? // @ts-ignore\\n      require\\n    : function require() {\\n        throw new Error('Unexpected use of runtime require')\\n      }\\n\\nfunction commonJsRequire(sourceModule: Module, id: ModuleId): Exports {\\n  const module = getOrInstantiateModuleFromParent(id, sourceModule)\\n  if (module.error) throw module.error\\n  return module.exports\\n}\\n\\n/**\\n * `require.context` and require/import expression runtime.\\n */\\nfunction moduleContext(map: ModuleContextMap): ModuleContext {\\n  function moduleContext(id: ModuleId): Exports {\\n    if (hasOwnProperty.call(map, id)) {\\n      return map[id].module()\\n    }\\n\\n    const e = new Error(`Cannot find module '${id}'`)\\n    ;(e as any).code = 'MODULE_NOT_FOUND'\\n    throw e\\n  }\\n\\n  moduleContext.keys = (): ModuleId[] => {\\n    return Object.keys(map)\\n  }\\n\\n  moduleContext.resolve = (id: ModuleId): ModuleId => {\\n    if (hasOwnProperty.call(map, id)) {\\n      return map[id].id()\\n    }\\n\\n    const e = new Error(`Cannot find module '${id}'`)\\n    ;(e as any).code = 'MODULE_NOT_FOUND'\\n    throw e\\n  }\\n\\n  moduleContext.import = async (id: ModuleId) => {\\n    return await (moduleContext(id) as Promise<Exports>)\\n  }\\n\\n  return moduleContext\\n}\\n\\n/**\\n * Returns the path of a chunk defined by its data.\\n */\\nfunction getChunkPath(chunkData: ChunkData): ChunkPath {\\n  return typeof chunkData === 'string' ? chunkData : chunkData.path\\n}\\n\\nfunction isPromise<T = any>(maybePromise: any): maybePromise is Promise<T> {\\n  return (\\n    maybePromise != null &&\\n    typeof maybePromise === 'object' &&\\n    'then' in maybePromise &&\\n    typeof maybePromise.then === 'function'\\n  )\\n}\\n\\nfunction isAsyncModuleExt<T extends {}>(obj: T): obj is AsyncModuleExt & T {\\n  return turbopackQueues in obj\\n}\\n\\nfunction createPromise<T>() {\\n  let resolve: (value: T | PromiseLike<T>) => void\\n  let reject: (reason?: any) => void\\n\\n  const promise = new Promise<T>((res, rej) => {\\n    reject = rej\\n    resolve = res\\n  })\\n\\n  return {\\n    promise,\\n    resolve: resolve!,\\n    reject: reject!,\\n  }\\n}\\n\\n// everything below is adapted from webpack\\n// https://github.com/webpack/webpack/blob/6be4065ade1e252c1d8dcba4af0f43e32af1bdc1/lib/runtime/AsyncModuleRuntimeModule.js#L13\\n\\nconst turbopackQueues = Symbol('turbopack queues')\\nconst turbopackExports = Symbol('turbopack exports')\\nconst turbopackError = Symbol('turbopack error')\\n\\nconst enum QueueStatus {\\n  Unknown = -1,\\n  Unresolved = 0,\\n  Resolved = 1,\\n}\\n\\ntype AsyncQueueFn = (() => void) & { queueCount: number }\\ntype AsyncQueue = AsyncQueueFn[] & {\\n  status: QueueStatus\\n}\\n\\nfunction resolveQueue(queue?: AsyncQueue) {\\n  if (queue && queue.status !== QueueStatus.Resolved) {\\n    queue.status = QueueStatus.Resolved\\n    queue.forEach((fn) => fn.queueCount--)\\n    queue.forEach((fn) => (fn.queueCount-- ? fn.queueCount++ : fn()))\\n  }\\n}\\n\\ntype Dep = Exports | AsyncModulePromise | Promise<Exports>\\n\\ntype AsyncModuleExt = {\\n  [turbopackQueues]: (fn: (queue: AsyncQueue) => void) => void\\n  [turbopackExports]: Exports\\n  [turbopackError]?: any\\n}\\n\\ntype AsyncModulePromise<T = Exports> = Promise<T> & AsyncModuleExt\\n\\nfunction wrapDeps(deps: Dep[]): AsyncModuleExt[] {\\n  return deps.map((dep): AsyncModuleExt => {\\n    if (dep !== null && typeof dep === 'object') {\\n      if (isAsyncModuleExt(dep)) return dep\\n      if (isPromise(dep)) {\\n        const queue: AsyncQueue = Object.assign([], {\\n          status: QueueStatus.Unresolved,\\n        })\\n\\n        const obj: AsyncModuleExt = {\\n          [turbopackExports]: {},\\n          [turbopackQueues]: (fn: (queue: AsyncQueue) => void) => fn(queue),\\n        }\\n\\n        dep.then(\\n          (res) => {\\n            obj[turbopackExports] = res\\n            resolveQueue(queue)\\n          },\\n          (err) => {\\n            obj[turbopackError] = err\\n            resolveQueue(queue)\\n          }\\n        )\\n\\n        return obj\\n      }\\n    }\\n\\n    return {\\n      [turbopackExports]: dep,\\n      [turbopackQueues]: () => {},\\n    }\\n  })\\n}\\n\\nfunction asyncModule(\\n  module: Module,\\n  body: (\\n    handleAsyncDependencies: (\\n      deps: Dep[]\\n    ) => Exports[] | Promise<() => Exports[]>,\\n    asyncResult: (err?: any) => void\\n  ) => void,\\n  hasAwait: boolean\\n) {\\n  const queue: AsyncQueue | undefined = hasAwait\\n    ? Object.assign([], { status: QueueStatus.Unknown })\\n    : undefined\\n\\n  const depQueues: Set<AsyncQueue> = new Set()\\n\\n  const { resolve, reject, promise: rawPromise } = createPromise<Exports>()\\n\\n  const promise: AsyncModulePromise = Object.assign(rawPromise, {\\n    [turbopackExports]: module.exports,\\n    [turbopackQueues]: (fn) => {\\n      queue && fn(queue)\\n      depQueues.forEach(fn)\\n      promise['catch'](() => {})\\n    },\\n  } satisfies AsyncModuleExt)\\n\\n  const attributes: PropertyDescriptor = {\\n    get(): any {\\n      return promise\\n    },\\n    set(v: any) {\\n      // Calling `esmExport` leads to this.\\n      if (v !== promise) {\\n        promise[turbopackExports] = v\\n      }\\n    },\\n  }\\n\\n  Object.defineProperty(module, 'exports', attributes)\\n  Object.defineProperty(module, 'namespaceObject', attributes)\\n\\n  function handleAsyncDependencies(deps: Dep[]) {\\n    const currentDeps = wrapDeps(deps)\\n\\n    const getResult = () =>\\n      currentDeps.map((d) => {\\n        if (d[turbopackError]) throw d[turbopackError]\\n        return d[turbopackExports]\\n      })\\n\\n    const { promise, resolve } = createPromise<() => Exports[]>()\\n\\n    const fn: AsyncQueueFn = Object.assign(() => resolve(getResult), {\\n      queueCount: 0,\\n    })\\n\\n    function fnQueue(q: AsyncQueue) {\\n      if (q !== queue && !depQueues.has(q)) {\\n        depQueues.add(q)\\n        if (q && q.status === QueueStatus.Unresolved) {\\n          fn.queueCount++\\n          q.push(fn)\\n        }\\n      }\\n    }\\n\\n    currentDeps.map((dep) => dep[turbopackQueues](fnQueue))\\n\\n    return fn.queueCount ? promise : getResult()\\n  }\\n\\n  function asyncResult(err?: any) {\\n    if (err) {\\n      reject((promise[turbopackError] = err))\\n    } else {\\n      resolve(promise[turbopackExports])\\n    }\\n\\n    resolveQueue(queue)\\n  }\\n\\n  body(handleAsyncDependencies, asyncResult)\\n\\n  if (queue && queue.status === QueueStatus.Unknown) {\\n    queue.status = QueueStatus.Unresolved\\n  }\\n}\\n\\n/**\\n * A pseudo \\\"fake\\\" URL object to resolve to its relative path.\\n *\\n * When UrlRewriteBehavior is set to relative, calls to the `new URL()` will construct url without base using this\\n * runtime function to generate context-agnostic urls between different rendering context, i.e ssr / client to avoid\\n * hydration mismatch.\\n *\\n * This is based on webpack's existing implementation:\\n * https://github.com/webpack/webpack/blob/87660921808566ef3b8796f8df61bd79fc026108/lib/runtime/RelativeUrlRuntimeModule.js\\n */\\nconst relativeURL = function relativeURL(this: any, inputUrl: string) {\\n  const realUrl = new URL(inputUrl, 'x:/')\\n  const values: Record<string, any> = {}\\n  for (const key in realUrl) values[key] = (realUrl as any)[key]\\n  values.href = inputUrl\\n  values.pathname = inputUrl.replace(/[?#].*/, '')\\n  values.origin = values.protocol = ''\\n  values.toString = values.toJSON = (..._args: Array<any>) => inputUrl\\n  for (const key in values)\\n    Object.defineProperty(this, key, {\\n      enumerable: true,\\n      configurable: true,\\n      value: values[key],\\n    })\\n}\\n\\nrelativeURL.prototype = URL.prototype\\n\\n/**\\n * Utility function to ensure all variants of an enum are handled.\\n */\\nfunction invariant(never: never, computeMessage: (arg: any) => string): never {\\n  throw new Error(`Invariant: ${computeMessage(never)}`)\\n}\\n\\n/**\\n * A stub function to make `require` available but non-functional in ESM.\\n */\\nfunction requireStub(_moduleId: ModuleId): never {\\n  throw new Error('dynamic usage of require is not supported')\\n}\\n\"],\"names\":[],\"mappings\":\"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\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 367, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared-node/base-externals-utils.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"../shared/runtime-utils.ts\\\" />\\n\\n/// A 'base' utilities to support runtime can have externals.\\n/// Currently this is for node.js / edge runtime both.\\n/// If a fn requires node.js specific behavior, it should be placed in `node-external-utils` instead.\\n\\nasync function externalImport(id: ModuleId) {\\n  let raw\\n  try {\\n    raw = await import(id)\\n  } catch (err) {\\n    // TODO(alexkirsz) This can happen when a client-side module tries to load\\n    // an external module we don't provide a shim for (e.g. querystring, url).\\n    // For now, we fail semi-silently, but in the future this should be a\\n    // compilation error.\\n    throw new Error(`Failed to load external module ${id}: ${err}`)\\n  }\\n\\n  if (raw && raw.__esModule && raw.default && 'default' in raw.default) {\\n    return interopEsm(raw.default, createNS(raw), true)\\n  }\\n\\n  return raw\\n}\\n\\nfunction externalRequire(\\n  id: ModuleId,\\n  thunk: () => any,\\n  esm: boolean = false\\n): Exports | EsmNamespaceObject {\\n  let raw\\n  try {\\n    raw = thunk()\\n  } catch (err) {\\n    // TODO(alexkirsz) This can happen when a client-side module tries to load\\n    // an external module we don't provide a shim for (e.g. querystring, url).\\n    // For now, we fail semi-silently, but in the future this should be a\\n    // compilation error.\\n    throw new Error(`Failed to load external module ${id}: ${err}`)\\n  }\\n\\n  if (!esm || raw.__esModule) {\\n    return raw\\n  }\\n\\n  return interopEsm(raw, createNS(raw), true)\\n}\\n\\nexternalRequire.resolve = (\\n  id: string,\\n  options?: {\\n    paths?: string[]\\n  }\\n) => {\\n  return require.resolve(id, options)\\n}\\n\"],\"names\":[],\"mappings\":\"AAAA,oDAAoD,GAEpD,mDAAmD;AAEnD,6DAA6D;AAC7D,sDAAsD;AACtD,qGAAqG;AAErG,eAAe,eAAe,EAAY;IACxC,IAAI;IACJ,IAAI;QACF,MAAM,MAAM,MAAM,CAAC;IACrB,EAAE,OAAO,KAAK;QACZ,0EAA0E;QAC1E,0EAA0E;QAC1E,qEAAqE;QACrE,qBAAqB;QACrB,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,GAAG,EAAE,EAAE,KAAK;IAChE;IAEA,IAAI,OAAO,IAAI,UAAU,IAAI,IAAI,OAAO,IAAI,aAAa,IAAI,OAAO,EAAE;QACpE,OAAO,WAAW,IAAI,OAAO,EAAE,SAAS,MAAM;IAChD;IAEA,OAAO;AACT;AAEA,SAAS,gBACP,EAAY,EACZ,KAAgB,EAChB,MAAe,KAAK;IAEpB,IAAI;IACJ,IAAI;QACF,MAAM;IACR,EAAE,OAAO,KAAK;QACZ,0EAA0E;QAC1E,0EAA0E;QAC1E,qEAAqE;QACrE,qBAAqB;QACrB,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,GAAG,EAAE,EAAE,KAAK;IAChE;IAEA,IAAI,CAAC,OAAO,IAAI,UAAU,EAAE;QAC1B,OAAO;IACT;IAEA,OAAO,WAAW,KAAK,SAAS,MAAM;AACxC;AAEA,gBAAgB,OAAO,GAAG,CACxB,IACA;IAIA,OAAO,QAAQ,OAAO,CAAC,IAAI;AAC7B\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 406, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared-node/node-externals-utils.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\ndeclare var RUNTIME_PUBLIC_PATH: string\\ndeclare var RELATIVE_ROOT_PATH: string\\ndeclare var ASSET_PREFIX: string\\n\\nconst path = require('path')\\n\\nconst relativePathToRuntimeRoot = path.relative(RUNTIME_PUBLIC_PATH, '.')\\n// Compute the relative path to the `distDir`.\\nconst relativePathToDistRoot = path.join(\\n  relativePathToRuntimeRoot,\\n  RELATIVE_ROOT_PATH\\n)\\nconst RUNTIME_ROOT = path.resolve(__filename, relativePathToRuntimeRoot)\\n// Compute the absolute path to the root, by stripping distDir from the absolute path to this file.\\nconst ABSOLUTE_ROOT = path.resolve(__filename, relativePathToDistRoot)\\n\\n/**\\n * Returns an absolute path to the given module path.\\n * Module path should be relative, either path to a file or a directory.\\n *\\n * This fn allows to calculate an absolute path for some global static values, such as\\n * `__dirname` or `import.meta.url` that Turbopack will not embeds in compile time.\\n * See ImportMetaBinding::code_generation for the usage.\\n */\\nfunction resolveAbsolutePath(modulePath?: string): string {\\n  if (modulePath) {\\n    return path.join(ABSOLUTE_ROOT, modulePath)\\n  }\\n  return ABSOLUTE_ROOT\\n}\\n\"],\"names\":[],\"mappings\":\"AAAA,oDAAoD,GAMpD,MAAM,OAAO,QAAQ;AAErB,MAAM,4BAA4B,KAAK,QAAQ,CAAC,qBAAqB;AACrE,8CAA8C;AAC9C,MAAM,yBAAyB,KAAK,IAAI,CACtC,2BACA;AAEF,MAAM,eAAe,KAAK,OAAO,CAAC,YAAY;AAC9C,mGAAmG;AACnG,MAAM,gBAAgB,KAAK,OAAO,CAAC,YAAY;AAE/C;;;;;;;CAOC,GACD,SAAS,oBAAoB,UAAmB;IAC9C,IAAI,YAAY;QACd,OAAO,KAAK,IAAI,CAAC,eAAe;IAClC;IACA,OAAO;AACT\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 426, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/shared-node/node-wasm-utils.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"../shared/runtime-utils.ts\\\" />\\n\\nfunction readWebAssemblyAsResponse(path: string) {\\n  const { createReadStream } = require('fs') as typeof import('fs')\\n  const { Readable } = require('stream') as typeof import('stream')\\n\\n  const stream = createReadStream(path)\\n\\n  // @ts-ignore unfortunately there's a slight type mismatch with the stream.\\n  return new Response(Readable.toWeb(stream), {\\n    headers: {\\n      'content-type': 'application/wasm',\\n    },\\n  })\\n}\\n\\nasync function compileWebAssemblyFromPath(\\n  path: string\\n): Promise<WebAssembly.Module> {\\n  const response = readWebAssemblyAsResponse(path)\\n\\n  return await WebAssembly.compileStreaming(response)\\n}\\n\\nasync function instantiateWebAssemblyFromPath(\\n  path: string,\\n  importsObj: WebAssembly.Imports\\n): Promise<Exports> {\\n  const response = readWebAssemblyAsResponse(path)\\n\\n  const { instance } = await WebAssembly.instantiateStreaming(\\n    response,\\n    importsObj\\n  )\\n\\n  return instance.exports\\n}\\n\"],\"names\":[],\"mappings\":\"AAAA,oDAAoD,GAEpD,mDAAmD;AAEnD,SAAS,0BAA0B,IAAY;IAC7C,MAAM,EAAE,gBAAgB,EAAE,GAAG,QAAQ;IACrC,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ;IAE7B,MAAM,SAAS,iBAAiB;IAEhC,2EAA2E;IAC3E,OAAO,IAAI,SAAS,SAAS,KAAK,CAAC,SAAS;QAC1C,SAAS;YACP,gBAAgB;QAClB;IACF;AACF;AAEA,eAAe,2BACb,IAAY;IAEZ,MAAM,WAAW,0BAA0B;IAE3C,OAAO,MAAM,YAAY,gBAAgB,CAAC;AAC5C;AAEA,eAAe,+BACb,IAAY,EACZ,UAA+B;IAE/B,MAAM,WAAW,0BAA0B;IAE3C,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,YAAY,oBAAoB,CACzD,UACA;IAGF,OAAO,SAAS,OAAO;AACzB\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 447, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[turbopack]/nodejs/runtime.ts\"],\"sourcesContent\":[\"/* eslint-disable @typescript-eslint/no-unused-vars */\\n\\n/// <reference path=\\\"../shared/runtime-utils.ts\\\" />\\n/// <reference path=\\\"../shared-node/base-externals-utils.ts\\\" />\\n/// <reference path=\\\"../shared-node/node-externals-utils.ts\\\" />\\n/// <reference path=\\\"../shared-node/node-wasm-utils.ts\\\" />\\n\\nenum SourceType {\\n  /**\\n   * The module was instantiated because it was included in an evaluated chunk's\\n   * runtime.\\n   */\\n  Runtime = 0,\\n  /**\\n   * The module was instantiated because a parent module imported it.\\n   */\\n  Parent = 1,\\n}\\n\\ntype SourceInfo =\\n  | {\\n      type: SourceType.Runtime\\n      chunkPath: ChunkPath\\n    }\\n  | {\\n      type: SourceType.Parent\\n      parentId: ModuleId\\n    }\\n\\nprocess.env.TURBOPACK = '1'\\n\\nfunction stringifySourceInfo(source: SourceInfo): string {\\n  switch (source.type) {\\n    case SourceType.Runtime:\\n      return `runtime for chunk ${source.chunkPath}`\\n    case SourceType.Parent:\\n      return `parent module ${source.parentId}`\\n    default:\\n      invariant(source, (source) => `Unknown source type: ${source?.type}`)\\n  }\\n}\\n\\ntype ExternalRequire = (\\n  id: ModuleId,\\n  thunk: () => any,\\n  esm?: boolean\\n) => Exports | EsmNamespaceObject\\ntype ExternalImport = (id: ModuleId) => Promise<Exports | EsmNamespaceObject>\\n\\ninterface TurbopackNodeBuildContext extends TurbopackBaseContext<Module> {\\n  R: ResolvePathFromModule\\n  x: ExternalRequire\\n  y: ExternalImport\\n}\\n\\ntype ModuleFactory = (\\n  this: Module['exports'],\\n  context: TurbopackNodeBuildContext\\n) => unknown\\n\\nconst url = require('url') as typeof import('url')\\nconst fs = require('fs/promises') as typeof import('fs/promises')\\n\\nconst moduleFactories: ModuleFactories = Object.create(null)\\nconst moduleCache: ModuleCache<Module> = Object.create(null)\\n\\n/**\\n * Returns an absolute path to the given module's id.\\n */\\nfunction createResolvePathFromModule(\\n  resolver: (moduleId: string) => Exports\\n): (moduleId: string) => string {\\n  return function resolvePathFromModule(moduleId: string): string {\\n    const exported = resolver(moduleId)\\n    const exportedPath = exported?.default ?? exported\\n    if (typeof exportedPath !== 'string') {\\n      return exported as any\\n    }\\n\\n    const strippedAssetPrefix = exportedPath.slice(ASSET_PREFIX.length)\\n    const resolved = path.resolve(RUNTIME_ROOT, strippedAssetPrefix)\\n\\n    return url.pathToFileURL(resolved).href\\n  }\\n}\\n\\nfunction loadChunk(chunkData: ChunkData, source?: SourceInfo): void {\\n  if (typeof chunkData === 'string') {\\n    return loadChunkPath(chunkData, source)\\n  } else {\\n    return loadChunkPath(chunkData.path, source)\\n  }\\n}\\n\\nconst loadedChunks = new Set<ChunkPath>()\\n\\nfunction loadChunkPath(chunkPath: ChunkPath, source?: SourceInfo): void {\\n  if (!isJs(chunkPath)) {\\n    // We only support loading JS chunks in Node.js.\\n    // This branch can be hit when trying to load a CSS chunk.\\n    return\\n  }\\n\\n  if (loadedChunks.has(chunkPath)) {\\n    return\\n  }\\n\\n  try {\\n    const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n    const chunkModules: CompressedModuleFactories = require(resolved)\\n\\n    for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\\n      if (!moduleFactories[moduleId]) {\\n        if (Array.isArray(moduleFactory)) {\\n          let [moduleFactoryFn, otherIds] = moduleFactory\\n          moduleFactories[moduleId] = moduleFactoryFn\\n          for (const otherModuleId of otherIds) {\\n            moduleFactories[otherModuleId] = moduleFactoryFn\\n          }\\n        } else {\\n          moduleFactories[moduleId] = moduleFactory\\n        }\\n      }\\n    }\\n    loadedChunks.add(chunkPath)\\n  } catch (e) {\\n    let errorMessage = `Failed to load chunk ${chunkPath}`\\n\\n    if (source) {\\n      errorMessage += ` from ${stringifySourceInfo(source)}`\\n    }\\n\\n    throw new Error(errorMessage, {\\n      cause: e,\\n    })\\n  }\\n}\\n\\nasync function loadChunkAsync(\\n  source: SourceInfo,\\n  chunkData: ChunkData\\n): Promise<any> {\\n  const chunkPath = typeof chunkData === 'string' ? chunkData : chunkData.path\\n  if (!isJs(chunkPath)) {\\n    // We only support loading JS chunks in Node.js.\\n    // This branch can be hit when trying to load a CSS chunk.\\n    return\\n  }\\n\\n  if (loadedChunks.has(chunkPath)) {\\n    return\\n  }\\n\\n  const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n\\n  try {\\n    const contents = await fs.readFile(resolved, 'utf-8')\\n\\n    const localRequire = (id: string) => {\\n      let resolvedId = require.resolve(id, { paths: [path.dirname(resolved)] })\\n      return require(resolvedId)\\n    }\\n    const module = {\\n      exports: {},\\n    }\\n    // TODO: Use vm.runInThisContext once our minimal supported Node.js version includes https://github.com/nodejs/node/pull/52153\\n    // eslint-disable-next-line no-eval -- Can't use vm.runInThisContext due to https://github.com/nodejs/node/issues/52102\\n    ;(0, eval)(\\n      '(function(module, exports, require, __dirname, __filename) {' +\\n        contents +\\n        '\\\\n})' +\\n        '\\\\n//# sourceURL=' +\\n        url.pathToFileURL(resolved)\\n    )(module, module.exports, localRequire, path.dirname(resolved), resolved)\\n\\n    const chunkModules: CompressedModuleFactories = module.exports\\n    for (const [moduleId, moduleFactory] of Object.entries(chunkModules)) {\\n      if (!moduleFactories[moduleId]) {\\n        if (Array.isArray(moduleFactory)) {\\n          let [moduleFactoryFn, otherIds] = moduleFactory\\n          moduleFactories[moduleId] = moduleFactoryFn\\n          for (const otherModuleId of otherIds) {\\n            moduleFactories[otherModuleId] = moduleFactoryFn\\n          }\\n        } else {\\n          moduleFactories[moduleId] = moduleFactory\\n        }\\n      }\\n    }\\n    loadedChunks.add(chunkPath)\\n  } catch (e) {\\n    let errorMessage = `Failed to load chunk ${chunkPath}`\\n\\n    if (source) {\\n      errorMessage += ` from ${stringifySourceInfo(source)}`\\n    }\\n\\n    throw new Error(errorMessage, {\\n      cause: e,\\n    })\\n  }\\n}\\n\\nasync function loadChunkAsyncByUrl(source: SourceInfo, chunkUrl: string) {\\n  const path = url.fileURLToPath(new URL(chunkUrl, RUNTIME_ROOT)) as ChunkPath\\n  return loadChunkAsync(source, path)\\n}\\n\\nfunction loadWebAssembly(\\n  chunkPath: ChunkPath,\\n  _edgeModule: () => WebAssembly.Module,\\n  imports: WebAssembly.Imports\\n) {\\n  const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n\\n  return instantiateWebAssemblyFromPath(resolved, imports)\\n}\\n\\nfunction loadWebAssemblyModule(\\n  chunkPath: ChunkPath,\\n  _edgeModule: () => WebAssembly.Module\\n) {\\n  const resolved = path.resolve(RUNTIME_ROOT, chunkPath)\\n\\n  return compileWebAssemblyFromPath(resolved)\\n}\\n\\nfunction getWorkerBlobURL(_chunks: ChunkPath[]): string {\\n  throw new Error('Worker blobs are not implemented yet for Node.js')\\n}\\n\\nfunction instantiateModule(id: ModuleId, source: SourceInfo): Module {\\n  const moduleFactory = moduleFactories[id]\\n  if (typeof moduleFactory !== 'function') {\\n    // This can happen if modules incorrectly handle HMR disposes/updates,\\n    // e.g. when they keep a `setTimeout` around which still executes old code\\n    // and contains e.g. a `require(\\\"something\\\")` call.\\n    let instantiationReason\\n    switch (source.type) {\\n      case SourceType.Runtime:\\n        instantiationReason = `as a runtime entry of chunk ${source.chunkPath}`\\n        break\\n      case SourceType.Parent:\\n        instantiationReason = `because it was required from module ${source.parentId}`\\n        break\\n      default:\\n        invariant(source, (source) => `Unknown source type: ${source?.type}`)\\n    }\\n    throw new Error(\\n      `Module ${id} was instantiated ${instantiationReason}, but the module factory is not available. It might have been deleted in an HMR update.`\\n    )\\n  }\\n\\n  const module: Module = {\\n    exports: {},\\n    error: undefined,\\n    loaded: false,\\n    id,\\n    namespaceObject: undefined,\\n  }\\n  moduleCache[id] = module\\n\\n  // NOTE(alexkirsz) This can fail when the module encounters a runtime error.\\n  try {\\n    const r = commonJsRequire.bind(null, module)\\n    moduleFactory.call(module.exports, {\\n      a: asyncModule.bind(null, module),\\n      e: module.exports,\\n      r,\\n      t: runtimeRequire,\\n      x: externalRequire,\\n      y: externalImport,\\n      f: moduleContext,\\n      i: esmImport.bind(null, module),\\n      s: esmExport.bind(null, module, module.exports, moduleCache),\\n      j: dynamicExport.bind(null, module, module.exports, moduleCache),\\n      v: exportValue.bind(null, module, moduleCache),\\n      n: exportNamespace.bind(null, module, moduleCache),\\n      m: module,\\n      c: moduleCache,\\n      M: moduleFactories,\\n      l: loadChunkAsync.bind(null, { type: SourceType.Parent, parentId: id }),\\n      L: loadChunkAsyncByUrl.bind(null, {\\n        type: SourceType.Parent,\\n        parentId: id,\\n      }),\\n      w: loadWebAssembly,\\n      u: loadWebAssemblyModule,\\n      P: resolveAbsolutePath,\\n      U: relativeURL,\\n      R: createResolvePathFromModule(r),\\n      b: getWorkerBlobURL,\\n      z: requireStub,\\n    })\\n  } catch (error) {\\n    module.error = error as any\\n    throw error\\n  }\\n\\n  module.loaded = true\\n  if (module.namespaceObject && module.exports !== module.namespaceObject) {\\n    // in case of a circular dependency: cjs1 -> esm2 -> cjs1\\n    interopEsm(module.exports, module.namespaceObject)\\n  }\\n\\n  return module\\n}\\n\\n/**\\n * Retrieves a module from the cache, or instantiate it if it is not cached.\\n */\\n// @ts-ignore\\nfunction getOrInstantiateModuleFromParent(\\n  id: ModuleId,\\n  sourceModule: Module\\n): Module {\\n  const module = moduleCache[id]\\n\\n  if (module) {\\n    return module\\n  }\\n\\n  return instantiateModule(id, {\\n    type: SourceType.Parent,\\n    parentId: sourceModule.id,\\n  })\\n}\\n\\n/**\\n * Instantiates a runtime module.\\n */\\nfunction instantiateRuntimeModule(\\n  moduleId: ModuleId,\\n  chunkPath: ChunkPath\\n): Module {\\n  return instantiateModule(moduleId, { type: SourceType.Runtime, chunkPath })\\n}\\n\\n/**\\n * Retrieves a module from the cache, or instantiate it as a runtime module if it is not cached.\\n */\\n// @ts-ignore TypeScript doesn't separate this module space from the browser runtime\\nfunction getOrInstantiateRuntimeModule(\\n  moduleId: ModuleId,\\n  chunkPath: ChunkPath\\n): Module {\\n  const module = moduleCache[moduleId]\\n  if (module) {\\n    if (module.error) {\\n      throw module.error\\n    }\\n    return module\\n  }\\n\\n  return instantiateRuntimeModule(moduleId, chunkPath)\\n}\\n\\nconst regexJsUrl = /\\\\.js(?:\\\\?[^#]*)?(?:#.*)?$/\\n/**\\n * Checks if a given path/URL ends with .js, optionally followed by ?query or #fragment.\\n */\\nfunction isJs(chunkUrlOrPath: ChunkUrl | ChunkPath): boolean {\\n  return regexJsUrl.test(chunkUrlOrPath)\\n}\\n\\nmodule.exports = {\\n  getOrInstantiateRuntimeModule,\\n  loadChunk,\\n}\\n\"],\"names\":[],\"mappings\":\"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\",\"ignoreList\":[0]}}]\n }\n\\ No newline at end of file"
        },
        {
            "sha": "0496b84bbca80bb13b9a5bfbcf347332e113aeca",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/runtime/default_dev_runtime/output/b1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js",
            "status": "modified",
            "additions": 47,
            "deletions": 9,
            "changes": 56,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_dev_runtime%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_dev_runtime%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_dev_runtime%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -24,6 +24,22 @@ const toStringTag = typeof Symbol !== 'undefined' && Symbol.toStringTag;\n function defineProp(obj, name, options) {\n     if (!hasOwnProperty.call(obj, name)) Object.defineProperty(obj, name, options);\n }\n+function getOverwrittenModule(moduleCache, id) {\n+    let module = moduleCache[id];\n+    if (!module) {\n+        // This is invoked when a module is merged into another module, thus it wasn't invoked via\n+        // instantiateModule and the cache entry wasn't created yet.\n+        module = {\n+            exports: {},\n+            error: undefined,\n+            loaded: false,\n+            id,\n+            namespaceObject: undefined\n+        };\n+        moduleCache[id] = module;\n+    }\n+    return module;\n+}\n /**\n  * Adds the getters to the exports object.\n  */ function esm(exports, getters) {\n@@ -52,7 +68,11 @@ function defineProp(obj, name, options) {\n }\n /**\n  * Makes the module an ESM with exports\n- */ function esmExport(module, exports, getters) {\n+ */ function esmExport(module, exports, moduleCache, getters, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+        exports = module.exports;\n+    }\n     module.namespaceObject = module.exports;\n     esm(exports, getters);\n }\n@@ -85,16 +105,26 @@ function ensureDynamicExports(module, exports) {\n }\n /**\n  * Dynamically exports properties from an object\n- */ function dynamicExport(module, exports, object) {\n+ */ function dynamicExport(module, exports, moduleCache, object, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+        exports = module.exports;\n+    }\n     ensureDynamicExports(module, exports);\n     if (typeof object === 'object' && object !== null) {\n         module[REEXPORTED_OBJECTS].push(object);\n     }\n }\n-function exportValue(module, value) {\n+function exportValue(module, moduleCache, value, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+    }\n     module.exports = value;\n }\n-function exportNamespace(module, namespace) {\n+function exportNamespace(module, moduleCache, namespace, id) {\n+    if (id != null) {\n+        module = getOverwrittenModule(moduleCache, id);\n+    }\n     module.exports = module.namespaceObject = namespace;\n }\n function createGetter(obj, key) {\n@@ -575,7 +605,15 @@ function registerChunk([chunkScript, chunkModules, runtimeParams]) {\n     const chunkPath = getPathFromScript(chunkScript);\n     for (const [moduleId, moduleFactory] of Object.entries(chunkModules)){\n         if (!moduleFactories[moduleId]) {\n-            moduleFactories[moduleId] = moduleFactory;\n+            if (Array.isArray(moduleFactory)) {\n+                let [moduleFactoryFn, otherIds] = moduleFactory;\n+                moduleFactories[moduleId] = moduleFactoryFn;\n+                for (const otherModuleId of otherIds){\n+                    moduleFactories[otherModuleId] = moduleFactoryFn;\n+                }\n+            } else {\n+                moduleFactories[moduleId] = moduleFactory;\n+            }\n         }\n         addModuleToChunk(moduleId, chunkPath);\n     }\n@@ -731,10 +769,10 @@ function instantiateModule(id, source) {\n                 t: runtimeRequire,\n                 f: moduleContext,\n                 i: esmImport.bind(null, module),\n-                s: esmExport.bind(null, module, module.exports),\n-                j: dynamicExport.bind(null, module, module.exports),\n-                v: exportValue.bind(null, module),\n-                n: exportNamespace.bind(null, module),\n+                s: esmExport.bind(null, module, module.exports, devModuleCache),\n+                j: dynamicExport.bind(null, module, module.exports, devModuleCache),\n+                v: exportValue.bind(null, module, devModuleCache),\n+                n: exportNamespace.bind(null, module, devModuleCache),\n                 m: module,\n                 c: devModuleCache,\n                 M: moduleFactories,"
        },
        {
            "sha": "64dba386eecdfdd6cd9fadc97f2225305e7bd07d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/runtime/default_dev_runtime/output/b1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js.map",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_dev_runtime%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_dev_runtime%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fruntime%2Fdefault_dev_runtime%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_runtime_default_dev_runtime_input_index_75df6705.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481"
        },
        {
            "sha": "03946f37d7d108ad0daad07101a245e34fddd393",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/a.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fa.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fa.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fa.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+import shared from './shared.js'\n+\n+console.log('a', shared)"
        },
        {
            "sha": "3311dda0039c02be6b250514e9b486f55798ebfb",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/b.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fb.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fb.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fb.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,4 @@\n+import './a.js'\n+import shared from './shared.js'\n+\n+console.log('a', shared)"
        },
        {
            "sha": "b9944ad5804b51edc915c343fad3c67e9539a1a6",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/c.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fc.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fc.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fc.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,4 @@\n+import './b.js'\n+import shared from './shared.js'\n+\n+console.log('c', shared)"
        },
        {
            "sha": "e52fa47caca5051d7a0ca2eaebea7b6423f34a56",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+import './c.js'"
        },
        {
            "sha": "9157eb29eabc55007b0375f9138de27787f7a082",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/shared.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fshared.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fshared.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Finput%2Fshared.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+module.exports = 'shared'"
        },
        {
            "sha": "9437f5a817160555acfa2e28572d12038ba4c143",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/options.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foptions.json?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"scopeHoisting\": true\n+}"
        },
        {
            "sha": "b7ab91f7a9caa0c212102a171c73882ee25b5f99",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/output/4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\n+    \"output/4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js\",\n+    {},\n+    {\"otherChunks\":[\"output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js\"],\"runtimeModuleIds\":[\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/index.js [test] (ecmascript)\"]}\n+]);\n+// Dummy runtime\n\\ No newline at end of file"
        },
        {
            "sha": "c15d7ec00382d3604310ddb8b53cbdb90d9e1942",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/output/4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js.map",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_duplicate-imports_input_index_4c947fd6.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "previous_filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js.map"
        },
        {
            "sha": "835bbd47cf6d59ba9e2734877611fccd824efe28",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js",
            "status": "added",
            "additions": 36,
            "deletions": 0,
            "changes": 36,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,36 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js\", {\n+\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/shared.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+module.exports = 'shared';\n+}}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/index.js [test] (ecmascript)\n+;\n+__turbopack_context__.s({}, \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/index.js [test] (ecmascript)\");\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/c.js [test] (ecmascript)\n+;\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/b.js [test] (ecmascript)\n+;\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/a.js [test] (ecmascript)\n+;\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/shared.js [test] (ecmascript)\");\n+;\n+console.log('a', __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"default\"]);\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__1 = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__;\n+;\n+;\n+console.log('a', __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__1[\"default\"]);\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__2 = __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__;\n+;\n+;\n+console.log('c', __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$duplicate$2d$imports$2f$input$2f$shared$2e$js__$5b$test$5d$__$28$ecmascript$29$__2[\"default\"]);\n+;\n+}),\n+}]);\n+\n+//# sourceMappingURL=b1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "b8cb96824a2e2a113f3025459015ac3536675158",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js.map",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fduplicate-imports%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_duplicate-imports_input_739fb2d3._.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 6, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/shared.js\"],\"sourcesContent\":[\"module.exports = 'shared'\\n\"],\"names\":[],\"mappings\":\"AAAA,OAAO,OAAO,GAAG\"}},\n+    {\"offset\": {\"line\": 11, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/a.js\",\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/b.js\",\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/duplicate-imports/input/c.js\"],\"sourcesContent\":[\"import shared from './shared.js'\\n\\nconsole.log('a', shared)\\n\",\"import './a.js'\\nimport shared from './shared.js'\\n\\nconsole.log('a', shared)\\n\",\"import './b.js'\\nimport shared from './shared.js'\\n\\nconsole.log('c', shared)\\n\"],\"names\":[],\"mappings\":\";;;;;;;;;AAAA;;AAEA,QAAQ,GAAG,CAAC,KAAK,wNAAA,CAAA,UAAM;;;;ACCvB,QAAQ,GAAG,CAAC,KAAK,yNAAA,CAAA,UAAM;;;;ACAvB,QAAQ,GAAG,CAAC,KAAK,yNAAA,CAAA,UAAM\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "afae7015533c0b5d71b7ff4bb3d49a9b0eb457ab",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fbig%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fbig%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fbig%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+import big from './other.js'\n+\n+export default big.length"
        },
        {
            "sha": "7a4a9851de935daec9e6ec27803c548ae9624d57",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/other.js",
            "status": "added",
            "additions": 54,
            "deletions": 0,
            "changes": 54,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fbig%2Fother.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fbig%2Fother.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fbig%2Fother.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,54 @@\n+export default `\n+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\n+`"
        },
        {
            "sha": "0a678d540b59c311707bec80fdddac96efe9914d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/index.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,2 @@\n+import './x/index'\n+import './y/index'"
        },
        {
            "sha": "1d19b3e78dad6f501ff42be4c2250e5acd0df29f",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fx%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fx%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fx%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+setTimeout(() => import('./inner'), 500)"
        },
        {
            "sha": "e4bd91fdc4eb3858265d64febe502cfb4e7d12b7",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/inner.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fx%2Finner.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fx%2Finner.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fx%2Finner.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,2 @@\n+import big from '../big'\n+console.log('x', big)"
        },
        {
            "sha": "dd71fc48bf567da6ab2760fe3db861c324c2a34e",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+setTimeout(() => import('./middle'), 1000)"
        },
        {
            "sha": "8bc3c3bca314e4bca1f5c18f634ff02fd25b574f",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/inner.js",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Finner.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Finner.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Finner.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,2 @@\n+import big from '../big'\n+console.log('y', big)"
        },
        {
            "sha": "161107d89d555ab5b1e4e9527778b2bc06ff0254",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Fmiddle.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Fmiddle.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Finput%2Fy%2Fmiddle.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+import './inner'"
        },
        {
            "sha": "dec600d6ecc251b13dd7feab06d074b4fb23857d",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/options.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foptions.json?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"scopeHoisting\": true,\n+  \"productionChunking\": true\n+}"
        },
        {
            "sha": "50c91b083496da6617c220819060f688cea218f5",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js",
            "status": "added",
            "additions": 72,
            "deletions": 0,
            "changes": 72,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,72 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js\", {\n+\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js [test] (ecmascript)\n+;\n+__turbopack_context__.s({\n+    \"default\": ()=>__TURBOPACK__default__export__1\n+}, \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js [test] (ecmascript)\");\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/other.js [test] (ecmascript)\n+;\n+const __TURBOPACK__default__export__ = `\n+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\n+`;\n+;\n+const __TURBOPACK__default__export__1 = __TURBOPACK__default__export__.length;\n+}),\n+}]);\n+\n+//# sourceMappingURL=4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "f99dacd75ab6ca7a593790acbce85388ec9b962a",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js.map",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/other.js\",\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js\"],\"sourcesContent\":[\"export default `\\n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\\n`\\n\",\"import big from './other.js'\\n\\nexport default big.length\\n\"],\"names\":[],\"mappings\":\";;;;;;;uCAAe,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDhB,CAAC;;wCCnDc,+BAAI,MAAM\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "c4095bdf0381c85697132517ef77f05933436b37",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,13 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js\", {\n+\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/inner.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+__turbopack_context__.s({});\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$split$2d$shared$2f$input$2f$big$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js [test] (ecmascript)\");\n+;\n+console.log('x', __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$split$2d$shared$2f$input$2f$big$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"default\"]);\n+}),\n+}]);\n+\n+//# sourceMappingURL=4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "83c1fb5f646edecc10f5c6b9fbd7cedd5e43fb37",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js.map",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/inner.js\"],\"sourcesContent\":[\"import big from '../big'\\nconsole.log('x', big)\\n\"],\"names\":[],\"mappings\":\";AAAA;;AACA,QAAQ,GAAG,CAAC,KAAK,yNAAA,CAAA,UAAG\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "e1197ce844f6276ffc5cf64fda938ed9420b4235",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,18 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js\", {\n+\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js [test] (ecmascript)\n+;\n+__turbopack_context__.s({}, \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js [test] (ecmascript)\");\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/inner.js [test] (ecmascript)\n+;\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$split$2d$shared$2f$input$2f$big$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/big/index.js [test] (ecmascript)\");\n+;\n+console.log('y', __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$split$2d$shared$2f$input$2f$big$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"default\"]);\n+;\n+}),\n+}]);\n+\n+//# sourceMappingURL=4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "3a038f0c04cfccdf7b8a2c7d5e097d5f13ca6a04",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js.map",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2F4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/inner.js\"],\"sourcesContent\":[\"import big from '../big'\\nconsole.log('y', big)\\n\"],\"names\":[],\"mappings\":\";;;;;AAAA;;AACA,QAAQ,GAAG,CAAC,KAAK,yNAAA,CAAA,UAAG\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "0d0d6b620212db17d68faf987ec1219333685d6b",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js",
            "status": "added",
            "additions": 48,
            "deletions": 0,
            "changes": 48,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,48 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js\", {\n+\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/index.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+setTimeout(()=>__turbopack_context__.r(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/inner.js [test] (ecmascript, async loader)\")(__turbopack_context__.i), 500);\n+}}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/index.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+setTimeout(()=>__turbopack_context__.r(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js [test] (ecmascript, async loader)\")(__turbopack_context__.i), 1000);\n+}}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+__turbopack_context__.s({});\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$split$2d$shared$2f$input$2f$x$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/index.js [test] (ecmascript)\");\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$scope$2d$hoisting$2f$split$2d$shared$2f$input$2f$y$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/index.js [test] (ecmascript)\");\n+;\n+;\n+}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/inner.js [test] (ecmascript, async loader)\": ((__turbopack_context__) => {\n+\n+__turbopack_context__.v((parentImport) => {\n+    return Promise.all([\n+  \"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_x_inner_9793feec.js\",\n+  \"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js\"\n+].map((chunk) => __turbopack_context__.l(chunk))).then(() => {\n+        return parentImport(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/inner.js [test] (ecmascript)\");\n+    });\n+});\n+}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js [test] (ecmascript, async loader)\": ((__turbopack_context__) => {\n+\n+__turbopack_context__.v((parentImport) => {\n+    return Promise.all([\n+  \"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_y_middle_aa5cba2d.js\",\n+  \"output/4c35f_tests_snapshot_scope-hoisting_split-shared_input_big_index_6f69a308.js\"\n+].map((chunk) => __turbopack_context__.l(chunk))).then(() => {\n+        return parentImport(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/middle.js [test] (ecmascript)\");\n+    });\n+});\n+}),\n+}]);\n+\n+//# sourceMappingURL=b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "6427c59731369fc7a6a8042b230f8d654ba02af3",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js.map",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,8 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 6, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/x/index.js\"],\"sourcesContent\":[\"setTimeout(() => import('./inner'), 500)\\n\"],\"names\":[],\"mappings\":\"AAAA,WAAW,kMAAyB\"}},\n+    {\"offset\": {\"line\": 12, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/y/index.js\"],\"sourcesContent\":[\"setTimeout(() => import('./middle'), 1000)\\n\"],\"names\":[],\"mappings\":\"AAAA,WAAW,mMAA0B\"}},\n+    {\"offset\": {\"line\": 17, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/index.js\"],\"sourcesContent\":[\"import './x/index'\\nimport './y/index'\\n\"],\"names\":[],\"mappings\":\";AAAA;AACA\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "937c928daee9833d792353d1b9b804721a9b4547",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\n+    \"output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js\",\n+    {},\n+    {\"otherChunks\":[\"output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_d89f123b._.js\"],\"runtimeModuleIds\":[\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/input/index.js [test] (ecmascript)\"]}\n+]);\n+// Dummy runtime\n\\ No newline at end of file"
        },
        {
            "sha": "c15d7ec00382d3604310ddb8b53cbdb90d9e1942",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/scope-hoisting/split-shared/output/b1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js.map",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fscope-hoisting%2Fsplit-shared%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_scope-hoisting_split-shared_input_index_3e6a4369.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "previous_filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_317b2307.js.map"
        },
        {
            "sha": "4e42fb2b5250779f99358571db1c9b91e7681fc4",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+import { runExternalSourceMapped } from './sourcemapped.js'\n+\n+runExternalSourceMapped()"
        },
        {
            "sha": "da8a4fd3d36c3fb6fe74180389a6822162fac035",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,4 @@\n+export function runExternalSourceMapped(fn) {\n+    return fn();\n+}\n+//# sourceMappingURL=sourcemapped.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "3a41042ba5c083e74130307227b3aff0b0abfa42",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.js.map",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+{\"version\":3,\"file\":\"sourcemapped.js\",\"sourceRoot\":\"\",\"sources\":[\"sourcemapped.ts\"],\"names\":[],\"mappings\":\"AAGA,MAAM,UAAU,uBAAuB,CAAI,EAAS;IAClD,OAAO,EAAE,EAAE,CAAA;AACb,CAAC\",\"sourcesContent\":[\"// Compile with pnpm tsc turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts --sourceMap --inlineSources --target esnext\\n// tsc compile errors can be ignored\\ntype Fn<T> = () => T\\nexport function runExternalSourceMapped<T>(fn: Fn<T>): T {\\n  return fn()\\n}\\n\"]}\n\\ No newline at end of file"
        },
        {
            "sha": "409bc8304df31f20e82160bf1ddaa5e5a22ccd38",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Finput%2Fsourcemapped.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+// Compile with pnpm tsc turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts --sourceMap --inlineSources --target esnext\n+// tsc compile errors can be ignored\n+type Fn<T> = () => T\n+export function runExternalSourceMapped<T>(fn: Fn<T>): T {\n+  return fn()\n+}"
        },
        {
            "sha": "117ffe107f02a72a649bcb8b447cbb4ae6b943a3",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/options.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foptions.json?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"treeShakingMode\": \"reexports-only\",\n+  \"scopeHoisting\": true\n+}"
        },
        {
            "sha": "52a31c2c54e83af49b521e5c142ff62bfe5896ba",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/output/4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js",
            "status": "modified",
            "additions": 16,
            "deletions": 8,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,11 +1,19 @@\n (globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js\", {\n \n-\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n \n-var { m: module, e: exports } = __turbopack_context__;\n-{\n-const e = new Error(\"Could not parse module '[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js'\");\n-e.code = 'MODULE_UNPARSEABLE';\n-throw e;\n-}}),\n-}]);\n\\ No newline at end of file\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js [test] (ecmascript)\n+;\n+__turbopack_context__.s({}, \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js [test] (ecmascript)\");\n+// MERGED MODULE: [project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.js [test] (ecmascript)\n+;\n+function runExternalSourceMapped(fn) {\n+    return fn();\n+} //# sourceMappingURL=sourcemapped.js.map\n+;\n+runExternalSourceMapped();\n+}),\n+}]);\n+\n+//# sourceMappingURL=4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "d51bf70ff5380dd7ac7aa5cda77a62ed164fefa3",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/output/4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js.map",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map-merged%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map-merged_input_index_e9baadb1.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -1,5 +1,6 @@\n {\n   \"version\": 3,\n   \"sources\": [],\n-  \"sections\": []\n+  \"sections\": [\n+    {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts\",\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/index.js\"],\"sourcesContent\":[\"// Compile with pnpm tsc turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts --sourceMap --inlineSources --target esnext\\n// tsc compile errors can be ignored\\ntype Fn<T> = () => T\\nexport function runExternalSourceMapped<T>(fn: Fn<T>): T {\\n  return fn()\\n}\\n\",\"import { runExternalSourceMapped } from './sourcemapped.js'\\n\\nrunExternalSourceMapped()\\n\"],\"names\":[],\"mappings\":\";;;;;AAGM,SAAU,uBAAuB,CAAI,EAAS;IAClD,OAAO,EAAE,EAAE,CAAA;;;ACFb\"}}]\n }\n\\ No newline at end of file"
        },
        {
            "sha": "4e42fb2b5250779f99358571db1c9b91e7681fc4",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Findex.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,3 @@\n+import { runExternalSourceMapped } from './sourcemapped.js'\n+\n+runExternalSourceMapped()"
        },
        {
            "sha": "da8a4fd3d36c3fb6fe74180389a6822162fac035",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,4 @@\n+export function runExternalSourceMapped(fn) {\n+    return fn();\n+}\n+//# sourceMappingURL=sourcemapped.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "3a41042ba5c083e74130307227b3aff0b0abfa42",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.js.map",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1 @@\n+{\"version\":3,\"file\":\"sourcemapped.js\",\"sourceRoot\":\"\",\"sources\":[\"sourcemapped.ts\"],\"names\":[],\"mappings\":\"AAGA,MAAM,UAAU,uBAAuB,CAAI,EAAS;IAClD,OAAO,EAAE,EAAE,CAAA;AACb,CAAC\",\"sourcesContent\":[\"// Compile with pnpm tsc turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts --sourceMap --inlineSources --target esnext\\n// tsc compile errors can be ignored\\ntype Fn<T> = () => T\\nexport function runExternalSourceMapped<T>(fn: Fn<T>): T {\\n  return fn()\\n}\\n\"]}\n\\ No newline at end of file"
        },
        {
            "sha": "e456ae95169328faffea55d21e7ed10502c43bdd",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.ts",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Finput%2Fsourcemapped.ts?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+// Compile with pnpm tsc turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.ts --sourceMap --inlineSources --target esnext\n+// tsc compile errors can be ignored\n+type Fn<T> = () => T\n+export function runExternalSourceMapped<T>(fn: Fn<T>): T {\n+  return fn()\n+}"
        },
        {
            "sha": "f906d34f93d4cf24f38191acc9b3d15ae3ea91ea",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js",
            "status": "removed",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/925fd916efc2d239a6dbc07d8dd9eb0c898fcd45/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js",
            "raw_url": "https://github.com/vercel/next.js/raw/925fd916efc2d239a6dbc07d8dd9eb0c898fcd45/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js?ref=925fd916efc2d239a6dbc07d8dd9eb0c898fcd45",
            "patch": "@@ -1,11 +0,0 @@\n-(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js\", {\n-\n-\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js [test] (ecmascript)\": (function(__turbopack_context__) {\n-\n-var { m: module, e: exports } = __turbopack_context__;\n-{\n-const e = new Error(\"Could not parse module '[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js'\");\n-e.code = 'MODULE_UNPARSEABLE';\n-throw e;\n-}}),\n-}]);\n\\ No newline at end of file"
        },
        {
            "sha": "cc9525b3899a51fcdb995b6bb3c6674c60236b62",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_317b2307.js",
            "status": "removed",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/925fd916efc2d239a6dbc07d8dd9eb0c898fcd45/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_317b2307.js",
            "raw_url": "https://github.com/vercel/next.js/raw/925fd916efc2d239a6dbc07d8dd9eb0c898fcd45/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_317b2307.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_317b2307.js?ref=925fd916efc2d239a6dbc07d8dd9eb0c898fcd45",
            "patch": "@@ -1,6 +0,0 @@\n-(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\n-    \"output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_317b2307.js\",\n-    {},\n-    {\"otherChunks\":[\"output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_17c28edc.js\"],\"runtimeModuleIds\":[\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js [test] (ecmascript)\"]}\n-]);\n-// Dummy runtime\n\\ No newline at end of file"
        },
        {
            "sha": "d7ed8ac3b2785b34c37cf11be9f629971e551254",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,6 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\n+    \"output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js\",\n+    {},\n+    {\"otherChunks\":[\"output/b1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js\"],\"runtimeModuleIds\":[\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js [test] (ecmascript)\"]}\n+]);\n+// Dummy runtime\n\\ No newline at end of file"
        },
        {
            "sha": "c15d7ec00382d3604310ddb8b53cbdb90d9e1942",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js.map",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2F4c35f_tests_snapshot_source_maps_input-source-map_input_index_99ebe5b0.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,5 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": []\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "d5410d6f3e5d8e20b95dd79f7ab242b6d0cbbdf7",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/b1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,23 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/b1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js\", {\n+\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+__turbopack_context__.s({\n+    \"runExternalSourceMapped\": ()=>runExternalSourceMapped\n+});\n+function runExternalSourceMapped(fn) {\n+    return fn();\n+} //# sourceMappingURL=sourcemapped.js.map\n+}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+__turbopack_context__.s({});\n+var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$source_maps$2f$input$2d$source$2d$map$2f$input$2f$sourcemapped$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.js [test] (ecmascript)\");\n+;\n+(0, __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$source_maps$2f$input$2d$source$2d$map$2f$input$2f$sourcemapped$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"runExternalSourceMapped\"])();\n+}),\n+}]);\n+\n+//# sourceMappingURL=b1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "44ee70f9b43280a91734c96fca12a01459108338",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/output/b1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js.map",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fsource_maps%2Finput-source-map%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_source_maps_input-source-map_input_965ec6d6._.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"file\":\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.js\",\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/sourcemapped.ts\"],\"sourceRoot\":\"\",\"sourcesContent\":[\"// Compile with pnpm tsc turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map-merged/input/sourcemapped.ts --sourceMap --inlineSources --target esnext\\n// tsc compile errors can be ignored\\ntype Fn<T> = () => T\\nexport function runExternalSourceMapped<T>(fn: Fn<T>): T {\\n  return fn()\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAGM,SAAU,uBAAuB,CAAI,EAAS;IAClD,OAAO,EAAE,EAAE,CAAA;AACb,CAAC\"}},\n+    {\"offset\": {\"line\": 15, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/source_maps/input-source-map/input/index.js\"],\"sourcesContent\":[\"import { runExternalSourceMapped } from './sourcemapped.js'\\n\\nrunExternalSourceMapped()\\n\"],\"names\":[],\"mappings\":\";AAAA;;AAEA,CAAA,GAAA,0NAAA,CAAA,0BAAuB,AAAD\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "118290bd18d4d5c69b614d5276dc88ca5de68c7a",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/output/turbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js",
            "status": "modified",
            "additions": 11,
            "deletions": 8,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fmono_transforms%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fmono_transforms%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fmono_transforms%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>MyApp)\n+    \"default\": ()=>MyApp\n });\n var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$node_modules$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$test$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-dev-runtime.js [test] (ecmascript)\");\n ;\n@@ -28,18 +28,21 @@ var __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbo\n ;\n console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$swc_transforms$2f$mono_transforms$2f$input$2f$packages$2f$component$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"default\"], __TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$2f$turbopack$2d$tests$2f$tests$2f$snapshot$2f$swc_transforms$2f$mono_transforms$2f$input$2f$node_modules$2f$third_party_component$2f$index$2e$js__$5b$test$5d$__$28$ecmascript$29$__[\"default\"]);\n }),\n-\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-dev-runtime.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-dev-runtime.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n \n-var { m: module, e: exports } = __turbopack_context__;\n-{\n-\"purposefully empty stub\";\n-\"react/jsx-dev-runtime.js\";\n-}}),\n+__turbopack_context__.s({\n+    \"jsxDEV\": ()=>jsxDEV\n+});\n+function jsxDEV() {\n+    return 'purposefully empty stub for react/jsx-dev-runtime.js';\n+}\n+}),\n \"[project]/turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/input/node_modules/third_party_component/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"default\": (()=>ThirdPartyComponent)\n+    \"default\": ()=>ThirdPartyComponent\n });\n function ThirdPartyComponent() {\n     return <div>Should not be transformed</div>;"
        },
        {
            "sha": "12ad385ff95967df920c37d6b3f37f6966baba10",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/output/turbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js.map",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fmono_transforms%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fmono_transforms%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fmono_transforms%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_b56e07c9._.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,6 +4,6 @@\n   \"sections\": [\n     {\"offset\": {\"line\": 5, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/input/packages/component/index.js\"],\"sourcesContent\":[\"export default function MyApp() {\\n  return <div>App</div>\\n}\\n\"],\"names\":[],\"mappings\":\";;;;;AAAe,SAAS;IACtB,qBAAO,0NAAC;kBAAI;;;;;;AACd\"}},\n     {\"offset\": {\"line\": 23, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/input/packages/app/index.js\"],\"sourcesContent\":[\"import MyApp from 'component'\\nimport ThirdPartyComponent from 'third_party_component'\\n\\nconsole.log(MyApp, ThirdPartyComponent)\\n\"],\"names\":[],\"mappings\":\";AAAA;AACA;;;AAEA,QAAQ,GAAG,CAAC,wOAAA,CAAA,UAAK,EAAE,wPAAA,CAAA,UAAmB\"}},\n-    {\"offset\": {\"line\": 34, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-dev-runtime.js\"],\"sourcesContent\":[\"\\\"purposefully empty stub\\\";\\n\\\"react/jsx-dev-runtime.js\\\";\\n\"],\"names\":[],\"mappings\":\"AAAA;AACA\",\"ignoreList\":[0]}},\n-    {\"offset\": {\"line\": 40, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/input/node_modules/third_party_component/index.js\"],\"sourcesContent\":[\"export default function ThirdPartyComponent() {\\n  return <div>Should not be transformed</div>;\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAAe,SAAS;IACtB,QAAQ,IAAI,yBAAyB,EAAE;AACzC\",\"ignoreList\":[0]}}]\n+    {\"offset\": {\"line\": 33, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/react/jsx-dev-runtime.js\"],\"sourcesContent\":[\"export function jsxDEV() {\\n  return 'purposefully empty stub for react/jsx-dev-runtime.js'\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAAO,SAAS;IACd,OAAO;AACT\",\"ignoreList\":[0]}},\n+    {\"offset\": {\"line\": 43, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/mono_transforms/input/node_modules/third_party_component/index.js\"],\"sourcesContent\":[\"export default function ThirdPartyComponent() {\\n  return <div>Should not be transformed</div>;\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAAe,SAAS;IACtB,QAAQ,IAAI,yBAAyB,EAAE;AACzC\",\"ignoreList\":[0]}}]\n }\n\\ No newline at end of file"
        },
        {
            "sha": "a720e9e4006937683c3923d85a2680bf71796270",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/preset_env/output/turbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js",
            "status": "modified",
            "additions": 9,
            "deletions": 6,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fpreset_env%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fpreset_env%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fpreset_env%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -11,13 +11,16 @@ var Foo = function Foo() {\n };\n console.log(Foo, [].includes('foo'));\n }}),\n-\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@swc/helpers/_/_class_call_check.js [test] (ecmascript)\": (function(__turbopack_context__) {\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@swc/helpers/_/_class_call_check.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n \n-var { m: module, e: exports } = __turbopack_context__;\n-{\n-\"purposefully empty stub\";\n-\"@swc/helpers/_/_class_call_check.js\";\n-}}),\n+__turbopack_context__.s({\n+    \"_\": ()=>_\n+});\n+function _() {\n+    return 'purposefully empty stub for @swc/helpers/_/_class_call_check.js';\n+}\n+}),\n }]);\n \n //# sourceMappingURL=turbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "0663ef3a6395d229a96666b7f6067aaac3a78419",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/preset_env/output/turbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js.map",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fpreset_env%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fpreset_env%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fswc_transforms%2Fpreset_env%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_bff03a32._.js.map?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -3,5 +3,5 @@\n   \"sources\": [],\n   \"sections\": [\n     {\"offset\": {\"line\": 6, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/swc_transforms/preset_env/input/index.js\"],\"sourcesContent\":[\"class Foo {}\\n\\nconsole.log(Foo, [].includes('foo'))\\n\"],\"names\":[],\"mappings\":\";AAAA,IAAA,AAAM,MAAN,SAAM;;8BAAA;;AAEN,QAAQ,GAAG,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC\"}},\n-    {\"offset\": {\"line\": 17, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@swc/helpers/_/_class_call_check.js\"],\"sourcesContent\":[\"\\\"purposefully empty stub\\\";\\n\\\"@swc/helpers/_/_class_call_check.js\\\";\\n\"],\"names\":[],\"mappings\":\"AAAA;AACA\",\"ignoreList\":[0]}}]\n+    {\"offset\": {\"line\": 16, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node_modules/@swc/helpers/_/_class_call_check.js\"],\"sourcesContent\":[\"export function _() {\\n  return 'purposefully empty stub for @swc/helpers/_/_class_call_check.js'\\n}\\n\"],\"names\":[],\"mappings\":\";;;AAAO,SAAS;IACd,OAAO;AACT\",\"ignoreList\":[0]}}]\n }\n\\ No newline at end of file"
        },
        {
            "sha": "18ef60a9856e7ce2a5eb3935ef2b5524f6077ec0",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/jsconfig-baseurl/output/b1abf_turbopack-tests_tests_snapshot_typescript_jsconfig-baseurl_input_50efc170._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Fjsconfig-baseurl%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_jsconfig-baseurl_input_50efc170._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Fjsconfig-baseurl%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_jsconfig-baseurl_input_50efc170._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Fjsconfig-baseurl%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_jsconfig-baseurl_input_50efc170._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),"
        },
        {
            "sha": "9efdec5c97ee1edb136d239016b25da223ea487a",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/tsconfig-baseurl/output/b1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-baseurl_input_88264193._.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-baseurl%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-baseurl_input_88264193._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-baseurl%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-baseurl_input_88264193._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-baseurl%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-baseurl_input_88264193._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),\n@@ -24,7 +24,7 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"bar\": (()=>bar)\n+    \"bar\": ()=>bar\n });\n const bar = 'bar';\n }),"
        },
        {
            "sha": "878cb47fa8285471050b41a25bf91dd34faf7dd7",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/tsconfig-extends-module-full-path/output/turbopack_crates_turbopack-tests_tests_snapshot_f038421b._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-module-full-path%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_f038421b._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-module-full-path%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_f038421b._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-module-full-path%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_f038421b._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -14,7 +14,7 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),"
        },
        {
            "sha": "196b10070413ac20d0ad60dee57a170f3d755989",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/tsconfig-extends-module/output/turbopack_crates_turbopack-tests_tests_snapshot_cff3cff1._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-module%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_cff3cff1._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-module%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_cff3cff1._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-module%2Foutput%2Fturbopack_crates_turbopack-tests_tests_snapshot_cff3cff1._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -14,7 +14,7 @@ console.log(__TURBOPACK__imported__module__$5b$project$5d2f$turbopack$2f$crates$\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),"
        },
        {
            "sha": "c5a442187e6c36cb8bb1e6b93e189d8b34208f3b",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/tsconfig-extends-relative-dir/output/4c35f_tests_snapshot_typescript_tsconfig-extends-relative-dir_input_ef6815c7._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-relative-dir%2Foutput%2F4c35f_tests_snapshot_typescript_tsconfig-extends-relative-dir_input_ef6815c7._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-relative-dir%2Foutput%2F4c35f_tests_snapshot_typescript_tsconfig-extends-relative-dir_input_ef6815c7._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-relative-dir%2Foutput%2F4c35f_tests_snapshot_typescript_tsconfig-extends-relative-dir_input_ef6815c7._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),"
        },
        {
            "sha": "55a1af87c41c27cd7d2e234738d128630e467e62",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/tsconfig-extends-without-ext/output/4c35f_tests_snapshot_typescript_tsconfig-extends-without-ext_input_fcdb4390._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-without-ext%2Foutput%2F4c35f_tests_snapshot_typescript_tsconfig-extends-without-ext_input_fcdb4390._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-without-ext%2Foutput%2F4c35f_tests_snapshot_typescript_tsconfig-extends-without-ext_input_fcdb4390._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends-without-ext%2Foutput%2F4c35f_tests_snapshot_typescript_tsconfig-extends-without-ext_input_fcdb4390._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),"
        },
        {
            "sha": "9f8c271dad820ad58a32c42b58f7bb0096aa7255",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/typescript/tsconfig-extends/output/b1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-extends_input_39e68707._.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-extends_input_39e68707._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e91660d1f474656fe5b602b38dea83641b656481/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-extends_input_39e68707._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Ftypescript%2Ftsconfig-extends%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_typescript_tsconfig-extends_input_39e68707._.js?ref=e91660d1f474656fe5b602b38dea83641b656481",
            "patch": "@@ -4,7 +4,7 @@\n \"use strict\";\n \n __turbopack_context__.s({\n-    \"prop\": (()=>prop)\n+    \"prop\": ()=>prop\n });\n const prop = 1;\n }),"
        }
    ],
    "stats": {
        "total": 5444,
        "additions": 4374,
        "deletions": 1070
    }
}