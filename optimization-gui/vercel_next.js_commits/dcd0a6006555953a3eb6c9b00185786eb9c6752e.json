{
    "author": "huozhi",
    "message": "[devtool] unify the bundler field (#86514)",
    "sha": "dcd0a6006555953a3eb6c9b00185786eb9c6752e",
    "files": [
        {
            "sha": "694b32f1d39bf95aa9ac9b20847c36cac558052b",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/dev-tools-indicator/dev-tools-info/route-info.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-info%2Froute-info.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-info%2Froute-info.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-info%2Froute-info.tsx?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -128,5 +128,3 @@ export function RouteInfoBody({\n     <DynamicRouteContent routerType={routerType} {...props} />\n   )\n }\n-\n-export const DEV_TOOLS_INFO_ROUTE_INFO_STYLES = ``"
        },
        {
            "sha": "0f089ee4dec34b18bb9d6e68ce0884a818d9b0ff",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/dev-tools-indicator/dev-tools-info/turbopack-info.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 159,
            "changes": 159,
            "blob_url": "https://github.com/vercel/next.js/blob/261614d9e158981c3fa68ec37684f1027a027f71/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-info%2Fturbopack-info.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/261614d9e158981c3fa68ec37684f1027a027f71/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-info%2Fturbopack-info.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fdev-tools-info%2Fturbopack-info.tsx?ref=261614d9e158981c3fa68ec37684f1027a027f71",
            "patch": "@@ -1,159 +0,0 @@\n-import { CopyButton } from '../../../copy-button'\n-\n-export function TurbopackInfoBody(props: React.ComponentProps<'div'>) {\n-  return (\n-    <>\n-      <article className=\"dev-tools-info-article\" {...props}>\n-        <p className=\"dev-tools-info-paragraph\">\n-          Turbopack is an incremental bundler optimized for JavaScript and\n-          TypeScript, written in Rust, and built into Next.js. Turbopack can be\n-          used in Next.js in both the{' '}\n-          <code className=\"dev-tools-info-code\">pages</code> and{' '}\n-          <code className=\"dev-tools-info-code\">app</code> directories for\n-          faster local development.\n-        </p>\n-        <p className=\"dev-tools-info-paragraph\">\n-          To enable Turbopack, use the{' '}\n-          <code className=\"dev-tools-info-code\">--turbopack</code> flag when\n-          running the Next.js development server.\n-        </p>\n-      </article>\n-\n-      <div className=\"dev-tools-info-code-block-container\">\n-        <div className=\"dev-tools-info-code-block\">\n-          <CopyButton\n-            actionLabel=\"Copy Next.js Turbopack Command\"\n-            successLabel=\"Next.js Turbopack Command Copied\"\n-            content={'--turbopack'}\n-            className=\"dev-tools-info-copy-button\"\n-          />\n-          <pre className=\"dev-tools-info-code-block-pre\">\n-            <code>\n-              <div className=\"dev-tools-info-code-block-line\">{'  '}</div>\n-              <div className=\"dev-tools-info-code-block-line\">{'{'}</div>\n-              <div className=\"dev-tools-info-code-block-line\">\n-                {'  '}\n-                <span className=\"dev-tools-info-code-block-json-key\">\n-                  \"scripts\"\n-                </span>\n-                : {'{'}\n-              </div>\n-              <div className=\"dev-tools-info-code-block-line dev-tools-info-highlight\">\n-                {'    '}\n-                <span className=\"dev-tools-info-code-block-json-key\">\n-                  \"dev\"\n-                </span>\n-                :{' '}\n-                <span className=\"dev-tools-info-code-block-json-value\">\n-                  \"next dev --turbopack\"\n-                </span>\n-                ,\n-              </div>\n-              <div className=\"dev-tools-info-code-block-line\">\n-                {'    '}\n-                <span className=\"dev-tools-info-code-block-json-key\">\n-                  \"build\"\n-                </span>\n-                :{' '}\n-                <span className=\"dev-tools-info-code-block-json-value\">\n-                  \"next build\"\n-                </span>\n-                ,\n-              </div>\n-              <div className=\"dev-tools-info-code-block-line\">\n-                {'    '}\n-                <span className=\"dev-tools-info-code-block-json-key\">\n-                  \"start\"\n-                </span>\n-                :{' '}\n-                <span className=\"dev-tools-info-code-block-json-value\">\n-                  \"next start\"\n-                </span>\n-                ,\n-              </div>\n-              <div className=\"dev-tools-info-code-block-line\">\n-                {'    '}\n-                <span className=\"dev-tools-info-code-block-json-key\">\n-                  \"lint\"\n-                </span>\n-                :{' '}\n-                <span className=\"dev-tools-info-code-block-json-value\">\n-                  \"next lint\"\n-                </span>\n-              </div>\n-              <div className=\"dev-tools-info-code-block-line\">{'  }'}</div>\n-              <div className=\"dev-tools-info-code-block-line\">{'}'}</div>\n-              <div className=\"dev-tools-info-code-block-line\">{'  '}</div>\n-            </code>\n-          </pre>\n-        </div>\n-      </div>\n-    </>\n-  )\n-}\n-\n-export const DEV_TOOLS_INFO_TURBOPACK_INFO_STYLES = `\n-  .dev-tools-info-code {\n-    background: var(--color-gray-400);\n-    color: var(--color-gray-1000);\n-    font-family: var(--font-stack-monospace);\n-    padding: 2px 4px;\n-    margin: 0;\n-    font-size: var(--size-13);\n-    white-space: break-spaces;\n-    border-radius: var(--rounded-md-2);\n-  }\n-\n-  .dev-tools-info-code-block-container {\n-    padding: 6px;\n-  }\n-\n-  .dev-tools-info-code-block {\n-    position: relative;\n-    background: var(--color-background-200);\n-    border: 1px solid var(--color-gray-alpha-400);\n-    border-radius: var(--rounded-md-2);\n-    min-width: 326px;\n-  }\n-\n-  .dev-tools-info-code-block-pre {\n-    margin: 0;\n-    font-family: var(--font-stack-monospace);\n-    font-size: var(--size-12);\n-  }\n-\n-  .dev-tools-info-copy-button {\n-    position: absolute;\n-\n-    display: flex;\n-    justify-content: center;\n-    align-items: center;\n-    right: 8px;\n-    top: 8px;\n-    padding: 4px;\n-    height: var(--size-24);\n-    width: var(--size-24);\n-    border-radius: var(--rounded-md-2);\n-    border: 1px solid var(--color-gray-alpha-400);\n-    background: var(--color-background-100);\n-  }\n-\n-  .dev-tools-info-code-block-line {\n-    display: block;\n-    line-height: 1.5;\n-    padding: 0 16px;\n-  }\n-\n-  .dev-tools-info-code-block-line.dev-tools-info-highlight {\n-    border-left: 2px solid var(--color-blue-900);\n-    background: var(--color-blue-400);\n-  }\n-\n-  .dev-tools-info-code-block-json-key {\n-    color: var(--color-syntax-keyword);\n-  }\n-\n-  .dev-tools-info-code-block-json-value {\n-    color: var(--color-syntax-link);\n-  }\n-`"
        },
        {
            "sha": "041fde3ef95a1f3660f3670c5e4bcf55ad9c5141",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/error-overlay-nav/error-overlay-nav.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.tsx?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -18,9 +18,9 @@ export function ErrorOverlayNav({\n   setActiveIndex,\n   versionInfo,\n }: ErrorOverlayNavProps) {\n-  const bundlerName = (process.env.__NEXT_BUNDLER || 'Webpack') as\n-    | 'Webpack'\n+  const bundlerName = (process.env.__NEXT_BUNDLER || 'Turbopack') as\n     | 'Turbopack'\n+    | 'Webpack'\n     | 'Rspack'\n \n   return ("
        },
        {
            "sha": "3a913514d24515a2dc1a1bc9567d074d26d1c420",
            "filename": "packages/next/src/next-devtools/dev-overlay/menu/context.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fcontext.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fcontext.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fcontext.tsx?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -10,7 +10,6 @@ export type PanelStateKind =\n   | 'route-type'\n   | 'segment-explorer'\n   | 'panel-selector'\n-  | 'turbo-info'\n \n export const PanelRouterContext = createContext<{\n   panel: PanelStateKind | null"
        },
        {
            "sha": "301f1009a389826c5053819f6a01c17035e8e8ba",
            "filename": "packages/next/src/next-devtools/dev-overlay/menu/panel-router.css",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fpanel-router.css",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fpanel-router.css",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fpanel-router.css?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -17,3 +17,8 @@\n   opacity: var(--panel-opacity);\n   transition: var(--panel-transition);\n }\n+\n+.turbopack-upgrade-link {\n+  text-decoration: underline;\n+  font-weight: 500;\n+}"
        },
        {
            "sha": "898fb3b3adc6bc04afa8628e781d27a22d0e2b91",
            "filename": "packages/next/src/next-devtools/dev-overlay/menu/panel-router.tsx",
            "status": "modified",
            "additions": 13,
            "deletions": 24,
            "changes": 37,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fpanel-router.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fpanel-router.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fmenu%2Fpanel-router.tsx?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -6,7 +6,6 @@ import {\n   RouteInfoBody,\n } from '../components/errors/dev-tools-indicator/dev-tools-info/route-info'\n import { PageSegmentTree } from '../components/overview/segment-explorer'\n-import { TurbopackInfoBody } from '../components/errors/dev-tools-indicator/dev-tools-info/turbopack-info'\n import { DevToolsHeader } from '../components/errors/dev-tools-indicator/dev-tools-info/dev-tools-header'\n import { useDelayedRender } from '../hooks/use-delayed-render'\n import {\n@@ -82,15 +81,23 @@ const MenuPanel = () => {\n         !!process.env.TURBOPACK\n           ? {\n               title: 'Turbopack is enabled.',\n-              label: 'Turbopack',\n-              value: 'Enabled',\n+              label: 'Bundler',\n+              value: 'Turbopack',\n             }\n           : {\n               title:\n                 'Learn about Turbopack and how to enable it in your application.',\n-              label: 'Try Turbopack',\n-              value: <ChevronRight />,\n-              onClick: () => setPanel('turbo-info'),\n+              label: 'Bundler',\n+              value: (\n+                <a\n+                  href=\"https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack\"\n+                  target=\"_blank\"\n+                  rel=\"noreferrer noopener\"\n+                  className=\"turbopack-upgrade-link\"\n+                >\n+                  {process.env.__NEXT_BUNDLER || 'Turbopack'}\n+                </a>\n+              ),\n             },\n         !!process.env.__NEXT_CACHE_COMPONENTS && {\n           title: 'Cache Components is enabled.',\n@@ -236,24 +243,6 @@ export const PanelRouter = () => {\n           </DynamicPanel>\n         </PanelRoute>\n       )}\n-\n-      <PanelRoute name=\"turbo-info\">\n-        <DynamicPanel\n-          sharePanelSizeGlobally={false}\n-          sizeConfig={{\n-            kind: 'fixed',\n-            height: 470 / state.scale,\n-            width: 400 / state.scale,\n-          }}\n-          closeOnClickOutside\n-          header={<DevToolsHeader title=\"Try Turbopack\" />}\n-        >\n-          <div className=\"panel-content\">\n-            <TurbopackInfoBody />\n-            <InfoFooter href=\"https://nextjs.org/docs/app/api-reference/turbopack\" />\n-          </div>\n-        </DynamicPanel>\n-      </PanelRoute>\n     </>\n   )\n }"
        },
        {
            "sha": "b1375534bbee0783504b14abd3b3f481c1cd92f2",
            "filename": "packages/next/src/next-devtools/dev-overlay/styles/component-styles.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -15,8 +15,6 @@ import { CALL_STACK_FRAME_STYLES } from '../components/call-stack-frame/call-sta\n import { css } from '../utils/css'\n import { EDITOR_LINK_STYLES } from '../components/terminal/editor-link'\n import { ENVIRONMENT_NAME_LABEL_STYLES } from '../components/errors/environment-name-label/environment-name-label'\n-import { DEV_TOOLS_INFO_TURBOPACK_INFO_STYLES } from '../components/errors/dev-tools-indicator/dev-tools-info/turbopack-info'\n-import { DEV_TOOLS_INFO_ROUTE_INFO_STYLES } from '../components/errors/dev-tools-indicator/dev-tools-info/route-info'\n import { DEV_TOOLS_INFO_USER_PREFERENCES_STYLES } from '../components/errors/dev-tools-indicator/dev-tools-info/user-preferences'\n import { FADER_STYLES } from '../components/fader'\n import { CALL_STACK_STYLES } from '../components/call-stack/call-stack'\n@@ -43,8 +41,6 @@ export function ComponentStyles() {\n         ${containerErrorStyles}\n         ${containerRuntimeErrorStyles}\n         ${versionStaleness}\n-        ${DEV_TOOLS_INFO_TURBOPACK_INFO_STYLES}\n-        ${DEV_TOOLS_INFO_ROUTE_INFO_STYLES}\n         ${DEV_TOOLS_INFO_USER_PREFERENCES_STYLES}\n         ${FADER_STYLES}\n         ${SHORTCUT_RECORDER_STYLES}"
        },
        {
            "sha": "2f136a25d0fa7615bab27b2b3910df83ecbdc854",
            "filename": "test/development/client-dev-overlay/index.test.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/dcd0a6006555953a3eb6c9b00185786eb9c6752e/test%2Fdevelopment%2Fclient-dev-overlay%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/dcd0a6006555953a3eb6c9b00185786eb9c6752e/test%2Fdevelopment%2Fclient-dev-overlay%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fclient-dev-overlay%2Findex.test.ts?ref=dcd0a6006555953a3eb6c9b00185786eb9c6752e",
            "patch": "@@ -140,8 +140,8 @@ describe('client-dev-overlay', () => {\n        1\n        Route\n        Static\n+       Bundler\n        Turbopack\n-       Enabled\n        Preferences\"\n       `)\n     } else {\n@@ -150,7 +150,8 @@ describe('client-dev-overlay', () => {\n        1\n        Route\n        Static\n-       Try Turbopack\n+       Bundler\n+       Webpack\n        Preferences\"\n       `)\n     }\n@@ -197,8 +198,8 @@ describe('client-dev-overlay with Cache Components', () => {\n        1\n        Route\n        Static\n+       Bundler\n        Turbopack\n-       Enabled\n        Cache Components\n        Enabled\n        Preferences\"\n@@ -209,7 +210,8 @@ describe('client-dev-overlay with Cache Components', () => {\n        1\n        Route\n        Static\n-       Try Turbopack\n+       Bundler\n+       Webpack\n        Cache Components\n        Enabled\n        Preferences\""
        }
    ],
    "stats": {
        "total": 222,
        "additions": 26,
        "deletions": 196
    }
}