{
    "author": "wbinnssmith",
    "message": "Update test snapshots for alternative bundler [5/n] (#76617)\n\nTest Plan: `pnpm test-dev-rspack\ntest/development/acceptance/ReactRefreshLogBox-app-doc.test.ts` passes",
    "sha": "539c644b821a9d7917475824b5f3b25e7daa3c89",
    "files": [
        {
            "sha": "61ff4ecee51178b8baadc5c8b77ab79bcdceb5f4",
            "filename": "test/development/acceptance/ReactRefreshLogBox-app-doc.test.ts",
            "status": "modified",
            "additions": 61,
            "deletions": 0,
            "changes": 61,
            "blob_url": "https://github.com/vercel/next.js/blob/539c644b821a9d7917475824b5f3b25e7daa3c89/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox-app-doc.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/539c644b821a9d7917475824b5f3b25e7daa3c89/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox-app-doc.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance%2FReactRefreshLogBox-app-doc.test.ts?ref=539c644b821a9d7917475824b5f3b25e7daa3c89",
            "patch": "@@ -3,6 +3,8 @@ import { FileRef, nextTestSetup } from 'e2e-utils'\n import { outdent } from 'outdent'\n import path from 'path'\n \n+const isRspack = process.env.NEXT_RSPACK !== undefined\n+\n describe('ReactRefreshLogBox _app _document', () => {\n   const { isTurbopack, next } = nextTestSetup({\n     files: new FileRef(path.join(__dirname, 'fixtures', 'default-template')),\n@@ -120,6 +122,39 @@ describe('ReactRefreshLogBox _app _document', () => {\n          \"stack\": [],\n        }\n       `)\n+    } else if (isRspack) {\n+      await expect({ browser, next }).toDisplayRedbox(`\n+       {\n+         \"count\": 1,\n+         \"description\": \"  × Module build failed:\",\n+         \"environmentLabel\": null,\n+         \"label\": \"Build Error\",\n+         \"source\": \"./pages/_app.js\n+         × Module build failed:\n+         ├─▶   ×\n+         │     │   x Expression expected\n+         │     │    ,-[<FIXME-project-root>/pages/_app.js:2:1]\n+         │     │  1 | function MyApp({ Component, pageProps }) {\n+         │     │  2 |   return <<Component {...pageProps} />;\n+         │     │    :           ^\n+         │     │  3 | }\n+         │     │  4 | export default MyApp\n+         │     │    \\`----\n+         │     │\n+         │     │   x Expression expected\n+         │     │    ,-[<FIXME-project-root>/pages/_app.js:2:1]\n+         │     │  1 | function MyApp({ Component, pageProps }) {\n+         │     │  2 |   return <<Component {...pageProps} />;\n+         │     │    :            ^^^^^^^^^\n+         │     │  3 | }\n+         │     │  4 | export default MyApp\n+         │     │    \\`----\n+         │     │\n+         │\n+         ╰─▶ Syntax Error\",\n+         \"stack\": [],\n+       }\n+      `)\n     } else {\n       await expect(browser).toDisplayRedbox(`\n        {\n@@ -211,6 +246,32 @@ describe('ReactRefreshLogBox _app _document', () => {\n          \"stack\": [],\n        }\n       `)\n+    } else if (isRspack) {\n+      await expect({ browser, next }).toDisplayRedbox(`\n+       {\n+         \"count\": 1,\n+         \"description\": \"  × Module build failed:\",\n+         \"environmentLabel\": null,\n+         \"label\": \"Build Error\",\n+         \"source\": \"./pages/_document.js\n+         × Module build failed:\n+         ├─▶   ×\n+         │     │   x Unexpected token \\`{\\`. Expected identifier, string literal, numeric literal or [ for the computed key\n+         │     │    ,-[<FIXME-project-root>/pages/_document.js:3:1]\n+         │     │  1 | import Document, { Html, Head, Main, NextScript } from 'next/document'\n+         │     │  2 |\n+         │     │  3 | class MyDocument extends Document {{\n+         │     │    :                                    ^\n+         │     │  4 |   static async getInitialProps(ctx) {\n+         │     │  5 |     const initialProps = await Document.getInitialProps(ctx)\n+         │     │  6 |     return { ...initialProps }\n+         │     │    \\`----\n+         │     │\n+         │\n+         ╰─▶ Syntax Error\",\n+         \"stack\": [],\n+       }\n+      `)\n     } else {\n       await expect(browser).toDisplayRedbox(`\n        {"
        }
    ],
    "stats": {
        "total": 61,
        "additions": 61,
        "deletions": 0
    }
}