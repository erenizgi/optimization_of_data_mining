{
    "author": "icyJoseph",
    "message": "fix: implications of global-not-found skipping 'normal' rendering (#82399)\n\nFixes: https://github.com/vercel/next.js/issues/82379\n\nAlso fixing the Metadata snippets at the bottom of the page",
    "sha": "373f3e1de16b01150698df6ab6a24e3a1c81b850",
    "files": [
        {
            "sha": "01d1d198a62f04aeb61bda5a44bdb1ccdeca2435",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/not-found.mdx",
            "status": "modified",
            "additions": 74,
            "deletions": 6,
            "changes": 80,
            "blob_url": "https://github.com/vercel/next.js/blob/373f3e1de16b01150698df6ab6a24e3a1c81b850/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fnot-found.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/373f3e1de16b01150698df6ab6a24e3a1c81b850/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fnot-found.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fnot-found.mdx?ref=373f3e1de16b01150698df6ab6a24e3a1c81b850",
            "patch": "@@ -44,7 +44,11 @@ export default function NotFound() {\n \n The `global-not-found.js` file lets you define a 404 page for your entire application. Unlike `not-found.js`, which works at the route level, this is used when a requested URL doesn't match any route at all. Next.js **skips rendering** and directly returns this global page.\n \n-This is useful when you can't build a 404 page using a combination of `layout.js` and `not-found.js`. This can happen in two cases:\n+The `global-not-found.js` file bypasses your app's normal rendering, which means you'll need to import any global styles, fonts, or other dependencies that your 404 page requires.\n+\n+> **Good to know**: A smaller version of your global styles, and a simpler font family could improve performance of this page.\n+\n+`global-not-found.js` is useful when you can't build a 404 page using a combination of `layout.js` and `not-found.js`. This can happen in two cases:\n \n - Your app has multiple root layouts (e.g. `app/(admin)/layout.tsx` and `app/(shop)/layout.tsx`), so there's no single layout to compose a global 404 from.\n - Your root layout is defined using top-level dynamic segments (e.g. `app/[country]/layout.tsx`), which makes composing a consistent 404 page harder.\n@@ -66,9 +70,45 @@ export default nextConfig\n Then, create a file in the root of the `app` directory: `app/global-not-found.js`:\n \n ```tsx filename=\"app/global-not-found.tsx\" switcher\n+// Import global styles and fonts\n+import './globals.css'\n+import { Inter } from 'next/font/google'\n+import type { Metadata } from 'next'\n+\n+const inter = Inter({ subsets: ['latin'] })\n+\n+export const metadata: Metadata = {\n+  title: '404 - Page Not Found',\n+  description: 'The page you are looking for does not exist.',\n+}\n+\n+export default function GlobalNotFound() {\n+  return (\n+    <html lang=\"en\" className={inter.className}>\n+      <body>\n+        <h1>404 - Page Not Found</h1>\n+        <p>This page does not exist.</p>\n+      </body>\n+    </html>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/global-not-found.js\" switcher\n+// Import global styles and fonts\n+import './globals.css'\n+import { Inter } from 'next/font/google'\n+\n+const inter = Inter({ subsets: ['latin'] })\n+\n+export const metadata = {\n+  title: '404 - Page Not Found',\n+  description: 'The page you are looking for does not exist.',\n+}\n+\n export default function GlobalNotFound() {\n   return (\n-    <html>\n+    <html lang=\"en\" className={inter.className}>\n       <body>\n         <h1>404 - Page Not Found</h1>\n         <p>This page does not exist.</p>\n@@ -140,18 +180,46 @@ If you need to use Client Component hooks like `usePathname` to display content\n \n For `global-not-found.js`, you can export a `metadata` object or a [`generateMetadata`](/docs/app/api-reference/functions/generate-metadata) function to customize the `<title>`, `<meta>`, and other head tags for your 404 page:\n \n+> **Good to know**: Next.js automatically injects `<meta name=\"robots\" content=\"noindex\" />` for pages that return a 404 status code, including `global-not-found.js` pages.\n+\n ```tsx filename=\"app/global-not-found.tsx\" switcher\n+import type { Metadata } from 'next'\n+\n+export const metadata: Metadata = {\n+  title: 'Not Found',\n+  description: 'The page you are looking for does not exist.',\n+}\n+\n+export default function GlobalNotFound() {\n+  return (\n+    <html lang=\"en\">\n+      <body>\n+        <div>\n+          <h1>Not Found</h1>\n+          <p>The page you are looking for does not exist.</p>\n+        </div>\n+      </body>\n+    </html>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/global-not-found.js\" switcher\n export const metadata = {\n   title: 'Not Found',\n   description: 'The page you are looking for does not exist.',\n }\n \n export default function GlobalNotFound() {\n   return (\n-    <div>\n-      <h1>Not Found</h1>\n-      <p>The page you are looking for does not exist.</p>\n-    </div>\n+    <html lang=\"en\">\n+      <body>\n+        <div>\n+          <h1>Not Found</h1>\n+          <p>The page you are looking for does not exist.</p>\n+        </div>\n+      </body>\n+    </html>\n   )\n }\n ```"
        }
    ],
    "stats": {
        "total": 80,
        "additions": 74,
        "deletions": 6
    }
}