{
    "author": "icyJoseph",
    "message": "docs: Templates on navigation (#84493)\n\nThe docs on Template and its life cycle, were not that clear.\n\nCloses:\nhttps://linear.app/vercel/issue/DOC-5107/review-templates-api-reference\n\n---------\n\nCo-authored-by: Ismael <ismael@vercel.com>",
    "sha": "828211efa1a440e18df23b871c421b772214473d",
    "files": [
        {
            "sha": "812ff3fb0255ccc00f4a0ee20cef9ac9f1748c46",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/template.mdx",
            "status": "modified",
            "additions": 89,
            "deletions": 1,
            "changes": 90,
            "blob_url": "https://github.com/vercel/next.js/blob/828211efa1a440e18df23b871c421b772214473d/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Ftemplate.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/828211efa1a440e18df23b871c421b772214473d/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Ftemplate.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Ftemplate.mdx?ref=828211efa1a440e18df23b871c421b772214473d",
            "patch": "@@ -60,11 +60,99 @@ Template accepts a `children` prop.\n ## Behavior\n \n - **Server Components**: By default, templates are Server Components.\n-- **Remount on navigation**: Templates receive a unique key automatically. Navigating to a new route causes the template and its children to remount.\n+- **With navigation**: Templates receive a unique key for their own segment level. They remount when that segment (including its dynamic params) changes. Navigations within deeper segments do not remount higher-level templates. Search params do not trigger remounts.\n - **State reset**: Any Client Component inside the template will reset its state on navigation.\n - **Effect re-run**: Effects like `useEffect` will re-synchronize as the component remounts.\n - **DOM reset**: DOM elements inside the template are fully recreated.\n \n+### Templates during navigation and remounting\n+\n+This section illustrates how templates behave during navigation. It shows, step by step, which templates remount on each route change and why.\n+\n+Using this project tree:\n+\n+```\n+app\n+├── about\n+│   ├── page.tsx\n+├── blog\n+│   ├── [slug]\n+│   │   └── page.tsx\n+│   ├── page.tsx\n+│   └── template.tsx\n+├── layout.tsx\n+├── page.tsx\n+└── template.tsx\n+```\n+\n+Starting at `/`, the React tree looks roughly like this.\n+\n+> Note: The `key` values shown in the examples are illustrative, the values in your application may differ.\n+\n+```jsx filename=\"Output\"\n+<RootLayout>\n+  {/* app/template.tsx */}\n+  <Template key=\"/\">\n+    <Page />\n+  </Template>\n+</RootLayout>\n+```\n+\n+Navigating to `/about` (first segment changes), the root template key changes, it remounts:\n+\n+```jsx filename=\"Output\"\n+<RootLayout>\n+  {/* app/template.tsx */}\n+  <Template key=\"/about\">\n+    <AboutPage />\n+  </Template>\n+</RootLayout>\n+```\n+\n+Navigating to `/blog` (first segment changes), the root template key changes, it remounts and the blog-level template mounts:\n+\n+```jsx filename=\"Output\"\n+<RootLayout>\n+  {/* app/template.tsx (root) */}\n+  <Template key=\"/blog\">\n+    {/* app/blog/template.tsx */}\n+    <Template key=\"/blog\">\n+      <BlogIndexPage />\n+    </Template>\n+  </Template>\n+</RootLayout>\n+```\n+\n+Navigating within the same first segment to `/blog/first-post` (child segment changes), the root template key doesn't change, but the blog-level template key changes, it remounts:\n+\n+```jsx filename=\"Output\"\n+<RootLayout>\n+  {/* app/template.tsx (root) */}\n+  <Template key=\"/blog\">\n+    {/* app/blog/template.tsx */}\n+    {/* remounts because the child segment at this level changed */}\n+    <Template key=\"/blog/first-post\">\n+      <BlogPostPage slug=\"first-post\" />\n+    </Template>\n+  </Template>\n+</RootLayout>\n+```\n+\n+Navigating to `/blog/second-post` (same first segment, different child segment), the root template key doesn't change, but the blog-level template key changes, it remounts again:\n+\n+```jsx filename=\"Output\"\n+<RootLayout>\n+  {/* app/template.tsx (root) */}\n+  <Template key=\"/blog\">\n+    {/* app/blog/template.tsx */}\n+    {/* remounts again due to changed child segment */}\n+    <Template key=\"/blog/second-post\">\n+      <BlogPostPage slug=\"second-post\" />\n+    </Template>\n+  </Template>\n+</RootLayout>\n+```\n+\n ## Version History\n \n | Version   | Changes                |"
        }
    ],
    "stats": {
        "total": 90,
        "additions": 89,
        "deletions": 1
    }
}