{
    "author": "devjiwonchoi",
    "message": "[ts-next-plugin] update log for utils (#78538)\n\nImprove the log for debugging when getting possibly undefined values.",
    "sha": "7ff78d1ba2688893403be27113f85940fb93dc76",
    "files": [
        {
            "sha": "01ecf269112f8ae8d5f23bc2f88ce2b97815d89a",
            "filename": "packages/next/src/server/typescript/utils.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 2,
            "changes": 26,
            "blob_url": "https://github.com/vercel/next.js/blob/7ff78d1ba2688893403be27113f85940fb93dc76/packages%2Fnext%2Fsrc%2Fserver%2Ftypescript%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/7ff78d1ba2688893403be27113f85940fb93dc76/packages%2Fnext%2Fsrc%2Fserver%2Ftypescript%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Ftypescript%2Futils.ts?ref=7ff78d1ba2688893403be27113f85940fb93dc76",
            "patch": "@@ -35,11 +35,33 @@ export function getInfo() {\n }\n \n export function getTypeChecker() {\n-  return info.languageService.getProgram()?.getTypeChecker()\n+  const program = info.languageService.getProgram()\n+  if (!program) {\n+    log('Failed to get program while while running getTypeChecker.')\n+    return\n+  }\n+  const typeChecker = program.getTypeChecker()\n+  if (!typeChecker) {\n+    log('Failed to get type checker while running getTypeChecker.')\n+    return\n+  }\n+  return typeChecker\n }\n \n export function getSource(fileName: string) {\n-  return info.languageService.getProgram()?.getSourceFile(fileName)\n+  const program = info.languageService.getProgram()\n+  if (!program) {\n+    log('Failed to get program while running getSource for: ' + fileName)\n+    return\n+  }\n+\n+  const sourceFile = program.getSourceFile(fileName)\n+  if (!sourceFile) {\n+    log('Failed to get source file while running getSource for: ' + fileName)\n+    return\n+  }\n+\n+  return sourceFile\n }\n \n export function removeStringQuotes(str: string): string {"
        }
    ],
    "stats": {
        "total": 26,
        "additions": 24,
        "deletions": 2
    }
}