{
    "author": "unstubbable",
    "message": "Unflake `parallel-routes-revalidation` test (#76600)\n\n[flakiness\nmetric](https://app.datadoghq.com/ci/test/runs?query=test_level%3Atest%20env%3Aci%20%40git.repository.id%3Agithub.com%2Fvercel%2Fnext.js%20%40test.service%3Anextjs%20%40test.status%3Afail%20%28-%40git.branch%3A%2A%3F%2A%20OR%20%40git.branch%3Acanary%29%20%40test.name%3A%22parallel-routes-revalidation%20should%20not%20trigger%20the%20intercepted%20route%20when%20lazy-fetching%20missing%20data%22&agg_m=count&agg_m_source=base&agg_t=count&citest_explorer_sort=timestamp%2Casc&cols=%40test.status%2Ctimestamp%2C%40test.suite%3A83%2C%40test.name%3A607%2C%40git.branch&currentTab=overview&eventStack=&fromUser=false&graphType=flamegraph&index=citest&start=1738068572273&end=1740660572273&paused=false)\n\nThe latest canary release\n[failed](https://github.com/vercel/next.js/actions/runs/13555525831/job/37890389323)\nbecause the deploy test `parallel-routes-revalidation â€º should not\ntrigger the intercepted route when lazy-fetching missing data` kept\nfailing even with retries.\n\nAccording to my local testing using `pnpm test-deploy\ntest/e2e/app-dir/parallel-routes-revalidation/parallel-routes-revalidation.test.ts\n-t 'should not trigger the intercepted route when lazy-fetching missing\ndata'`, the forward navigation was sometimes triggered too early after\nthe page was reloaded.\n\nTo fix it we're waiting for the idle network event before proceeding\nwith the forward navigation.",
    "sha": "fdb76531758a7c95905a124f329064ed866c571b",
    "files": [
        {
            "sha": "43dcda4961646c8d5b39e9862e2f714124d77c89",
            "filename": "test/e2e/app-dir/parallel-routes-revalidation/parallel-routes-revalidation.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/fdb76531758a7c95905a124f329064ed866c571b/test%2Fe2e%2Fapp-dir%2Fparallel-routes-revalidation%2Fparallel-routes-revalidation.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/fdb76531758a7c95905a124f329064ed866c571b/test%2Fe2e%2Fapp-dir%2Fparallel-routes-revalidation%2Fparallel-routes-revalidation.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fparallel-routes-revalidation%2Fparallel-routes-revalidation.test.ts?ref=fdb76531758a7c95905a124f329064ed866c571b",
            "patch": "@@ -176,6 +176,7 @@ describe('parallel-routes-revalidation', () => {\n \n     // reload the page, which will cause the router to no longer have cache nodes\n     await browser.refresh()\n+    await browser.waitForIdleNetwork()\n \n     // go forward, this will trigger a lazy fetch for the missing data, and should restore the detail page\n     await browser.forward()"
        }
    ],
    "stats": {
        "total": 1,
        "additions": 1,
        "deletions": 0
    }
}