{
    "author": "lubieowoce",
    "message": "test: log html output for a flaky test to debug it (#78424)\n\nthis test has been flaky recently but we don't know why and can't repro\nlocally. this PR adds a log to inspect the full HTML when it fails\n\nx-ref: https://vercel.slack.com/archives/C05KYT5S9FF/p1745259844464719",
    "sha": "98e61efee0579b1ef15829b92bb6bc372e264019",
    "files": [
        {
            "sha": "f9aeb67e898b4d50bb29cc2a6aa6d15c5833f5b3",
            "filename": "test/e2e/app-dir/rsc-basic/rsc-basic.test.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 1,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/98e61efee0579b1ef15829b92bb6bc372e264019/test%2Fe2e%2Fapp-dir%2Frsc-basic%2Frsc-basic.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/98e61efee0579b1ef15829b92bb6bc372e264019/test%2Fe2e%2Fapp-dir%2Frsc-basic%2Frsc-basic.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Frsc-basic%2Frsc-basic.test.ts?ref=98e61efee0579b1ef15829b92bb6bc372e264019",
            "patch": "@@ -94,7 +94,19 @@ describe('app dir - rsc basics', () => {\n   it('should correctly render page returning undefined', async () => {\n     const homeHTML = await next.render('/return-undefined/page')\n     const $ = cheerio.load(homeHTML)\n-    expect(stripHTMLComments($('#return-undefined-layout').html())).toBeEmpty()\n+    try {\n+      expect(\n+        stripHTMLComments($('#return-undefined-layout').html())\n+      ).toBeEmpty()\n+    } catch (err) {\n+      const sep = '='.repeat(40) + ' PAGE HTML ' + '='.repeat(40)\n+      console.log()\n+      console.log(sep)\n+      console.log($('html').html())\n+      console.log(sep)\n+      console.log()\n+      throw err\n+    }\n   })\n \n   it('should correctly render component returning undefined', async () => {"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 13,
        "deletions": 1
    }
}