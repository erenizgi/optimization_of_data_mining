{
    "author": "leerob",
    "message": "docs: improve `\"use server\"` inline example (#78653)",
    "sha": "0d34b3cc7d17e3587dbe3396911a0bccec45a2ff",
    "files": [
        {
            "sha": "0f6094842ee91da78cd88eedabb5ab468555cfc6",
            "filename": "docs/01-app/05-api-reference/01-directives/use-server.mdx",
            "status": "modified",
            "additions": 20,
            "deletions": 14,
            "changes": 34,
            "blob_url": "https://github.com/vercel/next.js/blob/0d34b3cc7d17e3587dbe3396911a0bccec45a2ff/docs%2F01-app%2F05-api-reference%2F01-directives%2Fuse-server.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/0d34b3cc7d17e3587dbe3396911a0bccec45a2ff/docs%2F01-app%2F05-api-reference%2F01-directives%2Fuse-server.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F01-directives%2Fuse-server.mdx?ref=0d34b3cc7d17e3587dbe3396911a0bccec45a2ff",
            "patch": "@@ -79,31 +79,37 @@ export default function MyButton() {\n \n In the following example, `use server` is used inline at the top of a function to mark it as a [Server Function](https://19.react.dev/reference/rsc/server-functions):\n \n-```tsx filename=\"app/page.tsx\" highlight={5} switcher\n-import { db } from '@/lib/db' // Your database client\n+```tsx filename=\"app/posts/[id]/page.tsx\" switcher highlight={8}\n+import { EditPost } from './edit-post'\n+import { revalidatePath } from 'next/cache'\n+\n+export default async function PostPage({ params }: { params: { id: string } }) {\n+  const post = await getPost(params.id)\n \n-export default function UserList() {\n-  async function fetchUsers() {\n+  async function updatePost(formData: FormData) {\n     'use server'\n-    const users = await db.user.findMany()\n-    return users\n+    await savePost(params.id, formData)\n+    revalidatePath(`/posts/${params.id}`)\n   }\n \n-  return <button onClick={() => fetchUsers()}>Fetch Users</button>\n+  return <EditPost updatePostAction={updatePost} post={post} />\n }\n ```\n \n-```jsx filename=\"app/page.js\" highlight={5} switcher\n-import { db } from '@/lib/db' // Your database client\n+```jsx filename=\"app/posts/[id]/page.js\" switcher highlight={8}\n+import { EditPost } from './edit-post'\n+import { revalidatePath } from 'next/cache'\n+\n+export default async function PostPage({ params }) {\n+  const post = await getPost(params.id)\n \n-export default function UserList() {\n-  async function fetchUsers() {\n+  async function updatePost(formData) {\n     'use server'\n-    const users = await db.user.findMany()\n-    return users\n+    await savePost(params.id, formData)\n+    revalidatePath(`/posts/${params.id}`)\n   }\n \n-  return <button onClick={() => fetchUsers()}>Fetch Users</button>\n+  return <EditPost updatePostAction={updatePost} post={post} />\n }\n ```\n "
        }
    ],
    "stats": {
        "total": 34,
        "additions": 20,
        "deletions": 14
    }
}