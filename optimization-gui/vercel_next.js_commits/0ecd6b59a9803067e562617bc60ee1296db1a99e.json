{
    "author": "devjiwonchoi",
    "message": "[devtools] panel ui header (#80509)\n\nhttps://github.com/user-attachments/assets/512cd9d4-4f72-4ed3-a9dc-4efb823651c3\r\n\r\nCloses NEXT-4528",
    "sha": "0ecd6b59a9803067e562617bc60ee1296db1a99e",
    "files": [
        {
            "sha": "d25c91afe7bae226f21b293bea5c634b4920b025",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel.stories.tsx",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.stories.tsx?ref=0ecd6b59a9803067e562617bc60ee1296db1a99e",
            "patch": "@@ -28,5 +28,14 @@ export const Default: Story = {\n   args: {\n     state,\n     dispatch: () => {},\n+    issueCount: 0,\n+  },\n+}\n+\n+export const WithIssues: Story = {\n+  args: {\n+    state,\n+    dispatch: () => {},\n+    issueCount: 3,\n   },\n }"
        },
        {
            "sha": "576d501b640f0774a8f9d220329c83da2161349c",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel.tsx",
            "status": "modified",
            "additions": 135,
            "deletions": 1,
            "changes": 136,
            "blob_url": "https://github.com/vercel/next.js/blob/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx?ref=0ecd6b59a9803067e562617bc60ee1296db1a99e",
            "patch": "@@ -1,5 +1,7 @@\n import type { OverlayDispatch, OverlayState } from '../../shared'\n \n+import { useState } from 'react'\n+\n import { Dialog, DialogContent, DialogHeader, DialogBody } from '../dialog'\n import { Overlay } from '../overlay/overlay'\n import {\n@@ -11,14 +13,21 @@ import { css } from '../../utils/css'\n import { OverlayBackdrop } from '../overlay'\n import { Draggable } from '../errors/dev-tools-indicator/draggable'\n import { INDICATOR_PADDING } from '../devtools-indicator/devtools-indicator'\n+import { FullScreenIcon } from '../../icons/fullscreen'\n+import { Cross } from '../../icons/cross'\n \n export function DevToolsPanel({\n   state,\n   dispatch,\n+  issueCount,\n }: {\n   state: OverlayState\n   dispatch: OverlayDispatch\n+  issueCount: number\n }) {\n+  const [activeTab, setActiveTab] = useState<'issues' | 'route' | 'settings'>(\n+    'settings'\n+  )\n   const [vertical, horizontal] = state.devToolsPosition.split('-', 2)\n \n   const onClose = () => {\n@@ -59,7 +68,51 @@ export function DevToolsPanel({\n           onClose={onClose}\n         >\n           <DialogContent>\n-            <DialogHeader></DialogHeader>\n+            <DialogHeader>\n+              <div data-nextjs-devtools-panel-header>\n+                <div data-nextjs-devtools-panel-header-tab-group>\n+                  <button\n+                    data-nextjs-devtools-panel-header-tab={\n+                      activeTab === 'issues'\n+                    }\n+                    onClick={() => setActiveTab('issues')}\n+                  >\n+                    Issues\n+                    <span data-nextjs-devtools-panel-header-tab-issues-badge>\n+                      {issueCount}\n+                    </span>\n+                  </button>\n+                  <button\n+                    data-nextjs-devtools-panel-header-tab={\n+                      activeTab === 'route'\n+                    }\n+                    onClick={() => setActiveTab('route')}\n+                  >\n+                    Route Info\n+                  </button>\n+                  <button\n+                    data-nextjs-devtools-panel-header-tab={\n+                      activeTab === 'settings'\n+                    }\n+                    onClick={() => setActiveTab('settings')}\n+                  >\n+                    Settings\n+                  </button>\n+                </div>\n+                <div data-nextjs-devtools-panel-header-action-button-group>\n+                  {/* TODO: Currently no-op, will add fullscreen toggle. */}\n+                  <button data-nextjs-devtools-panel-header-action-button>\n+                    <FullScreenIcon width={16} height={16} />\n+                  </button>\n+                  <button\n+                    data-nextjs-devtools-panel-header-action-button\n+                    onClick={onClose}\n+                  >\n+                    <Cross width={16} height={16} />\n+                  </button>\n+                </div>\n+              </div>\n+            </DialogHeader>\n             <DialogBody></DialogBody>\n           </DialogContent>\n         </Dialog>\n@@ -100,4 +153,85 @@ export const DEVTOOLS_PANEL_STYLES = css`\n     /* This is handled from dialog/styles.ts */\n     max-width: var(--next-dialog-max-width);\n   }\n+\n+  [data-nextjs-devtools-panel-header] {\n+    display: flex;\n+    justify-content: space-between;\n+    align-items: center;\n+    border-bottom: 1px solid var(--color-gray-400);\n+  }\n+\n+  [data-nextjs-devtools-panel-header-tab-group] {\n+    display: flex;\n+    align-items: center;\n+    padding: 8px;\n+    gap: 6px;\n+  }\n+\n+  [data-nextjs-devtools-panel-header-tab] {\n+    display: flex;\n+    align-items: center;\n+    color: var(--color-gray-900);\n+    border-radius: var(--rounded-md-2);\n+    padding: 4px 12px;\n+    font-size: 14px;\n+    font-weight: 500;\n+\n+    transition: all 0.2s ease;\n+\n+    &:hover {\n+      background-color: var(--color-gray-200);\n+    }\n+\n+    &:active {\n+      background-color: var(--color-gray-300);\n+    }\n+  }\n+\n+  [data-nextjs-devtools-panel-header-tab='true'] {\n+    color: var(--color-gray-1000);\n+    background-color: var(--color-gray-100);\n+  }\n+\n+  [data-nextjs-devtools-panel-header-tab-issues-badge] {\n+    display: inline-block;\n+    margin-left: 8px;\n+    background-color: var(--color-red-400);\n+    color: var(--color-red-900);\n+    font-size: 11px;\n+    border-radius: var(--rounded-full);\n+    padding: 2px 6px;\n+    width: 20px;\n+    height: 20px;\n+    font-weight: 500;\n+  }\n+\n+  [data-nextjs-devtools-panel-header-action-button-group] {\n+    display: flex;\n+    align-items: center;\n+    gap: 4px;\n+    padding-right: 8px;\n+  }\n+\n+  [data-nextjs-devtools-panel-header-action-button] {\n+    background: transparent;\n+    border: none;\n+    cursor: pointer;\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+    padding: 6px;\n+    color: var(--color-gray-600);\n+    border-radius: 4px;\n+    transition: all 0.2s ease;\n+\n+    &:hover {\n+      background-color: var(--color-gray-200);\n+      color: var(--color-gray-900);\n+    }\n+\n+    &:active {\n+      background-color: var(--color-gray-300);\n+    }\n+  }\n `"
        },
        {
            "sha": "5c800f2530c983754adcb058806586c3559d6ae2",
            "filename": "packages/next/src/next-devtools/dev-overlay/dev-overlay.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fdev-overlay.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fdev-overlay.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fdev-overlay.tsx?ref=0ecd6b59a9803067e562617bc60ee1296db1a99e",
            "patch": "@@ -49,7 +49,11 @@ export function DevOverlay({\n                     />\n \n                     {state.isDevToolsPanelOpen && (\n-                      <DevToolsPanel state={state} dispatch={dispatch} />\n+                      <DevToolsPanel\n+                        state={state}\n+                        dispatch={dispatch}\n+                        issueCount={totalErrorCount}\n+                      />\n                     )}\n                   </>\n                 ) : ("
        },
        {
            "sha": "a1108207ffb03041f889534439d727726ab882d9",
            "filename": "packages/next/src/next-devtools/dev-overlay/icons/fullscreen.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Ffullscreen.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/0ecd6b59a9803067e562617bc60ee1296db1a99e/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Ffullscreen.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Ffullscreen.tsx?ref=0ecd6b59a9803067e562617bc60ee1296db1a99e",
            "patch": "@@ -0,0 +1,17 @@\n+export function FullScreenIcon(props: React.SVGProps<SVGSVGElement>) {\n+  return (\n+    <svg\n+      xmlns=\"http://www.w3.org/2000/svg\"\n+      width=\"16\"\n+      height=\"16\"\n+      viewBox=\"0 0 16 16\"\n+      fill=\"none\"\n+      {...props}\n+    >\n+      <path\n+        d=\"M15 14C15 14.5523 14.5523 15 14 15H10V13.5H13.5V10H15V14ZM2.5 13.499H6V14.999H2C1.44772 14.999 1 14.5513 1 13.999V9.99902H2.5V13.499ZM6 2.5H2.5V6H1V2C1 1.44772 1.44772 1 2 1H6V2.5ZM14 1C14.5523 1 15 1.44772 15 2V6H13.5V2.5H10V1H14Z\"\n+        fill=\"currentColor\"\n+      />\n+    </svg>\n+  )\n+}"
        }
    ],
    "stats": {
        "total": 168,
        "additions": 166,
        "deletions": 2
    }
}