{
    "author": "unstubbable",
    "message": "[test] Add test cases for dynamic caches without suspense boundaries (#85500)\n\nWhen defining a `cacheLife` with an expire time below 5 minutes or a\nrevalidate time of 0 we consider the `'use cache'` function dynamic\nduring prerendering, i.e. it will be excluded from the static shell.\nSimilarly, accessing runtime `params` (not defined in\n`generateStaticParams`) also makes the function dynamic. Those cases\nrequire adding a parent suspense boundary. If there's no suspense\nboundary, we should show an error during prerendering at build time, as\nwell as in development as part of the prerender validation. The latter\nis currently not working as expected when the `'use cache'` directive is\nused in a page (or layout) directly. As the added snapshot tests show,\nno redbox is shown in those cases. This is a known issue that we plan to\naddress separately.\n\nWe will also follow up with improving the error messages and docs for\nthose dynamic cache cases. This detail got lost in #85087.",
    "sha": "1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
    "files": [
        {
            "sha": "32bf78b8a9eea12316d5ce9d1bbbfd8a15ac4441",
            "filename": "test/e2e/app-dir/cache-components-errors/cache-components-errors.test.ts",
            "status": "modified",
            "additions": 325,
            "deletions": 0,
            "changes": 325,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -2658,6 +2658,331 @@ describe('Cache Components Errors', () => {\n           })\n         }\n       })\n+\n+      describe('cacheLife with expire < 5 minutes', () => {\n+        if (isNextDev) {\n+          // FIXME: This should show a redbox error, but currently does not.\n+          it('should show a redbox error', async () => {\n+            const browser = await next.browser('/use-cache-low-expire')\n+\n+            if (isTurbopack) {\n+              await expect(browser).toDisplayCollapsedRedbox(\n+                `\"Redbox did not open.\"`\n+              )\n+            } else {\n+              await expect(browser).toDisplayCollapsedRedbox(\n+                `\"Redbox did not open.\"`\n+              )\n+            }\n+          })\n+        } else {\n+          it('should error the build', async () => {\n+            try {\n+              await prerender('/use-cache-low-expire')\n+            } catch {\n+              // we expect the build to fail\n+            }\n+\n+            const output = getPrerenderOutput(\n+              next.cliOutput.slice(cliOutputLength),\n+              { isMinified: !isDebugPrerender }\n+            )\n+\n+            if (isTurbopack) {\n+              if (isDebugPrerender) {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-low-expire\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-low-expire\" in your browser to investigate the error.\n+                 Error occurred prerendering page \"/use-cache-low-expire\". Read more: https://nextjs.org/docs/messages/prerender-error\n+\n+                 > Export encountered errors on following paths:\n+                 \t/use-cache-low-expire/page: /use-cache-low-expire\"\n+                `)\n+              } else {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-low-expire\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                 To get a more detailed stack trace and pinpoint the issue, try one of the following:\n+                   - Start the app in development mode by running \\`next dev\\`, then open \"/use-cache-low-expire\" in your browser to investigate the error.\n+                   - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.\n+                 Error occurred prerendering page \"/use-cache-low-expire\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                 Export encountered an error on /use-cache-low-expire/page: /use-cache-low-expire, exiting the build.\"\n+                `)\n+              }\n+            } else {\n+              if (isDebugPrerender) {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-low-expire\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at <FIXME-library-internal>\n+                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-low-expire\" in your browser to investigate the error.\n+                 Error occurred prerendering page \"/use-cache-low-expire\". Read more: https://nextjs.org/docs/messages/prerender-error\n+\n+                 > Export encountered errors on following paths:\n+                 \t/use-cache-low-expire/page: /use-cache-low-expire\"\n+                `)\n+              } else {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-low-expire\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at a (<next-dist-dir>)\n+                     at b (<next-dist-dir>)\n+                     at c (<next-dist-dir>)\n+                     at d (<next-dist-dir>)\n+                     at e (<next-dist-dir>)\n+                     at f (<next-dist-dir>)\n+                     at g (<next-dist-dir>)\n+                     at h (<next-dist-dir>)\n+                     at i (<next-dist-dir>)\n+                     at j (<next-dist-dir>)\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                     at k (<next-dist-dir>)\n+                     at l (<next-dist-dir>)\n+                     at m (<next-dist-dir>)\n+                     at n (<next-dist-dir>)\n+                     at o (<next-dist-dir>)\n+                     at p (<next-dist-dir>)\n+                     at q (<next-dist-dir>)\n+                     at r (<next-dist-dir>)\n+                     at s (<next-dist-dir>)\n+                     at t (<next-dist-dir>)\n+                     at u (<next-dist-dir>)\n+                 To get a more detailed stack trace and pinpoint the issue, try one of the following:\n+                   - Start the app in development mode by running \\`next dev\\`, then open \"/use-cache-low-expire\" in your browser to investigate the error.\n+                   - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.\n+                 Error occurred prerendering page \"/use-cache-low-expire\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                 Export encountered an error on /use-cache-low-expire/page: /use-cache-low-expire, exiting the build.\"\n+                `)\n+              }\n+            }\n+          })\n+        }\n+      })\n+\n+      describe('cacheLife with revalidate: 0', () => {\n+        if (isNextDev) {\n+          // FIXME: This should show a redbox error, but currently does not.\n+          it('should show a redbox error', async () => {\n+            const browser = await next.browser('/use-cache-revalidate-0')\n+\n+            if (isTurbopack) {\n+              await expect(browser).toDisplayCollapsedRedbox(\n+                `\"Redbox did not open.\"`\n+              )\n+            } else {\n+              await expect(browser).toDisplayCollapsedRedbox(\n+                `\"Redbox did not open.\"`\n+              )\n+            }\n+          })\n+        } else {\n+          it('should error the build', async () => {\n+            try {\n+              await prerender('/use-cache-revalidate-0')\n+            } catch {\n+              // we expect the build to fail\n+            }\n+\n+            const output = getPrerenderOutput(\n+              next.cliOutput.slice(cliOutputLength),\n+              { isMinified: !isDebugPrerender }\n+            )\n+\n+            if (isTurbopack) {\n+              if (isDebugPrerender) {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-revalidate-0\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-revalidate-0\" in your browser to investigate the error.\n+                 Error occurred prerendering page \"/use-cache-revalidate-0\". Read more: https://nextjs.org/docs/messages/prerender-error\n+\n+                 > Export encountered errors on following paths:\n+                 \t/use-cache-revalidate-0/page: /use-cache-revalidate-0\"\n+                `)\n+              } else {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-revalidate-0\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                 To get a more detailed stack trace and pinpoint the issue, try one of the following:\n+                   - Start the app in development mode by running \\`next dev\\`, then open \"/use-cache-revalidate-0\" in your browser to investigate the error.\n+                   - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.\n+                 Error occurred prerendering page \"/use-cache-revalidate-0\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                 Export encountered an error on /use-cache-revalidate-0/page: /use-cache-revalidate-0, exiting the build.\"\n+                `)\n+              }\n+            } else {\n+              if (isDebugPrerender) {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-revalidate-0\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at <FIXME-library-internal>\n+                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-revalidate-0\" in your browser to investigate the error.\n+                 Error occurred prerendering page \"/use-cache-revalidate-0\". Read more: https://nextjs.org/docs/messages/prerender-error\n+\n+                 > Export encountered errors on following paths:\n+                 \t/use-cache-revalidate-0/page: /use-cache-revalidate-0\"\n+                `)\n+              } else {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-revalidate-0\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at a (<next-dist-dir>)\n+                     at b (<next-dist-dir>)\n+                     at c (<next-dist-dir>)\n+                     at d (<next-dist-dir>)\n+                     at e (<next-dist-dir>)\n+                     at f (<next-dist-dir>)\n+                     at g (<next-dist-dir>)\n+                     at h (<next-dist-dir>)\n+                     at i (<next-dist-dir>)\n+                     at j (<next-dist-dir>)\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                     at k (<next-dist-dir>)\n+                     at l (<next-dist-dir>)\n+                     at m (<next-dist-dir>)\n+                     at n (<next-dist-dir>)\n+                     at o (<next-dist-dir>)\n+                     at p (<next-dist-dir>)\n+                     at q (<next-dist-dir>)\n+                     at r (<next-dist-dir>)\n+                     at s (<next-dist-dir>)\n+                     at t (<next-dist-dir>)\n+                     at u (<next-dist-dir>)\n+                 To get a more detailed stack trace and pinpoint the issue, try one of the following:\n+                   - Start the app in development mode by running \\`next dev\\`, then open \"/use-cache-revalidate-0\" in your browser to investigate the error.\n+                   - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.\n+                 Error occurred prerendering page \"/use-cache-revalidate-0\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                 Export encountered an error on /use-cache-revalidate-0/page: /use-cache-revalidate-0, exiting the build.\"\n+                `)\n+              }\n+            }\n+          })\n+        }\n+      })\n+\n+      describe('reading fallback params', () => {\n+        if (isNextDev) {\n+          // FIXME: This should show a redbox error, but currently does not.\n+          it('should show a redbox error', async () => {\n+            const browser = await next.browser('/use-cache-params/foo')\n+\n+            if (isTurbopack) {\n+              await expect(browser).toDisplayCollapsedRedbox(\n+                `\"Redbox did not open.\"`\n+              )\n+            } else {\n+              await expect(browser).toDisplayCollapsedRedbox(\n+                `\"Redbox did not open.\"`\n+              )\n+            }\n+          })\n+        } else {\n+          it('should error the build', async () => {\n+            try {\n+              await prerender('/use-cache-params/[slug]')\n+            } catch {\n+              // we expect the build to fail\n+            }\n+\n+            const output = getPrerenderOutput(\n+              next.cliOutput.slice(cliOutputLength),\n+              { isMinified: !isDebugPrerender }\n+            )\n+\n+            if (isTurbopack) {\n+              if (isDebugPrerender) {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-params/[slug]\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-params/[slug]\" in your browser to investigate the error.\n+                 Error occurred prerendering page \"/use-cache-params/[slug]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+\n+                 > Export encountered errors on following paths:\n+                 \t/use-cache-params/[slug]/page: /use-cache-params/[slug]\"\n+                `)\n+              } else {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-params/[slug]\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                 To get a more detailed stack trace and pinpoint the issue, try one of the following:\n+                   - Start the app in development mode by running \\`next dev\\`, then open \"/use-cache-params/[slug]\" in your browser to investigate the error.\n+                   - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.\n+                 Error occurred prerendering page \"/use-cache-params/[slug]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                 Export encountered an error on /use-cache-params/[slug]/page: /use-cache-params/[slug], exiting the build.\"\n+                `)\n+              }\n+            } else {\n+              if (isDebugPrerender) {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-params/[slug]\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at <FIXME-library-internal>\n+                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-params/[slug]\" in your browser to investigate the error.\n+                 Error occurred prerendering page \"/use-cache-params/[slug]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+\n+                 > Export encountered errors on following paths:\n+                 \t/use-cache-params/[slug]/page: /use-cache-params/[slug]\"\n+                `)\n+              } else {\n+                expect(output).toMatchInlineSnapshot(`\n+                 \"Error: Route \"/use-cache-params/[slug]\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                     at a (<next-dist-dir>)\n+                     at b (<next-dist-dir>)\n+                     at c (<next-dist-dir>)\n+                     at d (<next-dist-dir>)\n+                     at e (<next-dist-dir>)\n+                     at f (<next-dist-dir>)\n+                     at g (<next-dist-dir>)\n+                     at h (<next-dist-dir>)\n+                     at i (<next-dist-dir>)\n+                     at j (<next-dist-dir>)\n+                     at k (<next-dist-dir>)\n+                     at l (<next-dist-dir>)\n+                     at m (<next-dist-dir>)\n+                     at n (<next-dist-dir>)\n+                     at o (<next-dist-dir>)\n+                     at p (<next-dist-dir>)\n+                     at q (<next-dist-dir>)\n+                     at r (<next-dist-dir>)\n+                     at s (<next-dist-dir>)\n+                     at t (<next-dist-dir>)\n+                     at main (<anonymous>)\n+                     at body (<anonymous>)\n+                     at html (<anonymous>)\n+                     at u (<next-dist-dir>)\n+                     at v (<next-dist-dir>)\n+                     at w (<next-dist-dir>)\n+                     at x (<next-dist-dir>)\n+                     at y (<next-dist-dir>)\n+                     at z (<next-dist-dir>)\n+                     at a (<next-dist-dir>)\n+                     at b (<next-dist-dir>)\n+                     at c (<next-dist-dir>)\n+                     at d (<next-dist-dir>)\n+                     at e (<next-dist-dir>)\n+                 To get a more detailed stack trace and pinpoint the issue, try one of the following:\n+                   - Start the app in development mode by running \\`next dev\\`, then open \"/use-cache-params/[slug]\" in your browser to investigate the error.\n+                   - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.\n+                 Error occurred prerendering page \"/use-cache-params/[slug]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                 Export encountered an error on /use-cache-params/[slug]/page: /use-cache-params/[slug], exiting the build.\"\n+                `)\n+              }\n+            }\n+          })\n+        }\n+      })\n     })\n \n     describe('With `use cache: private`', () => {"
        },
        {
            "sha": "745e32b8a8d235ef098d1a265f57c0254df40b5d",
            "filename": "test/e2e/app-dir/cache-components-errors/fixtures/default/app/use-cache-low-expire/layout.tsx",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-low-expire%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-low-expire%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-low-expire%2Flayout.tsx?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -0,0 +1,9 @@\n+export default function Root({ children }: { children: React.ReactNode }) {\n+  return (\n+    <html>\n+      <body>\n+        <main>{children}</main>\n+      </body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "7c33ab21371b3f64cbb2d2a86298046122fb5da5",
            "filename": "test/e2e/app-dir/cache-components-errors/fixtures/default/app/use-cache-low-expire/page.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-low-expire%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-low-expire%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-low-expire%2Fpage.tsx?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -0,0 +1,17 @@\n+import { cacheLife } from 'next/cache'\n+\n+export default async function Page() {\n+  'use cache: remote'\n+\n+  cacheLife({ expire: 299 }) // 1 second below the threshold of 5 minutes\n+\n+  return (\n+    <>\n+      <p>\n+        This page is cached with a low expire time. Such a short-lived cache is\n+        excluded from prerenders, and creates a dynamic hole. Without a parent\n+        suspense boundary, this will cause an error during prerendering.\n+      </p>\n+    </>\n+  )\n+}"
        },
        {
            "sha": "62fd32f6158ad7914217f7be63d0c8d57e654009",
            "filename": "test/e2e/app-dir/cache-components-errors/fixtures/default/app/use-cache-params/[slug]/page.tsx",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-params%2F%5Bslug%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-params%2F%5Bslug%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-params%2F%5Bslug%5D%2Fpage.tsx?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -0,0 +1,20 @@\n+export default async function Page({\n+  params,\n+}: {\n+  params: Promise<{ slug: string }>\n+}) {\n+  'use cache'\n+\n+  const { slug } = await params\n+\n+  return (\n+    <>\n+      <p>\n+        This page accesses params without defining any static params. This\n+        excludes the page from prerenders, and creates a dynamic hole. Without a\n+        parent suspense boundary, this will cause an error during prerendering.\n+      </p>\n+      <p>Slug: {slug}</p>\n+    </>\n+  )\n+}"
        },
        {
            "sha": "745e32b8a8d235ef098d1a265f57c0254df40b5d",
            "filename": "test/e2e/app-dir/cache-components-errors/fixtures/default/app/use-cache-params/layout.tsx",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-params%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-params%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-params%2Flayout.tsx?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -0,0 +1,9 @@\n+export default function Root({ children }: { children: React.ReactNode }) {\n+  return (\n+    <html>\n+      <body>\n+        <main>{children}</main>\n+      </body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "745e32b8a8d235ef098d1a265f57c0254df40b5d",
            "filename": "test/e2e/app-dir/cache-components-errors/fixtures/default/app/use-cache-revalidate-0/layout.tsx",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-revalidate-0%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-revalidate-0%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-revalidate-0%2Flayout.tsx?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -0,0 +1,9 @@\n+export default function Root({ children }: { children: React.ReactNode }) {\n+  return (\n+    <html>\n+      <body>\n+        <main>{children}</main>\n+      </body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "1a82163f68a046aa1e50a5d9eec3494de27d1f3f",
            "filename": "test/e2e/app-dir/cache-components-errors/fixtures/default/app/use-cache-revalidate-0/page.tsx",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-revalidate-0%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1558dbefc27b84e6f64fe492a33a3f16b0179dc4/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-revalidate-0%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Ffixtures%2Fdefault%2Fapp%2Fuse-cache-revalidate-0%2Fpage.tsx?ref=1558dbefc27b84e6f64fe492a33a3f16b0179dc4",
            "patch": "@@ -0,0 +1,17 @@\n+import { cacheLife } from 'next/cache'\n+\n+export default async function Page() {\n+  'use cache: remote'\n+\n+  cacheLife({ revalidate: 0 })\n+\n+  return (\n+    <>\n+      <p>\n+        This page is cached with a zero revalidate time. Such a short-lived\n+        cache is excluded from prerenders, and creates a dynamic hole. Without a\n+        parent suspense boundary, this will cause an error during prerendering.\n+      </p>\n+    </>\n+  )\n+}"
        }
    ],
    "stats": {
        "total": 406,
        "additions": 406,
        "deletions": 0
    }
}