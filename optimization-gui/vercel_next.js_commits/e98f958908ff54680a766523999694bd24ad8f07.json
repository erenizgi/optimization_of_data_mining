{
    "author": "ijjk",
    "message": "Revert \"Upgrade @vercel og (#82201)\" (#82219)\n\nThis reverts commit ac5fdf56d5650faca8f1c70a0496212bd3d52a7d.\n\nReverts https://github.com/vercel/next.js/pull/82201 as our E2E deploy\ntests are still failing it seems.\n\nx-ref:\nhttps://github.com/vercel/next.js/actions/runs/16636039524/job/47078880946#step:33:321",
    "sha": "e98f958908ff54680a766523999694bd24ad8f07",
    "files": [
        {
            "sha": "b3d8dc3ae6a535bf8776e8ba8901557e31c6a7d2",
            "filename": "package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -146,7 +146,7 @@\n     \"@typescript-eslint/parser\": \"^8.36.0\",\n     \"@vercel/devlow-bench\": \"workspace:*\",\n     \"@vercel/fetch\": \"6.1.1\",\n-    \"@vercel/og\": \"0.8.5\",\n+    \"@vercel/og\": \"0.7.2\",\n     \"abort-controller\": \"3.0.0\",\n     \"alex\": \"9.1.0\",\n     \"async-sema\": \"3.0.1\",\n@@ -251,7 +251,7 @@\n     \"request-promise-core\": \"1.1.2\",\n     \"resolve-from\": \"5.0.0\",\n     \"sass\": \"1.54.0\",\n-    \"satori\": \"0.16.0\",\n+    \"satori\": \"0.15.2\",\n     \"scheduler-builtin\": \"npm:scheduler@0.27.0-canary-9784cb37-20250730\",\n     \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-9784cb37-20250730\",\n     \"seedrandom\": \"3.0.5\","
        },
        {
            "sha": "09a3b20709279fd0cc59692fa5af7004702a47f4",
            "filename": "packages/next/server.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fserver.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fserver.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fserver.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -12,7 +12,7 @@ export { userAgentFromString } from 'next/dist/server/web/spec-extension/user-ag\n export { userAgent } from 'next/dist/server/web/spec-extension/user-agent'\n export { URLPattern } from 'next/dist/compiled/@edge-runtime/primitives/url'\n export { ImageResponse } from 'next/dist/server/web/spec-extension/image-response'\n-export type { ImageResponseOptions } from 'next/dist/compiled/@vercel/og'\n+export type { ImageResponseOptions } from 'next/dist/compiled/@vercel/og/types'\n export { after } from 'next/dist/server/after'\n export { unstable_rootParams } from 'next/dist/server/request/root-params'\n export { connection } from 'next/dist/server/request/connection'"
        },
        {
            "sha": "773bfe0666f67aac5c659cf0d1d65beda536d6f8",
            "filename": "packages/next/src/compiled/@vercel/og/emoji/index.d.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Femoji%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Femoji%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Femoji%2Findex.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -0,0 +1,15 @@\n+/**\n+ * Modified version of https://unpkg.com/twemoji@13.1.0/dist/twemoji.esm.js.\n+ */\n+export declare function getIconCode(char: string): string;\n+declare const apis: {\n+    twemoji: (code: any) => string;\n+    openmoji: string;\n+    blobmoji: string;\n+    noto: string;\n+    fluent: (code: any) => string;\n+    fluentFlat: (code: any) => string;\n+};\n+export type EmojiType = keyof typeof apis;\n+export declare function loadEmoji(code: string, type?: EmojiType): Promise<Response>;\n+export {};"
        },
        {
            "sha": "e252276ad89244d347742f5bd9c4f9b77c3a4903",
            "filename": "packages/next/src/compiled/@vercel/og/figma/index.d.ts",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ffigma%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ffigma%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ffigma%2Findex.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -0,0 +1,7 @@\n+import type { EdgeImageResponse } from '../index.edge';\n+import { FigmaImageResponseProps } from '../types';\n+type InternalFigmaImageResponseProps = FigmaImageResponseProps & {\n+    Response: EdgeImageResponse;\n+};\n+export declare const FigmaImageResponse: ({ url, template, fonts, imageResponseOptions, Response, }: InternalFigmaImageResponseProps) => Promise<import(\"../index.edge\").ImageResponse>;\n+export {};"
        },
        {
            "sha": "b79079fca08dedf93e6a39694605419682540627",
            "filename": "packages/next/src/compiled/@vercel/og/index.edge.d.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 9,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -1,11 +1,7 @@\n-import { ReactElement } from 'react';\n-import { I as ImageResponseOptions } from './types-d38469ff.js';\n-import \"next/dist/compiled/@vercel/og/satori\";\n-import 'http';\n-\n-declare class ImageResponse extends Response {\n+import type { ReactElement } from 'react';\n+import type { ImageResponseOptions, FigmaImageResponseProps } from './types';\n+export declare class ImageResponse extends Response {\n     constructor(element: ReactElement, options?: ImageResponseOptions);\n }\n-type EdgeImageResponse = typeof ImageResponse;\n-\n-export { EdgeImageResponse, ImageResponse, ImageResponseOptions };\n+export declare const experimental_FigmaImageResponse: (props: FigmaImageResponseProps) => Promise<ImageResponse>;\n+export type EdgeImageResponse = typeof ImageResponse;"
        },
        {
            "sha": "6b58b22e37f355d5fd5508f706c3140fca3e7665",
            "filename": "packages/next/src/compiled/@vercel/og/index.edge.js",
            "status": "modified",
            "additions": 2587,
            "deletions": 3024,
            "changes": 5611,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js?ref=e98f958908ff54680a766523999694bd24ad8f07"
        },
        {
            "sha": "f9eec091641047a46392f730f3bf2a3533db2201",
            "filename": "packages/next/src/compiled/@vercel/og/index.node.d.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 10,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -1,10 +1,8 @@\n-import { ReactElement } from 'react';\n-import { I as ImageResponseOptions, a as ImageResponseNodeOptions } from './types-d38469ff.js';\n+/// <reference types=\"node\" />\n+import type { ReactElement } from 'react';\n+import type { ImageResponseNodeOptions, ImageResponseOptions, FigmaImageResponseProps } from './types';\n import { Readable } from 'stream';\n-import \"next/dist/compiled/@vercel/og/satori\";\n-import 'http';\n-\n-declare class ImageResponse extends Response {\n+export declare class ImageResponse extends Response {\n     constructor(element: ReactElement, options?: ImageResponseOptions);\n }\n /**\n@@ -24,7 +22,6 @@ declare class ImageResponse extends Response {\n  * }\n  * ```\n  */\n-declare function unstable_createNodejsStream(element: ReactElement, options?: Omit<ImageResponseNodeOptions, 'status' | 'statusText' | 'headers'>): Promise<Readable>;\n-type NodeImageResponse = typeof ImageResponse;\n-\n-export { ImageResponse, ImageResponseOptions, NodeImageResponse, unstable_createNodejsStream };\n+export declare function unstable_createNodejsStream(element: ReactElement, options?: Omit<ImageResponseNodeOptions, 'status' | 'statusText' | 'headers'>): Promise<Readable>;\n+export declare const experimental_FigmaImageResponse: (props: FigmaImageResponseProps) => Promise<import(\"./index.edge\").ImageResponse>;\n+export type NodeImageResponse = typeof ImageResponse;"
        },
        {
            "sha": "079b0b93ece432ffd579d09c6e5ca0eb79e08693",
            "filename": "packages/next/src/compiled/@vercel/og/index.node.js",
            "status": "modified",
            "additions": 2585,
            "deletions": 3022,
            "changes": 5607,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js?ref=e98f958908ff54680a766523999694bd24ad8f07"
        },
        {
            "sha": "0bfd4d76cde83632e0e5d2478466a83f4d75656a",
            "filename": "packages/next/src/compiled/@vercel/og/language/index.d.ts",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Flanguage%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Flanguage%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Flanguage%2Findex.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -0,0 +1,28 @@\n+export declare class FontDetector {\n+    private rangesByLang;\n+    detect(text: string, fonts: string[]): Promise<{\n+        [lang: string]: string;\n+    }>;\n+    private detectSegment;\n+    private load;\n+    private addDetectors;\n+}\n+export declare const languageFontMap: {\n+    'ja-JP': string;\n+    'ko-KR': string;\n+    'zh-CN': string;\n+    'zh-TW': string;\n+    'zh-HK': string;\n+    'th-TH': string;\n+    'bn-IN': string;\n+    'ar-AR': string;\n+    'ta-IN': string;\n+    'ml-IN': string;\n+    'he-IL': string;\n+    'te-IN': string;\n+    devanagari: string;\n+    kannada: string;\n+    symbol: string[];\n+    math: string;\n+    unknown: string;\n+};"
        },
        {
            "sha": "f2751b99bb730b0fbb0fb82ecb68a2b10f5dfb81",
            "filename": "packages/next/src/compiled/@vercel/og/og.d.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fog.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fog.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fog.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -0,0 +1 @@\n+export default function render(satori: any, resvg: any, opts: any, defaultFonts: any, element: any): Promise<Uint8Array>;"
        },
        {
            "sha": "efe9568ba0d47dcb9e7b8a39e70b91730131d218",
            "filename": "packages/next/src/compiled/@vercel/og/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vercel/og\",\n-  \"version\": \"0.8.5\",\n+  \"version\": \"0.7.2\",\n   \"license\": \"MPL-2.0\",\n   \"type\": \"module\",\n   \"main\": \"./index.node.js\","
        },
        {
            "sha": "2d0b2d18bc9d20f613808fa57c3dbf182ca7b999",
            "filename": "packages/next/src/compiled/@vercel/og/satori/index.d.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fsatori%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fsatori%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fsatori%2Findex.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -1,4 +1,5 @@\n import { ReactNode } from 'react';\n+type Yoga = any;\n \n declare const code: {\n     readonly 'ja-JP': RegExp;\n@@ -148,6 +149,8 @@ interface SatoriNode {\n     textContent?: string;\n }\n \n+declare function init(yoga: Yoga): void;\n+\n type SatoriOptions = ({\n     width: number;\n     height: number;\n@@ -168,4 +171,4 @@ type SatoriOptions = ({\n \n declare function satori(element: ReactNode, options: SatoriOptions): Promise<string>;\n \n-export { FontOptions as Font, FontStyle, Weight as FontWeight, Locale, SatoriNode, SatoriOptions, satori as default };\n+export { FontOptions as Font, FontStyle, Weight as FontWeight, Locale, SatoriNode, SatoriOptions, satori as default, init };"
        },
        {
            "sha": "a5854a4d78cb0941f4b645102eb4ec0d00aa5ebf",
            "filename": "packages/next/src/compiled/@vercel/og/types-d38469ff.d.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 74,
            "changes": 74,
            "blob_url": "https://github.com/vercel/next.js/blob/d2f9c0f918f5906b9a8235d4edc4f9f91863ee24/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes-d38469ff.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/d2f9c0f918f5906b9a8235d4edc4f9f91863ee24/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes-d38469ff.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes-d38469ff.d.ts?ref=d2f9c0f918f5906b9a8235d4edc4f9f91863ee24",
            "patch": "@@ -1,74 +0,0 @@\n-import { SatoriOptions } from \"next/dist/compiled/@vercel/og/satori\";\n-import { OutgoingHttpHeader } from 'http';\n-\n-declare const apis: {\n-    twemoji: (code: any) => string;\n-    openmoji: string;\n-    blobmoji: string;\n-    noto: string;\n-    fluent: (code: any) => string;\n-    fluentFlat: (code: any) => string;\n-};\n-type EmojiType = keyof typeof apis;\n-\n-type ImageOptions = {\n-    /**\n-     * The width of the image.\n-     *\n-     * @type {number}\n-     * @default 1200\n-     */\n-    width?: number;\n-    /**\n-     * The height of the image.\n-     *\n-     * @type {number}\n-     * @default 630\n-     */\n-    height?: number;\n-    /**\n-     * Display debug information on the image.\n-     *\n-     * @type {boolean}\n-     * @default false\n-     */\n-    debug?: boolean;\n-    /**\n-     * A list of fonts to use.\n-     *\n-     * @type {{ data: ArrayBuffer; name: string; weight?: 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900; style?: 'normal' | 'italic' }[]}\n-     * @default Noto Sans Latin Regular.\n-     */\n-    fonts?: SatoriOptions['fonts'];\n-    /**\n-     * Using a specific Emoji style. Defaults to `twemoji`.\n-     *\n-     * @type {EmojiType}\n-     * @default 'twemoji'\n-     */\n-    emoji?: EmojiType;\n-};\n-type ImageResponseNodeOptions = ImageOptions & {\n-    status?: number;\n-    statusText?: string;\n-    headers?: OutgoingHttpHeader[];\n-};\n-type ImageResponseOptions = ImageOptions & ConstructorParameters<typeof Response>[1];\n-declare module 'react' {\n-    interface HTMLAttributes<T> {\n-        /**\n-         * Specify styles using Tailwind CSS classes. This feature is currently experimental.\n-         * If `style` prop is also specified, styles generated with `tw` prop will be overridden.\n-         *\n-         * Example:\n-         * - `tw='w-full h-full bg-blue-200'`\n-         * - `tw='text-9xl'`\n-         * - `tw='text-[80px]'`\n-         *\n-         * @type {string}\n-         */\n-        tw?: string;\n-    }\n-}\n-\n-export { ImageResponseOptions as I, ImageResponseNodeOptions as a };"
        },
        {
            "sha": "9555113849f11edd51cc6f0815e150ea156544f4",
            "filename": "packages/next/src/compiled/@vercel/og/types.d.ts",
            "status": "added",
            "additions": 118,
            "deletions": 0,
            "changes": 118,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -0,0 +1,118 @@\n+/// <reference types=\"node\" />\n+/// <reference types=\"react\" />\n+/// <reference types=\"node\" />\n+/// <reference types=\"node\" />\n+import type { SatoriOptions } from \"next/dist/compiled/@vercel/og/satori\";\n+import type { EmojiType } from './emoji';\n+import type { OutgoingHttpHeader } from 'http';\n+type ImageOptions = {\n+    /**\n+     * The width of the image.\n+     *\n+     * @type {number}\n+     * @default 1200\n+     */\n+    width?: number;\n+    /**\n+     * The height of the image.\n+     *\n+     * @type {number}\n+     * @default 630\n+     */\n+    height?: number;\n+    /**\n+     * Display debug information on the image.\n+     *\n+     * @type {boolean}\n+     * @default false\n+     */\n+    debug?: boolean;\n+    /**\n+     * A list of fonts to use.\n+     *\n+     * @type {{ data: ArrayBuffer; name: string; weight?: 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900; style?: 'normal' | 'italic' }[]}\n+     * @default Noto Sans Latin Regular.\n+     */\n+    fonts?: SatoriOptions['fonts'];\n+    /**\n+     * Using a specific Emoji style. Defaults to `twemoji`.\n+     *\n+     * @type {EmojiType}\n+     * @default 'twemoji'\n+     */\n+    emoji?: EmojiType;\n+};\n+export type ImageResponseNodeOptions = ImageOptions & {\n+    status?: number;\n+    statusText?: string;\n+    headers?: OutgoingHttpHeader[];\n+};\n+export type ImageResponseOptions = ImageOptions & ConstructorParameters<typeof Response>[1];\n+export interface FigmaImageResponseProps {\n+    /**\n+     * Link to the Figma template frame.\n+     *\n+     * You can get the URL in Figma by right-clicking a frame and selecting \"Copy link\".\n+     * @example https://www.figma.com/file/QjGNQixWnhu300e1Xzdl2y/OG-Images?type=design&node-id=11356-2443&mode=design&t=yLROd7ro8mP1PxMY-4\n+     */\n+    url: string;\n+    /**\n+     * A mapping between Figma layer name and the value you want to replace it with.\n+     *\n+     * @example Sets Figma text layer named \"Title\" to \"How to create OG Images\"\n+     * ```js\n+     *  { \"Title\": \"How to create OG Images\" }\n+     * ```\n+     *\n+     * @example Sets multiple Figma text layers and provides custom styles\n+     * ```js\n+     * {\n+     *   \"Title\": { value: \"How to create OG Images\", props: { color: \"red\", centerHorizontally: true } },\n+     *   \"Description\": { value: \"A short story\", props: { centerHorizontally: true } },\n+     * }\n+     * ```\n+     *\n+     * `centerHorizontally` centers text layer horizontally.\n+     */\n+    template: Record<string, FigmaComplexTemplate | string>;\n+    /**\n+     * The font names must match the font names in Figma.\n+     */\n+    fonts?: FontOptions[];\n+    /**\n+     * The same as {@link ImageResponseOptions} except `width` and `height`. `width` and `height` are automatically set from the Figma frame's size.\n+     */\n+    imageResponseOptions?: Omit<ImageResponseOptions, 'width' | 'height'>;\n+}\n+export interface FigmaComplexTemplate {\n+    value: string;\n+    props?: {\n+        centerHorizontally?: boolean;\n+    } & React.CSSProperties;\n+}\n+type Weight = 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\n+type Style = 'normal' | 'italic';\n+interface FontOptions {\n+    data: Buffer | ArrayBuffer;\n+    name: string;\n+    weight?: Weight;\n+    style?: Style;\n+    lang?: string;\n+}\n+declare module 'react' {\n+    interface HTMLAttributes<T> {\n+        /**\n+         * Specify styles using Tailwind CSS classes. This feature is currently experimental.\n+         * If `style` prop is also specified, styles generated with `tw` prop will be overridden.\n+         *\n+         * Example:\n+         * - `tw='w-full h-full bg-blue-200'`\n+         * - `tw='text-9xl'`\n+         * - `tw='text-[80px]'`\n+         *\n+         * @type {string}\n+         */\n+        tw?: string;\n+    }\n+}\n+export {};"
        },
        {
            "sha": "7355265babad3f324e082bcf67870daab17f4b2c",
            "filename": "packages/next/src/compiled/@vercel/og/yoga.wasm",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fyoga.wasm",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fyoga.wasm",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fyoga.wasm?ref=e98f958908ff54680a766523999694bd24ad8f07"
        },
        {
            "sha": "01f4937f0b736445c49d26c4ee1f7026f2520a51",
            "filename": "packages/next/taskfile.js",
            "status": "modified",
            "additions": 12,
            "deletions": 4,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Ftaskfile.js",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/packages%2Fnext%2Ftaskfile.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftaskfile.js?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -200,6 +200,15 @@ export async function copy_vercel_og(task, opts) {\n     .source(\n       join(dirname(require.resolve('satori/package.json')), 'dist/index.d.ts')\n     )\n+    // eslint-disable-next-line require-yield\n+    .run({ every: true }, function* (file) {\n+      const source = file.data.toString()\n+      // Ignore yoga-wasm-web types\n+      file.data = source.replace(\n+        /import { Yoga } from ['\"]yoga-wasm-web['\"]/g,\n+        'type Yoga = any'\n+      )\n+    })\n     .target('src/compiled/@vercel/og/satori')\n   await task\n     .source(join(dirname(require.resolve('satori/package.json')), 'LICENSE'))\n@@ -216,10 +225,9 @@ export async function copy_vercel_og(task, opts) {\n     .run({ every: true }, function* (file) {\n       const source = file.data.toString()\n       // Refers to copied satori types\n-      file.data = source.replace(\n-        /['\"]satori['\"]/g,\n-        '\"next/dist/compiled/@vercel/og/satori\"'\n-      )\n+      file.data = source\n+        .replace(/['\"]satori['\"]/g, '\"next/dist/compiled/@vercel/og/satori\"')\n+        .replace(\"typeof import('@resvg/resvg-wasm')\", 'any')\n     })\n     .target('src/compiled/@vercel/og')\n "
        },
        {
            "sha": "257fe44ebf72bae41e66d602b3aef438912b094f",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 16,
            "deletions": 15,
            "changes": 31,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -227,8 +227,8 @@ importers:\n         specifier: 6.1.1\n         version: 6.1.1(@types/node-fetch@2.6.1)(node-fetch@2.6.7(encoding@0.1.13))\n       '@vercel/og':\n-        specifier: 0.8.5\n-        version: 0.8.5\n+        specifier: 0.7.2\n+        version: 0.7.2\n       abort-controller:\n         specifier: 3.0.0\n         version: 3.0.0\n@@ -542,8 +542,8 @@ importers:\n         specifier: 1.54.0\n         version: 1.54.0\n       satori:\n-        specifier: 0.16.0\n-        version: 0.16.0\n+        specifier: 0.15.2\n+        version: 0.15.2\n       scheduler-builtin:\n         specifier: npm:scheduler@0.27.0-canary-9784cb37-20250730\n         version: scheduler@0.27.0-canary-9784cb37-20250730\n@@ -6066,8 +6066,8 @@ packages:\n     engines: {node: '>=16'}\n     hasBin: true\n \n-  '@vercel/og@0.8.5':\n-    resolution: {integrity: sha512-fHqnxfBYcwkamlEgcIzaZqL8IHT09hR7FZL7UdMTdGJyoaBzM/dY6ulO5Swi4ig30FrBJI9I2C+GLV9sb9vexA==}\n+  '@vercel/og@0.7.2':\n+    resolution: {integrity: sha512-yOlbztkWaDtPOrCBsV66SpIZvIwRidAe3DiAYxDOjVj2H7HaJm1PDultH9PQO8J+PeT+mFQaNNSxS9yUTo7i9A==}\n     engines: {node: '>=16'}\n \n   '@vitest/expect@2.0.5':\n@@ -14790,8 +14790,8 @@ packages:\n     engines: {node: '>=14.0.0'}\n     hasBin: true\n \n-  satori@0.16.0:\n-    resolution: {integrity: sha512-ZvHN3ygzZ8FuxjSNB+mKBiF/NIoqHzlBGbD0MJiT+MvSsFOvotnWOhdTjxKzhHRT2wPC1QbhLzx2q/Y83VhfYQ==}\n+  satori@0.15.2:\n+    resolution: {integrity: sha512-vu/49vdc8MzV5jUchs3TIRDCOkOvMc1iJ11MrZvhg9tE4ziKIEIBjBZvies6a9sfM2vQ2gc3dXeu6rCK7AztHA==}\n     engines: {node: '>=16'}\n \n   sax@1.2.4:\n@@ -17005,8 +17005,8 @@ packages:\n     resolution: {integrity: sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==}\n     engines: {node: '>=10'}\n \n-  yoga-layout@3.2.1:\n-    resolution: {integrity: sha512-0LPOt3AxKqMdFBZA3HBAt/t/8vIKq7VaQYbuA8WxCgung+p9TVyKRYdpvCb80HcdTN2NkbIKbhNwKUfm3tQywQ==}\n+  yoga-wasm-web@0.3.3:\n+    resolution: {integrity: sha512-N+d4UJSJbt/R3wqY7Coqs5pcV0aUj2j9IaQ3rNj9bVCLld8tTGKRa2USARjnvZJWVx1NDmQev8EknoczaOQDOA==}\n \n   zod-validation-error@3.4.0:\n     resolution: {integrity: sha512-ZOPR9SVY6Pb2qqO5XHt+MkkTRxGXb4EVtnjc9JpXUOtUB1T9Ru7mZOT361AN3MsetVe7R0a1KZshJDZdgp9miQ==}\n@@ -22200,10 +22200,11 @@ snapshots:\n       - encoding\n       - supports-color\n \n-  '@vercel/og@0.8.5':\n+  '@vercel/og@0.7.2':\n     dependencies:\n       '@resvg/resvg-wasm': 2.4.0\n-      satori: 0.16.0\n+      satori: 0.15.2\n+      yoga-wasm-web: 0.3.3\n \n   '@vitest/expect@2.0.5':\n     dependencies:\n@@ -33293,7 +33294,7 @@ snapshots:\n       immutable: 4.3.7\n       source-map-js: 1.2.1\n \n-  satori@0.16.0:\n+  satori@0.15.2:\n     dependencies:\n       '@shuding/opentype.js': 1.4.0-beta.0\n       css-background-parser: 0.1.0\n@@ -33305,7 +33306,7 @@ snapshots:\n       linebreak: 1.1.0\n       parse-css-color: 0.2.1\n       postcss-value-parser: 4.2.0\n-      yoga-layout: 3.2.1\n+      yoga-wasm-web: 0.3.3\n \n   sax@1.2.4: {}\n \n@@ -35956,7 +35957,7 @@ snapshots:\n \n   yocto-queue@0.1.0: {}\n \n-  yoga-layout@3.2.1: {}\n+  yoga-wasm-web@0.3.3: {}\n \n   zod-validation-error@3.4.0(zod@3.25.76):\n     dependencies:"
        },
        {
            "sha": "f0f1cec60ae61dffb290e6dc36bd619b0af04a34",
            "filename": "test/e2e/app-dir/metadata-edge/index.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/e98f958908ff54680a766523999694bd24ad8f07/test%2Fe2e%2Fapp-dir%2Fmetadata-edge%2Findex.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e98f958908ff54680a766523999694bd24ad8f07/test%2Fe2e%2Fapp-dir%2Fmetadata-edge%2Findex.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-edge%2Findex.test.ts?ref=e98f958908ff54680a766523999694bd24ad8f07",
            "patch": "@@ -22,7 +22,7 @@ describe('app dir - Metadata API on the Edge runtime', () => {\n           (file) => {\n             return next\n               .readFileSync(path.join('.next', file))\n-              .includes('satori')\n+              .includes('experimental_FigmaImageResponse')\n           }\n         )\n         expect(pageFilesThatHaveImageResponse).not.toBeEmpty()\n@@ -40,7 +40,7 @@ describe('app dir - Metadata API on the Edge runtime', () => {\n               next\n                 .readFileSync(path.join('.next', file))\n                 // This export is not used but it checks if the `@vercel/og` package is shared between the two routes.\n-                .includes('satori')\n+                .includes('experimental_FigmaImageResponse')\n             )\n           }\n         )"
        }
    ],
    "stats": {
        "total": 11556,
        "additions": 5391,
        "deletions": 6165
    }
}