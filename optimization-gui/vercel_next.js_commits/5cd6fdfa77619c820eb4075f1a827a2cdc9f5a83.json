{
    "author": "sqidermad",
    "message": "docs: improve userAgent device.type example in userAgent.mdx (#78368)\n\n### What?\n\nUpdates the `userAgent` middleware example in the documentation to\naccurately reflect all possible values of `device.type` and demonstrate\nproper handling of desktop browsers (undefined case).\n\n### Why?\n\nThe current example shows a binary mobile/desktop check which doesn't\naccurately reflect the API's capabilities. The `device.type` property\ncan actually return multiple values ('mobile', 'tablet', 'console',\n'smarttv', 'wearable', 'embedded', or undefined), but the example only\nshows handling of 'mobile', which could mislead developers.\n\n### How?\n\n- Updated both TypeScript and JavaScript examples to:\n1. Add comprehensive comments documenting all possible `device.type`\nvalues\n2. Use proper undefined handling with the OR operator for desktop\nbrowsers\n  3. Maintain consistency between TS and JS versions\n  4. Better align with the documented behavior in the API reference\n- Ran `pnpm prettier-fix` to ensure proper formatting\n- Followed the [Docs Contribution\nGuide](https://nextjs.org/docs/community/contribution-guide)\n\nThe changes help developers better understand:\n- The full range of device types they can detect\n- How desktop browsers return undefined\n- The proper way to handle device type detection\n- Consistency with the rest of the API documentation\n\n### Checklist\n\n- [x] Read the [Docs Contribution\nGuide](https://nextjs.org/docs/community/contribution-guide)\n- [x] Ran `pnpm prettier-fix` to fix formatting issues\n- [x] Ensured examples are clear and follow documentation best practices\n- [x] Maintained consistency with existing documentation style\n- [x] Verified the accuracy of the technical information\n\n---------\n\nCo-authored-by: JJ Kasper <jj@jjsweb.site>",
    "sha": "5cd6fdfa77619c820eb4075f1a827a2cdc9f5a83",
    "files": [
        {
            "sha": "3eb8bc38c7bfa74100c4c672a07b9db64b5babf1",
            "filename": "docs/01-app/05-api-reference/04-functions/userAgent.mdx",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/5cd6fdfa77619c820eb4075f1a827a2cdc9f5a83/docs%2F01-app%2F05-api-reference%2F04-functions%2FuserAgent.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/5cd6fdfa77619c820eb4075f1a827a2cdc9f5a83/docs%2F01-app%2F05-api-reference%2F04-functions%2FuserAgent.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2FuserAgent.mdx?ref=5cd6fdfa77619c820eb4075f1a827a2cdc9f5a83",
            "patch": "@@ -13,7 +13,11 @@ import { NextRequest, NextResponse, userAgent } from 'next/server'\n export function middleware(request: NextRequest) {\n   const url = request.nextUrl\n   const { device } = userAgent(request)\n-  const viewport = device.type === 'mobile' ? 'mobile' : 'desktop'\n+\n+  // device.type can be: 'mobile', 'tablet', 'console', 'smarttv',\n+  // 'wearable', 'embedded', or undefined (for desktop browsers)\n+  const viewport = device.type || 'desktop'\n+\n   url.searchParams.set('viewport', viewport)\n   return NextResponse.rewrite(url)\n }\n@@ -25,7 +29,11 @@ import { NextResponse, userAgent } from 'next/server'\n export function middleware(request) {\n   const url = request.nextUrl\n   const { device } = userAgent(request)\n-  const viewport = device.type === 'mobile' ? 'mobile' : 'desktop'\n+\n+  // device.type can be: 'mobile', 'tablet', 'console', 'smarttv',\n+  // 'wearable', 'embedded', or undefined (for desktop browsers)\n+  const viewport = device.type || 'desktop'\n+\n   url.searchParams.set('viewport', viewport)\n   return NextResponse.rewrite(url)\n }"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 10,
        "deletions": 2
    }
}