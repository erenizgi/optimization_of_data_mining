{
    "author": "gaojude",
    "message": "doc: onNavigate follow-up (#77805)\n\nFix the logic when user explicitly wants to leave the page but\nnavigation is blocked.",
    "sha": "a14d013766c4e865e5fbbbe98bcc93f5800cbda8",
    "files": [
        {
            "sha": "e975fa0819a60d02823a4a80ccb9d5db7a291a5f",
            "filename": "docs/01-app/04-api-reference/02-components/link.mdx",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/a14d013766c4e865e5fbbbe98bcc93f5800cbda8/docs%2F01-app%2F04-api-reference%2F02-components%2Flink.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/a14d013766c4e865e5fbbbe98bcc93f5800cbda8/docs%2F01-app%2F04-api-reference%2F02-components%2Flink.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F04-api-reference%2F02-components%2Flink.mdx?ref=a14d013766c4e865e5fbbbe98bcc93f5800cbda8",
            "patch": "@@ -1362,11 +1362,11 @@ export function CustomLink({ children, ...props }: CustomLinkProps) {\n   return (\n     <Link\n       onNavigate={(e) => {\n-        if (isBlocked) {\n+        if (\n+          isBlocked &&\n+          !window.confirm('You have unsaved changes. Leave anyway?')\n+        ) {\n           e.preventDefault()\n-          if (!window.confirm('You have unsaved changes. Leave anyway?')) {\n-            e.preventDefault()\n-          }\n         }\n       }}\n       {...props}\n@@ -1389,11 +1389,11 @@ export function CustomLink({ children, ...props }) {\n   return (\n     <Link\n       onNavigate={(e) => {\n-        if (isBlocked) {\n+        if (\n+          isBlocked &&\n+          !window.confirm('You have unsaved changes. Leave anyway?')\n+        ) {\n           e.preventDefault()\n-          if (!window.confirm('You have unsaved changes. Leave anyway?')) {\n-            e.preventDefault()\n-          }\n         }\n       }}\n       {...props}"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}