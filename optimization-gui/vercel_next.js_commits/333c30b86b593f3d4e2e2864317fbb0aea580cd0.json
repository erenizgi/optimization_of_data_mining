{
    "author": "styfle",
    "message": "fix(next/image): swap dependencies (#85419)\n\nSwapping `is-local-address` for `ipaddr.js`",
    "sha": "333c30b86b593f3d4e2e2864317fbb0aea580cd0",
    "files": [
        {
            "sha": "87540b5ad83b5d418c7e23f592dd0ca74d7c5ba0",
            "filename": "packages/next/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fpackage.json?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -270,8 +270,8 @@\n     \"icss-utils\": \"5.1.0\",\n     \"ignore-loader\": \"0.1.2\",\n     \"image-size\": \"1.2.1\",\n+    \"ipaddr.js\": \"2.2.0\",\n     \"is-docker\": \"2.0.0\",\n-    \"is-local-address\": \"2.2.2\",\n     \"is-wsl\": \"2.2.0\",\n     \"jest-worker\": \"27.5.1\",\n     \"json5\": \"2.2.3\","
        },
        {
            "sha": "f6b37b52dec6faa7f48b9d1be5da2ad9b883be2f",
            "filename": "packages/next/src/compiled/ipaddr.js/LICENSE",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2FLICENSE",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2FLICENSE",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2FLICENSE?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -0,0 +1,19 @@\n+Copyright (C) 2011-2017 whitequark <whitequark@whitequark.org>\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in\n+all copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+THE SOFTWARE."
        },
        {
            "sha": "7cdd61b0a1f58715c94f77151c1b4632642196c6",
            "filename": "packages/next/src/compiled/ipaddr.js/ipaddr.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2Fipaddr.js",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2Fipaddr.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2Fipaddr.js?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -0,0 +1 @@\n+(()=>{var t={104:function(t){(function(e){\"use strict\";const r=\"(0?\\\\d+|0x[a-f0-9]+)\";const n={fourOctet:new RegExp(`^${r}\\\\.${r}\\\\.${r}\\\\.${r}$`,\"i\"),threeOctet:new RegExp(`^${r}\\\\.${r}\\\\.${r}$`,\"i\"),twoOctet:new RegExp(`^${r}\\\\.${r}$`,\"i\"),longValue:new RegExp(`^${r}$`,\"i\")};const i=new RegExp(`^0[0-7]+$`,\"i\");const s=new RegExp(`^0x[a-f0-9]+$`,\"i\");const o=\"%[0-9a-z]{1,}\";const a=\"(?:[0-9a-f]+::?)+\";const p={zoneIndex:new RegExp(o,\"i\"),native:new RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${o})?$`,\"i\"),deprecatedTransitional:new RegExp(`^(?:::)(${r}\\\\.${r}\\\\.${r}\\\\.${r}(${o})?)$`,\"i\"),transitional:new RegExp(`^((?:${a})|(?:::)(?:${a})?)${r}\\\\.${r}\\\\.${r}\\\\.${r}(${o})?$`,\"i\")};function expandIPv6(t,e){if(t.indexOf(\"::\")!==t.lastIndexOf(\"::\")){return null}let r=0;let n=-1;let i=(t.match(p.zoneIndex)||[])[0];let s,o;if(i){i=i.substring(1);t=t.replace(/%.+$/,\"\")}while((n=t.indexOf(\":\",n+1))>=0){r++}if(t.substr(0,2)===\"::\"){r--}if(t.substr(-2,2)===\"::\"){r--}if(r>e){return null}o=e-r;s=\":\";while(o--){s+=\"0:\"}t=t.replace(\"::\",s);if(t[0]===\":\"){t=t.slice(1)}if(t[t.length-1]===\":\"){t=t.slice(0,-1)}e=function(){const e=t.split(\":\");const r=[];for(let t=0;t<e.length;t++){r.push(parseInt(e[t],16))}return r}();return{parts:e,zoneId:i}}function matchCIDR(t,e,r,n){if(t.length!==e.length){throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\")}let i=0;let s;while(n>0){s=r-n;if(s<0){s=0}if(t[i]>>s!==e[i]>>s){return false}n-=r;i+=1}return true}function parseIntAuto(t){if(s.test(t)){return parseInt(t,16)}if(t[0]===\"0\"&&!isNaN(parseInt(t[1],10))){if(i.test(t)){return parseInt(t,8)}throw new Error(`ipaddr: cannot parse ${t} as octal`)}return parseInt(t,10)}function padPart(t,e){while(t.length<e){t=`0${t}`}return t}const u={};u.IPv4=function(){function IPv4(t){if(t.length!==4){throw new Error(\"ipaddr: ipv4 octet count should be 4\")}let e,r;for(e=0;e<t.length;e++){r=t[e];if(!(0<=r&&r<=255)){throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\")}}this.octets=t}IPv4.prototype.SpecialRanges={unspecified:[[new IPv4([0,0,0,0]),8]],broadcast:[[new IPv4([255,255,255,255]),32]],multicast:[[new IPv4([224,0,0,0]),4]],linkLocal:[[new IPv4([169,254,0,0]),16]],loopback:[[new IPv4([127,0,0,0]),8]],carrierGradeNat:[[new IPv4([100,64,0,0]),10]],private:[[new IPv4([10,0,0,0]),8],[new IPv4([172,16,0,0]),12],[new IPv4([192,168,0,0]),16]],reserved:[[new IPv4([192,0,0,0]),24],[new IPv4([192,0,2,0]),24],[new IPv4([192,88,99,0]),24],[new IPv4([198,18,0,0]),15],[new IPv4([198,51,100,0]),24],[new IPv4([203,0,113,0]),24],[new IPv4([240,0,0,0]),4]],as112:[[new IPv4([192,175,48,0]),24],[new IPv4([192,31,196,0]),24]],amt:[[new IPv4([192,52,193,0]),24]]};IPv4.prototype.kind=function(){return\"ipv4\"};IPv4.prototype.match=function(t,e){let r;if(e===undefined){r=t;t=r[0];e=r[1]}if(t.kind()!==\"ipv4\"){throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\")}return matchCIDR(this.octets,t.octets,8,e)};IPv4.prototype.prefixLengthFromSubnetMask=function(){let t=0;let e=false;const r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let n,i,s;for(n=3;n>=0;n-=1){i=this.octets[n];if(i in r){s=r[i];if(e&&s!==0){return null}if(s!==8){e=true}t+=s}else{return null}}return 32-t};IPv4.prototype.range=function(){return u.subnetMatch(this,this.SpecialRanges)};IPv4.prototype.toByteArray=function(){return this.octets.slice(0)};IPv4.prototype.toIPv4MappedAddress=function(){return u.IPv6.parse(`::ffff:${this.toString()}`)};IPv4.prototype.toNormalizedString=function(){return this.toString()};IPv4.prototype.toString=function(){return this.octets.join(\".\")};return IPv4}();u.IPv4.broadcastAddressFromCIDR=function(t){try{const e=this.parseCIDR(t);const r=e[0].toByteArray();const n=this.subnetMaskFromPrefixLength(e[1]).toByteArray();const i=[];let s=0;while(s<4){i.push(parseInt(r[s],10)|parseInt(n[s],10)^255);s++}return new this(i)}catch(t){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}};u.IPv4.isIPv4=function(t){return this.parser(t)!==null};u.IPv4.isValid=function(t){try{new this(this.parser(t));return true}catch(t){return false}};u.IPv4.isValidCIDR=function(t){try{this.parseCIDR(t);return true}catch(t){return false}};u.IPv4.isValidFourPartDecimal=function(t){if(u.IPv4.isValid(t)&&t.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)){return true}else{return false}};u.IPv4.networkAddressFromCIDR=function(t){let e,r,n,i,s;try{e=this.parseCIDR(t);n=e[0].toByteArray();s=this.subnetMaskFromPrefixLength(e[1]).toByteArray();i=[];r=0;while(r<4){i.push(parseInt(n[r],10)&parseInt(s[r],10));r++}return new this(i)}catch(t){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}};u.IPv4.parse=function(t){const e=this.parser(t);if(e===null){throw new Error(\"ipaddr: string is not formatted like an IPv4 Address\")}return new this(e)};u.IPv4.parseCIDR=function(t){let e;if(e=t.match(/^(.+)\\/(\\d+)$/)){const t=parseInt(e[2]);if(t>=0&&t<=32){const r=[this.parse(e[1]),t];Object.defineProperty(r,\"toString\",{value:function(){return this.join(\"/\")}});return r}}throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\")};u.IPv4.parser=function(t){let e,r,i;if(e=t.match(n.fourOctet)){return function(){const t=e.slice(1,6);const n=[];for(let e=0;e<t.length;e++){r=t[e];n.push(parseIntAuto(r))}return n}()}else if(e=t.match(n.longValue)){i=parseIntAuto(e[1]);if(i>4294967295||i<0){throw new Error(\"ipaddr: address outside defined range\")}return function(){const t=[];let e;for(e=0;e<=24;e+=8){t.push(i>>e&255)}return t}().reverse()}else if(e=t.match(n.twoOctet)){return function(){const t=e.slice(1,4);const r=[];i=parseIntAuto(t[1]);if(i>16777215||i<0){throw new Error(\"ipaddr: address outside defined range\")}r.push(parseIntAuto(t[0]));r.push(i>>16&255);r.push(i>>8&255);r.push(i&255);return r}()}else if(e=t.match(n.threeOctet)){return function(){const t=e.slice(1,5);const r=[];i=parseIntAuto(t[2]);if(i>65535||i<0){throw new Error(\"ipaddr: address outside defined range\")}r.push(parseIntAuto(t[0]));r.push(parseIntAuto(t[1]));r.push(i>>8&255);r.push(i&255);return r}()}else{return null}};u.IPv4.subnetMaskFromPrefixLength=function(t){t=parseInt(t);if(t<0||t>32){throw new Error(\"ipaddr: invalid IPv4 prefix length\")}const e=[0,0,0,0];let r=0;const n=Math.floor(t/8);while(r<n){e[r]=255;r++}if(n<4){e[n]=Math.pow(2,t%8)-1<<8-t%8}return new this(e)};u.IPv6=function(){function IPv6(t,e){let r,n;if(t.length===16){this.parts=[];for(r=0;r<=14;r+=2){this.parts.push(t[r]<<8|t[r+1])}}else if(t.length===8){this.parts=t}else{throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\")}for(r=0;r<this.parts.length;r++){n=this.parts[r];if(!(0<=n&&n<=65535)){throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\")}}if(e){this.zoneId=e}}IPv6.prototype.SpecialRanges={unspecified:[new IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new IPv6([0,0,0,0,0,65535,0,0]),96],discard:[new IPv6([256,0,0,0,0,0,0,0]),64],rfc6145:[new IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new IPv6([100,65435,0,0,0,0,0,0]),96],\"6to4\":[new IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new IPv6([8193,0,0,0,0,0,0,0]),32],benchmarking:[new IPv6([8193,2,0,0,0,0,0,0]),48],amt:[new IPv6([8193,3,0,0,0,0,0,0]),32],as112v6:[[new IPv6([8193,4,274,0,0,0,0,0]),48],[new IPv6([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new IPv6([8193,16,0,0,0,0,0,0]),28],orchid2:[new IPv6([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new IPv6([8193,48,0,0,0,0,0,0]),28],reserved:[[new IPv6([8193,0,0,0,0,0,0,0]),23],[new IPv6([8193,3512,0,0,0,0,0,0]),32]]};IPv6.prototype.isIPv4MappedAddress=function(){return this.range()===\"ipv4Mapped\"};IPv6.prototype.kind=function(){return\"ipv6\"};IPv6.prototype.match=function(t,e){let r;if(e===undefined){r=t;t=r[0];e=r[1]}if(t.kind()!==\"ipv6\"){throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\")}return matchCIDR(this.parts,t.parts,16,e)};IPv6.prototype.prefixLengthFromSubnetMask=function(){let t=0;let e=false;const r={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let n,i;for(let s=7;s>=0;s-=1){n=this.parts[s];if(n in r){i=r[n];if(e&&i!==0){return null}if(i!==16){e=true}t+=i}else{return null}}return 128-t};IPv6.prototype.range=function(){return u.subnetMatch(this,this.SpecialRanges)};IPv6.prototype.toByteArray=function(){let t;const e=[];const r=this.parts;for(let n=0;n<r.length;n++){t=r[n];e.push(t>>8);e.push(t&255)}return e};IPv6.prototype.toFixedLengthString=function(){const t=function(){const t=[];for(let e=0;e<this.parts.length;e++){t.push(padPart(this.parts[e].toString(16),4))}return t}.call(this).join(\":\");let e=\"\";if(this.zoneId){e=`%${this.zoneId}`}return t+e};IPv6.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress()){throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\")}const t=this.parts.slice(-2);const e=t[0];const r=t[1];return new u.IPv4([e>>8,e&255,r>>8,r&255])};IPv6.prototype.toNormalizedString=function(){const t=function(){const t=[];for(let e=0;e<this.parts.length;e++){t.push(this.parts[e].toString(16))}return t}.call(this).join(\":\");let e=\"\";if(this.zoneId){e=`%${this.zoneId}`}return t+e};IPv6.prototype.toRFC5952String=function(){const t=/((^|:)(0(:|$)){2,})/g;const e=this.toNormalizedString();let r=0;let n=-1;let i;while(i=t.exec(e)){if(i[0].length>n){r=i.index;n=i[0].length}}if(n<0){return e}return`${e.substring(0,r)}::${e.substring(r+n)}`};IPv6.prototype.toString=function(){return this.toRFC5952String()};return IPv6}();u.IPv6.broadcastAddressFromCIDR=function(t){try{const e=this.parseCIDR(t);const r=e[0].toByteArray();const n=this.subnetMaskFromPrefixLength(e[1]).toByteArray();const i=[];let s=0;while(s<16){i.push(parseInt(r[s],10)|parseInt(n[s],10)^255);s++}return new this(i)}catch(t){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${t})`)}};u.IPv6.isIPv6=function(t){return this.parser(t)!==null};u.IPv6.isValid=function(t){if(typeof t===\"string\"&&t.indexOf(\":\")===-1){return false}try{const e=this.parser(t);new this(e.parts,e.zoneId);return true}catch(t){return false}};u.IPv6.isValidCIDR=function(t){if(typeof t===\"string\"&&t.indexOf(\":\")===-1){return false}try{this.parseCIDR(t);return true}catch(t){return false}};u.IPv6.networkAddressFromCIDR=function(t){let e,r,n,i,s;try{e=this.parseCIDR(t);n=e[0].toByteArray();s=this.subnetMaskFromPrefixLength(e[1]).toByteArray();i=[];r=0;while(r<16){i.push(parseInt(n[r],10)&parseInt(s[r],10));r++}return new this(i)}catch(t){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${t})`)}};u.IPv6.parse=function(t){const e=this.parser(t);if(e.parts===null){throw new Error(\"ipaddr: string is not formatted like an IPv6 Address\")}return new this(e.parts,e.zoneId)};u.IPv6.parseCIDR=function(t){let e,r,n;if(r=t.match(/^(.+)\\/(\\d+)$/)){e=parseInt(r[2]);if(e>=0&&e<=128){n=[this.parse(r[1]),e];Object.defineProperty(n,\"toString\",{value:function(){return this.join(\"/\")}});return n}}throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\")};u.IPv6.parser=function(t){let e,r,n,i,s,o;if(n=t.match(p.deprecatedTransitional)){return this.parser(`::ffff:${n[1]}`)}if(p.native.test(t)){return expandIPv6(t,8)}if(n=t.match(p.transitional)){o=n[6]||\"\";e=n[1];if(!n[1].endsWith(\"::\")){e=e.slice(0,-1)}e=expandIPv6(e+o,6);if(e.parts){s=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])];for(r=0;r<s.length;r++){i=s[r];if(!(0<=i&&i<=255)){return null}}e.parts.push(s[0]<<8|s[1]);e.parts.push(s[2]<<8|s[3]);return{parts:e.parts,zoneId:e.zoneId}}}return null};u.IPv6.subnetMaskFromPrefixLength=function(t){t=parseInt(t);if(t<0||t>128){throw new Error(\"ipaddr: invalid IPv6 prefix length\")}const e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let r=0;const n=Math.floor(t/8);while(r<n){e[r]=255;r++}if(n<16){e[n]=Math.pow(2,t%8)-1<<8-t%8}return new this(e)};u.fromByteArray=function(t){const e=t.length;if(e===4){return new u.IPv4(t)}else if(e===16){return new u.IPv6(t)}else{throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\")}};u.isValid=function(t){return u.IPv6.isValid(t)||u.IPv4.isValid(t)};u.isValidCIDR=function(t){return u.IPv6.isValidCIDR(t)||u.IPv4.isValidCIDR(t)};u.parse=function(t){if(u.IPv6.isValid(t)){return u.IPv6.parse(t)}else if(u.IPv4.isValid(t)){return u.IPv4.parse(t)}else{throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\")}};u.parseCIDR=function(t){try{return u.IPv6.parseCIDR(t)}catch(e){try{return u.IPv4.parseCIDR(t)}catch(t){throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\")}}};u.process=function(t){const e=this.parse(t);if(e.kind()===\"ipv6\"&&e.isIPv4MappedAddress()){return e.toIPv4Address()}else{return e}};u.subnetMatch=function(t,e,r){let n,i,s,o;if(r===undefined||r===null){r=\"unicast\"}for(i in e){if(Object.prototype.hasOwnProperty.call(e,i)){s=e[i];if(s[0]&&!(s[0]instanceof Array)){s=[s]}for(n=0;n<s.length;n++){o=s[n];if(t.kind()===o[0].kind()&&t.match.apply(t,o)){return i}}}}return r};if(true&&t.exports){t.exports=u}else{e.ipaddr=u}})(this)}};var e={};function __nccwpck_require__(r){var n=e[r];if(n!==undefined){return n.exports}var i=e[r]={exports:{}};var s=true;try{t[r].call(i.exports,i,i.exports,__nccwpck_require__);s=false}finally{if(s)delete e[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(104);module.exports=r})();\n\\ No newline at end of file"
        },
        {
            "sha": "e463e02b42b3cafa387d37b7f35a8dae814fa4f1",
            "filename": "packages/next/src/compiled/ipaddr.js/package.json",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Fipaddr.js%2Fpackage.json?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -0,0 +1 @@\n+{\"name\":\"ipaddr.js\",\"main\":\"ipaddr.js\",\"author\":\"whitequark <whitequark@whitequark.org>\",\"license\":\"MIT\"}"
        },
        {
            "sha": "034f63037d60e4e68dbb4f49dd82e159730ad714",
            "filename": "packages/next/src/compiled/is-local-address/index.js",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/c72b4263af70bda1cf0a70ccdfd25c34e10c72a5/packages%2Fnext%2Fsrc%2Fcompiled%2Fis-local-address%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c72b4263af70bda1cf0a70ccdfd25c34e10c72a5/packages%2Fnext%2Fsrc%2Fcompiled%2Fis-local-address%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Fis-local-address%2Findex.js?ref=c72b4263af70bda1cf0a70ccdfd25c34e10c72a5",
            "patch": "@@ -1 +0,0 @@\n-(()=>{\"use strict\";var e={555:(e,f,a)=>{e.exports=e=>a(276)(e)||a(628)(e)},276:e=>{const f=[\"0(?:\\\\.\\\\d{1,3}){3}\",\"10(?:\\\\.\\\\d{1,3}){3}\",\"127(?:\\\\.\\\\d{1,3}){3}\",\"169\\\\.254\\\\.(?:[1-9]|1?\\\\d\\\\d|2[0-4]\\\\d|25[0-4])\\\\.\\\\d{1,3}\",\"172\\\\.(?:1[6-9]|2\\\\d|3[01])(?:\\\\.\\\\d{1,3}){2}\",\"192\\\\.(?:0\\\\.0(?:\\\\.\\\\d{1,3})|0\\\\.2(?:\\\\.\\\\d{1,3})|168(?:\\\\.\\\\d{1,3}){2})\",\"100\\\\.(?:6[4-9]|[7-9]\\\\d|1[01]\\\\d|12[0-7])(?:\\\\.\\\\d{1,3}){2}\",\"198\\\\.(?:1[89](?:\\\\.\\\\d{1,3}){2}|51\\\\.100(?:\\\\.\\\\d{1,3}))\",\"203\\\\.0\\\\.113(?:\\\\.\\\\d{1,3})\",\"22[4-9](?:\\\\.\\\\d{1,3}){3}|23[0-9](?:\\\\.\\\\d{1,3}){3}\",\"24[0-9](?:\\\\.\\\\d{1,3}){3}|25[0-5](?:\\\\.\\\\d{1,3}){3}\",\"localhost\"];const a=new RegExp(`^(${f.join(\"|\")})$`);e.exports=a.test.bind(a);e.exports.regex=a},628:e=>{const f=[/^::f{4}:0?([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})$/,/^64:ff9b::([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})$/,/^100:(:[0-9a-fA-F]{0,4}){0,6}$/,/^2001:(:[0-9a-fA-F]{0,4}){0,6}$/,/^2001:1[0-9a-fA-F]:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/,/^2001:2[0-9a-fA-F]?:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/,/^2001:db8:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/,/^3fff:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/,/^f[b-d][0-9a-fA-F]{2}:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/i,/^fe[8-9a-bA-B][0-9a-fA-F]:/i,/^ff([0-9a-fA-F]{2,2}):/i,/^ff00:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/,/^::1?$/,/^fec0:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/i,/^2002:([0-9a-fA-F]{0,4}:){0,7}[0-9a-fA-F]{0,4}$/];const a=new RegExp(`^(${f.map((e=>e.source)).join(\"|\")})$`);e.exports=e=>{if(e.startsWith(\"[\")&&e.endsWith(\"]\")){e=e.slice(1,-1)}return a.test(e)};e.exports.regex=a}};var f={};function __nccwpck_require__(a){var r=f[a];if(r!==undefined){return r.exports}var d=f[a]={exports:{}};var t=true;try{e[a](d,d.exports,__nccwpck_require__);t=false}finally{if(t)delete f[a]}return d.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var a=__nccwpck_require__(555);module.exports=a})();\n\\ No newline at end of file"
        },
        {
            "sha": "61bbef852181e6438395042aca8ed693b7c2663c",
            "filename": "packages/next/src/compiled/is-local-address/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/c72b4263af70bda1cf0a70ccdfd25c34e10c72a5/packages%2Fnext%2Fsrc%2Fcompiled%2Fis-local-address%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c72b4263af70bda1cf0a70ccdfd25c34e10c72a5/packages%2Fnext%2Fsrc%2Fcompiled%2Fis-local-address%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Fis-local-address%2Fpackage.json?ref=c72b4263af70bda1cf0a70ccdfd25c34e10c72a5",
            "patch": "@@ -1 +0,0 @@\n-{\"name\":\"is-local-address\",\"main\":\"index.js\",\"author\":{\"email\":\"josefrancisco.verdu@gmail.com\",\"name\":\"Kiko Beats\",\"url\":\"https://kikobeats.com\"},\"license\":\"MIT\"}"
        },
        {
            "sha": "f5eedf450a4f3cdee2b28f2155a2b2ecd023dad7",
            "filename": "packages/next/src/server/image-optimizer.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fserver%2Fimage-optimizer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fserver%2Fimage-optimizer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fimage-optimizer.ts?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -6,7 +6,6 @@ import contentDisposition from 'next/dist/compiled/content-disposition'\n import imageSizeOf from 'next/dist/compiled/image-size'\n import { detector } from 'next/dist/compiled/image-detector/detector.js'\n import isAnimated from 'next/dist/compiled/is-animated'\n-import isLocalAddress from 'next/dist/compiled/is-local-address'\n import { join } from 'path'\n import nodeUrl, { type UrlWithParsedQuery } from 'url'\n \n@@ -28,6 +27,7 @@ import { sendEtagResponse } from './send-payload'\n import { getContentType, getExtension } from './serve-static'\n import * as Log from '../build/output/log'\n import isError from '../lib/is-error'\n+import { isPrivateIp } from './is-private-ip'\n import { parseUrl } from '../lib/url'\n import type { CacheControl } from './lib/cache-control'\n import { InvariantError } from '../shared/lib/invariant-error'\n@@ -724,7 +724,7 @@ export async function fetchExternalImage(\n       }).catch((_) => [{ address: hostname }])\n       ips = records.map((record) => record.address)\n     }\n-    const privateIps = ips.filter((ip) => isLocalAddress(ip))\n+    const privateIps = ips.filter((ip) => isPrivateIp(ip))\n     if (privateIps.length > 0) {\n       Log.error(\n         'upstream image',"
        },
        {
            "sha": "a018f71ba057e3a83fe56bffbffdc1b5b0ee9e16",
            "filename": "packages/next/src/server/is-private-ip.test.ts",
            "status": "added",
            "additions": 50,
            "deletions": 0,
            "changes": 50,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fserver%2Fis-private-ip.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fserver%2Fis-private-ip.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fis-private-ip.test.ts?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -0,0 +1,50 @@\n+import { isPrivateIp } from './is-private-ip'\n+\n+describe('isPrivateIp', () => {\n+  it('should return true for private ip addresses', () => {\n+    expect(isPrivateIp('127.0.0.0')).toBe(true)\n+    expect(isPrivateIp('127.0.0.1')).toBe(true)\n+    expect(isPrivateIp('127.0.0.01')).toBe(true)\n+    expect(isPrivateIp('127.0.0.001')).toBe(true)\n+    expect(isPrivateIp('0.0.0.0')).toBe(true)\n+    expect(isPrivateIp('10.0.0.0')).toBe(true)\n+    expect(isPrivateIp('10.244.0.0')).toBe(true)\n+    expect(isPrivateIp('192.168.0.0')).toBe(true)\n+    expect(isPrivateIp('192.168.0.1')).toBe(true)\n+    expect(isPrivateIp('192.168.0.01')).toBe(true)\n+    expect(isPrivateIp('172.16.0.0')).toBe(true)\n+    expect(isPrivateIp('172.16.0.1')).toBe(true)\n+    expect(isPrivateIp('172.16.0.01')).toBe(true)\n+    expect(isPrivateIp('192.168.0.1')).toBe(true)\n+    expect(isPrivateIp('192.168.0.01')).toBe(true)\n+    expect(isPrivateIp('169.254.169.254')).toBe(true)\n+    expect(isPrivateIp('::')).toBe(true)\n+    expect(isPrivateIp('::1')).toBe(true)\n+    expect(isPrivateIp('::ffff:0.0.0.0')).toBe(true)\n+    expect(isPrivateIp('::ffff:127.0.0.1')).toBe(true)\n+    expect(isPrivateIp('::ffff:7f00:1')).toBe(true)\n+    expect(isPrivateIp(new URL('http://0x7f000001').hostname)).toBe(true)\n+    expect(isPrivateIp('2001:2f:ffff:ffff:ffff:ffff:ffff:ffff')).toBe(true)\n+    expect(isPrivateIp('[2001:2f:ffff:ffff:ffff:ffff:ffff:ffff]')).toBe(true)\n+    expect(isPrivateIp('2002::')).toBe(true)\n+    expect(isPrivateIp('ff00::')).toBe(true)\n+  })\n+\n+  it('should return false for public ip addresses', () => {\n+    expect(isPrivateIp('76.76.21.21')).toBe(false)\n+    expect(isPrivateIp('157.240.14.35')).toBe(false)\n+    expect(isPrivateIp('8.8.8.8')).toBe(false)\n+    expect(isPrivateIp('1.1.1.1')).toBe(false)\n+    expect(isPrivateIp('::ffff:8.8.8.8')).toBe(false)\n+    expect(isPrivateIp('::ffff:1.1.1.1')).toBe(false)\n+    expect(isPrivateIp('2001:4860:4860::8888')).toBe(false)\n+    expect(isPrivateIp('2606:4700:4700::1111')).toBe(false)\n+  })\n+\n+  it('should return false for domains', () => {\n+    expect(isPrivateIp('vercel.com')).toBe(false)\n+    expect(isPrivateIp('www.vercel.com')).toBe(false)\n+    expect(isPrivateIp('nextjs.org')).toBe(false)\n+    expect(isPrivateIp('docs.nextjs.org')).toBe(false)\n+  })\n+})"
        },
        {
            "sha": "2933c379fd3ffdcbb4bcc24d08a39fe141d16149",
            "filename": "packages/next/src/server/is-private-ip.ts",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fserver%2Fis-private-ip.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Fsrc%2Fserver%2Fis-private-ip.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fis-private-ip.ts?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -0,0 +1,20 @@\n+import ipaddr from 'next/dist/compiled/ipaddr.js'\n+\n+export function isPrivateIp(ip: string): boolean {\n+  if (ip.startsWith('[') && ip.endsWith(']')) {\n+    ip = ip.slice(1, -1)\n+  }\n+  if (!ipaddr.isValid(ip)) {\n+    return false\n+  }\n+  try {\n+    let addr = ipaddr.parse(ip)\n+    if (addr.kind() === 'ipv6' && (addr as ipaddr.IPv6).isIPv4MappedAddress()) {\n+      addr = (addr as ipaddr.IPv6).toIPv4Address()\n+    }\n+    const range = addr.range()\n+    return range !== 'unicast'\n+  } catch (e) {\n+    return false\n+  }\n+}"
        },
        {
            "sha": "4707bdb6fca7873753765ebfd663ad989eb40b56",
            "filename": "packages/next/taskfile.js",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Ftaskfile.js",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Ftaskfile.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftaskfile.js?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -1218,12 +1218,12 @@ export async function ncc_is_animated(task, opts) {\n     .ncc({ packageName: 'is-animated', externals })\n     .target('src/compiled/is-animated')\n }\n-externals['is-local-address'] = 'next/dist/compiled/is-local-address'\n-export async function ncc_is_local_address(task, opts) {\n+externals['ipaddr.js'] = 'next/dist/compiled/ipaddr.js'\n+export async function ncc_ipaddr_js(task, opts) {\n   await task\n-    .source(relative(__dirname, require.resolve('is-local-address')))\n-    .ncc({ packageName: 'is-local-address', externals })\n-    .target('src/compiled/is-local-address')\n+    .source(relative(__dirname, require.resolve('ipaddr.js')))\n+    .ncc({ packageName: 'ipaddr.js', externals })\n+    .target('src/compiled/ipaddr.js')\n }\n externals['is-docker'] = 'next/dist/compiled/is-docker'\n export async function ncc_is_docker(task, opts) {\n@@ -2248,7 +2248,7 @@ export async function ncc(task, opts) {\n         'ncc_http_proxy',\n         'ncc_ignore_loader',\n         'ncc_is_animated',\n-        'ncc_is_local_address',\n+        'ncc_ipaddr_js',\n         'ncc_is_docker',\n         'ncc_is_wsl',\n         'ncc_json5',"
        },
        {
            "sha": "90beeab79d7634cef2e4944d1c097b8b8313684f",
            "filename": "packages/next/types/$$compiled.internal.d.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Ftypes%2F%24%24compiled.internal.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/packages%2Fnext%2Ftypes%2F%24%24compiled.internal.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftypes%2F%24%24compiled.internal.d.ts?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -860,8 +860,9 @@ declare module 'next/dist/compiled/is-animated' {\n   export default function isAnimated(buffer: Buffer): boolean\n }\n \n-declare module 'next/dist/compiled/is-local-address' {\n-  export default function isLocalAddress(ip: string): boolean\n+declare module 'next/dist/compiled/ipaddr.js' {\n+  import * as m from 'ipaddr.js'\n+  export = m\n }\n \n declare module 'next/dist/compiled/@opentelemetry/api' {"
        },
        {
            "sha": "bee95bffbe8389fe45cf31238556d97ef72238fd",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 15,
            "deletions": 134,
            "changes": 149,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -290,7 +290,7 @@ importers:\n         version: 5.2.1(eslint@9.37.0(jiti@2.5.1))\n       eslint-plugin-import:\n         specifier: 2.31.0\n-        version: 2.31.0(eslint@9.37.0(jiti@2.5.1))\n+        version: 2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))\n       eslint-plugin-jest:\n         specifier: 27.6.3\n         version: 27.6.3(eslint@9.37.0(jiti@2.5.1))(jest@29.7.0(@types/node@20.17.6(patch_hash=rvl3vkomen3tospgr67bzubfyu))(babel-plugin-macros@3.1.0))(typescript@5.9.2)\n@@ -663,7 +663,7 @@ importers:\n         version: 9.37.0(jiti@2.5.1)\n       eslint-config-next:\n         specifier: canary\n-        version: 16.0.0-canary.4(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n+        version: link:../../packages/eslint-config-next\n       tailwindcss:\n         specifier: 4.1.13\n         version: 4.1.13\n@@ -1442,12 +1442,12 @@ importers:\n       image-size:\n         specifier: 1.2.1\n         version: 1.2.1\n+      ipaddr.js:\n+        specifier: 2.2.0\n+        version: 2.2.0\n       is-docker:\n         specifier: 2.0.0\n         version: 2.0.0\n-      is-local-address:\n-        specifier: 2.2.2\n-        version: 2.2.2\n       is-wsl:\n         specifier: 2.2.0\n         version: 2.2.0\n@@ -4352,9 +4352,6 @@ packages:\n   '@next/env@15.5.3':\n     resolution: {integrity: sha512-RSEDTRqyihYXygx/OJXwvVupfr9m04+0vH8vyy0HfZ7keRto6VX9BbEk0J2PUk0VGy6YhklJUSrgForov5F9pw==}\n \n-  '@next/eslint-plugin-next@16.0.0-canary.4':\n-    resolution: {integrity: sha512-SOjzRNjH3VOoT76BUijKZYtE8syYqeJrvfZHLyNwBJ/P062lsozZRRGP/saZvJ9PKFsRa+DHi2GbJaCJWtrd7Q==}\n-\n   '@next/rspack-binding-android-arm-eabi@1.0.0':\n     resolution: {integrity: sha512-goiM4M2ZlT82qtR8e7X3fwYGBBJ4DdaIkMGLa1rgSclyNXvb5mOhiSug+FgzrLsYl0O0UAO7GCMuyiF2hD5nmA==}\n     cpu: [arm]\n@@ -5355,9 +5352,6 @@ packages:\n   '@rtsao/scc@1.1.0':\n     resolution: {integrity: sha512-zt6OdqaDoOnJ1ZYsCYGt9YmWzDXl4vQdKTyJev62gFhRGKdx7mcT54V9KIjg+d2wi9EXsPvAPKe7i7WjfVWB8g==}\n \n-  '@rushstack/eslint-patch@1.14.0':\n-    resolution: {integrity: sha512-WJFej426qe4RWOm9MMtP4V3CV4AucXolQty+GRgAWLgQXmpCuwzs7hEpxxhSc/znXUSxum9d/P/32MW0FlAAlA==}\n-\n   '@shikijs/core@3.12.2':\n     resolution: {integrity: sha512-L1Safnhra3tX/oJK5kYHaWmLEBJi1irASwewzY3taX5ibyXyMkkSDZlq01qigjryOBwrXSdFgTiZ3ryzSNeu7Q==}\n \n@@ -9268,15 +9262,6 @@ packages:\n     engines: {node: '>=6.0'}\n     hasBin: true\n \n-  eslint-config-next@16.0.0-canary.4:\n-    resolution: {integrity: sha512-lX16Q8gMFh8Hh6PN1BZWwbQfowYtghki/DUykDM6HRbAJv43HuDztIeDFeX3yE86SSjZmbwnBVkwujTRjuVb7w==}\n-    peerDependencies:\n-      eslint: ^7.23.0 || ^8.0.0 || ^9.0.0\n-      typescript: '>=3.3.1'\n-    peerDependenciesMeta:\n-      typescript:\n-        optional: true\n-\n   eslint-formatter-codeframe@7.32.1:\n     resolution: {integrity: sha512-DK/3Q3+zVKq/7PdSYiCxPrsDF8H/TRMK5n8Hziwr4IMkMy+XiKSwbpj25AdajS63I/B61Snetq4uVvX9fOLyAg==}\n     engines: {node: ^10.12.0 || >=12.0.0}\n@@ -9297,19 +9282,6 @@ packages:\n       eslint-plugin-import-x:\n         optional: true\n \n-  eslint-import-resolver-typescript@3.6.3:\n-    resolution: {integrity: sha512-ud9aw4szY9cCT1EWWdGv1L1XR6hh2PaRWif0j2QjQ0pgTY/69iw+W0Z4qZv5wHahOl8isEr+k/JnyAqNQkLkIA==}\n-    engines: {node: ^14.18.0 || >=16.0.0}\n-    peerDependencies:\n-      eslint: '*'\n-      eslint-plugin-import: '*'\n-      eslint-plugin-import-x: '*'\n-    peerDependenciesMeta:\n-      eslint-plugin-import:\n-        optional: true\n-      eslint-plugin-import-x:\n-        optional: true\n-\n   eslint-mdx@3.1.5:\n     resolution: {integrity: sha512-ynztX0k7CQ3iDL7fDEIeg3g0O/d6QPv7IBI9fdYLhXp5fAp0fi8X22xF/D3+Pk0f90R27uwqa1clHpay6t0l8Q==}\n     engines: {node: '>=18.0.0'}\n@@ -10962,6 +10934,10 @@ packages:\n     resolution: {integrity: sha512-LlbxQ7xKzfBusov6UMi4MFpEg0m+mAm9xyNGEduwXMEDuf4WfzB/RZwMVYEd7IKGvh4IUkEXYxtAVu9T3OelJQ==}\n     engines: {node: '>= 10'}\n \n+  ipaddr.js@2.2.0:\n+    resolution: {integrity: sha512-Ag3wB2o37wslZS19hZqorUnrnzSkpOVy+IiiDEiTqNubEYpYuHWIf6K4psgN2ZWKExS4xhVCrRVfb/wfW8fWJA==}\n+    engines: {node: '>= 10'}\n+\n   is-absolute-url@2.1.0:\n     resolution: {integrity: sha512-vOx7VprsKyllwjSkLV79NIhpyLfr3jAp7VaTCMXOJHu4m0Ew1CZ2fcjASwmV1jI3BWuWHB013M48eyeldk9gYg==}\n     engines: {node: '>=0.10.0'}\n@@ -11023,9 +10999,6 @@ packages:\n     resolution: {integrity: sha512-BSLE3HnV2syZ0FK0iMA/yUGplUeMmNz4AW5fnTunbCIqZi4vG3WjJT9FHMy5D69xmAYBHXQhJdALdpwVxV501A==}\n     engines: {node: '>=6'}\n \n-  is-bun-module@1.3.0:\n-    resolution: {integrity: sha512-DgXeu5UWI0IsMQundYb5UAOzm6G2eVnarJ0byP6Tm55iZNKceD59LNPA2L4VvsScTtHcw0yEkVwSf7PC+QoLSA==}\n-\n   is-bun-module@2.0.0:\n     resolution: {integrity: sha512-gNCGbnnnnFAUGKeZ9PdbyeGYJqewpmc2aKHUEMO5nQPWU9lOmv7jcmQIv+qHD8fXW6W7qfuCwX4rY9LNRjXrkQ==}\n \n@@ -11164,10 +11137,6 @@ packages:\n   is-lambda@1.0.1:\n     resolution: {integrity: sha512-z7CMFGNrENq5iFB9Bqo64Xk6Y9sg+epq1myIcdHaGnbMTYOxvzsEtdYqQUylB7LxfkvgrrjP32T6Ywciio9UIQ==}\n \n-  is-local-address@2.2.2:\n-    resolution: {integrity: sha512-0f589LeYFladIRZrCx1uVjkAlRF5CPGKDuJgbwVGceRN2Q691MFxH+epioG7krwIfnqcE+kw5MohzXYx2VX2ew==}\n-    engines: {node: '>= 10'}\n-\n   is-map@2.0.3:\n     resolution: {integrity: sha512-1Qed0/Hr2m+YqxnM09CjA2d/i6YZNfF6R2oRAOj36eUdS6qIV/huPJNSEpKbupewFs+ZsJlxsjjPbc0/afW6Lw==}\n     engines: {node: '>= 0.4'}\n@@ -14870,6 +14839,7 @@ packages:\n     engines: {node: '>=0.6.0', teleport: '>=0.2.0'}\n     deprecated: |-\n       You or someone you depend on is using Q, the JavaScript Promise library that gave JavaScript developers strong feelings about promises. They can almost certainly migrate to the native JavaScript promise now. Thank you literally everyone for joining me in this bet against the odds. Be excellent to each other.\n+\n       (For a CapTP with native promises, see @endo/eventual-send and @endo/captp)\n \n   qs@6.11.0:\n@@ -21160,10 +21130,6 @@ snapshots:\n \n   '@next/env@15.5.3': {}\n \n-  '@next/eslint-plugin-next@16.0.0-canary.4':\n-    dependencies:\n-      fast-glob: 3.3.1\n-\n   '@next/rspack-binding-android-arm-eabi@1.0.0':\n     optional: true\n \n@@ -22196,8 +22162,6 @@ snapshots:\n \n   '@rtsao/scc@1.1.0': {}\n \n-  '@rushstack/eslint-patch@1.14.0': {}\n-\n   '@shikijs/core@3.12.2':\n     dependencies:\n       '@shikijs/types': 3.12.2\n@@ -26857,26 +26821,6 @@ snapshots:\n     optionalDependencies:\n       source-map: 0.6.1\n \n-  eslint-config-next@16.0.0-canary.4(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2):\n-    dependencies:\n-      '@next/eslint-plugin-next': 16.0.0-canary.4\n-      '@rushstack/eslint-patch': 1.14.0\n-      '@typescript-eslint/eslint-plugin': 8.46.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n-      '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n-      eslint: 9.37.0(jiti@2.5.1)\n-      eslint-import-resolver-node: 0.3.9\n-      eslint-import-resolver-typescript: 3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1))\n-      eslint-plugin-import: 2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.6.3)(eslint@9.37.0(jiti@2.5.1))\n-      eslint-plugin-jsx-a11y: 6.10.2(eslint@9.37.0(jiti@2.5.1))\n-      eslint-plugin-react: 7.37.0(eslint@9.37.0(jiti@2.5.1))\n-      eslint-plugin-react-hooks: 7.0.0(eslint@9.37.0(jiti@2.5.1))\n-    optionalDependencies:\n-      typescript: 5.9.2\n-    transitivePeerDependencies:\n-      - eslint-import-resolver-webpack\n-      - eslint-plugin-import-x\n-      - supports-color\n-\n   eslint-formatter-codeframe@7.32.1:\n     dependencies:\n       '@babel/code-frame': 7.12.11\n@@ -26906,26 +26850,6 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  eslint-import-resolver-typescript@3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1)):\n-    dependencies:\n-      '@nolyfill/is-core-module': 1.0.39\n-      debug: 4.4.0\n-      enhanced-resolve: 5.17.1\n-      eslint: 9.37.0(jiti@2.5.1)\n-      eslint-module-utils: 2.12.1(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n-      fast-glob: 3.3.3\n-      get-tsconfig: 4.8.1\n-      is-bun-module: 1.3.0\n-      is-glob: 4.0.3\n-    optionalDependencies:\n-      eslint-plugin-import: 2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.6.3)(eslint@9.37.0(jiti@2.5.1))\n-      eslint-plugin-import-x: 4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n-    transitivePeerDependencies:\n-      - '@typescript-eslint/parser'\n-      - eslint-import-resolver-node\n-      - eslint-import-resolver-webpack\n-      - supports-color\n-\n   eslint-mdx@3.1.5(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       acorn: 8.14.0\n@@ -26947,14 +26871,13 @@ snapshots:\n       - bluebird\n       - supports-color\n \n-  eslint-module-utils@2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)):\n+  eslint-module-utils@2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       debug: 3.2.7\n     optionalDependencies:\n       '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n       eslint: 9.37.0(jiti@2.5.1)\n       eslint-import-resolver-node: 0.3.9\n-      eslint-import-resolver-typescript: 3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1))\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -26969,17 +26892,6 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  eslint-module-utils@2.12.1(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)):\n-    dependencies:\n-      debug: 3.2.7\n-    optionalDependencies:\n-      '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n-      eslint: 9.37.0(jiti@2.5.1)\n-      eslint-import-resolver-node: 0.3.9\n-      eslint-import-resolver-typescript: 3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1))\n-    transitivePeerDependencies:\n-      - supports-color\n-\n   eslint-plugin-eslint-plugin@5.2.1(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       eslint: 9.37.0(jiti@2.5.1)\n@@ -27004,7 +26916,7 @@ snapshots:\n       - typescript\n     optional: true\n \n-  eslint-plugin-import@2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.6.3)(eslint@9.37.0(jiti@2.5.1)):\n+  eslint-plugin-import@2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       '@rtsao/scc': 1.1.0\n       array-includes: 3.1.8\n@@ -27015,7 +26927,7 @@ snapshots:\n       doctrine: 2.1.0\n       eslint: 9.37.0(jiti@2.5.1)\n       eslint-import-resolver-node: 0.3.9\n-      eslint-module-utils: 2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n+      eslint-module-utils: 2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint@9.37.0(jiti@2.5.1))\n       hasown: 2.0.2\n       is-core-module: 2.15.1\n       is-glob: 4.0.3\n@@ -27033,33 +26945,6 @@ snapshots:\n       - eslint-import-resolver-webpack\n       - supports-color\n \n-  eslint-plugin-import@2.31.0(eslint@9.37.0(jiti@2.5.1)):\n-    dependencies:\n-      '@rtsao/scc': 1.1.0\n-      array-includes: 3.1.8\n-      array.prototype.findlastindex: 1.2.6\n-      array.prototype.flat: 1.3.2\n-      array.prototype.flatmap: 1.3.2\n-      debug: 3.2.7\n-      doctrine: 2.1.0\n-      eslint: 9.37.0(jiti@2.5.1)\n-      eslint-import-resolver-node: 0.3.9\n-      eslint-module-utils: 2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.6.3(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.31.0)(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n-      hasown: 2.0.2\n-      is-core-module: 2.15.1\n-      is-glob: 4.0.3\n-      minimatch: 3.1.2\n-      object.fromentries: 2.0.8\n-      object.groupby: 1.0.3\n-      object.values: 1.2.0\n-      semver: 6.3.1\n-      string.prototype.trimend: 1.0.9\n-      tsconfig-paths: 3.15.0\n-    transitivePeerDependencies:\n-      - eslint-import-resolver-typescript\n-      - eslint-import-resolver-webpack\n-      - supports-color\n-\n   eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.10.1)(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       '@rtsao/scc': 1.1.0\n@@ -29267,6 +29152,8 @@ snapshots:\n \n   ipaddr.js@2.1.0: {}\n \n+  ipaddr.js@2.2.0: {}\n+\n   is-absolute-url@2.1.0: {}\n \n   is-alphabetical@1.0.4: {}\n@@ -29325,10 +29212,6 @@ snapshots:\n     dependencies:\n       builtin-modules: 3.3.0\n \n-  is-bun-module@1.3.0:\n-    dependencies:\n-      semver: 7.6.3\n-\n   is-bun-module@2.0.0:\n     dependencies:\n       semver: 7.7.2\n@@ -29444,8 +29327,6 @@ snapshots:\n \n   is-lambda@1.0.1: {}\n \n-  is-local-address@2.2.2: {}\n-\n   is-map@2.0.3: {}\n \n   is-module@1.0.0: {}"
        },
        {
            "sha": "36f0d665bc3a93cff12dea5b77723e0584e90b72",
            "filename": "test/production/next-server-nft/next-server-nft.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/333c30b86b593f3d4e2e2864317fbb0aea580cd0/test%2Fproduction%2Fnext-server-nft%2Fnext-server-nft.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/333c30b86b593f3d4e2e2864317fbb0aea580cd0/test%2Fproduction%2Fnext-server-nft%2Fnext-server-nft.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fnext-server-nft%2Fnext-server-nft.test.ts?ref=333c30b86b593f3d4e2e2864317fbb0aea580cd0",
            "patch": "@@ -142,8 +142,8 @@ const isReact18 = parseInt(process.env.NEXT_TEST_REACT_VERSION) === 18\n          \"/node_modules/next/dist/compiled/fresh/index.js\",\n          \"/node_modules/next/dist/compiled/image-detector/detector.js\",\n          \"/node_modules/next/dist/compiled/image-size/index.js\",\n+         \"/node_modules/next/dist/compiled/ipaddr.js/ipaddr.js\",\n          \"/node_modules/next/dist/compiled/is-animated/index.js\",\n-         \"/node_modules/next/dist/compiled/is-local-address/index.js\",\n          \"/node_modules/next/dist/compiled/jsonwebtoken/index.js\",\n          \"/node_modules/next/dist/compiled/nanoid/index.cjs\",\n          \"/node_modules/next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js\","
        }
    ],
    "stats": {
        "total": 267,
        "additions": 119,
        "deletions": 148
    }
}