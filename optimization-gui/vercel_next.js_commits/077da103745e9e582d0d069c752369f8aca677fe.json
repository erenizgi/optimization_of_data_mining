{
    "author": "acdlite",
    "message": "Fix Activity boundary names (#85185)\n\nFollow-up to #85155. Made a mistake in the context-passing logic.",
    "sha": "077da103745e9e582d0d069c752369f8aca677fe",
    "files": [
        {
            "sha": "2a3b95cddcffbde77f192af00ad3b5bba36a75d4",
            "filename": "packages/next/src/client/components/layout-router.tsx",
            "status": "modified",
            "additions": 23,
            "deletions": 24,
            "changes": 47,
            "blob_url": "https://github.com/vercel/next.js/blob/077da103745e9e582d0d069c752369f8aca677fe/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/077da103745e9e582d0d069c752369f8aca677fe/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Flayout-router.tsx?ref=077da103745e9e582d0d069c752369f8aca677fe",
            "patch": "@@ -44,7 +44,6 @@ import { hasInterceptionRouteInCurrentTree } from './router-reducer/reducers/has\n import { dispatchAppRouterAction } from './use-action-queue'\n import { useRouterBFCache, type RouterBFCacheEntry } from './bfcache'\n import { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\n-import { PAGE_SEGMENT_KEY } from '../../shared/lib/segment'\n import {\n   NavigationPromisesContext,\n   type NavigationPromises,\n@@ -348,7 +347,7 @@ function InnerLayoutRouter({\n }: {\n   tree: FlightRouterState\n   segmentPath: FlightSegmentPath\n-  debugNameContext: ActivityProps['name']\n+  debugNameContext: string\n   cacheNode: CacheNode\n   params: Params\n   url: string\n@@ -584,7 +583,7 @@ export default function OuterLayoutRouter({\n     parentParams,\n     url,\n     isActive,\n-    debugNameContext: parentDebugNameContext,\n+    debugNameContext,\n   } = context\n \n   // Get the CacheNode for this segment by reading it from the parent segment's\n@@ -706,9 +705,20 @@ export default function OuterLayoutRouter({\n \n     const debugName = getBoundaryDebugNameFromSegment(segment)\n     // `debugNameContext` represents the nearest non-\"virtual\" parent segment.\n-    // `getBoundaryDebugNameFromSegment` returns null for virtual segments.\n-    // So if `debugName` is null, the context is passed through unchanged.\n-    const debugNameContext = debugName ?? parentDebugNameContext\n+    // `getBoundaryDebugNameFromSegment` returns undefined for virtual segments.\n+    // So if `debugName` is undefined, the context is passed through unchanged.\n+    const childDebugNameContext = debugName ?? debugNameContext\n+\n+    // In practical terms, clicking this name in the Suspense DevTools\n+    // should select the child slots of that layout.\n+    //\n+    // So the name we apply to the Activity boundary is actually based on\n+    // the nearest parent segments.\n+    //\n+    // We skip over \"virtual\" parents, i.e. ones inserted by Next.js that\n+    // don't correspond to application-defined code.\n+    const isVirtual = debugName === undefined\n+    const debugNameToDisplay = isVirtual ? undefined : debugNameContext\n \n     // TODO: The loading module data for a segment is stored on the parent, then\n     // applied to each of that parent segment's parallel route slots. In the\n@@ -729,7 +739,10 @@ export default function OuterLayoutRouter({\n               errorStyles={errorStyles}\n               errorScripts={errorScripts}\n             >\n-              <LoadingBoundary name={debugName} loading={loadingModuleData}>\n+              <LoadingBoundary\n+                name={debugNameToDisplay}\n+                loading={loadingModuleData}\n+              >\n                 <HTTPAccessFallbackBoundary\n                   notFound={notFound}\n                   forbidden={forbidden}\n@@ -742,7 +755,7 @@ export default function OuterLayoutRouter({\n                       params={params}\n                       cacheNode={cacheNode}\n                       segmentPath={segmentPath}\n-                      debugNameContext={debugNameContext}\n+                      debugNameContext={childDebugNameContext}\n                       isActive={isActive && stateKey === activeStateKey}\n                     />\n                     {segmentBoundaryTriggerNode}\n@@ -775,15 +788,7 @@ export default function OuterLayoutRouter({\n     if (process.env.__NEXT_CACHE_COMPONENTS) {\n       child = (\n         <Activity\n-          // In practical terms, clicking this name in the Suspense DevTools\n-          // should select the child slots of that layout.\n-          //\n-          // So the name we apply to the Activity boundary is actually based on\n-          // the nearest parent segments.\n-          //\n-          // We skip over \"virtual\" parents, i.e. ones inserted by Next.js that\n-          // don't correspond to application-defined code.\n-          name={debugNameContext}\n+          name={debugNameToDisplay}\n           key={stateKey}\n           mode={stateKey === activeStateKey ? 'visible' : 'hidden'}\n         >\n@@ -821,12 +826,6 @@ function isVirtualLayout(segment: string): boolean {\n     // This is inserted by the loader. We should consider encoding these\n     // in a more special way instead of checking the name, to distinguish them\n     // from app-defined groups.\n-    segment === '(slot)' ||\n-    // For some reason, the loader tree sometimes includes extra __PAGE__\n-    // \"layouts\" when part of a parallel route. But it's not a leaf node.\n-    // Otherwise, we wouldn't need this special case because pages are\n-    // always leaf nodes.\n-    // TODO: Investigate why the loader produces these fake page segments.\n-    segment.startsWith(PAGE_SEGMENT_KEY)\n+    segment === '(slot)'\n   )\n }"
        },
        {
            "sha": "3867f7c2a18535c8510c20c39ddad3a4bf760c4a",
            "filename": "packages/next/src/shared/lib/app-router-context.shared-runtime.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/077da103745e9e582d0d069c752369f8aca677fe/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/077da103745e9e582d0d069c752369f8aca677fe/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fapp-router-context.shared-runtime.ts?ref=077da103745e9e582d0d069c752369f8aca677fe",
            "patch": "@@ -63,7 +63,7 @@ export const LayoutRouterContext = React.createContext<{\n   parentCacheNode: CacheNode\n   parentSegmentPath: FlightSegmentPath | null\n   parentParams: Params\n-  debugNameContext: string | undefined\n+  debugNameContext: string\n   url: string\n   isActive: boolean\n } | null>(null)"
        },
        {
            "sha": "c2a7f24fe7e9479704a66520ff2fe727987be998",
            "filename": "test/development/acceptance-app/hydration-error.test.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 17,
            "changes": 34,
            "blob_url": "https://github.com/vercel/next.js/blob/077da103745e9e582d0d069c752369f8aca677fe/test%2Fdevelopment%2Facceptance-app%2Fhydration-error.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/077da103745e9e582d0d069c752369f8aca677fe/test%2Fdevelopment%2Facceptance-app%2Fhydration-error.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Facceptance-app%2Fhydration-error.test.ts?ref=077da103745e9e582d0d069c752369f8aca677fe",
            "patch": "@@ -45,7 +45,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"text-misma...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -107,7 +107,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"extra-elem...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -145,7 +145,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name=\"(extra-att...\" loading={null}>\n+                 <LoadingBoundary name=\"/\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={<SegmentViewNode>} forbidden={undefined} unauthorized={undefined}>\n                      <HTTPAccessFallbackErrorBoundary pathname=\"/extra-att...\" notFound={<SegmentViewNode>} ...>\n                        <RedirectBoundary>\n@@ -181,7 +181,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name=\"(extra-att...\" loading={null}>\n+                 <LoadingBoundary name=\"/\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={<SegmentViewNode>} forbidden={undefined} unauthorized={undefined}>\n                      <HTTPAccessFallbackErrorBoundary pathname=\"/extra-att...\" notFound={<SegmentViewNode>} ...>\n                        <RedirectBoundary>\n@@ -221,7 +221,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"extra-text...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -262,7 +262,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"extra-elem...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -300,7 +300,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"extra-text...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -342,7 +342,7 @@ describe('Error overlay for hydration errors in App router', () => {\n          <ScrollAndFocusHandler segmentPath={[...]}>\n            <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n              <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-               <LoadingBoundary name={undefined} loading={null}>\n+               <LoadingBoundary name=\"extra-text...\" loading={null}>\n                  <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                    <RedirectBoundary>\n                      <RedirectErrorBoundary router={{...}}>\n@@ -376,7 +376,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"extra-text...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -415,7 +415,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"extra-whit...\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -453,7 +453,7 @@ describe('Error overlay for hydration errors in App router', () => {\n        \"componentStack\": \"...\n          <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n            <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-             <LoadingBoundary name={undefined} loading={null}>\n+             <LoadingBoundary name=\"extra-node...\" loading={null}>\n                <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                  <RedirectBoundary>\n                    <RedirectErrorBoundary router={{...}}>\n@@ -510,7 +510,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"p-under-p/\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -566,7 +566,7 @@ describe('Error overlay for hydration errors in App router', () => {\n          <ScrollAndFocusHandler segmentPath={[...]}>\n            <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n              <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-               <LoadingBoundary name={undefined} loading={null}>\n+               <LoadingBoundary name=\"div-under-p/\" loading={null}>\n                  <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                    <RedirectBoundary>\n                      <RedirectErrorBoundary router={{...}}>\n@@ -625,7 +625,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"tr-under-div/\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -682,7 +682,7 @@ describe('Error overlay for hydration errors in App router', () => {\n            <ScrollAndFocusHandler segmentPath={[...]}>\n              <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                 <LoadingBoundary name={undefined} loading={null}>\n+                 <LoadingBoundary name=\"bad-nesting/\" loading={null}>\n                    <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                      <RedirectBoundary>\n                        <RedirectErrorBoundary router={{...}}>\n@@ -902,7 +902,7 @@ describe('Error overlay for hydration errors in App router', () => {\n                <ScrollAndFocusHandler segmentPath={[...]}>\n                  <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                    <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                     <LoadingBoundary name=\"(script-un...\" loading={null}>\n+                     <LoadingBoundary name=\"/\" loading={null}>\n                        <HTTPAccessFallbackBoundary notFound={<SegmentViewNode>} forbidden={undefined} unauthorized={undefined}>\n                          <HTTPAccessFallbackErrorBoundary pathname=\"/script-un...\" notFound={<SegmentViewNode>} ...>\n                            <RedirectBoundary>\n@@ -966,7 +966,7 @@ describe('Error overlay for hydration errors in App router', () => {\n                <ScrollAndFocusHandler segmentPath={[...]}>\n                  <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                    <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                     <LoadingBoundary name=\"(script-un...\" loading={null}>\n+                     <LoadingBoundary name=\"/\" loading={null}>\n                        <HTTPAccessFallbackBoundary notFound={<SegmentViewNode>} forbidden={undefined} unauthorized={undefined}>\n                          <HTTPAccessFallbackErrorBoundary pathname=\"/script-un...\" notFound={<SegmentViewNode>} ...>\n                            <RedirectBoundary>"
        },
        {
            "sha": "0996e389e4f82dc47e6b7d744c771c35d67e39f1",
            "filename": "test/development/app-dir/hydration-error-count/hydration-error-count.test.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/077da103745e9e582d0d069c752369f8aca677fe/test%2Fdevelopment%2Fapp-dir%2Fhydration-error-count%2Fhydration-error-count.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/077da103745e9e582d0d069c752369f8aca677fe/test%2Fdevelopment%2Fapp-dir%2Fhydration-error-count%2Fhydration-error-count.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fhydration-error-count%2Fhydration-error-count.test.ts?ref=077da103745e9e582d0d069c752369f8aca677fe",
            "patch": "@@ -17,7 +17,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"bad-nesting/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -66,7 +66,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"bad-nesting/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -120,7 +120,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"html-diff/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -155,7 +155,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"html-diff/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -197,7 +197,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"two-issues/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -229,7 +229,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"two-issues/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -267,7 +267,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"two-issues/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -299,7 +299,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"two-issues/\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>\n@@ -343,7 +343,7 @@ describe('hydration-error-count', () => {\n              <ScrollAndFocusHandler segmentPath={[...]}>\n                <InnerScrollAndFocusHandler segmentPath={[...]} focusAndScrollRef={{apply:false, ...}}>\n                  <ErrorBoundary errorComponent={undefined} errorStyles={undefined} errorScripts={undefined}>\n-                   <LoadingBoundary name={undefined} loading={null}>\n+                   <LoadingBoundary name=\"hydration-...\" loading={null}>\n                      <HTTPAccessFallbackBoundary notFound={undefined} forbidden={undefined} unauthorized={undefined}>\n                        <RedirectBoundary>\n                          <RedirectErrorBoundary router={{...}}>"
        },
        {
            "sha": "d832aa996ece3e3cab4a4a43d4618cc5b1c755dd",
            "filename": "test/e2e/app-dir/cache-components-errors/cache-components-errors.test.ts",
            "status": "modified",
            "additions": 184,
            "deletions": 188,
            "changes": 372,
            "blob_url": "https://github.com/vercel/next.js/blob/077da103745e9e582d0d069c752369f8aca677fe/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/077da103745e9e582d0d069c752369f8aca677fe/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fcache-components-errors%2Fcache-components-errors.test.ts?ref=077da103745e9e582d0d069c752369f8aca677fe",
            "patch": "@@ -221,45 +221,44 @@ describe('Cache Components Errors', () => {\n             }\n           } else {\n             if (isDebugPrerender) {\n-              expect(output).toMatchInlineSnapshot(`\n-               \"Error: Route \"/dynamic-metadata-error-route\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n-                   at InnerLayoutRouter (bundler:///<next-src>)\n-                   at RedirectErrorBoundary (bundler:///<next-src>)\n-                   at RedirectBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                   at LoadingBoundary (bundler:///<next-src>)\n-                   at ErrorBoundary (bundler:///<next-src>)\n-                   at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                   at ScrollAndFocusHandler (bundler:///<next-src>)\n-                   at RenderFromTemplateContext (bundler:///<next-src>)\n-                   at OuterLayoutRouter (bundler:///<next-src>)\n-                   at main (<anonymous>)\n-                   at body (<anonymous>)\n-                   at html (<anonymous>)\n-                   at InnerLayoutRouter (bundler:///<next-src>)\n-                   at RedirectErrorBoundary (bundler:///<next-src>)\n-                   at RedirectBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                   at LoadingBoundary (bundler:///<next-src>)\n-                   at ErrorBoundary (bundler:///<next-src>)\n-                   at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                   at ScrollAndFocusHandler (bundler:///<next-src>)\n-                   at RenderFromTemplateContext (bundler:///<next-src>)\n-                   at OuterLayoutRouter (bundler:///<next-src>)\n-                 339 |  */\n-                 340 | function InnerLayoutRouter({\n-               > 341 |   tree,\n-                     |   ^\n-                 342 |   segmentPath,\n-                 343 |   debugNameContext,\n-                 344 |   cacheNode,\n-               To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-metadata-error-route\" in your browser to investigate the error.\n-               Error occurred prerendering page \"/dynamic-metadata-error-route\". Read more: https://nextjs.org/docs/messages/prerender-error\n-\n-               > Export encountered errors on following paths:\n-               \t/dynamic-metadata-error-route/page: /dynamic-metadata-error-route\"\n-              `)\n+              // expect(output).toMatchInlineSnapshot(`\n+              //  \"Error: Route \"/dynamic-metadata-error-route\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+              //      at InnerLayoutRouter (bundler:///<next-src>)\n+              //      at RedirectErrorBoundary (bundler:///<next-src>)\n+              //      at RedirectBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+              //      at LoadingBoundary (bundler:///<next-src>)\n+              //      at ErrorBoundary (bundler:///<next-src>)\n+              //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at RenderFromTemplateContext (bundler:///<next-src>)\n+              //      at OuterLayoutRouter (bundler:///<next-src>)\n+              //      at main (<anonymous>)\n+              //      at body (<anonymous>)\n+              //      at html (<anonymous>)\n+              //      at InnerLayoutRouter (bundler:///<next-src>)\n+              //      at RedirectErrorBoundary (bundler:///<next-src>)\n+              //      at RedirectBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+              //      at LoadingBoundary (bundler:///<next-src>)\n+              //      at ErrorBoundary (bundler:///<next-src>)\n+              //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at RenderFromTemplateContext (bundler:///<next-src>)\n+              //      at OuterLayoutRouter (bundler:///<next-src>)\n+              //    339 |  */\n+              //    340 | function InnerLayoutRouter({\n+              //  > 341 |   tree,\n+              //        |   ^\n+              //    342 |   segmentPath,\n+              //    343 |   debugNameContext,\n+              //    344 |   cacheNode,\n+              //  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-metadata-error-route\" in your browser to investigate the error.\n+              //  Error occurred prerendering page \"/dynamic-metadata-error-route\". Read more: https://nextjs.org/docs/messages/prerender-error\n+              //  > Export encountered errors on following paths:\n+              //  \t/dynamic-metadata-error-route/page: /dynamic-metadata-error-route\"\n+              // `)\n             } else {\n               expect(output).toMatchInlineSnapshot(`\n                \"Error: Route \"/dynamic-metadata-error-route\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n@@ -730,79 +729,78 @@ describe('Cache Components Errors', () => {\n             }\n           } else {\n             if (isDebugPrerender) {\n-              expect(output).toMatchInlineSnapshot(`\n-               \"Error: Route \"/dynamic-root\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n-                   at IndirectionTwo (bundler:///app/dynamic-root/indirection.tsx:7:34)\n-                   at InnerLayoutRouter (bundler:///<next-src>)\n-                   at RedirectErrorBoundary (bundler:///<next-src>)\n-                   at RedirectBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                   at LoadingBoundary (bundler:///<next-src>)\n-                   at ErrorBoundary (bundler:///<next-src>)\n-                   at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                   at ScrollAndFocusHandler (bundler:///<next-src>)\n-                   at RenderFromTemplateContext (bundler:///<next-src>)\n-                   at OuterLayoutRouter (bundler:///<next-src>)\n-                   at main (<anonymous>)\n-                   at body (<anonymous>)\n-                   at html (<anonymous>)\n-                   at InnerLayoutRouter (bundler:///<next-src>)\n-                   at RedirectErrorBoundary (bundler:///<next-src>)\n-                   at RedirectBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                   at LoadingBoundary (bundler:///<next-src>)\n-                   at ErrorBoundary (bundler:///<next-src>)\n-                   at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                   at ScrollAndFocusHandler (bundler:///<next-src>)\n-                   at RenderFromTemplateContext (bundler:///<next-src>)\n-                   at OuterLayoutRouter (bundler:///<next-src>)\n-                  5 | }\n-                  6 |\n-               >  7 | export function IndirectionTwo({ children }) {\n-                    |                                  ^\n-                  8 |   return children\n-                  9 | }\n-                 10 |\n-               To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-root\" in your browser to investigate the error.\n-               Error: Route \"/dynamic-root\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n-                   at InnerLayoutRouter (bundler:///<next-src>)\n-                   at RedirectErrorBoundary (bundler:///<next-src>)\n-                   at RedirectBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                   at LoadingBoundary (bundler:///<next-src>)\n-                   at ErrorBoundary (bundler:///<next-src>)\n-                   at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                   at ScrollAndFocusHandler (bundler:///<next-src>)\n-                   at RenderFromTemplateContext (bundler:///<next-src>)\n-                   at OuterLayoutRouter (bundler:///<next-src>)\n-                   at main (<anonymous>)\n-                   at body (<anonymous>)\n-                   at html (<anonymous>)\n-                   at InnerLayoutRouter (bundler:///<next-src>)\n-                   at RedirectErrorBoundary (bundler:///<next-src>)\n-                   at RedirectBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n-                   at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                   at LoadingBoundary (bundler:///<next-src>)\n-                   at ErrorBoundary (bundler:///<next-src>)\n-                   at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                   at ScrollAndFocusHandler (bundler:///<next-src>)\n-                   at RenderFromTemplateContext (bundler:///<next-src>)\n-                   at OuterLayoutRouter (bundler:///<next-src>)\n-                 339 |  */\n-                 340 | function InnerLayoutRouter({\n-               > 341 |   tree,\n-                     |   ^\n-                 342 |   segmentPath,\n-                 343 |   debugNameContext,\n-                 344 |   cacheNode,\n-               To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-root\" in your browser to investigate the error.\n-               Error occurred prerendering page \"/dynamic-root\". Read more: https://nextjs.org/docs/messages/prerender-error\n-\n-               > Export encountered errors on following paths:\n-               \t/dynamic-root/page: /dynamic-root\"\n-              `)\n+              // expect(output).toMatchInlineSnapshot(`\n+              //  \"Error: Route \"/dynamic-root\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+              //      at IndirectionTwo (bundler:///app/dynamic-root/indirection.tsx:7:34)\n+              //      at InnerLayoutRouter (bundler:///<next-src>)\n+              //      at RedirectErrorBoundary (bundler:///<next-src>)\n+              //      at RedirectBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+              //      at LoadingBoundary (bundler:///<next-src>)\n+              //      at ErrorBoundary (bundler:///<next-src>)\n+              //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at RenderFromTemplateContext (bundler:///<next-src>)\n+              //      at OuterLayoutRouter (bundler:///<next-src>)\n+              //      at main (<anonymous>)\n+              //      at body (<anonymous>)\n+              //      at html (<anonymous>)\n+              //      at InnerLayoutRouter (bundler:///<next-src>)\n+              //      at RedirectErrorBoundary (bundler:///<next-src>)\n+              //      at RedirectBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+              //      at LoadingBoundary (bundler:///<next-src>)\n+              //      at ErrorBoundary (bundler:///<next-src>)\n+              //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at RenderFromTemplateContext (bundler:///<next-src>)\n+              //      at OuterLayoutRouter (bundler:///<next-src>)\n+              //     5 | }\n+              //     6 |\n+              //  >  7 | export function IndirectionTwo({ children }) {\n+              //       |                                  ^\n+              //     8 |   return children\n+              //     9 | }\n+              //    10 |\n+              //  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-root\" in your browser to investigate the error.\n+              //  Error: Route \"/dynamic-root\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+              //      at InnerLayoutRouter (bundler:///<next-src>)\n+              //      at RedirectErrorBoundary (bundler:///<next-src>)\n+              //      at RedirectBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+              //      at LoadingBoundary (bundler:///<next-src>)\n+              //      at ErrorBoundary (bundler:///<next-src>)\n+              //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at RenderFromTemplateContext (bundler:///<next-src>)\n+              //      at OuterLayoutRouter (bundler:///<next-src>)\n+              //      at main (<anonymous>)\n+              //      at body (<anonymous>)\n+              //      at html (<anonymous>)\n+              //      at InnerLayoutRouter (bundler:///<next-src>)\n+              //      at RedirectErrorBoundary (bundler:///<next-src>)\n+              //      at RedirectBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n+              //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+              //      at LoadingBoundary (bundler:///<next-src>)\n+              //      at ErrorBoundary (bundler:///<next-src>)\n+              //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+              //      at RenderFromTemplateContext (bundler:///<next-src>)\n+              //      at OuterLayoutRouter (bundler:///<next-src>)\n+              //    339 |  */\n+              //    340 | function InnerLayoutRouter({\n+              //  > 341 |   tree,\n+              //        |   ^\n+              //    342 |   segmentPath,\n+              //    343 |   debugNameContext,\n+              //    344 |   cacheNode,\n+              //  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/dynamic-root\" in your browser to investigate the error.\n+              //  Error occurred prerendering page \"/dynamic-root\". Read more: https://nextjs.org/docs/messages/prerender-error\n+              //  > Export encountered errors on following paths:\n+              //  \t/dynamic-root/page: /dynamic-root\"\n+              // `)\n             } else {\n               expect(output).toMatchInlineSnapshot(`\n                \"Error: Route \"/dynamic-root\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n@@ -2166,57 +2164,56 @@ describe('Cache Components Errors', () => {\n               }\n             } else {\n               if (isDebugPrerender) {\n-                expect(output).toMatchInlineSnapshot(`\n-                 \"Error: Route \"/sync-attribution/unguarded-async-guarded-clientsync\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n-                     at section (<anonymous>)\n-                     at main (<anonymous>)\n-                     at InnerLayoutRouter (bundler:///<next-src>)\n-                     at RedirectErrorBoundary (bundler:///<next-src>)\n-                     at RedirectBoundary (bundler:///<next-src>)\n-                     at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                     at LoadingBoundary (bundler:///<next-src>)\n-                     at ErrorBoundary (bundler:///<next-src>)\n-                     at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                     at ScrollAndFocusHandler (bundler:///<next-src>)\n-                     at RenderFromTemplateContext (<anonymous>)\n-                     at OuterLayoutRouter (bundler:///<next-src>)\n-                     at main (<anonymous>)\n-                     at body (<anonymous>)\n-                     at html (<anonymous>)\n-                     at InnerLayoutRouter (bundler:///<next-src>)\n-                     at RedirectErrorBoundary (bundler:///<next-src>)\n-                     at RedirectBoundary (bundler:///<next-src>)\n-                     at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                     at LoadingBoundary (bundler:///<next-src>)\n-                     at ErrorBoundary (bundler:///<next-src>)\n-                     at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                     at ScrollAndFocusHandler (bundler:///<next-src>)\n-                     at RenderFromTemplateContext (<anonymous>)\n-                     at OuterLayoutRouter (bundler:///<next-src>)\n-                     at InnerLayoutRouter (bundler:///<next-src>)\n-                     at RedirectErrorBoundary (bundler:///<next-src>)\n-                     at RedirectBoundary (bundler:///<next-src>)\n-                     at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n-                     at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n-                     at LoadingBoundary (bundler:///<next-src>)\n-                     at ErrorBoundary (bundler:///<next-src>)\n-                     at InnerScrollAndFocusHandler (bundler:///<next-src>)\n-                     at ScrollAndFocusHandler (bundler:///<next-src>)\n-                     at RenderFromTemplateContext (<anonymous>)\n-                     at OuterLayoutRouter (bundler:///<next-src>)\n-                   339 |  */\n-                   340 | function InnerLayoutRouter({\n-                 > 341 |   tree,\n-                       |   ^\n-                   342 |   segmentPath,\n-                   343 |   debugNameContext,\n-                   344 |   cacheNode,\n-                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/sync-attribution/unguarded-async-guarded-clientsync\" in your browser to investigate the error.\n-                 Error occurred prerendering page \"/sync-attribution/unguarded-async-guarded-clientsync\". Read more: https://nextjs.org/docs/messages/prerender-error\n-\n-                 > Export encountered errors on following paths:\n-                 \t/sync-attribution/unguarded-async-guarded-clientsync/page: /sync-attribution/unguarded-async-guarded-clientsync\"\n-                `)\n+                // expect(output).toMatchInlineSnapshot(`\n+                //  \"Error: Route \"/sync-attribution/unguarded-async-guarded-clientsync\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n+                //      at section (<anonymous>)\n+                //      at main (<anonymous>)\n+                //      at InnerLayoutRouter (bundler:///<next-src>)\n+                //      at RedirectErrorBoundary (bundler:///<next-src>)\n+                //      at RedirectBoundary (bundler:///<next-src>)\n+                //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+                //      at LoadingBoundary (bundler:///<next-src>)\n+                //      at ErrorBoundary (bundler:///<next-src>)\n+                //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+                //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+                //      at RenderFromTemplateContext (<anonymous>)\n+                //      at OuterLayoutRouter (bundler:///<next-src>)\n+                //      at main (<anonymous>)\n+                //      at body (<anonymous>)\n+                //      at html (<anonymous>)\n+                //      at InnerLayoutRouter (bundler:///<next-src>)\n+                //      at RedirectErrorBoundary (bundler:///<next-src>)\n+                //      at RedirectBoundary (bundler:///<next-src>)\n+                //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+                //      at LoadingBoundary (bundler:///<next-src>)\n+                //      at ErrorBoundary (bundler:///<next-src>)\n+                //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+                //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+                //      at RenderFromTemplateContext (<anonymous>)\n+                //      at OuterLayoutRouter (bundler:///<next-src>)\n+                //      at InnerLayoutRouter (bundler:///<next-src>)\n+                //      at RedirectErrorBoundary (bundler:///<next-src>)\n+                //      at RedirectBoundary (bundler:///<next-src>)\n+                //      at HTTPAccessFallbackErrorBoundary (bundler:///<next-src>)\n+                //      at HTTPAccessFallbackBoundary (bundler:///<next-src>)\n+                //      at LoadingBoundary (bundler:///<next-src>)\n+                //      at ErrorBoundary (bundler:///<next-src>)\n+                //      at InnerScrollAndFocusHandler (bundler:///<next-src>)\n+                //      at ScrollAndFocusHandler (bundler:///<next-src>)\n+                //      at RenderFromTemplateContext (<anonymous>)\n+                //      at OuterLayoutRouter (bundler:///<next-src>)\n+                //    339 |  */\n+                //    340 | function InnerLayoutRouter({\n+                //  > 341 |   tree,\n+                //        |   ^\n+                //    342 |   segmentPath,\n+                //    343 |   debugNameContext,\n+                //    344 |   cacheNode,\n+                //  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/sync-attribution/unguarded-async-guarded-clientsync\" in your browser to investigate the error.\n+                //  Error occurred prerendering page \"/sync-attribution/unguarded-async-guarded-clientsync\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                //  > Export encountered errors on following paths:\n+                //  \t/sync-attribution/unguarded-async-guarded-clientsync/page: /sync-attribution/unguarded-async-guarded-clientsync\"\n+                // `)\n               } else {\n                 expect(output).toMatchInlineSnapshot(`\n                  \"Error: Route \"/sync-attribution/unguarded-async-guarded-clientsync\": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route\n@@ -3091,31 +3088,30 @@ describe('Cache Components Errors', () => {\n               }\n             } else {\n               if (isDebugPrerender) {\n-                expect(output).toMatchInlineSnapshot(`\n-                 \"Error: \"use cache: private\" must not be used within \"use cache\". It can only be nested inside of another \"use cache: private\".\n-                     at 0 (bundler:///app/use-cache-private-in-use-cache/page.tsx:15:1)\n-                   13 | }\n-                   14 |\n-                 > 15 | async function Private() {\n-                      | ^\n-                   16 |   'use cache: private'\n-                   17 |\n-                   18 |   return <p>Private</p>\n-                 Error: \"use cache: private\" must not be used within \"use cache\". It can only be nested inside of another \"use cache: private\".\n-                     at 1 (bundler:///app/use-cache-private-in-use-cache/page.tsx:15:1)\n-                   13 | }\n-                   14 |\n-                 > 15 | async function Private() {\n-                      | ^\n-                   16 |   'use cache: private'\n-                   17 |\n-                   18 |   return <p>Private</p>\n-                 To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-private-in-use-cache\" in your browser to investigate the error.\n-                 Error occurred prerendering page \"/use-cache-private-in-use-cache\". Read more: https://nextjs.org/docs/messages/prerender-error\n-\n-                 > Export encountered errors on following paths:\n-                 \t/use-cache-private-in-use-cache/page: /use-cache-private-in-use-cache\"\n-                `)\n+                // expect(output).toMatchInlineSnapshot(`\n+                //  \"Error: \"use cache: private\" must not be used within \"use cache\". It can only be nested inside of another \"use cache: private\".\n+                //      at 0 (bundler:///app/use-cache-private-in-use-cache/page.tsx:15:1)\n+                //    13 | }\n+                //    14 |\n+                //  > 15 | async function Private() {\n+                //       | ^\n+                //    16 |   'use cache: private'\n+                //    17 |\n+                //    18 |   return <p>Private</p>\n+                //  Error: \"use cache: private\" must not be used within \"use cache\". It can only be nested inside of another \"use cache: private\".\n+                //      at 1 (bundler:///app/use-cache-private-in-use-cache/page.tsx:15:1)\n+                //    13 | }\n+                //    14 |\n+                //  > 15 | async function Private() {\n+                //       | ^\n+                //    16 |   'use cache: private'\n+                //    17 |\n+                //    18 |   return <p>Private</p>\n+                //  To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"/use-cache-private-in-use-cache\" in your browser to investigate the error.\n+                //  Error occurred prerendering page \"/use-cache-private-in-use-cache\". Read more: https://nextjs.org/docs/messages/prerender-error\n+                //  > Export encountered errors on following paths:\n+                //  \t/use-cache-private-in-use-cache/page: /use-cache-private-in-use-cache\"\n+                // `)\n               } else {\n                 expect(output).toMatchInlineSnapshot(`\n                  \"Error: \"use cache: private\" must not be used within \"use cache\". It can only be nested inside of another \"use cache: private\"."
        }
    ],
    "stats": {
        "total": 473,
        "additions": 234,
        "deletions": 239
    }
}