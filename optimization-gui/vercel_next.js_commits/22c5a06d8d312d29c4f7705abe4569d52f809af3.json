{
    "author": "devjiwonchoi",
    "message": "[Breaking] Enable `experimental.isolatedDevBuild` by default (#84561)\n\n### Why?\n\nThis PR cleans up the incremental rollout of enabling `isolatedDevBuild`\nthroughout the CI, as it required many test changes (x-ref:\nhttps://github.com/vercel/next.js/pull/84043).\n\n- https://github.com/vercel/next.js/pull/84556\n- https://github.com/vercel/next.js/pull/84558\n- https://github.com/vercel/next.js/pull/84559\n- https://github.com/vercel/next.js/pull/84562\n\nThis PR enables `experimental.isolatedDevBuild` by default so that users\ncan run `next dev` and `next build` in the same directory, and they\nwould not conflict. This occasionally happens when developing with AI\ntools, where you have a running dev server, but the Agent runs `next\nbuild`.\n\n### How?\n\n- Removed `__NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD` flag and its usage\nfrom CI and tests\n- Updated tests that were not caught via rollout (e.g., missed out on\ntest-*-windows)\n- Moved `isolatedDevBuild` option out of experimental\n- Added Telemetry\n\nWill follow up with docs.",
    "sha": "22c5a06d8d312d29c4f7705abe4569d52f809af3",
    "files": [
        {
            "sha": "6a238243182a0dc39e57e775c4107c608fe78551",
            "filename": ".github/workflows/build_and_test.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/.github%2Fworkflows%2Fbuild_and_test.yml",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/.github%2Fworkflows%2Fbuild_and_test.yml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/.github%2Fworkflows%2Fbuild_and_test.yml?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -542,9 +542,7 @@ jobs:\n     uses: ./.github/workflows/build_reusable.yml\n     with:\n       nodeVersion: ${{ matrix.node }}\n-      afterBuild: |\n-        export __NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD=true\n-        node run-tests.js --type unit\n+      afterBuild: node run-tests.js --type unit\n       stepName: 'test-unit-${{ matrix.node }}'\n \n     secrets: inherit\n@@ -735,7 +733,6 @@ jobs:\n         export IS_WEBPACK_TEST=1\n         export NEXT_TEST_MODE=dev\n         export NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\"\n-        export __NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD=true\n \n         node run-tests.js \\\n           --timings \\\n@@ -849,7 +846,6 @@ jobs:\n         export IS_WEBPACK_TEST=1\n         export NEXT_TEST_MODE=start\n         export NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\"\n-        export __NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD=true\n \n         node run-tests.js --timings -g ${{ matrix.group }} --type production\n       stepName: 'test-prod-react-${{ matrix.react }}-${{ matrix.group }}'\n@@ -889,7 +885,6 @@ jobs:\n       afterBuild: |\n         export IS_WEBPACK_TEST=1\n         export NEXT_TEST_REACT_VERSION=\"${{ matrix.react }}\"\n-        export __NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD=true\n \n         node run-tests.js \\\n           --timings \\"
        },
        {
            "sha": "dc737179883d7e68de9c1226601d9b8c9af1e8bc",
            "filename": "packages/next/src/build/index.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -2730,6 +2730,10 @@ export default async function build(\n           featureName: 'experimental/ppr',\n           invocationCount: config.experimental.ppr ? 1 : 0,\n         },\n+        {\n+          featureName: 'experimental/isolatedDevBuild',\n+          invocationCount: config.experimental.isolatedDevBuild ? 1 : 0,\n+        },\n         {\n           featureName: 'turbopackFileSystemCache',\n           invocationCount: isFileSystemCacheEnabledForBuild(config) ? 1 : 0,"
        },
        {
            "sha": "14243a78d651a355f83b686a394d2d0917ce3e25",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -1506,9 +1506,8 @@ export const defaultConfig = Object.freeze({\n     slowModuleDetection: undefined,\n     globalNotFound: false,\n     browserDebugInfoInTerminal: false,\n-    isolatedDevBuild:\n-      process.env.__NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD === 'true',\n     lockDistDir: true,\n+    isolatedDevBuild: true,\n   },\n   htmlLimitedBots: undefined,\n   bundlePagesRouterDependencies: false,"
        },
        {
            "sha": "ab8d8a297098505b15f3480f321d48ecd9d5f6e4",
            "filename": "packages/next/src/telemetry/events/build.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/packages%2Fnext%2Fsrc%2Ftelemetry%2Fevents%2Fbuild.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/packages%2Fnext%2Fsrc%2Ftelemetry%2Fevents%2Fbuild.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Ftelemetry%2Fevents%2Fbuild.ts?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -175,6 +175,7 @@ export type EventBuildFeatureUsage = {\n     | 'experimental/cacheComponents'\n     | 'experimental/optimizeCss'\n     | 'experimental/ppr'\n+    | 'experimental/isolatedDevBuild'\n     | 'swcLoader'\n     | 'swcRelay'\n     | 'swcStyledComponents'"
        },
        {
            "sha": "316c3c7baab28fbb2d423836ca5723eb7243a324",
            "filename": "scripts/devlow-bench.mjs",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/scripts%2Fdevlow-bench.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/scripts%2Fdevlow-bench.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/scripts%2Fdevlow-bench.mjs?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -482,6 +482,7 @@ const nextDevWorkflow =\n         const cacheLocation = join(\n           benchmarkDir,\n           '.next',\n+          'dev',\n           'cache',\n           'webpack',\n           'client-development'"
        },
        {
            "sha": "807126e4cf0bf5b1c8c917e6e0148a27331587d1",
            "filename": "test/development/app-dir/isolated-dev-build/next.config.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fdevelopment%2Fapp-dir%2Fisolated-dev-build%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fdevelopment%2Fapp-dir%2Fisolated-dev-build%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fisolated-dev-build%2Fnext.config.js?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -1,10 +1,6 @@\n /**\n  * @type {import('next').NextConfig}\n  */\n-const nextConfig = {\n-  experimental: {\n-    isolatedDevBuild: true,\n-  },\n-}\n+const nextConfig = {}\n \n module.exports = nextConfig"
        },
        {
            "sha": "5a6f7f19d7f0737c7a4115e65d25b69be595d65b",
            "filename": "test/integration/dist-dir/test/index.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 9,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Fdist-dir%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Fdist-dir%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fdist-dir%2Ftest%2Findex.test.js?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -68,15 +68,9 @@ describe('distDir', () => {\n \n       it('should build the app within the given `dist` directory', async () => {\n         // In isolated dev build, the distDir for development is `distDir/dev`\n-        if (process.env.__NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD === 'true') {\n-          expect(\n-            await fs.exists(join(__dirname, `/../dist/dev/${BUILD_MANIFEST}`))\n-          ).toBeTruthy()\n-        } else {\n-          expect(\n-            await fs.exists(join(__dirname, `/../dist/${BUILD_MANIFEST}`))\n-          ).toBeTruthy()\n-        }\n+        expect(\n+          await fs.exists(join(__dirname, `/../dist/dev/${BUILD_MANIFEST}`))\n+        ).toBeTruthy()\n       })\n       it('should not build the app within the default `.next` directory', async () => {\n         expect("
        },
        {
            "sha": "d20e2a5c7ee209d133f57d6a9857adb9084c650f",
            "filename": "test/integration/module-ids/test/index.test.js",
            "status": "modified",
            "additions": 17,
            "deletions": 6,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Fmodule-ids%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Fmodule-ids%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fmodule-ids%2Ftest%2Findex.test.js?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -8,10 +8,11 @@ import {\n   launchApp,\n   nextBuild,\n   renderViaHTTP,\n+  getDistDir,\n } from 'next-test-utils'\n \n const appDir = join(__dirname, '../')\n-\n+const originalIsNextDev = global.isNextDev\n let appPort\n let app\n \n@@ -23,9 +24,11 @@ describe('minified module ids', () => {\n     let staticBundles = ''\n \n     beforeAll(async () => {\n+      // getDistDir depends on global.isNextDev\n+      global.isNextDev = false\n       await nextBuild(appDir, [])\n \n-      const ssrPath = join(appDir, '.next/server/chunks/ssr/')\n+      const ssrPath = join(appDir, `${getDistDir()}/server/chunks/ssr/`)\n       const ssrBundleBasenames = (await fs.readdir(ssrPath)).filter((p) =>\n         p.match(/\\.js$/)\n       )\n@@ -34,7 +37,7 @@ describe('minified module ids', () => {\n         ssrBundles += output\n       }\n \n-      const staticPath = join(appDir, '.next/static/chunks/')\n+      const staticPath = join(appDir, `${getDistDir()}/static/chunks/`)\n       const staticBundleBasenames = (await fs.readdir(staticPath)).filter((p) =>\n         p.match(/\\.js$/)\n       )\n@@ -43,6 +46,9 @@ describe('minified module ids', () => {\n         staticBundles += output\n       }\n     })\n+    afterAll(() => {\n+      global.isNextDev = originalIsNextDev\n+    })\n \n     it('should have no long module ids for basic modules', async () => {\n       expect(ssrBundles).not.toContain('module-with-long-name')\n@@ -72,12 +78,14 @@ describe('minified module ids', () => {\n     let staticBundles = ''\n \n     beforeAll(async () => {\n+      // getDistDir depends on global.isNextDev\n+      global.isNextDev = true\n       appPort = await findPort()\n       app = await launchApp(appDir, appPort)\n \n       await renderViaHTTP(appPort, '/')\n \n-      const ssrPath = join(appDir, '.next/server/chunks/ssr/')\n+      const ssrPath = join(appDir, `${getDistDir()}/server/chunks/ssr/`)\n       const ssrBundleBasenames = (await fs.readdir(ssrPath)).filter((p) =>\n         p.match(/\\.js$/)\n       )\n@@ -86,7 +94,7 @@ describe('minified module ids', () => {\n         ssrBundles += output\n       }\n \n-      const staticPath = join(appDir, '.next/static/chunks/')\n+      const staticPath = join(appDir, `${getDistDir()}/static/chunks/`)\n       const staticBundleBasenames = (await fs.readdir(staticPath)).filter((p) =>\n         p.match(/\\.js$/)\n       )\n@@ -95,7 +103,10 @@ describe('minified module ids', () => {\n         staticBundles += output\n       }\n     })\n-    afterAll(() => killApp(app))\n+    afterAll(() => {\n+      global.isNextDev = originalIsNextDev\n+      killApp(app)\n+    })\n \n     it('should have long module ids for basic modules', async () => {\n       expect(ssrBundles).toContain('module-with-long-name')"
        },
        {
            "sha": "df7cd8fdb4010a0d80f97f8124ce0dcc4b0141dc",
            "filename": "test/integration/telemetry/test/config.test.js",
            "status": "modified",
            "additions": 53,
            "deletions": 0,
            "changes": 53,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Ftelemetry%2Ftest%2Fconfig.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Ftelemetry%2Ftest%2Fconfig.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftelemetry%2Ftest%2Fconfig.test.js?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -836,6 +836,59 @@ describe('config telemetry', () => {\n           )\n         }\n       })\n+\n+      it('emits telemetry for isolatedDevBuild enabled by default', async () => {\n+        let stderr\n+        try {\n+          const app = await nextBuild(appDir, [], {\n+            stderr: true,\n+            env: { NEXT_TELEMETRY_DEBUG: 1 },\n+          })\n+          stderr = app.stderr\n+\n+          const featureUsageEvents = findAllTelemetryEvents(\n+            stderr,\n+            'NEXT_BUILD_FEATURE_USAGE'\n+          )\n+          expect(featureUsageEvents).toContainEqual({\n+            featureName: 'experimental/isolatedDevBuild',\n+            invocationCount: 1,\n+          })\n+        } catch (err) {\n+          require('console').error('failing stderr', stderr, err)\n+          throw err\n+        }\n+      })\n+\n+      it('emits telemetry for isolatedDevBuild disabled', async () => {\n+        await fs.writeFile(\n+          path.join(appDir, 'next.config.js'),\n+          `module.exports = { experimental: { isolatedDevBuild: false } }`\n+        )\n+\n+        let stderr\n+        try {\n+          const app = await nextBuild(appDir, [], {\n+            stderr: true,\n+            env: { NEXT_TELEMETRY_DEBUG: 1 },\n+          })\n+          stderr = app.stderr\n+\n+          const featureUsageEvents = findAllTelemetryEvents(\n+            stderr,\n+            'NEXT_BUILD_FEATURE_USAGE'\n+          )\n+          expect(featureUsageEvents).toContainEqual({\n+            featureName: 'experimental/isolatedDevBuild',\n+            invocationCount: 0,\n+          })\n+        } catch (err) {\n+          require('console').error('failing stderr', stderr, err)\n+          throw err\n+        } finally {\n+          await fs.remove(path.join(appDir, 'next.config.js'))\n+        }\n+      })\n     }\n   )\n })"
        },
        {
            "sha": "7996d352f43b1634b55c59fbf6d9621ea3da97a2",
            "filename": "test/integration/typescript-app-type-declarations/next-env.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Ftypescript-app-type-declarations%2Fnext-env.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Ftypescript-app-type-declarations%2Fnext-env.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftypescript-app-type-declarations%2Fnext-env.d.ts?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -1,6 +1,6 @@\n /// <reference types=\"next\" />\n /// <reference types=\"next/image-types/global\" />\n-import \"./.next/types/routes.d.ts\";\n+import \"./.next/dev/types/routes.d.ts\";\n \n // NOTE: This file should not be edited\n // see https://nextjs.org/docs/pages/api-reference/config/typescript for more information."
        },
        {
            "sha": "fe655be6671491de356ff5f9c10530024fa70bde",
            "filename": "test/integration/typescript-app-type-declarations/test/index.test.js",
            "status": "modified",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Ftypescript-app-type-declarations%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Fintegration%2Ftypescript-app-type-declarations%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftypescript-app-type-declarations%2Ftest%2Findex.test.js?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -8,18 +8,6 @@ const appDir = join(__dirname, '..')\n const appTypeDeclarations = join(appDir, 'next-env.d.ts')\n \n describe('TypeScript App Type Declarations', () => {\n-  if (process.env.__NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD === 'true') {\n-    it.skip('should skip on isolated dev build', () => {\n-      // We use static fixture \"next-env.d.ts\" but the content should differ\n-      // based on the isolated dev build flag. We can't do something like\n-      // \"next-env-dev.d.ts\" because Next.js Types Plugin emits a file\n-      // \"next-env.d.ts\", and we have to change its behavior for this test case.\n-      // Rather than that, just skip the test as we're going to remove this flag soon.\n-      // Then modify the content to be \".next/dev/types/routes.d.ts\"\n-    })\n-    return\n-  }\n-\n   it('should write a new next-env.d.ts if none exist', async () => {\n     const prevContent = await fs.readFile(appTypeDeclarations, 'utf8')\n     try {"
        },
        {
            "sha": "af37a43fa8516875010790a2b67101dd86579128",
            "filename": "test/lib/next-test-utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Flib%2Fnext-test-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Flib%2Fnext-test-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-test-utils.ts?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -1895,9 +1895,7 @@ export function normalizeManifest<T>(\n export function getDistDir(): '.next' | '.next/dev' {\n   // global.isNextDev is set in e2e/development/production tests.\n   // NEXT_TEST_MODE is set in CI or local test-* commands.\n-  return ((global as any).isNextDev || process.env.NEXT_TEST_MODE === 'dev') &&\n-    // Flag for incremental rollout of isolated dev build, set in CI.\n-    process.env.__NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD === 'true'\n+  return (global as any).isNextDev || process.env.NEXT_TEST_MODE === 'dev'\n     ? '.next/dev'\n     : '.next'\n }"
        },
        {
            "sha": "1fdf060c32860ab78560ee1d19d96f7fe3ede710",
            "filename": "test/unit/isolated/config.test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Funit%2Fisolated%2Fconfig.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/22c5a06d8d312d29c4f7705abe4569d52f809af3/test%2Funit%2Fisolated%2Fconfig.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Fisolated%2Fconfig.test.ts?ref=22c5a06d8d312d29c4f7705abe4569d52f809af3",
            "patch": "@@ -38,12 +38,7 @@ describe('config', () => {\n \n   it('Should assign object defaults deeply to user config', async () => {\n     const config = await loadConfig(PHASE_DEVELOPMENT_SERVER, pathToConfigFn)\n-    // In isolatedDevBuild, the default distDir is \".next/dev\" during PHASE_DEVELOPMENT_SERVER.\n-    if (process.env.__NEXT_EXPERIMENTAL_ISOLATED_DEV_BUILD === 'true') {\n-      expect(config.distDir).toEqual('.next/dev')\n-    } else {\n-      expect(config.distDir).toEqual('.next')\n-    }\n+    expect(config.distDir.replace(/\\\\/g, '/')).toEqual('.next/dev')\n     expect(config.onDemandEntries.maxInactiveAge).toBeDefined()\n   })\n "
        }
    ],
    "stats": {
        "total": 135,
        "additions": 85,
        "deletions": 50
    }
}