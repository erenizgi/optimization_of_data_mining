{
    "author": "icyJoseph",
    "message": "docs: Middleware explicit runtime differences (#83348)\n\nIn previous docs versions, while not explicitly stated, it was rather\nclearer that middleware has its own runtime.\n\nAlso, people who have used bundle-analyzer would for example be familiar\nwith the 3 bundles, or those who have worked with\n`next.config.js`/instrumentation would understand that there's some\ndifferent runtimes at play going on there, but those who exclusively\nwork with middleware might still miss on this detail.\n\n---------\n\nCo-authored-by: JJ Kasper <jj@jjsweb.site>",
    "sha": "db1de21e2571be1624ef6a770950f711c6659a4c",
    "files": [
        {
            "sha": "43d3e990c7d4a90ee26180d3b16467b456c81822",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/middleware.mdx",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/db1de21e2571be1624ef6a770950f711c6659a4c/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fmiddleware.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/db1de21e2571be1624ef6a770950f711c6659a4c/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fmiddleware.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fmiddleware.mdx?ref=db1de21e2571be1624ef6a770950f711c6659a4c",
            "patch": "@@ -12,6 +12,12 @@ The `middleware.js|ts` file is used to write [Middleware](/docs/app/api-referenc\n \n Middleware executes before routes are rendered. It's particularly useful for implementing custom server-side logic like authentication, logging, or handling redirects.\n \n+> **Good to know**:\n+>\n+> Middleware is meant to be invoked separately of your render code and in optimized cases deployed to your CDN for fast redirect/rewrite handling, you should not attempt relying on shared modules or globals.\n+>\n+> To pass information from Middleware to your application, use [headers](#setting-headers), [cookies](#using-cookies), [rewrites](/docs/app/api-reference/functions/next-response#rewrite), [redirects](/docs/app/api-reference/functions/next-response#redirect), or the URL.\n+\n Create a `middleware.ts` (or `.js`) file in the project root, or inside `src` if applicable, so that it is located at the same level as `pages` or `app`.\n \n ```tsx filename=\"middleware.ts\" switcher\n@@ -281,7 +287,7 @@ export function middleware(request) {\n }\n ```\n \n-## Using Cookies\n+### Using Cookies\n \n Cookies are regular headers. On a `Request`, they are stored in the `Cookie` header. On a `Response` they are in the `Set-Cookie` header. Next.js provides a convenient way to access and manipulate these cookies through the `cookies` extension on `NextRequest` and `NextResponse`.\n "
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}