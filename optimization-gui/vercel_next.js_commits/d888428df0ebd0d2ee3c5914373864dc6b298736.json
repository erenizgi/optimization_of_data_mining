{
    "author": "huozhi",
    "message": "[devtool] css imports and share css variables (#81236)",
    "sha": "d888428df0ebd0d2ee3c5914373864dc6b298736",
    "files": [
        {
            "sha": "21fdd2d435d55ca2e640548fd9aa7a6d2dd4e493",
            "filename": "packages/next/next-devtools.webpack-config.js",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fnext-devtools.webpack-config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fnext-devtools.webpack-config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fnext-devtools.webpack-config.js?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -91,6 +91,21 @@ module.exports = ({ dev, ...rest }) => {\n           },\n           type: 'javascript/auto',\n         },\n+        {\n+          test: /\\.css$/,\n+          use: [\n+            {\n+              loader: 'style-loader',\n+              options: {\n+                injectType: 'singletonStyleTag',\n+                insert: require.resolve(\n+                  './src/build/webpack/loaders/devtool/devtool-style-inject.js'\n+                ),\n+              },\n+            },\n+            'css-loader',\n+          ],\n+        },\n       ],\n     },\n     externals: [],"
        },
        {
            "sha": "9d090b58e38c302db195feef2f9588fc7b327e16",
            "filename": "packages/next/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fpackage.json?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -251,6 +251,7 @@\n     \"cross-env\": \"6.0.3\",\n     \"cross-spawn\": \"7.0.3\",\n     \"crypto-browserify\": \"3.12.0\",\n+    \"css-loader\": \"7.1.2\",\n     \"css.escape\": \"1.5.1\",\n     \"cssnano-preset-default\": \"7.0.6\",\n     \"data-uri-to-buffer\": \"3.0.1\",\n@@ -327,6 +328,7 @@\n     \"string-hash\": \"1.1.3\",\n     \"string_decoder\": \"1.3.0\",\n     \"strip-ansi\": \"6.0.0\",\n+    \"style-loader\": \"4.0.0\",\n     \"superstruct\": \"1.0.3\",\n     \"tar\": \"6.1.15\",\n     \"taskr\": \"1.1.0\","
        },
        {
            "sha": "4e23aa631ec2d12996bc5ca4701f9da245d64868",
            "filename": "packages/next/src/build/webpack/loaders/devtool/devtool-style-inject.js",
            "status": "added",
            "additions": 153,
            "deletions": 0,
            "changes": 153,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fdevtool%2Fdevtool-style-inject.js",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fdevtool%2Fdevtool-style-inject.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fdevtool%2Fdevtool-style-inject.js?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -0,0 +1,153 @@\n+/* @ts-check */\n+/**\n+ * Style injection mechanism for Next.js devtools with shadow DOM support\n+ * Handles caching of style elements when the nextjs-portal shadow root is not available\n+ */\n+\n+// Global cache for style elements when shadow root is not available\n+if (typeof window !== 'undefined') {\n+  window._nextjsDevtoolsStyleCache = window._nextjsDevtoolsStyleCache || {\n+    pendingElements: [],\n+    isObserving: false,\n+    lastInsertedElement: null,\n+    cachedShadowRoot: null, // Cache the shadow root once found\n+  }\n+}\n+\n+/**\n+ * @returns {ShadowRoot | null}\n+ */\n+function getShadowRoot() {\n+  const cache = window._nextjsDevtoolsStyleCache\n+\n+  // Return cached shadow root if available\n+  if (cache.cachedShadowRoot) {\n+    return cache.cachedShadowRoot\n+  }\n+\n+  // Query the DOM and cache the result if found\n+  const portal = document.querySelector('nextjs-portal')\n+  const shadowRoot = portal?.shadowRoot || null\n+\n+  if (shadowRoot) {\n+    cache.cachedShadowRoot = shadowRoot\n+  }\n+\n+  return shadowRoot\n+}\n+\n+/**\n+ * @param {HTMLElement} element\n+ * @param {ShadowRoot} shadowRoot\n+ */\n+function insertElementIntoShadowRoot(element, shadowRoot) {\n+  const cache = window._nextjsDevtoolsStyleCache\n+\n+  if (!cache.lastInsertedElement) {\n+    shadowRoot.insertBefore(element, shadowRoot.firstChild)\n+  } else if (cache.lastInsertedElement.nextSibling) {\n+    shadowRoot.insertBefore(element, cache.lastInsertedElement.nextSibling)\n+  } else {\n+    shadowRoot.appendChild(element)\n+  }\n+\n+  cache.lastInsertedElement = element\n+}\n+\n+function flushCachedElements() {\n+  const cache = window._nextjsDevtoolsStyleCache\n+  const shadowRoot = getShadowRoot()\n+\n+  if (!shadowRoot) {\n+    return\n+  }\n+\n+  cache.pendingElements.forEach((element) => {\n+    insertElementIntoShadowRoot(element, shadowRoot)\n+  })\n+  cache.pendingElements = []\n+}\n+\n+function startObservingForPortal() {\n+  const cache = window._nextjsDevtoolsStyleCache\n+\n+  if (cache.isObserving) {\n+    return\n+  }\n+  cache.isObserving = true\n+\n+  // First check if the portal already exists\n+  const shadowRoot = getShadowRoot() // This will cache it if found\n+  if (shadowRoot) {\n+    flushCachedElements()\n+    return\n+  }\n+\n+  // Set up MutationObserver to watch for the portal element\n+  const observer = new MutationObserver((mutations) => {\n+    if (mutations.length === 0 || mutations[0].addedNodes.length === 0) {\n+      return\n+    }\n+\n+    // Check if mutation is script[data-nextjs-dev-overlay] tag, which is the\n+    // parent of the nextjs-portal element\n+    const mutationNode = mutations[0].addedNodes[0]\n+    let portalNode = null\n+    if (\n+      // app router: body > script[data-nextjs-dev-overlay] > nextjs-portal\n+      mutationNode.tagName === 'SCRIPT' &&\n+      mutationNode.getAttribute('data-nextjs-dev-overlay')\n+    ) {\n+      portalNode = mutationNode.firstChild\n+    } else if (\n+      // pages router: body > nextjs-portal\n+      mutationNode.tagName === 'NEXTJS-PORTAL'\n+    ) {\n+      portalNode = mutationNode\n+    }\n+    if (!portalNode) {\n+      return\n+    }\n+\n+    // Wait until shadow root is available\n+    const checkShadowRoot = () => {\n+      if (getShadowRoot()) {\n+        flushCachedElements()\n+        observer.disconnect()\n+        cache.isObserving = false\n+      } else {\n+        // Try again after a short delay\n+        setTimeout(checkShadowRoot, 50)\n+      }\n+    }\n+    checkShadowRoot()\n+  })\n+\n+  observer.observe(document.body, {\n+    childList: true,\n+    subtree: true,\n+  })\n+}\n+\n+/**\n+ * @param {HTMLElement} element\n+ */\n+function insertAtTop(element) {\n+  // Add special recognizable data prop to element\n+  element.setAttribute('data-nextjs-dev-tool-style', 'true')\n+\n+  const shadowRoot = getShadowRoot()\n+  if (shadowRoot) {\n+    // Shadow root is available, insert directly\n+    insertElementIntoShadowRoot(element, shadowRoot)\n+  } else {\n+    // Shadow root not available, cache the element\n+    const cache = window._nextjsDevtoolsStyleCache\n+    cache.pendingElements.push(element)\n+\n+    // Start observing for the portal if not already observing\n+    startObservingForPortal()\n+  }\n+}\n+\n+module.exports = insertAtTop"
        },
        {
            "sha": "aca1835233a02ec0be96d9af9c95a17cbb0a6262",
            "filename": "packages/next/src/next-devtools/components/tooltip.css",
            "status": "added",
            "additions": 60,
            "deletions": 0,
            "changes": 60,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.css",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.css",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.css?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -0,0 +1,60 @@\n+.tooltip-wrapper {\n+  position: relative;\n+  display: inline-block;\n+  line-height: 1;\n+}\n+\n+.tooltip {\n+  position: relative;\n+  padding: 6px 12px;\n+  border-radius: 8px;\n+  font-size: 14px;\n+  line-height: 1.4;\n+  min-width: 200px;\n+  pointer-events: none;\n+}\n+\n+.tooltip-arrow {\n+  position: absolute;\n+  width: 0;\n+  height: 0;\n+  border-style: solid;\n+  border-width: var(--arrow-size, 6px);\n+  border-color: transparent;\n+}\n+\n+.tooltip-arrow--top {\n+  border-width: var(--arrow-size, 6px) var(--arrow-size, 6px) 0\n+    var(--arrow-size, 6px);\n+  border-top-color: var(--tooltip-bg-color);\n+  bottom: 0;\n+  transform: translateY(100%);\n+}\n+\n+.tooltip-arrow--bottom {\n+  border-width: 0 var(--arrow-size, 6px) var(--arrow-size, 6px)\n+    var(--arrow-size, 6px);\n+  border-bottom-color: var(--tooltip-bg-color);\n+  top: 0;\n+  transform: translateY(-100%);\n+}\n+\n+.tooltip-arrow--left {\n+  border-width: var(--arrow-size, 6px) 0 var(--arrow-size, 6px)\n+    var(--arrow-size, 6px);\n+  border-left-color: var(--tooltip-bg-color);\n+  right: 0;\n+  transform: translateX(100%);\n+}\n+\n+.tooltip-arrow--right {\n+  border-width: var(--arrow-size, 6px) var(--arrow-size, 6px)\n+    var(--arrow-size, 6px) 0;\n+  border-right-color: var(--tooltip-bg-color);\n+  left: 0;\n+  transform: translateX(-100%);\n+}\n+\n+.tooltip-positioner {\n+  z-index: var(--top-z-index);\n+}"
        },
        {
            "sha": "536892b17dfe2fc2a8387b0dd937afba1288fbf7",
            "filename": "packages/next/src/next-devtools/components/tooltip.stories.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.stories.tsx?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -1,5 +1,5 @@\n import type { Meta, StoryObj } from '@storybook/react'\n-import { Tooltip, styles } from './tooltip'\n+import { Tooltip } from './tooltip'\n \n const meta: Meta<typeof Tooltip> = {\n   title: 'DevTools/Tooltip',\n@@ -57,7 +57,6 @@ export const Default: Story = {\n   },\n   render: (args) => (\n     <div>\n-      <style dangerouslySetInnerHTML={{ __html: styles }} />\n       <Tooltip {...args}>\n         <button\n           style={{\n@@ -88,7 +87,6 @@ export const AllDirections: Story = {\n   },\n   render: () => (\n     <div>\n-      <style dangerouslySetInnerHTML={{ __html: styles }} />\n       <div\n         style={{\n           display: 'grid',\n@@ -201,7 +199,6 @@ export const DifferentTriggers: Story = {\n   },\n   render: () => (\n     <div>\n-      <style dangerouslySetInnerHTML={{ __html: styles }} />\n       <div\n         style={{\n           display: 'flex',\n@@ -288,7 +285,6 @@ export const LongText: Story = {\n   },\n   render: (args) => (\n     <div>\n-      <style dangerouslySetInnerHTML={{ __html: styles }} />\n       <Tooltip {...args}>\n         <button\n           style={{"
        },
        {
            "sha": "d5b368dcb2efddaf4ddfe81bdc41906e914852d8",
            "filename": "packages/next/src/next-devtools/components/tooltip.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 59,
            "changes": 60,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fcomponents%2Ftooltip.tsx?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -1,6 +1,7 @@\n import { forwardRef } from 'react'\n import { Tooltip as BaseTooltip } from '@base-ui-components/react/tooltip'\n import { cx } from '../dev-overlay/utils/cx'\n+import './tooltip.css'\n \n type TooltipDirection = 'top' | 'bottom' | 'left' | 'right'\n \n@@ -80,62 +81,3 @@ export const Tooltip = forwardRef<HTMLDivElement, TooltipProps>(\n     )\n   }\n )\n-\n-export const styles = `\n-  .tooltip-wrapper {\n-    position: relative;\n-    display: inline-block;\n-    line-height: 1;\n-  }\n-\n-  .tooltip {\n-    position: relative;\n-    padding: 6px 12px;\n-    border-radius: 8px;\n-    font-size: 14px;\n-    line-height: 1.4;\n-    min-width: 200px;\n-    pointer-events: none;\n-  }\n-\n-  .tooltip-arrow {\n-    position: absolute;\n-    width: 0;\n-    height: 0;\n-    border-style: solid;\n-    border-width: var(--arrow-size, 6px);\n-    border-color: transparent;\n-  }\n-\n-  .tooltip-arrow--top {\n-    border-width: var(--arrow-size, 6px) var(--arrow-size, 6px) 0 var(--arrow-size, 6px);\n-    border-top-color: var(--tooltip-bg-color);\n-    bottom: 0;\n-    transform: translateY(100%);\n-  }\n-\n-  .tooltip-arrow--bottom {\n-    border-width: 0 var(--arrow-size, 6px) var(--arrow-size, 6px) var(--arrow-size, 6px);\n-    border-bottom-color: var(--tooltip-bg-color);\n-    top: 0;\n-    transform: translateY(-100%);\n-  }\n-\n-  .tooltip-arrow--left {\n-    border-width: var(--arrow-size, 6px) 0 var(--arrow-size, 6px) var(--arrow-size, 6px);\n-    border-left-color: var(--tooltip-bg-color);\n-    right: 0;\n-    transform: translateX(100%);\n-  }\n-\n-  .tooltip-arrow--right {\n-    border-width: var(--arrow-size, 6px) var(--arrow-size, 6px) var(--arrow-size, 6px) 0;\n-    border-right-color: var(--tooltip-bg-color);\n-    left: 0;\n-    transform: translateX(-100%);\n-  }\n-  \n-  .tooltip-positioner {\n-    z-index: 3;\n-  }\n-`"
        },
        {
            "sha": "7ed84105aa555d0567b4b46b67bd0181bd8e168a",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/overview/segment-explorer.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Foverview%2Fsegment-explorer.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Foverview%2Fsegment-explorer.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Foverview%2Fsegment-explorer.tsx?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -8,7 +8,7 @@ import {\n   SegmentBoundaryTrigger,\n   styles as segmentBoundaryTriggerStyles,\n } from './segment-boundary-trigger'\n-import { Tooltip, styles as tooltipStyles } from '../../../components/tooltip'\n+import { Tooltip } from '../../../components/tooltip'\n import { useRef, useState } from 'react'\n \n const BUILTIN_PREFIX = '__next_builtin__'\n@@ -366,8 +366,6 @@ export const DEV_TOOLS_INFO_RENDER_FILES_STYLES = css`\n   }\n \n   ${segmentBoundaryTriggerStyles}\n-\n-  ${tooltipStyles}\n `\n \n function openInEditor({ filePath }: { filePath: string }) {"
        },
        {
            "sha": "cb448632d46aebc720b61435a10f60b23ed26cb5",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/shadow-portal.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fshadow-portal.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fshadow-portal.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fshadow-portal.tsx?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -30,7 +30,7 @@ export function ShadowPortal({ children }: { children: React.ReactNode }) {\n     // So if this is a remount, we don't need to attach a shadow root. Only\n     // on the very first, DOM-wide mount.\n     // This is mostly guarding against faulty _app implementations that\n-    // createa React Root in getInitialProps but don't clean it up like test/integration/app-tree/pages/_app.tsx\n+    // create React Root in getInitialProps but don't clean it up like test/integration/app-tree/pages/_app.tsx\n     if (portalNode.current.shadowRoot === null) {\n       shadowNode.current = portalNode.current.attachShadow({ mode: 'open' })\n     }"
        },
        {
            "sha": "effe5db785db029fbe847199024926db9c365b63",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/toast/index.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Findex.tsx?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -1,2 +1,2 @@\n-export { styles } from './styles'\n+import './style.css'\n export { Toast } from './toast'"
        },
        {
            "sha": "401d7971f50ded681c201466a0d62e006da351e9",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/toast/style.css",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Fstyle.css",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Fstyle.css",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Fstyle.css?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -0,0 +1,14 @@\n+.nextjs-toast {\n+  position: fixed;\n+  z-index: var(--top-z-index);\n+  max-width: 420px;\n+  box-shadow: 0px 16px 32px rgba(0, 0, 0, 0.25);\n+}\n+\n+.nextjs-toast-errors-parent {\n+  padding: 16px;\n+  border-radius: var(--rounded-4xl);\n+  font-weight: 500;\n+  color: var(--color-ansi-bright-white);\n+  background-color: var(--color-ansi-red);\n+}"
        },
        {
            "sha": "025cecfbf781cb1213499e06f1833c0dc793402b",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/toast/styles.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/fb9334d0db8e49888c530fdb6c4e61aa2aa3a7dd/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Fstyles.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/fb9334d0db8e49888c530fdb6c4e61aa2aa3a7dd/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Fstyles.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ftoast%2Fstyles.ts?ref=fb9334d0db8e49888c530fdb6c4e61aa2aa3a7dd",
            "patch": "@@ -1,19 +0,0 @@\n-const styles = `\n-  .nextjs-toast {\n-    position: fixed;\n-    z-index: 2147483647;\n-    max-width: 420px;\n-    box-shadow: 0px 16px 32px\n-      rgba(0, 0, 0, 0.25);\n-  }\n-\n-  .nextjs-toast-errors-parent {\n-    padding: 16px;\n-    border-radius: var(--rounded-4xl);\n-    font-weight: 500;\n-    color: var(--color-ansi-bright-white);\n-    background-color: var(--color-ansi-red);\n-  }\n-`\n-\n-export { styles }"
        },
        {
            "sha": "1d5a2a94fb3abb29bab83c0665ea77acdca7df97",
            "filename": "packages/next/src/next-devtools/dev-overlay/styles/component-styles.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -6,7 +6,6 @@ import { styles as pagination } from '../components/errors/error-overlay-paginat\n import { styles as overlay } from '../components/overlay/styles'\n import { styles as footer } from '../components/errors/error-overlay-footer/error-overlay-footer'\n import { TERMINAL_STYLES } from '../components/terminal/terminal'\n-import { styles as toast } from '../components/toast'\n import { styles as versionStaleness } from '../components/version-staleness-info/version-staleness-info'\n import { styles as buildErrorStyles } from '../container/build-error'\n import { styles as containerErrorStyles } from '../container/errors'\n@@ -49,7 +48,6 @@ export function ComponentStyles() {\n         ${CALL_STACK_STYLES}\n         ${ENVIRONMENT_NAME_LABEL_STYLES}\n         ${overlay}\n-        ${toast}\n         ${dialog}\n         ${errorLayout}\n         ${footer}"
        },
        {
            "sha": "2ffa29ee414972552429900ad6b31cb79775c261",
            "filename": "packages/next/src/next-devtools/entrypoint.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fentrypoint.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fentrypoint.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fentrypoint.ts?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -1 +1,3 @@\n+import './global.css'\n+import './dev-overlay/components/toast/style.css'\n export * from './dev-overlay.browser'"
        },
        {
            "sha": "d96dc0f461b0fe0f7b817922191cc0f558ce7627",
            "filename": "packages/next/src/next-devtools/global.css",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fglobal.css",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fglobal.css",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fglobal.css?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -0,0 +1,4 @@\n+/* devtool global css variables */\n+:host {\n+  --top-z-index: 2147483647;\n+}"
        },
        {
            "sha": "beeeb12c57dbff932d5f5e64a1eb4c34f06b12fe",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 60,
            "deletions": 28,
            "changes": 88,
            "blob_url": "https://github.com/vercel/next.js/blob/d888428df0ebd0d2ee3c5914373864dc6b298736/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/d888428df0ebd0d2ee3c5914373864dc6b298736/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=d888428df0ebd0d2ee3c5914373864dc6b298736",
            "patch": "@@ -1291,6 +1291,9 @@ importers:\n       crypto-browserify:\n         specifier: 3.12.0\n         version: 3.12.0\n+      css-loader:\n+        specifier: 7.1.2\n+        version: 7.1.2(@rspack/core@1.3.12(@swc/helpers@0.5.15))(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2))\n       css.escape:\n         specifier: 1.5.1\n         version: 1.5.1\n@@ -1519,6 +1522,9 @@ importers:\n       strip-ansi:\n         specifier: 6.0.0\n         version: 6.0.0\n+      style-loader:\n+        specifier: 4.0.0\n+        version: 4.0.0(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2))\n       superstruct:\n         specifier: 1.0.3\n         version: 1.0.3\n@@ -7631,6 +7637,18 @@ packages:\n       webpack:\n         optional: true\n \n+  css-loader@7.1.2:\n+    resolution: {integrity: sha512-6WvYYn7l/XEGN8Xu2vWFt9nVzrCn39vKyTEFf/ExEyoksJjjSZV/0/35XPlMbpnr6VGhZIUg5yJrL8tGfes/FA==}\n+    engines: {node: '>= 18.12.0'}\n+    peerDependencies:\n+      '@rspack/core': 0.x || 1.x\n+      webpack: 5.98.0\n+    peerDependenciesMeta:\n+      '@rspack/core':\n+        optional: true\n+      webpack:\n+        optional: true\n+\n   css-prefers-color-scheme@6.0.3:\n     resolution: {integrity: sha512-4BqMbZksRkJQx2zAjrokiGMd07RqOa2IxIrrN10lyBe9xhn9DEvjUK79J6jkeiv9D9hQFXKb6g1jwU62jziJZA==}\n     engines: {node: ^12 || ^14 || >=16}\n@@ -13602,10 +13620,6 @@ packages:\n     resolution: {integrity: sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==}\n     engines: {node: ^10 || ^12 || >=14}\n \n-  postcss@8.4.49:\n-    resolution: {integrity: sha512-OCVPnIObs4N29kxTjzLfUryOkvZEq+pf8jTF0lg8E7uETuWHA+v7j3c/xJmiqpX450191LlmZfUKkXxkTry7nA==}\n-    engines: {node: ^10 || ^12 || >=14}\n-\n   postcss@8.5.3:\n     resolution: {integrity: sha512-dle9A3yYxlBSrt8Fu+IpjGT8SY8hN0mlaA6GY8t0P5PjIOZemULz/E2Bnm/2dcUOena75OTNkHI76uZBNUUq3A==}\n     engines: {node: ^10 || ^12 || >=14}\n@@ -15319,6 +15333,12 @@ packages:\n     peerDependencies:\n       webpack: 5.98.0\n \n+  style-loader@4.0.0:\n+    resolution: {integrity: sha512-1V4WqhhZZgjVAVJyt7TdDPZoPBPNHbekX4fWnCJL1yQukhCeZhJySUL+gL9y6sNdN95uEOS83Y55SqHcP7MzLA==}\n+    engines: {node: '>= 18.12.0'}\n+    peerDependencies:\n+      webpack: 5.98.0\n+\n   style-to-object@0.4.1:\n     resolution: {integrity: sha512-HFpbb5gr2ypci7Qw+IOhnP2zOU7e77b+rzM+wTzXzfi1PrtBCX0E7Pk4wL4iTLnhzZ+JgEGAhX81ebTg/aYjQw==}\n \n@@ -23910,12 +23930,26 @@ snapshots:\n \n   css-loader@6.11.0(@rspack/core@1.3.12(@swc/helpers@0.5.15))(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)):\n     dependencies:\n-      icss-utils: 5.1.0(postcss@8.4.49)\n-      postcss: 8.4.49\n-      postcss-modules-extract-imports: 3.1.0(postcss@8.4.49)\n-      postcss-modules-local-by-default: 4.2.0(postcss@8.4.49)\n-      postcss-modules-scope: 3.2.1(postcss@8.4.49)\n-      postcss-modules-values: 4.0.0(postcss@8.4.49)\n+      icss-utils: 5.1.0(postcss@8.5.3)\n+      postcss: 8.5.3\n+      postcss-modules-extract-imports: 3.1.0(postcss@8.5.3)\n+      postcss-modules-local-by-default: 4.2.0(postcss@8.5.3)\n+      postcss-modules-scope: 3.2.1(postcss@8.5.3)\n+      postcss-modules-values: 4.0.0(postcss@8.5.3)\n+      postcss-value-parser: 4.2.0\n+      semver: 7.6.3\n+    optionalDependencies:\n+      '@rspack/core': 1.3.12(@swc/helpers@0.5.15)\n+      webpack: 5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)\n+\n+  css-loader@7.1.2(@rspack/core@1.3.12(@swc/helpers@0.5.15))(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)):\n+    dependencies:\n+      icss-utils: 5.1.0(postcss@8.5.3)\n+      postcss: 8.5.3\n+      postcss-modules-extract-imports: 3.1.0(postcss@8.5.3)\n+      postcss-modules-local-by-default: 4.2.0(postcss@8.5.3)\n+      postcss-modules-scope: 3.2.1(postcss@8.5.3)\n+      postcss-modules-values: 4.0.0(postcss@8.5.3)\n       postcss-value-parser: 4.2.0\n       semver: 7.6.3\n     optionalDependencies:\n@@ -27163,9 +27197,9 @@ snapshots:\n     dependencies:\n       postcss: 8.4.31\n \n-  icss-utils@5.1.0(postcss@8.4.49):\n+  icss-utils@5.1.0(postcss@8.5.3):\n     dependencies:\n-      postcss: 8.4.49\n+      postcss: 8.5.3\n \n   idb@3.0.2: {}\n \n@@ -31395,9 +31429,9 @@ snapshots:\n     dependencies:\n       postcss: 8.4.31\n \n-  postcss-modules-extract-imports@3.1.0(postcss@8.4.49):\n+  postcss-modules-extract-imports@3.1.0(postcss@8.5.3):\n     dependencies:\n-      postcss: 8.4.49\n+      postcss: 8.5.3\n \n   postcss-modules-local-by-default@4.2.0(postcss@8.4.31):\n     dependencies:\n@@ -31406,10 +31440,10 @@ snapshots:\n       postcss-selector-parser: 7.0.0\n       postcss-value-parser: 4.2.0\n \n-  postcss-modules-local-by-default@4.2.0(postcss@8.4.49):\n+  postcss-modules-local-by-default@4.2.0(postcss@8.5.3):\n     dependencies:\n-      icss-utils: 5.1.0(postcss@8.4.49)\n-      postcss: 8.4.49\n+      icss-utils: 5.1.0(postcss@8.5.3)\n+      postcss: 8.5.3\n       postcss-selector-parser: 7.0.0\n       postcss-value-parser: 4.2.0\n \n@@ -31418,20 +31452,20 @@ snapshots:\n       postcss: 8.4.31\n       postcss-selector-parser: 6.0.10\n \n-  postcss-modules-scope@3.2.1(postcss@8.4.49):\n+  postcss-modules-scope@3.2.1(postcss@8.5.3):\n     dependencies:\n-      postcss: 8.4.49\n+      postcss: 8.5.3\n       postcss-selector-parser: 7.0.0\n \n   postcss-modules-values@4.0.0(postcss@8.4.31):\n     dependencies:\n       icss-utils: 5.1.0(postcss@8.4.31)\n       postcss: 8.4.31\n \n-  postcss-modules-values@4.0.0(postcss@8.4.49):\n+  postcss-modules-values@4.0.0(postcss@8.5.3):\n     dependencies:\n-      icss-utils: 5.1.0(postcss@8.4.49)\n-      postcss: 8.4.49\n+      icss-utils: 5.1.0(postcss@8.5.3)\n+      postcss: 8.5.3\n \n   postcss-modules@4.0.0(postcss@8.4.31):\n     dependencies:\n@@ -31799,12 +31833,6 @@ snapshots:\n       picocolors: 1.1.0\n       source-map-js: 1.2.1\n \n-  postcss@8.4.49:\n-    dependencies:\n-      nanoid: 3.3.7\n-      picocolors: 1.1.1\n-      source-map-js: 1.2.1\n-\n   postcss@8.5.3:\n     dependencies:\n       nanoid: 3.3.11\n@@ -33825,6 +33853,10 @@ snapshots:\n     dependencies:\n       webpack: 5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)\n \n+  style-loader@4.0.0(webpack@5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)):\n+    dependencies:\n+      webpack: 5.98.0(@swc/core@1.11.24(@swc/helpers@0.5.15))(esbuild@0.24.2)\n+\n   style-to-object@0.4.1:\n     dependencies:\n       inline-style-parser: 0.1.1"
        }
    ],
    "stats": {
        "total": 433,
        "additions": 315,
        "deletions": 118
    }
}