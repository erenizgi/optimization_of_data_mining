{
    "author": "wbinnssmith",
    "message": "Built-in swc loader plugin for additional bundler\n (#76023)\n\nAdded support for a built-in SWC loader in Rspack configuration when `BUILTIN_SWC_LOADER` environment variable is set.\n\nPorted from https://github.com/vercel/next.js/tree/wbinnssmith/try-ci-test, originally by @SyMind.",
    "sha": "13737cde3c83e1f7899044ee423b112d91767b79",
    "files": [
        {
            "sha": "877100ba884f9fd971c947020a704bd34daa2067",
            "filename": "packages/next/src/build/webpack-config.ts",
            "status": "modified",
            "additions": 39,
            "deletions": 0,
            "changes": 39,
            "blob_url": "https://github.com/vercel/next.js/blob/13737cde3c83e1f7899044ee423b112d91767b79/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/13737cde3c83e1f7899044ee423b112d91767b79/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts?ref=13737cde3c83e1f7899044ee423b112d91767b79",
            "patch": "@@ -480,6 +480,45 @@ export default async function getBaseWebpackConfig(\n       )\n     }\n \n+    const useBuiltinSwcLoader = process.env.BUILTIN_SWC_LOADER\n+    if (isRspack && useBuiltinSwcLoader) {\n+      return {\n+        loader: 'builtin:next-swc-loader',\n+        options: {\n+          isServer: isNodeOrEdgeCompilation,\n+          rootDir: dir,\n+          pagesDir,\n+          appDir,\n+          hasReactRefresh: dev && isClient,\n+          transpilePackages: finalTranspilePackages,\n+          supportedBrowsers,\n+          swcCacheDir: path.join(\n+            dir,\n+            config?.distDir ?? '.next',\n+            'cache',\n+            'swc'\n+          ),\n+          serverReferenceHashSalt: encryptionKey,\n+\n+          // rspack specific options\n+          pnp: Boolean(process.versions.pnp),\n+          optimizeServerReact: Boolean(config.experimental.optimizeServerReact),\n+          modularizeImports: config.modularizeImports,\n+          decorators: Boolean(\n+            jsConfig?.compilerOptions?.experimentalDecorators\n+          ),\n+          emitDecoratorMetadata: Boolean(\n+            jsConfig?.compilerOptions?.emitDecoratorMetadata\n+          ),\n+          regeneratorRuntimePath: require.resolve(\n+            'next/dist/compiled/regenerator-runtime'\n+          ),\n+\n+          ...extraOptions,\n+        },\n+      }\n+    }\n+\n     return {\n       loader: 'next-swc-loader',\n       options: {"
        }
    ],
    "stats": {
        "total": 39,
        "additions": 39,
        "deletions": 0
    }
}