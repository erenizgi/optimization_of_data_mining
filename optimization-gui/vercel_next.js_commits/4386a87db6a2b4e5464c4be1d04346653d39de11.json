{
    "author": "raunofreiberg",
    "message": "[dev-overlay] Discontinue using `rem` for the UI (#76969)\n\nThis PR reverts our decision to use `rem` for the Dev Overlay surfaces. \n\nWe have realised that using `rem` to style the Dev Overlays is not a\ngood idea because if an app sets their root font size to something tiny,\nthey will not have a great time using the Overlays, and it feels\nunexpected to have the app root size leak into an external package.\n\nI did not remove the references to `--size-*` CSS vars because we still\nwant to offer a way to scale the size of the UI, just through a custom\ninterface in the dropdown menu\n\n---\n- https://github.com/vercel/next.js/discussions/76812\n- Closes NDX-969",
    "sha": "4386a87db6a2b4e5464c4be1d04346653d39de11",
    "files": [
        {
            "sha": "0a1d86a75b1abe60e9be43910433801ee10c74c0",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/errors/dev-tools-indicator/next-logo.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4386a87db6a2b4e5464c4be1d04346653d39de11/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fnext-logo.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/4386a87db6a2b4e5464c4be1d04346653d39de11/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fnext-logo.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Fdev-tools-indicator%2Fnext-logo.tsx?ref=4386a87db6a2b4e5464c4be1d04346653d39de11",
            "patch": "@@ -12,8 +12,7 @@ interface Props extends React.ComponentProps<'button'> {\n   toggleErrorOverlay: () => void\n }\n \n-const SIZE = '2.25rem' // 36px in 16px base\n-const SIZE_PX = 36\n+const SIZE = 36\n const SHORT_DURATION_MS = 150\n \n export const NextLogo = forwardRef(function NextLogo(\n@@ -46,7 +45,7 @@ export const NextLogo = forwardRef(function NextLogo(\n   const style = useMemo(() => {\n     let width: number | string = SIZE\n     // Animates the badge, if expanded\n-    if (measuredWidth > SIZE_PX) width = measuredWidth\n+    if (measuredWidth > SIZE) width = measuredWidth\n     // No animations on page load, assume the intrinsic width immediately\n     if (pristine && hasError) width = 'auto'\n     // Default state, collapsed\n@@ -62,7 +61,7 @@ export const NextLogo = forwardRef(function NextLogo(\n       data-next-badge-root\n       style={\n         {\n-          '--size': SIZE,\n+          '--size': `${SIZE}px`,\n           '--duration-short': `${SHORT_DURATION_MS}ms`,\n           // if the indicator is disabled, hide the badge\n           // also allow the \"disabled\" state be dismissed, as long as there are no build errors"
        },
        {
            "sha": "26e5ec4bc13b2a5d9ef119ef2ab97049c27dab43",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/errors/error-overlay-nav/error-overlay-nav.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4386a87db6a2b4e5464c4be1d04346653d39de11/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/4386a87db6a2b4e5464c4be1d04346653d39de11/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Ferror-overlay-nav%2Ferror-overlay-nav.tsx?ref=4386a87db6a2b4e5464c4be1d04346653d39de11",
            "patch": "@@ -43,7 +43,7 @@ export function ErrorOverlayNav({\n \n export const styles = `\n   [data-nextjs-error-overlay-nav] {\n-    --notch-height: 2.625rem; /* 42px */\n+    --notch-height: 42px;\n     display: flex;\n     justify-content: space-between;\n     align-items: center;"
        },
        {
            "sha": "43a4b69018bd7bf100c0cc162af9136edf7fb69f",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/styles/base.tsx",
            "status": "modified",
            "additions": 44,
            "deletions": 37,
            "changes": 81,
            "blob_url": "https://github.com/vercel/next.js/blob/4386a87db6a2b4e5464c4be1d04346653d39de11/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fstyles%2Fbase.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/4386a87db6a2b4e5464c4be1d04346653d39de11/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fstyles%2Fbase.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fstyles%2Fbase.tsx?ref=4386a87db6a2b4e5464c4be1d04346653d39de11",
            "patch": "@@ -70,44 +70,51 @@ export function Base() {\n           --rounded-full: 9999px;\n \n           /* \n-            Suffix N of --size-N as px value when the base font size is 16px.\n-            Example: --size-1 is 1px, --size-2 is 2px, --size-3 is 3px, etc.\n+            These used to be in rem units but we have realised\n+            that using rem to style the Dev Overlays is not a\n+            good idea because if the user sets their root font size\n+            to something tiny, they will not have a great time using\n+            the Overlays because they will appear unexpectedly tiny.\n+\n+            In the future, we want to use these variables to offer\n+            a custom preference in the dropdown menu to alter the size\n+            of the Overlays.\n+\n+            Ref: https://github.com/vercel/next.js/discussions/76812\n           */\n-          --size-1: 0.0625rem; /* 1px */\n-          --size-2: 0.125rem; /* 2px */\n-          --size-3: 0.1875rem; /* 3px */\n-          --size-4: 0.25rem; /* ...and more */\n-          --size-5: 0.3125rem;\n-          --size-6: 0.375rem;\n-          --size-7: 0.4375rem;\n-          --size-8: 0.5rem;\n-          --size-9: 0.5625rem;\n-          --size-10: 0.625rem;\n-          --size-11: 0.6875rem;\n-          --size-12: 0.75rem;\n-          --size-13: 0.8125rem;\n-          --size-14: 0.875rem;\n-          --size-15: 0.9375rem;\n-          /* If the base font size of the dev overlay changes e.g. 18px, \n-          just slide the window and make --size-18 as 1rem. */\n-          --size-16: 1rem;\n-          --size-17: 1.0625rem;\n-          --size-18: 1.125rem;\n-          --size-20: 1.25rem;\n-          --size-22: 1.375rem;\n-          --size-24: 1.5rem;\n-          --size-26: 1.625rem;\n-          --size-28: 1.75rem;\n-          --size-30: 1.875rem;\n-          --size-32: 2rem;\n-          --size-34: 2.125rem;\n-          --size-36: 2.25rem;\n-          --size-38: 2.375rem;\n-          --size-40: 2.5rem;\n-          --size-42: 2.625rem;\n-          --size-44: 2.75rem;\n-          --size-46: 2.875rem;\n-          --size-48: 3rem;\n+          --size-1: 1px;\n+          --size-2: 2px;\n+          --size-3: 3px;\n+          --size-4: 4px;\n+          --size-5: 5px;\n+          --size-6: 6px;\n+          --size-7: 7px;\n+          --size-8: 8px;\n+          --size-9: 9px;\n+          --size-10: 10px;\n+          --size-11: 11px;\n+          --size-12: 12px;\n+          --size-13: 13px;\n+          --size-14: 14px;\n+          --size-15: 15px;\n+          --size-16: 16px;\n+          --size-17: 17px;\n+          --size-18: 18px;\n+          --size-20: 20px;\n+          --size-22: 22px;\n+          --size-24: 24px;\n+          --size-26: 26px;\n+          --size-28: 28px;\n+          --size-30: 30px;\n+          --size-32: 32px;\n+          --size-34: 34px;\n+          --size-36: 36px;\n+          --size-38: 38px;\n+          --size-40: 40px;\n+          --size-42: 42px;\n+          --size-44: 44px;\n+          --size-46: 46px;\n+          --size-48: 48px;\n \n           @media print {\n             display: none;"
        }
    ],
    "stats": {
        "total": 90,
        "additions": 48,
        "deletions": 42
    }
}