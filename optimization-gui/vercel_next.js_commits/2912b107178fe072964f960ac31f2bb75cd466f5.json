{
    "author": "devjiwonchoi",
    "message": "OTel: use `srcPage` for templates when `next.route` is unavailable (#83911)\n\n### Why?\n\nsrcPage is relatively lower cardinality, so use this if available.\n\nIn the base-server handleRequest, it is the entry of the request, so no\nlow-cardinality target is available.\n\n\nhttps://github.com/vercel/next.js/pull/75416/files#diff-6f4291cc2bfc5073fdca12a014011769e840ee68583db1468acef075f037015aR891",
    "sha": "2912b107178fe072964f960ac31f2bb75cd466f5",
    "files": [
        {
            "sha": "467a8147e0755bf5f5de6732f3cfecbd6318c774",
            "filename": "packages/next/src/build/templates/app-page.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-page.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-page.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-page.ts?ref=2912b107178fe072964f960ac31f2bb75cd466f5",
            "patch": "@@ -459,7 +459,7 @@ export async function handler(\n           })\n           span.updateName(name)\n         } else {\n-          span.updateName(`${method}`)\n+          span.updateName(`${method} ${srcPage}`)\n         }\n       })\n     }\n@@ -1393,7 +1393,7 @@ export async function handler(\n         tracer.trace(\n           BaseServerSpan.handleRequest,\n           {\n-            spanName: `${method}`,\n+            spanName: `${method} ${srcPage}`,\n             kind: SpanKind.SERVER,\n             attributes: {\n               'http.method': method,"
        },
        {
            "sha": "7b13d91367c09e30466f8fd15db628449c5ed235",
            "filename": "packages/next/src/build/templates/app-route.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-route.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-route.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fapp-route.ts?ref=2912b107178fe072964f960ac31f2bb75cd466f5",
            "patch": "@@ -257,7 +257,7 @@ export async function handler(\n           })\n           span.updateName(name)\n         } else {\n-          span.updateName(`${method}`)\n+          span.updateName(`${method} ${srcPage}`)\n         }\n       })\n     }\n@@ -454,7 +454,7 @@ export async function handler(\n         tracer.trace(\n           BaseServerSpan.handleRequest,\n           {\n-            spanName: `${method}`,\n+            spanName: `${method} ${srcPage}`,\n             kind: SpanKind.SERVER,\n             attributes: {\n               'http.method': method,"
        },
        {
            "sha": "51383692864164c57d6dfd1bb283f3eadee00ec7",
            "filename": "packages/next/src/build/templates/edge-ssr-app.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fedge-ssr-app.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fedge-ssr-app.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fedge-ssr-app.ts?ref=2912b107178fe072964f960ac31f2bb75cd466f5",
            "patch": "@@ -316,7 +316,7 @@ async function requestHandler(\n             })\n             span.updateName(name)\n           } else {\n-            span.updateName(`${req.method}`)\n+            span.updateName(`${req.method} ${srcPage}`)\n           }\n         })\n \n@@ -339,7 +339,7 @@ async function requestHandler(\n     tracer.trace(\n       BaseServerSpan.handleRequest,\n       {\n-        spanName: `${req.method}`,\n+        spanName: `${req.method} ${srcPage}`,\n         kind: SpanKind.SERVER,\n         attributes: {\n           'http.method': req.method,"
        },
        {
            "sha": "f1002b14b846396b60904a914219e7b288ff143a",
            "filename": "packages/next/src/build/templates/edge-ssr.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fedge-ssr.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fedge-ssr.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fedge-ssr.ts?ref=2912b107178fe072964f960ac31f2bb75cd466f5",
            "patch": "@@ -296,7 +296,7 @@ async function requestHandler(\n             })\n             span.updateName(name)\n           } else {\n-            span.updateName(`${req.method}`)\n+            span.updateName(`${req.method} ${srcPage}`)\n           }\n         })\n \n@@ -343,7 +343,7 @@ async function requestHandler(\n     tracer.trace(\n       BaseServerSpan.handleRequest,\n       {\n-        spanName: `${req.method}`,\n+        spanName: `${req.method} ${srcPage}`,\n         kind: SpanKind.SERVER,\n         attributes: {\n           'http.method': req.method,"
        },
        {
            "sha": "af909514c6e5c541e0151e2c40b51270b44becb4",
            "filename": "packages/next/src/build/templates/pages-api.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fpages-api.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2912b107178fe072964f960ac31f2bb75cd466f5/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fpages-api.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftemplates%2Fpages-api.ts?ref=2912b107178fe072964f960ac31f2bb75cd466f5",
            "patch": "@@ -133,7 +133,7 @@ export async function handler(\n             })\n             span.updateName(name)\n           } else {\n-            span.updateName(`${method}`)\n+            span.updateName(`${method} ${srcPage}`)\n           }\n         })\n \n@@ -146,7 +146,7 @@ export async function handler(\n         tracer.trace(\n           BaseServerSpan.handleRequest,\n           {\n-            spanName: `${method}`,\n+            spanName: `${method} ${srcPage}`,\n             kind: SpanKind.SERVER,\n             attributes: {\n               'http.method': method,"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 10,
        "deletions": 10
    }
}