{
    "author": "mischnic",
    "message": "Turbopack: improve next/dynamic eventual consistentcy (#84560)\n\nUse bail instead of panic to better recover from eventual consistency situations.",
    "sha": "7453d200579512a6574f9c53edd716e5cc01615c",
    "files": [
        {
            "sha": "799a275eb4b5a41476514d173c1d4be4aa76f4a3",
            "filename": "crates/next-api/src/dynamic_imports.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/7453d200579512a6574f9c53edd716e5cc01615c/crates%2Fnext-api%2Fsrc%2Fdynamic_imports.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/7453d200579512a6574f9c53edd716e5cc01615c/crates%2Fnext-api%2Fsrc%2Fdynamic_imports.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fdynamic_imports.rs?ref=7453d200579512a6574f9c53edd716e5cc01615c",
            "patch": "@@ -19,7 +19,7 @@\n //!      to wait until all the dynamic components are being loaded, this ensures hydration mismatch\n //!      won't occur\n \n-use anyhow::Result;\n+use anyhow::{Context, Result};\n use next_core::{\n     next_app::ClientReferencesChunks, next_client_reference::EcmascriptClientReferenceModule,\n     next_dynamic::NextDynamicEntryModule,\n@@ -66,8 +66,12 @@ pub(crate) async fn collect_next_dynamic_chunks(\n                 NextDynamicChunkAvailability::ClientReferences(client_reference_chunks) => {\n                     client_reference_chunks\n                         .client_component_client_chunks\n-                        .get(&parent_client_reference.unwrap())\n-                        .unwrap()\n+                        .get(\n+                            &parent_client_reference.context(\n+                                \"Parent client reference not found for next/dynamic import\",\n+                            )?,\n+                        )\n+                        .context(\"Client reference chunk group not found for next/dynamic import\")?\n                         .availability_info\n                 }\n                 NextDynamicChunkAvailability::AvailabilityInfo(availability_info) => {"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}