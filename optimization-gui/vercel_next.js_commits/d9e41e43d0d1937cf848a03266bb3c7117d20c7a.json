{
    "author": "delbaoliveira",
    "message": "Docs IA 2.0: Create intercepting and parallel routes API reference (#79405)\n\nParallel and intercepting routes are more \"side-quests\" than main\nfeatures, so they are not included in the Getting Started. We did not\nhave an API reference for them, so they have been moved under\nFile-system conventions (which was renamed to account for folder\nconventions).\n\nCloses: \n\n-\nhttps://linear.app/vercel/issue/DOC-4683/api-reference-intercepting-routes\n- https://linear.app/vercel/issue/DOC-4684/api-reference-parallel-routes\n\nRedirects: \n\n- https://github.com/vercel/front/pull/45973",
    "sha": "d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
    "files": [
        {
            "sha": "52fc641586eced3b26bea82f0db0221726610040",
            "filename": "docs/01-app/01-getting-started/02-project-structure.mdx",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F01-getting-started%2F02-project-structure.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F01-getting-started%2F02-project-structure.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F02-project-structure.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -88,13 +88,13 @@ Top-level files are used to configure your application, manage dependencies, run\n \n ### Parallel and Intercepted Routes\n \n-|                                                                                                |                            |\n-| ---------------------------------------------------------------------------------------------- | -------------------------- |\n-| [`@folder`](/docs/app/building-your-application/routing/parallel-routes#slots)                 | Named slot                 |\n-| [`(.)folder`](/docs/app/building-your-application/routing/intercepting-routes#convention)      | Intercept same level       |\n-| [`(..)folder`](/docs/app/building-your-application/routing/intercepting-routes#convention)     | Intercept one level above  |\n-| [`(..)(..)folder`](/docs/app/building-your-application/routing/intercepting-routes#convention) | Intercept two levels above |\n-| [`(...)folder`](/docs/app/building-your-application/routing/intercepting-routes#convention)    | Intercept from root        |\n+|                                                                                             |                            |\n+| ------------------------------------------------------------------------------------------- | -------------------------- |\n+| [`@folder`](/docs/app/api-reference/file-conventions/parallel-routes#slots)                 | Named slot                 |\n+| [`(.)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention)      | Intercept same level       |\n+| [`(..)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention)     | Intercept one level above  |\n+| [`(..)(..)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention) | Intercept two levels above |\n+| [`(...)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention)    | Intercept from root        |\n \n ### Metadata file conventions\n "
        },
        {
            "sha": "7e6c88c0b4e6fb6c0f30fd096de43e2cfbf962de",
            "filename": "docs/01-app/02-guides/static-exports.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F02-guides%2Fstatic-exports.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F02-guides%2Fstatic-exports.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fstatic-exports.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -289,7 +289,7 @@ Features that require a Node.js server, or dynamic logic that cannot be computed\n - [Image Optimization](/docs/app/api-reference/components/image) with the default `loader`\n - [Draft Mode](/docs/app/guides/draft-mode)\n - [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)\n-- [Intercepting Routes](/docs/app/building-your-application/routing/intercepting-routes)\n+- [Intercepting Routes](/docs/app/api-reference/file-conventions/intercepting-routes)\n \n Attempting to use any of these features with `next dev` will result in an error, similar to setting the [`dynamic`](/docs/app/api-reference/file-conventions/route-segment-config#dynamic) option to `error` in the root layout.\n "
        },
        {
            "sha": "ed881dc78ba4c986d8a57a830ee1b0791a4abc74",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/default.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fdefault.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fdefault.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fdefault.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -4,10 +4,10 @@ description: API Reference for the default.js file.\n related:\n   title: Learn more about Parallel Routes\n   links:\n-    - app/building-your-application/routing/parallel-routes\n+    - app/api-reference/file-conventions/parallel-routes\n ---\n \n-The `default.js` file is used to render a fallback within [Parallel Routes](/docs/app/building-your-application/routing/parallel-routes) when Next.js cannot recover a [slot's](/docs/app/building-your-application/routing/parallel-routes#slots) active state after a full-page load.\n+The `default.js` file is used to render a fallback within [Parallel Routes](/docs/app/api-reference/file-conventions/parallel-routes) when Next.js cannot recover a [slot's](/docs/app/api-reference/file-conventions/parallel-routes#slots) active state after a full-page load.\n \n During [soft navigation](/docs/app/building-your-application/routing/linking-and-navigating#5-soft-navigation), Next.js keeps track of the active _state_ (subpage) for each slot. However, for hard navigations (full-page load), Next.js cannot recover the active state. In this case, a `default.js` file can be rendered for subpages that don't match the current URL.\n "
        },
        {
            "sha": "46d6d4ce0971dddaaa19760f8621c83de4390c83",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/intercepting-routes.mdx",
            "status": "renamed",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fintercepting-routes.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fintercepting-routes.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fintercepting-routes.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -3,9 +3,9 @@ title: Intercepting Routes\n description: Use intercepting routes to load a new route within the current layout while masking the browser URL, useful for advanced routing patterns such as modals.\n related:\n   title: Next Steps\n-  description: Learn how to use modals with Intercepted and Parallel Routes.\n+  description: Learn how to create modals with Intercepted and Parallel Routes.\n   links:\n-    - app/building-your-application/routing/parallel-routes\n+    - app/api-reference/file-conventions/parallel-routes\n ---\n \n Intercepting routes allows you to load a route from another part of your application within the current layout. This routing paradigm can be useful when you want to display the content of a route without the user switching to a different context.\n@@ -57,7 +57,7 @@ For example, you can intercept the `photo` segment from within the `feed` segmen\n \n ### Modals\n \n-Intercepting Routes can be used together with [Parallel Routes](/docs/app/building-your-application/routing/parallel-routes) to create modals. This allows you to solve common challenges when building modals, such as:\n+Intercepting Routes can be used together with [Parallel Routes](/docs/app/api-reference/file-conventions/parallel-routes) to create modals. This allows you to solve common challenges when building modals, such as:\n \n - Making the modal content **shareable through a URL**.\n - **Preserving context** when the page is refreshed, instead of closing the modal.\n@@ -76,7 +76,7 @@ Consider the following UI pattern, where a user can open a photo modal from a ga\n \n In the above example, the path to the `photo` segment can use the `(..)` matcher since `@modal` is a slot and **not** a segment. This means that the `photo` route is only one segment level higher, despite being two file-system levels higher.\n \n-See the [Parallel Routes](/docs/app/building-your-application/routing/parallel-routes#modals) documentation for a step-by-step example, or see our [image gallery example](https://github.com/vercel-labs/nextgram).\n+See the [Parallel Routes](/docs/app/api-reference/file-conventions/parallel-routes#modals) documentation for a step-by-step example, or see our [image gallery example](https://github.com/vercel-labs/nextgram).\n \n > **Good to know:**\n >",
            "previous_filename": "docs/01-app/03-building-your-application/01-routing/12-intercepting-routes.mdx"
        },
        {
            "sha": "b8bbf8b4d1bcb3b41e5f188909114978bc499ea5",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/parallel-routes.mdx",
            "status": "renamed",
            "additions": 20,
            "deletions": 18,
            "changes": 38,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fparallel-routes.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fparallel-routes.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Fparallel-routes.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -18,7 +18,9 @@ For example, considering a dashboard, you can use parallel routes to simultaneou\n   height=\"942\"\n />\n \n-## Slots\n+## Convention\n+\n+### Slots\n \n Parallel routes are created using named **slots**. Slots are defined with the `@folder` convention. For example, the following file structure defines two slots: `@analytics` and `@team`:\n \n@@ -70,17 +72,6 @@ However, slots are **not** route segments and do not affect the URL structure. F\n >\n > - The `children` prop is an implicit slot that does not need to be mapped to a folder. This means `app/page.js` is equivalent to `app/@children/page.js`.\n \n-## Active state and navigation\n-\n-By default, Next.js keeps track of the active _state_ (or subpage) for each slot. However, the content rendered within a slot will depend on the type of navigation:\n-\n-- [**Soft Navigation**](/docs/app/building-your-application/routing/linking-and-navigating#5-soft-navigation): During client-side navigation, Next.js will perform a [partial render](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering), changing the subpage within the slot, while maintaining the other slot's active subpages, even if they don't match the current URL.\n-- **Hard Navigation**: After a full-page load (browser refresh), Next.js cannot determine the active state for the slots that don't match the current URL. Instead, it will render a [`default.js`](#defaultjs) file for the unmatched slots, or `404` if `default.js` doesn't exist.\n-\n-> **Good to know**:\n->\n-> - The `404` for unmatched routes helps ensure that you don't accidentally render a parallel route on a page that it was not intended for.\n-\n ### `default.js`\n \n You can define a `default.js` file to render as a fallback for unmatched slots during the initial load or full-page reload.\n@@ -101,7 +92,20 @@ On refresh, Next.js will render a `default.js` for `@analytics`. If `default.js`\n \n Additionally, since `children` is an implicit slot, you also need to create a `default.js` file to render a fallback for `children` when Next.js cannot recover the active state of the parent page.\n \n-### `useSelectedLayoutSegment(s)`\n+## Behavior\n+\n+By default, Next.js keeps track of the active _state_ (or subpage) for each slot. However, the content rendered within a slot will depend on the type of navigation:\n+\n+- [**Soft Navigation**](/docs/app/building-your-application/routing/linking-and-navigating#5-soft-navigation): During client-side navigation, Next.js will perform a [partial render](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering), changing the subpage within the slot, while maintaining the other slot's active subpages, even if they don't match the current URL.\n+- **Hard Navigation**: After a full-page load (browser refresh), Next.js cannot determine the active state for the slots that don't match the current URL. Instead, it will render a [`default.js`](#defaultjs) file for the unmatched slots, or `404` if `default.js` doesn't exist.\n+\n+> **Good to know**:\n+>\n+> - The `404` for unmatched routes helps ensure that you don't accidentally render a parallel route on a page that it was not intended for.\n+\n+## Examples\n+\n+### With `useSelectedLayoutSegment(s)`\n \n Both [`useSelectedLayoutSegment`](/docs/app/api-reference/functions/use-selected-layout-segment) and [`useSelectedLayoutSegments`](/docs/app/api-reference/functions/use-selected-layout-segments) accept a `parallelRoutesKey` parameter, which allows you to read the active route segment within a slot.\n \n@@ -129,8 +133,6 @@ export default function Layout({ auth }) {\n \n When a user navigates to `app/@auth/login` (or `/login` in the URL bar), `loginSegment` will be equal to the string `\"login\"`.\n \n-## Examples\n-\n ### Conditional Routes\n \n You can use Parallel Routes to conditionally render routes based on certain conditions, such as user role. For example, to render a different dashboard page for the `/admin` or `/user` roles:\n@@ -217,7 +219,7 @@ export default function Layout({ children }) {\n \n ### Modals\n \n-Parallel Routes can be used together with [Intercepting Routes](/docs/app/building-your-application/routing/intercepting-routes) to create modals that support deep linking. This allows you to solve common challenges when building modals, such as:\n+Parallel Routes can be used together with [Intercepting Routes](/docs/app/api-reference/file-conventions/intercepting-routes) to create modals that support deep linking. This allows you to solve common challenges when building modals, such as:\n \n - Making the modal content **shareable through a URL**.\n - **Preserving context** when the page is refreshed, instead of closing the modal.\n@@ -304,7 +306,7 @@ export default function Page() {\n \n > **Good to know:**\n >\n-> - The convention used to intercept the route, e.g. `(.)`, depends on your file-system structure. See [Intercepting Routes convention](/docs/app/building-your-application/routing/intercepting-routes#convention).\n+> - The convention used to intercept the route, e.g. `(.)`, depends on your file-system structure. See [Intercepting Routes convention](/docs/app/api-reference/file-conventions/intercepting-routes#convention).\n > - By separating the `<Modal>` functionality from the modal content (`<Login>`), you can ensure any content inside the modal, e.g. [forms](/docs/app/guides/forms), are Server Components. See [Interleaving Client and Server Components](/docs/app/getting-started/server-and-client-components#examples#supported-pattern-passing-server-components-to-client-components-as-props) for more information.\n \n #### Opening the modal\n@@ -459,7 +461,7 @@ export default function CatchAll() {\n \n > **Good to know:**\n >\n-> - We use a catch-all route in our `@auth` slot to close the modal because of the behavior described in [Active state and navigation](#active-state-and-navigation). Since client-side navigations to a route that no longer match the slot will remain visible, we need to match the slot to a route that returns `null` to close the modal.\n+> - We use a catch-all route in our `@auth` slot to close the modal because of how parallel routes behave(#behavior). Since client-side navigations to a route that no longer match the slot will remain visible, we need to match the slot to a route that returns `null` to close the modal.\n > - Other examples could include opening a photo modal in a gallery while also having a dedicated `/photo/[id]` page, or opening a shopping cart in a side modal.\n > - [View an example](https://github.com/vercel-labs/nextgram) of modals with Intercepted and Parallel Routes.\n ",
            "previous_filename": "docs/01-app/03-building-your-application/01-routing/11-parallel-routes.mdx"
        },
        {
            "sha": "4a4392ec4698b253a5417448b264015f3e6101f6",
            "filename": "docs/01-app/05-api-reference/04-functions/use-selected-layout-segment.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-selected-layout-segment.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-selected-layout-segment.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-selected-layout-segment.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -42,7 +42,7 @@ export default function ExampleClientComponent() {\n const segment = useSelectedLayoutSegment(parallelRoutesKey?: string)\n ```\n \n-`useSelectedLayoutSegment` _optionally_ accepts a [`parallelRoutesKey`](/docs/app/building-your-application/routing/parallel-routes#useselectedlayoutsegments), which allows you to read the active route segment within that slot.\n+`useSelectedLayoutSegment` _optionally_ accepts a [`parallelRoutesKey`](/docs/app/api-reference/file-conventions/parallel-routes#with-useselectedlayoutsegments), which allows you to read the active route segment within that slot.\n \n ## Returns\n "
        },
        {
            "sha": "3f69836234866183b3241fbad840d4e0699c36eb",
            "filename": "docs/01-app/05-api-reference/04-functions/use-selected-layout-segments.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-selected-layout-segments.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/d9e41e43d0d1937cf848a03266bb3c7117d20c7a/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-selected-layout-segments.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fuse-selected-layout-segments.mdx?ref=d9e41e43d0d1937cf848a03266bb3c7117d20c7a",
            "patch": "@@ -54,7 +54,7 @@ export default function ExampleClientComponent() {\n const segments = useSelectedLayoutSegments(parallelRoutesKey?: string)\n ```\n \n-`useSelectedLayoutSegments` _optionally_ accepts a [`parallelRoutesKey`](/docs/app/building-your-application/routing/parallel-routes#useselectedlayoutsegments), which allows you to read the active route segment within that slot.\n+`useSelectedLayoutSegments` _optionally_ accepts a [`parallelRoutesKey`](/docs/app/api-reference/file-conventions/parallel-routes#with-useselectedlayoutsegments), which allows you to read the active route segment within that slot.\n \n ## Returns\n "
        }
    ],
    "stats": {
        "total": 70,
        "additions": 36,
        "deletions": 34
    }
}