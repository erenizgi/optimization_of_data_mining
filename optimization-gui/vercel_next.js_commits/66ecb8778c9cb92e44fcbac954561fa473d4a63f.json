{
    "author": "mischnic",
    "message": "Turbopack: asset ident instead of chunk item ID in CSS (#78018)\n\nThis is absolutely useless with numerical ids (prod build with `turbopackMinify: false`):\r\n```css\r\n/* 51318 */\r\n.base2-module__zzC_ua__base {\r\n  color: #ff0200;\r\n}\r\n\r\n\r\n/* 29244 */\r\n.base2-scss-module-scss-module__JjfRsa__base {\r\n  color: #ff0300;\r\n}\r\n\r\n\r\n/* 85234 */\r\n.base-module__DNnTeq__base {\r\n  color: red;\r\n}\r\n\r\n\r\n/* 29244 */\r\n.base2-scss-module-scss-module__JjfRsa__base {\r\n  color: #ff0300;\r\n}\r\n```",
    "sha": "66ecb8778c9cb92e44fcbac954561fa473d4a63f",
    "files": [
        {
            "sha": "a7bf3a7303e800099660442de9504760226a3dab",
            "filename": "turbopack/crates/turbopack-css/src/chunk/mod.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/66ecb8778c9cb92e44fcbac954561fa473d4a63f/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/66ecb8778c9cb92e44fcbac954561fa473d4a63f/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fmod.rs?ref=66ecb8778c9cb92e44fcbac954561fa473d4a63f",
            "patch": "@@ -89,7 +89,7 @@ impl CssChunk {\n                 &*this.chunking_context.minify_type().await?,\n                 MinifyType::NoMinify\n             ) {\n-                let id = &*css_item.id().await?;\n+                let id = css_item.asset_ident().to_string().await?;\n                 writeln!(body, \"/* {} */\", id)?;\n             }\n "
        },
        {
            "sha": "277fb285c77d2d25833b9aba313a596d34cd987c",
            "filename": "turbopack/crates/turbopack-css/src/chunk/single_item_chunk/chunk.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/66ecb8778c9cb92e44fcbac954561fa473d4a63f/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/66ecb8778c9cb92e44fcbac954561fa473d4a63f/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Fchunk%2Fsingle_item_chunk%2Fchunk.rs?ref=66ecb8778c9cb92e44fcbac954561fa473d4a63f",
            "patch": "@@ -6,7 +6,7 @@ use turbo_tasks::{ResolvedVc, ValueToString, Vc};\n use turbo_tasks_fs::{rope::RopeBuilder, File, FileSystemPath};\n use turbopack_core::{\n     asset::{Asset, AssetContent},\n-    chunk::{Chunk, ChunkItem, ChunkItemExt, ChunkingContext, MinifyType},\n+    chunk::{Chunk, ChunkItem, ChunkingContext, MinifyType},\n     code_builder::{Code, CodeBuilder},\n     ident::AssetIdent,\n     introspect::Introspectable,\n@@ -59,7 +59,7 @@ impl SingleItemCssChunk {\n             &*this.chunking_context.minify_type().await?,\n             MinifyType::NoMinify\n         ) {\n-            let id = this.item.id().await?;\n+            let id = this.item.asset_ident().to_string().await?;\n             writeln!(code, \"/* {} */\", id)?;\n         }\n         let content = this.item.content().await?;"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}