{
    "author": "lukesandberg",
    "message": "[turbopack] Update Turbopack build warning message  (#82591)\n\nDrop the scare text about not running turbopack in production.  Instead clarify that builds are beta and direct people to our documentation site.\n\nFor example:\n![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/AwJ29EfoPcPdLSwCZxAz/a50ca03c-7065-4fc4-ad3a-2232e14984d3.png)\n\nCompared to the old notice:\n\n![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/AwJ29EfoPcPdLSwCZxAz/c802c577-39d6-4408-bd9e-144d3f9c23dd.png)\n\n\nNotably\n\n* mission critical applications are a good idea! just be careful with compatibility issues\n* the source maps issues is fixed! no need to talk about it at all\n* A discussion of bundle size issues and build caches is being added in #82560\n\nCloses PACK-5237",
    "sha": "b6d2c365791e6557df977d828648e5c8b6a928af",
    "files": [
        {
            "sha": "679adb5a41c3baf3b37d172ececd270f98658a4b",
            "filename": "packages/next/src/build/index.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 26,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/b6d2c365791e6557df977d828648e5c8b6a928af/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b6d2c365791e6557df977d828648e5c8b6a928af/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts?ref=b6d2c365791e6557df977d828648e5c8b6a928af",
            "patch": "@@ -3980,7 +3980,7 @@ export default async function build(\n     await lockfilePatchPromise.cur\n \n     if (isTurbopack && !process.env.__NEXT_TEST_MODE) {\n-      warnAboutTurbopackBuilds(loadedConfig)\n+      warnAboutTurbopackBuilds()\n     }\n \n     // Ensure all traces are flushed before finishing the command\n@@ -4007,31 +4007,12 @@ function errorFromUnsupportedSegmentConfig(): never {\n   process.exit(1)\n }\n \n-function warnAboutTurbopackBuilds(config?: NextConfigComplete) {\n-  let warningStr =\n-    `Support for Turbopack builds is experimental. ` +\n-    bold(\n-      `We don't recommend deploying mission-critical applications to production.`\n-    )\n-  warningStr +=\n-    '\\n\\n- ' +\n-    bold(\n-      'Turbopack currently always builds production source maps for the browser. This will include project source code if deployed to production.'\n-    )\n-  warningStr +=\n-    '\\n- It is expected that your bundle size might be different from `next build` with webpack. This will be improved as we work towards stability.'\n-\n-  if (!config?.experimental.turbopackPersistentCaching) {\n-    warningStr +=\n-      '\\n- This build is without disk caching; subsequent builds will become faster when disk caching becomes available.'\n-  }\n-\n-  warningStr +=\n-    '\\n- When comparing output to webpack builds, make sure to first clear the Next.js cache by deleting the `.next` directory.'\n-  warningStr +=\n-    '\\n\\nProvide feedback for Turbopack builds at https://github.com/vercel/next.js/discussions/77721'\n-\n-  Log.warn(warningStr)\n+function warnAboutTurbopackBuilds() {\n+  Log.ready(\n+    `Turbopack builds are ${bold('beta')}.\\n\\n` +\n+      '   Please see our docs https://nextjs.org/docs/app/api-reference/turbopack for information on known differences with webpack builds.\\n\\n' +\n+      '   Provide feedback for Turbopack builds at https://github.com/vercel/next.js/discussions/77721'\n+  )\n }\n \n function getBundlerForTelemetry(isTurbopack: boolean) {"
        }
    ],
    "stats": {
        "total": 33,
        "additions": 7,
        "deletions": 26
    }
}