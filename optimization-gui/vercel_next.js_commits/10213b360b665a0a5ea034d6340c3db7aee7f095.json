{
    "author": "mischnic",
    "message": "Fix pack-next script for next-swc (#88126)",
    "sha": "10213b360b665a0a5ea034d6340c3db7aee7f095",
    "files": [
        {
            "sha": "8c4cca30e69118cf3fb3ec8e27a65065418a1162",
            "filename": "scripts/pack-util.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/10213b360b665a0a5ea034d6340c3db7aee7f095/scripts%2Fpack-util.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/10213b360b665a0a5ea034d6340c3db7aee7f095/scripts%2Fpack-util.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/scripts%2Fpack-util.ts?ref=10213b360b665a0a5ea034d6340c3db7aee7f095",
            "patch": "@@ -168,11 +168,11 @@ export async function packageFiles(path: string): Promise<string[]> {\n     // We add the full path, but check for parent directories too.\n     // This catches the case where the whole directory is added and then a single file from the directory.\n     // The sorting before ensures that the directory comes before the files inside of the directory.\n-    set.add(f)\n     while (f.includes('/')) {\n-      f = f.replace(/\\/[^/]+$/, '')\n+      f = f.replace(/\\/[^/]*$/, '')\n       if (set.has(f)) return false\n     }\n+    set.add(f)\n     return true\n   })\n }"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}