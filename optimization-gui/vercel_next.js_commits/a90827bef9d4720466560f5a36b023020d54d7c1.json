{
    "author": "styfle",
    "message": "chore(test): update sharp api test (#82740)\n\nTesting to see if sharp works with turbopack",
    "sha": "a90827bef9d4720466560f5a36b023020d54d7c1",
    "files": [
        {
            "sha": "57f9062a2e931a663201fb6e9075e7eaaa0bb397",
            "filename": "test/integration/sharp-api/app/package-lock.json",
            "status": "modified",
            "additions": 171,
            "deletions": 223,
            "changes": 394,
            "blob_url": "https://github.com/vercel/next.js/blob/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Fapp%2Fpackage-lock.json",
            "raw_url": "https://github.com/vercel/next.js/raw/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Fapp%2Fpackage-lock.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fsharp-api%2Fapp%2Fpackage-lock.json?ref=a90827bef9d4720466560f5a36b023020d54d7c1",
            "patch": "@@ -5,22 +5,22 @@\n   \"packages\": {\n     \"\": {\n       \"dependencies\": {\n-        \"sharp\": \"latest\"\n+        \"sharp\": \"^0.34.3\"\n       }\n     },\n     \"node_modules/@emnapi/runtime\": {\n-      \"version\": \"0.45.0\",\n-      \"resolved\": \"https://registry.npmjs.org/@emnapi/runtime/-/runtime-0.45.0.tgz\",\n-      \"integrity\": \"sha512-Txumi3td7J4A/xTTwlssKieHKTGl3j4A1tglBx72auZ49YK7ePY6XZricgIg9mnZT4xPfA+UPCUdnhRuEFDL+w==\",\n+      \"version\": \"1.4.5\",\n+      \"resolved\": \"https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.4.5.tgz\",\n+      \"integrity\": \"sha512-++LApOtY0pEEz1zrd9vy1/zXVaVJJ/EbAF3u0fXIzPJEDtnITsBGbbK0EkM72amhl/R5b+5xx0Y/QhcVOpuulg==\",\n       \"optional\": true,\n       \"dependencies\": {\n         \"tslib\": \"^2.4.0\"\n       }\n     },\n     \"node_modules/@img/sharp-darwin-arm64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-itHBs1rPmsmGF9p4qRe++CzCgd+kFYktnsoR1sbIAfsRMrJZau0Tt1AH9KVnufc2/tU02Gf6Ibujx+15qRE03w==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-ryFMfvxxpQRsgZJqBd4wsttYQbCxsJksrv9Lw/v798JcQ8+w84mBWuXwl+TT0WJ/WrYOLaYpwQXi3sA9nTIaIg==\",\n       \"cpu\": [\n         \"arm64\"\n       ],\n@@ -29,23 +29,19 @@\n         \"darwin\"\n       ],\n       \"engines\": {\n-        \"glibc\": \">=2.26\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-darwin-arm64\": \"1.0.1\"\n+        \"@img/sharp-libvips-darwin-arm64\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-darwin-x64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-/rK/69Rrp9x5kaWBjVN07KixZanRr+W1OiyKdXcbjQD6KbW+obaTeBBtLUAtbBsnlTTmWthw99xqoOS7SsySDg==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-yHpJYynROAj12TA6qil58hmPmAwxKKC7reUqtGLzsOHfP7/rniNGTL8tjWX6L3CTV4+5P4ypcS7Pp+7OB+8ihA==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n@@ -54,191 +50,154 @@\n         \"darwin\"\n       ],\n       \"engines\": {\n-        \"glibc\": \">=2.26\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-darwin-x64\": \"1.0.1\"\n+        \"@img/sharp-libvips-darwin-x64\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-darwin-arm64\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.0.1.tgz\",\n-      \"integrity\": \"sha512-kQyrSNd6lmBV7O0BUiyu/OEw9yeNGFbQhbxswS1i6rMDwBBSX+e+rPzu3S+MwAiGU3HdLze3PanQ4Xkfemgzcw==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-sBZmpwmxqwlqG9ueWFXtockhsxefaV6O84BMOrhtg/YqbTaRdqDE7hxraVE3y6gVM4eExmfzW4a8el9ArLeEiQ==\",\n       \"cpu\": [\n         \"arm64\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"darwin\"\n       ],\n-      \"engines\": {\n-        \"macos\": \">=11\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-darwin-x64\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.0.1.tgz\",\n-      \"integrity\": \"sha512-eVU/JYLPVjhhrd8Tk6gosl5pVlvsqiFlt50wotCvdkFGf+mDNBJxMh+bvav+Wt3EBnNZWq8Sp2I7XfSjm8siog==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-M64XVuL94OgiNHa5/m2YvEQI5q2cl9d/wk0qFTDVXcYzi43lxuiFTftMR1tOnFQovVXNZJ5TURSDK2pNe9Yzqg==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"darwin\"\n       ],\n-      \"engines\": {\n-        \"macos\": \">=10.13\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-linux-arm\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.0.1.tgz\",\n-      \"integrity\": \"sha512-FtdMvR4R99FTsD53IA3LxYGghQ82t3yt0ZQ93WMZ2xV3dqrb0E8zq4VHaTOuLEAuA83oDawHV3fd+BsAPadHIQ==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.2.0.tgz\",\n+      \"integrity\": \"sha512-mWd2uWvDtL/nvIzThLq3fr2nnGfyr/XMXlq8ZJ9WMR6PXijHlC3ksp0IpuhK6bougvQrchUAfzRLnbsen0Cqvw==\",\n       \"cpu\": [\n         \"arm\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"linux\"\n       ],\n-      \"engines\": {\n-        \"glibc\": \">=2.28\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-linux-arm64\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.0.1.tgz\",\n-      \"integrity\": \"sha512-bnGG+MJjdX70mAQcSLxgeJco11G+MxTz+ebxlz8Y3dxyeb3Nkl7LgLI0mXupoO+u1wRNx/iRj5yHtzA4sde1yA==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-RXwd0CgG+uPRX5YYrkzKyalt2OJYRiJQ8ED/fi1tq9WQW2jsQIn0tqrlR5l5dr/rjqq6AHAxURhj2DVjyQWSOA==\",\n       \"cpu\": [\n         \"arm64\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"linux\"\n       ],\n-      \"engines\": {\n-        \"glibc\": \">=2.26\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n+      \"funding\": {\n+        \"url\": \"https://opencollective.com/libvips\"\n+      }\n+    },\n+    \"node_modules/@img/sharp-libvips-linux-ppc64\": {\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-ppc64/-/sharp-libvips-linux-ppc64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-Xod/7KaDDHkYu2phxxfeEPXfVXFKx70EAFZ0qyUdOjCcxbjqyJOEUpDe6RIyaunGxT34Anf9ue/wuWOqBW2WcQ==\",\n+      \"cpu\": [\n+        \"ppc64\"\n+      ],\n+      \"optional\": true,\n+      \"os\": [\n+        \"linux\"\n+      ],\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-linux-s390x\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.0.1.tgz\",\n-      \"integrity\": \"sha512-3+rzfAR1YpMOeA2zZNp+aYEzGNWK4zF3+sdMxuCS3ey9HhDbJ66w6hDSHDMoap32DueFwhhs3vwooAB2MaK4XQ==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.2.0.tgz\",\n+      \"integrity\": \"sha512-eMKfzDxLGT8mnmPJTNMcjfO33fLiTDsrMlUVcp6b96ETbnJmd4uvZxVJSKPQfS+odwfVaGifhsB07J1LynFehw==\",\n       \"cpu\": [\n         \"s390x\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"linux\"\n       ],\n-      \"engines\": {\n-        \"glibc\": \">=2.28\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-linux-x64\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.0.1.tgz\",\n-      \"integrity\": \"sha512-3NR1mxFsaSgMMzz1bAnnKbSAI+lHXVTqAHgc1bgzjHuXjo4hlscpUxc0vFSAPKI3yuzdzcZOkq7nDPrP2F8Jgw==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-ZW3FPWIc7K1sH9E3nxIGB3y3dZkpJlMnkk7z5tu1nSkBoCgw2nSRTFHI5pB/3CQaJM0pdzMF3paf9ckKMSE9Tg==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"linux\"\n       ],\n-      \"engines\": {\n-        \"glibc\": \">=2.26\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-linuxmusl-arm64\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.0.1.tgz\",\n-      \"integrity\": \"sha512-5aBRcjHDG/T6jwC3Edl3lP8nl9U2Yo8+oTl5drd1dh9Z1EBfzUKAJFUDTDisDjUwc7N4AjnPGfCA3jl3hY8uDg==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-UG+LqQJbf5VJ8NWJ5Z3tdIe/HXjuIdo4JeVNADXBFuG7z9zjoegpzzGIyV5zQKi4zaJjnAd2+g2nna8TZvuW9Q==\",\n       \"cpu\": [\n         \"arm64\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"linux\"\n       ],\n-      \"engines\": {\n-        \"musl\": \">=1.2.2\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-libvips-linuxmusl-x64\": {\n-      \"version\": \"1.0.1\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.0.1.tgz\",\n-      \"integrity\": \"sha512-dcT7inI9DBFK6ovfeWRe3hG30h51cBAP5JXlZfx6pzc/Mnf9HFCQDLtYf4MCBjxaaTfjCCjkBxcy3XzOAo5txw==\",\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.2.0.tgz\",\n+      \"integrity\": \"sha512-SRYOLR7CXPgNze8akZwjoGBoN1ThNZoqpOgfnOxmWsklTGVfJiGJoC/Lod7aNMGA1jSsKWM1+HRX43OP6p9+6Q==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n       \"optional\": true,\n       \"os\": [\n         \"linux\"\n       ],\n-      \"engines\": {\n-        \"musl\": \">=1.2.2\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n-      },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-linux-arm\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.33.2.tgz\",\n-      \"integrity\": \"sha512-Fndk/4Zq3vAc4G/qyfXASbS3HBZbKrlnKZLEJzPLrXoJuipFNNwTes71+Ki1hwYW5lch26niRYoZFAtZVf3EGA==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.34.3.tgz\",\n+      \"integrity\": \"sha512-oBK9l+h6KBN0i3dC8rYntLiVfW8D8wH+NPNT3O/WBHeW0OQWCjfWksLUaPidsrDKpJgXp3G3/hkmhptAW0I3+A==\",\n       \"cpu\": [\n         \"arm\"\n       ],\n@@ -247,23 +206,19 @@\n         \"linux\"\n       ],\n       \"engines\": {\n-        \"glibc\": \">=2.28\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-linux-arm\": \"1.0.1\"\n+        \"@img/sharp-libvips-linux-arm\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-linux-arm64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-pz0NNo882vVfqJ0yNInuG9YH71smP4gRSdeL09ukC2YLE6ZyZePAlWKEHgAzJGTiOh8Qkaov6mMIMlEhmLdKew==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-QdrKe3EvQrqwkDrtuTIjI0bu6YEJHTgEeqdzI3uWJOH6G1O8Nl1iEeVYRGdj1h5I21CqxSvQp1Yv7xeU3ZewbA==\",\n       \"cpu\": [\n         \"arm64\"\n       ],\n@@ -272,23 +227,40 @@\n         \"linux\"\n       ],\n       \"engines\": {\n-        \"glibc\": \">=2.26\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-linux-arm64\": \"1.0.1\"\n+        \"@img/sharp-libvips-linux-arm64\": \"1.2.0\"\n+      }\n+    },\n+    \"node_modules/@img/sharp-linux-ppc64\": {\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-ppc64/-/sharp-linux-ppc64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-GLtbLQMCNC5nxuImPR2+RgrviwKwVql28FWZIW1zWruy6zLgA5/x2ZXk3mxj58X/tszVF69KK0Is83V8YgWhLA==\",\n+      \"cpu\": [\n+        \"ppc64\"\n+      ],\n+      \"optional\": true,\n+      \"os\": [\n+        \"linux\"\n+      ],\n+      \"engines\": {\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n+      },\n+      \"funding\": {\n+        \"url\": \"https://opencollective.com/libvips\"\n+      },\n+      \"optionalDependencies\": {\n+        \"@img/sharp-libvips-linux-ppc64\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-linux-s390x\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.33.2.tgz\",\n-      \"integrity\": \"sha512-MBoInDXDppMfhSzbMmOQtGfloVAflS2rP1qPcUIiITMi36Mm5YR7r0ASND99razjQUpHTzjrU1flO76hKvP5RA==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.34.3.tgz\",\n+      \"integrity\": \"sha512-3gahT+A6c4cdc2edhsLHmIOXMb17ltffJlxR0aC2VPZfwKoTGZec6u5GrFgdR7ciJSsHT27BD3TIuGcuRT0KmQ==\",\n       \"cpu\": [\n         \"s390x\"\n       ],\n@@ -297,23 +269,19 @@\n         \"linux\"\n       ],\n       \"engines\": {\n-        \"glibc\": \">=2.28\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-linux-s390x\": \"1.0.1\"\n+        \"@img/sharp-libvips-linux-s390x\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-linux-x64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-xUT82H5IbXewKkeF5aiooajoO1tQV4PnKfS/OZtb5DDdxS/FCI/uXTVZ35GQ97RZXsycojz/AJ0asoz6p2/H/A==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-8kYso8d806ypnSq3/Ly0QEw90V5ZoHh10yH0HnrzOCr6DKAPI6QVHvwleqMkVQ0m+fc7EH8ah0BB0QPuWY6zJQ==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n@@ -322,23 +290,19 @@\n         \"linux\"\n       ],\n       \"engines\": {\n-        \"glibc\": \">=2.26\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-linux-x64\": \"1.0.1\"\n+        \"@img/sharp-libvips-linux-x64\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-linuxmusl-arm64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-F+0z8JCu/UnMzg8IYW1TMeiViIWBVg7IWP6nE0p5S5EPQxlLd76c8jYemG21X99UzFwgkRo5yz2DS+zbrnxZeA==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-vAjbHDlr4izEiXM1OTggpCcPg9tn4YriK5vAjowJsHwdBIdx0fYRsURkxLG2RLm9gyBq66gwtWI8Gx0/ov+JKQ==\",\n       \"cpu\": [\n         \"arm64\"\n       ],\n@@ -347,23 +311,19 @@\n         \"linux\"\n       ],\n       \"engines\": {\n-        \"musl\": \">=1.2.2\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-linuxmusl-arm64\": \"1.0.1\"\n+        \"@img/sharp-libvips-linuxmusl-arm64\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-linuxmusl-x64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-+ZLE3SQmSL+Fn1gmSaM8uFusW5Y3J9VOf+wMGNnTtJUMUxFhv+P4UPaYEYT8tqnyYVaOVGgMN/zsOxn9pSsO2A==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-gCWUn9547K5bwvOn9l5XGAEjVTTRji4aPTqLzGXHvIr6bIDZKNTA34seMPgM0WmSf+RYBH411VavCejp3PkOeQ==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n@@ -372,44 +332,55 @@\n         \"linux\"\n       ],\n       \"engines\": {\n-        \"musl\": \">=1.2.2\",\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-libvips-linuxmusl-x64\": \"1.0.1\"\n+        \"@img/sharp-libvips-linuxmusl-x64\": \"1.2.0\"\n       }\n     },\n     \"node_modules/@img/sharp-wasm32\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.33.2.tgz\",\n-      \"integrity\": \"sha512-fLbTaESVKuQcpm8ffgBD7jLb/CQLcATju/jxtTXR1XCLwbOQt+OL5zPHSDMmp2JZIeq82e18yE0Vv7zh6+6BfQ==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.34.3.tgz\",\n+      \"integrity\": \"sha512-+CyRcpagHMGteySaWos8IbnXcHgfDn7pO2fiC2slJxvNq9gDipYBN42/RagzctVRKgxATmfqOSulgZv5e1RdMg==\",\n       \"cpu\": [\n         \"wasm32\"\n       ],\n       \"optional\": true,\n       \"dependencies\": {\n-        \"@emnapi/runtime\": \"^0.45.0\"\n+        \"@emnapi/runtime\": \"^1.4.4\"\n       },\n       \"engines\": {\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n+      },\n+      \"funding\": {\n+        \"url\": \"https://opencollective.com/libvips\"\n+      }\n+    },\n+    \"node_modules/@img/sharp-win32-arm64\": {\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-win32-arm64/-/sharp-win32-arm64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-MjnHPnbqMXNC2UgeLJtX4XqoVHHlZNd+nPt1kRPmj63wURegwBhZlApELdtxM2OIZDRv/DFtLcNhVbd1z8GYXQ==\",\n+      \"cpu\": [\n+        \"arm64\"\n+      ],\n+      \"optional\": true,\n+      \"os\": [\n+        \"win32\"\n+      ],\n+      \"engines\": {\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-win32-ia32\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.33.2.tgz\",\n-      \"integrity\": \"sha512-okBpql96hIGuZ4lN3+nsAjGeggxKm7hIRu9zyec0lnfB8E7Z6p95BuRZzDDXZOl2e8UmR4RhYt631i7mfmKU8g==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.34.3.tgz\",\n+      \"integrity\": \"sha512-xuCdhH44WxuXgOM714hn4amodJMZl3OEvf0GVTm0BEyMeA2to+8HEdRPShH0SLYptJY1uBw+SCFP9WVQi1Q/cw==\",\n       \"cpu\": [\n         \"ia32\"\n       ],\n@@ -418,19 +389,16 @@\n         \"win32\"\n       ],\n       \"engines\": {\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       }\n     },\n     \"node_modules/@img/sharp-win32-x64\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.33.2.tgz\",\n-      \"integrity\": \"sha512-E4magOks77DK47FwHUIGH0RYWSgRBfGdK56kIHSVeB9uIS4pPFr4N2kIVsXdQQo4LzOsENKV5KAhRlRL7eMAdg==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.34.3.tgz\",\n+      \"integrity\": \"sha512-OWwz05d++TxzLEv4VnsTz5CmZ6mI6S05sfQGEMrNrQcOEERbX46332IvE7pO/EUiw7jUrrS40z/M7kPyjfl04g==\",\n       \"cpu\": [\n         \"x64\"\n       ],\n@@ -439,10 +407,7 @@\n         \"win32\"\n       ],\n       \"engines\": {\n-        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\",\n-        \"npm\": \">=9.6.5\",\n-        \"pnpm\": \">=7.1.0\",\n-        \"yarn\": \">=3.2.0\"\n+        \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n@@ -486,9 +451,9 @@\n       }\n     },\n     \"node_modules/detect-libc\": {\n-      \"version\": \"2.0.2\",\n-      \"resolved\": \"https://registry.npmjs.org/detect-libc/-/detect-libc-2.0.2.tgz\",\n-      \"integrity\": \"sha512-UX6sGumvvqSaXgdKGUsgZWqcUyIXZ/vZTrlRT/iobiKhGL0zL4d3osHj3uqllWJK+i+sixDS/3COVEOFbupFyw==\",\n+      \"version\": \"2.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/detect-libc/-/detect-libc-2.0.4.tgz\",\n+      \"integrity\": \"sha512-3UDv+G9CsCKO1WKMGw9fwq/SWJYbI0c5Y7LU1AXYoDdbhE2AHQ6N6Nb34sG8Fj7T5APy8qXDCKuuIHd1BR0tVA==\",\n       \"engines\": {\n         \"node\": \">=8\"\n       }\n@@ -498,24 +463,10 @@\n       \"resolved\": \"https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.3.2.tgz\",\n       \"integrity\": \"sha512-eVRqCvVlZbuw3GrM63ovNSNAeA1K16kaR/LRY/92w0zxQ5/1YzwblUX652i4Xs9RwAGjW9d9y6X88t8OaAJfWQ==\"\n     },\n-    \"node_modules/lru-cache\": {\n-      \"version\": \"6.0.0\",\n-      \"resolved\": \"https://registry.npmjs.org/lru-cache/-/lru-cache-6.0.0.tgz\",\n-      \"integrity\": \"sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==\",\n-      \"dependencies\": {\n-        \"yallist\": \"^4.0.0\"\n-      },\n-      \"engines\": {\n-        \"node\": \">=10\"\n-      }\n-    },\n     \"node_modules/semver\": {\n-      \"version\": \"7.6.0\",\n-      \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.6.0.tgz\",\n-      \"integrity\": \"sha512-EnwXhrlwXMk9gKu5/flx5sv/an57AkRplG3hTK68W7FRDN+k+OWBj65M7719OkA82XLBxrcX0KSHj+X5COhOVg==\",\n-      \"dependencies\": {\n-        \"lru-cache\": \"^6.0.0\"\n-      },\n+      \"version\": \"7.7.2\",\n+      \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.7.2.tgz\",\n+      \"integrity\": \"sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==\",\n       \"bin\": {\n         \"semver\": \"bin/semver.js\"\n       },\n@@ -524,42 +475,44 @@\n       }\n     },\n     \"node_modules/sharp\": {\n-      \"version\": \"0.33.2\",\n-      \"resolved\": \"https://registry.npmjs.org/sharp/-/sharp-0.33.2.tgz\",\n-      \"integrity\": \"sha512-WlYOPyyPDiiM07j/UO+E720ju6gtNtHjEGg5vovUk1Lgxyjm2LFO+37Nt/UI3MMh2l6hxTWQWi7qk3cXJTutcQ==\",\n+      \"version\": \"0.34.3\",\n+      \"resolved\": \"https://registry.npmjs.org/sharp/-/sharp-0.34.3.tgz\",\n+      \"integrity\": \"sha512-eX2IQ6nFohW4DbvHIOLRB3MHFpYqaqvXd3Tp5e/T/dSH83fxaNJQRvDMhASmkNTsNTVF2/OOopzRCt7xokgPfg==\",\n       \"hasInstallScript\": true,\n       \"dependencies\": {\n         \"color\": \"^4.2.3\",\n-        \"detect-libc\": \"^2.0.2\",\n-        \"semver\": \"^7.5.4\"\n+        \"detect-libc\": \"^2.0.4\",\n+        \"semver\": \"^7.7.2\"\n       },\n       \"engines\": {\n-        \"libvips\": \">=8.15.1\",\n         \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n       },\n       \"funding\": {\n         \"url\": \"https://opencollective.com/libvips\"\n       },\n       \"optionalDependencies\": {\n-        \"@img/sharp-darwin-arm64\": \"0.33.2\",\n-        \"@img/sharp-darwin-x64\": \"0.33.2\",\n-        \"@img/sharp-libvips-darwin-arm64\": \"1.0.1\",\n-        \"@img/sharp-libvips-darwin-x64\": \"1.0.1\",\n-        \"@img/sharp-libvips-linux-arm\": \"1.0.1\",\n-        \"@img/sharp-libvips-linux-arm64\": \"1.0.1\",\n-        \"@img/sharp-libvips-linux-s390x\": \"1.0.1\",\n-        \"@img/sharp-libvips-linux-x64\": \"1.0.1\",\n-        \"@img/sharp-libvips-linuxmusl-arm64\": \"1.0.1\",\n-        \"@img/sharp-libvips-linuxmusl-x64\": \"1.0.1\",\n-        \"@img/sharp-linux-arm\": \"0.33.2\",\n-        \"@img/sharp-linux-arm64\": \"0.33.2\",\n-        \"@img/sharp-linux-s390x\": \"0.33.2\",\n-        \"@img/sharp-linux-x64\": \"0.33.2\",\n-        \"@img/sharp-linuxmusl-arm64\": \"0.33.2\",\n-        \"@img/sharp-linuxmusl-x64\": \"0.33.2\",\n-        \"@img/sharp-wasm32\": \"0.33.2\",\n-        \"@img/sharp-win32-ia32\": \"0.33.2\",\n-        \"@img/sharp-win32-x64\": \"0.33.2\"\n+        \"@img/sharp-darwin-arm64\": \"0.34.3\",\n+        \"@img/sharp-darwin-x64\": \"0.34.3\",\n+        \"@img/sharp-libvips-darwin-arm64\": \"1.2.0\",\n+        \"@img/sharp-libvips-darwin-x64\": \"1.2.0\",\n+        \"@img/sharp-libvips-linux-arm\": \"1.2.0\",\n+        \"@img/sharp-libvips-linux-arm64\": \"1.2.0\",\n+        \"@img/sharp-libvips-linux-ppc64\": \"1.2.0\",\n+        \"@img/sharp-libvips-linux-s390x\": \"1.2.0\",\n+        \"@img/sharp-libvips-linux-x64\": \"1.2.0\",\n+        \"@img/sharp-libvips-linuxmusl-arm64\": \"1.2.0\",\n+        \"@img/sharp-libvips-linuxmusl-x64\": \"1.2.0\",\n+        \"@img/sharp-linux-arm\": \"0.34.3\",\n+        \"@img/sharp-linux-arm64\": \"0.34.3\",\n+        \"@img/sharp-linux-ppc64\": \"0.34.3\",\n+        \"@img/sharp-linux-s390x\": \"0.34.3\",\n+        \"@img/sharp-linux-x64\": \"0.34.3\",\n+        \"@img/sharp-linuxmusl-arm64\": \"0.34.3\",\n+        \"@img/sharp-linuxmusl-x64\": \"0.34.3\",\n+        \"@img/sharp-wasm32\": \"0.34.3\",\n+        \"@img/sharp-win32-arm64\": \"0.34.3\",\n+        \"@img/sharp-win32-ia32\": \"0.34.3\",\n+        \"@img/sharp-win32-x64\": \"0.34.3\"\n       }\n     },\n     \"node_modules/simple-swizzle\": {\n@@ -571,15 +524,10 @@\n       }\n     },\n     \"node_modules/tslib\": {\n-      \"version\": \"2.6.2\",\n-      \"resolved\": \"https://registry.npmjs.org/tslib/-/tslib-2.6.2.tgz\",\n-      \"integrity\": \"sha512-AEYxH93jGFPn/a2iVAwW87VuUIkR1FVUKB77NwMF7nBTDkDrrT/Hpt/IrCJ0QXhW27jTBDcf5ZY7w6RiqTMw2Q==\",\n+      \"version\": \"2.8.1\",\n+      \"resolved\": \"https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz\",\n+      \"integrity\": \"sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==\",\n       \"optional\": true\n-    },\n-    \"node_modules/yallist\": {\n-      \"version\": \"4.0.0\",\n-      \"resolved\": \"https://registry.npmjs.org/yallist/-/yallist-4.0.0.tgz\",\n-      \"integrity\": \"sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==\"\n     }\n   }\n }"
        },
        {
            "sha": "5bb71fbab764f73a3dbbc40728c927c4e8f985a5",
            "filename": "test/integration/sharp-api/app/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Fapp%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Fapp%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fsharp-api%2Fapp%2Fpackage.json?ref=a90827bef9d4720466560f5a36b023020d54d7c1",
            "patch": "@@ -2,6 +2,6 @@\n   \"private\": true,\n   \"packageManager\": \"npm@10.4.0\",\n   \"dependencies\": {\n-    \"sharp\": \"latest\"\n+    \"sharp\": \"^0.34.3\"\n   }\n }"
        },
        {
            "sha": "912c0ba45d68520eefa92fdae7d9a094aa17aba5",
            "filename": "test/integration/sharp-api/app/pages/api/custom-sharp.js",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Fapp%2Fpages%2Fapi%2Fcustom-sharp.js",
            "raw_url": "https://github.com/vercel/next.js/raw/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Fapp%2Fpages%2Fapi%2Fcustom-sharp.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fsharp-api%2Fapp%2Fpages%2Fapi%2Fcustom-sharp.js?ref=a90827bef9d4720466560f5a36b023020d54d7c1",
            "patch": "@@ -1,5 +1,12 @@\n import sharp from 'sharp'\n \n-export default function handler(req, res) {\n-  res.json({ success: Boolean(sharp) })\n+export default async function handler(req, res) {\n+  const roundedCorners = Buffer.from(\n+    '<svg><rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" rx=\"50\" ry=\"50\"/></svg>'\n+  )\n+  const buffer = await sharp(roundedCorners).resize(200, 200).png().toBuffer()\n+\n+  res.setHeader('content-type', 'image/png')\n+  res.setHeader('content-length', buffer.byteLength)\n+  res.end(buffer)\n }"
        },
        {
            "sha": "c192124c7b6387bc3813aba5f39fde9f7d0f7860",
            "filename": "test/integration/sharp-api/test/sharp-api.test.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Ftest%2Fsharp-api.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/a90827bef9d4720466560f5a36b023020d54d7c1/test%2Fintegration%2Fsharp-api%2Ftest%2Fsharp-api.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fsharp-api%2Ftest%2Fsharp-api.test.ts?ref=a90827bef9d4720466560f5a36b023020d54d7c1",
            "patch": "@@ -12,11 +12,9 @@ import fs from 'fs-extra'\n import { join } from 'path'\n \n const appDir = join(__dirname, '../app')\n-let app,\n-  appPort\n+let app, appPort\n \n-  // Skip as Turbopack doesn't support `next build` yet\n-;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)('sharp api', () => {\n+describe('sharp api', () => {\n   beforeAll(async () => {\n     await execa('npm', ['install'], { cwd: appDir, stdio: 'inherit' })\n     await nextBuild(appDir)\n@@ -34,7 +32,8 @@ let app,\n   it('should handle custom sharp usage', async () => {\n     const res = await fetchViaHTTP(appPort, '/api/custom-sharp')\n     expect(res.status).toBe(200)\n-    expect(await res.json()).toEqual({ success: true })\n+    expect(res.headers.get('content-type')).toBe('image/png')\n+    expect((await res.arrayBuffer()).byteLength).toBeGreaterThan(0)\n     const traceFile = await fs.readJson(\n       join(\n         appDir,"
        }
    ],
    "stats": {
        "total": 416,
        "additions": 185,
        "deletions": 231
    }
}