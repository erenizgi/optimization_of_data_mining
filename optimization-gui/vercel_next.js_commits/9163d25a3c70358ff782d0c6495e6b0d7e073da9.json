{
    "author": "nekomeowww",
    "message": "docs: use `resourceFromAttributes` to replace `new Resource()` to obtain `Resource` (#83321)\n\n### What?\n\nBy following the default method to integrate OpenTelemetry in Next.js\napplications... this error occurs:\n\n```\n'Resource' only refers to a type, but is being used as a value here.\n```\n\n### Why?\n\n`Resource` presented here as a `interface` or type only definition, as\nspecified in OpenTelemetry's repo,\nhttps://github.com/open-telemetry/opentelemetry-js/blob/2d544088ac9a4bcb07986be7d9cdc2d0688e7b44/packages/opentelemetry-resources/src/Resource.ts#L20-L30:\n\n> This interface is NOT user-implementable. Valid ways to obtain a\n{@link Resource} are by using either of these functions\n> -\n[`resourceFromAttributes`](https://github.com/open-telemetry/opentelemetry-js/blob/2d544088ac9a4bcb07986be7d9cdc2d0688e7b44/packages/opentelemetry-resources/src/ResourceImpl.ts#L149)\n> -\n[`emptyResource`](https://github.com/open-telemetry/opentelemetry-js/blob/2d544088ac9a4bcb07986be7d9cdc2d0688e7b44/packages/opentelemetry-resources/src/ResourceImpl.ts#L163)\n> -\n[`defaultResource`](https://github.com/open-telemetry/opentelemetry-js/blob/2d544088ac9a4bcb07986be7d9cdc2d0688e7b44/packages/opentelemetry-resources/src/ResourceImpl.ts#L167)\n> -\n[`detectResources`](https://github.com/open-telemetry/opentelemetry-js/blob/2d544088ac9a4bcb07986be7d9cdc2d0688e7b44/packages/opentelemetry-resources/src/detect-resources.ts#L27)\n\n### How?\n\nBy default, we use `resourceFromAttributes` for OTEL resources with\nattributes.\n\n\nFixes: https://github.com/vercel/next.js/issues/77451\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "9163d25a3c70358ff782d0c6495e6b0d7e073da9",
    "files": [
        {
            "sha": "19cbac257c1087c349daae4adf0e1e1607cc78d2",
            "filename": "docs/01-app/02-guides/open-telemetry.mdx",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/9163d25a3c70358ff782d0c6495e6b0d7e073da9/docs%2F01-app%2F02-guides%2Fopen-telemetry.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/9163d25a3c70358ff782d0c6495e6b0d7e073da9/docs%2F01-app%2F02-guides%2Fopen-telemetry.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fopen-telemetry.mdx?ref=9163d25a3c70358ff782d0c6495e6b0d7e073da9",
            "patch": "@@ -117,13 +117,13 @@ export async function register() {\n \n ```ts filename=\"instrumentation.node.ts\" switcher\n import { OTLPTraceExporter } from '@opentelemetry/exporter-trace-otlp-http'\n-import { Resource } from '@opentelemetry/resources'\n+import { resourceFromAttributes } from '@opentelemetry/resources'\n import { NodeSDK } from '@opentelemetry/sdk-node'\n import { SimpleSpanProcessor } from '@opentelemetry/sdk-trace-node'\n import { ATTR_SERVICE_NAME } from '@opentelemetry/semantic-conventions'\n \n const sdk = new NodeSDK({\n-  resource: new Resource({\n+  resource: resourceFromAttributes({\n     [ATTR_SERVICE_NAME]: 'next-app',\n   }),\n   spanProcessor: new SimpleSpanProcessor(new OTLPTraceExporter()),\n@@ -133,13 +133,13 @@ sdk.start()\n \n ```js filename=\"instrumentation.node.js\" switcher\n import { OTLPTraceExporter } from '@opentelemetry/exporter-trace-otlp-http'\n-import { Resource } from '@opentelemetry/resources'\n+import { resourceFromAttributes } from '@opentelemetry/resources'\n import { NodeSDK } from '@opentelemetry/sdk-node'\n import { SimpleSpanProcessor } from '@opentelemetry/sdk-trace-node'\n import { ATTR_SERVICE_NAME } from '@opentelemetry/semantic-conventions'\n \n const sdk = new NodeSDK({\n-  resource: new Resource({\n+  resource: resourceFromAttributes({\n     [ATTR_SERVICE_NAME]: 'next-app',\n   }),\n   spanProcessor: new SimpleSpanProcessor(new OTLPTraceExporter()),"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}