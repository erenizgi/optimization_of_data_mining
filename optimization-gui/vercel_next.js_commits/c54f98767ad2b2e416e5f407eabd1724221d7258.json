{
    "author": "wbinnssmith",
    "message": "Turbopack: update docs for `config.turbopack` (#77853)\n\nTurbopack: update docs for `config.turbopack`\n    \nAs `turbo.mdx` is renamed to `turbopack.mdx`, we’ll need a redirect on\nthe nextjs.org website to take users to the new location. This will be a\nseparate PR in its repository.\n\n---------\n\nCo-authored-by: Tim Neutkens <tim@timneutkens.nl>",
    "sha": "c54f98767ad2b2e416e5f407eabd1724221d7258",
    "files": [
        {
            "sha": "074dbbc38fec4362f6fae4d56d64ebe2279a8dfd",
            "filename": "docs/01-app/03-building-your-application/06-optimizing/14-local-development.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F03-building-your-application%2F06-optimizing%2F14-local-development.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F03-building-your-application%2F06-optimizing%2F14-local-development.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F06-optimizing%2F14-local-development.mdx?ref=c54f98767ad2b2e416e5f407eabd1724221d7258",
            "patch": "@@ -114,7 +114,7 @@ Tailwind CSS version 3.4.8 or newer will warn you about settings that might slow\n \n If you've added custom webpack settings, they might be slowing down compilation.\n \n-Consider if you really need them for local development. You can optionally only include certain tools for production builds, or explore moving to Turbopack and using [loaders](/docs/app/api-reference/config/next-config-js/turbo#supported-loaders).\n+Consider if you really need them for local development. You can optionally only include certain tools for production builds, or explore moving to Turbopack and using [loaders](/docs/app/api-reference/config/next-config-js/turbopack#supported-loaders).\n \n ### 6. Optimize memory usage\n "
        },
        {
            "sha": "b6e22017595ea847f7175adb0fecebf1294dfcde",
            "filename": "docs/01-app/03-building-your-application/11-upgrading/06-from-create-react-app.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F03-building-your-application%2F11-upgrading%2F06-from-create-react-app.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F03-building-your-application%2F11-upgrading%2F06-from-create-react-app.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F11-upgrading%2F06-from-create-react-app.mdx?ref=c54f98767ad2b2e416e5f407eabd1724221d7258",
            "patch": "@@ -557,7 +557,7 @@ Next.js automatically sets up TypeScript if you have a `tsconfig.json`. Make sur\n \n ## Bundler Compatibility\n \n-Both Create React App and Next.js default to webpack for bundling. Next.js also offers [Turbopack](/docs/app/api-reference/config/next-config-js/turbo) for faster local development with:\n+Both Create React App and Next.js default to webpack for bundling. Next.js also offers [Turbopack](/docs/app/api-reference/config/next-config-js/turbopack) for faster local development with:\n \n ```bash\n next dev --turbopack"
        },
        {
            "sha": "4d98fadc9ffc41f490d60e0cb1905e2e4dd4f3f0",
            "filename": "docs/01-app/05-api-reference/05-config/01-next-config-js/turbopack.mdx",
            "status": "renamed",
            "additions": 45,
            "deletions": 61,
            "changes": 106,
            "blob_url": "https://github.com/vercel/next.js/blob/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F05-api-reference%2F05-config%2F01-next-config-js%2Fturbopack.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F05-api-reference%2F05-config%2F01-next-config-js%2Fturbopack.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F05-config%2F01-next-config-js%2Fturbopack.mdx?ref=c54f98767ad2b2e416e5f407eabd1724221d7258",
            "patch": "@@ -1,21 +1,18 @@\n ---\n-title: turbo\n+title: turbopack\n description: Configure Next.js with Turbopack-specific options\n-version: experimental\n ---\n \n {/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}\n \n-The `turbo` option lets you customize [Turbopack](/docs/app/api-reference/turbopack) to transform different files and change how modules are resolved.\n+The `turbopack` option lets you customize [Turbopack](/docs/app/api-reference/turbopack) to transform different files and change how modules are resolved.\n \n ```ts filename=\"next.config.ts\" switcher\n import type { NextConfig } from 'next'\n \n const nextConfig: NextConfig = {\n-  experimental: {\n-    turbo: {\n-      // ...\n-    },\n+  turbopack: {\n+    // ...\n   },\n }\n \n@@ -25,10 +22,8 @@ export default nextConfig\n ```js filename=\"next.config.js\" switcher\n /** @type {import('next').NextConfig} */\n const nextConfig = {\n-  experimental: {\n-    turbo: {\n-      // ...\n-    },\n+  turbopack: {\n+    // ...\n   },\n }\n \n@@ -47,12 +42,10 @@ The following options are available for the `turbo` configuration:\n \n | Option              | Description                                                             |\n | ------------------- | ----------------------------------------------------------------------- |\n+| `root`              | Sets the application root directory. Should be an absolute path.        |\n | `rules`             | List of supported webpack loaders to apply when running with Turbopack. |\n | `resolveAlias`      | Map aliased imports to modules to load in their place.                  |\n | `resolveExtensions` | List of extensions to resolve when importing files.                     |\n-| `moduleIds`         | Assign module IDs                                                       |\n-| `treeShaking`       | Enable tree shaking for the turbopack dev server and build.             |\n-| `memoryLimit`       | A target memory limit for turbo, in bytes.                              |\n \n ### Supported loaders\n \n@@ -68,6 +61,29 @@ The following loaders have been tested to work with Turbopack's webpack loader i\n \n ## Examples\n \n+### Root directory\n+\n+Turbopack uses the root directory to resolve modules. Files outside of the project root are not resolved.\n+\n+Next.js automatically detects the root directory of your project. It does so by looking for one of these files:\n+\n+- `pnpm-lock.yaml`\n+- `package-lock.json`\n+- `yarn.lock`\n+- `bun.lock`\n+- `bun.lockb`\n+\n+If you have a different project structure, for example if you don't use workspaces, you can manually set the `root` option:\n+\n+```js filename=\"next.config.js\"\n+const path = require('path')\n+module.exports = {\n+  turbopack: {\n+    root: path.join(__dirname, '..'),\n+  },\n+}\n+```\n+\n ### Configuring webpack loaders\n \n If you need loader support beyond what's built in, many webpack loaders already work with Turbopack. There are currently some limitations:\n@@ -82,13 +98,11 @@ Here is an example below using the [`@svgr/webpack`](https://www.npmjs.com/packa\n \n ```js filename=\"next.config.js\"\n module.exports = {\n-  experimental: {\n-    turbo: {\n-      rules: {\n-        '*.svg': {\n-          loaders: ['@svgr/webpack'],\n-          as: '*.js',\n-        },\n+  turbopack: {\n+    rules: {\n+      '*.svg': {\n+        loaders: ['@svgr/webpack'],\n+        as: '*.js',\n       },\n     },\n   },\n@@ -105,12 +119,10 @@ To configure resolve aliases, map imported patterns to their new destination in\n \n ```js filename=\"next.config.js\"\n module.exports = {\n-  experimental: {\n-    turbo: {\n-      resolveAlias: {\n-        underscore: 'lodash',\n-        mocha: { browser: 'mocha/browser-entry.js' },\n-      },\n+  turbopack: {\n+    resolveAlias: {\n+      underscore: 'lodash',\n+      mocha: { browser: 'mocha/browser-entry.js' },\n     },\n   },\n }\n@@ -128,18 +140,8 @@ To configure resolve extensions, use the `resolveExtensions` field in `next.conf\n \n ```js filename=\"next.config.js\"\n module.exports = {\n-  experimental: {\n-    turbo: {\n-      resolveExtensions: [\n-        '.mdx',\n-        '.tsx',\n-        '.ts',\n-        '.jsx',\n-        '.js',\n-        '.mjs',\n-        '.json',\n-      ],\n-    },\n+  turbopack: {\n+    resolveExtensions: ['.mdx', '.tsx', '.ts', '.jsx', '.js', '.mjs', '.json'],\n   },\n }\n ```\n@@ -148,27 +150,9 @@ This overwrites the original resolve extensions with the provided list. Make sur\n \n For more information and guidance for how to migrate your app to Turbopack from webpack, see [Turbopack's documentation on webpack compatibility](https://turbo.build/pack/docs/migrating-from-webpack).\n \n-### Assigning module IDs\n-\n-Turbopack currently supports two strategies for assigning module IDs:\n-\n-- `'named'` assigns readable module IDs based on the module's path and functionality.\n-- `'deterministic'` assigns small hashed numeric module IDs, which are mostly consistent between builds and therefore help with long-term caching.\n-\n-If not set, Turbopack will use `'named'` for development builds and `'deterministic'` for production builds.\n-\n-To configure the module IDs strategy, use the `moduleIds` field in `next.config.js`:\n-\n-```js filename=\"next.config.js\"\n-module.exports = {\n-  turbo: {\n-    moduleIds: 'deterministic',\n-  },\n-}\n-```\n-\n ## Version History\n \n-| Version  | Changes                          |\n-| -------- | -------------------------------- |\n-| `13.0.0` | `experimental.turbo` introduced. |\n+| Version  | Changes                                         |\n+| -------- | ----------------------------------------------- |\n+| `15.3.0` | `experimental.turbo` is changed to `turbopack`. |\n+| `13.0.0` | `experimental.turbo` introduced.                |",
            "previous_filename": "docs/01-app/05-api-reference/05-config/01-next-config-js/turbo.mdx"
        },
        {
            "sha": "ac072f7702fc2e3193c897fdb3e82df99426c3b3",
            "filename": "docs/01-app/05-api-reference/08-turbopack.mdx",
            "status": "modified",
            "additions": 23,
            "deletions": 25,
            "changes": 48,
            "blob_url": "https://github.com/vercel/next.js/blob/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F05-api-reference%2F08-turbopack.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F01-app%2F05-api-reference%2F08-turbopack.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F08-turbopack.mdx?ref=c54f98767ad2b2e416e5f407eabd1724221d7258",
            "patch": "@@ -38,13 +38,13 @@ Turbopack in Next.js has **zero-configuration** for the common use cases. Below\n \n ### Language features\n \n-| Feature                     | Status                | Notes                                                                                                                                                                                               |\n-| --------------------------- | --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n-| **JavaScript & TypeScript** | **Supported**         | Uses SWC under the hood. Type-checking is not done by Turbopack (run `tsc --watch` or rely on your IDE for type checks).                                                                            |\n-| **ECMAScript (ESNext)**     | **Supported**         | Turbopack supports the latest ECMAScript features, matching SWC’s coverage.                                                                                                                         |\n-| **CommonJS**                | **Supported**         | `require()` syntax is handled out of the box.                                                                                                                                                       |\n-| **ESM**                     | **Supported**         | Static and dynamic `import` are fully supported.                                                                                                                                                    |\n-| **Babel**                   | Partially Unsupported | Turbopack does not include Babel by default. However, you can [configure `babel-loader` via the Turbopack config](/docs/app/api-reference/config/next-config-js/turbo#configuring-webpack-loaders). |\n+| Feature                     | Status                | Notes                                                                                                                                                                                                   |\n+| --------------------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n+| **JavaScript & TypeScript** | **Supported**         | Uses SWC under the hood. Type-checking is not done by Turbopack (run `tsc --watch` or rely on your IDE for type checks).                                                                                |\n+| **ECMAScript (ESNext)**     | **Supported**         | Turbopack supports the latest ECMAScript features, matching SWC’s coverage.                                                                                                                             |\n+| **CommonJS**                | **Supported**         | `require()` syntax is handled out of the box.                                                                                                                                                           |\n+| **ESM**                     | **Supported**         | Static and dynamic `import` are fully supported.                                                                                                                                                        |\n+| **Babel**                   | Partially Unsupported | Turbopack does not include Babel by default. However, you can [configure `babel-loader` via the Turbopack config](/docs/app/api-reference/config/next-config-js/turbopack#configuring-webpack-loaders). |\n \n ### Framework and React features\n \n@@ -77,12 +77,12 @@ Turbopack in Next.js has **zero-configuration** for the common use cases. Below\n \n ### Module resolution\n \n-| Feature               | Status              | Notes                                                                                                                                                       |\n-| --------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |\n-| **Path Aliases**      | **Supported**       | Reads `tsconfig.json`'s `paths` and `baseUrl`, matching Next.js behavior.                                                                                   |\n-| **Manual Aliases**    | **Supported**       | [Configure `resolveAlias` in `next.config.js`](/docs/app/api-reference/config/next-config-js/turbo#resolving-aliases) (similar to `webpack.resolve.alias`). |\n-| **Custom Extensions** | **Supported**       | [Configure `resolveExtensions` in `next.config.js`](/docs/app/api-reference/config/next-config-js/turbo#resolving-custom-extensions).                       |\n-| **AMD**               | Partially Supported | Basic transforms work; advanced AMD usage is limited.                                                                                                       |\n+| Feature               | Status              | Notes                                                                                                                                                           |\n+| --------------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n+| **Path Aliases**      | **Supported**       | Reads `tsconfig.json`'s `paths` and `baseUrl`, matching Next.js behavior.                                                                                       |\n+| **Manual Aliases**    | **Supported**       | [Configure `resolveAlias` in `next.config.js`](/docs/app/api-reference/config/next-config-js/turbopack#resolving-aliases) (similar to `webpack.resolve.alias`). |\n+| **Custom Extensions** | **Supported**       | [Configure `resolveExtensions` in `next.config.js`](/docs/app/api-reference/config/next-config-js/turbopack#resolving-custom-extensions).                       |\n+| **AMD**               | Partially Supported | Basic transforms work; advanced AMD usage is limited.                                                                                                           |\n \n ### Performance and Fast Refresh\n \n@@ -102,7 +102,7 @@ Some features are not yet implemented or not planned:\n   - The `@value` rule (superseded by CSS variables).\n   - `:import` and `:export` ICSS rules.\n - **`webpack()` configuration** in `next.config.js`\n-  Turbopack replaces webpack, so `webpack()` configs are not recognized. Use the [`experimental.turbo` config](/docs/app/api-reference/config/next-config-js/turbo) instead.\n+  Turbopack replaces webpack, so `webpack()` configs are not recognized. Use the [`experimental.turbo` config](/docs/app/api-reference/config/next-config-js/turbopack) instead.\n - **AMP**\n   Not planned for Turbopack support in Next.js.\n - **Yarn PnP**\n@@ -118,14 +118,14 @@ Some features are not yet implemented or not planned:\n   - `experimental.fallbackNodePolyfills`\n     We plan to implement these in the future.\n \n-For a full, detailed breakdown of each feature flag and its status, see the [Turbopack API Reference](/docs/app/api-reference/config/next-config-js/turbo).\n+For a full, detailed breakdown of each feature flag and its status, see the [Turbopack API Reference](/docs/app/api-reference/config/next-config-js/turbopack).\n \n ## Configuration\n \n-Turbopack can be configured via `next.config.js` (or `next.config.ts`) under the `experimental.turbo` key. Configuration options include:\n+Turbopack can be configured via `next.config.js` (or `next.config.ts`) under the `turbopack` key. Configuration options include:\n \n - **`rules`**\n-  Define additional [webpack loaders](/docs/app/api-reference/config/next-config-js/turbo#configuring-webpack-loaders) for file transformations.\n+  Define additional [webpack loaders](/docs/app/api-reference/config/next-config-js/turbopack#configuring-webpack-loaders) for file transformations.\n - **`resolveAlias`**\n   Create manual aliases (like `resolve.alias` in webpack).\n - **`resolveExtensions`**\n@@ -139,19 +139,17 @@ Turbopack can be configured via `next.config.js` (or `next.config.ts`) under the\n \n ```js filename=\"next.config.js\"\n module.exports = {\n-  experimental: {\n-    turbo: {\n-      // Example: adding an alias and custom file extension\n-      resolveAlias: {\n-        underscore: 'lodash',\n-      },\n-      resolveExtensions: ['.mdx', '.tsx', '.ts', '.jsx', '.js', '.json'],\n+  turbopack: {\n+    // Example: adding an alias and custom file extension\n+    resolveAlias: {\n+      underscore: 'lodash',\n     },\n+    resolveExtensions: ['.mdx', '.tsx', '.ts', '.jsx', '.js', '.json'],\n   },\n }\n ```\n \n-For more in-depth configuration examples, see the [Turbopack config documentation](/docs/app/api-reference/config/next-config-js/turbo).\n+For more in-depth configuration examples, see the [Turbopack config documentation](/docs/app/api-reference/config/next-config-js/turbopack).\n \n ## Generating trace files for performance debugging\n "
        },
        {
            "sha": "6b55ded59ee31e186ff6c574956dd611c2b0a47d",
            "filename": "docs/02-pages/03-api-reference/04-config/01-next-config-js/turbo.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F02-pages%2F03-api-reference%2F04-config%2F01-next-config-js%2Fturbo.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c54f98767ad2b2e416e5f407eabd1724221d7258/docs%2F02-pages%2F03-api-reference%2F04-config%2F01-next-config-js%2Fturbo.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F03-api-reference%2F04-config%2F01-next-config-js%2Fturbo.mdx?ref=c54f98767ad2b2e416e5f407eabd1724221d7258",
            "patch": "@@ -2,7 +2,7 @@\n title: turbo\n description: Configure Next.js with Turbopack-specific options\n version: experimental\n-source: app/api-reference/config/next-config-js/turbo\n+source: app/api-reference/config/next-config-js/turbopack\n ---\n \n {/* DO NOT EDIT. The content of this doc is generated from the source above. To edit the content of this page, navigate to the source page in your editor. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}"
        }
    ],
    "stats": {
        "total": 160,
        "additions": 71,
        "deletions": 89
    }
}