{
    "author": "eps1lon",
    "message": "[test] Add repro for SSR bug when large chunks are deferred in Flight (#80661)",
    "sha": "0b6a580c6cc0384b18325ea0f9ed6c16f24a2292",
    "files": [
        {
            "sha": "f138dc7cc8ad1ea57ed82afa482baa80aac3da40",
            "filename": "test/e2e/app-dir/metadata/app/large-shell/[slug]/page.tsx",
            "status": "added",
            "additions": 125,
            "deletions": 0,
            "changes": 125,
            "blob_url": "https://github.com/vercel/next.js/blob/0b6a580c6cc0384b18325ea0f9ed6c16f24a2292/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fapp%2Flarge-shell%2F%5Bslug%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/0b6a580c6cc0384b18325ea0f9ed6c16f24a2292/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fapp%2Flarge-shell%2F%5Bslug%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fapp%2Flarge-shell%2F%5Bslug%5D%2Fpage.tsx?ref=0b6a580c6cc0384b18325ea0f9ed6c16f24a2292",
            "patch": "@@ -0,0 +1,125 @@\n+import type { Metadata } from 'next'\n+\n+export const experimental_ppr = true\n+\n+export const generateMetadata = async ({ params }): Promise<Metadata> => {\n+  const { slug } = await params\n+  return { title: `${slug}` }\n+}\n+\n+export default function Page() {\n+  return (\n+    <>\n+      <p>{'BEGINNINGasdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'MIDDLEasdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'asdasdasadasdasd232344234234234'}</p>\n+      <p>{'asdsadiasdhasuidhasdiuasasdsadduhiuihueiohjewiohjewiohj'}</p>\n+      <p>{'asdasd'}</p>\n+      <p>{'ENDasdasdasadasdasd232344234234234'}</p>\n+    </>\n+  )\n+}"
        },
        {
            "sha": "44ffd9cb77721910786d908c70637f5b4ed5ba6a",
            "filename": "test/e2e/app-dir/metadata/metadata.test.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/0b6a580c6cc0384b18325ea0f9ed6c16f24a2292/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/0b6a580c6cc0384b18325ea0f9ed6c16f24a2292/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts?ref=0b6a580c6cc0384b18325ea0f9ed6c16f24a2292",
            "patch": "@@ -855,4 +855,21 @@ describe('app dir - metadata', () => {\n       )\n     }\n   })\n+\n+  it('regression: renders a large shell', async () => {\n+    const pageErrors: unknown[] = []\n+    await next.browser('/large-shell/foo', {\n+      beforePageLoad(page) {\n+        page.on('pageerror', (error) => {\n+          pageErrors.push(error)\n+        })\n+      },\n+    })\n+\n+    // TODO: Assert on errorless pages by default.\n+    // This isn't 100% accurate.\n+    // We sometimes receive the pageerror after the hydration complete event\n+    // since that event is just for shell hydration not everything being hydrated.\n+    expect(pageErrors).toEqual([])\n+  })\n })"
        },
        {
            "sha": "b822149aecd83efb69717434f9a851a70e420ff5",
            "filename": "test/e2e/app-dir/metadata/next.config.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/0b6a580c6cc0384b18325ea0f9ed6c16f24a2292/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/0b6a580c6cc0384b18325ea0f9ed6c16f24a2292/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fnext.config.js?ref=0b6a580c6cc0384b18325ea0f9ed6c16f24a2292",
            "patch": "@@ -1 +1,4 @@\n-module.exports = {}\n+/** @type {import('next').NextConfig} */\n+const config = {}\n+\n+module.exports = config"
        }
    ],
    "stats": {
        "total": 147,
        "additions": 146,
        "deletions": 1
    }
}