{
    "author": "devjiwonchoi",
    "message": "Add test for eslint-config-next (#84838)\n\nBefore migrating `eslint-config-next` project to TypeScript and Flat config, add a reliable test so that we can detect regression during the process.\r\n\r\nThe patterns and utils are ported from https://github.com/vercel/next.js/blob/ad17ea67c2d4140ac2c59caeb37d1ea6d8e6ad8b/test/production/eslint/test/next-build-and-lint.test.ts, which was removed at https://github.com/vercel/next.js/pull/83136.",
    "sha": "c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
    "files": [
        {
            "sha": "ddf5d86a785def31a96c429d18ceb1c06164844e",
            "filename": "test/unit/eslint-config-next/core-web-vitals/eslint-config-next-core-web-vitals.test.ts",
            "status": "added",
            "additions": 249,
            "deletions": 0,
            "changes": 249,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Feslint-config-next-core-web-vitals.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Feslint-config-next-core-web-vitals.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Feslint-config-next-core-web-vitals.test.ts?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,249 @@\n+import { join } from 'path'\n+import { execSync } from 'child_process'\n+import { getEslintConfigSnapshot } from '../utils'\n+\n+describe('eslint-config-next/core-web-vitals', () => {\n+  it('should match expected resolved configuration', () => {\n+    const eslintConfigAfterSetupJSON = execSync(\n+      // Pass explicit absolute path to not get affected by the root eslint config.\n+      `pnpm eslint --config ${join(__dirname, 'eslint.config.mjs')} --print-config ${join(__dirname, 'test.js')}`,\n+      {\n+        cwd: __dirname,\n+        encoding: 'utf8',\n+        stdio: ['pipe', 'pipe', 'inherit'],\n+      }\n+    )\n+\n+    const { settings, languageOptions, ...eslintConfigAfterSetup } = JSON.parse(\n+      eslintConfigAfterSetupJSON\n+    )\n+\n+    expect({\n+      parser: languageOptions.parser,\n+      settings,\n+    }).toEqual({\n+      parser: expect.stringContaining('eslint-config-next'),\n+      settings: {\n+        'import/parsers': expect.any(Object),\n+        'import/resolver': expect.any(Object),\n+        react: {\n+          version: 'detect',\n+        },\n+      },\n+    })\n+\n+    expect(getEslintConfigSnapshot(eslintConfigAfterSetup))\n+      .toMatchInlineSnapshot(`\n+     {\n+       \"language\": \"@/js\",\n+       \"linterOptions\": {\n+         \"reportUnusedDisableDirectives\": 1,\n+       },\n+       \"plugins\": [\n+         \"@\",\n+         \"react\",\n+         \"react-hooks:eslint-plugin-react-hooks@7.0.0\",\n+         \"@next/next\",\n+         \"import\",\n+         \"jsx-a11y:eslint-plugin-jsx-a11y@6.10.2\",\n+       ],\n+       \"rules\": {\n+         \"@next/next/google-font-display\": [\n+           1,\n+         ],\n+         \"@next/next/google-font-preconnect\": [\n+           1,\n+         ],\n+         \"@next/next/inline-script-id\": [\n+           2,\n+         ],\n+         \"@next/next/next-script-for-ga\": [\n+           1,\n+         ],\n+         \"@next/next/no-assign-module-variable\": [\n+           2,\n+         ],\n+         \"@next/next/no-async-client-component\": [\n+           1,\n+         ],\n+         \"@next/next/no-before-interactive-script-outside-document\": [\n+           1,\n+         ],\n+         \"@next/next/no-css-tags\": [\n+           1,\n+         ],\n+         \"@next/next/no-document-import-in-page\": [\n+           2,\n+         ],\n+         \"@next/next/no-duplicate-head\": [\n+           2,\n+         ],\n+         \"@next/next/no-head-element\": [\n+           1,\n+         ],\n+         \"@next/next/no-head-import-in-document\": [\n+           2,\n+         ],\n+         \"@next/next/no-html-link-for-pages\": [\n+           2,\n+         ],\n+         \"@next/next/no-img-element\": [\n+           1,\n+         ],\n+         \"@next/next/no-page-custom-font\": [\n+           1,\n+         ],\n+         \"@next/next/no-script-component-in-head\": [\n+           2,\n+         ],\n+         \"@next/next/no-styled-jsx-in-document\": [\n+           1,\n+         ],\n+         \"@next/next/no-sync-scripts\": [\n+           2,\n+         ],\n+         \"@next/next/no-title-in-document-head\": [\n+           1,\n+         ],\n+         \"@next/next/no-typos\": [\n+           1,\n+         ],\n+         \"@next/next/no-unwanted-polyfillio\": [\n+           1,\n+         ],\n+         \"import/no-anonymous-default-export\": [\n+           1,\n+         ],\n+         \"jsx-a11y/alt-text\": [\n+           1,\n+           {\n+             \"elements\": [\n+               \"img\",\n+             ],\n+             \"img\": [\n+               \"Image\",\n+             ],\n+           },\n+         ],\n+         \"jsx-a11y/aria-props\": [\n+           1,\n+         ],\n+         \"jsx-a11y/aria-proptypes\": [\n+           1,\n+         ],\n+         \"jsx-a11y/aria-unsupported-elements\": [\n+           1,\n+         ],\n+         \"jsx-a11y/role-has-required-aria-props\": [\n+           1,\n+         ],\n+         \"jsx-a11y/role-supports-aria-props\": [\n+           1,\n+         ],\n+         \"react-hooks/component-hook-factories\": [\n+           2,\n+         ],\n+         \"react-hooks/config\": [\n+           2,\n+         ],\n+         \"react-hooks/error-boundaries\": [\n+           2,\n+         ],\n+         \"react-hooks/exhaustive-deps\": [\n+           1,\n+         ],\n+         \"react-hooks/gating\": [\n+           2,\n+         ],\n+         \"react-hooks/globals\": [\n+           2,\n+         ],\n+         \"react-hooks/immutability\": [\n+           2,\n+         ],\n+         \"react-hooks/incompatible-library\": [\n+           1,\n+         ],\n+         \"react-hooks/preserve-manual-memoization\": [\n+           2,\n+         ],\n+         \"react-hooks/purity\": [\n+           2,\n+         ],\n+         \"react-hooks/refs\": [\n+           2,\n+         ],\n+         \"react-hooks/rules-of-hooks\": [\n+           2,\n+         ],\n+         \"react-hooks/set-state-in-effect\": [\n+           2,\n+         ],\n+         \"react-hooks/set-state-in-render\": [\n+           2,\n+         ],\n+         \"react-hooks/static-components\": [\n+           2,\n+         ],\n+         \"react-hooks/unsupported-syntax\": [\n+           1,\n+         ],\n+         \"react-hooks/use-memo\": [\n+           2,\n+         ],\n+         \"react/display-name\": [\n+           2,\n+         ],\n+         \"react/jsx-key\": [\n+           2,\n+         ],\n+         \"react/jsx-no-comment-textnodes\": [\n+           2,\n+         ],\n+         \"react/jsx-no-duplicate-props\": [\n+           2,\n+         ],\n+         \"react/jsx-no-undef\": [\n+           2,\n+         ],\n+         \"react/jsx-uses-react\": [\n+           2,\n+         ],\n+         \"react/jsx-uses-vars\": [\n+           2,\n+         ],\n+         \"react/no-children-prop\": [\n+           2,\n+         ],\n+         \"react/no-danger-with-children\": [\n+           2,\n+         ],\n+         \"react/no-deprecated\": [\n+           2,\n+         ],\n+         \"react/no-direct-mutation-state\": [\n+           2,\n+         ],\n+         \"react/no-find-dom-node\": [\n+           2,\n+         ],\n+         \"react/no-is-mounted\": [\n+           2,\n+         ],\n+         \"react/no-render-return-value\": [\n+           2,\n+         ],\n+         \"react/no-string-refs\": [\n+           2,\n+         ],\n+         \"react/no-unescaped-entities\": [\n+           2,\n+         ],\n+         \"react/require-render-return\": [\n+           2,\n+         ],\n+       },\n+     }\n+    `)\n+  })\n+})"
        },
        {
            "sha": "fb9e2df61f231b50d990f01f7963ceaa7aa98d61",
            "filename": "test/unit/eslint-config-next/core-web-vitals/eslint.config.mjs",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Feslint.config.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Feslint.config.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Feslint.config.mjs?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,12 @@\n+import path from 'path'\n+import { fileURLToPath } from 'url'\n+import { FlatCompat } from '@eslint/eslintrc'\n+\n+const __filename = fileURLToPath(import.meta.url)\n+const __dirname = path.dirname(__filename)\n+\n+const compat = new FlatCompat({\n+  baseDirectory: __dirname,\n+})\n+\n+export default compat.extends('next/core-web-vitals')"
        },
        {
            "sha": "1e59f3166c8688442b19ca93549fdae14fb5eb93",
            "filename": "test/unit/eslint-config-next/core-web-vitals/test.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Ftest.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Ftest.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Fcore-web-vitals%2Ftest.js?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,4 @@\n+// Dummy file for testing eslint-config-next core-web-vitals configuration\n+export default function Test() {\n+  return <div>Hello World</div>\n+}"
        },
        {
            "sha": "1368c55937b3a4fc2433959de65b47ea6909ba60",
            "filename": "test/unit/eslint-config-next/default/eslint-config-next-default.test.ts",
            "status": "added",
            "additions": 250,
            "deletions": 0,
            "changes": 250,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fdefault%2Feslint-config-next-default.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fdefault%2Feslint-config-next-default.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Fdefault%2Feslint-config-next-default.test.ts?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,250 @@\n+import { join } from 'path'\n+import { execSync } from 'child_process'\n+import { getEslintConfigSnapshot } from '../utils'\n+\n+describe('eslint-config-next', () => {\n+  it('should match expected resolved configuration', () => {\n+    const eslintConfigAfterSetupJSON = execSync(\n+      // Pass explicit absolute path to not get affected by the root eslint config.\n+      `pnpm eslint --config ${join(__dirname, 'eslint.config.mjs')} --print-config ${join(__dirname, 'test.js')}`,\n+      {\n+        cwd: __dirname,\n+        encoding: 'utf8',\n+        stdio: ['pipe', 'pipe', 'inherit'],\n+      }\n+    )\n+\n+    const { settings, languageOptions, ...eslintConfigAfterSetup } = JSON.parse(\n+      eslintConfigAfterSetupJSON\n+    )\n+\n+    expect({\n+      parser: languageOptions.parser,\n+      settings,\n+    }).toEqual({\n+      // parser: require.resolve('eslint-config-next')\n+      parser: expect.stringContaining('eslint-config-next'),\n+      settings: {\n+        'import/parsers': expect.any(Object),\n+        'import/resolver': expect.any(Object),\n+        react: {\n+          version: 'detect',\n+        },\n+      },\n+    })\n+\n+    expect(getEslintConfigSnapshot(eslintConfigAfterSetup))\n+      .toMatchInlineSnapshot(`\n+     {\n+       \"language\": \"@/js\",\n+       \"linterOptions\": {\n+         \"reportUnusedDisableDirectives\": 1,\n+       },\n+       \"plugins\": [\n+         \"@\",\n+         \"react\",\n+         \"react-hooks:eslint-plugin-react-hooks@7.0.0\",\n+         \"@next/next\",\n+         \"import\",\n+         \"jsx-a11y:eslint-plugin-jsx-a11y@6.10.2\",\n+       ],\n+       \"rules\": {\n+         \"@next/next/google-font-display\": [\n+           1,\n+         ],\n+         \"@next/next/google-font-preconnect\": [\n+           1,\n+         ],\n+         \"@next/next/inline-script-id\": [\n+           2,\n+         ],\n+         \"@next/next/next-script-for-ga\": [\n+           1,\n+         ],\n+         \"@next/next/no-assign-module-variable\": [\n+           2,\n+         ],\n+         \"@next/next/no-async-client-component\": [\n+           1,\n+         ],\n+         \"@next/next/no-before-interactive-script-outside-document\": [\n+           1,\n+         ],\n+         \"@next/next/no-css-tags\": [\n+           1,\n+         ],\n+         \"@next/next/no-document-import-in-page\": [\n+           2,\n+         ],\n+         \"@next/next/no-duplicate-head\": [\n+           2,\n+         ],\n+         \"@next/next/no-head-element\": [\n+           1,\n+         ],\n+         \"@next/next/no-head-import-in-document\": [\n+           2,\n+         ],\n+         \"@next/next/no-html-link-for-pages\": [\n+           1,\n+         ],\n+         \"@next/next/no-img-element\": [\n+           1,\n+         ],\n+         \"@next/next/no-page-custom-font\": [\n+           1,\n+         ],\n+         \"@next/next/no-script-component-in-head\": [\n+           2,\n+         ],\n+         \"@next/next/no-styled-jsx-in-document\": [\n+           1,\n+         ],\n+         \"@next/next/no-sync-scripts\": [\n+           1,\n+         ],\n+         \"@next/next/no-title-in-document-head\": [\n+           1,\n+         ],\n+         \"@next/next/no-typos\": [\n+           1,\n+         ],\n+         \"@next/next/no-unwanted-polyfillio\": [\n+           1,\n+         ],\n+         \"import/no-anonymous-default-export\": [\n+           1,\n+         ],\n+         \"jsx-a11y/alt-text\": [\n+           1,\n+           {\n+             \"elements\": [\n+               \"img\",\n+             ],\n+             \"img\": [\n+               \"Image\",\n+             ],\n+           },\n+         ],\n+         \"jsx-a11y/aria-props\": [\n+           1,\n+         ],\n+         \"jsx-a11y/aria-proptypes\": [\n+           1,\n+         ],\n+         \"jsx-a11y/aria-unsupported-elements\": [\n+           1,\n+         ],\n+         \"jsx-a11y/role-has-required-aria-props\": [\n+           1,\n+         ],\n+         \"jsx-a11y/role-supports-aria-props\": [\n+           1,\n+         ],\n+         \"react-hooks/component-hook-factories\": [\n+           2,\n+         ],\n+         \"react-hooks/config\": [\n+           2,\n+         ],\n+         \"react-hooks/error-boundaries\": [\n+           2,\n+         ],\n+         \"react-hooks/exhaustive-deps\": [\n+           1,\n+         ],\n+         \"react-hooks/gating\": [\n+           2,\n+         ],\n+         \"react-hooks/globals\": [\n+           2,\n+         ],\n+         \"react-hooks/immutability\": [\n+           2,\n+         ],\n+         \"react-hooks/incompatible-library\": [\n+           1,\n+         ],\n+         \"react-hooks/preserve-manual-memoization\": [\n+           2,\n+         ],\n+         \"react-hooks/purity\": [\n+           2,\n+         ],\n+         \"react-hooks/refs\": [\n+           2,\n+         ],\n+         \"react-hooks/rules-of-hooks\": [\n+           2,\n+         ],\n+         \"react-hooks/set-state-in-effect\": [\n+           2,\n+         ],\n+         \"react-hooks/set-state-in-render\": [\n+           2,\n+         ],\n+         \"react-hooks/static-components\": [\n+           2,\n+         ],\n+         \"react-hooks/unsupported-syntax\": [\n+           1,\n+         ],\n+         \"react-hooks/use-memo\": [\n+           2,\n+         ],\n+         \"react/display-name\": [\n+           2,\n+         ],\n+         \"react/jsx-key\": [\n+           2,\n+         ],\n+         \"react/jsx-no-comment-textnodes\": [\n+           2,\n+         ],\n+         \"react/jsx-no-duplicate-props\": [\n+           2,\n+         ],\n+         \"react/jsx-no-undef\": [\n+           2,\n+         ],\n+         \"react/jsx-uses-react\": [\n+           2,\n+         ],\n+         \"react/jsx-uses-vars\": [\n+           2,\n+         ],\n+         \"react/no-children-prop\": [\n+           2,\n+         ],\n+         \"react/no-danger-with-children\": [\n+           2,\n+         ],\n+         \"react/no-deprecated\": [\n+           2,\n+         ],\n+         \"react/no-direct-mutation-state\": [\n+           2,\n+         ],\n+         \"react/no-find-dom-node\": [\n+           2,\n+         ],\n+         \"react/no-is-mounted\": [\n+           2,\n+         ],\n+         \"react/no-render-return-value\": [\n+           2,\n+         ],\n+         \"react/no-string-refs\": [\n+           2,\n+         ],\n+         \"react/no-unescaped-entities\": [\n+           2,\n+         ],\n+         \"react/require-render-return\": [\n+           2,\n+         ],\n+       },\n+     }\n+    `)\n+  })\n+})"
        },
        {
            "sha": "d6284055c0313d52ac76239c1c38e477cfd83f48",
            "filename": "test/unit/eslint-config-next/default/eslint.config.mjs",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fdefault%2Feslint.config.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fdefault%2Feslint.config.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Fdefault%2Feslint.config.mjs?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,12 @@\n+import path from 'path'\n+import { fileURLToPath } from 'url'\n+import { FlatCompat } from '@eslint/eslintrc'\n+\n+const __filename = fileURLToPath(import.meta.url)\n+const __dirname = path.dirname(__filename)\n+\n+const compat = new FlatCompat({\n+  baseDirectory: __dirname,\n+})\n+\n+export default compat.extends('next')"
        },
        {
            "sha": "e0f07bc1f235937c0efe98eedc04b872d5535def",
            "filename": "test/unit/eslint-config-next/default/test.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fdefault%2Ftest.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Fdefault%2Ftest.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Fdefault%2Ftest.js?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,4 @@\n+// Dummy file for testing eslint-config-next base configuration\n+export default function Test() {\n+  return <div>Hello World</div>\n+}"
        },
        {
            "sha": "afab30f770d3b806f00edd13633dceb0dc50f2c1",
            "filename": "test/unit/eslint-config-next/typescript/eslint-config-next-typescript.test.ts",
            "status": "added",
            "additions": 124,
            "deletions": 0,
            "changes": 124,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Ftypescript%2Feslint-config-next-typescript.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Ftypescript%2Feslint-config-next-typescript.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Ftypescript%2Feslint-config-next-typescript.test.ts?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,124 @@\n+import { join } from 'path'\n+import { execSync } from 'child_process'\n+import { getEslintConfigSnapshot } from '../utils'\n+\n+describe('eslint-config-next/typescript', () => {\n+  it('should match expected resolved configuration', () => {\n+    const eslintConfigAfterSetupJSON = execSync(\n+      // Pass explicit absolute path to not get affected by the root eslint config.\n+      `pnpm eslint --config ${join(__dirname, 'eslint.config.mjs')} --print-config ${join(__dirname, 'test.tsx')}`,\n+      {\n+        cwd: __dirname,\n+        encoding: 'utf8',\n+        stdio: ['pipe', 'pipe', 'inherit'],\n+      }\n+    )\n+\n+    const { languageOptions, ...eslintConfigAfterSetup } = JSON.parse(\n+      eslintConfigAfterSetupJSON\n+    )\n+\n+    expect({\n+      parser: languageOptions.parser,\n+    }).toEqual({\n+      parser: expect.stringContaining('typescript-eslint'),\n+    })\n+\n+    expect(getEslintConfigSnapshot(eslintConfigAfterSetup))\n+      .toMatchInlineSnapshot(`\n+     {\n+       \"language\": \"@/js\",\n+       \"linterOptions\": {\n+         \"reportUnusedDisableDirectives\": 1,\n+       },\n+       \"plugins\": [\n+         \"@\",\n+         \"@typescript-eslint:@typescript-eslint/eslint-plugin@8.46.0\",\n+       ],\n+       \"rules\": {\n+         \"@typescript-eslint/ban-ts-comment\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-array-constructor\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-duplicate-enum-values\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-empty-object-type\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-explicit-any\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-extra-non-null-assertion\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-misused-new\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-namespace\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-non-null-asserted-optional-chain\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-require-imports\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-this-alias\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-unnecessary-type-constraint\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-unsafe-declaration-merging\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-unsafe-function-type\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/no-unused-expressions\": [\n+           1,\n+           {\n+             \"allowShortCircuit\": false,\n+             \"allowTaggedTemplates\": false,\n+             \"allowTernary\": false,\n+           },\n+         ],\n+         \"@typescript-eslint/no-unused-vars\": [\n+           1,\n+         ],\n+         \"@typescript-eslint/no-wrapper-object-types\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/prefer-as-const\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/prefer-namespace-keyword\": [\n+           2,\n+         ],\n+         \"@typescript-eslint/triple-slash-reference\": [\n+           2,\n+         ],\n+         \"no-var\": [\n+           2,\n+         ],\n+         \"prefer-const\": [\n+           2,\n+           {\n+             \"destructuring\": \"any\",\n+             \"ignoreReadBeforeAssign\": false,\n+           },\n+         ],\n+         \"prefer-rest-params\": [\n+           2,\n+         ],\n+         \"prefer-spread\": [\n+           2,\n+         ],\n+       },\n+     }\n+    `)\n+  })\n+})"
        },
        {
            "sha": "ee434e580dabb1f0822139e1f5dec5b28cfc4a8c",
            "filename": "test/unit/eslint-config-next/typescript/eslint.config.mjs",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Ftypescript%2Feslint.config.mjs",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Ftypescript%2Feslint.config.mjs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Ftypescript%2Feslint.config.mjs?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,12 @@\n+import path from 'path'\n+import { fileURLToPath } from 'url'\n+import { FlatCompat } from '@eslint/eslintrc'\n+\n+const __filename = fileURLToPath(import.meta.url)\n+const __dirname = path.dirname(__filename)\n+\n+const compat = new FlatCompat({\n+  baseDirectory: __dirname,\n+})\n+\n+export default compat.extends('next/typescript')"
        },
        {
            "sha": "4df2ad25ce15839030283f7792938f0fb0193eb7",
            "filename": "test/unit/eslint-config-next/typescript/test.tsx",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Ftypescript%2Ftest.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Ftypescript%2Ftest.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Ftypescript%2Ftest.tsx?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,8 @@\n+// Dummy file for testing eslint-config-next typescript configuration\n+interface Props {\n+  message: string\n+}\n+\n+export default function Test({ message }: Props) {\n+  return <div>{message}</div>\n+}"
        },
        {
            "sha": "579bcb2a597aec46247e57bfc351227358f57d18",
            "filename": "test/unit/eslint-config-next/utils.ts",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/c7d1db382bf9f2d972b8c56cac583f85b107c9e2/test%2Funit%2Feslint-config-next%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Funit%2Feslint-config-next%2Futils.ts?ref=c7d1db382bf9f2d972b8c56cac583f85b107c9e2",
            "patch": "@@ -0,0 +1,19 @@\n+/**\n+ * Rules being turned off (i.e. remove from snapshot) would be breaking change (requires removal of eslint-disable directive)\n+ * Rules being added that are turned off would not be a breaking change (no eslint-disable directive required)\n+ * Rules being added with a severity would be a breaking change (requires addition of eslint-disable directive)\n+ */\n+export function getEslintConfigSnapshot(eslintConfig: any) {\n+  return {\n+    ...eslintConfig,\n+    rules: Object.fromEntries(\n+      Object.entries(eslintConfig.rules).filter(\n+        ([, config]: [ruleName: string, config: [severity: unknown]]) => {\n+          const [severity] = config\n+\n+          return severity !== 0 && severity !== 'off'\n+        }\n+      )\n+    ),\n+  }\n+}"
        }
    ],
    "stats": {
        "total": 694,
        "additions": 694,
        "deletions": 0
    }
}