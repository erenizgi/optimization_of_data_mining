{
    "author": "RobertFent",
    "message": "Use Array.from to avoid @ts-ignore when copying i18n.locales (#82148)\n\n### What?\nReplaces:\n```ts\n// @ts-ignore locales are readonly\nconst locales: string[] = i18n.locales;\n```\nwith:\n```ts\nconst locales = Array.from(i18n.locales);\n```\n\n### Why?\nAvoids suppressing TypeScript errors via @ts-ignore.\nArray.from safely creates a mutable copy without modifying the readonly\noriginal, making the code cleaner and more type-safe.\n\n### How?\nUsed Array.from(i18n.locales) instead of a forced type assertion.<br>\n\n<br>\nNo functional change, purely a lint-/type-safety improvement.\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "3f75ff69cb1cc2a0314795b0fce8cd0a8dd4a837",
    "files": [
        {
            "sha": "5910fa79584edf2e8d5ea3ecdd8c4f3071f749c5",
            "filename": "examples/i18n-routing/middleware.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/3f75ff69cb1cc2a0314795b0fce8cd0a8dd4a837/examples%2Fi18n-routing%2Fmiddleware.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/3f75ff69cb1cc2a0314795b0fce8cd0a8dd4a837/examples%2Fi18n-routing%2Fmiddleware.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/examples%2Fi18n-routing%2Fmiddleware.ts?ref=3f75ff69cb1cc2a0314795b0fce8cd0a8dd4a837",
            "patch": "@@ -11,8 +11,7 @@ function getLocale(request: NextRequest): string | undefined {\n   const negotiatorHeaders: Record<string, string> = {};\n   request.headers.forEach((value, key) => (negotiatorHeaders[key] = value));\n \n-  // @ts-ignore locales are readonly\n-  const locales: string[] = i18n.locales;\n+  const locales = Array.from(i18n.locales);\n \n   // Use negotiator and intl-localematcher to get best locale\n   let languages = new Negotiator({ headers: negotiatorHeaders }).languages("
        }
    ],
    "stats": {
        "total": 3,
        "additions": 1,
        "deletions": 2
    }
}