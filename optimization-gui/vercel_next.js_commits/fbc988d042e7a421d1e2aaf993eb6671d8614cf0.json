{
    "author": "icyJoseph",
    "message": "docs: Getting started pages and search params (#80616)\n\nCloses:\nhttps://linear.app/vercel/issue/DOC-4789/getting-started-layout-and-pages-search-params\n\n---------\n\nCo-authored-by: Delba de Oliveira <32464864+delbaoliveira@users.noreply.github.com>",
    "sha": "fbc988d042e7a421d1e2aaf993eb6671d8614cf0",
    "files": [
        {
            "sha": "b3c5d4664d371fa88c21457f964a9fe0da17e962",
            "filename": "docs/01-app/01-getting-started/03-layouts-and-pages.mdx",
            "status": "modified",
            "additions": 35,
            "deletions": 1,
            "changes": 36,
            "blob_url": "https://github.com/vercel/next.js/blob/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F01-getting-started%2F03-layouts-and-pages.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F01-getting-started%2F03-layouts-and-pages.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F03-layouts-and-pages.mdx?ref=fbc988d042e7a421d1e2aaf993eb6671d8614cf0",
            "patch": "@@ -245,7 +245,41 @@ export default async function BlogPostPage({ params }) {\n }\n ```\n \n-Learn more about [Dynamic Segments](/docs/app/api-reference/file-conventions/dynamic-routes).\n+Learn more about [Dynamic Segments](/docs/app/api-reference/file-conventions/dynamic-routes) and the [`params`](/docs/app/api-reference/file-conventions/page#params-optional) props.\n+\n+Nested [layouts within Dynamic Segments](/docs/app/api-reference/file-conventions/layout#params-optional), can also access the `params` props.\n+\n+## Rendering with search params\n+\n+In a Server Component **page**, you can access search parameters using the [`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional) prop:\n+\n+```tsx filename=\"app/page.tsx\" switcher\n+export default async function Page({\n+  searchParams,\n+}: {\n+  searchParams: Promise<{ [key: string]: string | string[] | undefined }>\n+}) {\n+  const filters = (await searchParams).filters\n+}\n+```\n+\n+```jsx filename=\"app/page.jsx\" switcher\n+export default async function Page({ searchParams }) {\n+  const filters = (await searchParams).filters\n+}\n+```\n+\n+Using `searchParams` opts your page into [**dynamic rendering**](/docs/app/getting-started/partial-prerendering#dynamic-rendering) because it requires a incoming request to read the search parameters from.\n+\n+Client Components can read search params using the [`useSearchParams`](/docs/app/api-reference/functions/use-search-params) hook.\n+\n+Learn more about `useSearchParams` in [statically rendered](/docs/app/api-reference/functions/use-search-params#static-rendering) and [dynamically rendered](/docs/app/api-reference/functions/use-search-params#dynamic-rendering) routes.\n+\n+### What to use and when\n+\n+- Use the `searchParams` prop when you need search parameters to **load data for the page** (e.g. pagination, filtering from a database).\n+- Use `useSearchParams` when search parameters are used **only on the client** (e.g. filtering a list already loaded via props).\n+- As a small optimization, you can use `new URLSearchParams(window.location.search)` in **callbacks or event handlers** to read search params without triggering re-renders.\n \n ## Linking between pages\n "
        },
        {
            "sha": "3490c436104115e459e9d92213f39f247a088c0d",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/dynamic-routes.mdx",
            "status": "modified",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/vercel/next.js/blob/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fdynamic-routes.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fdynamic-routes.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fdynamic-routes.mdx?ref=fbc988d042e7a421d1e2aaf993eb6671d8614cf0",
            "patch": "@@ -41,6 +41,47 @@ Dynamic Segments are passed as the `params` prop to [`layout`](/docs/app/api-ref\n | `app/blog/[slug]/page.js` | `/blog/b`   | `{ slug: 'b' }` |\n | `app/blog/[slug]/page.js` | `/blog/c`   | `{ slug: 'c' }` |\n \n+### In Client Components\n+\n+In a Client Component **page**, dynamic segments from props can be accessed using the [`use`](https://react.dev/reference/react/use) hook.\n+\n+```tsx filename=\"app/blog/[slug]/page.tsx\" switcher\n+'use client'\n+import { use } from 'react'\n+\n+export default function BlogPostPage({\n+  params,\n+}: {\n+  params: Promise<{ slug: string }>\n+}) {\n+  const { slug } = use(params)\n+\n+  return (\n+    <div>\n+      <p>{slug}</p>\n+    </div>\n+  )\n+}\n+```\n+\n+```jsx filename=\"app/blog/[slug]/page.js\" switcher\n+'use client'\n+import { use } from 'react'\n+import { useParams } from 'next/navigation'\n+\n+export default function BlogPostPage({ params }) {\n+  const { slug } = use(params)\n+\n+  return (\n+    <div>\n+      <p>{slug}</p>\n+    </div>\n+  )\n+}\n+```\n+\n+Alternatively Client Components can use the [`useParams`](/docs/app/api-reference/functions/use-params) hook to access the `params` anywhere in the Client Component tree.\n+\n ### Catch-all Segments\n \n Dynamic Segments can be extended to **catch-all** subsequent segments by adding an ellipsis inside the brackets `[...folderName]`."
        },
        {
            "sha": "6afd84f70d21487f6ef50818502c026cadc35e45",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/layout.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Flayout.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Flayout.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Flayout.mdx?ref=fbc988d042e7a421d1e2aaf993eb6671d8614cf0",
            "patch": "@@ -61,16 +61,18 @@ A promise that resolves to an object containing the [dynamic route parameters](/\n \n ```tsx filename=\"app/dashboard/[team]/layout.tsx\" switcher\n export default async function Layout({\n+  children\n   params,\n }: {\n+  children: React.ReactNode\n   params: Promise<{ team: string }>\n }) {\n   const { team } = await params\n }\n ```\n \n ```jsx filename=\"app/dashboard/[team]/layout.js\" switcher\n-export default async function Layout({ params }) {\n+export default async function Layout({ children, params }) {\n   const { team } = await params\n }\n ```"
        },
        {
            "sha": "bc3c6e08f92cbae8cb48e13fd1353dc77eae8e9a",
            "filename": "docs/01-app/03-api-reference/03-file-conventions/page.mdx",
            "status": "modified",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fpage.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fpage.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F03-file-conventions%2Fpage.mdx?ref=fbc988d042e7a421d1e2aaf993eb6671d8614cf0",
            "patch": "@@ -83,6 +83,30 @@ export default async function Page({ searchParams }) {\n }\n ```\n \n+Client Component **pages** can also access `searchParams` using React’s [`use`](https://react.dev/reference/react/use) hook:\n+\n+```tsx filename=\"app/shop/page.tsx\" switcher\n+'use client'\n+import { use } from 'react'\n+\n+export default function Page({\n+  searchParams,\n+}: {\n+  searchParams: Promise<{ [key: string]: string | string[] | undefined }>\n+}) {\n+  const filters = use(searchParams).filters\n+}\n+```\n+\n+```jsx filename=\"app/page.jsx\" switcher\n+'use client'\n+import { use } from 'react'\n+\n+export default function Page({ searchParams }) {\n+  const filters = use(searchParams).filters\n+}\n+```\n+\n | Example URL     | `searchParams`                |\n | --------------- | ----------------------------- |\n | `/shop?a=1`     | `Promise<{ a: '1' }>`         |"
        },
        {
            "sha": "afffdd9a60d7ec8df2e47f70b0b8a94e8f31aebe",
            "filename": "docs/01-app/03-api-reference/04-functions/use-search-params.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F04-functions%2Fuse-search-params.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/fbc988d042e7a421d1e2aaf993eb6671d8614cf0/docs%2F01-app%2F03-api-reference%2F04-functions%2Fuse-search-params.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2Fuse-search-params.mdx?ref=fbc988d042e7a421d1e2aaf993eb6671d8614cf0",
            "patch": "@@ -173,6 +173,8 @@ export default function Page() {\n }\n ```\n \n+> **Good to know**: In development, all pages are rendered on-demand, so `useSearchParams` doesn't suspend. However, pre-rendering a [static page](/docs/app/getting-started/partial-prerendering#static-rendering) that worked in development will fail the build if `useSearchParams` is used in a Client Component that isn’t directly or indirectly wrapped in a `Suspense` boundary.\n+\n ### Dynamic Rendering\n \n If a route is [dynamically rendered](/docs/app/getting-started/partial-prerendering#dynamic-rendering), `useSearchParams` will be available on the server during the initial server render of the Client Component."
        }
    ],
    "stats": {
        "total": 107,
        "additions": 105,
        "deletions": 2
    }
}