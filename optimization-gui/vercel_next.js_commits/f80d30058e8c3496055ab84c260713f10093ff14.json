{
    "author": "timneutkens",
    "message": "Turbopack Build: Fix CSS test (#80064)\n\n## What?\n\nUpdates the check as it's slightly different with Turbopack.",
    "sha": "f80d30058e8c3496055ab84c260713f10093ff14",
    "files": [
        {
            "sha": "b0b1215bb86603e97b077d4eb31609737728e81f",
            "filename": "test/integration/css-features/test/css-modules.test.js",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/f80d30058e8c3496055ab84c260713f10093ff14/test%2Fintegration%2Fcss-features%2Ftest%2Fcss-modules.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/f80d30058e8c3496055ab84c260713f10093ff14/test%2Fintegration%2Fcss-features%2Ftest%2Fcss-modules.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fcss-features%2Ftest%2Fcss-modules.test.js?ref=f80d30058e8c3496055ab84c260713f10093ff14",
            "patch": "@@ -56,9 +56,16 @@ describe('Custom Properties: Fail for global element in CSS Modules', () => {\n           stderr: true,\n         })\n         expect(code).not.toBe(0)\n-        expect(stderr).toContain('Failed to compile')\n-        expect(stderr).toContain('pages/styles.module.css')\n-        expect(stderr).toContain('Selector \"h1\" is not pure')\n+        if (process.env.IS_TURBOPACK_TEST) {\n+          expect(stderr).toContain('pages/styles.module.css')\n+          expect(stderr).toContain(\n+            'Selector is not pure (pure selectors must contain at least one local class or id)'\n+          )\n+        } else {\n+          expect(stderr).toContain('Failed to compile')\n+          expect(stderr).toContain('pages/styles.module.css')\n+          expect(stderr).toContain('Selector \"h1\" is not pure')\n+        }\n       })\n     }\n   )"
        },
        {
            "sha": "f8a79f299aae2bde4544971f4735b16c4b7fba03",
            "filename": "test/turbopack-build-tests-manifest.json",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/f80d30058e8c3496055ab84c260713f10093ff14/test%2Fturbopack-build-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/f80d30058e8c3496055ab84c260713f10093ff14/test%2Fturbopack-build-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fturbopack-build-tests-manifest.json?ref=f80d30058e8c3496055ab84c260713f10093ff14",
            "patch": "@@ -10208,11 +10208,11 @@\n   },\n   \"test/integration/css-features/test/css-modules.test.js\": {\n     \"passed\": [\n-      \"CSS Modules: Import Global CSS production mode should've emitted a single CSS file\"\n+      \"CSS Modules: Import Global CSS production mode should've emitted a single CSS file\",\n+      \"Custom Properties: Fail for global element in CSS Modules production mode should fail to build\"\n     ],\n     \"failed\": [\n-      \"CSS Modules: Importing Invalid Global CSS production mode should fail to build\",\n-      \"Custom Properties: Fail for global element in CSS Modules production mode should fail to build\"\n+      \"CSS Modules: Importing Invalid Global CSS production mode should fail to build\"\n     ],\n     \"pending\": [\n       \"CSS Modules: Import Exports production mode should've emitted a single CSS file\","
        }
    ],
    "stats": {
        "total": 19,
        "additions": 13,
        "deletions": 6
    }
}