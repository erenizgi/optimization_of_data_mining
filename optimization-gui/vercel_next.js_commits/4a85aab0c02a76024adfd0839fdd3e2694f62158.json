{
    "author": "lukesandberg",
    "message": "[turbopack] Remove build scripts and register functions (#83156)\n\n## What\n\n#83074 migrated us to use `inventory` for registration, this obsoleted the build scripts and `register` functions.  So, delete them!\n\n## Why?\n\nSimplification, keeping registration and definition next to each other will make it easier to maintain.\n\nI was also optimistic about build performance.  unscientifically i ran `cargo clean` and then timed `pnpm turbo build-native` with and without this PR (closed VSCode and other copies of rustc)\n\nCHANGE:\nreal\t3m30.220s\nuser\t34m41.703s\nsys\t1m44.112s\n\nHEAD:\nreal\t3m31.017s\nuser\t34m47.691s\nsys\t1m47.096s\n\nðŸ˜¢  So yeah, not much of an effect, im guessing the build.rs scripts had good parallelism in the build or were just dwarfed by wasmer",
    "sha": "4a85aab0c02a76024adfd0839fdd3e2694f62158",
    "files": [
        {
            "sha": "01ae0af47ec1e42cfbc80bc965ae1d6913c18dda",
            "filename": "Cargo.lock",
            "status": "modified",
            "additions": 0,
            "deletions": 51,
            "changes": 51,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/Cargo.lock",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/Cargo.lock",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.lock?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -4285,7 +4285,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-malloc\",\n@@ -4306,7 +4305,6 @@ version = \"0.1.0\"\n dependencies = [\n  \"next-core\",\n  \"turbo-rcstr\",\n- \"turbo-tasks-build\",\n  \"turbopack-core\",\n ]\n \n@@ -4329,7 +4327,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-malloc\",\n  \"turbopack-trace-utils\",\n ]\n@@ -4368,7 +4365,6 @@ dependencies = [\n  \"turbo-esregex\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-bytes\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fetch\",\n@@ -4460,7 +4456,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-malloc\",\n  \"turbo-unix-path\",\n@@ -9128,7 +9123,6 @@ dependencies = [\n  \"serde\",\n  \"serde_json\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n ]\n \n [[package]]\n@@ -9238,7 +9232,6 @@ dependencies = [\n  \"triomphe 0.1.12\",\n  \"turbo-dyn-eq-hash\",\n  \"turbo-rcstr\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-hash\",\n  \"turbo-tasks-macros\",\n  \"turbo-tasks-malloc\",\n@@ -9280,7 +9273,6 @@ dependencies = [\n  \"turbo-persistence\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-malloc\",\n  \"turbo-tasks-testing\",\n ]\n@@ -9298,23 +9290,9 @@ dependencies = [\n  \"tokio\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-malloc\",\n ]\n \n-[[package]]\n-name = \"turbo-tasks-build\"\n-version = \"0.1.0\"\n-dependencies = [\n- \"anyhow\",\n- \"cargo-lock\",\n- \"glob\",\n- \"quote\",\n- \"rustc-hash 2.1.1\",\n- \"syn 2.0.104\",\n- \"turbo-tasks-macros-shared\",\n-]\n-\n [[package]]\n name = \"turbo-tasks-bytes\"\n version = \"0.1.0\"\n@@ -9326,7 +9304,6 @@ dependencies = [\n  \"serde_bytes\",\n  \"serde_test\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n ]\n \n [[package]]\n@@ -9337,7 +9314,6 @@ dependencies = [\n  \"dotenvs\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n ]\n \n@@ -9354,7 +9330,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-testing\",\n  \"turbopack-core\",\n@@ -9394,7 +9369,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-hash\",\n  \"turbo-tasks-testing\",\n  \"turbo-unix-path\",\n@@ -9413,7 +9387,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n ]\n \n@@ -9458,7 +9431,6 @@ dependencies = [\n  \"trybuild\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-testing\",\n ]\n \n@@ -9509,7 +9481,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n@@ -9565,7 +9536,6 @@ dependencies = [\n  \"tracing\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n  \"turbopack-core\",\n@@ -9596,7 +9566,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-malloc\",\n@@ -9628,7 +9597,6 @@ dependencies = [\n  \"serde\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n  \"turbopack-resolve\",\n@@ -9667,7 +9635,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n@@ -9705,7 +9672,6 @@ dependencies = [\n  \"tracing\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n  \"turbopack-ecmascript\",\n@@ -9738,7 +9704,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-bytes\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n@@ -9783,7 +9748,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n  \"turbo-tasks-malloc\",\n@@ -9826,7 +9790,6 @@ dependencies = [\n  \"tracing\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n  \"turbopack-ecmascript\",\n@@ -9841,7 +9804,6 @@ dependencies = [\n  \"serde\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack\",\n  \"turbopack-core\",\n@@ -9855,7 +9817,6 @@ dependencies = [\n  \"anyhow\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n@@ -9877,7 +9838,6 @@ dependencies = [\n  \"serde_with\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n ]\n@@ -9890,7 +9850,6 @@ dependencies = [\n  \"serde_json\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n  \"turbopack-ecmascript\",\n@@ -9905,7 +9864,6 @@ dependencies = [\n  \"mdxjs\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n  \"turbopack-ecmascript\",\n@@ -9927,7 +9885,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-malloc\",\n@@ -9963,7 +9920,6 @@ dependencies = [\n  \"tracing\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-bytes\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n@@ -9983,7 +9939,6 @@ dependencies = [\n  \"tracing\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n  \"turbopack-core\",\n@@ -10003,7 +9958,6 @@ dependencies = [\n  \"tracing\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbopack-core\",\n ]\n@@ -10015,7 +9969,6 @@ dependencies = [\n  \"anyhow\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n  \"turbopack-core\",\n@@ -10032,7 +9985,6 @@ dependencies = [\n  \"swc_core\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbopack-core\",\n ]\n \n@@ -10048,7 +10000,6 @@ dependencies = [\n  \"similar\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n  \"turbopack-cli-utils\",\n@@ -10071,7 +10022,6 @@ dependencies = [\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n  \"turbo-tasks-backend\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-bytes\",\n  \"turbo-tasks-env\",\n  \"turbo-tasks-fs\",\n@@ -10138,7 +10088,6 @@ dependencies = [\n  \"serde\",\n  \"turbo-rcstr\",\n  \"turbo-tasks\",\n- \"turbo-tasks-build\",\n  \"turbo-tasks-fs\",\n  \"turbo-tasks-hash\",\n  \"turbopack-core\","
        },
        {
            "sha": "3388866c5af1caff9843f1e8342c280451612603",
            "filename": "Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/Cargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/Cargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -25,6 +25,7 @@ too_many_arguments = \"allow\"\n unexpected_cfgs = { level = \"warn\", check-cfg = [\n   'cfg(rust_analyzer)',\n   'cfg(fuzzing)',\n+  'cfg(codspeed)',\n ] }\n \n # This crate is particularly sensitive to compiler optimizations\n@@ -269,7 +270,6 @@ turbo-unix-path = { path = \"turbopack/crates/turbo-unix-path\" }\n turbo-tasks-malloc = { path = \"turbopack/crates/turbo-tasks-malloc\", default-features = false }\n turbo-tasks = { path = \"turbopack/crates/turbo-tasks\" }\n turbo-tasks-backend = { path = \"turbopack/crates/turbo-tasks-backend\" }\n-turbo-tasks-build = { path = \"turbopack/crates/turbo-tasks-build\" }\n turbo-tasks-bytes = { path = \"turbopack/crates/turbo-tasks-bytes\" }\n turbo-tasks-env = { path = \"turbopack/crates/turbo-tasks-env\" }\n turbo-tasks-fetch = { path = \"turbopack/crates/turbo-tasks-fetch\" }"
        },
        {
            "sha": "d60772bce1e7713565a6ad147db99fd2a4731cf3",
            "filename": "crates/napi/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -145,6 +145,3 @@ serde = { workspace = true }\n serde_json = { workspace = true }\n vergen-gitcl = { workspace = true }\n \n-# build-dependencies for the native, non-wasm32 build\n-[target.'cfg(not(target_arch = \"wasm32\"))'.build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "18011b6fc3dba274e0e624da55c68f4e473c40ce",
            "filename": "crates/napi/build.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fbuild.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -89,8 +89,5 @@ fn main() -> anyhow::Result<()> {\n     #[cfg(all(target_os = \"linux\", not(target_arch = \"wasm32\")))]\n     println!(\"cargo:rustc-link-arg=-Wl,--warn-unresolved-symbols\");\n \n-    #[cfg(not(target_arch = \"wasm32\"))]\n-    turbo_tasks_build::generate_register();\n-\n     Ok(())\n }"
        },
        {
            "sha": "7529c09acf7186bad106924f0a9a2f3f61ab80e3",
            "filename": "crates/napi/src/lib.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 17,
            "changes": 18,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -34,7 +34,7 @@ DEALINGS IN THE SOFTWARE.\n #[macro_use]\n extern crate napi_derive;\n \n-use std::sync::{Arc, Once};\n+use std::sync::Arc;\n \n use napi::bindgen_prelude::*;\n use rustc_hash::{FxHashMap, FxHashSet};\n@@ -154,19 +154,3 @@ pub fn complete_output(\n \n     Ok(js_output)\n }\n-\n-static REGISTER_ONCE: Once = Once::new();\n-\n-#[cfg(not(target_arch = \"wasm32\"))]\n-fn register() {\n-    REGISTER_ONCE.call_once(|| {\n-        ::next_api::register();\n-        next_core::register();\n-        include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-    });\n-}\n-\n-#[cfg(target_arch = \"wasm32\")]\n-fn register() {\n-    //noop\n-}"
        },
        {
            "sha": "cf4fc0730ace97178cc8b151c26278a6511bcb96",
            "filename": "crates/napi/src/next_api/project.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -73,7 +73,6 @@ use crate::{\n             get_issues, subscribe,\n         },\n     },\n-    register,\n     util::DhatProfilerGuard,\n };\n \n@@ -352,7 +351,6 @@ pub fn project_new(\n ) -> napi::Result<JsObject> {\n     let napi_callbacks = NapiNextTurbopackCallbacks::from_js(napi_callbacks)?;\n     env.spawn_future(async move {\n-        register();\n         let (exit, exit_receiver) = ExitHandler::new_receiver();\n \n         if let Some(dhat_profiler) = DhatProfilerGuard::try_init() {"
        },
        {
            "sha": "94f77ff5aed066325562f20d1510890b630bb1a0",
            "filename": "crates/next-api/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -52,5 +52,4 @@ turbo-tasks-backend = { workspace = true }\n \n [build-dependencies]\n anyhow = { workspace = true }\n-turbo-tasks-build = { workspace = true }\n vergen = { workspace = true }"
        },
        {
            "sha": "2a47f9fb9dc7c16c925a30298ce3015621e9845d",
            "filename": "crates/next-api/benches/hmr.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fbenches%2Fhmr.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fbenches%2Fhmr.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fbenches%2Fhmr.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -11,7 +11,6 @@ use std::{\n use anyhow::{Context, Result};\n use next_api::{\n     project::{DefineEnv, DraftModeOptions, ProjectContainer, ProjectOptions, WatchOptions},\n-    register,\n     route::endpoint_write_to_disk,\n };\n use serde_json::json;\n@@ -379,7 +378,6 @@ impl HmrBenchmark {\n }\n \n async fn setup_benchmark(module_count: usize) -> HmrBenchmark {\n-    register();\n     HmrBenchmark::new(module_count).await.unwrap()\n }\n "
        },
        {
            "sha": "65d1aed8ba3b6f1730ba386324cefeb6fc3233d0",
            "filename": "crates/next-api/build.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fbuild.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -1,5 +1,3 @@\n-use turbo_tasks_build::generate_register;\n-\n fn main() -> anyhow::Result<()> {\n     // Generates, stores build-time information as static values.\n     // There are some places relying on correct values for this (i.e telemetry),\n@@ -12,7 +10,5 @@ fn main() -> anyhow::Result<()> {\n         .fail_on_error()\n         .emit()?;\n \n-    generate_register();\n-\n     Ok(())\n }"
        },
        {
            "sha": "ba9df7726b5aaa554449a24000863b108fbd7636",
            "filename": "crates/next-api/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -23,9 +23,3 @@ pub mod route;\n mod server_actions;\n mod versioned_content_map;\n mod webpack_stats;\n-\n-pub fn register() {\n-    next_core::register();\n-    turbopack_nodejs::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "b188b513586fdcc3a11ae4dde98f62e416f39e9f",
            "filename": "crates/next-api/src/nft_json.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fsrc%2Fnft_json.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-api%2Fsrc%2Fnft_json.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fnft_json.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -509,8 +509,6 @@ mod tests {\n     use super::*;\n \n     fn create_test_fs_path(path: &str) -> FileSystemPath {\n-        crate::register();\n-\n         FileSystemPath {\n             fs: ResolvedVc::upcast(NullFileSystem {}.resolved_cell()),\n             path: path.into(),"
        },
        {
            "sha": "b2fc71e70f6f6acf08a09c65391e4496113035e2",
            "filename": "crates/next-build-test/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build-test%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build-test%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build-test%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -28,5 +28,3 @@ turbo-tasks-backend = { workspace = true }\n turbo-tasks-malloc = { workspace = true }\n turbopack-trace-utils = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "56ca16cd73087a17ae79a1423fd996b50792aaed",
            "filename": "crates/next-build-test/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/crates%2Fnext-build-test%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/crates%2Fnext-build-test%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build-test%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,3 +0,0 @@\n-fn main() {\n-    turbo_tasks_build::generate_register();\n-}"
        },
        {
            "sha": "f8d444e88bdceae4d21e5264ea0d8525f3251f28",
            "filename": "crates/next-build-test/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build-test%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build-test%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build-test%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -23,8 +23,6 @@ pub async fn main_inner(\n     limit: usize,\n     files: Option<Vec<String>>,\n ) -> Result<()> {\n-    register();\n-\n     let path = std::env::current_dir()?.join(\"project_options.json\");\n     let mut file = std::fs::File::open(&path)\n         .with_context(|| format!(\"loading file at {}\", path.display()))?;\n@@ -94,11 +92,6 @@ pub async fn main_inner(\n     Ok(())\n }\n \n-pub fn register() {\n-    next_api::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}\n-\n #[derive(PartialEq, Copy, Clone)]\n pub enum Strategy {\n     Sequential { randomized: bool },"
        },
        {
            "sha": "b8fccb635dd87353485a6f27e77c9599b03ad982",
            "filename": "crates/next-build/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -17,5 +17,3 @@ next-core = { workspace = true }\n turbopack-core = { workspace = true }\n turbo-rcstr = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "crates/next-build/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/crates%2Fnext-build%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/crates%2Fnext-build%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "74ecb1b5ffeb9f3b00b5e5ae9d684af69090f2b0",
            "filename": "crates/next-build/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-build%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -5,9 +5,3 @@\n pub mod build_options;\n \n pub use self::build_options::BuildOptions;\n-\n-pub fn register() {\n-    turbopack_core::register();\n-    next_core::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "e2ede9eead11047f2d5ffa95b998ec92b70eb67c",
            "filename": "crates/next-core/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-core%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-core%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -80,9 +80,6 @@ turbopack-nodejs = { workspace = true }\n turbopack-static = { workspace = true }\n turbopack-trace-utils = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n-\n [features]\n next-font-local = []\n plugin = ["
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "crates/next-core/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/crates%2Fnext-core%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/crates%2Fnext-core%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "8643b8bfa32515fcbb43d8d886a32f866826c6db",
            "filename": "crates/next-core/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-core%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/crates%2Fnext-core%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -52,17 +52,3 @@ pub use next_edge::context::{\n pub use next_import_map::get_next_package;\n pub use page_loader::{PageLoaderAsset, create_page_loader_entry_module};\n pub use util::{PathType, get_asset_path_from_pathname, pathname_for_path};\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_bytes::register();\n-    turbo_tasks_fs::register();\n-    turbo_tasks_fetch::register();\n-    turbopack_browser::register();\n-    turbopack_node::register();\n-    turbopack::register();\n-    turbopack_image::register();\n-    turbopack_ecmascript::register();\n-    turbopack_ecmascript_plugins::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "d360e17aaffda32011c7193e9338e559297c7c7b",
            "filename": "turbopack/crates/turbo-esregex/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-esregex%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-esregex%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-esregex%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -12,8 +12,6 @@ serde = { workspace = true }\n serde_json = { workspace = true }\n turbo-tasks = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n \n [lints]\n workspace = true"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-esregex/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-esregex%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-esregex%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-esregex%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "8f74b927dafe435e5661c34aed392b5acb2aa545",
            "filename": "turbopack/crates/turbo-esregex/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-esregex%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-esregex%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-esregex%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -4,11 +4,6 @@ use std::vec;\n \n use anyhow::{Result, bail};\n \n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}\n-\n /// A simple regular expression implementation following ecmascript semantics\n ///\n /// Delegates to the `regex` crate when possible and `regress` otherwise."
        },
        {
            "sha": "4513aafb16ca490abe82266afd37170e1cb984b5",
            "filename": "turbopack/crates/turbo-tasks-backend/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -62,8 +62,6 @@ tempfile = { workspace = true }\n turbo-tasks-malloc = { workspace = true }\n rstest = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n \n [[bench]]\n name = \"mod\""
        },
        {
            "sha": "537e93e49478047002b0d65f7fbe34dd2745f121",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/mod.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fmod.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -13,8 +13,3 @@ criterion_group!(\n     targets = stress::fibonacci, scope_stress::scope_stress, overhead::overhead\n );\n criterion_main!(turbo_tasks_backend_stress);\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register_benches.rs\"));\n-}"
        },
        {
            "sha": "2b63b379e01cd8fa2b5a1026a13efe908c1b5467",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/overhead.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Foverhead.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Foverhead.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Foverhead.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -6,8 +6,6 @@ use tokio::spawn;\n use turbo_tasks::TurboTasks;\n use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n \n-use super::register;\n-\n #[global_allocator]\n static ALLOC: turbo_tasks_malloc::TurboMalloc = turbo_tasks_malloc::TurboMalloc;\n \n@@ -28,8 +26,6 @@ fn busy_turbo(key: u64, duration: Duration) {\n }\n \n pub fn overhead(c: &mut Criterion) {\n-    register();\n-\n     let mut group = c.benchmark_group(\"task_overhead\");\n     group.sample_size(100);\n "
        },
        {
            "sha": "0e2a1791e366deee811f0ece590d2cef46c0c05a",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/scope_stress.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fscope_stress.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fscope_stress.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fscope_stress.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -3,8 +3,6 @@ use criterion::{BenchmarkId, Criterion};\n use turbo_tasks::{Completion, ReadConsistency, TryJoinIterExt, TurboTasks, Vc};\n use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n \n-use super::register;\n-\n pub fn scope_stress(c: &mut Criterion) {\n     if matches!(\n         std::env::var(\"TURBOPACK_BENCH_STRESS\").ok().as_deref(),\n@@ -13,8 +11,6 @@ pub fn scope_stress(c: &mut Criterion) {\n         return;\n     }\n \n-    register();\n-\n     let mut group = c.benchmark_group(\"turbo_tasks_backend_scope_stress\");\n     group.sample_size(20);\n "
        },
        {
            "sha": "82159ec1b93d952c62d0431da67da33ee565906b",
            "filename": "turbopack/crates/turbo-tasks-backend/benches/stress.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fstress.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fstress.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbenches%2Fstress.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -3,8 +3,6 @@ use criterion::{BenchmarkId, Criterion};\n use turbo_tasks::{ReadConsistency, TryJoinIterExt, TurboTasks, Vc};\n use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n \n-use super::register;\n-\n pub fn fibonacci(c: &mut Criterion) {\n     if matches!(\n         std::env::var(\"TURBOPACK_BENCH_STRESS\").ok().as_deref(),\n@@ -13,8 +11,6 @@ pub fn fibonacci(c: &mut Criterion) {\n         return;\n     }\n \n-    register();\n-\n     let mut group = c.benchmark_group(\"turbo_tasks_backend_stress\");\n     group.sample_size(20);\n "
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-backend/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "64c064640c53e4b0eefa8087b0bace34f8f0b6b6",
            "filename": "turbopack/crates/turbo-tasks-backend/fuzz/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -19,9 +19,6 @@ turbo-tasks = { workspace = true }\n turbo-tasks-backend = { workspace = true }\n turbo-tasks-malloc = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n-\n [[bin]]\n name = \"fuzz_graph\"\n path = \"fuzz_targets/graph.rs\""
        },
        {
            "sha": "d54d36d1501c24c0866568fb9589ce6a315ae27a",
            "filename": "turbopack/crates/turbo-tasks-backend/fuzz/afl_targets/graph.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Fafl_targets%2Fgraph.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Fafl_targets%2Fgraph.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Fafl_targets%2Fgraph.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -13,14 +13,8 @@ mod graph;\n // turbopack/crates/turbo-tasks-backend/fuzz/afl-out -- target/debug/afl_graph\n \n fn main() {\n-    register();\n     init();\n     fuzz!(|data: Vec<TaskSpec>| {\n         run(data);\n     });\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register_afl_graph.rs\"));\n-}"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-backend/fuzz/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "d845b017128745f88f7dcc33a7ce7d872af9051d",
            "filename": "turbopack/crates/turbo-tasks-backend/fuzz/fuzz_targets/graph.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Ffuzz_targets%2Fgraph.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Ffuzz_targets%2Fgraph.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ffuzz%2Ffuzz_targets%2Fgraph.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -13,11 +13,6 @@ mod graph;\n // cargo fuzz run fuzz_graph -- -timeout=3 -print_pcs=1 -print_funcs=999999 -print_final_stats=1\n // add --jobs=6 -workers=6 for parallel fuzzing\n \n-fuzz_target!(init: { register(); init(); }, |data: Vec<TaskSpec>| {\n+fuzz_target!(init: { init(); }, |data: Vec<TaskSpec>| {\n     graph::run(data);\n });\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register_fuzz_graph.rs\"));\n-}"
        },
        {
            "sha": "dc4cf23cd8965a4d8ec48f775e4e012c03f01ae2",
            "filename": "turbopack/crates/turbo-tasks-backend/tests/test_config.trs",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftest_config.trs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftest_config.trs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Ftests%2Ftest_config.trs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -1,8 +1,6 @@\n |name, initial| {\n-  let path = std::path::PathBuf::from(format!(concat!(\n-    env!(\"OUT_DIR\"),\n-    \"/.cache/{}\",\n-  ), name));\n+  let path = std::path::PathBuf::from(\n+    format!(\"{}/.cache/{}\", env!(\"CARGO_TARGET_TMPDIR\"), name));\n   if initial {\n     let _ = std::fs::remove_dir_all(&path);\n   }"
        },
        {
            "sha": "edd56dfcecc78f572da92e0167adbc036f78cced",
            "filename": "turbopack/crates/turbo-tasks-build/Cargo.toml",
            "status": "removed",
            "additions": 0,
            "deletions": 21,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-build%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-build%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-build%2FCargo.toml?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,21 +0,0 @@\n-[package]\n-name = \"turbo-tasks-build\"\n-version = \"0.1.0\"\n-description = \"TBD\"\n-license = \"MIT\"\n-edition = \"2024\"\n-\n-[lib]\n-bench = false\n-\n-[lints]\n-workspace = true\n-\n-[dependencies]\n-anyhow = { workspace = true }\n-cargo-lock = \"8.0.2\"\n-glob = \"0.3.0\"\n-quote = { workspace = true }\n-rustc-hash = { workspace = true }\n-syn = { workspace = true, features = [\"full\"] }\n-turbo-tasks-macros-shared = { workspace = true }"
        },
        {
            "sha": "11985c364d97b4bf65709ca63672c93c604bdb19",
            "filename": "turbopack/crates/turbo-tasks-build/src/lib.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 460,
            "changes": 460,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-build%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-build%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-build%2Fsrc%2Flib.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,460 +0,0 @@\n-use std::{\n-    env::{self, current_dir},\n-    fs::read_dir,\n-    path::{MAIN_SEPARATOR as PATH_SEP, PathBuf},\n-    sync::Arc,\n-};\n-\n-use anyhow::{Context, Result};\n-use glob::glob;\n-use quote::ToTokens;\n-use rustc_hash::{FxHashMap, FxHashSet};\n-use syn::{\n-    Attribute, Expr, Ident, Item, ItemEnum, ItemImpl, ItemMacro, ItemMod, ItemStruct, Lit, Meta,\n-    parse_quote,\n-};\n-use turbo_tasks_macros_shared::{GenericTypeInput, PrimitiveInput, get_path_ident, get_type_ident};\n-\n-pub fn generate_register() {\n-    println!(\"cargo:rerun-if-changed=build.rs\");\n-\n-    let crate_dir = current_dir().unwrap();\n-    let workspace_dir = env::var_os(\"CARGO_WORKSPACE_DIR\")\n-        .map(PathBuf::from)\n-        .unwrap_or_else(|| crate_dir.clone());\n-    let out_dir = PathBuf::from(env::var(\"OUT_DIR\").unwrap());\n-\n-    let src_dir = crate_dir.join(\"src\");\n-    let examples_dir = crate_dir.join(\"examples\");\n-    let tests_dir = crate_dir.join(\"tests\");\n-    let fuzz_dir = crate_dir.join(\"fuzz_targets\");\n-    let afl_dir = crate_dir.join(\"afl_targets\");\n-    let benches_dir = crate_dir.join(\"benches\");\n-    let cargo_lock_path = workspace_dir.join(\"Cargo.lock\");\n-\n-    // TODO: use (ask @sokra)\n-    let _lock = cargo_lock::Lockfile::load(cargo_lock_path).ok();\n-\n-    let mut entries = Vec::new();\n-\n-    let lib_entry = src_dir.join(\"lib.rs\");\n-    if lib_entry.exists() {\n-        entries.push((\"register.rs\".to_string(), lib_entry));\n-    } else {\n-        let bin_entry = src_dir.join(\"main.rs\");\n-        if bin_entry.exists() {\n-            entries.push((\"register.rs\".to_string(), bin_entry));\n-        }\n-    }\n-\n-    if examples_dir.exists() {\n-        for item in read_dir(examples_dir).unwrap() {\n-            let item = item.unwrap();\n-            let file_type = &item.file_type().unwrap();\n-            if file_type.is_file() || file_type.is_symlink() {\n-                let name = item.file_name();\n-                let name = name.to_string_lossy();\n-                if name.ends_with(\".rs\") {\n-                    entries.push((format!(\"register_example_{name}\"), item.path()));\n-                }\n-            }\n-        }\n-    }\n-\n-    if tests_dir.exists() {\n-        for item in read_dir(tests_dir).unwrap() {\n-            let item = item.unwrap();\n-            let file_type = &item.file_type().unwrap();\n-            if file_type.is_file() || file_type.is_symlink() {\n-                let name = item.file_name();\n-                let name = name.to_string_lossy();\n-                if name.ends_with(\".rs\") {\n-                    entries.push((format!(\"register_test_{name}\"), item.path()));\n-                }\n-            }\n-        }\n-    }\n-\n-    if afl_dir.exists() {\n-        for item in read_dir(afl_dir).unwrap() {\n-            let item = item.unwrap();\n-            let file_type = &item.file_type().unwrap();\n-            if file_type.is_file() || file_type.is_symlink() {\n-                let name = item.file_name();\n-                let name = name.to_string_lossy();\n-                if name.ends_with(\".rs\") {\n-                    entries.push((format!(\"register_afl_{name}\"), item.path()));\n-                }\n-            }\n-        }\n-    }\n-\n-    if fuzz_dir.exists() {\n-        for item in read_dir(fuzz_dir).unwrap() {\n-            let item = item.unwrap();\n-            let file_type = &item.file_type().unwrap();\n-            if file_type.is_file() || file_type.is_symlink() {\n-                let name = item.file_name();\n-                let name = name.to_string_lossy();\n-                if name.ends_with(\".rs\") {\n-                    entries.push((format!(\"register_fuzz_{name}\"), item.path()));\n-                }\n-            }\n-        }\n-    }\n-\n-    if benches_dir.exists() {\n-        let bench_mod = benches_dir.join(\"mod.rs\");\n-        if bench_mod.is_file() || bench_mod.is_symlink() {\n-            let name = bench_mod.file_name().unwrap();\n-            let name = name.to_string_lossy();\n-            if name.ends_with(\".rs\") {\n-                entries.push((\"register_benches.rs\".to_string(), bench_mod));\n-            }\n-        }\n-    }\n-\n-    for (filename, entry) in entries {\n-        let mut values = FxHashMap::default();\n-\n-        let out_file = out_dir.join(filename);\n-\n-        let mut queue = vec![QueueEntry {\n-            file_path: entry,\n-            mod_path: \"\".to_string(),\n-            attributes: Vec::new(),\n-        }];\n-\n-        while let Some(QueueEntry {\n-            file_path,\n-            mod_path,\n-            attributes,\n-        }) = queue.pop()\n-        {\n-            println!(\"cargo:rerun-if-changed={}\", file_path.to_string_lossy());\n-            let src = std::fs::read_to_string(&file_path).unwrap();\n-\n-            let mut ctx = RegisterContext {\n-                queue: &mut queue,\n-                file_path: &file_path,\n-                mod_path,\n-                attributes,\n-                values: &mut values,\n-            };\n-\n-            match syn::parse_file(&src)\n-                .with_context(|| format!(\"failed to parse {}\", file_path.display()))\n-            {\n-                Ok(file) => {\n-                    for item in file.items {\n-                        ctx.process_item(&item).unwrap();\n-                    }\n-                }\n-                Err(err) => println!(\"{err}\"),\n-            }\n-        }\n-\n-        let code = \"{\\nstatic ONCE: std::sync::Once = std::sync::Once::new();\\nONCE.call_once(|| \\\n-                    {\\n    // dead code to be deleted\\n});\\n}\\n\";\n-\n-        std::fs::write(out_file, code).unwrap();\n-\n-        // println!(\"cargo:warning={}\", out_file.display());\n-        // for line in code.lines() {\n-        //     println!(\"cargo:warning={line}\");\n-        // }\n-    }\n-}\n-\n-pub fn rerun_if_glob(globs: &str, root: &str) {\n-    let cwd = env::current_dir().unwrap();\n-    let globs = cwd.join(globs.replace('/', PATH_SEP.to_string().as_str()));\n-    let root = cwd.join(root.replace('/', PATH_SEP.to_string().as_str()));\n-    println!(\"cargo:rerun-if-changed={}\", root.display());\n-    let mut seen = FxHashSet::from_iter([root]);\n-    for entry in glob(globs.to_str().unwrap()).unwrap() {\n-        let path = entry.unwrap();\n-        for ancestor in path.ancestors() {\n-            if seen.insert(ancestor.to_owned()) {\n-                println!(\"cargo:rerun-if-changed={}\", ancestor.display());\n-            } else {\n-                break;\n-            }\n-        }\n-    }\n-}\n-\n-/// (mod_path, type_ident)\n-type ValueKey = (String, Ident);\n-/// (global_name, trait_register_fns)\n-struct ValueEntry {\n-    trait_idents: Vec<Ident>,\n-}\n-\n-struct QueueEntry {\n-    /// The on-disk path to the file representing this module.\n-    file_path: PathBuf,\n-    /// The `syn::Path`-style representation of the module. Each component is\n-    /// separated by `::`.\n-    mod_path: String,\n-    /// Attributes (`#[cfg(...)]`) applied to the `ItemMod`.\n-    attributes: Vec<Arc<String>>,\n-}\n-\n-struct RegisterContext<'a> {\n-    queue: &'a mut Vec<QueueEntry>,\n-\n-    file_path: &'a PathBuf,\n-    mod_path: String,\n-    attributes: Vec<Arc<String>>,\n-\n-    values: &'a mut FxHashMap<ValueKey, ValueEntry>,\n-}\n-\n-impl RegisterContext<'_> {\n-    fn process_item(&mut self, item: &Item) -> Result<()> {\n-        match item {\n-            Item::Enum(enum_item) => self.process_enum(enum_item),\n-            Item::Impl(impl_item) => self.process_impl(impl_item),\n-            Item::Mod(mod_item) => self.process_mod(mod_item),\n-            Item::Struct(struct_item) => self.process_struct(struct_item),\n-            Item::Macro(macro_item) => self.process_macro(macro_item),\n-            _ => Ok(()),\n-        }\n-    }\n-\n-    fn process_enum(&mut self, item: &ItemEnum) -> Result<()> {\n-        self.with_cfg_attrs(&item.attrs, move |this| this.process_enum_inner(item))\n-    }\n-\n-    fn process_enum_inner(&mut self, enum_item: &ItemEnum) -> Result<()> {\n-        if has_turbo_attribute(&enum_item.attrs, \"value\") {\n-            self.add_value(&enum_item.ident);\n-            self.add_value_debug_impl(&enum_item.ident);\n-        }\n-        Ok(())\n-    }\n-\n-    fn process_impl(&mut self, item: &ItemImpl) -> Result<()> {\n-        self.with_cfg_attrs(&item.attrs, move |this| this.process_impl_inner(item))\n-    }\n-\n-    fn process_impl_inner(&mut self, impl_item: &ItemImpl) -> Result<()> {\n-        if has_turbo_attribute(&impl_item.attrs, \"value_impl\") {\n-            let struct_ident = get_type_ident(&impl_item.self_ty).unwrap();\n-\n-            let trait_ident = impl_item\n-                .trait_\n-                .as_ref()\n-                .map(|(_, trait_path, _)| get_path_ident(trait_path));\n-\n-            if let Some(trait_ident) = &trait_ident {\n-                self.add_value_trait(&struct_ident, trait_ident);\n-            }\n-        }\n-        Ok(())\n-    }\n-\n-    fn process_mod(&mut self, item: &ItemMod) -> Result<()> {\n-        self.with_cfg_attrs(&item.attrs, move |this| this.process_mod_inner(item))\n-    }\n-\n-    fn process_mod_inner(&mut self, mod_item: &ItemMod) -> Result<()> {\n-        let child_mod_name = mod_item.ident.to_string();\n-        let child_mod_path = format!(\"{}::{}\", self.mod_path, child_mod_name);\n-        if let Some((_, items)) = &mod_item.content {\n-            let parent_mod_path = std::mem::replace(&mut self.mod_path, child_mod_path);\n-            for item in items {\n-                self.process_item(item)?;\n-            }\n-            self.mod_path = parent_mod_path;\n-        } else {\n-            let parent_file_path = self.file_path.parent().unwrap();\n-            if let Some(path) = mod_item.attrs.iter().find_map(|attr| {\n-                let Meta::NameValue(pair) = &attr.meta else {\n-                    return None;\n-                };\n-                if !pair.path.is_ident(\"path\") {\n-                    return None;\n-                }\n-                let Expr::Lit(lit) = &pair.value else {\n-                    return None;\n-                };\n-                let Lit::Str(str) = &lit.lit else {\n-                    return None;\n-                };\n-                let path = str.value();\n-                let path = path.replace('/', &format!(\"{PATH_SEP}\"));\n-                let path = parent_file_path.join(path);\n-                Some(path)\n-            }) {\n-                self.queue.push(QueueEntry {\n-                    file_path: path,\n-                    mod_path: child_mod_path,\n-                    attributes: self.attributes.clone(),\n-                });\n-            } else {\n-                let direct = parent_file_path.join(format!(\"{child_mod_name}.rs\"));\n-                if direct.exists() {\n-                    self.queue.push(QueueEntry {\n-                        file_path: direct,\n-                        mod_path: child_mod_path,\n-                        attributes: self.attributes.clone(),\n-                    });\n-                } else {\n-                    let nested = parent_file_path.join(&child_mod_name).join(\"mod.rs\");\n-                    if nested.exists() {\n-                        self.queue.push(QueueEntry {\n-                            file_path: nested,\n-                            mod_path: child_mod_path,\n-                            attributes: self.attributes.clone(),\n-                        });\n-                    }\n-                }\n-            }\n-        }\n-        Ok(())\n-    }\n-\n-    fn process_struct(&mut self, item: &ItemStruct) -> Result<()> {\n-        self.with_cfg_attrs(&item.attrs, move |this| this.process_struct_inner(item))\n-    }\n-\n-    fn process_struct_inner(&mut self, struct_item: &ItemStruct) -> Result<()> {\n-        if has_turbo_attribute(&struct_item.attrs, \"value\") {\n-            self.add_value(&struct_item.ident);\n-            self.add_value_debug_impl(&struct_item.ident);\n-        }\n-        Ok(())\n-    }\n-\n-    fn process_macro(&mut self, item: &ItemMacro) -> Result<()> {\n-        self.with_cfg_attrs(&item.attrs, move |this| this.process_macro_inner(item))\n-    }\n-\n-    fn process_macro_inner(&mut self, macro_item: &ItemMacro) -> Result<()> {\n-        if macro_item\n-            .mac\n-            .path\n-            .is_ident(\"__turbo_tasks_internal_primitive\")\n-        {\n-            let input = macro_item.mac.tokens.clone();\n-            let input = syn::parse2::<PrimitiveInput>(input).unwrap();\n-\n-            let ty = input.ty;\n-            let Some(ident) = get_type_ident(&ty) else {\n-                return Ok(());\n-            };\n-\n-            self.add_value(&ident);\n-            self.add_value_debug_impl(&ident);\n-            self.add_value_default_impl(&ident);\n-        } else if macro_item\n-            .mac\n-            .path\n-            .is_ident(\"__turbo_tasks_internal_generic_type\")\n-        {\n-            let input = macro_item.mac.tokens.clone();\n-            let input = syn::parse2::<GenericTypeInput>(input).unwrap();\n-\n-            let ty = input.ty;\n-            let Some(ident) = get_type_ident(&ty) else {\n-                return Ok(());\n-            };\n-\n-            // Generic types must implement `ValueDebug` manually, as there's currently no\n-            // easy way to automate the process.\n-            self.add_value(&ident);\n-        }\n-\n-        Ok(())\n-    }\n-}\n-\n-impl RegisterContext<'_> {\n-    fn add_value(&mut self, ident: &Ident) {\n-        let key: ValueKey = (self.mod_path.clone(), ident.clone());\n-        let value = ValueEntry {\n-            trait_idents: Vec::new(),\n-        };\n-\n-        assert!(\n-            self.values.insert(key, value).is_none(),\n-            \"{ident} is declared more than once\"\n-        );\n-    }\n-\n-    fn add_value_debug_impl(&mut self, ident: &Ident) {\n-        // register default debug impl generated by proc macro\n-        self.add_value_trait(\n-            ident,\n-            &get_type_ident(&parse_quote! {\n-                turbo_tasks::debug::ValueDebug\n-            })\n-            .unwrap(),\n-        );\n-    }\n-\n-    fn add_value_default_impl(&mut self, ident: &Ident) {\n-        // register default ValueDefault impl generated by proc macro\n-        self.add_value_trait(\n-            ident,\n-            &get_type_ident(&parse_quote! {\n-                turbo_tasks::ValueDefault\n-            })\n-            .unwrap(),\n-        );\n-    }\n-\n-    fn add_value_trait(&mut self, ident: &Ident, trait_ident: &Ident) {\n-        let key: ValueKey = (self.mod_path.clone(), ident.clone());\n-\n-        let entry = self.values.get_mut(&key);\n-        if entry.is_none() {\n-            panic!(\n-                \"failed to add value trait {} to {} in {}. Did you try to implement a trait on a \\\n-                 Vc instead of its value?\",\n-                trait_ident,\n-                ident,\n-                self.file_path.display()\n-            );\n-        }\n-        entry.unwrap().trait_idents.push(trait_ident.clone());\n-    }\n-\n-    fn with_cfg_attrs<T>(&mut self, attrs: &[Attribute], func: impl FnOnce(&mut Self) -> T) -> T {\n-        let orig_len = self.attributes.len();\n-        for attr in attrs.iter().filter(|a| is_cfg_attribute(a)) {\n-            self.attributes\n-                .push(Arc::new(attr.to_token_stream().to_string()));\n-        }\n-        let ret = func(self);\n-        self.attributes.truncate(orig_len);\n-        ret\n-    }\n-}\n-\n-fn has_turbo_attribute(attrs: &[Attribute], name: &str) -> bool {\n-    attrs.iter().any(|a| is_turbo_attribute(a, name))\n-}\n-\n-fn is_turbo_attribute(attr: &Attribute, name: &str) -> bool {\n-    let path = attr.path();\n-    if path.leading_colon.is_some() {\n-        return false;\n-    }\n-    let mut iter = path.segments.iter();\n-    match iter.next() {\n-        Some(seg) if seg.arguments.is_empty() && seg.ident == \"turbo_tasks\" => match iter.next() {\n-            Some(seg) if seg.arguments.is_empty() && seg.ident == name => iter.next().is_none(),\n-            _ => false,\n-        },\n-        _ => false,\n-    }\n-}\n-\n-fn is_cfg_attribute(attr: &Attribute) -> bool {\n-    attr.path()\n-        .get_ident()\n-        .is_some_and(|ident| ident == \"cfg\" || ident == \"cfg_attr\")\n-}"
        },
        {
            "sha": "1c3e7a07a4a4dabc60544e66d8007c1d4d11fed5",
            "filename": "turbopack/crates/turbo-tasks-bytes/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-bytes%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-bytes%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-bytes%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -21,6 +21,3 @@ turbo-tasks = { workspace = true }\n \n [dev-dependencies]\n serde_test = \"1.0.157\"\n-\n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-bytes/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-bytes%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-bytes%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-bytes%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "43b55018100a525efbc79664beb88209a735697e",
            "filename": "turbopack/crates/turbo-tasks-bytes/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-bytes%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-bytes%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-bytes%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -8,8 +8,3 @@ pub use crate::{\n     bytes::Bytes,\n     stream::{Stream, StreamRead},\n };\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "3dc6645d0286b34632c271583dd3aa73f0c661db",
            "filename": "turbopack/crates/turbo-tasks-env/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-env%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-env%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-env%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -18,5 +18,3 @@ turbo-rcstr = { workspace = true }\n turbo-tasks = { workspace = true }\n turbo-tasks-fs = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-env/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-env%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-env%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-env%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "618847b281490852ae13f37ee6968934bff768f4",
            "filename": "turbopack/crates/turbo-tasks-env/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-env%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-env%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-env%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -88,8 +88,3 @@ async fn to_uppercase_map(map: Vc<EnvMap>) -> Result<Vc<EnvMap>> {\n }\n \n pub static GLOBAL_ENV_LOCK: Mutex<()> = Mutex::new(());\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "12f2f9f5cdbb3260fdbf71209111b2242cdd7bad",
            "filename": "turbopack/crates/turbo-tasks-fetch/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fetch%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fetch%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fetch%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -41,5 +41,3 @@ tokio = { workspace = true, features = [\"full\"] }\n turbo-tasks-testing = { workspace = true }\n turbo-tasks-backend = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-fetch/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "5927bf70f65f36f8b41def85226150a8d6dc8359",
            "filename": "turbopack/crates/turbo-tasks-fetch/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -14,10 +14,3 @@ pub use crate::{\n     error::{FetchError, FetchErrorKind, FetchIssue},\n     response::{FetchResult, HttpResponse, HttpResponseBody},\n };\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "dc4cf23cd8965a4d8ec48f775e4e012c03f01ae2",
            "filename": "turbopack/crates/turbo-tasks-fetch/tests/test_config.trs",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Ftests%2Ftest_config.trs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Ftests%2Ftest_config.trs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fetch%2Ftests%2Ftest_config.trs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -1,8 +1,6 @@\n |name, initial| {\n-  let path = std::path::PathBuf::from(format!(concat!(\n-    env!(\"OUT_DIR\"),\n-    \"/.cache/{}\",\n-  ), name));\n+  let path = std::path::PathBuf::from(\n+    format!(\"{}/.cache/{}\", env!(\"CARGO_TARGET_TMPDIR\"), name));\n   if initial {\n     let _ = std::fs::remove_dir_all(&path);\n   }"
        },
        {
            "sha": "18b784bdd2f36ddf3bf7e44684230b24148ab55e",
            "filename": "turbopack/crates/turbo-tasks-fs/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -60,5 +60,3 @@ tempfile = { workspace = true }\n turbo-tasks-testing = { workspace = true }\n turbo-tasks-backend = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-fs/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "a2d7840eaca66392704271ce763ddba3c570ba73",
            "filename": "turbopack/crates/turbo-tasks-fs/examples/hash_directory.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fexamples%2Fhash_directory.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fexamples%2Fhash_directory.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fexamples%2Fhash_directory.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -15,17 +15,10 @@ use turbo_tasks::{ReadConsistency, TurboTasks, UpdateInfo, Vc, util::FormatDurat\n use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n use turbo_tasks_fs::{\n     DirectoryContent, DirectoryEntry, DiskFileSystem, FileContent, FileSystem, FileSystemPath,\n-    register,\n };\n \n #[tokio::main]\n async fn main() -> Result<()> {\n-    register();\n-    include!(concat!(\n-        env!(\"OUT_DIR\"),\n-        \"/register_example_hash_directory.rs\"\n-    ));\n-\n     let tt = TurboTasks::new(TurboTasksBackend::new(\n         BackendOptions::default(),\n         noop_backing_storage(),"
        },
        {
            "sha": "5a88a82ce1587bacd13b35b7ff3fb56d8ea98cf1",
            "filename": "turbopack/crates/turbo-tasks-fs/examples/hash_glob.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fexamples%2Fhash_glob.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fexamples%2Fhash_glob.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fexamples%2Fhash_glob.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -16,14 +16,10 @@ use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storag\n use turbo_tasks_fs::{\n     DirectoryEntry, DiskFileSystem, FileContent, FileSystem, FileSystemPath, ReadGlobResult,\n     glob::{Glob, GlobOptions},\n-    register,\n };\n \n #[tokio::main]\n async fn main() -> Result<()> {\n-    register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register_example_hash_glob.rs\"));\n-\n     let tt = TurboTasks::new(TurboTasksBackend::new(\n         BackendOptions::default(),\n         noop_backing_storage(),"
        },
        {
            "sha": "fa3f184589727095ab6410c0d8276af0534685aa",
            "filename": "turbopack/crates/turbo-tasks-fs/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -2396,11 +2396,6 @@ async fn realpath_with_links(path: FileSystemPath) -> Result<Vc<RealPathResult>>\n     .cell())\n }\n \n-pub fn register() {\n-    turbo_tasks::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}\n-\n #[cfg(test)]\n mod tests {\n     use turbo_rcstr::rcstr;\n@@ -2425,8 +2420,6 @@ mod tests {\n \n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn with_extension() {\n-        crate::register();\n-\n         turbo_tasks_testing::VcStorage::with(async {\n             let fs = Vc::upcast::<Box<dyn FileSystem>>(VirtualFileSystem::new())\n                 .to_resolved()\n@@ -2462,8 +2455,6 @@ mod tests {\n \n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn file_stem() {\n-        crate::register();\n-\n         turbo_tasks_testing::VcStorage::with(async {\n             let fs = Vc::upcast::<Box<dyn FileSystem>>(VirtualFileSystem::new())\n                 .to_resolved()"
        },
        {
            "sha": "e2a9cd45a13cd18d306033a2348919f7423d0fc6",
            "filename": "turbopack/crates/turbo-tasks-fs/src/read_glob.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fread_glob.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fread_glob.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fs%2Fsrc%2Fread_glob.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -244,7 +244,6 @@ pub mod tests {\n \n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn read_glob_basic() {\n-        crate::register();\n         let scratch = tempfile::tempdir().unwrap();\n         {\n             // Create a simple directory with 2 files, a subdirectory and a dotfile\n@@ -314,7 +313,6 @@ pub mod tests {\n     #[cfg(unix)]\n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn read_glob_symlinks() {\n-        crate::register();\n         let scratch = tempfile::tempdir().unwrap();\n         {\n             // root.js\n@@ -421,7 +419,6 @@ pub mod tests {\n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn track_glob_invalidations() {\n         use std::os::unix::fs::symlink;\n-        crate::register();\n         let scratch = tempfile::tempdir().unwrap();\n \n         // Create a simple directory with 2 files, a subdirectory and a dotfile\n@@ -507,7 +504,6 @@ pub mod tests {\n     #[cfg(unix)]\n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn track_glob_symlinks_loop() {\n-        crate::register();\n         let scratch = tempfile::tempdir().unwrap();\n         {\n             use std::os::unix::fs::symlink;\n@@ -565,7 +561,6 @@ pub mod tests {\n     #[cfg(unix)]\n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn read_glob_symlinks_loop() {\n-        crate::register();\n         let scratch = tempfile::tempdir().unwrap();\n         {\n             use std::os::unix::fs::symlink;"
        },
        {
            "sha": "f34db3fe63dafe9a1544720ff879e5ca8b029cdc",
            "filename": "turbopack/crates/turbo-tasks-fuzz/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -19,5 +19,3 @@ turbo-tasks = { workspace = true }\n turbo-tasks-backend = { workspace = true }\n turbo-tasks-fs = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-fuzz/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "83ad92785873935fcfd6ba9d5f645b1b626a7d96",
            "filename": "turbopack/crates/turbo-tasks-fuzz/src/main.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2Fsrc%2Fmain.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2Fsrc%2Fmain.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-fuzz%2Fsrc%2Fmain.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -59,7 +59,6 @@ struct FsWatcher {\n \n #[tokio::main]\n async fn main() -> anyhow::Result<()> {\n-    register();\n     let cli = Cli::parse();\n \n     match cli.command {\n@@ -276,9 +275,3 @@ impl Drop for FsCleanup<'_> {\n         std::fs::remove_dir_all(self.path).unwrap();\n     }\n }\n-\n-fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "bc035c941abf5626bb46f1813111015a40934ff1",
            "filename": "turbopack/crates/turbo-tasks-macros-tests/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-macros-tests%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-macros-tests%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros-tests%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -14,5 +14,3 @@ turbo-tasks = { workspace = true }\n turbo-tasks-testing = { workspace = true }\n turbo-tasks-backend = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks-macros-tests/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-macros-tests%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks-macros-tests%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-macros-tests%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "b04a11d392e68206fcf5ad6ac534a136f2da3d9a",
            "filename": "turbopack/crates/turbo-tasks-testing/src/run.rs",
            "status": "modified",
            "additions": 6,
            "deletions": 38,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-testing%2Fsrc%2Frun.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks-testing%2Fsrc%2Frun.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-testing%2Fsrc%2Frun.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -1,36 +1,16 @@\n-use std::{\n-    fmt::Debug,\n-    future::Future,\n-    sync::{Arc, OnceLock},\n-};\n+use std::{fmt::Debug, future::Future, sync::Arc};\n \n use anyhow::Result;\n use turbo_tasks::{TurboTasksApi, run_once, trace::TraceRawVcs};\n \n pub struct Registration {\n-    execution_lock: OnceLock<()>,\n-    func: fn(),\n     create_turbo_tasks: fn(&str, bool) -> Arc<dyn TurboTasksApi>,\n }\n \n impl Registration {\n     #[doc(hidden)]\n-    pub const fn new(\n-        create_turbo_tasks: fn(&str, bool) -> Arc<dyn TurboTasksApi>,\n-        func: fn(),\n-    ) -> Self {\n-        Registration {\n-            execution_lock: OnceLock::new(),\n-            func,\n-            create_turbo_tasks,\n-        }\n-    }\n-\n-    /// Called by [`run`]. You can call this manually if you're not using\n-    /// [`run`] (e.g. because you're using a customized `turbo_tasks`\n-    /// implementation or tokio runtime).\n-    pub fn ensure_registered(&self) {\n-        self.execution_lock.get_or_init(self.func);\n+    pub const fn new(create_turbo_tasks: fn(&str, bool) -> Arc<dyn TurboTasksApi>) -> Self {\n+        Registration { create_turbo_tasks }\n     }\n \n     pub fn create_turbo_tasks(&self, name: &str, initial: bool) -> Arc<dyn TurboTasksApi> {\n@@ -41,26 +21,17 @@ impl Registration {\n #[macro_export]\n macro_rules! register {\n     ($($other_register_fns:expr),* $(,)?) => {{\n-        use turbo_tasks::TurboTasksApi;\n         use std::sync::Arc;\n+\n+        use turbo_tasks::TurboTasksApi;\n         fn create_turbo_tasks(name: &str, initial: bool) -> Arc<dyn TurboTasksApi> {\n             let inner = include!(concat!(\n                 env!(\"CARGO_MANIFEST_DIR\"),\n                 \"/tests/test_config.trs\"\n             ));\n             (inner)(name, initial)\n         }\n-        fn register_impl() {\n-            $($other_register_fns();)*\n-            turbo_tasks::register();\n-            include!(concat!(\n-                env!(\"OUT_DIR\"),\n-                \"/register_test_\",\n-                module_path!(),\n-                \".rs\",\n-            ));\n-        }\n-        turbo_tasks_testing::Registration::new(create_turbo_tasks, register_impl)\n+        turbo_tasks_testing::Registration::new(create_turbo_tasks)\n     }};\n }\n \n@@ -71,7 +42,6 @@ pub async fn run_without_cache_check<T>(\n where\n     T: TraceRawVcs + Send + 'static,\n {\n-    registration.ensure_registered();\n     let name = closure_to_name(&fut);\n     let tt = registration.create_turbo_tasks(&name, true);\n     run_once(tt, async move { Ok(fut.await) }).await.unwrap()\n@@ -101,8 +71,6 @@ where\n     F: Future<Output = Result<T>> + Send + 'static,\n     T: Debug + PartialEq + Eq + TraceRawVcs + Send + 'static,\n {\n-    registration.ensure_registered();\n-\n     let name = closure_to_name(&fut);\n     let tt = registration.create_turbo_tasks(&name, true);\n     println!(\"Run #1 (without cache)\");"
        },
        {
            "sha": "013adcf21b31789bff675dcfb67d32ee9e95291a",
            "filename": "turbopack/crates/turbo-tasks/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -56,5 +56,3 @@ turbo-tasks-malloc = { workspace = true }\n unsize = { workspace = true }\n inventory = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbo-tasks/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbo-tasks%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "14f160ce211f9a087268dfaebcf0f1398d041cea",
            "filename": "turbopack/crates/turbo-tasks/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -306,7 +306,3 @@ pub type TaskIdSet = AutoSet<TaskId, BuildHasherDefault<FxHasher>, 2>;\n pub mod test_helpers {\n     pub use super::manager::{current_task_for_testing, with_turbo_tasks_for_testing};\n }\n-\n-pub fn register() {\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "354b5c64c3e57bd749b9870a5b494ee11a37f86a",
            "filename": "turbopack/crates/turbo-tasks/src/primitives.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fprimitives.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fprimitives.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Fprimitives.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -1,7 +1,6 @@\n use std::{ops::Deref, time::Duration};\n \n use turbo_rcstr::RcStr;\n-// This specific macro identifier is detected by turbo-tasks-build.\n use turbo_tasks_macros::primitive as __turbo_tasks_internal_primitive;\n \n use crate::{"
        },
        {
            "sha": "fb7b755f801ffd1a8a30042aac9a3a09fe8ade77",
            "filename": "turbopack/crates/turbo-tasks/src/task/local_task.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Ftask%2Flocal_task.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Ftask%2Flocal_task.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks%2Fsrc%2Ftask%2Flocal_task.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -163,7 +163,6 @@ pub(crate) mod tests {\n \n     #[test]\n     fn test_fmt() {\n-        crate::register();\n         assert_eq!(\n             LocalTaskType::Native {\n                 native_fn: &MOCK_FUNC_TASK_FUNCTION,"
        },
        {
            "sha": "35553e214435cbfed43fdba84c1b1efaae184a99",
            "filename": "turbopack/crates/turbopack-browser/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-browser%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-browser%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -37,5 +37,3 @@ turbopack-ecmascript = { workspace = true }\n turbopack-ecmascript-runtime = { workspace = true }\n turbopack-resolve = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-browser/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-browser%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-browser%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "0604839560af1fc59dac2afcd5302a009e421aa0",
            "filename": "turbopack/crates/turbopack-browser/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-browser%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -10,13 +10,3 @@ pub mod react_refresh;\n pub use chunking_context::{\n     BrowserChunkingContext, BrowserChunkingContextBuilder, ContentHashing, CurrentChunkMethod,\n };\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    turbopack_ecmascript_runtime::register();\n-    turbopack_resolve::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "9afd885c264dc4a134739371eb9bcf58b8219e50",
            "filename": "turbopack/crates/turbopack-cli-utils/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli-utils%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli-utils%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli-utils%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -27,5 +27,3 @@ turbo-tasks-fs = { workspace = true }\n turbopack-core = { workspace = true }\n turbopack-resolve = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-cli-utils/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-cli-utils%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-cli-utils%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli-utils%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "1afe6e1eced3224e16e87e2f0589ce0924893f60",
            "filename": "turbopack/crates/turbopack-cli-utils/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli-utils%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli-utils%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli-utils%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -7,11 +7,3 @@\n pub mod issue;\n pub mod runtime_entry;\n pub mod source_context;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_resolve::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "e783404b674a07bd09607019f1bab42eb60cb7d3",
            "filename": "turbopack/crates/turbopack-cli/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -76,6 +76,3 @@ criterion = { workspace = true, features = [\"async_tokio\"] }\n regex = { workspace = true }\n turbopack-bench = { workspace = true }\n turbo-tasks-malloc = { workspace = true, features = [\"custom_allocator\"] }\n-\n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "3dc28b6c9b54cc78611a7dd3fefb22eec982cf2f",
            "filename": "turbopack/crates/turbopack-cli/benches/small_apps.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fbenches%2Fsmall_apps.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fbenches%2Fsmall_apps.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fbenches%2Fsmall_apps.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -9,10 +9,7 @@ use std::{\n };\n \n use criterion::{BenchmarkId, Criterion, criterion_group, criterion_main};\n-use turbopack_cli::{\n-    arguments::{BuildArguments, CommonArguments},\n-    register,\n-};\n+use turbopack_cli::arguments::{BuildArguments, CommonArguments};\n \n fn list_apps() -> (PathBuf, Vec<PathBuf>) {\n     // We need to rely on `CARGO_MANIFEST_DIR` because we are running it via `cargo codspeed`\n@@ -44,8 +41,6 @@ fn list_apps() -> (PathBuf, Vec<PathBuf>) {\n fn bench_small_apps(c: &mut Criterion) {\n     use turbo_tasks_malloc::TurboMalloc;\n \n-    register();\n-\n     let (apps_dir, apps) = list_apps();\n     let mut g = c.benchmark_group(\"turbopack/build/apps\");\n "
        },
        {
            "sha": "f3305341fff5d0527d3e586e1f256436921b4f21",
            "filename": "turbopack/crates/turbopack-cli/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-cli%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-cli%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,7 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    println!(\"cargo::rustc-check-cfg=cfg(codspeed)\");\n-\n-    generate_register();\n-}"
        },
        {
            "sha": "34cd1d65e50cff5dbf15bf9159d83dd40cd78999",
            "filename": "turbopack/crates/turbopack-cli/src/dev/mod.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fdev%2Fmod.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -355,7 +355,6 @@ pub async fn start_server(args: &DevArguments) -> Result<()> {\n \n     #[cfg(feature = \"tokio_console\")]\n     console_subscriber::init();\n-    crate::register();\n \n     let NormalizedDirs {\n         project_dir,"
        },
        {
            "sha": "2568876a2d7eea011cc20502e71bc7a4ac711598",
            "filename": "turbopack/crates/turbopack-cli/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -9,12 +9,3 @@ pub(crate) mod contexts;\n pub mod dev;\n pub(crate) mod embed_js;\n pub(crate) mod util;\n-\n-pub fn register() {\n-    turbopack::register();\n-    turbopack_nodejs::register();\n-    turbopack_browser::register();\n-    turbopack_ecmascript_plugins::register();\n-    turbopack_resolve::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "513ab2b6f098378ceb65ffdbdc21791924d15cc6",
            "filename": "turbopack/crates/turbopack-cli/src/main.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fmain.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fmain.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-cli%2Fsrc%2Fmain.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -7,7 +7,7 @@ use anyhow::{Context, Result};\n use clap::Parser;\n use tracing_subscriber::{Registry, layer::SubscriberExt, util::SubscriberInitExt};\n use turbo_tasks_malloc::TurboMalloc;\n-use turbopack_cli::{arguments::Arguments, register};\n+use turbopack_cli::arguments::Arguments;\n use turbopack_trace_utils::{\n     exit::ExitHandler,\n     filter_layer::FilterLayer,\n@@ -95,8 +95,6 @@ async fn main_inner(args: Arguments) -> Result<()> {\n         subscriber.init();\n     }\n \n-    register();\n-\n     match args {\n         Arguments::Build(args) => turbopack_cli::build::build(&args).await,\n         Arguments::Dev(args) => turbopack_cli::dev::start_server(&args).await,"
        },
        {
            "sha": "7066133b7b8f600a38ca84f288de75a5106e7c28",
            "filename": "turbopack/crates/turbopack-core/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -45,8 +45,6 @@ turbo-unix-path = { workspace = true }\n urlencoding = { workspace = true }\n bytes-str = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n \n [dev-dependencies]\n rstest = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-core/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-core%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-core%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "eaaadccefd4f745dfee05e3fa12844490bb534ff",
            "filename": "turbopack/crates/turbopack-core/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -58,9 +58,3 @@ pub const SOURCE_URL_PROTOCOL: &str = \"turbopack:\";\n pub mod __private {\n     pub use turbo_tasks::FxIndexMap;\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "c1a48090853e73957048f633f1f71e8ecd1b6dc4",
            "filename": "turbopack/crates/turbopack-core/src/module_graph/mod.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fmodule_graph%2Fmod.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -2164,8 +2164,6 @@ pub mod tests {\n         + Send\n         + 'static,\n     ) {\n-        crate::register();\n-\n         let tt = turbo_tasks::TurboTasks::new(TurboTasksBackend::new(\n             BackendOptions::default(),\n             noop_backing_storage(),"
        },
        {
            "sha": "0574d096850bf8b273f8b683c980e03793bcb3f5",
            "filename": "turbopack/crates/turbopack-core/src/resolve/pattern.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Fpattern.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Fpattern.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-core%2Fsrc%2Fresolve%2Fpattern.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -2661,7 +2661,6 @@ mod tests {\n             noop_backing_storage(),\n         ));\n         tt.run_once(async {\n-            crate::register();\n             let root = DiskFileSystem::new(\n                 rcstr!(\"test\"),\n                 Path::new(env!(\"CARGO_MANIFEST_DIR\"))"
        },
        {
            "sha": "410d989f982a15238ebeb3a43505e7936e6ce203",
            "filename": "turbopack/crates/turbopack-css/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-css%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-css%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -35,5 +35,3 @@ turbopack-core = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n urlencoding = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-css/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-css%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-css%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "f4c7091ca45462ffb9796001950cbbef25999289",
            "filename": "turbopack/crates/turbopack-css/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-css%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -46,11 +46,3 @@ pub enum CssModuleAssetType {\n     /// The CSS is parsed as CSS modules.\n     Module,\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "25f4af60201b7374a2420db36c3638f24169e1fe",
            "filename": "turbopack/crates/turbopack-dev-server/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-dev-server%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-dev-server%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-dev-server%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -50,5 +50,3 @@ urlencoding = \"2.1.2\"\n [dev-dependencies]\n turbo-tasks-backend = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-dev-server/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-dev-server%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-dev-server%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-dev-server%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "0ca88bf4af98ed1ad26ad017c0b71cf271f7a516",
            "filename": "turbopack/crates/turbopack-dev-server/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -301,13 +301,3 @@ impl DevServerBuilder {\n         }\n     }\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_bytes::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_cli_utils::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "ab083a8cd6b5959ebd1dff5c1becb67c852885db",
            "filename": "turbopack/crates/turbopack-dev-server/src/update/stream.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fupdate%2Fstream.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fupdate%2Fstream.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-dev-server%2Fsrc%2Fupdate%2Fstream.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -427,7 +427,6 @@ pub mod test {\n \n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn test_get_content_fn() {\n-        crate::register();\n         let tt = TurboTasks::new(TurboTasksBackend::new(\n             BackendOptions::default(),\n             noop_backing_storage(),"
        },
        {
            "sha": "c394f7b37a311e48cf03fe82d0d6d05840647822",
            "filename": "turbopack/crates/turbopack-ecmascript-plugins/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -45,5 +45,3 @@ swc_plugin_backend_wasmer = { workspace = true, optional = true }\n swc_emotion = { workspace = true }\n swc_relay = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-ecmascript-plugins/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "728803123364d2d49b2e1344cd6cc12d8fdb7332",
            "filename": "turbopack/crates/turbopack-ecmascript-plugins/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-plugins%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -2,9 +2,3 @@\n #![feature(arbitrary_self_types_pointers)]\n \n pub mod transform;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "622948dd82e988a32e0fdc76a2f459e6787f38e1",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -30,5 +30,3 @@ turbopack = { workspace = true }\n turbopack-core = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "fc7ff967fdc3751d2fb6ae45e5d712389393acaa",
            "filename": "turbopack/crates/turbopack-ecmascript-runtime/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript-runtime%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -15,11 +15,3 @@ pub use dummy_runtime::get_dummy_runtime_code;\n pub use embed_js::{embed_file, embed_file_path, embed_fs};\n pub use nodejs_runtime::get_nodejs_runtime_code;\n pub use runtime_type::RuntimeType;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "117f27f037ccad6dac934617f3f274fe0fac3680",
            "filename": "turbopack/crates/turbopack-ecmascript/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -81,8 +81,6 @@ turbo-tasks-malloc = { workspace = true }\n turbo-tasks-testing = { workspace = true }\n turbopack-test-utils = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n \n [[bench]]\n name = \"mod\""
        },
        {
            "sha": "0fced72631b26856a4b5867d7ba5cd2c4c33fbe8",
            "filename": "turbopack/crates/turbopack-ecmascript/benches/analyzer.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Fanalyzer.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Fanalyzer.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Fanalyzer.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -27,8 +27,6 @@ use turbopack_ecmascript::analyzer::{\n };\n \n pub fn benchmark(c: &mut Criterion) {\n-    turbopack_ecmascript::register();\n-\n     let tests_dir = PathBuf::from(env!(\"CARGO_MANIFEST_DIR\")).join(\"tests/analyzer/graph\");\n     let results = fs::read_dir(tests_dir).unwrap();\n "
        },
        {
            "sha": "35d94453e96ef31e3bb0cae29e0194b57dae3350",
            "filename": "turbopack/crates/turbopack-ecmascript/benches/references.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Freferences.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Freferences.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbenches%2Freferences.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -20,9 +20,6 @@ use turbopack_ecmascript::{\n use turbopack_test_utils::noop_asset_context::NoopAssetContext;\n \n pub fn benchmark(c: &mut Criterion) {\n-    turbopack_ecmascript::register();\n-    turbopack_test_utils::register();\n-\n     let rt = tokio::runtime::Builder::new_current_thread()\n         .build()\n         .unwrap();"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-ecmascript/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "93dd18860eb51ac3c5a2427ae25c4851ebca4b5e",
            "filename": "turbopack/crates/turbopack-ecmascript/src/analyzer/mod.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Fanalyzer%2Fmod.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -3792,7 +3792,6 @@ mod tests {\n \n     #[fixture(\"tests/analyzer/graph/**/input.js\")]\n     fn fixture(input: PathBuf) {\n-        crate::register();\n         let graph_snapshot_path = input.with_file_name(\"graph.snapshot\");\n         let graph_explained_snapshot_path = input.with_file_name(\"graph-explained.snapshot\");\n         let graph_effects_snapshot_path = input.with_file_name(\"graph-effects.snapshot\");"
        },
        {
            "sha": "1761427407f81fd1c5a6d34ead97a32900e48fe1",
            "filename": "turbopack/crates/turbopack-ecmascript/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-ecmascript%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -2727,14 +2727,6 @@ fn merge_option_vec<T>(a: Option<Vec<T>>, b: Option<Vec<T>>) -> Option<Vec<T>> {\n     }\n }\n \n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbo_esregex::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}\n-\n #[cfg(test)]\n mod tests {\n     use super::*;"
        },
        {
            "sha": "ab29f6e23de2d6fe9fc9d21e230ad091cb8cd1be",
            "filename": "turbopack/crates/turbopack-env/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-env%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-env%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-env%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -21,5 +21,3 @@ turbo-tasks-fs = { workspace = true }\n turbopack-core = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-env/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-env%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-env%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-env%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "89d1cc6424be6b5c4773c75e23f240c432616566",
            "filename": "turbopack/crates/turbopack-env/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-env%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-env%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-env%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -23,12 +23,3 @@ pub use asset::ProcessEnvAsset;\n pub use embeddable::EmbeddableProcessEnv;\n pub use issue::ProcessEnvIssue;\n pub use try_env::TryDotenvProcessEnv;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbo_tasks_env::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "0a234ad5ffeb11b0554dd6bbfeded41683877523",
            "filename": "turbopack/crates/turbopack-image/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-image%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-image%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-image%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -40,5 +40,3 @@ turbo-tasks = { workspace = true }\n turbo-tasks-fs = { workspace = true }\n turbopack-core = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-image/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-image%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-image%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-image%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "4177d349e030874e4205af4bb6d7dd8e9b21f57f",
            "filename": "turbopack/crates/turbopack-image/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-image%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-image%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-image%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -2,10 +2,3 @@\n #![feature(arbitrary_self_types_pointers)]\n \n pub mod process;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "58e8015edf25bfaa84ef7b90186176ba7223945f",
            "filename": "turbopack/crates/turbopack-json/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-json%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-json%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-json%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -23,5 +23,3 @@ turbopack-ecmascript = { workspace = true }\n \n serde_json = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-json/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-json%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-json%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-json%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "8b10ad57a8f176f13f8a4bb5ad3781256d7e3f68",
            "filename": "turbopack/crates/turbopack-json/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-json%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-json%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-json%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -158,11 +158,3 @@ impl EcmascriptChunkItem for JsonChunkItem {\n         }\n     }\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "a91b76a83ccfe98c8054ac3bc5084acbb045961f",
            "filename": "turbopack/crates/turbopack-mdx/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-mdx%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-mdx%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-mdx%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -24,5 +24,3 @@ turbo-tasks-fs = { workspace = true }\n turbopack-core = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-mdx/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-mdx%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-mdx%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-mdx%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "5f762646ffb97252819608ab181294abdf2bf8a4",
            "filename": "turbopack/crates/turbopack-mdx/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-mdx%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -284,11 +284,3 @@ impl Issue for MdxIssue {\n         ))\n     }\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "26b4252cf47ce13f84ee9e371c9dc77b240e7753",
            "filename": "turbopack/crates/turbopack-nft/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nft%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nft%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nft%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -41,5 +41,3 @@ turbopack-core = { workspace = true }\n turbopack-resolve = { workspace = true }\n turbopack-trace-utils = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-nft/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-nft%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-nft%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nft%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "054be9fd38c542d256fbab8d66f73a6f923bc402",
            "filename": "turbopack/crates/turbopack-nft/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nft%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nft%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nft%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -4,9 +4,3 @@\n #![feature(arbitrary_self_types_pointers)]\n \n pub mod nft;\n-\n-pub fn register() {\n-    turbopack::register();\n-    turbopack_resolve::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "36491e5880ae3f53fb625feddab6c8159f85b193",
            "filename": "turbopack/crates/turbopack-nft/src/main.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nft%2Fsrc%2Fmain.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nft%2Fsrc%2Fmain.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nft%2Fsrc%2Fmain.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -9,7 +9,7 @@ use tracing_subscriber::{Registry, layer::SubscriberExt, util::SubscriberInitExt\n use turbo_tasks::{ReadConsistency, TurboTasks};\n use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n use turbo_tasks_malloc::TurboMalloc;\n-use turbopack_nft::{nft::node_file_trace, register};\n+use turbopack_nft::nft::node_file_trace;\n use turbopack_trace_utils::{\n     exit::ExitHandler,\n     filter_layer::FilterLayer,\n@@ -81,8 +81,6 @@ async fn main_inner(args: Arguments) -> Result<()> {\n         subscriber.init();\n     }\n \n-    register();\n-\n     let tt = TurboTasks::new(TurboTasksBackend::new(\n         BackendOptions {\n             dependency_tracking: false,"
        },
        {
            "sha": "951626a2a4dda9ac4aa02f12559aa69e1539910f",
            "filename": "turbopack/crates/turbopack-node/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-node%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-node%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -47,5 +47,3 @@ turbopack-dev-server = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n turbopack-resolve = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-node/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-node%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-node%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "c70d9f35402fade9fa44265157021c78e883ca6c",
            "filename": "turbopack/crates/turbopack-node/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-node%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -294,12 +294,3 @@ pub struct ResponseHeaders {\n     pub status: u16,\n     pub headers: Vec<(RcStr, RcStr)>,\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_bytes::register();\n-    turbo_tasks_fs::register();\n-    turbopack_dev_server::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "a763e4a423066eac661c43ff50eb3b17b5fe31d0",
            "filename": "turbopack/crates/turbopack-nodejs/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nodejs%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nodejs%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -32,5 +32,3 @@ turbopack-core = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n turbopack-ecmascript-runtime = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-nodejs/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-nodejs%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-nodejs%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "2f15fe720f5b4f7323619bd9477e6728d8347a58",
            "filename": "turbopack/crates/turbopack-nodejs/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-nodejs%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -6,12 +6,3 @@ pub(crate) mod chunking_context;\n pub(crate) mod ecmascript;\n \n pub use chunking_context::{NodeJsChunkingContext, NodeJsChunkingContextBuilder};\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    turbopack_ecmascript_runtime::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "68fd85e468f8b95003a3bb19c37717680a2a378d",
            "filename": "turbopack/crates/turbopack-resolve/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-resolve%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-resolve%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -23,5 +23,3 @@ turbo-tasks = { workspace = true }\n turbo-tasks-fs = { workspace = true }\n turbopack-core = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-resolve/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-resolve%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-resolve%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "93a3a21f11857eeeb0beccd7048255d4e3efc821",
            "filename": "turbopack/crates/turbopack-resolve/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -6,10 +6,3 @@ pub mod node_native_binding;\n pub mod resolve;\n pub mod resolve_options_context;\n pub mod typescript;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "8fc528b84d3e893af5bff6a3b3093aa172d67fc6",
            "filename": "turbopack/crates/turbopack-static/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-static%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -23,5 +23,3 @@ turbopack-core = { workspace = true }\n turbopack-css = { workspace = true }\n turbopack-ecmascript = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-static/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-static%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-static%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-static%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "04f2724edcc9ad19aa4c4e2df4a0b212a2329624",
            "filename": "turbopack/crates/turbopack-static/src/css.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fcss.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fcss.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fcss.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -60,11 +60,3 @@ impl CssEmbed for StaticUrlCssModule {\n         Vc::upcast(self.static_output_asset(chunking_context))\n     }\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "175204fd26329e3c63981bd1ad5306a078b81fb5",
            "filename": "turbopack/crates/turbopack-static/src/ecma.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fecma.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fecma.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Fecma.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -147,11 +147,3 @@ impl EcmascriptChunkItem for StaticUrlJsChunkItem {\n         .into())\n     }\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "ac57de132f2d844c5f9394fa41ad187c07096f2e",
            "filename": "turbopack/crates/turbopack-static/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-static%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -16,11 +16,3 @@ pub mod css;\n pub mod ecma;\n pub mod fixed;\n pub mod output_asset;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "3a9a8bfe68aaca0c7dc86ad080fdc43339241732",
            "filename": "turbopack/crates/turbopack-swc-utils/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-swc-utils%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-swc-utils%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-swc-utils%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -26,5 +26,3 @@ swc_core = { workspace = true, features = [\n   \"common_sourcemap\",\n ] }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-swc-utils/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-swc-utils%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-swc-utils%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-swc-utils%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "36a29cb646f2067d4f28f496a3aa55fa74beaf09",
            "filename": "turbopack/crates/turbopack-test-utils/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-test-utils%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-test-utils%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-test-utils%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -26,5 +26,3 @@ turbopack-cli-utils = { workspace = true }\n turbopack-core = { workspace = true }\n rustc-hash = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-test-utils/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-test-utils%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-test-utils%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-test-utils%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "3aead34dd5e4c115f8f17b73dd4a949f993e771f",
            "filename": "turbopack/crates/turbopack-test-utils/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-test-utils%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-test-utils%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-test-utils%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -5,11 +5,3 @@\n pub mod jest;\n pub mod noop_asset_context;\n pub mod snapshot;\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_cli_utils::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "48dce49481079e98b3c5fa23acab158f4234d7a0",
            "filename": "turbopack/crates/turbopack-tests/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-tests%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-tests%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -45,5 +45,3 @@ turbopack-resolve = { workspace = true }\n turbopack-test-utils = { workspace = true }\n turbopack-trace-utils = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "8e9965a5e378b4190c100389085533ba749adc01",
            "filename": "turbopack/crates/turbopack-tests/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-tests%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-tests%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,11 +0,0 @@\n-use turbo_tasks_build::{generate_register, rerun_if_glob};\n-\n-fn main() {\n-    generate_register();\n-    // The test/snapshot crate need to be rebuilt if any snapshots are added.\n-    rerun_if_glob(\"tests/execution/*/*/*/options.json\", \"tests/execution\");\n-    rerun_if_glob(\"tests/execution/*/*/*/input\", \"tests/execution\");\n-    rerun_if_glob(\"tests/execution/*/*/*/issues\", \"tests/execution\");\n-    rerun_if_glob(\"tests/execution/*/*/__skipped__/*\", \"tests/execution\");\n-    rerun_if_glob(\"tests/snapshot/*/*\", \"tests/snapshot\");\n-}"
        },
        {
            "sha": "61ae1ce0f27880032f8ad786a1802b7918c67e97",
            "filename": "turbopack/crates/turbopack-tests/tests/execution.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 16,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fexecution.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -5,7 +5,7 @@\n \n mod util;\n \n-use std::{env, path::PathBuf, sync::Once};\n+use std::{env, path::PathBuf};\n \n use anyhow::{Context, Result};\n use dunce::canonicalize;\n@@ -84,18 +84,6 @@ enum IssueSnapshotMode {\n     NoSnapshots,\n }\n \n-fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_env::register();\n-    turbo_tasks_fs::register();\n-    turbopack::register();\n-    turbopack_nodejs::register();\n-    turbopack_env::register();\n-    turbopack_ecmascript_plugins::register();\n-    turbopack_resolve::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register_test_execution.rs\"));\n-}\n-\n // To minimize test path length and consistency with snapshot tests,\n // node_modules is stored as a sibling of the test fixtures. Don't run\n // it as a test.\n@@ -175,9 +163,6 @@ fn get_messages(js_results: JsResult) -> Vec<String> {\n \n #[tokio::main(flavor = \"current_thread\")]\n async fn run(resource: PathBuf, snapshot_mode: IssueSnapshotMode) -> Result<JsResult> {\n-    static REGISTER_ONCE: Once = Once::new();\n-    REGISTER_ONCE.call_once(register);\n-\n     // Clean up old output files.\n     let output_path = resource.join(\"output\");\n     if output_path.exists() {"
        },
        {
            "sha": "159faf83afa66a6e112ff79906a32f73115da432",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 18,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -3,7 +3,7 @@\n \n mod util;\n \n-use std::{collections::VecDeque, fs, io, path::PathBuf, sync::Once};\n+use std::{collections::VecDeque, fs, io, path::PathBuf};\n \n use anyhow::{Context, Result, bail};\n use dunce::canonicalize;\n@@ -64,20 +64,6 @@ use turbopack_test_utils::snapshot::{UPDATE, diff, expected, matches_expected, s\n \n use crate::util::REPO_ROOT;\n \n-fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_env::register();\n-    turbo_tasks_fs::register();\n-    turbopack::register();\n-    turbopack_nodejs::register();\n-    turbopack_browser::register();\n-    turbopack_env::register();\n-    turbopack_ecmascript_plugins::register();\n-    turbopack_ecmascript_runtime::register();\n-    turbopack_resolve::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register_test_snapshot.rs\"));\n-}\n-\n #[derive(Debug, Deserialize)]\n #[serde(rename_all = \"camelCase\")]\n struct SnapshotOptions {\n@@ -205,9 +191,6 @@ fn test(resource: PathBuf) {\n \n #[tokio::main(flavor = \"current_thread\")]\n async fn run(resource: PathBuf) -> Result<()> {\n-    static REGISTER_ONCE: Once = Once::new();\n-    REGISTER_ONCE.call_once(register);\n-\n     let tt = TurboTasks::new(TurboTasksBackend::new(\n         BackendOptions {\n             storage_mode: None,"
        },
        {
            "sha": "3da9aa87016386a7a56a40ceff35a6aac954bed5",
            "filename": "turbopack/crates/turbopack-trace-utils/src/tracing_presets.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-trace-utils%2Fsrc%2Ftracing_presets.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-trace-utils%2Fsrc%2Ftracing_presets.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-trace-utils%2Fsrc%2Ftracing_presets.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -64,7 +64,6 @@ pub static TRACING_TURBO_TASKS_TARGETS: Lazy<Vec<&str>> = Lazy::new(|| {\n         &[\n             \"turbo_tasks=trace\",\n             \"turbo_tasks_auto_hash_map=trace\",\n-            \"turbo_tasks_build=trace\",\n             \"turbo_tasks_bytes=trace\",\n             \"turbo_tasks_env=trace\",\n             \"turbo_tasks_fetch=trace\","
        },
        {
            "sha": "86b5e77be8bb2a66864a2569f4218f239b6846ec",
            "filename": "turbopack/crates/turbopack-wasm/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-wasm%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-wasm%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-wasm%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -25,5 +25,3 @@ turbopack-ecmascript = { workspace = true }\n wasmparser = \"0.235.0\"\n wat = \"1.0.69\"\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack-wasm/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-wasm%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack-wasm%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-wasm%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "c2e2dc9dcfdf57bc3eebadd4f805ada6d40b3949",
            "filename": "turbopack/crates/turbopack-wasm/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-wasm%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -29,11 +29,3 @@ pub async fn wasm_edge_var_name(asset: Vc<Box<dyn Asset>>) -> Result<Vc<RcStr>>\n         format!(\"wasm_{:08x}\", hash_xxh3_hash64(content)).into(),\n     ))\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_ecmascript::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "576f25deb5c18bc140846e5b38110535f83757eb",
            "filename": "turbopack/crates/turbopack/Cargo.toml",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2FCargo.toml?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -53,8 +53,6 @@ tokio = { workspace = true }\n turbo-tasks-malloc = { workspace = true, default-features = false }\n turbo-tasks-backend = { workspace = true }\n \n-[build-dependencies]\n-turbo-tasks-build = { workspace = true }\n \n [[bench]]\n name = \"mod\""
        },
        {
            "sha": "dcf4d222447eb7c73968f010e02864a2abe33f41",
            "filename": "turbopack/crates/turbopack/benches/node_file_trace.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fbenches%2Fnode_file_trace.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fbenches%2Fnode_file_trace.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fbenches%2Fnode_file_trace.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -9,7 +9,6 @@ use turbo_tasks_fs::{DiskFileSystem, FileSystem, NullFileSystem};\n use turbopack::{\n     ModuleAssetContext, emit_with_completion_operation,\n     module_options::{EcmascriptOptionsContext, ModuleOptionsContext},\n-    register,\n };\n use turbopack_core::{\n     compile_time_info::CompileTimeInfo,\n@@ -24,8 +23,6 @@ use turbopack_resolve::resolve_options_context::ResolveOptionsContext;\n \n // TODO this should move to the `node-file-trace` crate\n pub fn benchmark(c: &mut Criterion) {\n-    register();\n-\n     let bench_filter = Regex::new(r\"(empty|simple|dynamic-in-package|react|whatwg-url|axios|azure-cosmos|cowsay|env-var|fast-glob)\\.js$\").unwrap();\n \n     let tests_root = PathBuf::from(env!(\"CARGO_MANIFEST_DIR\")).join(\"tests\");"
        },
        {
            "sha": "1673efed59cce6379c6a83d17829dfc0687e253f",
            "filename": "turbopack/crates/turbopack/build.rs",
            "status": "removed",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack%2Fbuild.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/cce01badd823f3e797c45faa4fb032462a62fe0b/turbopack%2Fcrates%2Fturbopack%2Fbuild.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fbuild.rs?ref=cce01badd823f3e797c45faa4fb032462a62fe0b",
            "patch": "@@ -1,5 +0,0 @@\n-use turbo_tasks_build::generate_register;\n-\n-fn main() {\n-    generate_register();\n-}"
        },
        {
            "sha": "bc38c22fca86240183f876fbe68377b6f768210f",
            "filename": "turbopack/crates/turbopack/examples/turbopack.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fexamples%2Fturbopack.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fexamples%2Fturbopack.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fexamples%2Fturbopack.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -12,7 +12,7 @@ use turbo_rcstr::{RcStr, rcstr};\n use turbo_tasks::{ReadConsistency, TurboTasks, UpdateInfo, Vc, util::FormatDuration};\n use turbo_tasks_backend::{BackendOptions, TurboTasksBackend, noop_backing_storage};\n use turbo_tasks_fs::{DiskFileSystem, FileSystem};\n-use turbopack::{emit_with_completion, register};\n+use turbopack::emit_with_completion;\n use turbopack_core::{\n     PROJECT_FILESYSTEM_NAME,\n     compile_time_info::CompileTimeInfo,\n@@ -26,8 +26,6 @@ use turbopack_resolve::resolve_options_context::ResolveOptionsContext;\n \n #[tokio::main]\n async fn main() -> Result<()> {\n-    register();\n-\n     let tt = TurboTasks::new(TurboTasksBackend::new(\n         BackendOptions::default(),\n         noop_backing_storage(),"
        },
        {
            "sha": "b2a5e2a21e0ca8e5122badaa5dcc1ca42a384bd0",
            "filename": "turbopack/crates/turbopack/src/lib.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Flib.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -1020,19 +1020,3 @@ pub async fn replace_external(\n         module,\n     ))))\n }\n-\n-pub fn register() {\n-    turbo_tasks::register();\n-    turbo_tasks_fs::register();\n-    turbopack_core::register();\n-    turbopack_css::register();\n-    turbopack_ecmascript::register();\n-    turbopack_node::register();\n-    turbopack_env::register();\n-    turbopack_mdx::register();\n-    turbopack_json::register();\n-    turbopack_resolve::register();\n-    turbopack_static::register();\n-    turbopack_wasm::register();\n-    include!(concat!(env!(\"OUT_DIR\"), \"/register.rs\"));\n-}"
        },
        {
            "sha": "856dea7416ddd6fb4867be80cc9b5a221293c4b2",
            "filename": "turbopack/crates/turbopack/src/module_options/rule_condition.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Frule_condition.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Frule_condition.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Fsrc%2Fmodule_options%2Frule_condition.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -446,7 +446,6 @@ pub mod tests {\n \n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn test_rule_condition_leaves() {\n-        crate::register();\n         let tt = turbo_tasks::TurboTasks::new(TurboTasksBackend::new(\n             BackendOptions::default(),\n             noop_backing_storage(),\n@@ -580,7 +579,6 @@ pub mod tests {\n \n     #[tokio::test(flavor = \"multi_thread\", worker_threads = 2)]\n     async fn test_rule_condition_tree() {\n-        crate::register();\n         let tt = turbo_tasks::TurboTasks::new(TurboTasksBackend::new(\n             BackendOptions::default(),\n             noop_backing_storage(),"
        },
        {
            "sha": "e4263e8797cb1300190c352473f4bc3a509f472c",
            "filename": "turbopack/crates/turbopack/tests/node-file-trace.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/4a85aab0c02a76024adfd0839fdd3e2694f62158/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack%2Ftests%2Fnode-file-trace.rs?ref=4a85aab0c02a76024adfd0839fdd3e2694f62158",
            "patch": "@@ -35,7 +35,6 @@ use turbo_tasks_fs::{DiskFileSystem, FileSystem};\n use turbopack::{\n     ModuleAssetContext, emit_with_completion_operation,\n     module_options::{CssOptionsContext, EcmascriptOptionsContext, ModuleOptionsContext},\n-    register,\n };\n use turbopack_core::{\n     compile_time_info::CompileTimeInfo,\n@@ -418,11 +417,6 @@ fn node_file_trace<B: Backend + 'static>(\n         builder.build().unwrap()\n     };\n     r.block_on(async move {\n-        register();\n-        include!(concat!(\n-            env!(\"OUT_DIR\"),\n-            \"/register_test_node-file-trace.rs\"\n-        ));\n         let bench_suites = BENCH_SUITES.clone();\n         let package_root = PathBuf::from(env!(\"CARGO_MANIFEST_DIR\"));\n         let mut tests_output_root = temp_dir();"
        }
    ],
    "stats": {
        "total": 1280,
        "additions": 19,
        "deletions": 1261
    }
}