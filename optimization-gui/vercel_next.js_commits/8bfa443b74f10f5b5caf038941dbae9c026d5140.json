{
    "author": "icyJoseph",
    "message": "docs: generateSitemap passes id as promise (#85767)",
    "sha": "8bfa443b74f10f5b5caf038941dbae9c026d5140",
    "files": [
        {
            "sha": "ebbb5e92fa8b280219cb18069801a9c1ef1c0941",
            "filename": "docs/01-app/03-api-reference/04-functions/generate-sitemaps.mdx",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/8bfa443b74f10f5b5caf038941dbae9c026d5140/docs%2F01-app%2F03-api-reference%2F04-functions%2Fgenerate-sitemaps.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/8bfa443b74f10f5b5caf038941dbae9c026d5140/docs%2F01-app%2F03-api-reference%2F04-functions%2Fgenerate-sitemaps.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2Fgenerate-sitemaps.mdx?ref=8bfa443b74f10f5b5caf038941dbae9c026d5140",
            "patch": "@@ -24,18 +24,18 @@ Your generated sitemaps will be available at `/.../sitemap/[id].xml`. For exampl\n For example, to split a sitemap using `generateSitemaps`, return an array of objects with the sitemap `id`. Then, use the `id` to generate the unique sitemaps.\n \n ```ts filename=\"app/product/sitemap.ts\" switcher\n+import type { MetadataRoute } from 'next'\n import { BASE_URL } from '@/app/lib/constants'\n \n export async function generateSitemaps() {\n   // Fetch the total number of products and calculate the number of sitemaps needed\n   return [{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }]\n }\n \n-export default async function sitemap({\n-  id,\n-}: {\n-  id: number\n+export default async function sitemap(props: {\n+  id: Promise<number>\n }): Promise<MetadataRoute.Sitemap> {\n+  const id = await props.id\n   // Google's limit is 50,000 URLs per sitemap\n   const start = id * 50000\n   const end = start + 50000\n@@ -57,15 +57,16 @@ export async function generateSitemaps() {\n   return [{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }]\n }\n \n-export default async function sitemap({ id }) {\n+export default async function sitemap(props) {\n+  const id = await props.id\n   // Google's limit is 50,000 URLs per sitemap\n   const start = id * 50000\n   const end = start + 50000\n   const products = await getProducts(\n     `SELECT id, date FROM products WHERE id BETWEEN ${start} AND ${end}`\n   )\n   return products.map((product) => ({\n-    url: `${BASE_URL}/product/${id}`,\n+    url: `${BASE_URL}/product/${product.id}`,\n     lastModified: product.date,\n   }))\n }\n@@ -75,5 +76,6 @@ export default async function sitemap({ id }) {\n \n | Version   | Changes                                                                                                                                              |\n | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |\n+| `v16.0.0` | The `id` values returned from `generateSitemaps` are now passed as a promise to the sitemap function.                                                |\n | `v15.0.0` | `generateSitemaps` now generates consistent URLs between development and production                                                                  |\n | `v13.3.2` | `generateSitemaps` introduced. In development, you can view the generated sitemap on `/.../sitemap.xml/[id]`. For example, `/product/sitemap.xml/1`. |"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 8,
        "deletions": 6
    }
}