{
    "author": "icyJoseph",
    "message": "Docs/sync with new features 0 (#84861)\n\nSync w/ isolatedDevBuild and updateTag+revalidatePath/Tag\n\n---------\n\nCo-authored-by: Rich Haines <hello@richardhaines.dev>",
    "sha": "c2863c87249bdd95ff3ede6b299a9e36470521b4",
    "files": [
        {
            "sha": "cd3090db22c7f0b25dc5059a3b45ec418e2e9fbd",
            "filename": "docs/01-app/02-guides/local-development.mdx",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F02-guides%2Flocal-development.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F02-guides%2Flocal-development.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Flocal-development.mdx?ref=c2863c87249bdd95ff3ede6b299a9e36470521b4",
            "patch": "@@ -200,7 +200,7 @@ module.exports = {\n \n [Learn more about fetch logging](/docs/app/api-reference/config/next-config-js/logging).\n \n-## Turbopack tracing\n+### Turbopack tracing\n \n Turbopack tracing is a tool that helps you understand the performance of your application during local development.\n It provides detailed information about the time taken for each module to compile and how they are related.\n@@ -214,22 +214,24 @@ It provides detailed information about the time taken for each module to compile\n \n 1. Navigate around your application or make edits to files to reproduce the problem.\n 1. Stop the Next.js development server.\n-1. A file called `trace-turbopack` will be available in the `.next` folder.\n+1. A file called `trace-turbopack` will be available in the `.next/dev` folder.\n 1. You can interpret the file using `npx next internal trace [path-to-file]`:\n \n    ```bash\n-   npx next internal trace .next/trace-turbopack\n+   npx next internal trace .next/dev/trace-turbopack\n    ```\n \n    On versions where `trace` is not available, the command was named `turbo-trace-server`:\n \n    ```bash\n-   npx next internal turbo-trace-server .next/trace-turbopack\n+   npx next internal turbo-trace-server .next/dev/trace-turbopack\n    ```\n \n 1. Once the trace server is running you can view the trace at https://trace.nextjs.org/.\n 1. By default the trace viewer will aggregate timings, in order to see each individual time you can switch from \"Aggregated in order\" to \"Spans in order\" at the top right of the viewer.\n \n-## Still having problems?\n+> **Good to know**: The trace file is place under the development server directory, which defaults to `.next/dev`. This is controllable using the [`isolatedDevBuild`](/docs/app/api-reference/config/next-config-js/isolatedDevBuild) flag in your Next config file.\n+\n+### Still having problems?\n \n Share the trace file generated in the [Turbopack Tracing](#turbopack-tracing) section and share it on [GitHub Discussions](https://github.com/vercel/next.js/discussions) or [Discord](https://nextjs.org/discord)."
        },
        {
            "sha": "39d5576e4d0aaf0119be215652245afa66662a1c",
            "filename": "docs/01-app/03-api-reference/04-functions/revalidatePath.mdx",
            "status": "modified",
            "additions": 9,
            "deletions": 6,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidatePath.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidatePath.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidatePath.mdx?ref=c2863c87249bdd95ff3ede6b299a9e36470521b4",
            "patch": "@@ -49,12 +49,13 @@ export async function GET() {\n }\n ```\n \n-## Relationship with `revalidateTag`\n+## Relationship with `revalidateTag` and `updateTag`\n \n-`revalidatePath` and [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) serve different purposes:\n+`revalidatePath`, [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) and [`updateTag`](/docs/app/api-reference/functions/updateTag) serve different purposes:\n \n - **`revalidatePath`**: Invalidates a specific page or layout path\n-- **`revalidateTag`**: Invalidates data with specific tags across all pages that use those tags\n+- **`revalidateTag`**: Marks data with specific tags as **stale**. Applies across all pages that use those tags\n+- **`updateTag`**: Expires data with specific tags. Applies across all pages that use those tags\n \n When you call `revalidatePath`, only the specified path gets fresh data on the next visit. Other pages that use the same data tags will continue to serve cached data until those specific tags are also revalidated:\n \n@@ -75,20 +76,22 @@ After calling `revalidatePath('/blog')`:\n - **Page A (/blog)**: Shows fresh data (page re-rendered)\n - **Page B (/dashboard)**: Still shows stale data (cache tag 'posts' not invalidated)\n \n+Learn about the difference between [`revalidateTag` and `updateTag`](/docs/app/api-reference/functions/updateTag#differences-from-revalidatetag).\n+\n ### Building revalidation utilities\n \n-`revalidatePath` and `revalidateTag` are complementary primitives that are often used together in utility functions to ensure comprehensive data consistency across your application:\n+`revalidatePath` and `updateTag` are complementary primitives that are often used together in utility functions to ensure comprehensive data consistency across your application:\n \n ```ts\n 'use server'\n \n-import { revalidatePath, revalidateTag } from 'next/cache'\n+import { revalidatePath, updateTag } from 'next/cache'\n \n export async function updatePost() {\n   await updatePostInDatabase()\n \n   revalidatePath('/blog') // Refresh the blog page\n-  revalidateTag('posts') // Refresh all pages using 'posts' tag\n+  updateTag('posts') // Refresh all pages using 'posts' tag\n }\n ```\n "
        },
        {
            "sha": "e66c64570bb086c2ebd6a6796b4a6deed8a09153",
            "filename": "docs/01-app/03-api-reference/04-functions/revalidateTag.mdx",
            "status": "modified",
            "additions": 20,
            "deletions": 4,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidateTag.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidateTag.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidateTag.mdx?ref=c2863c87249bdd95ff3ede6b299a9e36470521b4",
            "patch": "@@ -5,6 +5,8 @@ description: API Reference for the revalidateTag function.\n \n `revalidateTag` allows you to invalidate [cached data](/docs/app/guides/caching) on-demand for a specific cache tag.\n \n+This function is ideal for content where a slight delay in updates is acceptable, such as blog posts, product catalogs, or documentation. Users receive stale content while fresh data loads in the background.\n+\n ## Usage\n \n `revalidateTag` can be called in Server Functions and Route Handlers.\n@@ -17,7 +19,7 @@ The revalidation behavior depends on whether you provide the second argument:\n \n - **With `profile=\"max\"` (recommended)**: The tag entry is marked as stale, and the next time a resource with that tag is visited, it will use stale-while-revalidate semantics. This means the stale content is served while fresh content is fetched in the background.\n - **With a custom cache life profile**: For advanced usage, you can specify any cache life profile that your application has defined, allowing for custom revalidation behaviors tailored to your specific caching requirements.\n-- **Without the second argument (deprecated)**: The tag entry is expired immediately, and the next request to that resource will be a blocking revalidate/cache miss. This behavior is now deprecated, and you should either use `profile=\"max\"` or migrate to `updateTag`.\n+- **Without the second argument (deprecated)**: The tag entry is expired immediately, and the next request to that resource will be a blocking revalidate/cache miss. This behavior is now deprecated, and you should either use `profile=\"max\"` or migrate to [`updateTag`](/docs/app/api-reference/functions/updateTag).\n \n > **Good to know**: When using `profile=\"max\"`, `revalidateTag` marks tagged data as stale, but fresh data is only fetched when pages using that tag are next visited. This means calling `revalidateTag` will not immediately trigger many revalidations at once. The invalidation only happens when any page using that tag is next visited.\n \n@@ -30,10 +32,24 @@ revalidateTag(tag: string, profile?: string): void;\n - `tag`: A string representing the cache tag associated with the data you want to revalidate. Must not exceed 256 characters. This value is case-sensitive.\n - `profile`: A string that specifies the revalidation behavior. The recommended value is `\"max\"` which provides stale-while-revalidate semantics. For advanced usage, this can be configured to any cache life profile that your application defines.\n \n-You can add tags to `fetch` as follows:\n+Tags must first be assigned to cached data. You can do this in two ways:\n+\n+- Using the [`next.tags`](/docs/app/guides/caching#fetch-optionsnexttags-and-revalidatetag) option with `fetch` for caching external API requests:\n+\n+```tsx\n+fetch(url, { next: { tags: ['posts'] } })\n+```\n+\n+- Using [`cacheTag`](/docs/app/api-reference/functions/cacheTag) inside cached functions or components with the `'use cache'` directive:\n \n ```tsx\n-fetch(url, { next: { tags: [...] } });\n+import { cacheTag } from 'next/cache'\n+\n+async function getData() {\n+  'use cache'\n+  cacheTag('posts')\n+  // ...\n+}\n ```\n \n ## Returns\n@@ -44,7 +60,7 @@ fetch(url, { next: { tags: [...] } });\n \n `revalidateTag` invalidates data with specific tags across all pages that use those tags, while [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath) invalidates specific page or layout paths.\n \n-> **Good to know**: These functions serve different purposes and may need to be used together for comprehensive data consistency. For detailed examples and considerations, see [Relationship with revalidateTag](/docs/app/api-reference/functions/revalidatePath#relationship-with-revalidatetag).\n+> **Good to know**: These functions serve different purposes and may need to be used together for comprehensive data consistency. For detailed examples and considerations, see [relationship with revalidateTag and updateTag](/docs/app/api-reference/functions/revalidatePath#relationship-with-revalidatetag-and-updatetag) for more information.\n \n ## Examples\n "
        },
        {
            "sha": "9c52ed1c0bb70c72f156b9617ffc000a964a51d1",
            "filename": "docs/01-app/03-api-reference/04-functions/updateTag.mdx",
            "status": "modified",
            "additions": 37,
            "deletions": 11,
            "changes": 48,
            "blob_url": "https://github.com/vercel/next.js/blob/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F04-functions%2FupdateTag.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F04-functions%2FupdateTag.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2FupdateTag.mdx?ref=c2863c87249bdd95ff3ede6b299a9e36470521b4",
            "patch": "@@ -3,15 +3,17 @@ title: updateTag\n description: API Reference for the updateTag function.\n ---\n \n-`updateTag` allows you to update [cached data](/docs/app/guides/caching) on-demand for a specific cache tag from within Server Actions. This function is designed specifically for read-your-own-writes scenarios.\n+`updateTag` allows you to update [cached data](/docs/app/guides/caching) on-demand for a specific cache tag from within [Server Actions](/docs/app/getting-started/updating-data).\n+\n+This function is designed for **read-your-own-writes** scenarios, where a user makes a change (like creating a post), and the UI immediately shows the change, rather than stale data.\n \n ## Usage\n \n-`updateTag` can **only** be called from within Server Actions. It cannot be used in Route Handlers, Client Components, or any other context.\n+`updateTag` can **only** be called from within [Server Actions](/docs/app/getting-started/updating-data). It cannot be used in Route Handlers, Client Components, or any other context.\n \n If you need to invalidate cache tags in Route Handlers or other contexts, use [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) instead.\n \n-> **Good to know**: `updateTag` immediately expires the cached data for the specified tag, causing the next request to that resource to be a blocking revalidate/cache miss. This ensures that Server Actions can immediately see their own writes.\n+> **Good to know**: `updateTag` immediately expires the cached data for the specified tag. The next request will wait to fetch fresh data rather than serving stale content from the cache, ensuring users see their changes immediately.\n \n ## Parameters\n \n@@ -21,6 +23,26 @@ updateTag(tag: string): void;\n \n - `tag`: A string representing the cache tag associated with the data you want to update. Must not exceed 256 characters. This value is case-sensitive.\n \n+Tags must first be assigned to cached data. You can do this in two ways:\n+\n+- Using the [`next.tags`](/docs/app/guides/caching#fetch-optionsnexttags-and-revalidatetag) option with `fetch` for caching external API requests:\n+\n+```tsx\n+fetch(url, { next: { tags: ['posts'] } })\n+```\n+\n+- Using [`cacheTag`](/docs/app/api-reference/functions/cacheTag) inside cached functions or components with the `'use cache'` directive:\n+\n+```tsx\n+import { cacheTag } from 'next/cache'\n+\n+async function getData() {\n+  'use cache'\n+  cacheTag('posts')\n+  // ...\n+}\n+```\n+\n ## Returns\n \n `updateTag` does not return a value.\n@@ -31,12 +53,12 @@ While both `updateTag` and `revalidateTag` invalidate cached data, they serve di\n \n - **`updateTag`**:\n   - Can only be used in Server Actions\n-  - Immediately expires the cache entry (blocking revalidate on next visit)\n+  - Next request waits for fresh data (no stale content served)\n   - Designed for read-your-own-writes scenarios\n \n - **`revalidateTag`**:\n   - Can be used in Server Actions and Route Handlers\n-  - With `profile=\"max\"` (recommended): Uses stale-while-revalidate semantics\n+  - With `profile=\"max\"` (recommended): Serves cached data while fetching fresh data in the background (stale-while-revalidate)\n   - With custom profile: Can be configured to any cache life profile for advanced usage\n   - Without profile: legacy behavior which is equivalent to `updateTag`\n \n@@ -59,11 +81,13 @@ export async function createPost(formData: FormData) {\n     data: { title, content },\n   })\n \n-  // Update the cache so the new post is immediately visible\n+  // Invalidate cache tags so the new post is immediately visible\n+  // 'posts' tag: affects any page that displays a list of posts\n   updateTag('posts')\n+  // 'post-{id}' tag: affects the individual post detail page\n   updateTag(`post-${post.id}`)\n \n-  // Redirect to the new post\n+  // Redirect to the new post - user will see fresh data, not cached\n   redirect(`/posts/${post.id}`)\n }\n ```\n@@ -83,11 +107,13 @@ export async function createPost(formData) {\n     data: { title, content },\n   })\n \n-  // Update the cache so the new post is immediately visible\n+  // Invalidate cache tags so the new post is immediately visible\n+  // 'posts' tag: affects any page that displays a list of posts\n   updateTag('posts')\n+  // 'post-{id}' tag: affects the individual post detail page\n   updateTag(`post-${post.id}`)\n \n-  // Redirect to the new post\n+  // Redirect to the new post - user will see fresh data, not cached\n   redirect(`/posts/${post.id}`)\n }\n ```\n@@ -98,11 +124,11 @@ export async function createPost(formData) {\n import { updateTag } from 'next/cache'\n \n export async function POST() {\n-  // ❌ This will throw an error\n+  // This will throw an error\n   updateTag('posts')\n   // Error: updateTag can only be called from within a Server Action\n \n-  // ✅ Use revalidateTag instead in Route Handlers\n+  // Use revalidateTag instead in Route Handlers\n   revalidateTag('posts', 'max')\n }\n ```"
        },
        {
            "sha": "2b47fb0b11297e72b03d82b8864233192b9c9b7a",
            "filename": "docs/01-app/03-api-reference/08-turbopack.mdx",
            "status": "modified",
            "additions": 9,
            "deletions": 7,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/c2863c87249bdd95ff3ede6b299a9e36470521b4/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F08-turbopack.mdx?ref=c2863c87249bdd95ff3ede6b299a9e36470521b4",
            "patch": "@@ -224,17 +224,19 @@ If you encounter performance or memory issues and want to help the Next.js team\n NEXT_TURBOPACK_TRACING=1 next dev\n ```\n \n-This will produce a `.next/trace-turbopack` file. Include that file when creating a GitHub issue on the [Next.js repo](https://github.com/vercel/next.js) to help us investigate.\n+This will produce a `.next/dev/trace-turbopack` file. Include that file when creating a GitHub issue on the [Next.js repo](https://github.com/vercel/next.js) to help us investigate.\n+\n+By default the development server outputs to `.next/dev`. Read more about [isolatedDevBuild](/docs/app/api-reference/config/next-config-js/isolatedDevBuild).\n \n ## Summary\n \n Turbopack is a **Rust-based**, **incremental** bundler designed to make local development and builds fast—especially for large applications. It is integrated into Next.js, offering zero-config CSS, React, and TypeScript support.\n \n ## Version Changes\n \n-| Version   | Changes                                                                                                           |\n-| --------- | ----------------------------------------------------------------------------------------------------------------- |\n-| `v16.0.0` | Turbopack becomes the default bundler for Next.js. Automatic support for Babel when a configuration file is found |\n-| `v15.5.0` | Turbopack support for `build` beta                                                                                |\n-| `v15.3.0` | Experimental support for `build`                                                                                  |\n-| `v15.0.0` | Turbopack for `dev` stable                                                                                        |\n+| Version   | Changes                                                                                                            |\n+| --------- | ------------------------------------------------------------------------------------------------------------------ |\n+| `v16.0.0` | Turbopack becomes the default bundler for Next.js. Automatic support for Babel when a configuration file is found. |\n+| `v15.5.0` | Turbopack support for `build` beta                                                                                 |\n+| `v15.3.0` | Experimental support for `build`                                                                                   |\n+| `v15.0.0` | Turbopack for `dev` stable                                                                                         |"
        }
    ],
    "stats": {
        "total": 115,
        "additions": 82,
        "deletions": 33
    }
}