{
    "author": "timneutkens",
    "message": "Fix NEXT_CPU_PROF during development (#81248)\n\n## What?\n\n`next dev` spawns a forked process that wouldn't be instrumented because\n`cpu-profile.ts` only runs in `cli/next-dev.ts` which is the process\nthat boots the forked process. This adds the initialization to the\nforked process too.",
    "sha": "f5f559220a09880ed8d8d55e73c4bd65dcc89af1",
    "files": [
        {
            "sha": "8a4f29c74e5dc8c7898ce637af52522f4261e989",
            "filename": "packages/next/src/server/lib/start-server.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f5f559220a09880ed8d8d55e73c4bd65dcc89af1/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Fstart-server.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/f5f559220a09880ed8d8d55e73c4bd65dcc89af1/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Fstart-server.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Fstart-server.ts?ref=f5f559220a09880ed8d8d55e73c4bd65dcc89af1",
            "patch": "@@ -1,3 +1,5 @@\n+// Start CPU profile if it wasn't already started.\n+import './cpu-profile'\n import { getNetworkHost } from '../../lib/get-network-host'\n \n if (performance.getEntriesByName('next-start').length === 0) {"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}