{
    "author": "Jarred-Sumner",
    "message": "Mark bun builtin modules as external (fixes #75220) (#77616)\n\nFixes https://github.com/vercel/next.js/issues/75220\n\nThis marks Bun's builtin modules as external, following the same pattern\nas for Node.\n\n- `\"bun:ffi\"`\n- `\"bun:jsc\"`\n- `\"bun:sqlite\"`\n- `\"bun:test\"`\n- `\"bun:wrap\"`\n- `\"bun\"`\n\nI have not manually tested this change yet, nor attempted to write tests\nfor this. I did check for other places in the code that should be\nupdated and _maybe_\n`externals/crates/next-custom-transforms/src/transforms/warn_for_edge_runtime.rs`\nshould as well, but I'll leave that up to you whether or not that makes\nsense. Opening as a draft until this can be at least manually tested.\n\nBy the way, node's `sqlite` module is missing from `NODE_EXTERNALS`.\nThat seemed out of scope but worth mentioning.\n\nCurrent error message:\n\n![image](https://github.com/user-attachments/assets/0538fd35-a1ce-44fe-af7f-1db696cd3e7b)\n\n---------\n\nCo-authored-by: Alistair Smith <hi@alistair.sh>",
    "sha": "b8eba4f7038cfb9e66b8b18def445d377b00defe",
    "files": [
        {
            "sha": "af585379bcb711a55e7cbbbc282cd7d2e4e60a00",
            "filename": "packages/next/src/build/handle-externals.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/packages%2Fnext%2Fsrc%2Fbuild%2Fhandle-externals.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/packages%2Fnext%2Fsrc%2Fbuild%2Fhandle-externals.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fhandle-externals.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -188,6 +188,11 @@ export function makeExternalHandler({\n         return `commonjs ${request}`\n       }\n \n+      // Handle Bun builtins as external modules\n+      if (request === 'bun' || request.startsWith('bun:')) {\n+        return `commonjs ${request}`\n+      }\n+\n       const notExternalModules =\n         /^(?:private-next-pages\\/|next\\/(?:dist\\/pages\\/|(?:app|cache|document|link|form|head|image|legacy\\/image|constants|dynamic|script|navigation|headers|router|compat\\/router|server)$)|string-hash|private-next-rsc-action-validate|private-next-rsc-action-client-wrapper|private-next-rsc-server-reference|private-next-rsc-cache-wrapper|private-next-rsc-track-dynamic-import$)/\n       if (notExternalModules.test(request)) {"
        },
        {
            "sha": "d4a58bcbafff731ade77d843d729045789a6620b",
            "filename": "packages/next/src/build/webpack-config.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-config.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -913,6 +913,15 @@ export default async function getBaseWebpackConfig(\n   const builtinModules = (require('module') as typeof import('module'))\n     .builtinModules\n \n+  const bunExternals = [\n+    'bun:ffi',\n+    'bun:jsc',\n+    'bun:sqlite',\n+    'bun:test',\n+    'bun:wrap',\n+    'bun',\n+  ]\n+\n   const shouldEnableSlowModuleDetection =\n     !!config.experimental.slowModuleDetection && dev\n \n@@ -986,6 +995,7 @@ export default async function getBaseWebpackConfig(\n           ]\n         : [\n             ...builtinModules,\n+            ...bunExternals,\n             ({\n               context,\n               request,"
        },
        {
            "sha": "3f36ac8b09026aafbbd1f6c6d1865d6b58c46880",
            "filename": "packages/next/src/build/webpack/plugins/middleware-plugin.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Fplugins%2Fmiddleware-plugin.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -288,6 +288,10 @@ function isNodeJsModule(moduleName: string) {\n   )\n }\n \n+function isBunModule(moduleName: string) {\n+  return moduleName === 'bun' || moduleName.startsWith('bun:')\n+}\n+\n function isDynamicCodeEvaluationAllowed(\n   fileName: string,\n   middlewareConfig?: MiddlewareConfig,\n@@ -521,12 +525,13 @@ function getCodeAnalyzer(params: {\n \n         if (\n           !dev &&\n-          isNodeJsModule(importedModule) &&\n+          (isNodeJsModule(importedModule) || isBunModule(importedModule)) &&\n           !SUPPORTED_NATIVE_MODULES.includes(importedModule)\n         ) {\n+          const isBun = isBunModule(importedModule)\n           compilation.warnings.push(\n             buildWebpackError({\n-              message: `A Node.js module is loaded ('${importedModule}' at line ${node.loc.start.line}) which is not supported in the Edge Runtime.\n+              message: `A ${isBun ? 'Bun' : 'Node.js'} module is loaded ('${importedModule}' at line ${node.loc.start.line}) which is not supported in the Edge Runtime.\n Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`,\n               compilation,\n               parser,\n@@ -921,7 +926,7 @@ export async function handleWebpackExternalForEdgeRuntime({\n   if (\n     (contextInfo.issuerLayer === WEBPACK_LAYERS.middleware ||\n       contextInfo.issuerLayer === WEBPACK_LAYERS.apiEdge) &&\n-    isNodeJsModule(request) &&\n+    (isNodeJsModule(request) || isBunModule(request)) &&\n     !supportedEdgePolyfills.has(request)\n   ) {\n     // allows user to provide and use their polyfills, as we do with buffer."
        },
        {
            "sha": "7f783316c99596c6948abb5a20adcc18e5a649f3",
            "filename": "test/e2e/app-dir/bun-externals/app/api/bun-externals/route.ts",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fapi%2Fbun-externals%2Froute.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fapi%2Fbun-externals%2Froute.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fapi%2Fbun-externals%2Froute.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,29 @@\n+import { NextResponse } from 'next/server'\n+\n+export async function GET() {\n+  const results: Record<string, string> = {}\n+\n+  const modules = [\n+    { name: 'bunFfi', module: 'bun:ffi' },\n+    { name: 'bunJsc', module: 'bun:jsc' },\n+    { name: 'bunSqlite', module: 'bun:sqlite' },\n+    { name: 'bunTest', module: 'bun:test' },\n+    { name: 'bunWrap', module: 'bun:wrap' },\n+    { name: 'bun', module: 'bun' },\n+  ]\n+\n+  for (const { name, module } of modules) {\n+    try {\n+      require(module)\n+      results[name] = 'loaded'\n+    } catch (e: any) {\n+      // Expected: Cannot find module error when not in Bun runtime\n+      // This confirms the module was externalized (not bundled)\n+      results[name] = e.message.includes('Cannot find module')\n+        ? 'external'\n+        : 'error'\n+    }\n+  }\n+\n+  return NextResponse.json(results)\n+}"
        },
        {
            "sha": "6f6927a4d208292d7f8a43ca59729cdb2d5a7f22",
            "filename": "test/e2e/app-dir/bun-externals/app/api/edge-bun-externals/route.ts",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fapi%2Fedge-bun-externals%2Froute.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fapi%2Fedge-bun-externals%2Froute.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fapi%2Fedge-bun-externals%2Froute.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,26 @@\n+import { NextResponse } from 'next/server'\n+\n+export const runtime = 'edge'\n+\n+// Edge runtime should not allow Bun imports\n+// This test verifies that Bun modules are handled correctly in edge runtime\n+export async function GET() {\n+  const modules = [\n+    { name: 'bunFfi', module: 'bun:ffi' },\n+    { name: 'bunJsc', module: 'bun:jsc' },\n+    { name: 'bunSqlite', module: 'bun:sqlite' },\n+    { name: 'bunTest', module: 'bun:test' },\n+    { name: 'bunWrap', module: 'bun:wrap' },\n+    { name: 'bun', module: 'bun' },\n+  ]\n+\n+  try {\n+    for (const { module } of modules) {\n+      await import(module)\n+    }\n+\n+    return NextResponse.json('Did not throw')\n+  } catch (e) {\n+    return NextResponse.json(String(e))\n+  }\n+}"
        },
        {
            "sha": "dbce4ea8e3aeb6cb61b81712b62288d5abaf776b",
            "filename": "test/e2e/app-dir/bun-externals/app/layout.tsx",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Flayout.tsx?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,11 @@\n+export default function RootLayout({\n+  children,\n+}: {\n+  children: React.ReactNode\n+}) {\n+  return (\n+    <html lang=\"en\">\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "6ecf795f120ac63feeb18e24e0d5a0f0eeb65f15",
            "filename": "test/e2e/app-dir/bun-externals/app/page.tsx",
            "status": "added",
            "additions": 77,
            "deletions": 0,
            "changes": 77,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fpage.tsx?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,77 @@\n+export default function Page() {\n+  // These should be handled as external modules\n+  // When not running in Bun, require() will throw \"Cannot find module\"\n+  let bunFfiStatus = 'not loaded'\n+  let bunJscStatus = 'not loaded'\n+  let bunSqliteStatus = 'not loaded'\n+  let bunTestStatus = 'not loaded'\n+  let bunWrapStatus = 'not loaded'\n+  let bunStatus = 'not loaded'\n+\n+  try {\n+    require('bun:ffi')\n+    bunFfiStatus = 'loaded successfully'\n+  } catch (e: any) {\n+    // Expected error when not running in Bun\n+    bunFfiStatus = e.message.includes('Cannot find module')\n+      ? 'external (not found)'\n+      : 'error: ' + e.message\n+  }\n+\n+  try {\n+    require('bun:jsc')\n+    bunJscStatus = 'loaded successfully'\n+  } catch (e: any) {\n+    bunJscStatus = e.message.includes('Cannot find module')\n+      ? 'external (not found)'\n+      : 'error: ' + e.message\n+  }\n+\n+  try {\n+    require('bun:sqlite')\n+    bunSqliteStatus = 'loaded successfully'\n+  } catch (e: any) {\n+    bunSqliteStatus = e.message.includes('Cannot find module')\n+      ? 'external (not found)'\n+      : 'error: ' + e.message\n+  }\n+\n+  try {\n+    require('bun:test')\n+    bunTestStatus = 'loaded successfully'\n+  } catch (e: any) {\n+    bunTestStatus = e.message.includes('Cannot find module')\n+      ? 'external (not found)'\n+      : 'error: ' + e.message\n+  }\n+\n+  try {\n+    require('bun:wrap')\n+    bunWrapStatus = 'loaded successfully'\n+  } catch (e: any) {\n+    bunWrapStatus = e.message.includes('Cannot find module')\n+      ? 'external (not found)'\n+      : 'error: ' + e.message\n+  }\n+\n+  try {\n+    require('bun')\n+    bunStatus = 'loaded successfully'\n+  } catch (e: any) {\n+    bunStatus = e.message.includes('Cannot find module')\n+      ? 'external (not found)'\n+      : 'error: ' + e.message\n+  }\n+\n+  return (\n+    <div>\n+      <h1>Bun Externals Test</h1>\n+      <div id=\"bun-ffi\">{bunFfiStatus}</div>\n+      <div id=\"bun-jsc\">{bunJscStatus}</div>\n+      <div id=\"bun-sqlite\">{bunSqliteStatus}</div>\n+      <div id=\"bun-test\">{bunTestStatus}</div>\n+      <div id=\"bun-wrap\">{bunWrapStatus}</div>\n+      <div id=\"bun\">{bunStatus}</div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "23831366029a973171951d05a0538e02fcee794c",
            "filename": "test/e2e/app-dir/bun-externals/app/server-action/actions.ts",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fserver-action%2Factions.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fserver-action%2Factions.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fserver-action%2Factions.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,33 @@\n+'use server'\n+\n+export async function testBunExternals() {\n+  const modules = [\n+    'bun:ffi',\n+    'bun:jsc',\n+    'bun:sqlite',\n+    'bun:test',\n+    'bun:wrap',\n+    'bun',\n+  ]\n+  const results: Record<string, string> = {}\n+\n+  for (const mod of modules) {\n+    try {\n+      require(mod)\n+      results[mod] = 'loaded'\n+    } catch (e: any) {\n+      // Expected: Cannot find module error when not in Bun runtime\n+      results[mod] = e.message.includes('Cannot find module')\n+        ? 'external (not found)'\n+        : 'error'\n+    }\n+  }\n+\n+  // All modules should be external (not found when not in Bun)\n+  const allExternal = Object.values(results).every(\n+    (r) => r === 'external (not found)' || r === 'loaded'\n+  )\n+  return allExternal\n+    ? 'All Bun modules are external'\n+    : 'Some modules were not properly externalized'\n+}"
        },
        {
            "sha": "10b45ca6dc7b8c072d8557963d8b7605cd47fab5",
            "filename": "test/e2e/app-dir/bun-externals/app/server-action/page.tsx",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fserver-action%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fserver-action%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fapp%2Fserver-action%2Fpage.tsx?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,23 @@\n+'use client'\n+\n+import { useState } from 'react'\n+import { testBunExternals } from './actions'\n+\n+export default function ServerActionPage() {\n+  const [result, setResult] = useState('')\n+\n+  async function handleClick() {\n+    const res = await testBunExternals()\n+    setResult(res)\n+  }\n+\n+  return (\n+    <div>\n+      <h1>Server Action Test</h1>\n+      <button id=\"test-action\" onClick={handleClick}>\n+        Test Bun Externals in Server Action\n+      </button>\n+      {result && <div id=\"action-result\">{result}</div>}\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "0243f53a5d26e1fd2dd7a7b629501fcb80355603",
            "filename": "test/e2e/app-dir/bun-externals/bun-externals.test.ts",
            "status": "added",
            "additions": 74,
            "deletions": 0,
            "changes": 74,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fbun-externals.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fbun-externals.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fbun-externals%2Fbun-externals.test.ts?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,74 @@\n+import { nextTestSetup } from 'e2e-utils'\n+\n+describe('app-dir - bun externals', () => {\n+  const { next, isNextDev, isTurbopack, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should handle bun builtins as external modules', async () => {\n+    const $ = await next.render$('/')\n+\n+    // When not running in Bun, these should throw \"Cannot find module\" errors\n+    expect($('#bun-ffi').text()).toBe('external (not found)')\n+    expect($('#bun-jsc').text()).toBe('external (not found)')\n+    expect($('#bun-sqlite').text()).toBe('external (not found)')\n+    expect($('#bun-test').text()).toBe('external (not found)')\n+    expect($('#bun-wrap').text()).toBe('external (not found)')\n+    expect($('#bun').text()).toBe('external (not found)')\n+  })\n+\n+  it('should handle bun builtins in server actions', async () => {\n+    const browser = await next.browser('/server-action')\n+\n+    await browser.elementByCss('#test-action').click()\n+\n+    await browser.waitForElementByCss('#action-result')\n+    const result = await browser.elementByCss('#action-result').text()\n+\n+    expect(result).toContain('All Bun modules are external')\n+  })\n+\n+  it('should handle bun builtins in route handlers', async () => {\n+    const response = await next.fetch('/api/bun-externals')\n+    const data = await response.json()\n+\n+    expect(data.bunFfi).toBe('external')\n+    expect(data.bunJsc).toBe('external')\n+    expect(data.bunSqlite).toBe('external')\n+    expect(data.bunTest).toBe('external')\n+    expect(data.bunWrap).toBe('external')\n+    expect(data.bun).toBe('external')\n+  })\n+\n+  it('should handle bun builtins in edge runtime', async () => {\n+    const response = await next.fetch('/api/edge-bun-externals')\n+    expect(await response.json()).toMatch(\n+      /(Error: Cannot find module 'bun.*'|Error: Failed to load external module bun.*)/\n+    )\n+  })\n+\n+  if (!isTurbopack && !isNextDev) {\n+    it('should not bundle bun builtins in server bundles', async () => {\n+      await next.fetch('/')\n+      const rscBundle = await next.readFile('.next/server/app/page.js')\n+\n+      expect(rscBundle).not.toContain('bun:ffi implementation')\n+      expect(rscBundle).not.toContain('bun:jsc implementation')\n+      expect(rscBundle).not.toContain('bun:sqlite implementation')\n+      expect(rscBundle).not.toContain('bun:test implementation')\n+      expect(rscBundle).not.toContain('bun:wrap implementation')\n+\n+      expect(rscBundle).toMatch(/require\\([\"']bun:ffi[\"']\\)/)\n+      expect(rscBundle).toMatch(/require\\([\"']bun:jsc[\"']\\)/)\n+      expect(rscBundle).toMatch(/require\\([\"']bun:sqlite[\"']\\)/)\n+      expect(rscBundle).toMatch(/require\\([\"']bun:test[\"']\\)/)\n+      expect(rscBundle).toMatch(/require\\([\"']bun:wrap[\"']\\)/)\n+      expect(rscBundle).toMatch(/require\\([\"']bun[\"']\\)/)\n+    })\n+  }\n+})"
        },
        {
            "sha": "ca32da51d6e9a8e08da1c252f591fe3b4c46e2fe",
            "filename": "test/integration/webpack-bun-externals/pages/index.js",
            "status": "added",
            "additions": 52,
            "deletions": 0,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fintegration%2Fwebpack-bun-externals%2Fpages%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fintegration%2Fwebpack-bun-externals%2Fpages%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fwebpack-bun-externals%2Fpages%2Findex.js?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,52 @@\n+// This page tests that Bun modules are properly externalized\n+export default function Page() {\n+  return <div>Webpack Bun Externals Test</div>\n+}\n+\n+export async function getServerSideProps() {\n+  const results = {}\n+\n+  try {\n+    require('bun:ffi')\n+    results['bun:ffi'] = 'loaded'\n+  } catch (e) {\n+    results['bun:ffi'] = 'external (not found)'\n+  }\n+\n+  try {\n+    require('bun:jsc')\n+    results['bun:jsc'] = 'loaded'\n+  } catch (e) {\n+    results['bun:jsc'] = 'external (not found)'\n+  }\n+\n+  try {\n+    require('bun:sqlite')\n+    results['bun:sqlite'] = 'loaded'\n+  } catch (e) {\n+    results['bun:sqlite'] = 'external (not found)'\n+  }\n+\n+  try {\n+    require('bun:test')\n+    results['bun:test'] = 'loaded'\n+  } catch (e) {\n+    results['bun:test'] = 'external (not found)'\n+  }\n+\n+  try {\n+    require('bun:wrap')\n+    results['bun:wrap'] = 'loaded'\n+  } catch (e) {\n+    results['bun:wrap'] = 'external (not found)'\n+  }\n+\n+  try {\n+    require('bun')\n+    results['bun'] = 'loaded'\n+  } catch (e) {\n+    results['bun'] = 'external (not found)'\n+  }\n+\n+  return { props: { results } }\n+}"
        },
        {
            "sha": "3833c6db2c0cc8c38055fcae10d334c3e7d4b3d1",
            "filename": "test/integration/webpack-bun-externals/test/index.test.js",
            "status": "added",
            "additions": 61,
            "deletions": 0,
            "changes": 61,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fintegration%2Fwebpack-bun-externals%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/test%2Fintegration%2Fwebpack-bun-externals%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fwebpack-bun-externals%2Ftest%2Findex.test.js?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,61 @@\n+/* eslint-env jest */\n+\n+import fs from 'fs-extra'\n+import { nextBuild } from 'next-test-utils'\n+import { join } from 'path'\n+\n+const appDir = join(__dirname, '../')\n+\n+const IS_TURBOPACK = process.env.IS_TURBOPACK_TEST === '1'\n+\n+;(IS_TURBOPACK ? describe.skip : describe)('Webpack - Bun Externals', () => {\n+  let buildResult\n+\n+  beforeAll(async () => {\n+    buildResult = await nextBuild(appDir, [], {\n+      stdout: true,\n+      stderr: true,\n+    })\n+  })\n+\n+  it('should successfully build with Bun module imports', () => {\n+    // The build should succeed even with Bun module imports\n+    expect(buildResult.code).toBe(0)\n+  })\n+\n+  it('should externalize Bun builtins in server bundles', async () => {\n+    // Check the server bundle\n+    const serverBundle = await fs.readFile(\n+      join(appDir, '.next/server/pages/index.js'),\n+      'utf8'\n+    )\n+\n+    // Bun modules should be treated as external\n+    // When modules are external, webpack preserves the require() calls\n+    const bunModules = [\n+      'bun:ffi',\n+      'bun:jsc',\n+      'bun:sqlite',\n+      'bun:test',\n+      'bun:wrap',\n+      'bun',\n+    ]\n+\n+    bunModules.forEach((mod) => {\n+      // Check that the module name appears in require() calls\n+      // This indicates it was externalized, not bundled\n+      const escapedMod = mod.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n+      expect(serverBundle).toInclude(`require(\"${escapedMod}\")`)\n+    })\n+  })\n+\n+  it('should not bundle Bun module implementations', async () => {\n+    const serverBundle = await fs.readFile(\n+      join(appDir, '.next/server/pages/index.js'),\n+      'utf8'\n+    )\n+\n+    // These patterns would indicate the modules were bundled, which we don't want\n+    expect(serverBundle).not.toContain('__webpack_require__.resolve(\"bun\")')\n+  })\n+})"
        },
        {
            "sha": "edb0e1502cfcd6a454ec4f3022f0aaf3af9ea98f",
            "filename": "turbopack/crates/turbopack-resolve/src/resolve.rs",
            "status": "modified",
            "additions": 18,
            "deletions": 4,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fresolve.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fresolve.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-resolve%2Fsrc%2Fresolve.rs?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -84,6 +84,15 @@ const NODE_EXTERNALS: [&str; 64] = [\n \n const EDGE_NODE_EXTERNALS: [&str; 5] = [\"buffer\", \"events\", \"assert\", \"util\", \"async_hooks\"];\n \n+const BUN_EXTERNALS: [&str; 6] = [\n+    \"bun:ffi\",\n+    \"bun:jsc\",\n+    \"bun:sqlite\",\n+    \"bun:test\",\n+    \"bun:wrap\",\n+    \"bun\",\n+];\n+\n #[turbo_tasks::function]\n async fn base_resolve_options(\n     fs: ResolvedVc<Box<dyn FileSystem>>,\n@@ -98,11 +107,15 @@ async fn base_resolve_options(\n     } else {\n         opt.enable_node_externals\n     };\n-    if node_externals || opt.enable_edge_node_externals {\n-        let untraced_external_cell =\n-            ImportMapping::External(None, ExternalType::CommonJs, ExternalTraced::Untraced)\n-                .resolved_cell();\n+    let untraced_external_cell =\n+        ImportMapping::External(None, ExternalType::CommonJs, ExternalTraced::Untraced)\n+            .resolved_cell();\n \n+    for req in BUN_EXTERNALS {\n+        direct_mappings.insert(AliasPattern::exact(req), untraced_external_cell);\n+    }\n+\n+    if node_externals || opt.enable_edge_node_externals {\n         if node_externals {\n             for req in NODE_EXTERNALS {\n                 direct_mappings.insert(AliasPattern::exact(req), untraced_external_cell);\n@@ -112,6 +125,7 @@ async fn base_resolve_options(\n                 );\n             }\n         }\n+\n         if opt.enable_edge_node_externals {\n             for req in EDGE_NODE_EXTERNALS {\n                 direct_mappings.insert("
        },
        {
            "sha": "828d3154884c1f40582b0fd9429a312416fcb8a4",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/input/index.js",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Finput%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Finput%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Finput%2Findex.js?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,14 @@\n+// Test that Bun builtins are treated as external\n+import bunFfi from 'bun:ffi'\n+import bunJsc from 'bun:jsc'\n+import bunSqlite from 'bun:sqlite'\n+import bunTest from 'bun:test'\n+import bunWrap from 'bun:wrap'\n+import bun from 'bun'\n+\n+console.log('bun:ffi:', bunFfi)\n+console.log('bun:jsc:', bunJsc)\n+console.log('bun:sqlite:', bunSqlite)\n+console.log('bun:test:', bunTest)\n+console.log('bun:wrap:', bunWrap)\n+console.log('bun:', bun)"
        },
        {
            "sha": "f530cd0f0bd7b3422f82edb18a0a9a261d313fce",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/options.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foptions.json",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foptions.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foptions.json?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"environment\": \"NodeJs\"\n+}"
        },
        {
            "sha": "4e61fda00c58a80dda77178265916b35efa64d14",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/output/[root-of-the-server]__e251cfe1._.js",
            "status": "added",
            "additions": 77,
            "deletions": 0,
            "changes": 77,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2F%5Broot-of-the-server%5D__e251cfe1._.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2F%5Broot-of-the-server%5D__e251cfe1._.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2F%5Broot-of-the-server%5D__e251cfe1._.js?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,77 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\"output/[root-of-the-server]__e251cfe1._.js\", {\n+\n+\"[externals]/bun:ffi [external] (bun:ffi, cjs)\": ((__turbopack_context__) => {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+const mod = __turbopack_context__.x(\"bun:ffi\", () => require(\"bun:ffi\"));\n+\n+module.exports = mod;\n+}}),\n+\"[externals]/bun:jsc [external] (bun:jsc, cjs)\": ((__turbopack_context__) => {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+const mod = __turbopack_context__.x(\"bun:jsc\", () => require(\"bun:jsc\"));\n+\n+module.exports = mod;\n+}}),\n+\"[externals]/bun:sqlite [external] (bun:sqlite, cjs)\": ((__turbopack_context__) => {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+const mod = __turbopack_context__.x(\"bun:sqlite\", () => require(\"bun:sqlite\"));\n+\n+module.exports = mod;\n+}}),\n+\"[externals]/bun:test [external] (bun:test, cjs)\": ((__turbopack_context__) => {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+const mod = __turbopack_context__.x(\"bun:test\", () => require(\"bun:test\"));\n+\n+module.exports = mod;\n+}}),\n+\"[externals]/bun:wrap [external] (bun:wrap, cjs)\": ((__turbopack_context__) => {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+const mod = __turbopack_context__.x(\"bun:wrap\", () => require(\"bun:wrap\"));\n+\n+module.exports = mod;\n+}}),\n+\"[externals]/bun [external] (bun, cjs)\": ((__turbopack_context__) => {\n+\n+var { m: module, e: exports } = __turbopack_context__;\n+{\n+const mod = __turbopack_context__.x(\"bun\", () => require(\"bun\"));\n+\n+module.exports = mod;\n+}}),\n+\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/input/index.js [test] (ecmascript)\": ((__turbopack_context__) => {\n+\"use strict\";\n+\n+// Test that Bun builtins are treated as external\n+__turbopack_context__.s({});\n+var __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$ffi__$5b$external$5d$__$28$bun$3a$ffi$2c$__cjs$29$__ = __turbopack_context__.i(\"[externals]/bun:ffi [external] (bun:ffi, cjs)\");\n+var __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$jsc__$5b$external$5d$__$28$bun$3a$jsc$2c$__cjs$29$__ = __turbopack_context__.i(\"[externals]/bun:jsc [external] (bun:jsc, cjs)\");\n+var __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$sqlite__$5b$external$5d$__$28$bun$3a$sqlite$2c$__cjs$29$__ = __turbopack_context__.i(\"[externals]/bun:sqlite [external] (bun:sqlite, cjs)\");\n+var __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$test__$5b$external$5d$__$28$bun$3a$test$2c$__cjs$29$__ = __turbopack_context__.i(\"[externals]/bun:test [external] (bun:test, cjs)\");\n+var __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$wrap__$5b$external$5d$__$28$bun$3a$wrap$2c$__cjs$29$__ = __turbopack_context__.i(\"[externals]/bun:wrap [external] (bun:wrap, cjs)\");\n+var __TURBOPACK__imported__module__$5b$externals$5d2f$bun__$5b$external$5d$__$28$bun$2c$__cjs$29$__ = __turbopack_context__.i(\"[externals]/bun [external] (bun, cjs)\");\n+;\n+;\n+;\n+;\n+;\n+;\n+console.log('bun:ffi:', __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$ffi__$5b$external$5d$__$28$bun$3a$ffi$2c$__cjs$29$__[\"default\"]);\n+console.log('bun:jsc:', __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$jsc__$5b$external$5d$__$28$bun$3a$jsc$2c$__cjs$29$__[\"default\"]);\n+console.log('bun:sqlite:', __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$sqlite__$5b$external$5d$__$28$bun$3a$sqlite$2c$__cjs$29$__[\"default\"]);\n+console.log('bun:test:', __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$test__$5b$external$5d$__$28$bun$3a$test$2c$__cjs$29$__[\"default\"]);\n+console.log('bun:wrap:', __TURBOPACK__imported__module__$5b$externals$5d2f$bun$3a$wrap__$5b$external$5d$__$28$bun$3a$wrap$2c$__cjs$29$__[\"default\"]);\n+console.log('bun:', __TURBOPACK__imported__module__$5b$externals$5d2f$bun__$5b$external$5d$__$28$bun$2c$__cjs$29$__[\"default\"]);\n+}),\n+}]);\n+\n+//# sourceMappingURL=%5Broot-of-the-server%5D__e251cfe1._.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "3a5a170d8c1afafdac8add644b5cc4b100feb764",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/output/[root-of-the-server]__e251cfe1._.js.map",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2F%5Broot-of-the-server%5D__e251cfe1._.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2F%5Broot-of-the-server%5D__e251cfe1._.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2F%5Broot-of-the-server%5D__e251cfe1._.js.map?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": [\n+    {\"offset\": {\"line\": 53, \"column\": 0}, \"map\": {\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/input/index.js\"],\"sourcesContent\":[\"// Test that Bun builtins are treated as external\\nimport bunFfi from 'bun:ffi'\\nimport bunJsc from 'bun:jsc'\\nimport bunSqlite from 'bun:sqlite'\\nimport bunTest from 'bun:test'\\nimport bunWrap from 'bun:wrap'\\nimport bun from 'bun'\\n\\nconsole.log('bun:ffi:', bunFfi)\\nconsole.log('bun:jsc:', bunJsc)\\nconsole.log('bun:sqlite:', bunSqlite)\\nconsole.log('bun:test:', bunTest)\\nconsole.log('bun:wrap:', bunWrap)\\nconsole.log('bun:', bun)\\n\"],\"names\":[],\"mappings\":\"AAAA,iDAAiD;;AACjD;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,QAAQ,GAAG,CAAC,YAAY,wHAAM;AAC9B,QAAQ,GAAG,CAAC,YAAY,wHAAM;AAC9B,QAAQ,GAAG,CAAC,eAAe,8HAAS;AACpC,QAAQ,GAAG,CAAC,aAAa,0HAAO;AAChC,QAAQ,GAAG,CAAC,aAAa,0HAAO;AAChC,QAAQ,GAAG,CAAC,QAAQ,0GAAG\"}}]\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "e8f89f3bbbbc8358d65bd18591f2b15c00f61969",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/output/a5fc1_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2Fa5fc1_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2Fa5fc1_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2Fa5fc1_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,6 @@\n+(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([\n+    \"output/a5fc1_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js\",\n+    {},\n+    {\"otherChunks\":[\"output/[root-of-the-server]__e251cfe1._.js\"],\"runtimeModuleIds\":[\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/input/index.js [test] (ecmascript)\"]}\n+]);\n+// Dummy runtime\n\\ No newline at end of file"
        },
        {
            "sha": "c15d7ec00382d3604310ddb8b53cbdb90d9e1942",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/node/bun_protocol_external/output/b1abf_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js.map",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/b8eba4f7038cfb9e66b8b18def445d377b00defe/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fnode%2Fbun_protocol_external%2Foutput%2Fb1abf_turbopack-tests_tests_snapshot_node_bun_protocol_external_input_index_e993d79b.js.map?ref=b8eba4f7038cfb9e66b8b18def445d377b00defe",
            "patch": "@@ -0,0 +1,5 @@\n+{\n+  \"version\": 3,\n+  \"sources\": [],\n+  \"sections\": []\n+}\n\\ No newline at end of file"
        }
    ],
    "stats": {
        "total": 545,
        "additions": 538,
        "deletions": 7
    }
}