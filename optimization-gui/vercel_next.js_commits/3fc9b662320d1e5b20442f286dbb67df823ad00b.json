{
    "author": "khuezy",
    "message": "fix: add appDir path to middleware output path (#75923)\n\n### What?\nAdd `appDir` path to middleware output path for `nodeMiddleware`\nexperimental feature\n### Why?\nFor monorepos, the `appDir` is required to copy the `middleware.js` file\nto the correct path.\n\n### How?\n\nAdd `path.relative(outputFileTracingRoot, distDir),` to the `path.join`\nlist.\n\n---------\n\nCo-authored-by: JJ Kasper <jj@jjsweb.site>",
    "sha": "3fc9b662320d1e5b20442f286dbb67df823ad00b",
    "files": [
        {
            "sha": "4a4674caa0e6292dcd059045c042e78e7b9d0ad2",
            "filename": "packages/next/src/build/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/3fc9b662320d1e5b20442f286dbb67df823ad00b/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/3fc9b662320d1e5b20442f286dbb67df823ad00b/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Findex.ts?ref=3fc9b662320d1e5b20442f286dbb67df823ad00b",
            "patch": "@@ -644,7 +644,7 @@ async function writeStandaloneDirectory(\n         const middlewareOutput = path.join(\n           distDir,\n           STANDALONE_DIRECTORY,\n-          requiredServerFiles.config.distDir,\n+          path.relative(outputFileTracingRoot, distDir),\n           SERVER_DIRECTORY,\n           'middleware.js'\n         )"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}