{
    "author": "devjiwonchoi",
    "message": "[devtools] panel ui issues tab content (#80729)\n\nThe UI shares the style with the error overlay. This PR added a loading\nstate, which can be later shared with the error overlay as well.\n\n\nhttps://github.com/user-attachments/assets/d3759d19-7f70-48c3-8fee-5c6973c01d53\n\n### Success Criteria\n\n- [x]  Does it have a loading state?\n- [x]  Does it have its own scrollbar?\n- [x]  Does it have an empty error state?\n- [x]  Does it have the new feedback button on the toolbar?\n\nCloses NEXT-4545\nCloses NEXT-4556\nCloses NEXT-4554\n\n---------\n\nCo-authored-by: graphite-app[bot] <96075541+graphite-app[bot]@users.noreply.github.com>",
    "sha": "c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
    "files": [
        {
            "sha": "6664ddb7f6a57bd36977361ff28130f7b1ebd279",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/code-frame/code-frame.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fcode-frame%2Fcode-frame.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fcode-frame%2Fcode-frame.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fcode-frame%2Fcode-frame.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -108,7 +108,6 @@ export const CODE_FRAME_STYLES = `\n     --code-frame-padding: 12px;\n     --code-frame-line-height: var(--size-16);\n     background-color: var(--color-background-200);\n-    overflow: hidden;\n     color: var(--color-gray-1000);\n     text-overflow: ellipsis;\n     border: 1px solid var(--color-gray-400);"
        },
        {
            "sha": "f51121d8f10fad1b0b3339623657196ad4d8f3ed",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel-tab/devtools-panel-tab.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fdevtools-panel-tab.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fdevtools-panel-tab.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fdevtools-panel-tab.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -1,5 +1,5 @@\n import type { DevToolsPanelTabType } from '../devtools-panel'\n-import type { Corners } from '../../../shared'\n+import type { Corners, OverlayState } from '../../../shared'\n import type { DebugInfo } from '../../../../shared/types'\n import type { ReadyRuntimeError } from '../../../utils/get-error-by-type'\n import type { HydrationErrorState } from '../../../../shared/hydration-error'\n@@ -16,6 +16,7 @@ export function DevToolsPanelTab({\n   debugInfo,\n   runtimeErrors,\n   getSquashedHydrationErrorDetails,\n+  buildError,\n }: {\n   activeTab: DevToolsPanelTabType\n   devToolsPosition: Corners\n@@ -25,6 +26,7 @@ export function DevToolsPanelTab({\n   debugInfo: DebugInfo\n   runtimeErrors: ReadyRuntimeError[]\n   getSquashedHydrationErrorDetails: (error: Error) => HydrationErrorState | null\n+  buildError: OverlayState['buildError']\n }) {\n   switch (activeTab) {\n     case 'settings':\n@@ -44,6 +46,7 @@ export function DevToolsPanelTab({\n           debugInfo={debugInfo}\n           runtimeErrors={runtimeErrors}\n           getSquashedHydrationErrorDetails={getSquashedHydrationErrorDetails}\n+          buildError={buildError}\n         />\n       )\n     default:"
        },
        {
            "sha": "283c47e0db786ad3ec3117a9072c222ba4b69fac",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel-tab/issues-tab/issues-tab-content.tsx",
            "status": "added",
            "additions": 174,
            "deletions": 0,
            "changes": 174,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fissues-tab%2Fissues-tab-content.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fissues-tab%2Fissues-tab-content.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fissues-tab%2Fissues-tab-content.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -0,0 +1,174 @@\n+import type { OverlayState } from '../../../../shared'\n+import type { DebugInfo } from '../../../../../shared/types'\n+import type { ReadyRuntimeError } from '../../../../utils/get-error-by-type'\n+import type { ErrorType } from '../../../errors/error-type-label/error-type-label'\n+\n+import { Suspense, useMemo, useState } from 'react'\n+\n+import {\n+  GenericErrorDescription,\n+  HydrationErrorDescription,\n+} from '../../../../container/errors'\n+import { EnvironmentNameLabel } from '../../../errors/environment-name-label/environment-name-label'\n+import { ErrorMessage } from '../../../errors/error-message/error-message'\n+import { ErrorOverlayToolbar } from '../../../errors/error-overlay-toolbar/error-overlay-toolbar'\n+import { ErrorTypeLabel } from '../../../errors/error-type-label/error-type-label'\n+import { IssueFeedbackButton } from '../../../errors/error-overlay-toolbar/issue-feedback-button'\n+import { Terminal } from '../../../terminal'\n+import { HotlinkedText } from '../../../hot-linked-text'\n+import { PseudoHtmlDiff } from '../../../../container/runtime-error/component-stack-pseudo-html'\n+import { useFrames } from '../../../../utils/get-error-by-type'\n+import { CodeFrame } from '../../../code-frame/code-frame'\n+import { CallStack } from '../../../call-stack/call-stack'\n+import { NEXTJS_HYDRATION_ERROR_LINK } from '../../../../../shared/react-19-hydration-error'\n+import { ErrorContentSkeleton } from '../../../../container/runtime-error/error-content-skeleton'\n+import { css } from '../../../../utils/css'\n+\n+export function IssuesTabContent({\n+  notes,\n+  buildError,\n+  hydrationWarning,\n+  errorDetails,\n+  activeError,\n+  errorCode,\n+  errorType,\n+  debugInfo,\n+}: {\n+  notes: string | null\n+  buildError: OverlayState['buildError']\n+  hydrationWarning: string | null\n+  errorDetails: {\n+    hydrationWarning: string | null\n+    notes: string | null\n+    reactOutputComponentDiff: string | null\n+  }\n+  activeError: ReadyRuntimeError\n+  errorCode: string | undefined\n+  errorType: ErrorType\n+  debugInfo: DebugInfo\n+}) {\n+  if (buildError) {\n+    return <Terminal content={buildError} />\n+  }\n+\n+  const errorMessage = hydrationWarning ? (\n+    <HydrationErrorDescription message={hydrationWarning} />\n+  ) : (\n+    <GenericErrorDescription error={activeError.error} />\n+  )\n+\n+  return (\n+    <div data-nextjs-devtools-panel-tab-issues-content-container>\n+      <div className=\"nextjs-container-errors-header\">\n+        <div\n+          className=\"nextjs__container_errors__error_title\"\n+          // allow assertion in tests before error rating is implemented\n+          data-nextjs-error-code={errorCode}\n+        >\n+          <span data-nextjs-error-label-group>\n+            <ErrorTypeLabel errorType={errorType} />\n+            {activeError.error.environmentName && (\n+              <EnvironmentNameLabel\n+                environmentName={activeError.error.environmentName}\n+              />\n+            )}\n+          </span>\n+          <ErrorOverlayToolbar\n+            error={activeError.error}\n+            debugInfo={debugInfo}\n+            // TODO: Move the button inside and remove the feedback on the footer of the error overlay.\n+            feedbackButton={\n+              errorCode && <IssueFeedbackButton errorCode={errorCode} />\n+            }\n+          />\n+        </div>\n+        <ErrorMessage errorMessage={errorMessage} />\n+      </div>\n+      <div className=\"error-overlay-notes-container\">\n+        {notes ? (\n+          <>\n+            <p\n+              id=\"nextjs__container_errors__notes\"\n+              className=\"nextjs__container_errors__notes\"\n+            >\n+              {notes}\n+            </p>\n+          </>\n+        ) : null}\n+        {hydrationWarning ? (\n+          <p\n+            id=\"nextjs__container_errors__link\"\n+            className=\"nextjs__container_errors__link\"\n+          >\n+            <HotlinkedText\n+              text={`See more info here: ${NEXTJS_HYDRATION_ERROR_LINK}`}\n+            />\n+          </p>\n+        ) : null}\n+      </div>\n+      {errorDetails.reactOutputComponentDiff ? (\n+        <PseudoHtmlDiff\n+          reactOutputComponentDiff={errorDetails.reactOutputComponentDiff || ''}\n+        />\n+      ) : null}\n+      <Suspense fallback={<ErrorContentSkeleton />}>\n+        <RuntimeError key={activeError.id.toString()} error={activeError} />\n+      </Suspense>\n+    </div>\n+  )\n+}\n+\n+/* Ported the content from container/runtime-error/index.tsx */\n+function RuntimeError({ error }: { error: ReadyRuntimeError }) {\n+  const [isIgnoreListOpen, setIsIgnoreListOpen] = useState(false)\n+  const frames = useFrames(error)\n+\n+  const ignoredFramesTally = useMemo(() => {\n+    return frames.reduce((tally, frame) => tally + (frame.ignored ? 1 : 0), 0)\n+  }, [frames])\n+\n+  const firstFrame = useMemo(() => {\n+    const firstFirstPartyFrameIndex = frames.findIndex(\n+      (entry) =>\n+        !entry.ignored &&\n+        Boolean(entry.originalCodeFrame) &&\n+        Boolean(entry.originalStackFrame)\n+    )\n+\n+    return frames[firstFirstPartyFrameIndex] ?? null\n+  }, [frames])\n+\n+  return (\n+    <>\n+      {firstFrame &&\n+        firstFrame.originalStackFrame &&\n+        firstFrame.originalCodeFrame && (\n+          <CodeFrame\n+            stackFrame={firstFrame.originalStackFrame}\n+            codeFrame={firstFrame.originalCodeFrame}\n+          />\n+        )}\n+\n+      {frames.length > 0 && (\n+        <CallStack\n+          frames={frames}\n+          isIgnoreListOpen={isIgnoreListOpen}\n+          onToggleIgnoreList={() => setIsIgnoreListOpen(!isIgnoreListOpen)}\n+          ignoredFramesTally={ignoredFramesTally}\n+        />\n+      )}\n+    </>\n+  )\n+}\n+\n+// The components in this file shares the style with the Error Overlay.\n+export const DEVTOOLS_PANEL_TAB_ISSUES_CONTENT_STYLES = css`\n+  [data-nextjs-devtools-panel-tab-issues-content-container] {\n+    flex: 1;\n+    display: flex;\n+    flex-direction: column;\n+    overflow-y: auto;\n+    min-height: 0;\n+    padding: 14px;\n+  }\n+`"
        },
        {
            "sha": "bebfc262bf58abb2b17b5449c769f3abe86336dd",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel-tab/issues-tab/issues-tab.tsx",
            "status": "modified",
            "additions": 70,
            "deletions": 49,
            "changes": 119,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fissues-tab%2Fissues-tab.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fissues-tab%2Fissues-tab.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel-tab%2Fissues-tab%2Fissues-tab.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -1,53 +1,54 @@\n+import type { OverlayState } from '../../../../shared'\n import type { DebugInfo } from '../../../../../shared/types'\n import type { ReadyRuntimeError } from '../../../../utils/get-error-by-type'\n import type { HydrationErrorState } from '../../../../../shared/hydration-error'\n \n import { IssuesTabSidebar } from './issues-tab-sidebar'\n-import {\n-  GenericErrorDescription,\n-  HydrationErrorDescription,\n-} from '../../../../container/errors'\n-import { EnvironmentNameLabel } from '../../../errors/environment-name-label/environment-name-label'\n-import { ErrorMessage } from '../../../errors/error-message/error-message'\n-import { ErrorOverlayToolbar } from '../../../errors/error-overlay-toolbar/error-overlay-toolbar'\n-import { ErrorTypeLabel } from '../../../errors/error-type-label/error-type-label'\n+import { IssuesTabContent } from './issues-tab-content'\n import { css } from '../../../../utils/css'\n import { useActiveRuntimeError } from '../../../../hooks/use-active-runtime-error'\n+import { Warning } from '../../../../icons/warning'\n \n export function IssuesTab({\n   debugInfo,\n   runtimeErrors,\n   getSquashedHydrationErrorDetails,\n+  buildError,\n }: {\n   debugInfo: DebugInfo\n   runtimeErrors: ReadyRuntimeError[]\n   getSquashedHydrationErrorDetails: (error: Error) => HydrationErrorState | null\n+  buildError: OverlayState['buildError']\n }) {\n   const {\n-    isLoading,\n     errorCode,\n     errorType,\n     hydrationWarning,\n     activeError,\n     activeIdx,\n     setActiveIndex,\n+    notes,\n+    errorDetails,\n   } = useActiveRuntimeError({ runtimeErrors, getSquashedHydrationErrorDetails })\n \n-  if (isLoading) {\n-    // TODO: better loading state\n-    return null\n-  }\n-\n   if (!activeError) {\n-    return null\n+    return (\n+      <div data-nextjs-devtools-panel-tab-issues-empty>\n+        <div data-nextjs-devtools-panel-tab-issues-empty-content>\n+          <div data-nextjs-devtools-panel-tab-issues-empty-icon>\n+            <Warning width={16} height={16} />\n+          </div>\n+          <h3 data-nextjs-devtools-panel-tab-issues-empty-title>\n+            No Issues Found\n+          </h3>\n+          <p data-nextjs-devtools-panel-tab-issues-empty-subtitle>\n+            Issues will appear here when they occur.\n+          </p>\n+        </div>\n+      </div>\n+    )\n   }\n \n-  const errorMessage = hydrationWarning ? (\n-    <HydrationErrorDescription message={hydrationWarning} />\n-  ) : (\n-    <GenericErrorDescription error={activeError.error} />\n-  )\n-\n   return (\n     <div data-nextjs-devtools-panel-tab-issues>\n       <IssuesTabSidebar\n@@ -56,32 +57,18 @@ export function IssuesTab({\n         activeIdx={activeIdx}\n         setActiveIndex={setActiveIndex}\n       />\n-      <div data-nextjs-devtools-panel-tab-issues-content>\n-        <div className=\"nextjs-container-errors-header\">\n-          <div\n-            className=\"nextjs__container_errors__error_title\"\n-            // allow assertion in tests before error rating is implemented\n-            data-nextjs-error-code={errorCode}\n-          >\n-            <span data-nextjs-error-label-group>\n-              <ErrorTypeLabel errorType={errorType} />\n-              {activeError.error.environmentName && (\n-                <EnvironmentNameLabel\n-                  environmentName={activeError.error.environmentName}\n-                />\n-              )}\n-            </span>\n-            <ErrorOverlayToolbar\n-              error={activeError.error}\n-              debugInfo={debugInfo}\n-            />\n-          </div>\n-          <ErrorMessage errorMessage={errorMessage} />\n-        </div>\n \n-        {/* TODO: Content */}\n-        <div>Content</div>\n-      </div>\n+      {/* This is the copy of the Error Overlay content. */}\n+      <IssuesTabContent\n+        buildError={buildError}\n+        notes={notes}\n+        hydrationWarning={hydrationWarning}\n+        errorDetails={errorDetails}\n+        activeError={activeError}\n+        debugInfo={debugInfo}\n+        errorCode={errorCode}\n+        errorType={errorType}\n+      />\n     </div>\n   )\n }\n@@ -93,11 +80,45 @@ export const DEVTOOLS_PANEL_TAB_ISSUES_STYLES = css`\n     min-height: 0;\n   }\n \n-  [data-nextjs-devtools-panel-tab-issues-content] {\n+  [data-nextjs-devtools-panel-tab-issues-empty] {\n+    display: flex;\n     flex: 1;\n+    padding: 12px;\n+    min-height: 0;\n+  }\n+\n+  [data-nextjs-devtools-panel-tab-issues-empty-content] {\n     display: flex;\n     flex-direction: column;\n-    overflow-y: auto;\n-    min-height: 0;\n+    align-items: center;\n+    justify-content: center;\n+    flex: 1;\n+    border: 1px dashed var(--color-gray-alpha-500);\n+    border-radius: 4px;\n+  }\n+\n+  [data-nextjs-devtools-panel-tab-issues-empty-icon] {\n+    margin-bottom: 16px;\n+    padding: 8px;\n+    border: 1px solid var(--color-gray-alpha-400);\n+    border-radius: 6px;\n+\n+    background-color: var(--color-background-100);\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+  }\n+\n+  [data-nextjs-devtools-panel-tab-issues-empty-title] {\n+    color: var(--color-gray-1000);\n+    font-size: 16px;\n+    font-weight: 500;\n+    line-height: var(--line-height-20);\n+  }\n+\n+  [data-nextjs-devtools-panel-tab-issues-empty-subtitle] {\n+    color: var(--color-gray-900);\n+    font-size: 14px;\n+    line-height: var(--line-height-21);\n   }\n `"
        },
        {
            "sha": "e170d03b4ced84d9547c1c3189a92677da9502f2",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -37,9 +37,7 @@ export function DevToolsPanel({\n   runtimeErrors: ReadyRuntimeError[]\n   getSquashedHydrationErrorDetails: (error: Error) => HydrationErrorState | null\n }) {\n-  const [activeTab, setActiveTab] = useState<'issues' | 'route' | 'settings'>(\n-    'settings'\n-  )\n+  const [activeTab, setActiveTab] = useState<DevToolsPanelTabType>('issues')\n   const [vertical, horizontal] = state.devToolsPosition.split('-', 2)\n \n   const onCloseDevToolsPanel = () => {\n@@ -155,6 +153,7 @@ export function DevToolsPanel({\n                   getSquashedHydrationErrorDetails={\n                     getSquashedHydrationErrorDetails\n                   }\n+                  buildError={state.buildError}\n                 />\n               </DialogBody>\n             </DialogContent>"
        },
        {
            "sha": "7aca01f9a68f0c8e2ba12ef20002b00501a411a0",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/error-overlay-toolbar/error-overlay-toolbar.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Ferror-overlay-toolbar.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Ferror-overlay-toolbar.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Ferror-overlay-toolbar.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -7,14 +7,18 @@ import { RestartServerButton } from './restart-server-button'\n type ErrorOverlayToolbarProps = {\n   error: Error\n   debugInfo: DebugInfo | undefined\n+  feedbackButton?: React.ReactNode\n }\n \n export function ErrorOverlayToolbar({\n   error,\n   debugInfo,\n+  feedbackButton,\n }: ErrorOverlayToolbarProps) {\n   return (\n     <span className=\"error-overlay-toolbar\">\n+      {/* TODO: Move the button inside and remove the feedback on the footer of the error overlay.  */}\n+      {feedbackButton}\n       {process.env.__NEXT_BUNDLER_HAS_PERSISTENT_CACHE && (\n         <RestartServerButton error={error} />\n       )}"
        },
        {
            "sha": "1d4eac1591c4bebf04f20466225121c5c7bf952b",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/error-overlay-toolbar/issue-feedback-button.stories.tsx",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Fissue-feedback-button.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Fissue-feedback-button.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Fissue-feedback-button.stories.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -0,0 +1,20 @@\n+import type { Meta, StoryObj } from '@storybook/react'\n+import { IssueFeedbackButton } from './issue-feedback-button'\n+import { withShadowPortal } from '../../../storybook/with-shadow-portal'\n+\n+const meta: Meta<typeof IssueFeedbackButton> = {\n+  component: IssueFeedbackButton,\n+  parameters: {\n+    layout: 'centered',\n+  },\n+  decorators: [withShadowPortal],\n+}\n+\n+export default meta\n+type Story = StoryObj<typeof IssueFeedbackButton>\n+\n+export const Default: Story = {\n+  args: {\n+    errorCode: 'E001_FAKE',\n+  },\n+}"
        },
        {
            "sha": "fb42f38e6cc999a1acb42de424114d670a6a7fe3",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/errors/error-overlay-toolbar/issue-feedback-button.tsx",
            "status": "added",
            "additions": 115,
            "deletions": 0,
            "changes": 115,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Fissue-feedback-button.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Fissue-feedback-button.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Ferrors%2Ferror-overlay-toolbar%2Fissue-feedback-button.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -0,0 +1,115 @@\n+import { useCallback, useState } from 'react'\n+\n+import { ThumbsDown } from '../../../icons/thumbs/thumbs-down'\n+import { ThumbsUp } from '../../../icons/thumbs/thumbs-up'\n+import { cx } from '../../../utils/cx'\n+import { css } from '../../../utils/css'\n+\n+export function IssueFeedbackButton({ errorCode }: { errorCode: string }) {\n+  const [votedMap, setVotedMap] = useState<Record<string, boolean>>({})\n+  const voted = votedMap[errorCode]\n+  const disabled = process.env.__NEXT_TELEMETRY_DISABLED\n+\n+  const handleFeedback = useCallback(\n+    async (wasHelpful: boolean) => {\n+      // Optimistically set feedback state without loading/error states to keep implementation simple\n+      setVotedMap((prev) => ({\n+        ...prev,\n+        [errorCode]: wasHelpful,\n+      }))\n+\n+      try {\n+        const response = await fetch(\n+          `${process.env.__NEXT_ROUTER_BASEPATH || ''}/__nextjs_error_feedback?${new URLSearchParams(\n+            {\n+              errorCode,\n+              wasHelpful: wasHelpful.toString(),\n+            }\n+          )}`\n+        )\n+\n+        if (!response.ok) {\n+          // Handle non-2xx HTTP responses here if needed\n+          console.error('Failed to record feedback on the server.')\n+        }\n+      } catch (error) {\n+        console.error('Failed to record feedback:', error)\n+      }\n+    },\n+    [errorCode]\n+  )\n+\n+  return (\n+    <div data-nextjs-issue-feedback-button-group>\n+      <button\n+        aria-disabled={disabled ? 'true' : undefined}\n+        aria-label=\"Mark as helpful\"\n+        onClick={disabled ? undefined : () => handleFeedback(true)}\n+        className={cx('feedback-button', voted === true && 'voted')}\n+        title={\n+          disabled\n+            ? 'Feedback disabled due to setting NEXT_TELEMETRY_DISABLED'\n+            : undefined\n+        }\n+        type=\"button\"\n+      >\n+        <ThumbsUp aria-hidden=\"true\" />\n+      </button>\n+      <div data-nextjs-issue-feedback-separator />\n+      <button\n+        aria-disabled={disabled ? 'true' : undefined}\n+        aria-label=\"Mark as not helpful\"\n+        onClick={disabled ? undefined : () => handleFeedback(false)}\n+        className={cx('feedback-button', voted === false && 'voted')}\n+        title={\n+          disabled\n+            ? 'Feedback disabled due to setting NEXT_TELEMETRY_DISABLED'\n+            : undefined\n+        }\n+        type=\"button\"\n+      >\n+        <ThumbsDown\n+          aria-hidden=\"true\"\n+          // Optical alignment\n+          style={{\n+            translate: '1px 1px',\n+          }}\n+        />\n+      </button>\n+    </div>\n+  )\n+}\n+\n+export const ISSUE_FEEDBACK_BUTTON_STYLES = css`\n+  [data-nextjs-issue-feedback-button-group] {\n+    display: flex;\n+    align-items: center;\n+    border: 1px solid var(--color-gray-400);\n+    border-radius: var(--rounded-full);\n+    background: var(--color-background-100);\n+    box-shadow: var(--shadow-small);\n+  }\n+\n+  [data-nextjs-issue-feedback-button-group] button {\n+    height: 100%;\n+    display: flex;\n+    align-items: center;\n+    justify-content: center;\n+  }\n+\n+  [data-nextjs-issue-feedback-button-group] button:first-child {\n+    padding: 4px 3px 4px 5px;\n+    border-radius: var(--rounded-full) 0 0 var(--rounded-full);\n+  }\n+\n+  [data-nextjs-issue-feedback-button-group] button:last-child {\n+    padding: 4px 5px 4px 3px;\n+    border-radius: 0 var(--rounded-full) var(--rounded-full) 0;\n+  }\n+\n+  [data-nextjs-issue-feedback-separator] {\n+    width: 1px;\n+    height: 100%;\n+    background: var(--color-gray-400);\n+  }\n+`"
        },
        {
            "sha": "2518551121623f3332efaa3d57e7194590f28cb1",
            "filename": "packages/next/src/next-devtools/dev-overlay/container/runtime-error/error-content-skeleton.tsx",
            "status": "added",
            "additions": 203,
            "deletions": 0,
            "changes": 203,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Fruntime-error%2Ferror-content-skeleton.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Fruntime-error%2Ferror-content-skeleton.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcontainer%2Fruntime-error%2Ferror-content-skeleton.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -0,0 +1,203 @@\n+import { css } from '../../utils/css'\n+\n+export function ErrorContentSkeleton() {\n+  return (\n+    <>\n+      <div data-nextjs-codeframe-skeleton>\n+        <div data-nextjs-codeframe-skeleton-header>\n+          <div data-nextjs-codeframe-skeleton-icon />\n+          <div\n+            data-nextjs-codeframe-skeleton-line\n+            data-nextjs-codeframe-skeleton-header-bar\n+          />\n+        </div>\n+        <div data-nextjs-codeframe-skeleton-content>\n+          <div\n+            data-nextjs-codeframe-skeleton-line\n+            data-nextjs-codeframe-skeleton-line-1\n+          />\n+          <div\n+            data-nextjs-codeframe-skeleton-line\n+            data-nextjs-codeframe-skeleton-line-2\n+          />\n+          <div\n+            data-nextjs-codeframe-skeleton-line\n+            data-nextjs-codeframe-skeleton-line-3\n+          />\n+        </div>\n+      </div>\n+      <div data-nextjs-call-stack-container>\n+        <div data-nextjs-call-stack-header>\n+          <p data-nextjs-call-stack-title>\n+            Call Stack{' '}\n+            <span\n+              data-nextjs-call-stack-count\n+              data-nextjs-call-stack-count-skeleton\n+            ></span>\n+          </p>\n+          <button\n+            data-nextjs-call-stack-ignored-list-toggle-button\n+            data-nextjs-call-stack-ignored-list-toggle-button-skeleton\n+            aria-hidden=\"true\"\n+          >\n+            <div data-nextjs-call-stack-skeleton-bar />\n+          </button>\n+        </div>\n+      </div>\n+    </>\n+  )\n+}\n+\n+export const ERROR_CONTENT_SKELETON_STYLES = css`\n+  [data-nextjs-codeframe-skeleton] {\n+    margin: 8px 0;\n+    border-radius: 8px;\n+    background-color: var(--color-background-200);\n+    border: 1px solid var(--color-gray-400);\n+    overflow: hidden;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-header] {\n+    display: flex;\n+    align-items: center;\n+    padding: 12px;\n+    border-bottom: 1px solid var(--color-gray-400);\n+    border-radius: 8px 8px 0 0;\n+    gap: 6px;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-icon] {\n+    width: var(--size-16);\n+    height: var(--size-16);\n+    border-radius: 4px;\n+    background: linear-gradient(\n+      90deg,\n+      var(--color-gray-200) 25%,\n+      var(--color-gray-100) 50%,\n+      var(--color-gray-200) 75%\n+    );\n+    background-size: 200% 100%;\n+    animation: skeleton-shimmer 1.5s ease-in-out infinite;\n+    flex-shrink: 0;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-header-bar] {\n+    width: 42.9%;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-button] {\n+    width: var(--size-16);\n+    height: var(--size-16);\n+    border-radius: var(--rounded-full);\n+    background: linear-gradient(\n+      90deg,\n+      var(--color-gray-200) 25%,\n+      var(--color-gray-100) 50%,\n+      var(--color-gray-200) 75%\n+    );\n+    background-size: 200% 100%;\n+    animation: skeleton-shimmer 1.5s ease-in-out infinite;\n+    flex-shrink: 0;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-content] {\n+    padding: 12px;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-line] {\n+    height: var(--size-16);\n+    border-radius: 100px;\n+    background: linear-gradient(\n+      90deg,\n+      var(--color-gray-200) 25%,\n+      var(--color-gray-100) 50%,\n+      var(--color-gray-200) 75%\n+    );\n+    background-size: 200% 100%;\n+    animation: skeleton-shimmer 1.5s ease-in-out infinite;\n+    margin-bottom: 8px;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-line]:last-child {\n+    margin-bottom: 0;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-line-1] {\n+    width: 32.5%;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-line-2] {\n+    width: 56.8%;\n+  }\n+\n+  [data-nextjs-codeframe-skeleton-line-3] {\n+    width: 29.6%;\n+  }\n+\n+  [data-nextjs-call-stack-container] {\n+    position: relative;\n+    margin-top: 8px;\n+  }\n+\n+  [data-nextjs-call-stack-count-skeleton] {\n+    display: flex;\n+    justify-content: center;\n+    align-items: center;\n+    width: var(--size-20);\n+    height: var(--size-20);\n+    border-radius: var(--rounded-full);\n+    background: linear-gradient(\n+      90deg,\n+      var(--color-gray-200) 25%,\n+      var(--color-gray-100) 50%,\n+      var(--color-gray-200) 75%\n+    );\n+    background-size: 200% 100%;\n+    animation: skeleton-shimmer 1.5s ease-in-out infinite;\n+  }\n+\n+  [data-nextjs-call-stack-ignored-list-toggle-button-skeleton] {\n+    all: unset;\n+    display: flex;\n+    align-items: center;\n+    border-radius: 6px;\n+    padding: 4px 6px;\n+    margin-right: -6px;\n+  }\n+\n+  [data-nextjs-call-stack-skeleton-bar] {\n+    height: var(--size-12);\n+    width: 148px;\n+    border-radius: 100px;\n+    background: linear-gradient(\n+      90deg,\n+      var(--color-gray-200) 25%,\n+      var(--color-gray-100) 50%,\n+      var(--color-gray-200) 75%\n+    );\n+    background-size: 200% 100%;\n+    animation: skeleton-shimmer 1.5s ease-in-out infinite;\n+  }\n+\n+  @keyframes skeleton-shimmer {\n+    0% {\n+      background-position: -200% 0;\n+    }\n+    100% {\n+      background-position: 200% 0;\n+    }\n+  }\n+\n+  /* Respect user's motion preferences */\n+  @media (prefers-reduced-motion: reduce) {\n+    [data-nextjs-codeframe-skeleton-icon],\n+    [data-nextjs-codeframe-skeleton-header-bar],\n+    [data-nextjs-codeframe-skeleton-button],\n+    [data-nextjs-codeframe-skeleton-line],\n+    [data-nextjs-call-stack-count-skeleton],\n+    [data-nextjs-call-stack-skeleton-bar] {\n+      animation: none;\n+      background: var(--color-gray-200);\n+    }\n+  }\n+`"
        },
        {
            "sha": "28c431adc33df0e1428bf836893339f6389d8ee4",
            "filename": "packages/next/src/next-devtools/dev-overlay/icons/warning.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Fwarning.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Fwarning.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Fwarning.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -12,7 +12,7 @@ export function Warning(props: React.SVGProps<SVGSVGElement>) {\n         fillRule=\"evenodd\"\n         clipRule=\"evenodd\"\n         d=\"M3.98071 1.125L1.125 3.98071L1.125 8.01929L3.98071 10.875H8.01929L10.875 8.01929V3.98071L8.01929 1.125H3.98071ZM3.82538 0C3.62647 0 3.4357 0.0790176 3.29505 0.21967L0.21967 3.29505C0.0790176 3.4357 0 3.62647 0 3.82538V8.17462C0 8.37353 0.0790178 8.5643 0.21967 8.70495L3.29505 11.7803C3.4357 11.921 3.62647 12 3.82538 12H8.17462C8.37353 12 8.5643 11.921 8.70495 11.7803L11.7803 8.70495C11.921 8.5643 12 8.37353 12 8.17462V3.82538C12 3.62647 11.921 3.4357 11.7803 3.29505L8.70495 0.21967C8.5643 0.0790177 8.37353 0 8.17462 0H3.82538ZM6.5625 2.8125V3.375V6V6.5625H5.4375V6V3.375V2.8125H6.5625ZM6 9C6.41421 9 6.75 8.66421 6.75 8.25C6.75 7.83579 6.41421 7.5 6 7.5C5.58579 7.5 5.25 7.83579 5.25 8.25C5.25 8.66421 5.58579 9 6 9Z\"\n-        fill=\"#EAEAEA\"\n+        fill=\"currentColor\"\n       />\n     </svg>\n   )"
        },
        {
            "sha": "b8c8182971a62416086b738fdfcdd5f8826729da",
            "filename": "packages/next/src/next-devtools/dev-overlay/styles/component-styles.tsx",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/c1c523bfde79ff6584bb8b31318e1bebd56a85dc/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fstyles%2Fcomponent-styles.tsx?ref=c1c523bfde79ff6584bb8b31318e1bebd56a85dc",
            "patch": "@@ -32,6 +32,9 @@ import { CALL_STACK_STYLES } from '../components/call-stack/call-stack'\n import { DEVTOOLS_PANEL_TAB_ISSUES_STYLES } from '../components/devtools-panel/devtools-panel-tab/issues-tab/issues-tab'\n import { DEVTOOLS_PANEL_TAB_ISSUES_SIDEBAR_STYLES } from '../components/devtools-panel/devtools-panel-tab/issues-tab/issues-tab-sidebar'\n import { DEVTOOLS_PANEL_TAB_ISSUES_SIDEBAR_FRAME_SKELETON_STYLES } from '../components/devtools-panel/devtools-panel-tab/issues-tab/issues-tab-sidebar-frame-skeleton'\n+import { DEVTOOLS_PANEL_TAB_ISSUES_CONTENT_STYLES } from '../components/devtools-panel/devtools-panel-tab/issues-tab/issues-tab-content'\n+import { ISSUE_FEEDBACK_BUTTON_STYLES } from '../components/errors/error-overlay-toolbar/issue-feedback-button'\n+import { ERROR_CONTENT_SKELETON_STYLES } from '../container/runtime-error/error-content-skeleton'\n \n export function ComponentStyles() {\n   return (\n@@ -70,6 +73,9 @@ export function ComponentStyles() {\n         ${DEVTOOLS_PANEL_TAB_ISSUES_STYLES}\n         ${DEVTOOLS_PANEL_TAB_ISSUES_SIDEBAR_STYLES}\n         ${DEVTOOLS_PANEL_TAB_ISSUES_SIDEBAR_FRAME_SKELETON_STYLES}\n+        ${DEVTOOLS_PANEL_TAB_ISSUES_CONTENT_STYLES}\n+        ${ISSUE_FEEDBACK_BUTTON_STYLES}\n+        ${ERROR_CONTENT_SKELETON_STYLES}\n       `}\n     </style>\n   )"
        }
    ],
    "stats": {
        "total": 654,
        "additions": 599,
        "deletions": 55
    }
}