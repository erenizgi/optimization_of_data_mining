{
    "author": "devjiwonchoi",
    "message": "test: remove unnecessary conditionals in error recovery tests (#73625)\n\nThis PR removed unnecessary basePath conditional checks.",
    "sha": "f7c274328f193be99d182ced0f869334c8b0afdb",
    "files": [
        {
            "sha": "9da4e020ca0d3ae174fb4b2a8b909f8afd75789b",
            "filename": "test/development/basic/hmr/run-error-recovery-hmr-test.util.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 66,
            "changes": 69,
            "blob_url": "https://github.com/vercel/next.js/blob/f7c274328f193be99d182ced0f869334c8b0afdb/test%2Fdevelopment%2Fbasic%2Fhmr%2Frun-error-recovery-hmr-test.util.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/f7c274328f193be99d182ced0f869334c8b0afdb/test%2Fdevelopment%2Fbasic%2Fhmr%2Frun-error-recovery-hmr-test.util.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fhmr%2Frun-error-recovery-hmr-test.util.ts?ref=f7c274328f193be99d182ced0f869334c8b0afdb",
            "patch": "@@ -164,7 +164,7 @@ export function runErrorRecoveryHmrTest(nextConfig: {\n     await assertHasRedbox(browser)\n     const source = next.normalizeTestDirContent(await getRedboxSource(browser))\n \n-    if (basePath === '' && process.env.IS_TURBOPACK_TEST) {\n+    if (process.env.IS_TURBOPACK_TEST) {\n       expect(source).toMatchInlineSnapshot(`\n          \"./pages/hmr/about2.js (7:1)\n          Parsing ecmascript source code failed\n@@ -176,7 +176,7 @@ export function runErrorRecoveryHmrTest(nextConfig: {\n \n          Unexpected token. Did you mean \\`{'}'}\\` or \\`&rbrace;\\`?\"\n         `)\n-    } else if (basePath === '' && process.env.NEXT_RSPACK) {\n+    } else if (process.env.NEXT_RSPACK) {\n       expect(trimEndMultiline(source)).toMatchInlineSnapshot(`\n          \"./pages/hmr/about2.js\n            × Module build failed:\n@@ -203,70 +203,7 @@ export function runErrorRecoveryHmrTest(nextConfig: {\n          Import trace for requested module:\n          ./pages/hmr/about2.js\"\n         `)\n-    } else if (basePath === '') {\n-      expect(source).toMatchInlineSnapshot(`\n-          \"./pages/hmr/about2.js\n-          Error:   x Unexpected token. Did you mean \\`{'}'}\\` or \\`&rbrace;\\`?\n-             ,-[7:1]\n-           4 |       <p>This is the about page.</p>\n-           5 |     div\n-           6 |   )\n-           7 | }\n-             : ^\n-             \\`----\n-            x Unexpected eof\n-             ,-[7:3]\n-           5 |     div\n-           6 |   )\n-           7 | }\n-             \\`----\n-\n-          Caused by:\n-              Syntax Error\n-\n-          Import trace for requested module:\n-          ./pages/hmr/about2.js\"\n-        `)\n-    } else if (basePath === '/docs' && process.env.IS_TURBOPACK_TEST) {\n-      expect(source).toMatchInlineSnapshot(`\n-            \"./pages/hmr/about2.js (7:1)\n-            Parsing ecmascript source code failed\n-              5 |     div\n-              6 |   )\n-            > 7 | }\n-                | ^\n-              8 |\n-\n-            Unexpected token. Did you mean \\`{'}'}\\` or \\`&rbrace;\\`?\"\n-          `)\n-    } else if (basePath === '/docs' && process.env.NEXT_RSPACK) {\n-      expect(trimEndMultiline(source)).toMatchInlineSnapshot(`\n-         \"./pages/hmr/about2.js\n-           × Module build failed:\n-           ├─▶   ×\n-           │     │   x Unexpected token. Did you mean \\`{'}'}\\` or \\`&rbrace;\\`?\n-           │     │    ,-[TEST_DIR/pages/hmr/about2.js:7:1]\n-           │     │  4 |       <p>This is the about page.</p>\n-           │     │  5 |     div\n-           │     │  6 |   )\n-           │     │  7 | }\n-           │     │    : ^\n-           │     │    \\`----\n-           │     │\n-           │     │   x Unexpected eof\n-           │     │    ,-[TEST_DIR/pages/hmr/about2.js:7:3]\n-           │     │  5 |     div\n-           │     │  6 |   )\n-           │     │  7 | }\n-           │     │    \\`----\n-           │     │\n-           │\n-           ╰─▶ Syntax Error\n-\n-         Import trace for requested module:\n-         ./pages/hmr/about2.js\"\n-        `)\n-    } else if (basePath === '/docs') {\n+    } else {\n       expect(source).toMatchInlineSnapshot(`\n           \"./pages/hmr/about2.js\n           Error:   x Unexpected token. Did you mean \\`{'}'}\\` or \\`&rbrace;\\`?"
        }
    ],
    "stats": {
        "total": 69,
        "additions": 3,
        "deletions": 66
    }
}