{
    "author": "vercel-release-bot",
    "message": "Update Rspack production test manifest (#84165)\n\nThis auto-generated PR updates the production integration test manifest used when testing Rspack.",
    "sha": "7e149babdde3676d5abbda56f489f6cf9bc345eb",
    "files": [
        {
            "sha": "b854fee6b28b306ce1695cbc5a65fb613b93b13e",
            "filename": "test/rspack-build-tests-manifest.json",
            "status": "modified",
            "additions": 69,
            "deletions": 48,
            "changes": 117,
            "blob_url": "https://github.com/vercel/next.js/blob/7e149babdde3676d5abbda56f489f6cf9bc345eb/test%2Frspack-build-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/7e149babdde3676d5abbda56f489f6cf9bc345eb/test%2Frspack-build-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Frspack-build-tests-manifest.json?ref=7e149babdde3676d5abbda56f489f6cf9bc345eb",
            "patch": "@@ -708,10 +708,24 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n+  \"test/e2e/app-dir/app-middleware/app-middleware-in-src-dir.test.ts\": {\n+    \"passed\": [\n+      \"app dir - middleware with middleware in src dir works without crashing when using RequestStore\"\n+    ],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n+  \"test/e2e/app-dir/app-middleware/app-middleware-without-pages-dir.test.ts\": {\n+    \"passed\": [\"app dir - middleware without pages dir Updates headers\"],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n   \"test/e2e/app-dir/app-middleware/app-middleware.test.ts\": {\n     \"passed\": [\n-      \"app dir - middleware with middleware in src dir works without crashing when using RequestStore\",\n-      \"app dir - middleware without pages dir Updates headers\",\n       \"app-dir with middleware Mutate request headers for Edge Functions Adds new headers\",\n       \"app-dir with middleware Mutate request headers for Edge Functions Deletes headers\",\n       \"app-dir with middleware Mutate request headers for Edge Functions Supports draft mode\",\n@@ -1857,7 +1871,6 @@\n       \"Cache Components Errors Build With --prerender-debug With `use cache: private` in `unstable_cache` should error the build\",\n       \"Cache Components Errors Build With --prerender-debug With `use cache: private` in `use cache` should error the build\",\n       \"Cache Components Errors Build With --prerender-debug With `use cache: private` with `connection()` should not fail the build and show no runtime error (caught in userland)\",\n-      \"Cache Components Errors Build With --prerender-debug With `use cache: private` with `headers()` should not fail the build and show no runtime error (caught in userland)\",\n       \"Cache Components Errors Build With --prerender-debug With `use cache: private` without Suspense should error the build\",\n       \"Cache Components Errors Build Without --prerender-debug Dynamic Boundary should partially prerender when all dynamic components are inside a Suspense boundary\",\n       \"Cache Components Errors Build Without --prerender-debug Dynamic Metadata - Dynamic Route should partially prerender when all dynamic components are inside a Suspense boundary\",\n@@ -1905,7 +1918,6 @@\n       \"Cache Components Errors Build Without --prerender-debug With `use cache: private` in `unstable_cache` should error the build\",\n       \"Cache Components Errors Build Without --prerender-debug With `use cache: private` in `use cache` should error the build\",\n       \"Cache Components Errors Build Without --prerender-debug With `use cache: private` with `connection()` should not fail the build and show no runtime error (caught in userland)\",\n-      \"Cache Components Errors Build Without --prerender-debug With `use cache: private` with `headers()` should not fail the build and show no runtime error (caught in userland)\",\n       \"Cache Components Errors Build Without --prerender-debug With `use cache: private` without Suspense should error the build\"\n     ],\n     \"failed\": [],\n@@ -5938,20 +5950,10 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/e2e/app-dir/router-disable-smooth-scroll/router-disable-smooth-scroll.legacy.test.ts\": {\n-    \"passed\": [\n-      \"router smooth scroll optimization (legacy with data attribute) should not warn when data attribute is present even in legacy mode\",\n-      \"router smooth scroll optimization (legacy) should work with smooth scroll CSS and warn in development\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/e2e/app-dir/router-disable-smooth-scroll/router-disable-smooth-scroll.optimized.test.ts\": {\n     \"passed\": [\n-      \"router smooth scroll optimization (optimized early exit) should exit early when CSS smooth scroll detected but no data attribute\",\n-      \"router smooth scroll optimization (optimized) should work with smooth scroll CSS and data attribute without warning\"\n+      \"router smooth scroll optimization (optimized early exit) should warn in dev when CSS smooth scroll detected but no data attribute\",\n+      \"router smooth scroll optimization should work with smooth scroll CSS and data attribute without warning\"\n     ],\n     \"failed\": [],\n     \"pending\": [],\n@@ -6696,21 +6698,25 @@\n       \"runtime prefetching errors aborts the prerender without logging an error when sync IO is used after awaiting a private cache\",\n       \"runtime prefetching errors aborts the prerender without logging an error when sync IO is used after awaiting a quickly-expiring public cache\",\n       \"runtime prefetching errors aborts the prerender without logging an error when sync IO is used after awaiting cookies()\",\n+      \"runtime prefetching errors aborts the prerender without logging an error when sync IO is used after awaiting headers()\",\n       \"runtime prefetching errors aborts the prerender without logging an error when sync IO is used after awaiting searchParams\",\n       \"runtime prefetching errors should trigger error boundaries for errors that occurred in runtime-prefetched content\",\n       \"runtime prefetching in a page can completely prefetch a page that uses cookies and no uncached IO\",\n       \"runtime prefetching in a page includes cookies, but not dynamic content\",\n       \"runtime prefetching in a page includes dynamic params, but not dynamic content\",\n+      \"runtime prefetching in a page includes headers, but not dynamic content\",\n       \"runtime prefetching in a page includes root params, but not dynamic content\",\n       \"runtime prefetching in a page includes search params, but not dynamic content\",\n       \"runtime prefetching in a private cache can completely prefetch a page that uses cookies and no uncached IO\",\n       \"runtime prefetching in a private cache includes cookies, but not dynamic content\",\n       \"runtime prefetching in a private cache includes dynamic params, but not dynamic content\",\n+      \"runtime prefetching in a private cache includes headers, but not dynamic content\",\n       \"runtime prefetching in a private cache includes root params, but not dynamic content\",\n       \"runtime prefetching in a private cache includes search params, but not dynamic content\",\n       \"runtime prefetching passed to a public cache can completely prefetch a page that uses cookies and no uncached IO\",\n       \"runtime prefetching passed to a public cache includes cookies, but not dynamic content\",\n       \"runtime prefetching passed to a public cache includes dynamic params, but not dynamic content\",\n+      \"runtime prefetching passed to a public cache includes headers, but not dynamic content\",\n       \"runtime prefetching passed to a public cache includes root params, but not dynamic content\",\n       \"runtime prefetching passed to a public cache includes search params, but not dynamic content\",\n       \"runtime prefetching should not cache runtime prefetch responses in the browser cache or server-side different cookies should return different prefetch results - in a page\",\n@@ -7089,6 +7095,7 @@\n   \"test/e2e/app-dir/typed-routes/typed-routes.test.ts\": {\n     \"passed\": [\n       \"typed-routes should correctly convert custom route patterns from path-to-regexp to bracket syntax\",\n+      \"typed-routes should exit typegen successfully\",\n       \"typed-routes should generate RouteContext type for route handlers\",\n       \"typed-routes should generate route types correctly\",\n       \"typed-routes should throw type errors\"\n@@ -7437,8 +7444,8 @@\n   },\n   \"test/e2e/app-dir/with-babel/with-babel.test.ts\": {\n     \"passed\": [\n-      \"with babel with babel should contain og package files in middleware\",\n-      \"with babel with babel should support babel in app dir\"\n+      \"with babel should contain og package files in middleware\",\n+      \"with babel should support babel in app dir\"\n     ],\n     \"failed\": [],\n     \"pending\": [],\n@@ -7536,6 +7543,13 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n+  \"test/e2e/babel/index.test.js\": {\n+    \"passed\": [\"Babel Should compile a page with flowtype correctly\"],\n+    \"failed\": [],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n   \"test/e2e/basepath/basepath.test.ts\": {\n     \"passed\": [\n       \"basePath should 404 for public file without basePath\",\n@@ -9668,11 +9682,18 @@\n   },\n   \"test/e2e/persistent-caching/persistent-caching.test.ts\": {\n     \"passed\": [\n-      \"persistent-caching should allow to change files while stopped (run 1)\",\n-      \"persistent-caching should allow to change files while stopped (run 2)\",\n-      \"persistent-caching should allow to change files while stopped (run 3)\"\n+      \"persistent-caching should allow to change files while stopped (loader change)\",\n+      \"persistent-caching should allow to change files while stopped (next config change)\"\n+    ],\n+    \"failed\": [\n+      \"persistent-caching should allow to change files while stopped (Pages change)\",\n+      \"persistent-caching should allow to change files while stopped (RCC change)\",\n+      \"persistent-caching should allow to change files while stopped (RSC change)\",\n+      \"persistent-caching should allow to change files while stopped (RSC change, RCC change, Pages change, rename app page, loader change, next config change, env var change)\",\n+      \"persistent-caching should allow to change files while stopped (env var change)\",\n+      \"persistent-caching should allow to change files while stopped (rename app page)\",\n+      \"persistent-caching should persistent cache loaders\"\n     ],\n-    \"failed\": [\"persistent-caching should persistent cache loaders\"],\n     \"pending\": [],\n     \"flakey\": [],\n     \"runtimeError\": false\n@@ -10207,6 +10228,17 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n+  \"test/e2e/transpile-packages-typescript-foreign/index.test.ts\": {\n+    \"passed\": [\n+      \"transpile-packages-typescript-foreign with transpilePackages should work\"\n+    ],\n+    \"failed\": [\n+      \"transpile-packages-typescript-foreign without transpilePackages should fail\"\n+    ],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n   \"test/e2e/transpile-packages/index.test.ts\": {\n     \"passed\": [\n       \"transpile packages css should handle css modules imports inside transpiled modules\",\n@@ -10255,16 +10287,6 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/e2e/turbopack-turbo-config-compatibility/index.test.ts\": {\n-    \"passed\": [],\n-    \"failed\": [],\n-    \"pending\": [\n-      \"turbopack-turbo-config-compatibility including both turbopack and deprecated experimental turbo config prefers turbopack config over deprecated experimental turbo config\",\n-      \"turbopack-turbo-config-compatibility only including deprecated experimental turbo config still uses the deprecated experimental turbo config\"\n-    ],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/e2e/type-module-interop/index.test.ts\": {\n     \"passed\": [\n       \"Type module interop should render client-side\",\n@@ -11084,15 +11106,6 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n-  \"test/integration/babel/test/index.test.js\": {\n-    \"passed\": [\n-      \"Babel Rendering via HTTP Should compile a page with flowtype correctly\"\n-    ],\n-    \"failed\": [],\n-    \"pending\": [],\n-    \"flakey\": [],\n-    \"runtimeError\": false\n-  },\n   \"test/integration/basepath-root-catch-all/test/index.test.js\": {\n     \"passed\": [\n       \"development mode should use correct data URL for root catch-all\",\n@@ -11376,10 +11389,8 @@\n   \"test/integration/config-mjs/test/index.test.ts\": {\n     \"passed\": [\n       \"Configuration correctly imports a package that defines `module` but no `main` in package.json\",\n-      \"Configuration renders public config on the server only\",\n-      \"Configuration renders server config on the server only\",\n       \"Configuration should disable X-Powered-By header support\",\n-      \"Configuration should have config available on the client\"\n+      \"Configuration should have env variables available on the client\"\n     ],\n     \"failed\": [],\n     \"pending\": [],\n@@ -11454,10 +11465,8 @@\n   \"test/integration/config/test/index.test.js\": {\n     \"passed\": [\n       \"Configuration correctly imports a package that defines `module` but no `main` in package.json\",\n-      \"Configuration renders public config on the server only\",\n-      \"Configuration renders server config on the server only\",\n       \"Configuration should disable X-Powered-By header support\",\n-      \"Configuration should have config available on the client\"\n+      \"Configuration should have env variables available on the client\"\n     ],\n     \"failed\": [],\n     \"pending\": [],\n@@ -20479,6 +20488,19 @@\n     \"flakey\": [],\n     \"runtimeError\": false\n   },\n+  \"test/production/bundle-size/bundle-size.test.ts\": {\n+    \"passed\": [\n+      \"bundle-size should not load too much: App Router: adding a client component\",\n+      \"bundle-size should not load too much: App Router: between RSC-only identical pages\",\n+      \"bundle-size should not load too much: Pages Router: between identical pages\"\n+    ],\n+    \"failed\": [\n+      \"bundle-size should not load too much: App Router: between identical pages with a client component\"\n+    ],\n+    \"pending\": [],\n+    \"flakey\": [],\n+    \"runtimeError\": false\n+  },\n   \"test/production/ci-missing-typescript-deps/index.test.ts\": {\n     \"passed\": [\n       \"ci-missing-typescript-deps should not throw an error if beta version of @types/react and @types/react-dom is installed\",\n@@ -20983,7 +21005,6 @@\n       \"Production Usage Misc should add prefetch tags when Link prefetch prop is used\",\n       \"Production Usage Misc should allow to access /static/ and /_next/\",\n       \"Production Usage Misc should handle already finished responses\",\n-      \"Production Usage Misc should have default runtime values when not defined\",\n       \"Production Usage Misc should not add autoExport for non pre-rendered pages\",\n       \"Production Usage Misc should not have runtimeConfig in __NEXT_DATA__\",\n       \"Production Usage Misc should reload the page on page script error\","
        }
    ],
    "stats": {
        "total": 117,
        "additions": 69,
        "deletions": 48
    }
}