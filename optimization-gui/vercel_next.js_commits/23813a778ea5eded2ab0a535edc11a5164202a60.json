{
    "author": "huozhi",
    "message": "[mcp] logging file should be reset for each session (#84425)",
    "sha": "23813a778ea5eded2ab0a535edc11a5164202a60",
    "files": [
        {
            "sha": "41deb02f1e0a391fc5c2143269542988e3b6b73a",
            "filename": "packages/next/src/server/dev/browser-logs/file-logger.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/23813a778ea5eded2ab0a535edc11a5164202a60/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fbrowser-logs%2Ffile-logger.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/23813a778ea5eded2ab0a535edc11a5164202a60/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fbrowser-logs%2Ffile-logger.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fbrowser-logs%2Ffile-logger.ts?ref=23813a778ea5eded2ab0a535edc11a5164202a60",
            "patch": "@@ -8,6 +8,7 @@ export interface LogEntry {\n   message: string\n }\n \n+// Logging server and browser logs to a file\n export class FileLogger {\n   private logFilePath: string = ''\n   private isInitialized: boolean = false\n@@ -29,12 +30,10 @@ export class FileLogger {\n     }\n \n     try {\n-      // Create the log file if it doesn't exist\n-      if (!fs.existsSync(this.logFilePath)) {\n-        // ensure the directory exists\n-        fs.mkdirSync(path.dirname(this.logFilePath), { recursive: true })\n-        fs.writeFileSync(this.logFilePath, '')\n-      }\n+      // Clean up the log file on each initialization\n+      // ensure the directory exists\n+      fs.mkdirSync(path.dirname(this.logFilePath), { recursive: true })\n+      fs.writeFileSync(this.logFilePath, '')\n       this.isInitialized = true\n     } catch (error) {\n       console.error(error)"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 5,
        "deletions": 6
    }
}