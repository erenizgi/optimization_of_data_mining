{
    "author": "eps1lon",
    "message": "Fix request type in typed route validator (#82644)",
    "sha": "eaa1bbcf24824bdc5191d85e1e0e5b045994101d",
    "files": [
        {
            "sha": "67f0c72d1e4064cb62b7773f33cc77b1707d2eb8",
            "filename": "packages/next/src/server/lib/router-utils/typegen.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/eaa1bbcf24824bdc5191d85e1e0e5b045994101d/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ftypegen.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/eaa1bbcf24824bdc5191d85e1e0e5b045994101d/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ftypegen.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ftypegen.ts?ref=eaa1bbcf24824bdc5191d85e1e0e5b045994101d",
            "patch": "@@ -431,6 +431,7 @@ export function generateValidatorFile(\n \n import type { AppRoutes, AppRouteHandlerRoutes, LayoutRoutes, ParamMap } from \"./routes.js\"\n import type { ResolvingMetadata, ResolvingViewport } from \"next/dist/lib/metadata/types/metadata-interface.js\"\n+import type { NextRequest } from 'next/server.js'\n \n type AppPageConfig<Route extends AppRoutes = AppRoutes> = {\n   default: React.ComponentType<{ params: Promise<ParamMap[Route]> } & any> | ((props: { params: Promise<ParamMap[Route]> } & any) => React.ReactNode | Promise<React.ReactNode> | never | void | Promise<void>)\n@@ -481,13 +482,13 @@ type LayoutConfig<Route extends LayoutRoutes = LayoutRoutes> = {\n }\n \n type RouteHandlerConfig<Route extends AppRouteHandlerRoutes = AppRouteHandlerRoutes> = {\n-  GET?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n-  POST?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n-  PUT?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n-  PATCH?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n-  DELETE?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n-  HEAD?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n-  OPTIONS?: (request: Request, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  GET?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  POST?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  PUT?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  PATCH?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  DELETE?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  HEAD?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n+  OPTIONS?: (request: NextRequest, context: { params: Promise<ParamMap[Route]> }) => Promise<Response> | Response | Promise<void> | void\n }\n \n type ApiRouteConfig = {"
        },
        {
            "sha": "d264e4ad6e6b92f1febaeba881f7d33f8a68ed94",
            "filename": "test/e2e/app-dir/typed-routes-validator/app/send-email/route.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/eaa1bbcf24824bdc5191d85e1e0e5b045994101d/test%2Fe2e%2Fapp-dir%2Ftyped-routes-validator%2Fapp%2Fsend-email%2Froute.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/eaa1bbcf24824bdc5191d85e1e0e5b045994101d/test%2Fe2e%2Fapp-dir%2Ftyped-routes-validator%2Fapp%2Fsend-email%2Froute.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Ftyped-routes-validator%2Fapp%2Fsend-email%2Froute.ts?ref=eaa1bbcf24824bdc5191d85e1e0e5b045994101d",
            "patch": "@@ -1,3 +1,5 @@\n-export async function GET() {\n+import type { NextRequest } from 'next/server'\n+\n+export async function GET(request: NextRequest) {\n   return Response.json({ message: 'Hello World' })\n }"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 11,
        "deletions": 8
    }
}