{
    "author": "unstubbable",
    "message": "Disable `dynamicIO` in global default cache handler test (#79300)\n\nTo prepare for an upcoming change where `ppr` will be enabled automatically when `dynamicIO` is enabled, we're disabling `dynamicIO` in the global default cache handler test, and using the `useCache` config instead, because `output: 'standalone'` is currently not compatible with PPR.",
    "sha": "5442d09221be81fa5c76e08aed969f774baf8615",
    "files": [
        {
            "sha": "69e18fb51067ec0f6167c64af093c5c56038fcb2",
            "filename": "test/ppr-tests-manifest.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fppr-tests-manifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fppr-tests-manifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fppr-tests-manifest.json?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "patch": "@@ -103,7 +103,8 @@\n       \"test/e2e/app-dir/segment-cache/prefetch-scheduling/prefetch-scheduling.test.ts\",\n       \"test/e2e/app-dir/segment-cache/revalidation/segment-cache-revalidation.test.ts\",\n       \"test/e2e/app-dir/segment-cache/staleness/segment-cache-stale-time.test.ts\",\n-      \"test/production/app-dir/build-output-tree-view/build-output-tree-view.test.ts\"\n+      \"test/production/app-dir/build-output-tree-view/build-output-tree-view.test.ts\",\n+      \"test/production/app-dir/global-default-cache-handler/global-default-cache-handler.test.ts\"\n     ]\n   }\n }"
        },
        {
            "sha": "4f762047e50c28d4376f0f6252492f6bdc232535",
            "filename": "test/production/app-dir/global-default-cache-handler/app/actions.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Factions.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Factions.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Factions.ts?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "previous_filename": "test/production/app-dir/dynamic-io-cache-handlers/app/actions.ts"
        },
        {
            "sha": "888614deda3ba5d744d1a7e5dac131038dba2b12",
            "filename": "test/production/app-dir/global-default-cache-handler/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Flayout.tsx?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "previous_filename": "test/production/app-dir/dynamic-io-cache-handlers/app/layout.tsx"
        },
        {
            "sha": "b3c2de1e0438f56c81401bbb470d9f7c93197957",
            "filename": "test/production/app-dir/global-default-cache-handler/app/page.tsx",
            "status": "renamed",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Fpage.tsx?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "patch": "@@ -1,5 +1,6 @@\n import React, { Suspense } from 'react'\n import { revalidate } from './actions'\n+import { connection } from 'next/server'\n \n async function Random({ cached }: { cached?: boolean }) {\n   const data = await fetch(\n@@ -22,7 +23,9 @@ async function CachedRandom() {\n   return <Random cached />\n }\n \n-export default function Page() {\n+export default async function Page() {\n+  await connection()\n+\n   return (\n     <>\n       <p>index page</p>",
            "previous_filename": "test/production/app-dir/dynamic-io-cache-handlers/app/page.tsx"
        },
        {
            "sha": "399578325a3d0feeea28081083494f435c1d3c71",
            "filename": "test/production/app-dir/global-default-cache-handler/app/revalidate-tag/route.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Frevalidate-tag%2Froute.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Frevalidate-tag%2Froute.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fapp%2Frevalidate-tag%2Froute.ts?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "previous_filename": "test/production/app-dir/dynamic-io-cache-handlers/app/revalidate-tag/route.ts"
        },
        {
            "sha": "bf7f79e2414b3eeb1840d5d8ccdeb4640377e8d4",
            "filename": "test/production/app-dir/global-default-cache-handler/global-default-cache-handler.test.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fglobal-default-cache-handler.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fglobal-default-cache-handler.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fglobal-default-cache-handler.test.ts?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "patch": "@@ -8,16 +8,12 @@ import {\n   retry,\n } from 'next-test-utils'\n \n-describe('dynamic-io-cache-handlers', () => {\n+describe('global-default-cache-handler', () => {\n   let appPort: number\n   let server: any\n   let output = ''\n   let next: NextInstance\n \n-  if (process.env.__NEXT_EXPERIMENTAL_PPR) {\n-    return it('should skip', () => {})\n-  }\n-\n   beforeAll(async () => {\n     next = await createNext({\n       files: new FileRef(__dirname),",
            "previous_filename": "test/production/app-dir/dynamic-io-cache-handlers/dynamic-io-cache-handlers.test.ts"
        },
        {
            "sha": "5bf8b9f6b99f5ebd951dc1a7ee20b901969d5f1e",
            "filename": "test/production/app-dir/global-default-cache-handler/next.config.js",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/5442d09221be81fa5c76e08aed969f774baf8615/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fglobal-default-cache-handler%2Fnext.config.js?ref=5442d09221be81fa5c76e08aed969f774baf8615",
            "patch": "@@ -4,7 +4,7 @@\n const nextConfig = {\n   output: 'standalone',\n   experimental: {\n-    dynamicIO: true,\n+    useCache: true,\n   },\n }\n ",
            "previous_filename": "test/production/app-dir/dynamic-io-cache-handlers/next.config.js"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}