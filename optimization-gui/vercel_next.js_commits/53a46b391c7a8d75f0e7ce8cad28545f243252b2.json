{
    "author": "huozhi",
    "message": "Upgrade vercel og to 0.7.2 (#81447)",
    "sha": "53a46b391c7a8d75f0e7ce8cad28545f243252b2",
    "files": [
        {
            "sha": "7a340a69d5960ef9b44fcf1ee603c053be2ba1cc",
            "filename": "package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -146,7 +146,7 @@\n     \"@typescript-eslint/parser\": \"8.0.0\",\n     \"@vercel/devlow-bench\": \"workspace:*\",\n     \"@vercel/fetch\": \"6.1.1\",\n-    \"@vercel/og\": \"0.6.8\",\n+    \"@vercel/og\": \"0.7.2\",\n     \"abort-controller\": \"3.0.0\",\n     \"alex\": \"9.1.0\",\n     \"async-sema\": \"3.0.1\",\n@@ -251,7 +251,7 @@\n     \"request-promise-core\": \"1.1.2\",\n     \"resolve-from\": \"5.0.0\",\n     \"sass\": \"1.54.0\",\n-    \"satori\": \"0.12.2\",\n+    \"satori\": \"0.15.2\",\n     \"scheduler-builtin\": \"npm:scheduler@0.27.0-canary-a7a11657-20250708\",\n     \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-a7a11657-20250708\",\n     \"seedrandom\": \"3.0.5\","
        },
        {
            "sha": "773bfe0666f67aac5c659cf0d1d65beda536d6f8",
            "filename": "packages/next/src/compiled/@vercel/og/emoji/index.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Femoji%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Femoji%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Femoji%2Findex.d.ts?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -10,6 +10,6 @@ declare const apis: {\n     fluent: (code: any) => string;\n     fluentFlat: (code: any) => string;\n };\n-export declare type EmojiType = keyof typeof apis;\n+export type EmojiType = keyof typeof apis;\n export declare function loadEmoji(code: string, type?: EmojiType): Promise<Response>;\n export {};"
        },
        {
            "sha": "e252276ad89244d347742f5bd9c4f9b77c3a4903",
            "filename": "packages/next/src/compiled/@vercel/og/figma/index.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ffigma%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ffigma%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ffigma%2Findex.d.ts?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -1,6 +1,6 @@\n import type { EdgeImageResponse } from '../index.edge';\n import { FigmaImageResponseProps } from '../types';\n-declare type InternalFigmaImageResponseProps = FigmaImageResponseProps & {\n+type InternalFigmaImageResponseProps = FigmaImageResponseProps & {\n     Response: EdgeImageResponse;\n };\n export declare const FigmaImageResponse: ({ url, template, fonts, imageResponseOptions, Response, }: InternalFigmaImageResponseProps) => Promise<import(\"../index.edge\").ImageResponse>;"
        },
        {
            "sha": "b79079fca08dedf93e6a39694605419682540627",
            "filename": "packages/next/src/compiled/@vercel/og/index.edge.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.d.ts?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -4,4 +4,4 @@ export declare class ImageResponse extends Response {\n     constructor(element: ReactElement, options?: ImageResponseOptions);\n }\n export declare const experimental_FigmaImageResponse: (props: FigmaImageResponseProps) => Promise<ImageResponse>;\n-export declare type EdgeImageResponse = typeof ImageResponse;\n+export type EdgeImageResponse = typeof ImageResponse;"
        },
        {
            "sha": "6b58b22e37f355d5fd5508f706c3140fca3e7665",
            "filename": "packages/next/src/compiled/@vercel/og/index.edge.js",
            "status": "modified",
            "additions": 4013,
            "deletions": 2847,
            "changes": 6860,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.edge.js?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2"
        },
        {
            "sha": "f9eec091641047a46392f730f3bf2a3533db2201",
            "filename": "packages/next/src/compiled/@vercel/og/index.node.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.d.ts?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -24,4 +24,4 @@ export declare class ImageResponse extends Response {\n  */\n export declare function unstable_createNodejsStream(element: ReactElement, options?: Omit<ImageResponseNodeOptions, 'status' | 'statusText' | 'headers'>): Promise<Readable>;\n export declare const experimental_FigmaImageResponse: (props: FigmaImageResponseProps) => Promise<import(\"./index.edge\").ImageResponse>;\n-export declare type NodeImageResponse = typeof ImageResponse;\n+export type NodeImageResponse = typeof ImageResponse;"
        },
        {
            "sha": "079b0b93ece432ffd579d09c6e5ca0eb79e08693",
            "filename": "packages/next/src/compiled/@vercel/og/index.node.js",
            "status": "modified",
            "additions": 4018,
            "deletions": 2848,
            "changes": 6866,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Findex.node.js?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2"
        },
        {
            "sha": "efe9568ba0d47dcb9e7b8a39e70b91730131d218",
            "filename": "packages/next/src/compiled/@vercel/og/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fpackage.json?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vercel/og\",\n-  \"version\": \"0.6.8\",\n+  \"version\": \"0.7.2\",\n   \"license\": \"MPL-2.0\",\n   \"type\": \"module\",\n   \"main\": \"./index.node.js\","
        },
        {
            "sha": "2d0b2d18bc9d20f613808fa57c3dbf182ca7b999",
            "filename": "packages/next/src/compiled/@vercel/og/satori/index.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fsatori%2Findex.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fsatori%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Fsatori%2Findex.d.ts?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -166,6 +166,7 @@ type SatoriOptions = ({\n     loadAdditionalAsset?: (languageCode: string, segment: string) => Promise<string | Array<FontOptions>>;\n     tailwindConfig?: TwConfig;\n     onNodeDetected?: (node: SatoriNode) => void;\n+    pointScaleFactor?: number;\n };\n \n declare function satori(element: ReactNode, options: SatoriOptions): Promise<string>;"
        },
        {
            "sha": "9555113849f11edd51cc6f0815e150ea156544f4",
            "filename": "packages/next/src/compiled/@vercel/og/types.d.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2F%40vercel%2Fog%2Ftypes.d.ts?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -1,10 +1,11 @@\n /// <reference types=\"node\" />\n /// <reference types=\"react\" />\n /// <reference types=\"node\" />\n+/// <reference types=\"node\" />\n import type { SatoriOptions } from \"next/dist/compiled/@vercel/og/satori\";\n import type { EmojiType } from './emoji';\n import type { OutgoingHttpHeader } from 'http';\n-declare type ImageOptions = {\n+type ImageOptions = {\n     /**\n      * The width of the image.\n      *\n@@ -41,12 +42,12 @@ declare type ImageOptions = {\n      */\n     emoji?: EmojiType;\n };\n-export declare type ImageResponseNodeOptions = ImageOptions & {\n+export type ImageResponseNodeOptions = ImageOptions & {\n     status?: number;\n     statusText?: string;\n     headers?: OutgoingHttpHeader[];\n };\n-export declare type ImageResponseOptions = ImageOptions & ConstructorParameters<typeof Response>[1];\n+export type ImageResponseOptions = ImageOptions & ConstructorParameters<typeof Response>[1];\n export interface FigmaImageResponseProps {\n     /**\n      * Link to the Figma template frame.\n@@ -89,8 +90,8 @@ export interface FigmaComplexTemplate {\n         centerHorizontally?: boolean;\n     } & React.CSSProperties;\n }\n-declare type Weight = 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\n-declare type Style = 'normal' | 'italic';\n+type Weight = 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\n+type Style = 'normal' | 'italic';\n interface FontOptions {\n     data: Buffer | ArrayBuffer;\n     name: string;"
        },
        {
            "sha": "d6152d091caff67a265b6ba9ec554bdbbc248b2c",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 18,
            "deletions": 12,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/53a46b391c7a8d75f0e7ce8cad28545f243252b2/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/53a46b391c7a8d75f0e7ce8cad28545f243252b2/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=53a46b391c7a8d75f0e7ce8cad28545f243252b2",
            "patch": "@@ -224,8 +224,8 @@ importers:\n         specifier: 6.1.1\n         version: 6.1.1(@types/node-fetch@2.6.1)(node-fetch@2.6.7(encoding@0.1.13))\n       '@vercel/og':\n-        specifier: 0.6.8\n-        version: 0.6.8\n+        specifier: 0.7.2\n+        version: 0.7.2\n       abort-controller:\n         specifier: 3.0.0\n         version: 3.0.0\n@@ -539,8 +539,8 @@ importers:\n         specifier: 1.54.0\n         version: 1.54.0\n       satori:\n-        specifier: 0.12.2\n-        version: 0.12.2\n+        specifier: 0.15.2\n+        version: 0.15.2\n       scheduler-builtin:\n         specifier: npm:scheduler@0.27.0-canary-a7a11657-20250708\n         version: scheduler@0.27.0-canary-a7a11657-20250708\n@@ -6035,8 +6035,8 @@ packages:\n     engines: {node: '>=16'}\n     hasBin: true\n \n-  '@vercel/og@0.6.8':\n-    resolution: {integrity: sha512-e4kQK9mP8ntpo3dACWirGod/hHv4qO5JMj9a/0a2AZto7b4persj5YP7t1Er372gTtYFTYxNhMx34jRvHooglw==}\n+  '@vercel/og@0.7.2':\n+    resolution: {integrity: sha512-yOlbztkWaDtPOrCBsV66SpIZvIwRidAe3DiAYxDOjVj2H7HaJm1PDultH9PQO8J+PeT+mFQaNNSxS9yUTo7i9A==}\n     engines: {node: '>=16'}\n \n   '@vitest/expect@2.0.5':\n@@ -8531,6 +8531,10 @@ packages:\n     resolution: {integrity: sha512-DeWwawk6r5yR9jFgnDKYt4sLS0LmHJJi3ZOnb5/JdbYwj3nW+FxQnHIjhBKz8YLC7oRNPVM9NQ47I3CVx34eqQ==}\n     engines: {node: '>=12'}\n \n+  emoji-regex-xs@2.0.1:\n+    resolution: {integrity: sha512-1QFuh8l7LqUcKe24LsPUNzjrzJQ7pgRwp1QMcZ5MX6mFplk2zQ08NVCM84++1cveaUUYtcCYHmeFEuNg16sU4g==}\n+    engines: {node: '>=10.0.0'}\n+\n   emoji-regex@10.3.0:\n     resolution: {integrity: sha512-QpLs9D9v9kArv4lfDEgg1X/gN5XLnf/A6l9cs8SPZLRZR3ZkY9+kwIQTxm+fsSej5UMYGE8fdoaZVIBlqG0XTw==}\n \n@@ -14705,8 +14709,8 @@ packages:\n     engines: {node: '>=14.0.0'}\n     hasBin: true\n \n-  satori@0.12.2:\n-    resolution: {integrity: sha512-3C/laIeE6UUe9A+iQ0A48ywPVCCMKCNSTU5Os101Vhgsjd3AAxGNjyq0uAA8kulMPK5n0csn8JlxPN9riXEjLA==}\n+  satori@0.15.2:\n+    resolution: {integrity: sha512-vu/49vdc8MzV5jUchs3TIRDCOkOvMc1iJ11MrZvhg9tE4ziKIEIBjBZvies6a9sfM2vQ2gc3dXeu6rCK7AztHA==}\n     engines: {node: '>=16'}\n \n   sax@1.2.4:\n@@ -22071,10 +22075,10 @@ snapshots:\n       - encoding\n       - supports-color\n \n-  '@vercel/og@0.6.8':\n+  '@vercel/og@0.7.2':\n     dependencies:\n       '@resvg/resvg-wasm': 2.4.0\n-      satori: 0.12.2\n+      satori: 0.15.2\n       yoga-wasm-web: 0.3.3\n \n   '@vitest/expect@2.0.5':\n@@ -24950,6 +24954,8 @@ snapshots:\n \n   emittery@0.13.1: {}\n \n+  emoji-regex-xs@2.0.1: {}\n+\n   emoji-regex@10.3.0: {}\n \n   emoji-regex@7.0.3: {}\n@@ -33108,14 +33114,14 @@ snapshots:\n       immutable: 4.3.7\n       source-map-js: 1.2.1\n \n-  satori@0.12.2:\n+  satori@0.15.2:\n     dependencies:\n       '@shuding/opentype.js': 1.4.0-beta.0\n       css-background-parser: 0.1.0\n       css-box-shadow: 1.0.0-3\n       css-gradient-parser: 0.0.16\n       css-to-react-native: 3.2.0\n-      emoji-regex: 10.3.0\n+      emoji-regex-xs: 2.0.1\n       escape-html: 1.0.3\n       linebreak: 1.1.0\n       parse-css-color: 0.2.1"
        }
    ],
    "stats": {
        "total": 13782,
        "additions": 8063,
        "deletions": 5719
    }
}