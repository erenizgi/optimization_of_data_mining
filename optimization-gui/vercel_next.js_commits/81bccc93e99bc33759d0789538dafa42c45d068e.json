{
    "author": "unstubbable",
    "message": "Guide users to `experimental.cacheComponents` config (#84121)\n\nIn error messages and in docs for `'use cache'` and related APIs, we now\nguide users to the `experimental.cacheComponents` config instead of\n`experimental.useCache`.\n\ncloses NAR-410",
    "sha": "81bccc93e99bc33759d0789538dafa42c45d068e",
    "files": [
        {
            "sha": "4af9231b54f88d1485c72320103a0f83bdffa605",
            "filename": "crates/next-custom-transforms/src/transforms/server_actions.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Fserver_actions.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Fserver_actions.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Fsrc%2Ftransforms%2Fserver_actions.rs?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -3191,15 +3191,15 @@ fn emit_error(error_kind: ServerActionsErrorKind) {\n             span,\n             formatdoc! {\n                 r#\"\n-                    Unknown cache kind \"{cache_kind}\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+                    Unknown cache kind \"{cache_kind}\". Please configure a cache handler for this kind in the `experimental.cacheHandlers` object in your Next.js config.\n                 \"#\n             },\n         ),\n         ServerActionsErrorKind::UseCacheWithoutExperimentalFlag { span, directive } => (\n             span,\n             formatdoc! {\n                 r#\"\n-                    To use \"{directive}\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+                    To use \"{directive}\", please enable the feature flag `experimental.cacheComponents` in your Next.js config.\n \n                     Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n                 \"#"
        },
        {
            "sha": "b186314fd53e232bd305b5ffb025bcdaf669398a",
            "filename": "crates/next-custom-transforms/tests/errors/server-actions/server-graph/16/output.stderr",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fserver-actions%2Fserver-graph%2F16%2Foutput.stderr",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fserver-actions%2Fserver-graph%2F16%2Foutput.stderr",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fserver-actions%2Fserver-graph%2F16%2Foutput.stderr?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -1,4 +1,4 @@\n-  x Unknown cache kind \"x\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+  x Unknown cache kind \"x\". Please configure a cache handler for this kind in the `experimental.cacheHandlers` object in your Next.js config.\n   | \n    ,-[input.js:1:1]\n  1 | 'use cache: x'"
        },
        {
            "sha": "7c7cbd53fb60cf5858f297d58141c2a92332f3f0",
            "filename": "crates/next-custom-transforms/tests/errors/server-actions/server-graph/17/output.stderr",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fserver-actions%2Fserver-graph%2F17%2Foutput.stderr",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fserver-actions%2Fserver-graph%2F17%2Foutput.stderr",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fserver-actions%2Fserver-graph%2F17%2Foutput.stderr?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -1,4 +1,4 @@\n-  x Unknown cache kind \"x\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+  x Unknown cache kind \"x\". Please configure a cache handler for this kind in the `experimental.cacheHandlers` object in your Next.js config.\n   | \n    ,-[input.js:2:1]\n  1 | export async function foo() {"
        },
        {
            "sha": "16735abf31ad43ab7e91b7d5d1e5a39fbb40fef6",
            "filename": "crates/next-custom-transforms/tests/errors/use-cache-not-allowed/1/output.stderr",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fuse-cache-not-allowed%2F1%2Foutput.stderr",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fuse-cache-not-allowed%2F1%2Foutput.stderr",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fuse-cache-not-allowed%2F1%2Foutput.stderr?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -1,4 +1,4 @@\n-  x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+  x To use \"use cache\", please enable the feature flag `experimental.cacheComponents` in your Next.js config.\n   | \n   | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n   | "
        },
        {
            "sha": "99d20a2dc4b49438b390dde0a0fcce98a198235f",
            "filename": "crates/next-custom-transforms/tests/errors/use-cache-not-allowed/2/output.stderr",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fuse-cache-not-allowed%2F2%2Foutput.stderr",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fuse-cache-not-allowed%2F2%2Foutput.stderr",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Ftests%2Ferrors%2Fuse-cache-not-allowed%2F2%2Foutput.stderr?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -1,4 +1,4 @@\n-  x To use \"use cache: x\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+  x To use \"use cache: x\", please enable the feature flag `experimental.cacheComponents` in your Next.js config.\n   | \n   | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n   | "
        },
        {
            "sha": "30b495bea2c29527b9348201fbdac5ee37868b17",
            "filename": "docs/01-app/03-api-reference/01-directives/use-cache.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/docs%2F01-app%2F03-api-reference%2F01-directives%2Fuse-cache.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/docs%2F01-app%2F03-api-reference%2F01-directives%2Fuse-cache.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F01-directives%2Fuse-cache.mdx?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -6,7 +6,6 @@ related:\n   title: Related\n   description: View related API references.\n   links:\n-    - app/api-reference/config/next-config-js/useCache\n     - app/api-reference/config/next-config-js/cacheComponents\n     - app/api-reference/config/next-config-js/cacheLife\n     - app/api-reference/functions/cacheTag\n@@ -18,14 +17,14 @@ The `use cache` directive allows you to mark a route, React component, or a func\n \n ## Usage\n \n-`use cache` is currently an experimental feature. To enable it, add the [`useCache`](/docs/app/api-reference/config/next-config-js/useCache) option to your `next.config.ts` file:\n+`use cache` is currently an experimental feature. To enable it, add the [`cacheComponents`](/docs/app/api-reference/config/next-config-js/cacheComponents) option to your `next.config.ts` file:\n \n ```ts filename=\"next.config.ts\" switcher\n import type { NextConfig } from 'next'\n \n const nextConfig: NextConfig = {\n   experimental: {\n-    useCache: true,\n+    cacheComponents: true,\n   },\n }\n \n@@ -36,15 +35,13 @@ export default nextConfig\n /** @type {import('next').NextConfig} */\n const nextConfig = {\n   experimental: {\n-    useCache: true,\n+    cacheComponents: true,\n   },\n }\n \n module.exports = nextConfig\n ```\n \n-> **Good to know:** `use cache` can also be enabled with the [`cacheComponents`](/docs/app/api-reference/config/next-config-js/cacheComponents) option.\n-\n Then, add `use cache` at the file, component, or function level:\n \n ```tsx"
        },
        {
            "sha": "104cb7d62977279fa41aef950e0b1f041581f899",
            "filename": "packages/next/errors.json",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/packages%2Fnext%2Ferrors.json",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/packages%2Fnext%2Ferrors.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ferrors.json?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -809,5 +809,14 @@\n   \"808\": \"Invalid binary HMR message: insufficient data (expected %s bytes, got %s)\",\n   \"809\": \"Invalid binary HMR message of type %s\",\n   \"810\": \"React debug channel stream error\",\n-  \"811\": \"unsupported transformMode in loader options: %s\"\n+  \"811\": \"unsupported transformMode in loader options: %s\",\n+  \"812\": \"`cacheLife()` is only available with the `experimental.cacheComponents` config.\",\n+  \"813\": \"`cacheTag()` is only available with the `experimental.cacheComponents` config.\",\n+  \"814\": \"Invalid `cacheLife()` option. Either pass a profile name or object.\",\n+  \"815\": \"Unknown \\\\`cacheLife()\\\\` profile \\\"%s\\\" is not configured in next.config.js\\\\nmodule.exports = {\\n  experimental: {\\n    cacheLife: {\\n      \\\"%s\\\": ...\\\\n    }\\n  }\\n}\",\n+  \"816\": \"Unknown \\\\`cacheLife()\\\\` profile \\\"%s\\\" is not configured in next.config.js\\\\nDid you mean \\\"%s\\\" without the spaces?\",\n+  \"817\": \"`cacheLifeProfiles` should always be provided.\",\n+  \"818\": \"`cacheLife()` can only be called inside a \\\"use cache\\\" function.\",\n+  \"819\": \"`cacheTag()` can only be called inside a \\\"use cache\\\" function.\",\n+  \"820\": \"`cacheLife()` can only be called during App Router rendering at the moment.\"\n }"
        },
        {
            "sha": "b3eb02d18fdec2505bd88f8d9881cfc57073c09e",
            "filename": "packages/next/src/server/use-cache/cache-life.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fcache-life.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fcache-life.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fcache-life.ts?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -1,3 +1,4 @@\n+import { InvariantError } from '../../shared/lib/invariant-error'\n import { workAsyncStorage } from '../app-render/work-async-storage.external'\n import { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\n \n@@ -87,7 +88,7 @@ function validateCacheLife(profile: CacheLife) {\n export function cacheLife(profile: CacheLifeProfiles | CacheLife): void {\n   if (!process.env.__NEXT_USE_CACHE) {\n     throw new Error(\n-      'cacheLife() is only available with the experimental.useCache config.'\n+      '`cacheLife()` is only available with the `experimental.cacheComponents` config.'\n     )\n   }\n \n@@ -103,7 +104,7 @@ export function cacheLife(profile: CacheLifeProfiles | CacheLife): void {\n     case 'unstable-cache':\n     case undefined:\n       throw new Error(\n-        'cacheLife() can only be called inside a \"use cache\" function.'\n+        '`cacheLife()` can only be called inside a \"use cache\" function.'\n       )\n     case 'cache':\n     case 'private-cache':\n@@ -116,26 +117,24 @@ export function cacheLife(profile: CacheLifeProfiles | CacheLife): void {\n     const workStore = workAsyncStorage.getStore()\n     if (!workStore) {\n       throw new Error(\n-        'cacheLife() can only be called during App Router rendering at the moment.'\n+        '`cacheLife()` can only be called during App Router rendering at the moment.'\n       )\n     }\n     if (!workStore.cacheLifeProfiles) {\n-      throw new Error(\n-        'cacheLifeProfiles should always be provided. This is a bug in Next.js.'\n-      )\n+      throw new InvariantError('`cacheLifeProfiles` should always be provided.')\n     }\n \n     // TODO: This should be globally available and not require an AsyncLocalStorage.\n     const configuredProfile = workStore.cacheLifeProfiles[profile]\n     if (configuredProfile === undefined) {\n       if (workStore.cacheLifeProfiles[profile.trim()]) {\n         throw new Error(\n-          `Unknown cacheLife profile \"${profile}\" is not configured in next.config.js\\n` +\n+          `Unknown \\`cacheLife()\\` profile \"${profile}\" is not configured in next.config.js\\n` +\n             `Did you mean \"${profile.trim()}\" without the spaces?`\n         )\n       }\n       throw new Error(\n-        `Unknown cacheLife profile \"${profile}\" is not configured in next.config.js\\n` +\n+        `Unknown \\`cacheLife()\\` profile \"${profile}\" is not configured in next.config.js\\n` +\n           'module.exports = {\\n' +\n           '  experimental: {\\n' +\n           '    cacheLife: {\\n' +\n@@ -152,7 +151,7 @@ export function cacheLife(profile: CacheLifeProfiles | CacheLife): void {\n     Array.isArray(profile)\n   ) {\n     throw new Error(\n-      'Invalid cacheLife() option. Either pass a profile name or object.'\n+      'Invalid `cacheLife()` option. Either pass a profile name or object.'\n     )\n   } else {\n     validateCacheLife(profile)"
        },
        {
            "sha": "3f3457774eb67b8607fb0a6725f14ba1aa6a8697",
            "filename": "packages/next/src/server/use-cache/cache-tag.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fcache-tag.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fcache-tag.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fcache-tag.ts?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -4,7 +4,7 @@ import { validateTags } from '../lib/patch-fetch'\n export function cacheTag(...tags: string[]): void {\n   if (!process.env.__NEXT_USE_CACHE) {\n     throw new Error(\n-      'cacheTag() is only available with the experimental.useCache config.'\n+      '`cacheTag()` is only available with the `experimental.cacheComponents` config.'\n     )\n   }\n \n@@ -20,7 +20,7 @@ export function cacheTag(...tags: string[]): void {\n     case 'unstable-cache':\n     case undefined:\n       throw new Error(\n-        'cacheTag() can only be called inside a \"use cache\" function.'\n+        '`cacheTag()` can only be called inside a \"use cache\" function.'\n       )\n     case 'cache':\n     case 'private-cache':\n@@ -29,7 +29,7 @@ export function cacheTag(...tags: string[]): void {\n       workUnitStore satisfies never\n   }\n \n-  const validTags = validateTags(tags, 'cacheTag()')\n+  const validTags = validateTags(tags, '`cacheTag()`')\n \n   if (!workUnitStore.tags) {\n     workUnitStore.tags = validTags"
        },
        {
            "sha": "14f3302daf54cdeb262740f603acbfd918e9f5d3",
            "filename": "test/e2e/app-dir/use-cache-unknown-cache-kind/use-cache-unknown-cache-kind.test.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/test%2Fe2e%2Fapp-dir%2Fuse-cache-unknown-cache-kind%2Fuse-cache-unknown-cache-kind.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/test%2Fe2e%2Fapp-dir%2Fuse-cache-unknown-cache-kind%2Fuse-cache-unknown-cache-kind.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fuse-cache-unknown-cache-kind%2Fuse-cache-unknown-cache-kind.test.ts?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -41,7 +41,7 @@ describe('use-cache-unknown-cache-kind', () => {\n            3 | export default async function Page() {\n            4 |   return <p>hello world</p>\n \n-         Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+         Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\n \n \n \n@@ -53,7 +53,7 @@ describe('use-cache-unknown-cache-kind', () => {\n          \"\n          ./app/page.tsx\n            × Module build failed:\n-           ╰─▶   × Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+           ╰─▶   × Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\n                  │\n                  │    ,-[1:1]\n                  │  1 | 'use cache: custom'\n@@ -75,7 +75,7 @@ describe('use-cache-unknown-cache-kind', () => {\n         expect(buildOutput).toMatchInlineSnapshot(`\n          \"\n          ./app/page.tsx\n-         Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+         Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\n \n             ,-[1:1]\n           1 | 'use cache: custom'\n@@ -124,7 +124,7 @@ describe('use-cache-unknown-cache-kind', () => {\n         )\n       } else {\n         expect(errorDescription).toMatchInlineSnapshot(\n-          `\"  x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\"`\n+          `\"  x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\"`\n         )\n       }\n \n@@ -138,13 +138,13 @@ describe('use-cache-unknown-cache-kind', () => {\n            3 | export default async function Page() {\n            4 |   return <p>hello world</p>\n \n-         Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\"\n+         Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\"\n         `)\n       } else if (isRspack) {\n         expect(errorSource).toMatchInlineSnapshot(`\n          \"./app/page.tsx\n            × Module build failed:\n-           ╰─▶   × Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+           ╰─▶   × Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\n                  │   |\n                  │    ,-[1:1]\n                  │  1 | 'use cache: custom'\n@@ -158,7 +158,7 @@ describe('use-cache-unknown-cache-kind', () => {\n       } else {\n         expect(errorSource).toMatchInlineSnapshot(`\n          \"./app/page.tsx\n-         Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \"experimental.cacheHandlers\" object in your Next.js config.\n+         Error:   x Unknown cache kind \"custom\". Please configure a cache handler for this kind in the \\`experimental.cacheHandlers\\` object in your Next.js config.\n \n             ,-[1:1]\n           1 | 'use cache: custom'"
        },
        {
            "sha": "002363efb6e68c7cf89277faa43b8d1fea46e9f6",
            "filename": "test/e2e/app-dir/use-cache-without-experimental-flag/use-cache-without-experimental-flag.test.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/81bccc93e99bc33759d0789538dafa42c45d068e/test%2Fe2e%2Fapp-dir%2Fuse-cache-without-experimental-flag%2Fuse-cache-without-experimental-flag.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/81bccc93e99bc33759d0789538dafa42c45d068e/test%2Fe2e%2Fapp-dir%2Fuse-cache-without-experimental-flag%2Fuse-cache-without-experimental-flag.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fuse-cache-without-experimental-flag%2Fuse-cache-without-experimental-flag.test.ts?ref=81bccc93e99bc33759d0789538dafa42c45d068e",
            "patch": "@@ -42,7 +42,7 @@ describe('use-cache-without-experimental-flag', () => {\n            3 | export default async function Page() {\n            4 |   return <p>hello world</p>\n \n-         To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+         To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\n \n          Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n \n@@ -56,7 +56,7 @@ describe('use-cache-without-experimental-flag', () => {\n          \"\n          ./app/page.tsx\n            × Module build failed:\n-           ╰─▶   × Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+           ╰─▶   × Error:   x To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\n                  │   |\n                  │   | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n                  │\n@@ -80,7 +80,7 @@ describe('use-cache-without-experimental-flag', () => {\n         expect(buildOutput).toMatchInlineSnapshot(`\n          \"\n          ./app/page.tsx\n-         Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+         Error:   x To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\n            |\n            | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n \n@@ -120,7 +120,7 @@ describe('use-cache-without-experimental-flag', () => {\n         )\n       } else {\n         expect(errorDescription).toMatchInlineSnapshot(\n-          `\"  x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\"`\n+          `\"  x To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\"`\n         )\n       }\n \n@@ -134,15 +134,15 @@ describe('use-cache-without-experimental-flag', () => {\n              3 | export default async function Page() {\n              4 |   return <p>hello world</p>\n \n-           To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+           To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\n \n            Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\"\n           `)\n       } else if (isRspack) {\n         expect(errorSource).toMatchInlineSnapshot(`\n          \"./app/page.tsx\n            × Module build failed:\n-           ╰─▶   × Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+           ╰─▶   × Error:   x To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\n                  │   |\n                  │   | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n                  │\n@@ -158,7 +158,7 @@ describe('use-cache-without-experimental-flag', () => {\n       } else {\n         expect(errorSource).toMatchInlineSnapshot(`\n          \"./app/page.tsx\n-         Error:   x To use \"use cache\", please enable the experimental feature flag \"useCache\" in your Next.js config.\n+         Error:   x To use \"use cache\", please enable the feature flag \\`experimental.cacheComponents\\` in your Next.js config.\n            |\n            | Read more: https://nextjs.org/docs/canary/app/api-reference/directives/use-cache#usage\n "
        }
    ],
    "stats": {
        "total": 83,
        "additions": 44,
        "deletions": 39
    }
}