{
    "author": "igas",
    "message": "Make sure bundle analyzer does not trigger warning with turbopack (#79399)\n\n### What?\n\nAdd a guard to return earlier to prevent `webpack` assignment to the\nconfig.\n\n### Why?\n\nNext produces the warning if running with `--turbopack` and config has\n`webpack` configuration.\n\nCo-authored-by: JJ Kasper <jj@jjsweb.site>",
    "sha": "6f6b83362f01d7aa4ed321a200ad10d5f5f592f9",
    "files": [
        {
            "sha": "d677f5f0c0509b86db628d54739161fe9c9e6e89",
            "filename": "packages/next-bundle-analyzer/index.js",
            "status": "modified",
            "additions": 17,
            "deletions": 15,
            "changes": 32,
            "blob_url": "https://github.com/vercel/next.js/blob/6f6b83362f01d7aa4ed321a200ad10d5f5f592f9/packages%2Fnext-bundle-analyzer%2Findex.js",
            "raw_url": "https://github.com/vercel/next.js/raw/6f6b83362f01d7aa4ed321a200ad10d5f5f592f9/packages%2Fnext-bundle-analyzer%2Findex.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext-bundle-analyzer%2Findex.js?ref=6f6b83362f01d7aa4ed321a200ad10d5f5f592f9",
            "patch": "@@ -1,23 +1,25 @@\n module.exports =\n   ({ enabled = true, logLevel, openAnalyzer, analyzerMode } = {}) =>\n   (nextConfig = {}) => {\n+    if (!enabled) {\n+      return nextConfig\n+    }\n+\n     return Object.assign({}, nextConfig, {\n       webpack(config, options) {\n-        if (enabled) {\n-          const { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer')\n-          config.plugins.push(\n-            new BundleAnalyzerPlugin({\n-              analyzerMode: analyzerMode || 'static',\n-              logLevel,\n-              openAnalyzer,\n-              reportFilename: !options.nextRuntime\n-                ? `./analyze/client.html`\n-                : `../${options.nextRuntime === 'nodejs' ? '../' : ''}analyze/${\n-                    options.nextRuntime\n-                  }.html`,\n-            })\n-          )\n-        }\n+        const { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer')\n+        config.plugins.push(\n+          new BundleAnalyzerPlugin({\n+            analyzerMode: analyzerMode || 'static',\n+            logLevel,\n+            openAnalyzer,\n+            reportFilename: !options.nextRuntime\n+              ? `./analyze/client.html`\n+              : `../${options.nextRuntime === 'nodejs' ? '../' : ''}analyze/${\n+                  options.nextRuntime\n+                }.html`,\n+          })\n+        )\n \n         if (typeof nextConfig.webpack === 'function') {\n           return nextConfig.webpack(config, options)"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 17,
        "deletions": 15
    }
}