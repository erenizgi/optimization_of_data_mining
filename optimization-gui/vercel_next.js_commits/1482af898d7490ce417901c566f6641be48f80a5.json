{
    "author": "devjiwonchoi",
    "message": "[dev] Serve static metadata from filesystem (#83460)\n\nCurrent metadata files are compiled to `route.js` files. This happens\nnot only to metadata API (e.g., `icon.tsx`), but to static files as\nwell, which is unnecessary. In development, this leads to confusing logs\nsuch as:\n\n```\nCompiled /favicon.ico in ...ms\n```\n\nUsers may reasonably wonder why Next.js is \"compiling\" a static file.\n\nStatic files can be served directly from the filesystem, like\n`_next/static/` assets. Therefore, in development, skip compilation of\nstatic metadata files and serve them as static.\n\nFor production, we can follow up in a separate PR to skip compiling the\n`route.js` files and emit static files to the dist directory, and also\nserve from the filesystem there as well.\n\nCloses [NEXT-4338](https://linear.app/vercel/issue/NEXT-4338)\n\n---\n\nTODO(s) to follow up:\n\n- Fix Cache Components failing build with metadata files inside the\ndynamic route.\n- x-ref: [slack\nthread](https://vercel.slack.com/archives/C06N3AXRQ82/p1738053808940719)\n\n---------\n\nCo-authored-by: Jiachi Liu <inbox@huozhi.im>",
    "sha": "1482af898d7490ce417901c566f6641be48f80a5",
    "files": [
        {
            "sha": "7eef07aac5c778c89ba90a027dd8440267c68a2c",
            "filename": "packages/next/src/lib/metadata/is-metadata-route.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fis-metadata-route.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fis-metadata-route.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Fmetadata%2Fis-metadata-route.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -44,6 +44,15 @@ export const getExtensionRegexString = (\n   return `(?:\\\\.(${staticExtensions.join('|')})|(\\\\.(${dynamicExtensions.join('|')})))`\n }\n \n+/**\n+ * Matches the static metadata files, e.g. /robots.txt, /sitemap.xml, /favicon.ico, etc.\n+ * @param appDirRelativePath the relative file path to app/\n+ * @returns if the path is a static metadata file route\n+ */\n+export function isStaticMetadataFile(appDirRelativePath: string) {\n+  return isMetadataRouteFile(appDirRelativePath, [], true)\n+}\n+\n /**\n  * Determine if the file is a metadata route file entry\n  * @param appDirRelativePath the relative file path to app/"
        },
        {
            "sha": "cd276cd69eb58b1171acc8788e11bf50b5cc93cf",
            "filename": "packages/next/src/server/lib/router-utils/filesystem.ts",
            "status": "modified",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ffilesystem.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ffilesystem.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ffilesystem.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -45,6 +45,7 @@ import { normalizeMetadataRoute } from '../../../lib/metadata/get-metadata-route\n import { RSCPathnameNormalizer } from '../../normalizers/request/rsc'\n import { PrefetchRSCPathnameNormalizer } from '../../normalizers/request/prefetch-rsc'\n import { encodeURIPath } from '../../../shared/lib/encode-uri-path'\n+import { isMetadataRouteFile } from '../../../lib/metadata/is-metadata-route'\n \n export type FsOutput = {\n   type:\n@@ -130,6 +131,15 @@ export async function setupFsCheck(opts: {\n \n   const appFiles = new Set<string>()\n   const pageFiles = new Set<string>()\n+  // Map normalized path to the file path. This is essential\n+  // for parallel and group routes as their original path\n+  // cannot be restored from the request path.\n+  // Example:\n+  // [normalized-path] -> [file-path]\n+  // /icon-<hash>.png -> .../app/@parallel/icon.png\n+  // /icon-<hash>.png -> .../app/(group)/icon.png\n+  // /icon.png -> .../app/icon.png\n+  const staticMetadataFiles = new Map<string, string>()\n   let dynamicRoutes: FilesystemDynamicRoute[] = []\n \n   let middlewareMatcher:\n@@ -430,6 +440,7 @@ export async function setupFsCheck(opts: {\n \n     appFiles,\n     pageFiles,\n+    staticMetadataFiles,\n     dynamicRoutes,\n     nextDataRoutes,\n \n@@ -496,6 +507,18 @@ export async function setupFsCheck(opts: {\n         }\n       }\n \n+      if (opts.dev && isMetadataRouteFile(itemPath, [], false)) {\n+        const fsPath = staticMetadataFiles.get(itemPath)\n+        if (fsPath) {\n+          return {\n+            // \"nextStaticFolder\" sets Cache-Control \"no-store\" on dev.\n+            type: 'nextStaticFolder',\n+            fsPath,\n+            itemPath: fsPath,\n+          }\n+        }\n+      }\n+\n       const itemsToCheck: Array<[Set<string>, FsOutput['type']]> = [\n         [this.devVirtualFsItems, 'devVirtualFsItem'],\n         [nextStaticFolderItems, 'nextStaticFolder'],"
        },
        {
            "sha": "fabf9e833985604b79fb0926fb8c6a5f1443e481",
            "filename": "packages/next/src/server/lib/router-utils/setup-dev-bundler.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 3,
            "changes": 15,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Fsetup-dev-bundler.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Fsetup-dev-bundler.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Fsetup-dev-bundler.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -61,7 +61,10 @@ import type { LazyRenderServerInstance } from '../router-server'\n import { HMR_MESSAGE_SENT_TO_BROWSER } from '../../dev/hot-reloader-types'\n import { PAGE_TYPES } from '../../../lib/page-types'\n import { generateEncryptionKeyBase64 } from '../../app-render/encryption-utils-server'\n-import { isMetadataRouteFile } from '../../../lib/metadata/is-metadata-route'\n+import {\n+  isMetadataRouteFile,\n+  isStaticMetadataFile,\n+} from '../../../lib/metadata/is-metadata-route'\n import { normalizeMetadataPageToRoute } from '../../../lib/metadata/get-metadata-route'\n import { createEnvDefinitions } from '../experimental/create-env-definitions'\n import { JsConfigPathsPlugin } from '../../../build/webpack/plugins/jsconfig-paths-plugin'\n@@ -374,10 +377,11 @@ async function startWatcher(\n       let conflictingPageChange = 0\n       let hasRootAppNotFound = false\n \n-      const { appFiles, pageFiles } = opts.fsChecker\n+      const { appFiles, pageFiles, staticMetadataFiles } = opts.fsChecker\n \n       appFiles.clear()\n       pageFiles.clear()\n+      staticMetadataFiles.clear()\n       devPageFiles.clear()\n \n       const sortedKnownFiles: string[] = [...knownFiles.keys()].sort(\n@@ -610,7 +614,12 @@ async function startWatcher(\n           )\n \n           if (useFileSystemPublicRoutes) {\n-            appFiles.add(pageName)\n+            // Static metadata files will be served from filesystem.\n+            if (appDir && isStaticMetadataFile(fileName.replace(appDir, ''))) {\n+              staticMetadataFiles.set(pageName, fileName)\n+            } else {\n+              appFiles.add(pageName)\n+            }\n           }\n \n           if (validFileMatcher.isAppRouterRoute(fileName)) {"
        },
        {
            "sha": "cfa8b1d003679ff016f5788342b1a3cf2adaad24",
            "filename": "packages/next/src/server/route-matcher-providers/dev/dev-app-route-route-matcher-provider.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Fserver%2Froute-matcher-providers%2Fdev%2Fdev-app-route-route-matcher-provider.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/packages%2Fnext%2Fsrc%2Fserver%2Froute-matcher-providers%2Fdev%2Fdev-app-route-route-matcher-provider.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-matcher-providers%2Fdev%2Fdev-app-route-route-matcher-provider.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -8,6 +8,7 @@ import { DevAppNormalizers } from '../../normalizers/built/app'\n import {\n   isMetadataRouteFile,\n   isStaticMetadataRoute,\n+  isStaticMetadataFile,\n } from '../../../lib/metadata/is-metadata-route'\n import { normalizeMetadataPageToRoute } from '../../../lib/metadata/get-metadata-route'\n import path from '../../../shared/lib/isomorphic/path'\n@@ -39,6 +40,11 @@ export class DevAppRouteRouteMatcherProvider extends FileCacheRouteMatcherProvid\n   ): Promise<ReadonlyArray<AppRouteRouteMatcher>> {\n     const matchers: Array<AppRouteRouteMatcher> = []\n     for (const filename of files) {\n+      // Skip static metadata files as they are served from filesystem.\n+      if (isStaticMetadataFile(filename.replace(this.appDir, ''))) {\n+        continue\n+      }\n+\n       let page = this.normalizers.page.normalize(filename)\n \n       // If the file isn't a match for this matcher, then skip it.\n@@ -114,7 +120,7 @@ export class DevAppRouteRouteMatcherProvider extends FileCacheRouteMatcherProvid\n           matchers.push(matcher)\n         }\n       } else {\n-        // Normal app routes and static metadata routes.\n+        // Normal app routes.\n         matchers.push(\n           new AppRouteRouteMatcher({\n             kind: RouteKind.APP_ROUTE,"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/(group)/group/apple-icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fapple-icon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fapple-icon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fapple-icon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/(group)/group/icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Ficon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Ficon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Ficon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/(group)/group/opengraph-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fopengraph-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fopengraph-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fopengraph-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "9356ab48a8451bec85b5289adae918cc98c0f222",
            "filename": "test/e2e/app-dir/metadata-static-file/app/(group)/group/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>group</p>\n+}"
        },
        {
            "sha": "7981ac5bf5869798987e3fae52185b0729160b33",
            "filename": "test/e2e/app-dir/metadata-static-file/app/(group)/group/sitemap.xml",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fsitemap.xml",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fsitemap.xml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Fsitemap.xml?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n\\ No newline at end of file"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/(group)/group/twitter-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Ftwitter-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Ftwitter-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2F(group)%2Fgroup%2Ftwitter-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "0125a8d3c43a17735a6dd2548d308105596e8c74",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/apple-icon.tsx",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fapple-icon.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fapple-icon.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fapple-icon.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,12 @@\n+import { ImageResponse } from 'next/og'\n+\n+export const size = {\n+  width: 32,\n+  height: 32,\n+}\n+\n+export const contentType = 'image/png'\n+\n+export default function Icon() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "0125a8d3c43a17735a6dd2548d308105596e8c74",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/icon.tsx",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Ficon.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Ficon.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Ficon.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,12 @@\n+import { ImageResponse } from 'next/og'\n+\n+export const size = {\n+  width: 32,\n+  height: 32,\n+}\n+\n+export const contentType = 'image/png'\n+\n+export default function Icon() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "0125a8d3c43a17735a6dd2548d308105596e8c74",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/opengraph-image.tsx",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fopengraph-image.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fopengraph-image.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fopengraph-image.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,12 @@\n+import { ImageResponse } from 'next/og'\n+\n+export const size = {\n+  width: 32,\n+  height: 32,\n+}\n+\n+export const contentType = 'image/png'\n+\n+export default function Icon() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "21ce8c756cc0e7d06b3a4e8dd63328fda6f9ab32",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/routes/apple-icon/route.tsx",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fapple-icon%2Froute.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fapple-icon%2Froute.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fapple-icon%2Froute.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,5 @@\n+import { ImageResponse } from 'next/og'\n+\n+export function GET() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "21ce8c756cc0e7d06b3a4e8dd63328fda6f9ab32",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/routes/icon/route.tsx",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Ficon%2Froute.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Ficon%2Froute.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Ficon%2Froute.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,5 @@\n+import { ImageResponse } from 'next/og'\n+\n+export function GET() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "21ce8c756cc0e7d06b3a4e8dd63328fda6f9ab32",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/routes/opengraph-image/route.tsx",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fopengraph-image%2Froute.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fopengraph-image%2Froute.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fopengraph-image%2Froute.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,5 @@\n+import { ImageResponse } from 'next/og'\n+\n+export function GET() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "c5d808ade74ac470ea5c120753f56d2aa3586ead",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/routes/sitemap.xml/route.ts",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fsitemap.xml%2Froute.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fsitemap.xml%2Froute.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Fsitemap.xml%2Froute.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,17 @@\n+export function GET() {\n+  return new Response(\n+    `\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n+    `.trim(),\n+    {\n+      headers: {\n+        'Content-Type': 'application/xml',\n+      },\n+    }\n+  )\n+}"
        },
        {
            "sha": "21ce8c756cc0e7d06b3a4e8dd63328fda6f9ab32",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/routes/twitter-image/route.tsx",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Ftwitter-image%2Froute.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Ftwitter-image%2Froute.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Froutes%2Ftwitter-image%2Froute.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,5 @@\n+import { ImageResponse } from 'next/og'\n+\n+export function GET() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "08434f97cb95ad713fd819524cf7f31ed0d056e8",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/sitemap.ts",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fsitemap.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fsitemap.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Fsitemap.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,12 @@\n+import type { MetadataRoute } from 'next'\n+\n+export default function sitemap(): MetadataRoute.Sitemap {\n+  return [\n+    {\n+      url: 'https://nextjs.org',\n+      lastModified: '2025-01-01T00:00:00.000Z',\n+      changeFrequency: 'monthly',\n+      priority: 0.8,\n+    },\n+  ]\n+}"
        },
        {
            "sha": "0125a8d3c43a17735a6dd2548d308105596e8c74",
            "filename": "test/e2e/app-dir/metadata-static-file/app/api/twitter-image.tsx",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Ftwitter-image.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Ftwitter-image.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fapi%2Ftwitter-image.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,12 @@\n+import { ImageResponse } from 'next/og'\n+\n+export const size = {\n+  width: 32,\n+  height: 32,\n+}\n+\n+export const contentType = 'image/png'\n+\n+export default function Icon() {\n+  return new ImageResponse(<div>A</div>)\n+}"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/dynamic/[id]/apple-icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fapple-icon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fapple-icon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fapple-icon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/dynamic/[id]/icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Ficon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Ficon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Ficon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/dynamic/[id]/opengraph-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fopengraph-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fopengraph-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fopengraph-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "638c84951b47768abb644896cc19e78ce5bab68b",
            "filename": "test/e2e/app-dir/metadata-static-file/app/dynamic/[id]/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>dynamic</p>\n+}"
        },
        {
            "sha": "7981ac5bf5869798987e3fae52185b0729160b33",
            "filename": "test/e2e/app-dir/metadata-static-file/app/dynamic/[id]/sitemap.xml",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fsitemap.xml",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fsitemap.xml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Fsitemap.xml?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n\\ No newline at end of file"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/dynamic/[id]/twitter-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Ftwitter-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Ftwitter-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fdynamic%2F%5Bid%5D%2Ftwitter-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/favicon.ico",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Ffavicon.ico",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Ffavicon.ico",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Ffavicon.ico?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "89f0427aaae3bbf03282abb7c7033c258e5bc0ff",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercept-me/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercept-me%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercept-me%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercept-me%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>intercept me</p>\n+}"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/(..)intercept-me/apple-icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fapple-icon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fapple-icon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fapple-icon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/(..)intercept-me/icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Ficon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Ficon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Ficon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/(..)intercept-me/opengraph-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fopengraph-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fopengraph-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fopengraph-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "4122ec9ca072ebc587b083abf5ce413d49de03b7",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/(..)intercept-me/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>intercepting</p>\n+}"
        },
        {
            "sha": "7981ac5bf5869798987e3fae52185b0729160b33",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/(..)intercept-me/sitemap.xml",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fsitemap.xml",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fsitemap.xml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Fsitemap.xml?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n\\ No newline at end of file"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/(..)intercept-me/twitter-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Ftwitter-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Ftwitter-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2F(..)intercept-me%2Ftwitter-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "fe9d297f5966e6cef0524cbd9d66531296af303e",
            "filename": "test/e2e/app-dir/metadata-static-file/app/intercepting/page.tsx",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fintercepting%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,9 @@\n+import Link from 'next/link'\n+\n+export default function Page() {\n+  return (\n+    <div>\n+      <Link href=\"/intercept-me\">go to /intercept-me</Link>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "dbce4ea8e3aeb6cb61b81712b62288d5abaf776b",
            "filename": "test/e2e/app-dir/metadata-static-file/app/layout.tsx",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Flayout.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,11 @@\n+export default function RootLayout({\n+  children,\n+}: {\n+  children: React.ReactNode\n+}) {\n+  return (\n+    <html lang=\"en\">\n+      <body>{children}</body>\n+    </html>\n+  )\n+}"
        },
        {
            "sha": "4e09c9827989b637a67cc0a55a65bb927c9e1a83",
            "filename": "test/e2e/app-dir/metadata-static-file/app/manifest.json",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fmanifest.json",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fmanifest.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fmanifest.json?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"name\": \"My Next.js Application\",\n+  \"short_name\": \"Next.js App\",\n+  \"description\": \"An application built with Next.js\",\n+  \"start_url\": \"/\"\n+}"
        },
        {
            "sha": "ff7159d9149feeb1eb8f4b7bbeadb2e26c20b053",
            "filename": "test/e2e/app-dir/metadata-static-file/app/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>hello world</p>\n+}"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/@parallel/apple-icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fapple-icon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fapple-icon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fapple-icon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/@parallel/icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Ficon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Ficon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Ficon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/@parallel/opengraph-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fopengraph-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fopengraph-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fopengraph-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "4905634f7f7837d6d3bb935c480351ddfdbf3915",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/@parallel/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>@parallel</p>\n+}"
        },
        {
            "sha": "7981ac5bf5869798987e3fae52185b0729160b33",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/@parallel/sitemap.xml",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fsitemap.xml",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fsitemap.xml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Fsitemap.xml?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n\\ No newline at end of file"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/@parallel/twitter-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Ftwitter-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Ftwitter-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2F%40parallel%2Ftwitter-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "38df5a65b03c6c892cd0c58efe03c206f15d1e36",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/layout.tsx",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2Flayout.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,16 @@\n+export default function ParallelLayout({\n+  children,\n+  parallel,\n+}: {\n+  children: React.ReactNode\n+  parallel: React.ReactNode\n+}) {\n+  return (\n+    <div>\n+      <p>parallel</p>\n+      {parallel}\n+      <p>children</p>\n+      {children}\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "8ef75a1b3eb3d24a60db281488011fff73104f24",
            "filename": "test/e2e/app-dir/metadata-static-file/app/parallel/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fparallel%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>parallel</p>\n+}"
        },
        {
            "sha": "d2dbd293dd66b719664ab6f582dc16698ec9dbac",
            "filename": "test/e2e/app-dir/metadata-static-file/app/robots.txt",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Frobots.txt",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Frobots.txt",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Frobots.txt?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,5 @@\n+User-Agent: *\n+Allow: /\n+Disallow: /private/\n+\n+Sitemap: https://nextjs.org/sitemap.xml\n\\ No newline at end of file"
        },
        {
            "sha": "7981ac5bf5869798987e3fae52185b0729160b33",
            "filename": "test/e2e/app-dir/metadata-static-file/app/sitemap.xml",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fsitemap.xml",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fsitemap.xml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fsitemap.xml?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n\\ No newline at end of file"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/static/apple-icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fapple-icon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fapple-icon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fapple-icon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/static/icon.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Ficon.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Ficon.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Ficon.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/static/opengraph-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fopengraph-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fopengraph-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fopengraph-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "6c4b84538ac5c6829ece56c0b585b359ff6e4544",
            "filename": "test/e2e/app-dir/metadata-static-file/app/static/page.tsx",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fpage.tsx?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,3 @@\n+export default function Page() {\n+  return <p>static</p>\n+}"
        },
        {
            "sha": "7981ac5bf5869798987e3fae52185b0729160b33",
            "filename": "test/e2e/app-dir/metadata-static-file/app/static/sitemap.xml",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fsitemap.xml",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fsitemap.xml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Fsitemap.xml?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n+  <url>\n+    <loc>https://nextjs.org</loc>\n+    <lastmod>2025-01-01T00:00:00.000Z</lastmod>\n+  </url>\n+</urlset>\n\\ No newline at end of file"
        },
        {
            "sha": "aea7f5ff8ad3e3c7c084080bda8ac3b95e9a71cd",
            "filename": "test/e2e/app-dir/metadata-static-file/app/static/twitter-image.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Ftwitter-image.png",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Ftwitter-image.png",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fapp%2Fstatic%2Ftwitter-image.png?ref=1482af898d7490ce417901c566f6641be48f80a5"
        },
        {
            "sha": "0e46e7355344c2765de4c09f673f91a3d5515fe5",
            "filename": "test/e2e/app-dir/metadata-static-file/metadata-static-file-dynamic-route.test.ts",
            "status": "added",
            "additions": 147,
            "deletions": 0,
            "changes": 147,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-dynamic-route.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-dynamic-route.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-dynamic-route.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,147 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { getCommonMetadataHeadTags } from './utils'\n+\n+describe('metadata-files-static-output-dynamic-route', () => {\n+  if (process.env.__NEXT_EXPERIMENTAL_CACHE_COMPONENTS) {\n+    // Cache Components build fails when metadata files are inside a dynamic route.\n+    //\n+    // Route \"/dynamic/[id]\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...)\n+    // or uncached external data (`fetch(...)`, etc...) when the rest of the route does not.\n+    // See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata\n+    // Error occurred prerendering page \"/dynamic/[id]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+    // Export encountered an error on /dynamic/[id]/page: /dynamic/[id], exiting the build.\n+    //\n+    // TODO: Remove this skip when metadata files are supported in dynamic routes for Cache Components.\n+    it.skip('should skip test for Cache Components', () => {})\n+    return\n+  }\n+\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should have correct link tags for dynamic page', async () => {\n+    const browser = await next.browser('/dynamic/123')\n+\n+    expect(await getCommonMetadataHeadTags(browser)).toMatchInlineSnapshot(`\n+     {\n+       \"links\": [\n+         {\n+           \"href\": \"/dynamic/123/apple-icon.png\",\n+           \"rel\": \"apple-touch-icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/dynamic/123/icon.png\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/favicon.ico\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/x-icon\",\n+         },\n+         {\n+           \"href\": \"/manifest.json\",\n+           \"rel\": \"manifest\",\n+         },\n+       ],\n+       \"metas\": [\n+         {\n+           \"name\": \"twitter:card\",\n+         },\n+         {\n+           \"name\": \"twitter:image\",\n+         },\n+         {\n+           \"name\": \"twitter:image:height\",\n+         },\n+         {\n+           \"name\": \"twitter:image:type\",\n+         },\n+         {\n+           \"name\": \"twitter:image:width\",\n+         },\n+         {\n+           \"name\": \"viewport\",\n+         },\n+         {\n+           \"property\": \"og:image\",\n+         },\n+         {\n+           \"property\": \"og:image:height\",\n+         },\n+         {\n+           \"property\": \"og:image:type\",\n+         },\n+         {\n+           \"property\": \"og:image:width\",\n+         },\n+       ],\n+     }\n+    `)\n+  })\n+\n+  it('should serve static files when requested to its route for dynamic page', async () => {\n+    const [\n+      appleIconRes,\n+      iconRes,\n+      opengraphImageRes,\n+      twitterImageRes,\n+      sitemapRes,\n+    ] = await Promise.all([\n+      next.fetch('/dynamic/123/apple-icon.png'),\n+      next.fetch('/dynamic/123/icon.png'),\n+      next.fetch('/dynamic/123/opengraph-image.png'),\n+      next.fetch('/dynamic/123/twitter-image.png'),\n+      next.fetch('/dynamic/123/sitemap.xml'),\n+    ])\n+\n+    // Compare response content with actual files\n+    const [\n+      actualAppleIcon,\n+      actualIcon,\n+      actualOpengraphImage,\n+      actualTwitterImage,\n+      actualSitemap,\n+    ] = await Promise.all([\n+      next.readFileBuffer('app/dynamic/[id]/apple-icon.png'),\n+      next.readFileBuffer('app/dynamic/[id]/icon.png'),\n+      next.readFileBuffer('app/dynamic/[id]/opengraph-image.png'),\n+      next.readFileBuffer('app/dynamic/[id]/twitter-image.png'),\n+      next.readFile('app/dynamic/[id]/sitemap.xml'),\n+    ])\n+\n+    expect({\n+      appleIcon: Buffer.compare(\n+        Buffer.from(await appleIconRes.arrayBuffer()),\n+        actualAppleIcon\n+      ),\n+      icon: Buffer.compare(\n+        Buffer.from(await iconRes.arrayBuffer()),\n+        actualIcon\n+      ),\n+      opengraphImage: Buffer.compare(\n+        Buffer.from(await opengraphImageRes.arrayBuffer()),\n+        actualOpengraphImage\n+      ),\n+      twitterImage: Buffer.compare(\n+        Buffer.from(await twitterImageRes.arrayBuffer()),\n+        actualTwitterImage\n+      ),\n+      sitemap: await sitemapRes.text(),\n+    }).toEqual({\n+      // Buffer comparison returns 0 for equal\n+      appleIcon: 0,\n+      icon: 0,\n+      opengraphImage: 0,\n+      twitterImage: 0,\n+      sitemap: actualSitemap,\n+    })\n+  })\n+})"
        },
        {
            "sha": "a6a4c2b1b90581570090a2a6afc3a435ad2c95f3",
            "filename": "test/e2e/app-dir/metadata-static-file/metadata-static-file-group-route.test.ts",
            "status": "added",
            "additions": 147,
            "deletions": 0,
            "changes": 147,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-group-route.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-group-route.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-group-route.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,147 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { getCommonMetadataHeadTags } from './utils'\n+\n+describe('metadata-files-static-output-group-route', () => {\n+  if (process.env.__NEXT_EXPERIMENTAL_CACHE_COMPONENTS) {\n+    // Cache Components build fails when metadata files are inside a dynamic route.\n+    //\n+    // Route \"/dynamic/[id]\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...)\n+    // or uncached external data (`fetch(...)`, etc...) when the rest of the route does not.\n+    // See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata\n+    // Error occurred prerendering page \"/dynamic/[id]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+    // Export encountered an error on /dynamic/[id]/page: /dynamic/[id], exiting the build.\n+    //\n+    // TODO: Remove this skip when metadata files are supported in dynamic routes for Cache Components.\n+    it.skip('should skip test for Cache Components', () => {})\n+    return\n+  }\n+\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should have correct link tags for group page', async () => {\n+    const browser = await next.browser('/group')\n+\n+    expect(await getCommonMetadataHeadTags(browser)).toMatchInlineSnapshot(`\n+     {\n+       \"links\": [\n+         {\n+           \"href\": \"/favicon.ico\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/x-icon\",\n+         },\n+         {\n+           \"href\": \"/group/apple-icon-131tc6.png\",\n+           \"rel\": \"apple-touch-icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/group/icon-131tc6.png\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/manifest.json\",\n+           \"rel\": \"manifest\",\n+         },\n+       ],\n+       \"metas\": [\n+         {\n+           \"name\": \"twitter:card\",\n+         },\n+         {\n+           \"name\": \"twitter:image\",\n+         },\n+         {\n+           \"name\": \"twitter:image:height\",\n+         },\n+         {\n+           \"name\": \"twitter:image:type\",\n+         },\n+         {\n+           \"name\": \"twitter:image:width\",\n+         },\n+         {\n+           \"name\": \"viewport\",\n+         },\n+         {\n+           \"property\": \"og:image\",\n+         },\n+         {\n+           \"property\": \"og:image:height\",\n+         },\n+         {\n+           \"property\": \"og:image:type\",\n+         },\n+         {\n+           \"property\": \"og:image:width\",\n+         },\n+       ],\n+     }\n+    `)\n+  })\n+\n+  it('should serve static files when requested to its route for group page', async () => {\n+    const [\n+      appleIconRes,\n+      iconRes,\n+      opengraphImageRes,\n+      twitterImageRes,\n+      sitemapRes,\n+    ] = await Promise.all([\n+      next.fetch(`/group/apple-icon-131tc6.png`),\n+      next.fetch(`/group/icon-131tc6.png`),\n+      next.fetch(`/group/opengraph-image-131tc6.png`),\n+      next.fetch(`/group/twitter-image-131tc6.png`),\n+      next.fetch('/group/sitemap.xml'),\n+    ])\n+\n+    // Compare response content with actual files\n+    const [\n+      actualAppleIcon,\n+      actualIcon,\n+      actualOpengraphImage,\n+      actualTwitterImage,\n+      actualSitemap,\n+    ] = await Promise.all([\n+      next.readFileBuffer('app/(group)/group/apple-icon.png'),\n+      next.readFileBuffer('app/(group)/group/icon.png'),\n+      next.readFileBuffer('app/(group)/group/opengraph-image.png'),\n+      next.readFileBuffer('app/(group)/group/twitter-image.png'),\n+      next.readFile('app/(group)/group/sitemap.xml'),\n+    ])\n+\n+    expect({\n+      appleIcon: Buffer.compare(\n+        Buffer.from(await appleIconRes.arrayBuffer()),\n+        actualAppleIcon\n+      ),\n+      icon: Buffer.compare(\n+        Buffer.from(await iconRes.arrayBuffer()),\n+        actualIcon\n+      ),\n+      opengraphImage: Buffer.compare(\n+        Buffer.from(await opengraphImageRes.arrayBuffer()),\n+        actualOpengraphImage\n+      ),\n+      twitterImage: Buffer.compare(\n+        Buffer.from(await twitterImageRes.arrayBuffer()),\n+        actualTwitterImage\n+      ),\n+      sitemap: await sitemapRes.text(),\n+    }).toEqual({\n+      // Buffer comparison returns 0 for equal\n+      appleIcon: 0,\n+      icon: 0,\n+      opengraphImage: 0,\n+      twitterImage: 0,\n+      sitemap: actualSitemap,\n+    })\n+  })\n+})"
        },
        {
            "sha": "3791c6246dd9d50b0d649d0bd0ddf7fcaea412a2",
            "filename": "test/e2e/app-dir/metadata-static-file/metadata-static-file-intercepting-route.test.ts",
            "status": "added",
            "additions": 157,
            "deletions": 0,
            "changes": 157,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-intercepting-route.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-intercepting-route.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-intercepting-route.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,157 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { getCommonMetadataHeadTags } from './utils'\n+\n+describe('metadata-files-static-output-intercepting-route', () => {\n+  if (process.env.__NEXT_EXPERIMENTAL_CACHE_COMPONENTS) {\n+    // Cache Components build fails when metadata files are inside a dynamic route.\n+    //\n+    // Route \"/dynamic/[id]\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...)\n+    // or uncached external data (`fetch(...)`, etc...) when the rest of the route does not.\n+    // See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata\n+    // Error occurred prerendering page \"/dynamic/[id]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+    // Export encountered an error on /dynamic/[id]/page: /dynamic/[id], exiting the build.\n+    //\n+    // TODO: Remove this skip when metadata files are supported in dynamic routes for Cache Components.\n+    it.skip('should skip test for Cache Components', () => {})\n+    return\n+  }\n+\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should have correct link tags for intercepting page', async () => {\n+    const browser = await next.browser('/intercepting')\n+\n+    // Click the link to navigate to the intercepted route\n+    await browser.elementByCss('a[href=\"/intercept-me\"]').click()\n+    await browser.waitForCondition(\n+      'window.location.pathname === \"/intercept-me\"'\n+    )\n+\n+    expect(await getCommonMetadataHeadTags(browser)).toMatchInlineSnapshot(`\n+     {\n+       \"links\": [\n+         {\n+           \"href\": \"/favicon.ico\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/x-icon\",\n+         },\n+         {\n+           \"href\": \"/intercepting/(..)intercept-me/apple-icon.png\",\n+           \"rel\": \"apple-touch-icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/intercepting/(..)intercept-me/icon.png\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/manifest.json\",\n+           \"rel\": \"manifest\",\n+         },\n+       ],\n+       \"metas\": [\n+         {\n+           \"name\": \"twitter:card\",\n+         },\n+         {\n+           \"name\": \"twitter:image\",\n+         },\n+         {\n+           \"name\": \"twitter:image:height\",\n+         },\n+         {\n+           \"name\": \"twitter:image:type\",\n+         },\n+         {\n+           \"name\": \"twitter:image:width\",\n+         },\n+         {\n+           \"name\": \"viewport\",\n+         },\n+         {\n+           \"property\": \"og:image\",\n+         },\n+         {\n+           \"property\": \"og:image:height\",\n+         },\n+         {\n+           \"property\": \"og:image:type\",\n+         },\n+         {\n+           \"property\": \"og:image:width\",\n+         },\n+       ],\n+     }\n+    `)\n+  })\n+\n+  it('should serve static files when requested to its route for intercepting page', async () => {\n+    const [\n+      appleIconRes,\n+      iconRes,\n+      opengraphImageRes,\n+      twitterImageRes,\n+      sitemapRes,\n+    ] = await Promise.all([\n+      next.fetch(`/intercepting/(..)intercept-me/apple-icon.png`),\n+      next.fetch(`/intercepting/(..)intercept-me/icon.png`),\n+      next.fetch(`/intercepting/(..)intercept-me/opengraph-image.png`),\n+      next.fetch(`/intercepting/(..)intercept-me/twitter-image.png`),\n+      next.fetch('/intercepting/(..)intercept-me/sitemap.xml'),\n+    ])\n+\n+    // Compare response content with actual files\n+    const [\n+      actualAppleIcon,\n+      actualIcon,\n+      actualOpengraphImage,\n+      actualTwitterImage,\n+      actualSitemap,\n+    ] = await Promise.all([\n+      next.readFileBuffer('app/intercepting/(..)intercept-me/apple-icon.png'),\n+      next.readFileBuffer('app/intercepting/(..)intercept-me/icon.png'),\n+      next.readFileBuffer(\n+        'app/intercepting/(..)intercept-me/opengraph-image.png'\n+      ),\n+      next.readFileBuffer(\n+        'app/intercepting/(..)intercept-me/twitter-image.png'\n+      ),\n+      next.readFile('app/intercepting/(..)intercept-me/sitemap.xml'),\n+    ])\n+\n+    expect({\n+      appleIcon: Buffer.compare(\n+        Buffer.from(await appleIconRes.arrayBuffer()),\n+        actualAppleIcon\n+      ),\n+      icon: Buffer.compare(\n+        Buffer.from(await iconRes.arrayBuffer()),\n+        actualIcon\n+      ),\n+      opengraphImage: Buffer.compare(\n+        Buffer.from(await opengraphImageRes.arrayBuffer()),\n+        actualOpengraphImage\n+      ),\n+      twitterImage: Buffer.compare(\n+        Buffer.from(await twitterImageRes.arrayBuffer()),\n+        actualTwitterImage\n+      ),\n+      sitemap: await sitemapRes.text(),\n+    }).toEqual({\n+      // Buffer comparison returns 0 for equal\n+      appleIcon: 0,\n+      icon: 0,\n+      opengraphImage: 0,\n+      twitterImage: 0,\n+      sitemap: actualSitemap,\n+    })\n+  })\n+})"
        },
        {
            "sha": "7f82cea9d7947ff875e8e06ab1505a38d5ff3934",
            "filename": "test/e2e/app-dir/metadata-static-file/metadata-static-file-parallel-route.test.ts",
            "status": "added",
            "additions": 147,
            "deletions": 0,
            "changes": 147,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-parallel-route.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-parallel-route.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-parallel-route.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,147 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { getCommonMetadataHeadTags } from './utils'\n+\n+describe('metadata-files-static-output-parallel-route', () => {\n+  if (process.env.__NEXT_EXPERIMENTAL_CACHE_COMPONENTS) {\n+    // Cache Components build fails when metadata files are inside a dynamic route.\n+    //\n+    // Route \"/dynamic/[id]\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...)\n+    // or uncached external data (`fetch(...)`, etc...) when the rest of the route does not.\n+    // See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata\n+    // Error occurred prerendering page \"/dynamic/[id]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+    // Export encountered an error on /dynamic/[id]/page: /dynamic/[id], exiting the build.\n+    //\n+    // TODO: Remove this skip when metadata files are supported in dynamic routes for Cache Components.\n+    it.skip('should skip test for Cache Components', () => {})\n+    return\n+  }\n+\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should have correct link tags for parallel slot page', async () => {\n+    const browser = await next.browser('/parallel')\n+\n+    expect(await getCommonMetadataHeadTags(browser)).toMatchInlineSnapshot(`\n+     {\n+       \"links\": [\n+         {\n+           \"href\": \"/favicon.ico\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/x-icon\",\n+         },\n+         {\n+           \"href\": \"/manifest.json\",\n+           \"rel\": \"manifest\",\n+         },\n+         {\n+           \"href\": \"/parallel/apple-icon-kzjltp.png\",\n+           \"rel\": \"apple-touch-icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/parallel/icon-kzjltp.png\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/png\",\n+         },\n+       ],\n+       \"metas\": [\n+         {\n+           \"name\": \"twitter:card\",\n+         },\n+         {\n+           \"name\": \"twitter:image\",\n+         },\n+         {\n+           \"name\": \"twitter:image:height\",\n+         },\n+         {\n+           \"name\": \"twitter:image:type\",\n+         },\n+         {\n+           \"name\": \"twitter:image:width\",\n+         },\n+         {\n+           \"name\": \"viewport\",\n+         },\n+         {\n+           \"property\": \"og:image\",\n+         },\n+         {\n+           \"property\": \"og:image:height\",\n+         },\n+         {\n+           \"property\": \"og:image:type\",\n+         },\n+         {\n+           \"property\": \"og:image:width\",\n+         },\n+       ],\n+     }\n+    `)\n+  })\n+\n+  it('should serve static files when requested to its route for parallel slot page', async () => {\n+    const [\n+      appleIconRes,\n+      iconRes,\n+      opengraphImageRes,\n+      twitterImageRes,\n+      sitemapRes,\n+    ] = await Promise.all([\n+      next.fetch(`/parallel/apple-icon-kzjltp.png`),\n+      next.fetch(`/parallel/icon-kzjltp.png`),\n+      next.fetch(`/parallel/opengraph-image-kzjltp.png`),\n+      next.fetch(`/parallel/twitter-image-kzjltp.png`),\n+      next.fetch(`/parallel/sitemap.xml`),\n+    ])\n+\n+    // Compare response content with actual files\n+    const [\n+      actualAppleIcon,\n+      actualIcon,\n+      actualOpengraphImage,\n+      actualTwitterImage,\n+      actualSitemap,\n+    ] = await Promise.all([\n+      next.readFileBuffer('app/parallel/@parallel/apple-icon.png'),\n+      next.readFileBuffer('app/parallel/@parallel/icon.png'),\n+      next.readFileBuffer('app/parallel/@parallel/opengraph-image.png'),\n+      next.readFileBuffer('app/parallel/@parallel/twitter-image.png'),\n+      next.readFile('app/parallel/@parallel/sitemap.xml'),\n+    ])\n+\n+    expect({\n+      appleIcon: Buffer.compare(\n+        Buffer.from(await appleIconRes.arrayBuffer()),\n+        actualAppleIcon\n+      ),\n+      icon: Buffer.compare(\n+        Buffer.from(await iconRes.arrayBuffer()),\n+        actualIcon\n+      ),\n+      opengraphImage: Buffer.compare(\n+        Buffer.from(await opengraphImageRes.arrayBuffer()),\n+        actualOpengraphImage\n+      ),\n+      twitterImage: Buffer.compare(\n+        Buffer.from(await twitterImageRes.arrayBuffer()),\n+        actualTwitterImage\n+      ),\n+      sitemap: await sitemapRes.text(),\n+    }).toEqual({\n+      // Buffer comparison returns 0 for equal\n+      appleIcon: 0,\n+      icon: 0,\n+      opengraphImage: 0,\n+      twitterImage: 0,\n+      sitemap: actualSitemap,\n+    })\n+  })\n+})"
        },
        {
            "sha": "438b5894851114d8200077c4243a880c4923d58a",
            "filename": "test/e2e/app-dir/metadata-static-file/metadata-static-file-root-route.test.ts",
            "status": "added",
            "additions": 85,
            "deletions": 0,
            "changes": 85,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-root-route.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-root-route.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-root-route.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,85 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { getCommonMetadataHeadTags } from './utils'\n+\n+describe('metadata-files-static-output-root-route', () => {\n+  if (process.env.__NEXT_EXPERIMENTAL_CACHE_COMPONENTS) {\n+    // Cache Components build fails when metadata files are inside a dynamic route.\n+    //\n+    // Route \"/dynamic/[id]\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...)\n+    // or uncached external data (`fetch(...)`, etc...) when the rest of the route does not.\n+    // See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata\n+    // Error occurred prerendering page \"/dynamic/[id]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+    // Export encountered an error on /dynamic/[id]/page: /dynamic/[id], exiting the build.\n+    //\n+    // TODO: Remove this skip when metadata files are supported in dynamic routes for Cache Components.\n+    it.skip('should skip test for Cache Components', () => {})\n+    return\n+  }\n+\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should have correct link tags for root page', async () => {\n+    const browser = await next.browser('/')\n+\n+    expect(await getCommonMetadataHeadTags(browser)).toMatchInlineSnapshot(`\n+     {\n+       \"links\": [\n+         {\n+           \"href\": \"/favicon.ico\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/x-icon\",\n+         },\n+         {\n+           \"href\": \"/manifest.json\",\n+           \"rel\": \"manifest\",\n+         },\n+       ],\n+       \"metas\": [\n+         {\n+           \"name\": \"viewport\",\n+         },\n+       ],\n+     }\n+    `)\n+  })\n+\n+  it('should serve static files when requested to its route', async () => {\n+    const [faviconRes, manifestRes, robotsRes, sitemapRes] = await Promise.all([\n+      next.fetch('/favicon.ico'),\n+      next.fetch('/manifest.json'),\n+      next.fetch('/robots.txt'),\n+      next.fetch('/sitemap.xml'),\n+    ])\n+\n+    // Compare response content with actual files\n+    const [actualFavicon, actualManifest, actualRobots, actualSitemap] =\n+      await Promise.all([\n+        next.readFileBuffer('app/favicon.ico'),\n+        next.readFile('app/manifest.json'),\n+        next.readFile('app/robots.txt'),\n+        next.readFile('app/sitemap.xml'),\n+      ])\n+\n+    expect({\n+      favicon: Buffer.compare(\n+        Buffer.from(await faviconRes.arrayBuffer()),\n+        actualFavicon\n+      ),\n+      manifest: await manifestRes.text(),\n+      robots: await robotsRes.text(),\n+      sitemap: await sitemapRes.text(),\n+    }).toEqual({\n+      favicon: 0, // Buffer comparison returns 0 for equal\n+      manifest: actualManifest,\n+      robots: actualRobots,\n+      sitemap: actualSitemap,\n+    })\n+  })\n+})"
        },
        {
            "sha": "92af711ae30eda43787ce4f3c99408bf9b47656a",
            "filename": "test/e2e/app-dir/metadata-static-file/metadata-static-file-static-route.test.ts",
            "status": "added",
            "additions": 147,
            "deletions": 0,
            "changes": 147,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-static-route.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-static-route.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fmetadata-static-file-static-route.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,147 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { getCommonMetadataHeadTags } from './utils'\n+\n+describe('metadata-files-static-output-static-route', () => {\n+  if (process.env.__NEXT_EXPERIMENTAL_CACHE_COMPONENTS) {\n+    // Cache Components build fails when metadata files are inside a dynamic route.\n+    //\n+    // Route \"/dynamic/[id]\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...)\n+    // or uncached external data (`fetch(...)`, etc...) when the rest of the route does not.\n+    // See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata\n+    // Error occurred prerendering page \"/dynamic/[id]\". Read more: https://nextjs.org/docs/messages/prerender-error\n+    // Export encountered an error on /dynamic/[id]/page: /dynamic/[id], exiting the build.\n+    //\n+    // TODO: Remove this skip when metadata files are supported in dynamic routes for Cache Components.\n+    it.skip('should skip test for Cache Components', () => {})\n+    return\n+  }\n+\n+  const { next, skipped } = nextTestSetup({\n+    files: __dirname,\n+    skipDeployment: true,\n+  })\n+\n+  if (skipped) {\n+    return\n+  }\n+\n+  it('should have correct link tags for static page', async () => {\n+    const browser = await next.browser('/static')\n+\n+    expect(await getCommonMetadataHeadTags(browser)).toMatchInlineSnapshot(`\n+     {\n+       \"links\": [\n+         {\n+           \"href\": \"/favicon.ico\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/x-icon\",\n+         },\n+         {\n+           \"href\": \"/manifest.json\",\n+           \"rel\": \"manifest\",\n+         },\n+         {\n+           \"href\": \"/static/apple-icon.png\",\n+           \"rel\": \"apple-touch-icon\",\n+           \"type\": \"image/png\",\n+         },\n+         {\n+           \"href\": \"/static/icon.png\",\n+           \"rel\": \"icon\",\n+           \"type\": \"image/png\",\n+         },\n+       ],\n+       \"metas\": [\n+         {\n+           \"name\": \"twitter:card\",\n+         },\n+         {\n+           \"name\": \"twitter:image\",\n+         },\n+         {\n+           \"name\": \"twitter:image:height\",\n+         },\n+         {\n+           \"name\": \"twitter:image:type\",\n+         },\n+         {\n+           \"name\": \"twitter:image:width\",\n+         },\n+         {\n+           \"name\": \"viewport\",\n+         },\n+         {\n+           \"property\": \"og:image\",\n+         },\n+         {\n+           \"property\": \"og:image:height\",\n+         },\n+         {\n+           \"property\": \"og:image:type\",\n+         },\n+         {\n+           \"property\": \"og:image:width\",\n+         },\n+       ],\n+     }\n+    `)\n+  })\n+\n+  it('should serve static files when requested to its route for static page', async () => {\n+    const [\n+      appleIconRes,\n+      iconRes,\n+      opengraphImageRes,\n+      twitterImageRes,\n+      sitemapRes,\n+    ] = await Promise.all([\n+      next.fetch('/static/apple-icon.png'),\n+      next.fetch('/static/icon.png'),\n+      next.fetch('/static/opengraph-image.png'),\n+      next.fetch('/static/twitter-image.png'),\n+      next.fetch('/static/sitemap.xml'),\n+    ])\n+\n+    // Compare response content with actual files\n+    const [\n+      actualAppleIcon,\n+      actualIcon,\n+      actualOpengraphImage,\n+      actualTwitterImage,\n+      actualSitemap,\n+    ] = await Promise.all([\n+      next.readFileBuffer('app/static/apple-icon.png'),\n+      next.readFileBuffer('app/static/icon.png'),\n+      next.readFileBuffer('app/static/opengraph-image.png'),\n+      next.readFileBuffer('app/static/twitter-image.png'),\n+      next.readFile('app/static/sitemap.xml'),\n+    ])\n+\n+    expect({\n+      appleIcon: Buffer.compare(\n+        Buffer.from(await appleIconRes.arrayBuffer()),\n+        actualAppleIcon\n+      ),\n+      icon: Buffer.compare(\n+        Buffer.from(await iconRes.arrayBuffer()),\n+        actualIcon\n+      ),\n+      opengraphImage: Buffer.compare(\n+        Buffer.from(await opengraphImageRes.arrayBuffer()),\n+        actualOpengraphImage\n+      ),\n+      twitterImage: Buffer.compare(\n+        Buffer.from(await twitterImageRes.arrayBuffer()),\n+        actualTwitterImage\n+      ),\n+      sitemap: await sitemapRes.text(),\n+    }).toEqual({\n+      // Buffer comparison returns 0 for equal\n+      appleIcon: 0,\n+      icon: 0,\n+      opengraphImage: 0,\n+      twitterImage: 0,\n+      sitemap: actualSitemap,\n+    })\n+  })\n+})"
        },
        {
            "sha": "807126e4cf0bf5b1c8c917e6e0148a27331587d1",
            "filename": "test/e2e/app-dir/metadata-static-file/next.config.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Fnext.config.js?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,6 @@\n+/**\n+ * @type {import('next').NextConfig}\n+ */\n+const nextConfig = {}\n+\n+module.exports = nextConfig"
        },
        {
            "sha": "6ce4e738d3930551927ca68db6a246362ec29ca4",
            "filename": "test/e2e/app-dir/metadata-static-file/utils.ts",
            "status": "added",
            "additions": 80,
            "deletions": 0,
            "changes": 80,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata-static-file%2Futils.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -0,0 +1,80 @@\n+// @ts-nocheck - On isolated test, this will be a type error.\n+import type { Playwright } from '../../../lib/next-webdriver'\n+\n+async function getMetadataLinks(browser: Playwright) {\n+  const links = await browser.locator('link').evaluateAll((elements: any[]) => {\n+    return elements\n+      .filter((el) => {\n+        if (el.href.includes('/_next/static')) {\n+          return false\n+        }\n+\n+        return [\n+          '/favicon.ico',\n+          '/manifest.json',\n+          '/manifest.webmanifest',\n+          // Below may have suffixes like /icon1.png, /icon2.png, etc.\n+          // Or has suffixes like /icon-xxxxxx.png, /icon-image-yyyyyy.jpg, etc.\n+          '/icon',\n+          '/apple-icon',\n+          '/opengraph-image',\n+          '/twitter-image',\n+        ].some((file) =>\n+          new URL(el.href, window.location.origin).pathname.includes(file)\n+        )\n+      })\n+      .map((el) => ({\n+        href: new URL(el.href, window.location.origin).pathname,\n+        rel: el.rel,\n+        ...(el.type && { type: el.type }),\n+      }))\n+      .sort((a, b) => a.href.localeCompare(b.href))\n+  })\n+  return links\n+}\n+\n+async function getMetadataMetas(browser: Playwright) {\n+  const metas = await browser.locator('meta').evaluateAll((elements: any[]) => {\n+    return elements\n+      .filter((meta) => {\n+        if (!meta.name && !meta.hasAttribute('property')) {\n+          return false\n+        }\n+\n+        const attr = meta.name || meta.getAttribute('property') || ''\n+        return [\n+          'og:',\n+          'twitter:',\n+          'viewport',\n+          'description',\n+          'keywords',\n+          'robots',\n+        ].some(\n+          (prefix) => attr.startsWith(prefix) || attr === prefix.slice(0, -1)\n+        )\n+      })\n+      .map((el) => ({\n+        ...(el.name && { name: el.name }),\n+        ...(el.hasAttribute('property') && {\n+          property: el.getAttribute('property'),\n+        }),\n+      }))\n+      .sort((a, b) => {\n+        if (a.name && !b.name) return -1\n+        if (!a.name && b.name) return 1\n+        return (a.name || a.property || '').localeCompare(\n+          b.name || b.property || ''\n+        )\n+      })\n+  })\n+  return metas\n+}\n+\n+export async function getCommonMetadataHeadTags(browser: Playwright) {\n+  const [links, metas] = await Promise.all([\n+    getMetadataLinks(browser),\n+    getMetadataMetas(browser),\n+  ])\n+\n+  return { links, metas }\n+}"
        },
        {
            "sha": "d0cf14e37656f3095c09bc7a95d942aea1106e69",
            "filename": "test/e2e/app-dir/metadata/metadata.test.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 4,
            "changes": 17,
            "blob_url": "https://github.com/vercel/next.js/blob/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/1482af898d7490ce417901c566f6641be48f80a5/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fmetadata%2Fmetadata.test.ts?ref=1482af898d7490ce417901c566f6641be48f80a5",
            "patch": "@@ -680,7 +680,9 @@ describe('app dir - metadata', () => {\n       expect(res.status).toBe(200)\n       expect(res.headers.get('content-type')).toBe('image/x-icon')\n       expect(res.headers.get('cache-control')).toBe(\n-        isNextDev ? 'no-cache, no-store' : 'public, max-age=0, must-revalidate'\n+        isNextDev\n+          ? 'no-store, must-revalidate'\n+          : 'public, max-age=0, must-revalidate'\n       )\n     })\n \n@@ -693,18 +695,25 @@ describe('app dir - metadata', () => {\n       expect(resAppleIcon.status).toBe(200)\n       expect(resAppleIcon.headers.get('content-type')).toBe('image/png')\n       expect(resAppleIcon.headers.get('cache-control')).toBe(\n-        isNextDev ? 'no-cache, no-store' : 'public, max-age=0, must-revalidate'\n+        isNextDev\n+          ? 'no-store, must-revalidate'\n+          : 'public, max-age=0, must-revalidate'\n       )\n       expect(resIcon.status).toBe(200)\n       expect(resIcon.headers.get('content-type')).toBe('image/png')\n       expect(resIcon.headers.get('cache-control')).toBe(\n-        isNextDev ? 'no-cache, no-store' : 'public, max-age=0, must-revalidate'\n+        isNextDev\n+          ? 'no-store, must-revalidate'\n+          : 'public, max-age=0, must-revalidate'\n       )\n     })\n \n     it('should support root dir robots.txt', async () => {\n       const res = await next.fetch('/robots.txt')\n-      expect(res.headers.get('content-type')).toBe('text/plain')\n+      expect(res.headers.get('content-type')).toBe(\n+        // In dev, sendStatic() is used to send static files, which adds MIME type.\n+        isNextDev ? 'text/plain; charset=UTF-8' : 'text/plain'\n+      )\n       expect(await res.text()).toContain('User-Agent: *\\nDisallow:')\n       const invalidRobotsResponse = await next.fetch('/title/robots.txt')\n       expect(invalidRobotsResponse.status).toBe(404)"
        }
    ],
    "stats": {
        "total": 1192,
        "additions": 1184,
        "deletions": 8
    }
}