{
    "author": "eps1lon",
    "message": "[link] Avoid inlining of `LinkProps` in emitted declarations (#78773)\n\n`tsc` might decide that `LinkProps` should be inlined which would break libraries depending on `next` since that effectively pins the dependency to a patch version.\r\n\r\nWorkaround is explained here: https://github.com/microsoft/TypeScript/issues/37151#issuecomment-756232934\r\n\r\nI can't come up with a minimal repro but verified it manually in an internal package. This would've avoided https://github.com/vercel/microfrontends/pull/171\r\n\r\nWe should probably lint against types that could be interfaces. But really, https://github.com/microsoft/TypeScript/issues/57779 should be fixed. Inlining types from libraries should be configurable. Most dependencies are not pinned to patch versions but majors.",
    "sha": "556e0c6a3d198f83cbaaf9229bab5eb9d72ccebd",
    "files": [
        {
            "sha": "ac05399ed07b6d88bae722ca6a3eedd2ce6b1f5a",
            "filename": "packages/next/src/client/link.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/556e0c6a3d198f83cbaaf9229bab5eb9d72ccebd/packages%2Fnext%2Fsrc%2Fclient%2Flink.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/556e0c6a3d198f83cbaaf9229bab5eb9d72ccebd/packages%2Fnext%2Fsrc%2Fclient%2Flink.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Flink.tsx?ref=556e0c6a3d198f83cbaaf9229bab5eb9d72ccebd",
            "patch": "@@ -119,8 +119,11 @@ type InternalLinkProps = {\n \n // `RouteInferType` is a stub here to avoid breaking `typedRoutes` when the type\n // isn't generated yet. It will be replaced when the webpack plugin runs.\n+// WARNING: This should be an interface to prevent TypeScript from inlining it\n+// in declarations of libraries dependending on Next.js.\n+// Not trivial to reproduce so only convert to an interface when needed.\n // eslint-disable-next-line @typescript-eslint/no-unused-vars\n-export type LinkProps<RouteInferType = any> = InternalLinkProps\n+export interface LinkProps<RouteInferType = any> extends InternalLinkProps {}\n type LinkPropsRequired = RequiredKeys<LinkProps>\n type LinkPropsOptional = OptionalKeys<InternalLinkProps>\n "
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}