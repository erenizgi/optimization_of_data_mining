{
    "author": "eps1lon",
    "message": "[dev-overlay] Dim ignore-listed callstack frames when shown (#76862)",
    "sha": "f33a4b321613685f509c5aea34f1a39dd0c458f6",
    "files": [
        {
            "sha": "ef8b89783772e0db8ee0e17efd0cb7f0f9c6f022",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/call-stack-frame/call-stack-frame.tsx",
            "status": "modified",
            "additions": 10,
            "deletions": 14,
            "changes": 24,
            "blob_url": "https://github.com/vercel/next.js/blob/f33a4b321613685f509c5aea34f1a39dd0c458f6/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fcall-stack-frame%2Fcall-stack-frame.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/f33a4b321613685f509c5aea34f1a39dd0c458f6/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fcall-stack-frame%2Fcall-stack-frame.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fcall-stack-frame%2Fcall-stack-frame.tsx?ref=f33a4b321613685f509c5aea34f1a39dd0c458f6",
            "patch": "@@ -8,8 +8,7 @@ import { useOpenInEditor } from '../../utils/use-open-in-editor'\n \n export const CallStackFrame: React.FC<{\n   frame: OriginalStackFrame\n-  index: number\n-}> = function CallStackFrame({ frame, index }) {\n+}> = function CallStackFrame({ frame }) {\n   // TODO: ability to expand resolved frames\n \n   const f: StackFrame = frame.originalStackFrame ?? frame.sourceStackFrame\n@@ -39,17 +38,10 @@ export const CallStackFrame: React.FC<{\n   return (\n     <div\n       data-nextjs-call-stack-frame\n-      data-nextjs-call-stack-frame-ignored={!hasSource}\n-      style={\n-        {\n-          '--index': index,\n-        } as React.CSSProperties\n-      }\n+      data-nextjs-call-stack-frame-no-source={!hasSource}\n+      data-nextjs-call-stack-frame-ignored={frame.ignored}\n     >\n-      <div\n-        data-nextjs-frame-expanded={!frame.ignored}\n-        className=\"call-stack-frame-method-name\"\n-      >\n+      <div className=\"call-stack-frame-method-name\">\n         <HotlinkedText text={formattedMethod} />\n         {hasSource && (\n           <button onClick={open} className=\"open-in-editor-button\">\n@@ -77,17 +69,21 @@ export const CallStackFrame: React.FC<{\n }\n \n export const CALL_STACK_FRAME_STYLES = `\n-  [data-nextjs-call-stack-frame-ignored] {\n+  [data-nextjs-call-stack-frame-no-source] {\n     padding: 6px 8px;\n     margin-bottom: 4px;\n \n     border-radius: var(--rounded-lg);\n   }\n \n-  [data-nextjs-call-stack-frame-ignored]:last-child {\n+  [data-nextjs-call-stack-frame-no-source]:last-child {\n     margin-bottom: 0;\n   }\n \n+  [data-nextjs-call-stack-frame-ignored=\"true\"] {\n+    opacity: 0.6;\n+  }\n+\n   [data-nextjs-call-stack-frame] {\n     user-select: text;\n     display: block;"
        },
        {
            "sha": "1c7a56f387e8e3fae56be6f3127d4ce6b3194660",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/errors/call-stack/call-stack.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f33a4b321613685f509c5aea34f1a39dd0c458f6/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Fcall-stack%2Fcall-stack.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/f33a4b321613685f509c5aea34f1a39dd0c458f6/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Fcall-stack%2Fcall-stack.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Fcall-stack%2Fcall-stack.tsx?ref=f33a4b321613685f509c5aea34f1a39dd0c458f6",
            "patch": "@@ -62,7 +62,7 @@ export function CallStack({ frames, dialogResizerRef }: CallStackProps) {\n       </div>\n       {frames.map((frame, frameIndex) => {\n         return !frame.ignored || isIgnoreListOpen ? (\n-          <CallStackFrame key={frameIndex} frame={frame} index={frameIndex} />\n+          <CallStackFrame key={frameIndex} frame={frame} />\n         ) : null\n       })}\n     </div>"
        },
        {
            "sha": "84b0a914d887339ad69b7635d3723c10551e5338",
            "filename": "test/lib/next-test-utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/f33a4b321613685f509c5aea34f1a39dd0c458f6/test%2Flib%2Fnext-test-utils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/f33a4b321613685f509c5aea34f1a39dd0c458f6/test%2Flib%2Fnext-test-utils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Flib%2Fnext-test-utils.ts?ref=f33a4b321613685f509c5aea34f1a39dd0c458f6",
            "patch": "@@ -1676,7 +1676,7 @@ export async function getStackFramesContent(browser) {\n   const stackFramesContent = (\n     await Promise.all(\n       stackFrameElements.map(async (frame) => {\n-        const functionNameEl = await frame.$('[data-nextjs-frame-expanded]')\n+        const functionNameEl = await frame.$('.call-stack-frame-method-name')\n         const sourceEl = await frame.$('[data-has-source=\"true\"]')\n         const functionName = functionNameEl\n           ? await functionNameEl.innerText()"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 12,
        "deletions": 16
    }
}