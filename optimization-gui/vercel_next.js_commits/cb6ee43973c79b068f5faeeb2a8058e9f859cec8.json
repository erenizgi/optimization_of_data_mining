{
    "author": "icyJoseph",
    "message": "docs: eslint config update (#85969)\n\nCloses: https://github.com/vercel/next.js/issues/85947",
    "sha": "cb6ee43973c79b068f5faeeb2a8058e9f859cec8",
    "files": [
        {
            "sha": "b6e527d90b71d37fb50b49b082ee48e1095fe191",
            "filename": "docs/01-app/03-api-reference/05-config/03-eslint.mdx",
            "status": "modified",
            "additions": 58,
            "deletions": 42,
            "changes": 100,
            "blob_url": "https://github.com/vercel/next.js/blob/cb6ee43973c79b068f5faeeb2a8058e9f859cec8/docs%2F01-app%2F03-api-reference%2F05-config%2F03-eslint.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/cb6ee43973c79b068f5faeeb2a8058e9f859cec8/docs%2F01-app%2F03-api-reference%2F05-config%2F03-eslint.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F05-config%2F03-eslint.mdx?ref=cb6ee43973c79b068f5faeeb2a8058e9f859cec8",
            "patch": "@@ -6,7 +6,16 @@ description: Learn how to use and configure the ESLint plugin to catch common is\n \n {/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}\n \n-Next.js provides an ESLint plugin, [`@next/eslint-plugin-next`](https://www.npmjs.com/package/@next/eslint-plugin-next), already bundled within the base configuration that makes it possible to catch common issues and problems in a Next.js application.\n+Next.js provides an ESLint configuration package, [`eslint-config-next`](https://www.npmjs.com/package/eslint-config-next), that makes it easy to catch common issues in your application. It includes the [`@next/eslint-plugin-next`](https://www.npmjs.com/package/@next/eslint-plugin-next) plugin along with recommended rule-sets from [`eslint-plugin-react`](https://www.npmjs.com/package/eslint-plugin-react) and [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks).\n+\n+The package provides two main configurations:\n+\n+- **`eslint-config-next`**: Base configuration with Next.js, React, and React Hooks rules. Supports both JavaScript and TypeScript files.\n+- **`eslint-config-next/core-web-vitals`**: Includes everything from the base config, plus upgrades rules that impact [Core Web Vitals](https://web.dev/vitals/) from warnings to errors. Recommended for most projects.\n+\n+Additionally, for TypeScript projects:\n+\n+- **`eslint-config-next/typescript`**: Adds TypeScript-specific linting rules from [`typescript-eslint`](https://typescript-eslint.io/). Use this alongside the base or core-web-vitals config.\n \n ## Setup ESLint\n \n@@ -71,15 +80,15 @@ Get linting working quickly with the ESLint CLI (flat config):\n \n ## Reference\n \n-Recommended rule-sets from the following ESLint plugins are all used within `eslint-config-next`:\n+The `eslint-config-next` package includes the `recommended` rule-sets from the following ESLint plugins:\n \n - [`eslint-plugin-react`](https://www.npmjs.com/package/eslint-plugin-react)\n - [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks)\n - [`@next/eslint-plugin-next`](https://www.npmjs.com/package/@next/eslint-plugin-next)\n \n ### Rules\n \n-The full set of rules is as follows:\n+The `@next/eslint-plugin-next` rules included are:\n \n | Enabled in recommended config | Rule                                                                                                                     | Description                                                                                                      |\n | :---------------------------: | ------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------- |\n@@ -128,6 +137,7 @@ import eslintNextPlugin from '@next/eslint-plugin-next'\n \n const eslintConfig = defineConfig([\n   {\n+    files: ['**/*.{js,jsx,ts,tsx}'],\n     plugins: {\n       next: eslintNextPlugin,\n     },\n@@ -136,12 +146,6 @@ const eslintConfig = defineConfig([\n         rootDir: 'packages/my-app/',\n       },\n     },\n-    files: [\n-      // ...files\n-    ],\n-    ignores: [\n-      // ...ignores\n-    ],\n   },\n ])\n \n@@ -181,7 +185,7 @@ export default eslintConfig\n \n ### With Core Web Vitals\n \n-Enable the `next/core-web-vitals` rule set by extending it in your ESLint config.\n+Enable the `eslint-config-next/core-web-vitals` configuration in your ESLint config.\n \n ```js filename=\"eslint.config.mjs\"\n import { defineConfig, globalIgnores } from 'eslint/config'\n@@ -202,13 +206,13 @@ const eslintConfig = defineConfig([\n export default eslintConfig\n ```\n \n-`next/core-web-vitals` updates `@next/eslint-plugin-next` to error on a number of rules that are warnings by default if they affect [Core Web Vitals](https://web.dev/vitals/).\n+`eslint-config-next/core-web-vitals` upgrades certain lint rules in `@next/eslint-plugin-next` from warnings to errors to help improve your [Core Web Vitals](https://web.dev/vitals/) metrics.\n \n-> The `next/core-web-vitals` entry point is automatically included for new applications built with [Create Next App](/docs/app/api-reference/cli/create-next-app).\n+> The `eslint-config-next/core-web-vitals` configuration is automatically included for new applications built with [Create Next App](/docs/app/api-reference/cli/create-next-app).\n \n ### With TypeScript\n \n-In addition to the Next.js ESLint rules, `create-next-app --typescript` will also add TypeScript-specific lint rules with `next/typescript` to your config:\n+In addition to the Next.js ESLint rules, `create-next-app --typescript` will also add TypeScript-specific lint rules with `eslint-config-next/typescript` to your config:\n \n ```js filename=\"eslint.config.mjs\"\n import { defineConfig, globalIgnores } from 'eslint/config'\n@@ -296,34 +300,25 @@ module.exports = {\n }\n ```\n \n-### Migrating existing config\n+## Migrating existing config\n \n-If you already have ESLint configured in your application, we recommend extending from this plugin directly instead of including `eslint-config-next` unless a few conditions are met.\n+If you already have ESLint configured in your application, there are two approaches to integrate Next.js linting rules, depending on your setup.\n \n-#### Recommended plugin ruleset\n+#### Using the plugin directly\n \n-If the following conditions are true:\n+Use `@next/eslint-plugin-next` directly if you have any of the following already configured:\n \n-- You have one or more of the following plugins already installed (either separately or through a different config such as `airbnb` or `react-app`):\n+- Conflicting plugins installed separately or through another config (such as `airbnb` or `react-app`):\n   - `react`\n   - `react-hooks`\n   - `jsx-a11y`\n   - `import`\n-- You've defined specific `parserOptions` that are different from how Babel is configured within Next.js (this is not recommended unless you have [customized your Babel configuration](/docs/pages/guides/babel))\n-- You have `eslint-plugin-import` installed with Node.js and/or TypeScript [resolvers](https://github.com/benmosher/eslint-plugin-import#resolvers) defined to handle imports\n+- Custom `parserOptions` different from Next.js defaults (only if you have [customized your Babel configuration](/docs/pages/guides/babel))\n+- `eslint-plugin-import` with custom Node.js and/or TypeScript [resolvers](https://github.com/benmosher/eslint-plugin-import#resolvers)\n \n-Then we recommend either removing these settings if you prefer how these properties have been configured within [`eslint-config-next`](https://github.com/vercel/next.js/blob/canary/packages/eslint-config-next/index.js) or extending directly from the Next.js ESLint plugin instead:\n-\n-```js\n-module.exports = {\n-  extends: [\n-    //...\n-    'plugin:@next/next/recommended',\n-  ],\n-}\n-```\n+In these cases, use `@next/eslint-plugin-next` directly to avoid conflicts:\n \n-The plugin can be installed normally in your project:\n+First, install the plugin:\n \n ```bash package=\"pnpm\"\n pnpm add -D @next/eslint-plugin-next\n@@ -341,28 +336,49 @@ yarn add --dev @next/eslint-plugin-next\n bun add -d @next/eslint-plugin-next\n ```\n \n-This eliminates the risk of collisions or errors that can occur due to importing the same plugin or parser across multiple configurations.\n-\n-#### Additional configurations\n-\n-If you already use a separate ESLint configuration and want to include `eslint-config-next`, ensure that it is extended last after other configurations. For example:\n+Then add it to your ESLint config:\n \n ```js filename=\"eslint.config.mjs\"\n-import { defineConfig, globalIgnores } from 'eslint/config'\n+import { defineConfig } from 'eslint/config'\n import nextPlugin from '@next/eslint-plugin-next'\n \n const eslintConfig = defineConfig([\n-  nextPlugin.configs['core-web-vitals'],\n-  // List of ignore patterns.\n-  globalIgnores([]),\n+  // Your other configurations...\n+  {\n+    files: ['**/*.{js,jsx,ts,tsx}'],\n+    plugins: {\n+      '@next/next': nextPlugin,\n+    },\n+    rules: {\n+      ...nextPlugin.configs.recommended.rules,\n+    },\n+  },\n ])\n \n export default eslintConfig\n ```\n \n-The `next` configuration already handles setting default values for the `parser`, `plugins` and `settings` properties. There is no need to manually re-declare any of these properties unless you need a different configuration for your use case.\n+This approach eliminates the risk of collisions or errors that can occur when the same plugins or parsers are imported across multiple configurations.\n+\n+#### Adding to existing config\n+\n+If you're adding Next.js to an existing ESLint setup, spread the Next.js config into your array:\n+\n+```js filename=\"eslint.config.mjs\"\n+import nextConfig from 'eslint-config-next/core-web-vitals'\n+// Your other config imports...\n+\n+const eslintConfig = [\n+  // Your other configurations...\n+  ...nextConfig,\n+]\n+\n+export default eslintConfig\n+```\n+\n+When you spread `...nextConfig`, you're adding multiple config objects that include file patterns, plugins, rules, ignores, and parser settings. ESLint applies configs in order, so later rules can override earlier ones for matching files.\n \n-If you include any other shareable configurations, **you will need to make sure that these properties are not overwritten or modified**. Otherwise, we recommend removing any configurations that share behavior with the `next` configuration or extending directly from the Next.js ESLint plugin as mentioned above.\n+> **Good to know:** This approach works well for straightforward setups. If you have a complex existing config with specific file patterns or plugin configurations that conflict, consider using the plugin directly (as shown above) for more granular control.\n \n | Version   | Changes                                                                                                                                                                                                             |\n | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |"
        }
    ],
    "stats": {
        "total": 100,
        "additions": 58,
        "deletions": 42
    }
}