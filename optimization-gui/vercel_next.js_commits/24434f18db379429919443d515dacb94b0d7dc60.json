{
    "author": "delbaoliveira",
    "message": "Docs: Add Data Security Guide (#80249)\n\nCloses: https://linear.app/vercel/issue/DOC-4678/guide-data-security\n\nPlease merge this PR first: https://github.com/vercel/next.js/pull/80242\n\n---------\n\nCo-authored-by: graphite-app[bot] <96075541+graphite-app[bot]@users.noreply.github.com>\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "24434f18db379429919443d515dacb94b0d7dc60",
    "files": [
        {
            "sha": "0b6c4d989a5daa321564347cdf2a545fc283601e",
            "filename": "docs/01-app/01-getting-started/11-updating-data.mdx",
            "status": "modified",
            "additions": 136,
            "deletions": 9,
            "changes": 145,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F01-getting-started%2F11-updating-data.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F01-getting-started%2F11-updating-data.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F01-getting-started%2F11-updating-data.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -13,15 +13,21 @@ related:\n \n You can update data in Next.js using React's [Server Functions](https://react.dev/reference/rsc/server-functions). This page will go through how you can [create](#creating-server-functions) and [invoke](#invoking-server-functions) Server Functions.\n \n-## Server Functions\n+## What are Server Functions?\n \n-A Server Function is an asynchronous function that is executed on the server. Server Functions are inherently asynchronous because they are invoked by the client using a network request. When invoked as part of an `action`, they are also called **Server Actions**.\n+A **Server Function** is an asynchronous function that runs on the server. They can be called from client through a network request, which is why they must be asynchronous.\n \n-By convention, an `action` is an asynchronous function passed to `startTransition`. Server Functions are automatically wrapped with `startTransition` when:\n+In an `action` or mutation context, they are also called **Server Actions**.\n \n-- Passed to a `<form>` using the `action` prop,\n-- Passed to a `<button>` using the `formAction` prop\n-- Passed to `useActionState`\n+By convention, a Server Action is an async function used with [`startTransition`](https://react.dev/reference/react/startTransition). This happens automatically when the function is:\n+\n+- Passed to a `<form>` using the `action` prop.\n+- Passed to a `<button>` using the `formAction` prop.\n+- Passed to `useActionState`.\n+\n+In Next.js, Server Actions integrate with the framework's [caching](/docs/app/deep-dive/caching) architecture. When an action is invoked, Next.js can return both the updated UI and new data in a single server roundtrip.\n+\n+Behind the scenes, actions use the `POST` method, and only this HTTP method can invoke them.\n \n ## Creating Server Functions\n \n@@ -93,6 +99,8 @@ export default function Page() {\n }\n ```\n \n+> **Good to know:** Server Components support progressive enhancement by default, meaning forms that call Server Actions will be submitted even if JavaScript hasn't loaded yet or is disabled.\n+\n ### Client Components\n \n It's not possible to define Server Functions in Client Components. However, you can invoke them in Client Components by importing them from a file that has the `\"use server\"` directive at the top of it:\n@@ -129,6 +137,36 @@ export function Button() {\n }\n ```\n \n+> **Good to know:** In Client Components, forms invoking Server Actions will queue submissions if JavaScript isn't loaded yet, and will be prioritized for hydration. After hydration, the browser does not refresh on form submission.\n+\n+### Passing actions as props\n+\n+You can also pass an action to a Client Component as a prop:\n+\n+```jsx\n+<ClientComponent updateItemAction={updateItem} />\n+```\n+\n+```tsx filename=\"app/client-component.tsx\" switcher\n+'use client'\n+\n+export default function ClientComponent({\n+  updateItemAction,\n+}: {\n+  updateItemAction: (formData: FormData) => void\n+}) {\n+  return <form action={updateItemAction}>{/* ... */}</form>\n+}\n+```\n+\n+```jsx filename=\"app/client-component.js\" switcher\n+'use client'\n+\n+export default function ClientComponent({ updateItemAction }) {\n+  return <form action={updateItemAction}>{/* ... */}</form>\n+}\n+```\n+\n ## Invoking Server Functions\n \n There are two main ways you can invoke a Server Function:\n@@ -194,8 +232,6 @@ export async function createPost(formData) {\n }\n ```\n \n-> **Good to know:** When passed to the `action` prop, Server Functions are also known as _Server Actions_.\n-\n ### Event Handlers\n \n You can invoke a Server Function in a Client Component by using event handlers such as `onClick`.\n@@ -292,7 +328,7 @@ export function Button() {\n }\n ```\n \n-### Revalidating the cache\n+### Revalidating\n \n After performing an update, you can revalidate the Next.js cache and show the updated data by calling [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath) or [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) within the Server Function:\n \n@@ -348,3 +384,94 @@ export async function createPost(formData) {\n   redirect('/posts')\n }\n ```\n+\n+### Cookies\n+\n+You can `get`, `set`, and `delete` cookies inside a Server Action using the [`cookies`](/docs/app/api-reference/functions/cookies) API:\n+\n+```ts filename=\"app/actions.ts\" switcher\n+'use server'\n+\n+import { cookies } from 'next/headers'\n+\n+export async function exampleAction() {\n+  const cookieStore = await cookies()\n+\n+  // Get cookie\n+  cookieStore.get('name')?.value\n+\n+  // Set cookie\n+  cookieStore.set('name', 'Delba')\n+\n+  // Delete cookie\n+  cookieStore.delete('name')\n+}\n+```\n+\n+```js filename=\"app/actions.js\" switcher\n+'use server'\n+\n+import { cookies } from 'next/headers'\n+\n+export async function exampleAction() {\n+  // Get cookie\n+  const cookieStore = await cookies()\n+\n+  // Get cookie\n+  cookieStore.get('name')?.value\n+\n+  // Set cookie\n+  cookieStore.set('name', 'Delba')\n+\n+  // Delete cookie\n+  cookieStore.delete('name')\n+}\n+```\n+\n+### `useEffect`\n+\n+You can use the React [`useEffect`](https://react.dev/reference/react/useEffect) hook to invoke a Server Action when the component mounts or a dependency changes. This is useful for mutations that depend on global events or need to be triggered automatically. For example, `onKeyDown` for app shortcuts, an intersection observer hook for infinite scrolling, or when the component mounts to update a view count:\n+\n+```tsx filename=\"app/view-count.tsx\" switcher\n+'use client'\n+\n+import { incrementViews } from './actions'\n+import { useState, useEffect, useTransition } from 'react'\n+\n+export default function ViewCount({ initialViews }: { initialViews: number }) {\n+  const [views, setViews] = useState(initialViews)\n+  const [isPending, startTransition] = useTransition()\n+\n+  useEffect(() => {\n+    startTransition(async () => {\n+      const updatedViews = await incrementViews()\n+      setViews(updatedViews)\n+    })\n+  }, [])\n+\n+  // You can use `isPending` to give users feedback\n+  return <p>Total Views: {views}</p>\n+}\n+```\n+\n+```jsx filename=\"app/view-count.js\" switcher\n+'use client'\n+\n+import { incrementViews } from './actions'\n+import { useState, useEffect, useTransition } from 'react'\n+\n+export default function ViewCount({ initialViews }) {\n+  const [views, setViews] = useState(initialViews)\n+  const [isPending, startTransition] = useTransition()\n+\n+  useEffect(() => {\n+    startTransition(async () => {\n+      const updatedViews = await incrementViews()\n+      setViews(updatedViews)\n+    })\n+  }, [])\n+\n+  // You can use `isPending` to give users feedback\n+  return <p>Total Views: {views}</p>\n+}\n+```"
        },
        {
            "sha": "2ea1722f7484c8045d34396aaf9f63b0e7c084fc",
            "filename": "docs/01-app/02-guides/authentication.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fauthentication.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -30,7 +30,7 @@ The examples on this page walk through basic username and password auth for educ\n \n ### Sign-up and login functionality\n \n-You can use the [`<form>`](https://react.dev/reference/react-dom/components/form) element with React's [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) and `useActionState` to capture user credentials, validate form fields, and call your Authentication Provider's API or database.\n+You can use the [`<form>`](https://react.dev/reference/react-dom/components/form) element with React's [Server Actions](/docs/app/getting-started/updating-data) and `useActionState` to capture user credentials, validate form fields, and call your Authentication Provider's API or database.\n \n Since Server Actions always execute on the server, they provide a secure environment for handling authentication logic.\n \n@@ -1403,7 +1403,7 @@ export const getUser = cache(async () => {\n \n ### Server Actions\n \n-Treat [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) with the same security considerations as public-facing API endpoints, and verify if the user is allowed to perform a mutation.\n+Treat [Server Actions](/docs/app/getting-started/updating-data) with the same security considerations as public-facing API endpoints, and verify if the user is allowed to perform a mutation.\n \n In the example below, we check the user's role before allowing the action to proceed:\n "
        },
        {
            "sha": "7598a148adbbf64bfcd4e0cb026dacdef2061b36",
            "filename": "docs/01-app/02-guides/data-security.mdx",
            "status": "added",
            "additions": 470,
            "deletions": 0,
            "changes": 470,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fdata-security.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fdata-security.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fdata-security.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -0,0 +1,470 @@\n+---\n+title: How to think about data security in Next.js\n+nav_title: Data Security\n+description: Learn the built-in data security features in Next.js and learn best practices for protecting your application's data.\n+related:\n+  title: Next Steps\n+  description: Learn more about the topics mentioned in this guide.\n+  links:\n+    - app/guides/authentication\n+    - app/guides/content-security-policy\n+    - app/guides/forms\n+---\n+\n+[React Server Components](https://react.dev/reference/rsc/server-components) improve performance and simplify data fetching, but also shift where and how data is accessed, changing some of the traditional security assumptions for handling data in frontend apps.\n+\n+This guide will help you understand how to think about data security in Next.js and how to implement best practices.\n+\n+## Data fetching approaches\n+\n+There are three main approaches we recommend for fetching data in Next.js, depending on the size and age of your project:\n+\n+- [HTTP APIs](#external-http-apis): for existing large applications and organizations.\n+- [Data Access Layer](#data-access-layer): for new projects.\n+- [Component-Level Data Access](#component-level-data-access): for prototypes and learning.\n+\n+We recommend choosing one data fetching approach and avoiding mixing them. This makes it clear for both developers working in your code base and security auditors what to expect.\n+\n+### External HTTP APIs\n+\n+You should follow a **Zero Trust** model when adopting Server Components in an existing project. You can continue calling your existing API endpoints such as REST or GraphQL from Server Components using [`fetch`](/docs/app/api-reference/functions/fetch), just as you would in Client Components.\n+\n+```tsx filename=\"app/page.tsx\"\n+import { cookies } from 'next/headers'\n+\n+export default async function Page() {\n+  const cookieStore = cookies()\n+  const token = cookieStore.get('AUTH_TOKEN')?.value\n+\n+  const res = await fetch('https://api.example.com/profile', {\n+    headers: {\n+      Cookie: `AUTH_TOKEN=${token}`,\n+      // Other headers\n+    },\n+  })\n+\n+  // ....\n+}\n+```\n+\n+This approach works well when:\n+\n+- You already have security practices in place.\n+- Separate backend teams use other languages or manage APIs independently.\n+\n+### Data Access Layer\n+\n+For new projects, we recommend creating a dedicated **Data Access Layer (DAL)**. This is a internal library that controls how and when data is fetched, and what gets passed to your render context.\n+\n+A Data Access Layer should:\n+\n+- Only run on the server.\n+- Perform authorization checks.\n+- Return safe, minimal **Data Transfer Objects (DTOs)**.\n+\n+This approach centralizes all data access logic, making it easier to enforce consistent data access and reduces the risk of authorization bugs. You also get the benefit of sharing an in-memory cache across different parts of a request.\n+\n+```ts filename=\"data/auth.ts\"\n+import { cache } from 'react'\n+import { cookies } from 'next/headers'\n+\n+// Cached helper methods makes it easy to get the same value in many places\n+// without manually passing it around. This discourages passing it from Server\n+// Component to Server Component which minimizes risk of passing it to a Client\n+// Component.\n+export const getCurrentUser = cache(async () => {\n+  const token = cookies().get('AUTH_TOKEN')\n+  const decodedToken = await decryptAndValidate(token)\n+  // Don't include secret tokens or private information as public fields.\n+  // Use classes to avoid accidentally passing the whole object to the client.\n+  return new User(decodedToken.id)\n+})\n+```\n+\n+```tsx filename=\"data/user-dto.tsx\"\n+import 'server-only'\n+import { getCurrentUser } from './auth'\n+\n+function canSeeUsername(viewer: User) {\n+  // Public info for now, but can change\n+  return true\n+}\n+\n+function canSeePhoneNumber(viewer: User, team: string) {\n+  // Privacy rules\n+  return viewer.isAdmin || team === viewer.team\n+}\n+\n+export async function getProfileDTO(slug: string) {\n+  // Don't pass values, read back cached values, also solves context and easier to make it lazy\n+\n+  // use a database API that supports safe templating of queries\n+  const [rows] = await sql`SELECT * FROM user WHERE slug = ${slug}`\n+  const userData = rows[0]\n+\n+  const currentUser = await getCurrentUser()\n+\n+  // only return the data relevant for this query and not everything\n+  // <https://www.w3.org/2001/tag/doc/APIMinimization>\n+  return {\n+    username: canSeeUsername(currentUser) ? userData.username : null,\n+    phonenumber: canSeePhoneNumber(currentUser, userData.team)\n+      ? userData.phonenumber\n+      : null,\n+  }\n+}\n+```\n+\n+```tsx filename=\"app/page.tsx\"\n+import { getProfile } from '../../data/user'\n+\n+export async function Page({ params: { slug } }) {\n+  // This page can now safely pass around this profile knowing\n+  // that it shouldn't contain anything sensitive.\n+  const profile = await getProfile(slug);\n+  ...\n+}\n+```\n+\n+> **Good to know:** Secret keys should be stored in environment variables, but only the Data Access Layer should access `process.env`. This keeps secrets from being exposed to other parts of the application.\n+\n+### Component-level data access\n+\n+For quick prototypes and iteration, database queries can be placed directly in Server Components.\n+\n+This approach, however, makes it easier to accidentally expose private data to the client, for example:\n+\n+```tsx filename=\"app/page.tsx\"\n+import Profile from './components/profile.tsx'\n+\n+export async function Page({ params: { slug } }) {\n+  const [rows] = await sql`SELECT * FROM user WHERE slug = ${slug}`\n+  const userData = rows[0]\n+  // EXPOSED: This exposes all the fields in userData to the client because\n+  // we are passing the data from the Server Component to the Client.\n+  return <Profile user={userData} />\n+}\n+```\n+\n+```tsx filename=\"app/ui/profile.tsx\"\n+'use client'\n+\n+// BAD: This is a bad props interface because it accepts way more data than the\n+// Client Component needs and it encourages server components to pass all that\n+// data down. A better solution would be to accept a limited object with just\n+// the fields necessary for rendering the profile.\n+export default async function Profile({ user }: { user: User }) {\n+  return (\n+    <div>\n+      <h1>{user.name}</h1>\n+      ...\n+    </div>\n+  )\n+}\n+```\n+\n+You should sanitize the data before passing it to the Client Component:\n+\n+```ts filename=\"data/user.ts\"\n+import { sql } from './db'\n+\n+export async function getUser(slug: string) {\n+  const [rows] = await sql`SELECT * FROM user WHERE slug = ${slug}`\n+  const user = rows[0]\n+\n+  // Return only the public fields\n+  return {\n+    name: user.name,\n+  }\n+}\n+```\n+\n+```tsx filename=\"app/page.tsx\"\n+import { getUser } from '../data/user'\n+import Profile from './ui/profile'\n+\n+export default async function Page({\n+  params: { slug },\n+}: {\n+  params: { slug: string }\n+}) {\n+  const publicProfile = await getUser(slug)\n+  return <Profile user={publicProfile} />\n+}\n+```\n+\n+## Reading data\n+\n+### Passing data from server to client\n+\n+On the initial load, both Server and Client Components run on the server to generate HTML. However, they execute in isolated module systems. This ensures that Server Components can access private data and APIs, while Client Components cannot.\n+\n+**Server Components:**\n+\n+- Run only on the server.\n+- Can safely access environment variables, secrets, databases, and internal APIs.\n+\n+**Client Components:**\n+\n+- Run on the server during pre-rendering, but must follow the same security assumptions as code running in the browser.\n+- Must not access privileged data or server-only modules.\n+\n+This ensures the app is secure by default, but it's possible to accidentally expose private data through how data is fetched or passed to components.\n+\n+### Tainting\n+\n+To prevent accidental exposure of private data to the client, you can use React Taint APIs:\n+\n+- [`experimental_taintObjectReference`](https://react.dev/reference/react/experimental_taintObjectReference) for data objects.\n+- [`experimental_taintUniqueValue`](https://react.dev/reference/react/experimental_taintUniqueValue) for specific values.\n+\n+You can enable usage in your Next.js app with the [`experimental.taint`](/docs/app/api-reference/config/next-config-js/taint) option in `next.config.js`:\n+\n+```js filename=\"next.config.js\"\n+module.exports = {\n+  experimental: {\n+    taint: true,\n+  },\n+}\n+```\n+\n+This prevents the tainted objects or values from being passed to the client. However, it's an additional layer of protection, you should still filter and sanitize the data in your [DAL](#data-access-layer) before passing it to React's render context.\n+\n+> **Good to know:**\n+>\n+> - By default, environment variables are only available on the Server. Next.js exposes any environment variable prefixed with `NEXT_PUBLIC_` to the client. [Learn more](/docs/app/guides/environment-variables).\n+> - Functions and classes are already blocked from being passed to Client Components by default.\n+\n+### Preventing client-side execution of server-only code\n+\n+To prevent server-only code from being executed on the client, you can mark a module with the [`server-only`](https://www.npmjs.com/package/server-only) package:\n+\n+```bash package=\"npm\"\n+npm install server-only\n+```\n+\n+```bash package=\"yarn\"\n+yarn add server-only\n+```\n+\n+```bash package=\"pnpm\"\n+pnpm add server-only\n+```\n+\n+```ts filename=\"lib/data.ts\"\n+import 'server-only'\n+\n+//...\n+```\n+\n+This ensures that proprietary code or internal business logic stays on the server by causing a build error if the module is imported in the client environment.\n+\n+## Mutating Data\n+\n+Next.js handles mutations with [Server Actions](https://react.dev/reference/rsc/server-functions).\n+\n+### Built-in Server Actions Security features\n+\n+By default, when a Server Action is created and exported, it creates a public HTTP endpoint and should be treated with the same security assumptions and authorization checks. This means, even if a Server Action or utility function is not imported elsewhere in your code, it's still publicly accessible.\n+\n+To improve security, Next.js has the following built-in features:\n+\n+- **Secure action IDs:** Next.js creates encrypted, non-deterministic IDs to allow the client to reference and call the Server Action. These IDs are periodically recalculated between builds for enhanced security.\n+- **Dead code elimination:** Unused Server Actions (referenced by their IDs) are removed from client bundle to avoid public access.\n+\n+> **Good to know**:\n+>\n+> The IDs are created during compilation and are cached for a maximum of 14 days. They will be regenerated when a new build is initiated or when the build cache is invalidated.\n+> This security improvement reduces the risk in cases where an authentication layer is missing. However, you should still treat Server Actions like public HTTP endpoints.\n+\n+```jsx\n+// app/actions.js\n+'use server'\n+\n+// If this action **is** used in our application, Next.js\n+// will create a secure ID to allow the client to reference\n+// and call the Server Action.\n+export async function updateUserAction(formData) {}\n+\n+// If this action **is not** used in our application, Next.js\n+// will automatically remove this code during `next build`\n+// and will not create a public endpoint.\n+export async function deleteUserAction(formData) {}\n+```\n+\n+### Validating client input\n+\n+You should always validate input from client, as they can be easily modified. For example, form data, URL parameters, headers, and searchParams:\n+\n+```tsx filename=\"app/page.tsx\"\n+// BAD: Trusting searchParams directly\n+export default async function Page({ searchParams }) {\n+  const isAdmin = searchParams.get('isAdmin')\n+  if (isAdmin === 'true') {\n+    // Vulnerable: relies on untrusted client data\n+    return <AdminPanel />\n+  }\n+}\n+\n+// GOOD: Re-verify every time\n+import { cookies } from 'next/headers'\n+import { verifyAdmin } from './auth'\n+\n+export default async function Page() {\n+  const token = cookies().get('AUTH_TOKEN')\n+  const isAdmin = await verifyAdmin(token)\n+\n+  if (isAdmin) {\n+    return <AdminPanel />\n+  }\n+}\n+```\n+\n+### Authentication and authorization\n+\n+You should always ensure that a user is authorized to perform an action. For example:\n+\n+```tsx filename=\"app/actions.ts\"\n+'use server'\n+\n+import { auth } from './lib'\n+\n+export function addItem() {\n+  const { user } = auth()\n+  if (!user) {\n+    throw new Error('You must be signed in to perform this action')\n+  }\n+\n+  // ...\n+}\n+```\n+\n+Learn more about [Authentication](/docs/app/guides/authentication) in Next.js.\n+\n+### Closures and encryption\n+\n+Defining a Server Action inside a component creates a [closure](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) where the action has access to the outer function's scope. For example, the `publish` action has access to the `publishVersion` variable:\n+\n+```tsx filename=\"app/page.tsx\" switcher\n+export default async function Page() {\n+  const publishVersion = await getLatestVersion();\n+\n+  async function publish() {\n+    \"use server\";\n+    if (publishVersion !== await getLatestVersion()) {\n+      throw new Error('The version has changed since pressing publish');\n+    }\n+    ...\n+  }\n+\n+  return (\n+    <form>\n+      <button formAction={publish}>Publish</button>\n+    </form>\n+  );\n+}\n+```\n+\n+```jsx filename=\"app/page.js\" switcher\n+export default async function Page() {\n+  const publishVersion = await getLatestVersion();\n+\n+  async function publish() {\n+    \"use server\";\n+    if (publishVersion !== await getLatestVersion()) {\n+      throw new Error('The version has changed since pressing publish');\n+    }\n+    ...\n+  }\n+\n+  return (\n+    <form>\n+      <button formAction={publish}>Publish</button>\n+    </form>\n+  );\n+}\n+```\n+\n+Closures are useful when you need to capture a _snapshot_ of data (e.g. `publishVersion`) at the time of rendering so that it can be used later when the action is invoked.\n+\n+However, for this to happen, the captured variables are sent to the client and back to the server when the action is invoked. To prevent sensitive data from being exposed to the client, Next.js automatically encrypts the closed-over variables. A new private key is generated for each action every time a Next.js application is built. This means actions can only be invoked for a specific build.\n+\n+> **Good to know:** We don't recommend relying on encryption alone to prevent sensitive values from being exposed on the client.\n+\n+### Overwriting encryption keys (advanced)\n+\n+When self-hosting your Next.js application across multiple servers, each server instance may end up with a different encryption key, leading to potential inconsistencies.\n+\n+To mitigate this, you can overwrite the encryption key using the `process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY` environment variable. Specifying this variable ensures that your encryption keys are persistent across builds, and all server instances use the same key. This variable **must** be AES-GCM encrypted.\n+\n+This is an advanced use case where consistent encryption behavior across multiple deployments is critical for your application. You should consider standard security practices such key rotation and signing.\n+\n+> **Good to know:** Next.js applications deployed to Vercel automatically handle this.\n+\n+### Allowed origins (advanced)\n+\n+Since Server Actions can be invoked in a `<form>` element, this opens them up to [CSRF attacks](https://developer.mozilla.org/en-US/docs/Glossary/CSRF).\n+\n+Behind the scenes, Server Actions use the `POST` method, and only this HTTP method is allowed to invoke them. This prevents most CSRF vulnerabilities in modern browsers, particularly with [SameSite cookies](https://web.dev/articles/samesite-cookies-explained) being the default.\n+\n+As an additional protection, Server Actions in Next.js also compare the [Origin header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) to the [Host header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host) (or `X-Forwarded-Host`). If these don't match, the request will be aborted. In other words, Server Actions can only be invoked on the same host as the page that hosts it.\n+\n+For large applications that use reverse proxies or multi-layered backend architectures (where the server API differs from the production domain), it's recommended to use the configuration option [`serverActions.allowedOrigins`](/docs/app/api-reference/config/next-config-js/serverActions) option to specify a list of safe origins. The option accepts an array of strings.\n+\n+```js filename=\"next.config.js\"\n+/** @type {import('next').NextConfig} */\n+module.exports = {\n+  experimental: {\n+    serverActions: {\n+      allowedOrigins: ['my-proxy.com', '*.my-proxy.com'],\n+    },\n+  },\n+}\n+```\n+\n+Learn more about [Security and Server Actions](https://nextjs.org/blog/security-nextjs-server-components-actions).\n+\n+### Avoiding side-effects during rendering\n+\n+Mutations (e.g. logging out users, updating databases, invalidating caches) should never be a side-effect, either in Server or Client Components. Next.js explicitly prevents setting cookies or triggering cache revalidation within render methods to avoid unintended side effects.\n+\n+```tsx filename=\"app/page.tsx\"\n+// BAD: Triggering a mutation during rendering\n+export default async function Page({ searchParams }) {\n+  if (searchParams.get('logout')) {\n+    cookies().delete('AUTH_TOKEN')\n+  }\n+\n+  return <UserProfile />\n+}\n+```\n+\n+Instead, you should use Server Actions to handle mutations.\n+\n+```tsx filename=\"app/page.tsx\"\n+// GOOD: Using Server Actions to handle mutations\n+import { logout } from './actions'\n+\n+export default function Page() {\n+  return (\n+    <>\n+      <UserProfile />\n+      <form action={logout}>\n+        <button type=\"submit\">Logout</button>\n+      </form>\n+    </>\n+  )\n+}\n+```\n+\n+> **Good to know:** Next.js uses `POST` requests to handle mutations. This prevents accidental side-effects from GET requests, reducing Cross-Site Request Forgery (CSRF) risks.\n+\n+## Auditing\n+\n+If you're doing an audit of a Next.js project, here are a few things we recommend looking extra at:\n+\n+- **Data Access Layer:** Is there an established practice for an isolated Data Access Layer? Verify that database packages and environment variables are not imported outside the Data Access Layer.\n+- **`\"use client\"` files:** Are the Component props expecting private data? Are the type signatures overly broad?\n+- **`\"use server\"` files:** Are the Action arguments validated in the action or inside the Data Access Layer? Is the user re-authorized inside the action?\n+- **`/[param]/.`** Folders with brackets are user input. Are params validated?\n+- **`middleware.tsx` and `route.tsx`:** Have a lot of power. Spend extra time auditing these using traditional techniques. Perform Penetration Testing or Vulnerability Scanning regularly or in alignment with your team's software development lifecycle."
        },
        {
            "sha": "543ca4d35d448e3ddfe55b9751e4fdd61f9a4b0d",
            "filename": "docs/01-app/02-guides/incremental-static-regeneration.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fincremental-static-regeneration.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fincremental-static-regeneration.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fincremental-static-regeneration.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -377,7 +377,7 @@ export default async function Page() {\n }\n ```\n \n-You can then use `revalidateTag` in a [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) or [Route Handler](/docs/app/building-your-application/routing/route-handlers):\n+You can then use `revalidateTag` in a [Server Actions](/docs/app/getting-started/updating-data) or [Route Handler](/docs/app/building-your-application/routing/route-handlers):\n \n ```ts filename=\"app/actions.ts\" switcher\n 'use server'"
        },
        {
            "sha": "8dabbca8cc04124c3d7c80befb87780fbb21c6ad",
            "filename": "docs/01-app/02-guides/index.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Findex.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Findex.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Findex.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -27,8 +27,8 @@ description: Learn how to implement common UI patterns and use cases using Next.\n ### Server Actions\n \n - [Passing additional values](/docs/app/guides/forms)\n-- [Revalidating data](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#revalidating-data)\n-- [Redirecting](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#redirecting)\n+- [Revalidating data](/docs/app/getting-started/updating-data#revalidating)\n+- [Redirecting](/docs/app/guides/redirecting)\n - [Setting cookies](/docs/app/api-reference/functions/cookies#setting-a-cookie)\n - [Deleting cookies](/docs/app/api-reference/functions/cookies#deleting-cookies)\n "
        },
        {
            "sha": "a19c9b393135fed1ced508bf249c3ff890dd0e45",
            "filename": "docs/01-app/02-guides/migrating/app-router-migration.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fmigrating%2Fapp-router-migration.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fmigrating%2Fapp-router-migration.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmigrating%2Fapp-router-migration.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -111,7 +111,7 @@ We recommend reducing the combined complexity of these updates by breaking down\n   - Use `layout.js` to define UI that is shared across multiple routes.\n   - `.js`, `.jsx`, or `.tsx` file extensions can be used for special files.\n - You can colocate other files inside the `app` directory such as components, styles, tests, and more. [Learn more](/docs/app/building-your-application/routing).\n-- Data fetching functions like `getServerSideProps` and `getStaticProps` have been replaced with [a new API](/docs/app/building-your-application/data-fetching) inside `app`. `getStaticPaths` has been replaced with [`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params).\n+- Data fetching functions like `getServerSideProps` and `getStaticProps` have been replaced with [a new API](/docs/app/getting-started/fetching-data) inside `app`. `getStaticPaths` has been replaced with [`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params).\n - `pages/_app.js` and `pages/_document.js` have been replaced with a single `app/layout.js` root layout. [Learn more](/docs/app/api-reference/file-conventions/layout#root-layout).\n - `pages/_error.js` has been replaced with more granular `error.js` special files. [Learn more](/docs/app/getting-started/error-handling).\n - `pages/404.js` has been replaced with the [`not-found.js`](/docs/app/api-reference/file-conventions/not-found) file.\n@@ -326,7 +326,7 @@ export default function Page() {\n ### Step 4: Migrating Pages\n \n - Pages in the [`app` directory](/docs/app/building-your-application/routing) are [Server Components](/docs/app/getting-started/server-and-client-components) by default. This is different from the `pages` directory where pages are [Client Components](/docs/app/getting-started/server-and-client-components).\n-- [Data fetching](/docs/app/building-your-application/data-fetching) has changed in `app`. `getServerSideProps`, `getStaticProps` and `getInitialProps` have been replaced with a simpler API.\n+- [Data fetching](/docs/app/getting-started/fetching-data) has changed in `app`. `getServerSideProps`, `getStaticProps` and `getInitialProps` have been replaced with a simpler API.\n - The `app` directory uses nested folders to define routes and a special `page.js` file to make a route segment publicly accessible.\n - | `pages` Directory | `app` Directory       | Route          |\n   | ----------------- | --------------------- | -------------- |\n@@ -485,7 +485,7 @@ This is the `useRouter` hook from the `pages` directory, but intended to be used\n \n ### Step 6: Migrating Data Fetching Methods\n \n-The `pages` directory uses `getServerSideProps` and `getStaticProps` to fetch data for pages. Inside the `app` directory, these previous data fetching functions are replaced with a [simpler API](/docs/app/building-your-application/data-fetching) built on top of `fetch()` and `async` React Server Components.\n+The `pages` directory uses `getServerSideProps` and `getStaticProps` to fetch data for pages. Inside the `app` directory, these previous data fetching functions are replaced with a [simpler API](/docs/app/getting-started/fetching-data) built on top of `fetch()` and `async` React Server Components.\n \n ```tsx filename=\"app/page.tsx\" switcher\n export default async function Page() {"
        },
        {
            "sha": "9a3313ff4aecd810c52902c3cbe8f6ba5169609d",
            "filename": "docs/01-app/02-guides/multi-zones.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fmulti-zones.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fmulti-zones.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fmulti-zones.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -125,7 +125,7 @@ Since the pages in different zones may be released at different times, feature f\n \n ## Server Actions\n \n-When using [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) with Multi-Zones, you must explicitly allow the user-facing origin since your user facing domain may serve multiple applications. In your `next.config.js` file, add the following lines:\n+When using [Server Actions](/docs/app/getting-started/updating-data) with Multi-Zones, you must explicitly allow the user-facing origin since your user facing domain may serve multiple applications. In your `next.config.js` file, add the following lines:\n \n ```js filename=\"next.config.js\"\n const nextConfig = {"
        },
        {
            "sha": "d68b42b30d6ae0b54bb04e57cb87cee438a24c2c",
            "filename": "docs/01-app/02-guides/production-checklist.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fproduction-checklist.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fproduction-checklist.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fproduction-checklist.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -97,7 +97,7 @@ While building your application, we recommend using the following features to en\n <AppOnly>\n \n - **[Tainting](/docs/app/api-reference/config/next-config-js/taint):** Prevent sensitive data from being exposed to the client by tainting data objects and/or specific values.\n-- **[Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#authentication-and-authorization):** Ensure users are authorized to call Server Actions. Review the recommended [security practices](/blog/security-nextjs-server-components-actions).\n+- **[Server Actions](/docs/app/getting-started/updating-data):** Ensure users are authorized to call Server Actions. Review the recommended [security practices](/blog/security-nextjs-server-components-actions).\n \n </AppOnly>\n "
        },
        {
            "sha": "fc819994b695f9d77826454d8817788c8fd054de",
            "filename": "docs/01-app/02-guides/redirecting.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fredirecting.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fredirecting.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fredirecting.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -38,7 +38,7 @@ There are a few ways you can handle redirects in Next.js. This page will go thro\n \n ## `redirect` function\n \n-The `redirect` function allows you to redirect the user to another URL. You can call `redirect` in [Server Components](/docs/app/getting-started/server-and-client-components), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n+The `redirect` function allows you to redirect the user to another URL. You can call `redirect` in [Server Components](/docs/app/getting-started/server-and-client-components), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/getting-started/updating-data).\n \n `redirect` is often used after a mutation or event. For example, creating a post:\n \n@@ -90,7 +90,7 @@ See the [`redirect` API reference](/docs/app/api-reference/functions/redirect) f\n \n ## `permanentRedirect` function\n \n-The `permanentRedirect` function allows you to **permanently** redirect the user to another URL. You can call `permanentRedirect` in [Server Components](/docs/app/getting-started/server-and-client-components), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n+The `permanentRedirect` function allows you to **permanently** redirect the user to another URL. You can call `permanentRedirect` in [Server Components](/docs/app/getting-started/server-and-client-components), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/getting-started/updating-data).\n \n `permanentRedirect` is often used after a mutation or event that changes an entity's canonical URL, such as updating a user's profile URL after they change their username:\n "
        },
        {
            "sha": "ac75eab834a624e276d0e4d2737453ae8752fcda",
            "filename": "docs/01-app/02-guides/single-page-applications.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fsingle-page-applications.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fsingle-page-applications.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fsingle-page-applications.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -25,7 +25,7 @@ Next.js can automatically code split your JavaScript bundles, and generate multi\n \n The [`next/link`](/docs/app/api-reference/components/link) component automatically [prefetches](/docs/app/api-reference/components/link#prefetch) routes, giving you the fast page transitions of a strict SPA, but with the advantage of persisting application routing state to the URL for linking and sharing.\n \n-Next.js can start as a static site or even a strict SPA where everything is rendered client-side. If your project grows, Next.js allows you to progressively add more server features (e.g. [React Server Components](/docs/app/getting-started/server-and-client-components), [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations), and more) as needed.\n+Next.js can start as a static site or even a strict SPA where everything is rendered client-side. If your project grows, Next.js allows you to progressively add more server features (e.g. [React Server Components](/docs/app/getting-started/server-and-client-components), [Server Actions](/docs/app/getting-started/updating-data), and more) as needed.\n \n ## Examples\n \n@@ -389,7 +389,7 @@ export function Button() {\n }\n ```\n \n-Learn more about [mutating data with Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n+Learn more about [mutating data with Server Actions](/docs/app/getting-started/updating-data).\n \n ## Static export (optional)\n "
        },
        {
            "sha": "dc5b14718ff3338dbe989ad197c1da1106cf1c62",
            "filename": "docs/01-app/02-guides/static-exports.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fstatic-exports.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F02-guides%2Fstatic-exports.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fstatic-exports.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -288,7 +288,7 @@ Features that require a Node.js server, or dynamic logic that cannot be computed\n - [Incremental Static Regeneration](/docs/app/guides/incremental-static-regeneration)\n - [Image Optimization](/docs/app/api-reference/components/image) with the default `loader`\n - [Draft Mode](/docs/app/guides/draft-mode)\n-- [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)\n+- [Server Actions](/docs/app/getting-started/updating-data)\n - [Intercepting Routes](/docs/app/api-reference/file-conventions/intercepting-routes)\n \n Attempting to use any of these features with `next dev` will result in an error, similar to setting the [`dynamic`](/docs/app/api-reference/file-conventions/route-segment-config#dynamic) option to `error` in the root layout."
        },
        {
            "sha": "5ad9eecf9e8300474bdf0d43f8b684e1f6cbb132",
            "filename": "docs/01-app/03-building-your-application/02-data-fetching/03-server-actions-and-mutations.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 564,
            "changes": 564,
            "blob_url": "https://github.com/vercel/next.js/blob/a075f9ce17125c0c599a543a8c2316cb1d635bb5/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2F03-server-actions-and-mutations.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/a075f9ce17125c0c599a543a8c2316cb1d635bb5/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2F03-server-actions-and-mutations.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2F03-server-actions-and-mutations.mdx?ref=a075f9ce17125c0c599a543a8c2316cb1d635bb5",
            "patch": "@@ -1,564 +0,0 @@\n----\n-title: Server Actions and Mutations\n-nav_title: Server Actions and Mutations\n-description: Learn how to handle form submissions and data mutations with Next.js.\n-related:\n-  description: Learn how to configure Server Actions in Next.js\n-  links:\n-    - app/api-reference/config/next-config-js/serverActions\n----\n-\n-[Server Actions](https://react.dev/reference/rsc/server-actions) are **asynchronous functions** that are executed on the server. They can be called in Server and Client Components to handle form submissions and data mutations in Next.js applications.\n-\n-> **ðŸŽ¥ Watch:** Learn more about mutations with Server Actions â†’ [YouTube (10 minutes)](https://youtu.be/dDpZfOQBMaU?si=cJZHlUu_jFhCzHUg).\n-\n-## Convention\n-\n-A Server Action can be defined with the React [`\"use server\"`](https://react.dev/reference/react/use-server) directive. You can place the directive at the top of an `async` function to mark the function as a Server Action, or at the top of a separate file to mark all exports of that file as Server Actions.\n-\n-### Server Components\n-\n-Server Components can use the inline function level or module level `\"use server\"` directive. To inline a Server Action, add `\"use server\"` to the top of the function body:\n-\n-```tsx filename=\"app/page.tsx\" switcher\n-export default function Page() {\n-  // Server Action\n-  async function create() {\n-    'use server'\n-    // Mutate data\n-  }\n-\n-  return '...'\n-}\n-```\n-\n-```jsx filename=\"app/page.js\" switcher\n-export default function Page() {\n-  // Server Action\n-  async function create() {\n-    'use server'\n-    // Mutate data\n-  }\n-\n-  return '...'\n-}\n-```\n-\n-### Client Components\n-\n-To call a [Server Function](/docs/app/getting-started/updating-data#server-functions) in a Client Component, create a new file and add the `\"use server\"` directive at the top of it. All exported functions within the file will be marked as Server Functions that can be reused in both Client and Server Components:\n-\n-```tsx filename=\"app/actions.ts\" switcher\n-'use server'\n-\n-export async function create() {}\n-```\n-\n-```js filename=\"app/actions.js\" switcher\n-'use server'\n-\n-export async function create() {}\n-```\n-\n-```tsx filename=\"app/button.tsx\" switcher\n-'use client'\n-\n-import { create } from './actions'\n-\n-export function Button() {\n-  return <button onClick={() => create()}>Create</button>\n-}\n-```\n-\n-```jsx filename=\"app/button.js\" switcher\n-'use client'\n-\n-import { create } from './actions'\n-\n-export function Button() {\n-  return <button onClick={() => create()}>Create</button>\n-}\n-```\n-\n-### Passing actions as props\n-\n-You can also pass a Server Action to a Client Component as a prop:\n-\n-```jsx\n-<ClientComponent updateItemAction={updateItem} />\n-```\n-\n-```tsx filename=\"app/client-component.tsx\" switcher\n-'use client'\n-\n-export default function ClientComponent({\n-  updateItemAction,\n-}: {\n-  updateItemAction: (formData: FormData) => void\n-}) {\n-  return <form action={updateItemAction}>{/* ... */}</form>\n-}\n-```\n-\n-```jsx filename=\"app/client-component.js\" switcher\n-'use client'\n-\n-export default function ClientComponent({ updateItemAction }) {\n-  return <form action={updateItemAction}>{/* ... */}</form>\n-}\n-```\n-\n-Usually, the Next.js TypeScript plugin would flag `updateItemAction` in `client-component.tsx` since it is a function which generally can't be serialized across client-server boundaries.\n-However, props named `action` or ending with `Action` are assumed to receive Server Actions.\n-This is only a heuristic since the TypeScript plugin doesn't actually know if it receives a Server Action or an ordinary function.\n-Runtime type-checking will still ensure you don't accidentally pass a function to a Client Component.\n-\n-## Behavior\n-\n-- Server actions can be invoked using the `action` attribute in a `<form>` element.\n-  - Server Components support progressive enhancement by default, meaning the form will be submitted even if JavaScript hasn't loaded yet or is disabled.\n-  - In Client Components, forms invoking Server Actions will queue submissions if JavaScript isn't loaded yet, prioritizing client hydration.\n-  - After hydration, the browser does not refresh on form submission.\n-- Server Actions are not limited to `<form>` and can be invoked from event handlers, `useEffect`, third-party libraries, and other form elements like `<button>`.\n-- Server Actions integrate with the Next.js [caching and revalidation](/docs/app/deep-dive/caching) architecture. When an action is invoked, Next.js can return both the updated UI and new data in a single server roundtrip.\n-- Behind the scenes, actions use the `POST` method, and only this HTTP method can invoke them.\n-- The arguments and return value of Server Actions must be serializable by React. See the React docs for a list of [serializable arguments and values](https://react.dev/reference/react/use-server#serializable-parameters-and-return-values).\n-- Server Actions are functions. This means they can be reused anywhere in your application.\n-- Server Actions inherit the runtime from the page or layout they are used on.\n-- Server Actions inherit the [Route Segment Config](/docs/app/api-reference/file-conventions/route-segment-config) from the page or layout they are used on, including fields like `maxDuration`.\n-\n-## Examples\n-\n-### Event handlers\n-\n-While it's common to use Server Actions within `<form>` elements, they can also be invoked with event handlers such as `onClick`. For example, to increment a like count:\n-\n-```tsx filename=\"app/like-button.tsx\" switcher\n-'use client'\n-\n-import { incrementLike } from './actions'\n-import { useState } from 'react'\n-\n-export default function LikeButton({ initialLikes }: { initialLikes: number }) {\n-  const [likes, setLikes] = useState(initialLikes)\n-\n-  return (\n-    <>\n-      <p>Total Likes: {likes}</p>\n-      <button\n-        onClick={async () => {\n-          const updatedLikes = await incrementLike()\n-          setLikes(updatedLikes)\n-        }}\n-      >\n-        Like\n-      </button>\n-    </>\n-  )\n-}\n-```\n-\n-```jsx filename=\"app/like-button.js\" switcher\n-'use client'\n-\n-import { incrementLike } from './actions'\n-import { useState } from 'react'\n-\n-export default function LikeButton({ initialLikes }) {\n-  const [likes, setLikes] = useState(initialLikes)\n-\n-  return (\n-    <>\n-      <p>Total Likes: {likes}</p>\n-      <button\n-        onClick={async () => {\n-          const updatedLikes = await incrementLike()\n-          setLikes(updatedLikes)\n-        }}\n-      >\n-        Like\n-      </button>\n-    </>\n-  )\n-}\n-```\n-\n-You can also add event handlers to form elements, for example, to save a form field `onChange`:\n-\n-```tsx filename=\"app/ui/edit-post.tsx\"\n-'use client'\n-\n-import { publishPost, saveDraft } from './actions'\n-\n-export default function EditPost() {\n-  return (\n-    <form action={publishPost}>\n-      <textarea\n-        name=\"content\"\n-        onChange={async (e) => {\n-          await saveDraft(e.target.value)\n-        }}\n-      />\n-      <button type=\"submit\">Publish</button>\n-    </form>\n-  )\n-}\n-```\n-\n-For cases like this, where multiple events might be fired in quick succession, we recommend **debouncing** to prevent unnecessary Server Action invocations.\n-\n-### `useEffect`\n-\n-You can use the React [`useEffect`](https://react.dev/reference/react/useEffect) hook to invoke a Server Action when the component mounts or a dependency changes. This is useful for mutations that depend on global events or need to be triggered automatically. For example, `onKeyDown` for app shortcuts, an intersection observer hook for infinite scrolling, or when the component mounts to update a view count:\n-\n-```tsx filename=\"app/view-count.tsx\" switcher\n-'use client'\n-\n-import { incrementViews } from './actions'\n-import { useState, useEffect, useTransition } from 'react'\n-\n-export default function ViewCount({ initialViews }: { initialViews: number }) {\n-  const [views, setViews] = useState(initialViews)\n-  const [isPending, startTransition] = useTransition()\n-\n-  useEffect(() => {\n-    startTransition(async () => {\n-      const updatedViews = await incrementViews()\n-      setViews(updatedViews)\n-    })\n-  }, [])\n-\n-  // You can use `isPending` to give users feedback\n-  return <p>Total Views: {views}</p>\n-}\n-```\n-\n-```jsx filename=\"app/view-count.js\" switcher\n-'use client'\n-\n-import { incrementViews } from './actions'\n-import { useState, useEffect, useTransition } from 'react'\n-\n-export default function ViewCount({ initialViews }) {\n-  const [views, setViews] = useState(initialViews)\n-  const [isPending, startTransition] = useTransition()\n-\n-  useEffect(() => {\n-    starTransition(async () => {\n-      const updatedViews = await incrementViews()\n-      setViews(updatedViews)\n-    })\n-  }, [])\n-\n-  // You can use `isPending` to give users feedback\n-  return <p>Total Views: {views}</p>\n-}\n-```\n-\n-Remember to consider the [behavior and caveats](https://react.dev/reference/react/useEffect#caveats) of `useEffect`.\n-\n-### Error Handling\n-\n-When an error is thrown, it'll be caught by the nearest `error.js` or `<Suspense>` boundary on the client. See [Error Handling](/docs/app/getting-started/error-handling) for more information.\n-\n-> **Good to know:**\n->\n-> - Aside from throwing the error, you can also return an object to be handled by `useActionState`.\n-\n-### Revalidating data\n-\n-You can revalidate the [Next.js Cache](/docs/app/deep-dive/caching) inside your Server Actions with the [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath) API:\n-\n-```ts filename=\"app/actions.ts\" switcher\n-'use server'\n-\n-import { revalidatePath } from 'next/cache'\n-\n-export async function createPost() {\n-  try {\n-    // ...\n-  } catch (error) {\n-    // ...\n-  }\n-\n-  revalidatePath('/posts')\n-}\n-```\n-\n-```js filename=\"app/actions.js\" switcher\n-'use server'\n-\n-import { revalidatePath } from 'next/cache'\n-\n-export async function createPost() {\n-  try {\n-    // ...\n-  } catch (error) {\n-    // ...\n-  }\n-\n-  revalidatePath('/posts')\n-}\n-```\n-\n-Or invalidate a specific data fetch with a cache tag using [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag):\n-\n-```ts filename=\"app/actions.ts\" switcher\n-'use server'\n-\n-import { revalidateTag } from 'next/cache'\n-\n-export async function createPost() {\n-  try {\n-    // ...\n-  } catch (error) {\n-    // ...\n-  }\n-\n-  revalidateTag('posts')\n-}\n-```\n-\n-```js filename=\"app/actions.js\" switcher\n-'use server'\n-\n-import { revalidateTag } from 'next/cache'\n-\n-export async function createPost() {\n-  try {\n-    // ...\n-  } catch (error) {\n-    // ...\n-  }\n-\n-  revalidateTag('posts')\n-}\n-```\n-\n-### Redirecting\n-\n-If you would like to redirect the user to a different route after the completion of a Server Action, you can use [`redirect`](/docs/app/api-reference/functions/redirect) API. `redirect` needs to be called outside of the `try/catch` block:\n-\n-```ts filename=\"app/actions.ts\" switcher\n-'use server'\n-\n-import { redirect } from 'next/navigation'\n-import { revalidateTag } from 'next/cache'\n-\n-export async function createPost(id: string) {\n-  try {\n-    // ...\n-  } catch (error) {\n-    // ...\n-  }\n-\n-  revalidateTag('posts') // Update cached posts\n-  redirect(`/post/${id}`) // Navigate to the new post page\n-}\n-```\n-\n-```js filename=\"app/actions.js\" switcher\n-'use server'\n-\n-import { redirect } from 'next/navigation'\n-import { revalidateTag } from 'next/cache'\n-\n-export async function createPost(id) {\n-  try {\n-    // ...\n-  } catch (error) {\n-    // ...\n-  }\n-\n-  revalidateTag('posts') // Update cached posts\n-  redirect(`/post/${id}`) // Navigate to the new post page\n-}\n-```\n-\n-### Cookies\n-\n-You can `get`, `set`, and `delete` cookies inside a Server Action using the [`cookies`](/docs/app/api-reference/functions/cookies) API:\n-\n-```ts filename=\"app/actions.ts\" switcher\n-'use server'\n-\n-import { cookies } from 'next/headers'\n-\n-export async function exampleAction() {\n-  const cookieStore = await cookies()\n-\n-  // Get cookie\n-  cookieStore.get('name')?.value\n-\n-  // Set cookie\n-  cookieStore.set('name', 'Delba')\n-\n-  // Delete cookie\n-  cookieStore.delete('name')\n-}\n-```\n-\n-```js filename=\"app/actions.js\" switcher\n-'use server'\n-\n-import { cookies } from 'next/headers'\n-\n-export async function exampleAction() {\n-  // Get cookie\n-  const cookieStore = await cookies()\n-\n-  // Get cookie\n-  cookieStore.get('name')?.value\n-\n-  // Set cookie\n-  cookieStore.set('name', 'Delba')\n-\n-  // Delete cookie\n-  cookieStore.delete('name')\n-}\n-```\n-\n-See [additional examples](/docs/app/api-reference/functions/cookies#deleting-cookies) for deleting cookies from Server Actions.\n-\n-## Security\n-\n-By default, when a Server Action is created and exported, it creates a public HTTP endpoint\n-and should be treated with the same security assumptions and authorization checks. This means, even if a Server Action or utility function is not imported elsewhere in your code, itâ€™s still publicly accessible.\n-\n-To improve security, Next.js has the following built-in features:\n-\n-- **Secure action IDs:** Next.js creates encrypted, non-deterministic IDs to allow the client to reference and call the Server Action. These IDs are periodically recalculated between builds for enhanced security.\n-- **Dead code elimination:** Unused Server Actions (referenced by their IDs) are removed from client bundle to avoid public access by third-party.\n-\n-> **Good to know**:\n->\n-> The IDs are created during compilation and are cached for a maximum of 14 days. They will be regenerated when a new build is initiated or when the build cache is invalidated.\n-> This security improvement reduces the risk in cases where an authentication layer is missing. However, you should still treat Server Actions like public HTTP endpoints.\n-\n-```jsx\n-// app/actions.js\n-'use server'\n-\n-// This action **is** used in our application, so Next.js\n-// will create a secure ID to allow the client to reference\n-// and call the Server Action.\n-export async function updateUserAction(formData) {}\n-\n-// This action **is not** used in our application, so Next.js\n-// will automatically remove this code during `next build`\n-// and will not create a public endpoint.\n-export async function deleteUserAction(formData) {}\n-```\n-\n-### Authentication and authorization\n-\n-You should ensure that the user is authorized to perform the action. For example:\n-\n-```tsx filename=\"app/actions.ts\"\n-'use server'\n-\n-import { auth } from './lib'\n-\n-export function addItem() {\n-  const { user } = auth()\n-  if (!user) {\n-    throw new Error('You must be signed in to perform this action')\n-  }\n-\n-  // ...\n-}\n-```\n-\n-### Closures and encryption\n-\n-Defining a Server Action inside a component creates a [closure](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) where the action has access to the outer function's scope. For example, the `publish` action has access to the `publishVersion` variable:\n-\n-```tsx filename=\"app/page.tsx\" switcher\n-export default async function Page() {\n-  const publishVersion = await getLatestVersion();\n-\n-  async function publish() {\n-    \"use server\";\n-    if (publishVersion !== await getLatestVersion()) {\n-      throw new Error('The version has changed since pressing publish');\n-    }\n-    ...\n-  }\n-\n-  return (\n-    <form>\n-      <button formAction={publish}>Publish</button>\n-    </form>\n-  );\n-}\n-```\n-\n-```jsx filename=\"app/page.js\" switcher\n-export default async function Page() {\n-  const publishVersion = await getLatestVersion();\n-\n-  async function publish() {\n-    \"use server\";\n-    if (publishVersion !== await getLatestVersion()) {\n-      throw new Error('The version has changed since pressing publish');\n-    }\n-    ...\n-  }\n-\n-  return (\n-    <form>\n-      <button formAction={publish}>Publish</button>\n-    </form>\n-  );\n-}\n-```\n-\n-Closures are useful when you need to capture a _snapshot_ of data (e.g. `publishVersion`) at the time of rendering so that it can be used later when the action is invoked.\n-\n-However, for this to happen, the captured variables are sent to the client and back to the server when the action is invoked. To prevent sensitive data from being exposed to the client, Next.js automatically encrypts the closed-over variables. A new private key is generated for each action every time a Next.js application is built. This means actions can only be invoked for a specific build.\n-\n-> **Good to know:** We don't recommend relying on encryption alone to prevent sensitive values from being exposed on the client. Instead, you should use the [React taint APIs](/docs/app/api-reference/config/next-config-js/taint) to proactively prevent specific data from being sent to the client.\n-\n-### Overwriting encryption keys (advanced)\n-\n-When self-hosting your Next.js application across multiple servers, each server instance may end up with a different encryption key, leading to potential inconsistencies.\n-\n-To mitigate this, you can overwrite the encryption key using the `process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY` environment variable. Specifying this variable ensures that your encryption keys are persistent across builds, and all server instances use the same key. This variable **must** be AES-GCM encrypted.\n-\n-This is an advanced use case where consistent encryption behavior across multiple deployments is critical for your application. You should consider standard security practices such key rotation and signing.\n-\n-> **Good to know:** Next.js applications deployed to Vercel automatically handle this.\n-\n-### Allowed origins (advanced)\n-\n-Since Server Actions can be invoked in a `<form>` element, this opens them up to [CSRF attacks](https://developer.mozilla.org/en-US/docs/Glossary/CSRF).\n-\n-Behind the scenes, Server Actions use the `POST` method, and only this HTTP method is allowed to invoke them. This prevents most CSRF vulnerabilities in modern browsers, particularly with [SameSite cookies](https://web.dev/articles/samesite-cookies-explained) being the default.\n-\n-As an additional protection, Server Actions in Next.js also compare the [Origin header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) to the [Host header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host) (or `X-Forwarded-Host`). If these don't match, the request will be aborted. In other words, Server Actions can only be invoked on the same host as the page that hosts it.\n-\n-For large applications that use reverse proxies or multi-layered backend architectures (where the server API differs from the production domain), it's recommended to use the configuration option [`serverActions.allowedOrigins`](/docs/app/api-reference/config/next-config-js/serverActions) option to specify a list of safe origins. The option accepts an array of strings.\n-\n-```js filename=\"next.config.js\"\n-/** @type {import('next').NextConfig} */\n-module.exports = {\n-  experimental: {\n-    serverActions: {\n-      allowedOrigins: ['my-proxy.com', '*.my-proxy.com'],\n-    },\n-  },\n-}\n-```\n-\n-Learn more about [Security and Server Actions](https://nextjs.org/blog/security-nextjs-server-components-actions).\n-\n-## Additional resources\n-\n-For more information, check out the following React docs:\n-\n-- [Server Actions](https://react.dev/reference/rsc/server-actions)\n-- [`\"use server\"`](https://react.dev/reference/react/use-server)\n-- [`<form>`](https://react.dev/reference/react-dom/components/form)\n-- [`useFormStatus`](https://react.dev/reference/react-dom/hooks/useFormStatus)\n-- [`useActionState`](https://react.dev/reference/react/useActionState)\n-- [`useOptimistic`](https://react.dev/reference/react/useOptimistic)"
        },
        {
            "sha": "498b98c6190566b01b841a006220d0ac4a3bdf69",
            "filename": "docs/01-app/03-building-your-application/02-data-fetching/index.mdx",
            "status": "removed",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/a075f9ce17125c0c599a543a8c2316cb1d635bb5/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2Findex.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/a075f9ce17125c0c599a543a8c2316cb1d635bb5/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2Findex.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-building-your-application%2F02-data-fetching%2Findex.mdx?ref=a075f9ce17125c0c599a543a8c2316cb1d635bb5",
            "patch": "@@ -1,4 +0,0 @@\n----\n-title: Data Fetching\n-description: Learn how to fetch, cache, revalidate, and mutate data with Next.js.\n----"
        },
        {
            "sha": "d3a7fd2ac95649579449be821d54da8b921ae939",
            "filename": "docs/01-app/04-deep-dive/caching.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F04-deep-dive%2Fcaching.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F04-deep-dive%2Fcaching.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F04-deep-dive%2Fcaching.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -367,7 +367,7 @@ When configuring the different caching mechanisms, it's important to understand\n \n ### Data Cache and Client-side Router cache\n \n-- To immediately invalidate the Data Cache and Router cache, you can use [`revalidatePath`](#revalidatepath) or [`revalidateTag`](#fetch-optionsnexttags-and-revalidatetag) in a [Server Action](/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n+- To immediately invalidate the Data Cache and Router cache, you can use [`revalidatePath`](#revalidatepath) or [`revalidateTag`](#fetch-optionsnexttags-and-revalidatetag) in a [Server Action](/docs/app/getting-started/updating-data).\n - Revalidating the Data Cache in a [Route Handler](/docs/app/building-your-application/routing/route-handlers) **will not** immediately invalidate the Router Cache as the Route Handler isn't tied to a specific route. This means Router Cache will continue to serve the previous payload until a hard refresh, or the automatic invalidation period has elapsed.\n \n ## APIs\n@@ -473,7 +473,7 @@ revalidateTag('a')\n There are two places you can use `revalidateTag`, depending on what you're trying to achieve:\n \n 1. [Route Handlers](/docs/app/building-your-application/routing/route-handlers) - to revalidate data in response of a third party event (e.g. webhook). This will not invalidate the Router Cache immediately as the Router Handler isn't tied to a specific route.\n-2. [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) - to revalidate data after a user action (e.g. form submission). This will invalidate the Router Cache for the associated route.\n+2. [Server Actions](/docs/app/getting-started/updating-data) - to revalidate data after a user action (e.g. form submission). This will invalidate the Router Cache for the associated route.\n \n ### `revalidatePath`\n \n@@ -486,7 +486,7 @@ revalidatePath('/')\n There are two places you can use `revalidatePath`, depending on what you're trying to achieve:\n \n 1. [Route Handlers](/docs/app/building-your-application/routing/route-handlers) - to revalidate data in response to a third party event (e.g. webhook).\n-2. [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) - to revalidate data after a user interaction (e.g. form submission, clicking a button).\n+2. [Server Actions](/docs/app/getting-started/updating-data) - to revalidate data after a user interaction (e.g. form submission, clicking a button).\n \n See the [`revalidatePath` API reference](/docs/app/api-reference/functions/revalidatePath) for more information.\n "
        },
        {
            "sha": "10f6b33b347742300bc41584a98e88f7307d7a80",
            "filename": "docs/01-app/05-api-reference/02-components/form.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F02-components%2Fform.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F02-components%2Fform.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F02-components%2Fform.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -401,6 +401,6 @@ export default async function PostPage({ params }) {\n }\n ```\n \n-See the [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) docs for more examples.\n+See the [Server Actions](/docs/app/getting-started/updating-data) docs for more examples.\n \n </AppOnly>"
        },
        {
            "sha": "a3293b89804c08aafcf655d632fe2cc93fc53eda",
            "filename": "docs/01-app/05-api-reference/03-file-conventions/route-segment-config.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Froute-segment-config.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Froute-segment-config.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F03-file-conventions%2Froute-segment-config.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -211,7 +211,7 @@ export const maxDuration = 5\n \n > **Good to know**:\n >\n-> - If using [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations), set the `maxDuration` at the page level to change the default timeout of all Server Actions used on the page.\n+> - If using [Server Actions](/docs/app/getting-started/updating-data), set the `maxDuration` at the page level to change the default timeout of all Server Actions used on the page.\n \n ### `generateStaticParams`\n "
        },
        {
            "sha": "50f6cb87ad7912080978c6f746da0df7bec49523",
            "filename": "docs/01-app/05-api-reference/04-functions/after.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fafter.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fafter.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fafter.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -5,7 +5,7 @@ description: API Reference for the after function.\n \n `after` allows you to schedule work to be executed after a response (or prerender) is finished. This is useful for tasks and other side effects that should not block the response, such as logging and analytics.\n \n-It can be used in [Server Components](/docs/app/getting-started/server-and-client-components) (including [`generateMetadata`](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)), [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Middleware](/docs/app/building-your-application/routing/middleware).\n+It can be used in [Server Components](/docs/app/getting-started/server-and-client-components) (including [`generateMetadata`](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)), [Server Actions](/docs/app/getting-started/updating-data), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Middleware](/docs/app/building-your-application/routing/middleware).\n \n The function accepts a callback that will be executed after the response (or prerender) is finished:\n \n@@ -59,7 +59,7 @@ export default function Layout({ children }) {\n \n ### With request APIs\n \n-You can use request APIs such as [`cookies`](/docs/app/api-reference/functions/cookies) and [`headers`](/docs/app/api-reference/functions/headers) inside `after` in [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) and [Route Handlers](/docs/app/api-reference/file-conventions/route). This is useful for logging activity after a mutation. For example:\n+You can use request APIs such as [`cookies`](/docs/app/api-reference/functions/cookies) and [`headers`](/docs/app/api-reference/functions/headers) inside `after` in [Server Actions](/docs/app/getting-started/updating-data) and [Route Handlers](/docs/app/api-reference/file-conventions/route). This is useful for logging activity after a mutation. For example:\n \n ```ts filename=\"app/api/route.ts\" highlight={2,7-9} switcher\n import { after } from 'next/server'"
        },
        {
            "sha": "c306d99bef6a13c91d787b82ea4bd440c7e7f12e",
            "filename": "docs/01-app/05-api-reference/04-functions/cacheTag.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2FcacheTag.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2FcacheTag.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2FcacheTag.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -64,7 +64,7 @@ export async function getData() {\n }\n ```\n \n-You can then purge the cache on-demand using [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) API in another function, for example, a [route handler](/docs/app/building-your-application/routing/route-handlers) or [Server Action](/docs/app/building-your-application/data-fetching/server-actions-and-mutations):\n+You can then purge the cache on-demand using [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) API in another function, for example, a [route handler](/docs/app/building-your-application/routing/route-handlers) or [Server Action](/docs/app/getting-started/updating-data):\n \n ```tsx filename=\"app/action.ts\" switcher\n 'use server'"
        },
        {
            "sha": "d084d4b3aba79950ccf327488ec8c435ce425cec",
            "filename": "docs/01-app/05-api-reference/04-functions/cookies.mdx",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fcookies.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fcookies.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fcookies.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -3,7 +3,7 @@ title: cookies\n description: API Reference for the cookies function.\n ---\n \n-`cookies` is an **async** function that allows you to read the HTTP incoming request cookies in [Server Components](/docs/app/getting-started/server-and-client-components), and read/write outgoing request cookies in [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) or [Route Handlers](/docs/app/building-your-application/routing/route-handlers).\n+`cookies` is an **async** function that allows you to read the HTTP incoming request cookies in [Server Components](/docs/app/getting-started/server-and-client-components), and read/write outgoing request cookies in [Server Actions](/docs/app/getting-started/updating-data) or [Route Handlers](/docs/app/building-your-application/routing/route-handlers).\n \n ```tsx filename=\"app/page.tsx\" switcher\n import { cookies } from 'next/headers'\n@@ -70,9 +70,9 @@ To learn more about these options, see the [MDN docs](https://developer.mozilla.\n   - In version 14 and earlier, `cookies` was a synchronous function. To help with backwards compatibility, you can still access it synchronously in Next.js 15, but this behavior will be deprecated in the future.\n - `cookies` is a [Dynamic API](/docs/app/getting-started/partial-prerendering#dynamic-rendering) whose returned values cannot be known ahead of time. Using it in a layout or page will opt a route into [dynamic rendering](/docs/app/getting-started/partial-prerendering#dynamic-rendering).\n - The `.delete` method can only be called:\n-  - In a [Server Action](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) or [Route Handler](/docs/app/building-your-application/routing/route-handlers).\n+  - In a [Server Action](/docs/app/getting-started/updating-data) or [Route Handler](/docs/app/building-your-application/routing/route-handlers).\n   - If it belongs to the same domain from which `.set` is called. For wildcard domains, the specific subdomain must be an exact match. Additionally, the code must be executed on the same protocol (HTTP or HTTPS) as the cookie you want to delete.\n-- HTTP does not allow setting cookies after streaming starts, so you must use `.set` in a [Server Action](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) or [Route Handler](/docs/app/building-your-application/routing/route-handlers).\n+- HTTP does not allow setting cookies after streaming starts, so you must use `.set` in a [Server Action](/docs/app/getting-started/updating-data) or [Route Handler](/docs/app/building-your-application/routing/route-handlers).\n \n ## Understanding Cookie Behavior in Server Components\n \n@@ -143,7 +143,7 @@ export default async function Page() {\n \n ### Setting a cookie\n \n-You can use the `(await cookies()).set(name, value, options)` method in a [Server Action](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) or [Route Handler](/docs/app/building-your-application/routing/route-handlers) to set a cookie. The [`options` object](#options) is optional.\n+You can use the `(await cookies()).set(name, value, options)` method in a [Server Action](/docs/app/getting-started/updating-data) or [Route Handler](/docs/app/building-your-application/routing/route-handlers) to set a cookie. The [`options` object](#options) is optional.\n \n ```tsx filename=\"app/actions.ts\" switcher\n 'use server'"
        },
        {
            "sha": "50ee559c6b24e6da55766879460ac4eab358be01",
            "filename": "docs/01-app/05-api-reference/04-functions/forbidden.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fforbidden.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fforbidden.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fforbidden.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -31,7 +31,7 @@ module.exports = {\n }\n ```\n \n-`forbidden` can be invoked in [Server Components](/docs/app/getting-started/server-and-client-components), [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations), and [Route Handlers](/docs/app/building-your-application/routing/route-handlers).\n+`forbidden` can be invoked in [Server Components](/docs/app/getting-started/server-and-client-components), [Server Actions](/docs/app/getting-started/updating-data), and [Route Handlers](/docs/app/building-your-application/routing/route-handlers).\n \n ```tsx filename=\"app/auth/page.tsx\" switcher\n import { verifySession } from '@/app/lib/dal'"
        },
        {
            "sha": "3355fe3236b75086d0cd97e2973773fde0ea0d49",
            "filename": "docs/01-app/05-api-reference/04-functions/permanentRedirect.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2FpermanentRedirect.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2FpermanentRedirect.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2FpermanentRedirect.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -6,7 +6,7 @@ related:\n     - app/api-reference/functions/redirect\n ---\n \n-The `permanentRedirect` function allows you to redirect the user to another URL. `permanentRedirect` can be used in Server Components, Client Components, [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n+The `permanentRedirect` function allows you to redirect the user to another URL. `permanentRedirect` can be used in Server Components, Client Components, [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/getting-started/updating-data).\n \n When used in a streaming context, this will insert a meta tag to emit the redirect on the client side. When used in a server action, it will serve a 303 HTTP redirect response to the caller. Otherwise, it will serve a 308 (Permanent) HTTP redirect response to the caller.\n \n@@ -27,7 +27,7 @@ permanentRedirect(path, type)\n | `path`    | `string`                                                      | The URL to redirect to. Can be a relative or absolute path. |\n | `type`    | `'replace'` (default) or `'push'` (default in Server Actions) | The type of redirect to perform.                            |\n \n-By default, `permanentRedirect` will use `push` (adding a new entry to the browser history stack) in [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) and `replace` (replacing the current URL in the browser history stack) everywhere else. You can override this behavior by specifying the `type` parameter.\n+By default, `permanentRedirect` will use `push` (adding a new entry to the browser history stack) in [Server Actions](/docs/app/getting-started/updating-data) and `replace` (replacing the current URL in the browser history stack) everywhere else. You can override this behavior by specifying the `type` parameter.\n \n The `type` parameter has no effect when used in Server Components.\n "
        },
        {
            "sha": "f90b8f3a438644bc2b34eeb4ea9c891a33032dcc",
            "filename": "docs/01-app/05-api-reference/04-functions/redirect.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fredirect.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Fredirect.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Fredirect.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -6,7 +6,7 @@ related:\n     - app/api-reference/functions/permanentRedirect\n ---\n \n-The `redirect` function allows you to redirect the user to another URL. `redirect` can be used in [Server Components](/docs/app/getting-started/server-and-client-components), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n+The `redirect` function allows you to redirect the user to another URL. `redirect` can be used in [Server Components](/docs/app/getting-started/server-and-client-components), [Route Handlers](/docs/app/building-your-application/routing/route-handlers), and [Server Actions](/docs/app/getting-started/updating-data).\n \n When used in a [streaming context](/docs/app/getting-started/linking-and-navigating#streaming), this will insert a meta tag to emit the redirect on the client side. When used in a server action, it will serve a 303 HTTP redirect response to the caller. Otherwise, it will serve a 307 HTTP redirect response to the caller.\n \n@@ -27,7 +27,7 @@ redirect(path, type)\n | `path`    | `string`                                                      | The URL to redirect to. Can be a relative or absolute path. |\n | `type`    | `'replace'` (default) or `'push'` (default in Server Actions) | The type of redirect to perform.                            |\n \n-By default, `redirect` will use `push` (adding a new entry to the browser history stack) in [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) and `replace` (replacing the current URL in the browser history stack) everywhere else. You can override this behavior by specifying the `type` parameter.\n+By default, `redirect` will use `push` (adding a new entry to the browser history stack) in [Server Actions](/docs/app/getting-started/updating-data) and `replace` (replacing the current URL in the browser history stack) everywhere else. You can override this behavior by specifying the `type` parameter.\n \n The `type` parameter has no effect when used in Server Components.\n "
        },
        {
            "sha": "43ab315b7b14773c24f965f0f136d379c07688d5",
            "filename": "docs/01-app/05-api-reference/04-functions/unauthorized.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Funauthorized.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F04-functions%2Funauthorized.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F04-functions%2Funauthorized.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -31,7 +31,7 @@ module.exports = {\n }\n ```\n \n-`unauthorized` can be invoked in [Server Components](/docs/app/getting-started/server-and-client-components), [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations), and [Route Handlers](/docs/app/building-your-application/routing/route-handlers).\n+`unauthorized` can be invoked in [Server Components](/docs/app/getting-started/server-and-client-components), [Server Actions](/docs/app/getting-started/updating-data), and [Route Handlers](/docs/app/building-your-application/routing/route-handlers).\n \n ```tsx filename=\"app/dashboard/page.tsx\" switcher\n import { verifySession } from '@/app/lib/dal'"
        },
        {
            "sha": "3823ab9c5a95f020f7366700ad1d04b0763abcab",
            "filename": "docs/01-app/05-api-reference/05-config/01-next-config-js/appDir.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F05-config%2F01-next-config-js%2FappDir.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F01-app%2F05-api-reference%2F05-config%2F01-next-config-js%2FappDir.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F05-api-reference%2F05-config%2F01-next-config-js%2FappDir.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -6,6 +6,6 @@ version: legacy\n \n > **Good to know**: This option is **no longer** needed as of Next.js 13.4. The App Router is now stable.\n \n-The App Router ([`app` directory](/docs/app/building-your-application/routing)) enables support for [layouts](/docs/app/api-reference/file-conventions/layout), [Server Components](/docs/app/getting-started/server-and-client-components), [streaming](/docs/app/api-reference/file-conventions/loading), and [colocated data fetching](/docs/app/building-your-application/data-fetching).\n+The App Router ([`app` directory](/docs/app/building-your-application/routing)) enables support for [layouts](/docs/app/api-reference/file-conventions/layout), [Server Components](/docs/app/getting-started/server-and-client-components), [streaming](/docs/app/api-reference/file-conventions/loading), and [colocated data fetching](/docs/app/getting-started/fetching-data).\n \n Using the `app` directory will automatically enable [React Strict Mode](https://react.dev/reference/react/StrictMode). Learn how to [incrementally adopt `app`](/docs/app/guides/migrating/app-router-migration#migrating-from-pages-to-app)."
        },
        {
            "sha": "9b6d1f73400380afc11933975a6f45287db7d3a6",
            "filename": "docs/02-pages/03-building-your-application/03-data-fetching/03-forms-and-mutations.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F03-building-your-application%2F03-data-fetching%2F03-forms-and-mutations.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F03-building-your-application%2F03-data-fetching%2F03-forms-and-mutations.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F03-building-your-application%2F03-data-fetching%2F03-forms-and-mutations.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -8,7 +8,7 @@ Forms enable you to create and update data in web applications. Next.js provides\n \n > **Good to know:**\n >\n-> - We will soon recommend [incrementally adopting](/docs/app/guides/migrating/app-router-migration) the App Router and using [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) for handling form submissions and data mutations. Server Actions allow you to define asynchronous server functions that can be called directly from your components, without needing to manually create an API Route.\n+> - We will soon recommend [incrementally adopting](/docs/app/guides/migrating/app-router-migration) the App Router and using [Server Actions](/docs/app/getting-started/updating-data) for handling form submissions and data mutations. Server Actions allow you to define asynchronous server functions that can be called directly from your components, without needing to manually create an API Route.\n > - API Routes [do not specify CORS headers](https://developer.mozilla.org/docs/Web/HTTP/CORS), meaning they are same-origin only by default.\n > - Since API Routes run on the server, we're able to use sensitive values (like API keys) through [Environment Variables](/docs/pages/guides/environment-variables) without exposing them to the client. This is critical for the security of your application.\n "
        },
        {
            "sha": "aee5281d1741b69d8bc1f3d14c23495f1415bb70",
            "filename": "docs/02-pages/04-api-reference/03-functions/get-initial-props.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-initial-props.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-initial-props.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-initial-props.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -54,5 +54,5 @@ export default function Page({ stars }) {\n \n ## Caveats\n \n-- `getInitialProps` can only be used in `pages/` top level files, and not in nested components. To have nested data fetching at the component level, consider exploring the [App Router](/docs/app/building-your-application/data-fetching).\n+- `getInitialProps` can only be used in `pages/` top level files, and not in nested components. To have nested data fetching at the component level, consider exploring the [App Router](/docs/app/getting-started/fetching-data).\n - Regardless of whether your route is static or dynamic, any data returned from `getInitialProps` as `props` will be able to be examined on the client-side in the initial HTML. This is to allow the page to be [hydrated](https://react.dev/reference/react-dom/hydrate) correctly. Make sure that you don't pass any sensitive information that shouldn't be available on the client in `props`."
        },
        {
            "sha": "3cf67310a5116478e8b65fdb0cf48505df9ce5ad",
            "filename": "docs/02-pages/04-api-reference/03-functions/get-server-side-props.mdx",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-server-side-props.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-server-side-props.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-server-side-props.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -133,8 +133,8 @@ export async function getServerSideProps(context) {\n \n ## Version History\n \n-| Version   | Changes                                                                                                     |\n-| --------- | ----------------------------------------------------------------------------------------------------------- |\n-| `v13.4.0` | [App Router](/docs/app/building-your-application/data-fetching) is now stable with simplified data fetching |\n-| `v10.0.0` | `locale`, `locales`, `defaultLocale`, and `notFound` options added.                                         |\n-| `v9.3.0`  | `getServerSideProps` introduced.                                                                            |\n+| Version   | Changes                                                                                           |\n+| --------- | ------------------------------------------------------------------------------------------------- |\n+| `v13.4.0` | [App Router](/docs/app/getting-started/fetching-data) is now stable with simplified data fetching |\n+| `v10.0.0` | `locale`, `locales`, `defaultLocale`, and `notFound` options added.                               |\n+| `v9.3.0`  | `getServerSideProps` introduced.                                                                  |"
        },
        {
            "sha": "0e1deab986511ccba6ba84b69958d6c5047b971e",
            "filename": "docs/02-pages/04-api-reference/03-functions/get-static-paths.mdx",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-static-paths.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-static-paths.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-static-paths.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -250,10 +250,10 @@ export default Post\n \n ## Version History\n \n-| Version   | Changes                                                                                                                                                                                                     |\n-| --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n-| `v13.4.0` | [App Router](/docs/app/building-your-application/data-fetching) is now stable with simplified data fetching, including [`generateStaticParams()`](/docs/app/api-reference/functions/generate-static-params) |\n-| `v12.2.0` | [On-Demand Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath) is stable.                                                       |\n-| `v12.1.0` | [On-Demand Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath) added (beta).                                                    |\n-| `v9.5.0`  | Stable [Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration)                                                                                                                |\n-| `v9.3.0`  | `getStaticPaths` introduced.                                                                                                                                                                                |\n+| Version   | Changes                                                                                                                                                                                           |\n+| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n+| `v13.4.0` | [App Router](/docs/app/getting-started/fetching-data) is now stable with simplified data fetching, including [`generateStaticParams()`](/docs/app/api-reference/functions/generate-static-params) |\n+| `v12.2.0` | [On-Demand Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath) is stable.                                             |\n+| `v12.1.0` | [On-Demand Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath) added (beta).                                          |\n+| `v9.5.0`  | Stable [Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration)                                                                                                      |\n+| `v9.3.0`  | `getStaticPaths` introduced.                                                                                                                                                                      |"
        },
        {
            "sha": "a149bd1bda7856669233ae7df55abbb3c3747764",
            "filename": "docs/02-pages/04-api-reference/03-functions/get-static-props.mdx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-static-props.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-static-props.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F02-pages%2F04-api-reference%2F03-functions%2Fget-static-props.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -220,7 +220,7 @@ export default Blog\n \n | Version   | Changes                                                                                                                                                  |\n | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |\n-| `v13.4.0` | [App Router](/docs/app/building-your-application/data-fetching) is now stable with simplified data fetching                                              |\n+| `v13.4.0` | [App Router](/docs/app/getting-started/fetching-data) is now stable with simplified data fetching                                                        |\n | `v12.2.0` | [On-Demand Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath) is stable.    |\n | `v12.1.0` | [On-Demand Incremental Static Regeneration](/docs/pages/guides/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath) added (beta). |\n | `v10.0.0` | `locale`, `locales`, `defaultLocale`, and `notFound` options added.                                                                                      |"
        },
        {
            "sha": "eced3b9e2e35253f8bb20c11f36793d296287bd3",
            "filename": "errors/failed-to-find-server-action.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/errors%2Ffailed-to-find-server-action.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/errors%2Ffailed-to-find-server-action.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Ffailed-to-find-server-action.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -4,7 +4,7 @@ title: Failed to find Server Action\n \n ## Why This Message Occurred\n \n-For security purposes, Next.js creates encrypted, non-deterministic keys (IDs) to allow for the client to reference and call the [Server Action](/docs/app/building-your-application/data-fetching/server-actions-and-mutations). These keys are periodically recalculated between builds for enhanced security.\n+For security purposes, Next.js creates encrypted, non-deterministic keys (IDs) to allow for the client to reference and call the [Server Action](/docs/app/getting-started/updating-data). These keys are periodically recalculated between builds for enhanced security.\n \n When self-hosting your Next.js application across multiple servers, each server instance may end up with a different encryption key, leading to potential inconsistencies.\n \n@@ -16,5 +16,5 @@ If you are deploying your Next.js application to Vercel, you can use the feature\n \n ## Useful Links\n \n-- [Server Actions - Security](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#security)\n-- [Overwriting encryption keys (advanced)](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#overwriting-encryption-keys-advanced)\n+- [Server Actions - Security](/docs/app/guides/data-security)\n+- [Overwriting encryption keys (advanced)](/docs/app/guides/data-security#overwriting-encryption-keys-advanced)"
        },
        {
            "sha": "4e9b9eab3278944f981db2224c453896bc55ef44",
            "filename": "errors/invalid-use-server-value.mdx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/24434f18db379429919443d515dacb94b0d7dc60/errors%2Finvalid-use-server-value.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/24434f18db379429919443d515dacb94b0d7dc60/errors%2Finvalid-use-server-value.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Finvalid-use-server-value.mdx?ref=24434f18db379429919443d515dacb94b0d7dc60",
            "patch": "@@ -6,7 +6,7 @@ title: 'Invalid \"use server\" Value'\n \n This error occurs when a `\"use server\"` file exports a value that is not an async function. It might happen when you unintentionally export something like a configuration object, an arbitrary value, or missed the `async` keyword in the exported function declaration.\n \n-These functions are required to be defined as async, because `\"use server\"` marks them as [Server Actions](/docs/app/building-your-application/data-fetching/server-actions-and-mutations) and they can be invoked directly from the client through a network request.\n+These functions are required to be defined as async, because `\"use server\"` marks them as [Server Actions](/docs/app/getting-started/updating-data) and they can be invoked directly from the client through a network request.\n \n Examples of incorrect code:\n \n@@ -39,5 +39,5 @@ Check all exported values in the `\"use server\"` file (including `export *`) and\n \n ## Useful Links\n \n-- [Server Actions and Mutations - Next.js](/docs/app/building-your-application/data-fetching/server-actions-and-mutations)\n+- [Server Actions and Mutations - Next.js](/docs/app/getting-started/updating-data)\n - ['use server' directive - React](https://react.dev/reference/react/use-server)"
        }
    ],
    "stats": {
        "total": 1291,
        "additions": 660,
        "deletions": 631
    }
}