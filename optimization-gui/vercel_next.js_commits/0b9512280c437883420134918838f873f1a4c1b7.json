{
    "author": "icyJoseph",
    "message": "docs: revalidateTag immediate expiration in Route Handlers (#85223)\n\nFurther precision to revalidateTag signature, and escape hatch for route\nhandlers w/ immediate revalidation",
    "sha": "0b9512280c437883420134918838f873f1a4c1b7",
    "files": [
        {
            "sha": "e886cc1115bca9111c60ccac2af079a60aaac402",
            "filename": "docs/01-app/03-api-reference/04-functions/revalidateTag.mdx",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/0b9512280c437883420134918838f873f1a4c1b7/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidateTag.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/0b9512280c437883420134918838f873f1a4c1b7/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidateTag.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F04-functions%2FrevalidateTag.mdx?ref=0b9512280c437883420134918838f873f1a4c1b7",
            "patch": "@@ -25,12 +25,12 @@ The revalidation behavior depends on whether you provide the second argument:\n \n ## Parameters\n \n-```tsx\n-revalidateTag(tag: string, profile?: string): void;\n+```ts\n+revalidateTag(tag: string, profile?: string | { expire?: number }): void;\n ```\n \n - `tag`: A string representing the cache tag associated with the data you want to revalidate. Must not exceed 256 characters. This value is case-sensitive.\n-- `profile`: A string that specifies the revalidation behavior. The recommended value is `\"max\"` which provides stale-while-revalidate semantics. For advanced usage, this can be configured to any cache life profile that your application defines.\n+- `profile`: A string that specifies the revalidation behavior. The recommended value is `\"max\"` which provides stale-while-revalidate semantics, or any of the other default or custom profiles defined in [`cacheLife`](/docs/app/api-reference/config/next-config-js/cacheLife). Alternatively, you can pass an object with an `expire` property for custom expiration behavior.\n \n Tags must first be assigned to cached data. You can do this in two ways:\n \n@@ -64,6 +64,8 @@ async function getData() {\n \n ## Examples\n \n+The following examples demonstrate how to use `revalidateTag` in different contexts. In both cases, we're using `profile=\"max\"` to mark data as stale and use stale-while-revalidate semantics, which is the recommended approach for most use cases.\n+\n ### Server Action\n \n ```ts filename=\"app/actions.ts\" switcher\n@@ -128,3 +130,5 @@ export async function GET(request) {\n   })\n }\n ```\n+\n+> **Good to know**: For webhooks or third-party services that need immediate expiration, you can pass `{ expire: 0 }` as the second argument: `revalidateTag(tag, { expire: 0 })`. This pattern is necessary when external systems call your Route Handlers and require data to expire immediately. For all other cases, it's recommended to use [`updateTag`](/docs/app/api-reference/functions/updateTag) in Server Actions for immediate updates instead."
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}