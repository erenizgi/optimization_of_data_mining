{
    "author": "bgw",
    "message": "chore(CI): Split next-form tests into smaller suites/files that can be run more-in-parallel (#78891)\n\nSame basic idea as https://github.com/vercel/next.js/pull/78787\n\nThis test suite has a lot of timeouts with rspack, which causes it to take a long time to run (though not quite long enough that it breaks the job).\n\nIn general, large test suites are good to break up, because they benefit from parallelism.",
    "sha": "cf1eea49e33d7130fe233afecca502fc13837f53",
    "files": [
        {
            "sha": "7638a47c2420edecbdf7ef0f53dcfb99cf7c0505",
            "filename": "test/e2e/app-dir/next-form/default/next-form.test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 285,
            "changes": 285,
            "blob_url": "https://github.com/vercel/next.js/blob/13a867daec151e127acbda3ef2b61f2c5a3765ca/test%2Fe2e%2Fapp-dir%2Fnext-form%2Fdefault%2Fnext-form.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/13a867daec151e127acbda3ef2b61f2c5a3765ca/test%2Fe2e%2Fapp-dir%2Fnext-form%2Fdefault%2Fnext-form.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fnext-form%2Fdefault%2Fnext-form.test.ts?ref=13a867daec151e127acbda3ef2b61f2c5a3765ca",
            "patch": "@@ -1,285 +0,0 @@\n-import { nextTestSetup } from 'e2e-utils'\n-import { Playwright } from '../../../../lib/next-webdriver'\n-\n-const isReact18 = parseInt(process.env.NEXT_TEST_REACT_VERSION) === 18\n-\n-describe.each(['app', 'pages'])('%s dir - form', (type) => {\n-  const { next, isNextDev } = nextTestSetup({\n-    files: __dirname,\n-  })\n-\n-  const isAppDir = type === 'app'\n-  const pathPrefix = isAppDir ? '' : '/pages-dir'\n-\n-  it(\n-    'should soft-navigate on submit' +\n-      (isAppDir ? ' and show the prefetched loading state' : ''),\n-    async () => {\n-      const session = await next.browser(pathPrefix + '/forms/basic')\n-      const navigationTracker = await trackMpaNavs(session)\n-\n-      const searchInput = await session.elementByCss('input[name=\"query\"]')\n-      await searchInput.fill('my search')\n-\n-      const submitButton = await session.elementByCss('[type=\"submit\"]')\n-      await submitButton.click()\n-\n-      if (isAppDir) {\n-        // we should have prefetched a loading state, so it should be displayed\n-        await session.waitForElementByCss('#loading')\n-      }\n-\n-      const result = await session.waitForElementByCss('#search-results').text()\n-      expect(result).toMatch(/query: \"my search\"/)\n-\n-      expect(await navigationTracker.didMpaNavigate()).toBe(false)\n-    }\n-  )\n-\n-  it('should soft-navigate to the formAction url of the submitter', async () => {\n-    const session = await next.browser(pathPrefix + '/forms/button-formaction')\n-    const navigationTracker = await trackMpaNavs(session)\n-\n-    const searchInput = await session.elementByCss('input[name=\"query\"]')\n-    await searchInput.fill('my search')\n-\n-    const submitButton = await session.elementByCss('[type=\"submit\"]')\n-    await submitButton.click()\n-\n-    // we didn't prefetch a loading state, so we don't know if it'll be displayed\n-    // TODO: is this correct? it'll probably be there in dev, but what about prod?\n-    // await session.waitForElementByCss('#loading')\n-\n-    const result = await session.waitForElementByCss('#search-results').text()\n-    expect(result).toMatch(/query: \"my search\"/)\n-\n-    expect(await navigationTracker.didMpaNavigate()).toBe(false)\n-  })\n-\n-  // `<form action={someFunction}>` is only supported in React 19.x\n-  ;(isReact18 ? describe.skip : describe)('functions passed to action', () => {\n-    it.each([\n-      {\n-        name: 'client action',\n-        path: '/forms/with-function/action-client',\n-      },\n-      ...(isAppDir\n-        ? [\n-            {\n-              name: 'server action',\n-              path: '/forms/with-function/action-server',\n-            },\n-            {\n-              name: 'server action (closure)',\n-              path: '/forms/with-function/action-server-closure',\n-            },\n-          ]\n-        : []),\n-    ])('runs $name', async ({ path }) => {\n-      const session = await next.browser(pathPrefix + path)\n-      const navigationTracker = await trackMpaNavs(session) // actions should not MPA-navigate either.\n-\n-      const searchInput = await session.elementByCss('input[name=\"query\"]')\n-      await searchInput.fill('will not be a search')\n-\n-      const submitButton = await session.elementByCss('[type=\"submit\"]')\n-      await submitButton.click()\n-\n-      const result = await session\n-        .waitForElementByCss('#redirected-results')\n-        .text()\n-      expect(result).toMatch(/query: \"will not be a search\"/)\n-\n-      expect(await navigationTracker.didMpaNavigate()).toBe(false)\n-    })\n-  })\n-\n-  // `<button formAction={someFunction}>` is only supported in React 19.x\n-  ;(isReact18 ? describe.skip : describe)(\n-    'functions passed to formAction',\n-    () => {\n-      it.each([\n-        {\n-          // TODO(lubieowoce): figure out why the client navigation is failing in pages dir\n-          // (see \"pages-dir/forms/with-function/button-formaction-client/index.tsx\" for more)\n-          name: 'client action',\n-          path: '/forms/with-function/button-formaction-client',\n-        },\n-        ...(isAppDir\n-          ? [\n-              {\n-                name: 'server action',\n-                path: '/forms/with-function/button-formaction-server',\n-              },\n-              {\n-                name: 'server action (closure)',\n-                path: '/forms/with-function/button-formaction-server-closure',\n-              },\n-            ]\n-          : []),\n-      ])(\n-        \"runs $name from submitter and doesn't warn about unsupported attributes\",\n-        async ({ path }) => {\n-          const session = await next.browser(pathPrefix + path)\n-          const navigationTracker = await trackMpaNavs(session) // actions should not MPA-navigate either.\n-\n-          const searchInput = await session.elementByCss('input[name=\"query\"]')\n-          await searchInput.fill('will not be a search')\n-\n-          const submitButton = await session.elementByCss('[type=\"submit\"]')\n-          await submitButton.click()\n-\n-          const result = await session\n-            .waitForElementByCss('#redirected-results')\n-            .text()\n-          expect(result).toMatch(/query: \"will not be a search\"/)\n-\n-          expect(await navigationTracker.didMpaNavigate()).toBe(false)\n-\n-          if (isNextDev) {\n-            const logs = (await session.log()).map((item) => item.message)\n-\n-            expect(logs).not.toContainEqual(\n-              expect.stringMatching(\n-                /<Form>'s `.+?` was set to an unsupported value/\n-              )\n-            )\n-          }\n-        }\n-      )\n-    }\n-  )\n-\n-  describe('unsupported attributes on submitter', () => {\n-    it.each([\n-      { name: 'formEncType', baseName: 'encType' },\n-      { name: 'formMethod', baseName: 'method' },\n-      { name: 'formTarget', baseName: 'target' },\n-    ])(\n-      'should warn if submitter sets \"$name\" to an unsupported value and fall back to default submit behavior',\n-      async ({ name: attributeName, baseName: attributeBaseName }) => {\n-        const session = await next.browser(\n-          pathPrefix +\n-            `/forms/button-formaction-unsupported?attribute=${attributeName}`\n-        )\n-\n-        const submitButton = await session.elementByCss('[type=\"submit\"]')\n-        await submitButton.click()\n-\n-        const logs = await session.log()\n-\n-        if (isNextDev) {\n-          expect(logs).toContainEqual(\n-            expect.objectContaining({\n-              source: 'error',\n-              message: expect.stringContaining(\n-                `<Form>'s \\`${attributeBaseName}\\` was set to an unsupported value`\n-              ),\n-            })\n-          )\n-        }\n-\n-        expect(logs).toContainEqual(\n-          expect.objectContaining({\n-            source: 'log',\n-            message: expect.stringContaining(\n-              'correct: default submit behavior was not prevented'\n-            ),\n-          })\n-        )\n-        expect(logs).not.toContainEqual(\n-          expect.objectContaining({\n-            source: 'log',\n-            message: expect.stringContaining(\n-              'incorrect: default submit behavior was prevented'\n-            ),\n-          })\n-        )\n-      }\n-    )\n-  })\n-\n-  it('does not push a new history entry if `replace` is passed', async () => {\n-    const session = await next.browser(pathPrefix + `/forms/with-replace`)\n-    const navigationTracker = await trackMpaNavs(session)\n-\n-    // apparently this is usually not 1...?\n-    const prevHistoryLength: number = await session.eval(`history.length`)\n-\n-    const submitButton = await session.elementByCss('[type=\"submit\"]')\n-    await submitButton.click()\n-\n-    await session.waitForElementByCss('#search-results')\n-\n-    expect(await navigationTracker.didMpaNavigate()).toBe(false)\n-    expect(await session.eval(`history.length`)).toEqual(prevHistoryLength)\n-  })\n-\n-  it('does not navigate if preventDefault is called in onSubmit', async () => {\n-    const session = await next.browser(\n-      pathPrefix + `/forms/with-onsubmit-preventdefault`\n-    )\n-\n-    const submitButton = await session.elementByCss('[type=\"submit\"]')\n-    await submitButton.click()\n-\n-    // see fixture code for explanation why we expect this\n-\n-    await session.waitForElementByCss('#redirected-results')\n-    expect(new URL(await session.url()).pathname).toEqual(\n-      pathPrefix + '/redirected-from-action'\n-    )\n-  })\n-\n-  it('url-encodes file inputs, but warns about them', async () => {\n-    const session = await next.browser(pathPrefix + `/forms/with-file-input`)\n-\n-    const fileInputSelector = 'input[type=\"file\"]'\n-    // Fake a file to upload\n-    await session.eval(`\n-      const fileInput = document.querySelector(${JSON.stringify(fileInputSelector)});\n-      const file = new File(['hello'], 'hello.txt', { type: 'text/plain' });\n-      const list = new DataTransfer(); \n-      list.items.add(file); \n-      fileInput.files = list.files; \n-    `)\n-\n-    const searchInput = await session.elementByCss('input[name=\"query\"]')\n-    await searchInput.fill('my search')\n-\n-    const submitButton = await session.elementByCss('[type=\"submit\"]')\n-    await submitButton.click()\n-\n-    if (isNextDev) {\n-      const logs = await session.log()\n-      expect(logs).toContainEqual(\n-        expect.objectContaining({\n-          source: 'warning',\n-          message: expect.stringContaining(\n-            `<Form> only supports file inputs if \\`action\\` is a function`\n-          ),\n-        })\n-      )\n-    }\n-\n-    const result = await session.waitForElementByCss('#search-results').text()\n-    expect(result).toMatch(/query: \"my search\"/)\n-\n-    const url = new URL(await session.url())\n-    expect([...url.searchParams.entries()]).toEqual([\n-      ['query', 'my search'],\n-      ['file', 'hello.txt'],\n-    ])\n-  })\n-})\n-\n-async function trackMpaNavs(session: Playwright) {\n-  const id = Date.now()\n-  await session.eval(`window.__MPA_NAV_ID = ${id}`)\n-  return {\n-    async didMpaNavigate() {\n-      const maybeId = await session.eval(`window.__MPA_NAV_ID`)\n-      return id !== maybeId\n-    },\n-  }\n-}"
        },
        {
            "sha": "f0b1876904961a828a12bd7b339578c58578e414",
            "filename": "test/e2e/next-form/basepath/app/forms/basic/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fforms%2Fbasic%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fforms%2Fbasic%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fforms%2Fbasic%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/app/forms/basic/page.tsx"
        },
        {
            "sha": "8d51e0013d3b4524fae6ea938eaa6c154b704835",
            "filename": "test/e2e/next-form/basepath/app/forms/button-formaction/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fforms%2Fbutton-formaction%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fforms%2Fbutton-formaction%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fforms%2Fbutton-formaction%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/app/forms/button-formaction/page.tsx"
        },
        {
            "sha": "7e6180351862cc6ffa71fdf11e258e11ddc37fb6",
            "filename": "test/e2e/next-form/basepath/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Flayout.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/app/layout.tsx"
        },
        {
            "sha": "72d5fcfd351b79348d60e9e18e55a0775789d1f4",
            "filename": "test/e2e/next-form/basepath/app/search/loading.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fsearch%2Floading.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fsearch%2Floading.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fsearch%2Floading.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/app/search/loading.tsx"
        },
        {
            "sha": "0f0d71ea5f65b460b6d7a4e98bedf97c48524c25",
            "filename": "test/e2e/next-form/basepath/app/search/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fsearch%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fsearch%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fapp%2Fsearch%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/app/search/page.tsx"
        },
        {
            "sha": "df9ad4f52fd8340fbedb5d3bd9e12a087b0cfeba",
            "filename": "test/e2e/next-form/basepath/next-form-basepath.test.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fnext-form-basepath.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fnext-form-basepath.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fnext-form-basepath.test.ts?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/next-form-basepath.test.ts"
        },
        {
            "sha": "1773c854e29599f28a6851d2146dd3542bb24b97",
            "filename": "test/e2e/next-form/basepath/next.config.js",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fnext.config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fbasepath%2Fnext.config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fbasepath%2Fnext.config.js?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/basepath/next.config.js"
        },
        {
            "sha": "6ab7bbf14efa10f8419d4f7eb12411075dab6b19",
            "filename": "test/e2e/next-form/default/app-dir.test.ts",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp-dir.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp-dir.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp-dir.test.ts?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "patch": "@@ -0,0 +1,3 @@\n+import { runSharedTests } from './shared-tests.util'\n+\n+runSharedTests('app')"
        },
        {
            "sha": "f0b1876904961a828a12bd7b339578c58578e414",
            "filename": "test/e2e/next-form/default/app/forms/basic/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbasic%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbasic%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbasic%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/basic/page.tsx"
        },
        {
            "sha": "85ab2437474789f6ee9a61d83778b3148352ffd3",
            "filename": "test/e2e/next-form/default/app/forms/button-formaction-unsupported/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction-unsupported%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction-unsupported%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction-unsupported%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/button-formaction-unsupported/page.tsx"
        },
        {
            "sha": "412fa7934689b775cf2503e1871125a15fae7879",
            "filename": "test/e2e/next-form/default/app/forms/button-formaction/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fbutton-formaction%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/button-formaction/page.tsx"
        },
        {
            "sha": "2e6b7bf0d89fb4d1bb41a2388bf37de758d5705a",
            "filename": "test/e2e/next-form/default/app/forms/prefetch-false/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fprefetch-false%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fprefetch-false%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fprefetch-false%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/prefetch-false/page.tsx"
        },
        {
            "sha": "68ff5b02ab4fe76565fb2ad57a983107c9e1f469",
            "filename": "test/e2e/next-form/default/app/forms/with-file-input/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-file-input%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-file-input%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-file-input%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-file-input/page.tsx"
        },
        {
            "sha": "450f821db59cf4db8347f6ba5335f5ce3f38fed3",
            "filename": "test/e2e/next-form/default/app/forms/with-function/action-client/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-client%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-client%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-client%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-function/action-client/page.tsx"
        },
        {
            "sha": "50bbb6dcadc082f26c34133a64263db1e8f2d152",
            "filename": "test/e2e/next-form/default/app/forms/with-function/action-server-closure/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-server-closure%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-server-closure%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-server-closure%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-function/action-server-closure/page.tsx"
        },
        {
            "sha": "bd668aaa7be5c9f881eeedfd5580eb52c318a442",
            "filename": "test/e2e/next-form/default/app/forms/with-function/action-server/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-server%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-server%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Faction-server%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-function/action-server/page.tsx"
        },
        {
            "sha": "eb049f62acb5663e6bbd6bd9e97a696307a94f67",
            "filename": "test/e2e/next-form/default/app/forms/with-function/button-formaction-client/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-client%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-client%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-client%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-function/button-formaction-client/page.tsx"
        },
        {
            "sha": "017533ea6d0530e2ced5eaac74f376d7083b8463",
            "filename": "test/e2e/next-form/default/app/forms/with-function/button-formaction-server-closure/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-server-closure%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-server-closure%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-server-closure%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-function/button-formaction-server-closure/page.tsx"
        },
        {
            "sha": "3e22b46c11e9c04e0f62b96ca339db6554c9dab7",
            "filename": "test/e2e/next-form/default/app/forms/with-function/button-formaction-server/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-server%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-server%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-function%2Fbutton-formaction-server%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-function/button-formaction-server/page.tsx"
        },
        {
            "sha": "ab47915b9786898827cb50f2d8a61429a74153f7",
            "filename": "test/e2e/next-form/default/app/forms/with-onsubmit-preventdefault/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-onsubmit-preventdefault%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-onsubmit-preventdefault%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-onsubmit-preventdefault%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-onsubmit-preventdefault/page.tsx"
        },
        {
            "sha": "59d756a5eb69b3801ba607b1cf80c223cd2bef14",
            "filename": "test/e2e/next-form/default/app/forms/with-replace/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-replace%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-replace%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fforms%2Fwith-replace%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/forms/with-replace/page.tsx"
        },
        {
            "sha": "7e6180351862cc6ffa71fdf11e258e11ddc37fb6",
            "filename": "test/e2e/next-form/default/app/layout.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Flayout.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Flayout.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Flayout.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/layout.tsx"
        },
        {
            "sha": "42078f95b5204e2e550f0213d78f4ab03d89ec9d",
            "filename": "test/e2e/next-form/default/app/redirected-from-action/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fredirected-from-action%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fredirected-from-action%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fredirected-from-action%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/redirected-from-action/page.tsx"
        },
        {
            "sha": "72d5fcfd351b79348d60e9e18e55a0775789d1f4",
            "filename": "test/e2e/next-form/default/app/search/loading.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fsearch%2Floading.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fsearch%2Floading.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fsearch%2Floading.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/search/loading.tsx"
        },
        {
            "sha": "0f0d71ea5f65b460b6d7a4e98bedf97c48524c25",
            "filename": "test/e2e/next-form/default/app/search/page.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fsearch%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fsearch%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fapp%2Fsearch%2Fpage.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/app/search/page.tsx"
        },
        {
            "sha": "7779e2787852bc1e192425bc012768cad20205be",
            "filename": "test/e2e/next-form/default/next-form-prefetch.test.ts",
            "status": "renamed",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fnext-form-prefetch.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fnext-form-prefetch.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fnext-form-prefetch.test.ts?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "patch": "@@ -5,8 +5,8 @@ import {\n   RSC_HEADER,\n } from 'next/src/client/components/app-router-headers'\n import type { Page, Request as PlaywrightRequest } from 'playwright'\n-import { WebdriverOptions } from '../../../../lib/next-webdriver'\n-import { retry } from '../../../../lib/next-test-utils'\n+import { WebdriverOptions } from 'next-webdriver'\n+import { retry } from 'next-test-utils'\n \n const _describe =\n   // prefetching is disabled in dev.\n@@ -15,6 +15,11 @@ const _describe =\n _describe('app dir - form prefetching', () => {\n   const { next } = nextTestSetup({\n     files: __dirname,\n+    nextConfig: {\n+      typescript: {\n+        ignoreBuildErrors: true,\n+      },\n+    },\n   })\n \n   it(\"should prefetch a loading state for the form's target\", async () => {",
            "previous_filename": "test/e2e/app-dir/next-form/default/next-form-prefetch.test.ts"
        },
        {
            "sha": "3a00cd10a102801d5c2ea134ee29c8977f97a7fc",
            "filename": "test/e2e/next-form/default/pages-dir.test.ts",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages-dir.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages-dir.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages-dir.test.ts?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "patch": "@@ -0,0 +1,3 @@\n+import { runSharedTests } from './shared-tests.util'\n+\n+runSharedTests('pages')"
        },
        {
            "sha": "026b8c16590a25534342a867b60c904b3b12a3c8",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/basic/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbasic%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbasic%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbasic%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/basic/index.tsx"
        },
        {
            "sha": "2c092e4b18e1060131c4514af2474746fc175ba0",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/button-formaction-unsupported/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbutton-formaction-unsupported%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbutton-formaction-unsupported%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbutton-formaction-unsupported%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/button-formaction-unsupported/index.tsx"
        },
        {
            "sha": "ffe8a270ebe4d4fd1bda7a533a4a0e0251ddd0e9",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/button-formaction/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbutton-formaction%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbutton-formaction%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fbutton-formaction%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/button-formaction/index.tsx"
        },
        {
            "sha": "cfbad006f05b068a3192fc48765b54bd7191a993",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/with-file-input/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-file-input%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-file-input%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-file-input%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/with-file-input/index.tsx"
        },
        {
            "sha": "f3ca9ae9312faf47c5b94ba78cb5febd4d416d25",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/with-function/action-client/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-function%2Faction-client%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-function%2Faction-client%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-function%2Faction-client%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/with-function/action-client/index.tsx"
        },
        {
            "sha": "0ec50c3d336a2f28621b28bc45cb02f77c26de6a",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/with-function/button-formaction-client/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-function%2Fbutton-formaction-client%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-function%2Fbutton-formaction-client%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-function%2Fbutton-formaction-client%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/with-function/button-formaction-client/index.tsx"
        },
        {
            "sha": "4903e52e2db09fe106510919db685ba99c3ba077",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/with-onsubmit-preventdefault/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-onsubmit-preventdefault%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-onsubmit-preventdefault%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-onsubmit-preventdefault%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/with-onsubmit-preventdefault/index.tsx"
        },
        {
            "sha": "d94bb6a6ca718d0dd2a73b93e60dbd228c5379cb",
            "filename": "test/e2e/next-form/default/pages/pages-dir/forms/with-replace/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-replace%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-replace%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fforms%2Fwith-replace%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/forms/with-replace/index.tsx"
        },
        {
            "sha": "4053fb91210d464c75d3b1efbff124a69e9d8e02",
            "filename": "test/e2e/next-form/default/pages/pages-dir/redirected-from-action/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fredirected-from-action%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fredirected-from-action%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fredirected-from-action%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/redirected-from-action/index.tsx"
        },
        {
            "sha": "8930b2a511c5d13239e7ed0a80f4b287cbeeef79",
            "filename": "test/e2e/next-form/default/pages/pages-dir/search/index.tsx",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fsearch%2Findex.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fsearch%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fpages%2Fpages-dir%2Fsearch%2Findex.tsx?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "previous_filename": "test/e2e/app-dir/next-form/default/pages/pages-dir/search/index.tsx"
        },
        {
            "sha": "54706bd7f1fdf5cc5602921b2fdc35890e015d21",
            "filename": "test/e2e/next-form/default/shared-tests.util.ts",
            "status": "added",
            "additions": 303,
            "deletions": 0,
            "changes": 303,
            "blob_url": "https://github.com/vercel/next.js/blob/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fshared-tests.util.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/cf1eea49e33d7130fe233afecca502fc13837f53/test%2Fe2e%2Fnext-form%2Fdefault%2Fshared-tests.util.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fnext-form%2Fdefault%2Fshared-tests.util.ts?ref=cf1eea49e33d7130fe233afecca502fc13837f53",
            "patch": "@@ -0,0 +1,303 @@\n+import { nextTestSetup } from 'e2e-utils'\n+import { Playwright } from 'next-webdriver'\n+\n+const isReact18 = parseInt(process.env.NEXT_TEST_REACT_VERSION) === 18\n+\n+// These tests are defined here and used in `app-dir.test.ts` and\n+// `pages-dir.test.ts` so that both test suites can be run in parallel.\n+export function runSharedTests(type: 'app' | 'pages') {\n+  describe(`next-form - ${type} dir`, () => {\n+    const { next, isNextDev } = nextTestSetup({\n+      files: __dirname,\n+      nextConfig: {\n+        typescript: {\n+          ignoreBuildErrors: true,\n+        },\n+      },\n+    })\n+\n+    const isAppDir = type === 'app'\n+    const pathPrefix = isAppDir ? '' : '/pages-dir'\n+\n+    it(\n+      'should soft-navigate on submit' +\n+        (isAppDir ? ' and show the prefetched loading state' : ''),\n+      async () => {\n+        const session = await next.browser(pathPrefix + '/forms/basic')\n+        const navigationTracker = await trackMpaNavs(session)\n+\n+        const searchInput = await session.elementByCss('input[name=\"query\"]')\n+        await searchInput.fill('my search')\n+\n+        const submitButton = await session.elementByCss('[type=\"submit\"]')\n+        await submitButton.click()\n+\n+        if (isAppDir) {\n+          // we should have prefetched a loading state, so it should be displayed\n+          await session.waitForElementByCss('#loading')\n+        }\n+\n+        const result = await session\n+          .waitForElementByCss('#search-results')\n+          .text()\n+        expect(result).toMatch(/query: \"my search\"/)\n+\n+        expect(await navigationTracker.didMpaNavigate()).toBe(false)\n+      }\n+    )\n+\n+    it('should soft-navigate to the formAction url of the submitter', async () => {\n+      const session = await next.browser(\n+        pathPrefix + '/forms/button-formaction'\n+      )\n+      const navigationTracker = await trackMpaNavs(session)\n+\n+      const searchInput = await session.elementByCss('input[name=\"query\"]')\n+      await searchInput.fill('my search')\n+\n+      const submitButton = await session.elementByCss('[type=\"submit\"]')\n+      await submitButton.click()\n+\n+      // we didn't prefetch a loading state, so we don't know if it'll be displayed\n+      // TODO: is this correct? it'll probably be there in dev, but what about prod?\n+      // await session.waitForElementByCss('#loading')\n+\n+      const result = await session.waitForElementByCss('#search-results').text()\n+      expect(result).toMatch(/query: \"my search\"/)\n+\n+      expect(await navigationTracker.didMpaNavigate()).toBe(false)\n+    })\n+\n+    // `<form action={someFunction}>` is only supported in React 19.x\n+    ;(isReact18 ? describe.skip : describe)(\n+      'functions passed to action',\n+      () => {\n+        it.each([\n+          {\n+            name: 'client action',\n+            path: '/forms/with-function/action-client',\n+          },\n+          ...(isAppDir\n+            ? [\n+                {\n+                  name: 'server action',\n+                  path: '/forms/with-function/action-server',\n+                },\n+                {\n+                  name: 'server action (closure)',\n+                  path: '/forms/with-function/action-server-closure',\n+                },\n+              ]\n+            : []),\n+        ])('runs $name', async ({ path }) => {\n+          const session = await next.browser(pathPrefix + path)\n+          const navigationTracker = await trackMpaNavs(session) // actions should not MPA-navigate either.\n+\n+          const searchInput = await session.elementByCss('input[name=\"query\"]')\n+          await searchInput.fill('will not be a search')\n+\n+          const submitButton = await session.elementByCss('[type=\"submit\"]')\n+          await submitButton.click()\n+\n+          const result = await session\n+            .waitForElementByCss('#redirected-results')\n+            .text()\n+          expect(result).toMatch(/query: \"will not be a search\"/)\n+\n+          expect(await navigationTracker.didMpaNavigate()).toBe(false)\n+        })\n+      }\n+    )\n+\n+    // `<button formAction={someFunction}>` is only supported in React 19.x\n+    ;(isReact18 ? describe.skip : describe)(\n+      'functions passed to formAction',\n+      () => {\n+        it.each([\n+          {\n+            // TODO(lubieowoce): figure out why the client navigation is failing in pages dir\n+            // (see \"pages-dir/forms/with-function/button-formaction-client/index.tsx\" for more)\n+            name: 'client action',\n+            path: '/forms/with-function/button-formaction-client',\n+          },\n+          ...(isAppDir\n+            ? [\n+                {\n+                  name: 'server action',\n+                  path: '/forms/with-function/button-formaction-server',\n+                },\n+                {\n+                  name: 'server action (closure)',\n+                  path: '/forms/with-function/button-formaction-server-closure',\n+                },\n+              ]\n+            : []),\n+        ])(\n+          \"runs $name from submitter and doesn't warn about unsupported attributes\",\n+          async ({ path }) => {\n+            const session = await next.browser(pathPrefix + path)\n+            const navigationTracker = await trackMpaNavs(session) // actions should not MPA-navigate either.\n+\n+            const searchInput = await session.elementByCss(\n+              'input[name=\"query\"]'\n+            )\n+            await searchInput.fill('will not be a search')\n+\n+            const submitButton = await session.elementByCss('[type=\"submit\"]')\n+            await submitButton.click()\n+\n+            const result = await session\n+              .waitForElementByCss('#redirected-results')\n+              .text()\n+            expect(result).toMatch(/query: \"will not be a search\"/)\n+\n+            expect(await navigationTracker.didMpaNavigate()).toBe(false)\n+\n+            if (isNextDev) {\n+              const logs = (await session.log()).map((item) => item.message)\n+\n+              expect(logs).not.toContainEqual(\n+                expect.stringMatching(\n+                  /<Form>'s `.+?` was set to an unsupported value/\n+                )\n+              )\n+            }\n+          }\n+        )\n+      }\n+    )\n+\n+    describe('unsupported attributes on submitter', () => {\n+      it.each([\n+        { name: 'formEncType', baseName: 'encType' },\n+        { name: 'formMethod', baseName: 'method' },\n+        { name: 'formTarget', baseName: 'target' },\n+      ])(\n+        'should warn if submitter sets \"$name\" to an unsupported value and fall back to default submit behavior',\n+        async ({ name: attributeName, baseName: attributeBaseName }) => {\n+          const session = await next.browser(\n+            pathPrefix +\n+              `/forms/button-formaction-unsupported?attribute=${attributeName}`\n+          )\n+\n+          const submitButton = await session.elementByCss('[type=\"submit\"]')\n+          await submitButton.click()\n+\n+          const logs = await session.log()\n+\n+          if (isNextDev) {\n+            expect(logs).toContainEqual(\n+              expect.objectContaining({\n+                source: 'error',\n+                message: expect.stringContaining(\n+                  `<Form>'s \\`${attributeBaseName}\\` was set to an unsupported value`\n+                ),\n+              })\n+            )\n+          }\n+\n+          expect(logs).toContainEqual(\n+            expect.objectContaining({\n+              source: 'log',\n+              message: expect.stringContaining(\n+                'correct: default submit behavior was not prevented'\n+              ),\n+            })\n+          )\n+          expect(logs).not.toContainEqual(\n+            expect.objectContaining({\n+              source: 'log',\n+              message: expect.stringContaining(\n+                'incorrect: default submit behavior was prevented'\n+              ),\n+            })\n+          )\n+        }\n+      )\n+    })\n+\n+    it('does not push a new history entry if `replace` is passed', async () => {\n+      const session = await next.browser(pathPrefix + `/forms/with-replace`)\n+      const navigationTracker = await trackMpaNavs(session)\n+\n+      // apparently this is usually not 1...?\n+      const prevHistoryLength: number = await session.eval(`history.length`)\n+\n+      const submitButton = await session.elementByCss('[type=\"submit\"]')\n+      await submitButton.click()\n+\n+      await session.waitForElementByCss('#search-results')\n+\n+      expect(await navigationTracker.didMpaNavigate()).toBe(false)\n+      expect(await session.eval(`history.length`)).toEqual(prevHistoryLength)\n+    })\n+\n+    it('does not navigate if preventDefault is called in onSubmit', async () => {\n+      const session = await next.browser(\n+        pathPrefix + `/forms/with-onsubmit-preventdefault`\n+      )\n+\n+      const submitButton = await session.elementByCss('[type=\"submit\"]')\n+      await submitButton.click()\n+\n+      // see fixture code for explanation why we expect this\n+\n+      await session.waitForElementByCss('#redirected-results')\n+      expect(new URL(await session.url()).pathname).toEqual(\n+        pathPrefix + '/redirected-from-action'\n+      )\n+    })\n+\n+    it('url-encodes file inputs, but warns about them', async () => {\n+      const session = await next.browser(pathPrefix + `/forms/with-file-input`)\n+\n+      const fileInputSelector = 'input[type=\"file\"]'\n+      // Fake a file to upload\n+      await session.eval(`\n+      const fileInput = document.querySelector(${JSON.stringify(fileInputSelector)});\n+      const file = new File(['hello'], 'hello.txt', { type: 'text/plain' });\n+      const list = new DataTransfer(); \n+      list.items.add(file); \n+      fileInput.files = list.files; \n+    `)\n+\n+      const searchInput = await session.elementByCss('input[name=\"query\"]')\n+      await searchInput.fill('my search')\n+\n+      const submitButton = await session.elementByCss('[type=\"submit\"]')\n+      await submitButton.click()\n+\n+      if (isNextDev) {\n+        const logs = await session.log()\n+        expect(logs).toContainEqual(\n+          expect.objectContaining({\n+            source: 'warning',\n+            message: expect.stringContaining(\n+              `<Form> only supports file inputs if \\`action\\` is a function`\n+            ),\n+          })\n+        )\n+      }\n+\n+      const result = await session.waitForElementByCss('#search-results').text()\n+      expect(result).toMatch(/query: \"my search\"/)\n+\n+      const url = new URL(await session.url())\n+      expect([...url.searchParams.entries()]).toEqual([\n+        ['query', 'my search'],\n+        ['file', 'hello.txt'],\n+      ])\n+    })\n+  })\n+\n+  async function trackMpaNavs(session: Playwright) {\n+    const id = Date.now()\n+    await session.eval(`window.__MPA_NAV_ID = ${id}`)\n+    return {\n+      async didMpaNavigate() {\n+        const maybeId = await session.eval(`window.__MPA_NAV_ID`)\n+        return id !== maybeId\n+      },\n+    }\n+  }\n+}"
        }
    ],
    "stats": {
        "total": 603,
        "additions": 316,
        "deletions": 287
    }
}