{
    "author": "eps1lon",
    "message": "[test] Fix crashes in Dev Overlay Stories (#80292)\n\nA bit annoying that Storybook marks required props as optional. Makes it hard to keep those working during refactor.",
    "sha": "69374fbbda17164ad98b6e47585d80fa05c76dd2",
    "files": [
        {
            "sha": "8f2a3af8a15ade8ff29ed25f9c287f6276689bf3",
            "filename": "packages/next/.storybook/test-runner.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2F.storybook%2Ftest-runner.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2F.storybook%2Ftest-runner.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2F.storybook%2Ftest-runner.ts?ref=69374fbbda17164ad98b6e47585d80fa05c76dd2",
            "patch": "@@ -15,6 +15,9 @@ const config: TestRunnerConfig = {\n       detailedReportOptions: {\n         html: true,\n       },\n+      // Verbose prints additional logs in the terminal on passing tests taking up space\n+      // that's needed by failed tests.\n+      verbose: false,\n     })\n   },\n }"
        },
        {
            "sha": "f5a35bfc93b57cdd89f72a4bb55046f1b434b20b",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/errors/error-overlay-layout/error-overlay-layout.stories.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Ferror-overlay-layout%2Ferror-overlay-layout.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Ferror-overlay-layout%2Ferror-overlay-layout.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Ferrors%2Ferror-overlay-layout%2Ferror-overlay-layout.stories.tsx?ref=69374fbbda17164ad98b6e47585d80fa05c76dd2",
            "patch": "@@ -15,6 +15,10 @@ type Story = StoryObj<typeof ErrorOverlayLayout>\n \n export const Default: Story = {\n   args: {\n+    error: {\n+      name: 'ModuleNotFoundError',\n+      message: \"Cannot find module './missing-module'\",\n+    },\n     errorType: 'Build Error',\n     errorMessage: 'Failed to compile',\n     errorCode: 'E001',"
        },
        {
            "sha": "6abe4a3ea3886759040db2ef0c73a4d84777ee45",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/components/hydration-diff/diff-view.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fhydration-diff%2Fdiff-view.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fhydration-diff%2Fdiff-view.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcomponents%2Fhydration-diff%2Fdiff-view.tsx?ref=69374fbbda17164ad98b6e47585d80fa05c76dd2",
            "patch": "@@ -58,7 +58,7 @@ export function PseudoHtmlDiff({\n \n   const htmlComponents = useMemo(() => {\n     const componentStacks: React.ReactNode[] = []\n-    const reactComponentDiffLines = reactOutputComponentDiff!.split('\\n')\n+    const reactComponentDiffLines = reactOutputComponentDiff.split('\\n')\n     reactComponentDiffLines.forEach((line, index) => {\n       const isDiffLine = line[0] === '+' || line[0] === '-'\n       const isHighlightedLine = line[0] === '>'"
        },
        {
            "sha": "c9c876bcc6d9d956cf5f94f252b5d6ac79ad7239",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/container/errors.stories.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcontainer%2Ferrors.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcontainer%2Ferrors.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcontainer%2Ferrors.stories.tsx?ref=69374fbbda17164ad98b6e47585d80fa05c76dd2",
            "patch": "@@ -156,6 +156,7 @@ const runtimeErrors: ReadyRuntimeError[] = [\n \n export const Default: Story = {\n   args: {\n+    getSquashedHydrationErrorDetails: () => null,\n     runtimeErrors,\n     versionInfo: {\n       installed: '15.0.0',\n@@ -188,6 +189,7 @@ export const VeryLongErrorMessage: Story = {\n \n export const WithHydrationWarning: Story = {\n   args: {\n+    ...Default.args,\n     runtimeErrors: [\n       {\n         id: 1,"
        },
        {
            "sha": "75f1b723d950c57cf4273f9ac0a886188d396d45",
            "filename": "packages/next/src/client/components/react-dev-overlay/ui/container/runtime-error/component-stack-pseudo-html.stories.tsx",
            "status": "modified",
            "additions": 7,
            "deletions": 12,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcontainer%2Fruntime-error%2Fcomponent-stack-pseudo-html.stories.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/69374fbbda17164ad98b6e47585d80fa05c76dd2/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcontainer%2Fruntime-error%2Fcomponent-stack-pseudo-html.stories.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Freact-dev-overlay%2Fui%2Fcontainer%2Fruntime-error%2Fcomponent-stack-pseudo-html.stories.tsx?ref=69374fbbda17164ad98b6e47585d80fa05c76dd2",
            "patch": "@@ -15,22 +15,17 @@ type Story = StoryObj<typeof PseudoHtmlDiff>\n \n export const TextMismatch: Story = {\n   args: {\n-    reactOutputComponentDiff: undefined,\n-  },\n-}\n-\n-export const TextInTagMismatch: Story = {\n-  args: {\n-    reactOutputComponentDiff: undefined,\n+    reactOutputComponentDiff: `<Page>\n+  <Layout>\n+    <div>\n+-     Server content\n++     Client content`,\n   },\n }\n \n export const ReactUnifiedMismatch: Story = {\n   args: {\n-    reactOutputComponentDiff: `<Page>\n-  <Layout>\n-    <div>\n--     <p>Server content</p>\n-+     <p>Client content</p>`,\n+    reactOutputComponentDiff:\n+      '<Page>\\n  <Layout>\\n    <div>asd\\n-     <p>Server content</p>\\n+     <p>Client content</p>',\n   },\n }"
        }
    ],
    "stats": {
        "total": 30,
        "additions": 17,
        "deletions": 13
    }
}