{
    "author": "mischnic",
    "message": "Bump to swc v42 (#83477)\n\n- [x] Blocked on https://github.com/swc-project/swc/pull/11062\n- [x] Blocked on https://github.com/parcel-bundler/lightningcss/issues/1056",
    "sha": "59172894e3bf95d4dea17e2e538947913b3f2fd5",
    "files": [
        {
            "sha": "d7c93ea14dcc869f71ea8a4bcbc0284fd505f880",
            "filename": "Cargo.lock",
            "status": "modified",
            "additions": 216,
            "deletions": 137,
            "changes": 353,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/Cargo.lock",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/Cargo.lock",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.lock?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -322,9 +322,9 @@ dependencies = [\n \n [[package]]\n name = \"ast_node\"\n-version = \"3.0.3\"\n+version = \"3.0.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a1e2cddd48eafd883890770673b1971faceaf80a185445671abc3ea0c00593ee\"\n+checksum = \"0a184645bcc6f52d69d8e7639720699c6a99efb711f886e251ed1d16db8dd90e\"\n dependencies = [\n  \"quote\",\n  \"swc_macros_common\",\n@@ -597,9 +597,9 @@ dependencies = [\n \n [[package]]\n name = \"binding_macros\"\n-version = \"35.0.0\"\n+version = \"40.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"fa88098f66b3ae6d64270e93d991a7b1b40a6c3ede2da8320597573ce4a1ecb1\"\n+checksum = \"60c146e22990eb01e6675c558e17cffbe44bf6061ab4f3c2f14c6f9fd9badeb6\"\n dependencies = [\n  \"anyhow\",\n  \"console_error_panic_hook\",\n@@ -1735,6 +1735,16 @@ dependencies = [\n  \"darling_macro 0.20.10\",\n ]\n \n+[[package]]\n+name = \"darling\"\n+version = \"0.21.3\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"9cdf337090841a411e2a7f3deb9187445851f91b309c0c0a29e05f74a00a48c0\"\n+dependencies = [\n+ \"darling_core 0.21.3\",\n+ \"darling_macro 0.21.3\",\n+]\n+\n [[package]]\n name = \"darling_core\"\n version = \"0.14.4\"\n@@ -1763,6 +1773,20 @@ dependencies = [\n  \"syn 2.0.104\",\n ]\n \n+[[package]]\n+name = \"darling_core\"\n+version = \"0.21.3\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"1247195ecd7e3c85f83c8d2a366e4210d588e802133e1e355180a9870b517ea4\"\n+dependencies = [\n+ \"fnv\",\n+ \"ident_case\",\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"strsim 0.11.1\",\n+ \"syn 2.0.104\",\n+]\n+\n [[package]]\n name = \"darling_macro\"\n version = \"0.14.4\"\n@@ -1785,6 +1809,17 @@ dependencies = [\n  \"syn 2.0.104\",\n ]\n \n+[[package]]\n+name = \"darling_macro\"\n+version = \"0.21.3\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"d38308df82d1080de0afee5d069fa14b0326a88c14f15c5ccda35b4a6c414c81\"\n+dependencies = [\n+ \"darling_core 0.21.3\",\n+ \"quote\",\n+ \"syn 2.0.104\",\n+]\n+\n [[package]]\n name = \"dashmap\"\n version = \"5.5.3\"\n@@ -2685,9 +2720,9 @@ dependencies = [\n \n [[package]]\n name = \"hstr\"\n-version = \"2.0.0\"\n+version = \"2.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4933df6fceb5d21a21e9fb5b46e572a83be4108e5b544de7ebe87cc1245b5d23\"\n+checksum = \"ced1416104790052518d199e753d49a7d8130d476c664bc9e53f40cfecb8e615\"\n dependencies = [\n  \"hashbrown 0.14.5\",\n  \"new_debug_unreachable\",\n@@ -3596,8 +3631,9 @@ dependencies = [\n \n [[package]]\n name = \"lightningcss\"\n-version = \"1.0.0-alpha.67\"\n-source = \"git+https://github.com/parcel-bundler/lightningcss.git?branch=mischnic%2Fbump-browserslist#24188e69450b12aa16e67ef2cf3f298cf9e0eb72\"\n+version = \"1.0.0-alpha.68\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"b407ca668368d1d5a86cea58ac82d9f9f9ca4bac1e9dce6f16f875f0f081a911\"\n dependencies = [\n  \"ahash 0.8.12\",\n  \"bitflags 2.9.1\",\n@@ -3607,25 +3643,27 @@ dependencies = [\n  \"cssparser-color\",\n  \"dashmap 5.5.3\",\n  \"data-encoding\",\n- \"getrandom 0.2.15\",\n+ \"getrandom 0.3.3\",\n  \"indexmap 2.9.0\",\n  \"itertools 0.10.5\",\n  \"lazy_static\",\n  \"lightningcss-derive\",\n  \"parcel_selectors\",\n  \"parcel_sourcemap\",\n- \"paste\",\n+ \"pastey\",\n  \"pathdiff\",\n  \"rayon\",\n  \"serde\",\n+ \"serde-content\",\n  \"smallvec\",\n  \"static-self\",\n ]\n \n [[package]]\n name = \"lightningcss-derive\"\n version = \"1.0.0-alpha.43\"\n-source = \"git+https://github.com/parcel-bundler/lightningcss.git?branch=mischnic%2Fbump-browserslist#24188e69450b12aa16e67ef2cf3f298cf9e0eb72\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"84c12744d1279367caed41739ef094c325d53fb0ffcd4f9b84a368796f870252\"\n dependencies = [\n  \"convert_case\",\n  \"proc-macro2\",\n@@ -3635,15 +3673,16 @@ dependencies = [\n \n [[package]]\n name = \"lightningcss-napi\"\n-version = \"0.4.4\"\n+version = \"0.4.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2b254219299448a95dada4fa2b3bc70c73112d5d4858722b1e2b4ada1591ae22\"\n+checksum = \"be455e573ab952db95c4be34046b513dbbd2f5fee5e34206deb0a828d38d4ba1\"\n dependencies = [\n  \"cssparser\",\n  \"lightningcss\",\n  \"napi\",\n  \"parcel_sourcemap\",\n  \"serde\",\n+ \"serde-content\",\n  \"serde-detach\",\n  \"serde_bytes\",\n  \"smallvec\",\n@@ -3872,7 +3911,7 @@ dependencies = [\n [[package]]\n name = \"mdxjs\"\n version = \"1.0.4\"\n-source = \"git+https://github.com/mischnic/mdxjs-rs.git?branch=swc-core-32#babe8030c9d5d22253bd0538e0264ad865d3f515\"\n+source = \"git+https://github.com/mischnic/mdxjs-rs.git?branch=swc-core-32#1c774ac2df2c2eeaea0d81ba18675a1973f0ecea\"\n dependencies = [\n  \"markdown\",\n  \"rustc-hash 2.1.1\",\n@@ -4047,9 +4086,9 @@ dependencies = [\n \n [[package]]\n name = \"modularize_imports\"\n-version = \"0.94.0\"\n+version = \"0.97.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d6866ea14f19ee29b53fd53c67f0e5ecaafc5a0db12635003dc79c865a89c481\"\n+checksum = \"524a04bee752a8900bc582e7c4744a107fb63087bac2e87ae4d1cb027d914647\"\n dependencies = [\n  \"convert_case\",\n  \"handlebars\",\n@@ -4788,7 +4827,8 @@ dependencies = [\n [[package]]\n name = \"parcel_selectors\"\n version = \"0.28.2\"\n-source = \"git+https://github.com/parcel-bundler/lightningcss.git?branch=mischnic%2Fbump-browserslist#24188e69450b12aa16e67ef2cf3f298cf9e0eb72\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"54fd03f1ad26cb6b3ec1b7414fa78a3bd639e7dbb421b1a60513c96ce886a196\"\n dependencies = [\n  \"bitflags 2.9.1\",\n  \"cssparser\",\n@@ -4851,6 +4891,12 @@ version = \"1.0.15\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"57c0d7b74b563b49d38dae00a0c37d4d6de9b432382b2892f0574ddcae73fd0a\"\n \n+[[package]]\n+name = \"pastey\"\n+version = \"0.1.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"35fb2e5f958ec131621fdd531e9fc186ed768cbe395337403ae56c17a74c68ec\"\n+\n [[package]]\n name = \"path-clean\"\n version = \"0.1.0\"\n@@ -5644,9 +5690,9 @@ dependencies = [\n \n [[package]]\n name = \"react_remove_properties\"\n-version = \"0.48.0\"\n+version = \"0.51.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"dc382f638640239734c0860636132a8176e09d140dc9cfb7c06dbbbcf7b3c1f0\"\n+checksum = \"75f13552767f97435513a84e97a53d8361b7f4ad6143bfcab99db258c74080f8\"\n dependencies = [\n  \"serde\",\n  \"swc_atoms\",\n@@ -5667,18 +5713,18 @@ dependencies = [\n \n [[package]]\n name = \"ref-cast\"\n-version = \"1.0.20\"\n+version = \"1.0.24\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"acde58d073e9c79da00f2b5b84eed919c8326832648a5b109b3fce1bb1175280\"\n+checksum = \"4a0ae411dbe946a674d89546582cea4ba2bb8defac896622d6496f14c23ba5cf\"\n dependencies = [\n  \"ref-cast-impl\",\n ]\n \n [[package]]\n name = \"ref-cast-impl\"\n-version = \"1.0.20\"\n+version = \"1.0.24\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7f7473c2cfcf90008193dd0e3e16599455cb601a9fce322b5bb55de799664925\"\n+checksum = \"1165225c21bff1f3bbce98f5a1f889949bc902d3575308cc7b0de30b4f6d27c7\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -5772,9 +5818,9 @@ checksum = \"c707298afce11da2efef2f600116fa93ffa7a032b5d7b628aa17711ec81383ca\"\n \n [[package]]\n name = \"remove_console\"\n-version = \"0.49.0\"\n+version = \"0.52.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c692c95766fb29c34b5d9a7f572920532bb0d0753863dcfb155ac2e3e4d80d03\"\n+checksum = \"a7ee193324f45141f19a8b80a0ad9801c744c9cba4a12b6367dd62a3160cb315\"\n dependencies = [\n  \"serde\",\n  \"swc_atoms\",\n@@ -6234,6 +6280,30 @@ dependencies = [\n  \"url\",\n ]\n \n+[[package]]\n+name = \"schemars\"\n+version = \"0.9.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"4cd191f9397d57d581cddd31014772520aa448f65ef991055d7f61582c65165f\"\n+dependencies = [\n+ \"dyn-clone\",\n+ \"ref-cast\",\n+ \"serde\",\n+ \"serde_json\",\n+]\n+\n+[[package]]\n+name = \"schemars\"\n+version = \"1.0.4\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"82d20c4491bc164fa2f6c5d44565947a52ad80b9505d8e36f8d54c27c739fcd0\"\n+dependencies = [\n+ \"dyn-clone\",\n+ \"ref-cast\",\n+ \"serde\",\n+ \"serde_json\",\n+]\n+\n [[package]]\n name = \"schemars_derive\"\n version = \"0.8.21\"\n@@ -6318,13 +6388,23 @@ checksum = \"1bc711410fbe7399f390ca1c3b60ad0f53f80e95c5eb935e52268a0e2cd49acc\"\n \n [[package]]\n name = \"serde\"\n-version = \"1.0.219\"\n+version = \"1.0.228\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5f0e2c6ed6606019b4e29e69dbaba95b11854410e5347d525002456dbbb786b6\"\n+checksum = \"9a8e94ea7f378bd32cbbd37198a4a91436180c5bb472411e48b5ec2e2124ae9e\"\n dependencies = [\n+ \"serde_core\",\n  \"serde_derive\",\n ]\n \n+[[package]]\n+name = \"serde-content\"\n+version = \"0.1.2\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"3753ca04f350fa92d00b6146a3555e63c55388c9ef2e11e09bce2ff1c0b509c6\"\n+dependencies = [\n+ \"serde\",\n+]\n+\n [[package]]\n name = \"serde-detach\"\n version = \"0.0.1\"\n@@ -6359,18 +6439,28 @@ dependencies = [\n \n [[package]]\n name = \"serde_bytes\"\n-version = \"0.11.15\"\n+version = \"0.11.19\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"387cc504cb06bb40a96c8e04e951fe01854cf6bc921053c954e4a606d9675c6a\"\n+checksum = \"a5d440709e79d88e51ac01c4b72fc6cb7314017bb7da9eeff678aa94c10e3ea8\"\n dependencies = [\n  \"serde\",\n+ \"serde_core\",\n+]\n+\n+[[package]]\n+name = \"serde_core\"\n+version = \"1.0.228\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"41d385c7d4ca58e59fc732af25c3983b67ac852c1a25000afe1175de458b67ad\"\n+dependencies = [\n+ \"serde_derive\",\n ]\n \n [[package]]\n name = \"serde_derive\"\n-version = \"1.0.219\"\n+version = \"1.0.228\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5b0276cf7f2c73365f7157c8123c21cd9a50fbbd844757af28ca1f5925fc2a00\"\n+checksum = \"d540f220d3187173da220f885ab66608367b6574e925011a9353e4badda91d79\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -6390,25 +6480,27 @@ dependencies = [\n \n [[package]]\n name = \"serde_json\"\n-version = \"1.0.138\"\n+version = \"1.0.145\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d434192e7da787e94a6ea7e9670b26a036d0ca41e0b7efb2676dd32bae872949\"\n+checksum = \"402a6f66d8c709116cf22f558eab210f5a50187f702eb4d7e5ef38d9a7f1c79c\"\n dependencies = [\n  \"indexmap 2.9.0\",\n  \"itoa\",\n  \"memchr\",\n  \"ryu\",\n  \"serde\",\n+ \"serde_core\",\n ]\n \n [[package]]\n name = \"serde_path_to_error\"\n-version = \"0.1.16\"\n+version = \"0.1.20\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"af99884400da37c88f5e9146b7f1fd0fbcae8f6eec4e9da38b67d05486f814a6\"\n+checksum = \"10a9ff822e371bb5403e391ecd83e182e0e77ba7f6fe0160b795797109d1b457\"\n dependencies = [\n  \"itoa\",\n  \"serde\",\n+ \"serde_core\",\n ]\n \n [[package]]\n@@ -6434,9 +6526,9 @@ dependencies = [\n \n [[package]]\n name = \"serde_repr\"\n-version = \"0.1.19\"\n+version = \"0.1.20\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6c64451ba24fc7a6a2d60fc75dd9c83c90903b19028d4eff35e88fc1e86564e9\"\n+checksum = \"175ee3e80ae9982737ca543e96133087cbd9a485eecc3bc4de9c1a37b47ea59c\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -6445,18 +6537,18 @@ dependencies = [\n \n [[package]]\n name = \"serde_spanned\"\n-version = \"0.6.7\"\n+version = \"0.6.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"eb5b1b31579f3811bf615c144393417496f152e12ac8b7663bf664f4a815306d\"\n+checksum = \"bf41e0cfaf7226dca15e8197172c295a782857fcb97fad1808a166870dee75a3\"\n dependencies = [\n  \"serde\",\n ]\n \n [[package]]\n name = \"serde_test\"\n-version = \"1.0.176\"\n+version = \"1.0.177\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5a2f49ace1498612d14f7e0b8245519584db8299541dfe31a06374a828d620ab\"\n+checksum = \"7f901ee573cab6b3060453d2d5f0bae4e6d628c23c0a962ff9b5f1d7c8d4f1ed\"\n dependencies = [\n  \"serde\",\n ]\n@@ -6475,15 +6567,17 @@ dependencies = [\n \n [[package]]\n name = \"serde_with\"\n-version = \"3.12.0\"\n+version = \"3.14.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d6b6f7f2fcb69f747921f79f3926bd1e203fce4fef62c268dd3abfb6d86029aa\"\n+checksum = \"c522100790450cf78eeac1507263d0a350d4d5b30df0c8e1fe051a10c22b376e\"\n dependencies = [\n  \"base64 0.22.1\",\n  \"chrono\",\n  \"hex\",\n  \"indexmap 1.9.3\",\n  \"indexmap 2.9.0\",\n+ \"schemars 0.9.0\",\n+ \"schemars 1.0.4\",\n  \"serde\",\n  \"serde_derive\",\n  \"serde_json\",\n@@ -6493,11 +6587,11 @@ dependencies = [\n \n [[package]]\n name = \"serde_with_macros\"\n-version = \"3.12.0\"\n+version = \"3.14.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"8d00caa5193a3c8362ac2b73be6b9e768aa5a4b2f721d8f4b339600c3cb51f8e\"\n+checksum = \"327ada00f7d64abaac1e55a6911e90cf665aa051b9a561c7006c157f4633135e\"\n dependencies = [\n- \"darling 0.20.10\",\n+ \"darling 0.21.3\",\n  \"proc-macro2\",\n  \"quote\",\n  \"syn 2.0.104\",\n@@ -6786,7 +6880,8 @@ dependencies = [\n [[package]]\n name = \"static-self\"\n version = \"0.1.2\"\n-source = \"git+https://github.com/parcel-bundler/lightningcss.git?branch=mischnic%2Fbump-browserslist#24188e69450b12aa16e67ef2cf3f298cf9e0eb72\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"f6635404b73efc136af3a7956e53c53d4f34b2f16c95a15c438929add0f69412\"\n dependencies = [\n  \"indexmap 2.9.0\",\n  \"smallvec\",\n@@ -6796,7 +6891,8 @@ dependencies = [\n [[package]]\n name = \"static-self-derive\"\n version = \"0.1.1\"\n-source = \"git+https://github.com/parcel-bundler/lightningcss.git?branch=mischnic%2Fbump-browserslist#24188e69450b12aa16e67ef2cf3f298cf9e0eb72\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"5268c96d4b907c558a9a52d8492522d6c7b559651a5e1d8f2d551e461b9425d5\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -6844,9 +6940,9 @@ checksum = \"7da8b5736845d9f2fcb837ea5d9e2628564b3b043a70948a3f0b778838c5fb4f\"\n \n [[package]]\n name = \"styled_components\"\n-version = \"0.122.0\"\n+version = \"0.125.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6cfdccc7b634b3e1906ae76eba38700612af5ad6123ac733ef21760bd992a2f3\"\n+checksum = \"17c6e2cd95d46f8e6725e210765c27e649461c419c5bf455c68e995a8cb56d49\"\n dependencies = [\n  \"Inflector\",\n  \"once_cell\",\n@@ -6863,9 +6959,9 @@ dependencies = [\n \n [[package]]\n name = \"styled_jsx\"\n-version = \"0.98.0\"\n+version = \"0.101.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ab3c1fb4133297172f95114bde3b96e3d652f230d8d4674d967f654792b902ef\"\n+checksum = \"94b2b624c7f1acf24930cea5b9368e14b6857fec4f19452a032a7a1e819f8f78\"\n dependencies = [\n  \"anyhow\",\n  \"lightningcss\",\n@@ -6907,9 +7003,9 @@ checksum = \"804f44ed3c63152de6a9f90acbea1a110441de43006ea51bcce8f436196a288b\"\n \n [[package]]\n name = \"swc\"\n-version = \"35.0.0\"\n+version = \"40.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"405fab2e64e8585034267a4b073118f592ace283dcb96f7b9c0ffde177c67084\"\n+checksum = \"de6f9d757142d1378ba4a9fd0a7fef3a8f636502f3e0cc1cb51cf91e7c08bfcf\"\n dependencies = [\n  \"anyhow\",\n  \"base64 0.22.1\",\n@@ -6918,8 +7014,6 @@ dependencies = [\n  \"either\",\n  \"indexmap 2.9.0\",\n  \"jsonc-parser\",\n- \"napi\",\n- \"napi-derive\",\n  \"once_cell\",\n  \"par-core\",\n  \"par-iter\",\n@@ -7015,9 +7109,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_common\"\n-version = \"14.0.3\"\n+version = \"14.0.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"63fdb58d278e7cd625f671e5371b3e6c0eab56c6e2a995a6f70dd0f7725255d4\"\n+checksum = \"c2bb772b3a26b8b71d4e8c112ced5b5867be2266364b58517407a270328a2696\"\n dependencies = [\n  \"anyhow\",\n  \"ast_node\",\n@@ -7048,15 +7142,13 @@ dependencies = [\n \n [[package]]\n name = \"swc_compiler_base\"\n-version = \"32.0.0\"\n+version = \"35.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e23018058d027c09b1aaf49d0e5939daa3ea7ca0f39f166f08d170352e1a1cc6\"\n+checksum = \"33d067cb3d44993f0953120a6048d7157a48fa7914f86ee1b98f6da41891e5b4\"\n dependencies = [\n  \"anyhow\",\n  \"base64 0.22.1\",\n  \"bytes-str\",\n- \"napi\",\n- \"napi-derive\",\n  \"once_cell\",\n  \"pathdiff\",\n  \"rustc-hash 2.1.1\",\n@@ -7076,9 +7168,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_config\"\n-version = \"3.1.1\"\n+version = \"3.1.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d94f41e0f3c4c119a06af5e164674b63ae7eb6d7c1c60e46036c4a548f9fbe44\"\n+checksum = \"72e90b52ee734ded867104612218101722ad87ff4cf74fe30383bd244a533f97\"\n dependencies = [\n  \"anyhow\",\n  \"bytes-str\",\n@@ -7109,9 +7201,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_core\"\n-version = \"36.0.1\"\n+version = \"42.0.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"84c7646f17f3a99183d22f804152a3aec4eb0f9c395bdeacd4a7531527d596bf\"\n+checksum = \"fe5b0d7a8321f395373710f9d61766788c77704b1e532fcea34fe96cb4930422\"\n dependencies = [\n  \"binding_macros\",\n  \"par-core\",\n@@ -7136,7 +7228,6 @@ dependencies = [\n  \"swc_ecma_transforms_typescript\",\n  \"swc_ecma_utils\",\n  \"swc_ecma_visit\",\n- \"swc_nodejs_common\",\n  \"swc_plugin_proxy\",\n  \"swc_plugin_runner\",\n  \"testing\",\n@@ -7297,9 +7388,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_codegen\"\n-version = \"17.0.0\"\n+version = \"17.0.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b91da8222bd2e868a6977ef402b3ca5c29a41d18cd84772441d9e06ec95ded1f\"\n+checksum = \"bcf55c2d7555c93f4945e29f93b7529562be97ba16e60dd94c25724d746174ac\"\n dependencies = [\n  \"ascii\",\n  \"compact_str\",\n@@ -7332,9 +7423,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_bugfixes\"\n-version = \"26.0.0\"\n+version = \"28.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"476691e063132a2629471189780223492c45dfc5b105fd8081684bce03fcc2ab\"\n+checksum = \"0809b7e5a20d31ddaf051a19ea467378d3ea1e9ecee7f7e1866c192c781f00e1\"\n dependencies = [\n  \"rustc-hash 2.1.1\",\n  \"swc_atoms\",\n@@ -7362,9 +7453,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2015\"\n-version = \"26.0.0\"\n+version = \"28.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"8c2d7bf2c6a6b2ce2453f52a3f90b82f0cfa9525c7622592acf1ce847673af5c\"\n+checksum = \"463a43bb2350ec3e68692d7e5f786ecf07382d057972dd5cc4fe02c9239fc5f3\"\n dependencies = [\n  \"arrayvec 0.7.4\",\n  \"indexmap 2.9.0\",\n@@ -7389,9 +7480,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2016\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"681559e1246cca71bfd3554e369e6ea73f9ccaed3697b8a6600b73d4a6d4a2b5\"\n+checksum = \"26d08be3aaea9e0cb603a00b958f78c6149ce6fc98d0d9622935821a8dd2a99b\"\n dependencies = [\n  \"swc_common\",\n  \"swc_ecma_ast\",\n@@ -7405,9 +7496,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2017\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"8066d91752055dd73b3fbca713c678569a58acd072d31c5dc30c9ac881b95d76\"\n+checksum = \"1b68fc5c6237cdb8bb450672443cd640c2acbc84edc3d097349db33de0051668\"\n dependencies = [\n  \"serde\",\n  \"swc_common\",\n@@ -7421,9 +7512,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2018\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"735b1d1ea60be161bddeca4373edfbba29dcf00e1be8a846f19c8692fc2b703f\"\n+checksum = \"0de471037ff0e178a678a852d232206049578dab258b4e4abc57a677f2d8322d\"\n dependencies = [\n  \"serde\",\n  \"swc_common\",\n@@ -7439,9 +7530,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2019\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0e34d4a9667211f79529e298d7f01b54dd17edcf0ee345da96c5d9269df859f9\"\n+checksum = \"9e5cc26969456801ee879a9b79d69b82ddf3ac8ecd0c601d9960f867d3f91a7c\"\n dependencies = [\n  \"swc_common\",\n  \"swc_ecma_ast\",\n@@ -7454,9 +7545,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2020\"\n-version = \"26.0.0\"\n+version = \"27.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7ffa90402a30e7d7b01f6c8e8105ffac7e003337b127c39279e872f7f42a6f47\"\n+checksum = \"6ffd86caa05bc410105d05afe0c2fda17cb85ccba82d08fa72250d686a1ad4a3\"\n dependencies = [\n  \"serde\",\n  \"swc_common\",\n@@ -7471,9 +7562,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2021\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"55969e109ac2e987548b0295ffd77553dc13a50e19ada2922d90888f3958ad22\"\n+checksum = \"41b9c2e5183b794675e84c0543fe62a3ec3353bf461dd5b1a0e9396c1ef85101\"\n dependencies = [\n  \"swc_ecma_ast\",\n  \"swc_ecma_compiler\",\n@@ -7484,9 +7575,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compat_es2022\"\n-version = \"26.0.0\"\n+version = \"27.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2dfba84b71f681f69d83274f9c275424eaf5757ad247ddda3a3c4195c7584583\"\n+checksum = \"251f6791226538ac992067316e108b49c90e241e7eb33bc5632d6b0d08c20fd8\"\n dependencies = [\n  \"rustc-hash 2.1.1\",\n  \"swc_atoms\",\n@@ -7519,9 +7610,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_compiler\"\n-version = \"3.0.0\"\n+version = \"4.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"af74a91e65d8931aad16939c1be84e6ba9540642573a3479aeed22a52f83abb6\"\n+checksum = \"d2e2c5abb053281fa1dd99f4ce1e4c062bb18fed4cc24a2eada80d4160212e28\"\n dependencies = [\n  \"bitflags 2.9.1\",\n  \"rustc-hash 2.1.1\",\n@@ -7550,9 +7641,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_lexer\"\n-version = \"23.0.0\"\n+version = \"23.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5ce0ddc31928f622709555e3fd105e0ae679897c583f5d8a1df5236650fde859\"\n+checksum = \"67c3bd958a5a67e2cc3f74abdd41fda688e54e7a25b866569260ef7018b67972\"\n dependencies = [\n  \"arrayvec 0.7.4\",\n  \"bitflags 2.9.1\",\n@@ -7616,9 +7707,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_minifier\"\n-version = \"30.0.0\"\n+version = \"32.0.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b52b0d183ac89fefa6f515f44ee89f73cdc608ea588b31aefbdf84d3c5d23cee\"\n+checksum = \"80500b64911bb710aed7a0fa97e38abf8b7937426af133c27631c72ce22129ae\"\n dependencies = [\n  \"arrayvec 0.7.4\",\n  \"bitflags 2.9.1\",\n@@ -7652,9 +7743,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_parser\"\n-version = \"23.0.0\"\n+version = \"24.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9166873bb660bed50b5f422233537d3e946336398570a4a13e57d8c63d6a01c5\"\n+checksum = \"e8079e65c43d8f3e64e791321355f5864322425fce3a3ab7fc959bbddb531933\"\n dependencies = [\n  \"either\",\n  \"num-bigint\",\n@@ -7668,9 +7759,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_preset_env\"\n-version = \"30.0.0\"\n+version = \"34.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"825087e27292bf5f41760cab1ccabaa60523c6ad27a02bee229a4ad95679d1ad\"\n+checksum = \"4d8c89878e98728a1213843f627bf7e756dcf22b8db792c6278668b613e18e32\"\n dependencies = [\n  \"anyhow\",\n  \"foldhash\",\n@@ -7693,9 +7784,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_quote_macros\"\n-version = \"23.0.0\"\n+version = \"24.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"21ad39e02fedc409e1975789343e3570ee50c858ab260c6e88465ed1fef2411e\"\n+checksum = \"1c8c018ebafab9285b7e3dfd757f28c40345e2dfade4566cf3cd3da81fbd2963\"\n dependencies = [\n  \"anyhow\",\n  \"proc-macro2\",\n@@ -7724,9 +7815,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms\"\n-version = \"29.0.0\"\n+version = \"33.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3c40214d4e00b7a8e9c4b49dcb3c5a0bb04aecfa040ea37eda7df3294498caac\"\n+checksum = \"17aad69f947105eae180fecbf17c5e494a962787c037e6facf1f50895b806b4a\"\n dependencies = [\n  \"par-core\",\n  \"swc_common\",\n@@ -7743,9 +7834,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_base\"\n-version = \"25.0.0\"\n+version = \"26.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9cc6454e1cf587b1d50509116350b503e7d647dbcc41bb5be9bf9a40fd792037\"\n+checksum = \"a0526b4e3d6cedb7e48c5026242809387676f836d4251235fa95165218bb8ce4\"\n dependencies = [\n  \"better_scoped_tls\",\n  \"indexmap 2.9.0\",\n@@ -7765,9 +7856,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_classes\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c48790332195e4163f1f49713a14f91a5614048ca6638c664050fe577c3fad5a\"\n+checksum = \"7ad4c8c59a000e0bd587f94afb51eb9caad6a42d07f41b75c56d8bf6276e1bae\"\n dependencies = [\n  \"swc_common\",\n  \"swc_ecma_ast\",\n@@ -7778,9 +7869,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_compat\"\n-version = \"27.0.0\"\n+version = \"29.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3aad334cdbfe00544e711af7cd0744f30b1052479ba1d95032fc5a9cc14ac0ef\"\n+checksum = \"aed6ee500834a62375aede89f45404b95cd25b08418f6869eac8804bc98dbf47\"\n dependencies = [\n  \"indexmap 2.9.0\",\n  \"par-core\",\n@@ -7819,9 +7910,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_module\"\n-version = \"27.0.0\"\n+version = \"29.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a3dc988f1b06f5bb96eb76f25d193329cb070a2e4be4d48c795feb54879ecc60\"\n+checksum = \"d4399b34a7d2c6b289252b1b271af1e79810aed7a06ef3b328de7534fd7a65f5\"\n dependencies = [\n  \"Inflector\",\n  \"anyhow\",\n@@ -7847,9 +7938,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_optimization\"\n-version = \"26.0.0\"\n+version = \"28.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"03594f8ddc69865b0835e2a8ff017bdc0becf6ef22e120f22eff7f52ddb849a0\"\n+checksum = \"8ecb86ae16f150aa4fbc46bd37d6cce44612af59861afa987ab3053f17d343b1\"\n dependencies = [\n  \"bytes-str\",\n  \"dashmap 5.5.3\",\n@@ -7871,9 +7962,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_proposal\"\n-version = \"25.0.0\"\n+version = \"26.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3a1d5b2190c134d9b5c9b4d8c0d4b23b4fb5c433a7ae470f1c2103b8ff99160c\"\n+checksum = \"b7cd9f54f3e7b3efb0e30e80f9efeaf99cd4d66ff0b83fda6dcfcbc0e293a767\"\n dependencies = [\n  \"either\",\n  \"rustc-hash 2.1.1\",\n@@ -7889,9 +7980,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_react\"\n-version = \"27.0.0\"\n+version = \"29.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"861eda08f77f8e0553f3141b5ea25879636f9edf0237e8104db6fbd81fec6598\"\n+checksum = \"3c9939e0a5a23529b63ac87d7a9981dba7f7021b7cb64ecf9039f3dfb0abb48c\"\n dependencies = [\n  \"base64 0.22.1\",\n  \"bytes-str\",\n@@ -7913,9 +8004,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_testing\"\n-version = \"28.0.0\"\n+version = \"29.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b5311a7b5da2075fe6588f217d97dfd7def8a7706de5e39fd4d3ff2f5461263d\"\n+checksum = \"b394293ee1a70c986aac9282d606cfb05d0ee81f7f48958e3975e33886bd8745\"\n dependencies = [\n  \"ansi_term\",\n  \"anyhow\",\n@@ -7939,9 +8030,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_ecma_transforms_typescript\"\n-version = \"27.0.0\"\n+version = \"29.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b07cbe8b998c19897c309245bff119beec0dda20183ed4106bb58544b3791f45\"\n+checksum = \"52079079848d95fdfe3634d06b40bdb47865ffbedd9b3c2cf63a8d91dec5eebf\"\n dependencies = [\n  \"bytes-str\",\n  \"rustc-hash 2.1.1\",\n@@ -8010,9 +8101,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_emotion\"\n-version = \"0.98.0\"\n+version = \"0.101.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4fe6a8ee9d191c2fbd3880e25e38a28ee87551fadd20f0eab1478f18cee49e82\"\n+checksum = \"7507e31b72fa6a56343380b48dc82544ada9dca859c21659437f016377e5dff6\"\n dependencies = [\n  \"base64 0.22.1\",\n  \"byteorder\",\n@@ -8081,19 +8172,6 @@ dependencies = [\n  \"swc_common\",\n ]\n \n-[[package]]\n-name = \"swc_nodejs_common\"\n-version = \"1.0.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"30df4c0c5fbc9b7934c90bf270b21688b1137257b263e976412f650f52487d51\"\n-dependencies = [\n- \"anyhow\",\n- \"napi\",\n- \"serde\",\n- \"serde_json\",\n- \"tracing\",\n-]\n-\n [[package]]\n name = \"swc_plugin_backend_wasmer\"\n version = \"2.0.0\"\n@@ -8161,9 +8239,9 @@ dependencies = [\n \n [[package]]\n name = \"swc_relay\"\n-version = \"0.68.0\"\n+version = \"0.71.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"fd5d34c8641adbed89f4e773526310f05045bc985cf88a2e12d6d198cc61d26c\"\n+checksum = \"b0085318ecea79ab708e28a8a0693856681f10491a375fa20f5de4f89be758cb\"\n dependencies = [\n  \"once_cell\",\n  \"regex\",\n@@ -10526,6 +10604,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"anyhow\",\n  \"console_error_panic_hook\",\n+ \"getrandom 0.2.15\",\n  \"getrandom 0.3.3\",\n  \"js-sys\",\n  \"mdxjs\",\n@@ -10717,7 +10796,7 @@ dependencies = [\n  \"hex\",\n  \"indexmap 2.9.0\",\n  \"saffron\",\n- \"schemars\",\n+ \"schemars 0.8.21\",\n  \"semver\",\n  \"serde\",\n  \"serde_json\","
        },
        {
            "sha": "63efe02ed915a48be305937432a7a19f9f786877",
            "filename": "Cargo.toml",
            "status": "modified",
            "additions": 10,
            "deletions": 12,
            "changes": 22,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/Cargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/Cargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/Cargo.toml?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -308,7 +308,7 @@ turbopack-trace-utils = { path = \"turbopack/crates/turbopack-trace-utils\" }\n turbopack-wasm = { path = \"turbopack/crates/turbopack-wasm\" }\n \n # SWC crates\n-swc_core = { version = \"36.0.1\", features = [\n+swc_core = { version = \"42.0.3\", features = [\n   \"ecma_loader_lru\",\n   \"ecma_loader_parking_lot\",\n   \"parallel_rayon\",\n@@ -319,13 +319,13 @@ testing = \"15.0.0\"\n # Keep consistent with preset_env_base through swc_core\n browserslist-rs = \"0.19.0\"\n mdxjs = \"1.0.3\"\n-modularize_imports = \"0.94.0\"\n-styled_components = \"0.122.0\"\n-styled_jsx = \"0.98.0\"\n-swc_emotion = \"0.98.0\"\n-swc_relay = \"0.68.0\"\n-react_remove_properties = \"0.48.0\"\n-remove_console = \"0.49.0\"\n+modularize_imports = \"0.97.0\"\n+styled_components = \"0.125.0\"\n+styled_jsx = \"0.101.0\"\n+swc_emotion = \"0.101.0\"\n+swc_relay = \"0.71.0\"\n+react_remove_properties = \"0.51.0\"\n+remove_console = \"0.52.0\"\n preset_env_base = \"5.0.0\"\n \n \n@@ -371,13 +371,13 @@ image = { version = \"0.25.0\", default-features = false }\n indexmap = \"2.7.1\"\n indoc = \"2.0.0\"\n itertools = \"0.10.5\"\n-lightningcss = { version = \"1.0.0-alpha.67\", features = [\n+lightningcss = { version = \"1.0.0-alpha.68\", features = [\n   \"serde\",\n   \"visitor\",\n   \"into_owned\",\n   \"browserslist\",\n ] }\n-lightningcss-napi = { version = \"0.4.4\", default-features = false, features = [\n+lightningcss-napi = { version = \"0.4.5\", default-features = false, features = [\n   \"visitor\",\n ] }\n markdown = \"1.0.0-alpha.18\"\n@@ -452,5 +452,3 @@ inventory = \"0.3.21\"\n [patch.crates-io]\n hyper = { git = \"https://github.com/bgw/hyper-rs.git\", branch = \"v1.6.0-with-macos-intel-miscompilation-workaround\" }\n mdxjs = { git = \"https://github.com/mischnic/mdxjs-rs.git\", branch = \"swc-core-32\" }\n-lightningcss = { git = \"https://github.com/parcel-bundler/lightningcss.git\", branch = \"mischnic/bump-browserslist\" }\n-parcel_selectors = { git = \"https://github.com/parcel-bundler/lightningcss.git\", branch = \"mischnic/bump-browserslist\" }"
        },
        {
            "sha": "e9d106064685d0dcec9480362b91f37d099f83e8",
            "filename": "crates/napi/Cargo.toml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnapi%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnapi%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2FCargo.toml?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -79,7 +79,7 @@ urlencoding = { workspace = true }\n once_cell = { workspace = true }\n \n swc_core = { workspace = true, features = [\n-    \"base_node\",\n+    \"base\",\n     \"common_concurrent\",\n     \"ecma_ast\",\n     \"ecma_ast_serde\","
        },
        {
            "sha": "c00eb507db3d7420af007aa5cdf53e7958cdcfd4",
            "filename": "crates/napi/src/minify.rs",
            "status": "modified",
            "additions": 29,
            "deletions": 1,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnapi%2Fsrc%2Fminify.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnapi%2Fsrc%2Fminify.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Fminify.rs?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -28,8 +28,9 @@ DEALINGS IN THE SOFTWARE.\n \n use anyhow::Context;\n use napi::bindgen_prelude::*;\n+use serde::Serialize;\n use swc_core::{\n-    base::{TransformOutput, config::JsMinifyOptions, try_with_handler},\n+    base::{config::JsMinifyOptions, try_with_handler},\n     common::{FileName, GLOBALS, errors::ColorConfig},\n };\n \n@@ -41,6 +42,31 @@ pub struct MinifyTask {\n     opts: JsMinifyOptions,\n }\n \n+// Same as the swc_core::base::TransformOutput, but using our napi-rs v2's derived #[napi], while\n+// swc is already on napi-rs v3.\n+#[napi_derive::napi(object)]\n+#[derive(Debug, Serialize)]\n+pub struct TransformOutput {\n+    pub code: String,\n+    #[serde(skip_serializing_if = \"Option::is_none\")]\n+    pub map: Option<String>,\n+\n+    #[serde(skip_serializing_if = \"Option::is_none\")]\n+    pub output: Option<String>,\n+    pub diagnostics: std::vec::Vec<String>,\n+}\n+\n+impl From<swc_core::base::TransformOutput> for TransformOutput {\n+    fn from(other: swc_core::base::TransformOutput) -> Self {\n+        Self {\n+            code: other.code,\n+            map: other.map,\n+            output: other.output,\n+            diagnostics: other.diagnostics,\n+        }\n+    }\n+}\n+\n #[napi]\n impl Task for MinifyTask {\n     type Output = TransformOutput;\n@@ -64,6 +90,7 @@ impl Task for MinifyTask {\n                 })\n             },\n         )\n+        .map(TransformOutput::from)\n         .map_err(|e| e.to_pretty_error())\n         .convert_err()\n     }\n@@ -118,6 +145,7 @@ pub fn minify_sync(input: Buffer, opts: Buffer) -> napi::Result<TransformOutput>\n             })\n         },\n     )\n+    .map(TransformOutput::from)\n     .map_err(|e| e.to_pretty_error())\n     .convert_err()\n }"
        },
        {
            "sha": "2fd5e819952792f8545f548a79a8d35628f8ed06",
            "filename": "crates/napi/src/rspack.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnapi%2Fsrc%2Frspack.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnapi%2Fsrc%2Frspack.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Frspack.rs?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -16,10 +16,12 @@ use swc_core::{\n         utils::{ExprCtx, find_pat_ids},\n         visit::{Visit, VisitMutWith, VisitWith},\n     },\n-    node::MapErr,\n };\n \n-use crate::next_api::utils::{NapiIssueSourceRange, NapiSourcePos};\n+use crate::{\n+    next_api::utils::{NapiIssueSourceRange, NapiSourcePos},\n+    util::MapErr,\n+};\n \n struct Finder {\n     pub named_exports: Vec<Atom>,"
        },
        {
            "sha": "80dd4c9c3d8159a63cf1d9c433247a236f4cf76a",
            "filename": "crates/next-custom-transforms/src/chain_transforms.rs",
            "status": "modified",
            "additions": 43,
            "deletions": 15,
            "changes": 58,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnext-custom-transforms%2Fsrc%2Fchain_transforms.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fnext-custom-transforms%2Fsrc%2Fchain_transforms.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-custom-transforms%2Fsrc%2Fchain_transforms.rs?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -432,32 +432,60 @@ where\n         #[serde(untagged)]\n         enum Deser<T> {\n             Bool(bool),\n-            Obj(T),\n             EmptyObject(EmptyStruct),\n+            #[serde(untagged)]\n+            Obj(T),\n         }\n \n         #[derive(Deserialize)]\n         #[serde(deny_unknown_fields)]\n         struct EmptyStruct {}\n \n-        use serde::__private::de;\n+        let res = Deser::deserialize(deserializer)?;\n+        Ok(match res {\n+            Deser::Bool(v) => BoolOr::Bool(v),\n+            Deser::EmptyObject(_) => BoolOr::Bool(true),\n+            Deser::Obj(v) => BoolOr::Data(v),\n+        })\n+    }\n+}\n \n-        let content = de::Content::deserialize(deserializer)?;\n+#[cfg(test)]\n+mod tests {\n+    use serde::Deserialize;\n+    use serde_json::json;\n \n-        let deserializer = de::ContentRefDeserializer::<D::Error>::new(&content);\n+    use super::BoolOr;\n \n-        let res = Deser::deserialize(deserializer);\n+    #[test]\n+    fn test_bool_or() {\n+        let v: BoolOr<usize> = serde_json::from_value(json!(false)).unwrap();\n+        assert_eq!(v, BoolOr::Bool(false));\n \n-        match res {\n-            Ok(v) => Ok(match v {\n-                Deser::Bool(v) => BoolOr::Bool(v),\n-                Deser::Obj(v) => BoolOr::Data(v),\n-                Deser::EmptyObject(_) => BoolOr::Bool(true),\n-            }),\n-            Err(..) => {\n-                let d = de::ContentDeserializer::<D::Error>::new(content);\n-                Ok(BoolOr::Data(T::deserialize(d)?))\n-            }\n+        let v: BoolOr<usize> = serde_json::from_value(json!(true)).unwrap();\n+        assert_eq!(v, BoolOr::Bool(true));\n+\n+        let v: BoolOr<usize> = serde_json::from_value(json!({})).unwrap();\n+        assert_eq!(v, BoolOr::Bool(true));\n+\n+        let v: Result<BoolOr<usize>, _> = serde_json::from_value(json!({\"a\": 1}));\n+        assert!(v.is_err());\n+\n+        let v: BoolOr<usize> = serde_json::from_value(json!(1)).unwrap();\n+        assert_eq!(v, BoolOr::Data(1));\n+\n+        let v: BoolOr<usize> = serde_json::from_value(json!({})).unwrap();\n+        assert_eq!(v, BoolOr::Bool(true));\n+\n+        #[derive(Debug, Eq, PartialEq, Deserialize)]\n+        struct SomeStruct {\n+            field: Option<usize>,\n         }\n+\n+        let v: BoolOr<SomeStruct> = serde_json::from_value(json!({})).unwrap();\n+        assert_eq!(v, BoolOr::Bool(true));\n+\n+        let v: BoolOr<SomeStruct> = serde_json::from_value(json!({\"field\": 32})).unwrap();\n+        assert_eq!(v, BoolOr::Data(SomeStruct { field: Some(32) }));\n     }\n }"
        },
        {
            "sha": "a0a5de2bf57a59e489ae035ed22950bd380ff09b",
            "filename": "crates/wasm/Cargo.toml",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fwasm%2FCargo.toml",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/crates%2Fwasm%2FCargo.toml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fwasm%2FCargo.toml?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -19,7 +19,8 @@ workspace = true\n [dependencies]\n anyhow = { workspace = true }\n console_error_panic_hook = \"0.1.6\"\n-getrandom = { version = \"0.3\", default-features = false, features = [\"wasm_js\"] }\n+getrandom2 = { package=\"getrandom\", version = \"0.2\", default-features = false, features = [\"js\"] }\n+getrandom3 = { package=\"getrandom\", version = \"0.3\", default-features = false, features = [\"wasm_js\"] }\n js-sys = \"0.3.59\"\n next-custom-transforms = { workspace = true }\n next-taskless = { workspace = true }\n@@ -57,4 +58,4 @@ wasm-opt = false\n \n [package.metadata.cargo-shear]\n # Needed to declare the `wasm_js` feature\n-ignored = [\"getrandom\"]\n+ignored = [\"getrandom2\", \"getrandom3\"]"
        },
        {
            "sha": "1db968a828e1847935a788b9424ade2db883de48",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/minification/paren-remover/output/780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fminification%2Fparen-remover%2Foutput%2F780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fminification%2Fparen-remover%2Foutput%2F780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fminification%2Fparen-remover%2Foutput%2F780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -1,3 +1,3 @@\n-(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push([\"output/780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js\",\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/minification/paren-remover/input/index.js [test] (ecmascript)\",(t,e,a)=>{!function(t,e,a,s){var i,n,o,p,r=\"1.2345\".split(\".\");o=Math.pow(10,i=2===r.length?Math.min(Math.max(r[1].length,1),2):1),p=(a(\"1.2345e+\"+i)/o).toFixed(i),1>e-i&&(n=RegExp(\"\\\\.?0{1,\"+(s-(e-i))+\"}$\"),p=p.replace(n,\"\"))}(1.2345,2,Math.round,1)}]);\n+(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push([\"output/780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js\",\"[project]/turbopack/crates/turbopack-tests/tests/snapshot/minification/paren-remover/input/index.js [test] (ecmascript)\",(t,e,a)=>{var s,i,p,n,o,r;s=Math.round,r=\"1.2345\".split(\".\"),n=Math.pow(10,i=2===r.length?Math.min(Math.max(r[1].length,1),2):1),o=(s(\"1.2345e+\"+i)/n).toFixed(i),1>2-i&&(p=RegExp(\"\\\\.?0{1,\"+(1-(2-i))+\"}$\"),o=o.replace(p,\"\"))}]);\n \n //# sourceMappingURL=780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js.map\n\\ No newline at end of file"
        },
        {
            "sha": "43d31109581e3aeb78856d41af50434d2eaa6e42",
            "filename": "turbopack/crates/turbopack-tests/tests/snapshot/minification/paren-remover/output/780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js.map",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/59172894e3bf95d4dea17e2e538947913b3f2fd5/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fminification%2Fparen-remover%2Foutput%2F780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js.map",
            "raw_url": "https://github.com/vercel/next.js/raw/59172894e3bf95d4dea17e2e538947913b3f2fd5/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fminification%2Fparen-remover%2Foutput%2F780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js.map",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbopack-tests%2Ftests%2Fsnapshot%2Fminification%2Fparen-remover%2Foutput%2F780ce_turbopack-tests_tests_snapshot_minification_paren-remover_input_index_57a4eaf0.js.map?ref=59172894e3bf95d4dea17e2e538947913b3f2fd5",
            "patch": "@@ -1 +1 @@\n-{\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/minification/paren-remover/input/index.js\"],\"sourcesContent\":[\"function toFixed(value, maxDecimals, roundingFunction, optionals) {\\n  var splitValue = value.toString().split('.'),\\n    minDecimals = maxDecimals - (optionals || 0),\\n    optionalsRegExp,\\n    power,\\n    output\\n  var boundedPrecisions\\n  // var unused = 'xxxx';\\n\\n  // Use the smallest precision value possible to avoid errors from floating point representation\\n  if (splitValue.length === 2) {\\n    boundedPrecisions = Math.min(\\n      Math.max(splitValue[1].length, minDecimals),\\n      maxDecimals\\n    )\\n  } else {\\n    boundedPrecisions = minDecimals\\n  }\\n\\n  power = Math.pow(10, boundedPrecisions)\\n\\n  // Multiply up by precision, round accurately, then divide and use native toFixed():\\n  output = (roundingFunction(value + 'e+' + boundedPrecisions) / power).toFixed(\\n    boundedPrecisions\\n  )\\n\\n  if (optionals > maxDecimals - boundedPrecisions) {\\n    optionalsRegExp = new RegExp(\\n      '\\\\\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecisions)) + '}$'\\n    )\\n    output = output.replace(optionalsRegExp, '')\\n  }\\n\\n  return output\\n}\\ntoFixed(1.2345, 2, Math.round, 1)\\n\"],\"names\":[],\"mappings\":\"8RAAA,AAmCA,SAnCS,AAAQ,CAAK,CAAE,CAAW,CAAE,CAAgB,CAAE,CAAS,EAC9D,IAKI,EAHF,EACA,EACA,EAJE,EAAa,MAAM,GAAW,KAAH,AAAQ,CAAC,KAkBxC,CAjBE,CAiBM,KAAK,GAAG,CAAC,GARf,CAQmB,CATK,GAAG,CAAzB,EAAW,MAAM,CACC,KAAK,GAAG,CAC1B,KAAK,GAAG,CAAC,CAAU,CAAC,EAAE,CAAC,MAAM,EAAE,KAVnB,GAoBhB,EAAS,CAAC,EAAiB,CATvB,KAX0B,CAAC,CAoBI,GAAO,GAAqB,CAAA,CAAK,CAAE,GApB1B,CAAC,GAoBgC,CAC3E,KAGc,EAAc,IAC5B,EAAkB,AAAI,OACpB,MAF6C,MAE/B,CAAD,EAAc,EAAc,CAAA,CAAiB,CAAC,CAAI,GAArC,GAE5B,EAAS,EAAO,OAAO,CAAC,EAAiB,IAI7C,EACQ,OAAQ,EAAG,KAAK,KAAK,CAAE\"}\n\\ No newline at end of file\n+{\"version\":3,\"sources\":[\"turbopack:///[project]/turbopack/crates/turbopack-tests/tests/snapshot/minification/paren-remover/input/index.js\"],\"sourcesContent\":[\"function toFixed(value, maxDecimals, roundingFunction, optionals) {\\n  var splitValue = value.toString().split('.'),\\n    minDecimals = maxDecimals - (optionals || 0),\\n    optionalsRegExp,\\n    power,\\n    output\\n  var boundedPrecisions\\n  // var unused = 'xxxx';\\n\\n  // Use the smallest precision value possible to avoid errors from floating point representation\\n  if (splitValue.length === 2) {\\n    boundedPrecisions = Math.min(\\n      Math.max(splitValue[1].length, minDecimals),\\n      maxDecimals\\n    )\\n  } else {\\n    boundedPrecisions = minDecimals\\n  }\\n\\n  power = Math.pow(10, boundedPrecisions)\\n\\n  // Multiply up by precision, round accurately, then divide and use native toFixed():\\n  output = (roundingFunction(value + 'e+' + boundedPrecisions) / power).toFixed(\\n    boundedPrecisions\\n  )\\n\\n  if (optionals > maxDecimals - boundedPrecisions) {\\n    optionalsRegExp = new RegExp(\\n      '\\\\\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecisions)) + '}$'\\n    )\\n    output = output.replace(optionalsRegExp, '')\\n  }\\n\\n  return output\\n}\\ntoFixed(1.2345, 2, Math.round, 1)\\n\"],\"names\":[],\"mappings\":\"mSAMM,EAHF,EACA,EACA,IALiC,EAmClB,KAAK,KAAK,CAlCvB,EAAa,CADkC,EAAE,GAC9B,GAAW,GAD4B,EAC/B,AAAQ,CAAC,KAkBxC,CAjBE,CAiBM,KAAK,GAAG,CAAC,GARf,CAQmB,CATK,GAAG,CAAzB,EAAW,MAAM,CACC,KAAK,GAAG,CAC1B,KAAK,GAAG,CAAC,CAAU,CAAC,EAAE,CAAC,MAAM,EAAE,KAVnB,GAoBhB,EAAS,CAAC,EAAiB,CATvB,KAX0B,CAAC,CAoBI,GAAO,GAAqB,CAAA,CAAK,CAAE,GApB1B,CAAC,GAoBgC,CAC3E,KAGc,EAAc,IAC5B,EAAkB,AAAI,OACpB,MAF6C,MAE/B,AAOW,CAPZ,EAOH,AAPiB,EAAc,CAAA,CAAiB,CAAC,CAAI,GAArC,GAE5B,EAAS,EAAO,OAAO,CAAC,EAAiB\"}\n\\ No newline at end of file"
        }
    ],
    "stats": {
        "total": 480,
        "additions": 308,
        "deletions": 172
    }
}