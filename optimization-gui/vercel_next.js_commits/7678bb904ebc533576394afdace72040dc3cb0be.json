{
    "author": "icyJoseph",
    "message": "docs: link api reference pages/app router divergence (#80955)\n\nThis PR https://github.com/vercel/next.js/pull/80922 highlighted an\nissue with the Link API reference.\n\nLooking further into it I saw that we had mixed a few `AppOnly` +\n`PagesOnly` tags, and needed a few more changes.",
    "sha": "7678bb904ebc533576394afdace72040dc3cb0be",
    "files": [
        {
            "sha": "7a20e6342c5694eff2142f00ff6a19a9cfb40b43",
            "filename": "docs/01-app/03-api-reference/02-components/link.mdx",
            "status": "modified",
            "additions": 21,
            "deletions": 55,
            "changes": 76,
            "blob_url": "https://github.com/vercel/next.js/blob/7678bb904ebc533576394afdace72040dc3cb0be/docs%2F01-app%2F03-api-reference%2F02-components%2Flink.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/7678bb904ebc533576394afdace72040dc3cb0be/docs%2F01-app%2F03-api-reference%2F02-components%2Flink.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F03-api-reference%2F02-components%2Flink.mdx?ref=7678bb904ebc533576394afdace72040dc3cb0be",
            "patch": "@@ -512,7 +512,7 @@ The following examples demonstrate how to use the `<Link>` component in differen\n \n <AppOnly>\n \n-### Linking to dynamic segments\n+### Linking to dynamic route segments\n \n When linking to [dynamic segments](/docs/app/api-reference/file-conventions/dynamic-routes), you can use [template literals and interpolation](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Template_literals) to generate a list of links. For example, to generate a list of blog posts:\n \n@@ -610,28 +610,13 @@ export function Links() {\n }\n ```\n \n-### Scrolling to an `id`\n-\n-If you'd like to scroll to a specific `id` on navigation, you can append your URL with a `#` hash link or just pass a hash link to the `href` prop. This is possible since `<Link>` renders to an `<a>` element.\n-\n-```jsx\n-<Link href=\"/dashboard#settings\">Settings</Link>\n-\n-// Output\n-<a href=\"/dashboard#settings\">Settings</a>\n-```\n-\n-> **Good to know**:\n->\n-> - Next.js will scroll to the [Page](/docs/app/api-reference/file-conventions/page) if it is not visible in the viewport upon navigation.\n-\n </AppOnly>\n \n-### Linking to dynamic route segments\n+<PagesOnly>\n \n-For [dynamic route segments](/docs/app/api-reference/file-conventions/dynamic-routes), it can be handy to use template literals to create the link's path.\n+### Linking to dynamic route segments\n \n-<PagesOnly>\n+For [dynamic route segments](/docs/pages/building-your-application/routing/dynamic-routes#convention), it can be handy to use template literals to create the link's path.\n \n For example, you can generate a list of links to the dynamic route `pages/blog/[slug].js`\n \n@@ -671,49 +656,30 @@ export default Posts\n \n </PagesOnly>\n \n-<AppOnly>\n+### Scrolling to an `id`\n \n-For example, you can generate a list of links to the dynamic route `app/blog/[slug]/page.js`:\n+If you'd like to scroll to a specific `id` on navigation, you can append your URL with a `#` hash link or just pass a hash link to the `href` prop. This is possible since `<Link>` renders to an `<a>` element.\n \n-```tsx filename=\"app/blog/page.tsx\" switcher\n-import Link from 'next/link'\n+```jsx\n+<Link href=\"/dashboard#settings\">Settings</Link>\n \n-export default function Page({ posts }) {\n-  return (\n-    <ul>\n-      {posts.map((post) => (\n-        <li key={post.id}>\n-          <Link href={`/blog/${post.slug}`}>{post.title}</Link>\n-        </li>\n-      ))}\n-    </ul>\n-  )\n-}\n+// Output\n+<a href=\"/dashboard#settings\">Settings</a>\n ```\n \n-```jsx filename=\"app/blog/page.js\" switcher\n-import Link from 'next/link'\n+<AppOnly>\n \n-export default function Page({ posts }) {\n-  return (\n-    <ul>\n-      {posts.map((post) => (\n-        <li key={post.id}>\n-          <Link href={`/blog/${post.slug}`}>{post.title}</Link>\n-        </li>\n-      ))}\n-    </ul>\n-  )\n-}\n-```\n+> **Good to know**:\n+>\n+> - Next.js will scroll to the [Page](/docs/app/api-reference/file-conventions/page) if it is not visible in the viewport upon navigation.\n \n </AppOnly>\n \n ### If the child is a custom component that wraps an `<a>` tag\n \n <AppOnly>\n \n-If the child of `Link` is a custom component that wraps an `<a>` tag, you must add `passHref` to `Link`. This is necessary if you’re using libraries like [styled-components](https://styled-components.com/). Without this, the `<a>` tag will not have the `href` attribute, which hurts your site's accessibility and might affect SEO. If you're using [ESLint](/docs/pages/api-reference/config/eslint), there is a built-in rule `next/link-passhref` to ensure correct usage of `passHref`.\n+If the child of `Link` is a custom component that wraps an `<a>` tag, you must add `passHref` to `Link`. This is necessary if you’re using libraries like [styled-components](https://styled-components.com/). Without this, the `<a>` tag will not have the `href` attribute, which hurts your site's accessibility and might affect SEO. If you're using [ESLint](/docs/app/api-reference/config/eslint), there is a built-in rule `next/link-passhref` to ensure correct usage of `passHref`.\n \n </AppOnly>\n \n@@ -973,7 +939,7 @@ export default Home\n The above example has a link to:\n \n - A predefined route: `/about?name=test`\n-- A [dynamic route](/docs/app/api-reference/file-conventions/dynamic-routes): `/blog/my-post`\n+- A [dynamic route](/docs/pages/building-your-application/routing/dynamic-routes#convention): `/blog/my-post`\n \n You can use every property as defined in the [Node.js URL module documentation](https://nodejs.org/api/url.html#url_url_strings_and_url_objects).\n \n@@ -1226,14 +1192,12 @@ export default function Home() {\n }\n ```\n \n-</PagesOnly>\n-\n-<PagesOnly>\n-\n-> **Good to know**: If you're using [Dynamic Routes](/docs/app/api-reference/file-conventions/dynamic-routes), you'll need to adapt your `as` and `href` props. For example, if you have a Dynamic Route like `/dashboard/authed/[user]` that you want to present differently via middleware, you would write: `<Link href={{ pathname: '/dashboard/authed/[user]', query: { user: username } }} as=\"/dashboard/[user]\">Profile</Link>`.\n+> **Good to know**: If you're using [Dynamic Routes](/docs/pages/building-your-application/routing/dynamic-routes#convention), you'll need to adapt your `as` and `href` props. For example, if you have a Dynamic Route like `/dashboard/authed/[user]` that you want to present differently via middleware, you would write: `<Link href={{ pathname: '/dashboard/authed/[user]', query: { user: username } }} as=\"/dashboard/[user]\">Profile</Link>`.\n \n </PagesOnly>\n \n+<AppOnly>\n+\n ### Blocking navigation\n \n You can use the `onNavigate` prop to block navigation when certain conditions are met, such as when a form has unsaved changes. When you need to block navigation across multiple components in your app (like preventing navigation from any link while a form is being edited), React Context provides a clean way to share this blocking state. First, create a context to track the navigation blocking state:\n@@ -1510,6 +1474,8 @@ export default function Page() {\n \n When a user tries to navigate away using `CustomLink` while the form has unsaved changes, they'll be prompted to confirm before leaving.\n \n+</AppOnly>\n+\n ## Version history\n \n | Version   | Changes                                                                                                                                                                      |"
        }
    ],
    "stats": {
        "total": 76,
        "additions": 21,
        "deletions": 55
    }
}