{
    "author": "nextjs-bot",
    "message": "Upgrade React from `dd048c3b-20251105` to `fa50caf5-20251107` (#85906)",
    "sha": "c274a5161845a21f32f9bf797a157a7d245cdf02",
    "files": [
        {
            "sha": "bd169865bbf14c44fd2169c9a84898fe34b7e99d",
            "filename": "package.json",
            "status": "modified",
            "additions": 16,
            "deletions": 16,
            "changes": 32,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/package.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/package.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/package.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -197,7 +197,7 @@\n     \"eslint-plugin-jsdoc\": \"48.0.4\",\n     \"eslint-plugin-mdx\": \"3.1.5\",\n     \"eslint-plugin-react\": \"7.37.0\",\n-    \"eslint-plugin-react-hooks\": \"0.0.0-experimental-dd048c3b-20251105\",\n+    \"eslint-plugin-react-hooks\": \"0.0.0-experimental-fa50caf5-20251107\",\n     \"event-stream\": \"4.0.1\",\n     \"execa\": \"2.0.3\",\n     \"expect\": \"29.7.0\",\n@@ -257,16 +257,16 @@\n     \"pretty-ms\": \"7.0.0\",\n     \"random-seed\": \"0.3.0\",\n     \"react\": \"19.0.0\",\n-    \"react-builtin\": \"npm:react@19.3.0-canary-dd048c3b-20251105\",\n+    \"react-builtin\": \"npm:react@19.3.0-canary-fa50caf5-20251107\",\n     \"react-dom\": \"19.0.0\",\n-    \"react-dom-builtin\": \"npm:react-dom@19.3.0-canary-dd048c3b-20251105\",\n-    \"react-dom-experimental-builtin\": \"npm:react-dom@0.0.0-experimental-dd048c3b-20251105\",\n-    \"react-experimental-builtin\": \"npm:react@0.0.0-experimental-dd048c3b-20251105\",\n-    \"react-is-builtin\": \"npm:react-is@19.3.0-canary-dd048c3b-20251105\",\n-    \"react-server-dom-turbopack\": \"19.3.0-canary-dd048c3b-20251105\",\n-    \"react-server-dom-turbopack-experimental\": \"npm:react-server-dom-turbopack@0.0.0-experimental-dd048c3b-20251105\",\n-    \"react-server-dom-webpack\": \"19.3.0-canary-dd048c3b-20251105\",\n-    \"react-server-dom-webpack-experimental\": \"npm:react-server-dom-webpack@0.0.0-experimental-dd048c3b-20251105\",\n+    \"react-dom-builtin\": \"npm:react-dom@19.3.0-canary-fa50caf5-20251107\",\n+    \"react-dom-experimental-builtin\": \"npm:react-dom@0.0.0-experimental-fa50caf5-20251107\",\n+    \"react-experimental-builtin\": \"npm:react@0.0.0-experimental-fa50caf5-20251107\",\n+    \"react-is-builtin\": \"npm:react-is@19.3.0-canary-fa50caf5-20251107\",\n+    \"react-server-dom-turbopack\": \"19.3.0-canary-fa50caf5-20251107\",\n+    \"react-server-dom-turbopack-experimental\": \"npm:react-server-dom-turbopack@0.0.0-experimental-fa50caf5-20251107\",\n+    \"react-server-dom-webpack\": \"19.3.0-canary-fa50caf5-20251107\",\n+    \"react-server-dom-webpack-experimental\": \"npm:react-server-dom-webpack@0.0.0-experimental-fa50caf5-20251107\",\n     \"react-ssr-prepass\": \"1.0.8\",\n     \"react-virtualized\": \"9.22.3\",\n     \"relay-compiler\": \"13.0.2\",\n@@ -276,8 +276,8 @@\n     \"resolve-from\": \"5.0.0\",\n     \"sass\": \"1.54.0\",\n     \"satori\": \"0.15.2\",\n-    \"scheduler-builtin\": \"npm:scheduler@0.28.0-canary-dd048c3b-20251105\",\n-    \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-dd048c3b-20251105\",\n+    \"scheduler-builtin\": \"npm:scheduler@0.28.0-canary-fa50caf5-20251107\",\n+    \"scheduler-experimental-builtin\": \"npm:scheduler@0.0.0-experimental-fa50caf5-20251107\",\n     \"seedrandom\": \"3.0.5\",\n     \"semver\": \"7.3.7\",\n     \"serve-handler\": \"6.1.6\",\n@@ -322,10 +322,10 @@\n       \"@types/react-dom\": \"19.2.1\",\n       \"@types/retry\": \"0.12.0\",\n       \"jest-snapshot\": \"30.0.0-alpha.6\",\n-      \"react\": \"19.3.0-canary-dd048c3b-20251105\",\n-      \"react-dom\": \"19.3.0-canary-dd048c3b-20251105\",\n-      \"react-is\": \"19.3.0-canary-dd048c3b-20251105\",\n-      \"scheduler\": \"0.28.0-canary-dd048c3b-20251105\"\n+      \"react\": \"19.3.0-canary-fa50caf5-20251107\",\n+      \"react-dom\": \"19.3.0-canary-fa50caf5-20251107\",\n+      \"react-is\": \"19.3.0-canary-fa50caf5-20251107\",\n+      \"scheduler\": \"0.28.0-canary-fa50caf5-20251107\"\n     },\n     \"packageExtensions\": {\n       \"eslint-plugin-react-hooks@0.0.0-experimental-6de32a5a-20250822\": {"
        },
        {
            "sha": "37213883c32a3b32cf09aec41f42c95f6c249d7e",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-client.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 29,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1453,8 +1453,8 @@\n       delete node[internalEventHandlesSetKey];\n     }\n     function getClosestInstanceFromNode(targetNode) {\n-      var targetInst = targetNode[internalInstanceKey];\n-      if (targetInst) return targetInst;\n+      var targetInst;\n+      if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n       for (var parentNode = targetNode.parentNode; parentNode; ) {\n         if (\n           (targetInst =\n@@ -11443,10 +11443,7 @@\n             (workInProgress.memoizedState = SUSPENDED_MARKER),\n             bailoutOffscreenComponent(null, JSCompiler_object_inline_stack_3231)\n           );\n-        if (\n-          \"number\" ===\n-          typeof JSCompiler_object_inline_stack_3231.unstable_expectedLoadTime\n-        )\n+        if (!0 === JSCompiler_object_inline_stack_3231.defer)\n           return (\n             reuseSuspenseHandlerOnStack(workInProgress),\n             mountSuspenseFallbackChildren(\n@@ -14669,7 +14666,7 @@\n     function commitAppearingPairViewTransitions(placement) {\n       if (0 !== (placement.subtreeFlags & 18874368))\n         for (placement = placement.child; null !== placement; ) {\n-          if (22 !== placement.tag || null !== placement.memoizedState)\n+          if (22 !== placement.tag || null === placement.memoizedState)\n             if (\n               (commitAppearingPairViewTransitions(placement),\n               30 === placement.tag &&\n@@ -14733,7 +14730,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -14832,7 +14829,7 @@\n     function restorePairedViewTransitions(parent) {\n       if (0 !== (parent.subtreeFlags & 18874368))\n         for (parent = parent.child; null !== parent; ) {\n-          if (22 !== parent.tag || null !== parent.memoizedState) {\n+          if (22 !== parent.tag || null === parent.memoizedState) {\n             if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n               var instance = parent.stateNode;\n               null !== instance.paired &&\n@@ -17884,7 +17881,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -25439,27 +25436,24 @@\n       }\n     }\n     function applyViewTransitionName(instance, name, className) {\n+      name =\n+        CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n       instance.style.viewTransitionName = name;\n       null != className && (instance.style.viewTransitionClass = className);\n-      name = getComputedStyle(instance);\n-      if (\"inline\" === name.display) {\n-        className = instance.getClientRects();\n-        if (1 === className.length) var JSCompiler_inline_result = 1;\n+      className = getComputedStyle(instance);\n+      if (\"inline\" === className.display) {\n+        name = instance.getClientRects();\n+        if (1 === name.length) var JSCompiler_inline_result = 1;\n         else\n-          for (\n-            var i = (JSCompiler_inline_result = 0);\n-            i < className.length;\n-            i++\n-          ) {\n-            var rect = className[i];\n+          for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+            var rect = name[i];\n             0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n           }\n         1 === JSCompiler_inline_result\n           ? ((instance = instance.style),\n-            (instance.display =\n-              1 === className.length ? \"inline-block\" : \"block\"),\n-            (instance.marginTop = \"-\" + name.paddingTop),\n-            (instance.marginBottom = \"-\" + name.paddingBottom))\n+            (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+            (instance.marginTop = \"-\" + className.paddingTop),\n+            (instance.marginBottom = \"-\" + className.paddingBottom))\n           : warnForBlockInsideInline(instance);\n       }\n     }\n@@ -32406,11 +32400,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -32447,10 +32441,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.3.0-experimental-dd048c3b-20251105\",\n+          version: \"19.3.0-experimental-fa50caf5-20251107\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\"\n+          reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -32598,7 +32592,7 @@\n       listenToAllSupportedEvents(container);\n       return new ReactDOMHydrationRoot(initialChildren);\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "1a82afac77a878b4af72c8c0f07180f4d2ec6a90",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-client.production.js",
            "status": "modified",
            "additions": 22,
            "deletions": 21,
            "changes": 43,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-client.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -976,8 +976,8 @@ function detachDeletedInstance(node) {\n   delete node[internalEventHandlesSetKey];\n }\n function getClosestInstanceFromNode(targetNode) {\n-  var targetInst = targetNode[internalInstanceKey];\n-  if (targetInst) return targetInst;\n+  var targetInst;\n+  if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n   for (var parentNode = targetNode.parentNode; parentNode; ) {\n     if (\n       (targetInst =\n@@ -7299,7 +7299,7 @@ function updateSuspenseComponent(current, workInProgress, renderLanes) {\n         (workInProgress.memoizedState = SUSPENDED_MARKER),\n         bailoutOffscreenComponent(null, nextProps)\n       );\n-    if (\"number\" === typeof nextProps.unstable_expectedLoadTime)\n+    if (!0 === nextProps.defer)\n       return (\n         reuseSuspenseHandlerOnStack(),\n         mountSuspenseFallbackChildren(\n@@ -9549,7 +9549,7 @@ function restoreViewTransitionOnHostInstances(\n function commitAppearingPairViewTransitions(placement) {\n   if (0 !== (placement.subtreeFlags & 18874368))\n     for (placement = placement.child; null !== placement; ) {\n-      if (22 !== placement.tag || null !== placement.memoizedState)\n+      if (22 !== placement.tag || null === placement.memoizedState)\n         if (\n           (commitAppearingPairViewTransitions(placement),\n           30 === placement.tag &&\n@@ -9605,7 +9605,7 @@ function commitDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -9695,7 +9695,7 @@ function commitNestedViewTransitions(changedParent) {\n function restorePairedViewTransitions(parent) {\n   if (0 !== (parent.subtreeFlags & 18874368))\n     for (parent = parent.child; null !== parent; ) {\n-      if (22 !== parent.tag || null !== parent.memoizedState) {\n+      if (22 !== parent.tag || null === parent.memoizedState) {\n         if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n           var instance = parent.stateNode;\n           null !== instance.paired &&\n@@ -12008,7 +12008,7 @@ function trackDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -16643,22 +16643,23 @@ function unhideInstance(instance, props) {\n     null == props || \"boolean\" === typeof props ? \"\" : (\"\" + props).trim();\n }\n function applyViewTransitionName(instance, name, className) {\n+  name = CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n   instance.style.viewTransitionName = name;\n   null != className && (instance.style.viewTransitionClass = className);\n-  name = getComputedStyle(instance);\n-  if (\"inline\" === name.display) {\n-    className = instance.getClientRects();\n-    if (1 === className.length) var JSCompiler_inline_result = 1;\n+  className = getComputedStyle(instance);\n+  if (\"inline\" === className.display) {\n+    name = instance.getClientRects();\n+    if (1 === name.length) var JSCompiler_inline_result = 1;\n     else\n-      for (var i = (JSCompiler_inline_result = 0); i < className.length; i++) {\n-        var rect = className[i];\n+      for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+        var rect = name[i];\n         0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n       }\n     1 === JSCompiler_inline_result &&\n       ((instance = instance.style),\n-      (instance.display = 1 === className.length ? \"inline-block\" : \"block\"),\n-      (instance.marginTop = \"-\" + name.paddingTop),\n-      (instance.marginBottom = \"-\" + name.paddingBottom));\n+      (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+      (instance.marginTop = \"-\" + className.paddingTop),\n+      (instance.marginBottom = \"-\" + className.paddingBottom));\n   }\n }\n function restoreViewTransitionName(instance, props) {\n@@ -19617,14 +19618,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2198 = React.version;\n if (\n-  \"19.3.0-experimental-dd048c3b-20251105\" !==\n+  \"19.3.0-experimental-fa50caf5-20251107\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2198\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2198,\n-      \"19.3.0-experimental-dd048c3b-20251105\"\n+      \"19.3.0-experimental-fa50caf5-20251107\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -19646,10 +19647,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2903 = {\n   bundleType: 0,\n-  version: \"19.3.0-experimental-dd048c3b-20251105\",\n+  version: \"19.3.0-experimental-fa50caf5-20251107\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\"\n+  reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2904 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -19756,4 +19757,4 @@ exports.hydrateRoot = function (container, initialChildren, options) {\n   listenToAllSupportedEvents(container);\n   return new ReactDOMHydrationRoot(initialChildren);\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "e2384fce56775de6e60c5f9ab72b7d7f3a525a71",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-profiling.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 29,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1461,8 +1461,8 @@\n       delete node[internalEventHandlesSetKey];\n     }\n     function getClosestInstanceFromNode(targetNode) {\n-      var targetInst = targetNode[internalInstanceKey];\n-      if (targetInst) return targetInst;\n+      var targetInst;\n+      if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n       for (var parentNode = targetNode.parentNode; parentNode; ) {\n         if (\n           (targetInst =\n@@ -11451,10 +11451,7 @@\n             (workInProgress.memoizedState = SUSPENDED_MARKER),\n             bailoutOffscreenComponent(null, JSCompiler_object_inline_stack_3236)\n           );\n-        if (\n-          \"number\" ===\n-          typeof JSCompiler_object_inline_stack_3236.unstable_expectedLoadTime\n-        )\n+        if (!0 === JSCompiler_object_inline_stack_3236.defer)\n           return (\n             reuseSuspenseHandlerOnStack(workInProgress),\n             mountSuspenseFallbackChildren(\n@@ -14677,7 +14674,7 @@\n     function commitAppearingPairViewTransitions(placement) {\n       if (0 !== (placement.subtreeFlags & 18874368))\n         for (placement = placement.child; null !== placement; ) {\n-          if (22 !== placement.tag || null !== placement.memoizedState)\n+          if (22 !== placement.tag || null === placement.memoizedState)\n             if (\n               (commitAppearingPairViewTransitions(placement),\n               30 === placement.tag &&\n@@ -14741,7 +14738,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -14840,7 +14837,7 @@\n     function restorePairedViewTransitions(parent) {\n       if (0 !== (parent.subtreeFlags & 18874368))\n         for (parent = parent.child; null !== parent; ) {\n-          if (22 !== parent.tag || null !== parent.memoizedState) {\n+          if (22 !== parent.tag || null === parent.memoizedState) {\n             if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n               var instance = parent.stateNode;\n               null !== instance.paired &&\n@@ -17892,7 +17889,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -25447,27 +25444,24 @@\n       }\n     }\n     function applyViewTransitionName(instance, name, className) {\n+      name =\n+        CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n       instance.style.viewTransitionName = name;\n       null != className && (instance.style.viewTransitionClass = className);\n-      name = getComputedStyle(instance);\n-      if (\"inline\" === name.display) {\n-        className = instance.getClientRects();\n-        if (1 === className.length) var JSCompiler_inline_result = 1;\n+      className = getComputedStyle(instance);\n+      if (\"inline\" === className.display) {\n+        name = instance.getClientRects();\n+        if (1 === name.length) var JSCompiler_inline_result = 1;\n         else\n-          for (\n-            var i = (JSCompiler_inline_result = 0);\n-            i < className.length;\n-            i++\n-          ) {\n-            var rect = className[i];\n+          for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+            var rect = name[i];\n             0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n           }\n         1 === JSCompiler_inline_result\n           ? ((instance = instance.style),\n-            (instance.display =\n-              1 === className.length ? \"inline-block\" : \"block\"),\n-            (instance.marginTop = \"-\" + name.paddingTop),\n-            (instance.marginBottom = \"-\" + name.paddingBottom))\n+            (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+            (instance.marginTop = \"-\" + className.paddingTop),\n+            (instance.marginBottom = \"-\" + className.paddingBottom))\n           : warnForBlockInsideInline(instance);\n       }\n     }\n@@ -32458,11 +32452,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -32499,10 +32493,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.3.0-experimental-dd048c3b-20251105\",\n+          version: \"19.3.0-experimental-fa50caf5-20251107\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\"\n+          reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -32980,7 +32974,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "6492d6b8103b54f11fc8fee83b71a66c65fe9d39",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-profiling.profiling.js",
            "status": "modified",
            "additions": 22,
            "deletions": 21,
            "changes": 43,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.profiling.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.profiling.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-profiling.profiling.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1071,8 +1071,8 @@ function detachDeletedInstance(node) {\n   delete node[internalEventHandlesSetKey];\n }\n function getClosestInstanceFromNode(targetNode) {\n-  var targetInst = targetNode[internalInstanceKey];\n-  if (targetInst) return targetInst;\n+  var targetInst;\n+  if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n   for (var parentNode = targetNode.parentNode; parentNode; ) {\n     if (\n       (targetInst =\n@@ -7837,7 +7837,7 @@ function updateSuspenseComponent(current, workInProgress, renderLanes) {\n         (workInProgress.memoizedState = SUSPENDED_MARKER),\n         bailoutOffscreenComponent(null, nextProps)\n       );\n-    if (\"number\" === typeof nextProps.unstable_expectedLoadTime)\n+    if (!0 === nextProps.defer)\n       return (\n         reuseSuspenseHandlerOnStack(),\n         mountSuspenseFallbackChildren(\n@@ -10294,7 +10294,7 @@ function restoreViewTransitionOnHostInstances(\n function commitAppearingPairViewTransitions(placement) {\n   if (0 !== (placement.subtreeFlags & 18874368))\n     for (placement = placement.child; null !== placement; ) {\n-      if (22 !== placement.tag || null !== placement.memoizedState)\n+      if (22 !== placement.tag || null === placement.memoizedState)\n         if (\n           (commitAppearingPairViewTransitions(placement),\n           30 === placement.tag &&\n@@ -10350,7 +10350,7 @@ function commitDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -10440,7 +10440,7 @@ function commitNestedViewTransitions(changedParent) {\n function restorePairedViewTransitions(parent) {\n   if (0 !== (parent.subtreeFlags & 18874368))\n     for (parent = parent.child; null !== parent; ) {\n-      if (22 !== parent.tag || null !== parent.memoizedState) {\n+      if (22 !== parent.tag || null === parent.memoizedState) {\n         if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n           var instance = parent.stateNode;\n           null !== instance.paired &&\n@@ -13335,7 +13335,7 @@ function trackDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -18660,22 +18660,23 @@ function unhideInstance(instance, props) {\n     null == props || \"boolean\" === typeof props ? \"\" : (\"\" + props).trim();\n }\n function applyViewTransitionName(instance, name, className) {\n+  name = CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n   instance.style.viewTransitionName = name;\n   null != className && (instance.style.viewTransitionClass = className);\n-  name = getComputedStyle(instance);\n-  if (\"inline\" === name.display) {\n-    className = instance.getClientRects();\n-    if (1 === className.length) var JSCompiler_inline_result = 1;\n+  className = getComputedStyle(instance);\n+  if (\"inline\" === className.display) {\n+    name = instance.getClientRects();\n+    if (1 === name.length) var JSCompiler_inline_result = 1;\n     else\n-      for (var i = (JSCompiler_inline_result = 0); i < className.length; i++) {\n-        var rect = className[i];\n+      for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+        var rect = name[i];\n         0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n       }\n     1 === JSCompiler_inline_result &&\n       ((instance = instance.style),\n-      (instance.display = 1 === className.length ? \"inline-block\" : \"block\"),\n-      (instance.marginTop = \"-\" + name.paddingTop),\n-      (instance.marginBottom = \"-\" + name.paddingBottom));\n+      (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+      (instance.marginTop = \"-\" + className.paddingTop),\n+      (instance.marginBottom = \"-\" + className.paddingBottom));\n   }\n }\n function restoreViewTransitionName(instance, props) {\n@@ -21672,14 +21673,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2494 = React.version;\n if (\n-  \"19.3.0-experimental-dd048c3b-20251105\" !==\n+  \"19.3.0-experimental-fa50caf5-20251107\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2494\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2494,\n-      \"19.3.0-experimental-dd048c3b-20251105\"\n+      \"19.3.0-experimental-fa50caf5-20251107\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -21701,10 +21702,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_3212 = {\n   bundleType: 0,\n-  version: \"19.3.0-experimental-dd048c3b-20251105\",\n+  version: \"19.3.0-experimental-fa50caf5-20251107\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\"\n+  reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_3213 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -21972,7 +21973,7 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n   \"function\" ===\n     typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "4447ba6237039ad784959d2385c38201144278b1",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.browser.development.js",
            "status": "modified",
            "additions": 90,
            "deletions": 63,
            "changes": 153,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4624,7 +4624,8 @@\n     }\n     function isEligibleForOutlining(request, boundary) {\n       return (\n-        (500 < boundary.byteSize || !1) && null === boundary.contentPreamble\n+        (500 < boundary.byteSize || boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4759,8 +4760,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4770,25 +4771,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6116,16 +6116,15 @@\n                 parentSegment = task.blockedSegment,\n                 fallback = props.fallback,\n                 content = props.children,\n+                defer = !0 === props.defer,\n                 fallbackAbortSet = new Set();\n               var newBoundary = createSuspenseBoundary(\n                 request,\n                 task.row,\n                 fallbackAbortSet,\n                 null,\n-                null\n+                defer\n               );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6145,26 +6144,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones || defer) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6203,7 +6211,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6222,7 +6232,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6301,7 +6314,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6561,19 +6576,20 @@\n                 parentBoundary = task.blockedBoundary,\n                 parentHoistableState = task.hoistableState,\n                 content = props.children,\n-                fallback = props.fallback,\n-                fallbackAbortSet = new Set();\n-              props = createSuspenseBoundary(\n+                fallback = props.fallback;\n+              var resumedBoundary = !0 === props.defer;\n+              props = new Set();\n+              resumedBoundary = createSuspenseBoundary(\n                 replay,\n                 task.row,\n-                fallbackAbortSet,\n+                props,\n                 null,\n-                null\n+                resumedBoundary\n               );\n-              props.parentFlushed = !0;\n-              props.rootSegmentID = request;\n-              task.blockedBoundary = props;\n-              task.hoistableState = props.contentState;\n+              resumedBoundary.parentFlushed = !0;\n+              resumedBoundary.rootSegmentID = request;\n+              task.blockedBoundary = resumedBoundary;\n+              task.hoistableState = resumedBoundary.contentState;\n               task.keyPath = keyPath;\n               task.formatContext = getSuspenseContentFormatContext(\n                 replay.resumableState,\n@@ -6591,13 +6607,16 @@\n                     \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                   );\n                 task.replay.pendingTasks--;\n-                if (0 === props.pendingTasks && props.status === PENDING) {\n-                  props.status = COMPLETED;\n-                  replay.completedBoundaries.push(props);\n+                if (\n+                  0 === resumedBoundary.pendingTasks &&\n+                  resumedBoundary.status === PENDING\n+                ) {\n+                  resumedBoundary.status = COMPLETED;\n+                  replay.completedBoundaries.push(resumedBoundary);\n                   break a;\n                 }\n               } catch (error) {\n-                (props.status = CLIENT_RENDERED),\n+                (resumedBoundary.status = CLIENT_RENDERED),\n                   (childNodes = getThrownInfo(task.componentStack)),\n                   (childSlots = logRecoverableError(\n                     replay,\n@@ -6606,14 +6625,14 @@\n                     task.debugTask\n                   )),\n                   encodeErrorForBoundary(\n-                    props,\n+                    resumedBoundary,\n                     childSlots,\n                     error,\n                     childNodes,\n                     !1\n                   ),\n                   task.replay.pendingTasks--,\n-                  replay.clientRenderedBoundaries.push(props);\n+                  replay.clientRenderedBoundaries.push(resumedBoundary);\n               } finally {\n                 (task.blockedBoundary = parentBoundary),\n                   (task.hoistableState = parentHoistableState),\n@@ -6629,8 +6648,8 @@\n                 fallback,\n                 -1,\n                 parentBoundary,\n-                props.fallbackState,\n-                fallbackAbortSet,\n+                resumedBoundary.fallbackState,\n+                props,\n                 [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n                 getSuspenseFallbackFormatContext(\n                   replay.resumableState,\n@@ -7047,13 +7066,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7062,14 +7086,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7090,7 +7114,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7146,11 +7171,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7366,7 +7393,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7649,7 +7676,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -7921,7 +7948,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -7979,12 +8006,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8001,7 +8027,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8144,7 +8170,8 @@\n       if (\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n-        flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+        (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+          boundary.defer)\n       )\n         return (\n           (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -10063,7 +10090,7 @@\n       completeBoundaryScriptFunctionOnly =\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};',\n       completeBoundaryUpgradeToViewTransitionsInstruction =\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);',\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);',\n       completeBoundaryScript1Partial = '$RC(\"',\n       completeBoundaryWithStylesScript1FullPartial =\n         '$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),v=[],k=0;b=e[k++];)\"not all\"===b.getAttribute(\"media\")?v.push(b):(\"LINK\"===b.tagName&&$RM.set(b.getAttribute(\"href\"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement(\"link\");a.href=d;a.rel=\\n\"stylesheet\";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute(\"media\");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute(\"data-precedence\");a.removeAttribute(\"media\")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\\n\"$~\";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,\"CSS failed to load\"))};$RR(\"',\n@@ -10381,5 +10408,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "e79489e129e7ab99bbc856f03c3a287498d4343e",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.browser.production.js",
            "status": "modified",
            "additions": 111,
            "deletions": 84,
            "changes": 195,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.browser.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2951,16 +2951,16 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       \"\\x3c/script>\"\n     ));\n   bootstrapScriptContent = idPrefix + \"P:\";\n-  var JSCompiler_object_inline_segmentPrefix_1881 = idPrefix + \"S:\";\n+  var JSCompiler_object_inline_segmentPrefix_1883 = idPrefix + \"S:\";\n   idPrefix += \"B:\";\n-  var JSCompiler_object_inline_preconnects_1895 = new Set(),\n-    JSCompiler_object_inline_fontPreloads_1896 = new Set(),\n-    JSCompiler_object_inline_highImagePreloads_1897 = new Set(),\n-    JSCompiler_object_inline_styles_1898 = new Map(),\n-    JSCompiler_object_inline_bootstrapScripts_1899 = new Set(),\n-    JSCompiler_object_inline_scripts_1900 = new Set(),\n-    JSCompiler_object_inline_bulkPreloads_1901 = new Set(),\n-    JSCompiler_object_inline_preloads_1902 = {\n+  var JSCompiler_object_inline_preconnects_1897 = new Set(),\n+    JSCompiler_object_inline_fontPreloads_1898 = new Set(),\n+    JSCompiler_object_inline_highImagePreloads_1899 = new Set(),\n+    JSCompiler_object_inline_styles_1900 = new Map(),\n+    JSCompiler_object_inline_bootstrapScripts_1901 = new Set(),\n+    JSCompiler_object_inline_scripts_1902 = new Set(),\n+    JSCompiler_object_inline_bulkPreloads_1903 = new Set(),\n+    JSCompiler_object_inline_preloads_1904 = {\n       images: new Map(),\n       stylesheets: new Map(),\n       scripts: new Map(),\n@@ -2997,7 +2997,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       scriptConfig.moduleScriptResources[href] = null;\n       scriptConfig = [];\n       pushLinkImpl(scriptConfig, props);\n-      JSCompiler_object_inline_bootstrapScripts_1899.add(scriptConfig);\n+      JSCompiler_object_inline_bootstrapScripts_1901.add(scriptConfig);\n       bootstrapChunks.push('<script src=\"', escapeTextForBrowser(src), '\"');\n       \"string\" === typeof integrity &&\n         bootstrapChunks.push(\n@@ -3044,7 +3044,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         (props.moduleScriptResources[scriptConfig] = null),\n         (props = []),\n         pushLinkImpl(props, integrity),\n-        JSCompiler_object_inline_bootstrapScripts_1899.add(props),\n+        JSCompiler_object_inline_bootstrapScripts_1901.add(props),\n         bootstrapChunks.push(\n           '<script type=\"module\" src=\"',\n           escapeTextForBrowser(i),\n@@ -3066,7 +3066,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         bootstrapChunks.push(' async=\"\">\\x3c/script>');\n   return {\n     placeholderPrefix: bootstrapScriptContent,\n-    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1881,\n+    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1883,\n     boundaryPrefix: idPrefix,\n     startInlineScript: \"<script\",\n     startInlineStyle: \"<style\",\n@@ -3086,14 +3086,14 @@ function createRenderState(resumableState, generateStaticMarkup) {\n     charsetChunks: [],\n     viewportChunks: [],\n     hoistableChunks: [],\n-    preconnects: JSCompiler_object_inline_preconnects_1895,\n-    fontPreloads: JSCompiler_object_inline_fontPreloads_1896,\n-    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1897,\n-    styles: JSCompiler_object_inline_styles_1898,\n-    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1899,\n-    scripts: JSCompiler_object_inline_scripts_1900,\n-    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1901,\n-    preloads: JSCompiler_object_inline_preloads_1902,\n+    preconnects: JSCompiler_object_inline_preconnects_1897,\n+    fontPreloads: JSCompiler_object_inline_fontPreloads_1898,\n+    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1899,\n+    styles: JSCompiler_object_inline_styles_1900,\n+    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1901,\n+    scripts: JSCompiler_object_inline_scripts_1902,\n+    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1903,\n+    preloads: JSCompiler_object_inline_preloads_1904,\n     nonce: { script: void 0, style: void 0 },\n     stylesToHoist: !1,\n     generateStaticMarkup: generateStaticMarkup\n@@ -3862,7 +3862,9 @@ function describeComponentStackByType(type) {\n   return \"\";\n }\n function isEligibleForOutlining(request, boundary) {\n-  return (500 < boundary.byteSize || !1) && null === boundary.contentPreamble;\n+  return (\n+    (500 < boundary.byteSize || boundary.defer) && null === boundary.preamble\n+  );\n }\n function defaultErrorHandler(error) {\n   if (\n@@ -3990,8 +3992,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4001,22 +4003,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -4837,16 +4838,15 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             parentSegment = task.blockedSegment,\n             fallback = props.fallback,\n             content = props.children,\n+            defer = !0 === props.defer,\n             fallbackAbortSet = new Set();\n           var newBoundary = createSuspenseBoundary(\n             request,\n             task.row,\n             fallbackAbortSet,\n             null,\n-            null\n+            defer\n           );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -4866,22 +4866,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones || defer) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -4919,7 +4928,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -4936,7 +4947,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5001,7 +5015,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5230,19 +5246,20 @@ function retryNode(request, task) {\n                         parentBoundary = task.blockedBoundary,\n                         parentHoistableState = task.hoistableState,\n                         content = props.children,\n-                        fallback = props.fallback,\n-                        fallbackAbortSet = new Set();\n-                      props = createSuspenseBoundary(\n+                        fallback = props.fallback;\n+                      var resumedBoundary = !0 === props.defer;\n+                      props = new Set();\n+                      resumedBoundary = createSuspenseBoundary(\n                         request,\n                         task.row,\n-                        fallbackAbortSet,\n+                        props,\n                         null,\n-                        null\n+                        resumedBoundary\n                       );\n-                      props.parentFlushed = !0;\n-                      props.rootSegmentID = replay;\n-                      task.blockedBoundary = props;\n-                      task.hoistableState = props.contentState;\n+                      resumedBoundary.parentFlushed = !0;\n+                      resumedBoundary.rootSegmentID = replay;\n+                      task.blockedBoundary = resumedBoundary;\n+                      task.hoistableState = resumedBoundary.contentState;\n                       task.keyPath = key;\n                       task.formatContext = getSuspenseContentFormatContext(\n                         request.resumableState,\n@@ -5262,22 +5279,27 @@ function retryNode(request, task) {\n                         )\n                           throw Error(formatProdErrorMessage(488));\n                         task.replay.pendingTasks--;\n-                        if (0 === props.pendingTasks && 0 === props.status) {\n-                          props.status = 1;\n-                          request.completedBoundaries.push(props);\n+                        if (\n+                          0 === resumedBoundary.pendingTasks &&\n+                          0 === resumedBoundary.status\n+                        ) {\n+                          resumedBoundary.status = 1;\n+                          request.completedBoundaries.push(resumedBoundary);\n                           break b;\n                         }\n                       } catch (error) {\n-                        (props.status = 4),\n+                        (resumedBoundary.status = 4),\n                           (childNodes = getThrownInfo(task.componentStack)),\n                           (childSlots = logRecoverableError(\n                             request,\n                             error,\n                             childNodes\n                           )),\n-                          (props.errorDigest = childSlots),\n+                          (resumedBoundary.errorDigest = childSlots),\n                           task.replay.pendingTasks--,\n-                          request.clientRenderedBoundaries.push(props);\n+                          request.clientRenderedBoundaries.push(\n+                            resumedBoundary\n+                          );\n                       } finally {\n                         (task.blockedBoundary = parentBoundary),\n                           (task.hoistableState = parentHoistableState),\n@@ -5293,8 +5315,8 @@ function retryNode(request, task) {\n                         fallback,\n                         -1,\n                         parentBoundary,\n-                        props.fallbackState,\n-                        fallbackAbortSet,\n+                        resumedBoundary.fallbackState,\n+                        props,\n                         [key[0], \"Suspense Fallback\", key[2]],\n                         getSuspenseFallbackFormatContext(\n                           request.resumableState,\n@@ -5489,10 +5511,12 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked) throw Error(formatProdErrorMessage(486));\n+  request = tracked.contentKeyPath;\n   if (null === request) throw Error(formatProdErrorMessage(486));\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5501,14 +5525,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5529,7 +5553,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5581,11 +5606,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -5780,7 +5807,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6006,7 +6033,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6223,7 +6250,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6275,12 +6302,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment) throw Error(formatProdErrorMessage(391));\n@@ -6294,7 +6320,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6407,7 +6433,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n   if (\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n-    flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+    (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+      boundary.defer)\n   )\n     return (\n       (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -6497,7 +6524,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             0 === (completedSegments.instructions & 256) &&\n             ((completedSegments.instructions |= 256),\n             destination.push(\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           0 === (completedSegments.instructions & 8)\n             ? ((completedSegments.instructions |= 8),\n@@ -6514,7 +6541,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             0 === (completedSegments.instructions & 256) &&\n             ((completedSegments.instructions |= 256),\n             destination.push(\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           destination.push('$RC(\"')))\n     : requiresStyleInsertion\n@@ -7008,4 +7035,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "4475a92bd8b7aa885c38f60f049a6d713438ebfa",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.node.development.js",
            "status": "modified",
            "additions": 90,
            "deletions": 63,
            "changes": 153,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4624,7 +4624,8 @@\n     }\n     function isEligibleForOutlining(request, boundary) {\n       return (\n-        (500 < boundary.byteSize || !1) && null === boundary.contentPreamble\n+        (500 < boundary.byteSize || boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4759,8 +4760,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4770,25 +4771,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6116,16 +6116,15 @@\n                 parentSegment = task.blockedSegment,\n                 fallback = props.fallback,\n                 content = props.children,\n+                defer = !0 === props.defer,\n                 fallbackAbortSet = new Set();\n               var newBoundary = createSuspenseBoundary(\n                 request,\n                 task.row,\n                 fallbackAbortSet,\n                 null,\n-                null\n+                defer\n               );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6145,26 +6144,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones || defer) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6203,7 +6211,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6222,7 +6232,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6301,7 +6314,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6561,19 +6576,20 @@\n                 parentBoundary = task.blockedBoundary,\n                 parentHoistableState = task.hoistableState,\n                 content = props.children,\n-                fallback = props.fallback,\n-                fallbackAbortSet = new Set();\n-              props = createSuspenseBoundary(\n+                fallback = props.fallback;\n+              var resumedBoundary = !0 === props.defer;\n+              props = new Set();\n+              resumedBoundary = createSuspenseBoundary(\n                 replay,\n                 task.row,\n-                fallbackAbortSet,\n+                props,\n                 null,\n-                null\n+                resumedBoundary\n               );\n-              props.parentFlushed = !0;\n-              props.rootSegmentID = request;\n-              task.blockedBoundary = props;\n-              task.hoistableState = props.contentState;\n+              resumedBoundary.parentFlushed = !0;\n+              resumedBoundary.rootSegmentID = request;\n+              task.blockedBoundary = resumedBoundary;\n+              task.hoistableState = resumedBoundary.contentState;\n               task.keyPath = keyPath;\n               task.formatContext = getSuspenseContentFormatContext(\n                 replay.resumableState,\n@@ -6591,13 +6607,16 @@\n                     \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                   );\n                 task.replay.pendingTasks--;\n-                if (0 === props.pendingTasks && props.status === PENDING) {\n-                  props.status = COMPLETED;\n-                  replay.completedBoundaries.push(props);\n+                if (\n+                  0 === resumedBoundary.pendingTasks &&\n+                  resumedBoundary.status === PENDING\n+                ) {\n+                  resumedBoundary.status = COMPLETED;\n+                  replay.completedBoundaries.push(resumedBoundary);\n                   break a;\n                 }\n               } catch (error) {\n-                (props.status = CLIENT_RENDERED),\n+                (resumedBoundary.status = CLIENT_RENDERED),\n                   (childNodes = getThrownInfo(task.componentStack)),\n                   (childSlots = logRecoverableError(\n                     replay,\n@@ -6606,14 +6625,14 @@\n                     task.debugTask\n                   )),\n                   encodeErrorForBoundary(\n-                    props,\n+                    resumedBoundary,\n                     childSlots,\n                     error,\n                     childNodes,\n                     !1\n                   ),\n                   task.replay.pendingTasks--,\n-                  replay.clientRenderedBoundaries.push(props);\n+                  replay.clientRenderedBoundaries.push(resumedBoundary);\n               } finally {\n                 (task.blockedBoundary = parentBoundary),\n                   (task.hoistableState = parentHoistableState),\n@@ -6629,8 +6648,8 @@\n                 fallback,\n                 -1,\n                 parentBoundary,\n-                props.fallbackState,\n-                fallbackAbortSet,\n+                resumedBoundary.fallbackState,\n+                props,\n                 [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n                 getSuspenseFallbackFormatContext(\n                   replay.resumableState,\n@@ -7047,13 +7066,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7062,14 +7086,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7090,7 +7114,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7146,11 +7171,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7366,7 +7393,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7649,7 +7676,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -7921,7 +7948,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -7979,12 +8006,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8001,7 +8027,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8144,7 +8170,8 @@\n       if (\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n-        flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+        (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+          boundary.defer)\n       )\n         return (\n           (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -10063,7 +10090,7 @@\n       completeBoundaryScriptFunctionOnly =\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};',\n       completeBoundaryUpgradeToViewTransitionsInstruction =\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);',\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);',\n       completeBoundaryScript1Partial = '$RC(\"',\n       completeBoundaryWithStylesScript1FullPartial =\n         '$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),v=[],k=0;b=e[k++];)\"not all\"===b.getAttribute(\"media\")?v.push(b):(\"LINK\"===b.tagName&&$RM.set(b.getAttribute(\"href\"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement(\"link\");a.href=d;a.rel=\\n\"stylesheet\";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute(\"media\");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute(\"data-precedence\");a.removeAttribute(\"media\")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\\n\"$~\";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,\"CSS failed to load\"))};$RR(\"',\n@@ -10381,5 +10408,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "ac8458f366edd70e7ce0ad5755fa3f2777117eaa",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server-legacy.node.production.js",
            "status": "modified",
            "additions": 114,
            "deletions": 84,
            "changes": 198,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server-legacy.node.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2972,16 +2972,16 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       \"\\x3c/script>\"\n     ));\n   bootstrapScriptContent = idPrefix + \"P:\";\n-  var JSCompiler_object_inline_segmentPrefix_1881 = idPrefix + \"S:\";\n+  var JSCompiler_object_inline_segmentPrefix_1883 = idPrefix + \"S:\";\n   idPrefix += \"B:\";\n-  var JSCompiler_object_inline_preconnects_1895 = new Set(),\n-    JSCompiler_object_inline_fontPreloads_1896 = new Set(),\n-    JSCompiler_object_inline_highImagePreloads_1897 = new Set(),\n-    JSCompiler_object_inline_styles_1898 = new Map(),\n-    JSCompiler_object_inline_bootstrapScripts_1899 = new Set(),\n-    JSCompiler_object_inline_scripts_1900 = new Set(),\n-    JSCompiler_object_inline_bulkPreloads_1901 = new Set(),\n-    JSCompiler_object_inline_preloads_1902 = {\n+  var JSCompiler_object_inline_preconnects_1897 = new Set(),\n+    JSCompiler_object_inline_fontPreloads_1898 = new Set(),\n+    JSCompiler_object_inline_highImagePreloads_1899 = new Set(),\n+    JSCompiler_object_inline_styles_1900 = new Map(),\n+    JSCompiler_object_inline_bootstrapScripts_1901 = new Set(),\n+    JSCompiler_object_inline_scripts_1902 = new Set(),\n+    JSCompiler_object_inline_bulkPreloads_1903 = new Set(),\n+    JSCompiler_object_inline_preloads_1904 = {\n       images: new Map(),\n       stylesheets: new Map(),\n       scripts: new Map(),\n@@ -3018,7 +3018,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       scriptConfig.moduleScriptResources[href] = null;\n       scriptConfig = [];\n       pushLinkImpl(scriptConfig, props);\n-      JSCompiler_object_inline_bootstrapScripts_1899.add(scriptConfig);\n+      JSCompiler_object_inline_bootstrapScripts_1901.add(scriptConfig);\n       bootstrapChunks.push('<script src=\"', escapeTextForBrowser(src), '\"');\n       \"string\" === typeof integrity &&\n         bootstrapChunks.push(\n@@ -3065,7 +3065,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         (props.moduleScriptResources[scriptConfig] = null),\n         (props = []),\n         pushLinkImpl(props, integrity),\n-        JSCompiler_object_inline_bootstrapScripts_1899.add(props),\n+        JSCompiler_object_inline_bootstrapScripts_1901.add(props),\n         bootstrapChunks.push(\n           '<script type=\"module\" src=\"',\n           escapeTextForBrowser(i),\n@@ -3087,7 +3087,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         bootstrapChunks.push(' async=\"\">\\x3c/script>');\n   return {\n     placeholderPrefix: bootstrapScriptContent,\n-    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1881,\n+    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1883,\n     boundaryPrefix: idPrefix,\n     startInlineScript: \"<script\",\n     startInlineStyle: \"<style\",\n@@ -3107,14 +3107,14 @@ function createRenderState(resumableState, generateStaticMarkup) {\n     charsetChunks: [],\n     viewportChunks: [],\n     hoistableChunks: [],\n-    preconnects: JSCompiler_object_inline_preconnects_1895,\n-    fontPreloads: JSCompiler_object_inline_fontPreloads_1896,\n-    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1897,\n-    styles: JSCompiler_object_inline_styles_1898,\n-    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1899,\n-    scripts: JSCompiler_object_inline_scripts_1900,\n-    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1901,\n-    preloads: JSCompiler_object_inline_preloads_1902,\n+    preconnects: JSCompiler_object_inline_preconnects_1897,\n+    fontPreloads: JSCompiler_object_inline_fontPreloads_1898,\n+    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1899,\n+    styles: JSCompiler_object_inline_styles_1900,\n+    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1901,\n+    scripts: JSCompiler_object_inline_scripts_1902,\n+    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1903,\n+    preloads: JSCompiler_object_inline_preloads_1904,\n     nonce: { script: void 0, style: void 0 },\n     stylesToHoist: !1,\n     generateStaticMarkup: generateStaticMarkup\n@@ -3913,7 +3913,9 @@ function describeComponentStackByType(type) {\n   return \"\";\n }\n function isEligibleForOutlining(request, boundary) {\n-  return (500 < boundary.byteSize || !1) && null === boundary.contentPreamble;\n+  return (\n+    (500 < boundary.byteSize || boundary.defer) && null === boundary.preamble\n+  );\n }\n function defaultErrorHandler(error) {\n   if (\n@@ -4041,8 +4043,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4052,22 +4054,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -4888,16 +4889,15 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             parentSegment = task.blockedSegment,\n             fallback = props.fallback,\n             content = props.children,\n+            defer = !0 === props.defer,\n             fallbackAbortSet = new Set();\n           var newBoundary = createSuspenseBoundary(\n             request,\n             task.row,\n             fallbackAbortSet,\n             null,\n-            null\n+            defer\n           );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -4917,22 +4917,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones || defer) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -4970,7 +4979,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -4987,7 +4998,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5052,7 +5066,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5289,19 +5305,20 @@ function retryNode(request, task) {\n                         parentBoundary = task.blockedBoundary,\n                         parentHoistableState = task.hoistableState,\n                         content = props.children,\n-                        fallback = props.fallback,\n-                        fallbackAbortSet = new Set();\n-                      props = createSuspenseBoundary(\n+                        fallback = props.fallback;\n+                      var resumedBoundary = !0 === props.defer;\n+                      props = new Set();\n+                      resumedBoundary = createSuspenseBoundary(\n                         request,\n                         task.row,\n-                        fallbackAbortSet,\n+                        props,\n                         null,\n-                        null\n+                        resumedBoundary\n                       );\n-                      props.parentFlushed = !0;\n-                      props.rootSegmentID = replay;\n-                      task.blockedBoundary = props;\n-                      task.hoistableState = props.contentState;\n+                      resumedBoundary.parentFlushed = !0;\n+                      resumedBoundary.rootSegmentID = replay;\n+                      task.blockedBoundary = resumedBoundary;\n+                      task.hoistableState = resumedBoundary.contentState;\n                       task.keyPath = key;\n                       task.formatContext = getSuspenseContentFormatContext(\n                         request.resumableState,\n@@ -5323,22 +5340,27 @@ function retryNode(request, task) {\n                             \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                           );\n                         task.replay.pendingTasks--;\n-                        if (0 === props.pendingTasks && 0 === props.status) {\n-                          props.status = 1;\n-                          request.completedBoundaries.push(props);\n+                        if (\n+                          0 === resumedBoundary.pendingTasks &&\n+                          0 === resumedBoundary.status\n+                        ) {\n+                          resumedBoundary.status = 1;\n+                          request.completedBoundaries.push(resumedBoundary);\n                           break b;\n                         }\n                       } catch (error) {\n-                        (props.status = 4),\n+                        (resumedBoundary.status = 4),\n                           (childNodes = getThrownInfo(task.componentStack)),\n                           (childSlots = logRecoverableError(\n                             request,\n                             error,\n                             childNodes\n                           )),\n-                          (props.errorDigest = childSlots),\n+                          (resumedBoundary.errorDigest = childSlots),\n                           task.replay.pendingTasks--,\n-                          request.clientRenderedBoundaries.push(props);\n+                          request.clientRenderedBoundaries.push(\n+                            resumedBoundary\n+                          );\n                       } finally {\n                         (task.blockedBoundary = parentBoundary),\n                           (task.hoistableState = parentHoistableState),\n@@ -5354,8 +5376,8 @@ function retryNode(request, task) {\n                         fallback,\n                         -1,\n                         parentBoundary,\n-                        props.fallbackState,\n-                        fallbackAbortSet,\n+                        resumedBoundary.fallbackState,\n+                        props,\n                         [key[0], \"Suspense Fallback\", key[2]],\n                         getSuspenseFallbackFormatContext(\n                           request.resumableState,\n@@ -5553,13 +5575,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5568,14 +5595,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5596,7 +5623,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5652,11 +5680,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -5851,7 +5881,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6082,7 +6112,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6301,7 +6331,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6353,12 +6383,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6375,7 +6404,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6490,7 +6519,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n   if (\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n-    flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+    (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+      boundary.defer)\n   )\n     return (\n       (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -6583,7 +6613,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             0 === (completedSegments.instructions & 256) &&\n             ((completedSegments.instructions |= 256),\n             destination.push(\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           0 === (completedSegments.instructions & 8)\n             ? ((completedSegments.instructions |= 8),\n@@ -6600,7 +6630,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             0 === (completedSegments.instructions & 256) &&\n             ((completedSegments.instructions |= 256),\n             destination.push(\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           destination.push('$RC(\"')))\n     : requiresStyleInsertion\n@@ -7108,4 +7138,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "5dacd7cb65596cfcfce4e3a9adab5b04739259ce",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.browser.development.js",
            "status": "modified",
            "additions": 104,
            "deletions": 71,
            "changes": 175,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4841,8 +4841,9 @@\n     function isEligibleForOutlining(request, boundary) {\n       return (\n         (500 < boundary.byteSize ||\n-          hasSuspenseyContent(boundary.contentState)) &&\n-        null === boundary.contentPreamble\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -5132,8 +5133,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -5143,25 +5144,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6534,25 +6534,27 @@\n                 parentSegment = task.blockedSegment,\n                 fallback = props.fallback,\n                 content = props.children,\n+                defer = !0 === props.defer,\n                 fallbackAbortSet = new Set();\n               var newBoundary =\n                 task.formatContext.insertionMode < HTML_MODE\n                   ? createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      defer\n                     )\n                   : createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      defer\n                     );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6572,26 +6574,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones || defer) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6628,7 +6639,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6647,7 +6660,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6724,7 +6740,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6985,28 +7003,32 @@\n                 parentBoundary = task.blockedBoundary,\n                 parentHoistableState = task.hoistableState,\n                 content = props.children,\n-                fallback = props.fallback,\n-                fallbackAbortSet = new Set();\n-              props =\n+                fallback = props.fallback;\n+              var resumedBoundary = !0 === props.defer;\n+              props = new Set();\n+              resumedBoundary =\n                 task.formatContext.insertionMode < HTML_MODE\n                   ? createSuspenseBoundary(\n                       replay,\n                       task.row,\n-                      fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      props,\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      resumedBoundary\n                     )\n                   : createSuspenseBoundary(\n                       replay,\n                       task.row,\n-                      fallbackAbortSet,\n+                      props,\n                       null,\n-                      null\n+                      resumedBoundary\n                     );\n-              props.parentFlushed = !0;\n-              props.rootSegmentID = request;\n-              task.blockedBoundary = props;\n-              task.hoistableState = props.contentState;\n+              resumedBoundary.parentFlushed = !0;\n+              resumedBoundary.rootSegmentID = request;\n+              task.blockedBoundary = resumedBoundary;\n+              task.hoistableState = resumedBoundary.contentState;\n               task.keyPath = keyPath;\n               task.formatContext = getSuspenseContentFormatContext(\n                 replay.resumableState,\n@@ -7024,13 +7046,16 @@\n                     \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                   );\n                 task.replay.pendingTasks--;\n-                if (0 === props.pendingTasks && props.status === PENDING) {\n-                  props.status = COMPLETED;\n-                  replay.completedBoundaries.push(props);\n+                if (\n+                  0 === resumedBoundary.pendingTasks &&\n+                  resumedBoundary.status === PENDING\n+                ) {\n+                  resumedBoundary.status = COMPLETED;\n+                  replay.completedBoundaries.push(resumedBoundary);\n                   break a;\n                 }\n               } catch (error) {\n-                (props.status = CLIENT_RENDERED),\n+                (resumedBoundary.status = CLIENT_RENDERED),\n                   (childNodes = getThrownInfo(task.componentStack)),\n                   (childSlots = logRecoverableError(\n                     replay,\n@@ -7039,14 +7064,14 @@\n                     task.debugTask\n                   )),\n                   encodeErrorForBoundary(\n-                    props,\n+                    resumedBoundary,\n                     childSlots,\n                     error,\n                     childNodes,\n                     !1\n                   ),\n                   task.replay.pendingTasks--,\n-                  replay.clientRenderedBoundaries.push(props);\n+                  replay.clientRenderedBoundaries.push(resumedBoundary);\n               } finally {\n                 (task.blockedBoundary = parentBoundary),\n                   (task.hoistableState = parentHoistableState),\n@@ -7062,8 +7087,8 @@\n                 fallback,\n                 -1,\n                 parentBoundary,\n-                props.fallbackState,\n-                fallbackAbortSet,\n+                resumedBoundary.fallbackState,\n+                props,\n                 [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n                 getSuspenseFallbackFormatContext(\n                   replay.resumableState,\n@@ -7480,13 +7505,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7495,14 +7525,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7523,7 +7553,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7579,11 +7610,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7799,7 +7832,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -8092,7 +8125,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -8366,7 +8399,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -8424,12 +8457,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8446,7 +8478,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8590,7 +8622,8 @@\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n         (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-          hasSuspenseyContent(boundary.contentState))\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer)\n       )\n         (boundary.rootSegmentID = request.nextSegmentId++),\n           request.completedBoundaries.push(boundary),\n@@ -9369,11 +9402,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react-experimental\"),\n@@ -10622,7 +10655,7 @@\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n       ),\n       completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n       ),\n       completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n       completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -11192,5 +11225,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "0a338150315f8ae930c71243d716fd2cfc251417",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.browser.production.js",
            "status": "modified",
            "additions": 104,
            "deletions": 71,
            "changes": 175,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.browser.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2690,7 +2690,7 @@ var completeSegmentScript1Full = stringToPrecomputedChunk(\n     '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n   ),\n   completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n   ),\n   completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n   completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -4312,8 +4312,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4595,8 +4597,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4606,22 +4608,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5487,25 +5488,27 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             parentSegment = task.blockedSegment,\n             fallback = props.fallback,\n             content = props.children,\n+            defer = !0 === props.defer,\n             fallbackAbortSet = new Set();\n           var newBoundary =\n             2 > task.formatContext.insertionMode\n               ? createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  defer\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  defer\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5525,22 +5528,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones || defer) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5576,7 +5588,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5593,7 +5607,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5656,7 +5673,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5886,28 +5905,32 @@ function retryNode(request, task) {\n                         parentBoundary = task.blockedBoundary,\n                         parentHoistableState = task.hoistableState,\n                         content = props.children,\n-                        fallback = props.fallback,\n-                        fallbackAbortSet = new Set();\n-                      props =\n+                        fallback = props.fallback;\n+                      var resumedBoundary = !0 === props.defer;\n+                      props = new Set();\n+                      resumedBoundary =\n                         2 > task.formatContext.insertionMode\n                           ? createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              props,\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              resumedBoundary\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n+                              props,\n                               null,\n-                              null\n+                              resumedBoundary\n                             );\n-                      props.parentFlushed = !0;\n-                      props.rootSegmentID = replay;\n-                      task.blockedBoundary = props;\n-                      task.hoistableState = props.contentState;\n+                      resumedBoundary.parentFlushed = !0;\n+                      resumedBoundary.rootSegmentID = replay;\n+                      task.blockedBoundary = resumedBoundary;\n+                      task.hoistableState = resumedBoundary.contentState;\n                       task.keyPath = key;\n                       task.formatContext = getSuspenseContentFormatContext(\n                         request.resumableState,\n@@ -5927,22 +5950,27 @@ function retryNode(request, task) {\n                         )\n                           throw Error(formatProdErrorMessage(488));\n                         task.replay.pendingTasks--;\n-                        if (0 === props.pendingTasks && 0 === props.status) {\n-                          props.status = 1;\n-                          request.completedBoundaries.push(props);\n+                        if (\n+                          0 === resumedBoundary.pendingTasks &&\n+                          0 === resumedBoundary.status\n+                        ) {\n+                          resumedBoundary.status = 1;\n+                          request.completedBoundaries.push(resumedBoundary);\n                           break b;\n                         }\n                       } catch (error) {\n-                        (props.status = 4),\n+                        (resumedBoundary.status = 4),\n                           (childNodes = getThrownInfo(task.componentStack)),\n                           (childSlots = logRecoverableError(\n                             request,\n                             error,\n                             childNodes\n                           )),\n-                          (props.errorDigest = childSlots),\n+                          (resumedBoundary.errorDigest = childSlots),\n                           task.replay.pendingTasks--,\n-                          request.clientRenderedBoundaries.push(props);\n+                          request.clientRenderedBoundaries.push(\n+                            resumedBoundary\n+                          );\n                       } finally {\n                         (task.blockedBoundary = parentBoundary),\n                           (task.hoistableState = parentHoistableState),\n@@ -5958,8 +5986,8 @@ function retryNode(request, task) {\n                         fallback,\n                         -1,\n                         parentBoundary,\n-                        props.fallbackState,\n-                        fallbackAbortSet,\n+                        resumedBoundary.fallbackState,\n+                        props,\n                         [key[0], \"Suspense Fallback\", key[2]],\n                         getSuspenseFallbackFormatContext(\n                           request.resumableState,\n@@ -6154,10 +6182,12 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked) throw Error(formatProdErrorMessage(486));\n+  request = tracked.contentKeyPath;\n   if (null === request) throw Error(formatProdErrorMessage(486));\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -6166,14 +6196,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -6194,7 +6224,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -6246,11 +6277,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6445,7 +6478,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6681,7 +6714,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6896,7 +6929,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6948,12 +6981,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment) throw Error(formatProdErrorMessage(391));\n@@ -6967,7 +6999,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -7074,7 +7106,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -7669,12 +7702,12 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       formatProdErrorMessage(\n         527,\n         isomorphicReactPackageVersion,\n-        \"19.3.0-experimental-dd048c3b-20251105\"\n+        \"19.3.0-experimental-fa50caf5-20251107\"\n       )\n     );\n }\n@@ -7925,4 +7958,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "a149cb8f1d7157ba91bf2ef5732cbc837364ff31",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.bun.production.js",
            "status": "modified",
            "additions": 108,
            "deletions": 72,
            "changes": 180,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.bun.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.bun.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.bun.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -3940,8 +3940,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4223,8 +4225,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4234,22 +4236,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5121,25 +5122,27 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             parentSegment = task.blockedSegment,\n             fallback = props.fallback,\n             content = props.children,\n+            defer = !0 === props.defer,\n             fallbackAbortSet = new Set();\n           var newBoundary =\n             2 > task.formatContext.insertionMode\n               ? createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  defer\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  defer\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5159,22 +5162,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones || defer) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5213,7 +5225,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5230,7 +5244,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5296,7 +5313,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5534,28 +5553,32 @@ function retryNode(request, task) {\n                         parentBoundary = task.blockedBoundary,\n                         parentHoistableState = task.hoistableState,\n                         content = props.children,\n-                        fallback = props.fallback,\n-                        fallbackAbortSet = new Set();\n-                      props =\n+                        fallback = props.fallback;\n+                      var resumedBoundary = !0 === props.defer;\n+                      props = new Set();\n+                      resumedBoundary =\n                         2 > task.formatContext.insertionMode\n                           ? createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              props,\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              resumedBoundary\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n+                              props,\n                               null,\n-                              null\n+                              resumedBoundary\n                             );\n-                      props.parentFlushed = !0;\n-                      props.rootSegmentID = replay;\n-                      task.blockedBoundary = props;\n-                      task.hoistableState = props.contentState;\n+                      resumedBoundary.parentFlushed = !0;\n+                      resumedBoundary.rootSegmentID = replay;\n+                      task.blockedBoundary = resumedBoundary;\n+                      task.hoistableState = resumedBoundary.contentState;\n                       task.keyPath = key;\n                       task.formatContext = getSuspenseContentFormatContext(\n                         request.resumableState,\n@@ -5577,22 +5600,27 @@ function retryNode(request, task) {\n                             \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                           );\n                         task.replay.pendingTasks--;\n-                        if (0 === props.pendingTasks && 0 === props.status) {\n-                          props.status = 1;\n-                          request.completedBoundaries.push(props);\n+                        if (\n+                          0 === resumedBoundary.pendingTasks &&\n+                          0 === resumedBoundary.status\n+                        ) {\n+                          resumedBoundary.status = 1;\n+                          request.completedBoundaries.push(resumedBoundary);\n                           break b;\n                         }\n                       } catch (error) {\n-                        (props.status = 4),\n+                        (resumedBoundary.status = 4),\n                           (childNodes = getThrownInfo(task.componentStack)),\n                           (childSlots = logRecoverableError(\n                             request,\n                             error,\n                             childNodes\n                           )),\n-                          (props.errorDigest = childSlots),\n+                          (resumedBoundary.errorDigest = childSlots),\n                           task.replay.pendingTasks--,\n-                          request.clientRenderedBoundaries.push(props);\n+                          request.clientRenderedBoundaries.push(\n+                            resumedBoundary\n+                          );\n                       } finally {\n                         (task.blockedBoundary = parentBoundary),\n                           (task.hoistableState = parentHoistableState),\n@@ -5608,8 +5636,8 @@ function retryNode(request, task) {\n                         fallback,\n                         -1,\n                         parentBoundary,\n-                        props.fallbackState,\n-                        fallbackAbortSet,\n+                        resumedBoundary.fallbackState,\n+                        props,\n                         [key[0], \"Suspense Fallback\", key[2]],\n                         getSuspenseFallbackFormatContext(\n                           request.resumableState,\n@@ -5807,13 +5835,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5822,14 +5855,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5850,7 +5883,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5906,11 +5940,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6105,7 +6141,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6346,7 +6382,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6566,7 +6602,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6618,12 +6654,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6640,7 +6675,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6745,7 +6780,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -6836,7 +6872,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             ((completedSegments.instructions |= 256),\n             writeChunk(\n               destination,\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           0 === (completedSegments.instructions & 8)\n             ? ((completedSegments.instructions |= 8),\n@@ -6856,7 +6892,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             ((completedSegments.instructions |= 256),\n             writeChunk(\n               destination,\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           writeChunk(destination, '$RC(\"')))\n     : requiresStyleInsertion\n@@ -7361,11 +7397,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -7910,4 +7946,4 @@ exports.resumeToPipeableStream = function (children, postponedState, options) {\n     }\n   };\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "689c34c275045a8e9d1b42096c9a1b52faef14e7",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.edge.development.js",
            "status": "modified",
            "additions": 104,
            "deletions": 71,
            "changes": 175,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4849,8 +4849,9 @@\n     function isEligibleForOutlining(request, boundary) {\n       return (\n         (500 < boundary.byteSize ||\n-          hasSuspenseyContent(boundary.contentState)) &&\n-        null === boundary.contentPreamble\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -5148,8 +5149,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -5159,25 +5160,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6550,25 +6550,27 @@\n                 parentSegment = task.blockedSegment,\n                 fallback = props.fallback,\n                 content = props.children,\n+                defer = !0 === props.defer,\n                 fallbackAbortSet = new Set();\n               var newBoundary =\n                 task.formatContext.insertionMode < HTML_MODE\n                   ? createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      defer\n                     )\n                   : createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      defer\n                     );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6588,26 +6590,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones || defer) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6644,7 +6655,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6663,7 +6676,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6740,7 +6756,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -7001,28 +7019,32 @@\n                 parentBoundary = task.blockedBoundary,\n                 parentHoistableState = task.hoistableState,\n                 content = props.children,\n-                fallback = props.fallback,\n-                fallbackAbortSet = new Set();\n-              props =\n+                fallback = props.fallback;\n+              var resumedBoundary = !0 === props.defer;\n+              props = new Set();\n+              resumedBoundary =\n                 task.formatContext.insertionMode < HTML_MODE\n                   ? createSuspenseBoundary(\n                       replay,\n                       task.row,\n-                      fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      props,\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      resumedBoundary\n                     )\n                   : createSuspenseBoundary(\n                       replay,\n                       task.row,\n-                      fallbackAbortSet,\n+                      props,\n                       null,\n-                      null\n+                      resumedBoundary\n                     );\n-              props.parentFlushed = !0;\n-              props.rootSegmentID = request;\n-              task.blockedBoundary = props;\n-              task.hoistableState = props.contentState;\n+              resumedBoundary.parentFlushed = !0;\n+              resumedBoundary.rootSegmentID = request;\n+              task.blockedBoundary = resumedBoundary;\n+              task.hoistableState = resumedBoundary.contentState;\n               task.keyPath = keyPath;\n               task.formatContext = getSuspenseContentFormatContext(\n                 replay.resumableState,\n@@ -7040,13 +7062,16 @@\n                     \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                   );\n                 task.replay.pendingTasks--;\n-                if (0 === props.pendingTasks && props.status === PENDING) {\n-                  props.status = COMPLETED;\n-                  replay.completedBoundaries.push(props);\n+                if (\n+                  0 === resumedBoundary.pendingTasks &&\n+                  resumedBoundary.status === PENDING\n+                ) {\n+                  resumedBoundary.status = COMPLETED;\n+                  replay.completedBoundaries.push(resumedBoundary);\n                   break a;\n                 }\n               } catch (error) {\n-                (props.status = CLIENT_RENDERED),\n+                (resumedBoundary.status = CLIENT_RENDERED),\n                   (childNodes = getThrownInfo(task.componentStack)),\n                   (childSlots = logRecoverableError(\n                     replay,\n@@ -7055,14 +7080,14 @@\n                     task.debugTask\n                   )),\n                   encodeErrorForBoundary(\n-                    props,\n+                    resumedBoundary,\n                     childSlots,\n                     error,\n                     childNodes,\n                     !1\n                   ),\n                   task.replay.pendingTasks--,\n-                  replay.clientRenderedBoundaries.push(props);\n+                  replay.clientRenderedBoundaries.push(resumedBoundary);\n               } finally {\n                 (task.blockedBoundary = parentBoundary),\n                   (task.hoistableState = parentHoistableState),\n@@ -7078,8 +7103,8 @@\n                 fallback,\n                 -1,\n                 parentBoundary,\n-                props.fallbackState,\n-                fallbackAbortSet,\n+                resumedBoundary.fallbackState,\n+                props,\n                 [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n                 getSuspenseFallbackFormatContext(\n                   replay.resumableState,\n@@ -7496,13 +7521,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7511,14 +7541,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7539,7 +7569,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7595,11 +7626,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7815,7 +7848,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -8108,7 +8141,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -8382,7 +8415,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -8440,12 +8473,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8462,7 +8494,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8606,7 +8638,8 @@\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n         (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-          hasSuspenseyContent(boundary.contentState))\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer)\n       )\n         (boundary.rootSegmentID = request.nextSegmentId++),\n           request.completedBoundaries.push(boundary),\n@@ -9398,11 +9431,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react-experimental\"),\n@@ -10645,7 +10678,7 @@\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n       ),\n       completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n       ),\n       completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n       completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -11217,5 +11250,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "ebe82fbed39f2fd73cbf289fdff0fd6ea439bdca",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.edge.production.js",
            "status": "modified",
            "additions": 107,
            "deletions": 71,
            "changes": 178,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2701,7 +2701,7 @@ var completeSegmentScript1Full = stringToPrecomputedChunk(\n     '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n   ),\n   completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n   ),\n   completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n   completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -4364,8 +4364,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4655,8 +4657,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4666,22 +4668,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5547,25 +5548,27 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             parentSegment = task.blockedSegment,\n             fallback = props.fallback,\n             content = props.children,\n+            defer = !0 === props.defer,\n             fallbackAbortSet = new Set();\n           var newBoundary =\n             2 > task.formatContext.insertionMode\n               ? createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  defer\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  defer\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5585,22 +5588,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones || defer) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5636,7 +5648,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5653,7 +5667,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5716,7 +5733,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5954,28 +5973,32 @@ function retryNode(request, task) {\n                         parentBoundary = task.blockedBoundary,\n                         parentHoistableState = task.hoistableState,\n                         content = props.children,\n-                        fallback = props.fallback,\n-                        fallbackAbortSet = new Set();\n-                      props =\n+                        fallback = props.fallback;\n+                      var resumedBoundary = !0 === props.defer;\n+                      props = new Set();\n+                      resumedBoundary =\n                         2 > task.formatContext.insertionMode\n                           ? createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              props,\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              resumedBoundary\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n+                              props,\n                               null,\n-                              null\n+                              resumedBoundary\n                             );\n-                      props.parentFlushed = !0;\n-                      props.rootSegmentID = replay;\n-                      task.blockedBoundary = props;\n-                      task.hoistableState = props.contentState;\n+                      resumedBoundary.parentFlushed = !0;\n+                      resumedBoundary.rootSegmentID = replay;\n+                      task.blockedBoundary = resumedBoundary;\n+                      task.hoistableState = resumedBoundary.contentState;\n                       task.keyPath = key;\n                       task.formatContext = getSuspenseContentFormatContext(\n                         request.resumableState,\n@@ -5997,22 +6020,27 @@ function retryNode(request, task) {\n                             \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                           );\n                         task.replay.pendingTasks--;\n-                        if (0 === props.pendingTasks && 0 === props.status) {\n-                          props.status = 1;\n-                          request.completedBoundaries.push(props);\n+                        if (\n+                          0 === resumedBoundary.pendingTasks &&\n+                          0 === resumedBoundary.status\n+                        ) {\n+                          resumedBoundary.status = 1;\n+                          request.completedBoundaries.push(resumedBoundary);\n                           break b;\n                         }\n                       } catch (error) {\n-                        (props.status = 4),\n+                        (resumedBoundary.status = 4),\n                           (childNodes = getThrownInfo(task.componentStack)),\n                           (childSlots = logRecoverableError(\n                             request,\n                             error,\n                             childNodes\n                           )),\n-                          (props.errorDigest = childSlots),\n+                          (resumedBoundary.errorDigest = childSlots),\n                           task.replay.pendingTasks--,\n-                          request.clientRenderedBoundaries.push(props);\n+                          request.clientRenderedBoundaries.push(\n+                            resumedBoundary\n+                          );\n                       } finally {\n                         (task.blockedBoundary = parentBoundary),\n                           (task.hoistableState = parentHoistableState),\n@@ -6028,8 +6056,8 @@ function retryNode(request, task) {\n                         fallback,\n                         -1,\n                         parentBoundary,\n-                        props.fallbackState,\n-                        fallbackAbortSet,\n+                        resumedBoundary.fallbackState,\n+                        props,\n                         [key[0], \"Suspense Fallback\", key[2]],\n                         getSuspenseFallbackFormatContext(\n                           request.resumableState,\n@@ -6227,13 +6255,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -6242,14 +6275,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -6270,7 +6303,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -6326,11 +6360,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6525,7 +6561,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6766,7 +6802,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6983,7 +7019,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -7035,12 +7071,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -7057,7 +7092,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -7166,7 +7201,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -7784,11 +7820,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -8038,4 +8074,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "2e70d78f1d19bc6714eeb8f5eed9835004f2ea57",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.node.development.js",
            "status": "modified",
            "additions": 104,
            "deletions": 71,
            "changes": 175,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4738,8 +4738,9 @@\n     function isEligibleForOutlining(request, boundary) {\n       return (\n         (500 < boundary.byteSize ||\n-          hasSuspenseyContent(boundary.contentState)) &&\n-        null === boundary.contentPreamble\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -5034,8 +5035,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -5045,25 +5046,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6435,25 +6435,27 @@\n                 parentSegment = task.blockedSegment,\n                 fallback = props.fallback,\n                 content = props.children,\n+                defer = !0 === props.defer,\n                 fallbackAbortSet = new Set();\n               var newBoundary =\n                 task.formatContext.insertionMode < HTML_MODE\n                   ? createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      defer\n                     )\n                   : createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      defer\n                     );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6473,26 +6475,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones || defer) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6529,7 +6540,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6548,7 +6561,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6625,7 +6641,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6886,28 +6904,32 @@\n                 parentBoundary = task.blockedBoundary,\n                 parentHoistableState = task.hoistableState,\n                 content = props.children,\n-                fallback = props.fallback,\n-                fallbackAbortSet = new Set();\n-              props =\n+                fallback = props.fallback;\n+              var resumedBoundary = !0 === props.defer;\n+              props = new Set();\n+              resumedBoundary =\n                 task.formatContext.insertionMode < HTML_MODE\n                   ? createSuspenseBoundary(\n                       replay,\n                       task.row,\n-                      fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      props,\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      resumedBoundary\n                     )\n                   : createSuspenseBoundary(\n                       replay,\n                       task.row,\n-                      fallbackAbortSet,\n+                      props,\n                       null,\n-                      null\n+                      resumedBoundary\n                     );\n-              props.parentFlushed = !0;\n-              props.rootSegmentID = request;\n-              task.blockedBoundary = props;\n-              task.hoistableState = props.contentState;\n+              resumedBoundary.parentFlushed = !0;\n+              resumedBoundary.rootSegmentID = request;\n+              task.blockedBoundary = resumedBoundary;\n+              task.hoistableState = resumedBoundary.contentState;\n               task.keyPath = keyPath;\n               task.formatContext = getSuspenseContentFormatContext(\n                 replay.resumableState,\n@@ -6925,13 +6947,16 @@\n                     \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                   );\n                 task.replay.pendingTasks--;\n-                if (0 === props.pendingTasks && props.status === PENDING) {\n-                  props.status = COMPLETED;\n-                  replay.completedBoundaries.push(props);\n+                if (\n+                  0 === resumedBoundary.pendingTasks &&\n+                  resumedBoundary.status === PENDING\n+                ) {\n+                  resumedBoundary.status = COMPLETED;\n+                  replay.completedBoundaries.push(resumedBoundary);\n                   break a;\n                 }\n               } catch (error) {\n-                (props.status = CLIENT_RENDERED),\n+                (resumedBoundary.status = CLIENT_RENDERED),\n                   (childNodes = getThrownInfo(task.componentStack)),\n                   (childSlots = logRecoverableError(\n                     replay,\n@@ -6940,14 +6965,14 @@\n                     task.debugTask\n                   )),\n                   encodeErrorForBoundary(\n-                    props,\n+                    resumedBoundary,\n                     childSlots,\n                     error,\n                     childNodes,\n                     !1\n                   ),\n                   task.replay.pendingTasks--,\n-                  replay.clientRenderedBoundaries.push(props);\n+                  replay.clientRenderedBoundaries.push(resumedBoundary);\n               } finally {\n                 (task.blockedBoundary = parentBoundary),\n                   (task.hoistableState = parentHoistableState),\n@@ -6963,8 +6988,8 @@\n                 fallback,\n                 -1,\n                 parentBoundary,\n-                props.fallbackState,\n-                fallbackAbortSet,\n+                resumedBoundary.fallbackState,\n+                props,\n                 [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n                 getSuspenseFallbackFormatContext(\n                   replay.resumableState,\n@@ -7381,13 +7406,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7396,14 +7426,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7424,7 +7454,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7480,11 +7511,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7700,7 +7733,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7993,7 +8026,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -8267,7 +8300,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -8325,12 +8358,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8347,7 +8379,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8482,7 +8514,8 @@\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n         (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-          hasSuspenseyContent(boundary.contentState))\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer)\n       )\n         (boundary.rootSegmentID = request.nextSegmentId++),\n           request.completedBoundaries.push(boundary),\n@@ -9258,11 +9291,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     function createDrainHandler(destination, request) {\n@@ -10608,7 +10641,7 @@\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n       ),\n       completeBoundaryUpgradeToViewTransitionsInstruction =\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);',\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);',\n       completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n       completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n         '$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),v=[],k=0;b=e[k++];)\"not all\"===b.getAttribute(\"media\")?v.push(b):(\"LINK\"===b.tagName&&$RM.set(b.getAttribute(\"href\"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement(\"link\");a.href=d;a.rel=\\n\"stylesheet\";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute(\"media\");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute(\"data-precedence\");a.removeAttribute(\"media\")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\\n\"$~\";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,\"CSS failed to load\"))};$RR(\"'\n@@ -11383,5 +11416,5 @@\n         }\n       };\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "82f55445ffdd981118b9722e3d40a8679cf08007",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.node.production.js",
            "status": "modified",
            "additions": 108,
            "deletions": 72,
            "changes": 180,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.node.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4252,8 +4252,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4540,8 +4542,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4551,22 +4553,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5432,25 +5433,27 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             parentSegment = task.blockedSegment,\n             fallback = props.fallback,\n             content = props.children,\n+            defer = !0 === props.defer,\n             fallbackAbortSet = new Set();\n           var newBoundary =\n             2 > task.formatContext.insertionMode\n               ? createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  defer\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  defer\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5470,22 +5473,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones || defer) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5521,7 +5533,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5538,7 +5552,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5601,7 +5618,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5839,28 +5858,32 @@ function retryNode(request, task) {\n                         parentBoundary = task.blockedBoundary,\n                         parentHoistableState = task.hoistableState,\n                         content = props.children,\n-                        fallback = props.fallback,\n-                        fallbackAbortSet = new Set();\n-                      props =\n+                        fallback = props.fallback;\n+                      var resumedBoundary = !0 === props.defer;\n+                      props = new Set();\n+                      resumedBoundary =\n                         2 > task.formatContext.insertionMode\n                           ? createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              props,\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              resumedBoundary\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n-                              fallbackAbortSet,\n+                              props,\n                               null,\n-                              null\n+                              resumedBoundary\n                             );\n-                      props.parentFlushed = !0;\n-                      props.rootSegmentID = replay;\n-                      task.blockedBoundary = props;\n-                      task.hoistableState = props.contentState;\n+                      resumedBoundary.parentFlushed = !0;\n+                      resumedBoundary.rootSegmentID = replay;\n+                      task.blockedBoundary = resumedBoundary;\n+                      task.hoistableState = resumedBoundary.contentState;\n                       task.keyPath = key;\n                       task.formatContext = getSuspenseContentFormatContext(\n                         request.resumableState,\n@@ -5882,22 +5905,27 @@ function retryNode(request, task) {\n                             \"Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.\"\n                           );\n                         task.replay.pendingTasks--;\n-                        if (0 === props.pendingTasks && 0 === props.status) {\n-                          props.status = 1;\n-                          request.completedBoundaries.push(props);\n+                        if (\n+                          0 === resumedBoundary.pendingTasks &&\n+                          0 === resumedBoundary.status\n+                        ) {\n+                          resumedBoundary.status = 1;\n+                          request.completedBoundaries.push(resumedBoundary);\n                           break b;\n                         }\n                       } catch (error) {\n-                        (props.status = 4),\n+                        (resumedBoundary.status = 4),\n                           (childNodes = getThrownInfo(task.componentStack)),\n                           (childSlots = logRecoverableError(\n                             request,\n                             error,\n                             childNodes\n                           )),\n-                          (props.errorDigest = childSlots),\n+                          (resumedBoundary.errorDigest = childSlots),\n                           task.replay.pendingTasks--,\n-                          request.clientRenderedBoundaries.push(props);\n+                          request.clientRenderedBoundaries.push(\n+                            resumedBoundary\n+                          );\n                       } finally {\n                         (task.blockedBoundary = parentBoundary),\n                           (task.hoistableState = parentHoistableState),\n@@ -5913,8 +5941,8 @@ function retryNode(request, task) {\n                         fallback,\n                         -1,\n                         parentBoundary,\n-                        props.fallbackState,\n-                        fallbackAbortSet,\n+                        resumedBoundary.fallbackState,\n+                        props,\n                         [key[0], \"Suspense Fallback\", key[2]],\n                         getSuspenseFallbackFormatContext(\n                           request.resumableState,\n@@ -6112,13 +6140,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -6127,14 +6160,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -6155,7 +6188,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -6211,11 +6245,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6410,7 +6446,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6651,7 +6687,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6868,7 +6904,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6920,12 +6956,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6942,7 +6977,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -7051,7 +7086,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -7136,7 +7172,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             ((completedSegments.instructions |= 256),\n             writeChunk(\n               destination,\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           0 === (completedSegments.instructions & 8)\n             ? ((completedSegments.instructions |= 8),\n@@ -7153,7 +7189,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n             ((completedSegments.instructions |= 256),\n             writeChunk(\n               destination,\n-              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+              '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n             )),\n           writeChunk(destination, completeBoundaryScript1Partial)))\n     : requiresStyleInsertion\n@@ -7663,11 +7699,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -8217,4 +8253,4 @@ exports.resumeToPipeableStream = function (children, postponedState, options) {\n     }\n   };\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "77c8dbd6a3b006898996a465de6da2f279f928d8",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-unstable_testing.development.js",
            "status": "modified",
            "additions": 23,
            "deletions": 29,
            "changes": 52,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1453,8 +1453,8 @@\n       delete node[internalEventHandlesSetKey];\n     }\n     function getClosestInstanceFromNode(targetNode) {\n-      var targetInst = targetNode[internalInstanceKey];\n-      if (targetInst) return targetInst;\n+      var targetInst;\n+      if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n       for (var parentNode = targetNode.parentNode; parentNode; ) {\n         if (\n           (targetInst =\n@@ -11484,10 +11484,7 @@\n             (workInProgress.memoizedState = SUSPENDED_MARKER),\n             bailoutOffscreenComponent(null, JSCompiler_object_inline_stack_3265)\n           );\n-        if (\n-          \"number\" ===\n-          typeof JSCompiler_object_inline_stack_3265.unstable_expectedLoadTime\n-        )\n+        if (!0 === JSCompiler_object_inline_stack_3265.defer)\n           return (\n             reuseSuspenseHandlerOnStack(workInProgress),\n             mountSuspenseFallbackChildren(\n@@ -14710,7 +14707,7 @@\n     function commitAppearingPairViewTransitions(placement) {\n       if (0 !== (placement.subtreeFlags & 18874368))\n         for (placement = placement.child; null !== placement; ) {\n-          if (22 !== placement.tag || null !== placement.memoizedState)\n+          if (22 !== placement.tag || null === placement.memoizedState)\n             if (\n               (commitAppearingPairViewTransitions(placement),\n               30 === placement.tag &&\n@@ -14774,7 +14771,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -14873,7 +14870,7 @@\n     function restorePairedViewTransitions(parent) {\n       if (0 !== (parent.subtreeFlags & 18874368))\n         for (parent = parent.child; null !== parent; ) {\n-          if (22 !== parent.tag || null !== parent.memoizedState) {\n+          if (22 !== parent.tag || null === parent.memoizedState) {\n             if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n               var instance = parent.stateNode;\n               null !== instance.paired &&\n@@ -17925,7 +17922,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -25662,27 +25659,24 @@\n       }\n     }\n     function applyViewTransitionName(instance, name, className) {\n+      name =\n+        CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n       instance.style.viewTransitionName = name;\n       null != className && (instance.style.viewTransitionClass = className);\n-      name = getComputedStyle(instance);\n-      if (\"inline\" === name.display) {\n-        className = instance.getClientRects();\n-        if (1 === className.length) var JSCompiler_inline_result = 1;\n+      className = getComputedStyle(instance);\n+      if (\"inline\" === className.display) {\n+        name = instance.getClientRects();\n+        if (1 === name.length) var JSCompiler_inline_result = 1;\n         else\n-          for (\n-            var i = (JSCompiler_inline_result = 0);\n-            i < className.length;\n-            i++\n-          ) {\n-            var rect = className[i];\n+          for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+            var rect = name[i];\n             0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n           }\n         1 === JSCompiler_inline_result\n           ? ((instance = instance.style),\n-            (instance.display =\n-              1 === className.length ? \"inline-block\" : \"block\"),\n-            (instance.marginTop = \"-\" + name.paddingTop),\n-            (instance.marginBottom = \"-\" + name.paddingBottom))\n+            (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+            (instance.marginTop = \"-\" + className.paddingTop),\n+            (instance.marginBottom = \"-\" + className.paddingBottom))\n           : warnForBlockInsideInline(instance);\n       }\n     }\n@@ -32727,11 +32721,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-experimental-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-experimental-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-experimental-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-experimental-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -32768,10 +32762,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.3.0-experimental-dd048c3b-20251105\",\n+          version: \"19.3.0-experimental-fa50caf5-20251107\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\"\n+          reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -33085,5 +33079,5 @@\n         }\n       };\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "9dacac9b33a4d6fca216cb38984c68b3120570ac",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-unstable_testing.production.js",
            "status": "modified",
            "additions": 22,
            "deletions": 21,
            "changes": 43,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-unstable_testing.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -976,8 +976,8 @@ function detachDeletedInstance(node) {\n   delete node[internalEventHandlesSetKey];\n }\n function getClosestInstanceFromNode(targetNode) {\n-  var targetInst = targetNode[internalInstanceKey];\n-  if (targetInst) return targetInst;\n+  var targetInst;\n+  if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n   for (var parentNode = targetNode.parentNode; parentNode; ) {\n     if (\n       (targetInst =\n@@ -7385,7 +7385,7 @@ function updateSuspenseComponent(current, workInProgress, renderLanes) {\n         (workInProgress.memoizedState = SUSPENDED_MARKER),\n         bailoutOffscreenComponent(null, nextProps)\n       );\n-    if (\"number\" === typeof nextProps.unstable_expectedLoadTime)\n+    if (!0 === nextProps.defer)\n       return (\n         reuseSuspenseHandlerOnStack(),\n         mountSuspenseFallbackChildren(\n@@ -9635,7 +9635,7 @@ function restoreViewTransitionOnHostInstances(\n function commitAppearingPairViewTransitions(placement) {\n   if (0 !== (placement.subtreeFlags & 18874368))\n     for (placement = placement.child; null !== placement; ) {\n-      if (22 !== placement.tag || null !== placement.memoizedState)\n+      if (22 !== placement.tag || null === placement.memoizedState)\n         if (\n           (commitAppearingPairViewTransitions(placement),\n           30 === placement.tag &&\n@@ -9691,7 +9691,7 @@ function commitDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -9781,7 +9781,7 @@ function commitNestedViewTransitions(changedParent) {\n function restorePairedViewTransitions(parent) {\n   if (0 !== (parent.subtreeFlags & 18874368))\n     for (parent = parent.child; null !== parent; ) {\n-      if (22 !== parent.tag || null !== parent.memoizedState) {\n+      if (22 !== parent.tag || null === parent.memoizedState) {\n         if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n           var instance = parent.stateNode;\n           null !== instance.paired &&\n@@ -12094,7 +12094,7 @@ function trackDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -16915,22 +16915,23 @@ function unhideInstance(instance, props) {\n     null == props || \"boolean\" === typeof props ? \"\" : (\"\" + props).trim();\n }\n function applyViewTransitionName(instance, name, className) {\n+  name = CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n   instance.style.viewTransitionName = name;\n   null != className && (instance.style.viewTransitionClass = className);\n-  name = getComputedStyle(instance);\n-  if (\"inline\" === name.display) {\n-    className = instance.getClientRects();\n-    if (1 === className.length) var JSCompiler_inline_result = 1;\n+  className = getComputedStyle(instance);\n+  if (\"inline\" === className.display) {\n+    name = instance.getClientRects();\n+    if (1 === name.length) var JSCompiler_inline_result = 1;\n     else\n-      for (var i = (JSCompiler_inline_result = 0); i < className.length; i++) {\n-        var rect = className[i];\n+      for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+        var rect = name[i];\n         0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n       }\n     1 === JSCompiler_inline_result &&\n       ((instance = instance.style),\n-      (instance.display = 1 === className.length ? \"inline-block\" : \"block\"),\n-      (instance.marginTop = \"-\" + name.paddingTop),\n-      (instance.marginBottom = \"-\" + name.paddingBottom));\n+      (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+      (instance.marginTop = \"-\" + className.paddingTop),\n+      (instance.marginBottom = \"-\" + className.paddingBottom));\n   }\n }\n function restoreViewTransitionName(instance, props) {\n@@ -19933,14 +19934,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2227 = React.version;\n if (\n-  \"19.3.0-experimental-dd048c3b-20251105\" !==\n+  \"19.3.0-experimental-fa50caf5-20251107\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2227\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2227,\n-      \"19.3.0-experimental-dd048c3b-20251105\"\n+      \"19.3.0-experimental-fa50caf5-20251107\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -19962,10 +19963,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2937 = {\n   bundleType: 0,\n-  version: \"19.3.0-experimental-dd048c3b-20251105\",\n+  version: \"19.3.0-experimental-fa50caf5-20251107\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\"\n+  reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2938 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -20223,4 +20224,4 @@ exports.observeVisibleRects = function (\n     }\n   };\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "edad657bdc2a73b8be3ef6daad3ffc1d0d627a56",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -416,7 +416,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "e5a19bf73d0facbfe23184deedde491d374cf947",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -207,4 +207,4 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "45eb664631afe3176415d9ad83a9fefc56dfef2a",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -336,5 +336,5 @@\n             }))\n           : Internals.d.m(href));\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "4d38675f3d1d9b8cdaea5849bc47881f75b1c8c0",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom.react-server.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -149,4 +149,4 @@ exports.preloadModule = function (href, options) {\n       });\n     } else Internals.d.m(href);\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "cf8c7daebefe8861a95648130e9b9de7adce013f",
            "filename": "packages/next/src/compiled/react-dom-experimental/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -72,10 +72,10 @@\n     \"./package.json\": \"./package.json\"\n   },\n   \"dependencies\": {\n-    \"scheduler\": \"0.0.0-experimental-dd048c3b-20251105\"\n+    \"scheduler\": \"0.0.0-experimental-fa50caf5-20251107\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"0.0.0-experimental-dd048c3b-20251105\"\n+    \"react\": \"0.0.0-experimental-fa50caf5-20251107\"\n   },\n   \"browser\": {\n     \"./server.js\": \"./server.browser.js\","
        },
        {
            "sha": "3494c38064e22918109f883aec4dd16410ceb76e",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-client.development.js",
            "status": "modified",
            "additions": 21,
            "deletions": 24,
            "changes": 45,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1439,8 +1439,8 @@\n       delete node[internalEventHandlesSetKey];\n     }\n     function getClosestInstanceFromNode(targetNode) {\n-      var targetInst = targetNode[internalInstanceKey];\n-      if (targetInst) return targetInst;\n+      var targetInst;\n+      if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n       for (var parentNode = targetNode.parentNode; parentNode; ) {\n         if (\n           (targetInst =\n@@ -14385,7 +14385,7 @@\n     function commitAppearingPairViewTransitions(placement) {\n       if (0 !== (placement.subtreeFlags & 18874368))\n         for (placement = placement.child; null !== placement; ) {\n-          if (22 !== placement.tag || null !== placement.memoizedState)\n+          if (22 !== placement.tag || null === placement.memoizedState)\n             if (\n               (commitAppearingPairViewTransitions(placement),\n               30 === placement.tag &&\n@@ -14449,7 +14449,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -14548,7 +14548,7 @@\n     function restorePairedViewTransitions(parent) {\n       if (0 !== (parent.subtreeFlags & 18874368))\n         for (parent = parent.child; null !== parent; ) {\n-          if (22 !== parent.tag || null !== parent.memoizedState) {\n+          if (22 !== parent.tag || null === parent.memoizedState) {\n             if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n               var instance = parent.stateNode;\n               null !== instance.paired &&\n@@ -23764,27 +23764,24 @@\n       }\n     }\n     function applyViewTransitionName(instance, name, className) {\n+      name =\n+        CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n       instance.style.viewTransitionName = name;\n       null != className && (instance.style.viewTransitionClass = className);\n-      name = getComputedStyle(instance);\n-      if (\"inline\" === name.display) {\n-        className = instance.getClientRects();\n-        if (1 === className.length) var JSCompiler_inline_result = 1;\n+      className = getComputedStyle(instance);\n+      if (\"inline\" === className.display) {\n+        name = instance.getClientRects();\n+        if (1 === name.length) var JSCompiler_inline_result = 1;\n         else\n-          for (\n-            var i = (JSCompiler_inline_result = 0);\n-            i < className.length;\n-            i++\n-          ) {\n-            var rect = className[i];\n+          for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+            var rect = name[i];\n             0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n           }\n         1 === JSCompiler_inline_result\n           ? ((instance = instance.style),\n-            (instance.display =\n-              1 === className.length ? \"inline-block\" : \"block\"),\n-            (instance.marginTop = \"-\" + name.paddingTop),\n-            (instance.marginBottom = \"-\" + name.paddingBottom))\n+            (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+            (instance.marginTop = \"-\" + className.paddingTop),\n+            (instance.marginBottom = \"-\" + className.paddingBottom))\n           : warnForBlockInsideInline(instance);\n       }\n     }\n@@ -30379,11 +30376,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -30420,10 +30417,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.3.0-canary-dd048c3b-20251105\",\n+          version: \"19.3.0-canary-fa50caf5-20251107\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.3.0-canary-dd048c3b-20251105\"\n+          reconcilerVersion: \"19.3.0-canary-fa50caf5-20251107\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -30561,7 +30558,7 @@\n       listenToAllSupportedEvents(container);\n       return new ReactDOMHydrationRoot(initialChildren);\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "6d38c7397303fc08c5db03577b86a80973e358a8",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-client.production.js",
            "status": "modified",
            "additions": 20,
            "deletions": 19,
            "changes": 39,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-client.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -960,8 +960,8 @@ function detachDeletedInstance(node) {\n   delete node[internalEventHandlesSetKey];\n }\n function getClosestInstanceFromNode(targetNode) {\n-  var targetInst = targetNode[internalInstanceKey];\n-  if (targetInst) return targetInst;\n+  var targetInst;\n+  if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n   for (var parentNode = targetNode.parentNode; parentNode; ) {\n     if (\n       (targetInst =\n@@ -9308,7 +9308,7 @@ function restoreViewTransitionOnHostInstances(\n function commitAppearingPairViewTransitions(placement) {\n   if (0 !== (placement.subtreeFlags & 18874368))\n     for (placement = placement.child; null !== placement; ) {\n-      if (22 !== placement.tag || null !== placement.memoizedState)\n+      if (22 !== placement.tag || null === placement.memoizedState)\n         if (\n           (commitAppearingPairViewTransitions(placement),\n           30 === placement.tag &&\n@@ -9364,7 +9364,7 @@ function commitDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -9454,7 +9454,7 @@ function commitNestedViewTransitions(changedParent) {\n function restorePairedViewTransitions(parent) {\n   if (0 !== (parent.subtreeFlags & 18874368))\n     for (parent = parent.child; null !== parent; ) {\n-      if (22 !== parent.tag || null !== parent.memoizedState) {\n+      if (22 !== parent.tag || null === parent.memoizedState) {\n         if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n           var instance = parent.stateNode;\n           null !== instance.paired &&\n@@ -15305,22 +15305,23 @@ function hideOrUnhideDehydratedBoundary(suspenseInstance, isHidden) {\n   } while (node);\n }\n function applyViewTransitionName(instance, name, className) {\n+  name = CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n   instance.style.viewTransitionName = name;\n   null != className && (instance.style.viewTransitionClass = className);\n-  name = getComputedStyle(instance);\n-  if (\"inline\" === name.display) {\n-    className = instance.getClientRects();\n-    if (1 === className.length) var JSCompiler_inline_result = 1;\n+  className = getComputedStyle(instance);\n+  if (\"inline\" === className.display) {\n+    name = instance.getClientRects();\n+    if (1 === name.length) var JSCompiler_inline_result = 1;\n     else\n-      for (var i = (JSCompiler_inline_result = 0); i < className.length; i++) {\n-        var rect = className[i];\n+      for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+        var rect = name[i];\n         0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n       }\n     1 === JSCompiler_inline_result &&\n       ((instance = instance.style),\n-      (instance.display = 1 === className.length ? \"inline-block\" : \"block\"),\n-      (instance.marginTop = \"-\" + name.paddingTop),\n-      (instance.marginBottom = \"-\" + name.paddingBottom));\n+      (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+      (instance.marginTop = \"-\" + className.paddingTop),\n+      (instance.marginBottom = \"-\" + className.paddingBottom));\n   }\n }\n function restoreViewTransitionName(instance, props) {\n@@ -17989,14 +17990,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2032 = React.version;\n if (\n-  \"19.3.0-canary-dd048c3b-20251105\" !==\n+  \"19.3.0-canary-fa50caf5-20251107\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2032\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2032,\n-      \"19.3.0-canary-dd048c3b-20251105\"\n+      \"19.3.0-canary-fa50caf5-20251107\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -18018,10 +18019,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2617 = {\n   bundleType: 0,\n-  version: \"19.3.0-canary-dd048c3b-20251105\",\n+  version: \"19.3.0-canary-fa50caf5-20251107\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.3.0-canary-dd048c3b-20251105\"\n+  reconcilerVersion: \"19.3.0-canary-fa50caf5-20251107\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2618 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -18119,4 +18120,4 @@ exports.hydrateRoot = function (container, initialChildren, options) {\n   listenToAllSupportedEvents(container);\n   return new ReactDOMHydrationRoot(initialChildren);\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "4e408429a315f43ea4dd8f62e083deafeeea66a2",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-profiling.development.js",
            "status": "modified",
            "additions": 21,
            "deletions": 24,
            "changes": 45,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1447,8 +1447,8 @@\n       delete node[internalEventHandlesSetKey];\n     }\n     function getClosestInstanceFromNode(targetNode) {\n-      var targetInst = targetNode[internalInstanceKey];\n-      if (targetInst) return targetInst;\n+      var targetInst;\n+      if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n       for (var parentNode = targetNode.parentNode; parentNode; ) {\n         if (\n           (targetInst =\n@@ -14393,7 +14393,7 @@\n     function commitAppearingPairViewTransitions(placement) {\n       if (0 !== (placement.subtreeFlags & 18874368))\n         for (placement = placement.child; null !== placement; ) {\n-          if (22 !== placement.tag || null !== placement.memoizedState)\n+          if (22 !== placement.tag || null === placement.memoizedState)\n             if (\n               (commitAppearingPairViewTransitions(placement),\n               30 === placement.tag &&\n@@ -14457,7 +14457,7 @@\n         var pairs = appearingViewTransitions;\n         if (0 !== (deletion.subtreeFlags & 18874368))\n           for (deletion = deletion.child; null !== deletion; ) {\n-            if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+            if (22 !== deletion.tag || null === deletion.memoizedState) {\n               if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n                 var props = deletion.memoizedProps,\n                   name = props.name;\n@@ -14556,7 +14556,7 @@\n     function restorePairedViewTransitions(parent) {\n       if (0 !== (parent.subtreeFlags & 18874368))\n         for (parent = parent.child; null !== parent; ) {\n-          if (22 !== parent.tag || null !== parent.memoizedState) {\n+          if (22 !== parent.tag || null === parent.memoizedState) {\n             if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n               var instance = parent.stateNode;\n               null !== instance.paired &&\n@@ -23772,27 +23772,24 @@\n       }\n     }\n     function applyViewTransitionName(instance, name, className) {\n+      name =\n+        CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n       instance.style.viewTransitionName = name;\n       null != className && (instance.style.viewTransitionClass = className);\n-      name = getComputedStyle(instance);\n-      if (\"inline\" === name.display) {\n-        className = instance.getClientRects();\n-        if (1 === className.length) var JSCompiler_inline_result = 1;\n+      className = getComputedStyle(instance);\n+      if (\"inline\" === className.display) {\n+        name = instance.getClientRects();\n+        if (1 === name.length) var JSCompiler_inline_result = 1;\n         else\n-          for (\n-            var i = (JSCompiler_inline_result = 0);\n-            i < className.length;\n-            i++\n-          ) {\n-            var rect = className[i];\n+          for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+            var rect = name[i];\n             0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n           }\n         1 === JSCompiler_inline_result\n           ? ((instance = instance.style),\n-            (instance.display =\n-              1 === className.length ? \"inline-block\" : \"block\"),\n-            (instance.marginTop = \"-\" + name.paddingTop),\n-            (instance.marginBottom = \"-\" + name.paddingBottom))\n+            (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+            (instance.marginTop = \"-\" + className.paddingTop),\n+            (instance.marginBottom = \"-\" + className.paddingBottom))\n           : warnForBlockInsideInline(instance);\n       }\n     }\n@@ -30431,11 +30428,11 @@\n     };\n     (function () {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     })();\n     (\"function\" === typeof Map &&\n@@ -30472,10 +30469,10 @@\n       !(function () {\n         var internals = {\n           bundleType: 1,\n-          version: \"19.3.0-canary-dd048c3b-20251105\",\n+          version: \"19.3.0-canary-fa50caf5-20251107\",\n           rendererPackageName: \"react-dom\",\n           currentDispatcherRef: ReactSharedInternals,\n-          reconcilerVersion: \"19.3.0-canary-dd048c3b-20251105\"\n+          reconcilerVersion: \"19.3.0-canary-fa50caf5-20251107\"\n         };\n         internals.overrideHookState = overrideHookState;\n         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;\n@@ -30943,7 +30940,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "dbe5c6ec080884e2996cd1e97ecfdda6b7fb71c0",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-profiling.profiling.js",
            "status": "modified",
            "additions": 20,
            "deletions": 19,
            "changes": 39,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.profiling.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.profiling.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-profiling.profiling.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1055,8 +1055,8 @@ function detachDeletedInstance(node) {\n   delete node[internalEventHandlesSetKey];\n }\n function getClosestInstanceFromNode(targetNode) {\n-  var targetInst = targetNode[internalInstanceKey];\n-  if (targetInst) return targetInst;\n+  var targetInst;\n+  if ((targetInst = targetNode[internalInstanceKey])) return targetInst;\n   for (var parentNode = targetNode.parentNode; parentNode; ) {\n     if (\n       (targetInst =\n@@ -10021,7 +10021,7 @@ function restoreViewTransitionOnHostInstances(\n function commitAppearingPairViewTransitions(placement) {\n   if (0 !== (placement.subtreeFlags & 18874368))\n     for (placement = placement.child; null !== placement; ) {\n-      if (22 !== placement.tag || null !== placement.memoizedState)\n+      if (22 !== placement.tag || null === placement.memoizedState)\n         if (\n           (commitAppearingPairViewTransitions(placement),\n           30 === placement.tag &&\n@@ -10077,7 +10077,7 @@ function commitDeletedPairViewTransitions(deletion) {\n     var pairs = appearingViewTransitions;\n     if (0 !== (deletion.subtreeFlags & 18874368))\n       for (deletion = deletion.child; null !== deletion; ) {\n-        if (22 !== deletion.tag || null !== deletion.memoizedState) {\n+        if (22 !== deletion.tag || null === deletion.memoizedState) {\n           if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {\n             var props = deletion.memoizedProps,\n               name = props.name;\n@@ -10167,7 +10167,7 @@ function commitNestedViewTransitions(changedParent) {\n function restorePairedViewTransitions(parent) {\n   if (0 !== (parent.subtreeFlags & 18874368))\n     for (parent = parent.child; null !== parent; ) {\n-      if (22 !== parent.tag || null !== parent.memoizedState) {\n+      if (22 !== parent.tag || null === parent.memoizedState) {\n         if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {\n           var instance = parent.stateNode;\n           null !== instance.paired &&\n@@ -17191,22 +17191,23 @@ function hideOrUnhideDehydratedBoundary(suspenseInstance, isHidden) {\n   } while (node);\n }\n function applyViewTransitionName(instance, name, className) {\n+  name = CSS.escape(name) !== name ? \"r-\" + btoa(name).replace(/=/g, \"\") : name;\n   instance.style.viewTransitionName = name;\n   null != className && (instance.style.viewTransitionClass = className);\n-  name = getComputedStyle(instance);\n-  if (\"inline\" === name.display) {\n-    className = instance.getClientRects();\n-    if (1 === className.length) var JSCompiler_inline_result = 1;\n+  className = getComputedStyle(instance);\n+  if (\"inline\" === className.display) {\n+    name = instance.getClientRects();\n+    if (1 === name.length) var JSCompiler_inline_result = 1;\n     else\n-      for (var i = (JSCompiler_inline_result = 0); i < className.length; i++) {\n-        var rect = className[i];\n+      for (var i = (JSCompiler_inline_result = 0); i < name.length; i++) {\n+        var rect = name[i];\n         0 < rect.width && 0 < rect.height && JSCompiler_inline_result++;\n       }\n     1 === JSCompiler_inline_result &&\n       ((instance = instance.style),\n-      (instance.display = 1 === className.length ? \"inline-block\" : \"block\"),\n-      (instance.marginTop = \"-\" + name.paddingTop),\n-      (instance.marginBottom = \"-\" + name.paddingBottom));\n+      (instance.display = 1 === name.length ? \"inline-block\" : \"block\"),\n+      (instance.marginTop = \"-\" + className.paddingTop),\n+      (instance.marginBottom = \"-\" + className.paddingBottom));\n   }\n }\n function restoreViewTransitionName(instance, props) {\n@@ -19911,14 +19912,14 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n };\n var isomorphicReactPackageVersion$jscomp$inline_2329 = React.version;\n if (\n-  \"19.3.0-canary-dd048c3b-20251105\" !==\n+  \"19.3.0-canary-fa50caf5-20251107\" !==\n   isomorphicReactPackageVersion$jscomp$inline_2329\n )\n   throw Error(\n     formatProdErrorMessage(\n       527,\n       isomorphicReactPackageVersion$jscomp$inline_2329,\n-      \"19.3.0-canary-dd048c3b-20251105\"\n+      \"19.3.0-canary-fa50caf5-20251107\"\n     )\n   );\n ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n@@ -19940,10 +19941,10 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n };\n var internals$jscomp$inline_2927 = {\n   bundleType: 0,\n-  version: \"19.3.0-canary-dd048c3b-20251105\",\n+  version: \"19.3.0-canary-fa50caf5-20251107\",\n   rendererPackageName: \"react-dom\",\n   currentDispatcherRef: ReactSharedInternals,\n-  reconcilerVersion: \"19.3.0-canary-dd048c3b-20251105\"\n+  reconcilerVersion: \"19.3.0-canary-fa50caf5-20251107\"\n };\n if (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n   var hook$jscomp$inline_2928 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n@@ -20202,7 +20203,7 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n   \"function\" ===\n     typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "68e948a8055107f46f3ce150db2369a8060d088c",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.browser.development.js",
            "status": "modified",
            "additions": 69,
            "deletions": 47,
            "changes": 116,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4445,7 +4445,8 @@\n     }\n     function isEligibleForOutlining(request, boundary) {\n       return (\n-        (500 < boundary.byteSize || !1) && null === boundary.contentPreamble\n+        (500 < boundary.byteSize || boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4580,8 +4581,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4591,25 +4592,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5897,10 +5897,8 @@\n                 task.row,\n                 fallbackAbortSet,\n                 null,\n-                null\n+                !1\n               );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -5920,26 +5918,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -5978,7 +5985,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -5997,7 +6006,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6076,7 +6088,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6343,7 +6357,7 @@\n                 task.row,\n                 fallbackAbortSet,\n                 null,\n-                null\n+                !1\n               );\n               props.parentFlushed = !0;\n               props.rootSegmentID = request;\n@@ -6781,13 +6795,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -6796,14 +6815,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -6824,7 +6843,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -6880,11 +6900,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7100,7 +7122,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7383,7 +7405,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -7655,7 +7677,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -7713,12 +7735,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -7735,7 +7756,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -7878,7 +7899,8 @@\n       if (\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n-        flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+        (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+          boundary.defer)\n       )\n         return (\n           (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -9697,7 +9719,7 @@\n       completeBoundaryScriptFunctionOnly =\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};',\n       completeBoundaryUpgradeToViewTransitionsInstruction =\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);',\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);',\n       completeBoundaryScript1Partial = '$RC(\"',\n       completeBoundaryWithStylesScript1FullPartial =\n         '$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),v=[],k=0;b=e[k++];)\"not all\"===b.getAttribute(\"media\")?v.push(b):(\"LINK\"===b.tagName&&$RM.set(b.getAttribute(\"href\"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement(\"link\");a.href=d;a.rel=\\n\"stylesheet\";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute(\"media\");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute(\"data-precedence\");a.removeAttribute(\"media\")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\\n\"$~\";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,\"CSS failed to load\"))};$RR(\"',\n@@ -10004,5 +10026,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "559c2abc634fa726a46629702150662f2fa4bf7f",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.browser.production.js",
            "status": "modified",
            "additions": 88,
            "deletions": 68,
            "changes": 156,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.browser.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2794,16 +2794,16 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       \"\\x3c/script>\"\n     ));\n   bootstrapScriptContent = idPrefix + \"P:\";\n-  var JSCompiler_object_inline_segmentPrefix_1689 = idPrefix + \"S:\";\n+  var JSCompiler_object_inline_segmentPrefix_1690 = idPrefix + \"S:\";\n   idPrefix += \"B:\";\n-  var JSCompiler_object_inline_preconnects_1703 = new Set(),\n-    JSCompiler_object_inline_fontPreloads_1704 = new Set(),\n-    JSCompiler_object_inline_highImagePreloads_1705 = new Set(),\n-    JSCompiler_object_inline_styles_1706 = new Map(),\n-    JSCompiler_object_inline_bootstrapScripts_1707 = new Set(),\n-    JSCompiler_object_inline_scripts_1708 = new Set(),\n-    JSCompiler_object_inline_bulkPreloads_1709 = new Set(),\n-    JSCompiler_object_inline_preloads_1710 = {\n+  var JSCompiler_object_inline_preconnects_1704 = new Set(),\n+    JSCompiler_object_inline_fontPreloads_1705 = new Set(),\n+    JSCompiler_object_inline_highImagePreloads_1706 = new Set(),\n+    JSCompiler_object_inline_styles_1707 = new Map(),\n+    JSCompiler_object_inline_bootstrapScripts_1708 = new Set(),\n+    JSCompiler_object_inline_scripts_1709 = new Set(),\n+    JSCompiler_object_inline_bulkPreloads_1710 = new Set(),\n+    JSCompiler_object_inline_preloads_1711 = {\n       images: new Map(),\n       stylesheets: new Map(),\n       scripts: new Map(),\n@@ -2840,7 +2840,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       scriptConfig.moduleScriptResources[href] = null;\n       scriptConfig = [];\n       pushLinkImpl(scriptConfig, props);\n-      JSCompiler_object_inline_bootstrapScripts_1707.add(scriptConfig);\n+      JSCompiler_object_inline_bootstrapScripts_1708.add(scriptConfig);\n       bootstrapChunks.push('<script src=\"', escapeTextForBrowser(src), '\"');\n       \"string\" === typeof integrity &&\n         bootstrapChunks.push(\n@@ -2887,7 +2887,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         (props.moduleScriptResources[scriptConfig] = null),\n         (props = []),\n         pushLinkImpl(props, integrity),\n-        JSCompiler_object_inline_bootstrapScripts_1707.add(props),\n+        JSCompiler_object_inline_bootstrapScripts_1708.add(props),\n         bootstrapChunks.push(\n           '<script type=\"module\" src=\"',\n           escapeTextForBrowser(i),\n@@ -2909,7 +2909,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         bootstrapChunks.push(' async=\"\">\\x3c/script>');\n   return {\n     placeholderPrefix: bootstrapScriptContent,\n-    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1689,\n+    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1690,\n     boundaryPrefix: idPrefix,\n     startInlineScript: \"<script\",\n     startInlineStyle: \"<style\",\n@@ -2929,14 +2929,14 @@ function createRenderState(resumableState, generateStaticMarkup) {\n     charsetChunks: [],\n     viewportChunks: [],\n     hoistableChunks: [],\n-    preconnects: JSCompiler_object_inline_preconnects_1703,\n-    fontPreloads: JSCompiler_object_inline_fontPreloads_1704,\n-    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1705,\n-    styles: JSCompiler_object_inline_styles_1706,\n-    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1707,\n-    scripts: JSCompiler_object_inline_scripts_1708,\n-    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1709,\n-    preloads: JSCompiler_object_inline_preloads_1710,\n+    preconnects: JSCompiler_object_inline_preconnects_1704,\n+    fontPreloads: JSCompiler_object_inline_fontPreloads_1705,\n+    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1706,\n+    styles: JSCompiler_object_inline_styles_1707,\n+    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1708,\n+    scripts: JSCompiler_object_inline_scripts_1709,\n+    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1710,\n+    preloads: JSCompiler_object_inline_preloads_1711,\n     nonce: { script: void 0, style: void 0 },\n     stylesToHoist: !1,\n     generateStaticMarkup: generateStaticMarkup\n@@ -3695,7 +3695,9 @@ function describeComponentStackByType(type) {\n   return \"\";\n }\n function isEligibleForOutlining(request, boundary) {\n-  return (500 < boundary.byteSize || !1) && null === boundary.contentPreamble;\n+  return (\n+    (500 < boundary.byteSize || boundary.defer) && null === boundary.preamble\n+  );\n }\n function defaultErrorHandler(error) {\n   if (\n@@ -3823,8 +3825,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -3834,22 +3836,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -4636,10 +4637,8 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             task.row,\n             fallbackAbortSet,\n             null,\n-            null\n+            !1\n           );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -4659,22 +4658,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -4712,7 +4720,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -4729,7 +4739,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -4794,7 +4807,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5031,7 +5046,7 @@ function retryNode(request, task) {\n                         task.row,\n                         fallbackAbortSet,\n                         null,\n-                        null\n+                        !1\n                       );\n                       props.parentFlushed = !0;\n                       props.rootSegmentID = replay;\n@@ -5257,10 +5272,12 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked) throw Error(formatProdErrorMessage(486));\n+  request = tracked.contentKeyPath;\n   if (null === request) throw Error(formatProdErrorMessage(486));\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5269,14 +5286,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5297,7 +5314,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5349,11 +5367,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -5548,7 +5568,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -5774,7 +5794,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -5991,7 +6011,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6043,12 +6063,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment) throw Error(formatProdErrorMessage(391));\n@@ -6062,7 +6081,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6175,7 +6194,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n   if (\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n-    flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+    (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+      boundary.defer)\n   )\n     return (\n       (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -6263,7 +6283,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         0 === (completedSegments.instructions & 256) &&\n         ((completedSegments.instructions |= 256),\n         destination.push(\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       0 === (completedSegments.instructions & 8)\n         ? ((completedSegments.instructions |= 8),\n@@ -6280,7 +6300,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         0 === (completedSegments.instructions & 256) &&\n         ((completedSegments.instructions |= 256),\n         destination.push(\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       destination.push('$RC(\"'));\n   completedSegments = i.toString(16);\n@@ -6733,4 +6753,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToReadableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "bc5974e264cde1764ae6eb9dc42b58159ff42803",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.node.development.js",
            "status": "modified",
            "additions": 69,
            "deletions": 47,
            "changes": 116,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4445,7 +4445,8 @@\n     }\n     function isEligibleForOutlining(request, boundary) {\n       return (\n-        (500 < boundary.byteSize || !1) && null === boundary.contentPreamble\n+        (500 < boundary.byteSize || boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4580,8 +4581,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4591,25 +4592,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5897,10 +5897,8 @@\n                 task.row,\n                 fallbackAbortSet,\n                 null,\n-                null\n+                !1\n               );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -5920,26 +5918,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -5978,7 +5985,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -5997,7 +6006,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6076,7 +6088,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6343,7 +6357,7 @@\n                 task.row,\n                 fallbackAbortSet,\n                 null,\n-                null\n+                !1\n               );\n               props.parentFlushed = !0;\n               props.rootSegmentID = request;\n@@ -6781,13 +6795,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -6796,14 +6815,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -6824,7 +6843,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -6880,11 +6900,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7100,7 +7122,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7383,7 +7405,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -7655,7 +7677,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -7713,12 +7735,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -7735,7 +7756,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -7878,7 +7899,8 @@\n       if (\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n-        flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+        (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+          boundary.defer)\n       )\n         return (\n           (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -9697,7 +9719,7 @@\n       completeBoundaryScriptFunctionOnly =\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};',\n       completeBoundaryUpgradeToViewTransitionsInstruction =\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);',\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);',\n       completeBoundaryScript1Partial = '$RC(\"',\n       completeBoundaryWithStylesScript1FullPartial =\n         '$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),v=[],k=0;b=e[k++];)\"not all\"===b.getAttribute(\"media\")?v.push(b):(\"LINK\"===b.tagName&&$RM.set(b.getAttribute(\"href\"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement(\"link\");a.href=d;a.rel=\\n\"stylesheet\";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute(\"media\");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute(\"data-precedence\");a.removeAttribute(\"media\")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\\n\"$~\";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,\"CSS failed to load\"))};$RR(\"',\n@@ -10004,5 +10026,5 @@\n         'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n       );\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "b4f809fc7c36c8832c51ca6a49fceba539996f77",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server-legacy.node.production.js",
            "status": "modified",
            "additions": 91,
            "deletions": 68,
            "changes": 159,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server-legacy.node.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2813,16 +2813,16 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       \"\\x3c/script>\"\n     ));\n   bootstrapScriptContent = idPrefix + \"P:\";\n-  var JSCompiler_object_inline_segmentPrefix_1689 = idPrefix + \"S:\";\n+  var JSCompiler_object_inline_segmentPrefix_1690 = idPrefix + \"S:\";\n   idPrefix += \"B:\";\n-  var JSCompiler_object_inline_preconnects_1703 = new Set(),\n-    JSCompiler_object_inline_fontPreloads_1704 = new Set(),\n-    JSCompiler_object_inline_highImagePreloads_1705 = new Set(),\n-    JSCompiler_object_inline_styles_1706 = new Map(),\n-    JSCompiler_object_inline_bootstrapScripts_1707 = new Set(),\n-    JSCompiler_object_inline_scripts_1708 = new Set(),\n-    JSCompiler_object_inline_bulkPreloads_1709 = new Set(),\n-    JSCompiler_object_inline_preloads_1710 = {\n+  var JSCompiler_object_inline_preconnects_1704 = new Set(),\n+    JSCompiler_object_inline_fontPreloads_1705 = new Set(),\n+    JSCompiler_object_inline_highImagePreloads_1706 = new Set(),\n+    JSCompiler_object_inline_styles_1707 = new Map(),\n+    JSCompiler_object_inline_bootstrapScripts_1708 = new Set(),\n+    JSCompiler_object_inline_scripts_1709 = new Set(),\n+    JSCompiler_object_inline_bulkPreloads_1710 = new Set(),\n+    JSCompiler_object_inline_preloads_1711 = {\n       images: new Map(),\n       stylesheets: new Map(),\n       scripts: new Map(),\n@@ -2859,7 +2859,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n       scriptConfig.moduleScriptResources[href] = null;\n       scriptConfig = [];\n       pushLinkImpl(scriptConfig, props);\n-      JSCompiler_object_inline_bootstrapScripts_1707.add(scriptConfig);\n+      JSCompiler_object_inline_bootstrapScripts_1708.add(scriptConfig);\n       bootstrapChunks.push('<script src=\"', escapeTextForBrowser(src), '\"');\n       \"string\" === typeof integrity &&\n         bootstrapChunks.push(\n@@ -2906,7 +2906,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         (props.moduleScriptResources[scriptConfig] = null),\n         (props = []),\n         pushLinkImpl(props, integrity),\n-        JSCompiler_object_inline_bootstrapScripts_1707.add(props),\n+        JSCompiler_object_inline_bootstrapScripts_1708.add(props),\n         bootstrapChunks.push(\n           '<script type=\"module\" src=\"',\n           escapeTextForBrowser(i),\n@@ -2928,7 +2928,7 @@ function createRenderState(resumableState, generateStaticMarkup) {\n         bootstrapChunks.push(' async=\"\">\\x3c/script>');\n   return {\n     placeholderPrefix: bootstrapScriptContent,\n-    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1689,\n+    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1690,\n     boundaryPrefix: idPrefix,\n     startInlineScript: \"<script\",\n     startInlineStyle: \"<style\",\n@@ -2948,14 +2948,14 @@ function createRenderState(resumableState, generateStaticMarkup) {\n     charsetChunks: [],\n     viewportChunks: [],\n     hoistableChunks: [],\n-    preconnects: JSCompiler_object_inline_preconnects_1703,\n-    fontPreloads: JSCompiler_object_inline_fontPreloads_1704,\n-    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1705,\n-    styles: JSCompiler_object_inline_styles_1706,\n-    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1707,\n-    scripts: JSCompiler_object_inline_scripts_1708,\n-    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1709,\n-    preloads: JSCompiler_object_inline_preloads_1710,\n+    preconnects: JSCompiler_object_inline_preconnects_1704,\n+    fontPreloads: JSCompiler_object_inline_fontPreloads_1705,\n+    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1706,\n+    styles: JSCompiler_object_inline_styles_1707,\n+    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1708,\n+    scripts: JSCompiler_object_inline_scripts_1709,\n+    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1710,\n+    preloads: JSCompiler_object_inline_preloads_1711,\n     nonce: { script: void 0, style: void 0 },\n     stylesToHoist: !1,\n     generateStaticMarkup: generateStaticMarkup\n@@ -3744,7 +3744,9 @@ function describeComponentStackByType(type) {\n   return \"\";\n }\n function isEligibleForOutlining(request, boundary) {\n-  return (500 < boundary.byteSize || !1) && null === boundary.contentPreamble;\n+  return (\n+    (500 < boundary.byteSize || boundary.defer) && null === boundary.preamble\n+  );\n }\n function defaultErrorHandler(error) {\n   if (\n@@ -3872,8 +3874,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -3883,22 +3885,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -4685,10 +4686,8 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             task.row,\n             fallbackAbortSet,\n             null,\n-            null\n+            !1\n           );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -4708,22 +4707,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -4761,7 +4769,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -4778,7 +4788,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -4843,7 +4856,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5088,7 +5103,7 @@ function retryNode(request, task) {\n                         task.row,\n                         fallbackAbortSet,\n                         null,\n-                        null\n+                        !1\n                       );\n                       props.parentFlushed = !0;\n                       props.rootSegmentID = replay;\n@@ -5319,13 +5334,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5334,14 +5354,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5362,7 +5382,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5418,11 +5439,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -5617,7 +5640,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -5848,7 +5871,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6067,7 +6090,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6119,12 +6142,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6141,7 +6163,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6256,7 +6278,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n   if (\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n-    flushedByteSize + boundary.byteSize > request.progressiveChunkSize\n+    (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n+      boundary.defer)\n   )\n     return (\n       (boundary.rootSegmentID = request.nextSegmentId++),\n@@ -6347,7 +6370,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         0 === (completedSegments.instructions & 256) &&\n         ((completedSegments.instructions |= 256),\n         destination.push(\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       0 === (completedSegments.instructions & 8)\n         ? ((completedSegments.instructions |= 8),\n@@ -6364,7 +6387,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         0 === (completedSegments.instructions & 256) &&\n         ((completedSegments.instructions |= 256),\n         destination.push(\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       destination.push('$RC(\"'));\n   completedSegments = i.toString(16);\n@@ -6822,4 +6845,4 @@ exports.renderToString = function (children, options) {\n     'The server used \"renderToString\" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to \"renderToPipeableStream\" which supports Suspense on the server'\n   );\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "a0f6ce1910324340fa83d4535cd7c288adf1078b",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.browser.development.js",
            "status": "modified",
            "additions": 82,
            "deletions": 54,
            "changes": 136,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4628,8 +4628,9 @@\n     function isEligibleForOutlining(request, boundary) {\n       return (\n         (500 < boundary.byteSize ||\n-          hasSuspenseyContent(boundary.contentState)) &&\n-        null === boundary.contentPreamble\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4919,8 +4920,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4930,25 +4931,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6282,18 +6282,19 @@\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      !1\n                     )\n                   : createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      !1\n                     );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6313,26 +6314,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6369,7 +6379,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6388,7 +6400,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6465,7 +6480,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6734,15 +6751,18 @@\n                       replay,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      !1\n                     )\n                   : createSuspenseBoundary(\n                       replay,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      !1\n                     );\n               props.parentFlushed = !0;\n               props.rootSegmentID = request;\n@@ -7180,13 +7200,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7195,14 +7220,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7223,7 +7248,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7279,11 +7305,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7499,7 +7527,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7792,7 +7820,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -8066,7 +8094,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -8124,12 +8152,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8146,7 +8173,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8290,7 +8317,8 @@\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n         (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-          hasSuspenseyContent(boundary.contentState))\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer)\n       )\n         (boundary.rootSegmentID = request.nextSegmentId++),\n           request.completedBoundaries.push(boundary),\n@@ -8979,11 +9007,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react\"),\n@@ -10227,7 +10255,7 @@\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n       ),\n       completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n       ),\n       completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n       completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -10785,5 +10813,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "6f13cb5cb42df7a76b37e89833ad10db91daf4c2",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.browser.production.js",
            "status": "modified",
            "additions": 80,
            "deletions": 54,
            "changes": 134,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.browser.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2613,7 +2613,7 @@ var completeBoundaryScriptFunctionOnly = stringToPrecomputedChunk(\n     '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n   ),\n   completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n   ),\n   completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n   completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -4099,8 +4099,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4382,8 +4384,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4393,22 +4395,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5241,18 +5242,19 @@ function renderElement(request, task, keyPath, type, props, ref) {\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  !1\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  !1\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5272,22 +5274,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5323,7 +5334,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5340,7 +5353,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5403,7 +5419,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5642,15 +5660,18 @@ function retryNode(request, task) {\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              !1\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n                               null,\n-                              null\n+                              !1\n                             );\n                       props.parentFlushed = !0;\n                       props.rootSegmentID = replay;\n@@ -5876,10 +5897,12 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked) throw Error(formatProdErrorMessage(486));\n+  request = tracked.contentKeyPath;\n   if (null === request) throw Error(formatProdErrorMessage(486));\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5888,14 +5911,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5916,7 +5939,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5968,11 +5992,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6167,7 +6193,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6403,7 +6429,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6618,7 +6644,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6670,12 +6696,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment) throw Error(formatProdErrorMessage(391));\n@@ -6689,7 +6714,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6796,7 +6821,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -7343,12 +7369,12 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       formatProdErrorMessage(\n         527,\n         isomorphicReactPackageVersion,\n-        \"19.3.0-canary-dd048c3b-20251105\"\n+        \"19.3.0-canary-fa50caf5-20251107\"\n       )\n     );\n }\n@@ -7599,4 +7625,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "e3d2e4b710147e48f9de48d36de650426a64ea7e",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.bun.production.js",
            "status": "modified",
            "additions": 84,
            "deletions": 55,
            "changes": 139,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.bun.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.bun.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.bun.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -3750,8 +3750,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4033,8 +4035,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4044,22 +4046,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -4898,18 +4899,19 @@ function renderElement(request, task, keyPath, type, props, ref) {\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  !1\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  !1\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -4929,22 +4931,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -4983,7 +4994,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5000,7 +5013,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5066,7 +5082,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5313,15 +5331,18 @@ function retryNode(request, task) {\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              !1\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n                               null,\n-                              null\n+                              !1\n                             );\n                       props.parentFlushed = !0;\n                       props.rootSegmentID = replay;\n@@ -5552,13 +5573,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5567,14 +5593,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5595,7 +5621,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5651,11 +5678,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -5850,7 +5879,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6091,7 +6120,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6311,7 +6340,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6363,12 +6392,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6385,7 +6413,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6490,7 +6518,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -6579,7 +6608,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         ((completedSegments.instructions |= 256),\n         writeChunk(\n           destination,\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       0 === (completedSegments.instructions & 8)\n         ? ((completedSegments.instructions |= 8),\n@@ -6599,7 +6628,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         ((completedSegments.instructions |= 256),\n         writeChunk(\n           destination,\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       writeChunk(destination, '$RC(\"'));\n   completedSegments = i.toString(16);\n@@ -7048,11 +7077,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -7597,4 +7626,4 @@ exports.resumeToPipeableStream = function (children, postponedState, options) {\n     }\n   };\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "8de6308be9be96bb285be23b1648798d1a733cf5",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.edge.development.js",
            "status": "modified",
            "additions": 82,
            "deletions": 54,
            "changes": 136,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4630,8 +4630,9 @@\n     function isEligibleForOutlining(request, boundary) {\n       return (\n         (500 < boundary.byteSize ||\n-          hasSuspenseyContent(boundary.contentState)) &&\n-        null === boundary.contentPreamble\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4929,8 +4930,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4940,25 +4941,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6292,18 +6292,19 @@\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      !1\n                     )\n                   : createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      !1\n                     );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6323,26 +6324,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6379,7 +6389,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6398,7 +6410,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6475,7 +6490,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6744,15 +6761,18 @@\n                       replay,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      !1\n                     )\n                   : createSuspenseBoundary(\n                       replay,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      !1\n                     );\n               props.parentFlushed = !0;\n               props.rootSegmentID = request;\n@@ -7190,13 +7210,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7205,14 +7230,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7233,7 +7258,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7289,11 +7315,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7509,7 +7537,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7802,7 +7830,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -8076,7 +8104,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -8134,12 +8162,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8156,7 +8183,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8300,7 +8327,8 @@\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n         (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-          hasSuspenseyContent(boundary.contentState))\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer)\n       )\n         (boundary.rootSegmentID = request.nextSegmentId++),\n           request.completedBoundaries.push(boundary),\n@@ -9002,11 +9030,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     var React = require(\"next/dist/compiled/react\"),\n@@ -10244,7 +10272,7 @@\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n       ),\n       completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n       ),\n       completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n       completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -10804,5 +10832,5 @@\n         startWork(request);\n       });\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "ef3028b0cd2438b36f862b0ac47134dba7c4aaef",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.edge.production.js",
            "status": "modified",
            "additions": 83,
            "deletions": 54,
            "changes": 137,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -2620,7 +2620,7 @@ var completeBoundaryScriptFunctionOnly = stringToPrecomputedChunk(\n     '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n   ),\n   completeBoundaryUpgradeToViewTransitionsInstruction = stringToChunk(\n-    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+    '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n   ),\n   completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n   completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n@@ -4145,8 +4145,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4436,8 +4438,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4447,22 +4449,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5295,18 +5296,19 @@ function renderElement(request, task, keyPath, type, props, ref) {\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  !1\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  !1\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5326,22 +5328,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5377,7 +5388,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5394,7 +5407,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5457,7 +5473,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5704,15 +5722,18 @@ function retryNode(request, task) {\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              !1\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n                               null,\n-                              null\n+                              !1\n                             );\n                       props.parentFlushed = !0;\n                       props.rootSegmentID = replay;\n@@ -5943,13 +5964,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5958,14 +5984,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5986,7 +6012,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -6042,11 +6069,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6241,7 +6270,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6482,7 +6511,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6699,7 +6728,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6751,12 +6780,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6773,7 +6801,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6882,7 +6910,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -7447,11 +7476,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -7701,4 +7730,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {\n     startWork(request);\n   });\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "9149023fbb9692ca4687770e63ad61dd37a6ea0d",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.node.development.js",
            "status": "modified",
            "additions": 82,
            "deletions": 54,
            "changes": 136,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4533,8 +4533,9 @@\n     function isEligibleForOutlining(request, boundary) {\n       return (\n         (500 < boundary.byteSize ||\n-          hasSuspenseyContent(boundary.contentState)) &&\n-        null === boundary.contentPreamble\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer) &&\n+        null === boundary.preamble\n       );\n     }\n     function defaultErrorHandler(error) {\n@@ -4829,8 +4830,8 @@\n       request,\n       row,\n       fallbackAbortableTasks,\n-      contentPreamble,\n-      fallbackPreamble\n+      preamble,\n+      defer\n     ) {\n       fallbackAbortableTasks = {\n         status: PENDING,\n@@ -4840,25 +4841,24 @@\n         row: row,\n         completedSegments: [],\n         byteSize: 0,\n+        defer: defer,\n         fallbackAbortableTasks: fallbackAbortableTasks,\n         errorDigest: null,\n         contentState: createHoistableState(),\n         fallbackState: createHoistableState(),\n-        contentPreamble: contentPreamble,\n-        fallbackPreamble: fallbackPreamble,\n-        trackedContentKeyPath: null,\n-        trackedFallbackNode: null,\n+        preamble: preamble,\n+        tracked: null,\n         errorMessage: null,\n         errorStack: null,\n         errorComponentStack: null\n       };\n       null !== row &&\n         (row.pendingTasks++,\n-        (contentPreamble = row.boundaries),\n-        null !== contentPreamble &&\n+        (preamble = row.boundaries),\n+        null !== preamble &&\n           (request.allPendingTasks++,\n           fallbackAbortableTasks.pendingTasks++,\n-          contentPreamble.push(fallbackAbortableTasks)),\n+          preamble.push(fallbackAbortableTasks)),\n         (request = row.inheritedHoistables),\n         null !== request &&\n           hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -6191,18 +6191,19 @@\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      !1\n                     )\n                   : createSuspenseBoundary(\n                       request,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      !1\n                     );\n-              null !== request.trackedPostpones &&\n-                (newBoundary.trackedContentKeyPath = keyPath);\n               var boundarySegment = createPendingSegment(\n                 request,\n                 parentSegment.chunks.length,\n@@ -6222,26 +6223,35 @@\n                 !1\n               );\n               contentRootSegment.parentFlushed = !0;\n-              if (null !== request.trackedPostpones) {\n+              var trackedPostpones = request.trackedPostpones;\n+              if (null !== trackedPostpones) {\n                 var suspenseComponentStack = task.componentStack,\n                   fallbackKeyPath = [\n                     keyPath[0],\n                     \"Suspense Fallback\",\n                     keyPath[2]\n-                  ],\n-                  fallbackReplayNode = [\n+                  ];\n+                if (null !== trackedPostpones) {\n+                  var fallbackReplayNode = [\n                     fallbackKeyPath[1],\n                     fallbackKeyPath[2],\n                     [],\n                     null\n                   ];\n-                request.trackedPostpones.workingMap.set(\n-                  fallbackKeyPath,\n-                  fallbackReplayNode\n-                );\n-                newBoundary.trackedFallbackNode = fallbackReplayNode;\n+                  trackedPostpones.workingMap.set(\n+                    fallbackKeyPath,\n+                    fallbackReplayNode\n+                  );\n+                  newBoundary.tracked = {\n+                    contentKeyPath: keyPath,\n+                    fallbackNode: fallbackReplayNode\n+                  };\n+                }\n                 task.blockedSegment = boundarySegment;\n-                task.blockedPreamble = newBoundary.fallbackPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback;\n                 task.keyPath = fallbackKeyPath;\n                 task.formatContext = getSuspenseFallbackFormatContext(\n                   request.resumableState,\n@@ -6278,7 +6288,9 @@\n                   -1,\n                   newBoundary,\n                   contentRootSegment,\n-                  newBoundary.contentPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content,\n                   newBoundary.contentState,\n                   task.abortSet,\n                   keyPath,\n@@ -6297,7 +6309,10 @@\n                 request.pingedTasks.push(suspendedPrimaryTask);\n               } else {\n                 task.blockedBoundary = newBoundary;\n-                task.blockedPreamble = newBoundary.contentPreamble;\n+                task.blockedPreamble =\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.content;\n                 task.hoistableState = newBoundary.contentState;\n                 task.blockedSegment = contentRootSegment;\n                 task.keyPath = keyPath;\n@@ -6374,7 +6389,9 @@\n                   -1,\n                   parentBoundary,\n                   boundarySegment,\n-                  newBoundary.fallbackPreamble,\n+                  null === newBoundary.preamble\n+                    ? null\n+                    : newBoundary.preamble.fallback,\n                   newBoundary.fallbackState,\n                   fallbackAbortSet,\n                   [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -6643,15 +6660,18 @@\n                       replay,\n                       task.row,\n                       fallbackAbortSet,\n-                      createPreambleState(),\n-                      createPreambleState()\n+                      {\n+                        content: createPreambleState(),\n+                        fallback: createPreambleState()\n+                      },\n+                      !1\n                     )\n                   : createSuspenseBoundary(\n                       replay,\n                       task.row,\n                       fallbackAbortSet,\n                       null,\n-                      null\n+                      !1\n                     );\n               props.parentFlushed = !0;\n               props.rootSegmentID = request;\n@@ -7089,13 +7109,18 @@\n     function trackPostponedBoundary(request, trackedPostpones, boundary) {\n       boundary.status = POSTPONED;\n       boundary.rootSegmentID = request.nextSegmentId++;\n-      request = boundary.trackedContentKeyPath;\n+      var tracked = boundary.tracked;\n+      if (null === tracked)\n+        throw Error(\n+          \"It should not be possible to postpone at the root. This is a bug in React.\"\n+        );\n+      request = tracked.contentKeyPath;\n       if (null === request)\n         throw Error(\n           \"It should not be possible to postpone at the root. This is a bug in React.\"\n         );\n-      var fallbackReplayNode = boundary.trackedFallbackNode,\n-        children = [],\n+      tracked = tracked.fallbackNode;\n+      var children = [],\n         boundaryNode = trackedPostpones.workingMap.get(request);\n       if (void 0 === boundaryNode)\n         return (\n@@ -7104,14 +7129,14 @@\n             request[2],\n             children,\n             null,\n-            fallbackReplayNode,\n+            tracked,\n             boundary.rootSegmentID\n           ]),\n           trackedPostpones.workingMap.set(request, boundary),\n           addToReplayParent(boundary, request[0], trackedPostpones),\n           boundary\n         );\n-      boundaryNode[4] = fallbackReplayNode;\n+      boundaryNode[4] = tracked;\n       boundaryNode[5] = boundary.rootSegmentID;\n       return boundaryNode;\n     }\n@@ -7132,7 +7157,8 @@\n             boundary\n           );\n           if (\n-            boundary.trackedContentKeyPath === keyPath &&\n+            null !== boundary.tracked &&\n+            boundary.tracked.contentKeyPath === keyPath &&\n             -1 === task.childIndex\n           ) {\n             -1 === segment.id &&\n@@ -7188,11 +7214,13 @@\n     function untrackBoundary(request, boundary) {\n       request = request.trackedPostpones;\n       null !== request &&\n-        ((boundary = boundary.trackedContentKeyPath),\n+        ((boundary = boundary.tracked),\n         null !== boundary &&\n-          ((boundary = request.workingMap.get(boundary)),\n-          void 0 !== boundary &&\n-            ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+          ((boundary = boundary.contentKeyPath),\n+          null !== boundary &&\n+            ((request = request.workingMap.get(boundary)),\n+            void 0 !== request &&\n+              ((request.length = 4), (request[2] = []), (request[3] = null)))));\n     }\n     function spawnNewSuspendedReplayTask(request, task, thenableState) {\n       return createReplayTask(\n@@ -7408,7 +7436,7 @@\n               null,\n               new Set(),\n               null,\n-              null\n+              !1\n             );\n           resumedBoundary.parentFlushed = !0;\n           resumedBoundary.rootSegmentID = node;\n@@ -7701,7 +7729,7 @@\n                   finishSuspenseListRow(request, row)),\n               0 === request.pendingRootTasks &&\n                 null === request.trackedPostpones &&\n-                null !== boundary.contentPreamble &&\n+                null !== boundary.preamble &&\n                 preparePreamble(request);\n           else {\n             if (\n@@ -7975,7 +8003,7 @@\n                       request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                     0 === request.pendingRootTasks &&\n                       null === request.trackedPostpones &&\n-                      null !== boundary$jscomp$0.contentPreamble &&\n+                      null !== boundary$jscomp$0.preamble &&\n                       preparePreamble(request);\n                   }\n                   0 === request.allPendingTasks && completeAll(request);\n@@ -8033,12 +8061,11 @@\n           segment,\n           collectedPreambleSegments\n         );\n-      var preamble = boundary.contentPreamble,\n-        fallbackPreamble = boundary.fallbackPreamble;\n-      if (null === preamble || null === fallbackPreamble) return !1;\n+      var preamble = boundary.preamble;\n+      if (null === preamble) return !1;\n       switch (boundary.status) {\n         case COMPLETED:\n-          hoistPreambleState(request.renderState, preamble);\n+          hoistPreambleState(request.renderState, preamble.content);\n           request.byteSize += boundary.byteSize;\n           segment = boundary.completedSegments[0];\n           if (!segment)\n@@ -8055,7 +8082,7 @@\n         case CLIENT_RENDERED:\n           if (segment.status === COMPLETED)\n             return (\n-              hoistPreambleState(request.renderState, fallbackPreamble),\n+              hoistPreambleState(request.renderState, preamble.fallback),\n               preparePreambleFromSubtree(\n                 request,\n                 segment,\n@@ -8190,7 +8217,8 @@\n         !flushingPartialBoundaries &&\n         isEligibleForOutlining(request, boundary) &&\n         (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-          hasSuspenseyContent(boundary.contentState))\n+          hasSuspenseyContent(boundary.contentState) ||\n+          boundary.defer)\n       )\n         (boundary.rootSegmentID = request.nextSegmentId++),\n           request.completedBoundaries.push(boundary),\n@@ -8876,11 +8904,11 @@\n     }\n     function ensureCorrectIsomorphicReactVersion() {\n       var isomorphicReactPackageVersion = React.version;\n-      if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+      if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n         throw Error(\n           'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n             (isomorphicReactPackageVersion +\n-              \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+              \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n         );\n     }\n     function createDrainHandler(destination, request) {\n@@ -10221,7 +10249,7 @@\n         '$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if(\"/$\"===d||\"/&\"===d)if(0===h)break;else h--;else\"$\"!==d&&\"$?\"!==d&&\"$~\"!==d&&\"$!\"!==d&&\"&\"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data=\"$\";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data=\"$~\",$RB.push(a,b),2===$RB.length&&(\"number\"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'\n       ),\n       completeBoundaryUpgradeToViewTransitionsInstruction =\n-        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);',\n+        '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);',\n       completeBoundaryScript1Partial = stringToPrecomputedChunk('$RC(\"'),\n       completeBoundaryWithStylesScript1FullPartial = stringToPrecomputedChunk(\n         '$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),v=[],k=0;b=e[k++];)\"not all\"===b.getAttribute(\"media\")?v.push(b):(\"LINK\"===b.tagName&&$RM.set(b.getAttribute(\"href\"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement(\"link\");a.href=d;a.rel=\\n\"stylesheet\";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute(\"media\");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute(\"data-precedence\");a.removeAttribute(\"media\")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\\n\"$~\";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,\"CSS failed to load\"))};$RR(\"'\n@@ -10984,5 +11012,5 @@\n         }\n       };\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "dcc9b71d21464f0d71b597f2371717b7fff2052f",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.node.production.js",
            "status": "modified",
            "additions": 84,
            "deletions": 55,
            "changes": 139,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.node.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4048,8 +4048,10 @@ function getViewTransitionClassName(defaultClass, eventClass) {\n }\n function isEligibleForOutlining(request, boundary) {\n   return (\n-    (500 < boundary.byteSize || hasSuspenseyContent(boundary.contentState)) &&\n-    null === boundary.contentPreamble\n+    (500 < boundary.byteSize ||\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer) &&\n+    null === boundary.preamble\n   );\n }\n function defaultErrorHandler(error) {\n@@ -4336,8 +4338,8 @@ function createSuspenseBoundary(\n   request,\n   row,\n   fallbackAbortableTasks,\n-  contentPreamble,\n-  fallbackPreamble\n+  preamble,\n+  defer\n ) {\n   fallbackAbortableTasks = {\n     status: 0,\n@@ -4347,22 +4349,21 @@ function createSuspenseBoundary(\n     row: row,\n     completedSegments: [],\n     byteSize: 0,\n+    defer: defer,\n     fallbackAbortableTasks: fallbackAbortableTasks,\n     errorDigest: null,\n     contentState: createHoistableState(),\n     fallbackState: createHoistableState(),\n-    contentPreamble: contentPreamble,\n-    fallbackPreamble: fallbackPreamble,\n-    trackedContentKeyPath: null,\n-    trackedFallbackNode: null\n+    preamble: preamble,\n+    tracked: null\n   };\n   null !== row &&\n     (row.pendingTasks++,\n-    (contentPreamble = row.boundaries),\n-    null !== contentPreamble &&\n+    (preamble = row.boundaries),\n+    null !== preamble &&\n       (request.allPendingTasks++,\n       fallbackAbortableTasks.pendingTasks++,\n-      contentPreamble.push(fallbackAbortableTasks)),\n+      preamble.push(fallbackAbortableTasks)),\n     (request = row.inheritedHoistables),\n     null !== request &&\n       hoistHoistables(fallbackAbortableTasks.contentState, request));\n@@ -5195,18 +5196,19 @@ function renderElement(request, task, keyPath, type, props, ref) {\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n-                  createPreambleState(),\n-                  createPreambleState()\n+                  {\n+                    content: createPreambleState(),\n+                    fallback: createPreambleState()\n+                  },\n+                  !1\n                 )\n               : createSuspenseBoundary(\n                   request,\n                   task.row,\n                   fallbackAbortSet,\n                   null,\n-                  null\n+                  !1\n                 );\n-          null !== request.trackedPostpones &&\n-            (newBoundary.trackedContentKeyPath = keyPath);\n           var boundarySegment = createPendingSegment(\n             request,\n             parentSegment.chunks.length,\n@@ -5226,22 +5228,31 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             !1\n           );\n           contentRootSegment.parentFlushed = !0;\n-          if (null !== request.trackedPostpones) {\n+          var trackedPostpones = request.trackedPostpones;\n+          if (null !== trackedPostpones) {\n             var suspenseComponentStack = task.componentStack,\n-              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n-              fallbackReplayNode = [\n+              fallbackKeyPath = [keyPath[0], \"Suspense Fallback\", keyPath[2]];\n+            if (null !== trackedPostpones) {\n+              var fallbackReplayNode = [\n                 fallbackKeyPath[1],\n                 fallbackKeyPath[2],\n                 [],\n                 null\n               ];\n-            request.trackedPostpones.workingMap.set(\n-              fallbackKeyPath,\n-              fallbackReplayNode\n-            );\n-            newBoundary.trackedFallbackNode = fallbackReplayNode;\n+              trackedPostpones.workingMap.set(\n+                fallbackKeyPath,\n+                fallbackReplayNode\n+              );\n+              newBoundary.tracked = {\n+                contentKeyPath: keyPath,\n+                fallbackNode: fallbackReplayNode\n+              };\n+            }\n             task.blockedSegment = boundarySegment;\n-            task.blockedPreamble = newBoundary.fallbackPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback;\n             task.keyPath = fallbackKeyPath;\n             task.formatContext = getSuspenseFallbackFormatContext(\n               request.resumableState,\n@@ -5277,7 +5288,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               newBoundary,\n               contentRootSegment,\n-              newBoundary.contentPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content,\n               newBoundary.contentState,\n               task.abortSet,\n               keyPath,\n@@ -5294,7 +5307,10 @@ function renderElement(request, task, keyPath, type, props, ref) {\n             request.pingedTasks.push(suspendedPrimaryTask);\n           } else {\n             task.blockedBoundary = newBoundary;\n-            task.blockedPreamble = newBoundary.contentPreamble;\n+            task.blockedPreamble =\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.content;\n             task.hoistableState = newBoundary.contentState;\n             task.blockedSegment = contentRootSegment;\n             task.keyPath = keyPath;\n@@ -5357,7 +5373,9 @@ function renderElement(request, task, keyPath, type, props, ref) {\n               -1,\n               parentBoundary,\n               boundarySegment,\n-              newBoundary.fallbackPreamble,\n+              null === newBoundary.preamble\n+                ? null\n+                : newBoundary.preamble.fallback,\n               newBoundary.fallbackState,\n               fallbackAbortSet,\n               [keyPath[0], \"Suspense Fallback\", keyPath[2]],\n@@ -5604,15 +5622,18 @@ function retryNode(request, task) {\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n-                              createPreambleState(),\n-                              createPreambleState()\n+                              {\n+                                content: createPreambleState(),\n+                                fallback: createPreambleState()\n+                              },\n+                              !1\n                             )\n                           : createSuspenseBoundary(\n                               request,\n                               task.row,\n                               fallbackAbortSet,\n                               null,\n-                              null\n+                              !1\n                             );\n                       props.parentFlushed = !0;\n                       props.rootSegmentID = replay;\n@@ -5843,13 +5864,18 @@ function renderChildrenArray(request, task, children, childIndex) {\n function trackPostponedBoundary(request, trackedPostpones, boundary) {\n   boundary.status = 5;\n   boundary.rootSegmentID = request.nextSegmentId++;\n-  request = boundary.trackedContentKeyPath;\n+  var tracked = boundary.tracked;\n+  if (null === tracked)\n+    throw Error(\n+      \"It should not be possible to postpone at the root. This is a bug in React.\"\n+    );\n+  request = tracked.contentKeyPath;\n   if (null === request)\n     throw Error(\n       \"It should not be possible to postpone at the root. This is a bug in React.\"\n     );\n-  var fallbackReplayNode = boundary.trackedFallbackNode,\n-    children = [],\n+  tracked = tracked.fallbackNode;\n+  var children = [],\n     boundaryNode = trackedPostpones.workingMap.get(request);\n   if (void 0 === boundaryNode)\n     return (\n@@ -5858,14 +5884,14 @@ function trackPostponedBoundary(request, trackedPostpones, boundary) {\n         request[2],\n         children,\n         null,\n-        fallbackReplayNode,\n+        tracked,\n         boundary.rootSegmentID\n       ]),\n       trackedPostpones.workingMap.set(request, boundary),\n       addToReplayParent(boundary, request[0], trackedPostpones),\n       boundary\n     );\n-  boundaryNode[4] = fallbackReplayNode;\n+  boundaryNode[4] = tracked;\n   boundaryNode[5] = boundary.rootSegmentID;\n   return boundaryNode;\n }\n@@ -5886,7 +5912,8 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n         boundary\n       );\n       if (\n-        boundary.trackedContentKeyPath === keyPath &&\n+        null !== boundary.tracked &&\n+        boundary.tracked.contentKeyPath === keyPath &&\n         -1 === task.childIndex\n       ) {\n         -1 === segment.id &&\n@@ -5942,11 +5969,13 @@ function trackPostpone(request, trackedPostpones, task, segment) {\n function untrackBoundary(request, boundary) {\n   request = request.trackedPostpones;\n   null !== request &&\n-    ((boundary = boundary.trackedContentKeyPath),\n+    ((boundary = boundary.tracked),\n     null !== boundary &&\n-      ((boundary = request.workingMap.get(boundary)),\n-      void 0 !== boundary &&\n-        ((boundary.length = 4), (boundary[2] = []), (boundary[3] = null))));\n+      ((boundary = boundary.contentKeyPath),\n+      null !== boundary &&\n+        ((request = request.workingMap.get(boundary)),\n+        void 0 !== request &&\n+          ((request.length = 4), (request[2] = []), (request[3] = null)))));\n }\n function spawnNewSuspendedReplayTask(request, task, thenableState) {\n   return createReplayTask(\n@@ -6141,7 +6170,7 @@ function abortRemainingReplayNodes(\n           null,\n           new Set(),\n           null,\n-          null\n+          !1\n         );\n       resumedBoundary.parentFlushed = !0;\n       resumedBoundary.rootSegmentID = node;\n@@ -6382,7 +6411,7 @@ function finishedTask(request, boundary, row, segment) {\n               finishSuspenseListRow(request, row)),\n           0 === request.pendingRootTasks &&\n             null === request.trackedPostpones &&\n-            null !== boundary.contentPreamble &&\n+            null !== boundary.preamble &&\n             preparePreamble(request);\n       else {\n         if (\n@@ -6599,7 +6628,7 @@ function performWork(request$jscomp$1) {\n                   request.clientRenderedBoundaries.push(boundary$jscomp$0);\n                 0 === request.pendingRootTasks &&\n                   null === request.trackedPostpones &&\n-                  null !== boundary$jscomp$0.contentPreamble &&\n+                  null !== boundary$jscomp$0.preamble &&\n                   preparePreamble(request);\n               }\n               0 === request.allPendingTasks && completeAll(request);\n@@ -6651,12 +6680,11 @@ function preparePreambleFromSegment(\n       segment,\n       collectedPreambleSegments\n     );\n-  var preamble = boundary.contentPreamble,\n-    fallbackPreamble = boundary.fallbackPreamble;\n-  if (null === preamble || null === fallbackPreamble) return !1;\n+  var preamble = boundary.preamble;\n+  if (null === preamble) return !1;\n   switch (boundary.status) {\n     case 1:\n-      hoistPreambleState(request.renderState, preamble);\n+      hoistPreambleState(request.renderState, preamble.content);\n       request.byteSize += boundary.byteSize;\n       segment = boundary.completedSegments[0];\n       if (!segment)\n@@ -6673,7 +6701,7 @@ function preparePreambleFromSegment(\n     case 4:\n       if (1 === segment.status)\n         return (\n-          hoistPreambleState(request.renderState, fallbackPreamble),\n+          hoistPreambleState(request.renderState, preamble.fallback),\n           preparePreambleFromSubtree(\n             request,\n             segment,\n@@ -6782,7 +6810,8 @@ function flushSegment(request, destination, segment, hoistableState) {\n     !flushingPartialBoundaries &&\n     isEligibleForOutlining(request, boundary) &&\n     (flushedByteSize + boundary.byteSize > request.progressiveChunkSize ||\n-      hasSuspenseyContent(boundary.contentState))\n+      hasSuspenseyContent(boundary.contentState) ||\n+      boundary.defer)\n   )\n     (boundary.rootSegmentID = request.nextSegmentId++),\n       request.completedBoundaries.push(boundary),\n@@ -6865,7 +6894,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         ((completedSegments.instructions |= 256),\n         writeChunk(\n           destination,\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       0 === (completedSegments.instructions & 8)\n         ? ((completedSegments.instructions |= 8),\n@@ -6879,7 +6908,7 @@ function flushCompletedBoundary(request, destination, boundary) {\n         ((completedSegments.instructions |= 256),\n         writeChunk(\n           destination,\n-          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),\\nH=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,I.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=\\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);'\n+          '$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),\"auto\"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute(\"vt-name\"))||(a=\"_T_\"+K++ +\"_\"),a=CSS.escape(a)!==a?\"r-\"+btoa(a).replace(/=/g,\"\"):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll(\"[vt-share]\"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute(\"vt-name\"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if(\"/$\"===r)if(0===f)break;else f--;else\"$\"!==r&&\"$?\"!==r&&\"$~\"!==r&&\"$!\"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute(\"vt-name\"),y=m.get(D);k(d,y?\"vt-share\":\"vt-exit\");y&&(k(y,\"vt-share\"),m.set(D,null));var E=d.querySelectorAll(\"[vt-share]\");\\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute(\"vt-name\"),H=m.get(G);H&&(k(F,\"vt-share\"),k(H,\"vt-share\"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute(\"vt-name\"))&&k(t,\"vt-enter\"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute(\"vt-update\");J&&\"none\"!==J&&!l.includes(n)&&k(n,\"vt-update\");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&\"none\"!==c.getAttribute(\"vt-update\"));u.push.apply(u,\\nI.querySelectorAll(\\'img[src]:not([loading=\"lazy\"])\\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener(\"load\",q);w.g.addEventListener(\"error\",q)}}(b)),\\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];\"\"===b.getAttribute(\"style\")&&b.removeAttribute(\"style\")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\\n$RV);'\n         )),\n       writeChunk(destination, completeBoundaryScript1Partial));\n   completedSegments = i.toString(16);\n@@ -7338,11 +7367,11 @@ function getPostponedState(request) {\n }\n function ensureCorrectIsomorphicReactVersion() {\n   var isomorphicReactPackageVersion = React.version;\n-  if (\"19.3.0-canary-dd048c3b-20251105\" !== isomorphicReactPackageVersion)\n+  if (\"19.3.0-canary-fa50caf5-20251107\" !== isomorphicReactPackageVersion)\n     throw Error(\n       'Incompatible React versions: The \"react\" and \"react-dom\" packages must have the exact same version. Instead got:\\n  - react:      ' +\n         (isomorphicReactPackageVersion +\n-          \"\\n  - react-dom:  19.3.0-canary-dd048c3b-20251105\\nLearn more: https://react.dev/warnings/version-mismatch\")\n+          \"\\n  - react-dom:  19.3.0-canary-fa50caf5-20251107\\nLearn more: https://react.dev/warnings/version-mismatch\")\n     );\n }\n ensureCorrectIsomorphicReactVersion();\n@@ -7892,4 +7921,4 @@ exports.resumeToPipeableStream = function (children, postponedState, options) {\n     }\n   };\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "7ed9ccde04c729f4121d3e470fe54f53afffd8fa",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -416,7 +416,7 @@\n     exports.useFormStatus = function () {\n       return resolveDispatcher().useHostTransitionStatus();\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "0731e370134a5d44cd692106555c3a7e714a60c0",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -207,4 +207,4 @@ exports.useFormState = function (action, initialState, permalink) {\n exports.useFormStatus = function () {\n   return ReactSharedInternals.H.useHostTransitionStatus();\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "5812062580d0b1db0b50c59a029381252603868a",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -336,5 +336,5 @@\n             }))\n           : Internals.d.m(href));\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "00e054db5b28e6e2defcbd6d7971926779ea5584",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom.react-server.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -149,4 +149,4 @@ exports.preloadModule = function (href, options) {\n       });\n     } else Internals.d.m(href);\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "ee9806ea407fbb0104e2019f2e8323f4e6473586",
            "filename": "packages/next/src/compiled/react-dom/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -67,10 +67,10 @@\n     \"./package.json\": \"./package.json\"\n   },\n   \"dependencies\": {\n-    \"scheduler\": \"0.28.0-canary-dd048c3b-20251105\"\n+    \"scheduler\": \"0.28.0-canary-fa50caf5-20251107\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"19.3.0-canary-dd048c3b-20251105\"\n+    \"react\": \"19.3.0-canary-fa50caf5-20251107\"\n   },\n   \"browser\": {\n     \"./server.js\": \"./server.browser.js\","
        },
        {
            "sha": "21176a85c362007ab0599c5e2fbf47b3513ef98d",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1374,7 +1374,7 @@\n     exports.useTransition = function () {\n       return resolveDispatcher().useTransition();\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "259ebb12e01ff78a2f75aef0e7a143b56c855a36",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -591,4 +591,4 @@ exports.useSyncExternalStore = function (\n exports.useTransition = function () {\n   return ReactSharedInternals.H.useTransition();\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "49f438cf79e04a236c9ba0c5a564cc8a1bb33532",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1044,5 +1044,5 @@\n     exports.useMemo = function (create, deps) {\n       return resolveDispatcher().useMemo(create, deps);\n     };\n-    exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-experimental-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "1868d286898b9673cd42d95269038ac650414390",
            "filename": "packages/next/src/compiled/react-experimental/cjs/react.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-experimental%2Fcjs%2Freact.react-server.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -557,4 +557,4 @@ exports.useId = function () {\n exports.useMemo = function (create, deps) {\n   return ReactSharedInternals.H.useMemo(create, deps);\n };\n-exports.version = \"19.3.0-experimental-dd048c3b-20251105\";\n+exports.version = \"19.3.0-experimental-fa50caf5-20251107\";"
        },
        {
            "sha": "39491156863c709edd3c0e5bee930701accdecd5",
            "filename": "packages/next/src/compiled/react-is/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-is%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-is%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-is%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1,6 +1,6 @@\n {\n   \"name\": \"react-is\",\n-  \"version\": \"19.3.0-canary-dd048c3b-20251105\",\n+  \"version\": \"19.3.0-canary-fa50caf5-20251107\",\n   \"description\": \"Brand checking of React Elements.\",\n   \"main\": \"index.js\",\n   \"sideEffects\": false,"
        },
        {
            "sha": "002256e522829051ad13b5c298c4c11583418a22",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-client.browser.development.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4955,10 +4955,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.3.0-experimental-dd048c3b-20251105\",\n+      version: \"19.3.0-experimental-fa50caf5-20251107\",\n       rendererPackageName: \"react-server-dom-turbopack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\",\n+      reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }"
        },
        {
            "sha": "b3060761b5bb7eb5e39796fa75d792691a360450",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -48,7 +48,7 @@\n     \"neo-async\": \"^2.6.1\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"0.0.0-experimental-dd048c3b-20251105\",\n-    \"react-dom\": \"0.0.0-experimental-dd048c3b-20251105\"\n+    \"react\": \"0.0.0-experimental-fa50caf5-20251107\",\n+    \"react-dom\": \"0.0.0-experimental-fa50caf5-20251107\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "69e67a4f9682386eedbfe646edfd8c7b24fc568b",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.browser.development.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-client.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4955,10 +4955,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.3.0-canary-dd048c3b-20251105\",\n+      version: \"19.3.0-canary-fa50caf5-20251107\",\n       rendererPackageName: \"react-server-dom-turbopack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.3.0-canary-dd048c3b-20251105\",\n+      reconcilerVersion: \"19.3.0-canary-fa50caf5-20251107\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }"
        },
        {
            "sha": "84fcea6a64abe1ccc282f1cc374eac74aa1bb204",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -48,7 +48,7 @@\n     \"neo-async\": \"^2.6.1\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"19.3.0-canary-dd048c3b-20251105\",\n-    \"react-dom\": \"19.3.0-canary-dd048c3b-20251105\"\n+    \"react\": \"19.3.0-canary-fa50caf5-20251107\",\n+    \"react-dom\": \"19.3.0-canary-fa50caf5-20251107\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "310eb6e150cd3c1571646cbe0919d9c0442930f9",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-client.browser.development.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4971,10 +4971,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.3.0-experimental-dd048c3b-20251105\",\n+      version: \"19.3.0-experimental-fa50caf5-20251107\",\n       rendererPackageName: \"react-server-dom-webpack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.3.0-experimental-dd048c3b-20251105\",\n+      reconcilerVersion: \"19.3.0-experimental-fa50caf5-20251107\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }"
        },
        {
            "sha": "42e73dd0c11577723b3d9de6034284698374a1d7",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -64,8 +64,8 @@\n     \"webpack-sources\": \"^3.2.0\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"0.0.0-experimental-dd048c3b-20251105\",\n-    \"react-dom\": \"0.0.0-experimental-dd048c3b-20251105\",\n+    \"react\": \"0.0.0-experimental-fa50caf5-20251107\",\n+    \"react-dom\": \"0.0.0-experimental-fa50caf5-20251107\",\n     \"webpack\": \"^5.59.0\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "4f25ece03830d27acafbbb4b5dee3ab9af17c6fc",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-client.browser.development.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-client.browser.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -4971,10 +4971,10 @@\n       return hook.checkDCE ? !0 : !1;\n     })({\n       bundleType: 1,\n-      version: \"19.3.0-canary-dd048c3b-20251105\",\n+      version: \"19.3.0-canary-fa50caf5-20251107\",\n       rendererPackageName: \"react-server-dom-webpack\",\n       currentDispatcherRef: ReactSharedInternals,\n-      reconcilerVersion: \"19.3.0-canary-dd048c3b-20251105\",\n+      reconcilerVersion: \"19.3.0-canary-fa50caf5-20251107\",\n       getCurrentComponentInfo: function () {\n         return currentOwnerInDEV;\n       }"
        },
        {
            "sha": "86117e7d25c574936970f720e01bea0503c61e64",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fpackage.json",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fpackage.json?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -64,8 +64,8 @@\n     \"webpack-sources\": \"^3.2.0\"\n   },\n   \"peerDependencies\": {\n-    \"react\": \"19.3.0-canary-dd048c3b-20251105\",\n-    \"react-dom\": \"19.3.0-canary-dd048c3b-20251105\",\n+    \"react\": \"19.3.0-canary-fa50caf5-20251107\",\n+    \"react-dom\": \"19.3.0-canary-fa50caf5-20251107\",\n     \"webpack\": \"^5.59.0\"\n   }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "d1c859a0c4a20a42aff888724ad2f2f800f809cc",
            "filename": "packages/next/src/compiled/react/cjs/react.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1322,7 +1322,7 @@\n     exports.useTransition = function () {\n       return resolveDispatcher().useTransition();\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n     \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n       \"function\" ===\n         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&"
        },
        {
            "sha": "4f2ef7fe1f829053d68c25d7d8567d2c6424ccfa",
            "filename": "packages/next/src/compiled/react/cjs/react.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -554,4 +554,4 @@ exports.useSyncExternalStore = function (\n exports.useTransition = function () {\n   return ReactSharedInternals.H.useTransition();\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "487bbd8c01063ee4a164a7a934900753d09748d7",
            "filename": "packages/next/src/compiled/react/cjs/react.react-server.development.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.development.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -874,5 +874,5 @@\n     exports.useMemo = function (create, deps) {\n       return resolveDispatcher().useMemo(create, deps);\n     };\n-    exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+    exports.version = \"19.3.0-canary-fa50caf5-20251107\";\n   })();"
        },
        {
            "sha": "a67762eeab666aa4746347b81452ae594c994134",
            "filename": "packages/next/src/compiled/react/cjs/react.react-server.production.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact%2Fcjs%2Freact.react-server.production.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -425,4 +425,4 @@ exports.useId = function () {\n exports.useMemo = function (create, deps) {\n   return ReactSharedInternals.H.useMemo(create, deps);\n };\n-exports.version = \"19.3.0-canary-dd048c3b-20251105\";\n+exports.version = \"19.3.0-canary-fa50caf5-20251107\";"
        },
        {
            "sha": "b3e4d1351f9b74a9d4dd092059fa18a323e803a0",
            "filename": "packages/next/src/compiled/unistore/unistore.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Funistore%2Funistore.js",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/packages%2Fnext%2Fsrc%2Fcompiled%2Funistore%2Funistore.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Funistore%2Funistore.js?ref=c274a5161845a21f32f9bf797a157a7d245cdf02",
            "patch": "@@ -1 +1 @@\n-(()=>{var t={232:t=>{function n(t,i){for(var _ in i)t[_]=i[_];return t}t.exports=function(t){var i=[];function u(t){for(var _=[],a=0;a<i.length;a++)i[a]===t?t=null:_.push(i[a]);i=_}function e(_,a,f){t=a?_:n(n({},t),_);for(var o=i,c=0;c<o.length;c++)o[c](t,f)}return t=t||{},{action:function(i){function r(t){e(t,!1,i)}return function(){for(var _=arguments,a=[t],f=0;f<arguments.length;f++)a.push(_[f]);var o=i.apply(this,a);if(null!=o)return o.then?o.then(r):r(o)}},setState:e,subscribe:function(t){return i.push(t),function(){u(t)}},unsubscribe:u,getState:function(){return t}}}}};var i={};function __nccwpck_require__(_){var a=i[_];if(a!==undefined){return a.exports}var f=i[_]={exports:{}};var o=true;try{t[_](f,f.exports,__nccwpck_require__);o=false}finally{if(o)delete i[_]}return f.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var _=__nccwpck_require__(232);module.exports=_})();\n\\ No newline at end of file\n+(()=>{var t={709:t=>{function n(t,i){for(var _ in i)t[_]=i[_];return t}t.exports=function(t){var i=[];function u(t){for(var _=[],a=0;a<i.length;a++)i[a]===t?t=null:_.push(i[a]);i=_}function e(_,a,f){t=a?_:n(n({},t),_);for(var o=i,c=0;c<o.length;c++)o[c](t,f)}return t=t||{},{action:function(i){function r(t){e(t,!1,i)}return function(){for(var _=arguments,a=[t],f=0;f<arguments.length;f++)a.push(_[f]);var o=i.apply(this,a);if(null!=o)return o.then?o.then(r):r(o)}},setState:e,subscribe:function(t){return i.push(t),function(){u(t)}},unsubscribe:u,getState:function(){return t}}}}};var i={};function __nccwpck_require__(_){var a=i[_];if(a!==undefined){return a.exports}var f=i[_]={exports:{}};var o=true;try{t[_](f,f.exports,__nccwpck_require__);o=false}finally{if(o)delete i[_]}return f.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var _=__nccwpck_require__(709);module.exports=_})();\n\\ No newline at end of file"
        },
        {
            "sha": "44c6d17b5333baf8fc0ce89504c33118025823e2",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 614,
            "deletions": 649,
            "changes": 1263,
            "blob_url": "https://github.com/vercel/next.js/blob/c274a5161845a21f32f9bf797a157a7d245cdf02/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/c274a5161845a21f32f9bf797a157a7d245cdf02/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=c274a5161845a21f32f9bf797a157a7d245cdf02"
        }
    ],
    "stats": {
        "total": 5265,
        "additions": 2923,
        "deletions": 2342
    }
}