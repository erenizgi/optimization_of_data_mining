{
    "author": "eps1lon",
    "message": "[strict-route-types] Don't reject `number` in `config.api.bodyParser.sizeLimit` when validating route (#87633)\n\nNot flagged behind `experimental.strictRouteTypes`. This is just a bug fix.\r\n\r\nGot revealed once we typechecked routes in pure Pages Router apps e.g.\r\n```\r\n.next/types/validator.ts:76:11\r\nType error: Type 'typeof import(\"~/pages/api/hello\")' does not satisfy the expected type 'ApiRouteConfig'.\r\n  The types of 'config.api.bodyParser' are incompatible between these types.\r\n    Type 'false | { sizeLimit?: SizeLimit; }' is not assignable to type 'boolean | { sizeLimit?: string; }'.\r\n      Type '{ sizeLimit?: SizeLimit; }' is not assignable to type 'boolean | { sizeLimit?: string; }'.\r\n        Type '{ sizeLimit?: SizeLimit; }' is not assignable to type '{ sizeLimit?: string; }'.\r\n          Types of property 'sizeLimit' are incompatible.\r\n            Type 'SizeLimit' is not assignable to type 'string'.\r\n              Type 'number' is not assignable to type 'string'.\r\n```\r\n-- https://github.com/vercel/next.js/actions/runs/20427462435/job/58690778302?pr=87628#step:32:562\r\n\r\nCloses https://linear.app/vercel/issue/NXT-121",
    "sha": "79040a318d29641eb3d96a5a47c92a5f8506e826",
    "files": [
        {
            "sha": "036f9d0e2aa87fa1982571415021cda82e7a9732",
            "filename": "packages/next/src/server/lib/router-utils/typegen.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/79040a318d29641eb3d96a5a47c92a5f8506e826/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ftypegen.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/79040a318d29641eb3d96a5a47c92a5f8506e826/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ftypegen.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Flib%2Frouter-utils%2Ftypegen.ts?ref=79040a318d29641eb3d96a5a47c92a5f8506e826",
            "patch": "@@ -574,7 +574,7 @@ export function generateValidatorFile(\n   default: (req: any, res: any) => ReturnType<NextApiHandler>\n   config?: {\n     api?: {\n-      bodyParser?: boolean | { sizeLimit?: string }\n+      bodyParser?: boolean | { sizeLimit?: number | string }\n       responseLimit?: string | number | boolean\n       externalResolver?: boolean\n     }\n@@ -809,7 +809,7 @@ export function generateValidatorFileStrict(\n   default: (req: any, res: any) => ReturnType<NextApiHandler>\n   config?: {\n     api?: {\n-      bodyParser?: boolean | { sizeLimit?: string }\n+      bodyParser?: boolean | { sizeLimit?: number | string }\n       responseLimit?: string | number | boolean\n       externalResolver?: boolean\n     }"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}