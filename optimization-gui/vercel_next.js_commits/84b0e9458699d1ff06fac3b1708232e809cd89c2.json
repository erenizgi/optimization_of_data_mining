{
    "author": "icyJoseph",
    "message": "docs: Cookies store access is async (#83987)\n\nNoted through a feedback channel.",
    "sha": "84b0e9458699d1ff06fac3b1708232e809cd89c2",
    "files": [
        {
            "sha": "daaf022f465180b9621f79492112333ad50a17e0",
            "filename": "errors/dynamic-server-error.mdx",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/84b0e9458699d1ff06fac3b1708232e809cd89c2/errors%2Fdynamic-server-error.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/84b0e9458699d1ff06fac3b1708232e809cd89c2/errors%2Fdynamic-server-error.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/errors%2Fdynamic-server-error.mdx?ref=84b0e9458699d1ff06fac3b1708232e809cd89c2",
            "patch": "@@ -24,9 +24,10 @@ import { cookies } from 'next/headers'\n \n async function getCookieData() {\n   return new Promise((resolve) =>\n-    setTimeout(() => {\n+    setTimeout(async () => {\n       // cookies will be called outside of the async context, causing a build-time error\n-      resolve(cookies().getAll())\n+      const cookieStore = await cookies()\n+      resolve(cookieStore.getAll())\n     }, 1000)\n   )\n }\n@@ -50,7 +51,8 @@ export default async function Page() {\n import { cookies } from 'next/headers'\n \n async function getCookieData() {\n-  const cookieData = cookies().getAll()\n+  const cookieStore = await cookies()\n+  const cookieData = cookieStore.getAll()\n   return new Promise((resolve) =>\n     setTimeout(() => {\n       resolve(cookieData)"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 5,
        "deletions": 3
    }
}