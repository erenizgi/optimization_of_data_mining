{
    "author": "mischnic",
    "message": "Turbopack: respect `--profile` CLI param (#84920)\n\nPreviously, `next build --profile` wasn't doing anything, it was still using the non-profiling React build.\n\nSpecifying it in next.config.js was already working. But we didn't copy over the CLI flag into `config. reactProductionProfiling` for Turbopack.",
    "sha": "e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666",
    "files": [
        {
            "sha": "fc1c91a695203e3254e7a592ce127701ef9c5f68",
            "filename": "packages/next/src/build/turbopack-build/impl.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666/packages%2Fnext%2Fsrc%2Fbuild%2Fturbopack-build%2Fimpl.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666/packages%2Fnext%2Fsrc%2Fbuild%2Fturbopack-build%2Fimpl.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fturbopack-build%2Fimpl.ts?ref=e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666",
            "patch": "@@ -220,7 +220,10 @@ export async function workerMain(workerData: {\n   NextBuildContext.config = await loadConfig(\n     PHASE_PRODUCTION_BUILD,\n     NextBuildContext.dir!,\n-    { debugPrerender: NextBuildContext.debugPrerender }\n+    {\n+      debugPrerender: NextBuildContext.debugPrerender,\n+      reactProductionProfiling: NextBuildContext.reactProductionProfiling,\n+    }\n   )\n \n   // Matches handling in build/index.ts"
        },
        {
            "sha": "c64ac967ece60f3550237cba1ad94669ad73877f",
            "filename": "packages/next/src/build/webpack-build/impl.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-build%2Fimpl.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-build%2Fimpl.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack-build%2Fimpl.ts?ref=e4e6df78ca86d3f5ad4a042c4b6cb6ce98c17666",
            "patch": "@@ -386,7 +386,10 @@ export async function workerMain(workerData: {\n   NextBuildContext.config = await loadConfig(\n     PHASE_PRODUCTION_BUILD,\n     NextBuildContext.dir!,\n-    { debugPrerender: NextBuildContext.debugPrerender }\n+    {\n+      debugPrerender: NextBuildContext.debugPrerender,\n+      reactProductionProfiling: NextBuildContext.reactProductionProfiling,\n+    }\n   )\n   NextBuildContext.nextBuildSpan = trace(\n     `worker-main-${workerData.compilerName}`"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 8,
        "deletions": 2
    }
}