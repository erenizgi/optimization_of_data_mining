{
    "author": "wesjune",
    "message": "docs: change Dashboard component to async for session verification (#81880)\n\n## Improving Documentation\n\nUpdated the `Dashboard` component to be an `async` function to properly\n`await` the session verification process. This change ensures that the\nuser role is retrieved correctly from `session` before rendering the\ncomponent.\n\nCo-authored-by: Joseph <joseph.chamochumbi@vercel.com>",
    "sha": "9c5fa27c680fa270220e237096ca0a4bf749f474",
    "files": [
        {
            "sha": "313581bfbbfe87ca4363cd5d27be54ba324bfa10",
            "filename": "docs/01-app/02-guides/authentication.mdx",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/9c5fa27c680fa270220e237096ca0a4bf749f474/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "raw_url": "https://github.com/vercel/next.js/raw/9c5fa27c680fa270220e237096ca0a4bf749f474/docs%2F01-app%2F02-guides%2Fauthentication.mdx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/docs%2F01-app%2F02-guides%2Fauthentication.mdx?ref=9c5fa27c680fa270220e237096ca0a4bf749f474",
            "patch": "@@ -1312,7 +1312,7 @@ Auth check in [Server Components](/docs/app/getting-started/server-and-client-co\n ```tsx filename=\"app/dashboard/page.tsx\" switcher\n import { verifySession } from '@/app/lib/dal'\n \n-export default function Dashboard() {\n+export default async function Dashboard() {\n   const session = await verifySession()\n   const userRole = session?.user?.role // Assuming 'role' is part of the session object\n \n@@ -1329,9 +1329,9 @@ export default function Dashboard() {\n ```jsx filename=\"app/dashboard/page.jsx\" switcher\n import { verifySession } from '@/app/lib/dal'\n \n-export default function Dashboard() {\n+export default async function Dashboard() {\n   const session = await verifySession()\n-  const userRole = session.role // Assuming 'role' is part of the session object\n+  const userRole = session?.user?.role // Assuming 'role' is part of the session object\n \n   if (userRole === 'admin') {\n     return <AdminDashboard />"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}