{
    "author": "devjiwonchoi",
    "message": "[devtools] add fullscreen mode (#80788)\n\nhttps://github.com/user-attachments/assets/bcc10e3b-ecb1-4189-8f5b-17f53bbf8bf6\n\n---------\n\nCo-authored-by: graphite-app[bot] <96075541+graphite-app[bot]@users.noreply.github.com>",
    "sha": "631e7e65eb943aff446fc9ef5a33a19a2bc261e1",
    "files": [
        {
            "sha": "5833fb074a225070ef55407cea0ee1f11816e46e",
            "filename": "packages/next/src/next-devtools/dev-overlay/components/devtools-panel/devtools-panel.tsx",
            "status": "modified",
            "additions": 30,
            "deletions": 14,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/631e7e65eb943aff446fc9ef5a33a19a2bc261e1/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/631e7e65eb943aff446fc9ef5a33a19a2bc261e1/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Fcomponents%2Fdevtools-panel%2Fdevtools-panel.tsx?ref=631e7e65eb943aff446fc9ef5a33a19a2bc261e1",
            "patch": "@@ -21,6 +21,7 @@ import { Draggable } from '../errors/dev-tools-indicator/draggable'\n import { INDICATOR_PADDING } from '../devtools-indicator/devtools-indicator'\n import { FullScreenIcon } from '../../icons/fullscreen'\n import { Cross } from '../../icons/cross'\n+import { MinimizeIcon } from '../../icons/minimize'\n \n export type DevToolsPanelTabType = 'issues' | 'route' | 'settings'\n \n@@ -38,6 +39,7 @@ export function DevToolsPanel({\n   getSquashedHydrationErrorDetails: (error: Error) => HydrationErrorState | null\n }) {\n   const [activeTab, setActiveTab] = useState<DevToolsPanelTabType>('issues')\n+  const [isFullscreen, setIsFullscreen] = useState(false)\n   const [vertical, horizontal] = state.devToolsPosition.split('-', 2)\n \n   const onCloseDevToolsPanel = () => {\n@@ -60,19 +62,27 @@ export function DevToolsPanel({\n     localStorage.setItem(STORAGE_KEY_SCALE, e.target.value)\n   }\n \n+  const handleFullscreenToggle = () => {\n+    setIsFullscreen((prev) => !prev)\n+  }\n+\n   return (\n     <Overlay\n       data-nextjs-devtools-panel-overlay\n-      style={{\n-        [vertical]: `${INDICATOR_PADDING}px`,\n-        [horizontal]: `${INDICATOR_PADDING}px`,\n-        [vertical === 'top' ? 'bottom' : 'top']: 'auto',\n-        [horizontal === 'left' ? 'right' : 'left']: 'auto',\n-      }}\n+      style={\n+        !isFullscreen\n+          ? {\n+              [vertical]: `${INDICATOR_PADDING}px`,\n+              [horizontal]: `${INDICATOR_PADDING}px`,\n+              [vertical === 'top' ? 'bottom' : 'top']: 'auto',\n+              [horizontal === 'left' ? 'right' : 'left']: 'auto',\n+            }\n+          : {}\n+      }\n     >\n       {/* TODO: Investigate why onCloseDevToolsPanel on Dialog doesn't close when clicked outside. */}\n       <OverlayBackdrop\n-        data-nextjs-devtools-panel-overlay-backdrop\n+        data-nextjs-devtools-panel-overlay-backdrop={isFullscreen}\n         onClick={onCloseDevToolsPanel}\n       />\n       <Draggable\n@@ -128,9 +138,15 @@ export function DevToolsPanel({\n                     </button>\n                   </div>\n                   <div data-nextjs-devtools-panel-header-action-button-group>\n-                    {/* TODO: Currently no-op, will add fullscreen toggle. */}\n-                    <button data-nextjs-devtools-panel-header-action-button>\n-                      <FullScreenIcon width={16} height={16} />\n+                    <button\n+                      data-nextjs-devtools-panel-header-action-button\n+                      onClick={handleFullscreenToggle}\n+                    >\n+                      {isFullscreen ? (\n+                        <MinimizeIcon width={16} height={16} />\n+                      ) : (\n+                        <FullScreenIcon width={16} height={16} />\n+                      )}\n                     </button>\n                     <button\n                       data-nextjs-devtools-panel-header-action-button\n@@ -186,11 +202,8 @@ export const DEVTOOLS_PANEL_STYLES = css`\n   }\n \n   [data-nextjs-devtools-panel-overlay] {\n-    padding: initial;\n     margin: auto;\n     width: 100%;\n-    /* TODO: This is for fullscreen mode. */\n-    /* top: 10vh; */\n \n     @media (max-width: 575px) {\n       left: 20px !important;\n@@ -212,10 +225,13 @@ export const DEVTOOLS_PANEL_STYLES = css`\n   }\n \n   [data-nextjs-devtools-panel-overlay-backdrop] {\n-    /* TODO: Blur on fullscreen mode. */\n     opacity: 0;\n   }\n \n+  [data-nextjs-devtools-panel-overlay-backdrop='true'] {\n+    opacity: 1;\n+  }\n+\n   [data-nextjs-devtools-panel-draggable] {\n     /* For responsiveness */\n     width: 100%;"
        },
        {
            "sha": "58c32d169c30edab5044cdae82a08e1375d55d78",
            "filename": "packages/next/src/next-devtools/dev-overlay/icons/minimize.tsx",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/vercel/next.js/blob/631e7e65eb943aff446fc9ef5a33a19a2bc261e1/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Fminimize.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/631e7e65eb943aff446fc9ef5a33a19a2bc261e1/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Fminimize.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fnext-devtools%2Fdev-overlay%2Ficons%2Fminimize.tsx?ref=631e7e65eb943aff446fc9ef5a33a19a2bc261e1",
            "patch": "@@ -0,0 +1,19 @@\n+export function MinimizeIcon(props: React.SVGProps<SVGSVGElement>) {\n+  return (\n+    <svg\n+      xmlns=\"http://www.w3.org/2000/svg\"\n+      width=\"16\"\n+      height=\"16\"\n+      viewBox=\"0 0 16 16\"\n+      fill=\"none\"\n+      {...props}\n+    >\n+      <path\n+        fillRule=\"evenodd\"\n+        clipRule=\"evenodd\"\n+        d=\"M1 6V4.5H4.5V1H6V5C6 5.55228 5.55228 6 5 6H1ZM11.5 1H10V5C10 5.55228 10.4477 6 11 6H15V4.5H11.5V1ZM15.04 11.5V10H11C10.4477 10 10 10.4477 10 11V15H11.5V11.5H15.04ZM4.5 15H6V11C6 10.4477 5.55228 10 5 10H1V11.5H4.5V15Z\"\n+        fill=\"currentColor\"\n+      />\n+    </svg>\n+  )\n+}"
        }
    ],
    "stats": {
        "total": 63,
        "additions": 49,
        "deletions": 14
    }
}