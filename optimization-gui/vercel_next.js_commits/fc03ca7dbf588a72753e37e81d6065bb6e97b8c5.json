{
    "author": "huozhi",
    "message": "[metadata] add Yeti to html limited bots (#77335)\n\n### What\n\nAdd `Yeti` to html limited bots for serving blocking metadata to the\ncorresponding search engine.\n\nx-ref:\nhttps://github.com/vercel/next.js/issues/55524#issuecomment-2699550055\n\nCloses NDX-987",
    "sha": "fc03ca7dbf588a72753e37e81d6065bb6e97b8c5",
    "files": [
        {
            "sha": "199ef90be760ad1e958dcecb04010e392760a31f",
            "filename": "packages/next/src/shared/lib/router/utils/html-bots.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/fc03ca7dbf588a72753e37e81d6065bb6e97b8c5/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Frouter%2Futils%2Fhtml-bots.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/fc03ca7dbf588a72753e37e81d6065bb6e97b8c5/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Frouter%2Futils%2Fhtml-bots.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Frouter%2Futils%2Fhtml-bots.ts?ref=fc03ca7dbf588a72753e37e81d6065bb6e97b8c5",
            "patch": "@@ -1,4 +1,4 @@\n // This regex contains the bots that we need to do a blocking render for and can't safely stream the response\n // due to how they parse the DOM. For example, they might explicitly check for metadata in the `head` tag, so we can't stream metadata tags after the `head` was sent.\n export const HTML_LIMITED_BOT_UA_RE =\n-  /Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview/i\n+  /Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti/i"
        },
        {
            "sha": "995ea84e6c60185952bcabb11801fceead6ead44",
            "filename": "test/production/app-dir/metadata-streaming-config/metadata-streaming-config.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/fc03ca7dbf588a72753e37e81d6065bb6e97b8c5/test%2Fproduction%2Fapp-dir%2Fmetadata-streaming-config%2Fmetadata-streaming-config.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/fc03ca7dbf588a72753e37e81d6065bb6e97b8c5/test%2Fproduction%2Fapp-dir%2Fmetadata-streaming-config%2Fmetadata-streaming-config.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fproduction%2Fapp-dir%2Fmetadata-streaming-config%2Fmetadata-streaming-config.test.ts?ref=fc03ca7dbf588a72753e37e81d6065bb6e97b8c5",
            "patch": "@@ -11,7 +11,7 @@ describe('app-dir - metadata-streaming-config', () => {\n     )\n \n     expect(requiredServerFiles.config.htmlLimitedBots).toMatchInlineSnapshot(\n-      `\"Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview\"`\n+      `\"Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti\"`\n     )\n \n     const prerenderManifest = JSON.parse(\n@@ -38,7 +38,7 @@ describe('app-dir - metadata-streaming-config', () => {\n        \"/ppr\": {\n          \"key\": \"user-agent\",\n          \"type\": \"header\",\n-         \"value\": \"Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview\",\n+         \"value\": \"Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti\",\n        },\n      }\n     `)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}