{
    "author": "timneutkens",
    "message": "Turbopack: Remove passing jsConfig (#83331)\n\n## What?\n\nThese values were only provided to emit events and not for the actual\nhandling of jsconfig/tsconfig `paths` and such, those are handled\nseparately by Turbopack itself. This removes the events as they're no\nlonger relevant and it's not worth slowing down dev/build for them.",
    "sha": "af962cb2572818fa538e96c278adc9bac36e9b6e",
    "files": [
        {
            "sha": "f73803da3a260b24ae6cdf4f8f2004ea50c6537c",
            "filename": "crates/napi/src/next_api/project.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnapi%2Fsrc%2Fnext_api%2Fproject.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -146,9 +146,6 @@ pub struct NapiProjectOptions {\n     /// The contents of next.config.js, serialized to JSON.\n     pub next_config: RcStr,\n \n-    /// The contents of ts/config read by load-jsconfig, serialized to JSON.\n-    pub js_config: RcStr,\n-\n     /// A map of environment variables to use when compiling code.\n     pub env: Vec<NapiEnvVar>,\n \n@@ -204,9 +201,6 @@ pub struct NapiPartialProjectOptions {\n     /// The contents of next.config.js, serialized to JSON.\n     pub next_config: Option<RcStr>,\n \n-    /// The contents of ts/config read by load-jsconfig, serialized to JSON.\n-    pub js_config: Option<RcStr>,\n-\n     /// A map of environment variables to use when compiling code.\n     pub env: Option<Vec<NapiEnvVar>>,\n \n@@ -276,7 +270,6 @@ impl From<NapiProjectOptions> for ProjectOptions {\n             project_path: val.project_path,\n             watch: val.watch.into(),\n             next_config: val.next_config,\n-            js_config: val.js_config,\n             env: val\n                 .env\n                 .into_iter()\n@@ -301,7 +294,6 @@ impl From<NapiPartialProjectOptions> for PartialProjectOptions {\n             project_path: val.project_path,\n             watch: val.watch.map(From::from),\n             next_config: val.next_config,\n-            js_config: val.js_config,\n             env: val\n                 .env\n                 .map(|env| env.into_iter().map(|var| (var.name, var.value)).collect()),"
        },
        {
            "sha": "3cbeccce3850c576d3165f143d30b8ba4075552a",
            "filename": "crates/next-api/benches/hmr.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-api%2Fbenches%2Fhmr.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-api%2Fbenches%2Fhmr.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fbenches%2Fhmr.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -192,7 +192,6 @@ impl HmrBenchmark {\n                 root_path: RcStr::from(root_path),\n                 project_path: RcStr::from(project_path.clone()),\n                 next_config: load_next_config(),\n-                js_config: rcstr!(\"{}\"),\n                 env: vec![],\n                 define_env: DefineEnv {\n                     client: vec![],"
        },
        {
            "sha": "0994fe411021a4d3786fc6e809f482cb7dd0e250",
            "filename": "crates/next-api/src/project.rs",
            "status": "modified",
            "additions": 1,
            "deletions": 37,
            "changes": 38,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-api%2Fsrc%2Fproject.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-api%2Fsrc%2Fproject.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -13,7 +13,7 @@ use next_core::{\n     next_client::{\n         ClientChunkingContextOptions, get_client_chunking_context, get_client_compile_time_info,\n     },\n-    next_config::{JsConfig, ModuleIds as ModuleIdStrategyConfig, NextConfig},\n+    next_config::{ModuleIds as ModuleIdStrategyConfig, NextConfig},\n     next_edge::context::EdgeChunkingContextOptions,\n     next_server::{\n         ServerChunkingContextOptions, ServerContextType, get_server_chunking_context,\n@@ -160,9 +160,6 @@ pub struct ProjectOptions {\n     /// The contents of next.config.js, serialized to JSON.\n     pub next_config: RcStr,\n \n-    /// The contents of ts/config read by load-jsconfig, serialized to JSON.\n-    pub js_config: RcStr,\n-\n     /// A map of environment variables to use when compiling code.\n     pub env: Vec<(RcStr, RcStr)>,\n \n@@ -212,9 +209,6 @@ pub struct PartialProjectOptions {\n     /// The contents of next.config.js, serialized to JSON.\n     pub next_config: Option<RcStr>,\n \n-    /// The contents of ts/config read by load-jsconfig, serialized to JSON.\n-    pub js_config: Option<RcStr>,\n-\n     /// A map of environment variables to use when compiling code.\n     pub env: Option<Vec<(RcStr, RcStr)>>,\n \n@@ -341,7 +335,6 @@ impl ProjectContainer {\n             root_path,\n             project_path,\n             next_config,\n-            js_config,\n             env,\n             define_env,\n             watch,\n@@ -368,9 +361,6 @@ impl ProjectContainer {\n         if let Some(next_config) = next_config {\n             new_options.next_config = next_config;\n         }\n-        if let Some(js_config) = js_config {\n-            new_options.js_config = js_config;\n-        }\n         if let Some(env) = env {\n             new_options.env = env;\n         }\n@@ -443,7 +433,6 @@ impl ProjectContainer {\n         let env_map: Vc<EnvMap>;\n         let next_config;\n         let define_env;\n-        let js_config;\n         let root_path;\n         let project_path;\n         let watch;\n@@ -467,7 +456,6 @@ impl ProjectContainer {\n             }\n             .cell();\n             next_config = NextConfig::from_string(Vc::cell(options.next_config.clone()));\n-            js_config = JsConfig::from_string(Vc::cell(options.js_config.clone()));\n             root_path = options.root_path.clone();\n             project_path = options.project_path.clone();\n             watch = options.watch;\n@@ -491,7 +479,6 @@ impl ProjectContainer {\n             project_path,\n             watch,\n             next_config: next_config.to_resolved().await?,\n-            js_config: js_config.to_resolved().await?,\n             dist_dir,\n             env: ResolvedVc::upcast(env_map.to_resolved().await?),\n             define_env: define_env.to_resolved().await?,\n@@ -562,9 +549,6 @@ pub struct Project {\n     /// Next config.\n     next_config: ResolvedVc<NextConfig>,\n \n-    /// Js/Tsconfig read by load-jsconfig\n-    js_config: ResolvedVc<JsConfig>,\n-\n     /// A map of environment variables to use when compiling code.\n     env: ResolvedVc<Box<dyn ProcessEnv>>,\n \n@@ -796,11 +780,6 @@ impl Project {\n         Ok(Vc::cell(*self.mode.await? == NextMode::Development))\n     }\n \n-    #[turbo_tasks::function]\n-    pub(super) fn js_config(&self) -> Vc<JsConfig> {\n-        *self.js_config\n-    }\n-\n     #[turbo_tasks::function]\n     pub(super) fn encryption_key(&self) -> Vc<RcStr> {\n         Vc::cell(self.encryption_key.clone())\n@@ -1138,21 +1117,6 @@ impl Project {\n         // it is always using SWC so we don't check swc here.\n         emit_event(env!(\"VERGEN_CARGO_TARGET_TRIPLE\"), true);\n \n-        // Go over jsconfig and report enabled features.\n-        let compiler_options = self.js_config().compiler_options().await?;\n-        let compiler_options = compiler_options.as_object();\n-        let experimental_decorators_enabled = compiler_options\n-            .as_ref()\n-            .and_then(|compiler_options| compiler_options.get(\"experimentalDecorators\"))\n-            .is_some();\n-        let jsx_import_source_enabled = compiler_options\n-            .as_ref()\n-            .and_then(|compiler_options| compiler_options.get(\"jsxImportSource\"))\n-            .is_some();\n-\n-        emit_event(\"swcExperimentalDecorators\", experimental_decorators_enabled);\n-        emit_event(\"swcImportSource\", jsx_import_source_enabled);\n-\n         // Go over config and report enabled features.\n         // [TODO]: useSwcLoader is not being reported as it is not directly corresponds (it checks babel config existence)\n         // need to confirm what we'll do with turbopack."
        },
        {
            "sha": "13dec9cee3a4de6290c32c9e7bdfd7a97af977a9",
            "filename": "crates/next-build-test/src/main.rs",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-build-test%2Fsrc%2Fmain.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-build-test%2Fsrc%2Fmain.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-build-test%2Fsrc%2Fmain.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -169,7 +169,6 @@ fn main() {\n                 dev: true,\n                 encryption_key: rcstr!(\"deadbeef\"),\n                 env: vec![],\n-                js_config: include_str!(\"../jsConfig.json\").into(),\n                 next_config: include_str!(\"../nextConfig.json\").into(),\n                 preview_props: next_api::project::DraftModeOptions {\n                     preview_mode_encryption_key: rcstr!(\"deadbeef\"),"
        },
        {
            "sha": "1a0654a029a7037c9485e5caa609b3dd76001de4",
            "filename": "crates/next-core/src/next_client/context.rs",
            "status": "modified",
            "additions": 19,
            "deletions": 8,
            "changes": 27,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_client%2Fcontext.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -184,17 +184,19 @@ pub async fn get_client_resolve_options_context(\n         ..Default::default()\n     };\n \n+    let tsconfig_path = next_config\n+        .typescript_tsconfig_path()\n+        .await?\n+        .as_ref()\n+        .map(|p| project_path.join(p))\n+        .transpose()?;\n+\n     Ok(ResolveOptionsContext {\n         enable_typescript: true,\n         enable_react: true,\n         enable_mjs_extension: true,\n         custom_extensions: next_config.resolve_extension().owned().await?,\n-        tsconfig_path: next_config\n-            .typescript_tsconfig_path()\n-            .await?\n-            .as_ref()\n-            .map(|p| project_path.join(p))\n-            .transpose()?,\n+        tsconfig_path,\n         rules: vec![(\n             foreign_code_context_condition(next_config, project_path).await?,\n             resolve_options_context.clone().resolved_cell(),\n@@ -223,17 +225,26 @@ pub async fn get_client_module_options_context(\n         *execution_context,\n     );\n \n-    let tsconfig = get_typescript_transform_options(project_path.clone())\n+    let tsconfig_path = next_config\n+        .typescript_tsconfig_path()\n+        .await?\n+        .as_ref()\n+        .map(|p| project_path.join(p))\n+        .transpose()?;\n+\n+    let tsconfig = get_typescript_transform_options(project_path.clone(), tsconfig_path.clone())\n         .to_resolved()\n         .await?;\n-    let decorators_options = get_decorators_transform_options(project_path.clone());\n+    let decorators_options =\n+        get_decorators_transform_options(project_path.clone(), tsconfig_path.clone());\n     let enable_mdx_rs = *next_config.mdx_rs().await?;\n     let jsx_runtime_options = get_jsx_transform_options(\n         project_path.clone(),\n         mode,\n         Some(resolve_options_context),\n         false,\n         next_config,\n+        tsconfig_path,\n     )\n     .to_resolved()\n     .await?;"
        },
        {
            "sha": "3ec6ebf7f12763220c4d5b02f529cb8b97068952",
            "filename": "crates/next-core/src/next_server/context.rs",
            "status": "modified",
            "additions": 38,
            "deletions": 16,
            "changes": 54,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_server%2Fcontext.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -329,17 +329,19 @@ pub async fn get_server_resolve_options_context(\n         ..Default::default()\n     };\n \n+    let tsconfig_path = next_config\n+        .typescript_tsconfig_path()\n+        .await?\n+        .as_ref()\n+        .map(|p| project_path.join(p))\n+        .transpose()?;\n+\n     Ok(ResolveOptionsContext {\n         enable_typescript: true,\n         enable_react: true,\n         enable_mjs_extension: true,\n         custom_extensions: next_config.resolve_extension().owned().await?,\n-        tsconfig_path: next_config\n-            .typescript_tsconfig_path()\n-            .await?\n-            .as_ref()\n-            .map(|p| project_path.join(p))\n-            .transpose()?,\n+        tsconfig_path,\n         rules: vec![(\n             foreign_code_context_condition,\n             resolve_options_context.clone().resolved_cell(),\n@@ -520,11 +522,19 @@ pub async fn get_server_module_options_context(\n         .await?;\n     let css_versions = environment.css_runtime_versions();\n \n+    let tsconfig_path = next_config\n+        .typescript_tsconfig_path()\n+        .await?\n+        .as_ref()\n+        .map(|p| project_path.join(p))\n+        .transpose()?;\n+\n     // ModuleOptionsContext related options\n-    let tsconfig = get_typescript_transform_options(project_path.clone())\n+    let tsconfig = get_typescript_transform_options(project_path.clone(), tsconfig_path.clone())\n         .to_resolved()\n         .await?;\n-    let decorators_options = get_decorators_transform_options(project_path.clone());\n+    let decorators_options =\n+        get_decorators_transform_options(project_path.clone(), tsconfig_path.clone());\n     let enable_mdx_rs = *next_config.mdx_rs().await?;\n \n     // Get the jsx transform options for the `client` side.\n@@ -534,14 +544,26 @@ pub async fn get_server_module_options_context(\n     //\n     // This enables correct emotion transform and other hydration between server and\n     // client bundles. ref: https://github.com/vercel/next.js/blob/4bbf9b6c70d2aa4237defe2bebfa790cdb7e334e/packages/next/src/build/webpack-config.ts#L1421-L1426\n-    let jsx_runtime_options =\n-        get_jsx_transform_options(project_path.clone(), mode, None, false, next_config)\n-            .to_resolved()\n-            .await?;\n-    let rsc_jsx_runtime_options =\n-        get_jsx_transform_options(project_path.clone(), mode, None, true, next_config)\n-            .to_resolved()\n-            .await?;\n+    let jsx_runtime_options = get_jsx_transform_options(\n+        project_path.clone(),\n+        mode,\n+        None,\n+        false,\n+        next_config,\n+        tsconfig_path.clone(),\n+    )\n+    .to_resolved()\n+    .await?;\n+    let rsc_jsx_runtime_options = get_jsx_transform_options(\n+        project_path.clone(),\n+        mode,\n+        None,\n+        true,\n+        next_config,\n+        tsconfig_path,\n+    )\n+    .to_resolved()\n+    .await?;\n \n     // A set of custom ecma transform rules being applied to server context.\n     let source_transform_rules: Vec<ModuleRule> = vec!["
        },
        {
            "sha": "d86d5c8124b81924ec307a9ec55492b6f53bb153",
            "filename": "crates/next-core/src/transform_options.rs",
            "status": "modified",
            "additions": 29,
            "deletions": 13,
            "changes": 42,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-core%2Fsrc%2Ftransform_options.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/crates%2Fnext-core%2Fsrc%2Ftransform_options.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Ftransform_options.rs?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -20,27 +20,41 @@ use crate::{mode::NextMode, next_config::NextConfig};\n \n async fn get_typescript_options(\n     project_path: FileSystemPath,\n+    tsconfig_path: Option<FileSystemPath>,\n ) -> Result<Option<Vec<(Vc<FileJsonContent>, ResolvedVc<Box<dyn Source>>)>>> {\n-    let tsconfig = find_context_file(project_path, tsconfig());\n-    Ok(match tsconfig.await.ok().as_deref() {\n-        Some(FindContextFileResult::Found(path, _)) => read_tsconfigs(\n-            path.read(),\n-            ResolvedVc::upcast(FileSource::new(path.clone()).to_resolved().await?),\n-            node_cjs_resolve_options(path.root().owned().await?),\n+    if let Some(tsconfig_path) = tsconfig_path {\n+        let tsconfigs = read_tsconfigs(\n+            tsconfig_path.read(),\n+            ResolvedVc::upcast(FileSource::new(tsconfig_path.clone()).to_resolved().await?),\n+            node_cjs_resolve_options(tsconfig_path.root().owned().await?),\n         )\n         .await\n-        .ok(),\n-        Some(FindContextFileResult::NotFound(_)) | None => None,\n-    })\n+        .ok();\n+\n+        Ok(tsconfigs)\n+    } else {\n+        let tsconfig = find_context_file(project_path, tsconfig());\n+        Ok(match tsconfig.await.ok().as_deref() {\n+            Some(FindContextFileResult::Found(path, _)) => read_tsconfigs(\n+                path.read(),\n+                ResolvedVc::upcast(FileSource::new(path.clone()).to_resolved().await?),\n+                node_cjs_resolve_options(path.root().owned().await?),\n+            )\n+            .await\n+            .ok(),\n+            Some(FindContextFileResult::NotFound(_)) | None => None,\n+        })\n+    }\n }\n \n /// Build the transform options for specifically for the typescript's runtime\n /// outputs\n #[turbo_tasks::function]\n pub async fn get_typescript_transform_options(\n     project_path: FileSystemPath,\n+    tsconfig_path: Option<FileSystemPath>,\n ) -> Result<Vc<TypescriptTransformOptions>> {\n-    let tsconfig = get_typescript_options(project_path).await?;\n+    let tsconfig = get_typescript_options(project_path, tsconfig_path).await?;\n \n     let use_define_for_class_fields = if let Some(tsconfig) = tsconfig {\n         read_from_tsconfigs(&tsconfig, |json, _| {\n@@ -60,12 +74,13 @@ pub async fn get_typescript_transform_options(\n }\n \n /// Build the transform options for the decorators.\n-/// **TODO** Currnently only typescript's legacy decorators are supported\n+/// **TODO** Currently only typescript's legacy decorators are supported\n #[turbo_tasks::function]\n pub async fn get_decorators_transform_options(\n     project_path: FileSystemPath,\n+    tsconfig_path: Option<FileSystemPath>,\n ) -> Result<Vc<DecoratorsOptions>> {\n-    let tsconfig = get_typescript_options(project_path).await?;\n+    let tsconfig = get_typescript_options(project_path, tsconfig_path).await?;\n \n     let experimental_decorators = if let Some(ref tsconfig) = tsconfig {\n         read_from_tsconfigs(tsconfig, |json, _| {\n@@ -135,8 +150,9 @@ pub async fn get_jsx_transform_options(\n     resolve_options_context: Option<Vc<ResolveOptionsContext>>,\n     is_rsc_context: bool,\n     next_config: Vc<NextConfig>,\n+    tsconfig_path: Option<FileSystemPath>,\n ) -> Result<Vc<JsxTransformOptions>> {\n-    let tsconfig = get_typescript_options(project_path.clone()).await?;\n+    let tsconfig = get_typescript_options(project_path.clone(), tsconfig_path).await?;\n \n     let is_react_development = mode.await?.is_react_development();\n     let enable_react_refresh = if is_react_development {"
        },
        {
            "sha": "4810f734df036ea9767d526d97e8eae87e202732",
            "filename": "packages/next/src/build/load-jsconfig.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fload-jsconfig.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fload-jsconfig.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fload-jsconfig.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -65,19 +65,17 @@ export default async function loadJsConfig(\n     ])\n     typeScriptPath = deps.resolved.get('typescript')\n   } catch {}\n-  const tsConfigPath = path.join(dir, config.typescript.tsconfigPath)\n+  const tsConfigFileName = config.typescript.tsconfigPath || 'tsconfig.json'\n+  const tsConfigPath = path.join(dir, tsConfigFileName)\n   const useTypeScript = Boolean(typeScriptPath && fs.existsSync(tsConfigPath))\n \n   let implicitBaseurl\n   let jsConfig: { compilerOptions: Record<string, any> } | undefined\n   // jsconfig is a subset of tsconfig\n   if (useTypeScript) {\n-    if (\n-      config.typescript.tsconfigPath !== 'tsconfig.json' &&\n-      TSCONFIG_WARNED === false\n-    ) {\n+    if (tsConfigFileName !== 'tsconfig.json' && TSCONFIG_WARNED === false) {\n       TSCONFIG_WARNED = true\n-      Log.info(`Using tsconfig file: ${config.typescript.tsconfigPath}`)\n+      Log.info(`Using tsconfig file: ${tsConfigFileName}`)\n     }\n \n     const ts = (await Promise.resolve("
        },
        {
            "sha": "ddef77f5a298245d7ee8806ca28075ac140fecdd",
            "filename": "packages/next/src/build/swc/generated-native.d.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Fgenerated-native.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Fgenerated-native.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Fgenerated-native.d.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -120,8 +120,6 @@ export interface NapiProjectOptions {\n   watch: NapiWatchOptions\n   /** The contents of next.config.js, serialized to JSON. */\n   nextConfig: RcStr\n-  /** The contents of ts/config read by load-jsconfig, serialized to JSON. */\n-  jsConfig: RcStr\n   /** A map of environment variables to use when compiling code. */\n   env: Array<NapiEnvVar>\n   /**\n@@ -172,8 +170,6 @@ export interface NapiPartialProjectOptions {\n   watch?: NapiWatchOptions\n   /** The contents of next.config.js, serialized to JSON. */\n   nextConfig?: RcStr\n-  /** The contents of ts/config read by load-jsconfig, serialized to JSON. */\n-  jsConfig?: RcStr\n   /** A map of environment variables to use when compiling code. */\n   env?: Array<NapiEnvVar>\n   /**"
        },
        {
            "sha": "f46bfd5b9a1b207c1b2e71e41f9ec2637bb3fe49",
            "filename": "packages/next/src/build/swc/index.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Findex.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -625,7 +625,6 @@ function bindingToApi(\n         options.nextConfig,\n         path.join(options.rootPath, options.projectPath)\n       ),\n-      jsConfig: JSON.stringify(options.jsConfig),\n       env: rustifyEnv(options.env),\n     }\n   }\n@@ -641,7 +640,6 @@ function bindingToApi(\n           options.nextConfig,\n           path.join(options.rootPath!, options.projectPath!)\n         )),\n-      jsConfig: options.jsConfig && JSON.stringify(options.jsConfig),\n       env: options.env && rustifyEnv(options.env),\n     }\n   }"
        },
        {
            "sha": "38f60b0c707bffed66e545d3498ce7b27eebf4d5",
            "filename": "packages/next/src/build/swc/types.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Ftypes.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Ftypes.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fswc%2Ftypes.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -378,17 +378,6 @@ export interface ProjectOptions {\n    */\n   nextConfig: NextConfigComplete\n \n-  /**\n-   * Jsconfig, or tsconfig contents.\n-   *\n-   * Next.js implicitly requires to read it to support few options\n-   * https://nextjs.org/docs/architecture/nextjs-compiler#legacy-decorators\n-   * https://nextjs.org/docs/architecture/nextjs-compiler#importsource\n-   */\n-  jsConfig: {\n-    compilerOptions: object\n-  }\n-\n   /**\n    * A map of environment variables to use when compiling code.\n    */"
        },
        {
            "sha": "8390fb03400f617223577e463980c50ef11cdf44",
            "filename": "packages/next/src/build/turbopack-build/impl.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fturbopack-build%2Fimpl.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fturbopack-build%2Fimpl.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fturbopack-build%2Fimpl.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -2,7 +2,6 @@ import path from 'path'\n import { validateTurboNextConfig } from '../../lib/turbopack-warning'\n import {\n   formatIssue,\n-  getTurbopackJsConfig,\n   isPersistentCachingEnabled,\n   isRelevantWarning,\n } from '../../shared/lib/turbopack/utils'\n@@ -60,7 +59,6 @@ export async function turbopackBuild(): Promise<{\n       projectPath: normalizePath(path.relative(rootPath, dir) || '.'),\n       distDir,\n       nextConfig: config,\n-      jsConfig: await getTurbopackJsConfig(dir, config),\n       watch: {\n         enable: false,\n       },"
        },
        {
            "sha": "95f4db41e9ae003365fd4ccc421ab6bd6def78ff",
            "filename": "packages/next/src/build/type-check.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Ftype-check.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Ftype-check.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Ftype-check.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -23,7 +23,7 @@ function verifyTypeScriptSetup(\n   distDir: string,\n   intentDirs: string[],\n   typeCheckPreflight: boolean,\n-  tsconfigPath: string,\n+  tsconfigPath: string | undefined,\n   disableStaticImages: boolean,\n   cacheDir: string | undefined,\n   enableWorkerThreads: boolean | undefined,"
        },
        {
            "sha": "2fe3de03ecf1c93cb306e2188e2a5ce2b3820f1f",
            "filename": "packages/next/src/build/webpack/loaders/next-app-loader/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-app-loader%2Findex.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -835,7 +835,7 @@ const nextAppLoader: AppLoader = async function nextAppLoader() {\n       const [createdRootLayout, rootLayoutPath] = await verifyRootLayout({\n         appDir: appDir,\n         dir: rootDir!,\n-        tsconfigPath: tsconfigPath!,\n+        tsconfigPath: tsconfigPath,\n         pagePath,\n         pageExtensions,\n       })"
        },
        {
            "sha": "63d1d3f70281356f70051aea9805091474f5f416",
            "filename": "packages/next/src/lib/verify-root-layout.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Flib%2Fverify-root-layout.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Flib%2Fverify-root-layout.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Fverify-root-layout.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -63,7 +63,7 @@ export async function verifyRootLayout({\n }: {\n   dir: string\n   appDir: string\n-  tsconfigPath: string\n+  tsconfigPath: string | undefined\n   pagePath: string\n   pageExtensions: PageExtensions\n }): Promise<[boolean, string | undefined]> {\n@@ -112,7 +112,8 @@ export async function verifyRootLayout({\n     }\n \n     if (typeof availableDir === 'string') {\n-      const resolvedTsConfigPath = path.join(dir, tsconfigPath)\n+      const tsConfigFileName = tsconfigPath || 'tsconfig.json'\n+      const resolvedTsConfigPath = path.join(dir, tsConfigFileName)\n       const hasTsConfig = await fs.access(resolvedTsConfigPath).then(\n         () => true,\n         () => false"
        },
        {
            "sha": "c123262c5a7f7c6c53d40c2ae632a0d9501cc0e2",
            "filename": "packages/next/src/lib/verify-typescript-setup.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Flib%2Fverify-typescript-setup.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Flib%2Fverify-typescript-setup.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Flib%2Fverify-typescript-setup.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -47,18 +47,19 @@ export async function verifyTypeScriptSetup({\n   dir: string\n   distDir: string\n   cacheDir?: string\n-  tsconfigPath: string\n+  tsconfigPath: string | undefined\n   intentDirs: string[]\n   typeCheckPreflight: boolean\n   disableStaticImages: boolean\n   hasAppDir: boolean\n   hasPagesDir: boolean\n }): Promise<{ result?: TypeCheckResult; version: string | null }> {\n-  const resolvedTsConfigPath = path.join(dir, tsconfigPath)\n+  const tsConfigFileName = tsconfigPath || 'tsconfig.json'\n+  const resolvedTsConfigPath = path.join(dir, tsConfigFileName)\n \n   try {\n     // Check if the project uses TypeScript:\n-    const intent = await getTypeScriptIntent(dir, intentDirs, tsconfigPath)\n+    const intent = await getTypeScriptIntent(dir, intentDirs, tsConfigFileName)\n     if (!intent) {\n       return { version: null }\n     }"
        },
        {
            "sha": "1265ca67d88ca634ba743cc95e658a29dabe7158",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -33,7 +33,7 @@ import type { FallbackRouteParam } from '../build/static-paths/types'\n \n export type NextConfigComplete = Required<NextConfig> & {\n   images: Required<ImageConfigComplete>\n-  typescript: Required<TypeScriptConfig>\n+  typescript: TypeScriptConfig\n   configOrigin?: string\n   configFile?: string\n   configFileName: string\n@@ -1456,7 +1456,7 @@ export const defaultConfig = Object.freeze({\n   },\n   typescript: {\n     ignoreBuildErrors: false,\n-    tsconfigPath: 'tsconfig.json',\n+    tsconfigPath: undefined,\n   },\n   typedRoutes: false,\n   distDir: '.next',"
        },
        {
            "sha": "9b6bcbabea33ca6e89ad2a0d2994cb878a4550c6",
            "filename": "packages/next/src/server/dev/hot-reloader-turbopack.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-turbopack.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-turbopack.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fdev%2Fhot-reloader-turbopack.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -84,7 +84,6 @@ import { setBundlerFindSourceMapImplementation } from '../patch-error-inspect'\n import { getNextErrorFeedbackMiddleware } from '../../next-devtools/server/get-next-error-feedback-middleware'\n import {\n   formatIssue,\n-  getTurbopackJsConfig,\n   isPersistentCachingEnabled,\n   isWellKnownError,\n   processIssues,\n@@ -224,7 +223,6 @@ export async function createHotReloaderTurbopack(\n       projectPath: normalizePath(relative(rootPath, projectPath) || '.'),\n       distDir,\n       nextConfig: opts.nextConfig,\n-      jsConfig: await getTurbopackJsConfig(projectPath, nextConfig),\n       watch: {\n         enable: dev,\n         pollIntervalMs: nextConfig.watchOptions?.pollIntervalMs,"
        },
        {
            "sha": "1a0645b773aa3606ba21b26b188c0dddce16f77c",
            "filename": "packages/next/src/shared/lib/turbopack/utils.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fturbopack%2Futils.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fturbopack%2Futils.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fshared%2Flib%2Fturbopack%2Futils.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -14,7 +14,6 @@ import {\n import type { EntryKey } from './entry-key'\n import * as Log from '../../../build/output/log'\n import type { NextConfigComplete } from '../../../server/config-shared'\n-import loadJsConfig from '../../../build/load-jsconfig'\n \n type IssueKey = `${Issue['severity']}-${Issue['filePath']}-${string}-${string}`\n export type IssuesMap = Map<IssueKey, Issue>\n@@ -53,14 +52,6 @@ export function getIssueKey(issue: Issue): IssueKey {\n   )}-${JSON.stringify(issue.description)}`\n }\n \n-export async function getTurbopackJsConfig(\n-  dir: string,\n-  nextConfig: NextConfigComplete\n-) {\n-  const { jsConfig } = await loadJsConfig(dir, nextConfig)\n-  return jsConfig ?? { compilerOptions: {} }\n-}\n-\n export function processIssues(\n   currentEntryIssues: EntryIssuesMap,\n   key: EntryKey,"
        },
        {
            "sha": "df12c0b85ae82dc97ff77ae7e5289f8f458e8c6b",
            "filename": "test/development/basic/__snapshots__/next-rs-api.test.ts.snap",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fdevelopment%2Fbasic%2F__snapshots__%2Fnext-rs-api.test.ts.snap",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fdevelopment%2Fbasic%2F__snapshots__%2Fnext-rs-api.test.ts.snap",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2F__snapshots__%2Fnext-rs-api.test.ts.snap?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -100,20 +100,6 @@ exports[`next.rs api should detect the correct routes: diagnostics 1`] = `\n       \"swcEmotion\": \"false\",\n     },\n   },\n-  {\n-    \"category\": \"NextFeatureTelemetry_category_tbd\",\n-    \"name\": \"EVENT_BUILD_FEATURE_USAGE\",\n-    \"payload\": {\n-      \"swcExperimentalDecorators\": \"false\",\n-    },\n-  },\n-  {\n-    \"category\": \"NextFeatureTelemetry_category_tbd\",\n-    \"name\": \"EVENT_BUILD_FEATURE_USAGE\",\n-    \"payload\": {\n-      \"swcImportSource\": \"false\",\n-    },\n-  },\n   {\n     \"category\": \"NextFeatureTelemetry_category_tbd\",\n     \"name\": \"EVENT_BUILD_FEATURE_USAGE\","
        },
        {
            "sha": "a40900875c8c91c23237351ff0dc2a4efa70f5ee",
            "filename": "test/development/basic/next-rs-api.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fdevelopment%2Fbasic%2Fnext-rs-api.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fdevelopment%2Fbasic%2Fnext-rs-api.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fbasic%2Fnext-rs-api.test.ts?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -195,9 +195,6 @@ describe('next.rs api', () => {\n     const distDir = '.next'\n     project = await bindings.turbo.createProject({\n       env: {},\n-      jsConfig: {\n-        compilerOptions: {},\n-      },\n       nextConfig: nextConfig,\n       rootPath,\n       projectPath: path.relative(rootPath, next.testDir) || '.',"
        },
        {
            "sha": "8c13ebc5fdc86dbe1c4fbfea8a7558f145d54c4a",
            "filename": "test/integration/jsconfig/test/index.test.js",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fintegration%2Fjsconfig%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fintegration%2Fjsconfig%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Fjsconfig%2Ftest%2Findex.test.js?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -25,8 +25,16 @@ describe('jsconfig.json', () => {\n         })\n         try {\n           const res = await nextBuild(appDir, [], { stderr: true })\n-          expect(res.stderr).toMatch(/Error: Failed to parse \"/)\n-          expect(res.stderr).toMatch(/JSON5: invalid end of input at 1:2/)\n+          if (process.env.IS_TURBOPACK_TEST) {\n+            expect(res.stderr).toMatch(/An issue occurred while parsing/)\n+            expect(res.stderr).toMatch(/jsconfig.json:1:1/)\n+            expect(res.stderr).toMatch(\n+              /tsconfig is not parseable: invalid JSON: Unterminated object/\n+            )\n+          } else {\n+            expect(res.stderr).toMatch(/Error: Failed to parse \"/)\n+            expect(res.stderr).toMatch(/JSON5: invalid end of input at 1:2/)\n+          }\n         } finally {\n           await fs.writeFile(jsconfigPath, originalJsconfig, {\n             encoding: 'utf-8',"
        },
        {
            "sha": "51122dfda3408a7c53cd8029a7c4c358654d3e83",
            "filename": "test/integration/typescript-custom-tsconfig/test/index.test.js",
            "status": "modified",
            "additions": 16,
            "deletions": 13,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fintegration%2Ftypescript-custom-tsconfig%2Ftest%2Findex.test.js",
            "raw_url": "https://github.com/vercel/next.js/raw/af962cb2572818fa538e96c278adc9bac36e9b6e/test%2Fintegration%2Ftypescript-custom-tsconfig%2Ftest%2Findex.test.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fintegration%2Ftypescript-custom-tsconfig%2Ftest%2Findex.test.js?ref=af962cb2572818fa538e96c278adc9bac36e9b6e",
            "patch": "@@ -7,17 +7,20 @@ const appDir = join(__dirname, '..')\n \n const warnMessage = /Using tsconfig file:/\n \n-describe('Custom TypeScript Config', () => {\n-  ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n-    'production mode',\n-    () => {\n-      it('should warn when using custom typescript path', async () => {\n-        const { stdout } = await nextBuild(appDir, [], {\n-          stdout: true,\n-        })\n+;(process.env.IS_TURBOPACK_TEST ? describe.skip : describe)(\n+  'Custom TypeScript Config',\n+  () => {\n+    ;(process.env.TURBOPACK_DEV ? describe.skip : describe)(\n+      'production mode',\n+      () => {\n+        it('should warn when using custom typescript path', async () => {\n+          const { stdout } = await nextBuild(appDir, [], {\n+            stdout: true,\n+          })\n \n-        expect(stdout).toMatch(warnMessage)\n-      })\n-    }\n-  )\n-})\n+          expect(stdout).toMatch(warnMessage)\n+        })\n+      }\n+    )\n+  }\n+)"
        }
    ],
    "stats": {
        "total": 289,
        "additions": 128,
        "deletions": 161
    }
}