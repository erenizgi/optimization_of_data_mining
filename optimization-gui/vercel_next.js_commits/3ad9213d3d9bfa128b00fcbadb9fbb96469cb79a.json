{
    "author": "bgw",
    "message": "fix(turbo-tasks): Temporarily disable immutable task optimizations (#80914)\n\nhttps://vercel.slack.com/archives/C03EWR7LGEN/p1750889741099559\n\nLooks like this is broken, this seems like the easiest way to disable\nthe feature for the moment.",
    "sha": "3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a",
    "files": [
        {
            "sha": "958267d5355a18947d3572261b378b699d996651",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/connect_child.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_child.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_child.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fconnect_child.rs?ref=3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a",
            "patch": "@@ -87,6 +87,10 @@ impl ConnectChildOperation {\n             });\n         }\n \n+        // https://vercel.slack.com/archives/C03EWR7LGEN/p1750889741099559\n+        // HACK: immutable tracking is broken, disable it for now\n+        is_child_immutable = false;\n+\n         // Immutable tasks cannot be invalidated, meaning that we never reschedule them.\n         if !is_child_immutable && ctx.should_track_activeness() {\n             queue.push(AggregationUpdateJob::IncreaseActiveCount {"
        },
        {
            "sha": "ea306c0b66596dd6f40c62897c4b996ccbce9029",
            "filename": "turbopack/crates/turbo-tasks-backend/src/backend/operation/mod.rs",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fbackend%2Foperation%2Fmod.rs?ref=3ad9213d3d9bfa128b00fcbadb9fbb96469cb79a",
            "patch": "@@ -597,7 +597,10 @@ impl<B: BackingStorage> TaskGuard for TaskGuardImpl<'_, B> {\n     }\n \n     fn is_immutable(&self) -> bool {\n-        self.task.state().is_immutable()\n+        // https://vercel.slack.com/archives/C03EWR7LGEN/p1750889741099559\n+        // HACK: immutable tracking is broken, disable it for now\n+        false\n+        // self.task.state().is_immutable()\n     }\n     fn mark_as_immutable(&mut self) {\n         self.task.state_mut().set_is_immutable(true);"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 8,
        "deletions": 1
    }
}