{
    "author": "wbinnssmith",
    "message": "bundle-analyzer: redesign info hierarchy in sidebar (#86963)\n\nThis better reflects the information hierarchy in the design and declutters the sidebar.\r\n\r\nThis PR also adds recursive size calculation when directories are selected.\r\n\r\nCloses PACK-5828\r\nCloses PACK-6030\r\n\r\n![image.png](https://app.graphite.com/user-attachments/assets/83297d13-1689-4fc2-a254-4c0d1f21aaba.png)\r\n\r\n![image.png](https://app.graphite.com/user-attachments/assets/fb3c76bc-61ae-4f50-a64c-fad0ff3ec9a8.png)\r\n\r\n![image.png](https://app.graphite.com/user-attachments/assets/6d85c828-4917-4546-b8e9-742035635d73.png)",
    "sha": "2ac04b03e9aad9f2aae7fff15582240bde4582c9",
    "files": [
        {
            "sha": "70beac69f1825dd4c190b3fa3c4cecec250b90b6",
            "filename": "apps/bundle-analyzer/app/page.tsx",
            "status": "modified",
            "additions": 20,
            "deletions": 116,
            "changes": 136,
            "blob_url": "https://github.com/vercel/next.js/blob/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Fapp%2Fpage.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Fapp%2Fpage.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fapp%2Fpage.tsx?ref=2ac04b03e9aad9f2aae7fff15582240bde4582c9",
            "patch": "@@ -3,30 +3,20 @@\n import type React from 'react'\n import { useEffect, useMemo, useRef, useState } from 'react'\n import useSWR from 'swr'\n-import { ImportChain } from '@/components/import-chain'\n import { ErrorState } from '@/components/error-state'\n import {\n   RouteTypeahead,\n   type RouteTypeaheadRef,\n } from '@/components/route-typeahead'\n+import { Sidebar } from '@/components/sidebar'\n import { TreemapVisualizer } from '@/components/treemap-visualizer'\n \n import { Input } from '@/components/ui/input'\n-import { Skeleton, TreemapSkeleton } from '@/components/ui/skeleton'\n+import { TreemapSkeleton } from '@/components/ui/skeleton'\n import { ToggleGroup, ToggleGroupItem } from '@/components/ui/toggle-group'\n import { AnalyzeData, ModulesData } from '@/lib/analyze-data'\n import { computeActiveEntries, computeModuleDepthMap } from '@/lib/module-graph'\n-import { SpecialModule } from '@/lib/types'\n-import { getSpecialModuleType, fetchStrict } from '@/lib/utils'\n-\n-function formatBytes(bytes: number): string {\n-  if (bytes === 0) return '0 B'\n-  if (bytes < 1024) return `${bytes} B`\n-  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)} KB`\n-  if (bytes < 1024 * 1024 * 1024)\n-    return `${(bytes / (1024 * 1024)).toFixed(2)} MB`\n-  return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`\n-}\n+import { fetchStrict } from '@/lib/utils'\n \n export default function Home() {\n   const [selectedRoute, setSelectedRoute] = useState<string | null>(null)\n@@ -153,11 +143,6 @@ export default function Home() {\n   const isAnyLoading = isAnalyzeLoading || isModulesLoading\n   const rootSourceIndex = getRootSourceIndex(analyzeData)\n \n-  const specialModuleType = getSpecialModuleType(\n-    analyzeData,\n-    selectedSourceIndex\n-  )\n-\n   return (\n     <main\n       className=\"h-screen flex flex-col bg-background\"\n@@ -250,24 +235,15 @@ export default function Home() {\n               aria-label=\"Resize sidebar\"\n             />\n \n-            <div\n-              className=\"flex-none bg-muted border-l border-border overflow-y-auto\"\n-              style={{ width: `${sidebarWidth}%` }}\n-            >\n-              <div className=\"flex-1 p-3 space-y-4 overflow-y-auto\">\n-                <h2 className=\"text-xs font-semibold mb-2 text-foreground\">\n-                  Selected Source\n-                </h2>\n-                <Skeleton className=\"h-4 w-3/4\" />\n-                <Skeleton className=\"h-4 w-full\" />\n-                <Skeleton className=\"h-4 w-5/6\" />\n-                <div className=\"mt-4 space-y-2\">\n-                  <Skeleton className=\"h-3 w-full\" />\n-                  <Skeleton className=\"h-3 w-full\" />\n-                  <Skeleton className=\"h-3 w-4/5\" />\n-                </div>\n-              </div>\n-            </div>\n+            <Sidebar\n+              sidebarWidth={sidebarWidth}\n+              analyzeData={null}\n+              modulesData={null}\n+              selectedSourceIndex={null}\n+              moduleDepthMap={new Map()}\n+              environmentFilter={environmentFilter}\n+              isLoading={true}\n+            />\n           </>\n         ) : analyzeData ? (\n           <>\n@@ -294,86 +270,14 @@ export default function Home() {\n               aria-label=\"Resize sidebar\"\n             />\n \n-            <div\n-              className=\"flex-none bg-muted border-l border-border overflow-y-auto\"\n-              style={{ width: `${sidebarWidth}%` }}\n-            >\n-              <div className=\"flex-1 p-3 space-y-4 overflow-y-auto\">\n-                <h2 className=\"text-xs font-semibold mb-2 text-foreground\">\n-                  Selected Source\n-                </h2>\n-\n-                {selectedSourceIndex != null &&\n-                  analyzeData.source(selectedSourceIndex) && (\n-                    <>\n-                      <dl className=\"space-y-2\">\n-                        <div>\n-                          <dt className=\"text-xs text-muted-foreground inline\">\n-                            Output Size:{' '}\n-                          </dt>\n-                          <dd className=\"text-xs text-muted-foreground inline\">\n-                            {formatBytes(\n-                              analyzeData.getSourceOutputSize(\n-                                selectedSourceIndex\n-                              )\n-                            )}\n-                          </dd>\n-                        </div>\n-                        {(specialModuleType === SpecialModule.POLYFILL_MODULE ||\n-                          specialModuleType ===\n-                            SpecialModule.POLYFILL_NOMODULE) && (\n-                          <div className=\"flex items-center gap-2\">\n-                            <dt className=\"inline-flex items-center rounded-md bg-polyfill/10 dark:bg-polyfill/30 px-2 py-1 text-xs font-medium text-polyfill dark:text-polyfill-foreground ring-1 ring-inset ring-polyfill/20 shrink-0\">\n-                              Polyfill\n-                            </dt>\n-                            <dd className=\"text-xs text-muted-foreground\">\n-                              Next.js built-in polyfills\n-                              {specialModuleType ===\n-                              SpecialModule.POLYFILL_NOMODULE ? (\n-                                <>\n-                                  . <code>polyfill-nomodule.js</code> is only\n-                                  sent to legacy browsers.\n-                                </>\n-                              ) : null}\n-                            </dd>\n-                          </div>\n-                        )}\n-                      </dl>\n-                      {modulesData && (\n-                        <ImportChain\n-                          key={selectedSourceIndex}\n-                          startFileId={selectedSourceIndex}\n-                          analyzeData={analyzeData}\n-                          modulesData={modulesData}\n-                          depthMap={moduleDepthMap}\n-                          environmentFilter={environmentFilter}\n-                        />\n-                      )}\n-                      {(() => {\n-                        const chunks =\n-                          analyzeData.sourceChunks(selectedSourceIndex)\n-                        if (chunks.length > 0) {\n-                          return (\n-                            <div className=\"mt-2\">\n-                              <p className=\"text-xs font-semibold text-foreground\">\n-                                Output Chunks:\n-                              </p>\n-                              <ul className=\"text-xs text-muted-foreground font-mono mt-1 space-y-1\">\n-                                {chunks.map((chunk) => (\n-                                  <li key={chunk} className=\"break-all\">\n-                                    {chunk}\n-                                  </li>\n-                                ))}\n-                              </ul>\n-                            </div>\n-                          )\n-                        }\n-                        return null\n-                      })()}\n-                    </>\n-                  )}\n-              </div>\n-            </div>\n+            <Sidebar\n+              sidebarWidth={sidebarWidth}\n+              analyzeData={analyzeData ?? null}\n+              modulesData={modulesData ?? null}\n+              selectedSourceIndex={selectedSourceIndex}\n+              moduleDepthMap={moduleDepthMap}\n+              environmentFilter={environmentFilter}\n+            />\n           </>\n         ) : null}\n       </div>"
        },
        {
            "sha": "cf101fbd19e852a8721e8ca5ac91a6c599da2095",
            "filename": "apps/bundle-analyzer/components/import-chain.tsx",
            "status": "modified",
            "additions": 33,
            "deletions": 20,
            "changes": 53,
            "blob_url": "https://github.com/vercel/next.js/blob/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Fcomponents%2Fimport-chain.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Fcomponents%2Fimport-chain.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fcomponents%2Fimport-chain.tsx?ref=2ac04b03e9aad9f2aae7fff15582240bde4582c9",
            "patch": "@@ -21,6 +21,7 @@ import type {\n } from '@/lib/analyze-data'\n import { splitIdent } from '@/lib/utils'\n import clsx from 'clsx'\n+import { Button } from '@/components/ui/button'\n \n interface ImportChainProps {\n   startFileId: number\n@@ -130,7 +131,7 @@ export function ImportChain({\n   environmentFilter,\n }: ImportChainProps) {\n   // Filter to include only the current route\n-  const [showAll, setShowAll] = useState(false)\n+  const [currentRouteOnly, setCurrentRouteOnly] = useState(true)\n \n   // Track which dependent is selected at each level\n   const [selectedIndices, setSelectedIndices] = useState<number[]>([])\n@@ -168,7 +169,7 @@ export function ImportChain({\n     const startModuleIndices = getModuleIndicesFromSourceIndex(\n       startFileId\n     ).filter((moduleIndex) => {\n-      if (!showAll && !depthMap.has(moduleIndex)) {\n+      if (currentRouteOnly && !depthMap.has(moduleIndex)) {\n         return false\n       }\n       let module = modulesData.module(moduleIndex)\n@@ -232,7 +233,7 @@ export function ImportChain({\n       // Filter out dependents that would create a cycle\n       const validDependents = dependentModuleIndices.filter(\n         ({ index, depth }) =>\n-          !visitedModules.has(index) && (isFinite(depth) || showAll)\n+          !visitedModules.has(index) && (isFinite(depth) || !currentRouteOnly)\n       )\n \n       if (validDependents.length === 0) {\n@@ -276,7 +277,7 @@ export function ImportChain({\n       const selectedDepInfo = dependentsInfo[actualIdx]\n       const selectedDepModule = modulesData.module(selectedDepInfo.moduleIndex)\n \n-      if (!selectedDepModule) break\n+      if (!selectedDepModule || selectedDepModule.ident == null) break\n \n       result.push({\n         moduleIndex: selectedDepInfo.moduleIndex,\n@@ -304,7 +305,7 @@ export function ImportChain({\n     analyzeData,\n     modulesData,\n     selectedIndices,\n-    showAll,\n+    currentRouteOnly,\n     depthMap,\n     environmentFilter,\n   ])\n@@ -336,7 +337,23 @@ export function ImportChain({\n \n   return (\n     <div className=\"space-y-2\">\n-      <h3 className=\"text-xs font-semibold text-foreground\">Import chain</h3>\n+      <div className=\"flex items-center space-x-2\">\n+        <h3 className=\"text-xs font-semibold text-foreground flex-1\">\n+          Import Chain\n+        </h3>\n+        <label\n+          className=\"inline-flex items-center space-x-2 text-xs cursor-pointer\"\n+          title=\"Only include dependent modules that are part of the current route's bundle\"\n+        >\n+          <span>Current route only</span>\n+          <input\n+            type=\"checkbox\"\n+            className=\"form-checkbox h-4 w-4 text-primary\"\n+            checked={currentRouteOnly}\n+            onChange={() => setCurrentRouteOnly((prev) => !prev)}\n+          />\n+        </label>\n+      </div>\n       <div className=\"space-y-0\">\n         {chain.map((level, index) => {\n           const previousPath = index > 0 ? chain[index - 1].path : null\n@@ -503,23 +520,19 @@ export function ImportChain({\n         })}\n         {chain.length === 0 && (\n           <p className=\"text-muted-foreground italic text-xs\">\n-            No dependents found\n+            No dependents found.{' '}\n+            {currentRouteOnly ? (\n+              <Button\n+                variant=\"link\"\n+                className=\"inline p-0 text-xs h-auto\"\n+                onClick={() => setCurrentRouteOnly(false)}\n+              >\n+                Show all routes.\n+              </Button>\n+            ) : null}\n           </p>\n         )}\n       </div>\n-      <div className=\"pt-2\">\n-        <label className=\"inline-flex items-center space-x-2 text-sm cursor-pointer\">\n-          <input\n-            type=\"checkbox\"\n-            className=\"form-checkbox h-4 w-4 text-primary\"\n-            checked={showAll}\n-            onChange={() => setShowAll((prev) => !prev)}\n-          />\n-          <span>\n-            Show all dependents (including those outside current route)\n-          </span>\n-        </label>\n-      </div>\n     </div>\n   )\n }"
        },
        {
            "sha": "43805580e2b53f4f77fd63dbedc13275958c78f7",
            "filename": "apps/bundle-analyzer/components/sidebar.tsx",
            "status": "added",
            "additions": 173,
            "deletions": 0,
            "changes": 173,
            "blob_url": "https://github.com/vercel/next.js/blob/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Fcomponents%2Fsidebar.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Fcomponents%2Fsidebar.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Fcomponents%2Fsidebar.tsx?ref=2ac04b03e9aad9f2aae7fff15582240bde4582c9",
            "patch": "@@ -0,0 +1,173 @@\n+'use client'\n+\n+import type React from 'react'\n+import { ImportChain } from '@/components/import-chain'\n+import { Skeleton } from '@/components/ui/skeleton'\n+import { AnalyzeData, ModulesData } from '@/lib/analyze-data'\n+import { SpecialModule } from '@/lib/types'\n+import { getSpecialModuleType } from '@/lib/utils'\n+\n+interface SidebarProps {\n+  sidebarWidth: number\n+  analyzeData: AnalyzeData | null\n+  modulesData: ModulesData | null\n+  selectedSourceIndex: number | null\n+  moduleDepthMap: Map<number, number>\n+  environmentFilter: 'client' | 'server'\n+  isLoading?: boolean\n+}\n+\n+function formatBytes(bytes: number): string {\n+  if (bytes === 0) return '0 B'\n+  if (bytes < 1024) return `${bytes} B`\n+  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)} KB`\n+  if (bytes < 1024 * 1024 * 1024)\n+    return `${(bytes / (1024 * 1024)).toFixed(2)} MB`\n+  return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`\n+}\n+\n+export function Sidebar({\n+  sidebarWidth,\n+  analyzeData,\n+  modulesData,\n+  selectedSourceIndex,\n+  moduleDepthMap,\n+  environmentFilter,\n+  isLoading = false,\n+}: SidebarProps) {\n+  if (isLoading) {\n+    return (\n+      <div\n+        className=\"flex-none bg-muted border-l border-border overflow-y-auto\"\n+        style={{ width: `${sidebarWidth}%` }}\n+      >\n+        <div className=\"flex-1 p-3 space-y-4 overflow-y-auto\">\n+          <Skeleton className=\"h-4 w-3/4\" />\n+          <Skeleton className=\"h-4 w-full\" />\n+          <Skeleton className=\"h-4 w-5/6\" />\n+          <div className=\"mt-4 space-y-2\">\n+            <Skeleton className=\"h-3 w-full\" />\n+            <Skeleton className=\"h-3 w-full\" />\n+            <Skeleton className=\"h-3 w-4/5\" />\n+          </div>\n+        </div>\n+      </div>\n+    )\n+  }\n+\n+  if (!analyzeData) {\n+    return null\n+  }\n+\n+  const specialModuleType = getSpecialModuleType(\n+    analyzeData,\n+    selectedSourceIndex\n+  )\n+\n+  const selectedSource =\n+    selectedSourceIndex != null\n+      ? analyzeData.source(selectedSourceIndex)\n+      : undefined\n+\n+  const hasChildModules =\n+    selectedSourceIndex != null &&\n+    analyzeData.sourceChildren(selectedSourceIndex).length > 0\n+\n+  const childModuleCount =\n+    hasChildModules && selectedSourceIndex != null\n+      ? analyzeData.getSourceRecursiveModuleCount(selectedSourceIndex)\n+      : null\n+\n+  return (\n+    <div\n+      className=\"flex-none bg-muted border-l border-border overflow-y-auto\"\n+      style={{ width: `${sidebarWidth}%` }}\n+    >\n+      <div className=\"flex-1 p-3 space-y-8 overflow-y-auto\">\n+        <div className=\"space-y-2\">\n+          <h2 className=\"text-s font-semibold mb-1 text-foreground truncate\">\n+            {selectedSource\n+              ? selectedSource.path || 'All Route Modules'\n+              : 'Unknown Source'}\n+          </h2>\n+          {selectedSourceIndex != null &&\n+          analyzeData.source(selectedSourceIndex) ? (\n+            <div>\n+              <div className=\"text-xs\">\n+                <span>\n+                  {hasChildModules\n+                    ? formatBytes(\n+                        analyzeData.getSourceRecursiveSize(selectedSourceIndex)\n+                      )\n+                    : formatBytes(\n+                        analyzeData.getSourceOutputSize(selectedSourceIndex)\n+                      )}\n+                </span>{' '}\n+                <span className=\"text-muted-foreground\">bundled</span>\n+              </div>\n+              {hasChildModules && childModuleCount != null ? (\n+                <div className=\"text-xs\">\n+                  <span>{childModuleCount} </span>\n+                  <span className=\"text-muted-foreground\">\n+                    {childModuleCount === 1 ? 'module' : 'modules'}\n+                  </span>\n+                </div>\n+              ) : null}\n+            </div>\n+          ) : null}\n+        </div>\n+\n+        {selectedSourceIndex != null &&\n+          analyzeData.source(selectedSourceIndex) &&\n+          (specialModuleType === SpecialModule.POLYFILL_MODULE ||\n+            specialModuleType === SpecialModule.POLYFILL_NOMODULE) && (\n+            <div className=\"flex items-center gap-2\">\n+              <dt className=\"inline-flex items-center rounded-md bg-polyfill/10 dark:bg-polyfill/30 px-2 py-1 text-xs font-medium text-polyfill dark:text-polyfill-foreground ring-1 ring-inset ring-polyfill/20 shrink-0\">\n+                Polyfill\n+              </dt>\n+              <dd className=\"text-xs text-muted-foreground\">\n+                Next.js built-in polyfills\n+              </dd>\n+            </div>\n+          )}\n+\n+        {selectedSourceIndex != null &&\n+          analyzeData.source(selectedSourceIndex) &&\n+          !hasChildModules && (\n+            <>\n+              {modulesData && (\n+                <ImportChain\n+                  key={selectedSourceIndex}\n+                  startFileId={selectedSourceIndex}\n+                  analyzeData={analyzeData}\n+                  modulesData={modulesData}\n+                  depthMap={moduleDepthMap}\n+                  environmentFilter={environmentFilter}\n+                />\n+              )}\n+              {(() => {\n+                const chunks = analyzeData.sourceChunks(selectedSourceIndex)\n+                if (chunks.length > 0) {\n+                  return (\n+                    <div className=\"mt-2\">\n+                      <p className=\"text-xs font-semibold text-foreground\">\n+                        Output Chunks\n+                      </p>\n+                      <ul className=\"text-xs text-muted-foreground font-mono mt-1 space-y-1\">\n+                        {chunks.map((chunk) => (\n+                          <li key={chunk} className=\"break-all\">\n+                            {chunk}\n+                          </li>\n+                        ))}\n+                      </ul>\n+                    </div>\n+                  )\n+                }\n+                return null\n+              })()}\n+            </>\n+          )}\n+      </div>\n+    </div>\n+  )\n+}"
        },
        {
            "sha": "a28c7b382e63965dc5a909ebe061c2eb33edbe90",
            "filename": "apps/bundle-analyzer/lib/analyze-data.ts",
            "status": "modified",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Flib%2Fanalyze-data.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Flib%2Fanalyze-data.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Flib%2Fanalyze-data.ts?ref=2ac04b03e9aad9f2aae7fff15582240bde4582c9",
            "patch": "@@ -348,6 +348,29 @@ export class AnalyzeData {\n     return totalSize\n   }\n \n+  getSourceRecursiveSize(index: SourceIndex): number {\n+    let totalSize = this.getSourceOutputSize(index)\n+    const children = this.sourceChildren(index)\n+    for (const childIndex of children) {\n+      totalSize += this.getSourceRecursiveSize(childIndex)\n+    }\n+    return totalSize\n+  }\n+\n+  getSourceRecursiveModuleCount(index: SourceIndex): number {\n+    const selfCount = this.sourceChunkParts(index).length > 0 ? 1 : 0\n+    const children = this.sourceChildren(index)\n+    if (children.length === 0) {\n+      return selfCount\n+    }\n+\n+    let totalCount = selfCount\n+    for (const childIndex of children) {\n+      totalCount += this.getSourceRecursiveModuleCount(childIndex)\n+    }\n+    return totalCount\n+  }\n+\n   sourceChunks(index: SourceIndex): string[] {\n     const chunkParts = this.sourceChunkParts(index)\n     const uniqueChunks = new Set<string>()"
        },
        {
            "sha": "cfaa53486b1452d90f6a68669bfae12e07ba1c1d",
            "filename": "apps/bundle-analyzer/lib/module-graph.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Flib%2Fmodule-graph.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/2ac04b03e9aad9f2aae7fff15582240bde4582c9/apps%2Fbundle-analyzer%2Flib%2Fmodule-graph.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/apps%2Fbundle-analyzer%2Flib%2Fmodule-graph.ts?ref=2ac04b03e9aad9f2aae7fff15582240bde4582c9",
            "patch": "@@ -37,7 +37,10 @@ export function computeActiveEntries(\n     moduleIndex < modulesData.moduleCount();\n     moduleIndex++\n   ) {\n-    const ident = modulesData.module(moduleIndex)!.ident\n+    const ident = modulesData.module(moduleIndex)?.ident\n+    if (ident == null) {\n+      continue\n+    }\n \n     if (\n       potentialEntryDependents.some((entryIdent) => ident.includes(entryIdent))"
        },
        {
            "sha": "81bf6c085f8045c034ecd7c12935d4c0893a15d9",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 101,
            "deletions": 5,
            "changes": 106,
            "blob_url": "https://github.com/vercel/next.js/blob/2ac04b03e9aad9f2aae7fff15582240bde4582c9/pnpm-lock.yaml",
            "raw_url": "https://github.com/vercel/next.js/raw/2ac04b03e9aad9f2aae7fff15582240bde4582c9/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/pnpm-lock.yaml?ref=2ac04b03e9aad9f2aae7fff15582240bde4582c9",
            "patch": "@@ -287,7 +287,7 @@ importers:\n         version: 5.2.1(eslint@9.37.0(jiti@2.5.1))\n       eslint-plugin-import:\n         specifier: 2.31.0\n-        version: 2.31.0(eslint@9.37.0(jiti@2.5.1))\n+        version: 2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))\n       eslint-plugin-jest:\n         specifier: 27.6.3\n         version: 27.6.3(eslint@9.37.0(jiti@2.5.1))(jest@29.7.0(@types/node@20.17.6(patch_hash=rvl3vkomen3tospgr67bzubfyu))(babel-plugin-macros@3.1.0))(typescript@5.9.2)\n@@ -745,7 +745,7 @@ importers:\n         version: 9.37.0(jiti@2.5.1)\n       eslint-config-next:\n         specifier: canary\n-        version: link:../../packages/eslint-config-next\n+        version: 16.1.0-canary.16(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n       tailwindcss:\n         specifier: 4.1.13\n         version: 4.1.13\n@@ -4380,6 +4380,9 @@ packages:\n   '@next/env@16.0.7':\n     resolution: {integrity: sha512-gpaNgUh5nftFKRkRQGnVi5dpcYSKGcZZkQffZ172OrG/XkrnS7UBTQ648YY+8ME92cC4IojpI2LqTC8sTDhAaw==}\n \n+  '@next/eslint-plugin-next@16.1.0-canary.16':\n+    resolution: {integrity: sha512-kI4gMhJlikhegVcOZS7xM/4rV1sYhgxVcFEXp2p52h4ZHuwVOoN9+Mvz50Knp5At+trsbTcbYgqnS2X4gfi11Q==}\n+\n   '@next/rspack-binding-android-arm-eabi@1.0.1':\n     resolution: {integrity: sha512-ZLEy3shsHk8FpJDeoU4gN3a7eVaOagA7AW2BXSVefBAO4hR6j3Kt/T732FUmf9G5328C2vsbMAWskHRHPbhTig==}\n     cpu: [arm]\n@@ -9553,6 +9556,15 @@ packages:\n     engines: {node: '>=6.0'}\n     hasBin: true\n \n+  eslint-config-next@16.1.0-canary.16:\n+    resolution: {integrity: sha512-qA+eBQL2bfO7VPYQtngaYe6qtOhcdI83yjtOps/JI067XSV3sWxuy2H7tOPhkQqMZ38T5qnO/MpZ8BE5KhTT+w==}\n+    peerDependencies:\n+      eslint: '>=9.0.0'\n+      typescript: '>=3.3.1'\n+    peerDependenciesMeta:\n+      typescript:\n+        optional: true\n+\n   eslint-formatter-codeframe@7.32.1:\n     resolution: {integrity: sha512-DK/3Q3+zVKq/7PdSYiCxPrsDF8H/TRMK5n8Hziwr4IMkMy+XiKSwbpj25AdajS63I/B61Snetq4uVvX9fOLyAg==}\n     engines: {node: ^10.12.0 || >=12.0.0}\n@@ -15219,6 +15231,7 @@ packages:\n     engines: {node: '>=0.6.0', teleport: '>=0.2.0'}\n     deprecated: |-\n       You or someone you depend on is using Q, the JavaScript Promise library that gave JavaScript developers strong feelings about promises. They can almost certainly migrate to the native JavaScript promise now. Thank you literally everyone for joining me in this bet against the odds. Be excellent to each other.\n+\n       (For a CapTP with native promises, see @endo/eventual-send and @endo/captp)\n \n   qs@6.11.0:\n@@ -21303,6 +21316,10 @@ snapshots:\n \n   '@next/env@16.0.7': {}\n \n+  '@next/eslint-plugin-next@16.1.0-canary.16':\n+    dependencies:\n+      fast-glob: 3.3.1\n+\n   '@next/rspack-binding-android-arm-eabi@1.0.1':\n     optional: true\n \n@@ -27263,6 +27280,26 @@ snapshots:\n     optionalDependencies:\n       source-map: 0.6.1\n \n+  eslint-config-next@16.1.0-canary.16(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2):\n+    dependencies:\n+      '@next/eslint-plugin-next': 16.1.0-canary.16\n+      eslint: 9.37.0(jiti@2.5.1)\n+      eslint-import-resolver-node: 0.3.9\n+      eslint-import-resolver-typescript: 3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n+      eslint-plugin-import: 2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n+      eslint-plugin-jsx-a11y: 6.10.2(eslint@9.37.0(jiti@2.5.1))\n+      eslint-plugin-react: 7.37.0(eslint@9.37.0(jiti@2.5.1))\n+      eslint-plugin-react-hooks: 7.0.0(eslint@9.37.0(jiti@2.5.1))\n+      globals: 16.4.0\n+      typescript-eslint: 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n+    optionalDependencies:\n+      typescript: 5.9.2\n+    transitivePeerDependencies:\n+      - '@typescript-eslint/parser'\n+      - eslint-import-resolver-webpack\n+      - eslint-plugin-import-x\n+      - supports-color\n+\n   eslint-formatter-codeframe@7.32.1:\n     dependencies:\n       '@babel/code-frame': 7.12.11\n@@ -27276,6 +27313,22 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n+  eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)):\n+    dependencies:\n+      '@nolyfill/is-core-module': 1.0.39\n+      debug: 4.4.0\n+      eslint: 9.37.0(jiti@2.5.1)\n+      get-tsconfig: 4.12.0\n+      is-bun-module: 2.0.0\n+      stable-hash: 0.0.5\n+      tinyglobby: 0.2.15\n+      unrs-resolver: 1.11.1\n+    optionalDependencies:\n+      eslint-plugin-import: 2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n+      eslint-plugin-import-x: 4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n+    transitivePeerDependencies:\n+      - supports-color\n+\n   eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0)(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       '@nolyfill/is-core-module': 1.0.39\n@@ -27313,12 +27366,24 @@ snapshots:\n       - bluebird\n       - supports-color\n \n-  eslint-module-utils@2.12.0(eslint-import-resolver-node@0.3.9)(eslint@9.37.0(jiti@2.5.1)):\n+  eslint-module-utils@2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint@9.37.0(jiti@2.5.1)):\n+    dependencies:\n+      debug: 3.2.7\n+    optionalDependencies:\n+      '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n+      eslint: 9.37.0(jiti@2.5.1)\n+      eslint-import-resolver-node: 0.3.9\n+    transitivePeerDependencies:\n+      - supports-color\n+\n+  eslint-module-utils@2.12.1(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       debug: 3.2.7\n     optionalDependencies:\n+      '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n       eslint: 9.37.0(jiti@2.5.1)\n       eslint-import-resolver-node: 0.3.9\n+      eslint-import-resolver-typescript: 3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -27357,7 +27422,7 @@ snapshots:\n       - typescript\n     optional: true\n \n-  eslint-plugin-import@2.31.0(eslint@9.37.0(jiti@2.5.1)):\n+  eslint-plugin-import@2.31.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)):\n     dependencies:\n       '@rtsao/scc': 1.1.0\n       array-includes: 3.1.8\n@@ -27368,7 +27433,7 @@ snapshots:\n       doctrine: 2.1.0\n       eslint: 9.37.0(jiti@2.5.1)\n       eslint-import-resolver-node: 0.3.9\n-      eslint-module-utils: 2.12.0(eslint-import-resolver-node@0.3.9)(eslint@9.37.0(jiti@2.5.1))\n+      eslint-module-utils: 2.12.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint@9.37.0(jiti@2.5.1))\n       hasown: 2.0.2\n       is-core-module: 2.15.1\n       is-glob: 4.0.3\n@@ -27379,6 +27444,37 @@ snapshots:\n       semver: 6.3.1\n       string.prototype.trimend: 1.0.9\n       tsconfig-paths: 3.15.0\n+    optionalDependencies:\n+      '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n+    transitivePeerDependencies:\n+      - eslint-import-resolver-typescript\n+      - eslint-import-resolver-webpack\n+      - supports-color\n+\n+  eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)):\n+    dependencies:\n+      '@rtsao/scc': 1.1.0\n+      array-includes: 3.1.9\n+      array.prototype.findlastindex: 1.2.6\n+      array.prototype.flat: 1.3.3\n+      array.prototype.flatmap: 1.3.3\n+      debug: 3.2.7\n+      doctrine: 2.1.0\n+      eslint: 9.37.0(jiti@2.5.1)\n+      eslint-import-resolver-node: 0.3.9\n+      eslint-module-utils: 2.12.1(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-import-resolver-node@0.3.9)(eslint-import-resolver-typescript@3.10.1(eslint-plugin-import-x@4.3.1(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint-plugin-import@2.32.0(@typescript-eslint/parser@8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1)))(eslint@9.37.0(jiti@2.5.1))\n+      hasown: 2.0.2\n+      is-core-module: 2.16.1\n+      is-glob: 4.0.3\n+      minimatch: 3.1.2\n+      object.fromentries: 2.0.8\n+      object.groupby: 1.0.3\n+      object.values: 1.2.1\n+      semver: 6.3.1\n+      string.prototype.trimend: 1.0.9\n+      tsconfig-paths: 3.15.0\n+    optionalDependencies:\n+      '@typescript-eslint/parser': 8.46.0(eslint@9.37.0(jiti@2.5.1))(typescript@5.9.2)\n     transitivePeerDependencies:\n       - eslint-import-resolver-typescript\n       - eslint-import-resolver-webpack"
        }
    ],
    "stats": {
        "total": 496,
        "additions": 354,
        "deletions": 142
    }
}