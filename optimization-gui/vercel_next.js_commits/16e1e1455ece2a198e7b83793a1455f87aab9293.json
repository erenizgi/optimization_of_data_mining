{
    "author": "eps1lon",
    "message": "[node-webstreams] Use React builds for Node.js (#81048)\n\nCloses https://linear.app/vercel/issue/NEXT-4560/\r\n\r\nReact now exposes Web stream APIs in their Node.js builds so we can use the Node.js builds.\r\n\r\nThat enable us to use some of the Node.js goodies like `async_hooks` which is required for the React's experimental Server Requests track.\r\n\r\n## Test plan\r\n\r\n`next-server` runtimes did not increase bundle size. We even saved some in the `app-page` entries since we no longer have to bundle Edge and Node.js versions of React Server. We can rely solely on the Node.js variant of React Server.\r\n\r\nA build of `test/e2e/app-dir/hello-world` shows no significant bundle size changes",
    "sha": "16e1e1455ece2a198e7b83793a1455f87aab9293",
    "files": [
        {
            "sha": "339301eacc2897e308055ed6aef494be73385ca9",
            "filename": "crates/next-core/src/next_client_reference/ecmascript_client_reference/ecmascript_client_reference_module.rs",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/crates%2Fnext-core%2Fsrc%2Fnext_client_reference%2Fecmascript_client_reference%2Fecmascript_client_reference_module.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/crates%2Fnext-core%2Fsrc%2Fnext_client_reference%2Fecmascript_client_reference%2Fecmascript_client_reference_module.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_client_reference%2Fecmascript_client_reference%2Fecmascript_client_reference_module.rs?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -85,7 +85,7 @@ impl EcmascriptClientReferenceModule {\n             writedoc!(\n                 code,\n                 r#\"\n-                    import {{ registerClientReference }} from \"react-server-dom-turbopack/server.edge\";\n+                    import {{ registerClientReference }} from \"react-server-dom-turbopack/server\";\n                 \"#,\n             )?;\n \n@@ -135,7 +135,7 @@ impl EcmascriptClientReferenceModule {\n             writedoc!(\n                 code,\n                 r#\"\n-                    const {{ createClientModuleProxy }} = require(\"react-server-dom-turbopack/server.edge\");\n+                    const {{ createClientModuleProxy }} = require(\"react-server-dom-turbopack/server\");\n \n                     {TURBOPACK_EXPORT_NAMESPACE}(createClientModuleProxy({server_module_path}));\n                 \"#,"
        },
        {
            "sha": "62e22c8f4bc33db82aecd431e45c9d10067fa8af",
            "filename": "crates/next-core/src/next_import_map.rs",
            "status": "modified",
            "additions": 21,
            "deletions": 29,
            "changes": 50,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/crates%2Fnext-core%2Fsrc%2Fnext_import_map.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/crates%2Fnext-core%2Fsrc%2Fnext_import_map.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/crates%2Fnext-core%2Fsrc%2Fnext_import_map.rs?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -771,14 +771,12 @@ async fn apply_vendored_react_aliases_server(\n             \"react-dom/static.browser\" =>               /* ❔ */ format!(\"next/dist/compiled/react-dom{react_channel}/static.browser\"),\n             \"react-dom/static.edge\" =>                  /* ❔ */ format!(\"next/dist/compiled/react-dom{react_channel}/static.edge\"),\n             // file:///./../../../packages/next/src/compiled/react-server-dom-webpack/package.json\n-            \"react-server-dom-webpack/client\" =>        /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/client.edge\" =>   /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client-edge\"),\n-            \"react-server-dom-webpack/server.edge\" =>   /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n+            \"react-server-dom-webpack/client\" =>        /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client\"),\n+            \"react-server-dom-webpack/server\" =>        /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n             \"react-server-dom-webpack/server.node\" =>   /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n-            \"react-server-dom-webpack/static.edge\" =>   /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n-            \"react-server-dom-turbopack/client\" =>      /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/client.edge\" => /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client-edge\"),\n-            \"react-server-dom-turbopack/server.edge\" => /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n+            \"react-server-dom-webpack/static\" =>        /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.node\"),\n+            \"react-server-dom-turbopack/client\" =>      /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client\"),\n+            \"react-server-dom-turbopack/server\" =>      /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n             \"react-server-dom-turbopack/server.node\" => /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n             \"react-server-dom-turbopack/static.edge\" => /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n         })\n@@ -800,16 +798,14 @@ async fn apply_vendored_react_aliases_server(\n             \"react-dom/static.browser\" =>               /* ❔ */ format!(\"next/dist/compiled/react-dom{react_channel}/static.browser\"),\n             \"react-dom/static.edge\" =>                  /* ❔ */ format!(\"next/dist/compiled/react-dom{react_channel}/static.edge\"),\n             // file:///./../../../packages/next/src/compiled/react-server-dom-webpack/package.json\n-            \"react-server-dom-webpack/client\" =>        /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/client.edge\" =>   /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/server.edge\" =>   /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge\"),\n-            \"react-server-dom-webpack/server.node\" =>   /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-node\"),\n-            \"react-server-dom-webpack/static.edge\" =>   /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static-edge\"),\n-            \"react-server-dom-turbopack/client\" =>      /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/client.edge\" => /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/server.edge\" => /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge\"),\n-            \"react-server-dom-turbopack/server.node\" => /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-node\"),\n-            \"react-server-dom-turbopack/static.edge\" => /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static-edge\"),\n+            \"react-server-dom-webpack/client\" =>        /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.node\"),\n+            \"react-server-dom-webpack/server\" =>        /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server\"),\n+            \"react-server-dom-webpack/server.node\" =>   /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server\"),\n+            \"react-server-dom-webpack/static\" =>        /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static\"),\n+            \"react-server-dom-turbopack/client\" =>      /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.node\"),\n+            \"react-server-dom-turbopack/server\" =>      /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server\"),\n+            \"react-server-dom-turbopack/server.node\" => /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server\"),\n+            \"react-server-dom-turbopack/static\" =>      /* ✅ */ format!(\"next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static\"),\n \n             // Needed to make `react-dom/server` work.\n             // TODO: really?\n@@ -834,15 +830,13 @@ async fn apply_vendored_react_aliases_server(\n             \"react-dom/static.edge\" =>                  /* ✅ */ format!(\"next/dist/compiled/react-dom{react_channel}/static.edge\"),\n             // file:///./../../../packages/next/src/compiled/react-server-dom-webpack/package.json\n             \"react-server-dom-webpack/client\" =>        /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/client.edge\" =>   /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/server.edge\" =>   /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n+            \"react-server-dom-webpack/server\" =>        /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n             \"react-server-dom-webpack/server.node\" =>   /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n-            \"react-server-dom-webpack/static.edge\" =>   /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n+            \"react-server-dom-webpack/static\" =>        /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n             \"react-server-dom-turbopack/client\" =>      /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/client.edge\" => /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/server.edge\" => /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n+            \"react-server-dom-turbopack/server\" =>      /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n             \"react-server-dom-turbopack/server.node\" => /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n-            \"react-server-dom-turbopack/static.edge\" => /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n+            \"react-server-dom-turbopack/static\" =>      /* ❌ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n         })\n     } else if runtime == NextRuntime::Edge && react_condition == \"server\" {\n         react_alias.extend(fxindexmap! {\n@@ -863,15 +857,13 @@ async fn apply_vendored_react_aliases_server(\n             \"react-dom/static.edge\" =>                  /* ❌ */ format!(\"next/dist/compiled/react-dom{react_channel}/static.edge\"),\n             // file:///./../../../packages/next/src/compiled/react-server-dom-webpack/package.json\n             \"react-server-dom-webpack/client\" =>        /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/client.edge\" =>   /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-webpack/server.edge\" =>   /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n+            \"react-server-dom-webpack/server\" =>        /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n             \"react-server-dom-webpack/server.node\" =>   /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n-            \"react-server-dom-webpack/static.edge\" =>   /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n+            \"react-server-dom-webpack/static\" =>        /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n             \"react-server-dom-turbopack/client\" =>      /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/client.edge\" => /* ❔ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/client.edge\"),\n-            \"react-server-dom-turbopack/server.edge\" => /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n+            \"react-server-dom-turbopack/server\" =>      /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.edge\"),\n             \"react-server-dom-turbopack/server.node\" => /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/server.node\"),\n-            \"react-server-dom-turbopack/static.edge\" => /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n+            \"react-server-dom-turbopack/static\" =>      /* ✅ */ format!(\"next/dist/compiled/react-server-dom-turbopack{react_channel}/static.edge\"),\n         });\n \n         react_alias.extend(fxindexmap! {"
        },
        {
            "sha": "77216123f82767a709645114e0df99511401028c",
            "filename": "packages/next/next-runtime.webpack-config.js",
            "status": "modified",
            "additions": 20,
            "deletions": 24,
            "changes": 44,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fnext-runtime.webpack-config.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fnext-runtime.webpack-config.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fnext-runtime.webpack-config.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -23,10 +23,9 @@ const pagesExternals = [\n   'react-dom/server.browser',\n   'react-dom/server.edge',\n   'react-server-dom-webpack/client',\n-  'react-server-dom-webpack/client.edge',\n-  'react-server-dom-webpack/server.edge',\n+  'react-server-dom-webpack/server',\n   'react-server-dom-webpack/server.node',\n-  'react-server-dom-webpack/static.edge',\n+  'react-server-dom-webpack/static',\n ]\n \n const appExternals = []\n@@ -42,23 +41,18 @@ function makeAppAliases({ experimental, bundler }) {\n     'react/jsx-dev-runtime$': `next/dist/compiled/react${reactChannel}/jsx-dev-runtime`,\n     'react/compiler-runtime$': `next/dist/compiled/react${reactChannel}/compiler-runtime`,\n     'react-dom/client$': `next/dist/compiled/react-dom${reactChannel}/client`,\n-    'react-dom/server$': `next/dist/compiled/react-dom${reactChannel}/server`,\n-    'react-dom/static$': `next/dist/compiled/react-dom${reactChannel}/static`,\n-    'react-dom/static.edge$': `next/dist/compiled/react-dom${reactChannel}/static.edge`,\n-    'react-dom/static.browser$': `next/dist/compiled/react-dom${reactChannel}/static.browser`,\n-    // optimizations to ignore the legacy build of react-dom/server in `server.browser` build\n-    'react-dom/server.edge$': `next/dist/build/webpack/alias/react-dom-server-edge${reactChannel}.js`,\n+    // optimizations to ignore the legacy APIs in react-dom/server\n+    'react-dom/server$': `next/dist/build/webpack/alias/react-dom-server${reactChannel}.js`,\n+    'react-dom/static$': `next/dist/compiled/react-dom${reactChannel}/static.node`,\n     // react-server-dom-webpack alias\n-    'react-server-dom-turbopack/client$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/client`,\n-    'react-server-dom-turbopack/client.edge$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/client.edge`,\n-    'react-server-dom-turbopack/server.edge$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/server.edge`,\n+    'react-server-dom-turbopack/client$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/client.node`,\n+    'react-server-dom-turbopack/server$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/server.node`,\n     'react-server-dom-turbopack/server.node$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/server.node`,\n-    'react-server-dom-turbopack/static.edge$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/static.edge`,\n-    'react-server-dom-webpack/client$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/client`,\n-    'react-server-dom-webpack/client.edge$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/client.edge`,\n-    'react-server-dom-webpack/server.edge$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/server.edge`,\n+    'react-server-dom-turbopack/static$': `next/dist/compiled/react-server-dom-turbopack${reactChannel}/static.node`,\n+    'react-server-dom-webpack/client$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/client.node`,\n+    'react-server-dom-webpack/server$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/server.node`,\n     'react-server-dom-webpack/server.node$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/server.node`,\n-    'react-server-dom-webpack/static.edge$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/static.edge`,\n+    'react-server-dom-webpack/static$': `next/dist/compiled/react-server-dom-${bundler}${reactChannel}/static.node`,\n     '@vercel/turbopack-ecmascript-runtime/browser/dev/hmr-client/hmr-client.ts':\n       'next/dist/client/dev/noop-turbopack-hmr',\n   }\n@@ -167,6 +161,14 @@ module.exports = ({ dev, turbo, bundleType, experimental, ...rest }) => {\n \n   const bundledReactChannel = experimental ? '-experimental' : ''\n \n+  const alias =\n+    bundleType === 'app'\n+      ? makeAppAliases({\n+          experimental,\n+          bundler: turbo ? 'turbopack' : 'webpack',\n+        })\n+      : {}\n+\n   return {\n     entry: bundleTypes[bundleType],\n     target: 'node',\n@@ -238,13 +240,7 @@ module.exports = ({ dev, turbo, bundleType, experimental, ...rest }) => {\n       optimizationBailout: true,\n     },\n     resolve: {\n-      alias:\n-        bundleType === 'app'\n-          ? makeAppAliases({\n-              experimental,\n-              bundler: turbo ? 'turbopack' : 'webpack',\n-            })\n-          : {},\n+      alias,\n     },\n     module: {\n       rules: ["
        },
        {
            "sha": "e6ed5c13e89e17ff8f4b6492d2680bf607553d57",
            "filename": "packages/next/src/build/create-compiler-aliases.ts",
            "status": "modified",
            "additions": 28,
            "deletions": 34,
            "changes": 62,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fcreate-compiler-aliases.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fcreate-compiler-aliases.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fcreate-compiler-aliases.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -276,15 +276,15 @@ type ReactDOMEntrypoint =\n type ReactServerDOMWebpackEntrypoint =\n   | 'client'\n   // TODO: client.browser\n-  | 'client.edge'\n+  // TODO: client.edge\n   // TODO: client.node\n-  // TODO: server\n+  | 'server'\n   // TODO: server.browser\n-  | 'server.edge'\n+  // TODO: server.edge\n   | 'server.node'\n-  // TODO: static\n-  // TODO: static.browser\n-  | 'static.edge'\n+  | 'static'\n+// TODO: static.browser\n+// TODO: static.edge\n // TODO: static.node\n \n type ReactPackagesEntryPoint =\n@@ -350,16 +350,15 @@ export function createVendoredReactAliases(\n       'react-dom/server$':                     /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       'react-dom/server.browser$':             /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       // optimizations to ignore the legacy build of react-dom/server in `server.edge` build\n-      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server-edge${bundledReactChannel}.js`,\n+      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/static$':                     /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.browser$':             /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.edge$':                /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       // file:///./../compiled/react-server-dom-webpack/package.json\n       'react-server-dom-webpack/client$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.browser`,\n-      'react-server-dom-webpack/client.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/server.edge$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n+      'react-server-dom-webpack/server$':      /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.browser`,\n       'react-server-dom-webpack/server.node$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.node`,\n-      'react-server-dom-webpack/static.edge$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n+      'react-server-dom-webpack/static$':      /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.browser`,\n     }\n   } else if (\n     environmentCondition === 'browser' &&\n@@ -378,16 +377,15 @@ export function createVendoredReactAliases(\n       'react-dom/server$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       'react-dom/server.browser$':             /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       // optimizations to ignore the legacy build of react-dom/server in `server.edge` build\n-      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server-edge${bundledReactChannel}.js`,\n+      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/static$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.browser$':             /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.edge$':                /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       // file:///./../compiled/react-server-dom-webpack/package.json\n       'react-server-dom-webpack/client$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.browser`,\n-      'react-server-dom-webpack/client.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/server.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n+      'react-server-dom-webpack/server$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.browser`,\n       'react-server-dom-webpack/server.node$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.node`,\n-      'react-server-dom-webpack/static.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n+      'react-server-dom-webpack/static$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.browser`,\n     }\n   } else if (environmentCondition === 'nodejs' && reactCondition === 'client') {\n     // prettier-ignore\n@@ -403,16 +401,15 @@ export function createVendoredReactAliases(\n       'react-dom/server$':                    /* ❔ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.node`,\n       'react-dom/server.browser$':            /* ❔ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       // optimizations to ignore the legacy build of react-dom/server in `server.edge` build\n-      'react-dom/server.edge$':               /* ✅ */ `next/dist/build/webpack/alias/react-dom-server-edge${bundledReactChannel}.js`,\n+      'react-dom/server.edge$':               /* ✅ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/static$':                    /* ❔ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.node`,\n       'react-dom/static.browser$':            /* ❔ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.edge$':               /* ❔ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       // file:///./../compiled/react-server-dom-webpack/package.json\n-      'react-server-dom-webpack/client$':     /* ❔ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.node`,\n-      'react-server-dom-webpack/client.edge$':/* ✅ */ `next/dist/server/route-modules/app-page/vendored/ssr/react-server-dom-webpack-client-edge`,\n-      'react-server-dom-webpack/server.edge$':/* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n+      'react-server-dom-webpack/client$':     /* ✅ */ `next/dist/server/route-modules/app-page/vendored/ssr/react-server-dom-webpack-client`,\n+      'react-server-dom-webpack/server$':     /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.node`,\n       'react-server-dom-webpack/server.node$':/* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.node`,\n-      'react-server-dom-webpack/static.edge$':/* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n+      'react-server-dom-webpack/static$':     /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.node`,\n     }\n   } else if (environmentCondition === 'nodejs' && reactCondition === 'server') {\n     // prettier-ignore\n@@ -428,16 +425,15 @@ export function createVendoredReactAliases(\n       'react-dom/server$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.node`,\n       'react-dom/server.browser$':             /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       // optimizations to ignore the legacy build of react-dom/server in `server.edge` build\n-      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server-edge${bundledReactChannel}.js`,\n+      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/static$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.node`,\n       'react-dom/static.browser$':             /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.edge$':                /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       // file:///./../compiled/react-server-dom-webpack/package.json\n       'react-server-dom-webpack/client$':      /* ❔ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.node`,\n-      'react-server-dom-webpack/client.edge$': /* ❔ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/server.edge$': /* ✅ */ `next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge`,\n-      'react-server-dom-webpack/server.node$': /* ✅ */ `next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-node`,\n-      'react-server-dom-webpack/static.edge$': /* ✅ */ `next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-static-edge`,\n+      'react-server-dom-webpack/server$':      /* ✅ */ `next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server`,\n+      'react-server-dom-webpack/server.node$': /* ✅ */ `next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server`,\n+      'react-server-dom-webpack/static$':      /* ✅ */ `next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-static`,\n     }\n   } else if (environmentCondition === 'edge' && reactCondition === 'client') {\n     // prettier-ignore\n@@ -450,19 +446,18 @@ export function createVendoredReactAliases(\n       // file:///./../compiled/react-dom/package.json\n       'react-dom$':                            /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}`,\n       'react-dom/client$':                     /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/client`,\n-      'react-dom/server$':                     /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.edge`,\n+      'react-dom/server$':                     /* ✅ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/server.browser$':             /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       // optimizations to ignore the legacy build of react-dom/server in `server.edge` build\n-      'react-dom/server.edge$':                /* ✅ */ `next/dist/build/webpack/alias/react-dom-server-edge${bundledReactChannel}.js`,\n+      'react-dom/server.edge$':                /* ✅ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/static$':                     /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       'react-dom/static.browser$':             /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.edge$':                /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       // file:///./../compiled/react-server-dom-webpack/package.json\n       'react-server-dom-webpack/client$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/client.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/server.edge$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n+      'react-server-dom-webpack/server$':      /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n       'react-server-dom-webpack/server.node$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.node`,\n-      'react-server-dom-webpack/static.edge$': /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n+      'react-server-dom-webpack/static$':      /* ❌ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n     }\n   } else if (environmentCondition === 'edge' && reactCondition === 'server') {\n     // prettier-ignore\n@@ -475,19 +470,18 @@ export function createVendoredReactAliases(\n       // file:///./../compiled/react-dom/package.json\n       'react-dom$':                            /* ✅ */ `next/dist/compiled/react-dom${bundledReactChannel}/react-dom.react-server`,\n       'react-dom/client$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/client`,\n-      'react-dom/server$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.edge`,\n+      'react-dom/server$':                     /* ❌ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/server.browser$':             /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/server.browser`,\n       // optimizations to ignore the legacy build of react-dom/server in `server.edge` build\n-      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server-edge${bundledReactChannel}.js`,\n+      'react-dom/server.edge$':                /* ❌ */ `next/dist/build/webpack/alias/react-dom-server${bundledReactChannel}.js`,\n       'react-dom/static$':                     /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       'react-dom/static.browser$':             /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.browser`,\n       'react-dom/static.edge$':                /* ❌ */ `next/dist/compiled/react-dom${bundledReactChannel}/static.edge`,\n       // file:///./../compiled/react-server-dom-webpack/package.json\n       'react-server-dom-webpack/client$':      /* ❔ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/client.edge$': /* ❔ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/client.edge`,\n-      'react-server-dom-webpack/server.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n+      'react-server-dom-webpack/server$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.edge`,\n       'react-server-dom-webpack/server.node$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/server.node`,\n-      'react-server-dom-webpack/static.edge$': /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n+      'react-server-dom-webpack/static$':      /* ✅ */ `next/dist/compiled/react-server-dom-webpack${bundledReactChannel}/static.edge`,\n     }\n \n     // prettier-ignore"
        },
        {
            "sha": "3143a71d68a58279cae1753b415490929ed1e351",
            "filename": "packages/next/src/build/webpack/alias/react-dom-server-edge-experimental.js",
            "status": "removed",
            "additions": 0,
            "deletions": 21,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-edge-experimental.js",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-edge-experimental.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-edge-experimental.js?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,21 +0,0 @@\n-const ERROR_MESSAGE =\n-  'Internal Error: do not use legacy react-dom/server APIs. If you encountered this error, please open an issue on the Next.js repo.'\n-\n-function error() {\n-  throw new Error(ERROR_MESSAGE)\n-}\n-\n-var b\n-if (process.env.NODE_ENV === 'production') {\n-  b = require('next/dist/compiled/react-dom-experimental/cjs/react-dom-server.edge.production.js')\n-} else {\n-  b = require('next/dist/compiled/react-dom-experimental/cjs/react-dom-server.edge.development.js')\n-}\n-\n-exports.version = b.version\n-exports.renderToReadableStream = b.renderToReadableStream\n-exports.renderToString = error\n-exports.renderToStaticMarkup = error\n-if (b.resume) {\n-  exports.resume = b.resume\n-}"
        },
        {
            "sha": "3e63dcfa827cf1f2d033ec890d84e8e8e4be2aa9",
            "filename": "packages/next/src/build/webpack/alias/react-dom-server-edge.js",
            "status": "removed",
            "additions": 0,
            "deletions": 21,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-edge.js",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-edge.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-edge.js?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,21 +0,0 @@\n-const ERROR_MESSAGE =\n-  'Internal Error: do not use legacy react-dom/server APIs. If you encountered this error, please open an issue on the Next.js repo.'\n-\n-function error() {\n-  throw new Error(ERROR_MESSAGE)\n-}\n-\n-var b\n-if (process.env.NODE_ENV === 'production') {\n-  b = require('next/dist/compiled/react-dom/cjs/react-dom-server.edge.production.js')\n-} else {\n-  b = require('next/dist/compiled/react-dom/cjs/react-dom-server.edge.development.js')\n-}\n-\n-exports.version = b.version\n-exports.renderToReadableStream = b.renderToReadableStream\n-exports.renderToString = error\n-exports.renderToStaticMarkup = error\n-if (b.resume) {\n-  exports.resume = b.resume\n-}"
        },
        {
            "sha": "db4425350ab6441fd2d7731e3d8ddf4202ce5086",
            "filename": "packages/next/src/build/webpack/alias/react-dom-server-experimental.js",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-experimental.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-experimental.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server-experimental.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,29 @@\n+const ERROR_MESSAGE =\n+  'Internal Error: do not use legacy react-dom/server APIs. If you encountered this error, please open an issue on the Next.js repo.'\n+\n+function error() {\n+  throw new Error(ERROR_MESSAGE)\n+}\n+\n+var b\n+if (process.env.NEXT_RUNTIME === 'nodejs') {\n+  if (process.env.NODE_ENV === 'production') {\n+    b = require('next/dist/compiled/react-dom-experimental/cjs/react-dom-server.node.production.js')\n+  } else {\n+    b = require('next/dist/compiled/react-dom-experimental/cjs/react-dom-server.node.development.js')\n+  }\n+} else {\n+  if (process.env.NODE_ENV === 'production') {\n+    b = require('next/dist/compiled/react-dom-experimental/cjs/react-dom-server.edge.production.js')\n+  } else {\n+    b = require('next/dist/compiled/react-dom-experimental/cjs/react-dom-server.edge.development.js')\n+  }\n+}\n+\n+exports.version = b.version\n+exports.renderToReadableStream = b.renderToReadableStream\n+exports.renderToString = error\n+exports.renderToStaticMarkup = error\n+if (b.resume) {\n+  exports.resume = b.resume\n+}"
        },
        {
            "sha": "0607f3cb80ed75193f026ec5cee8a445717c757f",
            "filename": "packages/next/src/build/webpack/alias/react-dom-server.js",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Falias%2Freact-dom-server.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,29 @@\n+const ERROR_MESSAGE =\n+  'Internal Error: do not use legacy react-dom/server APIs. If you encountered this error, please open an issue on the Next.js repo.'\n+\n+function error() {\n+  throw new Error(ERROR_MESSAGE)\n+}\n+\n+var b\n+if (process.env.NEXT_RUNTIME === 'nodejs') {\n+  if (process.env.NODE_ENV === 'production') {\n+    b = require('next/dist/compiled/react-dom/cjs/react-dom-server.node.production.js')\n+  } else {\n+    b = require('next/dist/compiled/react-dom/cjs/react-dom-server.node.development.js')\n+  }\n+} else {\n+  if (process.env.NODE_ENV === 'production') {\n+    b = require('next/dist/compiled/react-dom/cjs/react-dom-server.edge.production.js')\n+  } else {\n+    b = require('next/dist/compiled/react-dom/cjs/react-dom-server.edge.development.js')\n+  }\n+}\n+\n+exports.version = b.version\n+exports.renderToReadableStream = b.renderToReadableStream\n+exports.renderToString = error\n+exports.renderToStaticMarkup = error\n+if (b.resume) {\n+  exports.resume = b.resume\n+}"
        },
        {
            "sha": "c447392c8462a62c979cf7ca3b5d80044d5dd92c",
            "filename": "packages/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 11,
            "changes": 13,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Faction-client-wrapper.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Faction-client-wrapper.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Faction-client-wrapper.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -6,14 +6,5 @@ export { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n \n // A noop wrapper to let the Flight client create the server reference.\n // See also: https://github.com/facebook/react/pull/26632\n-// Since we're using the Edge build of Flight client for SSR [1], here we need to\n-// also use the same Edge build to create the reference. For the client bundle,\n-// we use the default and let Webpack to resolve it to the correct version.\n-// 1: https://github.com/vercel/next.js/blob/16eb80b0b0be13f04a6407943664b5efd8f3d7d0/packages/next/src/server/app-render/use-flight-response.tsx#L24-L26\n-export const createServerReference = (\n-  (!!process.env.NEXT_RUNTIME\n-    ? // eslint-disable-next-line import/no-extraneous-dependencies\n-      (require('react-server-dom-webpack/client.edge') as typeof import('react-server-dom-webpack/client.edge'))\n-    : // eslint-disable-next-line import/no-extraneous-dependencies\n-      (require('react-server-dom-webpack/client') as typeof import('react-server-dom-webpack/client'))) as typeof import('react-server-dom-webpack/client')\n-).createServerReference\n+// eslint-disable-next-line import/no-extraneous-dependencies\n+export { createServerReference } from 'react-server-dom-webpack/client'"
        },
        {
            "sha": "4fa6ecf1b59629479783e80ff41c91a0538abe66",
            "filename": "packages/next/src/build/webpack/loaders/next-flight-loader/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Findex.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Findex.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Findex.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -120,7 +120,7 @@ export default function transformSource(\n       let esmSource =\n         prefix +\n         `\\\n-import { registerClientReference } from \"react-server-dom-webpack/server.edge\";\n+import { registerClientReference } from \"react-server-dom-webpack/server\";\n `\n       for (const ref of clientRefs) {\n         if (ref === 'default') {"
        },
        {
            "sha": "f496579006ebc3449308aa5f74ed399f1b138e20",
            "filename": "packages/next/src/build/webpack/loaders/next-flight-loader/module-proxy.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Fmodule-proxy.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Fmodule-proxy.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Fmodule-proxy.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,5 +1,5 @@\n /* eslint-disable import/no-extraneous-dependencies */\n-import { createClientModuleProxy } from 'react-server-dom-webpack/server.edge'\n+import { createClientModuleProxy } from 'react-server-dom-webpack/server'\n \n // Re-assign to make it typed.\n export const createProxy: (moduleId: string) => any = createClientModuleProxy"
        },
        {
            "sha": "f952b55e43edec7723d809ded29dae5ee745d263",
            "filename": "packages/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Fserver-reference.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Fserver-reference.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fbuild%2Fwebpack%2Floaders%2Fnext-flight-loader%2Fserver-reference.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,2 +1,2 @@\n /* eslint-disable import/no-extraneous-dependencies */\n-export { registerServerReference } from 'react-server-dom-webpack/server.edge'\n+export { registerServerReference } from 'react-server-dom-webpack/server'"
        },
        {
            "sha": "d3280a7fe7536022c00e78806918102622639a66",
            "filename": "packages/next/src/client/app-index.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fapp-index.tsx?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -5,8 +5,9 @@ import '../next-devtools/userspace/app/app-dev-overlay-setup'\n \n import ReactDOMClient from 'react-dom/client'\n import React, { use } from 'react'\n+// TODO: Explicitly import from client.browser\n // eslint-disable-next-line import/no-extraneous-dependencies\n-import { createFromReadableStream } from 'react-server-dom-webpack/client'\n+import { createFromReadableStream as createFromReadableStreamBrowser } from 'react-server-dom-webpack/client'\n import { HeadManagerContext } from '../shared/lib/head-manager-context.shared-runtime'\n import { onRecoverableError } from './react-client-callbacks/on-recoverable-error'\n import {\n@@ -28,6 +29,9 @@ import { isBot } from '../shared/lib/router/utils/is-bot'\n \n /// <reference types=\"react-dom/experimental\" />\n \n+const createFromReadableStream =\n+  createFromReadableStreamBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromReadableStream']\n+\n const appElement: HTMLElement | Document = document\n \n const encoder = new TextEncoder()"
        },
        {
            "sha": "ee90122beee0b1d85de2cc072c6cda2fe465048a",
            "filename": "packages/next/src/client/components/router-reducer/fetch-server-response.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 9,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffetch-server-response.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffetch-server-response.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Ffetch-server-response.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,15 +1,8 @@\n 'use client'\n \n-// @ts-ignore\n+// TODO: Explicitly import from client.browser\n // eslint-disable-next-line import/no-extraneous-dependencies\n-// import { createFromReadableStream } from 'react-server-dom-webpack/client'\n-const { createFromReadableStream } = (\n-  !!process.env.NEXT_RUNTIME\n-    ? // eslint-disable-next-line import/no-extraneous-dependencies\n-      (require('react-server-dom-webpack/client.edge') as typeof import('react-server-dom-webpack/client.edge'))\n-    : // eslint-disable-next-line import/no-extraneous-dependencies\n-      (require('react-server-dom-webpack/client') as typeof import('react-server-dom-webpack/client'))\n-) as typeof import('react-server-dom-webpack/client')\n+import { createFromReadableStream as createFromReadableStreamBrowser } from 'react-server-dom-webpack/client'\n \n import type {\n   FlightRouterState,\n@@ -39,6 +32,9 @@ import {\n import { getAppBuildId } from '../../app-build-id'\n import { setCacheBustingSearchParam } from './set-cache-busting-search-param'\n \n+const createFromReadableStream =\n+  createFromReadableStreamBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromReadableStream']\n+\n export interface FetchServerResponseOptions {\n   readonly flightRouterState: FlightRouterState\n   readonly nextUrl: string | null"
        },
        {
            "sha": "72981c3ec9a3af5c8ab08c161e86d1016500347c",
            "filename": "packages/next/src/client/components/router-reducer/reducers/server-action-reducer.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-action-reducer.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-action-reducer.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fclient%2Fcomponents%2Frouter-reducer%2Freducers%2Fserver-action-reducer.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -13,17 +13,13 @@ import {\n   RSC_CONTENT_TYPE_HEADER,\n } from '../../app-router-headers'\n \n-// // eslint-disable-next-line import/no-extraneous-dependencies\n-// import { createFromFetch } from 'react-server-dom-webpack/client'\n-// // eslint-disable-next-line import/no-extraneous-dependencies\n-// import { encodeReply } from 'react-server-dom-webpack/client'\n-const { createFromFetch, createTemporaryReferenceSet, encodeReply } = (\n-  !!process.env.NEXT_RUNTIME\n-    ? // eslint-disable-next-line import/no-extraneous-dependencies\n-      (require('react-server-dom-webpack/client.edge') as typeof import('react-server-dom-webpack/client.edge'))\n-    : // eslint-disable-next-line import/no-extraneous-dependencies\n-      (require('react-server-dom-webpack/client') as typeof import('react-server-dom-webpack/client'))\n-) as typeof import('react-server-dom-webpack/client')\n+// TODO: Explicitly import from client.browser\n+// eslint-disable-next-line import/no-extraneous-dependencies\n+import {\n+  createFromFetch as createFromFetchBrowser,\n+  createTemporaryReferenceSet,\n+  encodeReply,\n+} from 'react-server-dom-webpack/client'\n \n import {\n   PrefetchKind,\n@@ -60,6 +56,9 @@ import {\n } from '../../../../shared/lib/server-reference-info'\n import { revalidateEntireCache } from '../../segment-cache'\n \n+const createFromFetch =\n+  createFromFetchBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromFetch']\n+\n type FetchServerActionResult = {\n   redirectLocation: URL | undefined\n   redirectType: RedirectType | undefined"
        },
        {
            "sha": "4b8253fc7aea96ce49be6d2ae194a5a707814b7b",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.edge.development.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.development.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -35,15 +35,6 @@\n \"use strict\";\n \"production\" !== process.env.NODE_ENV &&\n   (function () {\n-    // This is a patch added by Next.js\n-    const setTimeoutOrImmediate =\n-      typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-      // edge runtime sandbox defines a stub for setImmediate\n-      // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-      // but it's made non-enumerable, so we can detect it\n-      globalThis.propertyIsEnumerable(\"setImmediate\")\n-        ? globalThis[\"set\" + \"Immediate\"]\n-        : (callback, ...args) => setTimeout(callback, 0, ...args);\n     function styleReplacer(match, prefix, s, suffix) {\n       return \"\" + prefix + (\"s\" === s ? \"\\\\73 \" : \"\\\\53 \") + suffix;\n     }\n@@ -277,7 +268,7 @@\n       return (h1 ^ (h1 >>> 16)) >>> 0;\n     }\n     function handleErrorInNextTick(error) {\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         throw error;\n       });\n     }\n@@ -5140,9 +5131,9 @@\n           ? scheduleMicrotask(function () {\n               return performWork(request);\n             })\n-          : setTimeoutOrImmediate(function () {\n+          : setTimeout(function () {\n               return performWork(request);\n-            }));\n+            }, 0));\n     }\n     function createSuspenseBoundary(\n       request,\n@@ -9374,7 +9365,7 @@\n         : scheduleMicrotask(function () {\n             return performWork(request);\n           });\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         10 === request.status && (request.status = 11);\n         null === request.trackedPostpones &&\n           (supportsRequestStorage\n@@ -9384,7 +9375,7 @@\n                 request\n               )\n             : enqueueEarlyPreloadsAfterInitialWork(request));\n-      });\n+      }, 0);\n     }\n     function enqueueEarlyPreloadsAfterInitialWork(request) {\n       safelyEmitEarlyPreloads(request, 0 === request.pendingRootTasks);\n@@ -9394,12 +9385,12 @@\n         0 === request.pingedTasks.length &&\n         null !== request.destination &&\n         ((request.flushScheduled = !0),\n-        setTimeoutOrImmediate(function () {\n+        setTimeout(function () {\n           var destination = request.destination;\n           destination\n             ? flushCompletedQueues(request, destination)\n             : (request.flushScheduled = !1);\n-        }));\n+        }, 0));\n     }\n     function startFlowing(request, destination) {\n       if (13 === request.status)"
        },
        {
            "sha": "399c23a657d1d805ac40ff463b2b23679315550b",
            "filename": "packages/next/src/compiled/react-dom-experimental/cjs/react-dom-server.edge.production.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fcjs%2Freact-dom-server.edge.production.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,12 +1,3 @@\n-// This is a patch added by Next.js\n-const setTimeoutOrImmediate =\n-  typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-  // edge runtime sandbox defines a stub for setImmediate\n-  // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-  // but it's made non-enumerable, so we can detect it\n-  globalThis.propertyIsEnumerable(\"setImmediate\")\n-    ? globalThis[\"set\" + \"Immediate\"]\n-    : (callback, ...args) => setTimeout(callback, 0, ...args);\n /**\n  * @license React\n  * react-dom-server.edge.production.js\n@@ -126,7 +117,7 @@ function murmurhash3_32_gc(key, seed) {\n   return (h1 ^ (h1 >>> 16)) >>> 0;\n }\n function handleErrorInNextTick(error) {\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     throw error;\n   });\n }\n@@ -4651,9 +4642,9 @@ function pingTask(request, task) {\n       ? scheduleMicrotask(function () {\n           return performWork(request);\n         })\n-      : setTimeoutOrImmediate(function () {\n+      : setTimeout(function () {\n           return performWork(request);\n-        }));\n+        }, 0));\n }\n function createSuspenseBoundary(\n   request,\n@@ -7777,7 +7768,7 @@ function startWork(request) {\n     : scheduleMicrotask(function () {\n         return performWork(request);\n       });\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     10 === request.status && (request.status = 11);\n     null === request.trackedPostpones &&\n       (supportsRequestStorage\n@@ -7787,7 +7778,7 @@ function startWork(request) {\n             request\n           )\n         : enqueueEarlyPreloadsAfterInitialWork(request));\n-  });\n+  }, 0);\n }\n function enqueueEarlyPreloadsAfterInitialWork(request) {\n   safelyEmitEarlyPreloads(request, 0 === request.pendingRootTasks);\n@@ -7797,12 +7788,12 @@ function enqueueFlush(request) {\n     0 === request.pingedTasks.length &&\n     null !== request.destination &&\n     ((request.flushScheduled = !0),\n-    setTimeoutOrImmediate(function () {\n+    setTimeout(function () {\n       var destination = request.destination;\n       destination\n         ? flushCompletedQueues(request, destination)\n         : (request.flushScheduled = !1);\n-    }));\n+    }, 0));\n }\n function startFlowing(request, destination) {\n   if (13 === request.status)"
        },
        {
            "sha": "24fc9cbc20f868c93600f509b188df6430f9eb1b",
            "filename": "packages/next/src/compiled/react-dom-experimental/static.node.js",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fstatic.node.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fstatic.node.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom-experimental%2Fstatic.node.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,14 @@\n+'use strict';\n+\n+var s;\n+if (process.env.NODE_ENV === 'production') {\n+  s = require('./cjs/react-dom-server.node.production.js');\n+} else {\n+  s = require('./cjs/react-dom-server.node.development.js');\n+}\n+\n+exports.version = s.version;\n+exports.prerenderToNodeStream = s.prerenderToNodeStream;\n+exports.prerender = s.prerender;\n+exports.resumeAndPrerenderToNodeStream = s.resumeAndPrerenderToNodeStream;\n+exports.resumeAndPrerender = s.resumeAndPrerender;"
        },
        {
            "sha": "c8c898721381a7e19e9f46ee2968ed0645f6ca05",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.edge.development.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.development.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -35,15 +35,6 @@\n \"use strict\";\n \"production\" !== process.env.NODE_ENV &&\n   (function () {\n-    // This is a patch added by Next.js\n-    const setTimeoutOrImmediate =\n-      typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-      // edge runtime sandbox defines a stub for setImmediate\n-      // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-      // but it's made non-enumerable, so we can detect it\n-      globalThis.propertyIsEnumerable(\"setImmediate\")\n-        ? globalThis[\"set\" + \"Immediate\"]\n-        : (callback, ...args) => setTimeout(callback, 0, ...args);\n     function styleReplacer(match, prefix, s, suffix) {\n       return \"\" + prefix + (\"s\" === s ? \"\\\\73 \" : \"\\\\53 \") + suffix;\n     }\n@@ -275,7 +266,7 @@\n       return (h1 ^ (h1 >>> 16)) >>> 0;\n     }\n     function handleErrorInNextTick(error) {\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         throw error;\n       });\n     }\n@@ -4703,9 +4694,9 @@\n           ? scheduleMicrotask(function () {\n               return performWork(request);\n             })\n-          : setTimeoutOrImmediate(function () {\n+          : setTimeout(function () {\n               return performWork(request);\n-            }));\n+            }, 0));\n     }\n     function createSuspenseBoundary(\n       request,\n@@ -8371,7 +8362,7 @@\n         : scheduleMicrotask(function () {\n             return performWork(request);\n           });\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         10 === request.status && (request.status = 11);\n         null === request.trackedPostpones &&\n           (supportsRequestStorage\n@@ -8381,7 +8372,7 @@\n                 request\n               )\n             : enqueueEarlyPreloadsAfterInitialWork(request));\n-      });\n+      }, 0);\n     }\n     function enqueueEarlyPreloadsAfterInitialWork(request) {\n       safelyEmitEarlyPreloads(request, 0 === request.pendingRootTasks);\n@@ -8391,12 +8382,12 @@\n         0 === request.pingedTasks.length &&\n         null !== request.destination &&\n         ((request.flushScheduled = !0),\n-        setTimeoutOrImmediate(function () {\n+        setTimeout(function () {\n           var destination = request.destination;\n           destination\n             ? flushCompletedQueues(request, destination)\n             : (request.flushScheduled = !1);\n-        }));\n+        }, 0));\n     }\n     function startFlowing(request, destination) {\n       if (13 === request.status)"
        },
        {
            "sha": "d5d581c5d6f0ee99a08be18733203225e245bd5f",
            "filename": "packages/next/src/compiled/react-dom/cjs/react-dom-server.edge.production.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fcjs%2Freact-dom-server.edge.production.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,12 +1,3 @@\n-// This is a patch added by Next.js\n-const setTimeoutOrImmediate =\n-  typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-  // edge runtime sandbox defines a stub for setImmediate\n-  // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-  // but it's made non-enumerable, so we can detect it\n-  globalThis.propertyIsEnumerable(\"setImmediate\")\n-    ? globalThis[\"set\" + \"Immediate\"]\n-    : (callback, ...args) => setTimeout(callback, 0, ...args);\n /**\n  * @license React\n  * react-dom-server.edge.production.js\n@@ -124,7 +115,7 @@ function murmurhash3_32_gc(key, seed) {\n   return (h1 ^ (h1 >>> 16)) >>> 0;\n }\n function handleErrorInNextTick(error) {\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     throw error;\n   });\n }\n@@ -4234,9 +4225,9 @@ function pingTask(request, task) {\n       ? scheduleMicrotask(function () {\n           return performWork(request);\n         })\n-      : setTimeoutOrImmediate(function () {\n+      : setTimeout(function () {\n           return performWork(request);\n-        }));\n+        }, 0));\n }\n function createSuspenseBoundary(\n   request,\n@@ -6871,7 +6862,7 @@ function startWork(request) {\n     : scheduleMicrotask(function () {\n         return performWork(request);\n       });\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     10 === request.status && (request.status = 11);\n     null === request.trackedPostpones &&\n       (supportsRequestStorage\n@@ -6881,7 +6872,7 @@ function startWork(request) {\n             request\n           )\n         : enqueueEarlyPreloadsAfterInitialWork(request));\n-  });\n+  }, 0);\n }\n function enqueueEarlyPreloadsAfterInitialWork(request) {\n   safelyEmitEarlyPreloads(request, 0 === request.pendingRootTasks);\n@@ -6891,12 +6882,12 @@ function enqueueFlush(request) {\n     0 === request.pingedTasks.length &&\n     null !== request.destination &&\n     ((request.flushScheduled = !0),\n-    setTimeoutOrImmediate(function () {\n+    setTimeout(function () {\n       var destination = request.destination;\n       destination\n         ? flushCompletedQueues(request, destination)\n         : (request.flushScheduled = !1);\n-    }));\n+    }, 0));\n }\n function startFlowing(request, destination) {\n   if (13 === request.status)"
        },
        {
            "sha": "24fc9cbc20f868c93600f509b188df6430f9eb1b",
            "filename": "packages/next/src/compiled/react-dom/static.node.js",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fstatic.node.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fstatic.node.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-dom%2Fstatic.node.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,14 @@\n+'use strict';\n+\n+var s;\n+if (process.env.NODE_ENV === 'production') {\n+  s = require('./cjs/react-dom-server.node.production.js');\n+} else {\n+  s = require('./cjs/react-dom-server.node.development.js');\n+}\n+\n+exports.version = s.version;\n+exports.prerenderToNodeStream = s.prerenderToNodeStream;\n+exports.prerender = s.prerender;\n+exports.resumeAndPrerenderToNodeStream = s.resumeAndPrerenderToNodeStream;\n+exports.resumeAndPrerender = s.resumeAndPrerender;"
        },
        {
            "sha": "98f6d08ab74cb1681e8b24c2f5fdddb32f55aee2",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.edge.development.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -11,15 +11,6 @@\n \"use strict\";\n \"production\" !== process.env.NODE_ENV &&\n   (function () {\n-    // This is a patch added by Next.js\n-    const setTimeoutOrImmediate =\n-      typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-      // edge runtime sandbox defines a stub for setImmediate\n-      // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-      // but it's made non-enumerable, so we can detect it\n-      globalThis.propertyIsEnumerable(\"setImmediate\")\n-        ? globalThis[\"set\" + \"Immediate\"]\n-        : (callback, ...args) => setTimeout(callback, 0, ...args);\n     function voidHandler() {}\n     function getIteratorFn(maybeIterable) {\n       if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n@@ -51,7 +42,7 @@\n       return obj;\n     }\n     function handleErrorInNextTick(error) {\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         throw error;\n       });\n     }\n@@ -1740,9 +1731,9 @@\n           ? scheduleMicrotask(function () {\n               return performWork(request);\n             })\n-          : setTimeoutOrImmediate(function () {\n+          : setTimeout(function () {\n               return performWork(request);\n-            }));\n+            }, 0));\n     }\n     function createTask(\n       request,\n@@ -3447,20 +3438,20 @@\n         : scheduleMicrotask(function () {\n             return performWork(request);\n           });\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         10 === request.status && (request.status = 11);\n-      });\n+      }, 0);\n     }\n     function enqueueFlush(request) {\n       !1 === request.flushScheduled &&\n         0 === request.pingedTasks.length &&\n         null !== request.destination &&\n         ((request.flushScheduled = !0),\n-        setTimeoutOrImmediate(function () {\n+        setTimeout(function () {\n           request.flushScheduled = !1;\n           var destination = request.destination;\n           destination && flushCompletedChunks(request, destination);\n-        }));\n+        }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n       0 === request.abortableTasks.size &&"
        },
        {
            "sha": "2a06e1f449b5daf98132a3370b1f2baf84e72e80",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack-experimental/cjs/react-server-dom-turbopack-server.edge.production.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack-experimental%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,12 +1,3 @@\n-// This is a patch added by Next.js\n-const setTimeoutOrImmediate =\n-  typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-  // edge runtime sandbox defines a stub for setImmediate\n-  // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-  // but it's made non-enumerable, so we can detect it\n-  globalThis.propertyIsEnumerable(\"setImmediate\")\n-    ? globalThis[\"set\" + \"Immediate\"]\n-    : (callback, ...args) => setTimeout(callback, 0, ...args);\n /**\n  * @license React\n  * react-server-dom-turbopack-server.edge.production.js\n@@ -42,7 +33,7 @@ function getIteratorFn(maybeIterable) {\n }\n var ASYNC_ITERATOR = Symbol.asyncIterator;\n function handleErrorInNextTick(error) {\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     throw error;\n   });\n }\n@@ -1170,9 +1161,9 @@ function pingTask(request, task) {\n       ? scheduleMicrotask(function () {\n           return performWork(request);\n         })\n-      : setTimeoutOrImmediate(function () {\n+      : setTimeout(function () {\n           return performWork(request);\n-        }));\n+        }, 0));\n }\n function createTask(request, model, keyPath, implicitSlot, abortSet) {\n   request.pendingChunks++;\n@@ -2001,20 +1992,20 @@ function startWork(request) {\n     : scheduleMicrotask(function () {\n         return performWork(request);\n       });\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     10 === request.status && (request.status = 11);\n-  });\n+  }, 0);\n }\n function enqueueFlush(request) {\n   !1 === request.flushScheduled &&\n     0 === request.pingedTasks.length &&\n     null !== request.destination &&\n     ((request.flushScheduled = !0),\n-    setTimeoutOrImmediate(function () {\n+    setTimeout(function () {\n       request.flushScheduled = !1;\n       var destination = request.destination;\n       destination && flushCompletedChunks(request, destination);\n-    }));\n+    }, 0));\n }\n function callOnAllReadyIfReady(request) {\n   0 === request.abortableTasks.size &&"
        },
        {
            "sha": "fbe5aee8ca5e81366f8cf4bc47a235516e143aa1",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.edge.development.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.development.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -11,15 +11,6 @@\n \"use strict\";\n \"production\" !== process.env.NODE_ENV &&\n   (function () {\n-    // This is a patch added by Next.js\n-    const setTimeoutOrImmediate =\n-      typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-      // edge runtime sandbox defines a stub for setImmediate\n-      // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-      // but it's made non-enumerable, so we can detect it\n-      globalThis.propertyIsEnumerable(\"setImmediate\")\n-        ? globalThis[\"set\" + \"Immediate\"]\n-        : (callback, ...args) => setTimeout(callback, 0, ...args);\n     function voidHandler() {}\n     function getIteratorFn(maybeIterable) {\n       if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n@@ -51,7 +42,7 @@\n       return obj;\n     }\n     function handleErrorInNextTick(error) {\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         throw error;\n       });\n     }\n@@ -1664,9 +1655,9 @@\n           ? scheduleMicrotask(function () {\n               return performWork(request);\n             })\n-          : setTimeoutOrImmediate(function () {\n+          : setTimeout(function () {\n               return performWork(request);\n-            }));\n+            }, 0));\n     }\n     function createTask(\n       request,\n@@ -3233,20 +3224,20 @@\n         : scheduleMicrotask(function () {\n             return performWork(request);\n           });\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         10 === request.status && (request.status = 11);\n-      });\n+      }, 0);\n     }\n     function enqueueFlush(request) {\n       !1 === request.flushScheduled &&\n         0 === request.pingedTasks.length &&\n         null !== request.destination &&\n         ((request.flushScheduled = !0),\n-        setTimeoutOrImmediate(function () {\n+        setTimeout(function () {\n           request.flushScheduled = !1;\n           var destination = request.destination;\n           destination && flushCompletedChunks(request, destination);\n-        }));\n+        }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n       0 === request.abortableTasks.size &&"
        },
        {
            "sha": "2dd2333e0a2dfa833de619c20d242f8233918f4d",
            "filename": "packages/next/src/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-server.edge.production.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-turbopack%2Fcjs%2Freact-server-dom-turbopack-server.edge.production.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,12 +1,3 @@\n-// This is a patch added by Next.js\n-const setTimeoutOrImmediate =\n-  typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-  // edge runtime sandbox defines a stub for setImmediate\n-  // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-  // but it's made non-enumerable, so we can detect it\n-  globalThis.propertyIsEnumerable(\"setImmediate\")\n-    ? globalThis[\"set\" + \"Immediate\"]\n-    : (callback, ...args) => setTimeout(callback, 0, ...args);\n /**\n  * @license React\n  * react-server-dom-turbopack-server.edge.production.js\n@@ -41,7 +32,7 @@ function getIteratorFn(maybeIterable) {\n }\n var ASYNC_ITERATOR = Symbol.asyncIterator;\n function handleErrorInNextTick(error) {\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     throw error;\n   });\n }\n@@ -1135,9 +1126,9 @@ function pingTask(request, task) {\n       ? scheduleMicrotask(function () {\n           return performWork(request);\n         })\n-      : setTimeoutOrImmediate(function () {\n+      : setTimeout(function () {\n           return performWork(request);\n-        }));\n+        }, 0));\n }\n function createTask(request, model, keyPath, implicitSlot, abortSet) {\n   request.pendingChunks++;\n@@ -1896,20 +1887,20 @@ function startWork(request) {\n     : scheduleMicrotask(function () {\n         return performWork(request);\n       });\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     10 === request.status && (request.status = 11);\n-  });\n+  }, 0);\n }\n function enqueueFlush(request) {\n   !1 === request.flushScheduled &&\n     0 === request.pingedTasks.length &&\n     null !== request.destination &&\n     ((request.flushScheduled = !0),\n-    setTimeoutOrImmediate(function () {\n+    setTimeout(function () {\n       request.flushScheduled = !1;\n       var destination = request.destination;\n       destination && flushCompletedChunks(request, destination);\n-    }));\n+    }, 0));\n }\n function callOnAllReadyIfReady(request) {\n   0 === request.abortableTasks.size &&"
        },
        {
            "sha": "ad7b6f487e35900d5ea8943bb5eab9df4a19b595",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.edge.development.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -11,15 +11,6 @@\n \"use strict\";\n \"production\" !== process.env.NODE_ENV &&\n   (function () {\n-    // This is a patch added by Next.js\n-    const setTimeoutOrImmediate =\n-      typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-      // edge runtime sandbox defines a stub for setImmediate\n-      // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-      // but it's made non-enumerable, so we can detect it\n-      globalThis.propertyIsEnumerable(\"setImmediate\")\n-        ? globalThis[\"set\" + \"Immediate\"]\n-        : (callback, ...args) => setTimeout(callback, 0, ...args);\n     function voidHandler() {}\n     function getIteratorFn(maybeIterable) {\n       if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n@@ -51,7 +42,7 @@\n       return obj;\n     }\n     function handleErrorInNextTick(error) {\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         throw error;\n       });\n     }\n@@ -1740,9 +1731,9 @@\n           ? scheduleMicrotask(function () {\n               return performWork(request);\n             })\n-          : setTimeoutOrImmediate(function () {\n+          : setTimeout(function () {\n               return performWork(request);\n-            }));\n+            }, 0));\n     }\n     function createTask(\n       request,\n@@ -3447,20 +3438,20 @@\n         : scheduleMicrotask(function () {\n             return performWork(request);\n           });\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         10 === request.status && (request.status = 11);\n-      });\n+      }, 0);\n     }\n     function enqueueFlush(request) {\n       !1 === request.flushScheduled &&\n         0 === request.pingedTasks.length &&\n         null !== request.destination &&\n         ((request.flushScheduled = !0),\n-        setTimeoutOrImmediate(function () {\n+        setTimeout(function () {\n           request.flushScheduled = !1;\n           var destination = request.destination;\n           destination && flushCompletedChunks(request, destination);\n-        }));\n+        }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n       0 === request.abortableTasks.size &&"
        },
        {
            "sha": "e1640e67adcb896557d0e8756d2f58c94785d722",
            "filename": "packages/next/src/compiled/react-server-dom-webpack-experimental/cjs/react-server-dom-webpack-server.edge.production.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack-experimental%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,12 +1,3 @@\n-// This is a patch added by Next.js\n-const setTimeoutOrImmediate =\n-  typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-  // edge runtime sandbox defines a stub for setImmediate\n-  // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-  // but it's made non-enumerable, so we can detect it\n-  globalThis.propertyIsEnumerable(\"setImmediate\")\n-    ? globalThis[\"set\" + \"Immediate\"]\n-    : (callback, ...args) => setTimeout(callback, 0, ...args);\n /**\n  * @license React\n  * react-server-dom-webpack-server.edge.production.js\n@@ -42,7 +33,7 @@ function getIteratorFn(maybeIterable) {\n }\n var ASYNC_ITERATOR = Symbol.asyncIterator;\n function handleErrorInNextTick(error) {\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     throw error;\n   });\n }\n@@ -1170,9 +1161,9 @@ function pingTask(request, task) {\n       ? scheduleMicrotask(function () {\n           return performWork(request);\n         })\n-      : setTimeoutOrImmediate(function () {\n+      : setTimeout(function () {\n           return performWork(request);\n-        }));\n+        }, 0));\n }\n function createTask(request, model, keyPath, implicitSlot, abortSet) {\n   request.pendingChunks++;\n@@ -2001,20 +1992,20 @@ function startWork(request) {\n     : scheduleMicrotask(function () {\n         return performWork(request);\n       });\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     10 === request.status && (request.status = 11);\n-  });\n+  }, 0);\n }\n function enqueueFlush(request) {\n   !1 === request.flushScheduled &&\n     0 === request.pingedTasks.length &&\n     null !== request.destination &&\n     ((request.flushScheduled = !0),\n-    setTimeoutOrImmediate(function () {\n+    setTimeout(function () {\n       request.flushScheduled = !1;\n       var destination = request.destination;\n       destination && flushCompletedChunks(request, destination);\n-    }));\n+    }, 0));\n }\n function callOnAllReadyIfReady(request) {\n   0 === request.abortableTasks.size &&"
        },
        {
            "sha": "6525db0d6102149cfe6f034a524fd8b0501433d3",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.edge.development.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.development.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -11,15 +11,6 @@\n \"use strict\";\n \"production\" !== process.env.NODE_ENV &&\n   (function () {\n-    // This is a patch added by Next.js\n-    const setTimeoutOrImmediate =\n-      typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-      // edge runtime sandbox defines a stub for setImmediate\n-      // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-      // but it's made non-enumerable, so we can detect it\n-      globalThis.propertyIsEnumerable(\"setImmediate\")\n-        ? globalThis[\"set\" + \"Immediate\"]\n-        : (callback, ...args) => setTimeout(callback, 0, ...args);\n     function voidHandler() {}\n     function getIteratorFn(maybeIterable) {\n       if (null === maybeIterable || \"object\" !== typeof maybeIterable)\n@@ -51,7 +42,7 @@\n       return obj;\n     }\n     function handleErrorInNextTick(error) {\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         throw error;\n       });\n     }\n@@ -1664,9 +1655,9 @@\n           ? scheduleMicrotask(function () {\n               return performWork(request);\n             })\n-          : setTimeoutOrImmediate(function () {\n+          : setTimeout(function () {\n               return performWork(request);\n-            }));\n+            }, 0));\n     }\n     function createTask(\n       request,\n@@ -3233,20 +3224,20 @@\n         : scheduleMicrotask(function () {\n             return performWork(request);\n           });\n-      setTimeoutOrImmediate(function () {\n+      setTimeout(function () {\n         10 === request.status && (request.status = 11);\n-      });\n+      }, 0);\n     }\n     function enqueueFlush(request) {\n       !1 === request.flushScheduled &&\n         0 === request.pingedTasks.length &&\n         null !== request.destination &&\n         ((request.flushScheduled = !0),\n-        setTimeoutOrImmediate(function () {\n+        setTimeout(function () {\n           request.flushScheduled = !1;\n           var destination = request.destination;\n           destination && flushCompletedChunks(request, destination);\n-        }));\n+        }, 0));\n     }\n     function callOnAllReadyIfReady(request) {\n       0 === request.abortableTasks.size &&"
        },
        {
            "sha": "81d93fb64b3fa0d363eb776817d57c1671044a8b",
            "filename": "packages/next/src/compiled/react-server-dom-webpack/cjs/react-server-dom-webpack-server.edge.production.js",
            "status": "modified",
            "additions": 7,
            "deletions": 16,
            "changes": 23,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fcompiled%2Freact-server-dom-webpack%2Fcjs%2Freact-server-dom-webpack-server.edge.production.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,12 +1,3 @@\n-// This is a patch added by Next.js\n-const setTimeoutOrImmediate =\n-  typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-  // edge runtime sandbox defines a stub for setImmediate\n-  // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-  // but it's made non-enumerable, so we can detect it\n-  globalThis.propertyIsEnumerable(\"setImmediate\")\n-    ? globalThis[\"set\" + \"Immediate\"]\n-    : (callback, ...args) => setTimeout(callback, 0, ...args);\n /**\n  * @license React\n  * react-server-dom-webpack-server.edge.production.js\n@@ -41,7 +32,7 @@ function getIteratorFn(maybeIterable) {\n }\n var ASYNC_ITERATOR = Symbol.asyncIterator;\n function handleErrorInNextTick(error) {\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     throw error;\n   });\n }\n@@ -1135,9 +1126,9 @@ function pingTask(request, task) {\n       ? scheduleMicrotask(function () {\n           return performWork(request);\n         })\n-      : setTimeoutOrImmediate(function () {\n+      : setTimeout(function () {\n           return performWork(request);\n-        }));\n+        }, 0));\n }\n function createTask(request, model, keyPath, implicitSlot, abortSet) {\n   request.pendingChunks++;\n@@ -1896,20 +1887,20 @@ function startWork(request) {\n     : scheduleMicrotask(function () {\n         return performWork(request);\n       });\n-  setTimeoutOrImmediate(function () {\n+  setTimeout(function () {\n     10 === request.status && (request.status = 11);\n-  });\n+  }, 0);\n }\n function enqueueFlush(request) {\n   !1 === request.flushScheduled &&\n     0 === request.pingedTasks.length &&\n     null !== request.destination &&\n     ((request.flushScheduled = !0),\n-    setTimeoutOrImmediate(function () {\n+    setTimeout(function () {\n       request.flushScheduled = !1;\n       var destination = request.destination;\n       destination && flushCompletedChunks(request, destination);\n-    }));\n+    }, 0));\n }\n function callOnAllReadyIfReady(request) {\n   0 === request.abortableTasks.size &&"
        },
        {
            "sha": "041de0a2211ed249491638e73a0126daf3374ba1",
            "filename": "packages/next/src/server/ReactDOMServerPages.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2FReactDOMServerPages.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2FReactDOMServerPages.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2FReactDOMServerPages.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,6 +1,7 @@\n let ReactDOMServer\n \n try {\n+  // TODO: Use Node.js build unless we're in an Edge runtime.\n   ReactDOMServer = require('react-dom/server.edge')\n } catch (error) {\n   if ("
        },
        {
            "sha": "975e46e24e9fddf51c2bc0fe775fb4b34799e668",
            "filename": "packages/next/src/server/app-render/action-handler.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Faction-handler.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Faction-handler.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Faction-handler.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -52,7 +52,7 @@ import { selectWorkerForForwarding } from './action-utils'\n import { isNodeNextRequest, isWebNextRequest } from '../base-http/helpers'\n import { RedirectStatusCode } from '../../client/components/redirect-status-code'\n import { synchronizeMutableCookies } from '../async-storage/request-store'\n-import type { TemporaryReferenceSet } from 'react-server-dom-webpack/server.edge'\n+import type { TemporaryReferenceSet } from 'react-server-dom-webpack/server'\n import { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\n import { InvariantError } from '../../shared/lib/invariant-error'\n import { executeRevalidates } from '../revalidation-utils'\n@@ -679,7 +679,7 @@ export async function handleAction({\n \n           // TODO: add body limit\n \n-          // Use react-server-dom-webpack/server.edge\n+          // Use react-server-dom-webpack/server\n           const {\n             createTemporaryReferenceSet,\n             decodeReply,"
        },
        {
            "sha": "faf312dff55291d8c96e2ac04e59d91f8889a578",
            "filename": "packages/next/src/server/app-render/app-render.tsx",
            "status": "modified",
            "additions": 22,
            "deletions": 25,
            "changes": 47,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fapp-render.tsx?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1972,8 +1972,8 @@ async function renderToStream(\n         const postponed = getPostponedFromState(postponedState)\n \n         const resume = (\n-          require('react-dom/server.edge') as typeof import('react-dom/server.edge')\n-        ).resume as (typeof import('react-dom/server.edge'))['resume']\n+          require('react-dom/server') as typeof import('react-dom/server')\n+        ).resume\n \n         const htmlStream = await workUnitAsyncStorage.run(\n           requestStore,\n@@ -2011,9 +2011,8 @@ async function renderToStream(\n \n     // This is a regular dynamic render\n     const renderToReadableStream = (\n-      require('react-dom/server.edge') as typeof import('react-dom/server.edge')\n-    )\n-      .renderToReadableStream as (typeof import('react-dom/server.edge'))['renderToReadableStream']\n+      require('react-dom/server') as typeof import('react-dom/server')\n+    ).renderToReadableStream\n \n     const htmlStream = await workUnitAsyncStorage.run(\n       requestStore,\n@@ -2172,7 +2171,7 @@ async function renderToStream(\n         renderToInitialFizzStream,\n         {\n           ReactDOMServer:\n-            require('react-dom/server.edge') as typeof import('react-dom/server.edge'),\n+            require('react-dom/server') as typeof import('react-dom/server'),\n           element: (\n             <ErrorApp\n               reactServerStream={errorServerStream}\n@@ -2448,8 +2447,8 @@ async function spawnDynamicValidationInDev(\n     }\n \n     const prerender = (\n-      require('react-dom/static.edge') as typeof import('react-dom/static.edge')\n-    ).prerender as (typeof import('react-dom/static.edge'))['prerender']\n+      require('react-dom/static') as typeof import('react-dom/static')\n+    ).prerender\n     const pendingInitialClientResult = workUnitAsyncStorage.run(\n       initialClientPrerenderStore,\n       prerender,\n@@ -2614,8 +2613,8 @@ async function spawnDynamicValidationInDev(\n \n   try {\n     const prerender = (\n-      require('react-dom/static.edge') as typeof import('react-dom/static.edge')\n-    ).prerender as (typeof import('react-dom/static.edge'))['prerender']\n+      require('react-dom/static') as typeof import('react-dom/static')\n+    ).prerender\n     let { prelude: unprocessedPrelude } =\n       await prerenderAndAbortInSequentialTasks(\n         () =>\n@@ -3064,8 +3063,8 @@ async function prerenderToStream(\n         }\n \n         const prerender = (\n-          require('react-dom/static.edge') as typeof import('react-dom/static.edge')\n-        ).prerender as (typeof import('react-dom/static.edge'))['prerender']\n+          require('react-dom/static') as typeof import('react-dom/static')\n+        ).prerender\n         const pendingInitialClientResult = workUnitAsyncStorage.run(\n           initialClientPrerenderStore,\n           prerender,\n@@ -3232,8 +3231,8 @@ async function prerenderToStream(\n       let dynamicValidation = createDynamicValidationState()\n \n       const prerender = (\n-        require('react-dom/static.edge') as typeof import('react-dom/static.edge')\n-      ).prerender as (typeof import('react-dom/static.edge'))['prerender']\n+        require('react-dom/static') as typeof import('react-dom/static')\n+      ).prerender\n       let { prelude: unprocessedPrelude, postponed } =\n         await prerenderAndAbortInSequentialTasks(\n           () =>\n@@ -3365,8 +3364,8 @@ async function prerenderToStream(\n           // We postponed but nothing dynamic was used. We resume the render now and immediately abort it\n           // so we can set all the postponed boundaries to client render mode before we store the HTML response\n           const resume = (\n-            require('react-dom/server.edge') as typeof import('react-dom/server.edge')\n-          ).resume as (typeof import('react-dom/server.edge'))['resume']\n+            require('react-dom/server') as typeof import('react-dom/server')\n+          ).resume\n \n           // We don't actually want to render anything so we just pass a stream\n           // that never resolves. The resume call is going to abort immediately anyway\n@@ -3468,8 +3467,8 @@ async function prerenderToStream(\n         prerenderResumeDataCache,\n       }\n       const prerender = (\n-        require('react-dom/static.edge') as typeof import('react-dom/static.edge')\n-      ).prerender as (typeof import('react-dom/static.edge'))['prerender']\n+        require('react-dom/static') as typeof import('react-dom/static')\n+      ).prerender\n       const { prelude, postponed } = await workUnitAsyncStorage.run(\n         ssrPrerenderStore,\n         prerender,\n@@ -3598,8 +3597,8 @@ async function prerenderToStream(\n           // We postponed but nothing dynamic was used. We resume the render now and immediately abort it\n           // so we can set all the postponed boundaries to client render mode before we store the HTML response\n           const resume = (\n-            require('react-dom/server.edge') as typeof import('react-dom/server.edge')\n-          ).resume as (typeof import('react-dom/server.edge'))['resume']\n+            require('react-dom/server') as typeof import('react-dom/server')\n+          ).resume\n \n           // We don't actually want to render anything so we just pass a stream\n           // that never resolves. The resume call is going to abort immediately anyway\n@@ -3680,10 +3679,8 @@ async function prerenderToStream(\n         ))\n \n       const renderToReadableStream = (\n-        require('react-dom/server.edge') as typeof import('react-dom/server.edge')\n-      )\n-        .renderToReadableStream as (typeof import('react-dom/server.edge'))['renderToReadableStream']\n-\n+        require('react-dom/server') as typeof import('react-dom/server')\n+      ).renderToReadableStream\n       const htmlStream = await workUnitAsyncStorage.run(\n         prerenderLegacyStore,\n         renderToReadableStream,\n@@ -3856,7 +3853,7 @@ async function prerenderToStream(\n         renderToInitialFizzStream,\n         {\n           ReactDOMServer:\n-            require('react-dom/server.edge') as typeof import('react-dom/server.edge'),\n+            require('react-dom/server') as typeof import('react-dom/server'),\n           element: (\n             <ErrorApp\n               reactServerStream={errorServerStream}"
        },
        {
            "sha": "e13dbd208a0fb684374ce489c9262428ad498485",
            "filename": "packages/next/src/server/app-render/collect-segment-data.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fcollect-segment-data.tsx?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -8,9 +8,9 @@ import type {\n import type { ManifestNode } from '../../build/webpack/plugins/flight-manifest-plugin'\n \n // eslint-disable-next-line import/no-extraneous-dependencies\n-import { createFromReadableStream } from 'react-server-dom-webpack/client.edge'\n+import { createFromReadableStream } from 'react-server-dom-webpack/client'\n // eslint-disable-next-line import/no-extraneous-dependencies\n-import { unstable_prerender as prerender } from 'react-server-dom-webpack/static.edge'\n+import { unstable_prerender as prerender } from 'react-server-dom-webpack/static'\n \n import {\n   streamFromBuffer,"
        },
        {
            "sha": "af7e09565e05dafb99ee339a9f4d83fd03b372e3",
            "filename": "packages/next/src/server/app-render/encryption.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fencryption.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fencryption.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fencryption.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -2,9 +2,9 @@\n import 'server-only'\n \n /* eslint-disable import/no-extraneous-dependencies */\n-import { renderToReadableStream } from 'react-server-dom-webpack/server.edge'\n+import { renderToReadableStream } from 'react-server-dom-webpack/server'\n /* eslint-disable import/no-extraneous-dependencies */\n-import { createFromReadableStream } from 'react-server-dom-webpack/client.edge'\n+import { createFromReadableStream } from 'react-server-dom-webpack/client'\n \n import { streamToString } from '../stream-utils/node-web-streams-helper'\n import {"
        },
        {
            "sha": "794e07647ca82cdfce58607813f6c723539cda45",
            "filename": "packages/next/src/server/app-render/entry-base.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fentry-base.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fentry-base.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fentry-base.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -5,10 +5,10 @@ export {\n   decodeReply,\n   decodeAction,\n   decodeFormState,\n-} from 'react-server-dom-webpack/server.edge'\n+} from 'react-server-dom-webpack/server'\n \n // eslint-disable-next-line import/no-extraneous-dependencies\n-export { unstable_prerender as prerender } from 'react-server-dom-webpack/static.edge'\n+export { unstable_prerender as prerender } from 'react-server-dom-webpack/static'\n \n export { default as LayoutRouter } from '../../client/components/layout-router'\n export { default as RenderFromTemplateContext } from '../../client/components/render-from-template-context'"
        },
        {
            "sha": "e4ebd08d8c6d85c45b42d516f60bd82f9175bed4",
            "filename": "packages/next/src/server/app-render/make-get-server-inserted-html.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fmake-get-server-inserted-html.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fmake-get-server-inserted-html.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fmake-get-server-inserted-html.tsx?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -5,7 +5,7 @@ import {\n   getRedirectStatusCodeFromError,\n } from '../../client/components/redirect'\n import { isRedirectError } from '../../client/components/redirect-error'\n-import { renderToReadableStream } from 'react-dom/server.edge'\n+import { renderToReadableStream } from 'react-dom/server'\n import { streamToString } from '../stream-utils/node-web-streams-helper'\n import { RedirectStatusCode } from '../../client/components/redirect-status-code'\n import { addPathPrefix } from '../../shared/lib/router/utils/add-path-prefix'"
        },
        {
            "sha": "44018661af1a6061305f804f013956bd386f7aca",
            "filename": "packages/next/src/server/app-render/render-to-string.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Frender-to-string.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Frender-to-string.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Frender-to-string.tsx?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -6,7 +6,7 @@ export async function renderToString({\n }: {\n   // `renderToReadableStream()` method could come from different react-dom/server implementations\n   // such as `react-dom/server.edge` or `react-dom/server.node`, etc.\n-  renderToReadableStream: typeof import('react-dom/server.edge').renderToReadableStream\n+  renderToReadableStream: typeof import('react-dom/server').renderToReadableStream\n   element: React.ReactElement\n }): Promise<string> {\n   const renderStream = await renderToReadableStream(element)"
        },
        {
            "sha": "d254f2c501fe7c789cc826f0b0825ec43b94974c",
            "filename": "packages/next/src/server/app-render/use-flight-response.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fuse-flight-response.tsx",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fuse-flight-response.tsx",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fapp-render%2Fuse-flight-response.tsx?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -34,7 +34,7 @@ export function useFlightStream<T>(\n   // react-server-dom-webpack/client.edge must not be hoisted for require cache clearing to work correctly\n   const { createFromReadableStream } =\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-webpack/client.edge') as typeof import('react-server-dom-webpack/client.edge')\n+    require('react-server-dom-webpack/client') as typeof import('react-server-dom-webpack/client')\n \n   const newResponse = createFromReadableStream<T>(flightStream, {\n     serverConsumerManifest: {"
        },
        {
            "sha": "e76cc9a0b0bb38965327f035517c9fb2a0dfc0d5",
            "filename": "packages/next/src/server/route-modules/app-page/module.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fmodule.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fmodule.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fmodule.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -19,8 +19,7 @@ import type { ServerComponentsHmrCache } from '../../response-cache'\n import type { FallbackRouteParams } from '../../request/fallback-params'\n \n let vendoredReactRSC\n-// TODO: Ship react-dom/server.edge types\n-let vendoredReactSSR: any\n+let vendoredReactSSR\n \n // the vendored Reacts are loaded from their original source in the edge runtime\n if (process.env.NEXT_RUNTIME !== 'edge') {"
        },
        {
            "sha": "9275d706d989eb692e748bce26058c59ebbaeb28",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/entrypoints.ts",
            "status": "modified",
            "additions": 26,
            "deletions": 50,
            "changes": 76,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Fentrypoints.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Fentrypoints.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Fentrypoints.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -7,12 +7,10 @@ import * as ReactCompilerRuntime from 'react/compiler-runtime'\n function getAltProxyForBindingsDEV(\n   type: 'Turbopack' | 'Webpack',\n   pkg:\n-    | 'react-server-dom-turbopack/server.edge'\n-    | 'react-server-dom-turbopack/server.node'\n-    | 'react-server-dom-turbopack/static.edge'\n-    | 'react-server-dom-webpack/server.edge'\n-    | 'react-server-dom-webpack/server.node'\n-    | 'react-server-dom-webpack/static.edge'\n+    | 'react-server-dom-turbopack/server'\n+    | 'react-server-dom-turbopack/static'\n+    | 'react-server-dom-webpack/server'\n+    | 'react-server-dom-webpack/static'\n ) {\n   if (process.env.NODE_ENV === 'development') {\n     const altType = type === 'Turbopack' ? 'Webpack' : 'Turbopack'\n@@ -31,67 +29,47 @@ function getAltProxyForBindingsDEV(\n   }\n }\n \n-let ReactServerDOMTurbopackServerEdge, ReactServerDOMWebpackServerEdge\n-let ReactServerDOMTurbopackServerNode, ReactServerDOMWebpackServerNode\n-let ReactServerDOMTurbopackStaticEdge, ReactServerDOMWebpackStaticEdge\n+let ReactServerDOMTurbopackServer, ReactServerDOMWebpackServer\n+let ReactServerDOMTurbopackStatic, ReactServerDOMWebpackStatic\n \n if (process.env.TURBOPACK) {\n-  ReactServerDOMTurbopackServerEdge =\n+  ReactServerDOMTurbopackServer =\n     // @ts-expect-error -- TODO: Add types\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-turbopack/server.edge') as typeof import('react-server-dom-turbopack/server.edge')\n+    require('react-server-dom-turbopack/server') as typeof import('react-server-dom-turbopack/server')\n   if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMWebpackServerEdge = getAltProxyForBindingsDEV(\n+    ReactServerDOMWebpackServer = getAltProxyForBindingsDEV(\n       'Turbopack',\n-      'react-server-dom-turbopack/server.edge'\n+      'react-server-dom-turbopack/server'\n     )\n   }\n-  ReactServerDOMTurbopackServerNode =\n+  ReactServerDOMTurbopackStatic =\n     // @ts-expect-error -- TODO: Add types\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-turbopack/server.node') as typeof import('react-server-dom-turbopack/server.node')\n+    require('react-server-dom-turbopack/static') as typeof import('react-server-dom-turbopack/static')\n   if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMWebpackServerNode = getAltProxyForBindingsDEV(\n+    ReactServerDOMWebpackStatic = getAltProxyForBindingsDEV(\n       'Turbopack',\n-      'react-server-dom-turbopack/server.node'\n-    )\n-  }\n-  ReactServerDOMTurbopackStaticEdge =\n-    // @ts-expect-error -- TODO: Add types\n-    // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-turbopack/static.edge') as typeof import('react-server-dom-turbopack/static.edge')\n-  if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMWebpackStaticEdge = getAltProxyForBindingsDEV(\n-      'Turbopack',\n-      'react-server-dom-turbopack/static.edge'\n+      'react-server-dom-turbopack/static'\n     )\n   }\n } else {\n-  ReactServerDOMWebpackServerEdge =\n-    // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-webpack/server.edge') as typeof import('react-server-dom-webpack/server.edge')\n-  if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMTurbopackServerEdge = getAltProxyForBindingsDEV(\n-      'Webpack',\n-      'react-server-dom-webpack/server.edge'\n-    )\n-  }\n-  ReactServerDOMWebpackServerNode =\n+  ReactServerDOMWebpackServer =\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-webpack/server.node') as typeof import('react-server-dom-webpack/server.node')\n+    require('react-server-dom-webpack/server') as typeof import('react-server-dom-webpack/server')\n   if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMTurbopackServerNode = getAltProxyForBindingsDEV(\n+    ReactServerDOMTurbopackServer = getAltProxyForBindingsDEV(\n       'Webpack',\n-      'react-server-dom-webpack/server.node'\n+      'react-server-dom-webpack/server'\n     )\n   }\n-  ReactServerDOMWebpackStaticEdge =\n+  ReactServerDOMWebpackStatic =\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-webpack/static.edge') as typeof import('react-server-dom-webpack/static.edge')\n+    require('react-server-dom-webpack/static') as typeof import('react-server-dom-webpack/static')\n   if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMTurbopackStaticEdge = getAltProxyForBindingsDEV(\n+    ReactServerDOMTurbopackStatic = getAltProxyForBindingsDEV(\n       'Webpack',\n-      'react-server-dom-webpack/static.edge'\n+      'react-server-dom-webpack/static'\n     )\n   }\n }\n@@ -102,10 +80,8 @@ export {\n   ReactJsxRuntime,\n   ReactCompilerRuntime,\n   ReactDOM,\n-  ReactServerDOMWebpackServerEdge,\n-  ReactServerDOMTurbopackServerEdge,\n-  ReactServerDOMWebpackServerNode,\n-  ReactServerDOMTurbopackServerNode,\n-  ReactServerDOMWebpackStaticEdge,\n-  ReactServerDOMTurbopackStaticEdge,\n+  ReactServerDOMTurbopackServer,\n+  ReactServerDOMTurbopackStatic,\n+  ReactServerDOMWebpackServer,\n+  ReactServerDOMWebpackStatic,\n }"
        },
        {
            "sha": "34b348e238d16a04484df798c9371569339ec9f2",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server-edge.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server-edge.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server-edge.ts?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,3 +0,0 @@\n-module.exports = (\n-  require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-rsc']!.ReactServerDOMTurbopackServerEdge"
        },
        {
            "sha": "427774c086e5ed868a726554a8a36fa279ded526",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-node.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server-node.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server-node.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server-node.ts?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,3 +0,0 @@\n-module.exports = (\n-  require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-rsc']!.ReactServerDOMTurbopackServerNode"
        },
        {
            "sha": "aaab282e289072e776a38fb0c7dfdfec575c8dd6",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-server.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,3 +1,3 @@\n module.exports = (\n   require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-rsc']!.ReactServerDOMWebpackServerNode\n+).vendored['react-rsc']!.ReactServerDOMTurbopackServer",
            "previous_filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-node.ts"
        },
        {
            "sha": "b9d6d0bc39cf628534cd867048e5593d5e1a9729",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static-edge.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-static-edge.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-static-edge.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-static-edge.ts?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,3 +0,0 @@\n-module.exports = (\n-  require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-rsc']!.ReactServerDOMTurbopackStaticEdge"
        },
        {
            "sha": "be65d1ae12626f16a49fe496c6cbee45aa0a1079",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-static.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-static.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-turbopack-static.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,3 +1,3 @@\n module.exports = (\n   require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-rsc']!.ReactServerDOMWebpackServerEdge\n+).vendored['react-rsc']!.ReactServerDOMTurbopackStatic",
            "previous_filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.ts"
        },
        {
            "sha": "1548ed2bad6807f79da736eb509dec78b0aa1a0c",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-webpack-server.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-webpack-server.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-webpack-server.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,3 +1,3 @@\n module.exports = (\n   require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-rsc']!.ReactServerDOMWebpackStaticEdge\n+).vendored['react-rsc']!.ReactServerDOMWebpackServer",
            "previous_filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-static-edge.ts"
        },
        {
            "sha": "5401747fcbe75fcafa7c89e65298f429934af50d",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-static.ts",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-webpack-static.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-webpack-static.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Frsc%2Freact-server-dom-webpack-static.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,3 @@\n+module.exports = (\n+  require('../../module.compiled') as typeof import('../../module.compiled')\n+).vendored['react-rsc']!.ReactServerDOMWebpackStatic"
        },
        {
            "sha": "742be4bce5795d9374e0d8c943ef44cba7e07fc1",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/entrypoints.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 17,
            "changes": 31,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Fentrypoints.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Fentrypoints.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Fentrypoints.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -4,14 +4,11 @@ import * as ReactJsxDevRuntime from 'react/jsx-dev-runtime'\n import * as ReactJsxRuntime from 'react/jsx-runtime'\n import * as ReactCompilerRuntime from 'react/compiler-runtime'\n \n-// eslint-disable-next-line import/no-extraneous-dependencies\n-import * as ReactDOMServerEdge from 'react-dom/server.edge'\n+import * as ReactDOMServer from 'react-dom/server'\n \n function getAltProxyForBindingsDEV(\n   type: 'Turbopack' | 'Webpack',\n-  pkg:\n-    | 'react-server-dom-turbopack/client.edge'\n-    | 'react-server-dom-webpack/client.edge'\n+  pkg: 'react-server-dom-turbopack/client' | 'react-server-dom-webpack/client'\n ) {\n   if (process.env.NODE_ENV === 'development') {\n     const altType = type === 'Turbopack' ? 'Webpack' : 'Turbopack'\n@@ -30,26 +27,26 @@ function getAltProxyForBindingsDEV(\n   }\n }\n \n-let ReactServerDOMTurbopackClientEdge, ReactServerDOMWebpackClientEdge\n+let ReactServerDOMTurbopackClient, ReactServerDOMWebpackClient\n if (process.env.TURBOPACK) {\n-  ReactServerDOMTurbopackClientEdge =\n+  ReactServerDOMTurbopackClient =\n     // @ts-expect-error -- TODO: Add types\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-turbopack/client.edge') as typeof import('react-server-dom-turbopack/client.edge')\n+    require('react-server-dom-turbopack/client') as typeof import('react-server-dom-turbopack/client')\n   if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMWebpackClientEdge = getAltProxyForBindingsDEV(\n+    ReactServerDOMWebpackClient = getAltProxyForBindingsDEV(\n       'Turbopack',\n-      'react-server-dom-turbopack/client.edge'\n+      'react-server-dom-turbopack/client'\n     )\n   }\n } else {\n-  ReactServerDOMWebpackClientEdge =\n+  ReactServerDOMWebpackClient =\n     // eslint-disable-next-line import/no-extraneous-dependencies\n-    require('react-server-dom-webpack/client.edge') as typeof import('react-server-dom-webpack/client.edge')\n+    require('react-server-dom-webpack/client') as typeof import('react-server-dom-webpack/client')\n   if (process.env.NODE_ENV === 'development') {\n-    ReactServerDOMTurbopackClientEdge = getAltProxyForBindingsDEV(\n+    ReactServerDOMTurbopackClient = getAltProxyForBindingsDEV(\n       'Webpack',\n-      'react-server-dom-webpack/client.edge'\n+      'react-server-dom-webpack/client'\n     )\n   }\n }\n@@ -60,7 +57,7 @@ export {\n   ReactJsxRuntime,\n   ReactCompilerRuntime,\n   ReactDOM,\n-  ReactDOMServerEdge,\n-  ReactServerDOMTurbopackClientEdge,\n-  ReactServerDOMWebpackClientEdge,\n+  ReactDOMServer,\n+  ReactServerDOMTurbopackClient,\n+  ReactServerDOMWebpackClient,\n }"
        },
        {
            "sha": "791069767db9c8a90310e3fc4fde19a1f5a52020",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/react-dom-server.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-dom-server.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-dom-server.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-dom-server.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,3 +1,3 @@\n module.exports = (\n   require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-ssr']!.ReactDOMServerEdge\n+).vendored['react-ssr']!.ReactDOMServer",
            "previous_filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/react-dom-server-edge.ts"
        },
        {
            "sha": "76caad9a100297016ccdbef492ca9252cb86c973",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client-edge.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-turbopack-client-edge.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-turbopack-client-edge.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-turbopack-client-edge.ts?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,3 +0,0 @@\n-module.exports = (\n-  require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-ssr']!.ReactServerDOMTurbopackClientEdge"
        },
        {
            "sha": "17edf6b63cc462b1545eb5de34bf3dbbd52f58ab",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-turbopack-client.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-turbopack-client.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-turbopack-client.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,3 @@\n+module.exports = (\n+  require('../../module.compiled') as typeof import('../../module.compiled')\n+).vendored['react-ssr']!.ReactServerDOMTurbopackClient"
        },
        {
            "sha": "fb74da295baa738e3ad82dd1b30a2df7226e75d2",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-webpack-client-edge.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-webpack-client-edge.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/343c83807fd53a2052fce6f7ddccf8461edee8b8/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-webpack-client-edge.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-webpack-client-edge.ts?ref=343c83807fd53a2052fce6f7ddccf8461edee8b8",
            "patch": "@@ -1,3 +0,0 @@\n-module.exports = (\n-  require('../../module.compiled') as typeof import('../../module.compiled')\n-).vendored['react-ssr']!.ReactServerDOMWebpackClientEdge"
        },
        {
            "sha": "554e4a655d7e5190373ff39cc95835cbb029dfa1",
            "filename": "packages/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-webpack-client.ts",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-webpack-client.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-webpack-client.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Froute-modules%2Fapp-page%2Fvendored%2Fssr%2Freact-server-dom-webpack-client.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -0,0 +1,3 @@\n+module.exports = (\n+  require('../../module.compiled') as typeof import('../../module.compiled')\n+).vendored['react-ssr']!.ReactServerDOMWebpackClient"
        },
        {
            "sha": "0c0c99ec95140e4b739be17524c2bdbd4afac72f",
            "filename": "packages/next/src/server/stream-utils/node-web-streams-helper.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fstream-utils%2Fnode-web-streams-helper.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fstream-utils%2Fnode-web-streams-helper.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fstream-utils%2Fnode-web-streams-helper.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -184,7 +184,9 @@ export function renderToInitialFizzStream({\n   element,\n   streamOptions,\n }: {\n-  ReactDOMServer: typeof import('react-dom/server.edge')\n+  ReactDOMServer: {\n+    renderToReadableStream: typeof import('react-dom/server').renderToReadableStream\n+  }\n   element: React.ReactElement\n   streamOptions?: Parameters<typeof ReactDOMServer.renderToReadableStream>[1]\n }): Promise<ReactReadableStream> {"
        },
        {
            "sha": "454a4b3c5afadee5d1a4ee8487a4705237ed5015",
            "filename": "packages/next/src/server/use-cache/use-cache-wrapper.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fuse-cache-wrapper.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fuse-cache-wrapper.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fuse-cache%2Fuse-cache-wrapper.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -5,13 +5,13 @@ import {\n   decodeReply,\n   decodeReplyFromAsyncIterable,\n   createTemporaryReferenceSet as createServerTemporaryReferenceSet,\n-} from 'react-server-dom-webpack/server.edge'\n+} from 'react-server-dom-webpack/server'\n import {\n   createFromReadableStream,\n   encodeReply,\n   createTemporaryReferenceSet as createClientTemporaryReferenceSet,\n-} from 'react-server-dom-webpack/client.edge'\n-import { unstable_prerender as prerender } from 'react-server-dom-webpack/static.edge'\n+} from 'react-server-dom-webpack/client'\n+import { unstable_prerender as prerender } from 'react-server-dom-webpack/static'\n /* eslint-enable import/no-extraneous-dependencies */\n \n import type { WorkStore } from '../app-render/work-async-storage.external'"
        },
        {
            "sha": "2c913616021c8abb65745803dffa4bc91f363ee6",
            "filename": "packages/next/taskfile.js",
            "status": "modified",
            "additions": 1,
            "deletions": 152,
            "changes": 153,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftaskfile.js",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftaskfile.js",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftaskfile.js?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,4 +1,3 @@\n-const { outdent } = require('outdent')\n const { relative, basename, resolve, join, dirname } = require('path')\n // eslint-disable-next-line import/no-extraneous-dependencies\n const glob = require('glob')\n@@ -1628,156 +1627,13 @@ export async function copy_vendor_react(task_) {\n         // We replace the module/chunk loading code with our own implementation in Next.js.\n         let newSource = aliasVendoredReactPackages(source)\n \n-        const filepath = file.dir + '/' + file.base\n-        if (\n-          /cjs\\/react-dom-server\\.edge\\.(?:development|production)\\.js$/.test(\n-            filepath\n-          )\n-        ) {\n-          const ast = parseFile(newSource, {\n-            sourceFileName: filepath,\n-          })\n-          replaceSetTimeoutInAst(ast, filepath)\n-          newSource = recast.print(ast).code\n-        }\n-\n         file.data = newSource\n \n         // Note that we don't replace `react-dom` with `next/dist/compiled/react-dom`\n         // as it mighe be aliased to the server rendering stub.\n       })\n       .target(`src/compiled/react-dom${packageSuffix}/cjs`)\n \n-    function replaceSetTimeoutInAst(\n-      /** @type {recast.types.namedTypes.File} */ ast,\n-      /** @type {string} */ filepath\n-    ) {\n-      // FIXME: we need this hack until we can use the Node build of 'react-dom/server'\n-      //\n-      // We're currently using the Edge builds of 'react-dom/server' and 'react-server-dom-{webpack,turbopack}' everywhere.\n-      // But if we're in Node, we want to change the implementation of `scheduleWork` from the Edge one:\n-      //   https://github.com/facebook/react/blob/19bd26beb689e554fceb0b929dc5199be8cba594/packages/react-server/src/ReactServerStreamConfigEdge.js#L31-L33\n-      // to the Node one:\n-      //   https://github.com/facebook/react/blob/19bd26beb689e554fceb0b929dc5199be8cba594/packages/react-server/src/ReactServerStreamConfigNode.js#L25-L27\n-      // for performance and correctness reasons (e.g. in DynamicIO).\n-      //\n-      // Since `scheduleWork` is inlined, we have to convert `setTimeout` calls like this\n-      //   setTimeout(() => ..., 0)\n-      // into this:\n-      //   setImmediate(() => ...)\n-\n-      recast.types.namedTypes.File.assert(ast)\n-      const definitionStr = outdent`\n-        // This is a patch added by Next.js\n-        const setTimeoutOrImmediate =\n-          typeof globalThis[\"set\" + \"Immediate\"] === \"function\" &&\n-          // edge runtime sandbox defines a stub for setImmediate\n-          // (see 'addStub' in packages/next/src/server/web/sandbox/context.ts)\n-          // but it's made non-enumerable, so we can detect it\n-          globalThis.propertyIsEnumerable(\"setImmediate\")\n-            ? globalThis[\"set\" + \"Immediate\"]\n-            : (callback, ...args) => setTimeout(callback, 0, ...args);\n-\n-      `\n-      const getDefinitionStmt = () => {\n-        const fileAst = /** @type {recast.types.namedTypes.File} */ (\n-          recast.parse(definitionStr)\n-        )\n-        return fileAst.program.body[0]\n-      }\n-\n-      let needsDefinition = false\n-      recast.visit(ast, {\n-        visitCallExpression(path) {\n-          const { callee, arguments: args } = path.node\n-\n-          if (callee.type === 'Identifier' && callee.name === 'setTimeout') {\n-            const durationArg = args.length >= 2 ? args[1] : undefined\n-            if (\n-              // `setTimeout(fn)`\n-              !durationArg ||\n-              // `setTimeout(fn, 0, ...)`\n-              (durationArg.type === 'Literal' && durationArg.value === 0) ||\n-              // `setTimeout(fn, undefined, ...)`\n-              (durationArg.type === 'Identifier' &&\n-                durationArg.name === 'undefined')\n-            ) {\n-              needsDefinition = true\n-              // setTimeout(fn, 0, ...) ->\n-              // setTimeoutOrImmediate(fn, ...)\n-              callee.name = 'setTimeoutOrImmediate'\n-              path.node.arguments = [args[0], ...args.slice(2)]\n-            }\n-          }\n-          this.traverse(path)\n-        },\n-      })\n-\n-      if (!needsDefinition) {\n-        return\n-      }\n-\n-      let didInsertDefinition = false\n-      recast.visit(ast, {\n-        visitAssignmentExpression(path) {\n-          // we should only insert the definition of `setTimeoutOrImmediate` once.\n-          if (didInsertDefinition) {\n-            return false\n-          }\n-\n-          // Find the first `exports.NAME = ...` assignment\n-          const { left: target } = path.node\n-          if (\n-            target.type === 'MemberExpression' &&\n-            target.object.type === 'Identifier' &&\n-            target.object.name === 'exports' &&\n-            // we don't care about which export is being assigned.\n-            target.property.type === 'Identifier'\n-          ) {\n-            didInsertDefinition = true\n-            // We expect `exports` assignments to happen:\n-            // - at the top level for prod builds of react\n-            // - inside an IIFE for dev builds of react\n-            // In either case, we now need find an ancestor node we can insert the definition into.\n-            const blocklikeAncestor = findBlocklikeAncestor(\n-              /** @type {recast.types.NodePath} */ (path)\n-            )\n-            if (!blocklikeAncestor) {\n-              throw new Error('Could not find a block to insert definition')\n-            }\n-            blocklikeAncestor.insertAt(0, getDefinitionStmt())\n-          }\n-\n-          // we don't care about any assignment expressions that might happen in the RHS,\n-          // React doesn't do that\n-          return false\n-        },\n-      })\n-      if (!didInsertDefinition) {\n-        throw new Error(\n-          `Failed to find an insertion point for \\`setTimeout\\` replacement in '${filepath}'`\n-        )\n-      }\n-\n-      function findBlocklikeAncestor(\n-        /** @type {recast.types.NodePath} */ path\n-      ) {\n-        /** @type {recast.types.NodePath | null} */\n-        let current = path\n-        while (current) {\n-          if (\n-            recast.types.namedTypes.BlockStatement.check(current.node) ||\n-            recast.types.namedTypes.Program.check(current.node)\n-          ) {\n-            break\n-          } else {\n-            current = current.parentPath\n-          }\n-        }\n-        return current\n-      }\n-    }\n-\n     function replaceIdentifiersInAst(\n       /** @type {recast.types.namedTypes.File} */ ast,\n       /** @type {Map<string, ExpressionKind>} */ replacements\n@@ -1834,7 +1690,6 @@ export async function copy_vendor_react(task_) {\n     )\n     const itemsToRemove = [\n       'static.js',\n-      'static.node.js',\n       'static.browser.js',\n       'unstable_testing.js',\n       'test-utils.js',\n@@ -1890,9 +1745,7 @@ export async function copy_vendor_react(task_) {\n               ],\n             ])\n           )\n-          if (file.base.startsWith('react-server-dom-webpack-server.edge')) {\n-            replaceSetTimeoutInAst(ast, filepath)\n-          }\n+\n           file.data = recast.print(ast).code\n         } else if (file.base === 'package.json') {\n           file.data = overridePackageName(file.data)\n@@ -1966,10 +1819,6 @@ export async function copy_vendor_react(task_) {\n             ])\n           )\n \n-          if (file.base.startsWith('react-server-dom-turbopack-server.edge')) {\n-            replaceSetTimeoutInAst(ast, filepath)\n-          }\n-\n           file.data = recast.print(ast).code\n         } else if (file.base === 'package.json') {\n           file.data = overridePackageName(file.data)"
        },
        {
            "sha": "80841e9f5366c417974ee50ea810c87a5e54d86e",
            "filename": "packages/next/types/$$compiled.internal.d.ts",
            "status": "modified",
            "additions": 53,
            "deletions": 12,
            "changes": 65,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftypes%2F%24%24compiled.internal.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftypes%2F%24%24compiled.internal.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftypes%2F%24%24compiled.internal.d.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -14,7 +14,6 @@ declare module 'next/dist/compiled/react-server-dom-webpack/client.edge'\n declare module 'next/dist/compiled/react-server-dom-webpack/client.browser'\n declare module 'next/dist/compiled/react-server-dom-webpack/server.browser'\n declare module 'next/dist/compiled/react-server-dom-webpack/server.edge'\n-declare module 'next/dist/compiled/react-server-dom-webpack/static.edge'\n declare module 'next/dist/compiled/react-server-dom-turbopack/client'\n declare module 'next/dist/compiled/react-server-dom-turbopack/client.edge'\n declare module 'next/dist/compiled/react-server-dom-turbopack/client.browser'\n@@ -26,13 +25,9 @@ declare module 'next/dist/compiled/react-dom/server.edge'\n declare module 'next/dist/compiled/browserslist'\n \n declare module 'react-server-dom-webpack/client' {\n-  export interface Options {\n-    callServer?: CallServerCallback\n-    temporaryReferences?: TemporaryReferenceSet\n-    findSourceMapURL?: FindSourceMapURLCallback\n-    replayConsoleLogs?: boolean\n-    environmentName?: string\n-  }\n+  import type { Options } from 'react-server-dom-webpack/client.edge'\n+\n+  export { Options }\n \n   type TemporaryReferenceSet = Map<string, unknown>\n \n@@ -84,10 +79,43 @@ declare module 'react-server-dom-webpack/client' {\n \n   export function encodeReply(\n     value: unknown,\n-    options?: { temporaryReferences?: TemporaryReferenceSet }\n+    options?: {\n+      temporaryReferences?: TemporaryReferenceSet\n+      signal?: AbortSignal\n+    }\n   ): Promise<string | FormData>\n }\n \n+declare module 'react-server-dom-webpack/client.browser' {\n+  import {\n+    createTemporaryReferenceSet,\n+    encodeReply,\n+    type CallServerCallback,\n+    type FindSourceMapURLCallback,\n+    type TemporaryReferenceSet,\n+  } from 'react-server-dom-webpack/client.edge'\n+\n+  export { createTemporaryReferenceSet, encodeReply }\n+\n+  export interface Options {\n+    callServer?: CallServerCallback\n+    environmentName?: string\n+    findSourceMapURL?: FindSourceMapURLCallback\n+    replayConsoleLogs?: boolean\n+    temporaryReferences?: TemporaryReferenceSet\n+  }\n+\n+  export function createFromFetch<T>(\n+    promiseForResponse: Promise<Response>,\n+    options?: Options\n+  ): Promise<T>\n+\n+  export function createFromReadableStream<T>(\n+    stream: ReadableStream,\n+    options?: Options\n+  ): Promise<T>\n+}\n+\n declare module 'react-server-dom-webpack/server.edge' {\n   export type ImportManifestEntry = {\n     id: string | number\n@@ -156,9 +184,21 @@ declare module 'react-server-dom-webpack/server.edge' {\n \n   export function createClientModuleProxy(moduleId: string): unknown\n }\n+\n+declare module 'react-server-dom-webpack/server' {\n+  export * from 'react-server-dom-webpack/server.node'\n+}\n+\n declare module 'react-server-dom-webpack/server.node' {\n   import type { Busboy } from 'busboy'\n \n+  export {\n+    createClientModuleProxy,\n+    decodeReplyFromAsyncIterable,\n+    registerServerReference,\n+    renderToReadableStream,\n+  } from 'react-server-dom-webpack/server.edge'\n+\n   export type TemporaryReferenceSet = WeakMap<any, string>\n \n   export type ImportManifestEntry = {\n@@ -190,11 +230,11 @@ declare module 'react-server-dom-webpack/server.node' {\n     options?: { temporaryReferences?: TemporaryReferenceSet }\n   ): Promise<unknown[]>\n \n-  export function decodeReply(\n+  export function decodeReply<T>(\n     body: string | FormData,\n     webpackMap: ServerManifest,\n     options?: { temporaryReferences?: TemporaryReferenceSet }\n-  ): Promise<unknown[]>\n+  ): Promise<T[]>\n \n   export function decodeAction(\n     body: FormData,\n@@ -207,7 +247,7 @@ declare module 'react-server-dom-webpack/server.node' {\n     serverManifest: ServerManifest\n   ): Promise<ReactFormState | null>\n }\n-declare module 'react-server-dom-webpack/static.edge' {\n+declare module 'react-server-dom-webpack/static' {\n   export type TemporaryReferenceSet = WeakMap<any, string>\n \n   export function unstable_prerender(\n@@ -235,6 +275,7 @@ declare module 'react-server-dom-webpack/static.edge' {\n }\n declare module 'react-server-dom-webpack/client.edge' {\n   export interface Options {\n+    callServer?: CallServerCallback\n     serverConsumerManifest: ServerConsumerManifest\n     nonce?: string\n     encodeFormAction?: EncodeFormActionCallback"
        },
        {
            "sha": "3168fb5488ae4b8a916a5fb595e93074d1ba52a3",
            "filename": "packages/next/types/compiled.d.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftypes%2Fcompiled.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftypes%2Fcompiled.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftypes%2Fcompiled.d.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -65,8 +65,8 @@ declare module 'next/dist/compiled/amphtml-validator' {\n   export type ValidationError = any\n }\n \n-declare module 'react-server-dom-webpack/server.edge'\n-declare module 'react-server-dom-webpack/static.edge'\n+declare module 'react-server-dom-webpack/server'\n+declare module 'react-server-dom-webpack/static'\n \n declare module 'VAR_MODULE_GLOBAL_ERROR'\n declare module 'VAR_USERLAND'"
        },
        {
            "sha": "aae125caed1d9dedb7359aee07bd3e22033fb47c",
            "filename": "packages/next/types/react-dom.d.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftypes%2Freact-dom.d.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/packages%2Fnext%2Ftypes%2Freact-dom.d.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Ftypes%2Freact-dom.d.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -1,4 +1,8 @@\n declare module 'react-dom/server.edge' {\n+  export { renderToReadableStream } from 'react-dom/server'\n+}\n+\n+declare module 'react-dom/server' {\n   import type { ErrorInfo, JSX } from 'react'\n   /**\n    * https://github.com/facebook/react/blob/aec521a96d3f1bebc2ba38553d14f4989c6e88e0/packages/react-dom-bindings/src/server/ReactFizzConfigDOM.js#L329-L333\n@@ -73,7 +77,7 @@ declare module 'react-dom/server.edge' {\n   >\n }\n \n-declare module 'react-dom/static.edge' {\n+declare module 'react-dom/static' {\n   import type { ErrorInfo, JSX } from 'react'\n   /**\n    * https://github.com/facebook/react/blob/aec521a96d3f1bebc2ba38553d14f4989c6e88e0/packages/react-dom-bindings/src/server/ReactFizzConfigDOM.js#L329-L333"
        },
        {
            "sha": "fc1389897781ec2372a851e2835e3d648aa1dd0d",
            "filename": "test/development/app-dir/dynamic-io-dev-errors/dynamic-io-dev-errors.test.ts",
            "status": "modified",
            "additions": 68,
            "deletions": 33,
            "changes": 101,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fdevelopment%2Fapp-dir%2Fdynamic-io-dev-errors%2Fdynamic-io-dev-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fdevelopment%2Fapp-dir%2Fdynamic-io-dev-errors%2Fdynamic-io-dev-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fdevelopment%2Fapp-dir%2Fdynamic-io-dev-errors%2Fdynamic-io-dev-errors.test.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -79,39 +79,74 @@ describe('Dynamic IO Dev Errors', () => {\n       )\n     })\n \n-    expect(stripAnsi(next.cliOutput.slice(outputIndex))).toContain(\n-      `\\nError: Route \"/no-accessed-data\": ` +\n-        `A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. ` +\n-        `We don't have the exact line number added to error messages yet but you can see which component in the stack below. ` +\n-        `See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense` +\n-        '\\n    at Page [Server] (<anonymous>)' +\n-        (isTurbopack\n-          ? '\\n    at main (<anonymous>)' +\n-            '\\n    at body (<anonymous>)' +\n-            '\\n    at html (<anonymous>)' +\n-            '\\n    at Root [Server] (<anonymous>)' +\n-            // Just need some string to assert that this is the whole stack\n-            '\\n GET /no-accessed-data 200'\n-          : // TODO(veil): Should be ignore-listed (see https://linear.app/vercel/issue/NDX-464/next-internals-not-ignore-listed-in-terminal-in-webpack#comment-1164a36a)\n-            '\\n    at InnerLayoutRouter (..')\n-    )\n-\n-    await expect(browser).toDisplayCollapsedRedbox(`\n-     {\n-       \"description\": \"Route \"/no-accessed-data\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n-       \"environmentLabel\": \"Server\",\n-       \"label\": \"Console Error\",\n-       \"source\": null,\n-       \"stack\": [\n-         \"Page [Server] <anonymous> (1:22)\",\n-         \"main <anonymous> (1:13)\",\n-         \"body <anonymous> (1:13)\",\n-         \"html <anonymous> (1:13)\",\n-         \"Root [Server] <anonymous> (1:22)\",\n-         \"LogSafely <anonymous> (0:0)\",\n-       ],\n-     }\n-    `)\n+    if (isTurbopack) {\n+      const normalizedCliOutput = stripAnsi(\n+        next.cliOutput.slice(outputIndex)\n+      ).replaceAll(`file:` + next.testDir, '<FIXME-file-protocol>')\n+\n+      expect(normalizedCliOutput).toContain(\n+        `\\nError: Route \"/no-accessed-data\": ` +\n+          `A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. ` +\n+          `We don't have the exact line number added to error messages yet but you can see which component in the stack below. ` +\n+          `See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense` +\n+          (isTurbopack\n+            ? '\\n    at Page (<FIXME-file-protocol>/app/no-accessed-data/page.js:1:30)' +\n+              '\\n    at main (<anonymous>)' +\n+              '\\n    at body (<anonymous>)' +\n+              '\\n    at html (<anonymous>)' +\n+              '\\n    at Root [Server] (<anonymous>)' +\n+              '\\n> 1 | export default async function Page() {' +\n+              '\\n    |                              ^' +\n+              '\\n  2 |   await new Promise((r) => setTimeout(r, 200))'\n+            : '\\n    at Page (app/no-accessed-data/page.js:1:30)' +\n+              // TODO(veil): Should be ignore-listed (see https://linear.app/vercel/issue/NDX-464/next-internals-not-ignore-listed-in-terminal-in-webpack#comment-1164a36a)\n+              '\\n    at InnerLayoutRouter (..')\n+      )\n+      await expect(browser).toDisplayCollapsedRedbox(`\n+       {\n+         \"description\": \"Route \"/no-accessed-data\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n+         \"environmentLabel\": \"Server\",\n+         \"label\": \"Console Error\",\n+         \"source\": null,\n+         \"stack\": [\n+           \"<FIXME-file-protocol>\",\n+           \"main <anonymous> (1:13)\",\n+           \"body <anonymous> (1:13)\",\n+           \"html <anonymous> (1:13)\",\n+           \"Root [Server] <anonymous> (1:22)\",\n+           \"LogSafely <anonymous> (0:0)\",\n+         ],\n+       }\n+      `)\n+    } else {\n+      expect(stripAnsi(next.cliOutput.slice(outputIndex))).toContain(\n+        `\\nError: Route \"/no-accessed-data\": ` +\n+          `A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. ` +\n+          `We don't have the exact line number added to error messages yet but you can see which component in the stack below. ` +\n+          `See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense` +\n+          '\\n    at Page (app/no-accessed-data/page.js:1:30)' +\n+          // TODO(veil): Should be ignore-listed (see https://linear.app/vercel/issue/NDX-464/next-internals-not-ignore-listed-in-terminal-in-webpack#comment-1164a36a)\n+          '\\n    at InnerLayoutRouter (..'\n+      )\n+      await expect(browser).toDisplayCollapsedRedbox(`\n+       {\n+         \"description\": \"Route \"/no-accessed-data\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n+         \"environmentLabel\": \"Server\",\n+         \"label\": \"Console Error\",\n+         \"source\": \"app/no-accessed-data/page.js (1:31) @ Page\n+       > 1 | export default async function Page() {\n+           |                               ^\",\n+         \"stack\": [\n+           \"Page app/no-accessed-data/page.js (1:31)\",\n+           \"main <anonymous> (1:13)\",\n+           \"body <anonymous> (1:13)\",\n+           \"html <anonymous> (1:13)\",\n+           \"Root [Server] <anonymous> (1:22)\",\n+           \"LogSafely <anonymous> (0:0)\",\n+         ],\n+       }\n+      `)\n+    }\n   })\n \n   it('should clear segment errors after correcting them', async () => {"
        },
        {
            "sha": "570ac398241d9bf5a9d472aacda69116b91c2932",
            "filename": "test/e2e/app-dir/dynamic-data/dynamic-data.test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fe2e%2Fapp-dir%2Fdynamic-data%2Fdynamic-data.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fe2e%2Fapp-dir%2Fdynamic-data%2Fdynamic-data.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-data%2Fdynamic-data.test.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -281,6 +281,7 @@ describe('dynamic-data with dynamic = \"error\"', () => {\n })\n \n describe('dynamic-data inside cache scope', () => {\n+  const isExperimentalReact = process.env.__NEXT_EXPERIMENTAL_PPR === 'true'\n   const { isTurbopack, next, isNextDev, isNextDeploy, skipped } = nextTestSetup(\n     {\n       files: __dirname + '/fixtures/cache-scoped',\n@@ -315,7 +316,7 @@ describe('dynamic-data inside cache scope', () => {\n              |                                        ^\",\n            \"stack\": [\n              \"${isTurbopack ? '<anonymous>' : 'eval'} app/cookies/page.js (4:40)\",\n-             \"async Page app/cookies/page.js (15:11)\",\n+             \"${isTurbopack || !isExperimentalReact ? 'async ' : ''}Page app/cookies/page.js (15:11)\",\n            ],\n          }\n         `)\n@@ -355,7 +356,7 @@ describe('dynamic-data inside cache scope', () => {\n              |                                        ^\",\n            \"stack\": [\n              \"${isTurbopack ? '<anonymous>' : 'eval'} app/headers/page.js (4:40)\",\n-             \"async Page app/headers/page.js (15:21)\",\n+             \"${isTurbopack || !isExperimentalReact ? 'async ' : ''}Page app/headers/page.js (15:21)\",\n            ],\n          }\n         `)"
        },
        {
            "sha": "e31d2fb67dc830c6f323561c1b9ef750fb49f226",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.sync-attribution.test.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-attribution.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-attribution.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.sync-attribution.test.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -178,7 +178,7 @@ describe.each(\n              \"label\": \"Console Error\",\n              \"source\": null,\n              \"stack\": [\n-               \"RequestData [Server] <anonymous> (1:29)\",\n+               \"<FIXME-file-protocol>\",\n                \"section <anonymous> (1:16)\",\n                \"main <anonymous> (1:13)\",\n                \"<FIXME-file-protocol>\",\n@@ -196,11 +196,11 @@ describe.each(\n              \"description\": \"Route \"/\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n              \"environmentLabel\": \"Server\",\n              \"label\": \"Console Error\",\n-             \"source\": \"app/page.tsx (27:9) @ Page\n-           > 27 |         <RequestData />\n-                |         ^\",\n+             \"source\": \"app/page.tsx (33:16) @ RequestData\n+           > 33 | async function RequestData() {\n+                |                ^\",\n              \"stack\": [\n-               \"RequestData [Server] <anonymous> (1:29)\",\n+               \"RequestData app/page.tsx (33:16)\",\n                \"section <anonymous> (1:16)\",\n                \"main <anonymous> (1:13)\",\n                \"Page app/page.tsx (27:9)\","
        },
        {
            "sha": "9310452dbe380f63e600b80729e5a61356f99aa1",
            "filename": "test/e2e/app-dir/dynamic-io-errors/dynamic-io-errors.test.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 15,
            "changes": 30,
            "blob_url": "https://github.com/vercel/next.js/blob/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/16e1e1455ece2a198e7b83793a1455f87aab9293/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/test%2Fe2e%2Fapp-dir%2Fdynamic-io-errors%2Fdynamic-io-errors.test.ts?ref=16e1e1455ece2a198e7b83793a1455f87aab9293",
            "patch": "@@ -126,7 +126,7 @@ describe.each(\n              \"label\": \"Console Error\",\n              \"source\": null,\n              \"stack\": [\n-               \"Dynamic [Server] <anonymous> (1:25)\",\n+               \"<FIXME-file-protocol>\",\n                \"<FIXME-file-protocol>\",\n                \"main <anonymous> (1:13)\",\n                \"body <anonymous> (1:13)\",\n@@ -142,11 +142,11 @@ describe.each(\n              \"description\": \"Route \"/\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n              \"environmentLabel\": \"Server\",\n              \"label\": \"Console Error\",\n-             \"source\": \"app/page.tsx (15:7) @ Page\n-           > 15 |       <Dynamic />\n-                |       ^\",\n+             \"source\": \"app/page.tsx (20:16) @ Dynamic\n+           > 20 | async function Dynamic() {\n+                |                ^\",\n              \"stack\": [\n-               \"Dynamic [Server] <anonymous> (1:25)\",\n+               \"Dynamic app/page.tsx (20:16)\",\n                \"Page app/page.tsx (15:7)\",\n                \"main <anonymous> (1:13)\",\n                \"body <anonymous> (1:13)\",\n@@ -579,7 +579,7 @@ describe.each(\n            >  7 | export function IndirectionTwo({ children }) {\n                 |                                  ^\",\n                \"stack\": [\n-                 \"FetchingComponent [Server] <anonymous> (1:35)\",\n+                 \"<FIXME-file-protocol>\",\n                  \"IndirectionTwo app/indirection.tsx (7:34)\",\n                  \"<FIXME-file-protocol>\",\n                  \"main <anonymous> (1:13)\",\n@@ -595,7 +595,7 @@ describe.each(\n                \"label\": \"Console Error\",\n                \"source\": null,\n                \"stack\": [\n-                 \"FetchingComponent [Server] <anonymous> (1:35)\",\n+                 \"<FIXME-file-protocol>\",\n                  \"<FIXME-file-protocol>\",\n                  \"main <anonymous> (1:13)\",\n                  \"body <anonymous> (1:13)\",\n@@ -613,11 +613,11 @@ describe.each(\n                \"description\": \"Route \"/\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n                \"environmentLabel\": \"Server\",\n                \"label\": \"Console Error\",\n-               \"source\": \"app/indirection.tsx (7:34) @ IndirectionTwo\n-           >  7 | export function IndirectionTwo({ children }) {\n-                |                                  ^\",\n+               \"source\": \"app/page.tsx (35:16) @ FetchingComponent\n+           > 35 | async function FetchingComponent({\n+                |                ^\",\n                \"stack\": [\n-                 \"FetchingComponent [Server] <anonymous> (1:35)\",\n+                 \"FetchingComponent app/page.tsx (35:16)\",\n                  \"IndirectionTwo app/indirection.tsx (7:34)\",\n                  \"Page app/page.tsx (16:9)\",\n                  \"main <anonymous> (1:13)\",\n@@ -631,11 +631,11 @@ describe.each(\n                \"description\": \"Route \"/\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense\",\n                \"environmentLabel\": \"Server\",\n                \"label\": \"Console Error\",\n-               \"source\": \"app/page.tsx (16:9) @ Page\n-           > 16 |         <FetchingComponent nonce=\"a\" cached={true} />\n-                |         ^\",\n+               \"source\": \"app/page.tsx (35:16) @ FetchingComponent\n+           > 35 | async function FetchingComponent({\n+                |                ^\",\n                \"stack\": [\n-                 \"FetchingComponent [Server] <anonymous> (1:35)\",\n+                 \"FetchingComponent app/page.tsx (35:16)\",\n                  \"Page app/page.tsx (16:9)\",\n                  \"main <anonymous> (1:13)\",\n                  \"body <anonymous> (1:13)\","
        }
    ],
    "stats": {
        "total": 1220,
        "additions": 512,
        "deletions": 708
    }
}