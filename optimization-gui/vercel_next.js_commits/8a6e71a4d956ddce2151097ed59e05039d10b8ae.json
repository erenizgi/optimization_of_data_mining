{
    "author": "dulmandakh",
    "message": "fix: NextConfig.rewrites type for fallback (#75784)\n\n### What?\n\nBelow is a snippet for [Incremental adoption of\nNext.js](https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#incremental-adoption-of-nextjs)\nconfiguration.\n\n```typescript\nmodule.exports = {\n  async rewrites() {\n    return {\n      fallback: [\n        {\n          source: '/:path*',\n          destination: `https://custom-routes-proxying-endpoint.vercel.app/:path*`,\n        },\n      ],\n    }\n  },\n}\n```\n\nBut `rewrites` in `NextConfig` type requires `beforeFiles` and\n`afterFiles` besides `fallback`, which makes above configuration invalid\nfor TypeScript.\n\n### Why?\n\nI assume snippets from official documentation must work.\n\n### How?\n\nThis PR makes `beforeFiles` and `afterFiles` optional.\n\n---------\n\nCo-authored-by: JJ Kasper <jj@jjsweb.site>",
    "sha": "8a6e71a4d956ddce2151097ed59e05039d10b8ae",
    "files": [
        {
            "sha": "c8357722bda9258b9fabcce7e5a3d22ae8f805af",
            "filename": "packages/next/src/server/config-shared.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/vercel/next.js/blob/8a6e71a4d956ddce2151097ed59e05039d10b8ae/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "raw_url": "https://github.com/vercel/next.js/raw/8a6e71a4d956ddce2151097ed59e05039d10b8ae/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/packages%2Fnext%2Fsrc%2Fserver%2Fconfig-shared.ts?ref=8a6e71a4d956ddce2151097ed59e05039d10b8ae",
            "patch": "@@ -734,9 +734,9 @@ export interface NextConfig extends Record<string, any> {\n   rewrites?: () => Promise<\n     | Rewrite[]\n     | {\n-        beforeFiles: Rewrite[]\n-        afterFiles: Rewrite[]\n-        fallback: Rewrite[]\n+        beforeFiles?: Rewrite[]\n+        afterFiles?: Rewrite[]\n+        fallback?: Rewrite[]\n       }\n   >\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}