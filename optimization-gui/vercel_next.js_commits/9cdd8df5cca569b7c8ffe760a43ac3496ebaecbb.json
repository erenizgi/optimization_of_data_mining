{
    "author": "sokra",
    "message": "Turbopack: make persistent caching log line more clear (#84262)\n\n### What?\n\nMake it clear that the log line is related to persistent caching",
    "sha": "9cdd8df5cca569b7c8ffe760a43ac3496ebaecbb",
    "files": [
        {
            "sha": "0bb5ae69640324c234a9fae9593660c002469696",
            "filename": "turbopack/crates/turbo-tasks-backend/src/database/turbo/mod.rs",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/vercel/next.js/blob/9cdd8df5cca569b7c8ffe760a43ac3496ebaecbb/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdatabase%2Fturbo%2Fmod.rs",
            "raw_url": "https://github.com/vercel/next.js/raw/9cdd8df5cca569b7c8ffe760a43ac3496ebaecbb/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdatabase%2Fturbo%2Fmod.rs",
            "contents_url": "https://api.github.com/repos/vercel/next.js/contents/turbopack%2Fcrates%2Fturbo-tasks-backend%2Fsrc%2Fdatabase%2Fturbo%2Fmod.rs?ref=9cdd8df5cca569b7c8ffe760a43ac3496ebaecbb",
            "patch": "@@ -104,12 +104,16 @@ impl KeyValueDatabase for TurboKeyValueDatabase {\n         // Compact the database on shutdown\n         if self.is_ci {\n             // Fully compact in CI to reduce cache size\n-            do_compact(&self.db, \"Finished database compaction\", usize::MAX)?;\n+            do_compact(\n+                &self.db,\n+                \"Finished persistent caching database compaction\",\n+                usize::MAX,\n+            )?;\n         } else {\n             // Compact with a reasonable limit in non-CI environments\n             do_compact(\n                 &self.db,\n-                \"Finished database compaction\",\n+                \"Finished persistent caching database compaction\",\n                 available_parallelism().map_or(4, |c| max(4, c.get())),\n             )?;\n         }\n@@ -167,7 +171,7 @@ impl<'a> BaseWriteBatch<'a> for TurboWriteBatch<'a> {\n             let handle = spawn(async move {\n                 do_compact(\n                     &db,\n-                    \"Finished database compaction\",\n+                    \"Finished persistent caching database compaction\",\n                     available_parallelism().map_or(4, |c| max(4, c.get() / 2)),\n                 )\n             });"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}