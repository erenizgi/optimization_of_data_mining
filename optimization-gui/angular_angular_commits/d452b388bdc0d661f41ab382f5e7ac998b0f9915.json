{
    "author": "HyperLife1119",
    "message": "feat(http): add `has()` method to `HttpContext` class (#43887)\n\nAt present, the get() method provided by HttpContext will never return null. Sometimes we need to check whether an http token is included, so add the has() method to HttpContext.\n\nPR Close #43887",
    "sha": "d452b388bdc0d661f41ab382f5e7ac998b0f9915",
    "files": [
        {
            "sha": "bb2853cb1daea6704b0eb042089bdb0fc8b5be00",
            "filename": "goldens/public-api/common/http/http.md",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/d452b388bdc0d661f41ab382f5e7ac998b0f9915/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.md",
            "raw_url": "https://github.com/angular/angular/raw/d452b388bdc0d661f41ab382f5e7ac998b0f9915/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.md?ref=d452b388bdc0d661f41ab382f5e7ac998b0f9915",
            "patch": "@@ -1674,6 +1674,7 @@ export class HttpClientXsrfModule {\n export class HttpContext {\n     delete(token: HttpContextToken<unknown>): HttpContext;\n     get<T>(token: HttpContextToken<T>): T;\n+    has(token: HttpContextToken<unknown>): boolean;\n     // (undocumented)\n     keys(): IterableIterator<HttpContextToken<unknown>>;\n     set<T>(token: HttpContextToken<T>, value: T): HttpContext;"
        },
        {
            "sha": "f68cfa3f27cd88e016fb24cc58c167abd1d1827a",
            "filename": "packages/common/http/src/context.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/d452b388bdc0d661f41ab382f5e7ac998b0f9915/packages%2Fcommon%2Fhttp%2Fsrc%2Fcontext.ts",
            "raw_url": "https://github.com/angular/angular/raw/d452b388bdc0d661f41ab382f5e7ac998b0f9915/packages%2Fcommon%2Fhttp%2Fsrc%2Fcontext.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Fcontext.ts?ref=d452b388bdc0d661f41ab382f5e7ac998b0f9915",
            "patch": "@@ -90,6 +90,17 @@ export class HttpContext {\n     return this;\n   }\n \n+  /**\n+   * Checks for existence of a given token.\n+   *\n+   * @param token The reference to an instance of `HttpContextToken`.\n+   *\n+   * @returns True if the token exists, false otherwise.\n+   */\n+  has(token: HttpContextToken<unknown>): boolean {\n+    return this.map.has(token);\n+  }\n+\n   /**\n    * @returns a list of tokens currently stored in the context.\n    */"
        },
        {
            "sha": "3346e7888da63f5cfe5d9076f2771e116a57d520",
            "filename": "packages/common/http/test/context_spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/d452b388bdc0d661f41ab382f5e7ac998b0f9915/packages%2Fcommon%2Fhttp%2Ftest%2Fcontext_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/d452b388bdc0d661f41ab382f5e7ac998b0f9915/packages%2Fcommon%2Fhttp%2Ftest%2Fcontext_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Fcontext_spec.ts?ref=d452b388bdc0d661f41ab382f5e7ac998b0f9915",
            "patch": "@@ -9,6 +9,7 @@\n import {HttpContext, HttpContextToken} from '../src/context';\n \n const IS_ENABLED = new HttpContextToken<boolean>(() => false);\n+const UNUSED = new HttpContextToken<boolean>(() => true);\n const CACHE_OPTION =\n     new HttpContextToken<{cache: boolean, expiresIn?: number}>(() => ({cache: false}));\n \n@@ -21,12 +22,15 @@ describe('HttpContext', () => {\n \n   describe('with basic value', () => {\n     it('should test public api', () => {\n+      expect(context.has(UNUSED)).toBe(false);\n       expect(context.get(IS_ENABLED)).toBe(false);\n       expect([...context.keys()]).toEqual([\n         IS_ENABLED\n       ]);  // value from factory function is stored in the map upon access\n \n+      expect(context.has(IS_ENABLED)).toBe(true);\n       context.set(IS_ENABLED, true);\n+      expect(context.has(IS_ENABLED)).toBe(true);\n       expect(context.get(IS_ENABLED)).toBe(true);\n       expect([...context.keys()]).toEqual([IS_ENABLED]);\n "
        }
    ],
    "stats": {
        "total": 16,
        "additions": 16,
        "deletions": 0
    }
}