{
    "author": "dgp1130",
    "message": "fix(core): migrate relative link resolution with single quotes (#39102)\n\nThis is a roll forward of #39082, using `ts.createIdentifier(`'legacy'`)` as a cross-version compatible way of making\na single quoted string literal.\n\nMigrated code now uses single quotes, which is in line with the default linting options, so there is no lint error after\nmigration.\n\nPR Close #39102",
    "sha": "049b453149f000a15685bff9aa30847090c07db0",
    "files": [
        {
            "sha": "91b2b4fb7df0ff377ed42478996e0eeb37115635",
            "filename": "packages/core/schematics/migrations/relative-link-resolution/transform.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/049b453149f000a15685bff9aa30847090c07db0/packages%2Fcore%2Fschematics%2Fmigrations%2Frelative-link-resolution%2Ftransform.ts",
            "raw_url": "https://github.com/angular/angular/raw/049b453149f000a15685bff9aa30847090c07db0/packages%2Fcore%2Fschematics%2Fmigrations%2Frelative-link-resolution%2Ftransform.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Fmigrations%2Frelative-link-resolution%2Ftransform.ts?ref=049b453149f000a15685bff9aa30847090c07db0",
            "patch": "@@ -45,7 +45,7 @@ export class RelativeLinkResolutionTransform {\n       return literal;\n     }\n     const legacyExpression =\n-        ts.createPropertyAssignment(RELATIVE_LINK_RESOLUTION, ts.createStringLiteral('legacy'));\n+        ts.createPropertyAssignment(RELATIVE_LINK_RESOLUTION, ts.createIdentifier(`'legacy'`));\n     return ts.updateObjectLiteral(literal, [...literal.properties, legacyExpression]);\n   }\n "
        },
        {
            "sha": "700e291983a2ccb77b78aaa6abc50a9e7d365324",
            "filename": "packages/core/schematics/test/google3/relative_link_resolution_default_spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/049b453149f000a15685bff9aa30847090c07db0/packages%2Fcore%2Fschematics%2Ftest%2Fgoogle3%2Frelative_link_resolution_default_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/049b453149f000a15685bff9aa30847090c07db0/packages%2Fcore%2Fschematics%2Ftest%2Fgoogle3%2Frelative_link_resolution_default_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Ftest%2Fgoogle3%2Frelative_link_resolution_default_spec.ts?ref=049b453149f000a15685bff9aa30847090c07db0",
            "patch": "@@ -85,7 +85,7 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n \n     runTSLint(true);\n     expect(getFile('/index.ts'))\n-        .toContain(`RouterModule.forRoot([], { relativeLinkResolution: \"legacy\" })`);\n+        .toContain(`RouterModule.forRoot([], { relativeLinkResolution: 'legacy' })`);\n   });\n \n   it('should migrate options without relativeLinkResolution', () => {\n@@ -103,7 +103,7 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n \n     runTSLint(true);\n     expect(getFile('/index.ts'))\n-        .toContain(`RouterModule.forRoot([], { useHash: true, relativeLinkResolution: \"legacy\" })`);\n+        .toContain(`RouterModule.forRoot([], { useHash: true, relativeLinkResolution: 'legacy' })`);\n   });\n \n   it('should not migrate options containing relativeLinkResolution', () => {\n@@ -133,7 +133,7 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n     runTSLint(true);\n     expect(getFile('/index.ts'))\n         .toContain(\n-            `const options = { useHash: true, relativeLinkResolution: \"legacy\" } as ExtraOptions;`);\n+            `const options = { useHash: true, relativeLinkResolution: 'legacy' } as ExtraOptions;`);\n   });\n \n   it('should migrate when options is a variable', () => {\n@@ -145,7 +145,7 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n     runTSLint(true);\n     expect(getFile('/index.ts'))\n         .toContain(\n-            `const options: ExtraOptions = { useHash: true, relativeLinkResolution: \"legacy\" };`);\n+            `const options: ExtraOptions = { useHash: true, relativeLinkResolution: 'legacy' };`);\n   });\n \n   it('should migrate when options is a variable with no type', () => {\n@@ -166,7 +166,7 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n \n     runTSLint(true);\n     expect(getFile('/index.ts'))\n-        .toContain(`const options = { useHash: true, relativeLinkResolution: \"legacy\" };`);\n+        .toContain(`const options = { useHash: true, relativeLinkResolution: 'legacy' };`);\n     expect(getFile('/index.ts')).toContain(`RouterModule.forRoot([], options)`);\n   });\n \n@@ -179,7 +179,7 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n     runTSLint(true);\n     expect(getFile('/index.ts'))\n         .toContain(\n-            `const options: RouterExtraOptions = { useHash: true, relativeLinkResolution: \"legacy\" };`);\n+            `const options: RouterExtraOptions = { useHash: true, relativeLinkResolution: 'legacy' };`);\n   });\n \n   it('should migrate aliased RouterModule.forRoot', () => {\n@@ -197,6 +197,6 @@ describe('Google3 relativeLinkResolution TSLint rule', () => {\n \n     runTSLint(true);\n     expect(getFile('/index.ts'))\n-        .toContain(`AngularRouterModule.forRoot([], { relativeLinkResolution: \"legacy\" }),`);\n+        .toContain(`AngularRouterModule.forRoot([], { relativeLinkResolution: 'legacy' }),`);\n   });\n });"
        },
        {
            "sha": "7c4a3628a617e914889137b4f0d46c2b120a465e",
            "filename": "packages/core/schematics/test/relative_link_resolution_spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/049b453149f000a15685bff9aa30847090c07db0/packages%2Fcore%2Fschematics%2Ftest%2Frelative_link_resolution_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/049b453149f000a15685bff9aa30847090c07db0/packages%2Fcore%2Fschematics%2Ftest%2Frelative_link_resolution_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Ftest%2Frelative_link_resolution_spec.ts?ref=049b453149f000a15685bff9aa30847090c07db0",
            "patch": "@@ -61,7 +61,7 @@ describe('initial navigation migration', () => {\n \n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n-        .toContain(`RouterModule.forRoot([], { relativeLinkResolution: \"legacy\" })`);\n+        .toContain(`RouterModule.forRoot([], { relativeLinkResolution: 'legacy' })`);\n   });\n \n   it('should migrate options without relativeLinkResolution', async () => {\n@@ -79,7 +79,7 @@ describe('initial navigation migration', () => {\n \n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n-        .toContain(`RouterModule.forRoot([], { useHash: true, relativeLinkResolution: \"legacy\" })`);\n+        .toContain(`RouterModule.forRoot([], { useHash: true, relativeLinkResolution: 'legacy' })`);\n   });\n \n   it('should not migrate options containing relativeLinkResolution', async () => {\n@@ -109,7 +109,7 @@ describe('initial navigation migration', () => {\n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n         .toContain(\n-            `const options = { useHash: true, relativeLinkResolution: \"legacy\" } as ExtraOptions;`);\n+            `const options = { useHash: true, relativeLinkResolution: 'legacy' } as ExtraOptions;`);\n   });\n \n   it('should migrate when options is a variable', async () => {\n@@ -121,7 +121,7 @@ describe('initial navigation migration', () => {\n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n         .toContain(\n-            `const options: ExtraOptions = { useHash: true, relativeLinkResolution: \"legacy\" };`);\n+            `const options: ExtraOptions = { useHash: true, relativeLinkResolution: 'legacy' };`);\n   });\n \n   it('should migrate when options is a variable with no type', async () => {\n@@ -142,7 +142,7 @@ describe('initial navigation migration', () => {\n \n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n-        .toContain(`const options = { useHash: true, relativeLinkResolution: \"legacy\" };`);\n+        .toContain(`const options = { useHash: true, relativeLinkResolution: 'legacy' };`);\n     expect(tree.readContent('/index.ts')).toContain(`RouterModule.forRoot([], options)`);\n   });\n \n@@ -155,7 +155,7 @@ describe('initial navigation migration', () => {\n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n         .toContain(\n-            `const options: RouterExtraOptions = { useHash: true, relativeLinkResolution: \"legacy\" };`);\n+            `const options: RouterExtraOptions = { useHash: true, relativeLinkResolution: 'legacy' };`);\n   });\n \n   it('should migrate aliased RouterModule.forRoot', async () => {\n@@ -173,7 +173,7 @@ describe('initial navigation migration', () => {\n \n     await runMigration();\n     expect(tree.readContent('/index.ts'))\n-        .toContain(`AngularRouterModule.forRoot([], { relativeLinkResolution: \"legacy\" }),`);\n+        .toContain(`AngularRouterModule.forRoot([], { relativeLinkResolution: 'legacy' }),`);\n   });\n \n   function writeFile(filePath: string, contents: string) {"
        }
    ],
    "stats": {
        "total": 30,
        "additions": 15,
        "deletions": 15
    }
}