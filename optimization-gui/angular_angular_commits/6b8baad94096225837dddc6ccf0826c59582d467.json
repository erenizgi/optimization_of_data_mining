{
    "author": "gopal-jayaraman",
    "message": "fix(common): add body as an optional property on the options of HttpClient.delete (#19438) (#41723)\n\nadding optional body for HTTP delete request options. This new param added as an optional so won't break the existing code also provide the capability the send the body when and where it required.\n\nPR Close #41723",
    "sha": "6b8baad94096225837dddc6ccf0826c59582d467",
    "files": [
        {
            "sha": "2eaea73e0a41fb7de9ba1912919d1ef2878a5091",
            "filename": "goldens/public-api/common/http/http.d.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/6b8baad94096225837dddc6ccf0826c59582d467/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/6b8baad94096225837dddc6ccf0826c59582d467/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts?ref=6b8baad94096225837dddc6ccf0826c59582d467",
            "patch": "@@ -18,6 +18,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'arraybuffer';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<ArrayBuffer>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -31,6 +32,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'blob';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<Blob>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -44,6 +46,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'text';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<string>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -57,6 +60,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'arraybuffer';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpEvent<ArrayBuffer>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -70,6 +74,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'blob';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpEvent<Blob>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -83,6 +88,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'text';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpEvent<string>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -96,6 +102,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType?: 'json';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpEvent<Object>>;\n     delete<T>(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -109,6 +116,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType?: 'json';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpEvent<T>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -122,6 +130,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'arraybuffer';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpResponse<ArrayBuffer>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -135,6 +144,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'blob';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpResponse<Blob>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -148,6 +158,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType: 'text';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpResponse<string>>;\n     delete(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -161,6 +172,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType?: 'json';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpResponse<Object>>;\n     delete<T>(url: string, options: {\n         headers?: HttpHeaders | {\n@@ -174,6 +186,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType?: 'json';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<HttpResponse<T>>;\n     delete(url: string, options?: {\n         headers?: HttpHeaders | {\n@@ -187,6 +200,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType?: 'json';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<Object>;\n     delete<T>(url: string, options?: {\n         headers?: HttpHeaders | {\n@@ -200,6 +214,7 @@ export declare class HttpClient {\n         reportProgress?: boolean;\n         responseType?: 'json';\n         withCredentials?: boolean;\n+        body?: any | null;\n     }): Observable<T>;\n     get(url: string, options: {\n         headers?: HttpHeaders | {"
        },
        {
            "sha": "b8041c0eca984dc854c10f9959e627a1c4da2ad3",
            "filename": "packages/common/http/src/client.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/6b8baad94096225837dddc6ccf0826c59582d467/packages%2Fcommon%2Fhttp%2Fsrc%2Fclient.ts",
            "raw_url": "https://github.com/angular/angular/raw/6b8baad94096225837dddc6ccf0826c59582d467/packages%2Fcommon%2Fhttp%2Fsrc%2Fclient.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Fclient.ts?ref=6b8baad94096225837dddc6ccf0826c59582d467",
            "patch": "@@ -619,6 +619,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<ArrayBuffer>;\n \n \n@@ -639,6 +640,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<Blob>;\n \n   /**\n@@ -658,6 +660,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<string>;\n \n   /**\n@@ -677,6 +680,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n     withCredentials?: boolean,\n+    body?: any|null\n   }): Observable<HttpEvent<ArrayBuffer>>;\n \n   /**\n@@ -696,6 +700,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpEvent<Blob>>;\n \n   /**\n@@ -715,6 +720,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpEvent<string>>;\n \n   /**\n@@ -735,6 +741,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'json',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpEvent<Object>>;\n \n   /**\n@@ -755,6 +762,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'json',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpEvent<T>>;\n \n   /**\n@@ -773,6 +781,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpResponse<ArrayBuffer>>;\n \n   /**\n@@ -791,6 +800,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpResponse<Blob>>;\n \n   /**\n@@ -809,6 +819,7 @@ export class HttpClient {\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpResponse<string>>;\n \n   /**\n@@ -829,6 +840,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'json',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpResponse<Object>>;\n \n   /**\n@@ -848,6 +860,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'json',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<HttpResponse<T>>;\n \n   /**\n@@ -868,6 +881,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'json',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<Object>;\n \n   /**\n@@ -888,6 +902,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'json',\n     withCredentials?: boolean,\n+    body?: any|null,\n   }): Observable<T>;\n \n   /**\n@@ -908,6 +923,7 @@ export class HttpClient {\n     reportProgress?: boolean,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n     withCredentials?: boolean,\n+    body?: any|null,\n   } = {}): Observable<any> {\n     return this.request<any>('DELETE', url, options as any);\n   }"
        },
        {
            "sha": "193c5f823343b10a7a7c802f956d61b4e0218986",
            "filename": "packages/common/http/test/client_spec.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/6b8baad94096225837dddc6ccf0826c59582d467/packages%2Fcommon%2Fhttp%2Ftest%2Fclient_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/6b8baad94096225837dddc6ccf0826c59582d467/packages%2Fcommon%2Fhttp%2Ftest%2Fclient_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Fclient_spec.ts?ref=6b8baad94096225837dddc6ccf0826c59582d467",
            "patch": "@@ -177,6 +177,30 @@ import {toArray} from 'rxjs/operators';\n         testReq.flush('hello world');\n       });\n     });\n+    describe('makes a DELETE request', () => {\n+      it('with body', done => {\n+        const body = {data: 'json body'};\n+        client.delete('/test', {observe: 'response', responseType: 'text', body: body})\n+            .subscribe(res => {\n+              expect(res.ok).toBeTruthy();\n+              expect(res.status).toBe(200);\n+              done();\n+            });\n+        const testReq = backend.expectOne('/test');\n+        expect(testReq.request.body).toBe(body);\n+        testReq.flush('hello world');\n+      });\n+      it('without body', done => {\n+        client.delete('/test', {observe: 'response', responseType: 'text'}).subscribe(res => {\n+          expect(res.ok).toBeTruthy();\n+          expect(res.status).toBe(200);\n+          done();\n+        });\n+        const testReq = backend.expectOne('/test');\n+        expect(testReq.request.body).toBe(null);\n+        testReq.flush('hello world');\n+      });\n+    });\n     describe('makes a JSONP request', () => {\n       it('with properly set method and callback', done => {\n         client.jsonp('/test', 'myCallback').subscribe(() => done());"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 55,
        "deletions": 0
    }
}