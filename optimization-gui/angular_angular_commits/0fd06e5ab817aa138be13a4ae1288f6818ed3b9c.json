{
    "author": "petebacondarwin",
    "message": "test(compiler-cli): add external template source-map tests (#40237)\n\nThis commit migrates, and supplements, compliance tests that\ncheck the source-mapping of external templates.\n\nPR Close #40237",
    "sha": "0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
    "files": [
        {
            "sha": "d9e802faec6f82c756fb61fb69820151861ecac7",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/GOLDEN_PARTIAL.js",
            "status": "added",
            "additions": 180,
            "deletions": 0,
            "changes": 180,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FGOLDEN_PARTIAL.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FGOLDEN_PARTIAL.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FGOLDEN_PARTIAL.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,180 @@\n+/****************************************************************************************************\n+ * PARTIAL FILE: external_template.js\n+ ****************************************************************************************************/\n+import { Component } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class TestCmp {\n+}\n+TestCmp.Éµfac = function TestCmp_Factory(t) { return new (t || TestCmp)(); };\n+TestCmp.Éµcmp = i0.ÉµÉµngDeclareComponent({ version: \"0.0.0-PLACEHOLDER\", type: TestCmp, selector: \"test-cmp\", ngImport: i0, template: { source: \"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\", isInline: false } });\n+(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ÉµsetClassMetadata(TestCmp, [{\n+        type: Component,\n+        args: [{\n+                selector: 'test-cmp',\n+                templateUrl: './dir/test.html',\n+            }]\n+    }], null, null); })();\n+//# sourceMappingURL=external_template.js.map\n+/****************************************************************************************************\n+ * PARTIAL FILE: external_template.js.map\n+ ****************************************************************************************************/\n+{\"version\":3,\"file\":\"external_template.js\",\"sourceRoot\":\"\",\"sources\":[\"../external_template.ts\",\"../dir/test.html\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;;AAMxC,MAAM,OAAO,OAAO;;8DAAP,OAAO;6EAAP,OAAO,0DCNpB,mDACsB;uFDKT,OAAO;cAJnB,SAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,iBAAiB;aAC/B\",\"sourcesContent\":[\"import {Component} from '@angular/core';\\n\\n@Component({\\n  selector: 'test-cmp',\\n  templateUrl: './dir/test.html',\\n})\\nexport class TestCmp {\\n}\\n\",\"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\"]}\n+/****************************************************************************************************\n+ * PARTIAL FILE: external_template.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class TestCmp {\n+    static Éµfac: i0.ÉµÉµFactoryDef<TestCmp, never>;\n+    static Éµcmp: i0.ÉµÉµComponentDefWithMeta<TestCmp, \"test-cmp\", never, {}, {}, never, never>;\n+}\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: external_template.js\n+ ****************************************************************************************************/\n+import { Component } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class TestCmp {\n+}\n+TestCmp.Éµfac = function TestCmp_Factory(t) { return new (t || TestCmp)(); };\n+TestCmp.Éµcmp = i0.ÉµÉµngDeclareComponent({ version: \"0.0.0-PLACEHOLDER\", type: TestCmp, selector: \"test-cmp\", ngImport: i0, template: { source: \"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\", isInline: false } });\n+(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ÉµsetClassMetadata(TestCmp, [{\n+        type: Component,\n+        args: [{\n+                selector: 'test-cmp',\n+                templateUrl: './dir/test.html',\n+            }]\n+    }], null, null); })();\n+//# sourceMappingURL=external_template.js.map\n+/****************************************************************************************************\n+ * PARTIAL FILE: external_template.js.map\n+ ****************************************************************************************************/\n+{\"version\":3,\"file\":\"external_template.js\",\"sourceRoot\":\"\",\"sources\":[\"../external_template.ts\",\"../dir/test.html\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;;AAMxC,MAAM,OAAO,OAAO;;8DAAP,OAAO;6EAAP,OAAO,0DCNpB,mDACsB;uFDKT,OAAO;cAJnB,SAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,iBAAiB;aAC/B\",\"sourcesContent\":[\"import {Component} from '@angular/core';\\n\\n@Component({\\n  selector: 'test-cmp',\\n  templateUrl: './dir/test.html',\\n})\\nexport class TestCmp {\\n}\\n\",\"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\"]}\n+/****************************************************************************************************\n+ * PARTIAL FILE: external_template.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class TestCmp {\n+    static Éµfac: i0.ÉµÉµFactoryDef<TestCmp, never>;\n+    static Éµcmp: i0.ÉµÉµComponentDefWithMeta<TestCmp, \"test-cmp\", never, {}, {}, never, never>;\n+}\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: extra_root_dir.js\n+ ****************************************************************************************************/\n+import { Component } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class TestCmp {\n+}\n+TestCmp.Éµfac = function TestCmp_Factory(t) { return new (t || TestCmp)(); };\n+TestCmp.Éµcmp = i0.ÉµÉµngDeclareComponent({ version: \"0.0.0-PLACEHOLDER\", type: TestCmp, selector: \"test-cmp\", ngImport: i0, template: { source: \"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\", isInline: false } });\n+(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ÉµsetClassMetadata(TestCmp, [{\n+        type: Component,\n+        args: [{\n+                selector: 'test-cmp',\n+                templateUrl: './dir/extra.html',\n+            }]\n+    }], null, null); })();\n+//# sourceMappingURL=extra_root_dir.js.map\n+/****************************************************************************************************\n+ * PARTIAL FILE: extra_root_dir.js.map\n+ ****************************************************************************************************/\n+{\"version\":3,\"file\":\"extra_root_dir.js\",\"sourceRoot\":\"\",\"sources\":[\"../extra_root_dir.ts\",\"../extraRootDir/dir/extra.html\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;;AAMxC,MAAM,OAAO,OAAO;;8DAAP,OAAO;6EAAP,OAAO,0DCNpB,mDACsB;uFDKT,OAAO;cAJnB,SAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,kBAAkB;aAChC\",\"sourcesContent\":[\"import {Component} from '@angular/core';\\n\\n@Component({\\n  selector: 'test-cmp',\\n  templateUrl: './dir/extra.html',\\n})\\nexport class TestCmp {\\n}\\n\",\"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\"]}\n+/****************************************************************************************************\n+ * PARTIAL FILE: extra_root_dir.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class TestCmp {\n+    static Éµfac: i0.ÉµÉµFactoryDef<TestCmp, never>;\n+    static Éµcmp: i0.ÉµÉµComponentDefWithMeta<TestCmp, \"test-cmp\", never, {}, {}, never, never>;\n+}\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: extra_root_dir.js\n+ ****************************************************************************************************/\n+import { Component } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class TestCmp {\n+}\n+TestCmp.Éµfac = function TestCmp_Factory(t) { return new (t || TestCmp)(); };\n+TestCmp.Éµcmp = i0.ÉµÉµngDeclareComponent({ version: \"0.0.0-PLACEHOLDER\", type: TestCmp, selector: \"test-cmp\", ngImport: i0, template: { source: \"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\", isInline: false } });\n+(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ÉµsetClassMetadata(TestCmp, [{\n+        type: Component,\n+        args: [{\n+                selector: 'test-cmp',\n+                templateUrl: './dir/extra.html',\n+            }]\n+    }], null, null); })();\n+//# sourceMappingURL=extra_root_dir.js.map\n+/****************************************************************************************************\n+ * PARTIAL FILE: extra_root_dir.js.map\n+ ****************************************************************************************************/\n+{\"version\":3,\"file\":\"extra_root_dir.js\",\"sourceRoot\":\"\",\"sources\":[\"../extra_root_dir.ts\",\"../extraRootDir/dir/extra.html\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;;AAMxC,MAAM,OAAO,OAAO;;8DAAP,OAAO;6EAAP,OAAO,0DCNpB,mDACsB;uFDKT,OAAO;cAJnB,SAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,kBAAkB;aAChC\",\"sourcesContent\":[\"import {Component} from '@angular/core';\\n\\n@Component({\\n  selector: 'test-cmp',\\n  templateUrl: './dir/extra.html',\\n})\\nexport class TestCmp {\\n}\\n\",\"<div>this is a test</div>\\n<div>{{ 1 + 2 }}</div>\"]}\n+/****************************************************************************************************\n+ * PARTIAL FILE: extra_root_dir.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class TestCmp {\n+    static Éµfac: i0.ÉµÉµFactoryDef<TestCmp, never>;\n+    static Éµcmp: i0.ÉµÉµComponentDefWithMeta<TestCmp, \"test-cmp\", never, {}, {}, never, never>;\n+}\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: escaped_chars.js\n+ ****************************************************************************************************/\n+import { Component } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class TestCmp {\n+}\n+TestCmp.Éµfac = function TestCmp_Factory(t) { return new (t || TestCmp)(); };\n+TestCmp.Éµcmp = i0.ÉµÉµngDeclareComponent({ version: \"0.0.0-PLACEHOLDER\", type: TestCmp, selector: \"test-cmp\", ngImport: i0, template: { source: \"<!--\\n  NOTE: This template has escaped `\\\\r\\\\n` line-endings markers that will be converted to real `\\\\r\\\\n` line-ending chars when loaded from the test file-system.\\n        This conversion happens in the monkeyPatchReadFile() function, which changes `fs.readFile()`.\\n-->\\n<div>\\r\\n  Some Message\\r\\n  Encoded character: \\uD83D\\uDE80\\r\\n</div>\", isInline: false } });\n+(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ÉµsetClassMetadata(TestCmp, [{\n+        type: Component,\n+        args: [{\n+                selector: 'test-cmp',\n+                templateUrl: './escaped_chars.html',\n+            }]\n+    }], null, null); })();\n+//# sourceMappingURL=escaped_chars.js.map\n+/****************************************************************************************************\n+ * PARTIAL FILE: escaped_chars.js.map\n+ ****************************************************************************************************/\n+{\"version\":3,\"file\":\"escaped_chars.js\",\"sourceRoot\":\"\",\"sources\":[\"../escaped_chars.ts\",\"../escaped_chars.html\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;;AAMxC,MAAM,OAAO,OAAO;;8DAAP,OAAO;6EAAP,OAAO,0DCNpB,4VAOM;uFDDO,OAAO;cAJnB,SAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;aACpC\",\"sourcesContent\":[\"import {Component} from '@angular/core';\\n\\n@Component({\\n  selector: 'test-cmp',\\n  templateUrl: './escaped_chars.html',\\n})\\nexport class TestCmp {\\n}\\n\",\"<!--\\n  NOTE: This template has escaped `\\\\r\\\\n` line-endings markers that will be converted to real `\\\\r\\\\n` line-ending chars when loaded from the test file-system.\\n        This conversion happens in the monkeyPatchReadFile() function, which changes `fs.readFile()`.\\n-->\\n<div>\\r\\n  Some Message\\r\\n  Encoded character: ðŸš€\\r\\n</div>\"]}\n+/****************************************************************************************************\n+ * PARTIAL FILE: escaped_chars.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class TestCmp {\n+    static Éµfac: i0.ÉµÉµFactoryDef<TestCmp, never>;\n+    static Éµcmp: i0.ÉµÉµComponentDefWithMeta<TestCmp, \"test-cmp\", never, {}, {}, never, never>;\n+}\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: escaped_chars.js\n+ ****************************************************************************************************/\n+import { Component } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class TestCmp {\n+}\n+TestCmp.Éµfac = function TestCmp_Factory(t) { return new (t || TestCmp)(); };\n+TestCmp.Éµcmp = i0.ÉµÉµngDeclareComponent({ version: \"0.0.0-PLACEHOLDER\", type: TestCmp, selector: \"test-cmp\", ngImport: i0, template: { source: \"<!--\\n  NOTE: This template has escaped `\\\\r\\\\n` line-endings markers that will be converted to real `\\\\r\\\\n` line-ending chars when loaded from the test file-system.\\n        This conversion happens in the monkeyPatchReadFile() function, which changes `fs.readFile()`.\\n-->\\n<div>\\r\\n  Some Message\\r\\n  Encoded character: \\uD83D\\uDE80\\r\\n</div>\", isInline: false } });\n+(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ÉµsetClassMetadata(TestCmp, [{\n+        type: Component,\n+        args: [{\n+                selector: 'test-cmp',\n+                templateUrl: './escaped_chars.html',\n+            }]\n+    }], null, null); })();\n+//# sourceMappingURL=escaped_chars.js.map\n+/****************************************************************************************************\n+ * PARTIAL FILE: escaped_chars.js.map\n+ ****************************************************************************************************/\n+{\"version\":3,\"file\":\"escaped_chars.js\",\"sourceRoot\":\"\",\"sources\":[\"../escaped_chars.ts\",\"../escaped_chars.html\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;;AAMxC,MAAM,OAAO,OAAO;;8DAAP,OAAO;6EAAP,OAAO,0DCNpB,4VAOM;uFDDO,OAAO;cAJnB,SAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;aACpC\",\"sourcesContent\":[\"import {Component} from '@angular/core';\\n\\n@Component({\\n  selector: 'test-cmp',\\n  templateUrl: './escaped_chars.html',\\n})\\nexport class TestCmp {\\n}\\n\",\"<!--\\n  NOTE: This template has escaped `\\\\r\\\\n` line-endings markers that will be converted to real `\\\\r\\\\n` line-ending chars when loaded from the test file-system.\\n        This conversion happens in the monkeyPatchReadFile() function, which changes `fs.readFile()`.\\n-->\\n<div>\\r\\n  Some Message\\r\\n  Encoded character: ðŸš€\\r\\n</div>\"]}\n+/****************************************************************************************************\n+ * PARTIAL FILE: escaped_chars.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class TestCmp {\n+    static Éµfac: i0.ÉµÉµFactoryDef<TestCmp, never>;\n+    static Éµcmp: i0.ÉµÉµComponentDefWithMeta<TestCmp, \"test-cmp\", never, {}, {}, never, never>;\n+}\n+"
        },
        {
            "sha": "f6abe9469d94028500798b62dcfcf121e356b38d",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/TEST_CASES.json",
            "status": "added",
            "additions": 121,
            "deletions": 0,
            "changes": 121,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FTEST_CASES.json",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FTEST_CASES.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FTEST_CASES.json?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,121 @@\n+{\n+  \"$schema\": \"../../test_case_schema.json\",\n+  \"cases\": [\n+    {\n+      \"description\": \"should create external template source-mapping (full compile)\",\n+      \"inputFiles\": [\n+        \"external_template.ts\"\n+      ],\n+      \"compilationModeFilter\": [\n+        \"full compile\"\n+      ],\n+      \"compilerOptions\": {\n+        \"sourceMap\": true,\n+        \"inlineSources\": true\n+      }\n+    },\n+    {\n+      \"description\": \"should create external template source-mapping (linked compile)\",\n+      \"inputFiles\": [\n+        \"external_template.ts\"\n+      ],\n+      \"expectations\": [\n+        {\n+          \"files\": [\n+            {\n+              \"generated\": \"external_template.js\",\n+              \"expected\": \"external_template_partial.js\"\n+            }\n+          ]\n+        }\n+      ],\n+      \"compilationModeFilter\": [\n+        \"linked compile\"\n+      ],\n+      \"compilerOptions\": {\n+        \"sourceMap\": true,\n+        \"inlineSources\": true\n+      }\n+    },\n+    {\n+      \"description\": \"should create correct mappings when templateUrl is in a different rootDir (full compile)\",\n+      \"inputFiles\": [\n+        \"extra_root_dir.ts\"\n+      ],\n+      \"compilationModeFilter\": [\n+        \"full compile\"\n+      ],\n+      \"compilerOptions\": {\n+        \"sourceMap\": true,\n+        \"inlineSources\": true,\n+        \"rootDirs\": [\n+          \".\",\n+          \"extraRootDir\"\n+        ]\n+      }\n+    },\n+    {\n+      \"description\": \"should create correct mappings when templateUrl is in a different rootDir (linked compile)\",\n+      \"inputFiles\": [\n+        \"extra_root_dir.ts\"\n+      ],\n+      \"compilationModeFilter\": [\n+        \"linked compile\"\n+      ],\n+      \"expectations\": [\n+        {\n+          \"files\": [\n+            {\n+              \"generated\": \"extra_root_dir.js\",\n+              \"expected\": \"extra_root_dir_partial.js\"\n+            }\n+          ]\n+        }\n+      ],\n+      \"compilerOptions\": {\n+        \"sourceMap\": true,\n+        \"inlineSources\": true,\n+        \"rootDirs\": [\n+          \".\",\n+          \"extraRootDir\"\n+        ]\n+      }\n+    },\n+    {\n+      \"description\": \"should handle unusual escaped chars when source-mapping (full compile)\",\n+      \"inputFiles\": [\n+        \"escaped_chars.ts\"\n+      ],\n+      \"compilationModeFilter\": [\n+        \"full compile\"\n+      ],\n+      \"compilerOptions\": {\n+        \"sourceMap\": true,\n+        \"inlineSources\": true\n+      }\n+    },\n+    {\n+      \"description\": \"should handle unusual escaped chars when source-mapping (linked compile)\",\n+      \"inputFiles\": [\n+        \"escaped_chars.ts\"\n+      ],\n+      \"expectations\": [\n+        {\n+          \"files\": [\n+            {\n+              \"generated\": \"escaped_chars.js\",\n+              \"expected\": \"escaped_chars_partial.js\"\n+            }\n+          ]\n+        }\n+      ],\n+      \"compilationModeFilter\": [\n+        \"linked compile\"\n+      ],\n+      \"compilerOptions\": {\n+        \"sourceMap\": true,\n+        \"inlineSources\": true\n+      }\n+    }\n+  ]\n+}"
        },
        {
            "sha": "52c8532fbb7fd3606af57714c761f807f2a1caf2",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/dir/test.html",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fdir%2Ftest.html",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fdir%2Ftest.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fdir%2Ftest.html?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,2 @@\n+<div>this is a test</div>\n+<div>{{ 1 + 2 }}</div>\n\\ No newline at end of file"
        },
        {
            "sha": "c9065ed6711810c410034eb886cd3fa5a86a8cc5",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/escaped_chars.html",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.html",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.html?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,8 @@\n+<!--\n+  NOTE: This template has escaped `\\r\\n` line-endings markers that will be converted to real `\\r\\n` line-ending chars when loaded from the test file-system.\n+        This conversion happens in the monkeyPatchReadFile() function, which changes `fs.readFile()`.\n+-->\n+<div>\\r\\n\n+  Some Message\\r\\n\n+  Encoded character: ðŸš€\\r\\n\n+</div>\n\\ No newline at end of file"
        },
        {
            "sha": "51a98de501424593c6798e67bc4c3c7cfef60aca",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/escaped_chars.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,6 @@\n+i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/escaped_chars.html\" <div>\\r\\n  \n+â€¦\n+// NOTE: the `\\\\r\\\\n` at the end of the next line will be unescaped to `\\r\\n`. If it was just `\\r\\n` it would get unescaped to the actual characters.\n+i0.ÉµÉµtext(1, \" Some Message Encoded character: \\uD83D\\uDE80\\\\n\") // SOURCE: \"/escaped_chars.html\" Some Message\\r\\n  Encoded character: ðŸš€\\\\r\\\\n\n+â€¦\n+i0.ÉµÉµelementEnd() // SOURCE: \"/escaped_chars.html\" </div>"
        },
        {
            "sha": "a154b2593e27e821f6abcb7bf56ace5de45c50ac",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/escaped_chars.ts",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.ts?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,8 @@\n+import {Component} from '@angular/core';\n+\n+@Component({\n+  selector: 'test-cmp',\n+  templateUrl: './escaped_chars.html',\n+})\n+export class TestCmp {\n+}"
        },
        {
            "sha": "7323175318a2ec20611e1c662520ed2a5e78819b",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/escaped_chars_partial.js",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars_partial.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars_partial.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars_partial.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,6 @@\n+.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/escaped_chars.html\" <div>\\r\\n  \n+â€¦\n+// NOTE: the `\\\\r\\\\n` at the end of the next line will be unescaped to `\\r\\n`. If it was just `\\r\\n` it would get unescaped to the actual characters.\n+.ÉµÉµtext(1, \" Some Message Encoded character: \\uD83D\\uDE80\\\\n\") // SOURCE: \"/escaped_chars.html\" Some Message\\r\\n  Encoded character: ðŸš€\\\\r\\\\n\n+â€¦\n+.ÉµÉµelementEnd() // SOURCE: \"/escaped_chars.html\" </div>"
        },
        {
            "sha": "6b3728b3254651c374db24deeb47907f642ab51a",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/external_template.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,13 @@\n+i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/dir/test.html\" <div>\n+â€¦\n+i0.ÉµÉµtext(1, \"this is a test\") // SOURCE: \"/dir/test.html\" this is a test\n+â€¦\n+i0.ÉµÉµelementEnd() // SOURCE: \"/dir/test.html\" </div>\n+â€¦\n+i0.ÉµÉµelementStart(2, \"div\") // SOURCE: \"/dir/test.html\" <div>\n+â€¦\n+i0.ÉµÉµtext(3) // SOURCE: \"/dir/test.html\" {{ 1 + 2 }}\n+â€¦\n+i0.ÉµÉµelementEnd() // SOURCE: \"/dir/test.html\" </div>\n+â€¦\n+i0.ÉµÉµtextInterpolate(1 + 2) // SOURCE: \"/dir/test.html\" {{ 1 + 2 }}"
        },
        {
            "sha": "7b40a2e552e9f9607e0f3a6e3e20201d9feb84a0",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/external_template.ts",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template.ts?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,8 @@\n+import {Component} from '@angular/core';\n+\n+@Component({\n+  selector: 'test-cmp',\n+  templateUrl: './dir/test.html',\n+})\n+export class TestCmp {\n+}"
        },
        {
            "sha": "ce85a291bf0fcf9266daaf221ea76cec0bd2cd73",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/external_template_partial.js",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template_partial.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template_partial.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fexternal_template_partial.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,14 @@\n+.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/dir/test.html\" <div>\n+â€¦\n+.ÉµÉµtext(1, \"this is a test\") // SOURCE: \"/dir/test.html\" this is a test\n+â€¦\n+.ÉµÉµelementEnd() // SOURCE: \"/dir/test.html\" </div>\\n\n+â€¦\n+.ÉµÉµelementStart(2, \"div\") // SOURCE: \"/dir/test.html\" <div>\n+â€¦\n+.ÉµÉµtext(3) // SOURCE: \"/dir/test.html\" {{ 1 + 2 }}\n+â€¦\n+// TODO: Work out how to fix the broken segment for the last item in a template\n+.ÉµÉµelementEnd() // SOURCE: \"/dir/test.html\" </div>\n+â€¦\n+.ÉµÉµtextInterpolate(1 + 2) // SOURCE: \"/dir/test.html\" {{ 1 + 2 }}"
        },
        {
            "sha": "52c8532fbb7fd3606af57714c761f807f2a1caf2",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/extraRootDir/dir/extra.html",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FextraRootDir%2Fdir%2Fextra.html",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FextraRootDir%2Fdir%2Fextra.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2FextraRootDir%2Fdir%2Fextra.html?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,2 @@\n+<div>this is a test</div>\n+<div>{{ 1 + 2 }}</div>\n\\ No newline at end of file"
        },
        {
            "sha": "6611e6336c34e5590c3c72908c3a52699ab7d0b4",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/extra_root_dir.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,13 @@\n+i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/extraRootDir/dir/extra.html\" <div>\n+â€¦\n+i0.ÉµÉµtext(1, \"this is a test\") // SOURCE: \"/extraRootDir/dir/extra.html\" this is a test\n+â€¦\n+i0.ÉµÉµelementEnd() // SOURCE: \"/extraRootDir/dir/extra.html\" </div>\n+â€¦\n+i0.ÉµÉµelementStart(2, \"div\") // SOURCE: \"/extraRootDir/dir/extra.html\" <div>\n+â€¦\n+i0.ÉµÉµtext(3) // SOURCE: \"/extraRootDir/dir/extra.html\" {{ 1 + 2 }}\n+â€¦\n+i0.ÉµÉµelementEnd() // SOURCE: \"/extraRootDir/dir/extra.html\" </div>\n+â€¦\n+i0.ÉµÉµtextInterpolate(1 + 2) // SOURCE: \"/extraRootDir/dir/extra.html\" {{ 1 + 2 }}"
        },
        {
            "sha": "fc04db461f91d651a43745f1a5978997db4ce84c",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/extra_root_dir.ts",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir.ts?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,8 @@\n+import {Component} from '@angular/core';\n+\n+@Component({\n+  selector: 'test-cmp',\n+  templateUrl: './dir/extra.html',\n+})\n+export class TestCmp {\n+}"
        },
        {
            "sha": "b7216ad0db0cd6d76e1fbc54d5e515751dc07d6d",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/extra_root_dir_partial.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir_partial.js",
            "raw_url": "https://github.com/angular/angular/raw/0fd06e5ab817aa138be13a4ae1288f6818ed3b9c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir_partial.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fextra_root_dir_partial.js?ref=0fd06e5ab817aa138be13a4ae1288f6818ed3b9c",
            "patch": "@@ -0,0 +1,13 @@\n+.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/extraRootDir/dir/extra.html\" <div>\n+â€¦\n+.ÉµÉµtext(1, \"this is a test\") // SOURCE: \"/extraRootDir/dir/extra.html\" this is a test\n+â€¦\n+.ÉµÉµelementEnd() // SOURCE: \"/extraRootDir/dir/extra.html\" </div>\\n\n+â€¦\n+.ÉµÉµelementStart(2, \"div\") // SOURCE: \"/extraRootDir/dir/extra.html\" <div>\n+â€¦\n+.ÉµÉµtext(3) // SOURCE: \"/extraRootDir/dir/extra.html\" {{ 1 + 2 }}\n+â€¦\n+.ÉµÉµelementEnd() // SOURCE: \"/extraRootDir/dir/extra.html\" </div>\n+â€¦\n+.ÉµÉµtextInterpolate(1 + 2) // SOURCE: \"/extraRootDir/dir/extra.html\" {{ 1 + 2 }}"
        }
    ],
    "stats": {
        "total": 402,
        "additions": 402,
        "deletions": 0
    }
}