{
    "author": "umairhm",
    "message": "docs(core): improve applicationref.bootstrap docs (#42407)\n\nadd proper examples and update usage notes\nadd references to the method at relevant places in the docs\n\nPR Close #42407",
    "sha": "8a67770687130193d07de13a1b3164245b0b1ad6",
    "files": [
        {
            "sha": "3b3974fc41397b33e90760a093b5310d014c1ff0",
            "filename": "aio/content/guide/bootstrapping.md",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/8a67770687130193d07de13a1b3164245b0b1ad6/aio%2Fcontent%2Fguide%2Fbootstrapping.md",
            "raw_url": "https://github.com/angular/angular/raw/8a67770687130193d07de13a1b3164245b0b1ad6/aio%2Fcontent%2Fguide%2Fbootstrapping.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fbootstrapping.md?ref=8a67770687130193d07de13a1b3164245b0b1ad6",
            "patch": "@@ -165,7 +165,10 @@ most applications have only one component tree and bootstrap a single root compo\n This one root component is usually called `AppComponent` and is in the\n root module's `bootstrap` array.\n \n-\n+In a situation where you want to bootstrap a component based on an API response,\n+or you want to mount the `AppComponent` in a different DOM node that doesn't match\n+the component selector, please refer to `ApplicationRef.bootstrap()`\n+documentation.\n \n ## More about Angular Modules\n "
        },
        {
            "sha": "c08827237f8d543b0886f0500a98bdd3dc74a8af",
            "filename": "packages/core/src/application_ref.ts",
            "status": "modified",
            "additions": 28,
            "deletions": 7,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/8a67770687130193d07de13a1b3164245b0b1ad6/packages%2Fcore%2Fsrc%2Fapplication_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/8a67770687130193d07de13a1b3164245b0b1ad6/packages%2Fcore%2Fsrc%2Fapplication_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fapplication_ref.ts?ref=8a67770687130193d07de13a1b3164245b0b1ad6",
            "patch": "@@ -682,20 +682,41 @@ export class ApplicationRef {\n   }\n \n   /**\n-   * Bootstrap a new component at the root level of the application.\n+   * Bootstrap a component onto the element identified by its selector or, optionally, to a\n+   * specified element.\n    *\n    * @usageNotes\n    * ### Bootstrap process\n    *\n-   * When bootstrapping a new root component into an application, Angular mounts the\n-   * specified application component onto DOM elements identified by the componentType's\n-   * selector and kicks off automatic change detection to finish initializing the component.\n+   * When bootstrapping a component, Angular mounts it onto a target DOM element\n+   * and kicks off automatic change detection. The target DOM element can be\n+   * provided using the `rootSelectorOrNode` argument.\n    *\n-   * Optionally, a component can be mounted onto a DOM element that does not match the\n-   * componentType's selector.\n+   * If the target DOM element is not provided, Angular tries to find one on a page\n+   * using the `selector` of the component that is being bootstrapped\n+   * (first matched element is used).\n    *\n    * ### Example\n-   * {@example core/ts/platform/platform.ts region='longform'}\n+   *\n+   * Generally, we define the component to bootstrap in the `bootstrap` array of `NgModule`,\n+   * but it requires us to know the component while writing the application code.\n+   *\n+   * Imagine a situation where we have to wait for an API call to decide about the component to\n+   * bootstrap. We can use the `ngDoBootstrap` hook of the `NgModule` and call this method to\n+   * dynamically bootstrap a component.\n+   *\n+   * {@example core/ts/platform/platform.ts region='componentSelector'}\n+   *\n+   * Optionally, a component can be mounted onto a DOM element that does not match the\n+   * selector of the bootstrapped component.\n+   *\n+   * In the following example, we are providing a CSS selector to match the target element.\n+   *\n+   * {@example core/ts/platform/platform.ts region='cssSelector'}\n+   *\n+   * While in this example, we are providing reference to a DOM node.\n+   *\n+   * {@example core/ts/platform/platform.ts region='domNode'}\n    */\n   bootstrap<C>(componentOrFactory: ComponentFactory<C>|Type<C>, rootSelectorOrNode?: string|any):\n       ComponentRef<C> {"
        },
        {
            "sha": "39921b3c348f5e7ddda36ad69bd94e7eb9d6a17a",
            "filename": "packages/core/src/metadata/do_boostrap.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8a67770687130193d07de13a1b3164245b0b1ad6/packages%2Fcore%2Fsrc%2Fmetadata%2Fdo_boostrap.ts",
            "raw_url": "https://github.com/angular/angular/raw/8a67770687130193d07de13a1b3164245b0b1ad6/packages%2Fcore%2Fsrc%2Fmetadata%2Fdo_boostrap.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fmetadata%2Fdo_boostrap.ts?ref=8a67770687130193d07de13a1b3164245b0b1ad6",
            "patch": "@@ -19,6 +19,9 @@ import {ApplicationRef} from '../application_ref';\n  * See [\"Bootstrapping\"](guide/bootstrapping) and [\"Entry components\"](guide/entry-components).\n  *\n  * @usageNotes\n+ * The example below uses `ApplicationRef.bootstrap()` to render the\n+ * `AppComponent` on the page.\n+ *\n  * ```typescript\n  * class AppModule implements DoBootstrap {\n  *   ngDoBootstrap(appRef: ApplicationRef) {"
        },
        {
            "sha": "3b3a01e8a05be148bbe8fe7d4cb47fd855f865c7",
            "filename": "packages/examples/core/ts/platform/platform.ts",
            "status": "modified",
            "additions": 69,
            "deletions": 8,
            "changes": 77,
            "blob_url": "https://github.com/angular/angular/blob/8a67770687130193d07de13a1b3164245b0b1ad6/packages%2Fexamples%2Fcore%2Fts%2Fplatform%2Fplatform.ts",
            "raw_url": "https://github.com/angular/angular/raw/8a67770687130193d07de13a1b3164245b0b1ad6/packages%2Fexamples%2Fcore%2Fts%2Fplatform%2Fplatform.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fexamples%2Fcore%2Fts%2Fplatform%2Fplatform.ts?ref=8a67770687130193d07de13a1b3164245b0b1ad6",
            "patch": "@@ -6,14 +6,75 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {Component, createPlatformFactory} from '@angular/core';\n-import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n+import {ApplicationRef, Component, DoBootstrap, NgModule, Type} from '@angular/core';\n+import {BrowserModule} from '@angular/platform-browser';\n \n-// #docregion longform\n-@Component({selector: 'app-root', template: 'Hello World'})\n-class MyApp {\n+@Component({\n+  selector: 'app-root',\n+  template: ` <h1>Component One</h1> `,\n+})\n+export class ComponentOne {\n }\n \n-const myPlatformFactory = createPlatformFactory(platformBrowserDynamic, 'myPlatform');\n-myPlatformFactory().bootstrapModule(MyApp);\n-// #enddocregion\n+@Component({\n+  selector: 'app-root',\n+  template: ` <h1>Component Two</h1> `,\n+})\n+export class ComponentTwo {\n+}\n+\n+@Component({\n+  selector: 'app-root',\n+  template: ` <h1>Component Three</h1> `,\n+})\n+export class ComponentThree {\n+}\n+\n+@Component({\n+  selector: 'app-root',\n+  template: ` <h1>Component Four</h1> `,\n+})\n+export class ComponentFour {\n+}\n+\n+@NgModule({imports: [BrowserModule], declarations: [ComponentOne, ComponentTwo]})\n+export class AppModule implements DoBootstrap {\n+  // #docregion componentSelector\n+  ngDoBootstrap(appRef: ApplicationRef) {\n+    this.fetchDataFromApi().then((componentName: string) => {\n+      if (componentName === 'ComponentOne') {\n+        appRef.bootstrap(ComponentOne);\n+      } else {\n+        appRef.bootstrap(ComponentTwo);\n+      }\n+    });\n+  }\n+  // #enddocregion\n+\n+  fetchDataFromApi(): Promise<string> {\n+    return new Promise((resolve) => {\n+      setTimeout(() => {\n+        resolve('ComponentTwo');\n+      }, 2000);\n+    });\n+  }\n+}\n+\n+@NgModule({imports: [BrowserModule], declarations: [ComponentThree]})\n+export class AppModuleTwo implements DoBootstrap {\n+  // #docregion cssSelector\n+  ngDoBootstrap(appRef: ApplicationRef) {\n+    appRef.bootstrap(ComponentThree, '#root-element');\n+  }\n+  // #enddocregion cssSelector\n+}\n+\n+@NgModule({imports: [BrowserModule], declarations: [ComponentFour]})\n+export class AppModuleThree implements DoBootstrap {\n+  // #docregion domNode\n+  ngDoBootstrap(appRef: ApplicationRef) {\n+    const element = document.querySelector('#root-element');\n+    appRef.bootstrap(ComponentFour, element);\n+  }\n+  // #enddocregion domNode\n+}"
        }
    ],
    "stats": {
        "total": 120,
        "additions": 104,
        "deletions": 16
    }
}