{
    "author": "devversion",
    "message": "build: switch all instances from `ng_rollup_bundle` to `app_bundle` (#44490)\n\nThe `ng_rollup_bundle` rule has been replaced with a new rule called\n`app_bundle`. This rule replicates the Angular v13 optimization\npipeline in the CLI, so that we can get better benchmarking results.\nAlso the rule is much simpler to maintain as it relies on ESbuild.\n\nThe old `ng_rollup_bundle` rule did rely on e.g. build-optimizer that no\nlonger has an effect on v13 Angular packages, so technically size\ntests/symbol tests were no longer as correct as they were before. This\ncommit fixes that.\n\nA couple of different changes and their explanation:\n\n* Language-service will no longer use the benchmark rule for creating\n  its NPM bundles! It will use plain `rollup_bundle`. ESBuild would have\n  been nice but the language-service relies on AMD that ESBuild cannot\n  generate (yet?)\n\n* Service-worker ngsw-worker.js file was generated using the benchmark\n  bundle rule. This is wrong. We will use a simple ESbuild rule in the\n  future. The output is more predictable that way, and we can have a\n  clear use of the benchmark bundle rule..\n\n* A couple of benchmarks in `modules/` had to be updated to use e.g.\n  `initTableUtils` calls. This is done because with the new rule, all\n  files except for the entry-point are considered side-effect free. The\n  utilities for benchmarks relied on side-effects in some\n  transitively-loaded file (bad practice anyway IMO). We are now\n  initializing the utilities using a proper init function that is\n  exported...\n\nPR Close #44490",
    "sha": "c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
    "files": [
        {
            "sha": "aef47976b44bc7f136d4380a23241acc2e0a3a6f",
            "filename": "modules/benchmarks/src/change_detection/transplanted_views/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fchange_detection%2Ftransplanted_views%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fchange_detection%2Ftransplanted_views%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fchange_detection%2Ftransplanted_views%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n load(\"//modules/benchmarks:e2e_test.bzl\", \"e2e_test\")\n \n@@ -18,7 +18,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -32,7 +32,7 @@ ts_devserver(\n     bootstrap = [\"//packages/zone.js/bundles:zone.umd.js\"],\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n benchmark_test("
        },
        {
            "sha": "935d200559959979136a36e40fdaf36f6526b67b",
            "filename": "modules/benchmarks/src/expanding_rows/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\", \"ts_library\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n \n package(default_visibility = [\"//modules/benchmarks:__subpackages__\"])\n@@ -31,7 +31,7 @@ ts_library(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -45,7 +45,7 @@ ts_devserver(\n     bootstrap = [\"//packages/zone.js/bundles:zone.umd.js\"],\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n ts_devserver("
        },
        {
            "sha": "afcb4cc30be8ebc92e4dda331c50dd9ab11a6371",
            "filename": "modules/benchmarks/src/js-web-frameworks/ng2/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fjs-web-frameworks%2Fng2%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fjs-web-frameworks%2Fng2%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fjs-web-frameworks%2Fng2%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n \n package(default_visibility = [\"//modules/benchmarks:__subpackages__\"])\n@@ -15,7 +15,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -29,7 +29,7 @@ ts_devserver(\n     bootstrap = [\"//packages/zone.js/bundles:zone.umd.js\"],\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n benchmark_test("
        },
        {
            "sha": "6f58ac7c25ef4567d1ad3790f3510a3f4c7b93e1",
            "filename": "modules/benchmarks/src/largetable/baseline/index.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fbaseline%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fbaseline%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fbaseline%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,7 +7,8 @@\n  */\n \n import {bindAction, profile} from '../../util';\n-import {buildTable, emptyTable} from '../util';\n+import {buildTable, emptyTable, initTableUtils} from '../util';\n+\n import {TableComponent} from './table';\n \n let table: TableComponent;\n@@ -27,6 +28,8 @@ function init() {\n   rootEl.textContent = '';\n   table = new TableComponent(rootEl);\n \n+  initTableUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n "
        },
        {
            "sha": "81bb3074526326bb0d480c59daa8f7e797f4b688",
            "filename": "modules/benchmarks/src/largetable/incremental_dom/index.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fincremental_dom%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fincremental_dom%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fincremental_dom%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,7 +7,8 @@\n  */\n \n import {bindAction, profile} from '../../util';\n-import {buildTable, emptyTable} from '../util';\n+import {buildTable, emptyTable, initTableUtils} from '../util';\n+\n import {TableComponent} from './table';\n \n let table: TableComponent;\n@@ -25,6 +26,8 @@ function noop() {}\n function init() {\n   table = new TableComponent(document.querySelector('largetable'));\n \n+  initTableUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n "
        },
        {
            "sha": "ab1ae30049959592ee5ddf017f63968ec91a68a4",
            "filename": "modules/benchmarks/src/largetable/ng2/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n load(\"//modules/benchmarks:e2e_test.bzl\", \"e2e_test\")\n \n@@ -21,7 +21,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -35,7 +35,7 @@ ts_devserver(\n     bootstrap = [\"//packages/zone.js/bundles:zone.umd.js\"],\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n benchmark_test("
        },
        {
            "sha": "78050c32281f969a4e9b62bd6ee6b3fed9cee4e0",
            "filename": "modules/benchmarks/src/largetable/ng2/init.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2%2Finit.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2%2Finit.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2%2Finit.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -9,7 +9,7 @@\n import {ApplicationRef, NgModuleRef} from '@angular/core';\n \n import {bindAction, profile} from '../../util';\n-import {buildTable, emptyTable} from '../util';\n+import {buildTable, emptyTable, initTableUtils} from '../util';\n \n import {AppModule, TableComponent} from './table';\n \n@@ -31,8 +31,10 @@ export function init(moduleRef: NgModuleRef<AppModule>) {\n \n   const injector = moduleRef.injector;\n   appRef = injector.get(ApplicationRef);\n-\n   table = appRef.components[0].instance;\n+\n+  initTableUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n   bindAction('#updateDomProfile', profile(createDom, noop, 'update'));"
        },
        {
            "sha": "78050c32281f969a4e9b62bd6ee6b3fed9cee4e0",
            "filename": "modules/benchmarks/src/largetable/ng2_switch/init.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2_switch%2Finit.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2_switch%2Finit.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Fng2_switch%2Finit.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -9,7 +9,7 @@\n import {ApplicationRef, NgModuleRef} from '@angular/core';\n \n import {bindAction, profile} from '../../util';\n-import {buildTable, emptyTable} from '../util';\n+import {buildTable, emptyTable, initTableUtils} from '../util';\n \n import {AppModule, TableComponent} from './table';\n \n@@ -31,8 +31,10 @@ export function init(moduleRef: NgModuleRef<AppModule>) {\n \n   const injector = moduleRef.injector;\n   appRef = injector.get(ApplicationRef);\n-\n   table = appRef.components[0].instance;\n+\n+  initTableUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n   bindAction('#updateDomProfile', profile(createDom, noop, 'update'));"
        },
        {
            "sha": "ff0d86d1e9903e19c0ab366fc4b6306ddcb7e95b",
            "filename": "modules/benchmarks/src/largetable/render3/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Frender3%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Frender3%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Frender3%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n load(\"//modules/benchmarks:e2e_test.bzl\", \"e2e_test\")\n \n@@ -19,7 +19,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -33,7 +33,7 @@ ts_devserver(\n     port = 4200,\n     static_files = [\"index.html\"],\n     deps = [\n-        \":bundle.min_debug.js\",\n+        \":bundle.debug.min.js\",\n     ],\n )\n "
        },
        {
            "sha": "9c041843d3b84c383312a04cb21f12aab87eb89d",
            "filename": "modules/benchmarks/src/largetable/render3/index_aot.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Frender3%2Findex_aot.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Frender3%2Findex_aot.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Frender3%2Findex_aot.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -8,6 +8,7 @@\n import {ɵrenderComponent as renderComponent} from '@angular/core';\n \n import {bindAction, profile} from '../../util';\n+import {initTableUtils} from '../util';\n \n import {createDom, destroyDom, LargeTableComponent} from './table';\n \n@@ -17,6 +18,9 @@ export function main() {\n   let component: LargeTableComponent;\n   if (typeof window !== 'undefined') {\n     component = renderComponent<LargeTableComponent>(LargeTableComponent);\n+\n+    initTableUtils();\n+\n     bindAction('#createDom', () => createDom(component));\n     bindAction('#destroyDom', () => destroyDom(component));\n     bindAction('#updateDomProfile', profile(() => createDom(component), noop, 'update'));"
        },
        {
            "sha": "97451f8f297b3b9b33be702d11d969c65e7c6f45",
            "filename": "modules/benchmarks/src/largetable/util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Flargetable%2Futil.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -18,9 +18,7 @@ let maxCol: number;\n let numberData: TableCell[][];\n let charData: TableCell[][];\n \n-init();\n-\n-function init() {\n+export function initTableUtils() {\n   maxRow = getIntParameter('rows');\n   maxCol = getIntParameter('cols');\n   tableCreateCount = 0;"
        },
        {
            "sha": "ce1bdfa8d0a5e3cb5a562d7444995488694f850f",
            "filename": "modules/benchmarks/src/styling/ng2/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fstyling%2Fng2%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fstyling%2Fng2%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fstyling%2Fng2%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n \n package(default_visibility = [\"//modules/benchmarks:__subpackages__\"])\n@@ -15,7 +15,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -29,7 +29,7 @@ ts_devserver(\n     bootstrap = [\"//packages/zone.js/bundles:zone.umd.js\"],\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n benchmark_test("
        },
        {
            "sha": "86eb043a2cd81167f45840d02e5b4a1e6f215708",
            "filename": "modules/benchmarks/src/styling/ng2/init.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 7,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fstyling%2Fng2%2Finit.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fstyling%2Fng2%2Finit.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fstyling%2Fng2%2Finit.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,15 +7,10 @@\n  */\n \n import {ApplicationRef, NgModuleRef} from '@angular/core';\n-import {bindAction, profile} from '../../util';\n-import {StylingModule} from './styling';\n \n-const empty = [];\n-const items = [];\n-for (let i = 0; i < 2000; i++) {\n-  items.push(i);\n-}\n+import {bindAction, profile} from '../../util';\n \n+import {StylingModule} from './styling';\n \n export function init(moduleRef: NgModuleRef<StylingModule>) {\n   const injector = moduleRef.injector;\n@@ -25,6 +20,9 @@ export function init(moduleRef: NgModuleRef<StylingModule>) {\n   const componentHostEl = componentRef.location.nativeElement;\n   const select = document.querySelector('#scenario-select')! as HTMLSelectElement;\n \n+  const empty = [];\n+  const items = [];\n+\n   function create(tplRefIdx: number) {\n     component.tplRefIdx = tplRefIdx;\n     component.data = items;\n@@ -57,6 +55,10 @@ export function init(moduleRef: NgModuleRef<StylingModule>) {\n     });\n   }\n \n+  for (let i = 0; i < 2000; i++) {\n+    items.push(i);\n+  }\n+\n   bindAction('#create', () => create(select.selectedIndex));\n   bindAction('#update', update);\n   bindAction('#detect_changes', detectChanges);"
        },
        {
            "sha": "6d998987810691b6b23f94ed7d4660ccd4f7f8fb",
            "filename": "modules/benchmarks/src/tree/baseline/index.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fbaseline%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fbaseline%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fbaseline%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,7 +7,8 @@\n  */\n \n import {bindAction, profile} from '../../util';\n-import {buildTree, emptyTree} from '../util';\n+import {buildTree, emptyTree, initTreeUtils} from '../util';\n+\n import {TreeComponent} from './tree';\n \n let tree: TreeComponent;\n@@ -27,6 +28,8 @@ function init() {\n   rootEl.textContent = '';\n   tree = new TreeComponent(rootEl);\n \n+  initTreeUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n "
        },
        {
            "sha": "934e938b535361e8898818073fc7c8aa43c46b5a",
            "filename": "modules/benchmarks/src/tree/incremental_dom/index.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fincremental_dom%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fincremental_dom%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fincremental_dom%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,7 +7,8 @@\n  */\n \n import {bindAction, profile} from '../../util';\n-import {buildTree, emptyTree} from '../util';\n+import {buildTree, emptyTree, initTreeUtils} from '../util';\n+\n import {TreeComponent} from './tree';\n \n let tree: TreeComponent;\n@@ -25,6 +26,8 @@ function noop() {}\n function init() {\n   tree = new TreeComponent(document.querySelector('tree'));\n \n+  initTreeUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n "
        },
        {
            "sha": "14732150cc508378769ff97672e38a389a037d63",
            "filename": "modules/benchmarks/src/tree/ng1/index.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng1%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng1%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng1%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,7 +7,7 @@\n  */\n \n import {bindAction, profile} from '../../util';\n-import {buildTree, emptyTree} from '../util';\n+import {buildTree, emptyTree, initTreeUtils} from '../util';\n \n import {addTreeToModule} from './tree';\n \n@@ -42,6 +42,8 @@ function init() {\n         });\n       }\n \n+      initTreeUtils();\n+\n       bindAction('#destroyDom', destroyDom);\n       bindAction('#createDom', createDom);\n       bindAction('#detectChanges', detectChanges);"
        },
        {
            "sha": "e3d9834c0559e4bddd9de833cae13a94b136ae9d",
            "filename": "modules/benchmarks/src/tree/ng2/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n load(\"//modules/benchmarks:e2e_test.bzl\", \"e2e_test\")\n \n@@ -21,7 +21,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -35,7 +35,7 @@ ts_devserver(\n     bootstrap = [\"//packages/zone.js/bundles:zone.umd.js\"],\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n benchmark_test("
        },
        {
            "sha": "a00d21367f968246c4b48c5b69ff7d4a8c9e480c",
            "filename": "modules/benchmarks/src/tree/ng2/init.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2%2Finit.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2%2Finit.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2%2Finit.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -9,7 +9,7 @@\n import {ApplicationRef, NgModuleRef} from '@angular/core';\n \n import {bindAction, profile} from '../../util';\n-import {buildTree, emptyTree} from '../util';\n+import {buildTree, emptyTree, initTreeUtils} from '../util';\n \n import {AppModule, TreeComponent} from './tree';\n \n@@ -44,6 +44,8 @@ export function init(moduleRef: NgModuleRef<AppModule>) {\n \n   tree = appRef.components[0].instance;\n \n+  initTreeUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n   bindAction('#detectChanges', detectChanges);"
        },
        {
            "sha": "b6dfce1551a5655ae4455f5cb737205658f40398",
            "filename": "modules/benchmarks/src/tree/ng2_static/index.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_static%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_static%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_static%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -10,9 +10,9 @@ import {ApplicationRef, enableProdMode} from '@angular/core';\n import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n \n import {bindAction, profile} from '../../util';\n-import {buildTree, emptyTree} from '../util';\n+import {buildTree, emptyTree, initTreeUtils} from '../util';\n \n-import {AppModule, RootTreeComponent} from './tree';\n+import {createAppModule, RootTreeComponent} from './tree';\n \n let tree: RootTreeComponent;\n let appRef: ApplicationRef;\n@@ -30,12 +30,17 @@ function createDom() {\n function noop() {}\n \n function init() {\n+  initTreeUtils();\n   enableProdMode();\n-  platformBrowserDynamic().bootstrapModule(AppModule).then((ref) => {\n+\n+  const appModule = createAppModule();\n+\n+  platformBrowserDynamic().bootstrapModule(appModule).then((ref) => {\n     const injector = ref.injector;\n-    appRef = injector.get(ApplicationRef);\n \n+    appRef = injector.get(ApplicationRef);\n     tree = appRef.components[0].instance;\n+\n     bindAction('#destroyDom', destroyDom);\n     bindAction('#createDom', createDom);\n     bindAction('#updateDomProfile', profile(createDom, noop, 'update'));"
        },
        {
            "sha": "44315b72dfd55b78b2a4c38164e1848bd11051cd",
            "filename": "modules/benchmarks/src/tree/ng2_static/tree.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_static%2Ftree.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_static%2Ftree.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_static%2Ftree.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -38,7 +38,7 @@ export class RootTreeComponent {\n   @Input() data: TreeNode = emptyTree;\n }\n \n-function createModule(): any {\n+export function createAppModule(): any {\n   const components: any[] = [RootTreeComponent];\n   for (let i = 0; i <= getMaxDepth(); i++) {\n     components.push(createTreeComponent(i, i === getMaxDepth()));\n@@ -54,5 +54,3 @@ function createModule(): any {\n \n   return AppModule;\n }\n-\n-export const AppModule = createModule();"
        },
        {
            "sha": "ab873f4e973be875004c1564fe3c2ce9893dfb7b",
            "filename": "modules/benchmarks/src/tree/ng2_switch/init.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_switch%2Finit.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_switch%2Finit.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Fng2_switch%2Finit.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -9,7 +9,7 @@\n import {ApplicationRef, NgModuleRef} from '@angular/core';\n \n import {bindAction, profile} from '../../util';\n-import {buildTree, emptyTree} from '../util';\n+import {buildTree, emptyTree, initTreeUtils} from '../util';\n \n import {AppModule, TreeComponent} from './tree';\n \n@@ -31,8 +31,10 @@ export function init(moduleRef: NgModuleRef<AppModule>) {\n \n   const injector = moduleRef.injector;\n   appRef = injector.get(ApplicationRef);\n-\n   tree = appRef.components[0].instance;\n+\n+  initTreeUtils();\n+\n   bindAction('#destroyDom', destroyDom);\n   bindAction('#createDom', createDom);\n   bindAction('#updateDomProfile', profile(createDom, noop, 'update'));"
        },
        {
            "sha": "f1c25a9a7d33530df3781b57cca20f5ca18d1871",
            "filename": "modules/benchmarks/src/tree/render3/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Frender3%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Frender3%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Frender3%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//@angular/dev-infra-private/bazel/benchmark/component_benchmark:benchmark_test.bzl\", \"benchmark_test\")\n load(\"//modules/benchmarks:e2e_test.bzl\", \"e2e_test\")\n \n@@ -18,7 +18,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index_aot.ts\",\n     deps = [\n@@ -31,7 +31,7 @@ ts_devserver(\n     name = \"devserver\",\n     port = 4200,\n     static_files = [\"index.html\"],\n-    deps = [\":bundle.min_debug.js\"],\n+    deps = [\":bundle.debug.min.js\"],\n )\n \n benchmark_test("
        },
        {
            "sha": "bfb6843e73d2ccb84ccc8ab017f2d7aa6ff560c5",
            "filename": "modules/benchmarks/src/tree/render3/index_aot.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Frender3%2Findex_aot.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Frender3%2Findex_aot.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Frender3%2Findex_aot.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -9,6 +9,7 @@\n import {ɵrenderComponent as renderComponent} from '@angular/core';\n \n import {bindAction, profile} from '../../util';\n+import {initTreeUtils} from '../util';\n \n import {createDom, destroyDom, detectChanges, TreeComponent} from './tree';\n \n@@ -18,6 +19,9 @@ export function main() {\n   let component: TreeComponent;\n   if (typeof window !== 'undefined') {\n     component = renderComponent(TreeComponent);\n+\n+    initTreeUtils();\n+\n     bindAction('#createDom', () => createDom(component));\n     bindAction('#destroyDom', () => destroyDom(component));\n     bindAction('#detectChanges', () => detectChanges(component));"
        },
        {
            "sha": "69b7b0b98f02dad42492e5a2505ef4472129e285",
            "filename": "modules/benchmarks/src/tree/util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Ftree%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Ftree%2Futil.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -35,9 +35,7 @@ export function getMaxDepth() {\n   return maxDepth;\n }\n \n-init();\n-\n-function init() {\n+export function initTreeUtils() {\n   maxDepth = getIntParameter('depth');\n   treeCreateCount = 0;\n   numberData = _buildTree(0, numberValues);"
        },
        {
            "sha": "8f9e23ce33f48af711e11ecbcbc3aaec54b6687f",
            "filename": "modules/benchmarks/src/views/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fviews%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fviews%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fviews%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,6 +1,6 @@\n-package(default_visibility = [\"//modules/benchmarks:__subpackages__\"])\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n \n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+package(default_visibility = [\"//modules/benchmarks:__subpackages__\"])\n \n ng_module(\n     name = \"application_lib\",\n@@ -17,7 +17,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -28,7 +28,7 @@ ng_rollup_bundle(\n ts_devserver(\n     name = \"prodserver\",\n     static_files = [\n-        \":bundle.min_debug.js\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n         \"//packages/zone.js/bundles:zone.umd.js\",\n         \"index.html\","
        },
        {
            "sha": "93f6e76f20e00e3f602cca33defb4bd21d194026",
            "filename": "modules/benchmarks/src/views/index.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fviews%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/modules%2Fbenchmarks%2Fsrc%2Fviews%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fviews%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -28,7 +28,7 @@ <h1>Views traversal benchmark</h1>\n         }\n         // zone.js must be loaded and processed before Angular bundle gets executed\n         loadScript('/npm/node_modules/zone.js/bundles/zone.umd.js').then(function () {\n-          loadScript(document.location.search.endsWith('debug') ? 'bundle.min_debug.js' : 'bundle.min.js');\n+          loadScript(document.location.search.endsWith('debug') ? 'bundle.debug.min.js' : 'bundle.min.js');\n         });\n       }\n     });"
        },
        {
            "sha": "e202685a032e0a8b74e4fe4a84919663bd359472",
            "filename": "packages/compiler-cli/index.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcompiler-cli%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcompiler-cli%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -30,4 +30,10 @@ export {NgTscPlugin} from './src/ngtsc/tsc_plugin';\n export {NgtscProgram} from './src/ngtsc/program';\n export {OptimizeFor} from './src/ngtsc/typecheck/api';\n \n+// **Note**: Explicit named exports to make this file work with CJS/ESM interop without\n+// needing to use a default import. NodeJS will expose named CJS exports as named ESM exports.\n+// TODO(devversion): Remove these duplicate exports once devmode&prodmode is combined/ESM.\n+export {ConsoleLogger, Logger, LogLevel} from './src/ngtsc/logging';\n+export {NodeJSFileSystem} from './src/ngtsc/file_system';\n+\n setFileSystem(new NodeJSFileSystem());"
        },
        {
            "sha": "821a6de71dc863e7fa3792853f8639d4f981e468",
            "filename": "packages/core/test/bundling/animation_world/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fanimation_world%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fanimation_world%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fanimation_world%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\", \"ts_devserver\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -14,7 +14,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -51,7 +51,7 @@ http_server(\n         \"animation_world.css\",\n         \"base.css\",\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "edf00b994b76a4420b94631bda6059b7a6af40af",
            "filename": "packages/core/test/bundling/animation_world/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fanimation_world%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fanimation_world%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fanimation_world%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -13,19 +13,19 @@\n         Script tag which bootstraps the application. Use `?debug` in URL to select\n         the debug version of the script.\n \n-        There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can\n+        There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n         switch between which bundle the browser loads to experiment with the application.\n \n         - `bundle.min.js`: Is what the site would serve to their users. It has gone\n           through rollup, build-optimizer, and uglify with tree shaking.\n-        - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-          the application. It has also done through full pipeline of rollup, build-optimizer,\n-          and uglify, however special flags were passed to uglify to prevent inlining and\n-          property renaming.\n+        - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+          the application. It has also gone through full pipeline of esbuild, babel optimization,\n+          plugins from the devkit and terser, however mangling is disabled and the minified\n+          file is formatted using prettier (to ease debugging).\n       -->\n       <script>\n           document.write('<script src=\"' +\n-            (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js.br') +\n+            (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js.br') +\n             '\"></' + 'script>');\n       </script>\n     </body>"
        },
        {
            "sha": "4ba205ace0522616c6b2cf11f1fcc01b7732b5f6",
            "filename": "packages/core/test/bundling/core_all/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcore_all%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcore_all%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fcore_all%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ts_library\")\n load(\"//tools/size-tracking:index.bzl\", \"js_size_tracking_test\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -12,7 +12,7 @@ ts_library(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = ["
        },
        {
            "sha": "639acd35ff604281c5a9a478f0b63eba0512b189",
            "filename": "packages/core/test/bundling/cyclic_import/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_library\")\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n@@ -15,7 +15,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -40,25 +40,25 @@ ts_library(\n jasmine_node_test(\n     name = \"test\",\n     data = [\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )\n \n http_server(\n     name = \"devserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "68e0837d39458449d64d028e7e8c8adb86fb893b",
            "filename": "packages/core/test/bundling/cyclic_import/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 21,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -5,9 +5,6 @@\n   {\n     \"name\": \"ChangeDetectionStrategy\"\n   },\n-  {\n-    \"name\": \"DepComponent\"\n-  },\n   {\n     \"name\": \"EMPTY_ARRAY\"\n   },\n@@ -17,9 +14,6 @@\n   {\n     \"name\": \"InjectFlags\"\n   },\n-  {\n-    \"name\": \"Module\"\n-  },\n   {\n     \"name\": \"NG_COMP_DEF\"\n   },\n@@ -44,9 +38,6 @@\n   {\n     \"name\": \"RuntimeError\"\n   },\n-  {\n-    \"name\": \"SimpleChange\"\n-  },\n   {\n     \"name\": \"TriggerComponent\"\n   },\n@@ -92,9 +83,6 @@\n   {\n     \"name\": \"attachPatchData\"\n   },\n-  {\n-    \"name\": \"autoRegisterModuleById\"\n-  },\n   {\n     \"name\": \"callHook\"\n   },\n@@ -161,6 +149,9 @@\n   {\n     \"name\": \"generatePropertyAliases\"\n   },\n+  {\n+    \"name\": \"getBindingsEnabled\"\n+  },\n   {\n     \"name\": \"getClosureSafeProperty\"\n   },\n@@ -296,9 +287,6 @@\n   {\n     \"name\": \"ngOnChangesSetInput\"\n   },\n-  {\n-    \"name\": \"noSideEffects\"\n-  },\n   {\n     \"name\": \"refreshComponent\"\n   },\n@@ -374,12 +362,6 @@\n   {\n     \"name\": \"ɵɵdefineComponent\"\n   },\n-  {\n-    \"name\": \"ɵɵdefineInjector\"\n-  },\n-  {\n-    \"name\": \"ɵɵdefineNgModule\"\n-  },\n   {\n     \"name\": \"ɵɵelementStart\"\n   }"
        },
        {
            "sha": "002a2279d1eb79432510f47007c00e15456a3436",
            "filename": "packages/core/test/bundling/cyclic_import/index.html",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -8,24 +8,24 @@\n     <!-- The Angular application will be bootstrapped into this element. -->\n     <trigger></trigger>\n \n-    <!-- \n+    <!--\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n-      \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can \n+\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n-        document.write('<script src=\"' + \n-          (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') + \n+        document.write('<script src=\"' +\n+          (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n           '\"></' + 'script>');\n     </script>\n   </body>\n-</html>\n\\ No newline at end of file\n+</html>"
        },
        {
            "sha": "4da10badae20599a6a68239e0fc17e4735066a04",
            "filename": "packages/core/test/bundling/cyclic_import/integration_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fintegration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fintegration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fintegration_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import {withBody} from '@angular/private/testing';\n import * as fs from 'fs';\n import * as path from 'path';\n@@ -18,7 +19,7 @@ const PACKAGE = 'angular/packages/core/test/bundling/cyclic_import';\n \n describe('treeshaking with uglify', () => {\n   let content: string;\n-  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.min_debug.js'));\n+  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.debug.min.js'));\n   beforeAll(() => {\n     content = fs.readFileSync(contentPath, UTF8);\n   });\n@@ -30,7 +31,7 @@ describe('treeshaking with uglify', () => {\n        }));\n \n     it('should render hello world when debug minified', withBody('<trigger></trigger>', () => {\n-         require(path.join(PACKAGE, 'bundle.min_debug.js'));\n+         require(path.join(PACKAGE, 'bundle.debug.min.js'));\n          expect(document.body.textContent).toEqual('dep');\n        }));\n "
        },
        {
            "sha": "0ca21094c8e97d97f60489f8b1c4eeaa37c48735",
            "filename": "packages/core/test/bundling/forms_reactive/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_library\")\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n@@ -14,7 +14,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -42,25 +42,25 @@ ts_library(\n jasmine_node_test(\n     name = \"test\",\n     data = [\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )\n \n http_server(\n     name = \"prodserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "32587e1b0155532ef6605850d99a40ea4d542623",
            "filename": "packages/core/test/bundling/forms_reactive/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 20,
            "deletions": 47,
            "changes": 67,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -93,16 +93,16 @@\n     \"name\": \"ComponentFactory\"\n   },\n   {\n-    \"name\": \"ComponentFactory\"\n+    \"name\": \"ComponentFactory2\"\n   },\n   {\n     \"name\": \"ComponentFactoryResolver\"\n   },\n   {\n-    \"name\": \"ComponentFactoryResolver\"\n+    \"name\": \"ComponentFactoryResolver2\"\n   },\n   {\n-    \"name\": \"ComponentRef\"\n+    \"name\": \"ComponentRef2\"\n   },\n   {\n     \"name\": \"ConnectableObservable\"\n@@ -126,7 +126,7 @@\n     \"name\": \"DOCUMENT\"\n   },\n   {\n-    \"name\": \"DOCUMENT\"\n+    \"name\": \"DOCUMENT2\"\n   },\n   {\n     \"name\": \"DefaultDomRenderer2\"\n@@ -216,7 +216,7 @@\n     \"name\": \"FormsExampleModule\"\n   },\n   {\n-    \"name\": \"INJECTOR\"\n+    \"name\": \"INJECTOR2\"\n   },\n   {\n     \"name\": \"INJECTOR_SCOPE\"\n@@ -252,7 +252,7 @@\n     \"name\": \"LOCALE_DATA\"\n   },\n   {\n-    \"name\": \"LOCALE_ID\"\n+    \"name\": \"LOCALE_ID2\"\n   },\n   {\n     \"name\": \"LifecycleHooksFeature\"\n@@ -278,9 +278,6 @@\n   {\n     \"name\": \"MergeMapSubscriber\"\n   },\n-  {\n-    \"name\": \"ModuleWithComponentFactories\"\n-  },\n   {\n     \"name\": \"NAMESPACE_URIS\"\n   },\n@@ -356,23 +353,20 @@\n   {\n     \"name\": \"NgForOf\"\n   },\n-  {\n-    \"name\": \"NgForOfContext\"\n-  },\n   {\n     \"name\": \"NgLocaleLocalization\"\n   },\n   {\n     \"name\": \"NgLocalization\"\n   },\n   {\n-    \"name\": \"NgModuleFactory\"\n+    \"name\": \"NgModuleFactory2\"\n   },\n   {\n     \"name\": \"NgModuleRef\"\n   },\n   {\n-    \"name\": \"NgModuleRef\"\n+    \"name\": \"NgModuleRef2\"\n   },\n   {\n     \"name\": \"NgOnChangesFeatureImpl\"\n@@ -386,9 +380,6 @@\n   {\n     \"name\": \"NodeInjectorFactory\"\n   },\n-  {\n-    \"name\": \"NoopNgZone\"\n-  },\n   {\n     \"name\": \"NullInjector\"\n   },\n@@ -476,9 +467,6 @@\n   {\n     \"name\": \"SharedStylesHost\"\n   },\n-  {\n-    \"name\": \"SimpleChange\"\n-  },\n   {\n     \"name\": \"SimpleInnerSubscriber\"\n   },\n@@ -533,9 +521,6 @@\n   {\n     \"name\": \"Validators\"\n   },\n-  {\n-    \"name\": \"Version\"\n-  },\n   {\n     \"name\": \"ViewContainerRef\"\n   },\n@@ -551,21 +536,12 @@\n   {\n     \"name\": \"_DOM\"\n   },\n-  {\n-    \"name\": \"_DuplicateItemRecordList\"\n-  },\n   {\n     \"name\": \"_DuplicateMap\"\n   },\n-  {\n-    \"name\": \"_NoopGetTestability\"\n-  },\n   {\n     \"name\": \"_NullComponentFactoryResolver\"\n   },\n-  {\n-    \"name\": \"__extends\"\n-  },\n   {\n     \"name\": \"__forward_ref__\"\n   },\n@@ -824,6 +800,9 @@\n   {\n     \"name\": \"empty\"\n   },\n+  {\n+    \"name\": \"empty2\"\n+  },\n   {\n     \"name\": \"enterDI\"\n   },\n@@ -848,9 +827,6 @@\n   {\n     \"name\": \"executeViewQueryFn\"\n   },\n-  {\n-    \"name\": \"extendStatics\"\n-  },\n   {\n     \"name\": \"extractDirectiveDef\"\n   },\n@@ -890,9 +866,6 @@\n   {\n     \"name\": \"from\"\n   },\n-  {\n-    \"name\": \"fromArray\"\n-  },\n   {\n     \"name\": \"generateInitialInputs\"\n   },\n@@ -902,6 +875,9 @@\n   {\n     \"name\": \"getBeforeNodeForView\"\n   },\n+  {\n+    \"name\": \"getBindingsEnabled\"\n+  },\n   {\n     \"name\": \"getClosureSafeProperty\"\n   },\n@@ -995,6 +971,9 @@\n   {\n     \"name\": \"getOrCreateTNode\"\n   },\n+  {\n+    \"name\": \"getOrCreateTViewCleanup\"\n+  },\n   {\n     \"name\": \"getOrCreateViewRefs\"\n   },\n@@ -1035,7 +1014,7 @@\n     \"name\": \"getSymbolIterator\"\n   },\n   {\n-    \"name\": \"getSymbolIterator\"\n+    \"name\": \"getSymbolIterator2\"\n   },\n   {\n     \"name\": \"getTNode\"\n@@ -1212,10 +1191,7 @@\n     \"name\": \"isPromise\"\n   },\n   {\n-    \"name\": \"isPromise\"\n-  },\n-  {\n-    \"name\": \"isScheduler\"\n+    \"name\": \"isPromise2\"\n   },\n   {\n     \"name\": \"isStylingMatch\"\n@@ -1254,7 +1230,7 @@\n     \"name\": \"leaveViewLight\"\n   },\n   {\n-    \"name\": \"localeEn\"\n+    \"name\": \"locale_en_default\"\n   },\n   {\n     \"name\": \"lookupTokenUsingModuleInjector\"\n@@ -1373,9 +1349,6 @@\n   {\n     \"name\": \"pickValidators\"\n   },\n-  {\n-    \"name\": \"pipeFromArray\"\n-  },\n   {\n     \"name\": \"platformBrowser\"\n   },"
        },
        {
            "sha": "2f67a11371ddcb52d299cebf2f27f2a319e3e707",
            "filename": "packages/core/test/bundling/forms_reactive/forms_e2e_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fforms_e2e_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fforms_e2e_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fforms_e2e_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,12 +7,13 @@\n  */\n \n import '@angular/compiler';\n+\n import {ɵwhenRendered as whenRendered} from '@angular/core';\n import {withBody} from '@angular/private/testing';\n import * as path from 'path';\n \n const PACKAGE = 'angular/packages/core/test/bundling/forms_reactive';\n-const BUNDLES = ['bundle.js', 'bundle.min_debug.js', 'bundle.min.js'];\n+const BUNDLES = ['bundle.js', 'bundle.debug.min.js', 'bundle.min.js'];\n \n describe('functional test for reactive forms', () => {\n   BUNDLES.forEach((bundle) => {"
        },
        {
            "sha": "1329c19373b0774aba1e4c2030783fa7d469a563",
            "filename": "packages/core/test/bundling/forms_reactive/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -13,19 +13,19 @@\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n         document.write('<script src=\"' +\n-          (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') +\n+          (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n           '\"></' + 'script>');\n     </script>\n   </body>"
        },
        {
            "sha": "acc160431f934b7dc91a1a92be821f01876a74dd",
            "filename": "packages/core/test/bundling/forms_reactive/treeshaking_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Ftreeshaking_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Ftreeshaking_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Ftreeshaking_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import * as fs from 'fs';\n import * as path from 'path';\n \n@@ -19,7 +20,7 @@ describe('treeshaking with uglify', () => {\n   let content: string;\n   // We use the debug version as otherwise symbols/identifiers would be mangled (and the test would\n   // always pass)\n-  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.min_debug.js'));\n+  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.debug.min.js'));\n   beforeAll(() => {\n     content = fs.readFileSync(contentPath, UTF8);\n   });"
        },
        {
            "sha": "f6572fe86c921bb3905f80dc2c700480a81daece",
            "filename": "packages/core/test/bundling/forms_template_driven/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_library\")\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n@@ -14,7 +14,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -42,25 +42,25 @@ ts_library(\n jasmine_node_test(\n     name = \"test\",\n     data = [\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )\n \n http_server(\n     name = \"prodserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "ee568d96d215f421194ede3d26549e6da0d2be06",
            "filename": "packages/core/test/bundling/forms_template_driven/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 21,
            "deletions": 48,
            "changes": 69,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -93,16 +93,16 @@\n     \"name\": \"ComponentFactory\"\n   },\n   {\n-    \"name\": \"ComponentFactory\"\n+    \"name\": \"ComponentFactory2\"\n   },\n   {\n     \"name\": \"ComponentFactoryResolver\"\n   },\n   {\n-    \"name\": \"ComponentFactoryResolver\"\n+    \"name\": \"ComponentFactoryResolver2\"\n   },\n   {\n-    \"name\": \"ComponentRef\"\n+    \"name\": \"ComponentRef2\"\n   },\n   {\n     \"name\": \"ConnectableObservable\"\n@@ -126,7 +126,7 @@\n     \"name\": \"DOCUMENT\"\n   },\n   {\n-    \"name\": \"DOCUMENT\"\n+    \"name\": \"DOCUMENT2\"\n   },\n   {\n     \"name\": \"DefaultDomRenderer2\"\n@@ -201,7 +201,7 @@\n     \"name\": \"FormsModule\"\n   },\n   {\n-    \"name\": \"INJECTOR\"\n+    \"name\": \"INJECTOR2\"\n   },\n   {\n     \"name\": \"INJECTOR_SCOPE\"\n@@ -237,7 +237,7 @@\n     \"name\": \"LOCALE_DATA\"\n   },\n   {\n-    \"name\": \"LOCALE_ID\"\n+    \"name\": \"LOCALE_ID2\"\n   },\n   {\n     \"name\": \"LifecycleHooksFeature\"\n@@ -263,9 +263,6 @@\n   {\n     \"name\": \"MergeMapSubscriber\"\n   },\n-  {\n-    \"name\": \"ModuleWithComponentFactories\"\n-  },\n   {\n     \"name\": \"NAMESPACE_URIS\"\n   },\n@@ -338,9 +335,6 @@\n   {\n     \"name\": \"NgForOf\"\n   },\n-  {\n-    \"name\": \"NgForOfContext\"\n-  },\n   {\n     \"name\": \"NgForm\"\n   },\n@@ -357,13 +351,13 @@\n     \"name\": \"NgModelGroup\"\n   },\n   {\n-    \"name\": \"NgModuleFactory\"\n+    \"name\": \"NgModuleFactory2\"\n   },\n   {\n     \"name\": \"NgModuleRef\"\n   },\n   {\n-    \"name\": \"NgModuleRef\"\n+    \"name\": \"NgModuleRef2\"\n   },\n   {\n     \"name\": \"NgOnChangesFeatureImpl\"\n@@ -377,9 +371,6 @@\n   {\n     \"name\": \"NodeInjectorFactory\"\n   },\n-  {\n-    \"name\": \"NoopNgZone\"\n-  },\n   {\n     \"name\": \"NullInjector\"\n   },\n@@ -464,9 +455,6 @@\n   {\n     \"name\": \"SharedStylesHost\"\n   },\n-  {\n-    \"name\": \"SimpleChange\"\n-  },\n   {\n     \"name\": \"SimpleInnerSubscriber\"\n   },\n@@ -524,9 +512,6 @@\n   {\n     \"name\": \"VE_ViewContainerRef\"\n   },\n-  {\n-    \"name\": \"Version\"\n-  },\n   {\n     \"name\": \"ViewContainerRef\"\n   },\n@@ -542,21 +527,12 @@\n   {\n     \"name\": \"_DOM\"\n   },\n-  {\n-    \"name\": \"_DuplicateItemRecordList\"\n-  },\n   {\n     \"name\": \"_DuplicateMap\"\n   },\n-  {\n-    \"name\": \"_NoopGetTestability\"\n-  },\n   {\n     \"name\": \"_NullComponentFactoryResolver\"\n   },\n-  {\n-    \"name\": \"__extends\"\n-  },\n   {\n     \"name\": \"__forward_ref__\"\n   },\n@@ -797,6 +773,9 @@\n   {\n     \"name\": \"empty\"\n   },\n+  {\n+    \"name\": \"empty2\"\n+  },\n   {\n     \"name\": \"enterDI\"\n   },\n@@ -821,9 +800,6 @@\n   {\n     \"name\": \"executeViewQueryFn\"\n   },\n-  {\n-    \"name\": \"extendStatics\"\n-  },\n   {\n     \"name\": \"extractDirectiveDef\"\n   },\n@@ -860,9 +836,6 @@\n   {\n     \"name\": \"from\"\n   },\n-  {\n-    \"name\": \"fromArray\"\n-  },\n   {\n     \"name\": \"generateInitialInputs\"\n   },\n@@ -872,6 +845,9 @@\n   {\n     \"name\": \"getBeforeNodeForView\"\n   },\n+  {\n+    \"name\": \"getBindingsEnabled\"\n+  },\n   {\n     \"name\": \"getClosureSafeProperty\"\n   },\n@@ -959,6 +935,9 @@\n   {\n     \"name\": \"getOrCreateTNode\"\n   },\n+  {\n+    \"name\": \"getOrCreateTViewCleanup\"\n+  },\n   {\n     \"name\": \"getOrCreateViewRefs\"\n   },\n@@ -1002,7 +981,7 @@\n     \"name\": \"getSymbolIterator\"\n   },\n   {\n-    \"name\": \"getSymbolIterator\"\n+    \"name\": \"getSymbolIterator2\"\n   },\n   {\n     \"name\": \"getTNode\"\n@@ -1173,10 +1152,7 @@\n     \"name\": \"isPromise\"\n   },\n   {\n-    \"name\": \"isPromise\"\n-  },\n-  {\n-    \"name\": \"isScheduler\"\n+    \"name\": \"isPromise2\"\n   },\n   {\n     \"name\": \"isStylingMatch\"\n@@ -1215,7 +1191,7 @@\n     \"name\": \"leaveViewLight\"\n   },\n   {\n-    \"name\": \"localeEn\"\n+    \"name\": \"locale_en_default\"\n   },\n   {\n     \"name\": \"lookupTokenUsingModuleInjector\"\n@@ -1337,9 +1313,6 @@\n   {\n     \"name\": \"pickValidators\"\n   },\n-  {\n-    \"name\": \"pipeFromArray\"\n-  },\n   {\n     \"name\": \"platformBrowser\"\n   },\n@@ -1428,7 +1401,7 @@\n     \"name\": \"resolvedPromise\"\n   },\n   {\n-    \"name\": \"resolvedPromise\"\n+    \"name\": \"resolvedPromise2\"\n   },\n   {\n     \"name\": \"rxSubscriber\""
        },
        {
            "sha": "ebf7970f4ca886d2c5897873ed5752d57c355ad0",
            "filename": "packages/core/test/bundling/forms_template_driven/forms_e2e_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fforms_e2e_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fforms_e2e_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fforms_e2e_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,12 +7,13 @@\n  */\n \n import '@angular/compiler';\n+\n import {ɵwhenRendered as whenRendered} from '@angular/core';\n import {withBody} from '@angular/private/testing';\n import * as path from 'path';\n \n const PACKAGE = 'angular/packages/core/test/bundling/forms_template_driven';\n-const BUNDLES = ['bundle.js', 'bundle.min_debug.js', 'bundle.min.js'];\n+const BUNDLES = ['bundle.js', 'bundle.debug.min.js', 'bundle.min.js'];\n \n describe('functional test for forms', () => {\n   BUNDLES.forEach((bundle) => {"
        },
        {
            "sha": "ad8ec45b22c369401a1c28f13c5067f77cf4b134",
            "filename": "packages/core/test/bundling/forms_template_driven/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -13,19 +13,19 @@\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n         document.write('<script src=\"' +\n-          (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') +\n+          (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n           '\"></' + 'script>');\n     </script>\n   </body>"
        },
        {
            "sha": "ea8a1a2e7078197b460776da15220bc70b0ea452",
            "filename": "packages/core/test/bundling/forms_template_driven/treeshaking_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Ftreeshaking_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Ftreeshaking_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Ftreeshaking_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import * as fs from 'fs';\n import * as path from 'path';\n \n@@ -19,7 +20,7 @@ describe('treeshaking with uglify', () => {\n   let content: string;\n   // We use the debug version as otherwise symbols/identifiers would be mangled (and the test would\n   // always pass)\n-  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.min_debug.js'));\n+  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.debug.min.js'));\n   beforeAll(() => {\n     content = fs.readFileSync(contentPath, UTF8);\n   });"
        },
        {
            "sha": "d22a0f9e76801d69fb60cc9dbf3bf3b0cbb4ffa1",
            "filename": "packages/core/test/bundling/hello_world/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_library\")\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n@@ -12,7 +12,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -37,25 +37,25 @@ ts_library(\n jasmine_node_test(\n     name = \"test\",\n     data = [\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )\n \n http_server(\n     name = \"devserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "3afdaf5e8d34b71b5eca6e10669b28d1c94ce12c",
            "filename": "packages/core/test/bundling/hello_world/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 6,
            "deletions": 9,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -38,9 +38,6 @@\n   {\n     \"name\": \"RuntimeError\"\n   },\n-  {\n-    \"name\": \"SimpleChange\"\n-  },\n   {\n     \"name\": \"ViewEncapsulation\"\n   },\n@@ -71,6 +68,9 @@\n   {\n     \"name\": \"allocLFrame\"\n   },\n+  {\n+    \"name\": \"appendChild\"\n+  },\n   {\n     \"name\": \"attachPatchData\"\n   },\n@@ -149,6 +149,9 @@\n   {\n     \"name\": \"getNextLContainer\"\n   },\n+  {\n+    \"name\": \"getNodeInjectable\"\n+  },\n   {\n     \"name\": \"getOrCreateTNode\"\n   },\n@@ -164,9 +167,6 @@\n   {\n     \"name\": \"insertBloom\"\n   },\n-  {\n-    \"name\": \"instantiateRootComponent\"\n-  },\n   {\n     \"name\": \"instructionState\"\n   },\n@@ -250,8 +250,5 @@\n   },\n   {\n     \"name\": \"ɵɵdefineComponent\"\n-  },\n-  {\n-    \"name\": \"ɵɵtext\"\n   }\n ]\n\\ No newline at end of file"
        },
        {
            "sha": "1db563b4acfd924e20a552f4be0f15f5cf21c7de",
            "filename": "packages/core/test/bundling/hello_world/index.html",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -8,24 +8,24 @@\n     <!-- The Angular application will be bootstrapped into this element. -->\n     <hello-world></hello-world>\n \n-    <!-- \n+    <!--\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n-      \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can \n+\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n-        document.write('<script src=\"' + \n-          (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') + \n+        document.write('<script src=\"' +\n+          (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n           '\"></' + 'script>');\n     </script>\n   </body>\n-</html>\n\\ No newline at end of file\n+</html>"
        },
        {
            "sha": "dea1edab32c494a1cf70cac54b1407c6cd08c8dd",
            "filename": "packages/core/test/bundling/hello_world/treeshaking_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Ftreeshaking_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Ftreeshaking_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Ftreeshaking_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import {withBody} from '@angular/private/testing';\n import * as fs from 'fs';\n import * as path from 'path';\n@@ -18,7 +19,7 @@ const PACKAGE = 'angular/packages/core/test/bundling/hello_world';\n \n describe('treeshaking with uglify', () => {\n   let content: string;\n-  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.min_debug.js'));\n+  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.debug.min.js'));\n   beforeAll(() => {\n     content = fs.readFileSync(contentPath, UTF8);\n   });\n@@ -45,7 +46,7 @@ describe('treeshaking with uglify', () => {\n \n     it('should render hello world when debug minified',\n        withBody('<hello-world></hello-world>', () => {\n-         require(path.join(PACKAGE, 'bundle.min_debug.js'));\n+         require(path.join(PACKAGE, 'bundle.debug.min.js'));\n          expect(document.body.textContent).toEqual('Hello World!');\n        }));\n "
        },
        {
            "sha": "daad9b96b83a27e0ae0fdbe693c4d22864166096",
            "filename": "packages/core/test/bundling/hello_world_i18n/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_i18n%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_i18n%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_i18n%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"ng_module\", \"ng_rollup_bundle\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"ng_module\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -16,10 +16,9 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n-    tags = [],\n     deps = [\n         \":hello_world_i18n\",\n         \"//packages/core\",\n@@ -31,8 +30,8 @@ http_server(\n     name = \"prodserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n     tags = [],\n )"
        },
        {
            "sha": "1de60473e6906ccb30bbadea1d26535ee21ef2a1",
            "filename": "packages/core/test/bundling/hello_world_i18n/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_i18n%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_i18n%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_i18n%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -12,19 +12,19 @@\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n       document.write('<script src=\"' +\n-        (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') +\n+        (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n         '\"></' + 'script>');\n     </script>\n   </body>"
        },
        {
            "sha": "70cf9ac0c41108045293e047d7e48e976f672cf9",
            "filename": "packages/core/test/bundling/hello_world_r2/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_library\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -12,7 +12,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -39,9 +39,9 @@ jasmine_node_test(\n     name = \"test\",\n     data = [\n         \":bundle\",\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n@@ -50,7 +50,7 @@ http_server(\n     name = \"prodserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "1db563b4acfd924e20a552f4be0f15f5cf21c7de",
            "filename": "packages/core/test/bundling/hello_world_r2/index.html",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -8,24 +8,24 @@\n     <!-- The Angular application will be bootstrapped into this element. -->\n     <hello-world></hello-world>\n \n-    <!-- \n+    <!--\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n-      \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can \n+\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n-        document.write('<script src=\"' + \n-          (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') + \n+        document.write('<script src=\"' +\n+          (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n           '\"></' + 'script>');\n     </script>\n   </body>\n-</html>\n\\ No newline at end of file\n+</html>"
        },
        {
            "sha": "f41a95b26a7db0ee5a5d88e065df66249316e5a2",
            "filename": "packages/core/test/bundling/hello_world_r2/treeshaking_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2Ftreeshaking_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2Ftreeshaking_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world_r2%2Ftreeshaking_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import * as fs from 'fs';\n import * as path from 'path';\n \n@@ -17,7 +18,7 @@ const PACKAGE = 'angular/packages/core/test/bundling/hello_world_r2';\n \n describe('treeshaking with uglify', () => {\n   let content: string;\n-  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.min_debug.js'));\n+  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.debug.min.js'));\n   beforeAll(() => {\n     content = fs.readFileSync(contentPath, UTF8);\n   });"
        },
        {
            "sha": "06fa181eb3104fe4b6663559481d54d893ad8626",
            "filename": "packages/core/test/bundling/injection/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Finjection%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Finjection%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Finjection%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,5 +1,5 @@\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -14,7 +14,7 @@ ts_library(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -44,6 +44,6 @@ jasmine_node_test(\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )"
        },
        {
            "sha": "e47572e05612ebf79edb83dbe0d56847ca3782cb",
            "filename": "packages/core/test/bundling/injection/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Finjection%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Finjection%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Finjection%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -6,7 +6,7 @@\n     \"name\": \"EMPTY_ARRAY\"\n   },\n   {\n-    \"name\": \"INJECTOR\"\n+    \"name\": \"INJECTOR2\"\n   },\n   {\n     \"name\": \"INJECTOR_SCOPE\"\n@@ -41,9 +41,6 @@\n   {\n     \"name\": \"NULL_INJECTOR\"\n   },\n-  {\n-    \"name\": \"NullInjector\"\n-  },\n   {\n     \"name\": \"R3Injector\"\n   },\n@@ -68,6 +65,9 @@\n   {\n     \"name\": \"_injectImplementation\"\n   },\n+  {\n+    \"name\": \"createInjector\"\n+  },\n   {\n     \"name\": \"deepForEach\"\n   },\n@@ -98,6 +98,9 @@\n   {\n     \"name\": \"injectInjectorOnly\"\n   },\n+  {\n+    \"name\": \"injectRootLimpMode\"\n+  },\n   {\n     \"name\": \"injectableDefOrInjectorDefFactory\"\n   },"
        },
        {
            "sha": "058ea08825343ef38aa84527e3e54763e6443782",
            "filename": "packages/core/test/bundling/router/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_devserver\", \"ts_library\")\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n@@ -16,7 +16,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -45,16 +45,16 @@ jasmine_node_test(\n     name = \"test\",\n     data = [\n         \":bundle\",\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )\n \n@@ -87,7 +87,7 @@ http_server(\n     name = \"prodserver\",\n     data = [\n         \"index.html\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "ec401a45ca70254d8850adbb7d64a3452f6b24cb",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 32,
            "deletions": 101,
            "changes": 133,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -26,21 +26,12 @@\n   {\n     \"name\": \"AbsoluteRedirect\"\n   },\n-  {\n-    \"name\": \"ActivateRoutes\"\n-  },\n   {\n     \"name\": \"ActivatedRoute\"\n   },\n   {\n     \"name\": \"ActivatedRouteSnapshot\"\n   },\n-  {\n-    \"name\": \"ActivationEnd\"\n-  },\n-  {\n-    \"name\": \"ActivationStart\"\n-  },\n   {\n     \"name\": \"AnonymousSubject\"\n   },\n@@ -53,9 +44,6 @@\n   {\n     \"name\": \"ApplicationRef\"\n   },\n-  {\n-    \"name\": \"ApplyRedirects\"\n-  },\n   {\n     \"name\": \"ArgumentOutOfRangeError\"\n   },\n@@ -110,18 +98,9 @@\n   {\n     \"name\": \"ChangeDetectorRef\"\n   },\n-  {\n-    \"name\": \"ChildActivationEnd\"\n-  },\n-  {\n-    \"name\": \"ChildActivationStart\"\n-  },\n   {\n     \"name\": \"ChildrenOutletContexts\"\n   },\n-  {\n-    \"name\": \"CombineLatestOperator\"\n-  },\n   {\n     \"name\": \"CombineLatestSubscriber\"\n   },\n@@ -135,16 +114,16 @@\n     \"name\": \"ComponentFactory\"\n   },\n   {\n-    \"name\": \"ComponentFactory\"\n+    \"name\": \"ComponentFactory2\"\n   },\n   {\n     \"name\": \"ComponentFactoryResolver\"\n   },\n   {\n-    \"name\": \"ComponentFactoryResolver\"\n+    \"name\": \"ComponentFactoryResolver2\"\n   },\n   {\n-    \"name\": \"ComponentRef\"\n+    \"name\": \"ComponentRef2\"\n   },\n   {\n     \"name\": \"ConnectableObservable\"\n@@ -168,7 +147,7 @@\n     \"name\": \"DOCUMENT\"\n   },\n   {\n-    \"name\": \"DOCUMENT\"\n+    \"name\": \"DOCUMENT2\"\n   },\n   {\n     \"name\": \"DefaultDomRenderer2\"\n@@ -191,12 +170,6 @@\n   {\n     \"name\": \"DefaultKeyValueDifferFactory\"\n   },\n-  {\n-    \"name\": \"DefaultRouteReuseStrategy\"\n-  },\n-  {\n-    \"name\": \"DefaultUrlHandlingStrategy\"\n-  },\n   {\n     \"name\": \"DefaultUrlSerializer\"\n   },\n@@ -254,9 +227,6 @@\n   {\n     \"name\": \"FilterSubscriber\"\n   },\n-  {\n-    \"name\": \"FinallyOperator\"\n-  },\n   {\n     \"name\": \"FinallySubscriber\"\n   },\n@@ -273,7 +243,7 @@\n     \"name\": \"INITIAL_VALUE\"\n   },\n   {\n-    \"name\": \"INJECTOR\"\n+    \"name\": \"INJECTOR2\"\n   },\n   {\n     \"name\": \"INJECTOR_SCOPE\"\n@@ -315,7 +285,7 @@\n     \"name\": \"LOCALE_DATA\"\n   },\n   {\n-    \"name\": \"LOCALE_ID\"\n+    \"name\": \"LOCALE_ID2\"\n   },\n   {\n     \"name\": \"LOCATION_INITIALIZED\"\n@@ -362,9 +332,6 @@\n   {\n     \"name\": \"MergeMapSubscriber\"\n   },\n-  {\n-    \"name\": \"ModuleWithComponentFactories\"\n-  },\n   {\n     \"name\": \"NAMESPACE_URIS\"\n   },\n@@ -444,13 +411,13 @@\n     \"name\": \"NgModuleFactory\"\n   },\n   {\n-    \"name\": \"NgModuleFactory\"\n+    \"name\": \"NgModuleFactory2\"\n   },\n   {\n     \"name\": \"NgModuleRef\"\n   },\n   {\n-    \"name\": \"NgModuleRef\"\n+    \"name\": \"NgModuleRef2\"\n   },\n   {\n     \"name\": \"NgOnChangesFeatureImpl\"\n@@ -464,9 +431,6 @@\n   {\n     \"name\": \"NoMatch\"\n   },\n-  {\n-    \"name\": \"NoMatch\"\n-  },\n   {\n     \"name\": \"NoPreloading\"\n   },\n@@ -476,9 +440,6 @@\n   {\n     \"name\": \"NodeInjectorFactory\"\n   },\n-  {\n-    \"name\": \"NoopNgZone\"\n-  },\n   {\n     \"name\": \"NullInjector\"\n   },\n@@ -494,9 +455,6 @@\n   {\n     \"name\": \"OuterSubscriber\"\n   },\n-  {\n-    \"name\": \"OutletContext\"\n-  },\n   {\n     \"name\": \"OutletInjector\"\n   },\n@@ -506,9 +464,6 @@\n   {\n     \"name\": \"PLATFORM_INITIALIZER\"\n   },\n-  {\n-    \"name\": \"ParamsAsMap\"\n-  },\n   {\n     \"name\": \"PathLocationStrategy\"\n   },\n@@ -561,10 +516,7 @@\n     \"name\": \"ROUTES\"\n   },\n   {\n-    \"name\": \"ROUTES\"\n-  },\n-  {\n-    \"name\": \"Recognizer\"\n+    \"name\": \"ROUTES2\"\n   },\n   {\n     \"name\": \"RefCountOperator\"\n@@ -686,9 +638,6 @@\n   {\n     \"name\": \"SharedStylesHost\"\n   },\n-  {\n-    \"name\": \"SimpleChange\"\n-  },\n   {\n     \"name\": \"SimpleInnerSubscriber\"\n   },\n@@ -725,9 +674,6 @@\n   {\n     \"name\": \"TQueries_\"\n   },\n-  {\n-    \"name\": \"TQueryMetadata_\"\n-  },\n   {\n     \"name\": \"TQuery_\"\n   },\n@@ -797,9 +743,6 @@\n   {\n     \"name\": \"VE_ViewContainerRef\"\n   },\n-  {\n-    \"name\": \"Version\"\n-  },\n   {\n     \"name\": \"ViewContainerRef\"\n   },\n@@ -818,21 +761,12 @@\n   {\n     \"name\": \"_DOM\"\n   },\n-  {\n-    \"name\": \"_DuplicateItemRecordList\"\n-  },\n   {\n     \"name\": \"_DuplicateMap\"\n   },\n-  {\n-    \"name\": \"_NoopGetTestability\"\n-  },\n   {\n     \"name\": \"_NullComponentFactoryResolver\"\n   },\n-  {\n-    \"name\": \"__extends\"\n-  },\n   {\n     \"name\": \"__forward_ref__\"\n   },\n@@ -917,6 +851,9 @@\n   {\n     \"name\": \"applyProjectionRecursive\"\n   },\n+  {\n+    \"name\": \"applyRedirects2\"\n+  },\n   {\n     \"name\": \"applyToElementOrContainer\"\n   },\n@@ -977,9 +914,6 @@\n   {\n     \"name\": \"concat\"\n   },\n-  {\n-    \"name\": \"concatAll\"\n-  },\n   {\n     \"name\": \"concatMap\"\n   },\n@@ -1007,9 +941,6 @@\n   {\n     \"name\": \"convertToParamMap\"\n   },\n-  {\n-    \"name\": \"createBrowserPlatformLocation\"\n-  },\n   {\n     \"name\": \"createContainerRef\"\n   },\n@@ -1034,9 +965,6 @@\n   {\n     \"name\": \"createLView\"\n   },\n-  {\n-    \"name\": \"createLocation\"\n-  },\n   {\n     \"name\": \"createNewSegmentChildren\"\n   },\n@@ -1143,7 +1071,10 @@\n     \"name\": \"empty\"\n   },\n   {\n-    \"name\": \"empty\"\n+    \"name\": \"empty2\"\n+  },\n+  {\n+    \"name\": \"empty3\"\n   },\n   {\n     \"name\": \"emptyPathMatch\"\n@@ -1190,9 +1121,6 @@\n   {\n     \"name\": \"executeViewQueryFn\"\n   },\n-  {\n-    \"name\": \"extendStatics\"\n-  },\n   {\n     \"name\": \"extractDirectiveDef\"\n   },\n@@ -1218,7 +1146,7 @@\n     \"name\": \"flatten\"\n   },\n   {\n-    \"name\": \"flatten\"\n+    \"name\": \"flatten2\"\n   },\n   {\n     \"name\": \"flattenStyles\"\n@@ -1253,6 +1181,9 @@\n   {\n     \"name\": \"getBeforeNodeForView\"\n   },\n+  {\n+    \"name\": \"getBindingsEnabled\"\n+  },\n   {\n     \"name\": \"getBootstrapListener\"\n   },\n@@ -1413,7 +1344,7 @@\n     \"name\": \"getSymbolIterator\"\n   },\n   {\n-    \"name\": \"getSymbolIterator\"\n+    \"name\": \"getSymbolIterator2\"\n   },\n   {\n     \"name\": \"getTNode\"\n@@ -1539,7 +1470,7 @@\n     \"name\": \"isFunction\"\n   },\n   {\n-    \"name\": \"isFunction\"\n+    \"name\": \"isFunction2\"\n   },\n   {\n     \"name\": \"isImmediateMatch\"\n@@ -1590,7 +1521,7 @@\n     \"name\": \"isPromise\"\n   },\n   {\n-    \"name\": \"isPromise\"\n+    \"name\": \"isPromise2\"\n   },\n   {\n     \"name\": \"isScheduler\"\n@@ -1614,7 +1545,7 @@\n     \"name\": \"keyValDiff\"\n   },\n   {\n-    \"name\": \"last\"\n+    \"name\": \"last2\"\n   },\n   {\n     \"name\": \"leaveDI\"\n@@ -1626,7 +1557,7 @@\n     \"name\": \"leaveViewLight\"\n   },\n   {\n-    \"name\": \"localeEn\"\n+    \"name\": \"locale_en_default\"\n   },\n   {\n     \"name\": \"locateDirectiveOrProvider\"\n@@ -1722,7 +1653,7 @@\n     \"name\": \"noMatch\"\n   },\n   {\n-    \"name\": \"noMatch\"\n+    \"name\": \"noMatch2\"\n   },\n   {\n     \"name\": \"noSideEffects\"\n@@ -1734,7 +1665,7 @@\n     \"name\": \"noop\"\n   },\n   {\n-    \"name\": \"noop\"\n+    \"name\": \"noop2\"\n   },\n   {\n     \"name\": \"normalizeQueryParams\"\n@@ -1763,9 +1694,6 @@\n   {\n     \"name\": \"pathCompareMap\"\n   },\n-  {\n-    \"name\": \"pipeFromArray\"\n-  },\n   {\n     \"name\": \"platformBrowser\"\n   },\n@@ -1782,14 +1710,17 @@\n     \"name\": \"provideForRootGuard\"\n   },\n   {\n-    \"name\": \"provideLocationStrategy\"\n+    \"name\": \"provideLocationStrategy2\"\n   },\n   {\n     \"name\": \"provideRoutes\"\n   },\n   {\n     \"name\": \"readPatchedLView\"\n   },\n+  {\n+    \"name\": \"recognize2\"\n+  },\n   {\n     \"name\": \"refCount\"\n   },\n@@ -1944,7 +1875,7 @@\n     \"name\": \"stringify\"\n   },\n   {\n-    \"name\": \"stringify\"\n+    \"name\": \"stringify6\"\n   },\n   {\n     \"name\": \"stringifyCSSSelector\""
        },
        {
            "sha": "a46d644371e0a8ccfc20c3161566c85db0ea16c2",
            "filename": "packages/core/test/bundling/router/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -13,19 +13,19 @@\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also done through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n     <script>\n         document.write('<script src=\"' +\n-          (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js') +\n+          (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js') +\n           '\"></' + 'script>');\n     </script>\n   </body>"
        },
        {
            "sha": "08f3b677adc9bfbfa714e27fd3b655bdf9b2a958",
            "filename": "packages/core/test/bundling/router/treeshaking_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Ftreeshaking_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Ftreeshaking_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Ftreeshaking_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import * as fs from 'fs';\n import * as path from 'path';\n \n@@ -19,7 +20,7 @@ describe('treeshaking with uglify', () => {\n   let content: string;\n   // We use the debug version as otherwise symbols/identifiers would be mangled (and the test would\n   // always pass)\n-  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.min_debug.js'));\n+  const contentPath = require.resolve(path.join(PACKAGE, 'bundle.debug.min.js'));\n   beforeAll(() => {\n     content = fs.readFileSync(contentPath, UTF8);\n   });"
        },
        {
            "sha": "795e698ac71c5e74f352d7dc1886a291187a4f28",
            "filename": "packages/core/test/bundling/todo/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_devserver\", \"ts_library\")\n load(\"//tools/symbol-extractor:index.bzl\", \"js_expected_symbol_test\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n@@ -14,7 +14,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -43,16 +43,16 @@ jasmine_node_test(\n     name = \"test\",\n     data = [\n         \":bundle\",\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n \n js_expected_symbol_test(\n     name = \"symbol_test\",\n-    src = \":bundle.min_debug.js\",\n+    src = \":bundle.debug.min.js\",\n     golden = \":bundle.golden_symbols.json\",\n )\n \n@@ -91,7 +91,7 @@ http_server(\n         \"base.css\",\n         \"index.html\",\n         \"todo.css\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "6ee622e3bd9d3a21dd2ee3588663ed6cefffdd96",
            "filename": "packages/core/test/bundling/todo/OUTSTANDING_WORK.md",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2FOUTSTANDING_WORK.md",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2FOUTSTANDING_WORK.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2FOUTSTANDING_WORK.md?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -19,11 +19,6 @@\n ## Testing\n - [ ] Create a debug mode which would publish components into DOM for easier writing of tests.\n \n-\n-## Bazel\n-\n-- [ ] Have action verb on the `ng_rollup_bundle` to display source maps.\n-\n # NOTES\n \n ## Killing hung `iblaze` server"
        },
        {
            "sha": "f2904bb9b5ef712377aaa4d74950747e29a02b94",
            "filename": "packages/core/test/bundling/todo/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 6,
            "deletions": 27,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -5,12 +5,6 @@\n   {\n     \"name\": \"ChangeDetectionStrategy\"\n   },\n-  {\n-    \"name\": \"ComponentFactory\"\n-  },\n-  {\n-    \"name\": \"ComponentRef\"\n-  },\n   {\n     \"name\": \"DefaultIterableDiffer\"\n   },\n@@ -26,9 +20,6 @@\n   {\n     \"name\": \"ElementRef\"\n   },\n-  {\n-    \"name\": \"ErrorHandler\"\n-  },\n   {\n     \"name\": \"InjectFlags\"\n   },\n@@ -74,18 +65,12 @@\n   {\n     \"name\": \"NgForOf\"\n   },\n-  {\n-    \"name\": \"NgForOfContext\"\n-  },\n   {\n     \"name\": \"NgIf\"\n   },\n   {\n     \"name\": \"NgIfContext\"\n   },\n-  {\n-    \"name\": \"NgModuleRef\"\n-  },\n   {\n     \"name\": \"NodeInjector\"\n   },\n@@ -101,9 +86,6 @@\n   {\n     \"name\": \"R3ViewContainerRef\"\n   },\n-  {\n-    \"name\": \"RendererFactory2\"\n-  },\n   {\n     \"name\": \"RootViewRef\"\n   },\n@@ -113,9 +95,6 @@\n   {\n     \"name\": \"Sanitizer\"\n   },\n-  {\n-    \"name\": \"SimpleChange\"\n-  },\n   {\n     \"name\": \"SkipSelf\"\n   },\n@@ -152,9 +131,6 @@\n   {\n     \"name\": \"VE_ViewContainerRef\"\n   },\n-  {\n-    \"name\": \"Version\"\n-  },\n   {\n     \"name\": \"ViewContainerRef\"\n   },\n@@ -170,9 +146,6 @@\n   {\n     \"name\": \"_CLEAN_PROMISE\"\n   },\n-  {\n-    \"name\": \"_DuplicateItemRecordList\"\n-  },\n   {\n     \"name\": \"_DuplicateMap\"\n   },\n@@ -389,6 +362,9 @@\n   {\n     \"name\": \"getBeforeNodeForView\"\n   },\n+  {\n+    \"name\": \"getBindingsEnabled\"\n+  },\n   {\n     \"name\": \"getClosureSafeProperty\"\n   },\n@@ -455,6 +431,9 @@\n   {\n     \"name\": \"getOrCreateTNode\"\n   },\n+  {\n+    \"name\": \"getOrCreateTViewCleanup\"\n+  },\n   {\n     \"name\": \"getOrCreateViewRefs\"\n   },"
        },
        {
            "sha": "b2f8dbc943331990293659cb167ed7db683eddb1",
            "filename": "packages/core/test/bundling/todo/index.html",
            "status": "modified",
            "additions": 9,
            "deletions": 11,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -17,27 +17,25 @@\n   <!-- The Angular application will be bootstrapped into this element. -->\n   <todo-app></todo-app>\n \n-  <!-- \n+  <!--\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n-      \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can \n+\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-        - In `devserver` mode `bundle.min.js` is a bit misnamed since it is concatenated\n-          individual files which are not minified.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also gone through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n   <script>\n     document.write('<script src=\"' +\n-      (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js.br') +\n+      (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js.br') +\n       '\"></' + 'script>');\n   </script>\n </body>\n \n-</html>\n\\ No newline at end of file\n+</html>"
        },
        {
            "sha": "d1194069fc120505efb6b75e1d631184d0536870",
            "filename": "packages/core/test/bundling/todo/todo_e2e_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Ftodo_e2e_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Ftodo_e2e_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Ftodo_e2e_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,16 +7,14 @@\n  */\n \n import '@angular/compiler';\n+\n import {ɵwhenRendered as whenRendered} from '@angular/core';\n import {getComponent} from '@angular/core/src/render3';\n import {withBody} from '@angular/private/testing';\n import * as path from 'path';\n \n-const UTF8 = {\n-  encoding: 'utf-8'\n-};\n const PACKAGE = 'angular/packages/core/test/bundling/todo';\n-const BUNDLES = ['bundle.js', 'bundle.min_debug.js', 'bundle.min.js'];\n+const BUNDLES = ['bundle.js', 'bundle.debug.min.js', 'bundle.min.js'];\n \n describe('functional test for todo', () => {\n   BUNDLES.forEach(bundle => {"
        },
        {
            "sha": "e0430c6f3bc934b0ebd980a3990052cb83c1bd2f",
            "filename": "packages/core/test/bundling/todo_i18n/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_devserver\", \"ts_library\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -18,7 +18,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \":index.ts\",\n     deps = [\n@@ -49,9 +49,9 @@ jasmine_node_test(\n     name = \"test\",\n     data = [\n         \":bundle\",\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n@@ -91,7 +91,7 @@ http_server(\n         \"base.css\",\n         \"index.html\",\n         \"todo.css\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "f797d29cddcb0bd69e844f876e025b603729658b",
            "filename": "packages/core/test/bundling/todo_i18n/OUTSTANDING_WORK.md",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2FOUTSTANDING_WORK.md",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2FOUTSTANDING_WORK.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2FOUTSTANDING_WORK.md?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -19,11 +19,6 @@\n ## Testing\n - [ ] Create a debug mode which would publish components into DOM for easier writing of tests.\n \n-\n-## Bazel\n-\n-- [ ] Have action verb on the `ng_rollup_bundle` to display source maps.\n-\n # NOTES\n \n ## Killing hung `iblaze` server"
        },
        {
            "sha": "b2f8dbc943331990293659cb167ed7db683eddb1",
            "filename": "packages/core/test/bundling/todo_i18n/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -21,21 +21,19 @@\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-        - In `devserver` mode `bundle.min.js` is a bit misnamed since it is concatenated\n-          individual files which are not minified.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also gone through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n   <script>\n     document.write('<script src=\"' +\n-      (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js.br') +\n+      (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js.br') +\n       '\"></' + 'script>');\n   </script>\n </body>"
        },
        {
            "sha": "f2f52eb8bac476508519691cc6e376496957eaac",
            "filename": "packages/core/test/bundling/todo_i18n/index.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Findex.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -6,9 +6,12 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n import '@angular/core/test/bundling/util/src/reflect_metadata';\n-import './translations';\n+\n import {CommonModule} from '@angular/common';\n import {Component, Injectable, NgModule, ViewEncapsulation, ɵmarkDirty as markDirty, ɵrenderComponent as renderComponent} from '@angular/core';\n+import {loadTranslations} from '@angular/localize';\n+\n+import {translations} from './translations';\n \n class Todo {\n   editing: boolean;\n@@ -193,4 +196,5 @@ class ToDoAppComponent {\n class ToDoAppModule {\n }\n \n+loadTranslations(translations);\n renderComponent(ToDoAppComponent);"
        },
        {
            "sha": "88c7d81f6ba333afe26cd50436b5d83f3e90fdda",
            "filename": "packages/core/test/bundling/todo_i18n/todo_e2e_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Ftodo_e2e_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Ftodo_e2e_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Ftodo_e2e_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -15,7 +15,7 @@ import {withBody} from '@angular/private/testing';\n import * as path from 'path';\n \n const PACKAGE = 'angular/packages/core/test/bundling/todo_i18n';\n-const BUNDLES = ['bundle.js', 'bundle.min_debug.js', 'bundle.min.js'];\n+const BUNDLES = ['bundle.js', 'bundle.debug.min.js', 'bundle.min.js'];\n \n describe('functional test for todo i18n', () => {\n   BUNDLES.forEach(bundle => {"
        },
        {
            "sha": "f7fc39734a258ad17d3ca741997e006c7c1df0e8",
            "filename": "packages/core/test/bundling/todo_i18n/translations.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Ftranslations.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Ftranslations.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_i18n%2Ftranslations.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -10,7 +10,6 @@\n import '@angular/localize/init';\n \n import {computeMsgId} from '@angular/compiler';\n-import {loadTranslations} from '@angular/localize';\n \n export const translations = {\n   [computeMsgId('What needs to be done?', '')]: `Qu'y a-t-il à faire ?`,\n@@ -28,5 +27,3 @@ export const translations = {\n       'Démontrer la détection des changements sans zonejs',\n   [computeMsgId('Demonstrate internationalization', '')]: `Démontrer l'internationalisation`\n };\n-\n-loadTranslations(translations);"
        },
        {
            "sha": "990cac234f795e55fa608cc63e3fa1c75964adb9",
            "filename": "packages/core/test/bundling/todo_r2/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_module\", \"ng_rollup_bundle\", \"ts_devserver\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_module\", \"ts_devserver\", \"ts_library\")\n load(\"@npm//http-server:index.bzl\", \"http_server\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -15,7 +15,7 @@ ng_module(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"bundle\",\n     entry_point = \"index.ts\",\n     deps = [\n@@ -48,9 +48,9 @@ jasmine_node_test(\n     name = \"test\",\n     data = [\n         \":bundle\",\n+        \":bundle.debug.min.js\",\n         \":bundle.js\",\n         \":bundle.min.js\",\n-        \":bundle.min_debug.js\",\n     ],\n     deps = [\":test_lib\"],\n )\n@@ -90,7 +90,7 @@ http_server(\n         \"base.css\",\n         \"index.html\",\n         \"todo.css\",\n+        \":bundle.debug.min.js\",\n         \":bundle.min.js.br\",\n-        \":bundle.min_debug.js\",\n     ],\n )"
        },
        {
            "sha": "b2f8dbc943331990293659cb167ed7db683eddb1",
            "filename": "packages/core/test/bundling/todo_r2/index.html",
            "status": "modified",
            "additions": 9,
            "deletions": 11,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2Findex.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -17,27 +17,25 @@\n   <!-- The Angular application will be bootstrapped into this element. -->\n   <todo-app></todo-app>\n \n-  <!-- \n+  <!--\n       Script tag which bootstraps the application. Use `?debug` in URL to select\n       the debug version of the script.\n-      \n-      There are two scripts sources: `bundle.min.js` and `bundle.min_debug.js` You can \n+\n+      There are two scripts sources: `bundle.min.js` and `bundle.debug.min.js` You can\n       switch between which bundle the browser loads to experiment with the application.\n \n       - `bundle.min.js`: Is what the site would serve to their users. It has gone\n         through rollup, build-optimizer, and uglify with tree shaking.\n-        - In `devserver` mode `bundle.min.js` is a bit misnamed since it is concatenated\n-          individual files which are not minified.\n-      - `bundle.min_debug.js`: Is what the developer would like to see when debugging\n-        the application. It has also gone through full pipeline of rollup, build-optimizer,\n-        and uglify, however special flags were passed to uglify to prevent inlining and\n-        property renaming.\n+      - `bundle.debug.min.js`: Is what the developer would like to see when debugging\n+        the application. It has also gone through full pipeline of esbuild, babel optimization,\n+        plugins from the devkit and terser, however mangling is disabled and the minified\n+        file is formatted using prettier (to ease debugging).\n     -->\n   <script>\n     document.write('<script src=\"' +\n-      (document.location.search.endsWith('debug') ? '/bundle.min_debug.js' : '/bundle.min.js.br') +\n+      (document.location.search.endsWith('debug') ? '/bundle.debug.min.js' : '/bundle.min.js.br') +\n       '\"></' + 'script>');\n   </script>\n </body>\n \n-</html>\n\\ No newline at end of file\n+</html>"
        },
        {
            "sha": "187cfca242122128f70549f9446c8c70b2b54fb7",
            "filename": "packages/core/test/bundling/todo_r2/todo_e2e_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2Ftodo_e2e_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2Ftodo_e2e_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo_r2%2Ftodo_e2e_spec.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import '@angular/compiler';\n+\n import {ɵwhenRendered as whenRendered} from '@angular/core';\n import {withBody} from '@angular/private/testing';\n import * as path from 'path';\n@@ -15,7 +16,7 @@ const UTF8 = {\n   encoding: 'utf-8'\n };\n const PACKAGE = 'angular/packages/core/test/bundling/todo_r2';\n-const BUNDLES = ['bundle.js', 'bundle.min_debug.js', 'bundle.min.js'];\n+const BUNDLES = ['bundle.js', 'bundle.debug.min.js', 'bundle.min.js'];\n \n describe('functional test for todo', () => {\n   BUNDLES.forEach(bundle => {"
        },
        {
            "sha": "028d1cf456c722dcd6cb26d7947538df73aef598",
            "filename": "packages/core/test/render3/perf/BUILD.bazel",
            "status": "modified",
            "additions": 40,
            "deletions": 21,
            "changes": 61,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fperf%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,6 +1,6 @@\n-package(default_visibility = [\"//visibility:private\"])\n+load(\"//tools:defaults.bzl\", \"app_bundle\", \"jasmine_node_test\", \"ng_benchmark\", \"ts_library\")\n \n-load(\"//tools:defaults.bzl\", \"jasmine_node_test\", \"ng_benchmark\", \"ng_rollup_bundle\", \"ts_library\")\n+package(default_visibility = [\"//visibility:private\"])\n \n ts_library(\n     name = \"perf_lib\",\n@@ -22,9 +22,10 @@ jasmine_node_test(\n     ],\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"class_binding_lib\",\n     entry_point = \":class_binding/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -35,9 +36,10 @@ ng_benchmark(\n     bundle = \":class_binding_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"directive_inputs_lib\",\n     entry_point = \":directive_inputs/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -48,9 +50,10 @@ ng_benchmark(\n     bundle = \":directive_inputs_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"directive_instantiate_lib\",\n     entry_point = \":directive_instantiate/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -61,9 +64,10 @@ ng_benchmark(\n     bundle = \":directive_instantiate_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"element_text_create_lib\",\n     entry_point = \":element_text_create/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -74,9 +78,10 @@ ng_benchmark(\n     bundle = \":element_text_create_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"interpolation_lib\",\n     entry_point = \":interpolation/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -87,9 +92,10 @@ ng_benchmark(\n     bundle = \":interpolation_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"listeners_lib\",\n     entry_point = \":listeners/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -100,9 +106,10 @@ ng_benchmark(\n     bundle = \":listeners_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"noop_change_detection_lib\",\n     entry_point = \":noop_change_detection/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -113,9 +120,10 @@ ng_benchmark(\n     bundle = \":noop_change_detection_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"ng_template_lib\",\n     entry_point = \":ng_template/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -126,9 +134,10 @@ ng_benchmark(\n     bundle = \":ng_template_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"property_binding_lib\",\n     entry_point = \":property_binding/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -139,9 +148,10 @@ ng_benchmark(\n     bundle = \":property_binding_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"property_binding_update_lib\",\n     entry_point = \":property_binding_update/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -152,9 +162,10 @@ ng_benchmark(\n     bundle = \":property_binding_update_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"style_binding_lib\",\n     entry_point = \":style_binding/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -165,9 +176,10 @@ ng_benchmark(\n     bundle = \":style_binding_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"style_and_class_bindings_lib\",\n     entry_point = \":style_and_class_bindings/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -178,9 +190,10 @@ ng_benchmark(\n     bundle = \":style_and_class_bindings_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"map_based_style_and_class_bindings_lib\",\n     entry_point = \":map_based_style_and_class_bindings/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -191,9 +204,10 @@ ng_benchmark(\n     bundle = \":map_based_style_and_class_bindings_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"duplicate_style_and_class_bindings_lib\",\n     entry_point = \":duplicate_style_and_class_bindings/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -204,9 +218,10 @@ ng_benchmark(\n     bundle = \":duplicate_style_and_class_bindings_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"duplicate_map_based_style_and_class_bindings_lib\",\n     entry_point = \":duplicate_map_based_style_and_class_bindings/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -217,9 +232,10 @@ ng_benchmark(\n     bundle = \":duplicate_map_based_style_and_class_bindings_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"host_binding_lib\",\n     entry_point = \":host_binding/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -230,9 +246,10 @@ ng_benchmark(\n     bundle = \":host_binding_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"i18n_lib\",\n     entry_point = \":i18n/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -243,9 +260,10 @@ ng_benchmark(\n     bundle = \":i18n_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"view_destroy_hook_lib\",\n     entry_point = \":view_destroy_hook/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],\n@@ -256,9 +274,10 @@ ng_benchmark(\n     bundle = \":view_destroy_hook_lib\",\n )\n \n-ng_rollup_bundle(\n+app_bundle(\n     name = \"render_stringify_lib\",\n     entry_point = \":render_stringify/index.ts\",\n+    external = [\"perf_hooks\"],\n     deps = [\n         \":perf_lib\",\n     ],"
        },
        {
            "sha": "1c31b852d93fa829dc7a4bdf0e412859208e6034",
            "filename": "packages/core/test/render3/perf/README.md",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2FREADME.md",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2FREADME.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fperf%2FREADME.md?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,19 +1,19 @@\n ### Build\n \n ```\n-yarn bazel build //packages/core/test/render3/perf:${BENCHMARK}_lib.min_debug.js\n+yarn bazel build //packages/core/test/render3/perf:${BENCHMARK}_lib.debug.min.js\n ```\n \n ### Run \n \n ```\n-node dist/bin/packages/core/test/render3/perf/${BENCHMARK}_lib.min_debug.js\n+node dist/bin/packages/core/test/render3/perf/${BENCHMARK}_lib.debug.min.js\n ```\n \n ### Profile\n \n ```\n-node --no-turbo-inlining --inspect-brk dist/bin/packages/core/test/render3/perf/${BENCHMARK}_lib.min_debug.js\n+node --no-turbo-inlining --inspect-brk dist/bin/packages/core/test/render3/perf/${BENCHMARK}_lib.debug.min.js\n ```\n \n then connect with a debugger (the `--inspect-brk` option will make sure that benchmark execution doesn't start until a debugger is connected and the code execution is manually resumed). \n@@ -24,7 +24,7 @@ The actual benchmark code has calls that will start (`console.profile`) and stop\n \n ```\n yarn add deoptigate\n-yarn deoptigate dist/bin/packages/core/test/render3/perf/${BENCHMARK}_lib.min_debug.js\n+yarn deoptigate dist/bin/packages/core/test/render3/perf/${BENCHMARK}_lib.debug.min.js\n ```\n \n ### Run All\n@@ -83,4 +83,4 @@ To debug\n - Follow the directions in `profile_in_browser.html`\n OR\n - `yarn bazel build //packages/core/test/render3/perf:noop_change_detection`\n-- `node --inspect-brk bazel-out/darwin-fastbuild/bin/packages/core/test/render3/perf/noop_change_detection.min_debug.js`\n+- `node --inspect-brk bazel-out/darwin-fastbuild/bin/packages/core/test/render3/perf/noop_change_detection.debug.min.js`"
        },
        {
            "sha": "d96b5784f23f720b59acc5f7ee43bf2cb1f52cdd",
            "filename": "packages/core/test/render3/perf/micro_bench.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fmicro_bench.ts",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fmicro_bench.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fmicro_bench.ts?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -5,9 +5,10 @@\n  * Use of this source code is governed by an MIT-style license that can be\n  * found in the LICENSE file at https://angular.io/license\n  */\n-const performance = typeof require === 'undefined' ?  //\n-    window.performance :                              // We are in browser\n-    require('perf_hooks').performance;                // We are in node\n+\n+const performance = typeof global === 'undefined' ?  //\n+    window.performance :                             // We are in browser\n+    require('perf_hooks').performance;               // We are in node\n \n // Higher number here makes it more likely that we are more sure of the result.\n const MIN_SAMPLE_COUNT_NO_IMPROVEMENT = 500;"
        },
        {
            "sha": "6b5c19934322a28e729d309eb0c890d71643ea0b",
            "filename": "packages/core/test/render3/perf/profile_all.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fprofile_all.js",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fprofile_all.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fprofile_all.js?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -30,7 +30,7 @@ const profileTests =\n // build tests\n shell.exec(\n     `yarn bazel build ` +\n-    profileTests.map((name) => `//packages/core/test/render3/perf:${name}_lib.min_debug.js`)\n+    profileTests.map((name) => `//packages/core/test/render3/perf:${name}_lib.debug.min.js`)\n         .join(' '));\n \n // profile tests\n@@ -60,7 +60,7 @@ if (readPath) {\n profileTests.forEach((name) => {\n   // tslint:disable-next-line:no-console\n   console.log('----------------', name, '----------------');\n-  const log = shell.exec(`node dist/bin/packages/core/test/render3/perf/${name}_lib.min_debug.js`);\n+  const log = shell.exec(`node dist/bin/packages/core/test/render3/perf/${name}_lib.debug.min.js`);\n   if (log.code != 0) throw new Error(log);\n   const matches = log.stdout.match(/: ([\\d\\.]+) (.s)/);\n   const runTime = times[name] || (times[name] = {name: name});"
        },
        {
            "sha": "ec78734f505f3d61251e869884d4b79cfbafa25e",
            "filename": "packages/core/test/render3/perf/profile_in_browser.html",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fprofile_in_browser.html",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fprofile_in_browser.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fprofile_in_browser.html?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -3,13 +3,13 @@\n   let BASE = location.toString().split('packages/core/test/render3/perf')[0]\n   let BENCHMARK = location.search.split('=')[1];\n   document.writeln('<' + 'script src=\"' + BASE + '/dist/bin/packages/core/test/render3/perf/' + BENCHMARK +\n-    '_lib.min_debug.js\"></' + 'script>');\n+    '_lib.debug.min.js\"></' + 'script>');\n \n </script>\n \n <body>\n   <ol>\n-    <li>Build the benchmark using <tt>yarn bazel build //packages/core/test/render3/perf:${BENCHMARK}.min_debug.js</tt></li>\n+    <li>Build the benchmark using <tt>yarn bazel build //packages/core/test/render3/perf:${BENCHMARK}_lib.debug.min.js</tt></li>\n     <li>Open this file using the <tt>file://</tt> protocol and add <tt>?benchmark=BENCHMARK</tt> to the URL.</li>\n     <li>\n       Note: You should likely run this in an incognito browser with the \"no-turbo-inlining\" flag.<br />"
        },
        {
            "sha": "911e2f7df45abffc3505b32a21835e5ef51c7e0d",
            "filename": "packages/language-service/bundles/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 18,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Flanguage-service%2Fbundles%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Flanguage-service%2Fbundles%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fbundles%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,27 +1,14 @@\n-load(\"@npm//@angular/dev-infra-private/bazel/benchmark/ng_rollup_bundle:ng_rollup_bundle.bzl\", \"ng_rollup_bundle\")\n+load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n \n-ng_rollup_bundle(\n+rollup_bundle(\n     name = \"language-service\",\n-    build_optimizer = False,\n+    config_file = \"rollup.config.js\",\n     entry_point = \"//packages/language-service/src:ts_plugin.ts\",\n     format = \"amd\",\n-    globals = {\n-        \"os\": \"os\",\n-        \"fs\": \"fs\",\n-        \"path\": \"path\",\n-        \"typescript\": \"ts\",\n-        \"typescript/lib/tsserverlibrary\": \"tss\",\n-    },\n-    license_banner = \":banner\",\n+    silent = True,\n     visibility = [\"//packages/language-service:__pkg__\"],\n     deps = [\n         \"//packages/language-service/src\",\n+        \"@npm//@rollup/plugin-node-resolve\",\n     ],\n )\n-\n-genrule(\n-    name = \"banner\",\n-    srcs = [\"banner.js\"],\n-    outs = [\"banner.txt\"],\n-    cmd = \"cp $< $@\",\n-)"
        },
        {
            "sha": "b726d9e7f4f6b6275e7a84b50c49bdab05dc7519",
            "filename": "packages/language-service/bundles/banner.js",
            "status": "removed",
            "additions": 0,
            "deletions": 28,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/4e58a508a9c08d488fd8516bbc607eb6a1b250f2/packages%2Flanguage-service%2Fbundles%2Fbanner.js",
            "raw_url": "https://github.com/angular/angular/raw/4e58a508a9c08d488fd8516bbc607eb6a1b250f2/packages%2Flanguage-service%2Fbundles%2Fbanner.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fbundles%2Fbanner.js?ref=4e58a508a9c08d488fd8516bbc607eb6a1b250f2",
            "patch": "@@ -1,28 +0,0 @@\n-/**\n- * @license Angular v0.0.0-PLACEHOLDER\n- * Copyright Google LLC All Rights Reserved.\n- * License: MIT\n- */\n-\n-let $deferred;\n-function define(modules, callback) {\n-  $deferred = {modules, callback};\n-}\n-module.exports = function(provided) {\n-  const ts = provided['typescript'];\n-  if (!ts) {\n-    throw new Error('Caller does not provide typescript module');\n-  }\n-  const results = {};\n-  const resolvedModules = $deferred.modules.map(m => {\n-    if (m === 'exports') {\n-      return results;\n-    }\n-    if (m === 'typescript' || m === 'typescript/lib/tsserverlibrary') {\n-      return ts;\n-    }\n-    return require(m);\n-  });\n-  $deferred.callback(...resolvedModules);\n-  return results;\n-};"
        },
        {
            "sha": "b44c6979c08d52bdefa76f8ac3cb54e6251c486b",
            "filename": "packages/language-service/bundles/rollup.config.js",
            "status": "added",
            "additions": 60,
            "deletions": 0,
            "changes": 60,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Flanguage-service%2Fbundles%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Flanguage-service%2Fbundles%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fbundles%2Frollup.config.js?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -0,0 +1,60 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+\n+const {nodeResolve} = require('@rollup/plugin-node-resolve');\n+\n+// This is a custom AMD file header that patches the AMD `define` call generated\n+// by rollup so that the bundle exposes a CJS-exported function which takes an\n+// instance of the TypeScript module. More details in `/language-service/index.ts`.\n+const amdFileHeader = `\n+/**\n+ * @license Angular v0.0.0-PLACEHOLDER\n+ * Copyright Google LLC All Rights Reserved.\n+ * License: MIT\n+ */\n+\n+let $deferred;\n+function define(modules, callback) {\n+  $deferred = {modules, callback};\n+}\n+module.exports = function(provided) {\n+  const ts = provided['typescript'];\n+  if (!ts) {\n+    throw new Error('Caller does not provide typescript module');\n+  }\n+  const results = {};\n+  const resolvedModules = $deferred.modules.map(m => {\n+    if (m === 'exports') {\n+      return results;\n+    }\n+    if (m === 'typescript' || m === 'typescript/lib/tsserverlibrary') {\n+      return ts;\n+    }\n+    return require(m);\n+  });\n+  $deferred.callback(...resolvedModules);\n+  return results;\n+};\n+`;\n+\n+const external = [\n+  'os',\n+  'fs',\n+  'path',\n+  'typescript',\n+  'typescript/lib/tsserverlibrary',\n+];\n+\n+module.exports = {\n+  external,\n+  plugins: [nodeResolve({preferBuiltins: true})],\n+  output: {\n+    banner: amdFileHeader,\n+  }\n+};"
        },
        {
            "sha": "2d2057fc6ff7846b7a690e7a3bc18fe460f60a55",
            "filename": "packages/service-worker/worker/BUILD.bazel",
            "status": "modified",
            "additions": 12,
            "deletions": 2,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fservice-worker%2Fworker%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/packages%2Fservice-worker%2Fworker%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2Fworker%2FBUILD.bazel?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -1,4 +1,5 @@\n-load(\"//tools:defaults.bzl\", \"ng_rollup_bundle\", \"ts_library\")\n+load(\"@npm//@bazel/esbuild:index.bzl\", \"esbuild\")\n+load(\"//tools:defaults.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -22,9 +23,18 @@ ts_library(\n     deps = [\":worker\"],\n )\n \n-ng_rollup_bundle(\n+esbuild(\n     name = \"ngsw_worker\",\n+    args = {\n+        \"resolveExtensions\": [\".mjs\"],\n+    },\n     entry_point = \":main.ts\",\n+    format = \"iife\",\n+    platform = \"browser\",\n+    # All the browsers supported by Angular support `ES2017`, so we can ship the worker bundle with\n+    # target of `ES2017`. Technically even ES2020 can work since the worker does not use any of the\n+    # features that are unavailable in some supported browsers. This is risky though, so we keep ES2017.\n+    target = \"es2017\",\n     deps = [\n         \":main\",\n     ],"
        },
        {
            "sha": "bf1126c33edbecae3294ca017c9c36ea0c193ba9",
            "filename": "tools/defaults.bzl",
            "status": "modified",
            "additions": 5,
            "deletions": 17,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/tools%2Fdefaults.bzl",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/tools%2Fdefaults.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fdefaults.bzl?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -10,7 +10,7 @@ load(\"@npm//@bazel/typescript:index.bzl\", _ts_config = \"ts_config\", _ts_library\n load(\"@npm//@bazel/protractor:index.bzl\", _protractor_web_test_suite = \"protractor_web_test_suite\")\n load(\"@npm//typescript:index.bzl\", \"tsc\")\n load(\"//packages/bazel:index.bzl\", _ng_module = \"ng_module\", _ng_package = \"ng_package\")\n-load(\"@npm//@angular/dev-infra-private/bazel/benchmark/ng_rollup_bundle:ng_rollup_bundle.bzl\", _ng_rollup_bundle = \"ng_rollup_bundle\")\n+load(\"@npm//@angular/dev-infra-private/bazel/benchmark/app_bundling:index.bzl\", _app_bundle = \"app_bundle\")\n load(\"//tools:ng_benchmark.bzl\", _ng_benchmark = \"ng_benchmark\")\n load(\"@npm//@angular/dev-infra-private/bazel/api-golden:index.bzl\", _api_golden_test = \"api_golden_test\", _api_golden_test_npm_package = \"api_golden_test_npm_package\")\n load(\"@npm//@angular/dev-infra-private/bazel:extract_js_module_output.bzl\", \"extract_js_module_output\")\n@@ -452,23 +452,11 @@ def jasmine_node_test(bootstrap = [], **kwargs):\n         **kwargs\n     )\n \n-def ng_rollup_bundle(deps = [], **kwargs):\n-    \"\"\"Default values for ng_rollup_bundle\"\"\"\n-    deps = deps + [\n-        \"@npm//tslib\",\n-        \"@npm//reflect-metadata\",\n-    ]\n-    _ng_rollup_bundle(\n-        deps = deps,\n-        **kwargs\n-    )\n+def app_bundle(**kwargs):\n+    \"\"\"Default values for app_bundle\"\"\"\n+    _app_bundle(**kwargs)\n \n-# TODO: Consider removing this rule in favor of `ng_rollup_bundle`. Most of the tests use\n-# the benchmarking rule from dev-infra, but there are cases where we have a bad mix of\n-# the rollup bundle rules here. i.e.\n-#   - `@angular/language-service` uses the benchmarking rule for shipping to NPM.\n-#   - `@angular/service-worker` uses the benchmarking rule for shipping the worker minified.\n-#   - `zone.js` uses this rule (as the only consumer) for creating NPM package bundles.\n+# TODO: Consider removing this rule in favor of `esbuild` for more consistent bundling.\n def rollup_bundle(name, testonly = False, sourcemap = \"true\", **kwargs):\n     \"\"\"A drop in replacement for the rules nodejs [legacy rollup_bundle].\n "
        },
        {
            "sha": "f1ba5b99d0e81479033c71bb0461a4f90457cedd",
            "filename": "tools/ng_benchmark.bzl",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/tools%2Fng_benchmark.bzl",
            "raw_url": "https://github.com/angular/angular/raw/c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766/tools%2Fng_benchmark.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fng_benchmark.bzl?ref=c8cd5d5f2cabe2a49b649b3aac0e7f1c17951766",
            "patch": "@@ -13,20 +13,20 @@ def ng_benchmark(name, bundle):\n \n     Args:\n       name: name of the runnable rule to create\n-      bundle: label of the ng_rollup_bundle to run\n+      bundle: label of the bundle rule to run\n     \"\"\"\n \n     nodejs_binary(\n         name = name,\n         data = [bundle],\n-        entry_point = bundle + \".min_debug.js\",\n+        entry_point = bundle + \".debug.min.js\",\n         tags = [\"local\", \"manual\"],  # run benchmarks locally and never on CI\n     )\n \n     nodejs_binary(\n         name = name + \"_profile\",\n         data = [bundle],\n-        entry_point = bundle + \".min_debug.js\",\n+        entry_point = bundle + \".debug.min.js\",\n         args = [\"--node_options=--no-turbo-inlining --node_options=--inspect-brk\"],\n         tags = [\"local\", \"manual\"],  # run benchmarks locally and never on CI\n     )"
        }
    ],
    "stats": {
        "total": 1089,
        "additions": 496,
        "deletions": 593
    }
}