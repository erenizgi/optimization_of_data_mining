{
    "author": "ajitsinghkaler",
    "message": "test(docs-infra): add end to end tests for api reference (#37612)\n\nApi search functionality only had unit tests @gkalpak suggested we should have some e2e tests too. Added some end to end tests.\n\nFixes #35170\n\nPR Close #37612",
    "sha": "8924ec14746da21cba6583bb5042feb9220f2e65",
    "files": [
        {
            "sha": "d5d3f2d7dbbe7725d992269c17a375a878376303",
            "filename": "aio/tests/e2e/src/api-list.e2e-spec.ts",
            "status": "added",
            "additions": 52,
            "deletions": 0,
            "changes": 52,
            "blob_url": "https://github.com/angular/angular/blob/8924ec14746da21cba6583bb5042feb9220f2e65/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-list.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8924ec14746da21cba6583bb5042feb9220f2e65/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-list.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-list.e2e-spec.ts?ref=8924ec14746da21cba6583bb5042feb9220f2e65",
            "patch": "@@ -0,0 +1,52 @@\n+import { by, element } from 'protractor';\n+import { SitePage } from './app.po';\n+\n+describe('api-list', () => {\n+  const apiSearchInput = element(by.css('aio-api-list .form-search input'));\n+  const apiStatusDropdown = element(by.css('aio-api-list aio-select[label=\"Status:\"]'));\n+  const apiTypeDropdown = element(by.css('aio-api-list aio-select[label=\"Type:\"]'));\n+  let page: SitePage;\n+\n+  beforeEach(() => {\n+    page = new SitePage();\n+    page.navigateTo('api');\n+  });\n+\n+  it('should find AnimationSequenceMetadata when searching by partial word anima', () => {\n+    expect(page.getApiSearchResults()).toContain('HttpEventType');\n+\n+    apiSearchInput.clear();\n+    apiSearchInput.sendKeys('anima');\n+\n+    expect(page.getApiSearchResults()).not.toContain('HttpEventType');\n+    expect(page.getApiSearchResults()).toContain('AnimationSequenceMetadata');\n+  });\n+\n+  it('should find getLocaleDateTimeFormat when searching by partial word date', () => {\n+    expect(page.getApiSearchResults()).toContain('formatCurrency');\n+\n+    apiSearchInput.clear();\n+    apiSearchInput.sendKeys('date');\n+\n+    expect(page.getApiSearchResults()).not.toContain('formatCurrency');\n+    expect(page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n+  });\n+\n+  it('should find LowerCasePipe when searching for type pipe', () => {\n+    expect(page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n+\n+    page.clickDropdownItem(apiTypeDropdown, 'Pipe');\n+\n+    expect(page.getApiSearchResults()).not.toContain('getLocaleDateTimeFormat');\n+    expect(page.getApiSearchResults()).toContain('LowerCasePipe');\n+  });\n+\n+  it('should find ElementRef when searching for status Security Risk', () => {\n+    expect(page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n+\n+    page.clickDropdownItem(apiStatusDropdown, 'Security Risk');\n+\n+    expect(page.getApiSearchResults()).not.toContain('getLocaleDateTimeFormat');\n+    expect(page.getApiSearchResults()).toContain('ElementRef');\n+  });\n+});"
        },
        {
            "sha": "b97e89e4f30eea5712801169d2a6f97fa29e4343",
            "filename": "aio/tests/e2e/src/api-pages.e2e-spec.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8924ec14746da21cba6583bb5042feb9220f2e65/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-pages.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8924ec14746da21cba6583bb5042feb9220f2e65/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-pages.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-pages.e2e-spec.ts?ref=8924ec14746da21cba6583bb5042feb9220f2e65",
            "previous_filename": "aio/tests/e2e/src/api.e2e-spec.ts"
        },
        {
            "sha": "76a7725d636e12b035dfcca5cf279490c5b2068a",
            "filename": "aio/tests/e2e/src/app.po.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8924ec14746da21cba6583bb5042feb9220f2e65/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/8924ec14746da21cba6583bb5042feb9220f2e65/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.po.ts?ref=8924ec14746da21cba6583bb5042feb9220f2e65",
            "patch": "@@ -83,4 +83,16 @@ export class SitePage {\n     browser.wait(ExpectedConditions.presenceOf(results.first()), 8000);\n     return results.map(link => link && link.getText());\n   }\n+\n+  getApiSearchResults() {\n+    const results = element.all(by.css('aio-api-list .api-item'));\n+    browser.wait(ExpectedConditions.presenceOf(results.first()), 2000);\n+    return results.map(elem => elem && elem.getText());\n+  }\n+\n+  clickDropdownItem(dropdown: ElementFinder, itemName: string){\n+    dropdown.element(by.css('.form-select-button')).click();\n+    const menuItem = dropdown.element(by.cssContainingText('.form-select-dropdown li', itemName));\n+    menuItem.click();\n+  }\n }"
        }
    ],
    "stats": {
        "total": 64,
        "additions": 64,
        "deletions": 0
    }
}