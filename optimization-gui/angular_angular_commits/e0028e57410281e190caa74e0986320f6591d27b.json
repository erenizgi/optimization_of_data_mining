{
    "author": "alan-agius4",
    "message": "fix(platform-browser): configure `XhrFactory` to use `BrowserXhr` (#41313)\n\nWith this change we move `XhrFactory` to the root entrypoint of `@angular/commmon`, this is needed so that we can configure `XhrFactory` DI token at a platform level, and not add a dependency  between `@angular/platform-browser` and `@angular/common/http`.\n\nCurrently, when using `HttpClientModule` in a child module on the server, `ReferenceError: XMLHttpRequest is not defined` is being thrown because the child module has its own Injector and causes `XhrFactory` provider to be configured to use `BrowserXhr`.\nTherefore, we should configure the `XhrFactory` at a platform level similar to other Browser specific providers.\n\nBREAKING CHANGE:\n\n`XhrFactory` has been moved from `@angular/common/http` to `@angular/common`.\n\n**Before**\n```ts\nimport {XhrFactory} from '@angular/common/http';\n```\n\n**After**\n```ts\nimport {XhrFactory} from '@angular/common';\n```\n\nCloses #41311\n\nPR Close #41313",
    "sha": "e0028e57410281e190caa74e0986320f6591d27b",
    "files": [
        {
            "sha": "0b5ab5a10d4c593c9aafe4d4495b873430872f8c",
            "filename": "goldens/public-api/common/common.d.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fpublic-api%2Fcommon%2Fcommon.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fpublic-api%2Fcommon%2Fcommon.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fcommon.d.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -433,3 +433,7 @@ export declare enum WeekDay {\n     Friday = 5,\n     Saturday = 6\n }\n+\n+export declare abstract class XhrFactory {\n+    abstract build(): XMLHttpRequest;\n+}"
        },
        {
            "sha": "91cba7df51687278ed32f954e47e350ac077522a",
            "filename": "goldens/public-api/common/http/http.d.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -1947,7 +1947,3 @@ export declare class JsonpInterceptor {\n     constructor(jsonp: JsonpClientBackend);\n     intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>;\n }\n-\n-export declare abstract class XhrFactory {\n-    abstract build(): XMLHttpRequest;\n-}"
        },
        {
            "sha": "34682b743e953bfcdb9dcd9a84eaaf99c9ed2c1b",
            "filename": "goldens/size-tracking/aio-payloads.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fsize-tracking%2Faio-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fsize-tracking%2Faio-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Faio-payloads.json?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -21,7 +21,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 3153,\n-        \"main-es2015\": 437810,\n+        \"main-es2015\": 437306,\n         \"polyfills-es2015\": 52493\n       }\n     }"
        },
        {
            "sha": "1410f8ab36349431a80096fd3f0480c7f5c948da",
            "filename": "goldens/size-tracking/integration-payloads.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Fintegration-payloads.json?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -21,7 +21,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 1485,\n-        \"main-es2015\": 144151,\n+        \"main-es2015\": 144579,\n         \"polyfills-es2015\": 36964\n       }\n     }\n@@ -39,7 +39,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 2285,\n-        \"main-es2015\": 240352,\n+        \"main-es2015\": 240874,\n         \"polyfills-es2015\": 36975,\n         \"5-es2015\": 753\n       }"
        },
        {
            "sha": "9a19a913c983e329e98aa18758cb864fce0027be",
            "filename": "packages/common/http/public_api.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Fpublic_api.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Fpublic_api.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fpublic_api.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,6 +6,10 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+// TODO(alan-agius4): remove this export once migration has been done in Google3. (Should happen\n+// prior to V12 RC).\n+export {XhrFactory} from '@angular/common';\n+\n export {HttpBackend, HttpHandler} from './src/backend';\n export {HttpClient} from './src/client';\n export {HttpContext, HttpContextToken} from './src/context';\n@@ -16,5 +20,5 @@ export {HttpClientJsonpModule, HttpClientModule, HttpClientXsrfModule, HttpInter\n export {HttpParameterCodec, HttpParams, HttpParamsOptions, HttpUrlEncodingCodec} from './src/params';\n export {HttpRequest} from './src/request';\n export {HttpDownloadProgressEvent, HttpErrorResponse, HttpEvent, HttpEventType, HttpHeaderResponse, HttpProgressEvent, HttpResponse, HttpResponseBase, HttpSentEvent, HttpStatusCode, HttpUploadProgressEvent, HttpUserEvent} from './src/response';\n-export {HttpXhrBackend, XhrFactory} from './src/xhr';\n+export {HttpXhrBackend} from './src/xhr';\n export {HttpXsrfTokenExtractor} from './src/xsrf';"
        },
        {
            "sha": "3fae5c1056d86a29ba6ea527e74345474c8845b1",
            "filename": "packages/common/http/src/module.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Fsrc%2Fmodule.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Fsrc%2Fmodule.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Fmodule.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -15,7 +15,7 @@ import {HTTP_INTERCEPTORS, HttpInterceptor, HttpInterceptorHandler, NoopIntercep\n import {JsonpCallbackContext, JsonpClientBackend, JsonpInterceptor} from './jsonp';\n import {HttpRequest} from './request';\n import {HttpEvent} from './response';\n-import {BrowserXhr, HttpXhrBackend, XhrFactory} from './xhr';\n+import {HttpXhrBackend} from './xhr';\n import {HttpXsrfCookieExtractor, HttpXsrfInterceptor, HttpXsrfTokenExtractor, XSRF_COOKIE_NAME, XSRF_HEADER_NAME} from './xsrf';\n \n /**\n@@ -159,8 +159,6 @@ export class HttpClientXsrfModule {\n     {provide: HttpHandler, useClass: HttpInterceptingHandler},\n     HttpXhrBackend,\n     {provide: HttpBackend, useExisting: HttpXhrBackend},\n-    BrowserXhr,\n-    {provide: XhrFactory, useExisting: BrowserXhr},\n   ],\n })\n export class HttpClientModule {"
        },
        {
            "sha": "6a679c72e43e950e821f732e12b75cc91d6ee86b",
            "filename": "packages/common/http/src/xhr.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 31,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Fsrc%2Fxhr.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Fsrc%2Fxhr.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Fxhr.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {XhrFactory} from '@angular/common';\n import {Injectable} from '@angular/core';\n import {Observable, Observer} from 'rxjs';\n \n@@ -31,37 +32,6 @@ function getResponseUrl(xhr: any): string|null {\n   return null;\n }\n \n-/**\n- * A wrapper around the `XMLHttpRequest` constructor.\n- *\n- * @publicApi\n- */\n-export abstract class XhrFactory {\n-  abstract build(): XMLHttpRequest;\n-}\n-\n-/**\n- * A factory for `HttpXhrBackend` that uses the `XMLHttpRequest` browser API.\n- *\n- */\n-@Injectable()\n-export class BrowserXhr implements XhrFactory {\n-  constructor() {}\n-  build(): any {\n-    return <any>(new XMLHttpRequest());\n-  }\n-}\n-\n-/**\n- * Tracks a response from the server that does not yet have a body.\n- */\n-interface PartialResponse {\n-  headers: HttpHeaders;\n-  status: number;\n-  statusText: string;\n-  url: string;\n-}\n-\n /**\n  * Uses `XMLHttpRequest` to send requests to a backend server.\n  * @see `HttpHandler`"
        },
        {
            "sha": "73a82e7e29ed879060dc12f338d87dd50d742e7c",
            "filename": "packages/common/http/test/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Ftest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Ftest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2FBUILD.bazel?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -16,6 +16,7 @@ ts_library(\n     # Visible to //:saucelabs_unit_tests_poc target\n     visibility = [\"//:__pkg__\"],\n     deps = [\n+        \"//packages/common\",\n         \"//packages/common/http\",\n         \"//packages/common/http/testing\",\n         \"//packages/core\","
        },
        {
            "sha": "b912e299bd6680e1ad5144028ff5f0af30bdb4c2",
            "filename": "packages/common/http/test/xhr_mock.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Ftest%2Fxhr_mock.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fhttp%2Ftest%2Fxhr_mock.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Fxhr_mock.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,8 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {XhrFactory} from '@angular/common';\n import {HttpHeaders} from '@angular/common/http/src/headers';\n-import {XhrFactory} from '@angular/common/http/src/xhr';\n \n export class MockXhrFactory implements XhrFactory {\n   // TODO(issue/24571): remove '!'."
        },
        {
            "sha": "50ba9daa5a14a2516f1eba1b1bb899d6649fe8fc",
            "filename": "packages/common/src/common.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fsrc%2Fcommon.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fsrc%2Fcommon.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fcommon.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -26,3 +26,4 @@ export {AsyncPipe, DatePipe, I18nPluralPipe, I18nSelectPipe, JsonPipe, LowerCase\n export {PLATFORM_BROWSER_ID as ɵPLATFORM_BROWSER_ID, PLATFORM_SERVER_ID as ɵPLATFORM_SERVER_ID, PLATFORM_WORKER_APP_ID as ɵPLATFORM_WORKER_APP_ID, PLATFORM_WORKER_UI_ID as ɵPLATFORM_WORKER_UI_ID, isPlatformBrowser, isPlatformServer, isPlatformWorkerApp, isPlatformWorkerUi} from './platform_id';\n export {VERSION} from './version';\n export {ViewportScroller, NullViewportScroller as ɵNullViewportScroller} from './viewport_scroller';\n+export {XhrFactory} from './xhr';"
        },
        {
            "sha": "051e7d13ce747cbe529737bd8e30e3a4e97537b4",
            "filename": "packages/common/src/xhr.ts",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fsrc%2Fxhr.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcommon%2Fsrc%2Fxhr.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fxhr.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -0,0 +1,16 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+/**\n+ * A wrapper around the `XMLHttpRequest` constructor.\n+ *\n+ * @publicApi\n+ */\n+export abstract class XhrFactory {\n+  abstract build(): XMLHttpRequest;\n+}"
        },
        {
            "sha": "06309819796b5950b5694746e99bd2ab98744698",
            "filename": "packages/core/test/bundling/forms_reactive/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -53,6 +53,9 @@\n   {\n     \"name\": \"BrowserModule\"\n   },\n+  {\n+    \"name\": \"BrowserXhr\"\n+  },\n   {\n     \"name\": \"BuiltInControlValueAccessor\"\n   },"
        },
        {
            "sha": "9f2800dcad5eab7b08a64b4b836978ddfff58bbc",
            "filename": "packages/core/test/bundling/forms_template_driven/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -53,6 +53,9 @@\n   {\n     \"name\": \"BrowserModule\"\n   },\n+  {\n+    \"name\": \"BrowserXhr\"\n+  },\n   {\n     \"name\": \"BuiltInControlValueAccessor\"\n   },"
        },
        {
            "sha": "ef5302071d12af0ae5b2ad7f018e863f0b789e20",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -80,6 +80,9 @@\n   {\n     \"name\": \"BrowserViewportScroller\"\n   },\n+  {\n+    \"name\": \"BrowserXhr\"\n+  },\n   {\n     \"name\": \"CIRCULAR\"\n   },"
        },
        {
            "sha": "9074e146bbaf30295cd309b0ff204c0da6bf3682",
            "filename": "packages/misc/angular-in-memory-web-api/src/http-client-backend-service.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fhttp-client-backend-service.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fhttp-client-backend-service.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fhttp-client-backend-service.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,7 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {HttpBackend, HttpEvent, HttpHeaders, HttpParams, HttpRequest, HttpResponse, HttpXhrBackend, XhrFactory} from '@angular/common/http';\n+import {XhrFactory} from '@angular/common';\n+import {HttpBackend, HttpEvent, HttpHeaders, HttpParams, HttpRequest, HttpResponse, HttpXhrBackend} from '@angular/common/http';\n import {Inject, Injectable, Optional} from '@angular/core';\n import {Observable} from 'rxjs';\n import {map} from 'rxjs/operators';"
        },
        {
            "sha": "e2fe53ea15ca48ac4467d1629708af58efb8e9a2",
            "filename": "packages/misc/angular-in-memory-web-api/src/http-client-in-memory-web-api-module.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fhttp-client-in-memory-web-api-module.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fhttp-client-in-memory-web-api-module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fhttp-client-in-memory-web-api-module.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,7 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {HttpBackend, XhrFactory} from '@angular/common/http';\n+import {XhrFactory} from '@angular/common';\n+import {HttpBackend} from '@angular/common/http';\n import {ModuleWithProviders, NgModule, Type} from '@angular/core';\n \n import {HttpClientBackendService} from './http-client-backend-service';"
        },
        {
            "sha": "6234aa513bfc2ae8c92cb8dba3b21fd6f59463de",
            "filename": "packages/misc/angular-in-memory-web-api/src/in-memory-web-api-module.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fin-memory-web-api-module.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fin-memory-web-api-module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fmisc%2Fangular-in-memory-web-api%2Fsrc%2Fin-memory-web-api-module.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,7 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {HttpBackend, XhrFactory} from '@angular/common/http';\n+import {XhrFactory} from '@angular/common';\n+import {HttpBackend} from '@angular/common/http';\n import {ModuleWithProviders, NgModule, Type} from '@angular/core';\n \n import {httpClientInMemBackendServiceFactory} from './http-client-in-memory-web-api-module';"
        },
        {
            "sha": "0921d2e99742494c0f3803cb6f1b0b5ab46612e1",
            "filename": "packages/platform-browser/src/browser.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fplatform-browser%2Fsrc%2Fbrowser.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fplatform-browser%2Fsrc%2Fbrowser.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fsrc%2Fbrowser.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -6,12 +6,13 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {CommonModule, DOCUMENT, ɵPLATFORM_BROWSER_ID as PLATFORM_BROWSER_ID} from '@angular/common';\n-import {APP_ID, ApplicationModule, createPlatformFactory, ErrorHandler, Inject, ModuleWithProviders, NgModule, NgZone, Optional, PLATFORM_ID, PLATFORM_INITIALIZER, platformCore, PlatformRef, RendererFactory2, Sanitizer, SkipSelf, StaticProvider, Testability, ɵConsole as Console, ɵINJECTOR_SCOPE as INJECTOR_SCOPE, ɵsetDocument} from '@angular/core';\n+import {CommonModule, DOCUMENT, XhrFactory, ɵPLATFORM_BROWSER_ID as PLATFORM_BROWSER_ID} from '@angular/common';\n+import {APP_ID, ApplicationModule, createPlatformFactory, ErrorHandler, Inject, ModuleWithProviders, NgModule, NgZone, Optional, PLATFORM_ID, PLATFORM_INITIALIZER, platformCore, PlatformRef, RendererFactory2, Sanitizer, SkipSelf, StaticProvider, Testability, ɵINJECTOR_SCOPE as INJECTOR_SCOPE, ɵsetDocument} from '@angular/core';\n \n import {BrowserDomAdapter} from './browser/browser_adapter';\n import {SERVER_TRANSITION_PROVIDERS, TRANSITION_ID} from './browser/server-transition';\n import {BrowserGetTestability} from './browser/testability';\n+import {BrowserXhr} from './browser/xhr';\n import {ELEMENT_PROBE_PROVIDERS} from './dom/debug/ng_probe';\n import {DomRendererFactory2} from './dom/dom_renderer';\n import {DomEventsPlugin} from './dom/events/dom_events';\n@@ -88,6 +89,7 @@ export const BROWSER_MODULE_PROVIDERS: StaticProvider[] = [\n   {provide: DomSharedStylesHost, useClass: DomSharedStylesHost, deps: [DOCUMENT]},\n   {provide: Testability, useClass: Testability, deps: [NgZone]},\n   {provide: EventManager, useClass: EventManager, deps: [EVENT_MANAGER_PLUGINS, NgZone]},\n+  {provide: XhrFactory, useClass: BrowserXhr, deps: []},\n   ELEMENT_PROBE_PROVIDERS,\n ];\n "
        },
        {
            "sha": "706cd73240e10d282e58082b1aeb795870723c48",
            "filename": "packages/platform-browser/src/browser/xhr.ts",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fxhr.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fxhr.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fxhr.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -0,0 +1,20 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import {XhrFactory} from '@angular/common';\n+import {Injectable} from '@angular/core';\n+\n+/**\n+ * A factory for `HttpXhrBackend` that uses the `XMLHttpRequest` browser API.\n+ */\n+@Injectable()\n+export class BrowserXhr implements XhrFactory {\n+  build(): XMLHttpRequest {\n+    return new XMLHttpRequest();\n+  }\n+}"
        },
        {
            "sha": "0154c026dba5bff31f2477fb0bf2f794386b070f",
            "filename": "packages/platform-server/src/http.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fplatform-server%2Fsrc%2Fhttp.ts",
            "raw_url": "https://github.com/angular/angular/raw/e0028e57410281e190caa74e0986320f6591d27b/packages%2Fplatform-server%2Fsrc%2Fhttp.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-server%2Fsrc%2Fhttp.ts?ref=e0028e57410281e190caa74e0986320f6591d27b",
            "patch": "@@ -11,8 +11,8 @@ import {INITIAL_CONFIG, PlatformConfig} from './tokens';\n const xhr2: any = require('xhr2');\n \n import {Injectable, Injector, Provider} from '@angular/core';\n-import {PlatformLocation} from '@angular/common';\n-import {HttpEvent, HttpRequest, HttpHandler, HttpBackend, XhrFactory, ɵHttpInterceptingHandler as HttpInterceptingHandler} from '@angular/common/http';\n+import {PlatformLocation, XhrFactory} from '@angular/common';\n+import {HttpEvent, HttpRequest, HttpHandler, HttpBackend, ɵHttpInterceptingHandler as HttpInterceptingHandler} from '@angular/common/http';\n import {Observable, Observer, Subscription} from 'rxjs';\n \n // @see https://www.w3.org/Protocols/HTTP/1.1/draft-ietf-http-v11-spec-01#URI-syntax"
        }
    ],
    "stats": {
        "total": 124,
        "additions": 74,
        "deletions": 50
    }
}