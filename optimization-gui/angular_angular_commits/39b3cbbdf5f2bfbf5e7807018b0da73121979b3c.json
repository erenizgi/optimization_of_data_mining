{
    "author": "josephperrott",
    "message": "build: update .bazelversion (#40579)\n\nUpdate to the latest version of bazel.\n\n`4.0.0` introduced a breaking change on unnecessary backslashes and these\ninstance are corrected in this change.\n\nPR Close #40579",
    "sha": "39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
    "files": [
        {
            "sha": "21e00cfe036a065f71b363d229bc7bd15dd73142",
            "filename": ".bazelversion",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/.bazelversion",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/.bazelversion",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.bazelversion?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -1,3 +1,3 @@\n-3.6.0\n+4.0.0\n # [NB: this comment has to be after the first line, see https://github.com/bazelbuild/bazelisk/issues/117]\n # When updating the Bazel version you also need to update the RBE toolchains version in package.bzl"
        },
        {
            "sha": "371ff87b6c538029f1daccfae34ded924ddcc749",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/WORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/WORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/WORKSPACE?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -76,7 +76,7 @@ rbe_autoconfig(\n     # Need to specify a base container digest in order to ensure that we can use the checked-in\n     # platform configurations for the \"ubuntu16_04\" image. Otherwise the autoconfig rule would\n     # need to pull the image and run it in order determine the toolchain configuration. See:\n-    # https://github.com/bazelbuild/bazel-toolchains/blob/3.6.0/configs/ubuntu16_04_clang/versions.bzl\n+    # https://github.com/bazelbuild/bazel-toolchains/blob/4.0.0/configs/ubuntu16_04_clang/versions.bzl\n     base_container_digest = \"sha256:f6568d8168b14aafd1b707019927a63c2d37113a03bcee188218f99bd0327ea1\",\n     # Note that if you change the `digest`, you might also need to update the\n     # `base_container_digest` to make sure marketplace.gcr.io/google/rbe-ubuntu16-04-webtest:<digest>"
        },
        {
            "sha": "d064b9320df2b6b567e35d741cf303af7f52140b",
            "filename": "dev-infra/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/dev-infra%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/dev-infra%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2FBUILD.bazel?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -58,7 +58,7 @@ pkg_npm(\n         # This substitution is particularly verbose because we need to make sure\n         # that only things available via Angular Bazel are imported from\n         # tools/defaults.bzl.\n-        \"load\\(\\\"//tools:defaults.bzl\\\", \\\"ng_module\\\"\\)\": \"load(\\\"@npm//@angular/bazel:index.bzl\\\", \\\"ng_module\\\")\",\n+        \"load(\\\"//tools:defaults.bzl\\\", \\\"ng_module\\\")\": \"load(\\\"@npm//@angular/bazel:index.bzl\\\", \\\"ng_module\\\")\",\n     },\n     visibility = [\"//visibility:public\"],\n     deps = ["
        },
        {
            "sha": "f5b10a87c90f2ac4426de9cc594b4cb871472715",
            "filename": "packages/bazel/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fbazel%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fbazel%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2FBUILD.bazel?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -17,7 +17,7 @@ pkg_npm(\n         \"//packages/bazel/docs\",\n     ],\n     substitutions = {\n-        \"(#|\\/\\/)\\\\s+BEGIN-DEV-ONLY[\\\\w\\W]+?(#|\\/\\/)\\\\s+END-DEV-ONLY\": \"\",\n+        \"(#|//)\\\\s+BEGIN-DEV-ONLY[\\\\w\\\\W]+?(#|//)\\\\s+END-DEV-ONLY\": \"\",\n         \"//packages/bazel/\": \"//@angular/bazel/\",\n         \"@npm//@bazel/typescript/internal:\": \"//@bazel/typescript/internal:\",\n     },"
        },
        {
            "sha": "22838f6b1957fb5f1e3ecf91545eb99465c698da",
            "filename": "packages/bazel/package.bzl",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fbazel%2Fpackage.bzl",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fbazel%2Fpackage.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fpackage.bzl?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -29,11 +29,11 @@ def rules_angular_dev_dependencies():\n     _maybe(\n         http_archive,\n         name = \"bazel_toolchains\",\n-        sha256 = \"4fb3ceea08101ec41208e3df9e56ec72b69f3d11c56629d6477c0ff88d711cf7\",\n-        strip_prefix = \"bazel-toolchains-3.6.0\",\n+        sha256 = \"1adf5db506a7e3c465a26988514cfc3971af6d5b3c2218925cd6e71ee443fc3f\",\n+        strip_prefix = \"bazel-toolchains-4.0.0\",\n         urls = [\n-            \"https://mirror.bazel.build/github.com/bazelbuild/bazel-toolchains/releases/download/3.6.0/bazel-toolchains-3.6.0.tar.gz\",\n-            \"https://github.com/bazelbuild/bazel-toolchains/releases/download/3.6.0/bazel-toolchains-3.6.0.tar.gz\",\n+            \"https://mirror.bazel.build/github.com/bazelbuild/bazel-toolchains/releases/download/4.0.0/bazel-toolchains-4.0.0.tar.gz\",\n+            \"https://github.com/bazelbuild/bazel-toolchains/releases/download/4.0.0/bazel-toolchains-4.0.0.tar.gz\",\n         ],\n     )\n "
        },
        {
            "sha": "20c6fa951198c56e1b2a9e254a7011af4dc2267d",
            "filename": "packages/common/locales/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fcommon%2Flocales%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fcommon%2Flocales%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Flocales%2FBUILD.bazel?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -23,7 +23,7 @@ pkg_npm(\n         # dependencies in case require was called.\n         # We don't actually import anything in the locale code so we can\n         # null out the require reference passed into the module.\n-        \"factory\\(require, exports\\)\": \"factory(null, exports)\",\n+        \"factory\\\\(require, exports\\\\)\": \"factory(null, exports)\",\n     },\n     deps = [\":locales\"],\n )"
        },
        {
            "sha": "029fc75e8695d3b6d8913926750df7740d5f772b",
            "filename": "packages/private/testing/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fprivate%2Ftesting%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/39b3cbbdf5f2bfbf5e7807018b0da73121979b3c/packages%2Fprivate%2Ftesting%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fprivate%2Ftesting%2FBUILD.bazel?ref=39b3cbbdf5f2bfbf5e7807018b0da73121979b3c",
            "patch": "@@ -30,5 +30,5 @@ ng_module(\n genrule(\n     name = \"angular_ivy_enabled\",\n     outs = [\"src/angular_ivy_enabled.ts\"],\n-    cmd = \"echo export const ivyEnabled = \\\"'True'.toString() == '$(angular_ivy_enabled)'\\\"\\; > $@\",\n+    cmd = \"echo export const ivyEnabled = \\\"'True'.toString() == '$(angular_ivy_enabled)'\\\" > $@\",\n )"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 10,
        "deletions": 10
    }
}