{
    "author": "AleksanderBodurri",
    "message": "fix(devtools): disable router tree tab\n\nPreviously the router parser uses private APIs to create the visualization for the router tree tab. Now the router parser always returns an empty router tree, effectively disabling the router tree tab until the necessary framework APIs are developed.",
    "sha": "e85d65d26aa49465c31b0f66f61b5dfe8753fa87",
    "files": [
        {
            "sha": "d7755aecaf7bbccadad935eea471e987b1b753f8",
            "filename": "projects/ng-devtools-backend/src/lib/client-event-subscribers.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 8,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/e85d65d26aa49465c31b0f66f61b5dfe8753fa87/projects%2Fng-devtools-backend%2Fsrc%2Flib%2Fclient-event-subscribers.ts",
            "raw_url": "https://github.com/angular/angular/raw/e85d65d26aa49465c31b0f66f61b5dfe8753fa87/projects%2Fng-devtools-backend%2Fsrc%2Flib%2Fclient-event-subscribers.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools-backend%2Fsrc%2Flib%2Fclient-event-subscribers.ts?ref=e85d65d26aa49465c31b0f66f61b5dfe8753fa87",
            "patch": "@@ -8,10 +8,8 @@ import {\n   ComponentType,\n   ProfilerFrame,\n   ComponentExplorerViewQuery,\n-  Route,\n } from 'protocol';\n import { ComponentTreeNode, getLatestComponentState, queryDirectiveForest, updateState } from './component-tree';\n-import { parseRoutes } from './router-tree';\n import { start as startProfiling, stop as stopProfiling } from './hooks/capture';\n import { serializeDirectiveState } from './state-serializer/state-serializer';\n import { ComponentInspector } from './component-inspector/component-inspector';\n@@ -139,13 +137,11 @@ const getNestedPropertiesCallback = (messageBus: MessageBus<Events>) => (\n //\n // Subscribe Helpers\n //\n+\n+// todo: parse router tree with framework APIs after they are developed\n const getRoutes = (messageBus: MessageBus<Events>) => {\n-  const node = queryDirectiveForest([0], initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest());\n-  let routes: Route[] = [];\n-  if (node?.component?.instance?.router) {\n-    routes = [parseRoutes(node?.component?.instance?.router)];\n-  }\n-  messageBus.emit('updateRouterTree', [routes]);\n+  // Return empty router tree to disable tab.\n+  messageBus.emit('updateRouterTree', [[]]);\n };\n \n const checkForAngular = (messageBus: MessageBus<Events>): void => {"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 4,
        "deletions": 8
    }
}