{
    "author": "mgechev",
    "message": "feat(devtools): add multiple frame selection pointers",
    "sha": "25016b881070e14f023e4c0fe69bda0c595c7f14",
    "files": [
        {
            "sha": "bbb49b805b1058c6fbfe69f1734206dec0e24011",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.html",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.html",
            "raw_url": "https://github.com/angular/angular/raw/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.html?ref=25016b881070e14f023e4c0fe69bda0c595c7f14",
            "patch": "@@ -1,19 +1,24 @@\n <mat-card class=\"bar-graph-container\">\n-  <p class=\"txt-frames\">{{ currentFrameIndex + 1 }}/{{ (graphData$ | async)?.length }}</p>\n-  <button mat-icon-button (click)=\"move.emit(-1)\" [disabled]=\"currentFrameIndex <= 0\">\n+  <p class=\"txt-frames\">\n+    {{ startFrameIndex + 1 }}\n+    <span *ngIf=\"startFrameIndex !== endFrameIndex\"> - {{ endFrameIndex + 1 }} </span>/{{\n+      (graphData$ | async)?.length\n+    }}\n+  </p>\n+  <button mat-icon-button (click)=\"move.emit(-1)\" [disabled]=\"startFrameIndex <= 0\">\n     <mat-icon>chevron_left</mat-icon>\n   </button>\n \n   <cdk-virtual-scroll-viewport #barContainer orientation=\"horizontal\" [itemSize]=\"itemWidth\" class=\"bar-container\">\n     <div\n       *cdkVirtualFor=\"let d of graphData$ | async; let i = index\"\n       [ngStyle]=\"d.style\"\n-      [class.selected]=\"i === currentFrameIndex\"\n+      [class.selected]=\"i >= startFrameIndex && i <= endFrameIndex\"\n       (click)=\"selectFrame.emit(i)\"\n     ></div>\n   </cdk-virtual-scroll-viewport>\n \n-  <button mat-icon-button (click)=\"move.emit(1)\" [disabled]=\"currentFrameIndex >= (graphData$ | async)?.length - 1\">\n+  <button mat-icon-button (click)=\"move.emit(1)\" [disabled]=\"endFrameIndex >= (graphData$ | async)?.length - 1\">\n     <mat-icon>chevron_right</mat-icon>\n   </button>\n </mat-card>"
        },
        {
            "sha": "418ef24e8891e6af7440e5212f4bc21d01c622b5",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.ts?ref=25016b881070e14f023e4c0fe69bda0c595c7f14",
            "patch": "@@ -13,10 +13,13 @@ const ITEM_WIDTH = 29;\n })\n export class FrameSelectorComponent implements OnInit, OnDestroy {\n   @ViewChild('barContainer') barContainer: ElementRef;\n-  @Input() set currentFrame(value: number) {\n-    this.currentFrameIndex = value;\n+  @Input() set startFrame(value: number) {\n+    this.startFrameIndex = value;\n     this._ensureVisible(value);\n   }\n+  @Input() set endFrame(value: number) {\n+    this.endFrameIndex = value;\n+  }\n   @Input() set graphData$(graphData: Observable<GraphNode[]>) {\n     this._graphData$ = graphData;\n     this._graphDataSubscription = this._graphData$.subscribe((items) =>\n@@ -31,10 +34,11 @@ export class FrameSelectorComponent implements OnInit, OnDestroy {\n   }\n \n   @Output() move = new EventEmitter<number>();\n-  @Output() selectFrame = new EventEmitter<number>();\n+  @Output() selectFrame = new EventEmitter<[number, number]>();\n   @ViewChild(CdkVirtualScrollViewport) viewport: CdkVirtualScrollViewport;\n \n-  currentFrameIndex: number;\n+  startFrameIndex: number;\n+  endFrameIndex: number;\n \n   get itemWidth(): number {\n     return ITEM_WIDTH;"
        },
        {
            "sha": "e3d05c1dafc553595541b560d0101d9f7c31e230",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline.component.html",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.html",
            "raw_url": "https://github.com/angular/angular/raw/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.html?ref=25016b881070e14f023e4c0fe69bda0c595c7f14",
            "patch": "@@ -22,15 +22,16 @@\n     (move)=\"move($event)\"\n     (selectFrame)=\"selectFrame($event)\"\n     [graphData$]=\"graphData$\"\n-    [currentFrame]=\"currentFrameIndex\"\n+    [startFrame]=\"startFrame\"\n+    [endFrame]=\"endFrame\"\n   ></ng-frame-selector>\n \n-  <p class=\"info\" *ngIf=\"hasFrames && currentFrameIndex < 0\">\n+  <p class=\"info\" *ngIf=\"hasFrames && startFrame < 0\">\n     Select a bar to preview a particular change detection cycle.\n   </p>\n \n   <ng-timeline-visualizer\n-    *ngIf=\"hasFrames && currentFrameIndex >= 0\"\n+    *ngIf=\"hasFrames && startFrame >= 0\"\n     [visualizationMode]=\"visualizationMode\"\n     [frame]=\"frame\"\n     [changeDetection]=\"changeDetection\""
        },
        {
            "sha": "bd6eafe2faa781010e51dfbd0624da67a675e9cc",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline.component.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/25016b881070e14f023e4c0fe69bda0c595c7f14/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.ts?ref=25016b881070e14f023e4c0fe69bda0c595c7f14",
            "patch": "@@ -36,7 +36,8 @@ export class TimelineComponent implements OnDestroy {\n   @Output() exportProfile = new EventEmitter<void>();\n \n   visualizationMode = VisualizationMode.BarGraph;\n-  currentFrameIndex = -1;\n+  startFrame = -1;\n+  endFrame = -1;\n   changeDetection = false;\n \n   private _maxDuration = -Infinity;\n@@ -51,7 +52,7 @@ export class TimelineComponent implements OnDestroy {\n   }\n \n   get frame(): ProfilerFrame {\n-    return this._allRecords[this.currentFrameIndex];\n+    return this._allRecords[this.startFrame];\n   }\n \n   estimateFrameRate(timeSpent: number): number {\n@@ -60,14 +61,14 @@ export class TimelineComponent implements OnDestroy {\n   }\n \n   move(value: number): void {\n-    const newVal = this.currentFrameIndex + value;\n+    const newVal = this.startFrame + value;\n     if (newVal > -1 && newVal < this._allRecords.length) {\n-      this.currentFrameIndex = newVal;\n+      this.selectFrame(newVal);\n     }\n   }\n \n   selectFrame(index: number): void {\n-    this.currentFrameIndex = index;\n+    this.startFrame = this.endFrame = index;\n   }\n \n   getColorByFrameRate(framerate: number): string {"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 27,
        "deletions": 16
    }
}