{
    "author": "danieltre23",
    "message": "refactor(compiler-cli): introduce extended package to typecheck with it's API (#42984)\n\nThis commit introduces //packages/compiler-cli/src/ngtsc/typecheck/extended\nas a container for a new phase of diagnostics generation. The API provides an\ninterface for new template checks to implement and generate template diagnostics.\n\nRefs #42966\n\nPR Close #42984",
    "sha": "3a092d6cea6856d0760537de5774530287b2784c",
    "files": [
        {
            "sha": "a2174ecf8162a7ba613f841faa8d6c8fad6d0540",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/extended/api/BUILD.bazel",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/3a092d6cea6856d0760537de5774530287b2784c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fextended%2Fapi%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/3a092d6cea6856d0760537de5774530287b2784c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fextended%2Fapi%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fextended%2Fapi%2FBUILD.bazel?ref=3a092d6cea6856d0760537de5774530287b2784c",
            "patch": "@@ -0,0 +1,15 @@\n+load(\"//tools:defaults.bzl\", \"ts_library\")\n+\n+ts_library(\n+    name = \"api\",\n+    srcs = glob(\n+        [\"**/*.ts\"],\n+    ),\n+    visibility = [\"//packages/compiler-cli/src/ngtsc:__subpackages__\"],\n+    deps = [\n+        \"//packages/compiler\",\n+        \"//packages/compiler-cli/src/ngtsc/diagnostics\",\n+        \"//packages/compiler-cli/src/ngtsc/typecheck/api\",\n+        \"@npm//typescript\",\n+    ],\n+)"
        },
        {
            "sha": "43ab0f1feca7d799b4672763264e13d551261ad5",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/extended/api/api.ts",
            "status": "added",
            "additions": 47,
            "deletions": 0,
            "changes": 47,
            "blob_url": "https://github.com/angular/angular/blob/3a092d6cea6856d0760537de5774530287b2784c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fextended%2Fapi%2Fapi.ts",
            "raw_url": "https://github.com/angular/angular/raw/3a092d6cea6856d0760537de5774530287b2784c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fextended%2Fapi%2Fapi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fextended%2Fapi%2Fapi.ts?ref=3a092d6cea6856d0760537de5774530287b2784c",
            "patch": "@@ -0,0 +1,47 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import {TmplAstNode} from '@angular/compiler';\n+import * as ts from 'typescript';\n+\n+import {ErrorCode} from '../../../diagnostics';\n+import {TemplateTypeChecker} from '../../api';\n+\n+/**\n+ * A `ts.Diangostic` with a specific error code.\n+ */\n+export type TemplateDiagnostic<T extends ErrorCode> = ts.Diagnostic&{code: T};\n+\n+/**\n+ * A Template Check receives information about the template it's checking and returns\n+ * information about the diagnostics to be generated.\n+ */\n+export interface TemplateCheck<T extends ErrorCode> {\n+  /** Unique template check code, used for configuration and searching the error. */\n+  code: T;\n+\n+  /** Runs check and returns information about the diagnostics to be generated. */\n+  run(ctx: TemplateContext, template: TmplAstNode[]): TemplateDiagnostic<T>[];\n+}\n+\n+/**\n+ * The TemplateContext provided to a Template Check to get diagnostic information.\n+ */\n+export interface TemplateContext {\n+  /** Interface that provides information about template nodes. */\n+  templateTypeChecker: TemplateTypeChecker;\n+\n+  /**\n+   * TypeScript interface that provides type information about symbols that appear\n+   * in the template (it is not to query types outside the Angular component).\n+   */\n+  typeChecker: ts.TypeChecker;\n+\n+  /** The `@Component()` class from which the template was obtained. */\n+  component: ts.ClassDeclaration;\n+}"
        }
    ],
    "stats": {
        "total": 62,
        "additions": 62,
        "deletions": 0
    }
}