{
    "author": "petebacondarwin",
    "message": "test(compiler): remove IE11 match in JIT compiler tests (#44122)\n\nSince we no longer support (nor test on) IE11 we can remove these matches\nfor `anonymous` functions.\n\nPR Close #44122",
    "sha": "18cc7c8b043e3f82e38ea37fe4d8386da32b2d22",
    "files": [
        {
            "sha": "670355f05970fc441ef3aaab33db965f3ef9fab3",
            "filename": "packages/core/test/render3/jit/declare_component_spec.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 24,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/18cc7c8b043e3f82e38ea37fe4d8386da32b2d22/packages%2Fcore%2Ftest%2Frender3%2Fjit%2Fdeclare_component_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18cc7c8b043e3f82e38ea37fe4d8386da32b2d22/packages%2Fcore%2Ftest%2Frender3%2Fjit%2Fdeclare_component_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fjit%2Fdeclare_component_spec.ts?ref=18cc7c8b043e3f82e38ea37fe4d8386da32b2d22",
            "patch": "@@ -18,10 +18,7 @@ describe('component declaration jit compilation', () => {\n                 }) as ComponentDef<TestClass>;\n \n     expectComponentDef(def, {\n-      template: functionContaining([\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:element|anonymous)[^(]*\\(0,'div'\\)/,\n-      ]),\n+      template: functionContaining([/element[^(]*\\(0,'div'\\)/]),\n     });\n   });\n \n@@ -130,15 +127,13 @@ describe('component declaration jit compilation', () => {\n       contentQueries: functionContaining([\n         // \"byRef\" should use `contentQuery` with `0` (`QueryFlags.none`) for query flag\n         // without a read token, and bind to the full query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:contentQuery|anonymous)[^(]*\\(dirIndex,_c0,4\\)/,\n+        /contentQuery[^(]*\\(dirIndex,_c0,4\\)/,\n         '(ctx.byRef = _t)',\n \n         // \"byToken\" should use `staticContentQuery` with `3`\n         // (`QueryFlags.descendants|QueryFlags.isStatic`) for query flag and `ElementRef` as\n         // read token, and bind to the first result in the query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:contentQuery|anonymous)[^(]*\\(dirIndex,[^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n+        /contentQuery[^(]*\\(dirIndex,[^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n         '(ctx.byToken = _t.first)',\n       ]),\n     });\n@@ -168,16 +163,14 @@ describe('component declaration jit compilation', () => {\n     expectComponentDef(def, {\n       viewQuery: functionContaining([\n         // \"byRef\" should use `viewQuery` with `0` (`QueryFlags.none`) for query flag without a read\n-        // token, and bind to the full query result. NOTE: the `anonymous` match is to support IE11,\n-        // as functions don't have a name there.\n-        /(?:viewQuery|anonymous)[^(]*\\(_c0,4\\)/,\n+        // token, and bind to the full query result.\n+        /viewQuery[^(]*\\(_c0,4\\)/,\n         '(ctx.byRef = _t)',\n \n         // \"byToken\" should use `viewQuery` with `3`\n         // (`QueryFlags.descendants|QueryFlags.isStatic`) for query flag and `ElementRef` as\n         // read token, and bind to the first result in the query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:viewQuery|anonymous)[^(]*\\([^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n+        /viewQuery[^(]*\\([^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n         '(ctx.byToken = _t.first)',\n       ]),\n     });\n@@ -210,9 +203,8 @@ describe('component declaration jit compilation', () => {\n       ],\n       hostBindings: functionContaining([\n         'return ctx.handleEvent($event)',\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:hostProperty|anonymous)[^(]*\\('foo',ctx\\.foo\\.prop\\)/,\n-        /(?:attribute|anonymous)[^(]*\\('bar',ctx\\.bar\\.prop\\)/,\n+        /hostProperty[^(]*\\('foo',ctx\\.foo\\.prop\\)/,\n+        /attribute[^(]*\\('bar',ctx\\.bar\\.prop\\)/,\n       ]),\n       hostVars: 2,\n     });\n@@ -309,16 +301,14 @@ describe('component declaration jit compilation', () => {\n \n     expectComponentDef(whenTrue, {\n       template: functionContaining([\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:elementStart|anonymous)[^(]*\\(0,'div'\\)/,\n-        /(?:text|anonymous)[^(]*\\(1,'    Foo    '\\)/,\n+        /elementStart[^(]*\\(0,'div'\\)/,\n+        /text[^(]*\\(1,'    Foo    '\\)/,\n       ]),\n     });\n     expectComponentDef(whenOmitted, {\n       template: functionContaining([\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:elementStart|anonymous)[^(]*\\(0,'div'\\)/,\n-        /(?:text|anonymous)[^(]*\\(1,' Foo '\\)/,\n+        /elementStart[^(]*\\(0,'div'\\)/,\n+        /text[^(]*\\(1,' Foo '\\)/,\n       ]),\n     });\n   });\n@@ -332,8 +322,7 @@ describe('component declaration jit compilation', () => {\n \n     expectComponentDef(def, {\n       template: functionContaining([\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:textInterpolate|anonymous)[^(]*\\(ctx.foo\\)/,\n+        /textInterpolate[^(]*\\(ctx.foo\\)/,\n       ]),\n     });\n   });"
        },
        {
            "sha": "d9aee93ee811403cae3ff0c81b152ffbfa8e3070",
            "filename": "packages/core/test/render3/jit/declare_directive_spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 11,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/18cc7c8b043e3f82e38ea37fe4d8386da32b2d22/packages%2Fcore%2Ftest%2Frender3%2Fjit%2Fdeclare_directive_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18cc7c8b043e3f82e38ea37fe4d8386da32b2d22/packages%2Fcore%2Ftest%2Frender3%2Fjit%2Fdeclare_directive_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fjit%2Fdeclare_directive_spec.ts?ref=18cc7c8b043e3f82e38ea37fe4d8386da32b2d22",
            "patch": "@@ -104,15 +104,13 @@ describe('directive declaration jit compilation', () => {\n       contentQueries: functionContaining([\n         // \"byRef\" should use `contentQuery` with `0` (`QueryFlags.descendants|QueryFlags.isStatic`)\n         // for query flag without a read token, and bind to the full query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:contentQuery|anonymous)[^(]*\\(dirIndex,_c0,4\\)/,\n+        /contentQuery[^(]*\\(dirIndex,_c0,4\\)/,\n         '(ctx.byRef = _t)',\n \n         // \"byToken\" should use `viewQuery` with `3` (`QueryFlags.static|QueryFlags.descendants`)\n         // for query flag and `ElementRef` as read token, and bind to the first result in the\n         // query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:contentQuery|anonymous)[^(]*\\([^,]*dirIndex,[^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n+        /contentQuery[^(]*\\([^,]*dirIndex,[^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n         '(ctx.byToken = _t.first)',\n       ]),\n     });\n@@ -142,15 +140,13 @@ describe('directive declaration jit compilation', () => {\n       viewQuery: functionContaining([\n         // \"byRef\" should use `viewQuery` with`0` (`QueryFlags.none`) for query flag without a read\n         // token, and bind to the full query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:viewQuery|anonymous)[^(]*\\(_c0,4\\)/,\n+        /viewQuery[^(]*\\(_c0,4\\)/,\n         '(ctx.byRef = _t)',\n \n         // \"byToken\" should use `viewQuery` with `3` (`QueryFlags.static|QueryFlags.descendants`)\n         // for query flag and `ElementRef` as read token, and bind to the first result in the\n         // query result.\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:viewQuery|anonymous)[^(]*\\([^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n+        /viewQuery[^(]*\\([^,]*String[^,]*,3,[^)]*ElementRef[^)]*\\)/,\n         '(ctx.byToken = _t.first)',\n       ]),\n     });\n@@ -182,9 +178,8 @@ describe('directive declaration jit compilation', () => {\n       ],\n       hostBindings: functionContaining([\n         'return ctx.handleEvent($event)',\n-        // NOTE: the `anonymous` match is to support IE11, as functions don't have a name there.\n-        /(?:hostProperty|anonymous)[^(]*\\('foo',ctx\\.foo\\.prop\\)/,\n-        /(?:attribute|anonymous)[^(]*\\('bar',ctx\\.bar\\.prop\\)/,\n+        /hostProperty[^(]*\\('foo',ctx\\.foo\\.prop\\)/,\n+        /attribute[^(]*\\('bar',ctx\\.bar\\.prop\\)/,\n       ]),\n       hostVars: 2,\n     });"
        }
    ],
    "stats": {
        "total": 54,
        "additions": 19,
        "deletions": 35
    }
}