{
    "author": "AndrewKushnir",
    "message": "refactor(core): throw more descriptive error message in case of invalid host element (#35916)\n\nThis commit replaces an assert with more descriptive error message that is thrown in case `<ng-template>` or `<ng-container>` is used as host element for a Component.\n\nResolves #35240.\n\nPR Close #35916",
    "sha": "0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
    "files": [
        {
            "sha": "bf9cd1e47f1865537e441ca8cf7a816e51a7dbdc",
            "filename": "goldens/size-tracking/integration-payloads.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Fintegration-payloads.json?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -62,7 +62,7 @@\n         \"bundle\": \"TODO(i): we should define ngDevMode to false in Closure, but --define only works in the global scope.\",\n         \"bundle\": \"TODO(i): (FW-2164) TS 3.9 new class shape seems to have broken Closure in big ways. The size went from 169991 to 252338\",\n         \"bundle\": \"TODO(i): after removal of tsickle from ngc-wrapped / ng_package, we had to switch to SIMPLE optimizations which increased the size from 252338 to 1198917, see PR#37221 and PR#37317 for more info\",\n-        \"bundle\": 1209688\n+        \"bundle\": 1210239\n       }\n     }\n   }"
        },
        {
            "sha": "eed3fb24d680e0298016a83e9d3b346e98a0072f",
            "filename": "packages/core/src/render3/component_ref.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent_ref.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -225,7 +225,7 @@ export class ComponentFactory<T> extends viewEngine_ComponentFactory<T> {\n         createElementRef(viewEngine_ElementRef, tElementNode, rootLView), rootLView, tElementNode);\n \n     // The host element of the internal root view is attached to the component's host view node.\n-    ngDevMode && assertNodeOfPossibleTypes(rootTView.node, TNodeType.View);\n+    ngDevMode && assertNodeOfPossibleTypes(rootTView.node, [TNodeType.View]);\n     rootTView.node!.child = tElementNode;\n \n     return componentRef;"
        },
        {
            "sha": "a80b1d185d6be40a0e1de7be0b1cfabe997145ed",
            "filename": "packages/core/src/render3/di.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -267,7 +267,7 @@ export function diPublicInInjector(\n export function injectAttributeImpl(tNode: TNode, attrNameToInject: string): string|null {\n   ngDevMode &&\n       assertNodeOfPossibleTypes(\n-          tNode, TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer);\n+          tNode, [TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer]);\n   ngDevMode && assertDefined(tNode, 'expecting tNode');\n   if (attrNameToInject === 'class') {\n     return tNode.classes;"
        },
        {
            "sha": "075ed38037e418e0e9e139d81c5aaf37765bacb8",
            "filename": "packages/core/src/render3/instructions/di.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -9,8 +9,7 @@ import {InjectFlags, InjectionToken, resolveForwardRef} from '../../di';\n import {ɵɵinject} from '../../di/injector_compatibility';\n import {Type} from '../../interface/type';\n import {getOrCreateInjectable, injectAttributeImpl} from '../di';\n-import {TDirectiveHostNode, TNodeType} from '../interfaces/node';\n-import {assertNodeOfPossibleTypes} from '../node_assert';\n+import {TDirectiveHostNode} from '../interfaces/node';\n import {getLView, getPreviousOrParentTNode} from '../state';\n \n /**"
        },
        {
            "sha": "3a8daffc7081ec3204c28bc06b26dea03418c4b8",
            "filename": "packages/core/src/render3/instructions/listener.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -128,7 +128,7 @@ function listenerInternal(\n \n   ngDevMode &&\n       assertNodeOfPossibleTypes(\n-          tNode, TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer);\n+          tNode, [TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer]);\n \n   let processOutputs = true;\n "
        },
        {
            "sha": "b80e445cf5cbae4a2e79cb5e9080dc308266c1cb",
            "filename": "packages/core/src/render3/instructions/shared.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -15,6 +15,7 @@ import {assertDataInRange, assertDefined, assertDomNode, assertEqual, assertGrea\n import {createNamedArrayType} from '../../util/named_array_type';\n import {initNgDevMode} from '../../util/ng_dev_mode';\n import {normalizeDebugBindingName, normalizeDebugBindingValue} from '../../util/ng_reflect';\n+import {stringify} from '../../util/stringify';\n import {assertFirstCreatePass, assertLContainer, assertLView} from '../assert';\n import {attachPatchData} from '../context_discovery';\n import {getFactoryDef} from '../definition';\n@@ -272,7 +273,7 @@ export function assignTViewNodeToLView(\n   let tNode = tView.node;\n   if (tNode == null) {\n     ngDevMode && tParentNode &&\n-        assertNodeOfPossibleTypes(tParentNode, TNodeType.Element, TNodeType.Container);\n+        assertNodeOfPossibleTypes(tParentNode, [TNodeType.Element, TNodeType.Container]);\n     tView.node = tNode = createTNode(\n                              tView,\n                              tParentNode as TElementNode | TContainerNode | null,  //\n@@ -1278,7 +1279,7 @@ function instantiateAllDirectives(\n     const isComponent = isComponentDef(def);\n \n     if (isComponent) {\n-      ngDevMode && assertNodeOfPossibleTypes(tNode, TNodeType.Element);\n+      ngDevMode && assertNodeOfPossibleTypes(tNode, [TNodeType.Element]);\n       addComponentLogic(lView, tNode as TElementNode, def as ComponentDef<any>);\n     }\n \n@@ -1366,7 +1367,7 @@ function findDirectiveDefMatches(\n   ngDevMode && assertFirstCreatePass(tView);\n   ngDevMode &&\n       assertNodeOfPossibleTypes(\n-          tNode, TNodeType.Element, TNodeType.ElementContainer, TNodeType.Container);\n+          tNode, [TNodeType.Element, TNodeType.ElementContainer, TNodeType.Container]);\n   const registry = tView.directiveRegistry;\n   let matches: any[]|null = null;\n   if (registry) {\n@@ -1377,6 +1378,12 @@ function findDirectiveDefMatches(\n         diPublicInInjector(getOrCreateNodeInjectorForNode(tNode, viewData), tView, def.type);\n \n         if (isComponentDef(def)) {\n+          ngDevMode &&\n+              assertNodeOfPossibleTypes(\n+                  tNode, [TNodeType.Element],\n+                  `\"${tNode.tagName}\" tags cannot be used as component hosts. ` +\n+                      `Please use a different tag to activate the ${\n+                          stringify(def.type)} component.`);\n           if (tNode.flags & TNodeFlags.isComponentHost) throwMultipleComponentError(tNode);\n           markAsComponentHost(tView, tNode);\n           // The component is always stored first with directives after."
        },
        {
            "sha": "59714e88dfd5e6bbb235b72c85090f368813d07a",
            "filename": "packages/core/src/render3/node_assert.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fnode_assert.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fnode_assert.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fnode_assert.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -26,12 +26,14 @@ export function assertNodeType(tNode: TNode, type: TNodeType): asserts tNode is\n   assertEqual(tNode.type, type, `should be a ${typeName(type)}`);\n }\n \n-export function assertNodeOfPossibleTypes(tNode: TNode|null, ...types: TNodeType[]): void {\n+export function assertNodeOfPossibleTypes(\n+    tNode: TNode|null, types: TNodeType[], message?: string): void {\n   assertDefined(tNode, 'should be called with a TNode');\n   const found = types.some(type => tNode.type === type);\n   assertEqual(\n       found, true,\n-      `Should be one of ${types.map(typeName).join(', ')} but got ${typeName(tNode.type)}`);\n+      message ??\n+          `Should be one of ${types.map(typeName).join(', ')} but got ${typeName(tNode.type)}`);\n }\n \n export function assertNodeNotOfTypes(tNode: TNode, types: TNodeType[], message?: string): void {"
        },
        {
            "sha": "c7ce0d2542baf401eefdae6cbd02fdae2dbb4658",
            "filename": "packages/core/src/render3/node_manipulation.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -552,7 +552,7 @@ function getRenderParent(tView: TView, tNode: TNode, currentView: LView): REleme\n     } else {\n       // We are inserting a root element of the component view into the component host element and\n       // it should always be eager.\n-      ngDevMode && assertNodeOfPossibleTypes(hostTNode, TNodeType.Element);\n+      ngDevMode && assertNodeOfPossibleTypes(hostTNode, [TNodeType.Element]);\n       return currentView[HOST];\n     }\n   } else {\n@@ -698,10 +698,10 @@ export function appendChild(\n  */\n function getFirstNativeNode(lView: LView, tNode: TNode|null): RNode|null {\n   if (tNode !== null) {\n-    ngDevMode &&\n-        assertNodeOfPossibleTypes(\n-            tNode, TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer,\n-            TNodeType.IcuContainer, TNodeType.Projection);\n+    ngDevMode && assertNodeOfPossibleTypes(tNode, [\n+      TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer, TNodeType.IcuContainer,\n+      TNodeType.Projection\n+    ]);\n \n     const tNodeType = tNode.type;\n     if (tNodeType === TNodeType.Element) {\n@@ -778,10 +778,10 @@ function applyNodes(\n     renderParent: RElement|null, beforeNode: RNode|null, isProjection: boolean) {\n   while (tNode != null) {\n     ngDevMode && assertTNodeForLView(tNode, lView);\n-    ngDevMode &&\n-        assertNodeOfPossibleTypes(\n-            tNode, TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer,\n-            TNodeType.Projection, TNodeType.Projection, TNodeType.IcuContainer);\n+    ngDevMode && assertNodeOfPossibleTypes(tNode, [\n+      TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer, TNodeType.Projection,\n+      TNodeType.IcuContainer\n+    ]);\n     const rawSlotValue = lView[tNode.index];\n     const tNodeType = tNode.type;\n     if (isProjection) {\n@@ -798,7 +798,7 @@ function applyNodes(\n         applyProjectionRecursive(\n             renderer, action, lView, tNode as TProjectionNode, renderParent, beforeNode);\n       } else {\n-        ngDevMode && assertNodeOfPossibleTypes(tNode, TNodeType.Element, TNodeType.Container);\n+        ngDevMode && assertNodeOfPossibleTypes(tNode, [TNodeType.Element, TNodeType.Container]);\n         applyToElementOrContainer(action, renderer, renderParent, rawSlotValue, beforeNode);\n       }\n     }"
        },
        {
            "sha": "63eaf2bd7d8295c1874acd89150a83d5db04e217",
            "filename": "packages/core/src/render3/query.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -326,7 +326,7 @@ function createSpecialToken(lView: LView, tNode: TNode, read: any): any {\n   } else if (read === ViewContainerRef) {\n     ngDevMode &&\n         assertNodeOfPossibleTypes(\n-            tNode, TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer);\n+            tNode, [TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer]);\n     return createContainerRef(\n         ViewContainerRef, ViewEngine_ElementRef,\n         tNode as TElementNode | TContainerNode | TElementContainerNode, lView);"
        },
        {
            "sha": "42e69cea5a40ebd5eab491f4e9080ef61fe255b8",
            "filename": "packages/core/src/render3/view_engine_compatibility.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -340,7 +340,7 @@ export function createContainerRef(\n \n   ngDevMode &&\n       assertNodeOfPossibleTypes(\n-          hostTNode, TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer);\n+          hostTNode, [TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer]);\n \n   let lContainer: LContainer;\n   const slotValue = hostView[hostTNode.index];"
        },
        {
            "sha": "34213987261b6eecee5b777dc0333078970e44da",
            "filename": "packages/core/src/render3/view_ref.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -324,10 +324,10 @@ function collectNativeNodes(\n     tView: TView, lView: LView, tNode: TNode|null, result: any[],\n     isProjection: boolean = false): any[] {\n   while (tNode !== null) {\n-    ngDevMode &&\n-        assertNodeOfPossibleTypes(\n-            tNode, TNodeType.Element, TNodeType.Container, TNodeType.Projection,\n-            TNodeType.ElementContainer, TNodeType.IcuContainer);\n+    ngDevMode && assertNodeOfPossibleTypes(tNode, [\n+      TNodeType.Element, TNodeType.Container, TNodeType.Projection, TNodeType.ElementContainer,\n+      TNodeType.IcuContainer\n+    ]);\n \n     const lNode = lView[tNode.index];\n     if (lNode !== null) {"
        },
        {
            "sha": "46ed24bdfaf0ef9a99b311ef06d28a53f4ae489c",
            "filename": "packages/core/test/acceptance/component_spec.ts",
            "status": "modified",
            "additions": 60,
            "deletions": 1,
            "changes": 61,
            "blob_url": "https://github.com/angular/angular/blob/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Ftest%2Facceptance%2Fcomponent_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba/packages%2Fcore%2Ftest%2Facceptance%2Fcomponent_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fcomponent_spec.ts?ref=0879d2e85d29c33c10e7314e49f5e4f0cc6ce2ba",
            "patch": "@@ -11,7 +11,7 @@ import {ApplicationRef, Component, ComponentFactoryResolver, ComponentRef, Eleme\n import {TestBed} from '@angular/core/testing';\n import {ɵDomRendererFactory2 as DomRendererFactory2} from '@angular/platform-browser';\n import {expect} from '@angular/platform-browser/testing/src/matchers';\n-import {onlyInIvy} from '@angular/private/testing';\n+import {ivyEnabled, onlyInIvy} from '@angular/private/testing';\n \n import {domRendererFactory3} from '../../src/render3/interfaces/renderer';\n \n@@ -259,6 +259,65 @@ describe('component', () => {\n        expect(wrapperEls.length).toBe(2);  // other elements are preserved\n      });\n \n+  describe('invalid host element', () => {\n+    it('should throw when <ng-container> is used as a host element for a Component', () => {\n+      @Component({\n+        selector: 'ng-container',\n+        template: '...',\n+      })\n+      class Comp {\n+      }\n+\n+      @Component({\n+        selector: 'root',\n+        template: '<ng-container></ng-container>',\n+      })\n+      class App {\n+      }\n+\n+      TestBed.configureTestingModule({declarations: [App, Comp]});\n+      if (ivyEnabled) {\n+        expect(() => TestBed.createComponent(App))\n+            .toThrowError(\n+                /\"ng-container\" tags cannot be used as component hosts. Please use a different tag to activate the Comp component/);\n+      } else {\n+        // In VE there is no special check for the case when `<ng-container>` is used as a host\n+        // element for a Component. VE tries to attach Component's content to a Comment node that\n+        // represents the `<ng-container>` location and this call fails with a\n+        // browser/environment-specific error message, so we just verify that this scenario is\n+        // triggering an error in VE.\n+        expect(() => TestBed.createComponent(App)).toThrow();\n+      }\n+    });\n+\n+    it('should throw when <ng-template> is used as a host element for a Component', () => {\n+      @Component({\n+        selector: 'ng-template',\n+        template: '...',\n+      })\n+      class Comp {\n+      }\n+\n+      @Component({\n+        selector: 'root',\n+        template: '<ng-template></ng-template>',\n+      })\n+      class App {\n+      }\n+\n+      TestBed.configureTestingModule({declarations: [App, Comp]});\n+      if (ivyEnabled) {\n+        expect(() => TestBed.createComponent(App))\n+            .toThrowError(\n+                /\"ng-template\" tags cannot be used as component hosts. Please use a different tag to activate the Comp component/);\n+      } else {\n+        expect(() => TestBed.createComponent(App))\n+            .toThrowError(\n+                /Components on an embedded template: Comp \\(\"\\[ERROR ->\\]<ng-template><\\/ng-template>\"\\)/);\n+      }\n+    });\n+  });\n+\n   it('should use a new ngcontent attribute for child elements created w/ Renderer2', () => {\n     @Component({\n       selector: 'app-root',"
        }
    ],
    "stats": {
        "total": 123,
        "additions": 95,
        "deletions": 28
    }
}