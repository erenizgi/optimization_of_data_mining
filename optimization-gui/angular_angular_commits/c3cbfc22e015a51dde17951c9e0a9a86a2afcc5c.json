{
    "author": "devversion",
    "message": "fix(dev-infra): format command incorrectly prints outdated files (#42252)\n\nWhen `ng-dev format --check` is run, the ng-dev tool prints out\nall files that are out-of-date. We recently updated the format\ntool to also capture `stderr` for failed files. This broke the\nconsole message as we did not unwrap the `FormatFailure` to\ntheir file path when printing the \"ng-dev format\" fix command.\n\nPR Close #42252",
    "sha": "c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c",
    "files": [
        {
            "sha": "50e458503dc7c18002d88418408bb35e7c504767",
            "filename": "dev-infra/format/format.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c/dev-infra%2Fformat%2Fformat.ts",
            "raw_url": "https://github.com/angular/angular/raw/c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c/dev-infra%2Fformat%2Fformat.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fformat%2Fformat.ts?ref=c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c",
            "patch": "@@ -70,7 +70,7 @@ export async function checkFiles(files: string[]) {\n       // Inform user how to format files in the future.\n       info();\n       info(`To format the failing file run the following command:`);\n-      info(`  yarn ng-dev format files ${failures.join(' ')}`);\n+      info(`  yarn ng-dev format files ${failures.map(f => f.filePath).join(' ')}`);\n       process.exit(1);\n     }\n   } else {"
        },
        {
            "sha": "22f0a35bc36bcdd88660bf2227a517c936d3b8e1",
            "filename": "dev-infra/ng-dev.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c/dev-infra%2Fng-dev.js",
            "raw_url": "https://github.com/angular/angular/raw/c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c/dev-infra%2Fng-dev.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fng-dev.js?ref=c3cbfc22e015a51dde17951c9e0a9a86a2afcc5c",
            "patch": "@@ -2683,7 +2683,7 @@ function checkFiles(files) {\n                 // Inform user how to format files in the future.\n                 info();\n                 info(`To format the failing file run the following command:`);\n-                info(`  yarn ng-dev format files ${failures.join(' ')}`);\n+                info(`  yarn ng-dev format files ${failures.map(f => f.filePath).join(' ')}`);\n                 process.exit(1);\n             }\n         }"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}