{
    "author": "gkalpak",
    "message": "fix(docs-infra): generate the `404.html` page correctly (#41163)\n\nPreviously, the generated `404.html` page did not include a `<body>`\ntag. In some browsers (such as IE 11), this was causing warnings in the\nconsole.\n\nThis commit ensures the generated page contains a `<body>` tag. It also\nfixes the indentation in the generated page.\n\nPR Close #41163",
    "sha": "e1e766a88097a0e61c99f9e93f77d01c12a3eab2",
    "files": [
        {
            "sha": "a618447c7324aff57aceb633bdb2ac62cbd99c25",
            "filename": "aio/scripts/build-404-page.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/e1e766a88097a0e61c99f9e93f77d01c12a3eab2/aio%2Fscripts%2Fbuild-404-page.js",
            "raw_url": "https://github.com/angular/angular/raw/e1e766a88097a0e61c99f9e93f77d01c12a3eab2/aio%2Fscripts%2Fbuild-404-page.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fscripts%2Fbuild-404-page.js?ref=e1e766a88097a0e61c99f9e93f77d01c12a3eab2",
            "patch": "@@ -18,8 +18,9 @@ function _main() {\n   const dst404PagePath = join(DIST_DIR, '404.html');\n \n   const srcIndexContent = readFileSync(srcIndexPath, 'utf8');\n-  const src404BodyContent = readFileSync(src404BodyPath, 'utf8');\n-  const dst404PageContent = srcIndexContent.replace(/<body>[\\s\\S]+<\\/body>/, src404BodyContent);\n+  const src404BodyContent = readFileSync(src404BodyPath, 'utf8').trim();\n+  const dst404PageContent = srcIndexContent\n+      .replace(/(<body>)[\\s\\S]+(<\\/body>)/, `$1\\n  ${src404BodyContent}\\n$2`);\n \n   if (dst404PageContent === srcIndexContent) {\n     throw new Error("
        },
        {
            "sha": "f27dd0a0576e55524ee31de09c5d14b6544c9de3",
            "filename": "aio/src/404-body.html",
            "status": "modified",
            "additions": 44,
            "deletions": 44,
            "changes": 88,
            "blob_url": "https://github.com/angular/angular/blob/e1e766a88097a0e61c99f9e93f77d01c12a3eab2/aio%2Fsrc%2F404-body.html",
            "raw_url": "https://github.com/angular/angular/raw/e1e766a88097a0e61c99f9e93f77d01c12a3eab2/aio%2Fsrc%2F404-body.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2F404-body.html?ref=e1e766a88097a0e61c99f9e93f77d01c12a3eab2",
            "patch": "@@ -1,52 +1,52 @@\n-<!--\n-  This content replaces the `<body>` content of `index.html` to generate our custom `404.html` page.\n-  The content must visually and structurally resemble the resulting HTML of the main app for not\n-  found pages (e.g. https://angular.io/not/existing).\n--->\n+  <!--\n+    This content replaces the `<body>` content of `index.html` to generate our custom `404.html` page.\n+    The content must visually and structurally resemble the resulting HTML of the main app for not\n+    found pages (e.g. https://angular.io/not/exist.ing).\n+  -->\n \n-<style>\n-  .mat-toolbar-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}\n-  .mat-toolbar-row{height:64px}\n-  @media (max-width:600px){.mat-toolbar-row{height:56px}}\n-  .nav-link.home{margin-left:24px}\n-</style>\n+  <style>\n+    .mat-toolbar-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}\n+    .mat-toolbar-row{height:64px}\n+    @media (max-width:600px){.mat-toolbar-row{height:56px}}\n+    .nav-link.home{margin-left:24px}\n+  </style>\n \n-<aio-shell class=\"mode-stable page-file-not-found folder-file-not-found view- aio-notification-hide\">\n+  <aio-shell class=\"mode-stable page-file-not-found folder-file-not-found view- aio-notification-hide\">\n \n-  <mat-toolbar class=\"app-toolbar no-print mat-toolbar mat-primary\">\n-    <mat-toolbar-row class=\"mat-toolbar-row\">\n-      <a class=\"nav-link home\" href=\"/\">\n-        <img alt=\"Home\" height=\"40\" src=\"assets/images/logos/angular/logo-nav@2x.png\" title=\"Home\" width=\"150\">\n-      </a>\n-    </mat-toolbar-row>\n-  </mat-toolbar>\n+    <mat-toolbar class=\"app-toolbar no-print mat-toolbar mat-primary\">\n+      <mat-toolbar-row class=\"mat-toolbar-row\">\n+        <a class=\"nav-link home\" href=\"/\">\n+          <img alt=\"Home\" height=\"40\" src=\"assets/images/logos/angular/logo-nav@2x.png\" title=\"Home\" width=\"150\">\n+        </a>\n+      </mat-toolbar-row>\n+    </mat-toolbar>\n \n-  <mat-sidenav-container class=\"sidenav-container mat-drawer-container mat-sidenav-container\" role=\"main\">\n-    <mat-sidenav-content class=\"mat-drawer-content mat-sidenav-content\">\n-      <section class=\"sidenav-content\" role=\"article\">\n-        <aio-doc-viewer>\n-          <div class=\"content\">\n-            <div class=\"nf-container l-flex-wrap flex-center\">\n-              <img src=\"assets/images/support/angular-404.svg\" width=\"300\" height=\"300\" />\n-              <div class=\"nf-response l-flex-wrap\">\n-                <h1 class=\"no-toc\" id=\"page-not-found\">Resource Not Found</h1>\n-                <p>We're sorry. The resource you are looking for cannot be found.</p>\n+    <mat-sidenav-container class=\"sidenav-container mat-drawer-container mat-sidenav-container\" role=\"main\">\n+      <mat-sidenav-content class=\"mat-drawer-content mat-sidenav-content\">\n+        <section class=\"sidenav-content\" role=\"article\">\n+          <aio-doc-viewer>\n+            <div class=\"content\">\n+              <div class=\"nf-container l-flex-wrap flex-center\">\n+                <img src=\"assets/images/support/angular-404.svg\" width=\"300\" height=\"300\" />\n+                <div class=\"nf-response l-flex-wrap\">\n+                  <h1 class=\"no-toc\" id=\"page-not-found\">Resource Not Found</h1>\n+                  <p>We're sorry. The resource you are looking for cannot be found.</p>\n+                </div>\n               </div>\n             </div>\n-          </div>\n-        </aio-doc-viewer>\n-      </section>\n-    </mat-sidenav-content>\n-  </mat-sidenav-container>\n+          </aio-doc-viewer>\n+        </section>\n+      </mat-sidenav-content>\n+    </mat-sidenav-container>\n \n-  <footer class=\"no-print\">\n-    <aio-footer>\n-      <p>\n-        Powered by Google ©2010-2021.\n-        Code licensed under an <a href=\"license\" title=\"License text\">MIT-style License</a>.\n-        Documentation licensed under <a href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0</a>.\n-      </p>\n-    </aio-footer>\n-  </footer>\n+    <footer class=\"no-print\">\n+      <aio-footer>\n+        <p>\n+          Powered by Google ©2010-2021.\n+          Code licensed under an <a href=\"license\" title=\"License text\">MIT-style License</a>.\n+          Documentation licensed under <a href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0</a>.\n+        </p>\n+      </aio-footer>\n+    </footer>\n \n-</aio-shell>\n+  </aio-shell>"
        }
    ],
    "stats": {
        "total": 93,
        "additions": 47,
        "deletions": 46
    }
}