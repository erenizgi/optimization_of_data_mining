{
    "author": "josephperrott",
    "message": "build: update bazel rules_nodejs to 2.3.2 (#40367)\n\nUpdates to rules_nodejs@2.3.2 to take advantage of windows\nspecific fixes.\n\nPR Close #40367",
    "sha": "c9de7daae41dd349dc255641d4830d70b9b283be",
    "files": [
        {
            "sha": "80d91b9366d215690ea2e0a6b6985e1ac4108857",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/WORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/WORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/WORKSPACE?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -8,8 +8,8 @@ load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n # Fetch rules_nodejs so we can install our npm dependencies\n http_archive(\n     name = \"build_bazel_rules_nodejs\",\n-    sha256 = \"4952ef879704ab4ad6729a29007e7094aef213ea79e9f2e94cbe1c9a753e63ef\",\n-    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/2.2.0/rules_nodejs-2.2.0.tar.gz\"],\n+    sha256 = \"b3521b29c7cb0c47a1a735cce7e7e811a4f80d8e3720cf3a1b624533e4bb7cb6\",\n+    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/2.3.2/rules_nodejs-2.3.2.tar.gz\"],\n )\n \n # Check the rules_nodejs version and download npm dependencies"
        },
        {
            "sha": "887546b91b6cd0903b00a1d870250450d6d72c58",
            "filename": "integration/bazel/WORKSPACE",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/integration%2Fbazel%2FWORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/integration%2Fbazel%2FWORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2FWORKSPACE?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -5,8 +5,8 @@ load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n # Fetch rules_nodejs so we can install our npm dependencies\n http_archive(\n     name = \"build_bazel_rules_nodejs\",\n-    sha256 = \"4952ef879704ab4ad6729a29007e7094aef213ea79e9f2e94cbe1c9a753e63ef\",\n-    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/2.2.0/rules_nodejs-2.2.0.tar.gz\"],\n+    sha256 = \"b3521b29c7cb0c47a1a735cce7e7e811a4f80d8e3720cf3a1b624533e4bb7cb6\",\n+    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/2.3.2/rules_nodejs-2.3.2.tar.gz\"],\n )\n \n # Fetch sass rules for compiling sass files"
        },
        {
            "sha": "92e5c02c84b61873fbf800416d4d0e90fce1c36b",
            "filename": "integration/bazel/package.json",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/integration%2Fbazel%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/integration%2Fbazel%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2Fpackage.json?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -23,11 +23,11 @@\n     \"@angular/compiler\": \"file:../../dist/packages-dist/compiler\",\n     \"@angular/compiler-cli\": \"file:../../dist/packages-dist/compiler-cli\",\n     \"@bazel/bazelisk\": \"file:../../node_modules/@bazel/bazelisk\",\n-    \"@bazel/karma\": \"2.2.0\",\n-    \"@bazel/protractor\": \"2.2.0\",\n-    \"@bazel/rollup\": \"2.2.0\",\n-    \"@bazel/terser\": \"2.2.0\",\n-    \"@bazel/typescript\": \"2.2.0\",\n+    \"@bazel/karma\": \"2.3.2\",\n+    \"@bazel/protractor\": \"2.3.2\",\n+    \"@bazel/rollup\": \"2.3.2\",\n+    \"@bazel/terser\": \"2.3.2\",\n+    \"@bazel/typescript\": \"2.3.2\",\n     \"@types/jasmine\": \"2.8.8\",\n     \"http-server\": \"0.12.0\",\n     \"karma\": \"4.4.1\","
        },
        {
            "sha": "ca795187256e5ce44d21b36359798473f7297979",
            "filename": "package.json",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/package.json",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -52,12 +52,12 @@\n     \"@babel/template\": \"^7.8.6\",\n     \"@babel/traverse\": \"^7.8.6\",\n     \"@babel/types\": \"^7.8.6\",\n-    \"@bazel/jasmine\": \"2.3.1\",\n-    \"@bazel/karma\": \"2.3.1\",\n-    \"@bazel/protractor\": \"2.3.1\",\n-    \"@bazel/rollup\": \"2.3.1\",\n-    \"@bazel/terser\": \"2.3.1\",\n-    \"@bazel/typescript\": \"2.3.1\",\n+    \"@bazel/jasmine\": \"2.3.2\",\n+    \"@bazel/karma\": \"2.3.2\",\n+    \"@bazel/protractor\": \"2.3.2\",\n+    \"@bazel/rollup\": \"2.3.2\",\n+    \"@bazel/terser\": \"2.3.2\",\n+    \"@bazel/typescript\": \"2.3.2\",\n     \"@microsoft/api-extractor\": \"7.7.11\",\n     \"@octokit/rest\": \"16.28.7\",\n     \"@octokit/types\": \"^5.0.1\","
        },
        {
            "sha": "6f28d7db878508b1cd0d34b50c77a87cb7b749f3",
            "filename": "packages/bazel/index.bzl",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/packages%2Fbazel%2Findex.bzl",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/packages%2Fbazel%2Findex.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Findex.bzl?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -7,7 +7,7 @@\n Users should not load files under \"/src\"\n \"\"\"\n \n-load(\"//packages/bazel/src/ng_package:ng_package.bzl\", _ng_package = \"ng_package\")\n+load(\"//packages/bazel/src/ng_package:ng_package.bzl\", _ng_package = \"ng_package_macro\")\n load(\"//packages/bazel/src:ng_module.bzl\", _ng_module = \"ng_module_macro\")\n \n ng_module = _ng_module"
        },
        {
            "sha": "676cf69c4d0d6c840e08ee702213ac66ee87f6b4",
            "filename": "packages/bazel/src/ng_package/ng_package.bzl",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/packages%2Fbazel%2Fsrc%2Fng_package%2Fng_package.bzl",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/packages%2Fbazel%2Fsrc%2Fng_package%2Fng_package.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fng_package%2Fng_package.bzl?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -811,3 +811,23 @@ ng_package = rule(\n \"\"\"\n ng_package produces an npm-ready package from an Angular library.\n \"\"\"\n+\n+def ng_package_macro(name, **kwargs):\n+    ng_package(\n+        name = name,\n+        **kwargs\n+    )\n+    native.alias(\n+        name = name + \".pack\",\n+        actual = select({\n+            \"@bazel_tools//src/conditions:host_windows\": name + \".pack.bat\",\n+            \"//conditions:default\": name + \".pack.sh\",\n+        }),\n+    )\n+    native.alias(\n+        name = name + \".publish\",\n+        actual = select({\n+            \"@bazel_tools//src/conditions:host_windows\": name + \".publish.bat\",\n+            \"//conditions:default\": name + \".publish.sh\",\n+        }),\n+    )"
        },
        {
            "sha": "23936310c1bc75bdfee75b66873755499e2a93ed",
            "filename": "yarn.lock",
            "status": "modified",
            "additions": 24,
            "deletions": 24,
            "changes": 48,
            "blob_url": "https://github.com/angular/angular/blob/c9de7daae41dd349dc255641d4830d70b9b283be/yarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/c9de7daae41dd349dc255641d4830d70b9b283be/yarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/yarn.lock?ref=c9de7daae41dd349dc255641d4830d70b9b283be",
            "patch": "@@ -1972,38 +1972,38 @@\n   resolved \"https://registry.yarnpkg.com/@bazel/ibazel/-/ibazel-0.12.4.tgz#ddda7c8ead6e29dc8d637af446086a750f395218\"\n   integrity sha512-FzOy+esB/fXVDbAmL6Ce2yCEy+PESZih8GypKhi0B8XzoZHAAn3QNnQcMNwo9PrIfp3G1989nM/JQ1b8jwEinQ==\n \n-\"@bazel/jasmine@2.3.1\":\n-  version \"2.3.1\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/jasmine/-/jasmine-2.3.1.tgz#e4df8dd2b8d906e41e4073b5c49c700a962fe853\"\n-  integrity sha512-6QYTfJfbwPxCvKu4rOhG1YZUm94MbG4K2Dq1q2A2OUiM0eqAZG8T1HJAswDh7L286r5x9nRX8h7Pb7CyJvSmbg==\n+\"@bazel/jasmine@2.3.2\":\n+  version \"2.3.2\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/jasmine/-/jasmine-2.3.2.tgz#ff120008a69a93ea2138c29cc266d7dec58333a9\"\n+  integrity sha512-GG2xAvYXgoW9SHco8RETuxkBTeLF7RI4rtuvAJdVhwwzsUeGovKROTbHvQEyo1qxmeQjQu0hzKr11VfwZPcCMA==\n   dependencies:\n     c8 \"~7.1.0\"\n     jasmine-reporters \"~2.3.2\"\n \n-\"@bazel/karma@2.3.1\":\n-  version \"2.3.1\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/karma/-/karma-2.3.1.tgz#9a52128cefc4e061fc4e934c4918d7a3e17b1007\"\n-  integrity sha512-4w1aS3qaKY8eekyDujAFD7xsM+z0rCsEofs8QliEmZaF+RCKw+QsxWEMrxIXkdoftcQS+MBatAoSDhHbl47VpQ==\n+\"@bazel/karma@2.3.2\":\n+  version \"2.3.2\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/karma/-/karma-2.3.2.tgz#4120618f7edd141b155f6f830fd0f04dc748a37c\"\n+  integrity sha512-+FFpem1Ul/BtqNrom8y1xPIa1cPEZeBvpao8BRLfQt46r7Nk9u11KI8ylNFk+yIQVhFqAD3JBaL3sbLAU7BJ5Q==\n \n-\"@bazel/protractor@2.3.1\":\n-  version \"2.3.1\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/protractor/-/protractor-2.3.1.tgz#470c280841f5ec91b0a80d2ffb692841a125e240\"\n-  integrity sha512-1MF3JlGE6HyYzPFXJBFnv5eEOuTuXhsJT70g66+lMgPZ9g0uUPh6CPu/iUkT6/92sw+pHGUsaptxwNu89Z7Dag==\n+\"@bazel/protractor@2.3.2\":\n+  version \"2.3.2\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/protractor/-/protractor-2.3.2.tgz#a57daa9488c40fa30843947f26474891db130229\"\n+  integrity sha512-VOKjJjvcO5RSoQX4nNeI41grgFc3j5xirxF26nF+MU0ePg+7giKVZWDtegLO2QRfMfFKjvzpT6HMlzd2GvxI+A==\n \n-\"@bazel/rollup@2.3.1\":\n-  version \"2.3.1\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/rollup/-/rollup-2.3.1.tgz#30265ac682149e82f3a4a0cfda216f3d860e7373\"\n-  integrity sha512-KyMIYr8UV1MkwdW+2HUnwUNAddFhETM8OSaaOQK5I7hV4XKjBzc2EZstt4HRcNtsVF5Lnsi7Arb8xjbBdXTqvw==\n+\"@bazel/rollup@2.3.2\":\n+  version \"2.3.2\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/rollup/-/rollup-2.3.2.tgz#637c9219d75fd40469efe881057b27032aa5896c\"\n+  integrity sha512-Eyz99eI/rsWDJws3eO2UGAmIoWmZWEzmchIBU30EoVzvQ5wqZciZ2lLOXkUIAosZsijjE1THiqCCf5gJtOmExw==\n \n-\"@bazel/terser@2.3.1\":\n-  version \"2.3.1\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/terser/-/terser-2.3.1.tgz#c1aa0e88988d913be61d601e581a60c3bf771e06\"\n-  integrity sha512-G0I7niJyQzDFx+Z4WlA19g8SQuWpfMKbMHi+e94NHVYYpoUF0nRhLfysvNx5Kx5J6/N2gErmtwYsTQpRUI/vCQ==\n+\"@bazel/terser@2.3.2\":\n+  version \"2.3.2\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/terser/-/terser-2.3.2.tgz#30f0b551f43eeafb64cb834d1f2f3e7f2ddef262\"\n+  integrity sha512-UasdVrMdaOEBwzNTTyWtUTH+ITQtXhV64XG6SdyWY1wWLgcgoUOiFYPN2lgXRZyKNpFezmq+CHJ5pqfYwzN3Rg==\n \n-\"@bazel/typescript@2.3.1\":\n-  version \"2.3.1\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/typescript/-/typescript-2.3.1.tgz#f103c4a5230cabaffd8d574b7278265b5478f056\"\n-  integrity sha512-blgLpx+9Vh8DZWTVOYTWSk1HEU28FF+GwU1stFaemfY7/pUQfK/URb9FARRkw/v2UrPKCd9EBywFYQyPGSAb1A==\n+\"@bazel/typescript@2.3.2\":\n+  version \"2.3.2\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/typescript/-/typescript-2.3.2.tgz#6d49cc064a9323905dcf791fe0e959f75ddf2ade\"\n+  integrity sha512-O2lZfVGx1Uyc7GzLMyD4uiu1qWxy7xviVTEDPzFGcqZsHMCXMV/fEgMoiD0cI4diHwSWrc7Gm/CG9j/z+SRDzA==\n   dependencies:\n     protobufjs \"6.8.8\"\n     semver \"5.6.0\""
        }
    ],
    "stats": {
        "total": 100,
        "additions": 60,
        "deletions": 40
    }
}