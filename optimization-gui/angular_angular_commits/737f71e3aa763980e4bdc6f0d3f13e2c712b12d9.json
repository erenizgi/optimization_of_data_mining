{
    "author": "dgp1130",
    "message": "refactor(compiler-cli): throw an error when compiling with View Engine. (#43862)\n\nThe View Engine compiler now throws when constructed and will be removed shortly. Direct users should switch to `NgtscProgram` to build with [Ivy](https://angular.io/guide/ivy). The View Engine compiler is being removed, so this makes it throw an error to ensure no one accidentally depends on code being removed.\n\nPR Close #43862",
    "sha": "737f71e3aa763980e4bdc6f0d3f13e2c712b12d9",
    "files": [
        {
            "sha": "73d78fd820dfb81c62daca9cd51adc00980c119e",
            "filename": "packages/compiler-cli/src/transformers/program.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/737f71e3aa763980e4bdc6f0d3f13e2c712b12d9/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Fprogram.ts",
            "raw_url": "https://github.com/angular/angular/raw/737f71e3aa763980e4bdc6f0d3f13e2c712b12d9/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Fprogram.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Fprogram.ts?ref=737f71e3aa763980e4bdc6f0d3f13e2c712b12d9",
            "patch": "@@ -38,6 +38,12 @@ import {createMessageDiagnostic, DTS, GENERATED_FILES, isInRootDir, ngToTsDiagno\n  */\n const MAX_FILE_COUNT_FOR_SINGLE_FILE_EMIT = 20;\n \n+/** Error message to show when attempting to build View Engine. */\n+const VE_DISABLED_MESSAGE = `\n+This compilation is using the View Engine compiler which is no longer supported by the Angular team\n+and is being removed. Please upgrade to the Ivy compiler by switching to \\`NgtscProgram\\`. See\n+https://angular.io/guide/ivy for more information.\n+`.trim().split('\\n').join(' ');\n \n /**\n  * Fields to lower within metadata in render2 mode.\n@@ -110,6 +116,10 @@ class AngularCompilerProgram implements Program {\n   constructor(\n       rootNames: ReadonlyArray<string>, private options: CompilerOptions,\n       private host: CompilerHost, oldProgram?: Program) {\n+    if (true as boolean) {\n+      throw new Error(VE_DISABLED_MESSAGE);\n+    }\n+\n     this.rootNames = [...rootNames];\n \n     if (!options.disableTypeScriptVersionCheck) {"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 10,
        "deletions": 0
    }
}