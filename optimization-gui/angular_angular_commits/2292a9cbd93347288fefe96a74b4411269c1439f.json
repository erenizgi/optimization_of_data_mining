{
    "author": "gkalpak",
    "message": "refactor(compiler): improve regular expression for stripping comments (#43456)\n\nPreviously, the regular expression used by the compiler's ShadowDOM CSS\nshim to strip comments from CSS text was susceptible to [catastrophic\nbacktracking][1], which could lead to exponential (O(2^n)) increase in\ncomplexity/execution time. More specifically, this would be triggered if\nthe processed text contained an unterminated comment with lots of\nleading whitespace (i.e. `/*`, followed by lots of whitespace characters\nand no closing `*/`).\n\nAlthough such input is unlikely in real-world scenarios, this commit\nimproves the regular expression to not be susceptible to this issue.\n\n[1]: https://www.regular-expressions.info/catastrophic.html\n\nPR Close #43456",
    "sha": "2292a9cbd93347288fefe96a74b4411269c1439f",
    "files": [
        {
            "sha": "224c8293d308794e1165ce615d191584596409e9",
            "filename": "packages/compiler/src/shadow_css.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/2292a9cbd93347288fefe96a74b4411269c1439f/packages%2Fcompiler%2Fsrc%2Fshadow_css.ts",
            "raw_url": "https://github.com/angular/angular/raw/2292a9cbd93347288fefe96a74b4411269c1439f/packages%2Fcompiler%2Fsrc%2Fshadow_css.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fshadow_css.ts?ref=2292a9cbd93347288fefe96a74b4411269c1439f",
            "patch": "@@ -629,7 +629,7 @@ const _polyfillHostRe = /-shadowcsshost/gim;\n const _colonHostRe = /:host/gim;\n const _colonHostContextRe = /:host-context/gim;\n \n-const _commentRe = /\\/\\*\\s*[\\s\\S]*?\\*\\//g;\n+const _commentRe = /\\/\\*[\\s\\S]*?\\*\\//g;\n \n function stripComments(input: string): string {\n   return input.replace(_commentRe, '');"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}