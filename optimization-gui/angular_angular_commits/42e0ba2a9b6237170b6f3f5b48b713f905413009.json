{
    "author": "AleksanderBodurri",
    "message": "refactor(devtools): switch to sass use and new angular material theming API (rangle/angular-devtools#853)\n\nPreviously we were using sass import rules to bring in material and other styling.\r\n\r\nNow we are using the use rule and have switched over to the new angular material theming API",
    "sha": "42e0ba2a9b6237170b6f3f5b48b713f905413009",
    "files": [
        {
            "sha": "d2030dc7f26d6b317048a8b4e84046dd31073138",
            "filename": "angular.json",
            "status": "modified",
            "additions": 16,
            "deletions": 1,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/42e0ba2a9b6237170b6f3f5b48b713f905413009/angular.json",
            "raw_url": "https://github.com/angular/angular/raw/42e0ba2a9b6237170b6f3f5b48b713f905413009/angular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/angular.json?ref=42e0ba2a9b6237170b6f3f5b48b713f905413009",
            "patch": "@@ -26,6 +26,9 @@\n             \"aot\": true,\n             \"assets\": [\"src/assets\"],\n             \"styles\": [\"src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n             \"scripts\": []\n           },\n           \"configurations\": {\n@@ -105,6 +108,9 @@\n             \"karmaConfig\": \"karma.conf.js\",\n             \"assets\": [\"src/assets\"],\n             \"styles\": [\"src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n             \"scripts\": []\n           }\n         },\n@@ -158,6 +164,9 @@\n               \"projects/shell-chrome/src/popups\"\n             ],\n             \"styles\": [\"projects/shell-chrome/src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n             \"scripts\": []\n           },\n           \"configurations\": {\n@@ -220,6 +229,9 @@\n             \"karmaConfig\": \"projects/shell-chrome/karma.conf.js\",\n             \"assets\": [\"projects/shell-chrome/src/assets\"],\n             \"styles\": [\"projects/shell-chrome/src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n             \"scripts\": []\n           }\n         },\n@@ -277,7 +289,10 @@\n             \"main\": \"projects/ng-devtools/src/test.ts\",\n             \"tsConfig\": \"projects/ng-devtools/tsconfig.spec.json\",\n             \"karmaConfig\": \"projects/ng-devtools/karma.conf.js\",\n-            \"codeCoverage\": true\n+            \"codeCoverage\": true,\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            }\n           }\n         },\n         \"lint\": {"
        },
        {
            "sha": "9c0de8f665992e11ab1d07fa3b7b3783393c06db",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-modal/recording-modal.component.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/42e0ba2a9b6237170b6f3f5b48b713f905413009/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-modal%2Frecording-modal.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/42e0ba2a9b6237170b6f3f5b48b713f905413009/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-modal%2Frecording-modal.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-modal%2Frecording-modal.component.scss?ref=42e0ba2a9b6237170b6f3f5b48b713f905413009",
            "patch": "@@ -1,4 +1,4 @@\n-@import '../../../../../../../../../node_modules/@angular/cdk/overlay-prebuilt.css';\n+@use '@angular/cdk/overlay-prebuilt.css';\n \n :host {\n   overflow: hidden;"
        },
        {
            "sha": "a18f94f069d705e1d4848134551f8824a011543c",
            "filename": "projects/shell-chrome/src/styles.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/42e0ba2a9b6237170b6f3f5b48b713f905413009/projects%2Fshell-chrome%2Fsrc%2Fstyles.scss",
            "raw_url": "https://github.com/angular/angular/raw/42e0ba2a9b6237170b6f3f5b48b713f905413009/projects%2Fshell-chrome%2Fsrc%2Fstyles.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fstyles.scss?ref=42e0ba2a9b6237170b6f3f5b48b713f905413009",
            "patch": "@@ -1,5 +1,4 @@\n-@import '@angular/material/prebuilt-themes/deeppurple-amber.css';\n-@import '../../../src/styles.scss';\n+@use '../../../src/styles.scss';\n \n html {\n   background-color: white;"
        },
        {
            "sha": "e129012dee16e2e0933b742cb65ad0464963ab5f",
            "filename": "src/app/demo-app/demo-app.component.scss",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/42e0ba2a9b6237170b6f3f5b48b713f905413009/src%2Fapp%2Fdemo-app%2Fdemo-app.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/42e0ba2a9b6237170b6f3f5b48b713f905413009/src%2Fapp%2Fdemo-app%2Fdemo-app.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/src%2Fapp%2Fdemo-app%2Fdemo-app.component.scss?ref=42e0ba2a9b6237170b6f3f5b48b713f905413009",
            "patch": "@@ -1,6 +1,2 @@\n @import 'todomvc-common/base.css';\n @import 'todomvc-app-css/index.css';\n-\n-body {\n-  max-width: 500px !important;\n-}"
        },
        {
            "sha": "ae676add3ff66cd70665ad0b4a7998c1914dcea8",
            "filename": "src/styles.scss",
            "status": "modified",
            "additions": 28,
            "deletions": 23,
            "changes": 51,
            "blob_url": "https://github.com/angular/angular/blob/42e0ba2a9b6237170b6f3f5b48b713f905413009/src%2Fstyles.scss",
            "raw_url": "https://github.com/angular/angular/raw/42e0ba2a9b6237170b6f3f5b48b713f905413009/src%2Fstyles.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/src%2Fstyles.scss?ref=42e0ba2a9b6237170b6f3f5b48b713f905413009",
            "patch": "@@ -1,42 +1,47 @@\n-@import '~@angular/material/theming';\n-@include mat-core();\n+@use 'sass:map';\n+@use '~@angular/material' as mat;\n+@include mat.core();\n \n html,\n body {\n   padding: 0;\n   margin: 0;\n-  max-width: unset !important;\n-  background: white !important;\n }\n \n // Light theme\n-$light-primary: mat-palette($mat-grey, 700, 200);\n-$light-accent: mat-palette($mat-blue, 800);\n-$light-theme: mat-light-theme($light-primary, $light-accent);\n+$light-primary: mat.define-palette(mat.$grey-palette, 700, 200);\n+$light-accent: mat.define-palette(mat.$blue-palette, 800);\n+$light-theme: mat.define-light-theme($light-primary, $light-accent);\n \n // Dark theme\n-$dark-primary: mat-palette($mat-blue-grey, 50);\n-$dark-accent: mat-palette($mat-blue, 200);\n-$mat-dark-theme-background: map-merge(\n-  $mat-dark-theme-background,\n+$dark-primary: mat.define-palette(mat.$blue-grey-palette, 50);\n+$dark-accent: mat.define-palette(mat.$blue-palette, 200);\n+$dark-theme: map.deep-merge(\n+  mat.define-dark-theme($dark-primary, $dark-accent),\n   (\n-    background: #202124,\n-    card: #202124,\n+    'color': (\n+      'background': (\n+        background: #202124,\n+        card: #202124,\n+      ),\n+      'foreground': (\n+        text: #bcc5ce,\n+      ),\n+    ),\n+    'background': (\n+      background: #202124,\n+      card: #202124,\n+    ),\n+    'foreground': (\n+      'text': #bcc5ce,\n+    ),\n   )\n );\n-$mat-dark-theme-foreground: map-merge(\n-  $mat-dark-theme-foreground,\n-  (\n-    text: #bcc5ce,\n-  )\n-);\n-\n-$dark-theme: mat-dark-theme($dark-primary, $dark-accent);\n \n .light-theme {\n-  @include angular-material-theme($light-theme);\n+  @include mat.all-component-themes($light-theme);\n }\n \n .dark-theme {\n-  @include angular-material-theme($dark-theme);\n+  @include mat.all-component-themes($dark-theme);\n }"
        }
    ],
    "stats": {
        "total": 77,
        "additions": 46,
        "deletions": 31
    }
}