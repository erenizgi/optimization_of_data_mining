{
    "author": "AndrewKushnir",
    "message": "docs: deprecate `aotSummaries` usage in TestBed (#43395)\n\nDEPRECATION:\n\nIn Ivy, AOT summary files are unused. Passing AOT summary files in TestBed has no effect, so the `aotSummaries` usage in TestBed is deprecated and will be removed in a future version of Angular.\n\nPR Close #43395",
    "sha": "51149ab5307d58739fea56583d95c286da425428",
    "files": [
        {
            "sha": "f53f3ca67d0ac353032fddcef4c2d752f0538a59",
            "filename": "aio/content/guide/deprecations.md",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/51149ab5307d58739fea56583d95c286da425428/aio%2Fcontent%2Fguide%2Fdeprecations.md",
            "raw_url": "https://github.com/angular/angular/raw/51149ab5307d58739fea56583d95c286da425428/aio%2Fcontent%2Fguide%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdeprecations.md?ref=51149ab5307d58739fea56583d95c286da425428",
            "patch": "@@ -57,6 +57,8 @@ v12 - v15\n | `@angular/router`       | [`loadChildren` string syntax](#loadChildren)                                                 | <!--v9--> v11         |\n | `@angular/core/testing` | [`TestBed.get`](#testing)                                                                     | <!--v9--> v12         |\n | `@angular/core/testing` | [`async`](#testing)                                                                           | <!--v9--> v12         |\n+| `@angular/core/testing` | [`aotSummaries` argument in `TestBed.initTestEnvironment`](#testing)                                                                           | <!--v13--> v14         |\n+| `@angular/core/testing` | [`aotSummaries` field of the `TestModuleMetadata` type](#testing)                                                                           | <!--v13--> v14         |\n | `@angular/forms`        | [`FormBuilder.group` legacy options parameter](api/forms/FormBuilder#group)                   | <!--v11--> v14        |\n | `@angular/router`       | [`ActivatedRoute` params and `queryParams` properties](#activatedroute-props)                 | unspecified           |\n | template syntax         | [`/deep/`, `>>>`, and `::ng-deep`](#deep-component-style-selector)                            | <!--v7--> unspecified |\n@@ -115,6 +117,8 @@ This section contains a complete list all of the currently-deprecated APIs, with\n |:---                                           |:---                                                 |:---                   |:---                                           |\n | [`TestBed.get`](api/core/testing/TestBed#get) | [`TestBed.inject`](api/core/testing/TestBed#inject) | v9                    | Same behavior, but type safe.                 |\n | [`async`](api/core/testing/async)             | [`waitForAsync`](api/core/testing/waitForAsync)     | v10                   | Same behavior, but rename to avoid confusion. |\n+| [`aotSummaries` argument in `TestBed.initTestEnvironment`](api/core/testing/TestBed#inittestenvironment)             | No replacement needed     | v13                   | Summary files are unused in Ivy. |\n+| [`aotSummaries` field of the `TestModuleMetadata` type](api/core/testing/TestModuleMetadata)             | No replacement needed     | v13                   | Summary files are unused in Ivy. |\n \n {@a forms}\n "
        },
        {
            "sha": "aa4e3016710fa5d686f72dc6f5c2e9e7ab7ade42",
            "filename": "goldens/public-api/core/testing/testing.md",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/51149ab5307d58739fea56583d95c286da425428/goldens%2Fpublic-api%2Fcore%2Ftesting%2Ftesting.md",
            "raw_url": "https://github.com/angular/angular/raw/51149ab5307d58739fea56583d95c286da425428/goldens%2Fpublic-api%2Fcore%2Ftesting%2Ftesting.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcore%2Ftesting%2Ftesting.md?ref=51149ab5307d58739fea56583d95c286da425428",
            "patch": "@@ -114,7 +114,7 @@ export interface TestBed {\n     // @deprecated (undocumented)\n     get(token: any, notFoundValue?: any): any;\n     initTestEnvironment(ngModule: Type<any> | Type<any>[], platform: PlatformRef, options?: TestEnvironmentOptions): void;\n-    // (undocumented)\n+    // @deprecated\n     initTestEnvironment(ngModule: Type<any> | Type<any>[], platform: PlatformRef, aotSummaries?: () => any[]): void;\n     // (undocumented)\n     inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n@@ -172,9 +172,8 @@ export interface TestBedStatic {\n     get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n     // @deprecated (undocumented)\n     get(token: any, notFoundValue?: any): any;\n-    // (undocumented)\n     initTestEnvironment(ngModule: Type<any> | Type<any>[], platform: PlatformRef, options?: TestEnvironmentOptions): TestBed;\n-    // (undocumented)\n+    // @deprecated\n     initTestEnvironment(ngModule: Type<any> | Type<any>[], platform: PlatformRef, aotSummaries?: () => any[]): TestBed;\n     // (undocumented)\n     inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n@@ -220,9 +219,8 @@ export class TestComponentRenderer {\n \n // @public (undocumented)\n export interface TestEnvironmentOptions {\n-    // (undocumented)\n+    // @deprecated\n     aotSummaries?: () => any[];\n-    // (undocumented)\n     teardown?: ModuleTeardownOptions;\n }\n "
        },
        {
            "sha": "20259380aa6c271d141740f3d5795fbf50c6bcc7",
            "filename": "packages/core/testing/src/test_bed.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/51149ab5307d58739fea56583d95c286da425428/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed.ts",
            "raw_url": "https://github.com/angular/angular/raw/51149ab5307d58739fea56583d95c286da425428/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed.ts?ref=51149ab5307d58739fea56583d95c286da425428",
            "patch": "@@ -39,6 +39,20 @@ export interface TestBed {\n   initTestEnvironment(\n       ngModule: Type<any>|Type<any>[], platform: PlatformRef,\n       options?: TestEnvironmentOptions): void;\n+  /**\n+   * Initialize the environment for testing with a compiler factory, a PlatformRef, and an\n+   * angular module. These are common to every test in the suite.\n+   *\n+   * This may only be called once, to set up the common providers for the current test\n+   * suite on the current platform. If you absolutely need to change the providers,\n+   * first use `resetTestEnvironment`.\n+   *\n+   * Test modules and platforms for individual platforms are available from\n+   * '@angular/<platform_name>/testing'.\n+   *\n+   * @deprecated This API that allows providing AOT summaries is deprecated, since summary files are\n+   *     unused in Ivy.\n+   */\n   initTestEnvironment(\n       ngModule: Type<any>|Type<any>[], platform: PlatformRef, aotSummaries?: () => any[]): void;\n "
        },
        {
            "sha": "200e254ea1d123b42f5a3385d76a458754b3d69a",
            "filename": "packages/core/testing/src/test_bed_common.ts",
            "status": "modified",
            "additions": 38,
            "deletions": 1,
            "changes": 39,
            "blob_url": "https://github.com/angular/angular/blob/51149ab5307d58739fea56583d95c286da425428/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed_common.ts",
            "raw_url": "https://github.com/angular/angular/raw/51149ab5307d58739fea56583d95c286da425428/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed_common.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed_common.ts?ref=51149ab5307d58739fea56583d95c286da425428",
            "patch": "@@ -47,6 +47,9 @@ export type TestModuleMetadata = {\n   declarations?: any[],\n   imports?: any[],\n   schemas?: Array<SchemaMetadata|any[]>,\n+  /**\n+   * @deprecated With Ivy, AOT summary files are unused.\n+   */\n   aotSummaries?: () => any[],\n   teardown?: ModuleTeardownOptions;\n };\n@@ -55,12 +58,21 @@ export type TestModuleMetadata = {\n  * @publicApi\n  */\n export interface TestEnvironmentOptions {\n+  /**\n+   * Provides a way to specify AOT summaries to use in TestBed.\n+   * This parameter is unused and deprecated in Ivy.\n+   *\n+   * @deprecated With Ivy, AOT summary files are unused.\n+   */\n   aotSummaries?: () => any[];\n+  /**\n+   * Configures the test module teardown behavior in `TestBed`.\n+   */\n   teardown?: ModuleTeardownOptions;\n }\n \n /**\n- * Object used to configure the test module teardown behavior in `TestBed`.\n+ * Configures the test module teardown behavior in `TestBed`.\n  * @publicApi\n  */\n export interface ModuleTeardownOptions {\n@@ -79,9 +91,34 @@ export interface ModuleTeardownOptions {\n export interface TestBedStatic {\n   new(...args: any[]): TestBed;\n \n+  /**\n+   * Initialize the environment for testing with a compiler factory, a PlatformRef, and an\n+   * angular module. These are common to every test in the suite.\n+   *\n+   * This may only be called once, to set up the common providers for the current test\n+   * suite on the current platform. If you absolutely need to change the providers,\n+   * first use `resetTestEnvironment`.\n+   *\n+   * Test modules and platforms for individual platforms are available from\n+   * '@angular/<platform_name>/testing'.\n+   */\n   initTestEnvironment(\n       ngModule: Type<any>|Type<any>[], platform: PlatformRef,\n       options?: TestEnvironmentOptions): TestBed;\n+  /**\n+   * Initialize the environment for testing with a compiler factory, a PlatformRef, and an\n+   * angular module. These are common to every test in the suite.\n+   *\n+   * This may only be called once, to set up the common providers for the current test\n+   * suite on the current platform. If you absolutely need to change the providers,\n+   * first use `resetTestEnvironment`.\n+   *\n+   * Test modules and platforms for individual platforms are available from\n+   * '@angular/<platform_name>/testing'.\n+   *\n+   * @deprecated This API that allows providing AOT summaries is deprecated, since summary files are\n+   *     unused in Ivy.\n+   */\n   initTestEnvironment(\n       ngModule: Type<any>|Type<any>[], platform: PlatformRef, aotSummaries?: () => any[]): TestBed;\n "
        }
    ],
    "stats": {
        "total": 65,
        "additions": 59,
        "deletions": 6
    }
}