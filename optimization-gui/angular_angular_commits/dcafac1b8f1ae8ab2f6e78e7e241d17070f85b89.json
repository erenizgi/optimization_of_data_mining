{
    "author": "twerske",
    "message": "refactor(core): group provider and circular errors (#39251)\n\ngroup together similar error messages as part of error code efforts\nProviderNotFound & NodeInjector grouped into throwProviderNotFoundError\nCyclic dependency errors grouped into throwCyclicDependencyError\n\nPR Close #39251",
    "sha": "dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
    "files": [
        {
            "sha": "3eff1da2c2f29233b33971470d862128cc441770",
            "filename": "aio/content/guide/dependency-injection-navtree.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/aio%2Fcontent%2Fguide%2Fdependency-injection-navtree.md",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/aio%2Fcontent%2Fguide%2Fdependency-injection-navtree.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdependency-injection-navtree.md?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -196,7 +196,7 @@ which *is* what parent means.\n \n 2. Angular throws a cyclic dependency error if you omit the `@SkipSelf` decorator.\n \n-  `Cannot instantiate cyclic dependency! (BethComponent -> Parent -> BethComponent)`\n+  `Circular dependency in DI detected for BethComponent. Dependency path: BethComponent -> Parent -> BethComponent`\n \n Here's *Alice*, *Barry*, and family in action.\n "
        },
        {
            "sha": "c9dfbe4a922c04b701733198ea1d27d4e9468e71",
            "filename": "packages/compiler-cli/integrationtest/bazel/injector_def/ivy_build/app/test/module_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcompiler-cli%2Fintegrationtest%2Fbazel%2Finjector_def%2Fivy_build%2Fapp%2Ftest%2Fmodule_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcompiler-cli%2Fintegrationtest%2Fbazel%2Finjector_def%2Fivy_build%2Fapp%2Ftest%2Fmodule_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fintegrationtest%2Fbazel%2Finjector_def%2Fivy_build%2Fapp%2Ftest%2Fmodule_spec.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -63,7 +63,7 @@ describe('Ivy NgModule', () => {\n \n       expect(() => createInjector(AModule))\n           .toThrowError(\n-              'Circular dependency in DI detected for type AModule. Dependency path: AModule > BModule > AModule.');\n+              'Circular dependency in DI detected for AModule. Dependency path: AModule > BModule > AModule');\n     });\n \n     it('merges imports and exports', () => {"
        },
        {
            "sha": "1c147e622ee8de9d3fa39d7691467f4125a0832e",
            "filename": "packages/core/src/di/r3_injector.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -291,8 +291,8 @@ export class R3Injector {\n     // Check for circular dependencies.\n     if (ngDevMode && parents.indexOf(defType) !== -1) {\n       const defName = stringify(defType);\n-      throw new Error(`Circular dependency in DI detected for type ${defName}. Dependency path: ${\n-          parents.map(defType => stringify(defType)).join(' > ')} > ${defName}.`);\n+      const path = parents.map(stringify);\n+      throwCyclicDependencyError(defName, path);\n     }\n \n     // Check for multiple imports of the same module"
        },
        {
            "sha": "03876b1ca4585546dc3c6cbe06d27f071de83aa4",
            "filename": "packages/core/src/render3/component.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -15,6 +15,7 @@ import {assertDefined, assertIndexInRange} from '../util/assert';\n import {assertComponentType} from './assert';\n import {getComponentDef} from './definition';\n import {diPublicInInjector, getOrCreateNodeInjectorForNode} from './di';\n+import {throwProviderNotFoundError} from './errors';\n import {registerPostOrderHooks} from './hooks';\n import {addToViewTree, CLEAN_PROMISE, createLView, createTView, getOrCreateTComponentView, getOrCreateTNode, initTNodeFlags, instantiateRootComponent, invokeHostBindingsInCreationMode, locateHostElement, markAsComponentHost, refreshView, registerHostBindingOpCodes, renderView} from './instructions/shared';\n import {ComponentDef, ComponentType, RenderFlags} from './interfaces/definition';\n@@ -88,7 +89,7 @@ type HostFeature = (<T>(component: T, componentDef: ComponentDef<T>) => void);\n // TODO: A hack to not pull in the NullInjector from @angular/core.\n export const NULL_INJECTOR: Injector = {\n   get: (token: any, notFoundValue?: any) => {\n-    throw new Error('NullInjector: Not found: ' + stringifyForError(token));\n+    throwProviderNotFoundError(token, 'NullInjector');\n   }\n };\n "
        },
        {
            "sha": "54085071a889e7b31039d904548c1638eae36330",
            "filename": "packages/core/src/render3/di.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -18,6 +18,7 @@ import {noSideEffects} from '../util/closure';\n \n import {assertDirectiveDef, assertNodeInjector, assertTNodeForLView} from './assert';\n import {getFactoryDef} from './definition';\n+import {throwCyclicDependencyError, throwProviderNotFoundError} from './errors';\n import {NG_ELEMENT_ID, NG_FACTORY_DEF} from './fields';\n import {registerPreOrderHooks} from './hooks';\n import {DirectiveDef, FactoryFn} from './interfaces/definition';\n@@ -373,7 +374,7 @@ export function getOrCreateInjectable<T>(\n       try {\n         const value = bloomHash();\n         if (value == null && !(flags & InjectFlags.Optional)) {\n-          throw new Error(`No provider for ${stringifyForError(token)}!`);\n+          throwProviderNotFoundError(token);\n         } else {\n           return value;\n         }\n@@ -476,7 +477,7 @@ export function getOrCreateInjectable<T>(\n   if (flags & InjectFlags.Optional) {\n     return notFoundValue;\n   } else {\n-    throw new Error(`NodeInjector: NOT_FOUND [${stringifyForError(token)}]`);\n+    throwProviderNotFoundError(token, 'NodeInjector');\n   }\n }\n \n@@ -575,7 +576,7 @@ export function getNodeInjectable(\n   if (isFactory(value)) {\n     const factory: NodeInjectorFactory = value;\n     if (factory.resolving) {\n-      throw new Error(`Circular dep for ${stringifyForError(tData[index])}`);\n+      throwCyclicDependencyError(stringifyForError(tData[index]));\n     }\n     const previousIncludeViewProviders = setIncludeViewProviders(factory.canSeeViewProviders);\n     factory.resolving = true;"
        },
        {
            "sha": "2ffd70fd3543cd5b8eeb0ff831a3d427a4c347db",
            "filename": "packages/core/src/render3/errors.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Ferrors.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ferrors.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -11,13 +11,14 @@ import {stringify} from '../util/stringify';\n \n import {TNode} from './interfaces/node';\n import {LView, TVIEW} from './interfaces/view';\n-import {INTERPOLATION_DELIMITER} from './util/misc_utils';\n+import {INTERPOLATION_DELIMITER, stringifyForError} from './util/misc_utils';\n \n \n \n /** Called when directives inject each other (creating a circular dependency) */\n-export function throwCyclicDependencyError(token: any): never {\n-  throw new Error(`Cannot instantiate cyclic dependency! ${token}`);\n+export function throwCyclicDependencyError(token: string, path?: string[]): never {\n+  const depPath = path ? `. Dependency path: ${path.join(' > ')} > ${token}` : '';\n+  throw new Error(`Circular dependency in DI detected for ${token}${depPath}`);\n }\n \n /** Called when there are multiple component selectors that match a given node */\n@@ -116,3 +117,9 @@ export function getExpressionChangedErrorDetails(\n   }\n   return {propName: undefined, oldValue, newValue};\n }\n+\n+/** Throws an error when a token is not found in DI. */\n+export function throwProviderNotFoundError(token: any, injectorName?: string): never {\n+  const injectorDetails = injectorName ? ` in ${injectorName}` : '';\n+  throw new Error(`No provider for ${stringifyForError(token)} found${injectorDetails}`);\n+}"
        },
        {
            "sha": "ebdec19b6b1cbcc9ca8afbff552e122f86d608c3",
            "filename": "packages/core/src/render3/view_engine_compatibility_prebound.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility_prebound.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility_prebound.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility_prebound.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -11,6 +11,7 @@ import {ChangeDetectorRef} from '../change_detection/change_detector_ref';\n import {InjectFlags} from '../di/interface/injector';\n import {ElementRef as ViewEngine_ElementRef} from '../linker/element_ref';\n import {TemplateRef as ViewEngine_TemplateRef} from '../linker/template_ref';\n+import {throwProviderNotFoundError} from './errors';\n \n import {TNode} from './interfaces/node';\n import {LView} from './interfaces/view';\n@@ -37,7 +38,7 @@ export function ɵɵtemplateRefExtractor(tNode: TNode, currentView: LView) {\n export function ɵɵinjectPipeChangeDetectorRef(flags = InjectFlags.Default): ChangeDetectorRef|null {\n   const value = injectChangeDetectorRef(true);\n   if (value == null && !(flags & InjectFlags.Optional)) {\n-    throw new Error(`No provider for ChangeDetectorRef!`);\n+    throwProviderNotFoundError('ChangeDetectorRef');\n   } else {\n     return value;\n   }"
        },
        {
            "sha": "fc652dfcbdc40388621f34b34b0352f9b9a3f0bb",
            "filename": "packages/core/test/acceptance/di_spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 7,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Facceptance%2Fdi_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Facceptance%2Fdi_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fdi_spec.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -615,7 +615,8 @@ describe('di', () => {\n           }\n \n           TestBed.configureTestingModule({declarations: [DirectiveA, DirectiveB, MyComp]});\n-          expect(() => TestBed.createComponent(MyComp)).toThrowError(/Circular dep for/);\n+          expect(() => TestBed.createComponent(MyComp))\n+              .toThrowError('Circular dependency in DI detected for DirectiveA');\n         });\n \n     onlyInIvy('Ivy has different error message for circular dependency')\n@@ -630,7 +631,8 @@ describe('di', () => {\n           }\n \n           TestBed.configureTestingModule({declarations: [DirectiveA, DirectiveB, MyComp]});\n-          expect(() => TestBed.createComponent(MyComp)).toThrowError(/Circular dep for/);\n+          expect(() => TestBed.createComponent(MyComp))\n+              .toThrowError('Circular dependency in DI detected for DirectiveA');\n         });\n \n     describe('flags', () => {\n@@ -734,7 +736,7 @@ describe('di', () => {\n             }\n             TestBed.configureTestingModule({declarations: [DirectiveA, DirectiveB, MyComp]});\n             expect(() => TestBed.createComponent(MyComp))\n-                .toThrowError(/NodeInjector: NOT_FOUND \\[DirectiveB]/);\n+                .toThrowError(/No provider for DirectiveB found in NodeInjector/);\n           });\n \n       describe('@Host', () => {\n@@ -812,7 +814,7 @@ describe('di', () => {\n \n               TestBed.configureTestingModule({declarations: [DirectiveString, MyComp, MyApp]});\n               expect(() => TestBed.createComponent(MyApp))\n-                  .toThrowError(/NodeInjector: NOT_FOUND \\[String]/);\n+                  .toThrowError('No provider for String found in NodeInjector');\n             });\n \n         onlyInIvy('Ivy has different error message when dependency is not found')\n@@ -828,7 +830,7 @@ describe('di', () => {\n               TestBed.configureTestingModule(\n                   {declarations: [DirectiveA, DirectiveB, MyComp, MyApp]});\n               expect(() => TestBed.createComponent(MyApp))\n-                  .toThrowError(/NodeInjector: NOT_FOUND \\[DirectiveB]/);\n+                  .toThrowError(/No provider for DirectiveB found in NodeInjector/);\n             });\n \n         onlyInIvy('Ivy has different error message when dependency is not found')\n@@ -853,7 +855,7 @@ describe('di', () => {\n               expect(() => {\n                 fixture.componentInstance.myComp.showing = true;\n                 fixture.detectChanges();\n-              }).toThrowError(/NodeInjector: NOT_FOUND \\[DirectiveB]/);\n+              }).toThrowError(/No provider for DirectiveB found in NodeInjector/);\n             });\n \n         it('should find providers across embedded views if not passing component boundary', () => {\n@@ -892,7 +894,7 @@ describe('di', () => {\n \n               TestBed.configureTestingModule({declarations: [DirectiveComp, MyComp, MyApp]});\n               expect(() => TestBed.createComponent(MyApp))\n-                  .toThrowError(/NodeInjector: NOT_FOUND \\[MyApp]/);\n+                  .toThrowError('No provider for MyApp found in NodeInjector');\n             });\n \n         describe('regression', () => {"
        },
        {
            "sha": "43339906701009f3ec6c35fe19317b712e122a67",
            "filename": "packages/core/test/bundling/forms/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -1568,6 +1568,9 @@\n   {\n     \"name\": \"syncPendingControls\"\n   },\n+  {\n+    \"name\": \"throwProviderNotFoundError\"\n+  },\n   {\n     \"name\": \"toObservable\"\n   },"
        },
        {
            "sha": "ab1de47fc9456b049c7710f442f0ac28e117a071",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -1931,6 +1931,9 @@\n   {\n     \"name\": \"throwIfEmpty\"\n   },\n+  {\n+    \"name\": \"throwProviderNotFoundError\"\n+  },\n   {\n     \"name\": \"toRefArray\"\n   },"
        },
        {
            "sha": "55f744fd9004a526197c98685dbab8fc83af9bc1",
            "filename": "packages/core/test/bundling/todo/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -698,6 +698,9 @@\n   {\n     \"name\": \"stringifyForError\"\n   },\n+  {\n+    \"name\": \"throwProviderNotFoundError\"\n+  },\n   {\n     \"name\": \"toTStylingRange\"\n   },"
        },
        {
            "sha": "d57678cd26bec02958bf79860c4c5681caff880b",
            "filename": "packages/core/test/linker/ng_module_integration_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Flinker%2Fng_module_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Flinker%2Fng_module_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fng_module_integration_spec.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -1024,8 +1024,10 @@ function declareTests(config?: {useJit: boolean}) {\n       });\n \n       it('should throw when trying to instantiate a cyclic dependency', () => {\n+        let errorMessage = ivyEnabled ? /Circular dependency in DI detected for Car/g :\n+                                        /Cannot instantiate cyclic dependency! Car/g;\n         expect(() => createInjector([Car, {provide: Engine, useClass: CyclicEngine}]).get(Car))\n-            .toThrowError(/Cannot instantiate cyclic dependency! Car/g);\n+            .toThrowError(errorMessage);\n       });\n \n       it('should support null values', () => {"
        },
        {
            "sha": "cee9d4ec500ac23fa6154d66528062ce431d8fe3",
            "filename": "packages/core/test/linker/view_injector_integration_spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Flinker%2Fview_injector_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Flinker%2Fview_injector_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fview_injector_integration_spec.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -628,7 +628,7 @@ describe('View injector', () => {\n         .it('should not instantiate a directive with cyclic dependencies', () => {\n           TestBed.configureTestingModule({declarations: [CycleDirective]});\n           expect(() => createComponent('<div cycleDirective></div>'))\n-              .toThrowError('Circular dep for CycleDirective');\n+              .toThrowError('Circular dependency in DI detected for CycleDirective');\n         });\n \n     obsoleteInIvy('This error is no longer generated by the compiler')\n@@ -661,7 +661,7 @@ describe('View injector', () => {\n                   SimpleComponent, {set: {template: '<div needsServiceFromHost><div>'}});\n \n               expect(() => createComponent('<div simpleComponent></div>'))\n-                  .toThrowError('NodeInjector: NOT_FOUND [service]');\n+                  .toThrowError('No provider for service found in NodeInjector');\n             });\n \n     obsoleteInIvy('This error is no longer generated by the compiler')\n@@ -694,7 +694,7 @@ describe('View injector', () => {\n                   SimpleComponent, {set: {template: '<div needsServiceFromHost><div>'}});\n \n               expect(() => createComponent('<div simpleComponent someOtherDirective></div>'))\n-                  .toThrowError('NodeInjector: NOT_FOUND [service]');\n+                  .toThrowError('No provider for service found in NodeInjector');\n             });\n \n     obsoleteInIvy('This error is no longer generated by the compiler')\n@@ -717,7 +717,7 @@ describe('View injector', () => {\n               expect(\n                   () => createComponent(\n                       '<div simpleDirective><div needsDirectiveFromSelf></div></div>'))\n-                  .toThrowError('NodeInjector: NOT_FOUND [SimpleDirective]');\n+                  .toThrowError('No provider for SimpleDirective found in NodeInjector');\n             });\n \n     it('should instantiate directives that depend on other directives', fakeAsync(() => {\n@@ -779,7 +779,7 @@ describe('View injector', () => {\n               TestBed.overrideComponent(\n                   SimpleComponent, {set: {template: '<div needsDirectiveFromHost></div>'}});\n               expect(() => createComponent('<div simpleComponent simpleDirective></div>'))\n-                  .toThrowError('NodeInjector: NOT_FOUND [SimpleDirective]');\n+                  .toThrowError('No provider for SimpleDirective found in NodeInjector');\n             });\n \n     it('should allow to use the NgModule injector from a root ViewContainerRef.parentInjector',\n@@ -970,7 +970,7 @@ describe('View injector', () => {\n     it('should throw if there is no TemplateRef', () => {\n       TestBed.configureTestingModule({declarations: [NeedsTemplateRef]});\n       expect(() => createComponent('<div needsTemplateRef></div>'))\n-          .toThrowError(/No provider for TemplateRef!/);\n+          .toThrowError(/No provider for TemplateRef/);\n     });\n \n     it('should inject null if there is no TemplateRef when the dependency is optional', () => {"
        },
        {
            "sha": "768917188ccc6f9e5f77e2f50c4323684e2a682b",
            "filename": "packages/core/test/render3/di_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Frender3%2Fdi_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89/packages%2Fcore%2Ftest%2Frender3%2Fdi_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fdi_spec.ts?ref=dcafac1b8f1ae8ab2f6e78e7e241d17070f85b89",
            "patch": "@@ -107,7 +107,7 @@ describe('di', () => {\n           (DirA as any)['__NG_ELEMENT_ID__'] = 1;\n           (DirC as any)['__NG_ELEMENT_ID__'] = 257;\n           new ComponentFixture(App);\n-        }).toThrowError(/NodeInjector: NOT_FOUND \\[DirB]/);\n+        }).toThrowError('No provider for DirB found in NodeInjector');\n       });\n     });\n   });"
        }
    ],
    "stats": {
        "total": 77,
        "additions": 50,
        "deletions": 27
    }
}