{
    "author": "AndrewKushnir",
    "message": "refactor(core): move runtime error code logic (#44398)\n\nThis commit moves some logic to make the location of runtime error codes consistent across packages. Now all error codes are located in `packages/core/src/errors.ts` file.\n\nPR Close #44398",
    "sha": "a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
    "files": [
        {
            "sha": "2c7cac3c6f14cb08b8935f695f3eba16e37f7025",
            "filename": "packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fdiagnostics%2Fsrc%2Ferror_details_base_url.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fdiagnostics%2Fsrc%2Ferror_details_base_url.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fdiagnostics%2Fsrc%2Ferror_details_base_url.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -11,6 +11,6 @@\n  *\n  * Keep the files below in full sync:\n  *  - packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts\n- *  - packages/core/src/render3/error_details_base_url.ts\n+ *  - packages/core/src/error_details_base_url.ts\n  */\n export const ERROR_DETAILS_PAGE_BASE_URL = 'https://angular.io/errors';"
        },
        {
            "sha": "ed018d710bf48fe8fe516b58ea8f35fee3731ee8",
            "filename": "packages/core/src/application_ref.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Fapplication_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Fapplication_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fapplication_ref.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -21,6 +21,7 @@ import {Injector} from './di/injector';\n import {StaticProvider} from './di/interface/provider';\n import {INJECTOR_SCOPE} from './di/scope';\n import {ErrorHandler} from './error_handler';\n+import {RuntimeError, RuntimeErrorCode} from './errors';\n import {DEFAULT_LOCALE_ID} from './i18n/localization';\n import {LOCALE_ID} from './i18n/tokens';\n import {Type} from './interface/type';\n@@ -32,7 +33,6 @@ import {InternalViewRef, ViewRef} from './linker/view_ref';\n import {isComponentResourceResolutionQueueEmpty, resolveComponentResources} from './metadata/resource_loading';\n import {assertNgModuleType} from './render3/assert';\n import {ComponentFactory as R3ComponentFactory} from './render3/component_ref';\n-import {RuntimeError, RuntimeErrorCode} from './render3/error_code';\n import {setLocaleId} from './render3/i18n/i18n_locale_id';\n import {setJitOptions} from './render3/jit/jit_options';\n import {NgModuleFactory as R3NgModuleFactory} from './render3/ng_module_ref';"
        },
        {
            "sha": "52500949b64cfedf0606d0cdfa8d5b7314de8285",
            "filename": "packages/core/src/core_private_export.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Fcore_private_export.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Fcore_private_export.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fcore_private_export.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -16,13 +16,13 @@ export {getDebugNodeR2 as ɵgetDebugNodeR2} from './debug/debug_node';\n export {setCurrentInjector as ɵsetCurrentInjector} from './di/injector_compatibility';\n export {getInjectableDef as ɵgetInjectableDef, ɵɵInjectableDeclaration, ɵɵInjectorDef} from './di/interface/defs';\n export {INJECTOR_SCOPE as ɵINJECTOR_SCOPE} from './di/scope';\n+export {RuntimeError as ɵRuntimeError} from './errors';\n export {CurrencyIndex as ɵCurrencyIndex, ExtraLocaleDataIndex as ɵExtraLocaleDataIndex, findLocaleData as ɵfindLocaleData, getLocaleCurrencyCode as ɵgetLocaleCurrencyCode, getLocalePluralCase as ɵgetLocalePluralCase, LocaleDataIndex as ɵLocaleDataIndex, registerLocaleData as ɵregisterLocaleData, unregisterAllLocaleData as ɵunregisterLocaleData} from './i18n/locale_data_api';\n export {DEFAULT_LOCALE_ID as ɵDEFAULT_LOCALE_ID} from './i18n/localization';\n export {ComponentFactory as ɵComponentFactory} from './linker/component_factory';\n export {clearResolutionOfComponentResourcesQueue as ɵclearResolutionOfComponentResourcesQueue, resolveComponentResources as ɵresolveComponentResources} from './metadata/resource_loading';\n export {ReflectionCapabilities as ɵReflectionCapabilities} from './reflection/reflection_capabilities';\n export {GetterFn as ɵGetterFn, MethodFn as ɵMethodFn, SetterFn as ɵSetterFn} from './reflection/types';\n-export {RuntimeError as ɵRuntimeError} from './render3/error_code';\n export {allowSanitizationBypassAndThrow as ɵallowSanitizationBypassAndThrow, BypassType as ɵBypassType, getSanitizationBypassType as ɵgetSanitizationBypassType, SafeHtml as ɵSafeHtml, SafeResourceUrl as ɵSafeResourceUrl, SafeScript as ɵSafeScript, SafeStyle as ɵSafeStyle, SafeUrl as ɵSafeUrl, SafeValue as ɵSafeValue, unwrapSafeValue as ɵunwrapSafeValue} from './sanitization/bypass';\n export {_sanitizeHtml as ɵ_sanitizeHtml} from './sanitization/html_sanitizer';\n export {_sanitizeUrl as ɵ_sanitizeUrl} from './sanitization/url_sanitizer';"
        },
        {
            "sha": "2c7cac3c6f14cb08b8935f695f3eba16e37f7025",
            "filename": "packages/core/src/error_details_base_url.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Ferror_details_base_url.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Ferror_details_base_url.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Ferror_details_base_url.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -11,6 +11,6 @@\n  *\n  * Keep the files below in full sync:\n  *  - packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts\n- *  - packages/core/src/render3/error_details_base_url.ts\n+ *  - packages/core/src/error_details_base_url.ts\n  */\n export const ERROR_DETAILS_PAGE_BASE_URL = 'https://angular.io/errors';",
            "previous_filename": "packages/core/src/render3/error_details_base_url.ts"
        },
        {
            "sha": "b1873274c88b918721ffc8f9c020d83064aa6545",
            "filename": "packages/core/src/error_handler.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Ferror_handler.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Ferror_handler.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Ferror_handler.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {getErrorLogger, getOriginalError} from './errors';\n+import {getErrorLogger, getOriginalError} from './util/errors';\n \n /**\n  * Provides a hook for centralized exception handling."
        },
        {
            "sha": "946ebb6b378f8004f901f31f9fb2eda42617fdda",
            "filename": "packages/core/src/errors.ts",
            "status": "modified",
            "additions": 58,
            "deletions": 10,
            "changes": 68,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Ferrors.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Ferrors.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,21 +6,69 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {ERROR_LOGGER, ERROR_ORIGINAL_ERROR, ERROR_TYPE} from './util/errors';\n+import {ERROR_DETAILS_PAGE_BASE_URL} from './error_details_base_url';\n \n-export function getType(error: Error): Function {\n-  return (error as any)[ERROR_TYPE];\n-}\n+/**\n+ * The list of error codes used in runtime code of the `core` package.\n+ * Reserved error code range: 100-999.\n+ *\n+ * Note: the minus sign denotes the fact that a particular code has a detailed guide on\n+ * angular.io. This extra annotation is needed to avoid introducing a separate set to store\n+ * error codes which have guides, which might leak into runtime code.\n+ *\n+ * Full list of available error guides can be found at https://angular.io/errors.\n+ */\n+export const enum RuntimeErrorCode {\n+  // Change Detection Errors\n+  EXPRESSION_CHANGED_AFTER_CHECKED = -100,\n+  RECURSIVE_APPLICATION_REF_TICK = 101,\n+\n+  // Dependency Injection Errors\n+  CYCLIC_DI_DEPENDENCY = -200,\n+  PROVIDER_NOT_FOUND = -201,\n \n-export function getOriginalError(error: Error): Error {\n-  return (error as any)[ERROR_ORIGINAL_ERROR];\n+  // Template Errors\n+  MULTIPLE_COMPONENTS_MATCH = -300,\n+  EXPORT_NOT_FOUND = -301,\n+  PIPE_NOT_FOUND = -302,\n+  UNKNOWN_BINDING = 303,\n+  UNKNOWN_ELEMENT = 304,\n+  TEMPLATE_STRUCTURE_ERROR = 305,\n+\n+  // Bootstrap Errors\n+  MULTIPLE_PLATFORMS = 400,\n+  PLATFORM_NOT_FOUND = 401,\n+  ERROR_HANDLER_NOT_FOUND = 402,\n+  BOOTSTRAP_COMPONENTS_NOT_FOUND = 403,\n+  ALREADY_DESTROYED_PLATFORM = 404,\n+  ASYNC_INITIALIZERS_STILL_RUNNING = 405,\n+\n+  // Styling Errors\n+\n+  // Declarations Errors\n+\n+  // i18n Errors\n+\n+  // JIT Compilation Errors\n }\n \n-export function getErrorLogger(error: unknown): (console: Console, ...values: any[]) => void {\n-  return error && (error as any)[ERROR_LOGGER] || defaultErrorLogger;\n+export class RuntimeError<T = RuntimeErrorCode> extends Error {\n+  constructor(public code: T, message: string) {\n+    super(formatRuntimeError<T>(code, message));\n+  }\n }\n \n+/** Called to format a runtime error */\n+export function formatRuntimeError<T = RuntimeErrorCode>(code: T, message: string): string {\n+  const codeAsNumber = code as unknown as number;\n+  // Error code might be a negative number, which is a special marker that instructs the logic to\n+  // generate a link to the error details page on angular.io.\n+  const fullCode = `NG0${Math.abs(codeAsNumber)}`;\n+\n+  let errorMessage = `${fullCode}${message ? ': ' + message : ''}`;\n \n-function defaultErrorLogger(console: Console, ...values: any[]) {\n-  (<any>console.error)(...values);\n+  if (ngDevMode && codeAsNumber < 0) {\n+    errorMessage = `${errorMessage}. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/${fullCode}`;\n+  }\n+  return errorMessage;\n }"
        },
        {
            "sha": "946ebb6b378f8004f901f31f9fb2eda42617fdda",
            "filename": "packages/core/src/render3/error_code.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 74,
            "changes": 74,
            "blob_url": "https://github.com/angular/angular/blob/66e59bc11a989d38065e4022c803d1a84ac09b2a/packages%2Fcore%2Fsrc%2Frender3%2Ferror_code.ts",
            "raw_url": "https://github.com/angular/angular/raw/66e59bc11a989d38065e4022c803d1a84ac09b2a/packages%2Fcore%2Fsrc%2Frender3%2Ferror_code.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ferror_code.ts?ref=66e59bc11a989d38065e4022c803d1a84ac09b2a",
            "patch": "@@ -1,74 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {ERROR_DETAILS_PAGE_BASE_URL} from './error_details_base_url';\n-\n-/**\n- * The list of error codes used in runtime code of the `core` package.\n- * Reserved error code range: 100-999.\n- *\n- * Note: the minus sign denotes the fact that a particular code has a detailed guide on\n- * angular.io. This extra annotation is needed to avoid introducing a separate set to store\n- * error codes which have guides, which might leak into runtime code.\n- *\n- * Full list of available error guides can be found at https://angular.io/errors.\n- */\n-export const enum RuntimeErrorCode {\n-  // Change Detection Errors\n-  EXPRESSION_CHANGED_AFTER_CHECKED = -100,\n-  RECURSIVE_APPLICATION_REF_TICK = 101,\n-\n-  // Dependency Injection Errors\n-  CYCLIC_DI_DEPENDENCY = -200,\n-  PROVIDER_NOT_FOUND = -201,\n-\n-  // Template Errors\n-  MULTIPLE_COMPONENTS_MATCH = -300,\n-  EXPORT_NOT_FOUND = -301,\n-  PIPE_NOT_FOUND = -302,\n-  UNKNOWN_BINDING = 303,\n-  UNKNOWN_ELEMENT = 304,\n-  TEMPLATE_STRUCTURE_ERROR = 305,\n-\n-  // Bootstrap Errors\n-  MULTIPLE_PLATFORMS = 400,\n-  PLATFORM_NOT_FOUND = 401,\n-  ERROR_HANDLER_NOT_FOUND = 402,\n-  BOOTSTRAP_COMPONENTS_NOT_FOUND = 403,\n-  ALREADY_DESTROYED_PLATFORM = 404,\n-  ASYNC_INITIALIZERS_STILL_RUNNING = 405,\n-\n-  // Styling Errors\n-\n-  // Declarations Errors\n-\n-  // i18n Errors\n-\n-  // JIT Compilation Errors\n-}\n-\n-export class RuntimeError<T = RuntimeErrorCode> extends Error {\n-  constructor(public code: T, message: string) {\n-    super(formatRuntimeError<T>(code, message));\n-  }\n-}\n-\n-/** Called to format a runtime error */\n-export function formatRuntimeError<T = RuntimeErrorCode>(code: T, message: string): string {\n-  const codeAsNumber = code as unknown as number;\n-  // Error code might be a negative number, which is a special marker that instructs the logic to\n-  // generate a link to the error details page on angular.io.\n-  const fullCode = `NG0${Math.abs(codeAsNumber)}`;\n-\n-  let errorMessage = `${fullCode}${message ? ': ' + message : ''}`;\n-\n-  if (ngDevMode && codeAsNumber < 0) {\n-    errorMessage = `${errorMessage}. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/${fullCode}`;\n-  }\n-  return errorMessage;\n-}"
        },
        {
            "sha": "6ba00e1cf700b342e0092e0cd4beb56eab185ffb",
            "filename": "packages/core/src/render3/errors.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Ferrors.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ferrors.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,7 +6,9 @@\n  * Use of this source code is governed by an MIT-style license that can be\n  * found in the LICENSE file at https://angular.io/license\n  */\n-import {RuntimeError, RuntimeErrorCode} from './error_code';\n+\n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n+\n import {TNode} from './interfaces/node';\n import {LView, TVIEW} from './interfaces/view';\n import {INTERPOLATION_DELIMITER} from './util/misc_utils';"
        },
        {
            "sha": "a40607ecdca4842ad0e036094e8b319fca8df63b",
            "filename": "packages/core/src/render3/errors_di.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Ferrors_di.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Ferrors_di.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ferrors_di.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -5,10 +5,11 @@\n  * Use of this source code is governed by an MIT-style license that can be\n  * found in the LICENSE file at https://angular.io/license\n  */\n+\n import {InjectorType} from '../di/interface/defs';\n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n import {stringify} from '../util/stringify';\n \n-import {RuntimeError, RuntimeErrorCode} from './error_code';\n import {stringifyForError} from './util/stringify_utils';\n \n "
        },
        {
            "sha": "fb3142950b3dad83ea628016dbdd7487e747497d",
            "filename": "packages/core/src/render3/instructions/element.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,10 +6,10 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {formatRuntimeError, RuntimeErrorCode} from '../../errors';\n import {assertDefined, assertEqual, assertIndexInRange} from '../../util/assert';\n import {assertFirstCreatePass, assertHasParent} from '../assert';\n import {attachPatchData} from '../context_discovery';\n-import {formatRuntimeError, RuntimeErrorCode} from '../error_code';\n import {registerPostOrderHooks} from '../hooks';\n import {hasClassInput, hasStyleInput, TAttributes, TElementNode, TNode, TNodeFlags, TNodeType} from '../interfaces/node';\n import {RElement} from '../interfaces/renderer_dom';\n@@ -21,6 +21,7 @@ import {decreaseElementDepthCount, getBindingIndex, getCurrentTNode, getElementD\n import {computeStaticStyling} from '../styling/static_styling';\n import {setUpAttributes} from '../util/attrs_utils';\n import {getConstant} from '../util/view_utils';\n+\n import {setDirectiveInputsWhichShadowsStyling} from './property';\n import {createDirectivesInstances, executeContentQueries, getOrCreateTNode, matchingSchemas, resolveDirectives, saveResolvedLocalsInData} from './shared';\n "
        },
        {
            "sha": "836319ba95b86393d298fe4ba7f329cb12bf3a48",
            "filename": "packages/core/src/render3/instructions/shared.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -7,6 +7,7 @@\n  */\n import {Injector} from '../../di';\n import {ErrorHandler} from '../../error_handler';\n+import {formatRuntimeError, RuntimeError, RuntimeErrorCode} from '../../errors';\n import {DoCheck, OnChanges, OnInit} from '../../interface/lifecycle_hooks';\n import {CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA, SchemaMetadata} from '../../metadata/schema';\n import {ViewEncapsulation} from '../../metadata/view';\n@@ -20,7 +21,6 @@ import {assertFirstCreatePass, assertFirstUpdatePass, assertLContainer, assertLV\n import {attachPatchData, readPatchedLView} from '../context_discovery';\n import {getFactoryDef} from '../definition_factory';\n import {diPublicInInjector, getNodeInjectable, getOrCreateNodeInjectorForNode} from '../di';\n-import {formatRuntimeError, RuntimeError, RuntimeErrorCode} from '../error_code';\n import {throwMultipleComponentError} from '../errors';\n import {executeCheckHooks, executeInitAndCheckHooks, incrementInitPhaseFlags} from '../hooks';\n import {CONTAINER_HEADER_OFFSET, HAS_TRANSPLANTED_VIEWS, LContainer, MOVED_VIEWS} from '../interfaces/container';"
        },
        {
            "sha": "dd253fabc4d07e9cfccb4524000baca558ec7478",
            "filename": "packages/core/src/render3/pipe.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Fpipe.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Frender3%2Fpipe.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fpipe.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -8,10 +8,10 @@\n \n import {PipeTransform} from '../change_detection/pipe_transform';\n import {setInjectImplementation} from '../di/inject_switch';\n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n \n import {getFactoryDef} from './definition_factory';\n import {setIncludeViewProviders} from './di';\n-import {RuntimeError, RuntimeErrorCode} from './error_code';\n import {store, ɵɵdirectiveInject} from './instructions/all';\n import {PipeDef, PipeDefList} from './interfaces/definition';\n import {CONTEXT, DECLARATION_COMPONENT_VIEW, HEADER_OFFSET, LView, TVIEW} from './interfaces/view';"
        },
        {
            "sha": "8fab849ed06921d27adf7e4ea1a544a711ceb613",
            "filename": "packages/core/src/util/errors.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Futil%2Ferrors.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Fsrc%2Futil%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Futil%2Ferrors.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,7 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-export const ERROR_TYPE = 'ngType';\n export const ERROR_ORIGINAL_ERROR = 'ngOriginalError';\n export const ERROR_LOGGER = 'ngErrorLogger';\n \n@@ -18,3 +17,15 @@ export function wrappedError(message: string, originalError: any): Error {\n   (error as any)[ERROR_ORIGINAL_ERROR] = originalError;\n   return error;\n }\n+\n+export function getOriginalError(error: Error): Error {\n+  return (error as any)[ERROR_ORIGINAL_ERROR];\n+}\n+\n+export function getErrorLogger(error: unknown): (console: Console, ...values: any[]) => void {\n+  return error && (error as any)[ERROR_LOGGER] || defaultErrorLogger;\n+}\n+\n+function defaultErrorLogger(console: Console, ...values: any[]) {\n+  (<any>console.error)(...values);\n+}"
        },
        {
            "sha": "bc9a21928c427640124e4623f63e2750804deadc",
            "filename": "packages/core/test/di/reflective_injector_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Ftest%2Fdi%2Freflective_injector_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Ftest%2Fdi%2Freflective_injector_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fdi%2Freflective_injector_spec.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -9,9 +9,9 @@\n import {forwardRef, Inject, Injectable, InjectionToken, Injector, Optional, Provider, ReflectiveInjector, ReflectiveKey, Self} from '@angular/core';\n import {ReflectiveInjector_} from '@angular/core/src/di/reflective_injector';\n import {ResolvedReflectiveProvider_} from '@angular/core/src/di/reflective_provider';\n-import {getOriginalError} from '@angular/core/src/errors';\n import {expect} from '@angular/platform-browser/testing/src/matchers';\n \n+import {getOriginalError} from '../../src/util/errors';\n import {stringify} from '../../src/util/stringify';\n \n class Engine {}"
        },
        {
            "sha": "b38cfc7c531181fe98ab85f66fe9cd8a4b923779",
            "filename": "packages/core/test/error_handler_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 26,
            "changes": 27,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Ftest%2Ferror_handler_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Ftest%2Ferror_handler_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Ferror_handler_spec.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,9 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {ERROR_LOGGER, ERROR_TYPE, wrappedError} from '@angular/core/src/util/errors';\n-\n import {ErrorHandler} from '../src/error_handler';\n+import {ERROR_LOGGER, wrappedError} from '../src/util/errors';\n \n class MockConsole {\n   res: any[][] = [];\n@@ -42,24 +41,6 @@ describe('ErrorHandler', () => {\n     expect(errorToString(undefined)).toBe('ERROR#undefined');\n   });\n \n-  // TODO(alxhub): delete as Ivy doesn't use context.\n-  xdescribe('context', () => {\n-    it('should print nested context', () => {\n-      const cause = new Error('message!');\n-      const context = {\n-        source: 'context!',\n-        toString() {\n-          return 'Context';\n-        }\n-      } as any;\n-      const original = debugError(cause, context);\n-      const e = errorToString(wrappedError('message', original));\n-      expect(e).toEqual(`ERROR#Error: message caused by: Error in context! caused by: message!\n-ORIGINAL ERROR#Error: message!\n-ERROR CONTEXT#Context`);\n-    });\n-  });\n-\n   describe('original exception', () => {\n     it('should print original exception message if available (original is Error)', () => {\n       const realOriginal = new Error('inner');\n@@ -91,9 +72,3 @@ ERROR CONTEXT#Context`);\n   });\n });\n })();\n-\n-function debugError(originalError: any, context: any): Error {\n-  const error = wrappedError(`Error in ${context.source}`, originalError);\n-  (error as any)[ERROR_TYPE] = debugError;\n-  return error;\n-}"
        },
        {
            "sha": "1049c270a0de8c1889e45c8b49798fa37d8772f0",
            "filename": "packages/core/test/runtime_error_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Ftest%2Fruntime_error_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be/packages%2Fcore%2Ftest%2Fruntime_error_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fruntime_error_spec.ts?ref=a84f99fd1cf0f75a7fcd27e46203d2aa7e9008be",
            "patch": "@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {RuntimeError, RuntimeErrorCode} from '../src/render3/error_code';\n+import {RuntimeError, RuntimeErrorCode} from '../src/errors';\n \n describe('RuntimeError utils', () => {\n   it('should format the error message correctly', () => {"
        }
    ],
    "stats": {
        "total": 210,
        "additions": 87,
        "deletions": 123
    }
}