{
    "author": "petebacondarwin",
    "message": "build(docs-infra): indent docplaster markers to the level of the docregion (#43216)\n\nThis change makes docplaster markers fit better with the surrounding code\nthat is being rendered.  Instead of:\n\n```\n{\n  \"a\": 100,\n// ...\n  \"b\": 200,\n// ...\n}\n```\n\nyou can now get\n\n```\n{\n  \"a\": 100,\n  // ...\n  \"b\": 200,\n  // ...\n}\n```\n\nPR Close #43216",
    "sha": "758ba0f0f99406d4c5ab7b3b05a92125f959bc1a",
    "files": [
        {
            "sha": "60e80a19882c75f75bae3ba55a14d6ef5a719f01",
            "filename": "aio/tools/transforms/examples-package/services/region-parser.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/758ba0f0f99406d4c5ab7b3b05a92125f959bc1a/aio%2Ftools%2Ftransforms%2Fexamples-package%2Fservices%2Fregion-parser.js",
            "raw_url": "https://github.com/angular/angular/raw/758ba0f0f99406d4c5ab7b3b05a92125f959bc1a/aio%2Ftools%2Ftransforms%2Fexamples-package%2Fservices%2Fregion-parser.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fexamples-package%2Fservices%2Fregion-parser.js?ref=758ba0f0f99406d4c5ab7b3b05a92125f959bc1a",
            "patch": "@@ -60,7 +60,9 @@ module.exports = function regionParser() {\n               }\n               region.open = true;\n               if (plaster) {\n-                region.lines.push(plaster);\n+                // Use the same indent as the docregion marker\n+                const indent = startRegion[0].split(/[^ ]/, 1);\n+                region.lines.push(indent + plaster);\n               }\n             } else {\n               regionMap[regionName] = {lines: [], open: true};"
        },
        {
            "sha": "124509a429038bf2a4acbda7be1b1dfc50e3a514",
            "filename": "aio/tools/transforms/examples-package/services/region-parser.spec.js",
            "status": "modified",
            "additions": 20,
            "deletions": 1,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/758ba0f0f99406d4c5ab7b3b05a92125f959bc1a/aio%2Ftools%2Ftransforms%2Fexamples-package%2Fservices%2Fregion-parser.spec.js",
            "raw_url": "https://github.com/angular/angular/raw/758ba0f0f99406d4c5ab7b3b05a92125f959bc1a/aio%2Ftools%2Ftransforms%2Fexamples-package%2Fservices%2Fregion-parser.spec.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fexamples-package%2Fservices%2Fregion-parser.spec.js?ref=758ba0f0f99406d4c5ab7b3b05a92125f959bc1a",
            "patch": "@@ -142,7 +142,6 @@ describe('regionParser service', () => {\n     expect(output.regions['']).toEqual(t('abc', '/* . . . */', 'ghi'));\n   });\n \n-\n   it('should join multiple regions with the current plaster string', () => {\n     const output = regionParser(\n         t('/* #docregion */', 'abc', '/* #enddocregion */', 'def', '/* #docregion */', 'ghi',\n@@ -163,6 +162,26 @@ describe('regionParser service', () => {\n     expect(output.regions['A']).toEqual(t('jkl', 'pqr'));\n   });\n \n+  it('should indent the plaster string to the level of the docregion marker', () => {\n+    const output = regionParser(\n+        t(\n+          '/* #docregion */',\n+          'abc',\n+          '/* #enddocregion */',\n+          '  def',\n+          '    /* #docregion */',\n+          '    ghi',\n+          '    /* #enddocregion */',\n+          'jkl',\n+        ),\n+        'test-type');\n+    expect(output.regions['']).toEqual(t(\n+      'abc',\n+      '    /* . . . */',\n+      '    ghi'\n+      ));\n+  });\n+\n   it('should parse multiple region names separated by commas', () => {\n     const output = regionParser(\n         t('/* #docregion , A, B */', 'abc', '/* #enddocregion B */', '/* #docregion C */', 'xyz',"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 23,
        "deletions": 2
    }
}