{
    "author": "gkalpak",
    "message": "test(docs-infra): make it easier to identify the failing URL in `testFirebaseRedirection.spec.ts` (#41842)\n\nThis commit includes the URL under test in the test description in\n`testFirebaseRedirection.spec.ts` to make it easier to identify the\naffected URL when a test fails.\n\nIt also avoids unnecessarily creating multiple `FirebaseRedirector`\ninstances by sharing instances between tests.\n\nPR Close #41842",
    "sha": "1aee5a79c6ec2a94d50f358ba77eaa2e86a4239a",
    "files": [
        {
            "sha": "9ac74675f2bd7a0614f882b3e36c32467cf22ba5",
            "filename": "aio/tests/deployment/unit/testFirebaseRedirection.spec.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 6,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/1aee5a79c6ec2a94d50f358ba77eaa2e86a4239a/aio%2Ftests%2Fdeployment%2Funit%2FtestFirebaseRedirection.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/1aee5a79c6ec2a94d50f358ba77eaa2e86a4239a/aio%2Ftests%2Fdeployment%2Funit%2FtestFirebaseRedirection.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Funit%2FtestFirebaseRedirection.spec.ts?ref=1aee5a79c6ec2a94d50f358ba77eaa2e86a4239a",
            "patch": "@@ -2,20 +2,25 @@ import { getRedirector, loadLegacyUrls, loadLocalSitemapUrls, loadRedirects } fr\n \n describe('firebase.json redirect config', () => {\n   describe('with sitemap urls', () => {\n+    const redirector = getRedirector();\n+\n     loadLocalSitemapUrls().forEach(url => {\n-      it('should not redirect any urls in the sitemap', () => {\n-        expect(getRedirector().redirect(url)).toEqual(url);\n+      it(`should not redirect sitemap URL '${url}'`, () => {\n+        expect(redirector.redirect(url)).toEqual(url);\n       });\n     });\n   });\n \n   describe('with legacy urls', () => {\n+    const redirector = getRedirector();\n+\n     loadLegacyUrls().forEach(urlPair => {\n-      it('should redirect the legacy urls', () => {\n-        const redirector = getRedirector();\n-        expect(redirector.redirect(urlPair[0])).not.toEqual(urlPair[0]);\n+      it(`should redirect legacy URL '${urlPair[0]}'`, () => {\n+        const redirected = redirector.redirect(urlPair[0]);\n+\n+        expect(redirected).not.toEqual(urlPair[0]);\n         if (urlPair[1]) {\n-          expect(redirector.redirect(urlPair[0])).toEqual(urlPair[1]);\n+          expect(redirected).toEqual(urlPair[1]);\n         }\n       });\n     });"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 11,
        "deletions": 6
    }
}