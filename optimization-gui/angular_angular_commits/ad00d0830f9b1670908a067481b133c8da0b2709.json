{
    "author": "gkalpak",
    "message": "refactor(service-worker): remove unused variables and imports from tests (#42736)\n\nThis commit removes some unused variables (and associated imports) from\n`integration_spec.ts`.\n\nPR Close #42736",
    "sha": "ad00d0830f9b1670908a067481b133c8da0b2709",
    "files": [
        {
            "sha": "7b0de6b4d5833d0b8b4caa5c95c58158136e0553",
            "filename": "packages/service-worker/test/integration_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/ad00d0830f9b1670908a067481b133c8da0b2709/packages%2Fservice-worker%2Ftest%2Fintegration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/ad00d0830f9b1670908a067481b133c8da0b2709/packages%2Fservice-worker%2Ftest%2Fintegration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2Ftest%2Fintegration_spec.ts?ref=ad00d0830f9b1670908a067481b133c8da0b2709",
            "patch": "@@ -9,7 +9,7 @@\n import {NgswCommChannel} from '@angular/service-worker/src/low_level';\n import {SwPush} from '@angular/service-worker/src/push';\n import {SwUpdate} from '@angular/service-worker/src/update';\n-import {MockServiceWorkerContainer, MockServiceWorkerRegistration} from '@angular/service-worker/testing/mock';\n+import {MockServiceWorkerContainer} from '@angular/service-worker/testing/mock';\n import {CacheDatabase} from '@angular/service-worker/worker/src/db-cache';\n import {Driver} from '@angular/service-worker/worker/src/driver';\n import {Manifest} from '@angular/service-worker/worker/src/manifest';\n@@ -78,7 +78,6 @@ const serverUpdate =\n describe('ngsw + companion lib', () => {\n   let mock: MockServiceWorkerContainer;\n   let comm: NgswCommChannel;\n-  let reg: MockServiceWorkerRegistration;\n   let scope: SwTestHarness;\n   let driver: Driver;\n \n@@ -102,7 +101,6 @@ describe('ngsw + companion lib', () => {\n     });\n \n     mock.setupSw();\n-    reg = mock.mockRegistration!;\n \n     await Promise.all(scope.handleFetch(new MockRequest('/only.txt'), 'default'));\n     await driver.initialized;\n@@ -117,9 +115,7 @@ describe('ngsw + companion lib', () => {\n     const update = new SwUpdate(comm);\n     scope.updateServerState(serverUpdate);\n \n-    const gotUpdateNotice = (async () => {\n-      const notice = await obsToSinglePromise(update.available);\n-    })();\n+    const gotUpdateNotice = (async () => await obsToSinglePromise(update.available))();\n \n     await update.checkForUpdate();\n     await gotUpdateNotice;"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 2,
        "deletions": 6
    }
}