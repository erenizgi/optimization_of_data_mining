{
    "author": "alan-agius4",
    "message": "test: use `global` util instead of `global`  property. (#41739)\n\n`global` property is not available in the browser, previously this was polyfilled through core-js.\n\n(cherry picked from commit 827cf41386dcd7e496e107d6b32c54281bc935f1)\n\nPR Close #41739",
    "sha": "30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c",
    "files": [
        {
            "sha": "31994aadac7389cf1c23368415b8720ded57cf7b",
            "filename": "packages/core/test/acceptance/component_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c/packages%2Fcore%2Ftest%2Facceptance%2Fcomponent_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c/packages%2Fcore%2Ftest%2Facceptance%2Fcomponent_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fcomponent_spec.ts?ref=30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c",
            "patch": "@@ -14,6 +14,7 @@ import {expect} from '@angular/platform-browser/testing/src/matchers';\n import {ivyEnabled, onlyInIvy} from '@angular/private/testing';\n \n import {domRendererFactory3} from '../../src/render3/interfaces/renderer';\n+import {global} from '../../src/util/global';\n \n \n describe('component', () => {\n@@ -304,7 +305,7 @@ describe('component', () => {\n      });\n \n   describe('with ngDevMode', () => {\n-    const _global: {ngDevMode: any} = global as any;\n+    const _global: {ngDevMode: any} = global;\n     let saveNgDevMode!: typeof ngDevMode;\n     beforeEach(() => saveNgDevMode = ngDevMode);\n     afterEach(() => _global.ngDevMode = saveNgDevMode);"
        },
        {
            "sha": "2ab461b0b17e815623e35508b9d2d2e52e8d4f7b",
            "filename": "packages/core/test/zone/ng_zone_spec.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 10,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c/packages%2Fcore%2Ftest%2Fzone%2Fng_zone_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c/packages%2Fcore%2Ftest%2Fzone%2Fng_zone_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fzone%2Fng_zone_spec.ts?ref=30a24b6bf5fd1d34d467ccf9a617fb431d4a0d4c",
            "patch": "@@ -11,6 +11,7 @@ import {fakeAsync, flushMicrotasks, waitForAsync} from '@angular/core/testing';\n import {AsyncTestCompleter, beforeEach, describe, expect, inject, it, Log, xit} from '@angular/core/testing/src/testing_internal';\n import {browserDetection} from '@angular/platform-browser/testing/src/browser_util';\n \n+import {global} from '../../src/util/global';\n import {scheduleMicroTask} from '../../src/util/microtask';\n import {getNativeRequestAnimationFrame} from '../../src/util/raf';\n import {NoopNgZone} from '../../src/zone/ng_zone';\n@@ -982,10 +983,10 @@ function commonTests() {\n \n     describe('shouldCoalesceEventChangeDetection = true, shouldCoalesceRunChangeDetection = false', () => {\n       let nativeRequestAnimationFrame: (fn: FrameRequestCallback) => void;\n-      let nativeSetTimeout: any = (global as any)[Zone.__symbol__('setTimeout')];\n-      if (!(global as any).requestAnimationFrame) {\n+      let nativeSetTimeout: any = global[Zone.__symbol__('setTimeout')];\n+      if (!global.requestAnimationFrame) {\n         nativeRequestAnimationFrame = function(fn: Function) {\n-          (global as any)[Zone.__symbol__('setTimeout')](fn, 16);\n+          global[Zone.__symbol__('setTimeout')](fn, 16);\n         };\n       } else {\n         nativeRequestAnimationFrame = getNativeRequestAnimationFrame().nativeRequestAnimationFrame;\n@@ -996,7 +997,7 @@ function commonTests() {\n \n       beforeEach(() => {\n         patchedImmediate = setImmediate;\n-        (global as any).setImmediate = (global as any)[Zone.__symbol__('setImmediate')];\n+        global.setImmediate = global[Zone.__symbol__('setImmediate')];\n         coalesceZone = new NgZone({shouldCoalesceEventChangeDetection: true});\n         logs = [];\n         coalesceZone.onMicrotaskEmpty.subscribe(() => {\n@@ -1005,7 +1006,7 @@ function commonTests() {\n       });\n \n       afterEach(() => {\n-        (global as any).setImmediate = patchedImmediate;\n+        global.setImmediate = patchedImmediate;\n       });\n \n       it('should run in requestAnimationFrame async', (done: DoneFn) => {\n@@ -1121,10 +1122,10 @@ function commonTests() {\n \n     describe('shouldCoalesceRunChangeDetection = true', () => {\n       let nativeRequestAnimationFrame: (fn: FrameRequestCallback) => void;\n-      let nativeSetTimeout: any = (global as any)[Zone.__symbol__('setTimeout')];\n-      if (!(global as any).requestAnimationFrame) {\n+      let nativeSetTimeout: any = global[Zone.__symbol__('setTimeout')];\n+      if (!global.requestAnimationFrame) {\n         nativeRequestAnimationFrame = function(fn: Function) {\n-          (global as any)[Zone.__symbol__('setTimeout')](fn, 16);\n+          global[Zone.__symbol__('setTimeout')](fn, 16);\n         };\n       } else {\n         nativeRequestAnimationFrame = getNativeRequestAnimationFrame().nativeRequestAnimationFrame;\n@@ -1135,7 +1136,7 @@ function commonTests() {\n \n       beforeEach(() => {\n         patchedImmediate = setImmediate;\n-        (global as any).setImmediate = (global as any)[Zone.__symbol__('setImmediate')];\n+        global.setImmediate = global[Zone.__symbol__('setImmediate')];\n         coalesceZone = new NgZone({shouldCoalesceRunChangeDetection: true});\n         logs = [];\n         coalesceZone.onMicrotaskEmpty.subscribe(() => {\n@@ -1144,7 +1145,7 @@ function commonTests() {\n       });\n \n       afterEach(() => {\n-        (global as any).setImmediate = patchedImmediate;\n+        global.setImmediate = patchedImmediate;\n       });\n \n       it('should run in requestAnimationFrame async', (done: DoneFn) => {"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 13,
        "deletions": 11
    }
}