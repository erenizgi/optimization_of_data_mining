{
    "author": "JoostK",
    "message": "refactor(compiler): remove syntax error logic (#44411)\n\nThis code is no longer used now that ViewEngine has been removed.\n\nPR Close #44411",
    "sha": "1d39a5e6ac767135bc11b2df02813e0b91198c2a",
    "files": [
        {
            "sha": "87c97652b7e0d3925b9ae76a3e07d16fd828ddfc",
            "filename": "packages/compiler-cli/src/perform_compile.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 15,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/1d39a5e6ac767135bc11b2df02813e0b91198c2a/packages%2Fcompiler-cli%2Fsrc%2Fperform_compile.ts",
            "raw_url": "https://github.com/angular/angular/raw/1d39a5e6ac767135bc11b2df02813e0b91198c2a/packages%2Fcompiler-cli%2Fsrc%2Fperform_compile.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fperform_compile.ts?ref=1d39a5e6ac767135bc11b2df02813e0b91198c2a",
            "patch": "@@ -6,7 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {isSyntaxError} from '@angular/compiler';\n import ts from 'typescript';\n \n import {absoluteFrom, AbsoluteFsPath, FileSystem, getFileSystem, ReadonlyFileSystem, relative, resolve} from '../src/ngtsc/file_system';\n@@ -264,22 +263,12 @@ export function performCompilation({\n     }\n     return {diagnostics: allDiagnostics, program};\n   } catch (e) {\n-    let errMsg: string;\n-    let code: number;\n-    if (isSyntaxError(e)) {\n-      // don't report the stack for syntax errors as they are well known errors.\n-      errMsg = e.message;\n-      code = api.DEFAULT_ERROR_CODE;\n-    } else {\n-      errMsg = e.stack;\n-      // It is not a syntax error we might have a program with unknown state, discard it.\n-      program = undefined;\n-      code = api.UNKNOWN_ERROR_CODE;\n-    }\n+    // We might have a program with unknown state, discard it.\n+    program = undefined;\n     allDiagnostics.push({\n       category: ts.DiagnosticCategory.Error,\n-      messageText: errMsg,\n-      code,\n+      messageText: e.stack,\n+      code: api.UNKNOWN_ERROR_CODE,\n       file: undefined,\n       start: undefined,\n       length: undefined,"
        },
        {
            "sha": "da4c299e4a0dca6e450a5e68203d1d76bf047d59",
            "filename": "packages/compiler/src/parse_util.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/1d39a5e6ac767135bc11b2df02813e0b91198c2a/packages%2Fcompiler%2Fsrc%2Fparse_util.ts",
            "raw_url": "https://github.com/angular/angular/raw/1d39a5e6ac767135bc11b2df02813e0b91198c2a/packages%2Fcompiler%2Fsrc%2Fparse_util.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fparse_util.ts?ref=1d39a5e6ac767135bc11b2df02813e0b91198c2a",
            "patch": "@@ -170,24 +170,6 @@ export function r3JitTypeSourceSpan(\n       new ParseLocation(sourceFile, -1, -1, -1), new ParseLocation(sourceFile, -1, -1, -1));\n }\n \n-export function syntaxError(msg: string, parseErrors?: ParseError[]): Error {\n-  const error = Error(msg);\n-  (error as any)[ERROR_SYNTAX_ERROR] = true;\n-  if (parseErrors) (error as any)[ERROR_PARSE_ERRORS] = parseErrors;\n-  return error;\n-}\n-\n-const ERROR_SYNTAX_ERROR = 'ngSyntaxError';\n-const ERROR_PARSE_ERRORS = 'ngParseErrors';\n-\n-export function isSyntaxError(error: Error): boolean {\n-  return (error as any)[ERROR_SYNTAX_ERROR];\n-}\n-\n-export function getParseErrors(error: Error): ParseError[] {\n-  return (error as any)[ERROR_PARSE_ERRORS] || [];\n-}\n-\n let _anonymousTypeIndex = 0;\n \n export function identifierName(compileIdentifier: CompileIdentifierMetadata|null|undefined): string|"
        }
    ],
    "stats": {
        "total": 37,
        "additions": 4,
        "deletions": 33
    }
}