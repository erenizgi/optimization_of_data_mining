{
    "author": "devversion",
    "message": "build: add postinstall script as runfile for `yarn_install` repository rule (#44490)\n\nAdds the postinstall script as runfile for the `yarn_install`\nrepository rule, so that the dependencies are re-fetched when\nthe script changes.\n\nPR Close #44490",
    "sha": "d73c7162dfd7b5bc9de7d0e9594fa27887d899db",
    "files": [
        {
            "sha": "8bec487b1e759fb404ac244fff7f99e1701099bf",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/d73c7162dfd7b5bc9de7d0e9594fa27887d899db/WORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/d73c7162dfd7b5bc9de7d0e9594fa27887d899db/WORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/WORKSPACE?ref=d73c7162dfd7b5bc9de7d0e9594fa27887d899db",
            "patch": "@@ -40,6 +40,9 @@ load(\"//integration:npm_package_archives.bzl\", \"npm_package_archives\")\n \n yarn_install(\n     name = \"npm\",\n+    # Note that we add the postinstall script here so that the dependencies are re-installed\n+    # when the postinstall patches are modified.\n+    data = [\"//tools:postinstall-patches.js\"],\n     manual_build_file_contents = npm_package_archives(),\n     package_json = \"//:package.json\",\n     yarn_lock = \"//:yarn.lock\","
        },
        {
            "sha": "e3b52d14281ba43ff5529020b5ee5ba22724f4bf",
            "filename": "tools/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/d73c7162dfd7b5bc9de7d0e9594fa27887d899db/tools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/d73c7162dfd7b5bc9de7d0e9594fa27887d899db/tools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2FBUILD.bazel?ref=d73c7162dfd7b5bc9de7d0e9594fa27887d899db",
            "patch": "@@ -4,6 +4,7 @@ package(default_visibility = [\"//visibility:public\"])\n \n exports_files([\n     \"tsconfig.json\",\n+    \"postinstall-patches.js\",\n     \"jasmine-seed-generator.js\",\n ])\n "
        }
    ],
    "stats": {
        "total": 4,
        "additions": 4,
        "deletions": 0
    }
}