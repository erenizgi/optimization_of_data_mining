{
    "author": "devversion",
    "message": "build: run browsers tests on chromium locally (#38435)\n\nPreviously we added a browser target for `firefox` into the\ndev-infra package. It looks like as part of this change, we\naccidentally switched the local web testing target to `firefox`.\n\nWeb tests are not commonly run locally as we use Domino and\nNodeJS tests for primary development. Sometimes though we intend\nto run tests in a browser. This would currently work with Firefox\nbut not on Windows (as Firefox is a noop there in Bazel).\n\nThis commit switches the primary browser back to `chromium`. Also\nFirefox has been added as a second browser to web testing targets.\n\nThis allows us to reduce browsers in the legacy Saucelabs job. i.e.\nnot running Chrome and Firefox there. This should increase stability\nand speed up the legacy job (+ reduced rate limit for Saucelabs).\n\nPR Close #38435",
    "sha": "aa847cb014529cfed916e99486d928408657d1bb",
    "files": [
        {
            "sha": "74921df5e22591498ef03abacb5f644ef24f5c51",
            "filename": "browser-providers.conf.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/aa847cb014529cfed916e99486d928408657d1bb/browser-providers.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/aa847cb014529cfed916e99486d928408657d1bb/browser-providers.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/browser-providers.conf.js?ref=aa847cb014529cfed916e99486d928408657d1bb",
            "patch": "@@ -12,8 +12,10 @@\n // If a category becomes empty (e.g. BS and required), then the corresponding job must be commented\n // out in the CI configuration.\n var CIconfiguration = {\n-  'Chrome': {unitTest: {target: 'SL', required: true}, e2e: {target: null, required: true}},\n-  'Firefox': {unitTest: {target: 'SL', required: true}, e2e: {target: null, required: true}},\n+  // Chrome and Firefox run as part of the Bazel browser tests, so we do not run them as\n+  // part of the legacy Saucelabs tests.\n+  'Chrome': {unitTest: {target: null, required: false}, e2e: {target: null, required: true}},\n+  'Firefox': {unitTest: {target: null, required: false}, e2e: {target: null, required: true}},\n   // Set ESR as a not required browser as it fails for Ivy acceptance tests.\n   'FirefoxESR': {unitTest: {target: 'SL', required: false}, e2e: {target: null, required: true}},\n   // Disabled because using the \"beta\" channel of Chrome can cause non-deterministic CI results."
        },
        {
            "sha": "b99e371f4f594d97a0fa019469468f00135dc296",
            "filename": "tools/defaults.bzl",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/aa847cb014529cfed916e99486d928408657d1bb/tools%2Fdefaults.bzl",
            "raw_url": "https://github.com/angular/angular/raw/aa847cb014529cfed916e99486d928408657d1bb/tools%2Fdefaults.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fdefaults.bzl?ref=aa847cb014529cfed916e99486d928408657d1bb",
            "patch": "@@ -245,7 +245,10 @@ def karma_web_test_suite(name, **kwargs):\n         runtime_deps = runtime_deps,\n         bootstrap = bootstrap,\n         deps = deps,\n-        browsers = [\"//dev-infra/browsers/firefox:firefox\"],\n+        browsers = [\n+            \"//dev-infra/browsers/chromium:chromium\",\n+            \"//dev-infra/browsers/firefox:firefox\",\n+        ],\n         data = data,\n         tags = tags,\n         **kwargs"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 8,
        "deletions": 3
    }
}