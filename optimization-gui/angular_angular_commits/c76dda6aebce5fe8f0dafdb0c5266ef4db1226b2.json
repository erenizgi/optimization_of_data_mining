{
    "author": "gkalpak",
    "message": "fix(dev-infra): correctly check for commit that closes PR (#39135)\n\nThe `ng-dev release publish` command needs to check whether a commit\nclosed a pull request. This is implemented via checking the commit\nmessage for specific closing keywords referencing the pull request\nnumber.\n\nThe regex used previously failed to correctly ensure that the specified\npull request was referenced. For example, it would allow `#12345` to\nalso match for `#1234`.\n\nThis commit fixes the regex.\n\nPR Close #39135",
    "sha": "c76dda6aebce5fe8f0dafdb0c5266ef4db1226b2",
    "files": [
        {
            "sha": "437e6cdcb762423b2dbeb9d2a5060ae00f714831",
            "filename": "dev-infra/release/publish/pull-request-state.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c76dda6aebce5fe8f0dafdb0c5266ef4db1226b2/dev-infra%2Frelease%2Fpublish%2Fpull-request-state.ts",
            "raw_url": "https://github.com/angular/angular/raw/c76dda6aebce5fe8f0dafdb0c5266ef4db1226b2/dev-infra%2Frelease%2Fpublish%2Fpull-request-state.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2Fpublish%2Fpull-request-state.ts?ref=c76dda6aebce5fe8f0dafdb0c5266ef4db1226b2",
            "patch": "@@ -68,5 +68,5 @@ async function isCommitClosingPullRequest(api: GitClient, sha: string, id: numbe\n   const {data} = await api.github.repos.getCommit({...api.remoteParams, ref: sha});\n   // Matches the closing keyword supported in commit messages. See:\n   // https://docs.github.com/en/enterprise/2.16/user/github/managing-your-work-on-github/closing-issues-using-keywords.\n-  return data.commit.message.match(new RegExp(`close[sd]? #${id}[^0-9]?`, 'i'));\n+  return data.commit.message.match(new RegExp(`close[sd]? #${id}(?!\\\\d)`, 'i'));\n }"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}