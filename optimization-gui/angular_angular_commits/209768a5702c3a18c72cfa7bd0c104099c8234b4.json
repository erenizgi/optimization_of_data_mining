{
    "author": "thorn0",
    "message": "refactor(compiler): stricter types for HTML AST (#41360)\n\nA Node can only be an instance of one of the six classes.\nThis relation can be accurately expressed using a union type.\n\nPR Close #41360",
    "sha": "209768a5702c3a18c72cfa7bd0c104099c8234b4",
    "files": [
        {
            "sha": "274163561a43573828fade54a97556c9bd5fcbef",
            "filename": "packages/compiler/src/ml_parser/ast.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/209768a5702c3a18c72cfa7bd0c104099c8234b4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fast.ts",
            "raw_url": "https://github.com/angular/angular/raw/209768a5702c3a18c72cfa7bd0c104099c8234b4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fast.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fast.ts?ref=209768a5702c3a18c72cfa7bd0c104099c8234b4",
            "patch": "@@ -10,12 +10,14 @@ import {AstPath} from '../ast_path';\n import {I18nMeta} from '../i18n/i18n_ast';\n import {ParseSourceSpan} from '../parse_util';\n \n-export interface Node {\n+interface BaseNode {\n   sourceSpan: ParseSourceSpan;\n   visit(visitor: Visitor, context: any): any;\n }\n \n-export abstract class NodeWithI18n implements Node {\n+export type Node = Attribute|Comment|Element|Expansion|ExpansionCase|Text;\n+\n+export abstract class NodeWithI18n implements BaseNode {\n   constructor(public sourceSpan: ParseSourceSpan, public i18n?: I18nMeta) {}\n   abstract visit(visitor: Visitor, context: any): any;\n }\n@@ -40,7 +42,7 @@ export class Expansion extends NodeWithI18n {\n   }\n }\n \n-export class ExpansionCase implements Node {\n+export class ExpansionCase implements BaseNode {\n   constructor(\n       public value: string, public expression: Node[], public sourceSpan: ParseSourceSpan,\n       public valueSourceSpan: ParseSourceSpan, public expSourceSpan: ParseSourceSpan) {}\n@@ -74,7 +76,7 @@ export class Element extends NodeWithI18n {\n   }\n }\n \n-export class Comment implements Node {\n+export class Comment implements BaseNode {\n   constructor(public value: string|null, public sourceSpan: ParseSourceSpan) {}\n   visit(visitor: Visitor, context: any): any {\n     return visitor.visitComment(this, context);"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 6,
        "deletions": 4
    }
}