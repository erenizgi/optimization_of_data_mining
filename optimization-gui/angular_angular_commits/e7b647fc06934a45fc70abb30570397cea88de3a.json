{
    "author": "alan-agius4",
    "message": "refactor(dev-infra): remove dependency on minimist (#43644)\n\nRefactor scripts to use `yargs`. The main motivation for this is to align and use a single parser.\n\nPR Close #43644",
    "sha": "e7b647fc06934a45fc70abb30570397cea88de3a",
    "files": [
        {
            "sha": "aa50091e135e016a38425c70fdb9fe8658dd7a66",
            "filename": "goldens/public-api/manage.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/e7b647fc06934a45fc70abb30570397cea88de3a/goldens%2Fpublic-api%2Fmanage.js",
            "raw_url": "https://github.com/angular/angular/raw/e7b647fc06934a45fc70abb30570397cea88de3a/goldens%2Fpublic-api%2Fmanage.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fmanage.js?ref=e7b647fc06934a45fc70abb30570397cea88de3a",
            "patch": "@@ -1,8 +1,8 @@\n const {exec} = require('shelljs');\n-const minimist = require('minimist');\n+const {Parser: parser} = require('yargs/helpers');\n \n // Remove all command line flags from the arguments.\n-const argv = minimist(process.argv.slice(2));\n+const argv = parser(process.argv.slice(2));\n // The command the user would like to run, either 'accept' or 'test'\n const USER_COMMAND = argv._[0];\n // The shell command to query for all Public API guard tests."
        },
        {
            "sha": "022efd6e82484134de4f55ce818d0b078c00b0df",
            "filename": "package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e7b647fc06934a45fc70abb30570397cea88de3a/package.json",
            "raw_url": "https://github.com/angular/angular/raw/e7b647fc06934a45fc70abb30570397cea88de3a/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=e7b647fc06934a45fc70abb30570397cea88de3a",
            "patch": "@@ -89,7 +89,6 @@\n     \"@types/jasmine\": \"3.9.1\",\n     \"@types/jasmine-ajax\": \"^3.3.1\",\n     \"@types/jasminewd2\": \"^2.0.8\",\n-    \"@types/minimist\": \"^1.2.0\",\n     \"@types/multimatch\": \"^4.0.0\",\n     \"@types/node\": \"^12.11.1\",\n     \"@types/selenium-webdriver\": \"3.0.7\",\n@@ -136,7 +135,6 @@\n     \"karma-sourcemap-loader\": \"^0.3.7\",\n     \"magic-string\": \"0.25.7\",\n     \"materialize-css\": \"1.0.0\",\n-    \"minimist\": \"^1.2.5\",\n     \"nodejs-websocket\": \"^1.7.2\",\n     \"protractor\": \"^7.0.0\",\n     \"puppeteer\": \"5.4.1\",\n@@ -172,7 +170,6 @@\n     \"@octokit/graphql\": \"^4.6.1\",\n     \"@types/cldrjs\": \"^0.4.22\",\n     \"@types/cli-progress\": \"^3.4.2\",\n-    \"@types/minimist\": \"^1.2.0\",\n     \"@yarnpkg/lockfile\": \"^1.1.0\",\n     \"browserstacktunnel-wrapper\": \"^2.0.4\",\n     \"check-side-effects\": \"0.0.23\","
        },
        {
            "sha": "f4e101bd28925923a938d7072e91b4410cacb37a",
            "filename": "tools/contributing-stats/get-data.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 14,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/e7b647fc06934a45fc70abb30570397cea88de3a/tools%2Fcontributing-stats%2Fget-data.ts",
            "raw_url": "https://github.com/angular/angular/raw/e7b647fc06934a45fc70abb30570397cea88de3a/tools%2Fcontributing-stats%2Fget-data.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fcontributing-stats%2Fget-data.ts?ref=e7b647fc06934a45fc70abb30570397cea88de3a",
            "patch": "@@ -23,8 +23,8 @@\n  */\n \n import {graphql as unauthenticatedGraphql} from '@octokit/graphql';\n-import minimist from 'minimist';\n import {alias, params, query as graphqlQuery, types} from 'typed-graphqlify';\n+import yargs from 'yargs';\n \n // The organization to be considered for the queries.\n const ORG = 'angular';\n@@ -34,19 +34,10 @@ const REPOS = ['angular', 'components', 'angular-cli'];\n /**\n  * Handle flags for the script.\n  */\n-const args = minimist(process.argv.slice(2), {\n-  string: ['since'],\n-  boolean: ['use-created'],\n-  unknown: (option: string) => {\n-    console.error(`Unknown option: ${option}`);\n-    process.exit(1);\n-  }\n-});\n-\n-if (!args['since']) {\n-  console.error(`Please provide --since [date]`);\n-  process.exit(1);\n-}\n+const args = yargs.option('use-created', {type: 'boolean'})\n+                 .option('since', {type: 'string', demandOption: true})\n+                 .strictOptions()\n+                 .argv;\n \n /**\n  * Authenticated instance of Github GraphQl API service, relies on a"
        },
        {
            "sha": "c438d271c0269042050adca618c9e12fa30e3dac",
            "filename": "tools/symbol-extractor/run_all_symbols_extractor_tests.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/e7b647fc06934a45fc70abb30570397cea88de3a/tools%2Fsymbol-extractor%2Frun_all_symbols_extractor_tests.js",
            "raw_url": "https://github.com/angular/angular/raw/e7b647fc06934a45fc70abb30570397cea88de3a/tools%2Fsymbol-extractor%2Frun_all_symbols_extractor_tests.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fsymbol-extractor%2Frun_all_symbols_extractor_tests.js?ref=e7b647fc06934a45fc70abb30570397cea88de3a",
            "patch": "@@ -8,11 +8,12 @@\n \n // TODO(josephperrott): migrate golden testing to ng-dev toolset\n const {spawnSync} = require('child_process');\n-const minimist = require('minimist');\n+const {Parser: parser} = require('yargs/helpers');\n const path = require('path');\n \n // Remove all command line flags from the arguments.\n-const argv = minimist(process.argv.slice(2));\n+const argv = parser(process.argv.slice(2));\n+\n // The command the user would like to run, either 'accept' or 'test'\n const USER_COMMAND = argv._[0];\n // The shell command to query for all tests."
        }
    ],
    "stats": {
        "total": 31,
        "additions": 10,
        "deletions": 21
    }
}