{
    "author": "alan-agius4",
    "message": "docs: update docs to reflect production mode by default (#41173)\n\nIn CLI version 12, we introduced the concept of production builds by default.\n\nWith this change we update the documentation to reflect the changes.\n\nMore information about the change can be found https://github.com/angular/angular-cli/pull/20128\n\nPR Close #41173",
    "sha": "7d6db009e98ea64357fb04a4693dad091237a9f0",
    "files": [
        {
            "sha": "1cd0f86f3b641fde5ff74fa350aa05ff4c3d775e",
            "filename": "aio/content/guide/app-shell.md",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fapp-shell.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fapp-shell.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fapp-shell.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -31,12 +31,16 @@ After running this command you will notice that the `angular.json` configuration\n <code-example language=\"json\">\n \"server\": {\n   \"builder\": \"@angular-devkit/build-angular:server\",\n+  \"defaultConfiguration\": \"production\",\n   \"options\": {\n     \"outputPath\": \"dist/my-app/server\",\n     \"main\": \"src/main.server.ts\",\n     \"tsConfig\": \"tsconfig.server.json\"\n   },\n   \"configurations\": {\n+    \"development\": {\n+      \"outputHashing\": \"none\",\n+    },\n     \"production\": {\n       \"outputHashing\": \"media\",\n       \"fileReplacements\": [\n@@ -52,12 +56,15 @@ After running this command you will notice that the `angular.json` configuration\n },\n \"app-shell\": {\n   \"builder\": \"@angular-devkit/build-angular:app-shell\",\n+  \"defaultConfiguration\": \"production\",\n   \"options\": {\n-    \"browserTarget\": \"my-app:build\",\n-    \"serverTarget\": \"my-app:server\",\n     \"route\": \"shell\"\n   },\n   \"configurations\": {\n+    \"development\": {\n+      \"browserTarget\": \"my-app:build:development\",\n+      \"serverTarget\": \"my-app:server:development\",\n+    },\n     \"production\": {\n       \"browserTarget\": \"my-app:build:production\",\n       \"serverTarget\": \"my-app:server:production\"\n@@ -71,7 +78,7 @@ After running this command you will notice that the `angular.json` configuration\n Use the CLI to build the `app-shell` target.\n \n <code-example language=\"bash\">\n-ng run my-app:app-shell\n+ng run my-app:app-shell:development\n </code-example>\n \n Or to use the production configuration."
        },
        {
            "sha": "a871bff5b029cf56227b06dbe7346b038390eab8",
            "filename": "aio/content/guide/build.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fbuild.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fbuild.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fbuild.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -117,7 +117,7 @@ For example:\n     ...\n ```\n \n-This means that when you build your production configuration (using `ng build --prod` or `ng build --configuration=production`), the `src/environments/environment.ts` file is replaced with the target-specific version of the file, `src/environments/environment.prod.ts`.\n+This means that when you build your production configuration with `ng build --configuration production`, the `src/environments/environment.ts` file is replaced with the target-specific version of the file, `src/environments/environment.prod.ts`.\n \n You can add additional configurations as required. To add a staging environment, create a copy of `src/environments/environment.ts` called `src/environments/environment.staging.ts`, then add a `staging` configuration to `angular.json`:\n "
        },
        {
            "sha": "22c7127fa862e2a554ea049af55667d50fd22463",
            "filename": "aio/content/guide/creating-libraries.md",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fcreating-libraries.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fcreating-libraries.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fcreating-libraries.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -45,13 +45,13 @@ When you generate a new library, the workspace configuration file, `angular.json\n You can build, test, and lint the project with CLI commands:\n \n <code-example language=\"bash\">\n- ng build my-lib\n+ ng build my-lib --configuration development\n  ng test my-lib\n  ng lint my-lib\n </code-example>\n \n Notice that the configured builder for the project is different from the default builder for app projects.\n-This builder, among other things, ensures that the library is always built with the [AOT compiler](guide/aot-compiler), without the need to specify the `--prod` flag.\n+This builder, among other things, ensures that the library is always built with the [AOT compiler](guide/aot-compiler).\n \n To make library code reusable you must define a public API for it. This \"user layer\" defines what is available to consumers of your library. A user of your library should be able to access public functionality (such as NgModules, service providers and general utility functions) through a single import path.\n \n@@ -118,10 +118,10 @@ To learn more, see [Schematics Overview](guide/schematics) and [Schematicsâ€Šfor\n \n Use the Angular CLI and the npm package manager to build and publish your library as an npm package.\n \n-Before publishing a library to NPM, build it using the `--prod` flag which will use the older compiler and runtime known as View Engine instead of Ivy.\n+Before publishing a library to NPM, build it using the `production` configuration which uses the older compiler and runtime known as View Engine instead of Ivy.\n \n <code-example language=\"bash\">\n-ng build my-lib --prod\n+ng build my-lib\n cd dist/my-lib\n npm publish\n </code-example>"
        },
        {
            "sha": "366329f1953f753c411ae82f9a81fd1ff07789b2",
            "filename": "aio/content/guide/deployment.md",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fdeployment.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fdeployment.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdeployment.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -68,7 +68,7 @@ ng deploy\n \n The command is interactive. In this case, you must have or create a Firebase account, and authenticate using that account. The command prompts you to select a Firebase project for deployment\n \n-After the command produces an optimal build of your application (equivalent to `ng deploy --prod`), it'll upload the production assets to Firebase.\n+The command builds your application and uploads the production assets to Firebase.\n \n In the table below, you can find a list of packages which implement deployment functionality to different platforms. The `deploy` command for each package may require different command line options. You can read more by following the links associated with the package names below:\n \n@@ -92,7 +92,7 @@ For the simplest deployment, create a production build and copy the output direc\n \n   <code-example language=\"none\" class=\"code-shell\">\n \n-    ng build --prod\n+    ng build\n \n   </code-example>\n \n@@ -135,7 +135,7 @@ To deploy your Angular application to [GitHub Pages](https://help.github.com/art\n \n   <code-example language=\"none\" class=\"code-shell\">\n \n-    ng build --prod --output-path docs --base-href /your_project_name/\n+    ng build --output-path docs --base-href /your_project_name/\n \n   </code-example>\n \n@@ -299,7 +299,7 @@ Read about how to enable CORS for specific servers at\n {@a optimize}\n ## Production optimizations\n \n-The `--prod` _meta-flag_ engages the following build optimization features.\n+The `production` configuration engages the following build optimization features.\n \n * [Ahead-of-Time (AOT) Compilation](guide/aot-compiler): pre-compiles Angular component templates.\n * [Production mode](#enable-prod-mode): deploys the production environment which enables _production mode_.\n@@ -323,9 +323,10 @@ In addition to build optimizations, Angular also has a runtime production mode.\n \n </code-example>\n \n-Switching to _production mode_ makes it run faster by disabling development specific checks such as the dual change detection cycles.\n-\n-When you enable production builds via `--prod` command line flag, the runtime production mode is enabled as well.\n+_Production mode_ improves application performance by disabling development-only safety\n+checks and debugging utilities, such as the expression-changed-after-checked detection.\n+Building your application with the production configuration automatically enables Angular's\n+runtime production mode.\n \n {@a lazy-loading}\n \n@@ -394,7 +395,7 @@ Build your app for production _including the source maps_\n \n <code-example language=\"none\" class=\"code-shell\">\n \n-  ng build --prod --source-map\n+  ng build --source-map\n \n </code-example>\n "
        },
        {
            "sha": "28f797e66d93a94613393ec641b5f25bb0ca10ab",
            "filename": "aio/content/guide/glossary.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fglossary.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fglossary.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fglossary.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -907,7 +907,7 @@ A buildable or runnable subset of a [project](#project), configured as an object\n \n In the `angular.json` file, each project has an \"architect\" section that contains targets which configure builders. Some of these targets correspond to [CLI commands](#cli), such as `build`, `serve`, `test`, and `lint`.\n \n-For example, the Architect builder invoked by the `ng build` command to compile a project uses a particular build tool, and has a default configuration whose values can be overridden on the command line. The `build` target also defines an alternate configuration for a \"production\" build, that can be invoked with the `--prod` flag on the `build` command.\n+For example, the Architect builder invoked by the `ng build` command to compile a project uses a particular build tool, and has a default configuration with values that you can override on the command line. The `build` target also defines an alternate configuration for a \"development\" build, which you can invoke with the `--configuration development` flag on the `build` command.\n \n The Architect tool provides a set of builders. The [`ng new` command](cli/new) provides a set of targets for the initial application project. The [`ng generate application`](cli/generate#application) and [`ng generate library`](cli/generate#library) commands provide a set of targets for each new [project](#project). These targets, their options and configurations, can be customized to meet the needs of your project. For example, you may want to add a \"staging\" or \"testing\" configuration to a project's \"build\" target.\n "
        },
        {
            "sha": "63c1f4804b607d49c5b75dabb951eb344a6f41ce",
            "filename": "aio/content/guide/i18n.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fi18n.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fi18n.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fi18n.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -642,7 +642,7 @@ You can also use the `--localize` option with the [`ng build`](/cli/build \"CLI r\n The CLI builds all locales defined in the build configuration, which is similar to setting the `\"localize\"` option to `true` as described in the previous section.\n \n <code-example language=\"sh\" class=\"code-shell\">\n-  ng build --prod --localize\n+  ng build --localize\n </code-example>\n \n {@a localize-build-one-locale}"
        },
        {
            "sha": "140fb469082cc347d9ae465407efd8dc3184259a",
            "filename": "aio/content/guide/service-worker-config.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fservice-worker-config.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fservice-worker-config.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fservice-worker-config.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -9,7 +9,7 @@ A basic understanding of the following:\n \n The `ngsw-config.json` configuration file specifies which files and data URLs the Angular service\n worker should cache and how it should update the cached files and data. The [Angular CLI](cli)\n-processes the configuration file during `ng build --prod`. Manually, you can process it with the\n+processes the configuration file during `ng build`. Manually, you can process it with the\n `ngsw-config` tool (where `<project-name>` is the name of the project being built):\n \n <code-example language=\"sh\">"
        },
        {
            "sha": "dde674bb8aa5871f25a5f55fa4bdfa79c4abd022",
            "filename": "aio/content/guide/service-worker-getting-started.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fservice-worker-getting-started.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fservice-worker-getting-started.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fservice-worker-getting-started.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -32,7 +32,7 @@ The above command completes the following actions:\n  Now, build the project:\n \n ```sh\n-ng build --prod\n+ng build\n ```\n \n The CLI project is now set up to use the Angular service worker.\n@@ -130,7 +130,7 @@ next step is understanding how updates work. Let's make a change to the applicat\n 6. Build and run the server again:\n \n ```sh\n-ng build --prod\n+ng build\n http-server -p 8080 -c-1 dist/<project-name>\n ```\n "
        },
        {
            "sha": "95865c3cecb4738ad57dd0c008ea7b91ff36fea4",
            "filename": "aio/content/guide/workspace-config.md",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fworkspace-config.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fguide%2Fworkspace-config.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fworkspace-config.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -174,16 +174,18 @@ The `architect/build` section configures defaults for options of the `ng build`\n \n ### Alternate build configurations\n \n-By default, a `production` configuration is defined, and the `ng build` command has `--prod` option that builds using this configuration. The `production` configuration sets defaults that optimize the app in a number of ways, such as bundling files, minimizing excess whitespace, removing comments and dead code, and rewriting code to use short, cryptic names (\"minification\").\n+Angular CLI comes with two build configurations: `production` and `development`. By default, the `ng build` command uses the `production` configuration, which applies a number of build optimizations, including:\n+* Bundling files\n+* Minimizing excess whitespace\n+* Removing comments and dead code\n+* Rewriting code to use short, mangled names (minification)\n \n You can define and name additional alternate configurations (such as `stage`, for instance) appropriate to your development process. Some examples of different build configurations are `stable`, `archive` and `next` used by AIO itself, and the individual locale-specific configurations required for building localized versions of an app. For details, see [Internationalization (i18n)](guide/i18n#merge-aot).\n \n You can select an alternate configuration by passing its name to the `--configuration` command line flag.\n \n You can also pass in more than one configuration name as a comma-separated list. For example, to apply both `stage` and `fr` build configurations, use the command `ng build --configuration stage,fr`. In this case,  the command parses the named configurations from left to right. If multiple configurations change the same setting, the last-set value is the final one.\n \n-If the `--prod` command line flag is also used, it is applied first, and its settings can be overridden by any configurations specified via the `--configuration` flag.\n-\n {@a build-props}\n \n ### Additional build and test options"
        },
        {
            "sha": "d99ae2fb7a1cdecae5230aea2455ba8bcbde999c",
            "filename": "aio/content/start/start-deployment.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fstart%2Fstart-deployment.md",
            "raw_url": "https://github.com/angular/angular/raw/7d6db009e98ea64357fb04a4693dad091237a9f0/aio%2Fcontent%2Fstart%2Fstart-deployment.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fstart%2Fstart-deployment.md?ref=7d6db009e98ea64357fb04a4693dad091237a9f0",
            "patch": "@@ -51,10 +51,10 @@ A best practice is to run your project locally before you deploy it. To run your\n {@a building}\n ## Building and hosting your application\n \n- 1. To build your application for production, use the `build` command with the `prod` flag.\n+ 1. To build your application for production, use the `build` command. By default, this command uses the `production` build configuration.\n \n     ```sh\n-    ng build --prod\n+    ng build\n     ```\n \n     This command creates a `dist` folder in the application root directory with all the files that a hosting service needs for serving your application."
        }
    ],
    "stats": {
        "total": 62,
        "additions": 36,
        "deletions": 26
    }
}