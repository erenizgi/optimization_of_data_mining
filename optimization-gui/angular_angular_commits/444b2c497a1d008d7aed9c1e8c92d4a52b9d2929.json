{
    "author": "devversion",
    "message": "test: remove unused router karma legacy setup (#44281)\n\nRemoves unused router karma legacy test setup that\njust caused unnecessary confusion.\n\nPR Close #44281",
    "sha": "444b2c497a1d008d7aed9c1e8c92d4a52b9d2929",
    "files": [
        {
            "sha": "63258e2d65cfba6aa8d387c2f05737fb85cd2164",
            "filename": "packages/router/karma-test-shim.js",
            "status": "removed",
            "additions": 0,
            "deletions": 89,
            "changes": 89,
            "blob_url": "https://github.com/angular/angular/blob/6c1573bc08099bee40a6214c68e82fe91848a08a/packages%2Frouter%2Fkarma-test-shim.js",
            "raw_url": "https://github.com/angular/angular/raw/6c1573bc08099bee40a6214c68e82fe91848a08a/packages%2Frouter%2Fkarma-test-shim.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2Fkarma-test-shim.js?ref=6c1573bc08099bee40a6214c68e82fe91848a08a",
            "patch": "@@ -1,89 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-/*global jasmine, __karma__, window*/\n-Error.stackTraceLimit = 5;\n-jasmine.DEFAULT_TIMEOUT_INTERVAL = 10000;\n-\n-__karma__.loaded = function() {};\n-\n-window.isNode = false;\n-window.isBrowser = true;\n-\n-function isJsFile(path) {\n-  return path.slice(-3) == '.js';\n-}\n-\n-function isSpecFile(path) {\n-  return path.slice(-7) == 'spec.js';\n-}\n-\n-function isBuiltFile(path) {\n-  var builtPath = '/base/dist/';\n-  return isJsFile(path) && (path.substr(0, builtPath.length) == builtPath);\n-}\n-\n-var allSpecFiles = Object.keys(window.__karma__.files).filter(isSpecFile).filter(isBuiltFile);\n-\n-// Load our SystemJS configuration.\n-System.config({\n-  baseURL: '/base',\n-});\n-\n-System.config({\n-  map: {\n-    '@angular': 'dist/all/@angular',\n-    'rxjs': 'node_modules/rxjs',\n-  },\n-  packages: {\n-    '@angular/core/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/core': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/compiler/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/compiler': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/common/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/common': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/platform-browser/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/platform-browser': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/platform-browser-dynamic/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/platform-browser-dynamic': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/private/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/upgrade/static': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/router/upgrade': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/router/testing': {main: 'index.js', defaultExtension: 'js'},\n-    '@angular/router': {main: 'index.js', defaultExtension: 'js'},\n-    'rxjs/ajax': {main: 'index.js', defaultExtension: 'js'},\n-    'rxjs/operators': {main: 'index.js', defaultExtension: 'js'},\n-    'rxjs/testing': {main: 'index.js', defaultExtension: 'js'},\n-    'rxjs/websocket': {main: 'index.js', defaultExtension: 'js'},\n-    'rxjs': {main: 'index.js', defaultExtension: 'js'},\n-  }\n-});\n-\n-Promise\n-    .all([\n-      System.import('@angular/core/testing'),\n-      System.import('@angular/platform-browser-dynamic/testing')\n-    ])\n-    .then(function(providers) {\n-      var testing = providers[0];\n-      var testingBrowser = providers[1];\n-\n-      testing.TestBed.initTestEnvironment(\n-          testingBrowser.BrowserDynamicTestingModule,\n-          testingBrowser.platformBrowserDynamicTesting());\n-    })\n-    .then(function() {\n-      // Finally, load all spec files.\n-      // This will run the tests directly.\n-      return Promise.all(allSpecFiles.map(function(moduleName) {\n-        return System.import(moduleName);\n-      }));\n-    })\n-    .then(__karma__.start, function(v) {\n-      console.error(v);\n-    });"
        },
        {
            "sha": "4d4eccb70d6fc5a90320cb324cf806b560bd0b74",
            "filename": "packages/router/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 113,
            "changes": 113,
            "blob_url": "https://github.com/angular/angular/blob/6c1573bc08099bee40a6214c68e82fe91848a08a/packages%2Frouter%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/6c1573bc08099bee40a6214c68e82fe91848a08a/packages%2Frouter%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2Fkarma.conf.js?ref=6c1573bc08099bee40a6214c68e82fe91848a08a",
            "patch": "@@ -1,113 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-const browserProvidersConf = require('../../browser-providers.conf');\n-const {generateSeed} = require('../../tools/jasmine-seed-generator');\n-\n-// Karma configuration\n-module.exports = function(config) {\n-  config.set({\n-\n-    basePath: '../../',\n-\n-    frameworks: ['jasmine'],\n-\n-    client: {\n-      jasmine: {\n-        random: true,\n-        seed: generateSeed('router/karma.conf'),\n-      },\n-    },\n-\n-    files: [\n-      // Polyfills.\n-      'node_modules/core-js/client/core.js',\n-      'node_modules/reflect-metadata/Reflect.js',\n-      'third_party/shims_for_internal_tests.js',\n-\n-      // System.js for module loading\n-      'node_modules/systemjs/dist/system-polyfills.js',\n-      'node_modules/systemjs/dist/system.src.js',\n-\n-      // Zone.js dependencies\n-      'dist/bin/packages/zone.js/npm_package/bundles/zone.umd.js',\n-      'dist/bin/packages/zone.js/npm_package/bundles/zone-testing.umd.js',\n-\n-      {pattern: 'node_modules/rxjs/**/*', included: false, watched: false},\n-\n-      // shim\n-      {pattern: 'packages/router/karma-test-shim.js', included: true, watched: true},\n-\n-      // Angular modules\n-      {pattern: 'dist/all/@angular/core/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/core/src/**/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/core/testing/**/*.js', included: false, watched: false},\n-\n-      {pattern: 'dist/all/@angular/common/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/common/src/**/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/common/testing/**/*.js', included: false, watched: false},\n-\n-      {pattern: 'dist/all/@angular/compiler/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/compiler/src/**/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/compiler/testing/**/*.js', included: false, watched: false},\n-\n-      {pattern: 'dist/all/@angular/platform-browser/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/platform-browser/src/**/*.js', included: false, watched: false},\n-      {\n-        pattern: 'dist/all/@angular/platform-browser/testing/**/*.js',\n-        included: false,\n-        watched: false\n-      },\n-\n-      {pattern: 'dist/all/@angular/platform-browser-dynamic/*.js', included: false, watched: false},\n-      {\n-        pattern: 'dist/all/@angular/platform-browser-dynamic/src/**/*.js',\n-        included: false,\n-        watched: false\n-      },\n-      {\n-        pattern: 'dist/all/@angular/platform-browser-dynamic/testing/**/*.js',\n-        included: false,\n-        watched: false\n-      },\n-\n-      {pattern: 'dist/all/@angular/private/testing/**/*.js', included: false, watched: false},\n-\n-      {pattern: 'dist/all/@angular/upgrade/static/*.js', included: false, watched: false},\n-      {pattern: 'dist/all/@angular/upgrade/static/src/**/*.js', included: false, watched: false},\n-\n-      // Router\n-      {pattern: 'dist/all/@angular/router/**/*.js', included: false, watched: true}\n-    ],\n-\n-    customLaunchers: browserProvidersConf.customLaunchers,\n-\n-    plugins: [\n-      'karma-jasmine',\n-      'karma-sauce-launcher',\n-      'karma-chrome-launcher',\n-      'karma-sourcemap-loader',\n-    ],\n-\n-    preprocessors: {\n-      '**/*.js': ['sourcemap'],\n-    },\n-\n-    reporters: ['dots'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['Chrome'],\n-    singleRun: false,\n-    captureTimeout: 60000,\n-    browserDisconnectTimeout: 60000,\n-    browserDisconnectTolerance: 3,\n-    browserNoActivityTimeout: 60000,\n-  });\n-};"
        }
    ],
    "stats": {
        "total": 202,
        "additions": 0,
        "deletions": 202
    }
}