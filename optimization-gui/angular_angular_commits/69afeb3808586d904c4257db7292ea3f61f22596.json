{
    "author": "petebacondarwin",
    "message": "fix(localize): trim extracted `equiv-text` values (#41180)\n\nThe ViewEngine message extraction would trim the values\nof the `equiv-text` attributes. This commit aligns the Ivy\nextraction of these attributes.\n\nFixes #41176\n\nPR Close #41180",
    "sha": "69afeb3808586d904c4257db7292ea3f61f22596",
    "files": [
        {
            "sha": "1d0e03008fa7580edfab3cd87780a8abff44bf44",
            "filename": "packages/localize/src/tools/src/extract/extraction.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/69afeb3808586d904c4257db7292ea3f61f22596/packages%2Flocalize%2Fsrc%2Ftools%2Fsrc%2Fextract%2Fextraction.ts",
            "raw_url": "https://github.com/angular/angular/raw/69afeb3808586d904c4257db7292ea3f61f22596/packages%2Flocalize%2Fsrc%2Ftools%2Fsrc%2Fextract%2Fextraction.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flocalize%2Fsrc%2Ftools%2Fsrc%2Fextract%2Fextraction.ts?ref=69afeb3808586d904c4257db7292ea3f61f22596",
            "patch": "@@ -123,7 +123,7 @@ export class MessageExtractor {\n         sourceFile.sources.find(sf => sf?.sourcePath === originalStart.file)!;\n     const startPos = originalSourceFile.startOfLinePositions[start.line] + start.column;\n     const endPos = originalSourceFile.startOfLinePositions[end.line] + end.column;\n-    const text = originalSourceFile.contents.substring(startPos, endPos);\n+    const text = originalSourceFile.contents.substring(startPos, endPos).trim();\n     return {file: originalStart.file, start, end, text};\n   }\n }"
        },
        {
            "sha": "bc1c45b60f7d2f5c0ff211f92039cb125c8b7d87",
            "filename": "packages/localize/src/tools/test/extract/integration/main_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/69afeb3808586d904c4257db7292ea3f61f22596/packages%2Flocalize%2Fsrc%2Ftools%2Ftest%2Fextract%2Fintegration%2Fmain_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/69afeb3808586d904c4257db7292ea3f61f22596/packages%2Flocalize%2Fsrc%2Ftools%2Ftest%2Fextract%2Fintegration%2Fmain_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flocalize%2Fsrc%2Ftools%2Ftest%2Fextract%2Fintegration%2Fmain_spec.ts?ref=69afeb3808586d904c4257db7292ea3f61f22596",
            "patch": "@@ -399,7 +399,8 @@ runInNativeFileSystem(() => {\n              // These source file paths are due to how Bazel TypeScript compilation source-maps\n              // work\n              `          <context context-type=\"sourcefile\">../packages/localize/src/tools/test/extract/integration/test_files/src/a.ts</context>`,\n-             `          <context context-type=\"linenumber\">3</context>`,\n+             `          <context context-type=\"linenumber\">3,${\n+                 target === 'es2015' ? 7 : 5}</context>`,\n              `        </context-group>`,\n              `      </trans-unit>`,\n              `      <trans-unit id=\"7829869508202074508\" datatype=\"html\">`,"
        },
        {
            "sha": "2b3f68bc385824c108a2ce1ef95289ad1c55e206",
            "filename": "packages/localize/src/tools/test/extract/integration/test_files/src/a.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/69afeb3808586d904c4257db7292ea3f61f22596/packages%2Flocalize%2Fsrc%2Ftools%2Ftest%2Fextract%2Fintegration%2Ftest_files%2Fsrc%2Fa.ts",
            "raw_url": "https://github.com/angular/angular/raw/69afeb3808586d904c4257db7292ea3f61f22596/packages%2Flocalize%2Fsrc%2Ftools%2Ftest%2Fextract%2Fintegration%2Ftest_files%2Fsrc%2Fa.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flocalize%2Fsrc%2Ftools%2Ftest%2Fextract%2Fintegration%2Ftest_files%2Fsrc%2Fa.ts?ref=69afeb3808586d904c4257db7292ea3f61f22596",
            "patch": "@@ -1,3 +1,7 @@\n declare const $localize: any;\n const file = 'a.ts';\n-export const messageA = $localize`Message in ${file}:a-file:!`;\n+export const messageA = $localize`Message in ${\n+\n+    file\n+\n+}:a-file:!`;"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 8,
        "deletions": 3
    }
}