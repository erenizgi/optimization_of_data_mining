{
    "author": "gkalpak",
    "message": "fix(service-worker): use correct names when listing `CacheDatabase` tables (#42622)\n\n`CacheDatabase` uses the un-prefixed table names to interact with\ndatabase tables. However, the `list()` method returns the raw, prefixed\ntable names (which are not useful, since they cannot be used to\nopen/delete a table).\n\nThis commit fixes this by removing the prefix from the cache names\nreturned by the `list()` method.\n\nNOTE:\nThis method is currently not used anywhere, so this change does not\naffect the ServiceWorker behavior.\n\nPR Close #42622",
    "sha": "7507ed2e54b0d33aeec32e63126e3212dd2d911a",
    "files": [
        {
            "sha": "613004fd04faa09a2d8fd11e11b29b0165ac4451",
            "filename": "packages/service-worker/worker/src/db-cache.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/7507ed2e54b0d33aeec32e63126e3212dd2d911a/packages%2Fservice-worker%2Fworker%2Fsrc%2Fdb-cache.ts",
            "raw_url": "https://github.com/angular/angular/raw/7507ed2e54b0d33aeec32e63126e3212dd2d911a/packages%2Fservice-worker%2Fworker%2Fsrc%2Fdb-cache.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2Fworker%2Fsrc%2Fdb-cache.ts?ref=7507ed2e54b0d33aeec32e63126e3212dd2d911a",
            "patch": "@@ -31,7 +31,10 @@ export class CacheDatabase implements Database {\n     const prefix = `${this.cacheNamePrefix}:`;\n     const allCacheNames = await this.scope.caches.keys();\n     const dbCacheNames = allCacheNames.filter(name => name.startsWith(prefix));\n-    return dbCacheNames;\n+\n+    // Return the un-prefixed table names, so they can be used with other `CacheDatabase` methods\n+    // (for example, for opening/deleting a table).\n+    return dbCacheNames.map(name => name.slice(prefix.length));\n   }\n \n   async open(name: string, cacheQueryOptions?: CacheQueryOptions): Promise<Table> {"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}