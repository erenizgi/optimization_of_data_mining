{
    "author": "gkalpak",
    "message": "build(docs-infra): update Lighthouse to version 7.2.0 (#40994)\n\nIn this version, we no longer need our custom logic to skip certain\nHTTPS related audits on localhost, since Lighthouse will treat it as a\nsecure context (similar to how browsers do).\nSee also GoogleChrome/lighthouse#11766.\n\nPR Close #40994",
    "sha": "6e405513942f675c6c64ff4cb4a62e0df649e26a",
    "files": [
        {
            "sha": "dc6efc60641f23558bfa8791e9954b92c0bc9551",
            "filename": "aio/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6e405513942f675c6c64ff4cb4a62e0df649e26a/aio%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/6e405513942f675c6c64ff4cb4a62e0df649e26a/aio%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fpackage.json?ref=6e405513942f675c6c64ff4cb4a62e0df649e26a",
            "patch": "@@ -147,7 +147,7 @@\n     \"karma-jasmine\": \"~4.0.0\",\n     \"karma-jasmine-html-reporter\": \"^1.5.0\",\n     \"light-server\": \"^2.6.2\",\n-    \"lighthouse\": \"^7.0.0\",\n+    \"lighthouse\": \"^7.2.0\",\n     \"lighthouse-logger\": \"^1.2.0\",\n     \"lodash\": \"^4.17.4\",\n     \"lunr\": \"^2.1.0\","
        },
        {
            "sha": "6c080e924c57f078c02c9692bba23697d7b96515",
            "filename": "aio/scripts/audit-web-app.js",
            "status": "modified",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/6e405513942f675c6c64ff4cb4a62e0df649e26a/aio%2Fscripts%2Faudit-web-app.js",
            "raw_url": "https://github.com/angular/angular/raw/6e405513942f675c6c64ff4cb4a62e0df649e26a/aio%2Fscripts%2Faudit-web-app.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fscripts%2Faudit-web-app.js?ref=6e405513942f675c6c64ff4cb4a62e0df649e26a",
            "patch": "@@ -35,7 +35,6 @@ const puppeteer = require('puppeteer');\n // Constants\n const AUDIT_CATEGORIES = ['accessibility', 'best-practices', 'performance', 'pwa', 'seo'];\n const LIGHTHOUSE_FLAGS = {logLevel: process.env.CI ? 'error' : 'info'};  // Be less verbose on CI.\n-const SKIPPED_HTTPS_AUDITS = ['redirects-http', 'uses-http2'];\n const VIEWER_URL = 'https://googlechrome.github.io/lighthouse/viewer';\n const WAIT_FOR_SW_DELAY = 5000;\n \n@@ -45,7 +44,6 @@ _main(process.argv.slice(2));\n // Functions - Definitions\n async function _main(args) {\n   const {url, minScores, logFile} = parseInput(args);\n-  const isOnHttp = /^http:/.test(url);\n   const lhFlags = {...LIGHTHOUSE_FLAGS, onlyCategories: Object.keys(minScores).sort()};\n   const lhConfig = {\n     extends: 'lighthouse:default',\n@@ -57,10 +55,6 @@ async function _main(args) {\n   console.log(`Running web-app audits for '${url}'...`);\n   console.log(`  Audit categories: ${lhFlags.onlyCategories.join(', ')}`);\n \n-  // If testing on HTTP, skip HTTPS-specific tests.\n-  // (Note: Browsers special-case localhost and run ServiceWorker even on HTTP.)\n-  if (isOnHttp) skipHttpsAudits(lhConfig);\n-\n   logger.setLevel(lhFlags.logLevel);\n \n   try {\n@@ -171,8 +165,3 @@ async function processResults(results, minScores, logFile) {\n \n   return success;\n }\n-\n-function skipHttpsAudits(config) {\n-  console.log(`  Skipping HTTPS-related audits: ${SKIPPED_HTTPS_AUDITS.join(', ')}`);\n-  config.settings = {...config.settings, skipAudits: SKIPPED_HTTPS_AUDITS};\n-}"
        },
        {
            "sha": "3d10a017616ed97fdc3900773434ac562a5cc323",
            "filename": "aio/yarn.lock",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/6e405513942f675c6c64ff4cb4a62e0df649e26a/aio%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/6e405513942f675c6c64ff4cb4a62e0df649e26a/aio%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fyarn.lock?ref=6e405513942f675c6c64ff4cb4a62e0df649e26a",
            "patch": "@@ -2520,10 +2520,10 @@ aws4@^1.8.0:\n   resolved \"https://registry.yarnpkg.com/aws4/-/aws4-1.9.1.tgz#7e33d8f7d449b3f673cd72deb9abdc552dbe528e\"\n   integrity sha512-wMHVg2EOHaMRxbzgFJ9gtjOOCrI80OHLG14rxi28XwOW8ux6IiEbRCGGGqCtdAIg4FQCbW20k9RsT4y3gJlFug==\n \n-axe-core@4.1.1:\n-  version \"4.1.1\"\n-  resolved \"https://registry.yarnpkg.com/axe-core/-/axe-core-4.1.1.tgz#70a7855888e287f7add66002211a423937063eaf\"\n-  integrity sha512-5Kgy8Cz6LPC9DJcNb3yjAXTu3XihQgEdnIg50c//zOC/MyLP0Clg+Y8Sh9ZjjnvBrDZU4DgXS9C3T9r4/scGZQ==\n+axe-core@4.1.2:\n+  version \"4.1.2\"\n+  resolved \"https://registry.yarnpkg.com/axe-core/-/axe-core-4.1.2.tgz#7cf783331320098bfbef620df3b3c770147bc224\"\n+  integrity sha512-V+Nq70NxKhYt89ArVcaNL9FDryB3vQOd+BFXZIfO3RP6rwtj+2yqqqdHEkacutglPaZLkJeuXKCjCJDMGPtPqg==\n \n axobject-query@2.0.2:\n   version \"2.0.2\"\n@@ -8255,12 +8255,12 @@ lighthouse-stack-packs@^1.4.0:\n   resolved \"https://registry.yarnpkg.com/lighthouse-stack-packs/-/lighthouse-stack-packs-1.4.0.tgz#bf98e0fb04a091ec2d73648842698b41070968ef\"\n   integrity sha512-wdv94WUjaqUwtW8DOapng45Yah62c5O5geNVeoSQlnoagfbTO/YbiwNlfzDIF1xNKRkPlsfr/oWHhXsaHXDivg==\n \n-lighthouse@^7.0.0:\n-  version \"7.0.0\"\n-  resolved \"https://registry.yarnpkg.com/lighthouse/-/lighthouse-7.0.0.tgz#3b070f129269889e853fcab629ded9418e417112\"\n-  integrity sha512-HxSbbg1WUZFsdUm0U6MCffr6J6marWW8kTlsAGaGh9oE7SFmxHh7eslK5u2sz70QXQZcZf8bfWRIkSx94dFbQA==\n+lighthouse@^7.2.0:\n+  version \"7.2.0\"\n+  resolved \"https://registry.yarnpkg.com/lighthouse/-/lighthouse-7.2.0.tgz#3368e94804b751586a48e95f39a71c68bee9c4d9\"\n+  integrity sha512-f2FLaJIHVACPUHK13Wl0EAvc+8vjSNf3+zjHM9h/WM+qZKpP2FkPOVpWnWs+TjAfsUG3C1alYtG2bzdD6qGmxA==\n   dependencies:\n-    axe-core \"4.1.1\"\n+    axe-core \"4.1.2\"\n     chrome-launcher \"^0.13.4\"\n     configstore \"^5.0.1\"\n     cssstyle \"1.2.1\""
        }
    ],
    "stats": {
        "total": 31,
        "additions": 10,
        "deletions": 21
    }
}