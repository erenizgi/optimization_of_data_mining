{
    "author": "mhevery",
    "message": "refactor(core): Rename `TView.node` to `TView.declTNode`. (#38707)\n\nThe value stored in `TView.node` is really the declaration `TNode`,\ntherefore renaming to make it more explicit.\n\nPR Close #38707",
    "sha": "5a86fb33baff91f5c37ebe206785a7f910aaf70e",
    "files": [
        {
            "sha": "d2284c71945bb12782a51430d4b1c071c39ed43f",
            "filename": "packages/core/src/render3/di.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts?ref=5a86fb33baff91f5c37ebe206785a7f910aaf70e",
            "patch": "@@ -203,7 +203,8 @@ export function getInjectorIndex(tNode: TNode, lView: LView): number {\n  * Finds the index of the parent injector, with a view offset if applicable. Used to set the\n  * parent injector initially.\n  *\n- * Returns a combination of number of `LView` we have to go up and index in that `LView`\n+ * @returns Returns a number that is the combination of the number of LViews that we have to go up\n+ * to find the LView containing the parent inject AND the index of the injector within that LView.\n  */\n export function getParentInjectorLocation(tNode: TNode, lView: LView): RelativeInjectorLocation {\n   if (tNode.parent && tNode.parent.injectorIndex !== -1) {\n@@ -227,8 +228,9 @@ export function getParentInjectorLocation(tNode: TNode, lView: LView): RelativeI\n     const tView = lViewCursor[TVIEW];\n     const tViewType = tView.type;\n     if (tViewType === TViewType.Embedded) {\n-      ngDevMode && assertDefined(tView.node, 'Embedded TNodes should have declaration parents.');\n-      parentTNode = tView.node;\n+      ngDevMode &&\n+          assertDefined(tView.declTNode, 'Embedded TNodes should have declaration parents.');\n+      parentTNode = tView.declTNode;\n     } else if (tViewType === TViewType.Component) {\n       // Components don't have `TView.declTNode` because each instance of component could be\n       // inserted in different location, hence `TView.declTNode` is meaningless.\n@@ -255,7 +257,6 @@ export function getParentInjectorLocation(tNode: TNode, lView: LView): RelativeI\n   }\n   return NO_PARENT_INJECTOR;\n }\n-\n /**\n  * Makes a type or an injection token public to the DI system by adding it to an\n  * injector's bloom filter."
        },
        {
            "sha": "d7f47afaa9e1fa462d045a6fde008de30b5ac799",
            "filename": "packages/core/src/render3/instructions/lview_debug.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flview_debug.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flview_debug.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flview_debug.ts?ref=5a86fb33baff91f5c37ebe206785a7f910aaf70e",
            "patch": "@@ -120,7 +120,7 @@ export const TViewConstructor = class TView implements ITView {\n       public template: ComponentTemplate<{}>|null,           //\n       public queries: TQueries|null,                         //\n       public viewQuery: ViewQueriesFunction<{}>|null,        //\n-      public node: ITNode|null,                              //\n+      public declTNode: ITNode|null,                         //\n       public data: TData,                                    //\n       public bindingStartIndex: number,                      //\n       public expandoStartIndex: number,                      //"
        },
        {
            "sha": "ef8c33973c61f7c5257a98f7d7f7cc786e5be052",
            "filename": "packages/core/src/render3/instructions/shared.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts?ref=5a86fb33baff91f5c37ebe206785a7f910aaf70e",
            "patch": "@@ -179,7 +179,7 @@ export function createLView<T>(\n   lView[HOST] = host;\n   lView[FLAGS] = flags | LViewFlags.CreationMode | LViewFlags.Attached | LViewFlags.FirstLViewPass;\n   resetPreOrderHookFlags(lView);\n-  ngDevMode && tView.node && parentLView && assertTNodeForLView(tView.node, parentLView);\n+  ngDevMode && tView.declTNode && parentLView && assertTNodeForLView(tView.declTNode, parentLView);\n   lView[PARENT] = lView[DECLARATION_VIEW] = parentLView;\n   lView[CONTEXT] = context;\n   lView[RENDERER_FACTORY] = (rendererFactory || parentLView && parentLView[RENDERER_FACTORY])!;\n@@ -682,7 +682,7 @@ export function createTView(\n         template: templateFn,\n         queries: null,\n         viewQuery: viewQuery,\n-        node: declTNode,\n+        declTNode: declTNode,\n         data: blueprint.slice().fill(null, bindingStartIndex),\n         bindingStartIndex: bindingStartIndex,\n         expandoStartIndex: initialViewLength,"
        },
        {
            "sha": "504bb542dd9987c5e0f3cbd77390c0070490849d",
            "filename": "packages/core/src/render3/interfaces/view.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts?ref=5a86fb33baff91f5c37ebe206785a7f910aaf70e",
            "patch": "@@ -499,8 +499,7 @@ export interface TView {\n   /**\n    * A `TNode` representing the declaration location of this `TView` (not part of this TView).\n    */\n-  // FIXME(misko): Rename `node` to `declTNode`\n-  node: TNode|null;\n+  declTNode: TNode|null;\n \n   // FIXME(misko): Why does `TView` not have `declarationTView` property?\n "
        },
        {
            "sha": "2695714cc367ae8ba8191e49ef552056fa206537",
            "filename": "packages/core/src/render3/view_engine_compatibility.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts?ref=5a86fb33baff91f5c37ebe206785a7f910aaf70e",
            "patch": "@@ -106,7 +106,7 @@ export function createTemplateRef<T>(\n         const embeddedTView = this._declarationTContainer.tViews as TView;\n         const embeddedLView = createLView(\n             this._declarationView, embeddedTView, context, LViewFlags.CheckAlways, null,\n-            embeddedTView.node, null, null, null, null);\n+            embeddedTView.declTNode, null, null, null, null);\n \n         const declarationLContainer = this._declarationView[this._declarationTContainer.index];\n         ngDevMode && assertLContainer(declarationLContainer);"
        },
        {
            "sha": "554a3ade6bad01eac0949f0244cffa16860a0b94",
            "filename": "packages/core/test/render3/is_shape_of.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Ftest%2Frender3%2Fis_shape_of.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a86fb33baff91f5c37ebe206785a7f910aaf70e/packages%2Fcore%2Ftest%2Frender3%2Fis_shape_of.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fis_shape_of.ts?ref=5a86fb33baff91f5c37ebe206785a7f910aaf70e",
            "patch": "@@ -94,7 +94,7 @@ const ShapeOfTView: ShapeOf<TView> = {\n   blueprint: true,\n   template: true,\n   viewQuery: true,\n-  node: true,\n+  declTNode: true,\n   firstCreatePass: true,\n   firstUpdatePass: true,\n   data: true,"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 11,
        "deletions": 11
    }
}