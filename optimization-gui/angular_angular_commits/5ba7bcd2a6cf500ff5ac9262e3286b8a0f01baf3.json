{
    "author": "gkalpak",
    "message": "docs: fix `SpyDirective` in `lifecycle-hooks` docs example to use one ID per instance (#40208)\n\nPreviously, the `SpyDirective` in the `lifecycle-hooks` docs example\nwould use a different ID when logging `onInit` and when logging\n`onDestroy` for the same instance, making it impossible to associate the\ntwo calls. This was not helpful and came in constrast with how the\ndirective was described in the corresponding guide and shown in the\naccompanying `spy-directive.gif` image.\n\nThis commit fixes the logic of the `SpyDirective` class to use the same\nID for all log operations of an instance.\n\nPartially addresses #40193.\n\nPR Close #40208",
    "sha": "5ba7bcd2a6cf500ff5ac9262e3286b8a0f01baf3",
    "files": [
        {
            "sha": "c364b3decad42e9536776a21f9641fa43c49c0b3",
            "filename": "aio/content/examples/lifecycle-hooks/src/app/spy.directive.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/5ba7bcd2a6cf500ff5ac9262e3286b8a0f01baf3/aio%2Fcontent%2Fexamples%2Flifecycle-hooks%2Fsrc%2Fapp%2Fspy.directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/5ba7bcd2a6cf500ff5ac9262e3286b8a0f01baf3/aio%2Fcontent%2Fexamples%2Flifecycle-hooks%2Fsrc%2Fapp%2Fspy.directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Flifecycle-hooks%2Fsrc%2Fapp%2Fspy.directive.ts?ref=5ba7bcd2a6cf500ff5ac9262e3286b8a0f01baf3",
            "patch": "@@ -10,15 +10,16 @@ let nextId = 1;\n // Usage: <div appSpy>...</div>\n @Directive({selector: '[appSpy]'})\n export class SpyDirective implements OnInit, OnDestroy {\n+  private id = nextId++;\n \n   constructor(private logger: LoggerService) { }\n \n   ngOnInit() {\n-    this.logger.log(`Spy #${nextId++} onInit`);\n+    this.logger.log(`Spy #${this.id} onInit`);\n   }\n \n   ngOnDestroy() {\n-    this.logger.log(`Spy #${nextId++} onDestroy`);\n+    this.logger.log(`Spy #${this.id} onDestroy`);\n   }\n }\n // #enddocregion spy-directive"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}