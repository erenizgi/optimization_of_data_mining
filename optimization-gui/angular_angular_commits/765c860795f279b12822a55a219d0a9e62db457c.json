{
    "author": "t-bowersox",
    "message": "docs: restore UniqueAlterEgoValidator (#44764)\n\nUpdate the docregion for the directive class to differentiate them\n\nPR Close #44764",
    "sha": "765c860795f279b12822a55a219d0a9e62db457c",
    "files": [
        {
            "sha": "2aeedc9ed632f72dca523e74420ea23e067c1d9d",
            "filename": "aio/content/examples/form-validation/src/app/shared/alter-ego.directive.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 2,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/765c860795f279b12822a55a219d0a9e62db457c/aio%2Fcontent%2Fexamples%2Fform-validation%2Fsrc%2Fapp%2Fshared%2Falter-ego.directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/765c860795f279b12822a55a219d0a9e62db457c/aio%2Fcontent%2Fexamples%2Fform-validation%2Fsrc%2Fapp%2Fshared%2Falter-ego.directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fform-validation%2Fsrc%2Fapp%2Fshared%2Falter-ego.directive.ts?ref=765c860795f279b12822a55a219d0a9e62db457c",
            "patch": "@@ -10,6 +10,21 @@ import { HeroesService } from './heroes.service';\n import { Observable, of } from 'rxjs';\n \n // #docregion async-validator\n+@Injectable({ providedIn: 'root' })\n+export class UniqueAlterEgoValidator implements AsyncValidator {\n+  constructor(private heroesService: HeroesService) {}\n+\n+  validate(\n+    control: AbstractControl\n+  ): Observable<ValidationErrors | null> {\n+    return this.heroesService.isAlterEgoTaken(control.value).pipe(\n+      map(isTaken => (isTaken ? { uniqueAlterEgo: true } : null)),\n+      catchError(() => of(null))\n+    );\n+  }\n+}\n+// #enddocregion async-validator\n+\n // #docregion async-validator-directive\n @Directive({\n   selector: '[appUniqueAlterEgo]',\n@@ -21,7 +36,6 @@ import { Observable, of } from 'rxjs';\n     }\n   ]\n })\n-// #enddocregion async-validator-directive\n export class UniqueAlterEgoValidatorDirective implements AsyncValidator {\n   constructor(private heroesService: HeroesService) {}\n \n@@ -34,4 +48,4 @@ export class UniqueAlterEgoValidatorDirective implements AsyncValidator {\n     );\n   }\n }\n-// #enddocregion async-validator\n+// #enddocregion async-validator-directive"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 16,
        "deletions": 2
    }
}