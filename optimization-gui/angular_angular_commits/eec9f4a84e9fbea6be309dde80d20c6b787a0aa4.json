{
    "author": "kyliau",
    "message": "test(language-service): add test for multiple bound attributes in microsyntax (#39062)\n\nIt used to be the case that all microsyntax bindings share the same source\nspan, so the second bound attribute would overwrite the first.\n\nThis has been fixed in #39036, this case is added to prevent regression.\n\nPR Close #39062",
    "sha": "eec9f4a84e9fbea6be309dde80d20c6b787a0aa4",
    "files": [
        {
            "sha": "ec452c9696fc92d3ffefaece1a12f9c8b5575be1",
            "filename": "packages/language-service/ivy/test/hybrid_visitor_spec.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/eec9f4a84e9fbea6be309dde80d20c6b787a0aa4/packages%2Flanguage-service%2Fivy%2Ftest%2Fhybrid_visitor_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/eec9f4a84e9fbea6be309dde80d20c6b787a0aa4/packages%2Flanguage-service%2Fivy%2Ftest%2Fhybrid_visitor_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Ftest%2Fhybrid_visitor_spec.ts?ref=eec9f4a84e9fbea6be309dde80d20c6b787a0aa4",
            "patch": "@@ -535,6 +535,19 @@ describe('findNodeAtPosition for microsyntax expression', () => {\n     expect((node as t.BoundAttribute).name).toBe('ngForTrackBy');\n   });\n \n+  it('should locate first bound attribute when there are two', () => {\n+    // It used to be the case that all microsyntax bindings share the same\n+    // source span, so the second bound attribute would overwrite the first.\n+    // This has been fixed in pr/39036, this case is added to prevent regression.\n+    const {errors, nodes, position} =\n+        parse(`<div *ngFor=\"let item o¦f items; trackBy: trackByFn\"></div>`);\n+    expect(errors).toBe(null);\n+    const node = findNodeAtPosition(nodes, position);\n+    expect(isTemplateNode(node!)).toBe(true);\n+    expect(node).toBeInstanceOf(t.BoundAttribute);\n+    expect((node as t.BoundAttribute).name).toBe('ngForOf');\n+  });\n+\n   it('should locate bound attribute value', () => {\n     const {errors, nodes, position} = parse(`<div *ngFor=\"let item of it¦ems\"></div>`);\n     expect(errors).toBe(null);"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 13,
        "deletions": 0
    }
}