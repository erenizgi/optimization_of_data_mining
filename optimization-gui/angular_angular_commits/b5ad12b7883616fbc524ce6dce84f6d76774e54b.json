{
    "author": "JoostK",
    "message": "refactor(compiler): make template preparser null-safe (#44411)\n\nThis commit removes some non-null assertion operations to improve\nnull-safety.\n\nPR Close #44411",
    "sha": "b5ad12b7883616fbc524ce6dce84f6d76774e54b",
    "files": [
        {
            "sha": "e27acc9ad8bf3583e5cc4d4b1fd6a6383bf2850c",
            "filename": "packages/compiler/src/style_url_resolver.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/b5ad12b7883616fbc524ce6dce84f6d76774e54b/packages%2Fcompiler%2Fsrc%2Fstyle_url_resolver.ts",
            "raw_url": "https://github.com/angular/angular/raw/b5ad12b7883616fbc524ce6dce84f6d76774e54b/packages%2Fcompiler%2Fsrc%2Fstyle_url_resolver.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fstyle_url_resolver.ts?ref=b5ad12b7883616fbc524ce6dce84f6d76774e54b",
            "patch": "@@ -9,7 +9,7 @@\n // Some of the code comes from WebComponents.JS\n // https://github.com/webcomponents/webcomponentsjs/blob/master/src/HTMLImports/path.js\n \n-export function isStyleUrlResolvable(url: string): boolean {\n+export function isStyleUrlResolvable(url: string|null): url is string {\n   if (url == null || url.length === 0 || url[0] == '/') return false;\n   const schemeMatch = url.match(URL_WITH_SCHEMA_REGEXP);\n   return schemeMatch === null || schemeMatch[1] == 'package' || schemeMatch[1] == 'asset';"
        },
        {
            "sha": "9d60bdbf7877bd1ae9f1dced121d3815eee356fc",
            "filename": "packages/compiler/src/template_parser/template_preparser.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/b5ad12b7883616fbc524ce6dce84f6d76774e54b/packages%2Fcompiler%2Fsrc%2Ftemplate_parser%2Ftemplate_preparser.ts",
            "raw_url": "https://github.com/angular/angular/raw/b5ad12b7883616fbc524ce6dce84f6d76774e54b/packages%2Fcompiler%2Fsrc%2Ftemplate_parser%2Ftemplate_preparser.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Ftemplate_parser%2Ftemplate_preparser.ts?ref=b5ad12b7883616fbc524ce6dce84f6d76774e54b",
            "patch": "@@ -21,8 +21,8 @@ const NG_PROJECT_AS = 'ngProjectAs';\n \n export function preparseElement(ast: html.Element): PreparsedElement {\n   let selectAttr: string|null = null;\n-  let hrefAttr: string = null!;\n-  let relAttr: string = null!;\n+  let hrefAttr: string|null = null;\n+  let relAttr: string|null = null;\n   let nonBindable = false;\n   let projectAs = '';\n   ast.attrs.forEach(attr => {\n@@ -66,7 +66,7 @@ export enum PreparsedElementType {\n \n export class PreparsedElement {\n   constructor(\n-      public type: PreparsedElementType, public selectAttr: string, public hrefAttr: string,\n+      public type: PreparsedElementType, public selectAttr: string, public hrefAttr: string|null,\n       public nonBindable: boolean, public projectAs: string) {}\n }\n "
        },
        {
            "sha": "51a7e3fc1dec153a7ddaf17bc8e45aa688c1506f",
            "filename": "packages/compiler/test/style_url_resolver_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/b5ad12b7883616fbc524ce6dce84f6d76774e54b/packages%2Fcompiler%2Ftest%2Fstyle_url_resolver_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/b5ad12b7883616fbc524ce6dce84f6d76774e54b/packages%2Fcompiler%2Ftest%2Fstyle_url_resolver_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Fstyle_url_resolver_spec.ts?ref=b5ad12b7883616fbc524ce6dce84f6d76774e54b",
            "patch": "@@ -18,7 +18,7 @@ describe('isStyleUrlResolvable', () => {\n   });\n \n   it('should not resolve empty urls', () => {\n-    expect(isStyleUrlResolvable(null!)).toBe(false);\n+    expect(isStyleUrlResolvable(null)).toBe(false);\n     expect(isStyleUrlResolvable('')).toBe(false);\n   });\n "
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}