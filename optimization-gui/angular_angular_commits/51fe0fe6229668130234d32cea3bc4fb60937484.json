{
    "author": "gkalpak",
    "message": "build(docs-infra): add new angular.io build configuration for release-candidates (#39470)\n\nThis commit adds a new build configuration/deployment mode (`rc`) for\ndeploying release-candidate versions to angular.io.\n\nThis is part of the work needed to prepare angular.io for our\n[new versioning/branching process][1] (also tracked in #39366).\n\n[1]: https://docs.google.com/document/d/197kVillDwx-RZtSVOBtPb4BBIAw0E9RT3q3v6DZkykU\n\nPR Close #39470",
    "sha": "51fe0fe6229668130234d32cea3bc4fb60937484",
    "files": [
        {
            "sha": "b77bf968401cc348942b2cdf35b780a2b8a019e1",
            "filename": "aio/angular.json",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fangular.json",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fangular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fangular.json?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -81,6 +81,15 @@\n               ],\n               \"serviceWorker\": true\n             },\n+            \"rc\": {\n+              \"fileReplacements\": [\n+                {\n+                  \"replace\": \"src/environments/environment.ts\",\n+                  \"with\": \"src/environments/environment.rc.ts\"\n+                }\n+              ],\n+              \"serviceWorker\": true\n+            },\n             \"stable\": {\n               \"fileReplacements\": [\n                 {\n@@ -116,6 +125,9 @@\n             \"next\": {\n               \"browserTarget\": \"site:build:next\"\n             },\n+            \"rc\": {\n+              \"browserTarget\": \"site:build:rc\"\n+            },\n             \"stable\": {\n               \"browserTarget\": \"site:build:stable\"\n             },"
        },
        {
            "sha": "8e2e860d8713ccd1188762c22db05a7621e3ee09",
            "filename": "aio/src/app/app.component.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fapp%2Fapp.component.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fapp%2Fapp.component.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fapp.component.spec.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -835,6 +835,7 @@ describe('AppComponent', () => {\n       const redirectionPerMode: {[mode: string]: boolean} = {\n         archive: true,\n         next: false,\n+        rc: false,\n         stable: false,\n       };\n "
        },
        {
            "sha": "90a03ae38267659938df5f501da977ad33f99123",
            "filename": "aio/src/app/app.component.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fapp.component.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -152,6 +152,7 @@ export class AppComponent implements OnInit {\n       // TODO(pbd): consider whether we can lookup the stable and next versions from the internet\n       const computedVersions: NavigationNode[] = [\n         { title: 'next', url: 'https://next.angular.io/' },\n+        { title: 'rc', url: 'https://rc.angular.io/' },\n         { title: 'stable', url: 'https://angular.io/' },\n       ];\n       if (this.deployment.mode === 'archive') {"
        },
        {
            "sha": "d4ee596cc782178726247877e231221ccfe530ef",
            "filename": "aio/src/environments/environment.archive.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.archive.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.archive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fenvironments%2Fenvironment.archive.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -1,6 +1,6 @@\n-// This is for archived sites, which are hosted at https://vX.angular.io, where X is the major Angular version.\n+// This is for archived sites, which are hosted at https://vX.angular.io/, where X is the major Angular version.\n export const environment = {\n   gaId: 'UA-8594346-15', // Production id (since it is linked from the main site)\n   production: true,\n-  mode: 'archive'\n+  mode: 'archive',\n };"
        },
        {
            "sha": "902862c9c56b0b74ddc83b9f5525451c6f28656c",
            "filename": "aio/src/environments/environment.next.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.next.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.next.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fenvironments%2Fenvironment.next.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -1,6 +1,6 @@\n-// This is for the staging site, which is hosted at https://next.angular.io (and https://aio-staging.firebaseapp.org)\n+// This is for the staging site, which is hosted at https://next.angular.io/.\n export const environment = {\n   gaId: 'UA-8594346-15', // Production id (since it is linked from the main site)\n   production: true,\n-  mode: 'next'\n+  mode: 'next',\n };"
        },
        {
            "sha": "b88b2a3ef936e78118bbc5bab2369d885c4887ff",
            "filename": "aio/src/environments/environment.rc.ts",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.rc.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.rc.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fenvironments%2Fenvironment.rc.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -0,0 +1,6 @@\n+// This is for the release-candidate site, which is hosted at https://rc.angular.io/.\n+export const environment = {\n+  gaId: 'UA-8594346-15', // Production id (since it is linked from the main site)\n+  production: true,\n+  mode: 'rc',\n+};"
        },
        {
            "sha": "e75c13393c732545371ef2082f9e8e155c58d89c",
            "filename": "aio/src/environments/environment.stable.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.stable.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.stable.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fenvironments%2Fenvironment.stable.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -1,6 +1,6 @@\n-// This is for the production site, which is hosted at https://angular.io\n+// This is for the production site, which is hosted at https://angular.io/.\n export const environment = {\n   gaId: 'UA-8594346-15', // Production id\n   production: true,\n-  mode: 'stable'\n+  mode: 'stable',\n };"
        },
        {
            "sha": "c56434e8a602bba0e50af5bc9ed57763e1b3cb4e",
            "filename": "aio/src/environments/environment.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fenvironments%2Fenvironment.ts?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -1,11 +1,11 @@\n // The file contents for the current environment will overwrite these during build.\n // The build system defaults to the dev environment which uses `environment.ts`, but if you do\n-// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n-// The list of which env maps to which file can be found in `angular-cli.json`.\n+// `ng build --configuration=<foo>` then `environment.<foo>.ts` will be used instead.\n+// The list of which configurations maps to which file can be found in `angular.json`.\n \n \n export const environment = {\n   gaId: 'UA-8594346-26', // Development id\n   production: false,\n-  mode: 'stable'\n+  mode: 'stable',\n };"
        },
        {
            "sha": "35272cac7255eb969af867e5456ab37edfc6b1c8",
            "filename": "aio/src/extra-files/rc/robots.txt",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fextra-files%2Frc%2Frobots.txt",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fextra-files%2Frc%2Frobots.txt",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fextra-files%2Frc%2Frobots.txt?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -0,0 +1,3 @@\n+# Disallow all URLs (see http://www.robotstxt.org/robotstxt.html)\n+User-agent: *\n+Disallow: /"
        },
        {
            "sha": "89ddd3cb00f015d8a1d883d33aa39c87dd299778",
            "filename": "aio/src/styles/2-modules/_deploy-theme.scss",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fstyles%2F2-modules%2F_deploy-theme.scss",
            "raw_url": "https://github.com/angular/angular/raw/51fe0fe6229668130234d32cea3bc4fb60937484/aio%2Fsrc%2Fstyles%2F2-modules%2F_deploy-theme.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2F_deploy-theme.scss?ref=51fe0fe6229668130234d32cea3bc4fb60937484",
            "patch": "@@ -5,3 +5,7 @@ aio-shell.mode-archive {\n aio-shell.mode-next {\n   @include deployTheme(#DD0031, #C3002F);\n }\n+\n+aio-shell.mode-rc {\n+  @include deployTheme(#DDA302, #C3A300);\n+}"
        }
    ],
    "stats": {
        "total": 45,
        "additions": 36,
        "deletions": 9
    }
}