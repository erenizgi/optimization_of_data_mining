{
    "author": "josephperrott",
    "message": "fix(dev-infra): remove ANSI escape codes from log file outputs (#38792)\n\nRemove the ANSI codes from the log file outputs to make the ng-dev log files\nmore readable.\n\nPR Close #38792",
    "sha": "e00535a2a4c40f54bf858edde1be6c17e19d6e6b",
    "files": [
        {
            "sha": "58aa5feeea88eaa0a012bec4a28d0d46c7a20e2c",
            "filename": "dev-infra/utils/console.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e00535a2a4c40f54bf858edde1be6c17e19d6e6b/dev-infra%2Futils%2Fconsole.ts",
            "raw_url": "https://github.com/angular/angular/raw/e00535a2a4c40f54bf858edde1be6c17e19d6e6b/dev-infra%2Futils%2Fconsole.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Futils%2Fconsole.ts?ref=e00535a2a4c40f54bf858edde1be6c17e19d6e6b",
            "patch": "@@ -196,6 +196,9 @@ export function captureLogOutputForCommand(argv: Arguments) {\n     /** Path to the log file location. */\n     const logFilePath = join(getRepoBaseDir(), '.ng-dev.log');\n \n+    // Strip ANSI escape codes from log outputs.\n+    LOGGED_TEXT = LOGGED_TEXT.replace(/\\x1B\\[([0-9]{1,3}(;[0-9]{1,2})?)?[mGK]/g, '');\n+\n     writeFileSync(logFilePath, LOGGED_TEXT);\n \n     // For failure codes greater than 1, the new logged lines should be written to a specific log"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}