{
    "author": "josephperrott",
    "message": "build: remove usage of blacklist in benchmark tooling (#38926)\n\nRemoves the usage of blacklist in benchmark tooling, instead using more\nspecificity to indicate whether a row is collapsible.\n\nPR Close #38926",
    "sha": "914d7099eedf64771a68d0b05a16cc92e32e14f5",
    "files": [
        {
            "sha": "4f6a0180f68b43dec63830b5c352bec20a5beb9a",
            "filename": "modules/benchmarks/src/expanding_rows/expanding_row.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row.ts",
            "raw_url": "https://github.com/angular/angular/raw/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row.ts?ref=914d7099eedf64771a68d0b05a16cc92e32e14f5",
            "patch": "@@ -45,10 +45,10 @@ export interface ExpandingRowHostBase {\n   handleRowSummaryClick(row: ExpandingRow): void;\n \n   /**\n-   * Check if element is blacklisted.  Blacklisted elements will not collapse an\n+   * Check if element is collapsible.  Elements marked as uncollapsible will not collapse an\n    * open row when clicked.\n    */\n-  isBlacklisted(element: HTMLElement|null): boolean;\n+  isCollapsible(element: HTMLElement|null): boolean;\n \n   /**\n    * Handles caption element click on a cfc-expanding-row component. Note\n@@ -247,16 +247,15 @@ export class ExpandingRow {\n    * notify click on its host element. Note that caption is only shown when\n    * the row is expanded. Hence this will collapse this row and put the focus\n    * on it.\n-   * If a blacklisted element exists in the caption, clicking that element will\n+   * If an uncollapsible element exists in the caption, clicking that element will\n    * not trigger the row collapse.\n    */\n   handleCaptionClick(event: MouseEvent): void {\n-    if (this.expandingRowHost.isBlacklisted(event.target as {} as HTMLElement)) {\n-      return;\n+    if (this.expandingRowHost.isCollapsible(event.target as {} as HTMLElement)) {\n+      this.expandingRowHost.handleRowCaptionClick(this);\n+      this.collapse();\n+      this.focus();\n     }\n-    this.expandingRowHost.handleRowCaptionClick(this);\n-    this.collapse();\n-    this.focus();\n   }\n \n   /**"
        },
        {
            "sha": "dd2b109f77a09fccce5697d85d5ef67fa3b7bedb",
            "filename": "modules/benchmarks/src/expanding_rows/expanding_row_host.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_host.ts?ref=914d7099eedf64771a68d0b05a16cc92e32e14f5",
            "patch": "@@ -315,18 +315,18 @@ export class ExpandingRowHost implements AfterViewInit, OnDestroy, ExpandingRowH\n   }\n \n   /**\n-   * Check if element is blacklisted.  Blacklisted elements will not collapse an\n+   * Check if element is collapsible.  Elements marked as uncollapsible will not collapse an\n    * open row when clicked.\n    */\n-  isBlacklisted(element: HTMLElement|null): boolean {\n+  isCollapsible(element: HTMLElement|null): boolean {\n     const clickRoot = this.getClickRootElement();\n     while (element && element !== clickRoot) {\n-      if (element.hasAttribute('cfcexpandingrowblacklist')) {\n-        return true;\n+      if (element.hasAttribute('cfcUncollapsible')) {\n+        return false;\n       }\n       element = element.parentElement;\n     }\n-    return false;\n+    return true;\n   }\n \n   /**"
        },
        {
            "sha": "fa65ae430335855bd2b2d7cde70426af7abe4e46",
            "filename": "modules/benchmarks/src/expanding_rows/expanding_row_module.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_module.ts",
            "raw_url": "https://github.com/angular/angular/raw/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_module.ts?ref=914d7099eedf64771a68d0b05a16cc92e32e14f5",
            "patch": "@@ -10,11 +10,11 @@ import {CommonModule} from '@angular/common';\n import {NgModule} from '@angular/core';\n \n import {ExpandingRow} from './expanding_row';\n-import {ExpandingRowBlacklist} from './expanding_row_blacklist';\n import {ExpandingRowDetailsCaption} from './expanding_row_details_caption';\n import {ExpandingRowDetailsContent} from './expanding_row_details_content';\n import {ExpandingRowHost} from './expanding_row_host';\n import {ExpandingRowSummary} from './expanding_row_summary';\n+import {ExpandingRowUncollapsible} from './expanding_row_uncollapsible';\n \n /** The main module for the cfc-expanding-row component. */\n @NgModule({\n@@ -24,15 +24,15 @@ import {ExpandingRowSummary} from './expanding_row_summary';\n     ExpandingRowDetailsContent,\n     ExpandingRowHost,\n     ExpandingRowSummary,\n-    ExpandingRowBlacklist,\n+    ExpandingRowUncollapsible,\n   ],\n   exports: [\n     ExpandingRow,\n     ExpandingRowDetailsCaption,\n     ExpandingRowDetailsContent,\n     ExpandingRowHost,\n     ExpandingRowSummary,\n-    ExpandingRowBlacklist,\n+    ExpandingRowUncollapsible,\n   ],\n   imports: [\n     CommonModule,"
        },
        {
            "sha": "073f391113d75c2b5f4ecc123866ec2746d4ef9a",
            "filename": "modules/benchmarks/src/expanding_rows/expanding_row_uncollapsible.ts",
            "status": "renamed",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_uncollapsible.ts",
            "raw_url": "https://github.com/angular/angular/raw/914d7099eedf64771a68d0b05a16cc92e32e14f5/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_uncollapsible.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/modules%2Fbenchmarks%2Fsrc%2Fexpanding_rows%2Fexpanding_row_uncollapsible.ts?ref=914d7099eedf64771a68d0b05a16cc92e32e14f5",
            "patch": "@@ -14,7 +14,7 @@ import {Directive} from '@angular/core';\n  * expanded row\n  */\n @Directive({\n-  selector: '[cfcExpandingRowBlacklist]',\n+  selector: '[cfcUncollapsible]',\n })\n-export class ExpandingRowBlacklist {\n+export class ExpandingRowUncollapsible {\n }",
            "previous_filename": "modules/benchmarks/src/expanding_rows/expanding_row_blacklist.ts"
        }
    ],
    "stats": {
        "total": 35,
        "additions": 17,
        "deletions": 18
    }
}