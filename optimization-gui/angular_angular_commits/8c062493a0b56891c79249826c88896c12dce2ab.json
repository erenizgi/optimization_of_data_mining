{
    "author": "IgorMinar",
    "message": "refactor(core): don't use innerHTML in DOMTestComponentRenderer (#41099)\n\nThe use of innerHTML is unnecessary and causes TrustedType violations.\n\nPR Close #41099",
    "sha": "8c062493a0b56891c79249826c88896c12dce2ab",
    "files": [
        {
            "sha": "e57f9dd29097e30c657ad708c78078ad4fbcd574",
            "filename": "packages/platform-browser-dynamic/testing/src/dom_test_component_renderer.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 12,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/8c062493a0b56891c79249826c88896c12dce2ab/packages%2Fplatform-browser-dynamic%2Ftesting%2Fsrc%2Fdom_test_component_renderer.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c062493a0b56891c79249826c88896c12dce2ab/packages%2Fplatform-browser-dynamic%2Ftesting%2Fsrc%2Fdom_test_component_renderer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser-dynamic%2Ftesting%2Fsrc%2Fdom_test_component_renderer.ts?ref=8c062493a0b56891c79249826c88896c12dce2ab",
            "patch": "@@ -20,23 +20,14 @@ export class DOMTestComponentRenderer extends TestComponentRenderer {\n   }\n \n   insertRootElement(rootElId: string) {\n-    const template = getDOM().getDefaultDocument().createElement('template');\n-    template.innerHTML = `<div id=\"${rootElId}\"></div>`;\n-    const rootEl = <HTMLElement>getContent(template).firstChild;\n+    const rootElement = getDOM().getDefaultDocument().createElement('div');\n+    rootElement.setAttribute('id', rootElId);\n \n     // TODO(juliemr): can/should this be optional?\n     const oldRoots = this._doc.querySelectorAll('[id^=root]');\n     for (let i = 0; i < oldRoots.length; i++) {\n       getDOM().remove(oldRoots[i]);\n     }\n-    this._doc.body.appendChild(rootEl);\n-  }\n-}\n-\n-function getContent(node: Node): Node {\n-  if ('content' in node) {\n-    return (<any>node).content;\n-  } else {\n-    return node;\n+    this._doc.body.appendChild(rootElement);\n   }\n }"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 3,
        "deletions": 12
    }
}