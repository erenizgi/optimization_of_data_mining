{
    "author": "petebacondarwin",
    "message": "refactor: remove ɵloc and related code (#43913)\n\nThis code is not used in ivy - and probably was not being used\nin View Engine either.\n\nPR Close #43913",
    "sha": "70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
    "files": [
        {
            "sha": "f6e0a46cc1808b970f1d2b97c8b3d13fc071cfa6",
            "filename": "packages/compiler-cli/src/ngtsc/annotations/src/ng_module.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 13,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Fng_module.ts",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Fng_module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Fng_module.ts?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -130,8 +130,7 @@ export class NgModuleDecoratorHandler implements\n       private referencesRegistry: ReferencesRegistry, private isCore: boolean,\n       private refEmitter: ReferenceEmitter, private factoryTracker: FactoryTracker|null,\n       private annotateForClosureCompiler: boolean,\n-      private injectableRegistry: InjectableClassRegistry, private perf: PerfRecorder,\n-      private localeId?: string) {}\n+      private injectableRegistry: InjectableClassRegistry, private perf: PerfRecorder) {}\n \n   readonly precedence = HandlerPrecedence.PRIMARY;\n   readonly name = NgModuleDecoratorHandler.name;\n@@ -540,17 +539,6 @@ export class NgModuleDecoratorHandler implements\n         type: injectorDef.type,\n       },\n     ];\n-\n-    if (this.localeId) {\n-      // QUESTION: can this stuff be removed?\n-      res.push({\n-        name: 'ɵloc',\n-        initializer: new LiteralExpr(this.localeId),\n-        statements: [],\n-        type: STRING_TYPE\n-      });\n-    }\n-\n     return res;\n   }\n "
        },
        {
            "sha": "98c1be351919cdb5a596be197017d1c9bd7d8574",
            "filename": "packages/compiler-cli/src/ngtsc/core/src/compiler.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcore%2Fsrc%2Fcompiler.ts",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcore%2Fsrc%2Fcompiler.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcore%2Fsrc%2Fcompiler.ts?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -1048,7 +1048,7 @@ export class NgCompiler {\n       new NgModuleDecoratorHandler(\n           reflector, evaluator, metaReader, metaRegistry, scopeRegistry, referencesRegistry, isCore,\n           refEmitter, this.adapter.factoryTracker, this.closureCompilerEnabled, injectableRegistry,\n-          this.delegatingPerfRecorder, this.options.i18nInLocale),\n+          this.delegatingPerfRecorder),\n     ];\n \n     const traitCompiler = new TraitCompiler("
        },
        {
            "sha": "30eb02df44d26d26532f7ed8343bf39bac5a4a7a",
            "filename": "packages/core/src/render3/definition.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Fsrc%2Frender3%2Fdefinition.ts",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Fsrc%2Frender3%2Fdefinition.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdefinition.ts?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -15,7 +15,7 @@ import {noSideEffects} from '../util/closure';\n import {EMPTY_ARRAY, EMPTY_OBJ} from '../util/empty';\n import {initNgDevMode} from '../util/ng_dev_mode';\n import {stringify} from '../util/stringify';\n-import {NG_COMP_DEF, NG_DIR_DEF, NG_LOC_ID_DEF, NG_MOD_DEF, NG_PIPE_DEF} from './fields';\n+import {NG_COMP_DEF, NG_DIR_DEF, NG_MOD_DEF, NG_PIPE_DEF} from './fields';\n import {ComponentDef, ComponentDefFeature, ComponentTemplate, ComponentType, ContentQueriesFunction, DirectiveDef, DirectiveDefFeature, DirectiveTypesOrFactory, HostBindingsFunction, PipeDef, PipeTypesOrFactory, ViewQueriesFunction} from './interfaces/definition';\n import {TAttributes, TConstantsOrFactory} from './interfaces/node';\n import {CssSelectorList} from './interfaces/projection';\n@@ -748,7 +748,3 @@ export function getNgModuleDef<T>(type: any, throwNotFound?: boolean): NgModuleD\n   }\n   return ngModuleDef;\n }\n-\n-export function getNgLocaleIdDef(type: any): string|null {\n-  return (type as any)[NG_LOC_ID_DEF] || null;\n-}"
        },
        {
            "sha": "107822200867fbc40c1434fcbb872b503437e135",
            "filename": "packages/core/src/render3/fields.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Fsrc%2Frender3%2Ffields.ts",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Fsrc%2Frender3%2Ffields.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ffields.ts?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -12,7 +12,6 @@ export const NG_COMP_DEF = getClosureSafeProperty({ɵcmp: getClosureSafeProperty\n export const NG_DIR_DEF = getClosureSafeProperty({ɵdir: getClosureSafeProperty});\n export const NG_PIPE_DEF = getClosureSafeProperty({ɵpipe: getClosureSafeProperty});\n export const NG_MOD_DEF = getClosureSafeProperty({ɵmod: getClosureSafeProperty});\n-export const NG_LOC_ID_DEF = getClosureSafeProperty({ɵloc: getClosureSafeProperty});\n export const NG_FACTORY_DEF = getClosureSafeProperty({ɵfac: getClosureSafeProperty});\n \n /**"
        },
        {
            "sha": "391158ecd11a1083d9bfead7f86d1e93651c2ac5",
            "filename": "packages/core/src/render3/ng_module_ref.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Fsrc%2Frender3%2Fng_module_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Fsrc%2Frender3%2Fng_module_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fng_module_ref.ts?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -19,8 +19,7 @@ import {assertDefined} from '../util/assert';\n import {stringify} from '../util/stringify';\n \n import {ComponentFactoryResolver} from './component_ref';\n-import {getNgLocaleIdDef, getNgModuleDef} from './definition';\n-import {setLocaleId} from './i18n/i18n_locale_id';\n+import {getNgModuleDef} from './definition';\n import {maybeUnwrapFn} from './util/misc_utils';\n \n \n@@ -70,8 +69,6 @@ export class NgModuleRef<T> extends viewEngine_NgModuleRef<T> implements Interna\n             ngModuleDef,\n             `NgModule '${stringify(ngModuleType)}' is not a subtype of 'NgModuleType'.`);\n \n-    const ngLocaleIdDef = getNgLocaleIdDef(ngModuleType);\n-    ngLocaleIdDef && setLocaleId(ngLocaleIdDef);\n     this._bootstrapComponents = maybeUnwrapFn(ngModuleDef!.bootstrap);\n     this._r3Injector = createInjectorWithoutInjectorInstances(\n                            ngModuleType, _parent,"
        },
        {
            "sha": "4e78c83fd34a72ac228f54d8b6d462622dd38f8d",
            "filename": "packages/core/test/bundling/forms_reactive/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -332,9 +332,6 @@\n   {\n     \"name\": \"NG_INJ_DEF\"\n   },\n-  {\n-    \"name\": \"NG_LOC_ID_DEF\"\n-  },\n   {\n     \"name\": \"NG_MODEL_WITH_FORM_CONTROL_WARNING\"\n   },\n@@ -1685,4 +1682,4 @@\n   {\n     \"name\": \"ɵɵtext\"\n   }\n-]\n\\ No newline at end of file\n+]"
        },
        {
            "sha": "2be5f4de526dd5f4b250b0995dd56ac54584e767",
            "filename": "packages/core/test/bundling/forms_template_driven/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -317,9 +317,6 @@\n   {\n     \"name\": \"NG_INJ_DEF\"\n   },\n-  {\n-    \"name\": \"NG_LOC_ID_DEF\"\n-  },\n   {\n     \"name\": \"NG_MOD_DEF\"\n   },\n@@ -1667,4 +1664,4 @@\n   {\n     \"name\": \"ɵɵtext\"\n   }\n-]\n\\ No newline at end of file\n+]"
        },
        {
            "sha": "d152361d3e60f8c8635fc92991bf588d9b0ab346",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/70d3805fd6d1b1d07878b99b1961f1678ae3bfaf/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=70d3805fd6d1b1d07878b99b1961f1678ae3bfaf",
            "patch": "@@ -413,9 +413,6 @@\n   {\n     \"name\": \"NG_INJ_DEF\"\n   },\n-  {\n-    \"name\": \"NG_LOC_ID_DEF\"\n-  },\n   {\n     \"name\": \"NG_MOD_DEF\"\n   },\n@@ -2141,4 +2138,4 @@\n   {\n     \"name\": \"ɵɵtextInterpolate1\"\n   }\n-]\n\\ No newline at end of file\n+]"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 7,
        "deletions": 36
    }
}