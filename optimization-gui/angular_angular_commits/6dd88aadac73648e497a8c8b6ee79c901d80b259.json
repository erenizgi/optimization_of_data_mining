{
    "author": "devversion",
    "message": "fix(dev-infra): api-golden tool does not specify a tsconfig and breaks for consumers (#42737)\n\nTools that are shipped as a Bazel rule with the shared dev-infra\ntool require a specific `tsconfig` as otherwise `ts_library` will\naccidentally look for a tsconfig in `@npm//:tsconfig` and the build\nwill fail. We bring in our dev-infra tsconfig and reference it\nexplicitly.\n\nPR Close #42737",
    "sha": "6dd88aadac73648e497a8c8b6ee79c901d80b259",
    "files": [
        {
            "sha": "8e9670d77553d2e03e3e34ea80bc07752cf34cee",
            "filename": "dev-infra/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/6dd88aadac73648e497a8c8b6ee79c901d80b259/dev-infra%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/6dd88aadac73648e497a8c8b6ee79c901d80b259/dev-infra%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2FBUILD.bazel?ref=6dd88aadac73648e497a8c8b6ee79c901d80b259",
            "patch": "@@ -2,6 +2,8 @@ load(\"@build_bazel_rules_nodejs//:index.bzl\", \"pkg_npm\")\n load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\")\n load(\"//dev-infra:index.bzl\", \"ng_dev_rolled_up_generated_file\")\n \n+exports_files([\"tsconfig.json\"])\n+\n ts_library(\n     name = \"cli\",\n     srcs = [\n@@ -43,6 +45,9 @@ pkg_npm(\n     name = \"npm_package\",\n     srcs = [\n         \"index.bzl\",\n+        # Some tools within `dev-infra` which are shipped as Bazel rules might\n+        # rely on a tsconfig file. We bring the config into the NPM package.\n+        \"tsconfig.json\",\n         \"//dev-infra/bazel:files\",\n         \"//dev-infra/benchmark:files\",\n     ],"
        },
        {
            "sha": "1c417b7d2c6a12f18ba05f79bf0a3129370f54d1",
            "filename": "dev-infra/bazel/api-golden/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/6dd88aadac73648e497a8c8b6ee79c901d80b259/dev-infra%2Fbazel%2Fapi-golden%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/6dd88aadac73648e497a8c8b6ee79c901d80b259/dev-infra%2Fbazel%2Fapi-golden%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fbazel%2Fapi-golden%2FBUILD.bazel?ref=6dd88aadac73648e497a8c8b6ee79c901d80b259",
            "patch": "@@ -15,6 +15,9 @@ ts_library(\n         \"index_npm_packages.ts\",\n         \"test_api_report.ts\",\n     ],\n+    # A tsconfig needs to be specified as otherwise `ts_library` will look for the config\n+    # in `//:package.json` and this breaks when the BUILD file is copied to `@npm//`.\n+    tsconfig = \"//dev-infra:tsconfig.json\",\n     deps = [\n         \"@npm//@bazel/runfiles\",\n         \"@npm//@microsoft/api-extractor\","
        }
    ],
    "stats": {
        "total": 8,
        "additions": 8,
        "deletions": 0
    }
}