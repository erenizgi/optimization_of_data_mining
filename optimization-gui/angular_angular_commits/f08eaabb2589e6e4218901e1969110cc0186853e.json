{
    "author": "twerske",
    "message": "fix(devtools): theming of profiler tab",
    "sha": "f08eaabb2589e6e4218901e1969110cc0186853e",
    "files": [
        {
            "sha": "7632556f7ade8b0f4d3d8cedf7c8dd638e256a08",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/breadcrumbs/breadcrumbs.component.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -30,7 +30,7 @@\n :host-context(.dark-theme) {\n   ::ng-deep {\n     .mat-card.breadcrumb-card span {\n-      color: #5caace;\n+      color: #5cadd3;\n     }\n \n     .mat-stroked-button {"
        },
        {
            "sha": "973e60183c34e48fb2b407b763c0fc5bba75aa23",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.scss",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -65,8 +65,7 @@\n     background-color: transparent;\n   }\n   50% {\n-    background-color: #fecf4a;\n-    color: #748591;\n+    background-color: #cfe8fc;\n   }\n   100% {\n     background-color: transparent;\n@@ -124,10 +123,13 @@\n }\n \n :host-context(.dark-theme) {\n-  .tree-node,\n-  .tree-node .mat-icon {\n+  .tree-node {\n     color: #5cadd3;\n \n+    .mat-icon {\n+      color: #bcc5ce;\n+    }\n+\n     .dir-names {\n       color: #91adcb;\n     }\n@@ -141,7 +143,7 @@\n     }\n \n     &.matched {\n-      background-color: #093e69;\n+      background-color: #262d36;\n \n       &:hover {\n         background-color: #073d69;"
        },
        {
            "sha": "7ba61c84982265475a7547ed67c87c3ece1adddc",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.html",
            "status": "modified",
            "additions": 27,
            "deletions": 12,
            "changes": 39,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -1,18 +1,33 @@\n <div class=\"profiler-wrapper\">\n   <mat-card>\n-    <mat-icon *ngIf=\"state === 'idle'\" (click)=\"startRecording()\" class=\"profiler-control start-recording-button\">\n-      play_circle_outline\n-    </mat-icon>\n-    <mat-icon *ngIf=\"state === 'recording'\" (click)=\"stopRecording()\" class=\"profiler-control recording-button\">\n-      stop_circle\n-    </mat-icon>\n-    <mat-icon *ngIf=\"state === 'visualizing'\" (click)=\"discardRecording()\" class=\"profiler-control discard-button\">\n-      refresh\n-    </mat-icon>\n+    <button\n+      mat-icon-button\n+      color=\"primary\"\n+      *ngIf=\"state === 'idle'\"\n+      (click)=\"startRecording()\"\n+      class=\"profiler-control start-recording-button\"\n+    >\n+      <mat-icon> circle </mat-icon>\n+    </button>\n+    <button\n+      mat-icon-button\n+      *ngIf=\"state === 'recording'\"\n+      (click)=\"stopRecording()\"\n+      class=\"profiler-control recording-button\"\n+    >\n+      <mat-icon> circle </mat-icon>\n+    </button>\n+    <button\n+      mat-icon-button\n+      color=\"primary\"\n+      *ngIf=\"state === 'visualizing'\"\n+      (click)=\"discardRecording()\"\n+      class=\"profiler-control discard-button\"\n+    >\n+      <mat-icon> not_interested </mat-icon>\n+    </button>\n     <p class=\"instructions\" [class.hidden]=\"state !== 'idle'\">\n-      <span>\n-        Click the play button to start a new recording, or upload a json file containing profiler data.\n-      </span>\n+      <span> Click the play button to start a new recording, or upload a json file containing profiler data. </span>\n       <br />\n       <span>\n         <input type=\"file\" (change)=\"importProfilerResults($event)\" placeholder=\"Upload file\" accept=\".json\" />"
        },
        {
            "sha": "c37dbb4785d67967c7dc82198f83c1b6f0121b5f",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.scss",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -15,14 +15,13 @@\n   border-radius: 0;\n }\n \n+.mat-icon {\n+  font-size: 18px;\n+}\n+\n .profiler-control {\n-  padding: 8px;\n   cursor: pointer;\n \n-  &.start-recording-button {\n-    color: #4db675;\n-  }\n-\n   &.recording-button {\n     color: #d83c34;\n   }"
        },
        {
            "sha": "f6b5de7e7fd79f7d88bd48f77fcd40dd9241ae81",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.scss",
            "status": "modified",
            "additions": 24,
            "deletions": 3,
            "changes": 27,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -39,11 +39,19 @@\n       margin-right: 2.5px;\n       margin-top: 2px;\n \n+      &:hover {\n+        background-color: #ebf1fb;\n+      }\n+\n       &.selected {\n-        margin-left: 0.5px;\n-        margin-right: 0.5px;\n+        margin-left: 0;\n+        margin-right: 0;\n         margin-top: 0;\n-        border: 2px solid #ffc400;\n+        padding-left: 0.5px;\n+        padding-right: 0.5px;\n+\n+        background-color: #cfe8fc;\n+        border: 2px solid #cfe8fc;\n       }\n     }\n   }\n@@ -52,3 +60,16 @@\n     margin-bottom: 5px;\n   }\n }\n+\n+:host-context(.dark-theme) {\n+  .bar-graph-container .bar-container .frame-bar {\n+    &:hover {\n+      background-color: #262d36;\n+    }\n+\n+    &.selected {\n+      background-color: #073d69;\n+      border: 2px solid #073d69;\n+    }\n+  }\n+}"
        },
        {
            "sha": "312a7af3f5fc814babe0e42c552b56f72a421edd",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/record-formatter/flamegraph-formatter/flamegraph-formatter.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 7,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.ts",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.ts?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -1,5 +1,6 @@\n import { RecordFormatter } from '../record-formatter';\n import { ElementProfile, ProfilerFrame } from 'protocol';\n+import { Theme } from 'projects/ng-devtools/src/lib/theme-service';\n \n export interface FlamegraphNode {\n   value: number;\n@@ -14,12 +15,11 @@ export interface FlamegraphNode {\n export const ROOT_LEVEL_ELEMENT_LABEL = 'Entire application';\n \n export class FlamegraphFormatter extends RecordFormatter<FlamegraphNode> {\n-  formatFrame(frame: ProfilerFrame, showChangeDetection?: boolean): FlamegraphNode {\n+  formatFrame(frame: ProfilerFrame, showChangeDetection?: boolean, theme?: Theme): FlamegraphNode {\n     const result: FlamegraphNode = {\n       value: 0,\n       label: ROOT_LEVEL_ELEMENT_LABEL,\n       children: [],\n-      color: '#4db6ac',\n       instances: 1,\n       changeDetected: false,\n       original: {\n@@ -28,11 +28,15 @@ export class FlamegraphFormatter extends RecordFormatter<FlamegraphNode> {\n       },\n     };\n \n-    this.addFrame(result.children, frame.directives, showChangeDetection);\n+    if (showChangeDetection) {\n+      result.color = theme === 'dark-theme' ? CHANGE_DETECTION_COLOR_DARK : CHANGE_DETECTION_COLOR_LIGHT;\n+    }\n+\n+    this.addFrame(result.children, frame.directives, showChangeDetection, theme);\n     return result;\n   }\n \n-  addFrame(nodes: FlamegraphNode[], elements: ElementProfile[], showChangeDetection?: boolean): number {\n+  addFrame(nodes: FlamegraphNode[], elements: ElementProfile[], showChangeDetection?: boolean, theme?: Theme): number {\n     let timeSpent = 0;\n     elements.forEach((element) => {\n       // Possibly undefined because of\n@@ -51,18 +55,21 @@ export class FlamegraphFormatter extends RecordFormatter<FlamegraphNode> {\n         changeDetected,\n       };\n       if (showChangeDetection) {\n+        const CHANGE_DETECTION_COLOR =\n+          theme === 'dark-theme' ? CHANGE_DETECTION_COLOR_DARK : CHANGE_DETECTION_COLOR_LIGHT;\n         node.color = changeDetected ? CHANGE_DETECTION_COLOR : NO_CHANGE_DETECTION_COLOR;\n       }\n-      timeSpent += this.addFrame(node.children, element.children, showChangeDetection);\n+      timeSpent += this.addFrame(node.children, element.children, showChangeDetection, theme);\n       timeSpent += node.value;\n       nodes.push(node);\n     });\n     return timeSpent;\n   }\n }\n \n-const CHANGE_DETECTION_COLOR = '#4db675';\n-const NO_CHANGE_DETECTION_COLOR = '#FAFAFA';\n+const CHANGE_DETECTION_COLOR_LIGHT = '#5cadd3';\n+const CHANGE_DETECTION_COLOR_DARK = '#073d69';\n+const NO_CHANGE_DETECTION_COLOR = 'transparent';\n \n const didRunChangeDetection = (profile: ElementProfile) => {\n   const components = profile.directives.filter((d) => d.isComponent);"
        },
        {
            "sha": "f96c24a7abb8a7034734d9151e92ff0e86780ae1",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bar-chart/bar-chart.component.scss",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbar-chart%2Fbar-chart.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbar-chart%2Fbar-chart.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbar-chart%2Fbar-chart.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -5,7 +5,7 @@\n   display: flex;\n   padding-top: 3px;\n   padding-bottom: 3px;\n-  opacity: 0.7;\n+  opacity: 0.8;\n   cursor: pointer;\n   transition: opacity 0.3s ease-out, width 0.3s ease;\n }\n@@ -33,6 +33,6 @@\n \n :host-context(.dark-theme) {\n   .bar span {\n-    color: black !important;\n+    color: #bcc5ce;\n   }\n }"
        },
        {
            "sha": "5be426f4ba3f2359806f8176d4bc0fe7a9d10c92",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bargraph-visualizer/bargraph-visualizer.component.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 3,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer%2Fbargraph-visualizer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer%2Fbargraph-visualizer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer%2Fbargraph-visualizer.component.ts?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -1,25 +1,42 @@\n-import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\n import { BargraphNode, BarGraphFormatter } from '../../record-formatter/bargraph-formatter';\n import { ProfilerFrame } from 'protocol';\n import { SelectedDirective, SelectedEntry } from '../timeline-visualizer.component';\n+import { Theme, ThemeService } from 'projects/ng-devtools/src/lib/theme-service';\n+import { Subscription } from 'rxjs';\n \n @Component({\n   selector: 'ng-bargraph-visualizer',\n   templateUrl: './bargraph-visualizer.component.html',\n   styleUrls: ['./bargraph-visualizer.component.scss'],\n })\n-export class BargraphVisualizerComponent {\n-  barColor = '#FFC400';\n+export class BargraphVisualizerComponent implements OnInit, OnDestroy {\n+  barColor: String;\n   profileRecords: BargraphNode[];\n \n   @Output() nodeSelect = new EventEmitter<SelectedEntry>();\n \n   private _formatter = new BarGraphFormatter();\n+  private _currentThemeSubscription: Subscription;\n+  currentTheme: Theme;\n \n   @Input() set frame(data: ProfilerFrame) {\n     this.profileRecords = this._formatter.formatFrame(data);\n   }\n \n+  constructor(public themeService: ThemeService) {}\n+\n+  ngOnInit(): void {\n+    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => {\n+      this.currentTheme = theme;\n+      this.barColor = theme === 'dark-theme' ? '#073d69' : '#cfe8fc';\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._currentThemeSubscription.unsubscribe();\n+  }\n+\n   formatEntryData(bargraphNode: BargraphNode): SelectedDirective[] {\n     const graphData: SelectedDirective[] = [];\n     bargraphNode.original.directives.forEach((node) => {"
        },
        {
            "sha": "d9be9a01b6cb8596d4f6a3bd46c4952f092a8283",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/flamegraph-visualizer/flamegraph-visualizer.component.scss",
            "status": "modified",
            "additions": 24,
            "deletions": 21,
            "changes": 45,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer%2Fflamegraph-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer%2Fflamegraph-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer%2Fflamegraph-visualizer.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -5,33 +5,36 @@\n   -webkit-user-select: text;\n   -ms-user-select: text;\n   user-select: text;\n-}\n \n-::ng-deep {\n-  .level-profile-wrapper {\n-    height: 100%;\n-    width: 100%;\n-    cursor: pointer;\n-  }\n+  ::ng-deep {\n+    .level-profile-wrapper {\n+      height: 100%;\n+      width: 100%;\n+      cursor: pointer;\n+    }\n \n-  .label {\n-    color: #000 !important;\n-    font-size: 0.8em !important;\n-    opacity: 0.9;\n-    padding-left: 2px;\n+    .ngx-fg-label {\n+      color: #000000de;\n+      font-weight: 500;\n+      font-size: 1em;\n+    }\n   }\n-}\n \n-:host-context(.dark-theme) {\n-  .entry-statistics {\n-    span {\n-      color: #54c9bd;\n+  :host-context(.dark-theme) {\n+    .entry-statistics {\n+      span {\n+        color: #54c9bd;\n+      }\n     }\n-  }\n \n-  ::ng-deep {\n-    rect {\n-      stroke: #303030;\n+    ::ng-deep {\n+      .ngx-fg-rect {\n+        stroke: #303030;\n+      }\n+\n+      .ngx-fg-label {\n+        color: #bcc5ce;\n+      }\n     }\n   }\n }"
        },
        {
            "sha": "d2b86eac8e1104ac1d467ffbc318fd44b41720b3",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/flamegraph-visualizer/flamegraph-visualizer.component.ts",
            "status": "modified",
            "additions": 33,
            "deletions": 11,
            "changes": 44,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer%2Fflamegraph-visualizer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer%2Fflamegraph-visualizer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer%2Fflamegraph-visualizer.component.ts?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -1,13 +1,15 @@\n-import { Component, ElementRef, EventEmitter, Input, Output } from '@angular/core';\n+import { Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\n \n import {\n   FlamegraphNode,\n   ROOT_LEVEL_ELEMENT_LABEL,\n   FlamegraphFormatter,\n } from '../../record-formatter/flamegraph-formatter/flamegraph-formatter';\n-import { RawData } from 'ngx-flamegraph/lib/utils';\n+import { Color, RawData } from 'ngx-flamegraph/lib/utils';\n import { ProfilerFrame } from 'protocol';\n import { SelectedDirective, SelectedEntry } from '../timeline-visualizer.component';\n+import { Theme, ThemeService } from 'projects/ng-devtools/src/lib/theme-service';\n+import { Subscription } from 'rxjs';\n \n export interface GraphNode {\n   directive: string;\n@@ -20,19 +22,16 @@ export interface GraphNode {\n   templateUrl: './flamegraph-visualizer.component.html',\n   styleUrls: ['./flamegraph-visualizer.component.scss'],\n })\n-export class FlamegraphVisualizerComponent {\n+export class FlamegraphVisualizerComponent implements OnInit, OnDestroy {\n   profilerBars: FlamegraphNode[] = [];\n   view: [number, number] = [235, 200];\n-\n-  colors = {\n-    hue: [50, 0],\n-    saturation: 280,\n-    lightness: 75,\n-  };\n+  colors: Color;\n \n   private _formatter = new FlamegraphFormatter();\n   private _showChangeDetection = false;\n   private _frame: ProfilerFrame;\n+  private _currentThemeSubscription: Subscription;\n+  currentTheme: Theme;\n \n   @Output() nodeSelect = new EventEmitter<SelectedEntry>();\n \n@@ -46,7 +45,30 @@ export class FlamegraphVisualizerComponent {\n     this._selectFrame();\n   }\n \n-  constructor(private _el: ElementRef) {}\n+  constructor(public themeService: ThemeService, private _el: ElementRef) {}\n+\n+  ngOnInit(): void {\n+    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => {\n+      this.currentTheme = theme;\n+      this.colors =\n+        theme === 'dark-theme'\n+          ? {\n+              hue: [210, 90],\n+              saturation: [90, 90],\n+              lightness: [25, 25],\n+            }\n+          : {\n+              hue: [50, 15],\n+              saturation: [100, 100],\n+              lightness: [75, 75],\n+            };\n+      this._selectFrame();\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._currentThemeSubscription.unsubscribe();\n+  }\n \n   get availableWidth(): number {\n     return this._el.nativeElement.querySelector('.level-profile-wrapper').offsetWidth;\n@@ -89,6 +111,6 @@ export class FlamegraphVisualizerComponent {\n   }\n \n   private _selectFrame(): void {\n-    this.profilerBars = [this._formatter.formatFrame(this._frame, this._showChangeDetection)];\n+    this.profilerBars = [this._formatter.formatFrame(this._frame, this._showChangeDetection, this.currentTheme)];\n   }\n }"
        },
        {
            "sha": "17543ad438d4369b9c552b8b8de47d47f1c44daa",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/timeline-visualizer.component.scss",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -47,7 +47,7 @@\n   }\n \n   span {\n-    color: #880e4f;\n+    color: #8a1882;\n   }\n }\n \n@@ -64,7 +64,7 @@ ul {\n :host-context(.dark-theme) {\n   .entry-statistics {\n     span {\n-      color: #54c9bd;\n+      color: #5cadd3;\n     }\n   }\n }"
        },
        {
            "sha": "60a0f4b70c7b473fc3c9c8e9e62d56033f4985bd",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline-controls/timeline-controls.component.scss",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline-controls%2Ftimeline-controls.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline-controls%2Ftimeline-controls.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline-controls%2Ftimeline-controls.component.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -41,7 +41,7 @@\n     }\n \n     .value {\n-      color: #880e4f;\n+      color: #8a1882;\n     }\n   }\n \n@@ -56,6 +56,6 @@\n \n :host-context(.dark-theme) {\n   .details .value {\n-    color: #54c9bd;\n+    color: #5cadd3;\n   }\n }"
        },
        {
            "sha": "d208d3e28709c9a4a562d97eb5e77cdb10645bdd",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline.component.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Ftimeline.component.ts?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -62,13 +62,13 @@ export class TimelineComponent implements OnDestroy {\n \n   getColorByFrameRate(framerate: number): string {\n     if (framerate >= 60) {\n-      return '#4db6ac';\n+      return '#5cadd3';\n     } else if (framerate < 60 && framerate >= 30) {\n-      return '#FFBE2F';\n+      return '#8a1882';\n     } else if (framerate < 30 && framerate >= 15) {\n-      return '#ff8d00';\n+      return '#9b4807';\n     }\n-    return '#FF625A';\n+    return '#ce271e';\n   }\n \n   ngOnDestroy(): void {\n@@ -114,7 +114,7 @@ export class TimelineComponent implements OnDestroy {\n     const backgroundColor = this.getColorByFrameRate(this.estimateFrameRate(record.duration));\n \n     const style = {\n-      background: `-webkit-linear-gradient(bottom, ${backgroundColor} ${colorPercentage}%, transparent ${colorPercentage}%)`,\n+      'background-image': `-webkit-linear-gradient(bottom, ${backgroundColor} ${colorPercentage}%, transparent ${colorPercentage}%)`,\n       cursor: 'pointer',\n       'min-width': '25px',\n       width: '25px',"
        },
        {
            "sha": "7f1f6273b8234b00c1928ddb7b066dc58aedde6d",
            "filename": "src/styles.scss",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/f08eaabb2589e6e4218901e1969110cc0186853e/src%2Fstyles.scss",
            "raw_url": "https://github.com/angular/angular/raw/f08eaabb2589e6e4218901e1969110cc0186853e/src%2Fstyles.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/src%2Fstyles.scss?ref=f08eaabb2589e6e4218901e1969110cc0186853e",
            "patch": "@@ -11,12 +11,12 @@ body {\n \n // Light theme\n $light-primary: mat-palette($mat-grey, 700, 200);\n-$light-accent: mat-palette($mat-teal, 300);\n+$light-accent: mat-palette($mat-blue, 800);\n $light-theme: mat-light-theme($light-primary, $light-accent);\n \n // Dark theme\n $dark-primary: mat-palette($mat-blue-grey, 50);\n-$dark-accent: mat-palette($mat-purple, 200);\n+$dark-accent: mat-palette($mat-blue, 200);\n $mat-dark-theme-background: map-merge(\n   $mat-dark-theme-background,\n   ("
        }
    ],
    "stats": {
        "total": 248,
        "additions": 167,
        "deletions": 81
    }
}