{
    "author": "AleksanderBodurri",
    "message": "refactor(devtools): merge rangle/angular-devtools into angular/angular\n\nThis is a merge commit that acts at the only common child of commits from the rangle/angular-devtools codebase and the angular/angular codebase.\n\nThis commit was created as the result of running `git merge` with the `--allow-unrelated-histories` flag.",
    "sha": "8c04fa7852446238f72a5545575d0b9e66cf9b78",
    "files": [
        {
            "sha": "25ad38ec1cc808004eb0871bc76b1c120029091a",
            "filename": "devtools/.bazelignore",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.bazelignore",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.bazelignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelignore?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,16 @@\n+# NB: sematics here are not the same as .gitignore\n+# see https://github.com/bazelbuild/bazel/issues/8106\n+.git\n+bazel-out\n+\n+# **/symlinked_node_modules_yarn\n+node_modules\n+e2e/symlinked_node_modules_yarn/node_modules\n+e2e/symlinked_node_modules_npm/node_modules\n+packages/angular/node_modules\n+examples/angular/node_modules\n+examples/user_managed_deps/node_modules\n+\n+# **/dist\n+dist\n+examples/user_managed_deps/dist"
        },
        {
            "sha": "81af7d63e6b540f536a083d484abf7c57adeac2b",
            "filename": "devtools/.bazelrc",
            "status": "added",
            "additions": 95,
            "deletions": 0,
            "changes": 95,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.bazelrc",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.bazelrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelrc?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,95 @@\n+# Common Bazel settings for JavaScript/NodeJS workspaces\n+# This rc file is automatically discovered when Bazel is run in this workspace,\n+# see https://docs.bazel.build/versions/master/guide.html#bazelrc\n+#\n+# The full list of Bazel options: https://docs.bazel.build/versions/master/command-line-reference.html\n+\n+# Cache action outputs on disk so they persist across output_base and bazel shutdown (eg. changing branches)\n+build --disk_cache=~/.cache/bazel-disk-cache\n+\n+# Bazel picks up host-OS-specific config lines from bazelrc files\n+build --enable_platform_specific_config\n+\n+# Bazel will create symlinks from the workspace directory to output artifacts.\n+# Build results will be placed in a directory called \"dist/bin\"\n+# Other directories will be created like \"dist/testlogs\"\n+# Be aware that this will still create a bazel-out symlink in\n+# your project directory, which you must exclude from version control and your\n+# editor's search path.\n+build --symlink_prefix=dist/\n+# To disable the symlinks altogether (including bazel-out) you can use\n+# build --symlink_prefix=/\n+# however this makes it harder to find outputs.\n+\n+# Specifies desired output mode for running tests.\n+# Valid values are\n+#   'summary' to output only test status summary\n+#   'errors' to also print test logs for failed tests\n+#   'all' to print logs for all tests\n+#   'streamed' to output logs for all tests in real time\n+#     (this will force tests to be executed locally one at a time regardless of --test_strategy value).\n+test --test_output=errors\n+\n+# Support for debugging NodeJS tests\n+# Add the Bazel option `--config=debug` to enable this\n+# --test_output=streamed\n+#     Stream stdout/stderr output from each test in real-time.\n+#     See https://docs.bazel.build/versions/master/user-manual.html#flag--test_output for more details.\n+# --test_strategy=exclusive\n+#     Run one test at a time.\n+# --test_timeout=9999\n+#     Prevent long running tests from timing out\n+#     See https://docs.bazel.build/versions/master/user-manual.html#flag--test_timeout for more details.\n+# --nocache_test_results\n+#     Always run tests\n+# --node_options=--inspect-brk\n+#     Pass the --inspect-brk option to all tests which enables the node inspector agent.\n+#     See https://nodejs.org/de/docs/guides/debugging-getting-started/#command-line-options for more details.\n+# --define=VERBOSE_LOGS=1\n+#     Rules will output verbose logs if the VERBOSE_LOGS environment variable is set. `VERBOSE_LOGS` will be passed to\n+#     `nodejs_binary` and `nodejs_test` via the default value of the `default_env_vars` attribute of those rules.\n+# --compilation_mode=dbg\n+#     Rules may change their build outputs if the compilation mode is set to dbg. For example,\n+#     mininfiers such as terser may make their output more human readable when this is set. Rules will pass `COMPILATION_MODE`\n+#     to `nodejs_binary` executables via the actions.run env attribute.\n+#     See https://docs.bazel.build/versions/master/user-manual.html#flag--compilation_mode for more details.\n+test:debug --test_output=streamed --test_strategy=exclusive --test_timeout=9999 --nocache_test_results --define=VERBOSE_LOGS=1\n+# Use bazel run with `--config=debug` to turn on the NodeJS inspector agent.\n+# The node process will break before user code starts and wait for the debugger to connect.\n+run:debug --define=VERBOSE_LOGS=1 -- --node_options=--inspect-brk\n+# The following option will change the build output of certain rules such as terser and may not be desirable in all cases\n+build:debug --compilation_mode=dbg\n+\n+# Turn off legacy external runfiles\n+# This prevents accidentally depending on this feature, which Bazel will remove.\n+build --nolegacy_external_runfiles\n+\n+# Turn on --incompatible_strict_action_env which was on by default\n+# in Bazel 0.21.0 but turned off again in 0.22.0. Follow\n+# https://github.com/bazelbuild/bazel/issues/7026 for more details.\n+# This flag is needed to so that the bazel cache is not invalidated\n+# when running bazel via `yarn bazel`.\n+# See https://github.com/angular/angular/issues/27514.\n+build --incompatible_strict_action_env\n+run --incompatible_strict_action_env\n+\n+# When running `bazel coverage` --instrument_test_targets needs to be set in order to \n+# collect coverage information from test targets\n+coverage --instrument_test_targets\n+\n+# Load any settings specific to the current user.\n+# .bazelrc.user should appear in .gitignore so that settings are not shared with team members\n+# This needs to be last statement in this\n+# config, as the user configuration should be able to overwrite flags from this file.\n+# See https://docs.bazel.build/versions/master/best-practices.html#bazelrc\n+# (Note that we use .bazelrc.user so the file appears next to .bazelrc in directory listing,\n+# rather than user.bazelrc as suggested in the Bazel docs)\n+try-import %workspace%/.bazelrc.user\n+\n+\n+# Use the Angular Ivy compiler\n+# See https://github.com/angular/angular/blob/master/docs/BAZEL.md#various-flags-used-for-tests\n+build --define=angular_ivy_enabled=True\n+\n+build --nobuild_runfile_links\n+"
        },
        {
            "sha": "0c89fc927e327c0a9913d8300a205efbd30cedbf",
            "filename": "devtools/.bazelversion",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.bazelversion",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.bazelversion",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelversion?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+4.0.0\n\\ No newline at end of file"
        },
        {
            "sha": "80848532e47d58cc7a4b618f600b438960f9f045",
            "filename": "devtools/.browserslistrc",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.browserslistrc",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.browserslistrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.browserslistrc?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,12 @@\n+# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n+# For additional information regarding the format and rule options, please see:\n+# https://github.com/browserslist/browserslist#queries\n+\n+# You can see what browsers were selected by your queries by running:\n+#   npx browserslist\n+\n+> 0.5%\n+last 2 versions\n+Firefox ESR\n+not dead\n+not IE 9-11 # For IE 9-11 support, remove 'not'.\n\\ No newline at end of file"
        },
        {
            "sha": "7aa96da6e270ea092250504369591ede7bc2a53b",
            "filename": "devtools/.circleci/config.yml",
            "status": "added",
            "additions": 91,
            "deletions": 0,
            "changes": 91,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.circleci%2Fconfig.yml",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.circleci%2Fconfig.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.circleci%2Fconfig.yml?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,91 @@\n+version: 2.1\n+orbs:\n+  cypress: cypress-io/cypress@1.29.0\n+executors:\n+  node-and-browsers:\n+    docker:\n+      - image: cypress/browsers:node14.16.0-chrome89-ff86\n+    environment:\n+      - CHROME_BIN: /usr/bin/google-chrome\n+workflows:\n+  test-and-build:\n+    jobs:\n+      - cypress/install:\n+          name: Setup\n+          yarn: true\n+          executor: node-and-browsers\n+          post-steps:\n+            - run:\n+                name: Run Linting\n+                command: yarn lint\n+            - run:\n+                name: Run Unit Tests\n+                command: yarn test:ci\n+      - cypress/run:\n+          name: 'E2E Tests - Chrome'\n+          browser: chrome\n+          executor: node-and-browsers\n+          yarn: true\n+          start: yarn start\n+          wait-on: 'http://localhost:4200'\n+          requires:\n+            - Setup\n+          post-steps:\n+            - run:\n+                name: Test Chrome Build\n+                command: yarn build:chrome\n+# version: 2\n+# jobs:\n+#   build:\n+#     docker:\n+#       # specify the version you desire here\n+#       - image: circleci/node:14.15.1-browsers\n+\n+#     working_directory: ~/repo\n+\n+#     environment:\n+#       - CHROME_BIN: /usr/bin/google-chrome\n+#       - CYPRESS_CACHE_FOLDER: /home/circleci/.cache/Cypress\n+\n+#     steps:\n+#       - checkout\n+\n+#       # Download and cache dependencies\n+#       - restore_cache:\n+#           keys:\n+#             - v2-dependencies-{{ checksum \"package.json\" }}\n+#             # fallback to using the latest cache if no exact match is found\n+#             - v2-dependencies-\n+\n+#       - run: yarn install\n+#       - run: yarn cy:verify\n+\n+#       - save_cache:\n+#           paths:\n+#             - node_modules\n+#             - /home/circleci/.cache/Cypress\n+#           key: v2-dependencies-{{ checksum \"package.json\" }}\n+\n+#       - run:\n+#           name: 'Run linting'\n+#           command: yarn lint\n+#       # run tests!\n+#       - run:\n+#           name: 'Run Unit tests'\n+#           command: yarn test:ci\n+\n+#       - run:\n+#           name: 'Run Cypress tests'\n+#           command: yarn cy:ci\n+#           no_output_timeout: '10m'\n+\n+#       - run:\n+#           name: 'Test Chrome Build'\n+#           command: yarn build:chrome\n+\n+#     artifacts:\n+#       when: always\n+#       paths:\n+#         - cypress/videos/**/*.mp4\n+#         - cypress/screenshots/**/*.png\n+#       expire_in: 1 day"
        },
        {
            "sha": "e89330a618c137cdaccde46f87923736cc04dfb4",
            "filename": "devtools/.editorconfig",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.editorconfig",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.editorconfig",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.editorconfig?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+# Editor configuration, see https://editorconfig.org\n+root = true\n+\n+[*]\n+charset = utf-8\n+indent_style = space\n+indent_size = 2\n+insert_final_newline = true\n+trim_trailing_whitespace = true\n+\n+[*.md]\n+max_line_length = off\n+trim_trailing_whitespace = false"
        },
        {
            "sha": "0bd19439043e31e561cd4b4bdb3026b8709c0c79",
            "filename": "devtools/.github/ISSUE_TEMPLATE/bug_report.md",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.github%2FISSUE_TEMPLATE%2Fbug_report.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.github%2FISSUE_TEMPLATE%2Fbug_report.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.github%2FISSUE_TEMPLATE%2Fbug_report.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,27 @@\n+---\n+name: Bug report\n+about: Create a report to help us improve\n+title: ''\n+labels: bug\n+assignees: ''\n+---\n+\n+**Angular DevTools version (required)**:\n+\n+**Angular version (required):**\n+\n+**Link to a minimal stackblitz reproduction (strongly encouraged):**\n+\n+_Description of issue:_\n+\n+- Include (clipped) screenshot images if possible.\n+\n+_Steps to reproduce:_\n+\n+1.\n+\n+2.\n+\n+3.\n+\n+_Additional details:_"
        },
        {
            "sha": "951b647a05bcc09b4a9a578cf1d1045dbe3e0f41",
            "filename": "devtools/.github/ISSUE_TEMPLATE/feature_request.md",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.github%2FISSUE_TEMPLATE%2Ffeature_request.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.github%2FISSUE_TEMPLATE%2Ffeature_request.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.github%2FISSUE_TEMPLATE%2Ffeature_request.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,15 @@\n+---\n+name: Feature request\n+about: Create a feature request\n+title: ''\n+labels: feature\n+assignees: ''\n+---\n+\n+**What feature do you want to see?**\n+\n+**Why is it important to you?**\n+\n+**Describe functionality in details. Apply mocks if applicable:**\n+\n+_Additional details:_"
        },
        {
            "sha": "dafc7f9c2eb8e07c5acba5eb5e73bc062e44f2cb",
            "filename": "devtools/.gitignore",
            "status": "added",
            "additions": 55,
            "deletions": 0,
            "changes": 55,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.gitignore",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.gitignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.gitignore?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,55 @@\n+# See http://help.github.com/ignore-files/ for more about ignoring files.\n+\n+# compiled output\n+/dist\n+/tmp\n+/out-tsc\n+# Only exists if Bazel was run\n+/bazel-out\n+/cypress/screenshots\n+/cypress/videos\n+# dependencies\n+/node_modules\n+\n+# profiling files\n+chrome-profiler-events*.json\n+speed-measure-plugin*.json\n+\n+# IDEs and editors\n+/.idea\n+.project\n+.classpath\n+.c9/\n+*.launch\n+.settings/\n+*.sublime-workspace\n+\n+# IDE - VSCode\n+.vscode/*\n+!.vscode/settings.json\n+!.vscode/tasks.json\n+!.vscode/launch.json\n+!.vscode/extensions.json\n+.history/*\n+\n+# misc\n+/.sass-cache\n+/connect.lock\n+/coverage\n+/libpeerconnection.log\n+npm-debug.log\n+yarn-error.log\n+testem.log\n+/typings\n+\n+# System Files\n+.DS_Store\n+Thumbs.db\n+**/coverage/*\n+\n+.angular\n+\n+bazel-angular-devtools\n+bazel-bin\n+bazel-out/*\n+bazel-testlogs"
        },
        {
            "sha": "5fca0d518be7e27c35b6584d2f88b3f11ac4b6ca",
            "filename": "devtools/.npmrc",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.npmrc",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.npmrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.npmrc?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+scripts-prepend-node-path=true"
        },
        {
            "sha": "dea2b7aa843f6bf49fefad3de4314a691bf6fbfc",
            "filename": "devtools/.prettierrc",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.prettierrc",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.prettierrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.prettierrc?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,6 @@\n+{\n+  \"trailingComma\": \"es5\",\n+  \"tabWidth\": 2,\n+  \"singleQuote\": true,\n+  \"printWidth\": 120\n+}"
        },
        {
            "sha": "8b54f915c7c0bf7054b2bf7eca445eb4f29466f3",
            "filename": "devtools/.vscode/settings.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.vscode%2Fsettings.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2F.vscode%2Fsettings.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.vscode%2Fsettings.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"prettier.singleQuote\": true\n+}"
        },
        {
            "sha": "20d182d5c12d7bbcf68d4edd3021f0f4f015fcde",
            "filename": "devtools/BUILD.bazel",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+load(\"@io_bazel_rules_webtesting//web:web.bzl\", \"custom_browser\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+exports_files([\n+    \"tsconfig.json\",\n+    \"cypress.json\",\n+])\n+\n+ts_test_project(\n+    name = \"initialize_testbed\",\n+    srcs = [\n+        \"initialize_testbed.ts\",\n+    ],\n+    deps = [\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/platform-browser-dynamic\",\n+    ],\n+)\n+\n+ts_config(\n+    name = \"tsconfig-spec\",\n+    src = \"tsconfig.spec.json\",\n+    deps = [\n+        \"//:tsconfig.json\",\n+    ],\n+)"
        },
        {
            "sha": "f0f3774847c731e41d42f98aa405884bf081a102",
            "filename": "devtools/CODE_OF_CONDUCT.md",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FCODE_OF_CONDUCT.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FCODE_OF_CONDUCT.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FCODE_OF_CONDUCT.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,12 @@\n+# Contributor Code of Conduct\n+## Version 0.3b-angular\n+\n+As contributors and maintainers of the Angular DevTools project, we pledge to respect everyone who contributes by posting issues, updating documentation, submitting pull requests, providing feedback in comments, and any other activities.\n+\n+Communication through any of Angular's channels (GitHub, Gitter, IRC, mailing lists, Google+, Twitter, etc.) must be constructive and never resort to personal attacks, trolling, public or private harassment, insults, or other unprofessional conduct.\n+\n+We promise to extend courtesy and respect to everyone involved in this project regardless of gender, gender identity, sexual orientation, disability, age, race, ethnicity, religion, or level of experience. We expect anyone contributing to the Angular DevTools project to do the same.\n+\n+If any member of the community violates this code of conduct, the maintainers of the Angular DevTools project may take action, removing issues, comments, and PRs or blocking accounts as deemed appropriate.\n+\n+If you are subject to or witness unacceptable behavior, or have any other concerns, please email us at [conduct@angular.io](mailto:conduct@angular.io)."
        },
        {
            "sha": "063a0502fff14031cc3923a679f9c10b91a41f43",
            "filename": "devtools/CONTRIBUTING.md",
            "status": "added",
            "additions": 229,
            "deletions": 0,
            "changes": 229,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FCONTRIBUTING.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FCONTRIBUTING.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FCONTRIBUTING.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,229 @@\n+# Contributing to Angular DevTools\n+\n+We would love for you to contribute to Angular DevTools and help make it even better than it is\n+today! As a contributor, here are the guidelines we would like you to follow:\n+\n+- [Question or Problem?](#question)\n+- [Issues and Bugs](#issue)\n+- [Feature Requests](#feature)\n+- [Submission Guidelines](#submit)\n+- [Coding Rules](#rules)\n+- [Commit Message Guidelines](#commit)\n+\n+## <a name=\"question\"></a> Got a Question or Problem?\n+\n+Please, do not open issues for the general support questions as we want to keep GitHub issues for bug reports and feature requests. You've got much better chances of getting your question answered on [StackOverflow](stackoverflow.com/questions/tagged/angular-devtools) where the questions should be tagged with tag `angular-devtools`.\n+\n+StackOverflow is a much better place to ask questions since:\n+\n+- there are thousands of people willing to help on StackOverflow\n+- questions and answers stay available for public viewing so your question / answer might help someone else\n+- StackOverflow's voting system assures that the best answers are prominently visible.\n+\n+To save your and our time we will be systematically closing all the issues that are requests for general support and redirecting people to StackOverflow.\n+\n+If you would like to chat about the question in real-time, you can reach out via [our gitter channel](https://gitter.im/angular/angular).\n+\n+## <a name=\"issue\"></a> Found an Bug?\n+\n+If you find a bug in the source code, you can help us by\n+[submitting an issue](#submit-issue) to our [GitHub Repository][github]. Even better, you can\n+[submit a Pull Request](#submit-pr) with a fix.\n+\n+## <a name=\"feature\"></a> Missing a Feature?\n+\n+You can _request_ a new feature by [submitting an issue](#submit-issue) to our GitHub\n+Repository. If you would like to _implement_ a new feature, please submit an issue with\n+a proposal for your work first, to be sure that we can use it.\n+Please consider what kind of change it is:\n+\n+- For a **Major Feature**, first open an issue and outline your proposal so that it can be\n+  discussed. This will also allow us to better coordinate our efforts, prevent duplication of work,\n+  and help you to craft the change so that it is successfully accepted into the project.\n+- **Small Features** can be crafted and directly [submitted as a Pull Request](#submit-pr).\n+\n+## <a name=\"submit\"></a> Submission Guidelines\n+\n+### <a name=\"submit-issue\"></a> Submitting an Issue\n+\n+Before you submit an issue, please search the issue tracker, maybe an issue for your problem already exists and the discussion might inform you of workarounds readily available.\n+\n+We want to fix all the issues as soon as possible, but before fixing a bug we need to reproduce and confirm it. In order to reproduce bugs we will systematically ask you to provide a minimal reproduction scenario by providing a project which breaks Angular DevTools. Also make sure that you list:\n+\n+- version of Angular DevTools used\n+- version of Angular used\n+- 3rd-party libraries and their versions\n+- and most importantly - a use-case that fails\n+\n+You can file new issues by filling out our [new issue form](https://github.com/rangle/angular-devtools/issues/new).\n+\n+### <a name=\"submit-pr\"></a> Submitting a Pull Request (PR)\n+\n+#### General Guidelines\n+\n+Before you submit your Pull Request (PR) consider the following guidelines:\n+\n+- Search [GitHub](https://github.com/rangle/angular-devtools/pulls) for an open or closed PR\n+  that relates to your submission. You don't want to duplicate effort.\n+- [Fork](https://docs.github.com/en/github/getting-started-with-github/fork-a-repo) the rangle/angular-devtools repo.\n+- In your forked repository, make your changes in a new git branch:\n+\n+  ```shell\n+  git checkout -b my-fix-branch main\n+  ```\n+\n+- Create your patch, **including appropriate test cases**.\n+- Follow our [Coding Rules](#rules).\n+- Commit your changes using a descriptive commit message that follows our\n+  [commit message conventions](#commit). Adherence to these conventions\n+  is necessary because release notes are automatically generated from these messages.\n+\n+  ```shell\n+  git commit -a\n+  ```\n+\n+  Note: the optional commit `-a` command line option will automatically \"add\" and \"rm\" edited files.\n+\n+- Push your branch to GitHub:\n+\n+  ```shell\n+  git push origin my-fix-branch\n+  ```\n+\n+- In GitHub, send a pull request to `angular-devtools:main`.\n+- If we suggest changes then:\n+\n+  - Make the required updates.\n+  - Re-run the Angular DevTools test and lint suites to ensure tests are still passing and you're following the coding style.\n+  - Rebase your branch and force push to your GitHub repository (this will update your Pull Request):\n+\n+    ```shell\n+    git rebase main -i\n+    git push -f\n+    ```\n+\n+That's it! Thank you for your contribution!\n+\n+#### After your pull request is merged\n+\n+After your pull request is merged, you can safely delete your branch and pull the changes\n+from the main (upstream) repository:\n+\n+- Delete the remote branch on GitHub either through the GitHub web UI or your local shell as follows:\n+\n+  ```shell\n+  git push origin --delete my-fix-branch\n+  ```\n+\n+- Check out the main branch:\n+\n+  ```shell\n+  git checkout main -f\n+  ```\n+\n+- Delete the local branch:\n+\n+  ```shell\n+  git branch -D my-fix-branch\n+  ```\n+\n+- Update your main with the latest upstream version:\n+\n+  ```shell\n+  git pull --ff upstream main\n+  ```\n+\n+## <a name=\"rules\"></a> Coding Rules\n+\n+To ensure consistency throughout the source code, keep these rules in mind as you are working:\n+\n+- All features or bug fixes **must be tested** by one or more specs (unit-tests).\n+- We follow [Google's JavaScript Style Guide][js-style-guide].\n+\n+## <a name=\"commit\"></a> Commit Message Guidelines\n+\n+We have very precise rules over how our git commit messages can be formatted. This leads to **more\n+readable messages** that are easy to follow when looking through the **project history**. But also,\n+we use the git commit messages to **generate the Angular change log**.\n+\n+### Commit Message Format\n+\n+Each commit message consists of a **header**, a **body** and a **footer**. The header has a special\n+format that includes a **type**, a **scope** and a **subject**:\n+\n+```\n+<type>(<scope>): <subject>\n+<BLANK LINE>\n+<body>\n+<BLANK LINE>\n+<footer>\n+```\n+\n+The **header** is mandatory and the **scope** of the header is optional.\n+\n+Any line of the commit message cannot be longer 100 characters! This allows the message to be easier\n+to read on GitHub as well as in various git tools.\n+\n+Footer should contain a [closing reference to an issue](https://help.github.com/articles/closing-issues-via-commit-messages/) if any.\n+\n+Samples: (even more [samples](https://github.com/rangle/angular-devtools/commits/main))\n+\n+```\n+docs(changelog): update change log to beta.5\n+```\n+\n+```\n+fix(release): need to depend on latest rxjs and zone.js\n+\n+The version in our package.json gets copied to the one we publish, and users need the latest of these.\n+```\n+\n+### Revert\n+\n+If the commit reverts a previous commit, it should begin with `revert:`, followed by the header of the reverted commit. In the body it should say: `This reverts commit <hash>.`, where the hash is the SHA of the commit being reverted.\n+\n+### Type\n+\n+Must be one of the following:\n+\n+- **feat**: A new feature\n+- **fix**: A bug fix\n+- **docs**: Documentation only changes\n+- **style**: Changes that do not affect the meaning of the code (white-space, formatting, missing\n+  semi-colons, etc)\n+- **refactor**: A code change that neither fixes a bug nor adds a feature\n+- **perf**: A code change that improves performance\n+- **test**: Adding missing tests or correcting existing tests\n+- **build**: Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)\n+- **ci**: Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs)\n+\n+### Scope\n+\n+The scope could be anything specifying place of the commit change. For example\n+`frontend`, `backend`, etc.\n+\n+### Subject\n+\n+The subject contains succinct description of the change:\n+\n+- use the imperative, present tense: \"change\" not \"changed\" nor \"changes\"\n+- don't capitalize first letter\n+- no dot (.) at the end\n+\n+### Body\n+\n+Just as in the **subject**, use the imperative, present tense: \"change\" not \"changed\" nor \"changes\".\n+The body should include the motivation for the change and contrast this with previous behavior.\n+\n+### Footer\n+\n+The footer should contain any information about **Breaking Changes** and is also the place to\n+reference GitHub issues that this commit **Closes**.\n+\n+**Breaking Changes** should start with the word `BREAKING CHANGE:` with a space or two newlines. The rest of the commit message is then used for this.\n+\n+A detailed explanation can be found in this [document][commit-message-format].\n+\n+[github]: https://github.com/rangle/angular-devtools\n+[gitter]: https://gitter.im/angular/angular\n+[stackoverflow]: http://stackoverflow.com/questions/tagged/angular-devtools"
        },
        {
            "sha": "7eba939ca134dd46613dc8c37d6f65d07b2433bb",
            "filename": "devtools/DEVELOPING.md",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FDEVELOPING.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FDEVELOPING.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FDEVELOPING.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,33 @@\n+# Developing\n+\n+To setup your development environment run:\n+\n+```\n+git clone git@github.com:rangle/angular-devtools\n+cd angular-devtools\n+yarn\n+```\n+\n+To run the extension in development mode run:\n+\n+```\n+ng serve\n+```\n+\n+This would start a development server that you can access on http://localhost:4200. In development, Angular DevTools uses a \"development shell.\" This is different from \"chrome shell\" in a way, that it runs the user's app in an iframe. DevTools then communicate with the user's app via message passing.\n+\n+## Building the extension\n+\n+To build the Angular DevTools Chrome extension run:\n+\n+```\n+npm run release\n+```\n+\n+This would output the production assets of the app in `dist/shell-chrome`. If you want to build the extension with development settings (i.e., not minified sources), just run:\n+\n+```\n+ng build shell-chrome\n+```\n+\n+Later on, you can install the extension from `dist/shell-chrome` following the guide from [here](https://developer.chrome.com/apps/external_extensions)."
        },
        {
            "sha": "4e49e92f70dc2aca4cfe3b23dffe7ad9020afe3e",
            "filename": "devtools/LICENSE",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FLICENSE",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FLICENSE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FLICENSE?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,22 @@\n+The MIT License (MIT)\n+\n+Copyright (c) 2020 Rangle.io\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in all\n+copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+SOFTWARE.\n+"
        },
        {
            "sha": "75cd532b9c932e9d559e09a6b88b4fcdf43ce439",
            "filename": "devtools/README.md",
            "status": "added",
            "additions": 64,
            "deletions": 0,
            "changes": 64,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FREADME.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FREADME.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FREADME.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,64 @@\n+# Angular DevTools\n+\n+## Table of content\n+\n+- [Angular DevTools](#angular-devtools)\n+  - [Table of content](#table-of-content)\n+  - [Introduction](#introduction)\n+  - [Inspecting Code](#inspecting-code)\n+  - [Supported version](#supported-version)\n+  - [Working on Angular DevTools](#working-on-angular-devtools)\n+    - [Installing and Running locally](#installing-and-running-locally)\n+    - [Build and Install on Chrome locally](#build-and-install-on-chrome-locally)\n+  - [Reporting issues](#reporting-issues)\n+  - [Contributing](#contributing)\n+    - [General guidelines](#general-guidelines)\n+    - [License](#license)\n+\n+## Introduction\n+\n+Angular DevTools is a Chrome DevTools extension for debugging and profiling Angular applications.\n+\n+You can install the extension from: [Chrome Web Store](https://chrome.google.com/webstore/detail/angular-developer-tools/ienfalfjdbdpebioblfackkekamfmbnh)\n+\n+## Inspecting Code\n+\n+Angular DevTools is a Chrome extension that provides debugging and profiling capabilities for Angular applications. A hard requirement is that the Angular application is running in development mode.\n+\n+## Supported version\n+\n+Angular DevTools supports Angular v9 and above, with Ivy enabled.\n+\n+## Working on Angular DevTools\n+\n+### Installing and Running locally\n+\n+To setup your local development environment for Angular DevTools, perform the following steps:\n+\n+```bash\n+git clone git://github.com/rangle/angular-devtools\n+cd angular-devtools\n+yarn\n+yarn start\n+```\n+\n+### Build and Install on Chrome locally\n+\n+1. After installation, generate chrome build by running `yarn build:chrome`\n+2. Navigate to `chrome://extensions` and enable Developer mode.\n+3. Choose \"Load unpacked extension\".\n+4. In the dialog, select the directory `dist/shell-chrome`.\n+\n+## Reporting issues\n+\n+Please search to make sure your issue is not already been reported. When opening an issue, please follow the issue template provided.\n+\n+## Contributing\n+\n+### General guidelines\n+\n+If you'd like to help out, please read our [Development Guidelines](DEVELOPING.md) and [Contributing Guidelines](CONTRIBUTING.md).\n+\n+### License\n+\n+[MIT](LICENSE)"
        },
        {
            "sha": "1a7d8b73ee990740c111ed65c41130ad181a002b",
            "filename": "devtools/WORKSPACE",
            "status": "added",
            "additions": 110,
            "deletions": 0,
            "changes": 110,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FWORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2FWORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FWORKSPACE?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,110 @@\n+# The WORKSPACE file tells Bazel that this directory is a \"workspace\", which is like a project root.\n+# The content of this file specifies all the external dependencies Bazel needs to perform a build.\n+\n+####################################\n+# ESModule imports (and TypeScript imports) can be absolute starting with the workspace name.\n+# The name of the workspace should match the npm package where we publish, so that these\n+# imports also make sense when referencing the published package.\n+workspace(\n+    name = \"angular_devtools\",\n+    managed_directories = {\"@npm\": [\"node_modules\"]},\n+)\n+# These rules are built-into Bazel but we need to load them first to download more rules\n+load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n+\n+http_archive(\n+    name = \"bazel_skylib\",\n+    sha256 = \"1c531376ac7e5a180e0237938a2536de0c54d93f5c278634818e0efc952dd56c\",\n+    urls = [\n+        \"https://github.com/bazelbuild/bazel-skylib/releases/download/1.0.3/bazel-skylib-1.0.3.tar.gz\",\n+        \"https://mirror.bazel.build/github.com/bazelbuild/bazel-skylib/releases/download/1.0.3/bazel-skylib-1.0.3.tar.gz\",\n+    ],\n+)\n+\n+load(\"@bazel_skylib//:workspace.bzl\", \"bazel_skylib_workspace\")\n+\n+bazel_skylib_workspace()\n+\n+# Fetch rules_nodejs so we can install our npm dependencies\n+http_archive(\n+    name = \"build_bazel_rules_nodejs\",\n+    sha256 = \"3635797a96c7bfcd0d265dacd722a07335e64d6ded9834af8d3f1b7ba5a25bba\",\n+    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/4.3.0/rules_nodejs-4.3.0.tar.gz\"],\n+)\n+\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"node_repositories\", \"yarn_install\")\n+\n+# Setup the Node.js toolchain\n+node_repositories(\n+    node_version = \"14.16.1\",\n+    package_json = [\"//:package.json\"],\n+)\n+\n+# Fetch sass rules for compiling sass files\n+http_archive(\n+    name = \"io_bazel_rules_sass\",\n+    sha256 = \"5313032124ff191eed68efcfbdc6ee9b5198093b2b80a8e640ea34feabbffc69\",\n+    patch_args = [\"-p1\"],\n+    patches = [\n+        # Updates @bazel/work dep to 4.0.0 inside rules_sass so it is compatible\n+        \"//:io_bazel_rules_sass.patch\",\n+    ],\n+    strip_prefix = \"rules_sass-1.34.0\",\n+    urls = [\n+        \"https://github.com/bazelbuild/rules_sass/archive/1.34.0.zip\",\n+        \"https://mirror.bazel.build/github.com/bazelbuild/rules_sass/archive/1.34.0.zip\",\n+    ],\n+)\n+\n+# Check the bazel version and download npm dependencies\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"yarn_install\")\n+\n+# Setup the Node.js toolchain & install our npm dependencies into @npm\n+yarn_install(\n+    name = \"npm\",\n+    package_json = \"//:package.json\",\n+    yarn_lock = \"//:yarn.lock\",\n+)\n+\n+# Load karma_web_test dependencies\n+http_archive(\n+    name = \"io_bazel_rules_webtesting\",\n+    sha256 = \"9bb461d5ef08e850025480bab185fd269242d4e533bca75bfb748001ceb343c3\",\n+    urls = [\"https://github.com/bazelbuild/rules_webtesting/releases/download/0.3.3/rules_webtesting.tar.gz\"],\n+)\n+\n+# Setup the rules_webtesting toolchain\n+load(\"@io_bazel_rules_webtesting//web:repositories.bzl\", \"web_test_repositories\")\n+\n+web_test_repositories()\n+\n+load(\"@io_bazel_rules_webtesting//web/versioned:browsers-0.3.2.bzl\", \"browser_repositories\")\n+\n+browser_repositories(\n+    chromium = True,\n+    firefox = True,\n+)\n+\n+# Setup the rules_sass toolchain\n+load(\"@io_bazel_rules_sass//sass:sass_repositories.bzl\", \"sass_repositories\")\n+\n+sass_repositories()\n+\n+# Setup esbuild repositories\n+load(\"@build_bazel_rules_nodejs//toolchains/esbuild:esbuild_repositories.bzl\", \"esbuild_repositories\")\n+\n+esbuild_repositories()\n+\n+# Setup repositories for browsers provided by the shared dev-infra package.\n+load(\n+    \"@npm//@angular/dev-infra-private/bazel/browsers:browser_repositories.bzl\",\n+    _dev_infra_browser_repositories = \"browser_repositories\",\n+)\n+\n+_dev_infra_browser_repositories()\n+\n+\n+load(\"@build_bazel_rules_nodejs//toolchains/cypress:cypress_repositories.bzl\", \"cypress_repositories\")\n+\n+# The name you pass here names the external repository you can load cypress_web_test from\n+cypress_repositories(name = \"cypress\", version = \"8.7.0\")"
        },
        {
            "sha": "79bacca266354ec39d0c859be048aefa15987b45",
            "filename": "devtools/angular.json",
            "status": "added",
            "additions": 515,
            "deletions": 0,
            "changes": 515,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fangular.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fangular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fangular.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,515 @@\n+{\n+  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n+  \"version\": 1,\n+  \"newProjectRoot\": \"projects\",\n+  \"projects\": {\n+    \"shell-dev\": {\n+      \"projectType\": \"application\",\n+      \"schematics\": {\n+        \"@schematics/angular:component\": {\n+          \"style\": \"scss\"\n+        }\n+      },\n+      \"root\": \"\",\n+      \"sourceRoot\": \"src\",\n+      \"prefix\": \"app\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"ngx-build-plus:browser\",\n+          \"options\": {\n+            \"outputPath\": \"dist/shell-dev\",\n+            \"index\": \"src/_index.html\",\n+            \"main\": \"src/main.ts\",\n+            \"polyfills\": \"src/polyfills.ts\",\n+            \"tsConfig\": \"tsconfig.app.json\",\n+            \"vendorChunk\": false,\n+            \"aot\": true,\n+            \"assets\": [\"src/assets\"],\n+            \"styles\": [\"src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n+            \"scripts\": []\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"fileReplacements\": [\n+                {\n+                  \"replace\": \"src/environments/environment.ts\",\n+                  \"with\": \"src/environments/environment.prod.ts\"\n+                }\n+              ],\n+              \"optimization\": {\n+                \"scripts\": true,\n+                \"styles\": {\n+                  \"minify\": true,\n+                  \"inlineCritical\": false\n+                },\n+                \"fonts\": {\n+                  \"inline\": false\n+                }\n+              },\n+              \"outputHashing\": \"all\",\n+              \"sourceMap\": false,\n+              \"extractCss\": true,\n+              \"namedChunks\": false,\n+              \"extractLicenses\": true,\n+              \"buildOptimizer\": true,\n+              \"budgets\": [\n+                {\n+                  \"type\": \"initial\",\n+                  \"maximumWarning\": \"2mb\",\n+                  \"maximumError\": \"5mb\"\n+                },\n+                {\n+                  \"type\": \"anyComponentStyle\",\n+                  \"maximumWarning\": \"6kb\",\n+                  \"maximumError\": \"10kb\"\n+                }\n+              ]\n+            },\n+            \"e2e\": {\n+              \"fileReplacements\": [\n+                {\n+                  \"replace\": \"src/environments/environment.ts\",\n+                  \"with\": \"src/environments/environment.e2e.ts\"\n+                },\n+                {\n+                  \"replace\": \"src/app/app.module.ts\",\n+                  \"with\": \"src/app/app.e2e.module.ts\"\n+                }\n+              ]\n+            }\n+          }\n+        },\n+        \"serve\": {\n+          \"builder\": \"ngx-build-plus:dev-server\",\n+          \"options\": {\n+            \"extraWebpackConfig\": \"shell-dev-webpack.config.js\",\n+            \"browserTarget\": \"shell-dev:build\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"browserTarget\": \"shell-dev:build:production\"\n+            },\n+            \"e2e\": {\n+              \"browserTarget\": \"shell-dev:build:e2e\"\n+            }\n+          }\n+        },\n+        \"extract-i18n\": {\n+          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n+          \"options\": {\n+            \"browserTarget\": \"shell-dev:build\"\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"src/test.ts\",\n+            \"polyfills\": \"src/polyfills.ts\",\n+            \"tsConfig\": \"tsconfig.spec.json\",\n+            \"karmaConfig\": \"karma.conf.js\",\n+            \"assets\": [\"src/assets\"],\n+            \"styles\": [\"src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n+            \"scripts\": []\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\"tsconfig.app.json\", \"tsconfig.spec.json\", \"e2e/tsconfig.json\"],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        },\n+        \"e2e\": {\n+          \"builder\": \"@angular-devkit/build-angular:protractor\",\n+          \"options\": {\n+            \"protractorConfig\": \"e2e/protractor.conf.js\",\n+            \"devServerTarget\": \"shell-dev:serve\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"devServerTarget\": \"shell-dev:serve:production\"\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"shell-chrome\": {\n+      \"projectType\": \"application\",\n+      \"schematics\": {\n+        \"@schematics/angular:component\": {\n+          \"style\": \"scss\"\n+        }\n+      },\n+      \"root\": \"projects/shell-chrome\",\n+      \"sourceRoot\": \"projects/shell-chrome/src\",\n+      \"prefix\": \"app\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"ngx-build-plus:browser\",\n+          \"options\": {\n+            \"outputPath\": \"dist/shell-chrome\",\n+            \"extraWebpackConfig\": \"projects/shell-chrome/shell-chrome-webpack.config.js\",\n+            \"index\": \"projects/shell-chrome/src/index.html\",\n+            \"main\": \"projects/shell-chrome/src/main.ts\",\n+            \"polyfills\": \"projects/shell-chrome/src/polyfills.ts\",\n+            \"tsConfig\": \"projects/shell-chrome/tsconfig.app.json\",\n+            \"vendorChunk\": false,\n+            \"aot\": true,\n+            \"assets\": [\n+              \"projects/shell-chrome/src/assets\",\n+              \"projects/shell-chrome/src/manifest.json\",\n+              \"projects/shell-chrome/src/devtools.html\",\n+              \"projects/shell-chrome/src/popups\"\n+            ],\n+            \"styles\": [\"projects/shell-chrome/src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n+            \"scripts\": []\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"fileReplacements\": [\n+                {\n+                  \"replace\": \"projects/shell-chrome/src/environments/environment.ts\",\n+                  \"with\": \"projects/shell-chrome/src/environments/environment.prod.ts\"\n+                }\n+              ],\n+              \"optimization\": {\n+                \"scripts\": true,\n+                \"styles\": {\n+                  \"minify\": true,\n+                  \"inlineCritical\": false\n+                },\n+                \"fonts\": {\n+                  \"inline\": false\n+                }\n+              },\n+              \"outputHashing\": \"none\",\n+              \"sourceMap\": false,\n+              \"extractCss\": true,\n+              \"namedChunks\": false,\n+              \"extractLicenses\": true,\n+              \"buildOptimizer\": true,\n+              \"budgets\": [\n+                {\n+                  \"type\": \"initial\",\n+                  \"maximumWarning\": \"2mb\",\n+                  \"maximumError\": \"5mb\"\n+                }\n+              ]\n+            }\n+          }\n+        },\n+        \"serve\": {\n+          \"builder\": \"ngx-build-plus:dev-server\",\n+          \"options\": {\n+            \"browserTarget\": \"shell-chrome:build\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"browserTarget\": \"shell-chrome:build:production\"\n+            }\n+          }\n+        },\n+        \"extract-i18n\": {\n+          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n+          \"options\": {\n+            \"browserTarget\": \"shell-chrome:build\"\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"ngx-build-plus:karma\",\n+          \"options\": {\n+            \"main\": \"projects/shell-chrome/src/test.ts\",\n+            \"polyfills\": \"projects/shell-chrome/src/polyfills.ts\",\n+            \"tsConfig\": \"projects/shell-chrome/tsconfig.spec.json\",\n+            \"karmaConfig\": \"projects/shell-chrome/karma.conf.js\",\n+            \"assets\": [\"projects/shell-chrome/src/assets\"],\n+            \"styles\": [\"projects/shell-chrome/src/styles.scss\"],\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            },\n+            \"scripts\": []\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\n+              \"projects/shell-chrome/tsconfig.app.json\",\n+              \"projects/shell-chrome/tsconfig.spec.json\",\n+              \"projects/shell-chrome/e2e/tsconfig.json\"\n+            ],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        },\n+        \"e2e\": {\n+          \"builder\": \"@angular-devkit/build-angular:protractor\",\n+          \"options\": {\n+            \"protractorConfig\": \"projects/shell-chrome/e2e/protractor.conf.js\",\n+            \"devServerTarget\": \"shell-chrome:serve\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"devServerTarget\": \"shell-chrome:serve:production\"\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"ng-devtools\": {\n+      \"projectType\": \"library\",\n+      \"schematics\": {\n+        \"@schematics/angular:component\": {\n+          \"style\": \"scss\"\n+        }\n+      },\n+      \"root\": \"projects/ng-devtools\",\n+      \"sourceRoot\": \"projects/ng-devtools/src\",\n+      \"prefix\": \"lib\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n+          \"options\": {\n+            \"tsConfig\": \"projects/ng-devtools/tsconfig.lib.json\",\n+            \"project\": \"projects/ng-devtools/ng-package.json\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"tsConfig\": \"projects/ng-devtools/tsconfig.lib.prod.json\"\n+            }\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"projects/ng-devtools/src/test.ts\",\n+            \"tsConfig\": \"projects/ng-devtools/tsconfig.spec.json\",\n+            \"karmaConfig\": \"projects/ng-devtools/karma.conf.js\",\n+            \"codeCoverage\": true,\n+            \"stylePreprocessorOptions\": {\n+              \"includePaths\": [\"node_modules\"]\n+            }\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\"projects/ng-devtools/tsconfig.lib.json\", \"projects/ng-devtools/tsconfig.spec.json\"],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        }\n+      }\n+    },\n+    \"ng-devtools-backend\": {\n+      \"projectType\": \"library\",\n+      \"root\": \"projects/ng-devtools-backend\",\n+      \"sourceRoot\": \"projects/ng-devtools-backend/src\",\n+      \"prefix\": \"lib\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n+          \"options\": {\n+            \"tsConfig\": \"projects/ng-devtools-backend/tsconfig.lib.json\",\n+            \"project\": \"projects/ng-devtools-backend/ng-package.json\"\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"projects/ng-devtools-backend/src/test.ts\",\n+            \"tsConfig\": \"projects/ng-devtools-backend/tsconfig.spec.json\",\n+            \"karmaConfig\": \"projects/ng-devtools-backend/karma.conf.js\",\n+            \"codeCoverage\": true\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\n+              \"projects/ng-devtools-backend/tsconfig.lib.json\",\n+              \"projects/ng-devtools-backend/tsconfig.spec.json\"\n+            ],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        }\n+      }\n+    },\n+    \"protocol\": {\n+      \"projectType\": \"library\",\n+      \"root\": \"projects/protocol\",\n+      \"sourceRoot\": \"projects/protocol/src\",\n+      \"prefix\": \"lib\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n+          \"options\": {\n+            \"tsConfig\": \"projects/protocol/tsconfig.lib.json\",\n+            \"project\": \"projects/protocol/ng-package.json\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"tsConfig\": \"projects/protocol/tsconfig.lib.prod.json\"\n+            }\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"projects/protocol/src/test.ts\",\n+            \"tsConfig\": \"projects/protocol/tsconfig.spec.json\",\n+            \"karmaConfig\": \"projects/protocol/karma.conf.js\"\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\"projects/protocol/tsconfig.lib.json\", \"projects/protocol/tsconfig.spec.json\"],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        }\n+      }\n+    },\n+    \"shared-utils\": {\n+      \"projectType\": \"library\",\n+      \"root\": \"projects/shared-utils\",\n+      \"sourceRoot\": \"projects/shared-utils/src\",\n+      \"prefix\": \"lib\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n+          \"options\": {\n+            \"tsConfig\": \"projects/shared-utils/tsconfig.lib.json\",\n+            \"project\": \"projects/shared-utils/ng-package.json\"\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"projects/shared-utils/src/test.ts\",\n+            \"tsConfig\": \"projects/shared-utils/tsconfig.spec.json\",\n+            \"karmaConfig\": \"projects/shared-utils/karma.conf.js\"\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\"projects/shared-utils/tsconfig.lib.json\", \"projects/shared-utils/tsconfig.spec.json\"],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        }\n+      }\n+    },\n+    \"demo-no-zone\": {\n+      \"projectType\": \"application\",\n+      \"schematics\": {},\n+      \"root\": \"projects/demo-no-zone\",\n+      \"sourceRoot\": \"projects/demo-no-zone/src\",\n+      \"prefix\": \"app\",\n+      \"architect\": {\n+        \"build\": {\n+          \"builder\": \"@angular-devkit/build-angular:browser\",\n+          \"options\": {\n+            \"outputPath\": \"dist/demo-no-zone\",\n+            \"index\": \"projects/demo-no-zone/src/_index.html\",\n+            \"main\": \"projects/demo-no-zone/src/main.ts\",\n+            \"polyfills\": \"projects/demo-no-zone/src/polyfills.ts\",\n+            \"tsConfig\": \"projects/demo-no-zone/tsconfig.app.json\",\n+            \"assets\": [\"projects/demo-no-zone/src/assets\"],\n+            \"styles\": [\"projects/demo-no-zone/src/styles.css\"],\n+            \"scripts\": []\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"fileReplacements\": [\n+                {\n+                  \"replace\": \"projects/demo-no-zone/src/environments/environment.ts\",\n+                  \"with\": \"projects/demo-no-zone/src/environments/environment.prod.ts\"\n+                }\n+              ],\n+              \"optimization\": true,\n+              \"outputHashing\": \"all\",\n+              \"sourceMap\": false,\n+              \"extractCss\": true,\n+              \"namedChunks\": false,\n+              \"aot\": true,\n+              \"extractLicenses\": true,\n+              \"vendorChunk\": false,\n+              \"buildOptimizer\": true,\n+              \"budgets\": [\n+                {\n+                  \"type\": \"initial\",\n+                  \"maximumWarning\": \"2mb\",\n+                  \"maximumError\": \"5mb\"\n+                }\n+              ]\n+            }\n+          }\n+        },\n+        \"serve\": {\n+          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n+          \"options\": {\n+            \"browserTarget\": \"demo-no-zone:build\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"browserTarget\": \"demo-no-zone:build:production\"\n+            }\n+          }\n+        },\n+        \"extract-i18n\": {\n+          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n+          \"options\": {\n+            \"browserTarget\": \"demo-no-zone:build\"\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"projects/demo-no-zone/src/test.ts\",\n+            \"polyfills\": \"projects/demo-no-zone/src/polyfills.ts\",\n+            \"tsConfig\": \"projects/demo-no-zone/tsconfig.spec.json\",\n+            \"karmaConfig\": \"projects/demo-no-zone/karma.conf.js\",\n+            \"assets\": [\"projects/demo-no-zone/src/assets\"],\n+            \"styles\": [\"projects/demo-no-zone/src/styles.css\"],\n+            \"scripts\": []\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\n+              \"projects/demo-no-zone/tsconfig.app.json\",\n+              \"projects/demo-no-zone/tsconfig.spec.json\",\n+              \"projects/demo-no-zone/e2e/tsconfig.json\"\n+            ],\n+            \"exclude\": [\"**/node_modules/**\"]\n+          }\n+        },\n+        \"e2e\": {\n+          \"builder\": \"@angular-devkit/build-angular:protractor\",\n+          \"options\": {\n+            \"protractorConfig\": \"projects/demo-no-zone/e2e/protractor.conf.js\",\n+            \"devServerTarget\": \"demo-no-zone:serve\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"devServerTarget\": \"demo-no-zone:serve:production\"\n+            }\n+          }\n+        }\n+      }\n+    }\n+  },\n+  \"defaultProject\": \"shell-dev\",\n+  \"cli\": {\n+    \"analytics\": \"75d6cb59-b4f8-48d8-8eaa-ccb9d55ea19a\"\n+  }\n+}"
        },
        {
            "sha": "fce87bfbb83ec2c298e74ada3aa861548e766de6",
            "filename": "devtools/cypress.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+  \"baseUrl\": \"http://localhost:4200\"\n+}"
        },
        {
            "sha": "737ec89f7195e31800a545157f419f6978955125",
            "filename": "devtools/cypress/BUILD.bazel",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+load(\"@npm//@bazel/cypress:index.bzl\", \"cypress_web_test\")\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n+\n+js_library(\n+    name = \"devtools_e2e_specs\",\n+    testonly = 1,\n+    srcs = glob([\"**/*.e2e.js\"]),\n+)\n+\n+js_library(\n+    name = \"plugin_file\",\n+    testonly = 1,\n+    srcs = [\"plugin.js\"],\n+)\n+\n+cypress_web_test(\n+    name = \"devtools_e2e\",\n+    srcs = [\n+        \":devtools_e2e_specs\",\n+    ],\n+    config_file = \"//:cypress.json\",\n+    data = [\n+        # Place \"//src:devapp here to so that cache is invalidated\n+        # whenever the output of //src:devapp (the demo app that is being e2e tested)\n+        # changes.\n+        \"//src:devapp\",\n+    ],\n+    plugin_file = \":plugin_file\",\n+)"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "devtools/cypress/fixtures/.gitkeep",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Ffixtures%2F.gitkeep",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Ffixtures%2F.gitkeep",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Ffixtures%2F.gitkeep?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "4948f50a6222abf0b21505727cf361fd62240f87",
            "filename": "devtools/cypress/integration/base.e2e.js",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fbase.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fbase.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fbase.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+require('cypress-iframe');\n+\n+describe('Testing the Todo app Demo', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  it('should contain the todos application', () => {\n+    cy.enter('#sample-app').then((getBody) => {\n+      getBody().contains('Todos');\n+      getBody().contains('About');\n+      getBody().contains('Clear completed');\n+      getBody().contains('Click to expand');\n+    });\n+  });\n+\n+  it('should contain the \"Components\" tab', () => {\n+    cy.get('.mat-tab-links').contains('Components');\n+  });\n+\n+  it('should contain the \"Profiler\" tab', () => {\n+    cy.get('.mat-tab-links').contains('Profiler');\n+  });\n+\n+  it('should contain \"app-root\" and \"app-todo-demo\" in the component tree', () => {\n+    cy.get('.tree-node').contains('app-root');\n+    cy.get('.tree-node').contains('app-todo-demo');\n+  });\n+});"
        },
        {
            "sha": "b05f1c759a363b41a13d5f049dd72bddc9543bd3",
            "filename": "devtools/cypress/integration/comment-nodes.e2e.js",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fcomment-nodes.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fcomment-nodes.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fcomment-nodes.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,20 @@\n+function showComments() {\n+  cy.get('#nav-buttons > button:nth-child(2)').click();\n+  cy.get('#mat-slide-toggle-3 > label > div').click();\n+}\n+\n+describe('Comment nodes', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  it('should not find any comment nodes by default', () => {\n+    const nodes = cy.$$('.tree-node:contains(\"#comment\")');\n+    expect(nodes.length).to.eql(0);\n+  });\n+\n+  it('should find comment nodes when the setting is enabled', () => {\n+    showComments();\n+    cy.get('.tree-wrapper').find('.tree-node:contains(\"#comment\")').its('length').should('not.eq', 0);\n+  });\n+});"
        },
        {
            "sha": "2b2fdcf33018dc9cfc7b8832035b68eb186d6b2a",
            "filename": "devtools/cypress/integration/elements.e2e.js",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Felements.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Felements.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Felements.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+describe('Angular Elements', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  it('should recognize the zippy as an Angular Element', () => {\n+    cy.get('.tree-wrapper').find('.tree-node:contains(\"app-zippy\")').its('length').should('eq', 1);\n+  });\n+});"
        },
        {
            "sha": "ff7d155b847876e9f77a303544b7091a01732739",
            "filename": "devtools/cypress/integration/item-tracking.e2e.js",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fitem-tracking.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fitem-tracking.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fitem-tracking.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,33 @@\n+require('cypress-iframe');\n+\n+describe('Tracking items from application to component tree', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  it('should have only one todo item on start', () => {\n+    cy.enter('#sample-app').then((getBody) => {\n+      getBody().find('app-todo').contains('Buy milk');\n+    });\n+\n+    cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').its('length').should('eq', 2);\n+  });\n+\n+  it('should be able to detect a new todo from user and add it to the tree', () => {\n+    cy.enter('#sample-app')\n+      .then((getBody) => {\n+        getBody().find('input.new-todo').type('Buy cookies{enter}');\n+      })\n+      .then(() => {\n+        cy.enter('#sample-app').then((getBody) => {\n+          getBody().find('app-todo').contains('Buy milk');\n+\n+          getBody().find('app-todo').contains('Build something fun!');\n+\n+          getBody().find('app-todo').contains('Buy cookies');\n+        });\n+      });\n+\n+    cy.get('.tree-wrapper .tree-node:contains(\"app-todo[TooltipDirective]\")').should('have.length', 3);\n+  });\n+});"
        },
        {
            "sha": "effd6d7a3350ddbaf5c99dfb787ce6cdcdf22d78",
            "filename": "devtools/cypress/integration/node-search.e2e.js",
            "status": "added",
            "additions": 96,
            "deletions": 0,
            "changes": 96,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fnode-search.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fnode-search.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fnode-search.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,96 @@\n+function checkSearchedNodesLength(type, length) {\n+  cy.get('.tree-wrapper').find(type).its('length').should('eq', length);\n+}\n+\n+function inputSearchText(text) {\n+  cy.get('.filter-input').type(text, { force: true });\n+}\n+\n+function checkComponentName(name) {\n+  cy.get('.component-name').should('have.text', name);\n+}\n+\n+function checkEmptyNodes() {\n+  cy.get('.tree-wrapper').find('.matched').should('not.exist');\n+}\n+\n+function clickSearchArrows(upwards) {\n+  const buttons = cy.get('.up-down-buttons').find('button');\n+\n+  if (upwards) {\n+    buttons.first().then((btn) => btn[0].click());\n+  } else {\n+    buttons.last().then((btn) => btn[0].click());\n+  }\n+}\n+\n+describe('Search items in component tree', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  it('should not highlight any node if not present', () => {\n+    inputSearchText('tado');\n+    checkEmptyNodes();\n+  });\n+\n+  it('should highlight correct nodes when searching and clear out', () => {\n+    inputSearchText('todo');\n+    checkSearchedNodesLength('.matched', 4);\n+\n+    // clear search input\n+    inputSearchText('{backspace}{backspace}{backspace}{backspace}');\n+    checkEmptyNodes();\n+  });\n+\n+  it('should highlight correct nodes when searching and using arrow keys', () => {\n+    inputSearchText('todo');\n+    checkSearchedNodesLength('.matched', 4);\n+\n+    // press down arrow\n+    clickSearchArrows(false);\n+    checkSearchedNodesLength('.selected', 1);\n+    checkComponentName('app-todo-demo');\n+\n+    // press up arrow\n+    clickSearchArrows(false);\n+    checkSearchedNodesLength('.selected', 1);\n+    checkComponentName('app-todos');\n+\n+    // press up arrow\n+    clickSearchArrows(true);\n+    checkSearchedNodesLength('.selected', 1);\n+    checkComponentName('app-todo-demo');\n+\n+    // clear search input\n+    inputSearchText('{backspace}{backspace}{backspace}{backspace}');\n+    checkEmptyNodes();\n+  });\n+\n+  it('should select correct node on enter', () => {\n+    inputSearchText('todos{enter}');\n+    checkSearchedNodesLength('.selected', 1);\n+\n+    // should show correct buttons in breadcrumbs\n+    const amountOfBreadcrumbButtons = 4;\n+    const amountOfScrollButtons = 2;\n+    cy.get('ng-breadcrumbs')\n+      .find('button')\n+      .its('length')\n+      .should('eq', amountOfScrollButtons + amountOfBreadcrumbButtons);\n+\n+    // should display correct text in explorer panel\n+    checkComponentName('app-todos');\n+\n+    // should display correct title for properties panel\n+    cy.get('ng-property-view-header').should('have.text', 'app-todos');\n+\n+    // should show correct component properties\n+    cy.get('ng-property-view').find('mat-tree-node');\n+  });\n+\n+  it('should focus search input when search icon is clicked', () => {\n+    cy.get('.filter label .search-icon').click({ force: true });\n+    cy.get('.filter label input').should('have.focus');\n+  });\n+});"
        },
        {
            "sha": "6b7053fe3be8a42de9b43b9f633410a93a787a9f",
            "filename": "devtools/cypress/integration/node-selection.e2e.js",
            "status": "added",
            "additions": 130,
            "deletions": 0,
            "changes": 130,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fnode-selection.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fnode-selection.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fnode-selection.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,130 @@\n+require('cypress-iframe');\n+\n+describe('node selection', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  describe('logic after change detection', () => {\n+    it('should deselect node if it is no longer on the page', () => {\n+      cy.get('.tree-wrapper').get('.tree-node.selected').should('not.exist');\n+\n+      cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').first().click({ force: true });\n+\n+      cy.get('.tree-wrapper').find('.tree-node.selected').its('length').should('eq', 1);\n+\n+      cy.enter('#sample-app').then((getBody) => {\n+        getBody().find('a:contains(\"About\")').click();\n+      });\n+\n+      cy.get('.tree-wrapper').get('.tree-node.selected').should('not.exist');\n+    });\n+\n+    it('should reselect the previously selected node if it is still present', () => {\n+      cy.get('.tree-wrapper').get('.tree-node.selected').should('not.exist');\n+\n+      cy.enter('#sample-app').then((getBody) => {\n+        getBody().find('input.new-todo').type('Buy cookies{enter}');\n+      });\n+\n+      cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').last().click({ force: true });\n+\n+      cy.enter('#sample-app').then((getBody) => {\n+        getBody().find('app-todo:contains(\"Buy milk\")').find('.destroy').click();\n+      });\n+\n+      cy.get('.tree-wrapper').find('.tree-node.selected').its('length').should('eq', 1);\n+    });\n+\n+    it('should select nodes with same name', () => {\n+      cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').first().click({ force: true });\n+\n+      cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').last().click({ force: true });\n+\n+      cy.get('ng-property-view').last().find('mat-tree-node:contains(\"todo\")').click();\n+\n+      cy.get('ng-property-view')\n+        .last()\n+        .find('mat-tree-node:contains(\"Build something fun!\")')\n+        .its('length')\n+        .should('eq', 1);\n+    });\n+  });\n+\n+  describe('breadcrumb logic', () => {\n+    it('should overflow when breadcrumb list is long enough', () => {\n+      cy.get('.tree-wrapper')\n+        .find('.tree-node:contains(\"div[TooltipDirective]\")')\n+        .last()\n+        .click({ force: true })\n+        .then(() => {\n+          cy.get('ng-breadcrumbs')\n+            .find('.breadcrumbs')\n+            .then((breadcrumbsContainer) => {\n+              const hasOverflowX = () => breadcrumbsContainer[0].scrollWidth > breadcrumbsContainer[0].clientWidth;\n+              expect(hasOverflowX()).to.be.true;\n+            });\n+        });\n+    });\n+\n+    it('should scroll right when right scroll button is clicked', () => {\n+      cy.get('.tree-wrapper')\n+        .find('.tree-node:contains(\"div[TooltipDirective]\")')\n+        .last()\n+        .click({ force: true })\n+        .then(() => {\n+          cy.get('ng-breadcrumbs')\n+            .find('.breadcrumbs')\n+            .then((el) => {\n+              el[0].style.scrollBehavior = 'auto';\n+            })\n+            .then((breadcrumbsContainer) => {\n+              const scrollLeft = () => breadcrumbsContainer[0].scrollLeft;\n+              expect(scrollLeft()).to.eql(0);\n+\n+              cy.get('ng-breadcrumbs')\n+                .find('.scroll-button')\n+                .last()\n+                .click()\n+                .then(() => {\n+                  expect(scrollLeft()).to.be.greaterThan(0);\n+                });\n+            });\n+        });\n+    });\n+\n+    it('should scroll left when left scroll button is clicked', () => {\n+      cy.get('.tree-wrapper')\n+        .find('.tree-node:contains(\"div[TooltipDirective]\")')\n+        .last()\n+        .click({ force: true })\n+        .then(() => {\n+          cy.get('ng-breadcrumbs')\n+            .find('.breadcrumbs')\n+            .then((el) => {\n+              el[0].style.scrollBehavior = 'auto';\n+            })\n+            .then((breadcrumbsContainer) => {\n+              const scrollLeft = () => breadcrumbsContainer[0].scrollLeft;\n+              expect(scrollLeft()).to.eql(0);\n+\n+              cy.get('ng-breadcrumbs')\n+                .find('.scroll-button')\n+                .last()\n+                .click()\n+                .then(() => {\n+                  expect(scrollLeft()).to.be.greaterThan(0);\n+\n+                  cy.get('ng-breadcrumbs')\n+                    .find('.scroll-button')\n+                    .first()\n+                    .click()\n+                    .then(() => {\n+                      expect(scrollLeft()).to.eql(0);\n+                    });\n+                });\n+            });\n+        });\n+    });\n+  });\n+});"
        },
        {
            "sha": "77924e15679e936a7ba0da2422469742726dd926",
            "filename": "devtools/cypress/integration/property-edit.e2e.js",
            "status": "added",
            "additions": 84,
            "deletions": 0,
            "changes": 84,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fproperty-edit.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fproperty-edit.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fproperty-edit.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,84 @@\n+require('cypress-iframe');\n+\n+describe('edit properties of directive in the property view tab', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  describe('edit app-todo component', () => {\n+    beforeEach(() => {\n+      // select todo node in component tree\n+      cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').first().click({ force: true });\n+    });\n+\n+    it('should be able to enable editMode', () => {\n+      cy.enter('#sample-app').then((getBody) => {\n+        getBody().find('app-todo input.edit').should('not.be.visible');\n+      });\n+\n+      cy.get('.explorer-panel:contains(\"app-todo\")')\n+        .find('ng-property-view mat-tree-node:contains(\"editMode\")')\n+        .find('ng-property-editor .editor')\n+        .click({ force: true })\n+        .find('.editor-input')\n+        .clear()\n+        .type('true')\n+        .type('{enter}');\n+\n+      cy.enter('#sample-app').then((getBody) => {\n+        getBody().find('app-todo input.edit').should('be.visible');\n+      });\n+    });\n+\n+    describe('edit todo property', () => {\n+      beforeEach(() => {\n+        // expand todo state\n+        cy.get('.explorer-panel:contains(\"app-todo\")').find('ng-property-view mat-tree-node:contains(\"todo\")').click();\n+      });\n+\n+      it('should change todo label in app when edited', () => {\n+        // check initial todo label\n+        cy.enter('#sample-app').then((getBody) => {\n+          getBody().find('app-todo').contains('Buy milk').its('length').should('eq', 1);\n+        });\n+\n+        // find label variable and run through edit logic\n+        cy.get('.explorer-panel:contains(\"app-todo\")')\n+          .find('ng-property-view mat-tree-node:contains(\"label\")')\n+          .find('ng-property-editor .editor')\n+          .click()\n+          .find('.editor-input')\n+          .clear()\n+          .type('Buy cookies')\n+          .type('{enter}');\n+\n+        // assert that the page has been updated\n+        cy.enter('#sample-app').then((getBody) => {\n+          getBody().find('app-todo').contains('Buy cookies').its('length').should('eq', 1);\n+        });\n+      });\n+\n+      it('should change todo completed in app when edited', () => {\n+        // check initial todo completed status\n+        cy.enter('#sample-app').then((getBody) => {\n+          getBody().find('app-todo li').not('.completed').its('length').should('eq', 2);\n+        });\n+\n+        // find completed variable and run through edit logic\n+        cy.get('.explorer-panel:contains(\"app-todo\")')\n+          .find('ng-property-view mat-tree-node:contains(\"completed\")')\n+          .find('ng-property-editor .editor')\n+          .click()\n+          .find('.editor-input')\n+          .clear()\n+          .type('true')\n+          .type('{enter}');\n+\n+        // assert that the page has been updated\n+        cy.enter('#sample-app').then((getBody) => {\n+          getBody().find('app-todo li.completed').its('length').should('eq', 1);\n+        });\n+      });\n+    });\n+  });\n+});"
        },
        {
            "sha": "319d801b63120ced109827930a1287fad404729c",
            "filename": "devtools/cypress/integration/property-update.e2e.js",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fproperty-update.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fproperty-update.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fproperty-update.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,28 @@\n+require('cypress-iframe');\n+\n+describe('change of the state should reflect in property update', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  it('should update the property value', () => {\n+    // Complete the todo\n+    cy.enter('#sample-app').then((getBody) => {\n+      getBody().find('input[type=\"checkbox\"].toggle').first().click();\n+    });\n+\n+    // Select the todo item\n+    cy.get('.tree-wrapper').find('.tree-node:contains(\"app-todo[TooltipDirective]\")').first().click({ force: true });\n+\n+    // Expand the todo in the property explorer\n+    cy.get('.explorer-panel:contains(\"app-todo\")').find('ng-property-view mat-tree-node:contains(\"todo\")').click();\n+\n+    // Verify its value is now completed\n+    cy.get('.explorer-panel:contains(\"app-todo\")')\n+      .find('ng-property-view mat-tree-node:contains(\"completed\")')\n+      .find('ng-property-editor .editor')\n+      .should((el) => {\n+        expect(el.text().trim()).equal('true');\n+      });\n+  });\n+});"
        },
        {
            "sha": "8e518a3056a8b572985228013f7386a5efaf09c9",
            "filename": "devtools/cypress/integration/view-component-metadata.e2e.js",
            "status": "added",
            "additions": 106,
            "deletions": 0,
            "changes": 106,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fview-component-metadata.e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fintegration%2Fview-component-metadata.e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fintegration%2Fview-component-metadata.e2e.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,106 @@\n+const prepareHeaderExpansionPanelForAssertions = (selector) => {\n+  cy.get('.tree-wrapper').find(selector).first().click({ force: true });\n+  cy.get('.element-header .component-name').click();\n+};\n+\n+describe('Viewing component metadata', () => {\n+  beforeEach(() => {\n+    cy.visit('/');\n+  });\n+\n+  describe('viewing TodoComponent', () => {\n+    beforeEach(() => prepareHeaderExpansionPanelForAssertions('.tree-node:contains(\"app-todo[TooltipDirective]\")'));\n+\n+    it('should display view encapsulation', () => {\n+      cy.get('.meta-data-container').find('.mat-button').first().should('have.text', ' View Encapsulation: Emulated');\n+    });\n+\n+    it('should display change detection strategy', () => {\n+      cy.get('.meta-data-container')\n+        .find('.mat-button')\n+        .last()\n+        .should('have.text', ' Change Detection Strategy: OnPush');\n+    });\n+  });\n+\n+  describe('viewing DemoAppComponent', () => {\n+    beforeEach(() => prepareHeaderExpansionPanelForAssertions('.tree-node:contains(\"app-demo-component\")'));\n+\n+    it('should display view encapsulation', () => {\n+      cy.get('.meta-data-container').find('.mat-button').first().should('have.text', ' View Encapsulation: None');\n+    });\n+\n+    it('should display change detection strategy', () => {\n+      cy.get('.meta-data-container')\n+        .find('.mat-button')\n+        .last()\n+        .should('have.text', ' Change Detection Strategy: Default');\n+    });\n+\n+    it('should display correct set of inputs', () => {\n+      cy.get('mat-expansion-panel')\n+        .eq(1)\n+        .find('mat-expansion-panel-header')\n+        .first()\n+        .should('have.text', ' @Inputs open_in_new');\n+\n+      cy.get('mat-expansion-panel')\n+        .eq(1)\n+        .find('mat-tree-node')\n+        .eq(0)\n+        .find('span')\n+        .eq(0)\n+        .should('have.text', ' inputOne ');\n+\n+      cy.get('mat-expansion-panel')\n+        .eq(1)\n+        .find('mat-tree-node')\n+        .eq(1)\n+        .find('span')\n+        .eq(0)\n+        .should('have.text', ' inputTwo ');\n+    });\n+\n+    it('should display correct set of outputs', () => {\n+      cy.get('mat-expansion-panel')\n+        .eq(2)\n+        .find('mat-expansion-panel-header')\n+        .first()\n+        .should('have.text', ' @Outputs open_in_new');\n+\n+      cy.get('mat-expansion-panel')\n+        .eq(2)\n+        .find('mat-tree-node')\n+        .eq(0)\n+        .find('span')\n+        .eq(0)\n+        .should('have.text', ' outputOne ');\n+\n+      cy.get('mat-expansion-panel')\n+        .eq(2)\n+        .find('mat-tree-node')\n+        .eq(1)\n+        .find('span')\n+        .eq(0)\n+        .should('have.text', ' outputTwo ');\n+    });\n+\n+    it('should display correct set of properties', () => {\n+      cy.get('mat-expansion-panel')\n+        .eq(3)\n+        .find('mat-expansion-panel-header')\n+        .first()\n+        .should('have.text', ' Properties open_in_new');\n+\n+      cy.get('mat-expansion-panel')\n+        .eq(3)\n+        .find('mat-tree-node')\n+        .eq(0)\n+        .find('span')\n+        .eq(0)\n+        .should('have.text', ' elementRef ');\n+\n+      cy.get('mat-expansion-panel').eq(3).find('mat-tree-node').eq(1).find('span').eq(0).should('have.text', ' zippy ');\n+    });\n+  });\n+});"
        },
        {
            "sha": "58e2129320dc5a365be6929ce1c48618ba6f6a2a",
            "filename": "devtools/cypress/plugin.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fplugin.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fplugin.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fplugin.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+module.exports = (on) => {};"
        },
        {
            "sha": "ca4d256f3eb15dfabad1f5760c9b2d0ceb4c24b9",
            "filename": "devtools/cypress/support/commands.js",
            "status": "added",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fsupport%2Fcommands.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fsupport%2Fcommands.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fsupport%2Fcommands.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,25 @@\n+// ***********************************************\n+// This example commands.js shows you how to\n+// create various custom commands and overwrite\n+// existing commands.\n+//\n+// For more comprehensive examples of custom\n+// commands please read more here:\n+// https://on.cypress.io/custom-commands\n+// ***********************************************\n+//\n+//\n+// -- This is a parent command --\n+// Cypress.Commands.add(\"login\", (email, password) => { ... })\n+//\n+//\n+// -- This is a child command --\n+// Cypress.Commands.add(\"drag\", { prevSubject: 'element'}, (subject, options) => { ... })\n+//\n+//\n+// -- This is a dual command --\n+// Cypress.Commands.add(\"dismiss\", { prevSubject: 'optional'}, (subject, options) => { ... })\n+//\n+//\n+// -- This will overwrite an existing command --\n+// Cypress.Commands.overwrite(\"visit\", (originalFn, url, options) => { ... })"
        },
        {
            "sha": "37a498fb5bf39577a1ce77921251f2c2c296e13d",
            "filename": "devtools/cypress/support/index.js",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fsupport%2Findex.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Fsupport%2Findex.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Fsupport%2Findex.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,20 @@\n+// ***********************************************************\n+// This example support/index.js is processed and\n+// loaded automatically before your test files.\n+//\n+// This is a great place to put global configuration and\n+// behavior that modifies Cypress.\n+//\n+// You can change the location of this file or turn off\n+// automatically serving support files with the\n+// 'supportFile' configuration option.\n+//\n+// You can read more here:\n+// https://on.cypress.io/configuration\n+// ***********************************************************\n+\n+// Import commands.js using ES2015 syntax:\n+import './commands';\n+\n+// Alternatively you can use CommonJS syntax:\n+// require('./commands')"
        },
        {
            "sha": "f37b97f7381a5d978aca704d289e227a22761f15",
            "filename": "devtools/cypress/tsconfig.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fcypress%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress%2Ftsconfig.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"extends\": \"../tsconfig.json\",\n+  \"include\": [\"../node_modules/cypress\", \"*/*.ts\"]\n+}"
        },
        {
            "sha": "7380835dd925bc042c60d45a74319214e1fc4eea",
            "filename": "devtools/docs/assets/access-console.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Faccess-console.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Faccess-console.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Faccess-console.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "dae2add465fe0e15338c071eb49a70ac9509e4ca",
            "filename": "devtools/docs/assets/component-explorer.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fcomponent-explorer.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fcomponent-explorer.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fcomponent-explorer.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "2f3d3c13afb1c7dbc63431031a386e0f7b3f4897",
            "filename": "devtools/docs/assets/debugging-onpush.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdebugging-onpush.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdebugging-onpush.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fdebugging-onpush.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "a1a882cbefa372ab500323732e4aca2a07f5b735",
            "filename": "devtools/docs/assets/default-profiler-view.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdefault-profiler-view.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdefault-profiler-view.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fdefault-profiler-view.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "844dc8910f94c2467b02aaecf4c92754485f52e3",
            "filename": "devtools/docs/assets/devtools-tabs.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdevtools-tabs.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdevtools-tabs.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fdevtools-tabs.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "6ccea6829499094d3fbe1ce5b876972674a922ef",
            "filename": "devtools/docs/assets/devtools.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdevtools.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdevtools.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fdevtools.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "44437451c55ccdbbe20c13fad7c3088ca8de4d92",
            "filename": "devtools/docs/assets/directive-details.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdirective-details.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fdirective-details.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fdirective-details.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "93c171ba5f052b65d7f2e9fcc3e8866ee71cdf38",
            "filename": "devtools/docs/assets/flame-graph-view.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fflame-graph-view.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fflame-graph-view.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fflame-graph-view.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "bd91e0622fd4e7a6bcec791c30c3ba24e762cd41",
            "filename": "devtools/docs/assets/inspect-element.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Finspect-element.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Finspect-element.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Finspect-element.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "7010019ba73ecfcba6a384c51edf6f07400c72ef",
            "filename": "devtools/docs/assets/navigate-source.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fnavigate-source.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fnavigate-source.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fnavigate-source.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "2235ed8a7f38adcef3fb54ddbfcf6b3c9743ddb3",
            "filename": "devtools/docs/assets/profiler-selected-bar.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fprofiler-selected-bar.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fprofiler-selected-bar.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fprofiler-selected-bar.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "a320ff6612610ab221c887b5534bb195e8f5f5fa",
            "filename": "devtools/docs/assets/profiler.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fprofiler.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fprofiler.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fprofiler.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "c4ed1debeaf61f6e651cd197b5b9fe876c86526b",
            "filename": "devtools/docs/assets/save-profile.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fsave-profile.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fsave-profile.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fsave-profile.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "3eccdffde68e379b902489bac1e9460bcfe065d4",
            "filename": "devtools/docs/assets/search.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fsearch.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fsearch.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fsearch.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "82318598d09a943b040a0aed3131da403c328f00",
            "filename": "devtools/docs/assets/update-property.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fupdate-property.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fupdate-property.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fupdate-property.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "d3e09dc476fcf214f321f4244366df14729725cf",
            "filename": "devtools/docs/assets/view-properties.png",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fview-properties.png",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Fassets%2Fview-properties.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Fassets%2Fview-properties.png?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "d34e3c400fd3eff1d032354b097838c0484466b3",
            "filename": "devtools/docs/overview.md",
            "status": "added",
            "additions": 156,
            "deletions": 0,
            "changes": 156,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Foverview.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fdocs%2Foverview.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fdocs%2Foverview.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,156 @@\n+- [DevTools Overview](#devtools-overview)\n+  - [Bug reports](#bug-reports)\n+  - [Debug your application](#debug-your-application)\n+    - [Explore the application structure](#explore-the-application-structure)\n+    - [View properties](#view-properties)\n+    - [Navigate to the host node](#navigate-to-the-host-node)\n+    - [Navigate to source](#navigate-to-source)\n+    - [Update property value](#update-property-value)\n+    - [Access selected component or directive in console](#access-selected-component-or-directive-in-console)\n+    - [Select a directive or component](#select-a-directive-or-component)\n+  - [Profile your application](#profile-your-application)\n+    - [Understand your application's execution](#understand-your-applications-execution)\n+    - [Understand component execution](#understand-component-execution)\n+    - [Hierarchical views](#hierarchical-views)\n+    - [Debug OnPush](#debug-onpush)\n+    - [Import recording](#import-recording)\n+\n+# DevTools Overview\n+\n+Angular DevTools is a Chrome extension that provides debugging and profiling capabilities for Angular applications. Angular DevTools supports Angular v9 and above, with Ivy enabled.\n+\n+You can find Angular DevTools in the [Chrome Web Store](https://chrome.google.com/webstore/detail/angular-developer-tools/ienfalfjdbdpebioblfackkekamfmbnh).\n+\n+After installing Angular DevTools, you can find the extension under the Angular tab in Chrome DevTools.\n+\n+![devtools](assets/devtools.png)\n+\n+When you open the extension, you'll see two additional tabs:\n+\n+- [Components](#components) - lets you explore the components and directives in your application and preview or edit their state.\n+\n+- [Profiler](#profiler) - lets you profile your application and understand what the performance bottleneck is during change detection execution.\n+\n+![devtools tabs](assets/devtools-tabs.png)\n+\n+In the top-right corner of Angular DevTools you'll find which version of Angular is running on the page as well as the latest commit hash for the extension.\n+\n+## Bug reports\n+\n+You can report issues and feature requests on [GitHub](https://github.com/rangle/angular-devtools/issues).\n+\n+To report an issue with the Profiler, export the Profiler recording by clicking the **Save Profile** button, and then attaching that export as a file in the issue.\n+\n+> Make sure that the Profiler recording does not contain any confidential information.\\*\\*\\*\\*\n+\n+## Debug your application\n+\n+The **Components** tab lets you explore the structure of your application. You can visualize and inspect the component and directive instances and preview or modify their state. In the next couple of sections we'll look into how you can use this tab effectively to debug your application.\n+\n+### Explore the application structure\n+\n+![component-explorer](assets/component-explorer.png)\n+\n+In the preceding screenshot, you can see the component tree of an application.\n+\n+The component tree displays a hierarchical relationship of the _components and directives_ within your application. When you select a component or a directive instance, Angular DevTools presents additional information about that instance.\n+\n+### View properties\n+\n+Click the individual components or directives in the component explorer to select them and preview their properties. Angular DevTools displays their properties and metadata on the right-hand side of the component tree.\n+\n+You can navigate in the component tree using the mouse or the following keyboard shortcuts:\n+\n+- Up and down arrows select the previous and next nodes.\n+- Left and right arrows collapse and expand a node.\n+\n+To look up a component or directive by name use the search box above the component tree. To navigate to the next search match, press `Enter`. To navigate to the previous search match, press `Shift + Enter`.\n+\n+![search](assets/search.png)\n+\n+### Navigate to the host node\n+\n+To go to the host element of a particular component or directive, find it in the component explorer and double-click it. Chrome DevTools opens the Elements tab and selects the associated DOM node.\n+\n+### Navigate to source\n+\n+For components, Angular DevTools also lets you navigate to the component definition in the source tab. After you select a particular component, click the icon at the top-right of the properties view:\n+\n+![navigate source](assets/navigate-source.png)\n+\n+### Update property value\n+\n+Like Chrome DevTools, the properties view allows you to edit the value of an input, output, or another property. Right-click on the property value. If edit functionality is available for this value type, you'll see a text input. Type the new value and press `Enter`.\n+\n+![update property](assets/update-property.png)\n+\n+### Access selected component or directive in console\n+\n+As a shortcut in the console, Angular DevTools provides you access to instances of the recently selected components or directives. Type `$ng0` to get a reference to the instance of the currently selected component or directive, and type `$ng1` for the previously selected instance.\n+\n+![access console](assets/access-console.png)\n+\n+### Select a directive or component\n+\n+Similar to Chrome DevTools, you can inspect the page to select a particular component or directive. Click the **_Inspect element_** icon at the top left corner within Devtools and hover over a DOM element on the page. Angular DevTools recognizes the associated directives and/or components and lets you select the corresponding element in the Component tree.\n+\n+![selecting dom node](assets/inspect-element.png)\n+\n+## Profile your application\n+\n+The **Profiler** tab lets you preview the execution of Angular's change detection.\n+\n+![profiler](assets/profiler.png)\n+\n+The Profiler lets you start profiling or import an existing profile. To start profiling your application, hover over the circle at the top-left corner within the **Profiler** tab and click **Start recording**.\n+\n+During profiling, Angular DevTools captures execution events, such as change detection and lifecycle hook execution. To finish recording, click the circle again to **Stop recording**.\n+\n+You can also import an existing recording. Read more about this feature in the [Import recording](#) section.\n+\n+### Understand your application's execution\n+\n+In the following screenshot, you can find the default view of the Profiler after you complete recording.\n+\n+![default profiler view](assets/default-profiler-view.png)\n+\n+Near the top of the view you can see a sequence of bars, each one of them symbolizing change detection cycles in your app. The taller a bar is, the longer your application has spent in this cycle. When you select a bar, DevTools renders a bar chart with all the components and directives that it captured during this cycle.\n+\n+![profiler selected bar](assets/profiler-selected-bar.png)\n+\n+Above the change detection timeline, you can find how much time Angular spent in this cycle. Angular DevTools attempts to estimate the frame drop at this point to indicate when the execution of your application might impact the user experience.\n+\n+Angular DevTools also indicates what triggered the change detection (that is, the change detection's source).\n+\n+### Understand component execution\n+\n+When you click on a bar, you'll find a detailed view about how much time your application spent in the particular directive or component:\n+\n+![directive details](assets/directive-details.png)\n+Figure shows the total time spent by NgforOf directive and which method was called in it. It also shows the parent hierarchy of the directive selected.\n+\n+### Hierarchical views\n+\n+![flame graph view](assets/flame-graph-view.png)\n+\n+You can also preview the change detection execution in a flame graph-like view. Each tile in the graph represents an element on the screen at a specific position in the render tree.\n+\n+For example, if during one change detection cycle at a specific position in the component tree we had `ComponentA`, this component was removed and in its place Angular rendered `ComponentB`, you'll see both components at the same tile.\n+\n+Each tile is colored depending on how much time Angular has spent there. DevTools determines the intensity of the color by the time spent relative to the tile where we've spent the most time in change detection.\n+\n+When you click on a certain tile, you'll see details about it in the panel on the right. Double-clicking the tile zooms it in so you can preview the nested children.\n+\n+### Debug OnPush\n+\n+To preview the components in which Angular did change detection, select the **Change detection** checkbox at the top, above the flame graph.\n+\n+This view will color all the tiles in which Angular performed change detection in green, and the rest in gray:\n+\n+![debugging onpush](assets/debugging-onpush.png)\n+\n+### Import recording\n+\n+Click the **Save Profile** button at the top-left of a recorded profiling session to export it as a JSON file and save it to the disk. Then, you can import the file in the initial view of the profiler by clicking the **Choose file** input:\n+\n+![save profile](assets/save-profile.png)"
        },
        {
            "sha": "5c23d8477d95b8e10fdbee43c3a46679baf24174",
            "filename": "devtools/e2e/protractor.conf.js",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Fprotractor.conf.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,30 @@\n+// @ts-check\n+// Protractor configuration file, see link for more information\n+// https://github.com/angular/protractor/blob/master/lib/config.ts\n+\n+const { SpecReporter } = require('jasmine-spec-reporter');\n+\n+/**\n+ * @type { import(\"protractor\").Config }\n+ */\n+exports.config = {\n+  allScriptsTimeout: 11000,\n+  specs: ['./src/**/*.e2e-spec.ts'],\n+  capabilities: {\n+    browserName: 'chrome',\n+  },\n+  directConnect: true,\n+  baseUrl: 'http://localhost:4200/',\n+  framework: 'jasmine',\n+  jasmineNodeOpts: {\n+    showColors: true,\n+    defaultTimeoutInterval: 30000,\n+    print: function() {},\n+  },\n+  onPrepare() {\n+    require('ts-node').register({\n+      project: require('path').join(__dirname, './tsconfig.json'),\n+    });\n+    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));\n+  },\n+};"
        },
        {
            "sha": "04e5b97f99f1d2a17743acc279627de91c36a655",
            "filename": "devtools/e2e/src/app.e2e-spec.ts",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,28 @@\n+import { AppPage } from './app.po';\n+import { browser, logging } from 'protractor';\n+\n+describe('workspace-project App', () => {\n+  let page: AppPage;\n+\n+  beforeEach(() => {\n+    page = new AppPage();\n+  });\n+\n+  it('should display welcome message', () => {\n+    page.navigateTo();\n+    expect(page.getTitleText()).toEqual('angular-devtools app is running!');\n+  });\n+\n+  afterEach(async () => {\n+    // Assert that there are no errors emitted from the browser\n+    const logs = await browser\n+      .manage()\n+      .logs()\n+      .get(logging.Type.BROWSER);\n+    expect(logs).not.toContain(\n+      jasmine.objectContaining({\n+        level: logging.Level.SEVERE,\n+      } as logging.Entry)\n+    );\n+  });\n+});"
        },
        {
            "sha": "78a2dca4e962db71c0d0711f59fe61e982e291ee",
            "filename": "devtools/e2e/src/app.po.ts",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Fsrc%2Fapp.po.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,11 @@\n+import { browser, by, element } from 'protractor';\n+\n+export class AppPage {\n+  navigateTo(): Promise<any> {\n+    return browser.get(browser.baseUrl) as Promise<any>;\n+  }\n+\n+  getTitleText(): Promise<string> {\n+    return element(by.css('app-root .content span')).getText() as Promise<string>;\n+  }\n+}"
        },
        {
            "sha": "677f30ff8ab574091dfede1105dcf64247f42d66",
            "filename": "devtools/e2e/tsconfig.json",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Ftsconfig.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+{\n+  \"extends\": \"../tsconfig.json\",\n+  \"compilerOptions\": {\n+    \"outDir\": \"../out-tsc/e2e\",\n+    \"module\": \"commonjs\",\n+    \"target\": \"es5\",\n+    \"types\": [\"jasmine\", \"jasminewd2\", \"node\"]\n+  }\n+}"
        },
        {
            "sha": "5c535e577980ab97a892d77e3322160d5e1f2907",
            "filename": "devtools/initialize_testbed.ts",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Finitialize_testbed.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Finitialize_testbed.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Finitialize_testbed.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,10 @@\n+/**\n+ * @fileoverview Provides a script to initialize TestBed before tests are run.\n+ * This file should be included in the \"runtime_deps\" of a \"karma_web_test_suite\"\n+ * rule.\n+ */\n+ import {TestBed} from '@angular/core/testing';\n+ import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n+ \n+ TestBed.initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n+ \n\\ No newline at end of file"
        },
        {
            "sha": "dd50a1eb783ea467c944c3f41b55506dc9b03c75",
            "filename": "devtools/io_bazel_rules_sass.patch",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fio_bazel_rules_sass.patch",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fio_bazel_rules_sass.patch",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fio_bazel_rules_sass.patch?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,20 @@\n+index 314d400b..bbdfbf87 100755\n+--- a/sass/package.json\n++++ b/sass/package.json\n+@@ -1,6 +1,6 @@\n+ {\n+   \"devDependencies\": {\n+-    \"@bazel/worker\": \"3.0.0\",\n++    \"@bazel/worker\": \"4.0.0-beta.0\",\n+     \"sass\": \"1.34.0\"\n+   }\n+ }\n+index 9cb20561..dbcc7880 100755\n+--- a/sass/sass_repositories.bzl\n++++ b/sass/sass_repositories.bzl\n+@@ -32,4 +32,5 @@ def sass_repositories():\n+         # node_modules folders in the @io_bazel_rules_sass external repository. This is\n+         # not supported by managed_directories.\n+         symlink_node_modules = False,\n++        frozen_lockfile = False,\n+     )"
        },
        {
            "sha": "e0813af37cf214a00ce81bd25b31c718ab642073",
            "filename": "devtools/karma.conf.js",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fkarma.conf.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+// Karma configuration file, see link for more information\n+// https://karma-runner.github.io/1.0/config/configuration-file.html\n+\n+module.exports = function (config) {\n+  config.set({\n+    basePath: '',\n+    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n+    plugins: [\n+      require('karma-jasmine'),\n+      require('karma-chrome-launcher'),\n+      require('karma-jasmine-html-reporter'),\n+      require('karma-coverage'),\n+      require('@angular-devkit/build-angular/plugins/karma'),\n+    ],\n+    client: {\n+      clearContext: false, // leave Jasmine Spec Runner output visible in browser\n+    },\n+    coverageIstanbulReporter: {\n+      dir: require('path').join(__dirname, './coverage/angular-devtools'),\n+      reports: ['html', 'lcovonly', 'text-summary'],\n+      fixWebpackSourcePaths: true,\n+    },\n+    reporters: ['progress', 'kjhtml'],\n+    port: 9876,\n+    colors: true,\n+    logLevel: config.LOG_INFO,\n+    autoWatch: true,\n+    browsers: ['ChromeHeadlessNoSandbox'],\n+    customLaunchers: {\n+      ChromeHeadlessNoSandbox: {\n+        base: 'ChromeHeadless',\n+        flags: ['--no-sandbox'],\n+      },\n+    },\n+    singleRun: false,\n+    restartOnFileChange: true,\n+  });\n+};"
        },
        {
            "sha": "fe7b7576799af81acd68dca3b01e2261e6ce0114",
            "filename": "devtools/package.json",
            "status": "added",
            "additions": 123,
            "deletions": 0,
            "changes": 123,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fpackage.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,123 @@\n+{\n+  \"name\": \"angular-devtools\",\n+  \"version\": \"0.0.0\",\n+  \"scripts\": {\n+    \"postinstall\": \"node_modules/.bin/ngcc --async --properties fesm2015\",\n+    \"ng\": \"ng\",\n+    \"cypress:verify\": \"cypress verify\",\n+    \"start\": \"ibazel run src:devserver\",\n+    \"start-no-animations\": \"bazel run src:devserver-e2e\",\n+    \"build:chrome\": \"bazel build projects/shell-chrome/src:prodapp\",\n+    \"build:chrome:watch\": \"ibazel build projects/shell-chrome/src:prodapp\",\n+    \"release\": \"node projects/shell-chrome/set-version.js && build:chrome\",\n+    \"test\": \"bazel test ...\",\n+    \"lint\": \"tslint -p tsconfig.json -c tslint.json\",\n+    \"lint:fix\": \"tslint -p tsconfig.json -c tslint.json --fix\",\n+    \"e2e\": \"yarn cy:run\",\n+    \"cy:verify\": \"$(yarn bin)/cypress verify\",\n+    \"cy:version\": \"$(yarn bin)/cypress version\",\n+    \"cy:run\": \"bazel test cypress:devtools_e2e\",\n+    \"cy:open\": \"bazel run cypress:devtools_e2e\",\n+    \"cy:ci\": \"start-server-and-test start http-get://localhost:4200 cy:run\",\n+    \"cy:watch\": \"start-server-and-test start http-get://localhost:4200 cy:open\",\n+    \"test:ci\": \"bazel test ...\",\n+    \"prettier\": \"prettier --write \\\"{,!(node_modules|dist|build|coverage)/**/}*.{js,jsx,ts,tsx,json}\\\"\",\n+    \"prettier:fix\": \"pretty-quick --staged\"\n+  },\n+  \"husky\": {\n+    \"hooks\": {\n+      \"pre-commit\": \"yarn prettier:fix\"\n+    }\n+  },\n+  \"private\": true,\n+  \"dependencies\": {\n+    \"@angular/animations\": \"github:angular/animations-builds#e814a6149fd654e265a465837f17bdebdc976a9d\",\n+    \"@angular/cdk\": \"~13.0.1\",\n+    \"@angular/common\": \"github:angular/common-builds#f1e665ee23545ee54adf517450083125aea33357\",\n+    \"@angular/compiler\": \"github:angular/compiler-builds#11a9d99b5540a189c393686b078b0ef4692573cf\",\n+    \"@angular/core\": \"github:angular/core-builds#7cda5ccc3ab33ca2230b67b38a0cea0d43035531\",\n+    \"@angular/forms\": \"github:angular/forms-builds#380d3f7831ae2b40390dbc2ed0f457740e3b310f\",\n+    \"@angular/material\": \"~13.0.1\",\n+    \"@angular/platform-browser\": \"github:angular/platform-browser-builds#7f38db5e7693cd7a1e76c0f21978eb44b89b799f\",\n+    \"@angular/platform-browser-dynamic\": \"github:angular/platform-browser-dynamic-builds#9e478221d7065200684a1eece31b99d287674da8\",\n+    \"@angular/platform-server\": \"13.0.1\",\n+    \"@babel/cli\": \"^7.16.0\",\n+    \"@babel/core\": \"^7.16.0\",\n+    \"@types/node\": \"^16.7.1\",\n+    \"ajv-formats\": \"^2.1.1\",\n+    \"d3\": \"^5.7.0\",\n+    \"memo-decorator\": \"^2.0.1\",\n+    \"ngx-flamegraph\": \"0.0.10\",\n+    \"puppeteer\": \"^10.2.0\",\n+    \"rxjs\": \"~6.6.0\",\n+    \"semver-dsl\": \"^1.0.1\",\n+    \"tslib\": \"^2.3.0\",\n+    \"webtreemap\": \"^2.0.1\",\n+    \"zone.js\": \"~0.11.0\"\n+  },\n+  \"devDependencies\": {\n+    \"@angular-devkit/build-angular\": \"github:angular/angular-devkit-build-angular-builds#7c4c781be8e3666f14360d3fe5dac0d35a851227\",\n+    \"@angular-devkit/build-ng-packagr\": \"~0.1002.0\",\n+    \"@angular/bazel\": \"13.0.1\",\n+    \"@angular/cli\": \"github:angular/cli-builds#858ee211470523d39a9ff16b57b676be740f77cc\",\n+    \"@angular/compiler-cli\": \"github:angular/compiler-cli-builds#89c6b3464f3f46a9f46334825bbff3d784af4136\",\n+    \"@angular/dev-infra-private\": \"https://github.com/angular/dev-infra-private-builds.git#2cfe4b98a157927b319a3a00b467ff6233dc3337\",\n+    \"@angular/elements\": \"github:angular/elements-builds#55c36f9d5381ffc06649a03bff3c2934b18ddd02\",\n+    \"@angular/language-service\": \"github:angular/language-service-builds#e16ca91c029934dde01557efcf860e2465629655\",\n+    \"@angular/localize\": \"13.0.1\",\n+    \"@angular/router\": \"github:angular/router-builds#5485647d9f68a01041285dfa0b92d841d7fa8c0f\",\n+    \"@bazel/angular\": \"^4.4.2\",\n+    \"@bazel/bazelisk\": \"^1.7.5\",\n+    \"@bazel/buildifier\": \"4.2.3\",\n+    \"@bazel/concatjs\": \"^3.7.0\",\n+    \"@bazel/cypress\": \"^4.4.5\",\n+    \"@bazel/esbuild\": \"^4.4.2\",\n+    \"@bazel/ibazel\": \"^0.15.10\",\n+    \"@bazel/rollup\": \"^4.4.2\",\n+    \"@bazel/terser\": \"^4.4.2\",\n+    \"@bazel/typescript\": \"~4.4.2\",\n+    \"@rollup/plugin-commonjs\": \"^14.0.0\",\n+    \"@rollup/plugin-node-resolve\": \"^8.4.0\",\n+    \"@types/chrome\": \"^0.0.159\",\n+    \"@types/clone-deep\": \"^4.0.1\",\n+    \"@types/filesystem\": \"^0.0.32\",\n+    \"@types/jasmine\": \"~3.9.0\",\n+    \"@types/jasminewd2\": \"~2.0.3\",\n+    \"@types/resize-observer-browser\": \"^0.1.5\",\n+    \"@types/semver\": \"^7.1.0\",\n+    \"codelyzer\": \"^6.0.0\",\n+    \"cross-env\": \"^7.0.2\",\n+    \"cypress\": \"8.7.0\",\n+    \"cypress-iframe\": \"^1.0.1\",\n+    \"document-register-element\": \"^1.7.2\",\n+    \"history-server\": \"^1.3.1\",\n+    \"html-insert-assets\": \"^0.14.2\",\n+    \"husky\": \"^4.3.8\",\n+    \"jasmine-core\": \"~3.10.0\",\n+    \"jasmine-spec-reporter\": \"~7.0.0\",\n+    \"karma\": \"~4.1.0\",\n+    \"karma-chrome-launcher\": \"2.2.0\",\n+    \"karma-firefox-launcher\": \"1.1.0\",\n+    \"karma-jasmine\": \"2.0.1\",\n+    \"karma-junit-reporter\": \"2.0.1\",\n+    \"karma-requirejs\": \"1.1.0\",\n+    \"karma-sourcemap-loader\": \"0.3.7\",\n+    \"ng-packagr\": \"^12.0.0\",\n+    \"ngx-build-plus\": \"^11.0.0\",\n+    \"prettier\": \"^2.0.0\",\n+    \"pretty-quick\": \"^3.0.0\",\n+    \"protractor\": \"~7.0.0\",\n+    \"requirejs\": \"2.3.6\",\n+    \"rollup\": \"2.44.0\",\n+    \"rollup-plugin-amd\": \"4.0.0\",\n+    \"start-server-and-test\": \"^1.10.11\",\n+    \"todomvc-app-css\": \"^2.3.0\",\n+    \"todomvc-common\": \"^1.0.5\",\n+    \"ts-node\": \"~10.3.0\",\n+    \"tsickle\": \"0.40.0\",\n+    \"tslint\": \"~5.20.0\",\n+    \"typescript\": \"~4.4.3\",\n+    \"wait-on\": \"^6.0.0\",\n+    \"webpack\": \"5.59.1\"\n+  }\n+}"
        },
        {
            "sha": "329e7ff572455050554c53dd711e042d1fe56133",
            "filename": "devtools/packages.bzl",
            "status": "added",
            "additions": 88,
            "deletions": 0,
            "changes": 88,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fpackages.bzl",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fpackages.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fpackages.bzl?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,88 @@\n+# Each individual package uses a placeholder for the version of Angular to ensure they're\n+# all in-sync. This map is passed to each ng_package rule to stamp out the appropriate\n+# version for the placeholders.\n+ANGULAR_PACKAGE_VERSION = \"^13.0.0 || ^14.0.0-0\"\n+MDC_PACKAGE_VERSION = \"14.0.0-canary.1af7c1c4a.0\"\n+TSLIB_PACKAGE_VERSION = \"^2.3.0\"\n+RXJS_PACKAGE_VERSION = \"^6.5.3 || ^7.4.0\"\n+\n+# Each placeholder is used to stamp versions during the build process, replacing the key with it's\n+# value pair. These replacements occur during building of `npm_package` and `ng_package` stamping in\n+# the peer dependencies and versions, primarily in `package.json`s.\n+NPM_PACKAGE_SUBSTITUTIONS = {\n+    # Version of `material-components-web`\n+    \"0.0.0-MDC\": MDC_PACKAGE_VERSION,\n+    # Version of `@angular/core`\n+    \"0.0.0-NG\": ANGULAR_PACKAGE_VERSION,\n+    # Version of `tslib`\n+    \"0.0.0-TSLIB\": TSLIB_PACKAGE_VERSION,\n+    # Version of the local package being built, generated via the `--workspace_status_command` flag.\n+    \"0.0.0-PLACEHOLDER\": \"{BUILD_SCM_VERSION}\",\n+    # Version of `rxjs`\n+    \"0.0.0-RXJS\": RXJS_PACKAGE_VERSION,\n+}\n+\n+NO_STAMP_NPM_PACKAGE_SUBSTITUTIONS = dict(NPM_PACKAGE_SUBSTITUTIONS, **{\n+    # When building NPM packages for tests (where stamping is disabled),\n+    # we use `0.0.0` for the version placeholder.\n+    \"0.0.0-PLACEHOLDER\": \"0.0.0\",\n+})\n+\n+# List of MDC packages.\n+MDC_PACKAGES = [\n+    \"@material/animation\",\n+    \"@material/auto-init\",\n+    \"@material/base\",\n+    \"@material/checkbox\",\n+    \"@material/chips\",\n+    \"@material/circular-progress\",\n+    \"@material/data-table\",\n+    \"@material/dialog\",\n+    \"@material/dom\",\n+    \"@material/drawer\",\n+    \"@material/floating-label\",\n+    \"@material/form-field\",\n+    \"@material/icon-button\",\n+    \"@material/line-ripple\",\n+    \"@material/linear-progress\",\n+    \"@material/list\",\n+    \"@material/menu-surface\",\n+    \"@material/menu\",\n+    \"@material/notched-outline\",\n+    \"@material/radio\",\n+    \"@material/ripple\",\n+    \"@material/select\",\n+    \"@material/slider\",\n+    \"@material/snackbar\",\n+    \"@material/switch\",\n+    \"@material/tab-bar\",\n+    \"@material/tab-indicator\",\n+    \"@material/tab-scroller\",\n+    \"@material/tab\",\n+    \"@material/textfield\",\n+    \"@material/tooltip\",\n+    \"@material/top-app-bar\",\n+]\n+\n+ANGULAR_PACKAGES_CONFIG = [\n+    (\"@angular/animations\", struct(entry_points = [\"browser\"])),\n+    (\"@angular/common\", struct(entry_points = [\"http/testing\", \"http\", \"testing\"])),\n+    (\"@angular/compiler\", struct(entry_points = [\"testing\"])),\n+    (\"@angular/core\", struct(entry_points = [\"testing\"])),\n+    (\"@angular/forms\", struct(entry_points = [])),\n+    (\"@angular/platform-browser\", struct(entry_points = [\"testing\", \"animations\"])),\n+    (\"@angular/platform-server\", struct(entry_points = [], platform = \"node\")),\n+    (\"@angular/platform-browser-dynamic\", struct(entry_points = [\"testing\"])),\n+    (\"@angular/router\", struct(entry_points = [])),\n+    (\"@angular/localize\", struct(entry_points = [\"init\"])),\n+]\n+\n+ANGULAR_PACKAGES = [\n+    struct(\n+        name = name[len(\"@angular/\"):],\n+        entry_points = config.entry_points,\n+        platform = config.platform if hasattr(config, \"platform\") else \"browser\",\n+        module_name = name,\n+    )\n+    for name, config in ANGULAR_PACKAGES_CONFIG\n+]"
        },
        {
            "sha": "69243751958e20d1a686fee713761f187e359d20",
            "filename": "devtools/projects/demo-no-zone/.bazelignore",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2F.bazelignore",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2F.bazelignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2F.bazelignore?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+node_modules\n+dist\n+bazel-out"
        },
        {
            "sha": "8fde2b695ba0e3fe60c58371b9ecdb435785e5aa",
            "filename": "devtools/projects/demo-no-zone/BUILD.bazel",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_config(\n+    name = \"tsconfig-app\",\n+    src = \"tsconfig.app.json\",\n+    deps = [\"//:tsconfig.json\"],\n+)"
        },
        {
            "sha": "80848532e47d58cc7a4b618f600b438960f9f045",
            "filename": "devtools/projects/demo-no-zone/browserslist",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fbrowserslist",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fbrowserslist",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fbrowserslist?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,12 @@\n+# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n+# For additional information regarding the format and rule options, please see:\n+# https://github.com/browserslist/browserslist#queries\n+\n+# You can see what browsers were selected by your queries by running:\n+#   npx browserslist\n+\n+> 0.5%\n+last 2 versions\n+Firefox ESR\n+not dead\n+not IE 9-11 # For IE 9-11 support, remove 'not'.\n\\ No newline at end of file"
        },
        {
            "sha": "504db95d67139b229416d24283762e0ec7f0163b",
            "filename": "devtools/projects/demo-no-zone/e2e/protractor.conf.js",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fprotractor.conf.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,30 @@\n+// @ts-check\n+// Protractor configuration file, see link for more information\n+// https://github.com/angular/protractor/blob/master/lib/config.ts\n+\n+const { SpecReporter } = require('jasmine-spec-reporter');\n+\n+/**\n+ * @type { import(\"protractor\").Config }\n+ */\n+exports.config = {\n+  allScriptsTimeout: 11000,\n+  specs: ['./src/**/*.e2e-spec.ts'],\n+  capabilities: {\n+    browserName: 'chrome',\n+  },\n+  directConnect: true,\n+  baseUrl: 'http://localhost:4200/',\n+  framework: 'jasmine',\n+  jasmineNodeOpts: {\n+    showColors: true,\n+    defaultTimeoutInterval: 30000,\n+    print: function () {},\n+  },\n+  onPrepare() {\n+    require('ts-node').register({\n+      project: require('path').join(__dirname, './tsconfig.json'),\n+    });\n+    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));\n+  },\n+};"
        },
        {
            "sha": "42fc5a6a52e6e1d397444dfe79e515563f4006b3",
            "filename": "devtools/projects/demo-no-zone/e2e/src/app.e2e-spec.ts",
            "status": "added",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,25 @@\n+import { AppPage } from './app.po';\n+import { browser, logging } from 'protractor';\n+\n+describe('workspace-project App', () => {\n+  let page: AppPage;\n+\n+  beforeEach(() => {\n+    page = new AppPage();\n+  });\n+\n+  it('should display welcome message', () => {\n+    page.navigateTo();\n+    expect(page.getTitleText()).toEqual('Welcome to demo-no-zone!');\n+  });\n+\n+  afterEach(async () => {\n+    // Assert that there are no errors emitted from the browser\n+    const logs = await browser.manage().logs().get(logging.Type.BROWSER);\n+    expect(logs).not.toContain(\n+      jasmine.objectContaining({\n+        level: logging.Level.SEVERE,\n+      } as logging.Entry)\n+    );\n+  });\n+});"
        },
        {
            "sha": "6a185bf10bb946e39d083bb5b7d3c91608c95b64",
            "filename": "devtools/projects/demo-no-zone/e2e/src/app.po.ts",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.po.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,11 @@\n+import { browser, by, element } from 'protractor';\n+\n+export class AppPage {\n+  navigateTo(): Promise<any> {\n+    return browser.get(browser.baseUrl) as Promise<any>;\n+  }\n+\n+  getTitleText(): Promise<any> {\n+    return element(by.css('app-root h1')).getText() as Promise<string>;\n+  }\n+}"
        },
        {
            "sha": "201351434ec446b2121e3081b99468139b786363",
            "filename": "devtools/projects/demo-no-zone/e2e/tsconfig.json",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Ftsconfig.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+{\n+  \"extends\": \"../../../tsconfig.json\",\n+  \"compilerOptions\": {\n+    \"outDir\": \"../../../out-tsc/e2e\",\n+    \"module\": \"commonjs\",\n+    \"target\": \"es5\",\n+    \"types\": [\"jasmine\", \"jasminewd2\", \"node\"]\n+  }\n+}"
        },
        {
            "sha": "aaea4e49b4edd89da19d8f0c4b205076695e1a80",
            "filename": "devtools/projects/demo-no-zone/karma.conf.js",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fkarma.conf.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+// Karma configuration file, see link for more information\n+// https://karma-runner.github.io/1.0/config/configuration-file.html\n+\n+module.exports = function (config) {\n+  config.set({\n+    basePath: '',\n+    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n+    plugins: [\n+      require('karma-jasmine'),\n+      require('karma-chrome-launcher'),\n+      require('karma-jasmine-html-reporter'),\n+      require('karma-coverage'),\n+      require('@angular-devkit/build-angular/plugins/karma'),\n+    ],\n+    client: {\n+      clearContext: true, // leave Jasmine Spec Runner output visible in browser\n+    },\n+    coverageIstanbulReporter: {\n+      dir: require('path').join(__dirname, '../../coverage/demo-no-zone'),\n+      reports: ['html', 'lcovonly', 'text-summary'],\n+      fixWebpackSourcePaths: true,\n+    },\n+    reporters: ['progress', 'kjhtml'],\n+    port: 9876,\n+    colors: true,\n+    logLevel: config.LOG_INFO,\n+    autoWatch: true,\n+    browsers: ['ChromeHeadlessNoSandbox'],\n+    customLaunchers: {\n+      ChromeHeadlessNoSandbox: {\n+        base: 'ChromeHeadless',\n+        flags: ['--no-sandbox'],\n+      },\n+    },\n+    singleRun: false,\n+    restartOnFileChange: true,\n+  });\n+};"
        },
        {
            "sha": "df8d6f72ef1fe459f7eb63dbba96d0ac6a3ba6c2",
            "filename": "devtools/projects/demo-no-zone/src/BUILD.bazel",
            "status": "added",
            "additions": 76,
            "deletions": 0,
            "changes": 76,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,76 @@\n+load(\"@npm//html-insert-assets:index.bzl\", \"html_insert_assets\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n+load(\"@npm//history-server:index.bzl\", \"history_server\")\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"pkg_web\")\n+\n+package(default_visibility = [\"//:__subpackages__\"])\n+\n+_ASSETS = [\n+    \":styles.css\",\n+    \"@npm//:node_modules/zone.js/dist/zone.min.js\",\n+]\n+\n+html_insert_assets(\n+    name = \"inject_scripts_for_dev\",\n+    outs = [\"index.html\"],\n+    args = [\n+        \"--html=$(execpath //projects/demo-no-zone/src:_index.html)\",\n+        \"--out=$@\",\n+        \"--roots=. $(RULEDIR)\",\n+        \"--assets\",\n+    ] + [\"$(execpath %s)\" % s for s in _ASSETS] + [\n+        \"--scripts --module $(execpath :bundle-es2015)/index.js\",\n+    ],\n+    data = [\n+        \"//projects/demo-no-zone/src:_index.html\",\n+        \":bundle-es2015\",\n+    ] + _ASSETS,\n+)\n+\n+ng_ts_project(\n+    name = \"src\",\n+    srcs = [\"main.ts\"],\n+    tsconfig = \"//projects/demo-no-zone:tsconfig-app\",\n+    deps = [\n+        \"//projects/demo-no-zone/src/app\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/platform-browser\",\n+        \"@npm//@angular/platform-browser-dynamic\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+rollup_bundle(\n+    name = \"bundle-es2015\",\n+    config_file = \"rollup.config.js\",\n+    entry_points = {\n+        \":main.ts\": \"index\",\n+    },\n+    output_dir = True,\n+    deps = [\n+        \":src\",\n+        \"@npm//@rollup/plugin-commonjs\",\n+        \"@npm//@rollup/plugin-node-resolve\",\n+    ],\n+)\n+\n+pkg_web(\n+    name = \"devapp\",\n+    srcs = _ASSETS + [\n+        \":bundle-es2015\",\n+        \":inject_scripts_for_dev\",\n+    ],\n+    additional_root_paths = [],\n+)\n+\n+history_server(\n+    name = \"devserver\",\n+    data = [\":devapp\"],\n+    templated_args = [\n+        \"-a $$(rlocation $(rootpath :devapp))\",\n+        \"--port 4200\",\n+    ],\n+)"
        },
        {
            "sha": "d2f40dc8c160316ec991ffe0aefc86a389a219be",
            "filename": "devtools/projects/demo-no-zone/src/_index.html",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2F_index.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2F_index.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2F_index.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <meta charset=\"utf-8\" />\n+    <title>Demo No Zone</title>\n+    <base href=\"/\" />\n+\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n+  </head>\n+  <body>\n+    <app-root></app-root>\n+  </body>\n+</html>"
        },
        {
            "sha": "1fdaa8911727fb8cb09d128b627b314d21d64020",
            "filename": "devtools/projects/demo-no-zone/src/app/BUILD.bazel",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,18 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ng_ts_project(\n+    name = \"app\",\n+    srcs = glob(\n+        include = [\"*.ts\"],\n+    ),\n+    angular_assets = [\"app.component.html\"],\n+    tsconfig = \"//projects/demo-no-zone:tsconfig-app\",\n+    deps = [\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/platform-browser\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "9549029e59258109cfc3d4fb9c0f3bcdf73008b4",
            "filename": "devtools/projects/demo-no-zone/src/app/app.component.html",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+<h1>{{ counter }}</h1>\n+\n+<button (click)=\"increment()\">Increment</button>"
        },
        {
            "sha": "2c8e3b1c46b909663a654fcaf93a6c3eaec9bf04",
            "filename": "devtools/projects/demo-no-zone/src/app/app.component.ts",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,16 @@\n+import { Component, ChangeDetectorRef } from '@angular/core';\n+\n+@Component({\n+  selector: 'app-root',\n+  templateUrl: './app.component.html',\n+})\n+export class AppComponent {\n+  counter = 0;\n+\n+  constructor(private _cd: ChangeDetectorRef) {}\n+\n+  increment(): void {\n+    this.counter++;\n+    this._cd.detectChanges();\n+  }\n+}"
        },
        {
            "sha": "5ce7811a4c03da167bd77a37c5de07e61a488b71",
            "filename": "devtools/projects/demo-no-zone/src/app/app.module.ts",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2Fapp.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,12 @@\n+import { BrowserModule } from '@angular/platform-browser';\n+import { NgModule } from '@angular/core';\n+\n+import { AppComponent } from './app.component';\n+\n+@NgModule({\n+  declarations: [AppComponent],\n+  imports: [BrowserModule],\n+  providers: [],\n+  bootstrap: [AppComponent],\n+})\n+export class AppModule {}"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "devtools/projects/demo-no-zone/src/assets/.gitkeep",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fassets%2F.gitkeep",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fassets%2F.gitkeep",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fassets%2F.gitkeep?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "e4546fb592bd93bc1a438a015a1d4a9db0c860c3",
            "filename": "devtools/projects/demo-no-zone/src/main.ts",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fmain.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fmain.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fmain.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n+\n+import { AppModule } from './app/app.module';\n+\n+platformBrowserDynamic()\n+  .bootstrapModule(AppModule, {\n+    ngZone: 'noop',\n+  })\n+  .catch((err) => console.error(err));"
        },
        {
            "sha": "cc0bcbbe60cdcbf47df630e1ea6fa5153baea5bc",
            "filename": "devtools/projects/demo-no-zone/src/polyfills.ts",
            "status": "added",
            "additions": 62,
            "deletions": 0,
            "changes": 62,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fpolyfills.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fpolyfills.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fpolyfills.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,62 @@\n+/**\n+ * This file includes polyfills needed by Angular and is loaded before the app.\n+ * You can add your own extra polyfills to this file.\n+ *\n+ * This file is divided into 2 sections:\n+ *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n+ *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n+ *      file.\n+ *\n+ * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n+ * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n+ * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n+ *\n+ * Learn more in https://angular.io/guide/browser-support\n+ */\n+\n+/***************************************************************************************************\n+ * BROWSER POLYFILLS\n+ */\n+\n+/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n+// import 'classlist.js';  // Run `npm install --save classlist.js`.\n+\n+/**\n+ * Web Animations `@angular/platform-browser/animations`\n+ * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n+ * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n+ */\n+// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n+\n+/**\n+ * By default, zone.js will patch all possible macroTask and DomEvents\n+ * user can disable parts of macroTask/DomEvents patch by setting following flags\n+ * because those flags need to be set before `zone.js` being loaded, and webpack\n+ * will put import in the top of bundle, so user need to create a separate file\n+ * in this directory (for example: zone-flags.ts), and put the following flags\n+ * into that file, and then add the following code before importing zone.js.\n+ * import './zone-flags.ts';\n+ *\n+ * The flags allowed in zone-flags.ts are listed here.\n+ *\n+ * The following flags will work for all browsers.\n+ *\n+ * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame\n+ * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick\n+ * (window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames\n+ *\n+ *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\n+ *  with the following flag, it will bypass `zone.js` patch for IE/Edge\n+ *\n+ *  (window as any).__Zone_enable_cross_context_check = true;\n+ *\n+ */\n+\n+/***************************************************************************************************\n+ * Zone JS is required by default for Angular itself.\n+ */\n+// import 'zone.js/dist/zone';  // Included with Angular CLI.\n+\n+/***************************************************************************************************\n+ * APPLICATION IMPORTS\n+ */"
        },
        {
            "sha": "87158723b337e2937c24c3c01ddd4be54fffa46a",
            "filename": "devtools/projects/demo-no-zone/src/rollup.config.js",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Frollup.config.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,11 @@\n+const { nodeResolve } = require('@rollup/plugin-node-resolve');\n+const commonjs = require('@rollup/plugin-commonjs');\n+\n+module.exports = {\n+  plugins: [\n+    nodeResolve({\n+      mainFields: ['browser', 'es2015', 'module', 'jsnext:main', 'main'],\n+    }),\n+    commonjs(),\n+  ],\n+};"
        },
        {
            "sha": "90d4ee0072ce3fc41812f8af910219f9eea3c3de",
            "filename": "devtools/projects/demo-no-zone/src/styles.css",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fstyles.css",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fstyles.css",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fstyles.css?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+/* You can add global styles to this file, and also import other style files */"
        },
        {
            "sha": "da9049dc63258aa7fd13b0e27419233133641dcf",
            "filename": "devtools/projects/demo-no-zone/src/test.ts",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Ftest.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,14 @@\n+// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n+\n+import 'zone.js/dist/zone-testing';\n+import { getTestBed } from '@angular/core/testing';\n+import { BrowserDynamicTestingModule, platformBrowserDynamicTesting } from '@angular/platform-browser-dynamic/testing';\n+\n+declare const require: any;\n+\n+// First, initialize the Angular testing environment.\n+getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n+// Then we find all the tests.\n+const context = require.context('./', true, /\\.spec\\.ts$/);\n+// And load the modules.\n+context.keys().map(context);"
        },
        {
            "sha": "a7dc3157fddb1e883534a9fc4bd9cf4e95d530af",
            "filename": "devtools/projects/demo-no-zone/tsconfig.app.json",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.app.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.app.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.app.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,10 @@\n+{\n+  \"extends\": \"../../tsconfig.json\",\n+  \"compilerOptions\": {\n+    \"outDir\": \"../../out-tsc/app\",\n+    \"declaration\": true,\n+    \"types\": []\n+  },\n+  \"include\": [\"src/**/*.ts\"],\n+  \"exclude\": [\"src/test.ts\", \"src/**/*.spec.ts\"]\n+}"
        },
        {
            "sha": "8eec07d40ad9b2a031b6dd62b59d4fac8d1cb0c7",
            "filename": "devtools/projects/demo-no-zone/tsconfig.spec.json",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.spec.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+{\n+  \"extends\": \"../../tsconfig.json\",\n+  \"compilerOptions\": {\n+    \"outDir\": \"../../out-tsc/spec\",\n+    \"types\": [\"jasmine\", \"node\"]\n+  },\n+  \"files\": [\"src/test.ts\", \"src/polyfills.ts\"],\n+  \"include\": [\"src/**/*.spec.ts\", \"src/**/*.d.ts\"]\n+}"
        },
        {
            "sha": "8006e74e9613ef9c7dbee7053f3a4e9b853a2438",
            "filename": "devtools/projects/demo-no-zone/tslint.json",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Ftslint.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fdemo-no-zone%2Ftslint.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Ftslint.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"extends\": \"../../tslint.json\",\n+  \"rules\": {\n+    \"directive-selector\": [true, \"attribute\", \"app\", \"camelCase\"],\n+    \"component-selector\": [true, \"element\", \"app\", \"kebab-case\"]\n+  }\n+}"
        },
        {
            "sha": "f5e287c660ba9b80fb27f0be2e9c06b68bf9f119",
            "filename": "devtools/projects/ng-devtools-backend/BUILD.bazel",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,26 @@\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_config(\n+    name = \"tsconfig-lib\",\n+    src = \"tsconfig.lib.json\",\n+    deps = [\"//:tsconfig.json\"],\n+)\n+\n+ts_project(\n+    name = \"ng-devtools-backend-ts\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \":tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src\",\n+    ],\n+)\n+\n+js_library(\n+    name = \"ng-devtools-backend\",\n+    package_name = \"ng-devtools-backend\",\n+    deps = [\":ng-devtools-backend-ts\"],\n+)"
        },
        {
            "sha": "192741e2e50a92e0825ec4868eeafa27676b311f",
            "filename": "devtools/projects/ng-devtools-backend/README.md",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2FREADME.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2FREADME.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2FREADME.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,24 @@\n+# NgDevtoolsBackend\n+\n+This library was generated with [Angular CLI](https://github.com/angular/angular-cli) version 8.0.0.\n+\n+## Code scaffolding\n+\n+Run `ng generate component component-name --project ng-devtools-backend` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module --project ng-devtools-backend`.\n+> Note: Don't forget to add `--project ng-devtools-backend` or else it will be added to the default project in your `angular.json` file. \n+\n+## Build\n+\n+Run `ng build ng-devtools-backend` to build the project. The build artifacts will be stored in the `dist/` directory.\n+\n+## Publishing\n+\n+After building your library with `ng build ng-devtools-backend`, go to the dist folder `cd dist/ng-devtools-backend` and run `npm publish`.\n+\n+## Running unit tests\n+\n+Run `ng test ng-devtools-backend` to execute the unit tests via [Karma](https://karma-runner.github.io).\n+\n+## Further help\n+\n+To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md)."
        },
        {
            "sha": "1875d3f9bfee2790658615e4baec56b83e0b6dcb",
            "filename": "devtools/projects/ng-devtools-backend/index.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+export * from './src/public-api';"
        },
        {
            "sha": "b7bf2df04499669e7310a2adc3809f183ee0f7ea",
            "filename": "devtools/projects/ng-devtools-backend/karma.conf.js",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fkarma.conf.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+// Karma configuration file, see link for more information\n+// https://karma-runner.github.io/1.0/config/configuration-file.html\n+\n+module.exports = function (config) {\n+  config.set({\n+    basePath: '',\n+    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n+    plugins: [\n+      require('karma-jasmine'),\n+      require('karma-chrome-launcher'),\n+      require('karma-jasmine-html-reporter'),\n+      require('karma-coverage'),\n+      require('@angular-devkit/build-angular/plugins/karma'),\n+    ],\n+    client: {\n+      clearContext: true, // leave Jasmine Spec Runner output visible in browser\n+    },\n+    coverageIstanbulReporter: {\n+      dir: require('path').join(__dirname, '../../coverage/ng-devtools-backend'),\n+      reports: ['html', 'lcovonly', 'text-summary'],\n+      fixWebpackSourcePaths: true,\n+    },\n+    reporters: ['progress', 'kjhtml'],\n+    port: 9876,\n+    colors: true,\n+    logLevel: config.LOG_INFO,\n+    autoWatch: true,\n+    browsers: ['ChromeHeadlessNoSandbox'],\n+    customLaunchers: {\n+      ChromeHeadlessNoSandbox: {\n+        base: 'ChromeHeadless',\n+        flags: ['--no-sandbox'],\n+      },\n+    },\n+    singleRun: false,\n+    restartOnFileChange: true,\n+  });\n+};"
        },
        {
            "sha": "9504b75e9a292ee5ba83d5d9adc82cfe220ba546",
            "filename": "devtools/projects/ng-devtools-backend/ng-package.json",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fng-package.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fng-package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fng-package.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\n+  \"dest\": \"../../dist/ng-devtools-backend\",\n+  \"lib\": {\n+    \"entryFile\": \"src/public-api.ts\"\n+  }\n+}"
        },
        {
            "sha": "e22e09778307a8de78b92c08ca11dec5ca3bb436",
            "filename": "devtools/projects/ng-devtools-backend/package.json",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fpackage.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,8 @@\n+{\n+  \"name\": \"ng-devtools-backend\",\n+  \"version\": \"0.0.1\",\n+  \"peerDependencies\": {\n+    \"@angular/common\": \"^13.0.0\",\n+    \"@angular/core\": \"^13.0.0\"\n+  }\n+}"
        },
        {
            "sha": "2ac24bf3b5cf6acd2a966794f060568fc305a23a",
            "filename": "devtools/projects/ng-devtools-backend/src/BUILD.bazel",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"src\",\n+    srcs = [\"public-api.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src/lib\",\n+        \"//projects/ng-devtools-backend/src/lib:component-tree\",\n+    ],\n+)"
        },
        {
            "sha": "9c4cd539ee8d5f41cf88a5c73569a771861a0e97",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/BUILD.bazel",
            "status": "added",
            "additions": 163,
            "deletions": 0,
            "changes": 163,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,163 @@\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"lib\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \":client-event-subscribers\",\n+        \"//projects/ng-devtools-backend/src/lib/component-inspector\",\n+        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//projects/ng-devtools-backend/src/lib/state-serializer\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"highlighter-test\",\n+    deps = [\n+        \":highlighter-test-lib\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"highlighter-test-lib\",\n+    srcs = [\n+        \"highlighter.spec.ts\",\n+    ],\n+    deps = [\n+        \":highlighter\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/platform-browser-dynamic\",\n+        \"@npm//@types\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"highlighter\",\n+    srcs = [\"highlighter.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+)\n+\n+ts_project(\n+    name = \"interfaces\",\n+    srcs = [\"interfaces.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"router-tree-test\",\n+    deps = [\n+        \":router-tree-test-lib\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"router-tree-test-lib\",\n+    srcs = [\n+        \"router-tree.spec.ts\",\n+    ],\n+    deps = [\n+        \":router-tree\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/platform-browser-dynamic\",\n+        \"@npm//@angular/router\",\n+        \"@npm//@types\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"router-tree\",\n+    srcs = [\"router-tree.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"set-console-reference\",\n+    srcs = [\"set-console-reference.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \":interfaces\",\n+        \"//projects/protocol\",\n+        \"//projects/shared-utils\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"utils\",\n+    srcs = [\"utils.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+)\n+\n+ts_project(\n+    name = \"version\",\n+    srcs = [\"version.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+)\n+\n+ts_project(\n+    name = \"client-event-subscribers\",\n+    srcs = [\"client-event-subscribers.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \":angular-check\",\n+        \":component-tree\",\n+        \":highlighter\",\n+        \":interfaces\",\n+        \":set-console-reference\",\n+        \":utils\",\n+        \"//projects/ng-devtools-backend/src/lib/component-inspector\",\n+        \"//projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//projects/ng-devtools-backend/src/lib/state-serializer\",\n+        \"//projects/protocol\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"component-tree\",\n+    srcs = [\"component-tree.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \":interfaces\",\n+        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//projects/ng-devtools-backend/src/lib/state-serializer\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"angular-check-test\",\n+    deps = [\n+        \":angular-check-test-lib\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"angular-check-test-lib\",\n+    srcs = [\n+        \"angular-check.spec.ts\",\n+    ],\n+    deps = [\n+        \":angular-check\",\n+        \"@npm//@types\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"angular-check\",\n+    srcs = [\"angular-check.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+)"
        },
        {
            "sha": "53f73d5b0c7914e337ff74aa461ea435e15bf846",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/angular-check.spec.ts",
            "status": "added",
            "additions": 109,
            "deletions": 0,
            "changes": 109,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fangular-check.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fangular-check.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fangular-check.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,109 @@\n+import {\n+  appIsAngularInDevMode,\n+  appIsAngularIvy,\n+  appIsAngular,\n+  appIsSupportedAngularVersion,\n+  getAngularVersion,\n+} from './angular-check';\n+\n+const setNgVersion = (version = '12.0.0'): void => document.documentElement.setAttribute('ng-version', version);\n+const removeNgVersion = (): void => document.documentElement.removeAttribute('ng-version');\n+\n+describe('angular-check', () => {\n+  afterEach(() => removeNgVersion());\n+\n+  describe('getAngularVersion', () => {\n+    it('should return the angular version', () => {\n+      setNgVersion('11.1.1');\n+      expect(getAngularVersion()).toBe('11.1.1');\n+    });\n+  });\n+\n+  describe('appIsSupportedAngularVersion', () => {\n+    it('should work with g3', () => {\n+      setNgVersion('0.0.0-placeholder');\n+      expect(appIsSupportedAngularVersion()).toBeTrue();\n+    });\n+\n+    it('should work with new versions', () => {\n+      setNgVersion('9.0.0');\n+      expect(appIsSupportedAngularVersion()).toBeTrue();\n+    });\n+\n+    it('should return false for older version', () => {\n+      setNgVersion('8.0.0');\n+      expect(appIsSupportedAngularVersion()).toBeFalse();\n+    });\n+\n+    it('should return false for no version', () => {\n+      expect(appIsSupportedAngularVersion()).toBeFalse();\n+    });\n+  });\n+\n+  describe('appIsAngular', () => {\n+    it('should return true for older version', () => {\n+      setNgVersion('8.0.0');\n+      expect(appIsAngular()).toBeTrue();\n+    });\n+\n+    it('should return false for no version', () => {\n+      expect(appIsAngular()).toBeFalse();\n+    });\n+  });\n+\n+  describe('appIsAngularIvy', () => {\n+    it('should not recognize VE apps', () => {\n+      (window as any).ng = {\n+        probe(): void {},\n+      };\n+      setNgVersion();\n+      expect(appIsAngularIvy()).toBeFalse();\n+    });\n+\n+    it('should not recognize no Angular apps', () => {\n+      expect(appIsAngularIvy()).toBeFalse();\n+    });\n+\n+    it('should recognize Ivy apps', () => {\n+      (window as any).getAllAngularRootElements = (): Element[] => {\n+        const el = document.createElement('div');\n+        (el as any).__ngContext__ = 0;\n+        return [el];\n+      };\n+      expect(appIsAngularIvy()).toBeTrue();\n+      delete (window as any).getAllAngularRootElements;\n+    });\n+  });\n+\n+  describe('appIsAngularInDevMode', () => {\n+    afterEach(() => {\n+      delete (window as any).ng;\n+    });\n+\n+    it('should detect VE apps', () => {\n+      (window as any).ng = {\n+        probe(): void {},\n+      };\n+      setNgVersion();\n+\n+      expect(appIsAngularInDevMode()).toBeTrue();\n+    });\n+\n+    it('should detect Ivy apps', () => {\n+      (window as any).ng = {\n+        getComponent(): void {},\n+      };\n+      setNgVersion();\n+      expect(appIsAngularInDevMode()).toBeTrue();\n+    });\n+\n+    it('should not detect apps if `ng` is not an object with the right shape', () => {\n+      setNgVersion();\n+      (window as any).ng = {};\n+      expect(appIsAngularInDevMode()).toBeFalse();\n+\n+      (window as any).ng = () => {};\n+      expect(appIsAngularInDevMode()).toBeFalse();\n+    });\n+  });\n+});"
        },
        {
            "sha": "a73c95dfd1b995841f2244cec0f9619d1d89c0fe",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/angular-check.ts",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fangular-check.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fangular-check.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fangular-check.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,46 @@\n+declare const ng: any;\n+\n+export const appIsAngularInDevMode = (): boolean => {\n+  return appIsAngular() && appHasGlobalNgDebugObject();\n+};\n+\n+export const appIsAngularIvy = (): boolean => {\n+  return typeof (window as any).getAllAngularRootElements?.()?.[0]?.__ngContext__ !== 'undefined';\n+};\n+\n+export const appIsAngular = (): boolean => {\n+  return !!getAngularVersion();\n+};\n+\n+export const appIsSupportedAngularVersion = (): boolean => {\n+  const version = getAngularVersion();\n+  if (!version) {\n+    return false;\n+  }\n+  const major = parseInt(version.toString().split('.')[0], 10);\n+  return appIsAngular() && (major >= 9 || major === 0);\n+};\n+\n+/**\n+ * We check if the global `window.ng` is an object and if this object\n+ * has the `getComponent` or `probe` methods attached to it.\n+ *\n+ * `ng.probe` is a view engine method, but to ensure that we correctly\n+ * detect development mode we need to consider older rendering engines.\n+ *\n+ * In some g3 apps processed with Closure, `ng` is a function,\n+ * which means that `typeof ng !== 'undefined'` is not a sufficient check.\n+ *\n+ * @returns if the app has global ng debug object\n+ */\n+const appHasGlobalNgDebugObject = (): boolean => {\n+  return typeof ng === 'object' && (typeof ng.getComponent === 'function' || typeof ng.probe === 'function');\n+};\n+\n+export const getAngularVersion = (): string | null => {\n+  const el = document.querySelector('[ng-version]');\n+  if (!el) {\n+    return null;\n+  }\n+  return el.getAttribute('ng-version');\n+};"
        },
        {
            "sha": "529e26ead76ba50c6d508aef343d2d18153db466",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/client-event-subscribers.ts",
            "status": "added",
            "additions": 218,
            "deletions": 0,
            "changes": 218,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fclient-event-subscribers.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fclient-event-subscribers.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fclient-event-subscribers.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,218 @@\n+import {\n+  DirectivePosition,\n+  ElementPosition,\n+  Events,\n+  MessageBus,\n+  DevToolsNode,\n+  DirectiveType,\n+  ComponentType,\n+  ProfilerFrame,\n+  ComponentExplorerViewQuery,\n+} from 'protocol';\n+import { ComponentTreeNode } from './interfaces';\n+import { getLatestComponentState, queryDirectiveForest, updateState } from './component-tree';\n+import { start as startProfiling, stop as stopProfiling } from './hooks/capture';\n+import { serializeDirectiveState } from './state-serializer/state-serializer';\n+import { ComponentInspector } from './component-inspector/component-inspector';\n+import { setConsoleReference } from './set-console-reference';\n+import { unHighlight } from './highlighter';\n+import {\n+  getAngularVersion,\n+  appIsAngularInDevMode,\n+  appIsSupportedAngularVersion,\n+  appIsAngularIvy,\n+} from './angular-check';\n+import { debounceTime } from 'rxjs/operators';\n+import { disableTimingAPI, enableTimingAPI, initializeOrGetDirectiveForestHooks } from './hooks';\n+import { runOutsideAngular } from './utils';\n+\n+export const subscribeToClientEvents = (messageBus: MessageBus<Events>): void => {\n+  messageBus.on('shutdown', shutdownCallback(messageBus));\n+\n+  messageBus.on('getLatestComponentExplorerView', getLatestComponentExplorerViewCallback(messageBus));\n+\n+  messageBus.on('queryNgAvailability', checkForAngularCallback(messageBus));\n+\n+  messageBus.on('startProfiling', startProfilingCallback(messageBus));\n+  messageBus.on('stopProfiling', stopProfilingCallback(messageBus));\n+\n+  messageBus.on('setSelectedComponent', selectedComponentCallback);\n+\n+  messageBus.on('getNestedProperties', getNestedPropertiesCallback(messageBus));\n+  messageBus.on('getRoutes', getRoutesCallback(messageBus));\n+\n+  messageBus.on('updateState', updateState);\n+\n+  messageBus.on('enableTimingAPI', enableTimingAPI);\n+  messageBus.on('disableTimingAPI', disableTimingAPI);\n+\n+  if (appIsAngularInDevMode() && appIsSupportedAngularVersion() && appIsAngularIvy()) {\n+    setupInspector(messageBus);\n+    // Often websites have `scroll` event listener which triggers\n+    // Angular's change detection. We don't want to constantly send\n+    // update requests, instead we want to request an update at most\n+    // once every 250ms\n+    runOutsideAngular(() => {\n+      initializeOrGetDirectiveForestHooks()\n+        .profiler.changeDetection$.pipe(debounceTime(250))\n+        .subscribe(() => messageBus.emit('componentTreeDirty'));\n+    });\n+  }\n+};\n+\n+//\n+// Callback Definitions\n+//\n+\n+const shutdownCallback = (messageBus: MessageBus<Events>) => () => {\n+  messageBus.destroy();\n+};\n+\n+const getLatestComponentExplorerViewCallback =\n+  (messageBus: MessageBus<Events>) => (query?: ComponentExplorerViewQuery) => {\n+    // We want to force re-indexing of the component tree.\n+    // Pressing the refresh button means the user saw stuck UI.\n+\n+    initializeOrGetDirectiveForestHooks().indexForest();\n+\n+    if (!query) {\n+      messageBus.emit('latestComponentExplorerView', [\n+        {\n+          forest: prepareForestForSerialization(initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest()),\n+        },\n+      ]);\n+      return;\n+    }\n+    messageBus.emit('latestComponentExplorerView', [\n+      {\n+        forest: prepareForestForSerialization(initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest()),\n+        properties: getLatestComponentState(query, initializeOrGetDirectiveForestHooks().getDirectiveForest()),\n+      },\n+    ]);\n+  };\n+\n+const checkForAngularCallback = (messageBus: MessageBus<Events>) => () => checkForAngular(messageBus);\n+const getRoutesCallback = (messageBus: MessageBus<Events>) => () => getRoutes(messageBus);\n+\n+const startProfilingCallback = (messageBus: MessageBus<Events>) => () =>\n+  startProfiling((frame: ProfilerFrame) => {\n+    messageBus.emit('sendProfilerChunk', [frame]);\n+  });\n+\n+const stopProfilingCallback = (messageBus: MessageBus<Events>) => () => {\n+  messageBus.emit('profilerResults', [stopProfiling()]);\n+};\n+\n+const selectedComponentCallback = (position: ElementPosition) => {\n+  const node = queryDirectiveForest(position, initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest());\n+  setConsoleReference({ node, position });\n+};\n+\n+const getNestedPropertiesCallback =\n+  (messageBus: MessageBus<Events>) => (position: DirectivePosition, propPath: string[]) => {\n+    const emitEmpty = () => messageBus.emit('nestedProperties', [position, { props: {} }, propPath]);\n+    const node = queryDirectiveForest(\n+      position.element,\n+      initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest()\n+    );\n+    if (!node) {\n+      return emitEmpty();\n+    }\n+    const current = position.directive === undefined ? node.component : node.directives[position.directive];\n+    if (!current) {\n+      return emitEmpty();\n+    }\n+    let data = current.instance;\n+    for (const prop of propPath) {\n+      data = data[prop];\n+      if (!data) {\n+        console.error('Cannot access the properties', propPath, 'of', node);\n+      }\n+    }\n+    messageBus.emit('nestedProperties', [position, { props: serializeDirectiveState(data) }, propPath]);\n+  };\n+\n+//\n+// Subscribe Helpers\n+//\n+\n+// todo: parse router tree with framework APIs after they are developed\n+const getRoutes = (messageBus: MessageBus<Events>) => {\n+  // Return empty router tree to disable tab.\n+  messageBus.emit('updateRouterTree', [[]]);\n+};\n+\n+const checkForAngular = (messageBus: MessageBus<Events>): void => {\n+  const ngVersion = getAngularVersion();\n+  const appIsIvy = appIsAngularIvy();\n+  if (!ngVersion) {\n+    setTimeout(() => checkForAngular(messageBus), 500);\n+    return;\n+  }\n+\n+  if (appIsIvy && appIsAngularInDevMode() && appIsSupportedAngularVersion()) {\n+    initializeOrGetDirectiveForestHooks();\n+  }\n+\n+  messageBus.emit('ngAvailability', [\n+    { version: ngVersion.toString(), devMode: appIsAngularInDevMode(), ivy: appIsIvy },\n+  ]);\n+};\n+\n+const setupInspector = (messageBus: MessageBus<Events>) => {\n+  const inspector = new ComponentInspector({\n+    onComponentEnter: (id: number) => {\n+      messageBus.emit('highlightComponent', [id]);\n+    },\n+    onComponentLeave: () => {\n+      messageBus.emit('removeComponentHighlight');\n+    },\n+    onComponentSelect: (id: number) => {\n+      messageBus.emit('selectComponent', [id]);\n+    },\n+  });\n+\n+  messageBus.on('inspectorStart', inspector.startInspecting);\n+  messageBus.on('inspectorEnd', inspector.stopInspecting);\n+\n+  messageBus.on('createHighlightOverlay', (position: ElementPosition) => {\n+    inspector.highlightByPosition(position);\n+  });\n+  messageBus.on('removeHighlightOverlay', unHighlight);\n+};\n+\n+export interface SerializableDirectiveInstanceType extends DirectiveType {\n+  id: number;\n+}\n+\n+export interface SerializableComponentInstanceType extends ComponentType {\n+  id: number;\n+}\n+\n+export interface SerializableComponentTreeNode\n+  extends DevToolsNode<SerializableDirectiveInstanceType, SerializableComponentInstanceType> {\n+  children: SerializableComponentTreeNode[];\n+}\n+\n+// Here we drop properties to prepare the tree for serialization.\n+// We don't need the component instance, so we just traverse the tree\n+// and leave the component name.\n+const prepareForestForSerialization = (roots: ComponentTreeNode[]): SerializableComponentTreeNode[] => {\n+  return roots.map((node) => {\n+    return {\n+      element: node.element,\n+      component: node.component\n+        ? {\n+            name: node.component.name,\n+            isElement: node.component.isElement,\n+            id: initializeOrGetDirectiveForestHooks().getDirectiveId(node.component.instance),\n+          }\n+        : null,\n+      directives: node.directives.map((d) => ({\n+        name: d.name,\n+        id: initializeOrGetDirectiveForestHooks().getDirectiveId(d.instance),\n+      })),\n+      children: prepareForestForSerialization(node.children),\n+    } as SerializableComponentTreeNode;\n+  });\n+};"
        },
        {
            "sha": "5e23bacd4ffee273cdb8eb21bda76c8f1006511c",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/component-inspector/BUILD.bazel",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,41 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"component-inspector\",\n+    srcs = [\"component-inspector.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src/lib:component-tree\",\n+        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\":test-lib\"],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"component-inspector.spec.ts\",\n+    ],\n+    deps = [\n+        \":component-inspector\",\n+        \"//projects/ng-devtools-backend/src/lib:component-tree\",\n+        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//projects/ng-devtools-backend/src/lib:utils\",\n+        \"//projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+    ],\n+)"
        },
        {
            "sha": "250c2e321781eeffe147ca23a26e2e82e0426a3b",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/component-inspector/component-inspector.spec.ts",
            "status": "added",
            "additions": 37,
            "deletions": 0,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2Fcomponent-inspector.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2Fcomponent-inspector.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2Fcomponent-inspector.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,37 @@\n+import { ComponentInspector } from './component-inspector';\n+\n+describe('ComponentInspector', () => {\n+  it('should create instance from class', () => {\n+    const inspector = new ComponentInspector();\n+    expect(inspector).toBeTruthy();\n+  });\n+\n+  it('should add event listeners to window on start inspecting', () => {\n+    const eventsSpy = spyOn(window, 'addEventListener');\n+    const inspector = new ComponentInspector();\n+    inspector.startInspecting();\n+    expect(eventsSpy).toHaveBeenCalledTimes(3);\n+    expect(eventsSpy).toHaveBeenCalledWith('mouseover', jasmine.any(Function), true);\n+    expect(eventsSpy).toHaveBeenCalledWith('click', jasmine.any(Function), true);\n+    expect(eventsSpy).toHaveBeenCalledWith('mouseout', jasmine.any(Function), true);\n+  });\n+\n+  it('should remove event listeners from window on stop inspecting', () => {\n+    const eventsSpy = spyOn(window, 'removeEventListener');\n+    const inspector = new ComponentInspector();\n+    inspector.stopInspecting();\n+    expect(eventsSpy).toHaveBeenCalledTimes(3);\n+    expect(eventsSpy).toHaveBeenCalledWith('mouseover', jasmine.any(Function), true);\n+    expect(eventsSpy).toHaveBeenCalledWith('click', jasmine.any(Function), true);\n+    expect(eventsSpy).toHaveBeenCalledWith('mouseout', jasmine.any(Function), true);\n+  });\n+\n+  it('should cancel events from mouse after start inspecting', () => {\n+    const inspector = new ComponentInspector();\n+    const mouseEventSpy = jasmine.createSpyObj('e', ['stopImmediatePropagation', 'preventDefault']);\n+    inspector.startInspecting();\n+    inspector.cancelEvent(mouseEventSpy);\n+    expect(mouseEventSpy.stopImmediatePropagation).toHaveBeenCalledTimes(1);\n+    expect(mouseEventSpy.preventDefault).toHaveBeenCalledTimes(1);\n+  });\n+});"
        },
        {
            "sha": "5876003a1b52b2a43ba13851e12624fb508c5d3e",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/component-inspector/component-inspector.ts",
            "status": "added",
            "additions": 92,
            "deletions": 0,
            "changes": 92,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2Fcomponent-inspector.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2Fcomponent-inspector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2Fcomponent-inspector.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,92 @@\n+import { unHighlight, highlight, findComponentAndHost } from '../highlighter';\n+import { findNodeInForest } from '../component-tree';\n+import { ComponentTreeNode } from '../interfaces';\n+import { ElementPosition } from 'protocol';\n+import { initializeOrGetDirectiveForestHooks } from '../hooks';\n+\n+interface Type<T> extends Function {\n+  new (...args: any[]): T;\n+}\n+export interface ComponentInspectorOptions {\n+  onComponentEnter: (id: number) => void;\n+  onComponentSelect: (id: number) => void;\n+  onComponentLeave: () => void;\n+}\n+\n+export class ComponentInspector {\n+  private _selectedComponent: { component: Type<unknown>; host: HTMLElement | null };\n+  private readonly _onComponentEnter;\n+  private readonly _onComponentSelect;\n+  private readonly _onComponentLeave;\n+\n+  constructor(\n+    componentOptions: ComponentInspectorOptions = {\n+      onComponentEnter: () => {},\n+      onComponentLeave: () => {},\n+      onComponentSelect: () => {},\n+    }\n+  ) {\n+    this.bindMethods();\n+    this._onComponentEnter = componentOptions.onComponentEnter;\n+    this._onComponentSelect = componentOptions.onComponentSelect;\n+    this._onComponentLeave = componentOptions.onComponentLeave;\n+  }\n+\n+  startInspecting(): void {\n+    window.addEventListener('mouseover', this.elementMouseOver, true);\n+    window.addEventListener('click', this.elementClick, true);\n+    window.addEventListener('mouseout', this.cancelEvent, true);\n+  }\n+\n+  stopInspecting(): void {\n+    window.removeEventListener('mouseover', this.elementMouseOver, true);\n+    window.removeEventListener('click', this.elementClick, true);\n+    window.removeEventListener('mouseout', this.cancelEvent, true);\n+  }\n+\n+  elementClick(e: MouseEvent): void {\n+    e.stopImmediatePropagation();\n+    e.preventDefault();\n+\n+    if (this._selectedComponent.component && this._selectedComponent.host) {\n+      this._onComponentSelect(initializeOrGetDirectiveForestHooks().getDirectiveId(this._selectedComponent.component));\n+    }\n+  }\n+\n+  elementMouseOver(e: MouseEvent): void {\n+    this.cancelEvent(e);\n+\n+    const el = e.target as HTMLElement;\n+    if (el) {\n+      this._selectedComponent = findComponentAndHost(el);\n+    }\n+\n+    unHighlight();\n+    if (this._selectedComponent.component && this._selectedComponent.host) {\n+      highlight(this._selectedComponent.host);\n+      this._onComponentEnter(initializeOrGetDirectiveForestHooks().getDirectiveId(this._selectedComponent.component));\n+    }\n+  }\n+\n+  cancelEvent(e: MouseEvent): void {\n+    e.stopImmediatePropagation();\n+    e.preventDefault();\n+    this._onComponentLeave();\n+  }\n+\n+  bindMethods(): void {\n+    this.startInspecting = this.startInspecting.bind(this);\n+    this.stopInspecting = this.stopInspecting.bind(this);\n+    this.elementMouseOver = this.elementMouseOver.bind(this);\n+    this.elementClick = this.elementClick.bind(this);\n+    this.cancelEvent = this.cancelEvent.bind(this);\n+  }\n+\n+  highlightByPosition(position: ElementPosition): void {\n+    const forest: ComponentTreeNode[] = initializeOrGetDirectiveForestHooks().getDirectiveForest();\n+    const elementToHighlight: HTMLElement | null = findNodeInForest(position, forest);\n+    if (elementToHighlight) {\n+      highlight(elementToHighlight);\n+    }\n+  }\n+}"
        },
        {
            "sha": "1856b6467315bb689f48d130a6fe101bec5a4be4",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/component-tree.ts",
            "status": "added",
            "additions": 208,
            "deletions": 0,
            "changes": 208,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-tree.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-tree.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-tree.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,208 @@\n+import { deeplySerializeSelectedProperties, serializeDirectiveState } from './state-serializer/state-serializer';\n+\n+import {\n+  ComponentExplorerViewQuery,\n+  DirectiveMetadata,\n+  DirectivesProperties,\n+  ElementPosition,\n+  PropertyQueryTypes,\n+  UpdatedStateData,\n+} from 'protocol';\n+import { buildDirectiveTree, getLViewFromDirectiveOrElementInstance } from './directive-forest/index';\n+\n+// Need to be kept in sync with Angular framework\n+// We can't directly import it from framework now\n+// because this also pulls up the security policies\n+// for Trusted Types, which we reinstantiate.\n+enum ChangeDetectionStrategy {\n+  OnPush = 0,\n+  Default = 1,\n+}\n+\n+import { ComponentTreeNode, DirectiveInstanceType, ComponentInstanceType } from './interfaces';\n+\n+const ngDebug = () => (window as any).ng;\n+\n+export const getLatestComponentState = (\n+  query: ComponentExplorerViewQuery,\n+  directiveForest?: ComponentTreeNode[]\n+): DirectivesProperties | undefined => {\n+  // if a directive forest is passed in we don't have to build the forest again.\n+  directiveForest = directiveForest ?? buildDirectiveForest();\n+\n+  const node = queryDirectiveForest(query.selectedElement, directiveForest);\n+  if (!node) {\n+    return;\n+  }\n+\n+  const result: DirectivesProperties = {};\n+\n+  const populateResultSet = (dir: DirectiveInstanceType | ComponentInstanceType) => {\n+    if (query.propertyQuery.type === PropertyQueryTypes.All) {\n+      result[dir.name] = {\n+        props: serializeDirectiveState(dir.instance),\n+        metadata: getDirectiveMetadata(dir.instance),\n+      };\n+    }\n+    if (query.propertyQuery.type === PropertyQueryTypes.Specified) {\n+      result[dir.name] = {\n+        props: deeplySerializeSelectedProperties(dir.instance, query.propertyQuery.properties[dir.name] || []),\n+        metadata: getDirectiveMetadata(dir.instance),\n+      };\n+    }\n+  };\n+\n+  node.directives.forEach(populateResultSet);\n+  if (node.component) {\n+    populateResultSet(node.component);\n+  }\n+\n+  return result;\n+};\n+\n+const enum DirectiveMetadataKey {\n+  INPUTS = 'inputs',\n+  OUTPUTS = 'outputs',\n+  ENCAPSULATION = 'encapsulation',\n+  ON_PUSH = 'onPush',\n+}\n+\n+// Gets directive metadata. For newer versions of Angular (v12+) it uses\n+// the global `getDirectiveMetadata`. For prior versions of the framework\n+// the method directly interacts with the directive/component definition.\n+export const getDirectiveMetadata = (dir: any): DirectiveMetadata => {\n+  const getMetadata = (window as any).ng.getDirectiveMetadata;\n+  if (getMetadata) {\n+    const metadata = getMetadata(dir);\n+    if (metadata) {\n+      return {\n+        inputs: metadata.inputs,\n+        outputs: metadata.outputs,\n+        encapsulation: metadata.encapsulation,\n+        onPush: metadata.changeDetection === ChangeDetectionStrategy.OnPush,\n+      };\n+    }\n+  }\n+\n+  // Used in older Angular versions, prior to the introduction of `getDirectiveMetadata`.\n+  const safelyGrabMetadata = (key: DirectiveMetadataKey) => {\n+    try {\n+      return dir.constructor.cmp ? dir.constructor.cmp[key] : dir.constructor.dir[key];\n+    } catch {\n+      console.warn(`Could not find metadata for key: ${key} in directive:`, dir);\n+      return undefined;\n+    }\n+  };\n+\n+  return {\n+    inputs: safelyGrabMetadata(DirectiveMetadataKey.INPUTS),\n+    outputs: safelyGrabMetadata(DirectiveMetadataKey.OUTPUTS),\n+    encapsulation: safelyGrabMetadata(DirectiveMetadataKey.ENCAPSULATION),\n+    onPush: safelyGrabMetadata(DirectiveMetadataKey.ON_PUSH),\n+  };\n+};\n+\n+const getRootLViewsHelper = (element: Element, rootLViews = new Set<any>()): Set<any> => {\n+  if (!(element instanceof HTMLElement)) {\n+    return rootLViews;\n+  }\n+  const lView = getLViewFromDirectiveOrElementInstance(element);\n+  if (lView) {\n+    rootLViews.add(lView);\n+    return rootLViews;\n+  }\n+  // tslint:disable-next-line: prefer-for-of\n+  for (let i = 0; i < element.children.length; i++) {\n+    getRootLViewsHelper(element.children[i], rootLViews);\n+  }\n+  return rootLViews;\n+};\n+\n+const getRoots = () => {\n+  const roots = Array.from(document.documentElement.querySelectorAll('[ng-version]'));\n+  const isTopLevel = (element: HTMLElement) => {\n+    let parent: HTMLElement | null = element;\n+    while (parent?.parentElement) {\n+      parent = parent.parentElement;\n+      if (parent.hasAttribute('ng-version')) {\n+        return false;\n+      }\n+    }\n+    return true;\n+  };\n+  return roots.filter(isTopLevel);\n+};\n+\n+export const buildDirectiveForest = (): ComponentTreeNode[] => {\n+  const roots = getRoots();\n+  return Array.prototype.concat.apply([], Array.from(roots).map(buildDirectiveTree));\n+};\n+\n+// Based on an ElementID we return a specific component node.\n+// If we can't find any, we return null.\n+export const queryDirectiveForest = (\n+  position: ElementPosition,\n+  forest: ComponentTreeNode[]\n+): ComponentTreeNode | null => {\n+  if (!position.length) {\n+    return null;\n+  }\n+  let node: null | ComponentTreeNode = null;\n+  for (const i of position) {\n+    node = forest[i];\n+    if (!node) {\n+      return null;\n+    }\n+    forest = node.children;\n+  }\n+  return node;\n+};\n+\n+export const findNodeInForest = (position: ElementPosition, forest: ComponentTreeNode[]): HTMLElement | null => {\n+  const foundComponent: ComponentTreeNode | null = queryDirectiveForest(position, forest);\n+  return foundComponent ? (foundComponent.nativeElement as HTMLElement) : null;\n+};\n+\n+export const findNodeFromSerializedPosition = (serializedPosition: string): ComponentTreeNode | null => {\n+  const position: number[] = serializedPosition.split(',').map((index) => parseInt(index, 10));\n+  return queryDirectiveForest(position, buildDirectiveForest());\n+};\n+\n+export const updateState = (updatedStateData: UpdatedStateData): void => {\n+  const ngd = ngDebug();\n+  const node = queryDirectiveForest(updatedStateData.directiveId.element, buildDirectiveForest());\n+  if (!node) {\n+    console.warn('Could not update the state of component', updatedStateData, 'because the component was not found');\n+    return;\n+  }\n+  if (updatedStateData.directiveId.directive !== undefined) {\n+    const directive = node.directives[updatedStateData.directiveId.directive].instance;\n+    mutateComponentOrDirective(updatedStateData, directive);\n+    ngd.applyChanges(ngd.getOwningComponent(directive));\n+    return;\n+  }\n+  if (node.component) {\n+    const comp = node.component.instance;\n+    mutateComponentOrDirective(updatedStateData, comp);\n+    ngd.applyChanges(comp);\n+    return;\n+  }\n+};\n+\n+const mutateComponentOrDirective = (updatedStateData: UpdatedStateData, compOrDirective: any) => {\n+  const valueKey = updatedStateData.keyPath.pop();\n+  if (valueKey === undefined) {\n+    return;\n+  }\n+\n+  let parentObjectOfValueToUpdate = compOrDirective;\n+  updatedStateData.keyPath.forEach((key) => {\n+    parentObjectOfValueToUpdate = parentObjectOfValueToUpdate[key];\n+  });\n+\n+  // When we try to set a property which only has a getter\n+  // the line below could throw an error.\n+  try {\n+    parentObjectOfValueToUpdate[valueKey] = updatedStateData.newValue;\n+  } catch {}\n+};"
        },
        {
            "sha": "80bec7869b7340173101a6ae0f2840c047805572",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/directive-forest/BUILD.bazel",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,41 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"directive-forest\",\n+    srcs = glob(\n+        include = [\"*.ts\"],\n+        exclude = [\"*.spec.ts\"],\n+    ),\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//projects/ng-devtools-backend/src/lib:utils\",\n+        \"//projects/ng-devtools-backend/src/lib:version\",\n+        \"@npm//semver-dsl\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":test-lib\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"render-tree.spec.ts\",\n+    ],\n+    deps = [\n+        \":directive-forest\",\n+        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//projects/ng-devtools-backend/src/lib:utils\",\n+        \"@npm//@types\",\n+    ],\n+)"
        },
        {
            "sha": "d6933373736b4beb147057b8531c154da4d0708e",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/directive-forest/index.ts",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+import { LTreeStrategy } from './ltree';\n+import { RTreeStrategy } from './render-tree';\n+\n+export { getLViewFromDirectiveOrElementInstance, getDirectiveHostElement, METADATA_PROPERTY_NAME } from './ltree';\n+\n+// The order of the strategies matters. Lower indices have higher priority.\n+const strategies = [new RTreeStrategy(), new LTreeStrategy()];\n+\n+let strategy: null | RTreeStrategy | LTreeStrategy = null;\n+\n+const selectStrategy = (element: Element) => {\n+  for (const s of strategies) {\n+    if (s.supports(element)) {\n+      return s;\n+    }\n+  }\n+  return null;\n+};\n+\n+export const buildDirectiveTree = (element: Element) => {\n+  if (!strategy) {\n+    strategy = selectStrategy(element);\n+  }\n+  if (!strategy) {\n+    console.error('Unable to parse the component tree');\n+    return [];\n+  }\n+  return strategy.build(element);\n+};"
        },
        {
            "sha": "8e95acf20949e2be07789d9e6130f1643abe71d0",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/directive-forest/ltree.ts",
            "status": "added",
            "additions": 139,
            "deletions": 0,
            "changes": 139,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Fltree.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Fltree.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Fltree.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,139 @@\n+import { ComponentTreeNode, DirectiveInstanceType, ComponentInstanceType } from '../interfaces';\n+import { isCustomElement } from '../utils';\n+import { getDirectiveName } from '../highlighter';\n+import { SemVerDSL } from 'semver-dsl';\n+import { VERSION } from '../version';\n+\n+let HEADER_OFFSET = 19;\n+\n+const latest = () => {\n+  HEADER_OFFSET = 20;\n+};\n+\n+SemVerDSL(VERSION).gte('10.0.0-next.4', latest);\n+\n+// In g3 everyone has version 0.0.0, using HEAD from master.\n+SemVerDSL(VERSION).eq('0.0.0', latest);\n+\n+const TYPE = 1;\n+const ELEMENT = 0;\n+const LVIEW_TVIEW = 1;\n+\n+export const isLContainer = (value: any): boolean => {\n+  return Array.isArray(value) && value[TYPE] === true;\n+};\n+\n+const isLView = (value: any): boolean => {\n+  return Array.isArray(value) && typeof value[TYPE] === 'object';\n+};\n+\n+export const METADATA_PROPERTY_NAME = '__ngContext__';\n+export const getLViewFromDirectiveOrElementInstance = (dir: any): null | {} => {\n+  if (!dir) {\n+    return null;\n+  }\n+  const context = dir[METADATA_PROPERTY_NAME];\n+  if (!context) {\n+    return null;\n+  }\n+  if (isLView(context)) {\n+    return context;\n+  }\n+  return context.lView;\n+};\n+\n+export const getDirectiveHostElement = (dir: any) => {\n+  if (!dir) {\n+    return false;\n+  }\n+  const ctx = dir[METADATA_PROPERTY_NAME];\n+  if (!ctx) {\n+    return false;\n+  }\n+  if (ctx[0] !== null) {\n+    return ctx[0];\n+  }\n+  const components = ctx[LVIEW_TVIEW].components;\n+  if (!components || components.length !== 1) {\n+    return false;\n+  }\n+  return ctx[components[0]][0];\n+};\n+\n+export class LTreeStrategy {\n+  supports(element: Element): boolean {\n+    return typeof (element as any).__ngContext__ !== 'undefined';\n+  }\n+\n+  private _getNode(lView: any, data: any, idx: number): ComponentTreeNode {\n+    const directives: DirectiveInstanceType[] = [];\n+    let component: ComponentInstanceType | null = null;\n+    const tNode = data[idx];\n+    const node = lView[idx][ELEMENT];\n+    const element = (node.tagName || node.nodeName).toLowerCase();\n+    if (!tNode) {\n+      return {\n+        nativeElement: node,\n+        children: [],\n+        element,\n+        directives: [],\n+        component: null,\n+      };\n+    }\n+    for (let i = tNode.directiveStart; i < tNode.directiveEnd; i++) {\n+      const instance = lView[i];\n+      const dirMeta = data[i];\n+      if (dirMeta && dirMeta.template) {\n+        component = {\n+          name: element,\n+          isElement: isCustomElement(node),\n+          instance,\n+        };\n+      } else if (dirMeta) {\n+        directives.push({\n+          name: getDirectiveName(instance),\n+          instance,\n+        });\n+      }\n+    }\n+    return {\n+      nativeElement: node,\n+      children: [],\n+      element,\n+      directives,\n+      component,\n+    };\n+  }\n+\n+  private _extract(lViewOrLContainer: any, nodes: ComponentTreeNode[] = []): ComponentTreeNode[] {\n+    if (isLContainer(lViewOrLContainer)) {\n+      for (let i = 9; i < lViewOrLContainer.length; i++) {\n+        if (lViewOrLContainer[i]) {\n+          this._extract(lViewOrLContainer[i], nodes);\n+        }\n+      }\n+      return nodes;\n+    }\n+    const lView = lViewOrLContainer;\n+    const tView = lView[LVIEW_TVIEW];\n+    for (let i = HEADER_OFFSET; i < lView.length; i++) {\n+      const lViewItem = lView[i];\n+      if (tView.data && Array.isArray(lViewItem) && lViewItem[ELEMENT] instanceof Node) {\n+        const node = this._getNode(lView, tView.data, i);\n+\n+        // TODO(mgechev): verify if this won't make us skip projected content.\n+        if (node.component || node.directives.length) {\n+          nodes.push(node);\n+          this._extract(lViewItem, node.children);\n+        }\n+      }\n+    }\n+    return nodes;\n+  }\n+\n+  build(element: Element, nodes: ComponentTreeNode[] = []): ComponentTreeNode[] {\n+    const ctx = (element as any).__ngContext__;\n+    const rootLView = ctx.lView ?? ctx;\n+    return this._extract(rootLView);\n+  }\n+}"
        },
        {
            "sha": "90191da352dedaa395943107eb450203bc86e185",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/directive-forest/render-tree.spec.ts",
            "status": "added",
            "additions": 101,
            "deletions": 0,
            "changes": 101,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Frender-tree.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Frender-tree.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Frender-tree.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,101 @@\n+import { RTreeStrategy } from './render-tree';\n+\n+describe('render tree extraction', () => {\n+  let treeStrategy: RTreeStrategy;\n+  let directiveMap: Map<Node, any[]>;\n+  let componentMap: Map<Element, any>;\n+\n+  beforeEach(() => {\n+    treeStrategy = new RTreeStrategy();\n+    directiveMap = new Map();\n+    componentMap = new Map();\n+\n+    (window as any).ng = {\n+      getDirectiveMetadata(): void {},\n+      getComponent(element: Element): any {\n+        return componentMap.get(element);\n+      },\n+      getDirectives(node: Node): any {\n+        return directiveMap.get(node) || [];\n+      },\n+    };\n+  });\n+\n+  afterEach(() => delete (window as any).ng);\n+\n+  it('should detect Angular Ivy apps', () => {\n+    expect(treeStrategy.supports({})).toBeTrue();\n+  });\n+\n+  it('should fail with detection of non-Ivy apps', () => {\n+    delete (window as any).ng.getDirectiveMetadata;\n+    expect(treeStrategy.supports({})).toBeFalse();\n+  });\n+\n+  it('should extract render tree from an empty element', () => {\n+    expect(treeStrategy.build(document.createElement('div'))).toEqual([]);\n+  });\n+\n+  it('should extract trees without structural directives', () => {\n+    const appNode = document.createElement('app');\n+    const childNode = document.createElement('child');\n+    const childDirectiveNode = document.createElement('div');\n+    appNode.appendChild(childNode);\n+    appNode.appendChild(childDirectiveNode);\n+\n+    const appComponent: any = {};\n+    const childComponent: any = {};\n+    const childDirective: any = {};\n+    componentMap.set(appNode, appComponent);\n+    componentMap.set(childNode, childComponent);\n+    directiveMap.set(childDirectiveNode, [childDirective]);\n+\n+    const rtree = treeStrategy.build(appNode);\n+    expect(rtree.length).toBe(1);\n+    expect(rtree[0].children.length).toBe(2);\n+    expect(rtree[0].children[0].component?.instance).toBe(childComponent);\n+    expect(rtree[0].children[1].component).toBe(null);\n+    expect(rtree[0].children[1].directives[0].instance).toBe(childDirective);\n+  });\n+\n+  it('should skip nodes without directives', () => {\n+    const appNode = document.createElement('app');\n+    const childNode = document.createElement('div');\n+    const childComponentNode = document.createElement('child');\n+    appNode.appendChild(childNode);\n+    childNode.appendChild(childComponentNode);\n+\n+    const appComponent: any = {};\n+    const childComponent: any = {};\n+    componentMap.set(appNode, appComponent);\n+    componentMap.set(childComponentNode, childComponent);\n+\n+    const rtree = treeStrategy.build(appNode);\n+    expect(rtree[0].children.length).toBe(1);\n+    expect(rtree[0].children[0].children.length).toBe(0);\n+  });\n+\n+  it('should go all the way to the root element to look up for nodes', () => {\n+    const rootNode = document.createElement('body');\n+    const siblingNode = document.createElement('section');\n+    const appNode = document.createElement('app');\n+    const childNode = document.createElement('div');\n+    const childComponentNode = document.createElement('child');\n+    rootNode.appendChild(appNode);\n+    rootNode.appendChild(siblingNode);\n+    appNode.appendChild(childNode);\n+    childNode.appendChild(childComponentNode);\n+\n+    const appComponent: any = {};\n+    const childComponent: any = {};\n+    const siblingComponent: any = {};\n+    componentMap.set(siblingNode, siblingComponent);\n+    componentMap.set(appNode, appComponent);\n+    componentMap.set(childComponentNode, childComponent);\n+\n+    const rtree = treeStrategy.build(appNode);\n+    expect(rtree[0].children.length).toBe(1);\n+    expect(rtree[0].children[0].children.length).toBe(0);\n+    expect(rtree[1].component?.instance).toBe(siblingComponent);\n+  });\n+});"
        },
        {
            "sha": "bb9a0a60d44932b455d80986cd59037952864735",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/directive-forest/render-tree.ts",
            "status": "added",
            "additions": 69,
            "deletions": 0,
            "changes": 69,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Frender-tree.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Frender-tree.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2Frender-tree.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,69 @@\n+import { ComponentTreeNode } from '../interfaces';\n+import { isCustomElement } from '../utils';\n+\n+const extractViewTree = (\n+  domNode: Node | Element,\n+  result: ComponentTreeNode[],\n+  getComponent: (element: Element) => {},\n+  getDirectives: (node: Node) => {}[]\n+): ComponentTreeNode[] => {\n+  const directives = getDirectives(domNode);\n+  if (!directives.length && !(domNode instanceof Element)) {\n+    return result;\n+  }\n+  const componentTreeNode: ComponentTreeNode = {\n+    children: [],\n+    component: null,\n+    directives: directives.map((dir) => {\n+      return {\n+        instance: dir,\n+        name: dir.constructor.name,\n+      };\n+    }),\n+    element: domNode.nodeName.toLowerCase(),\n+    nativeElement: domNode,\n+  };\n+  if (!(domNode instanceof Element)) {\n+    result.push(componentTreeNode);\n+    return result;\n+  }\n+  const component = getComponent(domNode);\n+  if (component) {\n+    componentTreeNode.component = {\n+      instance: component,\n+      isElement: isCustomElement(domNode),\n+      name: domNode.nodeName.toLowerCase(),\n+    };\n+  }\n+  if (component || componentTreeNode.directives.length) {\n+    result.push(componentTreeNode);\n+  }\n+  if (componentTreeNode.component || componentTreeNode.directives.length) {\n+    domNode.childNodes.forEach((node) =>\n+      extractViewTree(node, componentTreeNode.children, getComponent, getDirectives)\n+    );\n+  } else {\n+    domNode.childNodes.forEach((node) => extractViewTree(node, result, getComponent, getDirectives));\n+  }\n+  return result;\n+};\n+\n+export class RTreeStrategy {\n+  supports(_: any): boolean {\n+    return ['getDirectiveMetadata', 'getComponent', 'getDirectives'].every(\n+      (method) => typeof (window as any).ng[method] === 'function'\n+    );\n+  }\n+\n+  build(element: Element): ComponentTreeNode[] {\n+    // We want to start from the root element so that we can find components which are attached to the application ref\n+    // and which host elements have been inserted with DOM APIs.\n+    while (element.parentElement) {\n+      element = element.parentElement;\n+    }\n+    const getComponent = (window as any).ng.getComponent as (element: Element) => {};\n+    const getDirectives = (window as any).ng.getDirectives as (node: Node) => {}[];\n+    const result = extractViewTree(element, [], getComponent, getDirectives);\n+    return result;\n+  }\n+}"
        },
        {
            "sha": "17071615f2af03d01695f527a58cabdf187903f5",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/highlighter.spec.ts",
            "status": "added",
            "additions": 94,
            "deletions": 0,
            "changes": 94,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhighlighter.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhighlighter.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhighlighter.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,94 @@\n+import * as highlighter from './highlighter';\n+\n+describe('highlighter', () => {\n+  describe('findComponentAndHost', () => {\n+    it('should return undefined when no node is provided', () => {\n+      expect(highlighter.findComponentAndHost(undefined)).toEqual({ component: null, host: null });\n+    });\n+\n+    it('should return same component and host if component exists', () => {\n+      (window as any).ng = {\n+        getComponent: (el: any) => el,\n+      };\n+      const element = document.createElement('div');\n+      const data = highlighter.findComponentAndHost(element as any);\n+      expect(data.component).toBeTruthy();\n+      expect(data.host).toBeTruthy();\n+      expect(data.component).toEqual(data.host);\n+    });\n+\n+    it('should return null component and host if component do not exists', () => {\n+      (window as any).ng = {\n+        getComponent: () => undefined,\n+      };\n+      const element = document.createElement('div');\n+      const data = highlighter.findComponentAndHost(element as any);\n+      expect(data.component).toBeFalsy();\n+      expect(data.host).toBeFalsy();\n+    });\n+  });\n+\n+  describe('getComponentName', () => {\n+    it('should return null when called with null values', () => {\n+      let name = highlighter.getDirectiveName(null);\n+      expect(name).toBe('unknown');\n+\n+      name = highlighter.getDirectiveName(undefined);\n+      expect(name).toBe('unknown');\n+    });\n+\n+    it('should return correct component name', () => {\n+      const MOCK_COMPONENT = {\n+        constructor: {\n+          name: 'mock-component',\n+        },\n+      };\n+\n+      const name = highlighter.getDirectiveName(MOCK_COMPONENT as any);\n+      expect(name).toBe(MOCK_COMPONENT.constructor.name);\n+    });\n+  });\n+\n+  describe('inDoc', () => {\n+    it('should return false if no node is provided', () => {\n+      expect(highlighter.inDoc(undefined)).toBeFalsy();\n+    });\n+\n+    it('should be true if doc and node are equal', () => {\n+      const node = {\n+        parentNode: {},\n+        ownerDocument: {\n+          documentElement: {},\n+        },\n+      };\n+\n+      node.ownerDocument.documentElement = node;\n+      expect(highlighter.inDoc(node)).toBeTruthy();\n+    });\n+\n+    it('should be true if doc and parent are equal', () => {\n+      const node = {\n+        parentNode: 'node',\n+        ownerDocument: {\n+          documentElement: 'node',\n+        },\n+      };\n+\n+      expect(highlighter.inDoc(node)).toBeTruthy();\n+    });\n+\n+    it('should be true if doc contains parent', () => {\n+      const node = {\n+        parentNode: {\n+          nodeType: 1,\n+        },\n+        ownerDocument: {\n+          documentElement: {\n+            contains: () => true,\n+          },\n+        },\n+      };\n+      expect(highlighter.inDoc(node)).toBeTruthy();\n+    });\n+  });\n+});"
        },
        {
            "sha": "f1648106987009cf81cbbcc587d875bee2cf5718",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/highlighter.ts",
            "status": "added",
            "additions": 133,
            "deletions": 0,
            "changes": 133,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhighlighter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhighlighter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhighlighter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,133 @@\n+let overlay: any;\n+let overlayContent: HTMLElement;\n+\n+declare const ng: any;\n+\n+interface Type<T> extends Function {\n+  new (...args: any[]): T;\n+}\n+\n+export const DEV_TOOLS_HIGHLIGHT_NODE_ID = '____ngDevToolsHighlight';\n+\n+function init(): void {\n+  if (overlay) {\n+    return;\n+  }\n+  overlay = document.createElement('div');\n+  overlay.style.backgroundColor = 'rgba(104, 182, 255, 0.35)';\n+  overlay.style.position = 'fixed';\n+  overlay.style.zIndex = '2147483647';\n+  overlay.style.pointerEvents = 'none';\n+  overlay.style.display = 'flex';\n+  overlay.style.borderRadius = '3px';\n+  overlay.setAttribute('id', DEV_TOOLS_HIGHLIGHT_NODE_ID);\n+  overlayContent = document.createElement('div');\n+  overlayContent.style.backgroundColor = 'rgba(104, 182, 255, 0.9)';\n+  overlayContent.style.position = 'absolute';\n+  overlayContent.style.bottom = '-23px';\n+  overlayContent.style.right = '0px';\n+  overlayContent.style.fontFamily = 'monospace';\n+  overlayContent.style.fontSize = '11px';\n+  overlayContent.style.padding = '2px 3px';\n+  overlayContent.style.borderRadius = '3px';\n+  overlayContent.style.color = 'white';\n+  overlay.appendChild(overlayContent);\n+}\n+\n+export const findComponentAndHost = (el: Node | undefined): { component: any; host: HTMLElement | null } => {\n+  if (!el) {\n+    return { component: null, host: null };\n+  }\n+  while (el) {\n+    const component = el instanceof HTMLElement && ng.getComponent(el);\n+    if (component) {\n+      return { component, host: el as HTMLElement };\n+    }\n+    if (!el.parentElement) {\n+      break;\n+    }\n+    el = el.parentElement;\n+  }\n+  return { component: null, host: null };\n+};\n+\n+// Todo(aleksanderbodurri): this should not be part of the highlighter, move this somewhere else\n+export const getDirectiveName = (dir: Type<unknown> | undefined | null): string => {\n+  if (dir) {\n+    return dir.constructor.name;\n+  }\n+  return 'unknown';\n+};\n+\n+export const highlight = (el: HTMLElement): void => {\n+  const cmp = findComponentAndHost(el).component;\n+  const rect = getComponentRect(el);\n+\n+  init();\n+  if (rect) {\n+    const content: Node[] = [];\n+    const name = getDirectiveName(cmp);\n+    if (name) {\n+      const pre = document.createElement('span');\n+      pre.style.opacity = '0.6';\n+      pre.innerText = '<';\n+      const text = document.createTextNode(name);\n+      const post = document.createElement('span');\n+      post.style.opacity = '0.6';\n+      post.innerText = '>';\n+      content.push(pre, text, post);\n+    }\n+    showOverlay(rect, content);\n+  }\n+};\n+\n+export function unHighlight(): void {\n+  if (overlay && overlay.parentNode) {\n+    document.body.removeChild(overlay);\n+  }\n+}\n+\n+export function inDoc(node: any): boolean {\n+  if (!node) {\n+    return false;\n+  }\n+  const doc = node.ownerDocument.documentElement;\n+  const parent = node.parentNode;\n+  return doc === node || doc === parent || !!(parent && parent.nodeType === 1 && doc.contains(parent));\n+}\n+\n+export function getComponentRect(el: Node): DOMRect | ClientRect | undefined {\n+  if (!(el instanceof HTMLElement)) {\n+    return;\n+  }\n+  if (!inDoc(el)) {\n+    return;\n+  }\n+  return el.getBoundingClientRect();\n+}\n+\n+interface OverlayDimensionsAndPosition {\n+  width: number;\n+  height: number;\n+  top: number;\n+  left: number;\n+}\n+\n+function showOverlay(\n+  { width = 0, height = 0, top = 0, left = 0 }: OverlayDimensionsAndPosition,\n+  content: any[] = []\n+): void {\n+  overlay.style.width = ~~width + 'px';\n+  overlay.style.height = ~~height + 'px';\n+  overlay.style.top = ~~top + 'px';\n+  overlay.style.left = ~~left + 'px';\n+\n+  while (overlayContent.children.length) {\n+    const { children } = overlayContent;\n+    overlayContent.removeChild(children[children.length - 1]);\n+  }\n+\n+  content.forEach((child) => overlayContent.appendChild(child));\n+\n+  document.body.appendChild(overlay);\n+}"
        },
        {
            "sha": "211491b7637ea5aec03f9c4272fa35d48ccf03b9",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/BUILD.bazel",
            "status": "added",
            "additions": 34,
            "deletions": 0,
            "changes": 34,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,34 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"hooks\",\n+    srcs = glob(\n+        include = [\"*.ts\"],\n+        exclude = [\n+            \"*.spec.ts\",\n+            \"identity-tracker.ts\",\n+        ],\n+    ),\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \":identity-tracker\",\n+        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//projects/ng-devtools-backend/src/lib:utils\",\n+        \"//projects/ng-devtools-backend/src/lib/hooks/profiler\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"identity-tracker\",\n+    srcs = [\"identity-tracker.ts\"],\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src/lib:component-tree\",\n+        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//projects/protocol\",\n+    ],\n+)"
        },
        {
            "sha": "1d62e359793fc4cc565cc2d92587f582ae726873",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/capture.ts",
            "status": "added",
            "additions": 328,
            "deletions": 0,
            "changes": 328,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fcapture.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fcapture.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fcapture.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,328 @@\n+import { DirectiveForestHooks } from './hooks';\n+import { ElementPosition, ProfilerFrame, ElementProfile, DirectiveProfile, LifecycleProfile } from 'protocol';\n+import { runOutsideAngular, isCustomElement } from '../utils';\n+import { getDirectiveName } from '../highlighter';\n+import { ComponentTreeNode } from '../interfaces';\n+import { initializeOrGetDirectiveForestHooks } from '.';\n+import { Hooks } from './profiler';\n+\n+let inProgress = false;\n+let inChangeDetection = false;\n+let eventMap: Map<any, DirectiveProfile>;\n+let frameDuration = 0;\n+let hooks: Partial<Hooks> = {};\n+\n+export const start = (onFrame: (frame: ProfilerFrame) => void): void => {\n+  if (inProgress) {\n+    throw new Error('Recording already in progress');\n+  }\n+  eventMap = new Map<any, DirectiveProfile>();\n+  inProgress = true;\n+  hooks = getHooks(onFrame);\n+  initializeOrGetDirectiveForestHooks().profiler.subscribe(hooks);\n+};\n+\n+export const stop = (): ProfilerFrame => {\n+  const directiveForestHooks = initializeOrGetDirectiveForestHooks();\n+  const result = flushBuffer(directiveForestHooks);\n+  initializeOrGetDirectiveForestHooks().profiler.unsubscribe(hooks);\n+  hooks = {};\n+  inProgress = false;\n+  return result;\n+};\n+\n+const startEvent = (map: Record<string, number>, directive: any, label: string) => {\n+  const name = getDirectiveName(directive);\n+  const key = `${name}#${label}`;\n+  map[key] = performance.now();\n+};\n+\n+const getEventStart = (map: Record<string, number>, directive: any, label: string) => {\n+  const name = getDirectiveName(directive);\n+  const key = `${name}#${label}`;\n+  return map[key];\n+};\n+\n+const getHooks = (onFrame: (frame: ProfilerFrame) => void): Partial<Hooks> => {\n+  const timeStartMap: Record<string, number> = {};\n+  return {\n+    // We flush here because it's possible the current node to overwrite\n+    // an existing removed node.\n+    onCreate(directive: any, node: Node, _: number, isComponent: boolean, position: ElementPosition): void {\n+      eventMap.set(directive, {\n+        isElement: isCustomElement(node),\n+        name: getDirectiveName(directive),\n+        isComponent,\n+        lifecycle: {},\n+        outputs: {},\n+      });\n+    },\n+    onChangeDetectionStart(component: any, node: Node): void {\n+      startEvent(timeStartMap, component, 'changeDetection');\n+      if (!inChangeDetection) {\n+        inChangeDetection = true;\n+        const source = getChangeDetectionSource();\n+        runOutsideAngular(() => {\n+          Promise.resolve().then(() => {\n+            inChangeDetection = false;\n+            onFrame(flushBuffer(initializeOrGetDirectiveForestHooks(), source));\n+          });\n+        });\n+      }\n+      if (!eventMap.has(component)) {\n+        eventMap.set(component, {\n+          isElement: isCustomElement(node),\n+          name: getDirectiveName(component),\n+          isComponent: true,\n+          changeDetection: 0,\n+          lifecycle: {},\n+          outputs: {},\n+        });\n+      }\n+    },\n+    onChangeDetectionEnd(component: any): void {\n+      const profile = eventMap.get(component);\n+\n+      if (profile) {\n+        let current = profile.changeDetection;\n+        if (current === undefined) {\n+          current = 0;\n+        }\n+        const startTimestamp = getEventStart(timeStartMap, component, 'changeDetection');\n+        if (startTimestamp === undefined) {\n+          return;\n+        }\n+        const duration = performance.now() - startTimestamp;\n+        profile.changeDetection = current + duration;\n+        frameDuration += duration;\n+      } else {\n+        console.warn('Could not find profile for', component);\n+      }\n+    },\n+    onDestroy(directive: any, node: Node, _: number, isComponent: boolean, __: ElementPosition): void {\n+      // Make sure we reflect such directives in the report.\n+      if (!eventMap.has(directive)) {\n+        eventMap.set(directive, {\n+          isElement: isComponent && isCustomElement(node),\n+          name: getDirectiveName(directive),\n+          isComponent,\n+          lifecycle: {},\n+          outputs: {},\n+        });\n+      }\n+    },\n+    onLifecycleHookStart(\n+      directive: any,\n+      hookName: keyof LifecycleProfile,\n+      node: Node,\n+      __: number,\n+      isComponent: boolean\n+    ): void {\n+      startEvent(timeStartMap, directive, hookName);\n+      if (!eventMap.has(directive)) {\n+        eventMap.set(directive, {\n+          isElement: isCustomElement(node),\n+          name: getDirectiveName(directive),\n+          isComponent,\n+          lifecycle: {},\n+          outputs: {},\n+        });\n+      }\n+    },\n+    onLifecycleHookEnd(directive: any, hookName: keyof LifecycleProfile, _: Node, __: number, ___: boolean): void {\n+      const dir = eventMap.get(directive);\n+      const startTimestamp = getEventStart(timeStartMap, directive, hookName);\n+      if (startTimestamp === undefined) {\n+        return;\n+      }\n+      if (!dir) {\n+        console.warn('Could not find directive in onLifecycleHook callback', directive, hookName);\n+        return;\n+      }\n+      const duration = performance.now() - startTimestamp;\n+      dir.lifecycle[hookName] = (dir.lifecycle[hookName] || 0) + duration;\n+      frameDuration += duration;\n+    },\n+    onOutputStart(componentOrDirective: any, outputName: string, node: Node, isComponent: boolean): void {\n+      startEvent(timeStartMap, componentOrDirective, outputName);\n+      if (!eventMap.has(componentOrDirective)) {\n+        eventMap.set(componentOrDirective, {\n+          isElement: isCustomElement(node),\n+          name: getDirectiveName(componentOrDirective),\n+          isComponent,\n+          lifecycle: {},\n+          outputs: {},\n+        });\n+      }\n+    },\n+    onOutputEnd(componentOrDirective: any, outputName: string): void {\n+      const name = outputName;\n+      const entry = eventMap.get(componentOrDirective);\n+      const startTimestamp = getEventStart(timeStartMap, componentOrDirective, name);\n+      if (startTimestamp === undefined) {\n+        return;\n+      }\n+      if (!entry) {\n+        console.warn('Could not find directive or component in onOutputEnd callback', componentOrDirective, outputName);\n+        return;\n+      }\n+      const duration = performance.now() - startTimestamp;\n+      entry.outputs[name] = (entry.outputs[name] || 0) + duration;\n+      frameDuration += duration;\n+    },\n+  };\n+};\n+\n+const insertOrMerge = (lastFrame: ElementProfile, profile: DirectiveProfile) => {\n+  let exists = false;\n+  lastFrame.directives.forEach((d) => {\n+    if (d.name === profile.name) {\n+      exists = true;\n+      let current = d.changeDetection;\n+      if (current === undefined) {\n+        current = 0;\n+      }\n+      d.changeDetection = current + (profile.changeDetection ?? 0);\n+      for (const key of Object.keys(profile.lifecycle)) {\n+        if (!d.lifecycle[key]) {\n+          d.lifecycle[key] = 0;\n+        }\n+        d.lifecycle[key] += profile.lifecycle[key];\n+      }\n+      for (const key of Object.keys(profile.outputs)) {\n+        if (!d.outputs[key]) {\n+          d.outputs[key] = 0;\n+        }\n+        d.outputs[key] += profile.outputs[key];\n+      }\n+    }\n+  });\n+  if (!exists) {\n+    lastFrame.directives.push(profile);\n+  }\n+};\n+\n+const insertElementProfile = (frames: ElementProfile[], position: ElementPosition, profile?: DirectiveProfile) => {\n+  if (!profile) {\n+    return;\n+  }\n+  const original = frames;\n+  for (let i = 0; i < position.length - 1; i++) {\n+    const pos = position[i];\n+    if (!frames[pos]) {\n+      // TODO(mgechev): consider how to ensure we don't hit this case\n+      console.warn('Unable to find parent node for', profile, original);\n+      return;\n+    }\n+    frames = frames[pos].children;\n+  }\n+  const lastIdx = position[position.length - 1];\n+  let lastFrame: ElementProfile = {\n+    children: [],\n+    directives: [],\n+  };\n+  if (frames[lastIdx]) {\n+    lastFrame = frames[lastIdx];\n+  } else {\n+    frames[lastIdx] = lastFrame;\n+  }\n+  insertOrMerge(lastFrame, profile);\n+};\n+\n+const prepareInitialFrame = (source: string, duration: number) => {\n+  const frame: ProfilerFrame = {\n+    source,\n+    duration,\n+    directives: [],\n+  };\n+  const directiveForestHooks = initializeOrGetDirectiveForestHooks();\n+  const directiveForest = directiveForestHooks.getIndexedDirectiveForest();\n+  const traverse = (node: ComponentTreeNode, children = frame.directives) => {\n+    let position: ElementPosition | undefined;\n+    if (node.component) {\n+      position = directiveForestHooks.getDirectivePosition(node.component.instance);\n+    } else {\n+      position = directiveForestHooks.getDirectivePosition(node.directives[0].instance);\n+    }\n+    if (position === undefined) {\n+      return;\n+    }\n+    const directives = node.directives.map((d) => {\n+      return {\n+        isComponent: false,\n+        isElement: false,\n+        name: getDirectiveName(d.instance),\n+        outputs: {},\n+        lifecycle: {},\n+      };\n+    });\n+    if (node.component) {\n+      directives.push({\n+        isElement: node.component.isElement,\n+        isComponent: true,\n+        lifecycle: {},\n+        outputs: {},\n+        name: getDirectiveName(node.component.instance),\n+      });\n+    }\n+    const result = {\n+      children: [],\n+      directives,\n+    };\n+    children[position[position.length - 1]] = result;\n+    node.children.forEach((n) => traverse(n, result.children));\n+  };\n+  directiveForest.forEach((n) => traverse(n));\n+  return frame;\n+};\n+\n+const flushBuffer = (directiveForestHooks: DirectiveForestHooks, source: string = '') => {\n+  const items = Array.from(eventMap.keys());\n+  const positions: ElementPosition[] = [];\n+  const positionDirective = new Map<ElementPosition, any>();\n+  items.forEach((dir) => {\n+    const position = directiveForestHooks.getDirectivePosition(dir);\n+    if (position === undefined) {\n+      return;\n+    }\n+    positions.push(position);\n+    positionDirective.set(position, dir);\n+  });\n+  positions.sort(lexicographicOrder);\n+\n+  const result = prepareInitialFrame(source, frameDuration);\n+  frameDuration = 0;\n+\n+  positions.forEach((position) => {\n+    const dir = positionDirective.get(position);\n+    insertElementProfile(result.directives, position, eventMap.get(dir));\n+  });\n+  eventMap = new Map<any, DirectiveProfile>();\n+  return result;\n+};\n+\n+const getChangeDetectionSource = () => {\n+  const zone = (window as any).Zone;\n+  if (!zone || !zone.currentTask) {\n+    return '';\n+  }\n+  return zone.currentTask.source;\n+};\n+\n+const lexicographicOrder = (a: ElementPosition, b: ElementPosition) => {\n+  if (a.length < b.length) {\n+    return -1;\n+  }\n+  if (a.length > b.length) {\n+    return 1;\n+  }\n+  for (let i = 0; i < a.length; i++) {\n+    if (a[i] < b[i]) {\n+      return -1;\n+    }\n+    if (a[i] > b[i]) {\n+      return 1;\n+    }\n+  }\n+  return 0;\n+};"
        },
        {
            "sha": "fc1ef3789684fa80018195e0637596880c134bb4",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/hooks.ts",
            "status": "added",
            "additions": 55,
            "deletions": 0,
            "changes": 55,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fhooks.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fhooks.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fhooks.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,55 @@\n+import { ComponentTreeNode } from '../interfaces';\n+import { ElementPosition } from 'protocol';\n+import { IdentityTracker, IndexedNode } from './identity-tracker';\n+import { Profiler, selectProfilerStrategy } from './profiler';\n+\n+/**\n+ *  Class to hook into directive forest.\n+ *\n+ *  Exposes latest directive forest state.\n+ *\n+ *  Delegates profiling to a Profiler instance.\n+ *  Delegates forest indexing to IdentityTracker Singleton\n+ */\n+export class DirectiveForestHooks {\n+  private _tracker = IdentityTracker.getInstance();\n+  private _forest: ComponentTreeNode[] = [];\n+  private _indexedForest: IndexedNode[] = [];\n+\n+  profiler: Profiler = selectProfilerStrategy();\n+\n+  getDirectivePosition(dir: any): ElementPosition | undefined {\n+    const result = this._tracker.getDirectivePosition(dir);\n+    if (result === undefined) {\n+      console.warn('Unable to find position of', dir);\n+    }\n+    return result;\n+  }\n+\n+  getDirectiveId(dir: any): number | undefined {\n+    const result = this._tracker.getDirectiveId(dir);\n+    if (result === undefined) {\n+      console.warn('Unable to find ID of', result);\n+    }\n+    return result;\n+  }\n+\n+  getIndexedDirectiveForest(): IndexedNode[] {\n+    return this._indexedForest;\n+  }\n+\n+  getDirectiveForest(): ComponentTreeNode[] {\n+    return this._forest;\n+  }\n+\n+  initialize(): void {\n+    this.indexForest();\n+  }\n+\n+  indexForest(): void {\n+    const { newNodes, removedNodes, indexedForest, directiveForest } = this._tracker.index();\n+    this._indexedForest = indexedForest;\n+    this._forest = directiveForest;\n+    this.profiler.onIndexForest(newNodes, removedNodes);\n+  }\n+}"
        },
        {
            "sha": "08a13a0637e81db4809c82c54ff41c6b544ad003",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/identity-tracker.ts",
            "status": "added",
            "additions": 130,
            "deletions": 0,
            "changes": 130,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fidentity-tracker.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fidentity-tracker.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fidentity-tracker.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,130 @@\n+import { ComponentTreeNode, DirectiveInstanceType, ComponentInstanceType } from '../interfaces';\n+import { ElementPosition, DevToolsNode } from 'protocol';\n+import { buildDirectiveForest } from '../component-tree';\n+\n+export declare interface Type<T> extends Function {\n+  new (...args: any[]): T;\n+}\n+\n+interface TreeNode {\n+  parent: TreeNode;\n+  directive?: Type<any>;\n+  children: TreeNode[];\n+}\n+\n+export type NodeArray = {\n+  directive: any;\n+  isComponent: boolean;\n+}[];\n+\n+export class IdentityTracker {\n+  private static _instance: IdentityTracker;\n+\n+  private _directiveIdCounter = 0;\n+  private _currentDirectivePosition = new Map<any, ElementPosition>();\n+  private _currentDirectiveId = new Map<any, number>();\n+  isComponent = new Map<any, boolean>();\n+\n+  // private constructor for Singleton Pattern\n+  private constructor() {}\n+\n+  static getInstance(): IdentityTracker {\n+    if (!IdentityTracker._instance) {\n+      IdentityTracker._instance = new IdentityTracker();\n+    }\n+    return IdentityTracker._instance;\n+  }\n+\n+  getDirectivePosition(dir: any): ElementPosition | undefined {\n+    return this._currentDirectivePosition.get(dir);\n+  }\n+\n+  getDirectiveId(dir: any): number | undefined {\n+    return this._currentDirectiveId.get(dir);\n+  }\n+\n+  hasDirective(dir: any): boolean {\n+    return this._currentDirectiveId.has(dir);\n+  }\n+\n+  index(): {\n+    newNodes: NodeArray;\n+    removedNodes: NodeArray;\n+    indexedForest: IndexedNode[];\n+    directiveForest: ComponentTreeNode[];\n+  } {\n+    const directiveForest = buildDirectiveForest();\n+    const indexedForest = indexForest(directiveForest);\n+    const newNodes: NodeArray = [];\n+    const removedNodes: NodeArray = [];\n+    const allNodes = new Set<any>();\n+    indexedForest.forEach((root) => this._index(root, null, newNodes, allNodes));\n+    this._currentDirectiveId.forEach((_: number, dir: any) => {\n+      if (!allNodes.has(dir)) {\n+        removedNodes.push({ directive: dir, isComponent: !!this.isComponent.get(dir) });\n+        // We can't clean these up because during profiling\n+        // they might be requested for removed components\n+        // this._currentDirectiveId.delete(dir);\n+        // this._currentDirectivePosition.delete(dir);\n+      }\n+    });\n+    return { newNodes, removedNodes, indexedForest, directiveForest };\n+  }\n+\n+  private _index(\n+    node: IndexedNode,\n+    parent: TreeNode | null,\n+    newNodes: { directive: any; isComponent: boolean }[],\n+    allNodes: Set<any>\n+  ): void {\n+    if (node.component) {\n+      allNodes.add(node.component.instance);\n+      this.isComponent.set(node.component.instance, true);\n+      this._indexNode(node.component.instance, node.position, newNodes);\n+    }\n+    (node.directives || []).forEach((dir) => {\n+      allNodes.add(dir.instance);\n+      this.isComponent.set(dir.instance, false);\n+      this._indexNode(dir.instance, node.position, newNodes);\n+    });\n+    node.children.forEach((child) => this._index(child, parent, newNodes, allNodes));\n+  }\n+\n+  private _indexNode(directive: any, position: ElementPosition, newNodes: NodeArray): void {\n+    this._currentDirectivePosition.set(directive, position);\n+    if (!this._currentDirectiveId.has(directive)) {\n+      newNodes.push({ directive, isComponent: !!this.isComponent.get(directive) });\n+      this._currentDirectiveId.set(directive, this._directiveIdCounter++);\n+    }\n+  }\n+\n+  destroy(): void {\n+    this._currentDirectivePosition = new Map<any, ElementPosition>();\n+    this._currentDirectiveId = new Map<any, number>();\n+  }\n+}\n+\n+export interface IndexedNode extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType> {\n+  position: ElementPosition;\n+  children: IndexedNode[];\n+}\n+\n+const indexTree = <T extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType>>(\n+  node: T,\n+  idx: number,\n+  parentPosition: number[] = []\n+): IndexedNode => {\n+  const position = parentPosition.concat([idx]);\n+  return {\n+    position,\n+    element: node.element,\n+    component: node.component,\n+    directives: node.directives.map((d) => ({ position, ...d })),\n+    children: node.children.map((n, i) => indexTree(n, i, position)),\n+    nativeElement: node.nativeElement,\n+  } as IndexedNode;\n+};\n+\n+export const indexForest = <T extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType>>(\n+  forest: T[]\n+): IndexedNode[] => forest.map((n, i) => indexTree(n, i));"
        },
        {
            "sha": "eeabdb2135a86b3dde4338aa98f65f0c6179089e",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/index.ts",
            "status": "added",
            "additions": 85,
            "deletions": 0,
            "changes": 85,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,85 @@\n+import { getDirectiveName } from '../highlighter';\n+import { DirectiveForestHooks } from './hooks';\n+import { LifecycleProfile } from 'protocol';\n+\n+const markName = (s: string, method: Method) => ` ${s}#${method}`;\n+\n+const supportsPerformance = globalThis.performance && typeof globalThis.performance.getEntriesByName === 'function';\n+\n+type Method = keyof LifecycleProfile | 'changeDetection' | string;\n+\n+const recordMark = (s: string, method: Method) => {\n+  if (supportsPerformance) {\n+    performance.mark(`${markName(s, method)}_start`);\n+  }\n+};\n+\n+const endMark = (nodeName: string, method: Method) => {\n+  if (supportsPerformance) {\n+    const name = markName(nodeName, method);\n+    const start = `${name}_start`;\n+    const end = `${name}_end`;\n+    if (performance.getEntriesByName(start).length > 0) {\n+      performance.mark(end);\n+      performance.measure(name, start, end);\n+    }\n+    performance.clearMarks(start);\n+    performance.clearMarks(end);\n+    performance.clearMeasures(name);\n+  }\n+};\n+\n+let timingAPIFlag = false;\n+\n+export const enableTimingAPI = () => (timingAPIFlag = true);\n+export const disableTimingAPI = () => (timingAPIFlag = false);\n+\n+const timingAPIEnabled = () => timingAPIFlag;\n+\n+let directiveForestHooks: DirectiveForestHooks;\n+export const initializeOrGetDirectiveForestHooks = () => {\n+  if (directiveForestHooks) {\n+    return directiveForestHooks;\n+  }\n+  directiveForestHooks = new DirectiveForestHooks();\n+  directiveForestHooks.profiler.subscribe({\n+    onChangeDetectionStart(component: any): void {\n+      if (!timingAPIEnabled()) {\n+        return;\n+      }\n+      recordMark(getDirectiveName(component), 'changeDetection');\n+    },\n+    onChangeDetectionEnd(component: any): void {\n+      if (!timingAPIEnabled()) {\n+        return;\n+      }\n+      endMark(getDirectiveName(component), 'changeDetection');\n+    },\n+    onLifecycleHookStart(component: any, lifecyle: keyof LifecycleProfile): void {\n+      if (!timingAPIEnabled()) {\n+        return;\n+      }\n+      recordMark(getDirectiveName(component), lifecyle);\n+    },\n+    onLifecycleHookEnd(component: any, lifecyle: keyof LifecycleProfile): void {\n+      if (!timingAPIEnabled()) {\n+        return;\n+      }\n+      endMark(getDirectiveName(component), lifecyle);\n+    },\n+    onOutputStart(component: any, output: string): void {\n+      if (!timingAPIEnabled()) {\n+        return;\n+      }\n+      recordMark(getDirectiveName(component), output);\n+    },\n+    onOutputEnd(component: any, output: string): void {\n+      if (!timingAPIEnabled()) {\n+        return;\n+      }\n+      endMark(getDirectiveName(component), output);\n+    },\n+  });\n+  directiveForestHooks.initialize();\n+  return directiveForestHooks;\n+};"
        },
        {
            "sha": "6e7762e5570880c2bddba2b7e0923846243ed84b",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/BUILD.bazel",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,20 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"profiler\",\n+    srcs = glob(\n+        include = [\"*.ts\"],\n+        exclude = [\"*.spec.ts\"],\n+    ),\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src/lib:utils\",\n+        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//projects/ng-devtools-backend/src/lib/hooks:identity-tracker\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "7ec522570b8b5b3235e75ad6693318d12e558ef4",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/index.ts",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,17 @@\n+import { NgProfiler } from './native';\n+import { PatchingProfiler } from './polyfill';\n+import { Profiler } from './shared';\n+\n+export { Profiler, Hooks } from './shared';\n+\n+/**\n+ * Factory method for creating profiler object.\n+ * Gives priority to NgProfiler, falls back on PatchingProfiler if framework APIs are not present.\n+ */\n+export const selectProfilerStrategy = (): Profiler => {\n+  const ng = (window as any).ng;\n+  if (typeof ng?.setProfiler === 'function') {\n+    return new NgProfiler();\n+  }\n+  return new PatchingProfiler();\n+};"
        },
        {
            "sha": "d86a0fcc8f129696c1849b214908d4e688796c12",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/native.ts",
            "status": "added",
            "additions": 152,
            "deletions": 0,
            "changes": 152,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fnative.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fnative.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fnative.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,152 @@\n+import { ProfilerEvent } from '@angular/core';\n+import { getDirectiveHostElement } from '../../directive-forest';\n+import { runOutsideAngular } from '../../utils';\n+import { IdentityTracker, NodeArray } from '../identity-tracker';\n+import { getLifeCycleName, Hooks, Profiler } from './shared';\n+\n+type ProfilerCallback = (event: ProfilerEvent, instanceOrLView: {}, hookOrListener: any) => void;\n+\n+/** Implementation of Profiler that utilizes framework APIs fire profiler hooks. */\n+export class NgProfiler extends Profiler {\n+  private _tracker = IdentityTracker.getInstance();\n+  private _callbacks: ProfilerCallback[] = [];\n+  private _lastDirectiveInstance: {} | null = null;\n+\n+  constructor(config: Partial<Hooks> = {}) {\n+    super(config);\n+    this._setProfilerCallback((event: ProfilerEvent, instanceOrLView: {}, hookOrListener: any) => {\n+      if (this[event] === undefined) {\n+        return;\n+      }\n+\n+      this[event](instanceOrLView, hookOrListener);\n+    });\n+    this._initialize();\n+  }\n+\n+  private _initialize(): void {\n+    const ng = (window as any).ng;\n+    ng.setProfiler((event: ProfilerEvent, instanceOrLView: {}, hookOrListener: any) =>\n+      this._callbacks.forEach((cb) => cb(event, instanceOrLView, hookOrListener))\n+    );\n+  }\n+\n+  private _setProfilerCallback(callback: ProfilerCallback): void {\n+    this._callbacks.push(callback);\n+  }\n+\n+  destroy(): void {\n+    this._tracker.destroy();\n+  }\n+\n+  onIndexForest(newNodes: NodeArray, removedNodes: NodeArray): void {\n+    newNodes.forEach((node) => {\n+      const { directive, isComponent } = node;\n+\n+      const position = this._tracker.getDirectivePosition(directive);\n+      const id = this._tracker.getDirectiveId(directive);\n+      this._onCreate(directive, getDirectiveHostElement(directive), id, isComponent, position);\n+    });\n+\n+    removedNodes.forEach((node) => {\n+      const { directive, isComponent } = node;\n+\n+      const position = this._tracker.getDirectivePosition(directive);\n+      const id = this._tracker.getDirectiveId(directive);\n+      this._onDestroy(directive, getDirectiveHostElement(directive), id, isComponent, position);\n+    });\n+  }\n+\n+  [ProfilerEvent.TemplateCreateStart](_directive: any, _hookOrListener: any): void {\n+    // todo: implement\n+    return;\n+  }\n+\n+  [ProfilerEvent.TemplateCreateEnd](_directive: any, _hookOrListener: any): void {\n+    // todo: implement\n+    return;\n+  }\n+\n+  [ProfilerEvent.TemplateUpdateStart](context: any, _hookOrListener: any): void {\n+    if (!this._inChangeDetection) {\n+      this._inChangeDetection = true;\n+      runOutsideAngular(() => {\n+        Promise.resolve().then(() => {\n+          this.changeDetection$.next();\n+          this._inChangeDetection = false;\n+        });\n+      });\n+    }\n+\n+    const position = this._tracker.getDirectivePosition(context);\n+    const id = this._tracker.getDirectiveId(context);\n+\n+    // If we can find the position and the ID we assume that this is a component instance.\n+    // Alternatively, if we can't find the ID or the position, we assume that this is a\n+    // context of an embedded view (for example, NgForOfContext, NgIfContext, or a custom one).\n+    if (position !== undefined && id !== undefined) {\n+      this._lastDirectiveInstance = context;\n+    }\n+\n+    if (id !== undefined && position !== undefined) {\n+      this._onChangeDetectionStart(context, getDirectiveHostElement(context), id, position);\n+      return;\n+    }\n+\n+    this._onChangeDetectionStart(\n+      this._lastDirectiveInstance,\n+      getDirectiveHostElement(this._lastDirectiveInstance),\n+      this._tracker.getDirectiveId(this._lastDirectiveInstance),\n+      this._tracker.getDirectivePosition(this._lastDirectiveInstance)\n+    );\n+  }\n+\n+  [ProfilerEvent.TemplateUpdateEnd](context: any, _hookOrListener: any): void {\n+    const position = this._tracker.getDirectivePosition(context);\n+    const id = this._tracker.getDirectiveId(context);\n+\n+    if (this._tracker.hasDirective(context) && id !== undefined && position !== undefined) {\n+      this._onChangeDetectionEnd(context, getDirectiveHostElement(context), id, position);\n+      return;\n+    }\n+\n+    this._onChangeDetectionEnd(\n+      this._lastDirectiveInstance,\n+      getDirectiveHostElement(this._lastDirectiveInstance),\n+      this._tracker.getDirectiveId(this._lastDirectiveInstance),\n+      this._tracker.getDirectivePosition(this._lastDirectiveInstance)\n+    );\n+  }\n+\n+  [ProfilerEvent.LifecycleHookStart](directive: any, hook: any): void {\n+    const id = this._tracker.getDirectiveId(directive);\n+    const element = getDirectiveHostElement(directive);\n+    const lifecycleHookName = getLifeCycleName(directive, hook);\n+    const isComponent = !!this._tracker.isComponent.get(directive);\n+\n+    this._onLifecycleHookStart(directive, lifecycleHookName, element, id, isComponent);\n+  }\n+\n+  [ProfilerEvent.LifecycleHookEnd](directive: any, hook: any): void {\n+    const id = this._tracker.getDirectiveId(directive);\n+    const element = getDirectiveHostElement(directive);\n+    const lifecycleHookName = getLifeCycleName(directive, hook);\n+    const isComponent = !!this._tracker.isComponent.get(directive);\n+\n+    this._onLifecycleHookEnd(directive, lifecycleHookName, element, id, isComponent);\n+  }\n+\n+  [ProfilerEvent.OutputStart](componentOrDirective: any, listener: () => void): void {\n+    const isComponent = !!this._tracker.isComponent.get(componentOrDirective);\n+    const node = getDirectiveHostElement(componentOrDirective);\n+    const id = this._tracker.getDirectiveId(componentOrDirective);\n+    this._onOutputStart(componentOrDirective, listener.name, node, id, isComponent);\n+  }\n+\n+  [ProfilerEvent.OutputEnd](componentOrDirective: any, listener: () => void): void {\n+    const isComponent = !!this._tracker.isComponent.get(componentOrDirective);\n+    const node = getDirectiveHostElement(componentOrDirective);\n+    const id = this._tracker.getDirectiveId(componentOrDirective);\n+    this._onOutputEnd(componentOrDirective, listener.name, node, id, isComponent);\n+  }\n+}"
        },
        {
            "sha": "2edd013f861258f43430c8b54355b9e6a1fea0e0",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/polyfill.ts",
            "status": "added",
            "additions": 142,
            "deletions": 0,
            "changes": 142,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fpolyfill.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fpolyfill.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fpolyfill.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,142 @@\n+import {\n+  getDirectiveHostElement,\n+  getLViewFromDirectiveOrElementInstance,\n+  METADATA_PROPERTY_NAME,\n+} from '../../directive-forest';\n+import { runOutsideAngular } from '../../utils';\n+import { IdentityTracker, NodeArray } from '../identity-tracker';\n+import { getLifeCycleName, Profiler } from './shared';\n+\n+const hookTViewProperties = [\n+  'preOrderHooks',\n+  'preOrderCheckHooks',\n+  'contentHooks',\n+  'contentCheckHooks',\n+  'viewHooks',\n+  'viewCheckHooks',\n+  'destroyHooks',\n+];\n+\n+// Only used in older Angular versions prior to the introduction of `getDirectiveMetadata`\n+const componentMetadata = (instance: any) => instance?.constructor?.cmp;\n+\n+/** Implementation of Profiler that uses monkey patching of directive templates and lifecycle methods to fire profiler hooks. */\n+export class PatchingProfiler extends Profiler {\n+  private _patched = new Map<any, () => void>();\n+  private _undoLifecyclePatch: (() => void)[] = [];\n+  private _tracker = IdentityTracker.getInstance();\n+\n+  destroy(): void {\n+    this._tracker.destroy();\n+\n+    for (const [cmp, template] of this._patched) {\n+      const meta = componentMetadata(cmp);\n+      meta.template = template;\n+      meta.tView.template = template;\n+    }\n+\n+    this._patched = new Map<any, () => void>();\n+    this._undoLifecyclePatch.forEach((p) => p());\n+    this._undoLifecyclePatch = [];\n+  }\n+\n+  onIndexForest(newNodes: NodeArray, removedNodes: NodeArray): void {\n+    newNodes.forEach((node) => {\n+      this._observeLifecycle(node.directive, node.isComponent);\n+      this._observeComponent(node.directive);\n+      this._fireCreationCallback(node.directive, node.isComponent);\n+    });\n+    removedNodes.forEach((node) => {\n+      this._patched.delete(node.directive);\n+      this._fireDestroyCallback(node.directive, node.isComponent);\n+    });\n+  }\n+\n+  private _fireCreationCallback(component: any, isComponent: boolean): void {\n+    const position = this._tracker.getDirectivePosition(component);\n+    const id = this._tracker.getDirectiveId(component);\n+    this._onCreate(component, getDirectiveHostElement(component), id, isComponent, position);\n+  }\n+\n+  private _fireDestroyCallback(component: any, isComponent: boolean): void {\n+    const position = this._tracker.getDirectivePosition(component);\n+    const id = this._tracker.getDirectiveId(component);\n+    this._onDestroy(component, getDirectiveHostElement(component), id, isComponent, position);\n+  }\n+\n+  private _observeComponent(cmp: any): void {\n+    const declarations = componentMetadata(cmp);\n+    if (!declarations) {\n+      return;\n+    }\n+    const original = declarations.template;\n+    const self = this;\n+    if (original.patched) {\n+      return;\n+    }\n+    declarations.tView.template = function (_: any, component: any): void {\n+      if (!self._inChangeDetection) {\n+        self._inChangeDetection = true;\n+        runOutsideAngular(() => {\n+          Promise.resolve().then(() => {\n+            self.changeDetection$.next();\n+            self._inChangeDetection = false;\n+          });\n+        });\n+      }\n+      const position = self._tracker.getDirectivePosition(component);\n+      const id = self._tracker.getDirectiveId(component);\n+\n+      self._onChangeDetectionStart(component, getDirectiveHostElement(component), id, position);\n+      original.apply(this, arguments);\n+      if (self._tracker.hasDirective(component) && id !== undefined && position !== undefined) {\n+        self._onChangeDetectionEnd(component, getDirectiveHostElement(component), id, position);\n+      }\n+    };\n+    declarations.tView.template.patched = true;\n+    this._patched.set(cmp, original);\n+  }\n+\n+  private _observeLifecycle(directive: any, isComponent: boolean): void {\n+    const ctx = getLViewFromDirectiveOrElementInstance(directive);\n+    if (!ctx) {\n+      return;\n+    }\n+    const tview = ctx[1];\n+    hookTViewProperties.forEach((hook) => {\n+      const current = tview[hook];\n+      if (!Array.isArray(current)) {\n+        return;\n+      }\n+      current.forEach((el: any, idx: number) => {\n+        if (el.patched) {\n+          return;\n+        }\n+        if (typeof el === 'function') {\n+          const self = this;\n+          current[idx] = function (): any {\n+            // We currently don't want to notify the consumer\n+            // for execution of lifecycle hooks of services and pipes.\n+            // These two abstractions don't have `__ngContext__`, and\n+            // currently we won't be able to extract the required\n+            // metadata by the UI.\n+            if (!this[METADATA_PROPERTY_NAME]) {\n+              return;\n+            }\n+            const id = self._tracker.getDirectiveId(this);\n+            const lifecycleHookName = getLifeCycleName(this, el);\n+            const element = getDirectiveHostElement(this);\n+            self._onLifecycleHookStart(this, lifecycleHookName, element, id, isComponent);\n+            const result = el.apply(this, arguments);\n+            self._onLifecycleHookEnd(this, lifecycleHookName, element, id, isComponent);\n+            return result;\n+          };\n+          current[idx].patched = true;\n+          this._undoLifecyclePatch.push(() => {\n+            current[idx] = el;\n+          });\n+        }\n+      });\n+    });\n+  }\n+}"
        },
        {
            "sha": "429307092253c2e7e920b82c029f9b547ccbdbf7",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/shared.ts",
            "status": "added",
            "additions": 215,
            "deletions": 0,
            "changes": 215,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2Fshared.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,215 @@\n+import { ElementPosition, LifecycleProfile } from 'protocol';\n+import { Subject } from 'rxjs';\n+import { NodeArray } from '../identity-tracker';\n+\n+type CreationHook = (\n+  componentOrDirective: any,\n+  node: Node,\n+  id: number,\n+  isComponent: boolean,\n+  position: ElementPosition\n+) => void;\n+\n+type LifecycleStartHook = (\n+  componentOrDirective: any,\n+  hook: keyof LifecycleProfile | 'unknown',\n+  node: Node,\n+  id: number,\n+  isComponent: boolean\n+) => void;\n+\n+type LifecycleEndHook = (\n+  componentOrDirective: any,\n+  hook: keyof LifecycleProfile | 'unknown',\n+  node: Node,\n+  id: number,\n+  isComponent: boolean\n+) => void;\n+\n+type ChangeDetectionStartHook = (component: any, node: Node, id: number, position: ElementPosition) => void;\n+\n+type ChangeDetectionEndHook = (component: any, node: Node, id: number, position: ElementPosition) => void;\n+\n+type DestroyHook = (\n+  componentOrDirective: any,\n+  node: Node,\n+  id: number,\n+  isComponent: boolean,\n+  position: ElementPosition\n+) => void;\n+\n+type OutputStartHook = (componentOrDirective: any, outputName: string, node: Node, isComponent: boolean) => void;\n+type OutputEndHook = (componentOrDirective: any, outputName: string, node: Node, isComponent: boolean) => void;\n+\n+export interface Hooks {\n+  onCreate: CreationHook;\n+  onDestroy: DestroyHook;\n+  onChangeDetectionStart: ChangeDetectionStartHook;\n+  onChangeDetectionEnd: ChangeDetectionEndHook;\n+  onLifecycleHookStart: LifecycleStartHook;\n+  onLifecycleHookEnd: LifecycleEndHook;\n+  onOutputStart: OutputStartHook;\n+  onOutputEnd: OutputEndHook;\n+}\n+\n+/**\n+ *  Class for profiling angular applications. Handles hook subscriptions and emitting change detection events.\n+ */\n+export abstract class Profiler {\n+  protected _inChangeDetection = false;\n+  changeDetection$ = new Subject<void>();\n+\n+  private _hooks: Partial<Hooks>[] = [];\n+\n+  constructor(config: Partial<Hooks> = {}) {\n+    this._hooks.push(config);\n+  }\n+\n+  abstract destroy(): void;\n+\n+  abstract onIndexForest(newNodes: NodeArray, removedNodes: NodeArray): void;\n+\n+  subscribe(config: Partial<Hooks>): void {\n+    this._hooks.push(config);\n+  }\n+\n+  unsubscribe(config: Partial<Hooks>): void {\n+    this._hooks.splice(this._hooks.indexOf(config), 1);\n+  }\n+\n+  protected _onCreate(\n+    _: any,\n+    __: Node,\n+    id: number | undefined,\n+    ___: boolean,\n+    position: ElementPosition | undefined\n+  ): void {\n+    if (id === undefined || position === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onCreate', arguments);\n+  }\n+\n+  protected _onDestroy(\n+    _: any,\n+    __: Node,\n+    id: number | undefined,\n+    ___: boolean,\n+    position: ElementPosition | undefined\n+  ): void {\n+    if (id === undefined || position === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onDestroy', arguments);\n+  }\n+\n+  protected _onChangeDetectionStart(\n+    _: any,\n+    __: Node,\n+    id: number | undefined,\n+    position: ElementPosition | undefined\n+  ): void {\n+    if (id === undefined || position === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onChangeDetectionStart', arguments);\n+  }\n+\n+  protected _onChangeDetectionEnd(\n+    _: any,\n+    __: Node,\n+    id: number | undefined,\n+    position: ElementPosition | undefined\n+  ): void {\n+    if (id === undefined || position === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onChangeDetectionEnd', arguments);\n+  }\n+\n+  protected _onLifecycleHookStart(\n+    _: any,\n+    __: keyof LifecycleProfile | 'unknown',\n+    ___: Node,\n+    id: number | undefined,\n+    ____: boolean\n+  ): void {\n+    if (id === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onLifecycleHookStart', arguments);\n+  }\n+\n+  protected _onLifecycleHookEnd(\n+    _: any,\n+    __: keyof LifecycleProfile | 'unknown',\n+    ___: Node,\n+    id: number | undefined,\n+    ____: boolean\n+  ): void {\n+    if (id === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onLifecycleHookEnd', arguments);\n+  }\n+\n+  protected _onOutputStart(_: any, __: string, ___: Node, id: number | undefined, ____: boolean): void {\n+    if (id === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onOutputStart', arguments);\n+  }\n+\n+  protected _onOutputEnd(_: any, __: string, ___: Node, id: number | undefined, ____: boolean): void {\n+    if (id === undefined) {\n+      return;\n+    }\n+    this._invokeCallback('onOutputEnd', arguments);\n+  }\n+\n+  private _invokeCallback(name: keyof Hooks, args: IArguments): void {\n+    this._hooks.forEach((config) => {\n+      const cb = config[name];\n+      if (typeof cb === 'function') {\n+        cb.apply(null, args);\n+      }\n+    });\n+  }\n+}\n+\n+const hookNames = [\n+  'OnInit',\n+  'OnDestroy',\n+  'OnChanges',\n+  'DoCheck',\n+  'AfterContentInit',\n+  'AfterContentChecked',\n+  'AfterViewInit',\n+  'AfterViewChecked',\n+];\n+\n+const hookMethodNames = new Set(hookNames.map((hook) => `ng${hook}`));\n+\n+export const getLifeCycleName = (obj: {}, fn: any): keyof LifecycleProfile | 'unknown' => {\n+  const proto = Object.getPrototypeOf(obj);\n+  const keys = Object.getOwnPropertyNames(proto);\n+  for (const propName of keys) {\n+    // We don't want to touch random get accessors.\n+    if (!hookMethodNames.has(propName)) {\n+      continue;\n+    }\n+    if (proto[propName] === fn) {\n+      return propName as keyof LifecycleProfile;\n+    }\n+  }\n+  const fnName = fn.name;\n+  if (typeof fnName !== 'string') {\n+    return 'unknown';\n+  }\n+  for (const hookName of hookNames) {\n+    if (fnName.indexOf(hookName) >= 0) {\n+      return `ng${hookName}` as keyof LifecycleProfile;\n+    }\n+  }\n+  return 'unknown';\n+};"
        },
        {
            "sha": "840dc9dd383753d00295e478f9c491c9230c2bd0",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/index.ts",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,6 @@\n+import { MessageBus, Events } from 'protocol';\n+import { subscribeToClientEvents } from './client-event-subscribers';\n+\n+export const initializeMessageBus = (messageBus: MessageBus<Events>) => {\n+  subscribeToClientEvents(messageBus);\n+};"
        },
        {
            "sha": "d3063f23dad8d1777143d45fe397f295f2758888",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/interfaces.ts",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Finterfaces.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Finterfaces.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Finterfaces.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,21 @@\n+import { DevToolsNode } from 'protocol';\n+\n+export interface DebuggingAPI {\n+  getComponent(node: Node): any;\n+  getDirectives(node: Node): any[];\n+  getHostElement(cmp: any): HTMLElement;\n+}\n+export interface DirectiveInstanceType {\n+  instance: any;\n+  name: string;\n+}\n+\n+export interface ComponentInstanceType {\n+  instance: any;\n+  name: string;\n+  isElement: boolean;\n+}\n+\n+export interface ComponentTreeNode extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType> {\n+  children: ComponentTreeNode[];\n+}"
        },
        {
            "sha": "fd0137feb8c45096730c220688a22cb0ee6f8752",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/router-tree.spec.ts",
            "status": "added",
            "additions": 164,
            "deletions": 0,
            "changes": 164,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Frouter-tree.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Frouter-tree.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Frouter-tree.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,164 @@\n+import { parseRoutes } from './router-tree';\n+\n+describe('parseRoutes', () => {\n+  it('should work without any routes', () => {\n+    const routes = [];\n+    const parsedRoutes = parseRoutes(routes as any);\n+    expect(parsedRoutes).toEqual({\n+      handler: 'no-name',\n+      name: 'no-name',\n+      path: '/',\n+      children: [],\n+      isAux: false,\n+      specificity: null,\n+      data: null,\n+      hash: null,\n+    });\n+  });\n+\n+  it('should work with single route', () => {\n+    const nestedRouter = {\n+      rootComponentType: {\n+        name: 'homeComponent',\n+      },\n+      config: [],\n+    };\n+    const parsedRoutes = parseRoutes(nestedRouter as any);\n+    expect(parsedRoutes).toEqual({\n+      handler: 'homeComponent',\n+      name: 'homeComponent',\n+      path: '/',\n+      children: [],\n+      isAux: false,\n+      specificity: null,\n+      data: null,\n+      hash: null,\n+    });\n+  });\n+\n+  it('should work with nested routes', () => {\n+    const nestedRouter = {\n+      rootComponentType: {\n+        name: 'homeComponent',\n+      },\n+      config: [\n+        {\n+          outlet: 'outlet',\n+          path: 'component-one',\n+          component: {\n+            name: 'component-one',\n+          },\n+        },\n+        {\n+          path: 'component-two',\n+          component: {\n+            name: 'component-two',\n+          },\n+          data: {\n+            name: 'component-two',\n+          },\n+          children: [\n+            {\n+              path: 'component-two-two',\n+              component: {\n+                name: 'component-two-two',\n+              },\n+              _loadedConfig: {\n+                routes: [\n+                  {\n+                    path: 'component-two-two-two',\n+                    component: {\n+                      name: 'component-two-two-two',\n+                    },\n+                  },\n+                ],\n+              },\n+            },\n+          ],\n+        },\n+        {\n+          loadChildren: true,\n+          path: 'lazy',\n+        },\n+        {\n+          path: 'redirect',\n+          redirectTo: 'redirectTo',\n+        },\n+      ],\n+    };\n+    const parsedRoutes = parseRoutes(nestedRouter as any);\n+    expect(parsedRoutes).toEqual({\n+      handler: 'homeComponent',\n+      name: 'homeComponent',\n+      path: '/',\n+      children: [\n+        {\n+          handler: 'component-one',\n+          data: [],\n+          hash: null,\n+          specificity: null,\n+          name: 'component-one',\n+          path: '/(outlet:component-one)',\n+          isAux: true,\n+          children: [],\n+        },\n+        {\n+          handler: 'component-two',\n+          data: [Object({ key: 'name', value: 'component-two' })],\n+          hash: null,\n+          specificity: null,\n+          name: 'component-two',\n+          path: '/component-two',\n+          isAux: false,\n+          children: [\n+            {\n+              handler: 'component-two-two',\n+              data: [],\n+              hash: null,\n+              specificity: null,\n+              name: 'component-two-two',\n+              path: '/component-two/component-two-two',\n+              isAux: false,\n+              children: [\n+                {\n+                  handler: 'component-two-two-two',\n+                  data: [],\n+                  hash: null,\n+                  specificity: null,\n+                  name: 'component-two-two-two',\n+                  path: '/component-two/component-two-two/component-two-two-two',\n+                  isAux: false,\n+                  children: [],\n+                },\n+              ],\n+            },\n+          ],\n+        },\n+        {\n+          handler: 'lazy [Lazy]',\n+          data: [],\n+          hash: null,\n+          specificity: null,\n+          name: 'lazy [Lazy]',\n+          path: '/lazy',\n+          isAux: false,\n+          children: [],\n+        },\n+        {\n+          handler: 'redirect -> redirecting to -> \"redirectTo\"',\n+          data: [],\n+          hash: null,\n+          specificity: null,\n+          name: 'redirect -> redirecting to -> \"redirectTo\"',\n+          path: '/redirect',\n+          isAux: false,\n+          children: [],\n+        },\n+      ],\n+      isAux: false,\n+      specificity: null,\n+      data: null,\n+      hash: null,\n+    });\n+  });\n+});"
        },
        {
            "sha": "4cbcb7a497a9e139e9380f8fabd5929038a2e158",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/router-tree.ts",
            "status": "added",
            "additions": 76,
            "deletions": 0,
            "changes": 76,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Frouter-tree.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Frouter-tree.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Frouter-tree.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,76 @@\n+import { Route } from 'protocol';\n+\n+// todo(aleksanderbodurri): type these properly\n+type AngularRoute = any;\n+type Routes = any;\n+type Router = any;\n+\n+export function parseRoutes(router: Router): Route {\n+  const rootName = (router as any).rootComponentType?.name || 'no-name';\n+  const rootChildren = router.config;\n+\n+  const root: Route = {\n+    handler: rootName,\n+    name: rootName,\n+    path: '/',\n+    children: rootChildren ? assignChildrenToParent(null, rootChildren) : [],\n+    isAux: false,\n+    specificity: null,\n+    data: null,\n+    hash: null,\n+  };\n+\n+  return root;\n+}\n+\n+function assignChildrenToParent(parentPath: string | null, children: Routes): Route[] {\n+  return children.map((child: AngularRoute) => {\n+    const childName = childRouteName(child);\n+    const childDescendents: [any] = (child as any)._loadedConfig?.routes || child.children;\n+\n+    // only found in aux routes, otherwise property will be undefined\n+    const isAuxRoute = !!child.outlet;\n+\n+    const pathFragment = child.outlet ? `(${child.outlet}:${child.path})` : child.path;\n+\n+    const routeConfig: Route = {\n+      handler: childName,\n+      data: [],\n+      hash: null,\n+      specificity: null,\n+      name: childName,\n+      path: `${parentPath ? parentPath : ''}/${pathFragment}`.split('//').join('/'),\n+      isAux: isAuxRoute,\n+      children: [],\n+    };\n+\n+    if (childDescendents) {\n+      routeConfig.children = assignChildrenToParent(routeConfig.path, childDescendents);\n+    }\n+\n+    if (child.data) {\n+      for (const el in child.data) {\n+        if (child.data.hasOwnProperty(el)) {\n+          routeConfig.data.push({\n+            key: el,\n+            value: child.data[el],\n+          });\n+        }\n+      }\n+    }\n+\n+    return routeConfig;\n+  });\n+}\n+\n+function childRouteName(child: AngularRoute): string {\n+  if (child.component) {\n+    return child.component.name;\n+  } else if (child.loadChildren) {\n+    return `${child.path} [Lazy]`;\n+  } else if (child.redirectTo) {\n+    return `${child.path} -> redirecting to -> \"${child.redirectTo}\"`;\n+  } else {\n+    return 'no-name-route';\n+  }\n+}"
        },
        {
            "sha": "e21438b919ec27a418e775286d4ebcaea36f64f3",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/set-console-reference.ts",
            "status": "added",
            "additions": 61,
            "deletions": 0,
            "changes": 61,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fset-console-reference.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fset-console-reference.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fset-console-reference.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,61 @@\n+import { arrayEquals } from 'shared-utils';\n+import { ElementPosition } from 'protocol';\n+import { ComponentTreeNode } from './interfaces';\n+\n+interface ConsoleReferenceNode {\n+  node: ComponentTreeNode | null;\n+  position: ElementPosition;\n+}\n+\n+const CONSOLE_REFERENCE_PREFIX = '$ng';\n+const CAPACITY = 5;\n+\n+const nodesForConsoleReference: ConsoleReferenceNode[] = [];\n+\n+export const setConsoleReference = (referenceNode: ConsoleReferenceNode) => {\n+  if (referenceNode.node === null) {\n+    return;\n+  }\n+  _setConsoleReference(referenceNode);\n+};\n+\n+const _setConsoleReference = (referenceNode: ConsoleReferenceNode) => {\n+  prepareCurrentReferencesForInsertion(referenceNode);\n+  nodesForConsoleReference.unshift(referenceNode);\n+  assignConsoleReferencesFrom(nodesForConsoleReference);\n+};\n+\n+const prepareCurrentReferencesForInsertion = (referenceNode: ConsoleReferenceNode) => {\n+  const foundIndex = nodesForConsoleReference.findIndex((nodeToLookFor) =>\n+    arrayEquals(nodeToLookFor.position, referenceNode.position)\n+  );\n+  if (foundIndex !== -1) {\n+    nodesForConsoleReference.splice(foundIndex, 1);\n+  } else if (nodesForConsoleReference.length === CAPACITY) {\n+    nodesForConsoleReference.pop();\n+  }\n+};\n+\n+const assignConsoleReferencesFrom = (referenceNodes: ConsoleReferenceNode[]) => {\n+  referenceNodes.forEach((referenceNode, index) =>\n+    setDirectiveKey(referenceNode.node, getConsoleReferenceWithIndexOf(index))\n+  );\n+};\n+\n+const setDirectiveKey = (node: ComponentTreeNode | null, key: string) => {\n+  Object.defineProperty(window, key, {\n+    get: () => {\n+      if (node?.component) {\n+        return node.component.instance;\n+      }\n+      if (node?.nativeElement) {\n+        return node.nativeElement;\n+      }\n+      return node;\n+    },\n+    configurable: true,\n+  });\n+};\n+\n+const getConsoleReferenceWithIndexOf = (consoleReferenceIndex: number) =>\n+  `${CONSOLE_REFERENCE_PREFIX}${consoleReferenceIndex}`;"
        },
        {
            "sha": "685d3d74845db4ae19538b049947164cb22ec0c2",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/state-serializer/BUILD.bazel",
            "status": "added",
            "additions": 37,
            "deletions": 0,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,37 @@\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ng_ts_project(\n+    name = \"state-serializer\",\n+    srcs = glob(\n+        include = [\"*.ts\"],\n+        exclude = [\"*.spec.ts\"],\n+    ),\n+    tsconfig = \"//projects/ng-devtools-backend:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":test-lib\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"state-serializer.spec.ts\",\n+    ],\n+    deps = [\n+        \":state-serializer\",\n+        \"//projects/protocol\",\n+        \"@npm//@types\",\n+    ],\n+)"
        },
        {
            "sha": "27923beaaae367a5b4366386a58179f9f17ad3f2",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/state-serializer/object-utils.ts",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fobject-utils.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fobject-utils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fobject-utils.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,12 @@\n+// Intentionally do not include the prototype because it contains\n+// inherited methods (hasOwnProperty, etc.). Also ignore symbols\n+// because it is tricky to pass a path to a symbol.\n+//\n+// We'd have to go through a serialization and deserialization logic\n+// which will add unnecessary complexity.\n+export const getKeys = (obj: {}): string[] => {\n+  if (!obj) {\n+    return [];\n+  }\n+  return Object.getOwnPropertyNames(obj);\n+};"
        },
        {
            "sha": "7792fe9cb69813681b367e86a45f5d230eef365a",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/state-serializer/serialized-descriptor-factory.ts",
            "status": "added",
            "additions": 268,
            "deletions": 0,
            "changes": 268,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fserialized-descriptor-factory.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fserialized-descriptor-factory.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fserialized-descriptor-factory.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,268 @@\n+import { Descriptor, NestedProp, PropType } from 'protocol';\n+import { getKeys } from './object-utils';\n+\n+// todo(aleksanderbodurri) pull this out of this file\n+const METADATA_PROPERTY_NAME = '__ngContext__';\n+\n+export interface CompositeType {\n+  type: Extract<PropType, PropType.Array | PropType.Object>;\n+  prop: any;\n+}\n+\n+export interface TerminalType {\n+  type: Exclude<PropType, PropType.Array | PropType.Object>;\n+  prop: any;\n+}\n+\n+export type PropertyData = TerminalType | CompositeType;\n+\n+export type Formatter<Result> = {\n+  [key in PropType]: (data: any) => Result;\n+};\n+\n+interface LevelOptions {\n+  currentLevel: number;\n+  level?: number;\n+}\n+\n+const serializable: { [key in PropType]: boolean } = {\n+  [PropType.Boolean]: true,\n+  [PropType.String]: true,\n+  [PropType.Null]: true,\n+  [PropType.Number]: true,\n+  [PropType.Object]: true,\n+  [PropType.Undefined]: true,\n+  [PropType.Unknown]: true,\n+  [PropType.Array]: false,\n+  [PropType.BigInt]: false,\n+  [PropType.Function]: false,\n+  [PropType.HTMLNode]: false,\n+  [PropType.Symbol]: false,\n+  [PropType.Date]: false,\n+};\n+\n+const typeToDescriptorPreview: Formatter<string> = {\n+  [PropType.Array]: (prop: any) => `Array(${prop.length})`,\n+  [PropType.BigInt]: (prop: any) => truncate(prop.toString()),\n+  [PropType.Boolean]: (prop: any) => truncate(prop.toString()),\n+  [PropType.String]: (prop: any) => `\"${prop}\"`,\n+  [PropType.Function]: (prop: any) => `${prop.name}(...)`,\n+  [PropType.HTMLNode]: (prop: any) => prop.constructor.name,\n+  [PropType.Null]: (_: any) => 'null',\n+  [PropType.Number]: (prop: any) => parseInt(prop, 10).toString(),\n+  [PropType.Object]: (prop: any) => (getKeys(prop).length > 0 ? '{...}' : '{}'),\n+  [PropType.Symbol]: (_: any) => 'Symbol()',\n+  [PropType.Undefined]: (_: any) => 'undefined',\n+  [PropType.Date]: (_: any) => 'Date()',\n+  [PropType.Unknown]: (_: any) => 'unknown',\n+};\n+\n+type Key = string | number;\n+const ignoreList: Set<Key> = new Set([METADATA_PROPERTY_NAME, '__ngSimpleChanges__']);\n+\n+const shallowPropTypeToTreeMetaData = {\n+  [PropType.String]: {\n+    editable: true,\n+    expandable: false,\n+  },\n+  [PropType.BigInt]: {\n+    editable: false,\n+    expandable: false,\n+  },\n+  [PropType.Boolean]: {\n+    editable: true,\n+    expandable: false,\n+  },\n+  [PropType.Number]: {\n+    editable: true,\n+    expandable: false,\n+  },\n+  [PropType.Date]: {\n+    editable: true,\n+    expandable: false,\n+  },\n+  [PropType.Null]: {\n+    editable: true,\n+    expandable: false,\n+  },\n+  [PropType.Undefined]: {\n+    editable: true,\n+    expandable: false,\n+  },\n+  [PropType.Symbol]: {\n+    editable: false,\n+    expandable: false,\n+  },\n+  [PropType.Function]: {\n+    editable: false,\n+    expandable: false,\n+  },\n+  [PropType.HTMLNode]: {\n+    editable: false,\n+    expandable: false,\n+  },\n+  [PropType.Unknown]: {\n+    editable: false,\n+    expandable: false,\n+  },\n+};\n+\n+const isEditable = (instance: any, propName: string | number, propData: TerminalType) => {\n+  if (typeof propName === 'symbol') {\n+    return false;\n+  }\n+  const descriptor = Object.getOwnPropertyDescriptor(instance, propName as string);\n+  if (descriptor?.writable === false) {\n+    return false;\n+  }\n+  if (!descriptor?.set && descriptor && !('value' in descriptor)) {\n+    return false;\n+  }\n+  if (descriptor?.set && !descriptor?.get && !('value' in descriptor)) {\n+    return false;\n+  }\n+  return shallowPropTypeToTreeMetaData[propData.type].editable;\n+};\n+\n+const hasValue = (obj: {}, prop: string | number) => {\n+  const descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n+  if (!descriptor?.get && typeof descriptor?.value === 'undefined') {\n+    return false;\n+  }\n+  return true;\n+};\n+\n+const getPreview = (instance: {}, propName: string | number, propData: TerminalType | CompositeType) => {\n+  return hasValue(instance, propName) ? typeToDescriptorPreview[propData.type](propData.prop) : SETTER_FIELD_PREVIEW;\n+};\n+\n+const SETTER_FIELD_PREVIEW = '[setter]';\n+\n+export const createShallowSerializedDescriptor = (\n+  instance: any,\n+  propName: string | number,\n+  propData: TerminalType\n+): Descriptor => {\n+  const { type } = propData;\n+\n+  const shallowSerializedDescriptor: Descriptor = {\n+    type,\n+    expandable: shallowPropTypeToTreeMetaData[type].expandable,\n+    editable: isEditable(instance, propName, propData),\n+    preview: getPreview(instance, propName, propData),\n+  };\n+\n+  if (propData.prop !== undefined && serializable[type]) {\n+    shallowSerializedDescriptor.value = propData.prop;\n+  }\n+\n+  return shallowSerializedDescriptor;\n+};\n+\n+export const createLevelSerializedDescriptor = (\n+  instance: {},\n+  propName: string | number,\n+  propData: CompositeType,\n+  levelOptions: LevelOptions,\n+  continuation: (instance: any, propName: string | number, level?: number, max?: number) => void\n+): Descriptor => {\n+  const { type, prop } = propData;\n+\n+  const levelSerializedDescriptor: Descriptor = {\n+    type,\n+    editable: false,\n+    expandable: getKeys(prop).length > 0,\n+    preview: getPreview(instance, propName, propData),\n+  };\n+\n+  if (levelOptions.level !== undefined && levelOptions.currentLevel < levelOptions.level) {\n+    const value = getLevelDescriptorValue(propData, levelOptions, continuation);\n+    if (value !== undefined) {\n+      levelSerializedDescriptor.value = value;\n+    }\n+  }\n+\n+  return levelSerializedDescriptor;\n+};\n+\n+export const createNestedSerializedDescriptor = (\n+  instance: {},\n+  propName: string | number,\n+  propData: CompositeType,\n+  levelOptions: LevelOptions,\n+  nodes: NestedProp[],\n+  nestedSerializer: (instance: any, propName: string, nodes: NestedProp[], currentLevel: number, level?: number) => void\n+): Descriptor => {\n+  const { type, prop } = propData;\n+\n+  const nestedSerializedDescriptor: Descriptor = {\n+    type,\n+    editable: false,\n+    expandable: getKeys(prop).length > 0,\n+    preview: getPreview(instance, propName, propData),\n+  };\n+\n+  if (nodes && nodes.length) {\n+    const value = getNestedDescriptorValue(propData, levelOptions, nodes, nestedSerializer);\n+    if (value !== undefined) {\n+      nestedSerializedDescriptor.value = value;\n+    }\n+  }\n+  return nestedSerializedDescriptor;\n+};\n+\n+const getNestedDescriptorValue = (\n+  propData: CompositeType,\n+  levelOptions: LevelOptions,\n+  nodes: NestedProp[],\n+  nestedSerializer: (\n+    instance: any,\n+    propName: string | number,\n+    nodes: NestedProp[],\n+    currentLevel: number,\n+    level?: number\n+  ) => void\n+) => {\n+  const { type, prop } = propData;\n+  const { currentLevel } = levelOptions;\n+\n+  switch (type) {\n+    case PropType.Array:\n+      return nodes.map((nestedProp) => nestedSerializer(prop, nestedProp.name, nestedProp.children, currentLevel + 1));\n+    case PropType.Object:\n+      return nodes.reduce((accumulator, nestedProp) => {\n+        if (prop.hasOwnProperty(nestedProp.name) && !ignoreList.has(nestedProp.name)) {\n+          accumulator[nestedProp.name] = nestedSerializer(prop, nestedProp.name, nestedProp.children, currentLevel + 1);\n+        }\n+        return accumulator;\n+      }, {});\n+  }\n+};\n+\n+const getLevelDescriptorValue = (\n+  propData: CompositeType,\n+  levelOptions: LevelOptions,\n+  continuation: (instance: any, propName: string | number, level?: number, max?: number) => void\n+) => {\n+  const { type, prop } = propData;\n+  const { currentLevel, level } = levelOptions;\n+\n+  switch (type) {\n+    case PropType.Array:\n+      return prop.map((_: any, idx: number) => continuation(prop, idx, currentLevel + 1, level));\n+    case PropType.Object:\n+      return getKeys(prop).reduce((accumulator, propName) => {\n+        if (!ignoreList.has(propName)) {\n+          accumulator[propName] = continuation(prop, propName, currentLevel + 1, level);\n+        }\n+        return accumulator;\n+      }, {});\n+  }\n+};\n+\n+const truncate = (str: string, max = 20): string => {\n+  if (str.length > max) {\n+    return str.substr(0, max) + '...';\n+  }\n+  return str;\n+};"
        },
        {
            "sha": "95dda329af9a11baef6e1118c005ba2d963f147c",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/state-serializer/state-serializer.spec.ts",
            "status": "added",
            "additions": 371,
            "deletions": 0,
            "changes": 371,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fstate-serializer.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fstate-serializer.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fstate-serializer.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,371 @@\n+import { deeplySerializeSelectedProperties } from './state-serializer';\n+import { PropType } from 'protocol';\n+\n+const QUERY_1_1 = [];\n+\n+const QUERY_1_2 = [\n+  {\n+    name: 'nested',\n+    children: [\n+      {\n+        name: 'arr',\n+        children: [\n+          {\n+            name: 2,\n+            children: [\n+              {\n+                name: 0,\n+                children: [\n+                  {\n+                    name: 'two',\n+                  },\n+                ],\n+              },\n+            ],\n+          },\n+        ],\n+      },\n+    ],\n+  },\n+];\n+\n+const dir1 = {\n+  one: 1,\n+  nested: {\n+    arr: [\n+      {\n+        obj: 1,\n+      },\n+      2,\n+      [\n+        {\n+          two: 1,\n+        },\n+      ],\n+    ],\n+  },\n+};\n+\n+const dir2 = {\n+  nested: {\n+    arr: [\n+      {\n+        obj: 1,\n+      },\n+      2,\n+      [\n+        {\n+          two: 1,\n+        },\n+      ],\n+    ],\n+  },\n+};\n+\n+describe('deeplySerializeSelectedProperties', () => {\n+  it('should work with empty queries', () => {\n+    const result = deeplySerializeSelectedProperties(dir1, QUERY_1_1);\n+    expect(result).toEqual({\n+      one: {\n+        type: PropType.Number,\n+        expandable: false,\n+        editable: true,\n+        preview: '1',\n+        value: 1,\n+      },\n+      nested: {\n+        type: PropType.Object,\n+        editable: false,\n+        expandable: true,\n+        preview: '{...}',\n+        value: {\n+          arr: {\n+            type: PropType.Array,\n+            expandable: true,\n+            editable: false,\n+            preview: 'Array(3)',\n+          },\n+        },\n+      },\n+    });\n+  });\n+\n+  it('should collect not specified but existing props below level', () => {\n+    const result = deeplySerializeSelectedProperties(dir1, QUERY_1_2);\n+    expect(result).toEqual({\n+      one: {\n+        type: PropType.Number,\n+        expandable: false,\n+        editable: true,\n+        preview: '1',\n+        value: 1,\n+      },\n+      nested: {\n+        type: PropType.Object,\n+        editable: false,\n+        expandable: true,\n+        preview: '{...}',\n+        value: {\n+          arr: {\n+            type: PropType.Array,\n+            editable: false,\n+            expandable: true,\n+            preview: 'Array(3)',\n+            value: [\n+              {\n+                type: PropType.Array,\n+                editable: false,\n+                expandable: true,\n+                preview: 'Array(1)',\n+                value: [\n+                  {\n+                    type: PropType.Object,\n+                    editable: false,\n+                    expandable: true,\n+                    preview: '{...}',\n+                    value: {\n+                      two: {\n+                        type: PropType.Number,\n+                        expandable: false,\n+                        editable: true,\n+                        preview: '1',\n+                        value: 1,\n+                      },\n+                    },\n+                  },\n+                ],\n+              },\n+            ],\n+          },\n+        },\n+      },\n+    });\n+  });\n+\n+  it('should handle deletions even of the query asks for such props', () => {\n+    const result = deeplySerializeSelectedProperties(dir2, [\n+      {\n+        name: 'one',\n+        children: [],\n+      },\n+      {\n+        name: 'nested',\n+        children: [],\n+      },\n+    ]);\n+    expect(result).toEqual({\n+      nested: {\n+        type: PropType.Object,\n+        editable: false,\n+        expandable: true,\n+        preview: '{...}',\n+        value: {\n+          arr: {\n+            type: PropType.Array,\n+            editable: false,\n+            expandable: true,\n+            preview: 'Array(3)',\n+          },\n+        },\n+      },\n+    });\n+  });\n+\n+  it('should work with getters', () => {\n+    const result = deeplySerializeSelectedProperties(\n+      {\n+        get foo(): any {\n+          return {\n+            baz: {\n+              qux: 3,\n+            },\n+          };\n+        },\n+      },\n+      [\n+        {\n+          name: 'foo',\n+          children: [\n+            {\n+              name: 'baz',\n+              children: [],\n+            },\n+          ],\n+        },\n+      ]\n+    );\n+    expect(result).toEqual({\n+      foo: {\n+        type: PropType.Object,\n+        editable: false,\n+        expandable: true,\n+        preview: '{...}',\n+        value: {\n+          baz: {\n+            type: PropType.Object,\n+            editable: false,\n+            expandable: true,\n+            preview: '{...}',\n+          },\n+        },\n+      },\n+    });\n+  });\n+\n+  it('should getters should be readonly', () => {\n+    const result = deeplySerializeSelectedProperties(\n+      {\n+        get foo(): number {\n+          return 42;\n+        },\n+        get bar(): number {\n+          return 42;\n+        },\n+        set bar(val: number) {},\n+      },\n+      []\n+    );\n+    expect(result).toEqual({\n+      foo: {\n+        type: PropType.Number,\n+        expandable: false,\n+        // Not editable because\n+        // we don't have a getter.\n+        editable: false,\n+        preview: '42',\n+        value: 42,\n+      },\n+      bar: {\n+        type: PropType.Number,\n+        expandable: false,\n+        editable: true,\n+        preview: '42',\n+        value: 42,\n+      },\n+    });\n+  });\n+\n+  it('should return the precise path requested', () => {\n+    const result = deeplySerializeSelectedProperties(\n+      {\n+        state: {\n+          nested: {\n+            props: {\n+              foo: 1,\n+              bar: 2,\n+            },\n+            [Symbol(3)](): number {\n+              return 1.618;\n+            },\n+            get foo(): number {\n+              return 42;\n+            },\n+          },\n+        },\n+      },\n+      [\n+        {\n+          name: 'state',\n+          children: [\n+            {\n+              name: 'nested',\n+              children: [\n+                {\n+                  name: 'props',\n+                  children: [\n+                    {\n+                      name: 'foo',\n+                      children: [],\n+                    },\n+                    {\n+                      name: 'bar',\n+                      children: [],\n+                    },\n+                  ],\n+                },\n+                {\n+                  name: 'foo',\n+                  children: [],\n+                },\n+              ],\n+            },\n+          ],\n+        },\n+      ]\n+    );\n+    expect(result).toEqual({\n+      state: {\n+        type: PropType.Object,\n+        editable: false,\n+        expandable: true,\n+        preview: '{...}',\n+        value: {\n+          nested: {\n+            type: PropType.Object,\n+            editable: false,\n+            expandable: true,\n+            preview: '{...}',\n+            value: {\n+              props: {\n+                type: PropType.Object,\n+                editable: false,\n+                expandable: true,\n+                preview: '{...}',\n+                value: {\n+                  foo: {\n+                    type: PropType.Number,\n+                    expandable: false,\n+                    editable: true,\n+                    preview: '1',\n+                    value: 1,\n+                  },\n+                  bar: {\n+                    type: PropType.Number,\n+                    expandable: false,\n+                    editable: true,\n+                    preview: '2',\n+                    value: 2,\n+                  },\n+                },\n+              },\n+              foo: {\n+                type: PropType.Number,\n+                expandable: false,\n+                editable: false,\n+                preview: '42',\n+                value: 42,\n+              },\n+            },\n+          },\n+        },\n+      },\n+    });\n+  });\n+\n+  it('should not show setters at all when associated getters or values are unavailable', () => {\n+    const result = deeplySerializeSelectedProperties(\n+      {\n+        set foo(_: any) {},\n+        get bar(): number {\n+          return 1;\n+        },\n+      },\n+      []\n+    );\n+    expect(result).toEqual({\n+      foo: {\n+        type: PropType.Undefined,\n+        editable: false,\n+        expandable: false,\n+        preview: '[setter]',\n+      },\n+      bar: {\n+        type: PropType.Number,\n+        editable: false,\n+        expandable: false,\n+        preview: '1',\n+        value: 1,\n+      },\n+    });\n+  });\n+});"
        },
        {
            "sha": "65fd008b05fe9dd228e4ee8d1ec53fec575468ca",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/state-serializer/state-serializer.ts",
            "status": "added",
            "additions": 141,
            "deletions": 0,
            "changes": 141,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fstate-serializer.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fstate-serializer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2Fstate-serializer.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,141 @@\n+import { Descriptor, NestedProp, PropType } from 'protocol';\n+import {\n+  createLevelSerializedDescriptor,\n+  createNestedSerializedDescriptor,\n+  createShallowSerializedDescriptor,\n+  PropertyData,\n+} from './serialized-descriptor-factory';\n+import { getKeys } from './object-utils';\n+\n+// todo(aleksanderbodurri) pull this out of this file\n+const METADATA_PROPERTY_NAME = '__ngContext__';\n+\n+const ignoreList = new Set([METADATA_PROPERTY_NAME, '__ngSimpleChanges__']);\n+\n+const commonTypes = {\n+  boolean: PropType.Boolean,\n+  bigint: PropType.BigInt,\n+  function: PropType.Function,\n+  number: PropType.Number,\n+  string: PropType.String,\n+  symbol: PropType.Symbol,\n+};\n+\n+const MAX_LEVEL = 1;\n+\n+const getPropType = (prop: any): PropType => {\n+  if (prop === undefined) {\n+    return PropType.Undefined;\n+  }\n+  if (prop === null) {\n+    return PropType.Null;\n+  }\n+  if (prop instanceof HTMLElement) {\n+    return PropType.HTMLNode;\n+  }\n+  const type = typeof prop;\n+  if (commonTypes[type] !== undefined) {\n+    return commonTypes[type];\n+  }\n+  if (type === 'object') {\n+    if (Array.isArray(prop)) {\n+      return PropType.Array;\n+    } else if (Object.prototype.toString.call(prop) === '[object Date]') {\n+      return PropType.Date;\n+    } else if (prop instanceof Node) {\n+      return PropType.HTMLNode;\n+    } else {\n+      return PropType.Object;\n+    }\n+  }\n+  return PropType.Unknown;\n+};\n+\n+const nestedSerializer = (\n+  instance: any,\n+  propName: string | number,\n+  nodes: NestedProp[],\n+  currentLevel = 0,\n+  level = MAX_LEVEL\n+): Descriptor => {\n+  const serializableInstance = instance[propName];\n+  const propData: PropertyData = { prop: serializableInstance, type: getPropType(serializableInstance) };\n+\n+  if (currentLevel < level) {\n+    return levelSerializer(instance, propName, currentLevel, level, nestedSerializerContinuation(nodes, level));\n+  }\n+\n+  switch (propData.type) {\n+    case PropType.Array:\n+    case PropType.Object:\n+      return createNestedSerializedDescriptor(\n+        instance,\n+        propName,\n+        propData,\n+        { level, currentLevel },\n+        nodes,\n+        nestedSerializer\n+      );\n+    default:\n+      return createShallowSerializedDescriptor(instance, propName, propData);\n+  }\n+};\n+\n+const nestedSerializerContinuation =\n+  (nodes: NestedProp[], level: number) => (instance: any, propName: string, nestedLevel: number) => {\n+    const idx = nodes.findIndex((v) => v.name === propName);\n+    if (idx < 0) {\n+      // The property is not specified in the query.\n+      return nestedSerializer(instance, propName, [], nestedLevel, level);\n+    }\n+    return nestedSerializer(instance, propName, nodes[idx].children, nestedLevel, level);\n+  };\n+\n+const levelSerializer = (\n+  instance: any,\n+  propName: string | number,\n+  currentLevel = 0,\n+  level = MAX_LEVEL,\n+  continuation = levelSerializer\n+): Descriptor => {\n+  const serializableInstance = instance[propName];\n+  const propData: PropertyData = { prop: serializableInstance, type: getPropType(serializableInstance) };\n+\n+  switch (propData.type) {\n+    case PropType.Array:\n+    case PropType.Object:\n+      return createLevelSerializedDescriptor(instance, propName, propData, { level, currentLevel }, continuation);\n+    default:\n+      return createShallowSerializedDescriptor(instance, propName, propData);\n+  }\n+};\n+\n+export const serializeDirectiveState = (instance: object, levels = MAX_LEVEL): { [key: string]: Descriptor } => {\n+  const result = {};\n+  getKeys(instance).forEach((prop) => {\n+    if (typeof prop === 'string' && ignoreList.has(prop)) {\n+      return;\n+    }\n+    result[prop] = levelSerializer(instance, prop, null, 0, levels);\n+  });\n+  return result;\n+};\n+\n+export const deeplySerializeSelectedProperties = (\n+  instance: any,\n+  props: NestedProp[]\n+): { [name: string]: Descriptor } => {\n+  const result = {};\n+  getKeys(instance).forEach((prop) => {\n+    if (ignoreList.has(prop)) {\n+      return;\n+    }\n+    const idx = props.findIndex((v) => v.name === prop);\n+    if (idx < 0) {\n+      result[prop] = levelSerializer(instance, prop);\n+    } else {\n+      result[prop] = nestedSerializer(instance, prop, props[idx].children);\n+    }\n+  });\n+  return result;\n+};"
        },
        {
            "sha": "7b0724b2087c99148d6b136b961f6756ea70d055",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/utils.ts",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Futils.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Futils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Futils.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,28 @@\n+export const runOutsideAngular = (f: () => any): void => {\n+  const w = window as any;\n+  if (!w.Zone || !w.Zone.current) {\n+    f();\n+    return;\n+  }\n+  if (w.Zone.current._name !== 'angular') {\n+    w.Zone.current.run(f);\n+    return;\n+  }\n+  const parent = w.Zone.current._parent;\n+  if (parent && parent.run) {\n+    parent.run(f);\n+    return;\n+  }\n+  f();\n+};\n+\n+export const isCustomElement = (node: Node) => {\n+  if (typeof customElements === 'undefined') {\n+    return false;\n+  }\n+  if (!(node instanceof HTMLElement)) {\n+    return false;\n+  }\n+  const tagName = node.tagName.toLowerCase();\n+  return !!customElements.get(tagName);\n+};"
        },
        {
            "sha": "25610eda60d331c9ead51d5a4bff077e7f8c9187",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/version.ts",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fversion.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fversion.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fversion.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,11 @@\n+const versionElement = document.querySelector('[ng-version]');\n+const versionRe = /(\\d+\\.\\d+\\.\\d+(-(next|rc)\\.\\d+)?)/;\n+\n+const defaultVersion = '0.0.0';\n+let version = defaultVersion;\n+if (versionElement) {\n+  version = versionElement.getAttribute('ng-version') ?? defaultVersion;\n+  version = (version.match(versionRe) ?? [''])[0] ?? defaultVersion;\n+}\n+\n+export const VERSION = version;"
        },
        {
            "sha": "d5dc696797853c22adf45e67f3ff1f7f848cea26",
            "filename": "devtools/projects/ng-devtools-backend/src/public-api.ts",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Fpublic-api.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Fpublic-api.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Fpublic-api.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,6 @@\n+/*\n+ * Public API Surface of ng-devtools-backend\n+ */\n+\n+export * from './lib';\n+export { findNodeFromSerializedPosition } from './lib/component-tree';"
        },
        {
            "sha": "7a74f36c9b846a36f3e925d2bd5044607cc4bf1b",
            "filename": "devtools/projects/ng-devtools-backend/src/test.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Ftest.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,15 @@\n+// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n+\n+import 'zone.js/dist/zone';\n+import 'zone.js/dist/zone-testing';\n+import { getTestBed } from '@angular/core/testing';\n+import { BrowserDynamicTestingModule, platformBrowserDynamicTesting } from '@angular/platform-browser-dynamic/testing';\n+\n+declare const require: any;\n+\n+// First, initialize the Angular testing environment.\n+getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n+// Then we find all the tests.\n+const context = require.context('./', true, /\\.ts$/);\n+// And load the modules.\n+context.keys().map(context);"
        },
        {
            "sha": "f883c50038454889307417527bbf63494cbb5acc",
            "filename": "devtools/projects/ng-devtools-backend/tsconfig.lib.json",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.lib.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.lib.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.lib.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,20 @@\n+{\n+  \"extends\": \"../../tsconfig.json\",\n+  \"compilerOptions\": {\n+    \"outDir\": \"../../out-tsc/lib\",\n+    \"target\": \"es2015\",\n+    \"declaration\": true,\n+    \"inlineSources\": true,\n+    \"types\": [],\n+    \"lib\": [\"dom\", \"es2018\"]\n+  },\n+  \"angularCompilerOptions\": {\n+    \"annotateForClosureCompiler\": false,\n+    \"skipTemplateCodegen\": true,\n+    \"strictMetadataEmit\": true,\n+    \"fullTemplateTypeCheck\": true,\n+    \"strictInjectionParameters\": true,\n+    \"enableResourceInlining\": true\n+  },\n+  \"exclude\": [\"src/test.ts\", \"**/*.spec.ts\"]\n+}"
        },
        {
            "sha": "d4f02006a43b64cc76abef77b46f75d8f812b7a9",
            "filename": "devtools/projects/ng-devtools-backend/tsconfig.spec.json",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.spec.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+{\n+  \"extends\": \"../../tsconfig.json\",\n+  \"compilerOptions\": {\n+    \"outDir\": \"../../out-tsc/spec\",\n+    \"types\": [\"jasmine\", \"node\"]\n+  },\n+  \"files\": [\"src/test.ts\"],\n+  \"include\": [\"**/*.ts\", \"**/*.d.ts\"]\n+}"
        },
        {
            "sha": "205aedaa558b226cfde6cc23e7fb216dafeb2b19",
            "filename": "devtools/projects/ng-devtools-backend/tslint.json",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Ftslint.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools-backend%2Ftslint.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Ftslint.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"extends\": \"../../tslint.json\",\n+  \"rules\": {\n+    \"directive-selector\": [true, \"attribute\", \"lib\", \"camelCase\"],\n+    \"component-selector\": [true, \"element\", \"lib\", \"kebab-case\"]\n+  }\n+}"
        },
        {
            "sha": "999b9b1c6cd77dc2b98a99fcb119dea5f03cd56c",
            "filename": "devtools/projects/ng-devtools/BUILD.bazel",
            "status": "added",
            "additions": 42,
            "deletions": 0,
            "changes": 42,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,42 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+exports_files([\"tsconfig.lib.json\"])\n+\n+ts_config(\n+    name = \"tsconfig-lib\",\n+    src = \"tsconfig.lib.json\",\n+    deps = [\"//:tsconfig.json\"],\n+)\n+\n+ng_ts_project(\n+    name = \"ng-devtools-ts\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \":tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/animations\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/forms\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@angular/platform-browser-dynamic\",\n+        \"@npm//@types\",\n+        \"@npm//d3\",\n+        \"@npm//memo-decorator\",\n+        \"@npm//ngx-flamegraph\",\n+        \"@npm//rxjs\",\n+        \"@npm//webtreemap\",\n+    ],\n+)\n+\n+js_library(\n+    name = \"ng-devtools\",\n+    package_name = \"ng-devtools\",\n+    deps = [\":ng-devtools-ts\"],\n+)"
        },
        {
            "sha": "3cba652481588a436b0d2929e8b861707f2108ca",
            "filename": "devtools/projects/ng-devtools/README.md",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2FREADME.md",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2FREADME.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2FREADME.md?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,24 @@\n+# ng-devtools\n+\n+This library was generated with [Angular CLI](https://github.com/angular/angular-cli) version 9.0.0-rc.5.\n+\n+## Code scaffolding\n+\n+Run `ng generate component component-name --project ng-devtools` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module --project ng-devtools`.\n+> Note: Don't forget to add `--project ng-devtools` or else it will be added to the default project in your `angular.json` file. \n+\n+## Build\n+\n+Run `ng build ng-devtools` to build the project. The build artifacts will be stored in the `dist/` directory.\n+\n+## Publishing\n+\n+After building your library with `ng build ng-devtools`, go to the dist folder `cd dist/ng-devtools` and run `npm publish`.\n+\n+## Running unit tests\n+\n+Run `ng test ng-devtools` to execute the unit tests via [Karma](https://karma-runner.github.io).\n+\n+## Further help\n+\n+To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md)."
        },
        {
            "sha": "1875d3f9bfee2790658615e4baec56b83e0b6dcb",
            "filename": "devtools/projects/ng-devtools/index.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+export * from './src/public-api';"
        },
        {
            "sha": "858868f6761e26d05b3d2652f97013ad06bf0c39",
            "filename": "devtools/projects/ng-devtools/karma.conf.js",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fkarma.conf.js?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+// Karma configuration file, see link for more information\n+// https://karma-runner.github.io/1.0/config/configuration-file.html\n+\n+module.exports = function (config) {\n+  config.set({\n+    basePath: '',\n+    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n+    plugins: [\n+      require('karma-jasmine'),\n+      require('karma-chrome-launcher'),\n+      require('karma-jasmine-html-reporter'),\n+      require('karma-coverage'),\n+      require('@angular-devkit/build-angular/plugins/karma'),\n+    ],\n+    client: {\n+      clearContext: true, // leave Jasmine Spec Runner output visible in browser\n+    },\n+    coverageIstanbulReporter: {\n+      dir: require('path').join(__dirname, '../../coverage/ng-devtools'),\n+      reports: ['html', 'lcovonly', 'text-summary'],\n+      fixWebpackSourcePaths: true,\n+    },\n+    reporters: ['progress', 'kjhtml'],\n+    port: 9876,\n+    colors: true,\n+    logLevel: config.LOG_INFO,\n+    autoWatch: true,\n+    browsers: ['ChromeHeadlessNoSandbox'],\n+    customLaunchers: {\n+      ChromeHeadlessNoSandbox: {\n+        base: 'ChromeHeadless',\n+        flags: ['--no-sandbox'],\n+      },\n+    },\n+    singleRun: false,\n+    restartOnFileChange: true,\n+  });\n+};"
        },
        {
            "sha": "5d9a5bf824719a0574f4795c67da1f9ba64bb263",
            "filename": "devtools/projects/ng-devtools/ng-package.json",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fng-package.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fng-package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fng-package.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,7 @@\n+{\n+  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\n+  \"dest\": \"../../dist/ng-devtools\",\n+  \"lib\": {\n+    \"entryFile\": \"src/public-api.ts\"\n+  }\n+}"
        },
        {
            "sha": "ae7f43c85bea8f183dfae833fe8d16fdbf250b2d",
            "filename": "devtools/projects/ng-devtools/package.json",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fpackage.json?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+{\n+  \"name\": \"ng-devtools\",\n+  \"version\": \"0.0.1\",\n+  \"peerDependencies\": {\n+    \"@angular/common\": \"^13.0.0\",\n+    \"@angular/core\": \"^13.0.0\",\n+    \"tslib\": \"^2.0.0\"\n+  }\n+}"
        },
        {
            "sha": "40b5648ac3c8813a06c83f5968932eda1090e1e4",
            "filename": "devtools/projects/ng-devtools/src/BUILD.bazel",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,14 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ng_ts_project(\n+    name = \"src\",\n+    srcs = [\"public-api.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib\",\n+        \"//projects/ng-devtools/src/lib/application-environment\",\n+        \"//projects/ng-devtools/src/lib/application-operations\",\n+    ],\n+)"
        },
        {
            "sha": "c4acae9ab0faa757834a30b2694e47f9ed676e97",
            "filename": "devtools/projects/ng-devtools/src/lib/BUILD.bazel",
            "status": "added",
            "additions": 49,
            "deletions": 0,
            "changes": 49,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,49 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"devtools-component-styles\",\n+    src = \"devtools.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"lib\",\n+    srcs = glob(\n+        include = [\"*.ts\"],\n+        exclude = [\"theme-service.ts\"],\n+    ),\n+    angular_assets = [\n+        \"devtools.component.html\",\n+        \":devtools-component-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \":theme\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/animations\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/forms\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@angular/platform-browser-dynamic\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ng_ts_project(\n+    name = \"theme\",\n+    srcs = glob(\n+        include = [\"theme-service.ts\"],\n+    ),\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "cee2906be31ea3e0dfe69446feec3e611d2b45a8",
            "filename": "devtools/projects/ng-devtools/src/lib/application-environment/BUILD.bazel",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,14 @@\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"application-environment\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@types\",\n+    ],\n+)"
        },
        {
            "sha": "53ad485aeea5ef91bcb975fdb684b9921b28ac55",
            "filename": "devtools/projects/ng-devtools/src/lib/application-environment/index.ts",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,16 @@\n+export interface Process {\n+  env: Env;\n+}\n+\n+interface Env {\n+  LATEST_SHA: string;\n+}\n+\n+export interface Environment {\n+  production: boolean;\n+  process: Process;\n+}\n+\n+export abstract class ApplicationEnvironment {\n+  abstract get environment(): Environment;\n+}"
        },
        {
            "sha": "aa43fbb1ca416fce225038cc52baeef0a6e76dbe",
            "filename": "devtools/projects/ng-devtools/src/lib/application-operations/BUILD.bazel",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,14 @@\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"application-operations\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@types\",\n+    ],\n+)"
        },
        {
            "sha": "6bd2bbce99d58320ed3c427ef05d208f26e17605",
            "filename": "devtools/projects/ng-devtools/src/lib/application-operations/index.ts",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,7 @@\n+import { DirectivePosition, ElementPosition } from 'protocol';\n+\n+export abstract class ApplicationOperations {\n+  abstract viewSource(position: ElementPosition): void;\n+  abstract selectDomElement(position: ElementPosition): void;\n+  abstract inspect(directivePosition: DirectivePosition, objectPath: string[]): void;\n+}"
        },
        {
            "sha": "815753379692502e551cad91f0c5b8bf94f40e9b",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/BUILD.bazel",
            "status": "added",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,57 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"devtools-tabs-component-styles\",\n+    src = \"devtools-tabs.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"devtools-tabs\",\n+    srcs = [\n+        \"devtools-tabs.component.ts\",\n+        \"devtools-tabs.module.ts\",\n+    ],\n+    angular_assets = [\n+        \"devtools-tabs.component.html\",\n+        \":devtools-tabs-component-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib:theme\",\n+        \"//projects/ng-devtools/src/lib/application-environment\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/router-tree\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"devtools-tabs-test\",\n+    srcs = [\"devtools-tabs.spec.ts\"],\n+    deps = [\n+        \":devtools-tabs\",\n+        \"//projects/ng-devtools/src/lib/application-environment\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":devtools-tabs-test\",\n+    ],\n+)"
        },
        {
            "sha": "6f18d3115743f48948ca3f4a9e0f639677d34f51",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.component.html",
            "status": "added",
            "additions": 75,
            "deletions": 0,
            "changes": 75,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,75 @@\n+<nav #navBar mat-tab-nav-bar [color]=\"'accent'\">\n+  <div id=\"nav-buttons\">\n+    <button mat-icon-button color=\"primary\" (click)=\"toggleInspector()\" matTooltip=\"Inspect element\">\n+      <mat-icon [ngClass]=\"{ 'inspector-active': inspectorRunning }\"> pin_end </mat-icon>\n+    </button>\n+    <button mat-icon-button color=\"primary\" [matMenuTriggerFor]=\"menu\" matTooltip=\"Open settings\">\n+      <mat-icon> settings </mat-icon>\n+    </button>\n+    <button mat-icon-button color=\"primary\" [matMenuTriggerFor]=\"info\" matTooltip=\"Info\">\n+      <mat-icon> info </mat-icon>\n+    </button>\n+  </div>\n+  <a class=\"mat-tab-link\" mat-tab-link *ngFor=\"let tab of tabs\" (click)=\"changeTab(tab)\" [active]=\"activeTab === tab\">\n+    {{ tab }}\n+  </a>\n+  <section *ngIf=\"angularVersion\" id=\"app-angular-version\">\n+    Angular version:\n+    <span id=\"version-number\">\n+      {{ angularVersion }}\n+    </span>\n+    <ng-container *ngIf=\"latestSHA; let sha\"> | DevTools SHA: {{ sha }} </ng-container>\n+  </section>\n+</nav>\n+\n+<div class=\"tab-content\">\n+  <ng-directive-explorer\n+    [showCommentNodes]=\"showCommentNodes\"\n+    [ngClass]=\"{ hidden: activeTab !== 'Components' }\"\n+    (toggleInspector)=\"toggleInspector()\"\n+  ></ng-directive-explorer>\n+  <ng-profiler [ngClass]=\"{ hidden: activeTab !== 'Profiler' }\"></ng-profiler>\n+  <ng-router-tree [routes]=\"routes\" [ngClass]=\"{ hidden: activeTab !== 'Router Tree' }\"></ng-router-tree>\n+</div>\n+\n+<mat-menu #menu=\"matMenu\" class=\"options-menu\">\n+  <mat-slide-toggle (change)=\"toggleTimingAPI($event)\" class=\"menu-toggle-button\" (click)=\"$event.stopPropagation()\">\n+    Enable timing API\n+  </mat-slide-toggle>\n+  <br />\n+  <br />\n+  <mat-slide-toggle\n+    [checked]=\"currentTheme === 'dark-theme'\"\n+    (change)=\"themeService.toggleDarkMode($event.checked)\"\n+    class=\"menu-toggle-button\"\n+    (click)=\"$event.stopPropagation()\"\n+  >\n+    Dark Mode\n+  </mat-slide-toggle>\n+  <br />\n+  <br />\n+  <mat-slide-toggle\n+    (change)=\"showCommentNodes = $event.checked\"\n+    class=\"menu-toggle-button\"\n+    (click)=\"$event.stopPropagation()\"\n+  >\n+    Show comment nodes\n+  </mat-slide-toggle>\n+</mat-menu>\n+\n+<mat-menu #info=\"matMenu\">\n+  <div class=\"info-menu\">\n+    <a mat-button class=\"menu-toggle-button\" href=\"https://angular.io/devtools\" target=\"_blank\">\n+      <mat-icon>library_books</mat-icon>\n+      Guide\n+    </a>\n+    <a mat-button class=\"menu-toggle-button\" href=\"https://github.com/rangle/angular-devtools\" target=\"_blank\">\n+      <mat-icon>launch</mat-icon>\n+      GitHub\n+    </a>\n+    <a mat-button class=\"menu-toggle-button\" href=\"https://github.com/rangle/angular-devtools/issues\" target=\"_blank\">\n+      <mat-icon>bug_report</mat-icon>\n+      Issues\n+    </a>\n+  </div>\n+</mat-menu>"
        },
        {
            "sha": "388eec2127c3e2c65f095e8d82af68b990e586dc",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.component.scss",
            "status": "added",
            "additions": 127,
            "deletions": 0,
            "changes": 127,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,127 @@\n+:host {\n+  position: relative;\n+  width: 100%;\n+  height: 100%;\n+  display: block;\n+}\n+\n+.hidden {\n+  display: none;\n+}\n+\n+.tab-content {\n+  height: calc(100% - 31px);\n+}\n+\n+#nav-buttons {\n+  display: flex;\n+}\n+\n+.inspector-active {\n+  color: #1a73e8 !important;\n+}\n+\n+#app-angular-version {\n+  align-self: center;\n+  margin-left: auto;\n+  margin-right: 8px;\n+  font-size: 0.8em;\n+  font-weight: bold;\n+  white-space: nowrap;\n+  text-overflow: ellipsis;\n+  overflow: hidden;\n+}\n+\n+#version-number {\n+  color: #1b1aa5;\n+  cursor: text;\n+  -moz-user-select: text;\n+  -khtml-user-select: text;\n+  -webkit-user-select: text;\n+  -ms-user-select: text;\n+  user-select: text;\n+}\n+\n+button.mat-icon-button {\n+  height: 30px;\n+  width: 30px;\n+  line-height: 30px;\n+  margin-right: 0px;\n+}\n+\n+mat-icon {\n+  font-size: 16px;\n+}\n+\n+.mat-tab-link {\n+  min-width: unset;\n+  line-height: 30px;\n+  height: 30px;\n+  font-size: 13px;\n+  padding: 0px 10px;\n+  opacity: 1;\n+  font-weight: 400;\n+}\n+\n+::ng-deep {\n+  .options-menu {\n+    padding: 1rem 1.25rem;\n+  }\n+\n+  .info-menu {\n+    padding: 0.5rem;\n+    display: flex;\n+    flex-direction: column;\n+  }\n+\n+  .info-menu mat-icon {\n+    height: unset;\n+    width: unset;\n+  }\n+\n+  body.dark-theme .menu-toggle-button {\n+    color: white;\n+  }\n+\n+  .menu-toggle-button {\n+    mat-icon {\n+      position: relative;\n+      top: -1px;\n+      margin-right: 5px;\n+    }\n+  }\n+}\n+\n+.menu-toggle-button {\n+  font-size: 0.7em;\n+  font-weight: 500;\n+  color: #777;\n+}\n+\n+:host-context(.dark-theme) {\n+  #version-number {\n+    color: #5caace;\n+  }\n+\n+  .inspector-active {\n+    color: #4688f1 !important;\n+  }\n+}\n+\n+:host-context(.light-theme) {\n+  mat-icon {\n+    color: rgba(0, 0, 0, 0.87);\n+  }\n+}\n+\n+@media only screen and (max-width: 700px) {\n+  #app-angular-version {\n+    max-width: 135px;\n+  }\n+}\n+\n+@media only screen and (max-width: 420px) {\n+  #app-angular-version {\n+    display: none;\n+  }\n+}"
        },
        {
            "sha": "533e2a6a1cd54bcdabee06adcf6fcd401784bd08",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.component.ts",
            "status": "added",
            "additions": 95,
            "deletions": 0,
            "changes": 95,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,95 @@\n+/// <reference types=\"resize-observer-browser\" />\n+import { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\n+import { Events, MessageBus, Route } from 'protocol';\n+import { DirectiveExplorerComponent } from './directive-explorer/directive-explorer.component';\n+import { ApplicationEnvironment } from '../application-environment/index';\n+import { MatSlideToggleChange } from '@angular/material/slide-toggle';\n+import { TabUpdate } from './tab-update/index';\n+import { Theme, ThemeService } from '../theme-service';\n+import { Subscription } from 'rxjs';\n+import { MatTabNav } from '@angular/material/tabs';\n+\n+@Component({\n+  selector: 'ng-devtools-tabs',\n+  templateUrl: './devtools-tabs.component.html',\n+  styleUrls: ['./devtools-tabs.component.scss'],\n+})\n+export class DevToolsTabsComponent implements OnInit, OnDestroy, AfterViewInit {\n+  @Input() angularVersion: string | undefined = undefined;\n+  @ViewChild(DirectiveExplorerComponent) directiveExplorer: DirectiveExplorerComponent;\n+  @ViewChild('navBar', { static: true }) navbar: MatTabNav;\n+\n+  activeTab: 'Components' | 'Profiler' | 'Router Tree' = 'Components';\n+\n+  inspectorRunning = false;\n+  routerTreeEnabled = false;\n+  showCommentNodes = false;\n+\n+  private _currentThemeSubscription: Subscription;\n+  currentTheme: Theme;\n+\n+  routes: Route[] = [];\n+\n+  constructor(\n+    public tabUpdate: TabUpdate,\n+    public themeService: ThemeService,\n+    private _messageBus: MessageBus<Events>,\n+    private _applicationEnvironment: ApplicationEnvironment\n+  ) {}\n+\n+  ngOnInit(): void {\n+    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => (this.currentTheme = theme));\n+\n+    this._messageBus.on('updateRouterTree', (routes) => {\n+      this.routes = routes || [];\n+    });\n+  }\n+\n+  get tabs(): string[] {\n+    const alwaysShown = ['Components', 'Profiler'];\n+    return this.routes.length === 0 ? alwaysShown : [...alwaysShown, 'Router Tree'];\n+  }\n+\n+  ngAfterViewInit(): void {\n+    this.navbar.disablePagination = true;\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._currentThemeSubscription.unsubscribe();\n+  }\n+\n+  get latestSHA(): string {\n+    return this._applicationEnvironment.environment.process.env.LATEST_SHA;\n+  }\n+\n+  changeTab(tab: 'Profiler' | 'Components' | 'Router Tree'): void {\n+    this.activeTab = tab;\n+    this.tabUpdate.notify();\n+    if (tab === 'Router Tree') {\n+      this._messageBus.emit('getRoutes');\n+    }\n+  }\n+\n+  toggleInspector(): void {\n+    this.toggleInspectorState();\n+    this.emitInspectorEvent();\n+  }\n+\n+  emitInspectorEvent(): void {\n+    if (this.inspectorRunning) {\n+      this._messageBus.emit('inspectorStart');\n+      this.changeTab('Components');\n+    } else {\n+      this._messageBus.emit('inspectorEnd');\n+      this._messageBus.emit('removeHighlightOverlay');\n+    }\n+  }\n+\n+  toggleInspectorState(): void {\n+    this.inspectorRunning = !this.inspectorRunning;\n+  }\n+\n+  toggleTimingAPI(change: MatSlideToggleChange): void {\n+    change.checked ? this._messageBus.emit('enableTimingAPI') : this._messageBus.emit('disableTimingAPI');\n+  }\n+}"
        },
        {
            "sha": "f051358f6c6d9bb00f8da6697e6e00c6e137d390",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.module.ts",
            "status": "added",
            "additions": 34,
            "deletions": 0,
            "changes": 34,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,34 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { DevToolsTabsComponent } from './devtools-tabs.component';\n+\n+import { MatTabsModule } from '@angular/material/tabs';\n+import { MatIconModule } from '@angular/material/icon';\n+\n+import { DirectiveExplorerModule } from './directive-explorer/directive-explorer.module';\n+import { ProfilerModule } from './profiler/profiler.module';\n+import { RouterTreeModule } from './router-tree/router-tree.module';\n+import { MatMenuModule } from '@angular/material/menu';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+import { MatSlideToggleModule } from '@angular/material/slide-toggle';\n+import { TabUpdate } from './tab-update/index';\n+\n+@NgModule({\n+  declarations: [DevToolsTabsComponent],\n+  imports: [\n+    MatTabsModule,\n+    MatIconModule,\n+    DirectiveExplorerModule,\n+    ProfilerModule,\n+    RouterTreeModule,\n+    CommonModule,\n+    MatMenuModule,\n+    MatButtonModule,\n+    MatSlideToggleModule,\n+    MatTooltipModule,\n+  ],\n+  providers: [TabUpdate],\n+  exports: [DevToolsTabsComponent],\n+})\n+export class DevToolsTabModule {}"
        },
        {
            "sha": "5f1dcaa9671d4ea7fd0cd133a40a35b9e6822228",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.spec.ts",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,46 @@\n+import { DevToolsTabsComponent } from './devtools-tabs.component';\n+import { ApplicationEnvironment } from '../application-environment/index';\n+import { Events, MessageBus } from 'protocol';\n+import { TabUpdate } from './tab-update/index';\n+\n+describe('DevtoolsTabsComponent', () => {\n+  let messageBusMock: MessageBus<Events>;\n+  let applicationEnvironmentMock: ApplicationEnvironment;\n+  let comp: DevToolsTabsComponent;\n+  let mockThemeService: any;\n+\n+  beforeEach(() => {\n+    messageBusMock = jasmine.createSpyObj('messageBus', ['on', 'once', 'emit', 'destroy']);\n+    applicationEnvironmentMock = jasmine.createSpyObj('applicationEnvironment', ['environment']);\n+    mockThemeService = {};\n+\n+    comp = new DevToolsTabsComponent(\n+      new TabUpdate(),\n+      mockThemeService as any,\n+      messageBusMock,\n+      applicationEnvironmentMock\n+    );\n+  });\n+\n+  it('should create instance from class', () => {\n+    expect(comp).toBeTruthy();\n+  });\n+\n+  it('toggles inspector flag', () => {\n+    expect(comp.inspectorRunning).toBe(false);\n+    comp.toggleInspectorState();\n+    expect(comp.inspectorRunning).toBe(true);\n+    comp.toggleInspectorState();\n+    expect(comp.inspectorRunning).toBe(false);\n+  });\n+\n+  it('emits inspector event', () => {\n+    comp.toggleInspector();\n+    expect(messageBusMock.emit).toHaveBeenCalledTimes(1);\n+    expect(messageBusMock.emit).toHaveBeenCalledWith('inspectorStart');\n+    comp.toggleInspector();\n+    expect(messageBusMock.emit).toHaveBeenCalledTimes(3);\n+    expect(messageBusMock.emit).toHaveBeenCalledWith('inspectorEnd');\n+    expect(messageBusMock.emit).toHaveBeenCalledWith('removeHighlightOverlay');\n+  });\n+});"
        },
        {
            "sha": "8ad1be11115dd2f53a07b3eb96708acca600f225",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing/BUILD.bazel",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,18 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"diffing\",\n+    srcs = glob(\n+        include = [\n+            \"index.ts\",\n+        ],\n+    ),\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "4e244ade2107d0296164fd3cc28064f1a7679e26",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing/index.ts",
            "status": "added",
            "additions": 90,
            "deletions": 0,
            "changes": 90,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,90 @@\n+import { DefaultIterableDiffer } from '@angular/core';\n+\n+export interface MovedRecord {\n+  currentIndex: number;\n+  previousIndex: number;\n+}\n+\n+export const diff = <T>(\n+  differ: DefaultIterableDiffer<T>,\n+  a: T[],\n+  b: T[]\n+): {\n+  newItems: T[];\n+  removedItems: T[];\n+  movedItems: T[];\n+} => {\n+  differ.diff(a);\n+  differ.diff(b);\n+\n+  const alreadySet: boolean[] = [];\n+  const movedItems: T[] = [];\n+\n+  // We first have to set the moved items to their correct positions.\n+  // Keep in mind that the track by function may not guarantee\n+  // that we haven't changed any of the items' props.\n+  differ.forEachMovedItem(record => {\n+    if (record.currentIndex === null) {\n+      return;\n+    }\n+    if (record.previousIndex === null) {\n+      return;\n+    }\n+    // We want to preserve the reference so that a default\n+    // track by function used by the CDK, for instance, can\n+    // recognize that this item's identity hasn't changed.\n+    // At the same time, since we don't have the guarantee\n+    // that we haven't already set the previousIndex while\n+    // iterating, we need to check that. If we have, we assign\n+    // this array item to a new object. We don't want to risk\n+    // changing the properties of an object we'll use in the future.\n+    if (!alreadySet[record.previousIndex]) {\n+      a[record.currentIndex] = a[record.previousIndex];\n+    } else {\n+      a[record.currentIndex] = {} as T;\n+    }\n+    Object.keys(b[record.currentIndex]).forEach(prop => {\n+      // TypeScript's type inference didn't follow the check from above.\n+      if (record.currentIndex === null) {\n+        return;\n+      }\n+      a[record.currentIndex][prop] = b[record.currentIndex][prop];\n+    });\n+    if (!alreadySet[record.previousIndex]) {\n+      // tslint:disable-next-line: no-non-null-assertion\n+      a[record.previousIndex] = null!;\n+    }\n+    alreadySet[record.currentIndex] = true;\n+    movedItems.push(a[record.currentIndex]);\n+  });\n+\n+  // Now we can set the new items and remove the deleted ones.\n+  const newItems: T[] = [];\n+  const removedItems: T[] = [];\n+  differ.forEachAddedItem(record => {\n+    if (record.currentIndex !== null && record.previousIndex === null) {\n+      a[record.currentIndex] = record.item;\n+      alreadySet[record.currentIndex] = true;\n+      newItems.push(record.item);\n+    }\n+  });\n+\n+  differ.forEachRemovedItem(record => {\n+    if (record.previousIndex === null) {\n+      return;\n+    }\n+    if (record.currentIndex === null && !alreadySet[record.previousIndex]) {\n+      // tslint:disable-next-line: no-non-null-assertion\n+      a[record.previousIndex] = null!;\n+    }\n+    removedItems.push(record.item);\n+  });\n+\n+  for (let i = a.length - 1; i >= 0; i--) {\n+    if (a[i] === null) {\n+      a.splice(i, 1);\n+    }\n+  }\n+\n+  return { newItems, removedItems, movedItems };\n+};"
        },
        {
            "sha": "379b8d1bbad4dfb1523b2cfacaa8e16ddcabdfaf",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/BUILD.bazel",
            "status": "added",
            "additions": 61,
            "deletions": 0,
            "changes": 61,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,61 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"directive-explorer-component-styles\",\n+    src = \"directive-explorer.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"directive-explorer\",\n+    srcs = [\n+        \"directive-explorer.component.ts\",\n+        \"directive-explorer.module.ts\",\n+    ],\n+    angular_assets = [\n+        \"directive-explorer.component.html\",\n+        \":directive-explorer-component-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/application-operations\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab\",\n+        \"//projects/ng-devtools/src/lib/vendor/angular-split\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"directive-explorer-test\",\n+    srcs = [\"directive-explorer.spec.ts\"],\n+    deps = [\n+        \":directive-explorer\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":directive-explorer-test\",\n+    ],\n+)"
        },
        {
            "sha": "9c8ffdba6f8ac3c47955f945952364f8e810ae67",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.html",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+<as-split unit=\"percent\" [direction]=\"splitDirection\" [gutterSize]=\"9\">\n+  <as-split-area #directiveForestSplitArea size=\"60\">\n+    <as-split direction=\"vertical\" [gutterSize]=\"9\" unit=\"pixel\" [disabled]=\"true\">\n+      <as-split-area size=\"*\">\n+        <ng-directive-forest\n+          (selectNode)=\"handleNodeSelection($event)\"\n+          (selectDomElement)=\"handleSelectDomElement($event)\"\n+          (setParents)=\"handleSetParents($event)\"\n+          (highlightComponent)=\"highlightComponent($event)\"\n+          (removeComponentHighlight)=\"removeComponentHighlight()\"\n+          (toggleInspector)=\"toggleInspector.emit()\"\n+          [forest]=\"forest\"\n+          [currentSelectedElement]=\"currentSelectedElement\"\n+          [showCommentNodes]=\"showCommentNodes\"\n+        ></ng-directive-forest>\n+      </as-split-area>\n+      <as-split-area size=\"22\">\n+        <ng-breadcrumbs\n+          (mouseLeaveNode)=\"unhighlight()\"\n+          (mouseOverNode)=\"highlight($event)\"\n+          *ngIf=\"parents\"\n+          (handleSelect)=\"handleSelect($event)\"\n+          [parents]=\"parents\"\n+        >\n+        </ng-breadcrumbs>\n+      </as-split-area>\n+    </as-split>\n+  </as-split-area>\n+  <as-split-area size=\"40\" minSize=\"25\">\n+    <div class=\"property-tab-wrapper\">\n+      <ng-property-tab\n+        [currentSelectedElement]=\"currentSelectedElement\"\n+        (inspect)=\"inspect($event)\"\n+        (viewSource)=\"viewSource()\"\n+      ></ng-property-tab>\n+    </div>\n+  </as-split-area>\n+</as-split>"
        },
        {
            "sha": "5e8c4a13eb6262408090b3f53580f923081537d0",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.scss",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,19 @@\n+:host {\n+  height: 100%;\n+\n+  ::ng-deep {\n+    as-split-area {\n+      overflow-y: hidden;\n+    }\n+\n+    .as-split-gutter-icon {\n+      display: none;\n+    }\n+  }\n+}\n+\n+.property-tab-wrapper {\n+  overflow: auto;\n+  height: 100%;\n+  width: 100%;\n+}"
        },
        {
            "sha": "766f10233791851ae0f2b35576ec2c402024da5c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.ts",
            "status": "added",
            "additions": 230,
            "deletions": 0,
            "changes": 230,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,230 @@\n+import {\n+  ChangeDetectorRef,\n+  Component,\n+  ElementRef,\n+  EventEmitter,\n+  Input,\n+  NgZone,\n+  OnDestroy,\n+  OnInit,\n+  Output,\n+  ViewChild,\n+} from '@angular/core';\n+import {\n+  MessageBus,\n+  Events,\n+  DevToolsNode,\n+  ComponentExplorerViewQuery,\n+  ComponentExplorerView,\n+  ElementPosition,\n+  PropertyQuery,\n+  PropertyQueryTypes,\n+  DirectivePosition,\n+} from 'protocol';\n+import { IndexedNode } from './directive-forest/index-forest';\n+import { ApplicationOperations } from '../../application-operations/index';\n+import { ElementPropertyResolver } from './property-resolver/element-property-resolver';\n+import { FlatNode } from './directive-forest/component-data-source';\n+import { FlatNode as PropertyFlatNode } from './property-resolver/element-property-resolver';\n+import { DirectiveForestComponent } from './directive-forest/directive-forest.component';\n+import { constructPathOfKeysToPropertyValue } from './property-resolver/directive-property-resolver';\n+import { BreadcrumbsComponent } from './directive-forest/breadcrumbs/breadcrumbs.component';\n+import { SplitComponent } from '../../../lib/vendor/angular-split/public_api';\n+\n+const sameDirectives = (a: IndexedNode, b: IndexedNode) => {\n+  if ((a.component && !b.component) || (!a.component && b.component)) {\n+    return false;\n+  }\n+  if (a.component && b.component && a.component.id !== b.component.id) {\n+    return false;\n+  }\n+  const aDirectives = new Set(a.directives.map((d) => d.id));\n+  for (const dir of b.directives) {\n+    if (!aDirectives.has(dir.id)) {\n+      return false;\n+    }\n+  }\n+  return true;\n+};\n+\n+@Component({\n+  selector: 'ng-directive-explorer',\n+  templateUrl: './directive-explorer.component.html',\n+  styleUrls: ['./directive-explorer.component.scss'],\n+  providers: [\n+    {\n+      provide: ElementPropertyResolver,\n+      useClass: ElementPropertyResolver,\n+    },\n+  ],\n+})\n+export class DirectiveExplorerComponent implements OnInit, OnDestroy {\n+  @Input() showCommentNodes = false;\n+  @Output() toggleInspector = new EventEmitter<void>();\n+\n+  @ViewChild(DirectiveForestComponent) directiveForest: DirectiveForestComponent;\n+  @ViewChild(BreadcrumbsComponent) breadcrumbs: BreadcrumbsComponent;\n+  @ViewChild(SplitComponent, { static: true, read: ElementRef }) splitElementRef: ElementRef;\n+  @ViewChild('directiveForestSplitArea', { static: true, read: ElementRef }) directiveForestSplitArea: ElementRef;\n+\n+  currentSelectedElement: IndexedNode | null = null;\n+  forest: DevToolsNode[];\n+  splitDirection: 'horizontal' | 'vertical' = 'horizontal';\n+  parents: FlatNode[] | null = null;\n+\n+  private _resizeObserver = new ResizeObserver((entries) =>\n+    this._ngZone.run(() => {\n+      const resizedEntry = entries[0];\n+\n+      if (resizedEntry.target === this.splitElementRef.nativeElement) {\n+        this.splitDirection = resizedEntry.contentRect.width <= 500 ? 'vertical' : 'horizontal';\n+      }\n+\n+      if (!this.breadcrumbs) {\n+        return;\n+      }\n+\n+      this.breadcrumbs.updateScrollButtonVisibility();\n+    })\n+  );\n+\n+  private _clickedElement: IndexedNode | null = null;\n+  private _refreshRetryTimeout: any = null;\n+\n+  constructor(\n+    private _appOperations: ApplicationOperations,\n+    private _messageBus: MessageBus<Events>,\n+    private _propResolver: ElementPropertyResolver,\n+    private _cdr: ChangeDetectorRef,\n+    private _ngZone: NgZone\n+  ) {}\n+\n+  ngOnInit(): void {\n+    this.subscribeToBackendEvents();\n+    this.refresh();\n+    this._resizeObserver.observe(this.splitElementRef.nativeElement);\n+    this._resizeObserver.observe(this.directiveForestSplitArea.nativeElement);\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._resizeObserver.unobserve(this.splitElementRef.nativeElement);\n+    this._resizeObserver.unobserve(this.directiveForestSplitArea.nativeElement);\n+  }\n+\n+  handleNodeSelection(node: IndexedNode | null): void {\n+    if (node) {\n+      // We want to guarantee that we're not reusing any of the previous properties.\n+      // That's possible if the user has selected an NgForOf and after that\n+      // they select another NgForOf instance. In this case, we don't want to diff the props\n+      // we want to render from scratch.\n+      if (this._clickedElement && !sameDirectives(this._clickedElement, node)) {\n+        this._propResolver.clearProperties();\n+      }\n+      this._clickedElement = node;\n+      this._messageBus.emit('setSelectedComponent', [node.position]);\n+      this.refresh();\n+    } else {\n+      this._clickedElement = this.currentSelectedElement = null;\n+    }\n+  }\n+\n+  subscribeToBackendEvents(): void {\n+    this._messageBus.on('latestComponentExplorerView', (view: ComponentExplorerView) => {\n+      this.forest = view.forest;\n+      this.currentSelectedElement = this._clickedElement;\n+      if (view.properties && this.currentSelectedElement) {\n+        this._propResolver.setProperties(this.currentSelectedElement, view.properties);\n+      }\n+    });\n+\n+    this._messageBus.on('componentTreeDirty', () => this.refresh());\n+  }\n+\n+  refresh(): void {\n+    const success = this._messageBus.emit('getLatestComponentExplorerView', [this._constructViewQuery()]);\n+    // If the event was not throttled, we no longer need to retry.\n+    if (success) {\n+      clearTimeout(this._refreshRetryTimeout);\n+      this._refreshRetryTimeout = null;\n+      return;\n+    }\n+    // If the event was throttled and we haven't scheduled a retry yet.\n+    if (!this._refreshRetryTimeout) {\n+      this._refreshRetryTimeout = setTimeout(() => this.refresh(), 500);\n+    }\n+  }\n+\n+  viewSource(): void {\n+    if (!this.currentSelectedElement) {\n+      return;\n+    }\n+    this._appOperations.viewSource(this.currentSelectedElement.position);\n+  }\n+\n+  handleSelectDomElement(node: IndexedNode): void {\n+    this._appOperations.selectDomElement(node.position);\n+  }\n+\n+  highlight(node: FlatNode): void {\n+    if (!node.original.component) {\n+      return;\n+    }\n+    this._messageBus.emit('createHighlightOverlay', [node.position]);\n+  }\n+\n+  unhighlight(): void {\n+    this._messageBus.emit('removeHighlightOverlay');\n+  }\n+\n+  private _constructViewQuery(): ComponentExplorerViewQuery | undefined {\n+    if (!this._clickedElement) {\n+      return;\n+    }\n+    return {\n+      selectedElement: this._clickedElement.position,\n+      propertyQuery: this._getPropertyQuery(),\n+    };\n+  }\n+\n+  private _getPropertyQuery(): PropertyQuery {\n+    // Here we handle the case when a given element has already been selected.\n+    // We check if we're dealing with the same instance (i.e., if we have the same\n+    // set of directives and component on it), if we do, we want to get the same\n+    // set of properties which are already expanded.\n+    if (\n+      !this._clickedElement ||\n+      !this.currentSelectedElement ||\n+      !sameDirectives(this._clickedElement, this.currentSelectedElement)\n+    ) {\n+      return {\n+        type: PropertyQueryTypes.All,\n+      };\n+    }\n+    return {\n+      type: PropertyQueryTypes.Specified,\n+      properties: this._propResolver.getExpandedProperties() || {},\n+    };\n+  }\n+\n+  highlightComponent(position: ElementPosition): void {\n+    this._messageBus.emit('createHighlightOverlay', [position]);\n+  }\n+\n+  removeComponentHighlight(): void {\n+    this._messageBus.emit('removeHighlightOverlay');\n+  }\n+\n+  handleSelect(node: FlatNode): void {\n+    this.directiveForest.handleSelect(node);\n+  }\n+\n+  handleSetParents(parents: FlatNode[] | null): void {\n+    this.parents = parents;\n+    this._cdr.detectChanges();\n+  }\n+\n+  inspect({ node, directivePosition }: { node: PropertyFlatNode; directivePosition: DirectivePosition }): void {\n+    const objectPath = constructPathOfKeysToPropertyValue(node.prop);\n+    this._appOperations.inspect(directivePosition, objectPath);\n+  }\n+}"
        },
        {
            "sha": "8596b335daee0ee2c3923d997deca79019aebb5a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.module.ts",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,33 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { MatIconModule } from '@angular/material/icon';\n+\n+import { DirectiveExplorerComponent } from './directive-explorer.component';\n+import { MatTreeModule } from '@angular/material/tree';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatCardModule } from '@angular/material/card';\n+import { MatSnackBarModule } from '@angular/material/snack-bar';\n+import { PropertyTabModule } from './property-tab/property-tab.module';\n+import { DirectiveForestModule } from './directive-forest/directive-forest.module';\n+import { ScrollingModule } from '@angular/cdk/scrolling';\n+import { AngularSplitModule } from '../../vendor/angular-split/public_api';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+\n+@NgModule({\n+  declarations: [DirectiveExplorerComponent],\n+  exports: [DirectiveExplorerComponent],\n+  imports: [\n+    MatTreeModule,\n+    MatCardModule,\n+    ScrollingModule,\n+    MatIconModule,\n+    CommonModule,\n+    PropertyTabModule,\n+    MatButtonModule,\n+    MatSnackBarModule,\n+    AngularSplitModule,\n+    DirectiveForestModule,\n+    MatTooltipModule,\n+  ],\n+})\n+export class DirectiveExplorerModule {}"
        },
        {
            "sha": "0e0d06a99a290ceffa032ebfba99a6c0fa70c051",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.spec.ts",
            "status": "added",
            "additions": 84,
            "deletions": 0,
            "changes": 84,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-explorer.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,84 @@\n+import { DirectiveExplorerComponent } from './directive-explorer.component';\n+import { PropertyQueryTypes } from 'protocol';\n+import { IndexedNode } from './directive-forest/index-forest';\n+import SpyObj = jasmine.SpyObj;\n+import { ElementPropertyResolver } from './property-resolver/element-property-resolver';\n+\n+describe('DirectiveExplorerComponent', () => {\n+  let messageBusMock: any;\n+  let comp: DirectiveExplorerComponent;\n+  let applicationOperationsSpy: any;\n+  let cdr: any;\n+  let ngZone: any;\n+\n+  beforeEach(() => {\n+    applicationOperationsSpy = jasmine.createSpyObj('_appOperations', ['viewSource', 'selectDomElement']);\n+    messageBusMock = jasmine.createSpyObj('messageBus', ['on', 'once', 'emit', 'destroy']);\n+    cdr = jasmine.createSpyObj('_cdr', ['detectChanges']);\n+    ngZone = jasmine.createSpyObj('_ngZone', ['run']);\n+    comp = new DirectiveExplorerComponent(\n+      applicationOperationsSpy,\n+      messageBusMock,\n+      new ElementPropertyResolver(messageBusMock),\n+      cdr,\n+      ngZone\n+    );\n+  });\n+\n+  it('should create instance from class', () => {\n+    expect(comp).toBeTruthy();\n+  });\n+\n+  it('subscribe to backend events', () => {\n+    comp.subscribeToBackendEvents();\n+    expect(messageBusMock.on).toHaveBeenCalledTimes(2);\n+    expect(messageBusMock.on).toHaveBeenCalledWith('latestComponentExplorerView', jasmine.any(Function));\n+    expect(messageBusMock.on).toHaveBeenCalledWith('componentTreeDirty', jasmine.any(Function));\n+  });\n+\n+  describe('refresh', () => {\n+    it('should emit getLatestComponentExplorerView event on refresh', () => {\n+      comp.refresh();\n+      expect(messageBusMock.emit).toHaveBeenCalledTimes(1);\n+    });\n+\n+    it('should emit getLatestComponentExplorerView event with null view query', () => {\n+      comp.refresh();\n+      expect(messageBusMock.emit).toHaveBeenCalledWith('getLatestComponentExplorerView', [undefined]);\n+    });\n+\n+    it('should emit getLatestComponentExplorerView event on refresh with view query no properties', () => {\n+      const currentSelectedElement = jasmine.createSpyObj('currentSelectedElement', ['position', 'children']);\n+      currentSelectedElement.position = [0];\n+      currentSelectedElement.children = [];\n+      comp.currentSelectedElement = currentSelectedElement;\n+      comp.refresh();\n+      expect(comp.currentSelectedElement).toBeTruthy();\n+      expect(messageBusMock.emit).toHaveBeenCalledWith('getLatestComponentExplorerView', [undefined]);\n+    });\n+  });\n+\n+  describe('node selection event', () => {\n+    let nodeMock: SpyObj<IndexedNode>;\n+\n+    beforeEach(() => {\n+      nodeMock = jasmine.createSpyObj('node', ['position', 'children']);\n+    });\n+\n+    it('fires node selection events', () => {\n+      const position = [0];\n+      nodeMock.position = position;\n+      comp.handleNodeSelection(nodeMock);\n+      expect(messageBusMock.emit).toHaveBeenCalledTimes(2);\n+      expect(messageBusMock.emit).toHaveBeenCalledWith('setSelectedComponent', [nodeMock.position]);\n+      expect(messageBusMock.emit).toHaveBeenCalledWith('getLatestComponentExplorerView', [\n+        {\n+          selectedElement: position,\n+          propertyQuery: {\n+            type: PropertyQueryTypes.All,\n+          },\n+        },\n+      ]);\n+    });\n+  });\n+});"
        },
        {
            "sha": "4e936b9b5dac16cf9de36b9c0252a8cfad3b5a30",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/BUILD.bazel",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"directive-forest-component-styles\",\n+    src = \"directive-forest.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"directive-forest\",\n+    srcs = [\n+        \"directive-forest.component.ts\",\n+        \"directive-forest.module.ts\",\n+        \"directive-forest-utils.ts\",\n+    ],\n+    angular_assets = [\n+        \"directive-forest.component.html\",\n+        \":directive-forest-component-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "f8357e07fdb79f18e215af94b02efe9ff977d07c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs/BUILD.bazel",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,30 @@\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"breadcrumbs-component-styles\",\n+    src = \"breadcrumbs.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"breadcrumbs\",\n+    srcs = [\n+        \"breadcrumbs.component.ts\",\n+        \"breadcrumbs.module.ts\",\n+    ],\n+    angular_assets = [\n+        \"breadcrumbs.component.html\",\n+        \":breadcrumbs-component-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "29a28abf56c69853d8e5522c3da6280f9452647d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs/breadcrumbs.component.html",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,23 @@\n+<mat-card class=\"breadcrumb-card\">\n+  <button class=\"scroll-button\" [class.hidden]=\"!showScrollLeftButton\" (click)=\"scroll(-100)\">\n+    <mat-icon> more_horiz </mat-icon>\n+  </button>\n+\n+  <div class=\"breadcrumbs\" #breadcrumbs (scroll)=\"updateScrollButtonVisibility$.next()\">\n+    <button\n+      *ngFor=\"let node of parents; let last = last\"\n+      (mouseover)=\"mouseOverNode.emit(node)\"\n+      (mouseleave)=\"mouseLeaveNode.emit(node)\"\n+      mat-button\n+      color=\"primary\"\n+      (click)=\"handleSelect.emit(node)\"\n+      [class.selected]=\"last\"\n+    >\n+      {{ node.original.component?.name || node.original.element }}\n+    </button>\n+  </div>\n+\n+  <button class=\"scroll-button\" [class.hidden]=\"!showScrollRightButton\" (click)=\"scroll(100)\">\n+    <mat-icon> more_horiz </mat-icon>\n+  </button>\n+</mat-card>"
        },
        {
            "sha": "452226510db85f6eafc1513b12a10048bb24a96e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs/breadcrumbs.component.scss",
            "status": "added",
            "additions": 75,
            "deletions": 0,
            "changes": 75,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,75 @@\n+.mat-card.breadcrumb-card {\n+  padding: 0;\n+  width: 100%;\n+  height: 24px;\n+  display: flex;\n+\n+  .scroll-button {\n+    height: 100%;\n+    background-color: rgb(243, 243, 243);\n+    border: none;\n+    cursor: pointer;\n+\n+    &.hidden {\n+      visibility: hidden;\n+    }\n+  }\n+\n+  .breadcrumbs {\n+    overflow-x: auto;\n+    white-space: nowrap;\n+    display: inline-block;\n+    width: calc(100% - 50px);\n+    height: 100%;\n+    scroll-behavior: smooth;\n+\n+    &::-webkit-scrollbar {\n+      display: none;\n+    }\n+\n+    button {\n+      &.selected {\n+        background-color: rgb(243, 243, 243);\n+      }\n+    }\n+  }\n+\n+  .mat-button {\n+    height: 20px;\n+    line-height: 20px;\n+    font-size: 11px;\n+    margin-right: 5px;\n+    width: fit-content;\n+    color: #8a1882;\n+\n+    &:hover {\n+      background-color: #ebf1fb;\n+    }\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .mat-card {\n+    &.breadcrumb-card {\n+      .scroll-button {\n+        background-color: rgb(41, 42, 45);\n+        color: #ffffff;\n+      }\n+\n+      .breadcrumbs {\n+        button {\n+          &.selected {\n+            background-color: rgb(41, 42, 45);\n+          }\n+        }\n+      }\n+\n+      .mat-button {\n+        color: #5caace;\n+        &:hover {\n+          background-color: #093e69;\n+        }\n+      }\n+    }\n+  }\n+}"
        },
        {
            "sha": "516af78f110d9b6975c2cd1e5014b7a7ad1ca430",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs/breadcrumbs.component.ts",
            "status": "added",
            "additions": 62,
            "deletions": 0,
            "changes": 62,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,62 @@\n+import {\n+  AfterViewInit,\n+  Component,\n+  ElementRef,\n+  EventEmitter,\n+  HostListener,\n+  Input,\n+  OnChanges,\n+  OnInit,\n+  Output,\n+  ViewChild,\n+} from '@angular/core';\n+import { Subject } from 'rxjs';\n+import { debounceTime } from 'rxjs/operators';\n+import { FlatNode } from '../component-data-source';\n+\n+@Component({\n+  selector: 'ng-breadcrumbs',\n+  templateUrl: './breadcrumbs.component.html',\n+  styleUrls: ['./breadcrumbs.component.scss'],\n+})\n+export class BreadcrumbsComponent implements OnInit, AfterViewInit, OnChanges {\n+  @Input() parents: FlatNode[];\n+  @Output() handleSelect = new EventEmitter();\n+  @Output() mouseOverNode = new EventEmitter();\n+  @Output() mouseLeaveNode = new EventEmitter();\n+\n+  @ViewChild('breadcrumbs') breadcrumbsScrollContent: ElementRef;\n+\n+  showScrollLeftButton = false;\n+  showScrollRightButton = false;\n+\n+  updateScrollButtonVisibility$ = new Subject<void>();\n+\n+  ngOnInit(): void {\n+    this.updateScrollButtonVisibility$.pipe(debounceTime(100)).subscribe(() => this.updateScrollButtonVisibility());\n+  }\n+\n+  ngAfterViewInit(): void {\n+    this.updateScrollButtonVisibility$.next();\n+  }\n+\n+  ngOnChanges(): void {\n+    this.updateScrollButtonVisibility$.next();\n+  }\n+\n+  @HostListener('window:resize', ['$event'])\n+  onResize(): void {\n+    this.updateScrollButtonVisibility$.next();\n+  }\n+\n+  scroll(pixels: number): void {\n+    this.breadcrumbsScrollContent.nativeElement.scrollLeft += pixels;\n+    this.updateScrollButtonVisibility$.next();\n+  }\n+\n+  updateScrollButtonVisibility(): void {\n+    const { clientWidth, scrollWidth, scrollLeft } = this.breadcrumbsScrollContent.nativeElement;\n+    this.showScrollLeftButton = scrollLeft > 0;\n+    this.showScrollRightButton = scrollLeft + clientWidth < scrollWidth;\n+  }\n+}"
        },
        {
            "sha": "5d8f03af271feed57ca5f80f09e00adaafa93a6d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs/breadcrumbs.module.ts",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2Fbreadcrumbs.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { BreadcrumbsComponent } from './breadcrumbs.component';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatCardModule } from '@angular/material/card';\n+import { MatIconModule } from '@angular/material/icon';\n+\n+@NgModule({\n+  declarations: [BreadcrumbsComponent],\n+  imports: [CommonModule, MatCardModule, MatButtonModule, MatIconModule],\n+  exports: [BreadcrumbsComponent],\n+})\n+export class BreadcrumbsModule {}"
        },
        {
            "sha": "3fdac6cabd5c3564998c5e4f89ed5065616660a0",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source/BUILD.bazel",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"component-data-source\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"component-data-source-test\",\n+    srcs = glob([\"**/*.spec.ts\"]),\n+    deps = [\n+        \":component-data-source\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":component-data-source-test\",\n+    ],\n+)"
        },
        {
            "sha": "d1d50d6e545aa04f15f85fde799e72c670adc37c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source/component-data-source.spec.ts",
            "status": "added",
            "additions": 214,
            "deletions": 0,
            "changes": 214,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Fcomponent-data-source.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Fcomponent-data-source.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Fcomponent-data-source.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,214 @@\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+import { ComponentDataSource, FlatNode } from '.';\n+import { DevToolsNode } from 'protocol';\n+\n+const tree1: DevToolsNode = {\n+  element: 'app',\n+  directives: [\n+    {\n+      id: 1,\n+      name: 'foo',\n+    },\n+  ],\n+  component: null,\n+  children: [\n+    {\n+      children: [],\n+      component: {\n+        id: 2,\n+        isElement: false,\n+        name: 'bar',\n+      },\n+      directives: [],\n+      element: 'bar',\n+      nativeElement: document.createElement('bar'),\n+    },\n+  ],\n+  nativeElement: document.createElement('foo'),\n+};\n+\n+const tree2: DevToolsNode = {\n+  element: 'app',\n+  directives: [\n+    {\n+      id: 1,\n+      name: 'foo',\n+    },\n+  ],\n+  component: null,\n+  children: [\n+    {\n+      children: [],\n+      component: {\n+        id: 2,\n+        isElement: false,\n+        name: 'bar',\n+      },\n+      directives: [],\n+      element: 'bar',\n+      nativeElement: document.createElement('bar'),\n+    },\n+    {\n+      children: [],\n+      component: {\n+        id: 3,\n+        isElement: false,\n+        name: 'qux',\n+      },\n+      directives: [],\n+      element: 'qux',\n+      nativeElement: document.createElement('qux'),\n+    },\n+  ],\n+  nativeElement: document.createElement('foo'),\n+};\n+\n+const tree3: DevToolsNode = {\n+  element: 'app',\n+  directives: [\n+    {\n+      id: 1,\n+      name: 'foo',\n+    },\n+  ],\n+  component: null,\n+  children: [\n+    {\n+      children: [],\n+      component: {\n+        id: 2,\n+        isElement: false,\n+        name: 'bar',\n+      },\n+      directives: [],\n+      element: '#comment',\n+      nativeElement: document.createComment('bar'),\n+    },\n+    {\n+      children: [],\n+      component: {\n+        id: 3,\n+        isElement: false,\n+        name: 'qux',\n+      },\n+      directives: [],\n+      element: '#comment',\n+      nativeElement: document.createComment('bar'),\n+    },\n+  ],\n+  nativeElement: document.createElement('foo'),\n+};\n+\n+const tree4: DevToolsNode = {\n+  element: 'app',\n+  directives: [\n+    {\n+      id: 1,\n+      name: 'foo',\n+    },\n+  ],\n+  component: null,\n+  children: [\n+    {\n+      children: [\n+        {\n+          children: [\n+            {\n+              children: [\n+                {\n+                  children: [\n+                    {\n+                      children: [],\n+                      component: {\n+                        id: 6,\n+                        isElement: false,\n+                        name: 'qux',\n+                      },\n+                      directives: [],\n+                      element: 'bar',\n+                      nativeElement: document.createComment('bar'),\n+                    },\n+                  ],\n+                  component: {\n+                    id: 5,\n+                    isElement: false,\n+                    name: 'qux',\n+                  },\n+                  directives: [],\n+                  element: '#comment',\n+                  nativeElement: document.createComment('bar'),\n+                },\n+              ],\n+              component: {\n+                id: 4,\n+                isElement: false,\n+                name: 'qux',\n+              },\n+              directives: [],\n+              element: '#comment',\n+              nativeElement: document.createComment('bar'),\n+            },\n+          ],\n+          component: {\n+            id: 3,\n+            isElement: false,\n+            name: 'qux',\n+          },\n+          directives: [],\n+          element: '#comment',\n+          nativeElement: document.createComment('bar'),\n+        },\n+      ],\n+      component: {\n+        id: 2,\n+        isElement: false,\n+        name: 'bar',\n+      },\n+      directives: [],\n+      element: '#comment',\n+      nativeElement: document.createComment('bar'),\n+    },\n+  ],\n+  nativeElement: document.createElement('foo'),\n+};\n+\n+describe('ComponentDataSource', () => {\n+  let dataSource: ComponentDataSource;\n+  const treeControl = new FlatTreeControl<FlatNode>(\n+    (node) => node.level,\n+    (node) => node.expandable\n+  );\n+\n+  beforeEach(() => (dataSource = new ComponentDataSource(treeControl)));\n+\n+  it('should return new and old items', () => {\n+    const result = dataSource.update([tree1], true);\n+    expect(result.movedItems.length).toBe(0);\n+    expect(result.newItems.length).toBe(2);\n+\n+    const updatedResult = dataSource.update([tree2], true);\n+    expect(updatedResult.movedItems.length).toBe(0);\n+    expect(updatedResult.removedItems.length).toBe(0);\n+    expect(updatedResult.newItems.length).toBe(1);\n+    expect(updatedResult.newItems[0].name).toBe('qux');\n+  });\n+\n+  it('should not return comment nodes when not requested', () => {\n+    const result = dataSource.update([tree3], false);\n+    expect(result.movedItems.length).toBe(0);\n+    expect(result.newItems.length).toBe(1);\n+    expect(result.newItems[0].name).toBe('app');\n+  });\n+\n+  it('should not break nesting with nested comment nodes', () => {\n+    const result = dataSource.update([tree4], false);\n+    expect(result.newItems.length).toBe(2);\n+    expect(result.newItems[0].name).toBe('app');\n+    expect(result.newItems[1].name).toBe('qux');\n+\n+    expect(result.newItems[0].level).toBe(0);\n+    expect(result.newItems[1].level).toBe(1);\n+\n+    expect(result.newItems[1].position).toEqual([0, 0, 0, 0, 0, 0]);\n+  });\n+});"
        },
        {
            "sha": "e51d8ba5468ce47f8afbb73c22d2154ed4f11864",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source/index.ts",
            "status": "added",
            "additions": 171,
            "deletions": 0,
            "changes": 171,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,171 @@\n+import { DevToolsNode } from 'protocol';\n+import { CollectionViewer, DataSource } from '@angular/cdk/collections';\n+import { BehaviorSubject, merge, Observable } from 'rxjs';\n+import { MatTreeFlattener } from '@angular/material/tree';\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+import { map } from 'rxjs/operators';\n+import { DefaultIterableDiffer, TrackByFunction } from '@angular/core';\n+import { IndexedNode, indexForest } from '../index-forest';\n+import { diff } from '../../../diffing';\n+\n+/** Flat node with expandable and level information */\n+export interface FlatNode {\n+  id: string;\n+  expandable: boolean;\n+  name: string;\n+  directives: string;\n+  position: number[];\n+  level: number;\n+  original: IndexedNode;\n+  newItem?: boolean;\n+}\n+\n+const expandable = (node: IndexedNode) => !!node.children && node.children.length > 0;\n+\n+const trackBy: TrackByFunction<FlatNode> = (_: number, item: FlatNode) => `${item.id}#${item.expandable}`;\n+\n+const getId = (node: IndexedNode) => {\n+  let prefix = '';\n+  if (node.component) {\n+    prefix = node.component.id.toString();\n+  }\n+  const dirIds = node.directives\n+    .map((d) => d.id)\n+    .sort((a, b) => {\n+      return a - b;\n+    });\n+  return prefix + '-' + dirIds.join('-');\n+};\n+\n+/**\n+ * Takes an `IndexedNode` forest and returns a transformed forest without `#comment` nodes.\n+ * The algorithm has linear complexity and O(depth(forest)) memory complexity.\n+ *\n+ * @param nodes indexed nodes, which have already have associated positions within the original\n+ *  tree and associated indices.\n+ * @returns forest with filtered `#comment` nodes.\n+ */\n+const filterCommentNodes = (nodes: IndexedNode[]) => {\n+  for (let i = 0; i < nodes.length; i++) {\n+    const node = nodes[i];\n+    if (node.element !== '#comment') {\n+      continue;\n+    }\n+    nodes.splice(i, 1, ...node.children);\n+    i--;\n+  }\n+  for (const node of nodes) {\n+    filterCommentNodes(node.children);\n+  }\n+  return nodes;\n+};\n+\n+export class ComponentDataSource extends DataSource<FlatNode> {\n+  private _differ = new DefaultIterableDiffer<FlatNode>(trackBy);\n+  private _expandedData = new BehaviorSubject<FlatNode[]>([]);\n+  private _flattenedData = new BehaviorSubject<FlatNode[]>([]);\n+  private _nodeToFlat = new WeakMap<IndexedNode, FlatNode>();\n+\n+  private _treeFlattener = new MatTreeFlattener(\n+    (node: IndexedNode, level: number) => {\n+      if (this._nodeToFlat.has(node)) {\n+        return this._nodeToFlat.get(node);\n+      }\n+      const flatNode: FlatNode = {\n+        expandable: expandable(node),\n+        id: getId(node),\n+        // We can compare the nodes in the navigation functions above\n+        // based on this identifier directly, since it's a reference type\n+        // and the reference is preserved after transformation.\n+        position: node.position,\n+        name: node.component ? node.component.name : node.element,\n+        directives: node.directives.map((d) => d.name).join(', '),\n+        original: node,\n+        level,\n+      };\n+      this._nodeToFlat.set(node, flatNode);\n+      return flatNode;\n+    },\n+    (node) => (node ? node.level : -1),\n+    (node) => (node ? node.expandable : false),\n+    (node) => (node ? node.children : [])\n+  );\n+\n+  constructor(private _treeControl: FlatTreeControl<FlatNode>) {\n+    super();\n+  }\n+\n+  get data(): FlatNode[] {\n+    return this._flattenedData.value;\n+  }\n+\n+  get expandedDataValues(): FlatNode[] {\n+    return this._expandedData.value;\n+  }\n+\n+  getFlatNodeFromIndexedNode(indexedNode: IndexedNode): FlatNode | undefined {\n+    return this._nodeToFlat.get(indexedNode);\n+  }\n+\n+  update(\n+    forest: DevToolsNode[],\n+    showCommentNodes: boolean\n+  ): { newItems: FlatNode[]; movedItems: FlatNode[]; removedItems: FlatNode[] } {\n+    if (!forest) {\n+      return { newItems: [], movedItems: [], removedItems: [] };\n+    }\n+\n+    let indexedForest = indexForest(forest);\n+\n+    // We filter comment nodes here because we need to preserve the positions within the component tree.\n+    //\n+    // For example:\n+    // ```\n+    // - #comment\n+    //   - bar\n+    // ```\n+    //\n+    // #comment's position will be [0] and bar's will be [0, 0]. If we trim #comment nodes earlier\n+    // before indexing, bar's position will be [0] which will be inaccurate and will make the backend\n+    // enable to find the corresponding node when we request its properties.\n+    if (!showCommentNodes) {\n+      indexedForest = filterCommentNodes(indexedForest);\n+    }\n+\n+    const flattenedCollection = this._treeFlattener.flattenNodes(indexedForest) as FlatNode[];\n+\n+    this.data.forEach((i) => (i.newItem = false));\n+\n+    const expandedNodes = {};\n+    this.data.forEach((item) => {\n+      expandedNodes[item.id] = this._treeControl.isExpanded(item);\n+    });\n+\n+    const { newItems, movedItems, removedItems } = diff<FlatNode>(this._differ, this.data, flattenedCollection);\n+    this._treeControl.dataNodes = this.data;\n+    this._flattenedData.next(this.data);\n+\n+    movedItems.forEach((i) => {\n+      this._nodeToFlat.set(i.original, i);\n+      if (expandedNodes[i.id]) {\n+        this._treeControl.expand(i);\n+      }\n+    });\n+    newItems.forEach((i) => (i.newItem = true));\n+    removedItems.forEach((i) => this._nodeToFlat.delete(i.original));\n+\n+    return { newItems, movedItems, removedItems };\n+  }\n+\n+  connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n+    const changes = [collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._flattenedData];\n+    return merge(...changes).pipe(\n+      map(() => {\n+        this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this.data, this._treeControl) as FlatNode[]);\n+        return this._expandedData.value;\n+      })\n+    );\n+  }\n+\n+  disconnect(): void {}\n+}"
        },
        {
            "sha": "0fe1605a0e71e502d9309ffd363d4f79ed6a2f1f",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest-utils.ts",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest-utils.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest-utils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest-utils.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,24 @@\n+import { FlatNode } from './component-data-source';\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+\n+export const isChildOf = (childPosition: number[], parentPosition: number[]) => {\n+  if (childPosition.length <= parentPosition.length) {\n+    return false;\n+  }\n+  for (let i = 0; i < parentPosition.length; i++) {\n+    if (childPosition[i] !== parentPosition[i]) {\n+      return false;\n+    }\n+  }\n+  return true;\n+};\n+\n+export const parentCollapsed = (nodeIdx: number, all: FlatNode[], treeControl: FlatTreeControl<FlatNode>) => {\n+  const node = all[nodeIdx];\n+  for (let i = nodeIdx - 1; i >= 0; i--) {\n+    if (isChildOf(node.position, all[i].position) && !treeControl.isExpanded(all[i])) {\n+      return true;\n+    }\n+  }\n+  return false;\n+};"
        },
        {
            "sha": "0c41095f9180235af3e52be3d072278324cb826b",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.html",
            "status": "added",
            "additions": 39,
            "deletions": 0,
            "changes": 39,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,39 @@\n+<ng-filter\n+  [hasMatched]=\"hasMatched\"\n+  (filter)=\"handleFilter($event)\"\n+  (nextMatched)=\"nextMatched()\"\n+  (prevMatched)=\"prevMatched()\"\n+>\n+</ng-filter>\n+<cdk-virtual-scroll-viewport class=\"tree-wrapper\" [itemSize]=\"itemHeight\">\n+  <ng-container *cdkVirtualFor=\"let node of dataSource; let idx = index\">\n+    <div\n+      [ngClass]=\"{\n+        matched: isMatched(node),\n+        selected: isSelected(node),\n+        highlighted: isHighlighted(node),\n+        'new-node': node.newItem\n+      }\"\n+      class=\"tree-node\"\n+      (click)=\"selectAndEnsureVisible(node)\"\n+      (dblclick)=\"handleSelectDomElement(node)\"\n+      (mouseenter)=\"highlightNode(node.position)\"\n+      (mouseleave)=\"removeHighlight()\"\n+      [style.padding-left]=\"15 + 15 * node.level + 'px'\"\n+    >\n+      <button\n+        [style.left]=\"15 * node.level + 'px'\"\n+        *ngIf=\"node.expandable\"\n+        (click)=\"treeControl.toggle(node)\"\n+        [attr.aria-label]=\"'toggle ' + node.name\"\n+      >\n+        <mat-icon class=\"mat-icon-rtl-mirror\">\n+          {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\n+        </mat-icon>\n+      </button>\n+      <span class=\"element-name\" [class.angular-element]=\"isElement(node)\">{{ node.name }}</span>\n+      <span *ngIf=\"node.directives\" class=\"dir-names\">[{{ node.directives }}]</span>\n+      <span class=\"console-reference\" *ngIf=\"isSelected(node)\"> == $ng0 </span>\n+    </div>\n+  </ng-container>\n+</cdk-virtual-scroll-viewport>"
        },
        {
            "sha": "973e60183c34e48fb2b407b763c0fc5bba75aa23",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.scss",
            "status": "added",
            "additions": 158,
            "deletions": 0,
            "changes": 158,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,158 @@\n+:host {\n+  width: 100%;\n+  height: 100%;\n+  overflow: auto;\n+\n+  .tree-node {\n+    position: relative;\n+    color: #8a1882;\n+\n+    cursor: default;\n+    font-family: Menlo, monospace;\n+    font-size: 11px;\n+    line-height: 18px;\n+\n+    white-space: nowrap;\n+    text-overflow: ellipsis;\n+\n+    & > button {\n+      outline: none;\n+      border: 0;\n+      padding: 0;\n+      position: absolute;\n+      background-color: transparent;\n+      top: 2px;\n+    }\n+\n+    .mat-icon {\n+      font-size: 0.8em;\n+      width: 16px;\n+      height: 13px;\n+      display: inline-block;\n+    }\n+\n+    .dir-names {\n+      color: #9b4807;\n+    }\n+\n+    .console-reference {\n+      color: #748591;\n+      padding-left: 8px;\n+      font-style: italic;\n+    }\n+\n+    &:hover {\n+      background-color: #ebf1fb;\n+    }\n+\n+    &.matched {\n+      background-color: #ebf1fb;\n+\n+      &:hover {\n+        background-color: #cfe8fc;\n+      }\n+    }\n+\n+    &.selected,\n+    &.highlighted {\n+      background-color: #cfe8fc;\n+    }\n+  }\n+}\n+\n+@keyframes appear {\n+  0% {\n+    background-color: transparent;\n+  }\n+  50% {\n+    background-color: #cfe8fc;\n+  }\n+  100% {\n+    background-color: transparent;\n+  }\n+}\n+\n+.new-node {\n+  animation: appear 1.5s;\n+}\n+\n+.filter {\n+  display: flex;\n+\n+  .icon {\n+    width: 20px;\n+    height: 20px;\n+    margin: auto 12px;\n+    opacity: 0.7;\n+  }\n+\n+  .filter-input {\n+    border: none;\n+    background: rgba(0, 0, 0, 0.003);\n+    box-shadow: inset 0 -2px 1px rgba(0, 0, 0, 0.03);\n+    width: 100%;\n+    font-size: 2em;\n+    font-family: inherit;\n+    font-weight: inherit;\n+    line-height: 1.4em;\n+    padding: 12px 6px;\n+  }\n+}\n+\n+.up-down-buttons {\n+  width: 20%;\n+  display: flex;\n+}\n+\n+.tree-wrapper {\n+  overflow-y: auto;\n+  height: calc(100% - 33px);\n+}\n+\n+.angular-element {\n+  content: '';\n+  color: #1b1aa5;\n+\n+  &::before {\n+    content: '<';\n+  }\n+\n+  &::after {\n+    content: '/>';\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .tree-node {\n+    color: #5cadd3;\n+\n+    .mat-icon {\n+      color: #bcc5ce;\n+    }\n+\n+    .dir-names {\n+      color: #91adcb;\n+    }\n+\n+    .angular-element {\n+      color: #dc8c61;\n+    }\n+\n+    &:hover {\n+      background-color: #262d36;\n+    }\n+\n+    &.matched {\n+      background-color: #262d36;\n+\n+      &:hover {\n+        background-color: #073d69;\n+      }\n+    }\n+\n+    &.selected,\n+    &.highlighted {\n+      background-color: #073d69;\n+    }\n+  }\n+}"
        },
        {
            "sha": "4a36605ba6b0fa488825c4e1f9862346f1bd9ba4",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.ts",
            "status": "added",
            "additions": 371,
            "deletions": 0,
            "changes": 371,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,371 @@\n+import {\n+  ChangeDetectionStrategy,\n+  ChangeDetectorRef,\n+  Component,\n+  EventEmitter,\n+  HostListener,\n+  Input,\n+  OnInit,\n+  Output,\n+  ViewChild,\n+  OnDestroy,\n+} from '@angular/core';\n+import { DevToolsNode, ElementPosition, Events, MessageBus } from 'protocol';\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+import { ComponentDataSource, FlatNode } from './component-data-source';\n+import { isChildOf, parentCollapsed } from './directive-forest-utils';\n+import { IndexedNode } from './index-forest';\n+import { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\n+import { TabUpdate } from '../../tab-update/index';\n+import { Subscription } from 'rxjs';\n+\n+@Component({\n+  selector: 'ng-directive-forest',\n+  templateUrl: './directive-forest.component.html',\n+  styleUrls: ['./directive-forest.component.scss'],\n+  changeDetection: ChangeDetectionStrategy.OnPush,\n+})\n+export class DirectiveForestComponent implements OnInit, OnDestroy {\n+  @Input() set forest(forest: DevToolsNode[]) {\n+    this._latestForest = forest;\n+    const result = this._updateForest(forest);\n+    const changed = result.movedItems.length || result.newItems.length || result.removedItems.length;\n+    if (this.currentSelectedElement && changed) {\n+      this._reselectNodeOnUpdate();\n+    }\n+  }\n+  @Input() currentSelectedElement: IndexedNode;\n+  @Input() set showCommentNodes(show: boolean) {\n+    this._showCommentNodes = show;\n+    this.forest = this._latestForest;\n+  }\n+\n+  @Output() selectNode = new EventEmitter<IndexedNode | null>();\n+  @Output() selectDomElement = new EventEmitter<IndexedNode>();\n+  @Output() setParents = new EventEmitter<FlatNode[] | null>();\n+  @Output() highlightComponent = new EventEmitter<ElementPosition>();\n+  @Output() removeComponentHighlight = new EventEmitter<void>();\n+  @Output() toggleInspector = new EventEmitter<void>();\n+\n+  @ViewChild(CdkVirtualScrollViewport) viewport: CdkVirtualScrollViewport;\n+\n+  filterRegex = new RegExp('.^');\n+  currentlyMatchedIndex = -1;\n+\n+  selectedNode: FlatNode | null = null;\n+  parents: FlatNode[];\n+\n+  private _highlightIDinTreeFromElement: number | null = null;\n+  private _tabUpdateSubscription: Subscription;\n+  private _showCommentNodes = false;\n+  private _latestForest: DevToolsNode[];\n+\n+  set highlightIDinTreeFromElement(id: number | null) {\n+    this._highlightIDinTreeFromElement = id;\n+    this._cdr.markForCheck();\n+  }\n+\n+  readonly treeControl = new FlatTreeControl<FlatNode>(\n+    (node) => node.level,\n+    (node) => node.expandable\n+  );\n+  readonly dataSource = new ComponentDataSource(this.treeControl);\n+  readonly itemHeight = 18;\n+\n+  private _initialized = false;\n+\n+  constructor(\n+    private _tabUpdate: TabUpdate,\n+    private _messageBus: MessageBus<Events>,\n+    private _cdr: ChangeDetectorRef\n+  ) {}\n+\n+  ngOnInit(): void {\n+    this.subscribeToInspectorEvents();\n+    this._tabUpdateSubscription = this._tabUpdate.tabUpdate$.subscribe(() => {\n+      if (this.viewport) {\n+        setTimeout(() => {\n+          this.viewport.scrollToIndex(0);\n+          this.viewport.checkViewportSize();\n+        });\n+      }\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    if (this._tabUpdateSubscription) {\n+      this._tabUpdateSubscription.unsubscribe();\n+    }\n+  }\n+\n+  subscribeToInspectorEvents(): void {\n+    this._messageBus.on('selectComponent', (id: number) => {\n+      this.selectNodeByComponentId(id);\n+      this.toggleInspector.emit();\n+      this.expandParents();\n+    });\n+\n+    this._messageBus.on('highlightComponent', (id: number) => {\n+      this.highlightIDinTreeFromElement = id;\n+    });\n+\n+    this._messageBus.on('removeComponentHighlight', () => {\n+      this.highlightIDinTreeFromElement = null;\n+    });\n+  }\n+\n+  selectNodeByComponentId(id: number): void {\n+    const foundNode = this.dataSource.data.find((node) => node.original.component?.id === id);\n+    if (foundNode) {\n+      this.handleSelect(foundNode);\n+    }\n+  }\n+\n+  handleSelect(node: FlatNode): void {\n+    this.currentlyMatchedIndex = this.dataSource.data.findIndex((matchedNode) => matchedNode.id === node.id);\n+    this.selectAndEnsureVisible(node);\n+  }\n+\n+  handleSelectDomElement(node: FlatNode): void {\n+    this.selectDomElement.emit(node.original);\n+  }\n+\n+  selectAndEnsureVisible(node: FlatNode): void {\n+    this.select(node);\n+\n+    const scrollParent = this.viewport.elementRef.nativeElement;\n+    // The top most point we see an element\n+    const top = scrollParent.scrollTop;\n+    // That's the bottom most point we currently see an element.\n+    const parentHeight = scrollParent.offsetHeight;\n+    const bottom = top + parentHeight;\n+    const idx = this.dataSource.expandedDataValues.findIndex((el) => el.id === node.id);\n+    // The node might be hidden.\n+    if (idx < 0) {\n+      return;\n+    }\n+    const itemTop = idx * this.itemHeight;\n+    if (itemTop < top) {\n+      scrollParent.scrollTo({ top: itemTop });\n+    } else if (bottom < itemTop + this.itemHeight) {\n+      scrollParent.scrollTo({ top: itemTop - parentHeight + this.itemHeight });\n+    }\n+  }\n+\n+  select(node: FlatNode): void {\n+    this.populateParents(node.position);\n+    this.selectNode.emit(node.original);\n+    this.selectedNode = node;\n+  }\n+\n+  clearSelectedNode(): void {\n+    this.selectNode.emit(null);\n+    this.selectedNode = null;\n+    this.parents = [];\n+    this.setParents.emit(null);\n+  }\n+\n+  private _reselectNodeOnUpdate(): void {\n+    const nodeThatStillExists = this.dataSource.getFlatNodeFromIndexedNode(this.currentSelectedElement);\n+    if (nodeThatStillExists) {\n+      this.select(nodeThatStillExists);\n+    } else {\n+      this.clearSelectedNode();\n+    }\n+  }\n+\n+  private _updateForest(forest: DevToolsNode[]): {\n+    newItems: FlatNode[];\n+    movedItems: FlatNode[];\n+    removedItems: FlatNode[];\n+  } {\n+    const result = this.dataSource.update(forest, this._showCommentNodes);\n+    if (!this._initialized && forest && forest.length) {\n+      this.treeControl.expandAll();\n+      this._initialized = true;\n+      result.newItems.forEach((item) => (item.newItem = false));\n+    }\n+    // We want to expand them once they are rendered.\n+    result.newItems.forEach((item) => {\n+      this.treeControl.expand(item);\n+    });\n+    return result;\n+  }\n+\n+  populateParents(position: ElementPosition): void {\n+    this.parents = [];\n+    for (let i = 1; i <= position.length; i++) {\n+      const current = position.slice(0, i);\n+      const selectedNode = this.dataSource.data.find((item) => item.position.toString() === current.toString());\n+\n+      // We might not be able to find the parent if the user has hidden the comment nodes.\n+      if (selectedNode) {\n+        this.parents.push(selectedNode);\n+      }\n+    }\n+    this.setParents.emit(this.parents);\n+  }\n+\n+  @HostListener('document:keydown.ArrowUp', ['$event'])\n+  navigateUp(event: KeyboardEvent): void {\n+    if (this.isEditingDirectiveState(event)) {\n+      return;\n+    }\n+    event.preventDefault();\n+\n+    const data = this.dataSource.expandedDataValues;\n+    let prevIdx = data.findIndex((e) => this.selectedNode && e.id === this.selectedNode.id) - 1;\n+    if (prevIdx < 0) {\n+      return;\n+    }\n+    let prevNode = data[prevIdx];\n+    const currentNode = data[prevIdx + 1];\n+    if (prevNode.position.length <= currentNode.position.length) {\n+      return this.selectAndEnsureVisible(data[prevIdx]);\n+    }\n+    while (prevIdx >= 0 && parentCollapsed(prevIdx, data, this.treeControl)) {\n+      prevIdx--;\n+      prevNode = data[prevIdx];\n+    }\n+    this.selectAndEnsureVisible(data[prevIdx]);\n+  }\n+\n+  @HostListener('document:keydown.ArrowDown', ['$event'])\n+  navigateDown(event: KeyboardEvent): void {\n+    if (this.isEditingDirectiveState(event)) {\n+      return;\n+    }\n+    event.preventDefault();\n+\n+    const data = this.dataSource.expandedDataValues;\n+    let idx = data.findIndex((e) => this.selectedNode && e.id === this.selectedNode.id);\n+    const currentNode = data[idx];\n+    if (!this.treeControl.isExpanded(currentNode) && currentNode.expandable) {\n+      for (let i = idx + 1; i < data.length; i++) {\n+        const node = data[i];\n+        if (!isChildOf(node.position, currentNode.position)) {\n+          idx = i;\n+          break;\n+        }\n+      }\n+    } else {\n+      idx++;\n+    }\n+    if (idx >= data.length) {\n+      return;\n+    }\n+    this.selectAndEnsureVisible(data[idx]);\n+  }\n+\n+  @HostListener('document:keydown.ArrowLeft', ['$event'])\n+  collapseCurrent(event: KeyboardEvent): void {\n+    if (this.isEditingDirectiveState(event)) {\n+      return;\n+    }\n+    if (!this.selectedNode) {\n+      return;\n+    }\n+    this.treeControl.collapse(this.selectedNode);\n+    event.preventDefault();\n+  }\n+\n+  @HostListener('document:keydown.ArrowRight', ['$event'])\n+  expandCurrent(event: KeyboardEvent): void {\n+    if (this.isEditingDirectiveState(event)) {\n+      return;\n+    }\n+    if (!this.selectedNode) {\n+      return;\n+    }\n+    this.treeControl.expand(this.selectedNode);\n+    event.preventDefault();\n+  }\n+\n+  isEditingDirectiveState(event: KeyboardEvent): boolean {\n+    return (event.target as Element).tagName === 'INPUT' || !this.selectedNode;\n+  }\n+\n+  isSelected(node: FlatNode): boolean {\n+    return !!this.selectedNode && this.selectedNode.id === node.id;\n+  }\n+\n+  isMatched(node: FlatNode): boolean {\n+    return this.filterRegex.test(node.name.toLowerCase()) || this.filterRegex.test(node.directives.toLowerCase());\n+  }\n+\n+  handleFilter(filterText: string): void {\n+    this.currentlyMatchedIndex = -1;\n+\n+    try {\n+      this.filterRegex = new RegExp(filterText.toLowerCase() || '.^');\n+    } catch {\n+      this.filterRegex = new RegExp('.^');\n+    }\n+  }\n+\n+  private _findMatchedNodes(): number[] {\n+    const indexesOfMatchedNodes: number[] = [];\n+    for (let i = 0; i < this.dataSource.data.length; i++) {\n+      if (this.isMatched(this.dataSource.data[i])) {\n+        indexesOfMatchedNodes.push(i);\n+      }\n+    }\n+    return indexesOfMatchedNodes;\n+  }\n+\n+  get hasMatched(): boolean {\n+    return this._findMatchedNodes().length > 0;\n+  }\n+\n+  nextMatched(): void {\n+    const indexesOfMatchedNodes = this._findMatchedNodes();\n+    this.currentlyMatchedIndex = (this.currentlyMatchedIndex + 1) % indexesOfMatchedNodes.length;\n+    const indexToSelect = indexesOfMatchedNodes[this.currentlyMatchedIndex];\n+    const nodeToSelect = this.dataSource.data[indexToSelect];\n+    if (indexToSelect !== undefined) {\n+      this.treeControl.expand(nodeToSelect);\n+      this.selectAndEnsureVisible(nodeToSelect);\n+    }\n+    const nodeIsVisible = this.dataSource.expandedDataValues.find((node) => node === nodeToSelect);\n+    if (!nodeIsVisible) {\n+      this.expandParents();\n+    }\n+  }\n+\n+  prevMatched(): void {\n+    const indexesOfMatchedNodes = this._findMatchedNodes();\n+    this.currentlyMatchedIndex =\n+      (this.currentlyMatchedIndex - 1 + indexesOfMatchedNodes.length) % indexesOfMatchedNodes.length;\n+    const indexToSelect = indexesOfMatchedNodes[this.currentlyMatchedIndex];\n+    const nodeToSelect = this.dataSource.data[indexToSelect];\n+    if (indexToSelect !== undefined) {\n+      this.treeControl.expand(nodeToSelect);\n+      this.selectAndEnsureVisible(nodeToSelect);\n+    }\n+    const nodeIsVisible = this.dataSource.expandedDataValues.find((node) => node === nodeToSelect);\n+    if (!nodeIsVisible) {\n+      this.expandParents();\n+    }\n+  }\n+\n+  expandParents(): void {\n+    this.parents.forEach((parent) => this.treeControl.expand(parent));\n+  }\n+\n+  highlightNode(position: ElementPosition): void {\n+    this._highlightIDinTreeFromElement = null;\n+    this.highlightComponent.emit(position);\n+  }\n+\n+  removeHighlight(): void {\n+    this.removeComponentHighlight.emit();\n+  }\n+\n+  isHighlighted(node: FlatNode): boolean {\n+    return !!this._highlightIDinTreeFromElement && this._highlightIDinTreeFromElement === node.original.component?.id;\n+  }\n+\n+  isElement(node: FlatNode): boolean | null {\n+    return node.original.component && node.original.component.isElement;\n+  }\n+}"
        },
        {
            "sha": "7ea1233b192310ad1380201118f01b384f1d921b",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.module.ts",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,23 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatCardModule } from '@angular/material/card';\n+import { MatIconModule } from '@angular/material/icon';\n+import { BreadcrumbsModule } from './breadcrumbs/breadcrumbs.module';\n+import { FilterModule } from './filter/filter.module';\n+import { ScrollingModule } from '@angular/cdk/scrolling';\n+import { DirectiveForestComponent } from './directive-forest.component';\n+@NgModule({\n+  declarations: [DirectiveForestComponent],\n+  imports: [\n+    CommonModule,\n+    BreadcrumbsModule,\n+    MatCardModule,\n+    MatButtonModule,\n+    MatIconModule,\n+    FilterModule,\n+    ScrollingModule,\n+  ],\n+  exports: [DirectiveForestComponent, BreadcrumbsModule],\n+})\n+export class DirectiveForestModule {}"
        },
        {
            "sha": "b73100b6aac0aa95fe1d38c838232ed4f5ea1fad",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/BUILD.bazel",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"filter-component-styles\",\n+    src = \"filter.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"filter\",\n+    srcs = [\n+        \"filter.component.ts\",\n+        \"filter.module.ts\",\n+    ],\n+    angular_assets = [\n+        \"filter.component.html\",\n+        \":filter-component-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "8f71cf1d6060623888b7cfdf4582cf1860d3379b",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.component.html",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,27 @@\n+<mat-card class=\"filter\">\n+  <label>\n+    <div class=\"search-icon\">\n+      <mat-icon color=\"primary\">search</mat-icon>\n+    </div>\n+    <input\n+      matInput\n+      (input)=\"emitFilter($event)\"\n+      (keydown.enter)=\"emitNextMatched()\"\n+      (keydown.shift.enter)=\"emitPrevMatched()\"\n+      class=\"filter-input\"\n+      placeholder=\"Search components\"\n+    />\n+  </label>\n+  <div class=\"up-down-buttons\" *ngIf=\"hasMatched\">\n+    <button mat-icon-button matTooltip=\"Select previous element\" (click)=\"emitPrevMatched()\">\n+      <mat-icon class=\"mat-icon-rtl-mirror\">\n+        expand_less\n+      </mat-icon>\n+    </button>\n+    <button mat-icon-button matTooltip=\"Select next element\" (click)=\"emitNextMatched()\">\n+      <mat-icon class=\"\">\n+        expand_more\n+      </mat-icon>\n+    </button>\n+  </div>\n+</mat-card>"
        },
        {
            "sha": "06a7d812720bb68f1d9b7298311b23a29544a7a2",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.component.scss",
            "status": "added",
            "additions": 73,
            "deletions": 0,
            "changes": 73,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,73 @@\n+.filter {\n+  display: flex;\n+  padding: 0px;\n+  border-radius: 0px;\n+  box-shadow: none !important;\n+  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n+\n+  label {\n+    display: flex;\n+    width: 100%;\n+\n+    .search-icon {\n+      display: flex;\n+      align-items: center;\n+      padding-right: 5px;\n+      margin-left: 8px;\n+      margin-top: 8px;\n+\n+      mat-icon {\n+        font-size: 1.3em;\n+      }\n+    }\n+\n+    .filter-input {\n+      border: none;\n+      border-left: 1px solid rgba(0, 0, 0, 0.12);\n+      padding-left: 5px;\n+      width: 100%;\n+      font-size: 11px;\n+      font-family: inherit;\n+      font-weight: inherit;\n+      height: 30px;\n+      outline: none;\n+      color: rgba(0, 0, 0, 0.87);\n+    }\n+  }\n+}\n+\n+.up-down-buttons {\n+  display: flex;\n+\n+  button {\n+    width: 24px;\n+    height: 24px;\n+  }\n+}\n+\n+:host {\n+  ::ng-deep {\n+    .up-down-buttons {\n+      .mat-icon-button {\n+        line-height: 25px;\n+      }\n+\n+      button {\n+        mat-icon {\n+          opacity: 0.5;\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .filter {\n+    label {\n+      .filter-input {\n+        background-color: #202124;\n+        color: #ffffff;\n+      }\n+    }\n+  }\n+}"
        },
        {
            "sha": "47c5da589ab35834cb26b4e9336e36f30428173f",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.component.ts",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,26 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+\n+@Component({\n+  selector: 'ng-filter',\n+  templateUrl: './filter.component.html',\n+  styleUrls: ['./filter.component.scss'],\n+})\n+export class FilterComponent {\n+  @Output() filter: EventEmitter<string> = new EventEmitter<string>();\n+  @Output() nextMatched: EventEmitter<void> = new EventEmitter();\n+  @Output() prevMatched: EventEmitter<void> = new EventEmitter();\n+\n+  @Input() hasMatched = false;\n+\n+  emitFilter(event: InputEvent): void {\n+    this.filter.emit((event.target as HTMLInputElement).value);\n+  }\n+\n+  emitNextMatched(): void {\n+    this.nextMatched.emit();\n+  }\n+\n+  emitPrevMatched(): void {\n+    this.prevMatched.emit();\n+  }\n+}"
        },
        {
            "sha": "c9ecaa4cb64fa9ac8dc5fa1881ffcdd9dfa5c547",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.module.ts",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { FilterComponent } from './filter.component';\n+import { MatCardModule } from '@angular/material/card';\n+import { MatIconModule } from '@angular/material/icon';\n+import { MatButtonModule } from '@angular/material/button';\n+\n+@NgModule({\n+  declarations: [FilterComponent],\n+  imports: [CommonModule, MatCardModule, MatIconModule, MatButtonModule],\n+  exports: [FilterComponent],\n+})\n+export class FilterModule {}"
        },
        {
            "sha": "9e53b0470b5629146c70ba92e76f0839aeea4c2b",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest/BUILD.bazel",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,30 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"index-forest\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@angular/material\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"index-forest-test\",\n+    srcs = glob([\"**/*.spec.ts\"]),\n+    deps = [\n+        \":index-forest\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":index-forest-test\",\n+    ],\n+)"
        },
        {
            "sha": "8a549bba3023ef7bd0045fdb977aa699461f0198",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest/index-forest.spec.ts",
            "status": "added",
            "additions": 159,
            "deletions": 0,
            "changes": 159,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2Findex-forest.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2Findex-forest.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2Findex-forest.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,159 @@\n+import { indexForest } from './';\n+\n+describe('indexForest', () => {\n+  it('should work with an empty forest', () => {\n+    expect(indexForest([])).toEqual([]);\n+  });\n+\n+  it('should index a forest', () => {\n+    expect(\n+      indexForest([\n+        {\n+          element: 'Parent1',\n+          directives: [],\n+          component: {\n+            isElement: false,\n+            name: 'Cmp1',\n+            id: 1,\n+          },\n+          children: [\n+            {\n+              element: 'Child1_1',\n+              directives: [\n+                {\n+                  name: 'Dir1',\n+                  id: 1,\n+                },\n+                {\n+                  name: 'Dir2',\n+                  id: 1,\n+                },\n+              ],\n+              component: null,\n+              children: [],\n+            },\n+            {\n+              element: 'Child1_2',\n+              directives: [],\n+              component: {\n+                isElement: false,\n+                name: 'Cmp2',\n+                id: 1,\n+              },\n+              children: [],\n+            },\n+          ],\n+        },\n+        {\n+          element: 'Parent2',\n+          directives: [],\n+          component: null,\n+          children: [\n+            {\n+              element: 'Child2_1',\n+              directives: [\n+                {\n+                  name: 'Dir3',\n+                  id: 1,\n+                },\n+              ],\n+              component: null,\n+              children: [],\n+            },\n+            {\n+              element: 'Child2_2',\n+              directives: [\n+                {\n+                  name: 'Dir4',\n+                  id: 1,\n+                },\n+                {\n+                  name: 'Dir5',\n+                  id: 1,\n+                },\n+              ],\n+              component: null,\n+              children: [],\n+            },\n+          ],\n+        },\n+      ])\n+    ).toEqual([\n+      {\n+        element: 'Parent1',\n+        directives: [],\n+        position: [0],\n+        component: {\n+          isElement: false,\n+          name: 'Cmp1',\n+          id: 1,\n+        },\n+        children: [\n+          {\n+            element: 'Child1_1',\n+            position: [0, 0],\n+            directives: [\n+              {\n+                name: 'Dir1',\n+                id: 1,\n+              },\n+              {\n+                name: 'Dir2',\n+                id: 1,\n+              },\n+            ],\n+            component: null,\n+            children: [],\n+          },\n+          {\n+            element: 'Child1_2',\n+            directives: [],\n+            position: [0, 1],\n+            component: {\n+              isElement: false,\n+              name: 'Cmp2',\n+              id: 1,\n+            },\n+            children: [],\n+          },\n+        ],\n+      },\n+      {\n+        element: 'Parent2',\n+        directives: [],\n+        component: null,\n+        position: [1],\n+        children: [\n+          {\n+            element: 'Child2_1',\n+            position: [1, 0],\n+            directives: [\n+              {\n+                name: 'Dir3',\n+                id: 1,\n+              },\n+            ],\n+            component: null,\n+            children: [],\n+          },\n+          {\n+            element: 'Child2_2',\n+            position: [1, 1],\n+            directives: [\n+              {\n+                name: 'Dir4',\n+                id: 1,\n+              },\n+              {\n+                name: 'Dir5',\n+                id: 1,\n+              },\n+            ],\n+            component: null,\n+            children: [],\n+          },\n+        ],\n+      },\n+    ]);\n+  });\n+});"
        },
        {
            "sha": "9e7fcedcaa1be3e36adb56ae6809b102088a1b9d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest/index.ts",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,19 @@\n+import { DevToolsNode, ElementPosition } from 'protocol';\n+\n+export interface IndexedNode extends DevToolsNode {\n+  position: ElementPosition;\n+  children: IndexedNode[];\n+}\n+\n+const indexTree = (node: DevToolsNode, idx: number, parentPosition: ElementPosition = []): IndexedNode => {\n+  const position = parentPosition.concat([idx]);\n+  return {\n+    position,\n+    element: node.element,\n+    component: node.component,\n+    directives: node.directives.map((d, i) => ({ name: d.name, id: d.id })),\n+    children: node.children.map((n, i) => indexTree(n, i, position)),\n+  } as IndexedNode;\n+};\n+\n+export const indexForest = (forest: DevToolsNode[]) => forest.map((n, i) => indexTree(n, i));"
        },
        {
            "sha": "e89f44af9108da1dad2d6861c71c103364a41ecd",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/BUILD.bazel",
            "status": "added",
            "additions": 52,
            "deletions": 0,
            "changes": 52,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,52 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ng_ts_project(\n+    name = \"property-resolver\",\n+    srcs = [\n+        \"arrayify-props.ts\",\n+        \"directive-property-resolver.ts\",\n+        \"element-property-resolver.ts\",\n+        \"flatten.ts\",\n+        \"property-data-source.ts\",\n+        \"property-expanded-directive-properties.ts\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"property-resolver-test\",\n+    srcs = [\n+        \"arrayify-props.spec.ts\",\n+        \"directive-property-resolver.spec.ts\",\n+        \"element-property-resolver.spec.ts\",\n+        \"property-data-source.spec.ts\",\n+    ],\n+    deps = [\n+        \":property-resolver\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/material\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":property-resolver-test\",\n+        \"@npm//@angular/material\",\n+    ],\n+)"
        },
        {
            "sha": "d7fdfb15a47ffe8f4711e94e29031ec838602869",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/arrayify-props.spec.ts",
            "status": "added",
            "additions": 81,
            "deletions": 0,
            "changes": 81,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Farrayify-props.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Farrayify-props.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Farrayify-props.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,81 @@\n+import { PropType } from 'protocol';\n+import { arrayifyProps } from './arrayify-props';\n+\n+describe('arrayify', () => {\n+  it('should return an array from prop object', () => {\n+    const arr = arrayifyProps({\n+      foo: {\n+        editable: true,\n+        expandable: true,\n+        preview: '',\n+        type: PropType.Array,\n+      },\n+      bar: {\n+        editable: true,\n+        expandable: true,\n+        preview: '',\n+        type: PropType.Array,\n+      },\n+    });\n+    expect(arr).toEqual([\n+      {\n+        name: 'bar',\n+        descriptor: {\n+          editable: true,\n+          expandable: true,\n+          preview: '',\n+          type: PropType.Array,\n+        },\n+        parent: null,\n+      },\n+      {\n+        name: 'foo',\n+        descriptor: {\n+          editable: true,\n+          expandable: true,\n+          preview: '',\n+          type: PropType.Array,\n+        },\n+        parent: null,\n+      },\n+    ]);\n+  });\n+  it('should properly sort array objects', () => {\n+    const arr = arrayifyProps({\n+      11: {\n+        editable: true,\n+        expandable: true,\n+        preview: '',\n+        type: PropType.Array,\n+      },\n+      2: {\n+        editable: true,\n+        expandable: true,\n+        preview: '',\n+        type: PropType.Array,\n+      },\n+    });\n+    expect(arr).toEqual([\n+      {\n+        name: '2',\n+        descriptor: {\n+          editable: true,\n+          expandable: true,\n+          preview: '',\n+          type: PropType.Array,\n+        },\n+        parent: null,\n+      },\n+      {\n+        name: '11',\n+        descriptor: {\n+          editable: true,\n+          expandable: true,\n+          preview: '',\n+          type: PropType.Array,\n+        },\n+        parent: null,\n+      },\n+    ]);\n+  });\n+});"
        },
        {
            "sha": "d3d40cc0b2a291b1cb34e956f869713d60128b1f",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/arrayify-props.ts",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Farrayify-props.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Farrayify-props.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Farrayify-props.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,19 @@\n+import { Descriptor } from 'protocol';\n+import { Property } from './element-property-resolver';\n+\n+export const arrayifyProps = (\n+  props: { [prop: string]: Descriptor } | Descriptor[],\n+  parent: Property | null = null\n+): Property[] =>\n+  Object.keys(props)\n+    .map((name) => ({ name, descriptor: props[name], parent }))\n+    .sort((a, b) => {\n+      const parsedA = parseInt(a.name, 10);\n+      const parsedB = parseInt(b.name, 10);\n+\n+      if (isNaN(parsedA) || isNaN(parsedB)) {\n+        return a.name > b.name ? 1 : -1;\n+      }\n+\n+      return parsedA - parsedB;\n+    });"
        },
        {
            "sha": "e2edb90390573b1296c2417fc69d15f0f3126695",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/directive-property-resolver.spec.ts",
            "status": "added",
            "additions": 132,
            "deletions": 0,
            "changes": 132,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fdirective-property-resolver.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fdirective-property-resolver.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fdirective-property-resolver.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,132 @@\n+import { Properties, PropType } from 'protocol';\n+import { DirectivePropertyResolver } from './directive-property-resolver';\n+\n+const properties: Properties = {\n+  props: {\n+    o: {\n+      editable: false,\n+      expandable: true,\n+      preview: '',\n+      type: PropType.Object,\n+      value: {\n+        a1: {\n+          editable: false,\n+          expandable: false,\n+          preview: '',\n+          type: 1,\n+          value: {},\n+        },\n+        b1: {\n+          editable: false,\n+          expandable: false,\n+          preview: '',\n+          type: 1,\n+          value: {},\n+        },\n+      },\n+    },\n+    i: {\n+      editable: false,\n+      expandable: true,\n+      preview: '',\n+      type: PropType.Object,\n+      value: {\n+        b1: {\n+          editable: false,\n+          expandable: false,\n+          preview: '',\n+          type: 1,\n+          value: {},\n+        },\n+        a1: {\n+          editable: false,\n+          expandable: false,\n+          preview: '',\n+          type: 1,\n+          value: {},\n+        },\n+      },\n+    },\n+    p: {\n+      editable: false,\n+      expandable: true,\n+      preview: '',\n+      type: PropType.Object,\n+      value: {\n+        b1: {\n+          editable: false,\n+          expandable: false,\n+          preview: '',\n+          type: 1,\n+          value: {},\n+        },\n+        a1: {\n+          editable: false,\n+          expandable: false,\n+          preview: '',\n+          type: 1,\n+          value: {},\n+        },\n+      },\n+    },\n+    i_1: {\n+      editable: true,\n+      expandable: false,\n+      preview: 'input i1',\n+      type: PropType.String,\n+      value: 'input i1',\n+    },\n+    o_1: {\n+      editable: false,\n+      expandable: true,\n+      preview: '',\n+      type: PropType.Object,\n+    },\n+  },\n+  metadata: {\n+    inputs: {\n+      i: 'i',\n+      i1: 'i_1',\n+    },\n+    outputs: {\n+      o: 'o',\n+      o1: 'o_1',\n+    },\n+    encapsulation: 1,\n+    onPush: false,\n+  },\n+};\n+\n+describe('DirectivePropertyResolver', () => {\n+  let messageBusMock: any;\n+  beforeEach(() => {\n+    messageBusMock = jasmine.createSpyObj('messageBus', ['on', 'once', 'emit', 'destroy']);\n+  });\n+\n+  it('should register directive inputs, outputs, and state', () => {\n+    const resolver = new DirectivePropertyResolver(messageBusMock, properties, {\n+      element: [0],\n+      directive: 0,\n+    });\n+    expect(resolver.directiveInputControls.dataSource.data[0].prop.name).toBe('i');\n+    expect(resolver.directiveInputControls.dataSource.data[1].prop.name).toBe('a1');\n+    expect(resolver.directiveInputControls.dataSource.data[2].prop.name).toBe('b1');\n+    expect(resolver.directiveInputControls.dataSource.data[3].prop.name).toBe('i_1');\n+    expect(resolver.directiveOutputControls.dataSource.data[0].prop.name).toBe('o');\n+    expect(resolver.directiveOutputControls.dataSource.data[1].prop.name).toBe('a1');\n+    expect(resolver.directiveOutputControls.dataSource.data[2].prop.name).toBe('b1');\n+    expect(resolver.directiveOutputControls.dataSource.data[3].prop.name).toBe('o_1');\n+    expect(resolver.directiveStateControls.dataSource.data[0].prop.name).toBe('p');\n+  });\n+\n+  it('should sort properties', () => {\n+    const resolver = new DirectivePropertyResolver(messageBusMock, properties, {\n+      element: [0],\n+      directive: 0,\n+    });\n+    const props = resolver.getExpandedProperties();\n+    const propNames = props.map((o) => o.name);\n+    // First level properties should be now sorted\n+    expect(propNames.join('')).toEqual('ii_1oo_1p');\n+  });\n+});"
        },
        {
            "sha": "e5233f1f08ff6d4e1dc3c89dbcebfbc0156a4ee1",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/directive-property-resolver.ts",
            "status": "added",
            "additions": 147,
            "deletions": 0,
            "changes": 147,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fdirective-property-resolver.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fdirective-property-resolver.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fdirective-property-resolver.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,147 @@\n+import { Descriptor, MessageBus, Events, Properties, DirectivePosition, NestedProp } from 'protocol';\n+import { PropertyDataSource } from './property-data-source';\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+import { getExpandedDirectiveProperties } from './property-expanded-directive-properties';\n+import { Property, FlatNode } from './element-property-resolver';\n+import { ViewEncapsulation } from '@angular/core';\n+import { getTreeFlattener } from './flatten';\n+\n+export interface DirectiveTreeData {\n+  dataSource: PropertyDataSource;\n+  treeControl: FlatTreeControl<FlatNode>;\n+}\n+\n+const getDirectiveControls = (\n+  dataSource: PropertyDataSource\n+): { dataSource: PropertyDataSource; treeControl: FlatTreeControl<FlatNode> } => {\n+  const treeControl = dataSource.treeControl;\n+  return {\n+    dataSource,\n+    treeControl,\n+  };\n+};\n+\n+export const constructPathOfKeysToPropertyValue = (nodePropToGetKeysFor: Property, keys: string[] = []): string[] => {\n+  keys.unshift(nodePropToGetKeysFor.name);\n+  const parentNodeProp = nodePropToGetKeysFor.parent;\n+  if (parentNodeProp) {\n+    constructPathOfKeysToPropertyValue(parentNodeProp, keys);\n+  }\n+  return keys;\n+};\n+\n+export class DirectivePropertyResolver {\n+  private _treeFlattener = getTreeFlattener();\n+\n+  private _treeControl = new FlatTreeControl<FlatNode>(\n+    (node) => node.level,\n+    (node) => node.expandable\n+  );\n+\n+  private _inputsDataSource: PropertyDataSource;\n+  private _outputsDataSource: PropertyDataSource;\n+  private _stateDataSource: PropertyDataSource;\n+\n+  constructor(\n+    private _messageBus: MessageBus<Events>,\n+    private _props: Properties,\n+    private _directivePosition: DirectivePosition\n+  ) {\n+    this._initDataSources();\n+  }\n+\n+  get directiveInputControls(): DirectiveTreeData {\n+    return getDirectiveControls(this._inputsDataSource);\n+  }\n+\n+  get directiveOutputControls(): DirectiveTreeData {\n+    return getDirectiveControls(this._outputsDataSource);\n+  }\n+\n+  get directiveStateControls(): DirectiveTreeData {\n+    return getDirectiveControls(this._stateDataSource);\n+  }\n+\n+  get directiveProperties(): { [name: string]: Descriptor } {\n+    return this._props.props;\n+  }\n+\n+  get directivePosition(): DirectivePosition {\n+    return this._directivePosition;\n+  }\n+\n+  get directiveViewEncapsulation(): ViewEncapsulation | undefined {\n+    return this._props.metadata?.encapsulation;\n+  }\n+\n+  get directiveHasOnPushStrategy(): boolean | undefined {\n+    return this._props.metadata?.onPush;\n+  }\n+\n+  getExpandedProperties(): NestedProp[] {\n+    return [\n+      ...getExpandedDirectiveProperties(this._inputsDataSource.data),\n+      ...getExpandedDirectiveProperties(this._outputsDataSource.data),\n+      ...getExpandedDirectiveProperties(this._stateDataSource.data),\n+    ];\n+  }\n+\n+  updateProperties(newProps: Properties): void {\n+    this._props = newProps;\n+    const { inputProps, outputProps, stateProps } = this._classifyProperties();\n+\n+    this._inputsDataSource.update(inputProps);\n+    this._outputsDataSource.update(outputProps);\n+    this._stateDataSource.update(stateProps);\n+  }\n+\n+  updateValue(node: FlatNode, newValue: any): void {\n+    const directiveId = this._directivePosition;\n+    const keyPath = constructPathOfKeysToPropertyValue(node.prop);\n+    this._messageBus.emit('updateState', [{ directiveId, keyPath, newValue }]);\n+    node.prop.descriptor.value = newValue;\n+  }\n+\n+  private _initDataSources(): void {\n+    const { inputProps, outputProps, stateProps } = this._classifyProperties();\n+\n+    this._inputsDataSource = this._createDataSourceFromProps(inputProps);\n+    this._outputsDataSource = this._createDataSourceFromProps(outputProps);\n+    this._stateDataSource = this._createDataSourceFromProps(stateProps);\n+  }\n+\n+  private _createDataSourceFromProps(props: { [name: string]: Descriptor }): PropertyDataSource {\n+    return new PropertyDataSource(\n+      props,\n+      this._treeFlattener,\n+      this._treeControl,\n+      this._directivePosition,\n+      this._messageBus\n+    );\n+  }\n+\n+  private _classifyProperties(): {\n+    inputProps: { [name: string]: Descriptor };\n+    outputProps: { [name: string]: Descriptor };\n+    stateProps: { [name: string]: Descriptor };\n+  } {\n+    const inputLabels: Set<string> = new Set(Object.values(this._props.metadata?.inputs || {}));\n+    const outputLabels: Set<string> = new Set(Object.values(this._props.metadata?.outputs || {}));\n+\n+    const inputProps = {};\n+    const outputProps = {};\n+    const stateProps = {};\n+    let propPointer: { [name: string]: Descriptor };\n+\n+    Object.keys(this.directiveProperties).forEach((propName) => {\n+      propPointer = inputLabels.has(propName) ? inputProps : outputLabels.has(propName) ? outputProps : stateProps;\n+      propPointer[propName] = this.directiveProperties[propName];\n+    });\n+\n+    return {\n+      inputProps,\n+      outputProps,\n+      stateProps,\n+    };\n+  }\n+}"
        },
        {
            "sha": "94b26d8fa32f47c12096259d55002b4ad429bce3",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/element-property-resolver.spec.ts",
            "status": "added",
            "additions": 128,
            "deletions": 0,
            "changes": 128,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Felement-property-resolver.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Felement-property-resolver.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Felement-property-resolver.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,128 @@\n+import { ElementPropertyResolver } from './element-property-resolver';\n+import { Properties, PropType } from 'protocol';\n+\n+const mockIndexedNode = {\n+  component: {\n+    name: 'FooCmp',\n+    id: 0,\n+    isElement: false,\n+  },\n+  directives: [\n+    {\n+      id: 1,\n+      name: 'BarDir',\n+    },\n+    {\n+      id: 2,\n+      name: 'BazDir',\n+    },\n+  ],\n+  children: [],\n+  element: 'foo',\n+  position: [0],\n+};\n+\n+const fooNestedProperties: Properties = {\n+  props: {\n+    foo: {\n+      editable: false,\n+      expandable: true,\n+      preview: '{...}',\n+      type: PropType.Object,\n+      value: {\n+        bar: {\n+          editable: false,\n+          expandable: true,\n+          preview: '{...}',\n+          type: PropType.Object,\n+          value: {},\n+        },\n+        baz: {\n+          editable: false,\n+          expandable: true,\n+          preview: '{...}',\n+          type: PropType.Object,\n+          value: {},\n+        },\n+      },\n+    },\n+  },\n+};\n+\n+const barNestedProps: Properties = {\n+  props: {\n+    bar: {\n+      editable: false,\n+      expandable: false,\n+      preview: 'undefined',\n+      type: PropType.Undefined,\n+      value: undefined,\n+    },\n+  },\n+};\n+\n+describe('ElementPropertyResolver', () => {\n+  let messageBusMock: any;\n+  beforeEach(() => {\n+    messageBusMock = jasmine.createSpyObj('messageBus', ['on', 'once', 'emit', 'destroy']);\n+  });\n+\n+  it('should register directives', () => {\n+    const resolver = new ElementPropertyResolver(messageBusMock);\n+    resolver.setProperties(mockIndexedNode, {\n+      FooCmp: {\n+        props: {},\n+      },\n+      BarDir: {\n+        props: {},\n+      },\n+      BazDir: {\n+        props: {},\n+      },\n+    });\n+    expect(resolver.getDirectiveController('FooCmp')).not.toBeFalsy();\n+    expect(resolver.getDirectiveController('BarDir')).not.toBeFalsy();\n+    expect(resolver.getDirectiveController('BazDir')).not.toBeFalsy();\n+  });\n+\n+  it('should provide nested props', () => {\n+    const resolver = new ElementPropertyResolver(messageBusMock);\n+    resolver.setProperties(mockIndexedNode, {\n+      FooCmp: fooNestedProperties,\n+      BarDir: barNestedProps,\n+      BazDir: {\n+        props: {},\n+      },\n+    });\n+    const fooController = resolver.getDirectiveController('FooCmp');\n+    expect(fooController).toBeTruthy();\n+    // tslint:disable-next-line: no-non-null-assertion\n+    const fooProps = fooController!.getExpandedProperties();\n+    expect(fooProps).toEqual([\n+      {\n+        name: 'foo',\n+        children: [\n+          {\n+            name: 'bar',\n+            children: [],\n+          },\n+          {\n+            name: 'baz',\n+            children: [],\n+          },\n+        ],\n+      },\n+    ]);\n+\n+    const barController = resolver.getDirectiveController('BarDir');\n+    expect(barController).toBeTruthy();\n+    // tslint:disable-next-line: no-non-null-assertion\n+    const barProps = barController!.getExpandedProperties();\n+    expect(barProps).toEqual([\n+      {\n+        name: 'bar',\n+        children: [],\n+      },\n+    ]);\n+  });\n+});"
        },
        {
            "sha": "83a4f39a6739084d8f822ee93c5ca7a47cd8c477",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/element-property-resolver.ts",
            "status": "added",
            "additions": 84,
            "deletions": 0,
            "changes": 84,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Felement-property-resolver.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Felement-property-resolver.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Felement-property-resolver.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,84 @@\n+import { Injectable } from '@angular/core';\n+import {\n+  DirectivesProperties,\n+  ComponentExplorerViewProperties,\n+  Descriptor,\n+  MessageBus,\n+  Events,\n+  DirectivePosition,\n+} from 'protocol';\n+import { IndexedNode } from '../directive-forest/index-forest';\n+import { DirectivePropertyResolver } from './directive-property-resolver';\n+\n+export interface FlatNode {\n+  expandable: boolean;\n+  prop: Property;\n+  level: number;\n+}\n+\n+export interface Property {\n+  name: string;\n+  descriptor: Descriptor;\n+  parent: Property | null;\n+}\n+\n+@Injectable()\n+export class ElementPropertyResolver {\n+  private _directivePropertiesController = new Map<string, DirectivePropertyResolver>();\n+\n+  constructor(private _messageBus: MessageBus<Events>) {}\n+\n+  clearProperties(): void {\n+    this._directivePropertiesController = new Map();\n+  }\n+\n+  setProperties(indexedNode: IndexedNode, data: DirectivesProperties): void {\n+    this._flushDeletedProperties(data);\n+\n+    Object.keys(data).forEach((key) => {\n+      const controller = this._directivePropertiesController.get(key);\n+      if (controller) {\n+        controller.updateProperties(data[key]);\n+        return;\n+      }\n+      const position: DirectivePosition = {\n+        element: indexedNode.position,\n+        directive: undefined,\n+      };\n+      if (!indexedNode.component || indexedNode.component.name !== key) {\n+        position.directive = indexedNode.directives.findIndex((d) => d.name === key);\n+      }\n+      this._directivePropertiesController.set(\n+        key,\n+        new DirectivePropertyResolver(this._messageBus, data[key], position)\n+      );\n+    });\n+  }\n+\n+  private _flushDeletedProperties(data: DirectivesProperties): void {\n+    const currentProps = [...this._directivePropertiesController.keys()];\n+    const incomingProps = new Set(Object.keys(data));\n+    for (const prop of currentProps) {\n+      if (!incomingProps.has(prop)) {\n+        this._directivePropertiesController.delete(prop);\n+      }\n+    }\n+  }\n+\n+  getExpandedProperties(): ComponentExplorerViewProperties {\n+    const result: ComponentExplorerViewProperties = {};\n+    for (const [directive] of this._directivePropertiesController) {\n+      const controller = this._directivePropertiesController.get(directive);\n+      if (!controller) {\n+        console.error('Unable to find nested properties controller for', directive);\n+        continue;\n+      }\n+      result[directive] = controller.getExpandedProperties();\n+    }\n+    return result;\n+  }\n+\n+  getDirectiveController(directive: string): DirectivePropertyResolver | undefined {\n+    return this._directivePropertiesController.get(directive);\n+  }\n+}"
        },
        {
            "sha": "63a09bf111eece4a20df5edb54ee2d3407ec189e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/flatten.ts",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fflatten.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fflatten.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fflatten.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,41 @@\n+import { MatTreeFlattener } from '@angular/material/tree';\n+import { Descriptor, PropType } from 'protocol';\n+import { Observable } from 'rxjs';\n+import { arrayifyProps } from './arrayify-props';\n+import { FlatNode, Property } from './element-property-resolver';\n+\n+export const getTreeFlattener = () =>\n+  new MatTreeFlattener(\n+    (node: Property, level: number): FlatNode => {\n+      return {\n+        expandable: expandable(node.descriptor),\n+        prop: node,\n+        level,\n+      };\n+    },\n+    (node) => node.level,\n+    (node) => node.expandable,\n+    (node) => getChildren(node)\n+  );\n+\n+export const expandable = (prop: Descriptor) => {\n+  if (!prop) {\n+    return false;\n+  }\n+  if (!prop.expandable) {\n+    return false;\n+  }\n+  return !(prop.type !== PropType.Object && prop.type !== PropType.Array);\n+};\n+\n+const getChildren = (prop: Property): Property[] | undefined => {\n+  const descriptor = prop.descriptor;\n+  if (\n+    (descriptor.type === PropType.Object || descriptor.type === PropType.Array) &&\n+    !(descriptor.value instanceof Observable)\n+  ) {\n+    return arrayifyProps(descriptor.value || {}, prop);\n+  } else {\n+    console.error('Unexpected data type', descriptor, 'in property', prop);\n+  }\n+};"
        },
        {
            "sha": "527161aed5c3a585d6712bf324c5cc5663e10f90",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/property-data-source.spec.ts",
            "status": "added",
            "additions": 58,
            "deletions": 0,
            "changes": 58,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,58 @@\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+import { PropType } from 'protocol';\n+import { FlatNode } from './element-property-resolver';\n+import { getTreeFlattener } from './flatten';\n+import { PropertyDataSource } from './property-data-source';\n+\n+const flatTreeControl = new FlatTreeControl<FlatNode>(\n+  (node) => node.level,\n+  (node) => node.expandable\n+);\n+\n+describe('PropertyDataSource', () => {\n+  it('should detect changes in the collection', () => {\n+    const source = new PropertyDataSource(\n+      {\n+        foo: {\n+          editable: true,\n+          expandable: false,\n+          preview: '42',\n+          type: PropType.Number,\n+          value: 42,\n+        },\n+      },\n+      getTreeFlattener(),\n+      flatTreeControl,\n+      { element: [1, 2, 3] },\n+      null as any\n+    );\n+\n+    source.update({\n+      foo: {\n+        editable: true,\n+        expandable: false,\n+        preview: '43',\n+        type: PropType.Number,\n+        value: 43,\n+      },\n+    });\n+\n+    expect(source.data).toEqual([\n+      {\n+        expandable: false,\n+        level: 0,\n+        prop: {\n+          descriptor: {\n+            editable: true,\n+            expandable: false,\n+            preview: '43',\n+            type: PropType.Number,\n+            value: 43,\n+          },\n+          name: 'foo',\n+          parent: null,\n+        },\n+      },\n+    ]);\n+  });\n+});"
        },
        {
            "sha": "5e00f8e2306393607f65552d09bad2eb3dab85b9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/property-data-source.ts",
            "status": "added",
            "additions": 108,
            "deletions": 0,
            "changes": 108,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,108 @@\n+import { Descriptor, DirectivePosition, Events, MessageBus, Properties } from 'protocol';\n+import { CollectionViewer, DataSource, SelectionChange } from '@angular/cdk/collections';\n+import { BehaviorSubject, merge, Observable, Subscription } from 'rxjs';\n+import { MatTreeFlattener } from '@angular/material/tree';\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+import { map } from 'rxjs/operators';\n+import { DefaultIterableDiffer, TrackByFunction } from '@angular/core';\n+import { diff } from '../../diffing';\n+import { FlatNode, Property } from './element-property-resolver';\n+import { arrayifyProps } from './arrayify-props';\n+\n+const trackBy: TrackByFunction<FlatNode> = (_: number, item: FlatNode) =>\n+  `#${item.prop.name}#${item.prop.descriptor.preview}#${item.level}`;\n+\n+export class PropertyDataSource extends DataSource<FlatNode> {\n+  private _data = new BehaviorSubject<FlatNode[]>([]);\n+  private _subscriptions: Subscription[] = [];\n+  private _expandedData = new BehaviorSubject<FlatNode[]>([]);\n+  private _differ = new DefaultIterableDiffer<FlatNode>(trackBy);\n+\n+  constructor(\n+    props: { [prop: string]: Descriptor },\n+    private _treeFlattener: MatTreeFlattener<Property, FlatNode>,\n+    private _treeControl: FlatTreeControl<FlatNode>,\n+    private _entityPosition: DirectivePosition,\n+    private _messageBus: MessageBus<Events>\n+  ) {\n+    super();\n+    this._data.next(this._treeFlattener.flattenNodes(arrayifyProps(props)));\n+  }\n+\n+  get data(): FlatNode[] {\n+    return this._data.value;\n+  }\n+\n+  get treeControl(): FlatTreeControl<FlatNode> {\n+    return this._treeControl;\n+  }\n+\n+  update(props: { [prop: string]: Descriptor }): void {\n+    const newData = this._treeFlattener.flattenNodes(arrayifyProps(props));\n+    diff(this._differ, this.data, newData);\n+    this._data.next(this.data);\n+  }\n+\n+  connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n+    const changed = this._treeControl.expansionModel.changed;\n+    if (!changed) {\n+      throw new Error('Unable to subscribe to the expansion model change');\n+    }\n+    const s = changed.subscribe((change: SelectionChange<FlatNode>) => {\n+      if (change.added) {\n+        change.added.forEach((node) => this._toggleNode(node, true));\n+      }\n+      if (change.removed) {\n+        change.removed.reverse().forEach((node) => this._toggleNode(node, false));\n+      }\n+    });\n+    this._subscriptions.push(s);\n+\n+    const changes = [collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._data];\n+\n+    return merge(...changes).pipe(\n+      map(() => {\n+        this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this.data, this._treeControl));\n+        return this._expandedData.value;\n+      })\n+    );\n+  }\n+\n+  disconnect(): void {\n+    this._subscriptions.forEach((s) => s.unsubscribe());\n+    this._subscriptions = [];\n+  }\n+\n+  private _toggleNode(node: FlatNode, expand: boolean): void {\n+    const index = this.data.indexOf(node);\n+    // If we cannot find the current node, or the current node is not expandable\n+    // or...if it's expandable but it does have a value, or we're collapsing\n+    // we're not interested in fetching its children.\n+    if (index < 0 || !node.expandable || node.prop.descriptor.value || !expand) {\n+      return;\n+    }\n+\n+    let parentPath: string[] = [];\n+    let current = node.prop;\n+    while (current) {\n+      parentPath.push(current.name);\n+      if (!current.parent) {\n+        break;\n+      }\n+      current = current.parent;\n+    }\n+    parentPath = parentPath.reverse();\n+\n+    this._messageBus.emit('getNestedProperties', [this._entityPosition, parentPath]);\n+\n+    this._messageBus.once('nestedProperties', (position: DirectivePosition, data: Properties, _path: string[]) => {\n+      node.prop.descriptor.value = data.props;\n+      this._treeControl.expand(node);\n+      const props = arrayifyProps(data.props, node.prop);\n+      const flatNodes = this._treeFlattener.flattenNodes(props);\n+      flatNodes.forEach((f) => (f.level += node.level + 1));\n+      this.data.splice(index + 1, 0, ...flatNodes);\n+      this._data.next(this.data);\n+    });\n+  }\n+}"
        },
        {
            "sha": "a9fd3e4f08813708ffc1b7bc722fc05b11acbb9c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/property-expanded-directive-properties.ts",
            "status": "added",
            "additions": 37,
            "deletions": 0,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-expanded-directive-properties.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-expanded-directive-properties.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-expanded-directive-properties.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,37 @@\n+import { Descriptor, NestedProp, PropType } from 'protocol';\n+import { FlatNode } from './element-property-resolver';\n+\n+export const getExpandedDirectiveProperties = (data: FlatNode[]): NestedProp[] => {\n+  const getChildren = (prop: Descriptor) => {\n+    if ((prop.type === PropType.Object || prop.type === PropType.Array) && prop.value) {\n+      return Object.keys(prop.value).map(k => {\n+        return {\n+          name: prop.type === PropType.Array ? parseInt(k, 10) : k,\n+          children: getChildren(prop.value[k]),\n+        };\n+      });\n+    }\n+    return [];\n+  };\n+\n+  const getExpandedProperties = (props: { [name: string]: Descriptor }) => {\n+    return Object.keys(props).map(name => {\n+      return {\n+        name,\n+        children: getChildren(props[name]),\n+      };\n+    });\n+  };\n+\n+  const parents: { [name: string]: Descriptor } = {};\n+\n+  for (const node of data) {\n+    let prop = node.prop;\n+    while (prop.parent) {\n+      prop = prop.parent;\n+    }\n+    parents[prop.name] = prop.descriptor;\n+  }\n+\n+  return getExpandedProperties(parents);\n+};"
        },
        {
            "sha": "b31fe7cfe90e2d25646907155cd1b8513e97e3b4",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/BUILD.bazel",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,41 @@\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+multi_sass_binary(\n+    name = \"property-tab-styles\",\n+    srcs = [\n+        \"component-metadata.component.scss\",\n+        \"property-tab.component.scss\",\n+        \"property-tab-header.component.scss\",\n+    ],\n+)\n+\n+ng_ts_project(\n+    name = \"property-tab\",\n+    srcs = [\n+        \"component-metadata.component.ts\",\n+        \"property-tab.component.ts\",\n+        \"property-tab.module.ts\",\n+        \"property-tab-header.component.ts\",\n+    ],\n+    angular_assets = [\n+        \"property-tab.component.html\",\n+        \"property-tab-header.component.html\",\n+        \"component-metadata.component.html\",\n+        \":property-tab-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "0e854e49bd08d5186010def0876b84cd7848b618",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/component-metadata.component.html",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,20 @@\n+<div class=\"meta-data-container\">\n+  <a\n+    mat-button\n+    color=\"primary\"\n+    *ngIf=\"viewEncapsulation; let viewEncapsulation\"\n+    href=\"https://angular.io/api/core/ViewEncapsulation\"\n+    target=\"_blank\"\n+  >\n+    View Encapsulation: <span class=\"meta-data\">{{ viewEncapsulation }}</span>\n+  </a>\n+  <a\n+    mat-button\n+    color=\"primary\"\n+    *ngIf=\"changeDetectionStrategy; let changeDetectionStrategy\"\n+    href=\"https://angular.io/api/core/ChangeDetectionStrategy\"\n+    target=\"_blank\"\n+  >\n+    Change Detection Strategy: <span class=\"meta-data\">{{ changeDetectionStrategy }}</span>\n+  </a>\n+</div>"
        },
        {
            "sha": "67e58b94e94690dcf6a281be7522cc36e187e073",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/component-metadata.component.scss",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,15 @@\n+.meta-data-container {\n+  display: flex;\n+  flex-direction: column;\n+}\n+\n+.meta-data-container a {\n+  width: 100%;\n+  font-size: 11px;\n+  height: 22px;\n+  line-height: 22px;\n+}\n+\n+.meta-data {\n+  font-weight: 400;\n+}"
        },
        {
            "sha": "d5178148d8f5ec8f670ef79e983e2d3fc5c7b665",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/component-metadata.component.ts",
            "status": "added",
            "additions": 37,
            "deletions": 0,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fcomponent-metadata.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,37 @@\n+import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n+import { DirectivePropertyResolver } from '../property-resolver/directive-property-resolver';\n+import { ElementPropertyResolver } from '../property-resolver/element-property-resolver';\n+import { ComponentType } from 'protocol';\n+\n+@Component({\n+  selector: 'ng-component-metadata',\n+  templateUrl: './component-metadata.component.html',\n+  styleUrls: ['./component-metadata.component.scss'],\n+  changeDetection: ChangeDetectionStrategy.OnPush,\n+})\n+export class ComponentMetadataComponent {\n+  @Input() currentSelectedComponent: ComponentType;\n+\n+  constructor(private _nestedProps: ElementPropertyResolver) {}\n+\n+  viewEncapsulationModes = ['Emulated', 'Native', 'None', 'ShadowDom'];\n+\n+  get controller(): DirectivePropertyResolver | undefined {\n+    if (!this.currentSelectedComponent) {\n+      return;\n+    }\n+    return this._nestedProps.getDirectiveController(this.currentSelectedComponent.name);\n+  }\n+\n+  get viewEncapsulation(): string | undefined {\n+    const encapsulationIndex = this?.controller?.directiveViewEncapsulation;\n+    if (encapsulationIndex !== undefined) {\n+      return this.viewEncapsulationModes[encapsulationIndex];\n+    }\n+  }\n+\n+  get changeDetectionStrategy(): string | undefined {\n+    const onPush = this?.controller?.directiveHasOnPushStrategy;\n+    return onPush ? 'OnPush' : onPush !== undefined ? 'Default' : undefined;\n+  }\n+}"
        },
        {
            "sha": "204a2e5b357f56616fc559c7e79b4beb931a358e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header.component.html",
            "status": "added",
            "additions": 32,
            "deletions": 0,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,32 @@\n+<ng-container *ngIf=\"currentSelectedElement; else emptyState\">\n+  <ng-container *ngIf=\"currentSelectedElement.component; else currentElementIsDOMElement\">\n+    <mat-accordion class=\"property-tab-header\">\n+      <div>\n+        <mat-expansion-panel [hideToggle]=\"true\">\n+          <mat-expansion-panel-header collapsedHeight=\"32px\" expandedHeight=\"32px\">\n+            <mat-panel-title>\n+              <div class=\"element-header\">\n+                <div class=\"component-name\">{{ currentSelectedElement.component.name }}</div>\n+                <button matTooltip=\"Open component source\" mat-icon-button (click)=\"handleViewSource($event)\">\n+                  <mat-icon> code </mat-icon>\n+                </button>\n+              </div>\n+            </mat-panel-title>\n+          </mat-expansion-panel-header>\n+          <ng-component-metadata [currentSelectedComponent]=\"currentSelectedElement.component\"></ng-component-metadata>\n+        </mat-expansion-panel>\n+      </div>\n+    </mat-accordion>\n+  </ng-container>\n+  <ng-template #currentElementIsDOMElement>\n+    <div class=\"element-header\">\n+      <div class=\"element-name\">{{ currentSelectedElement.element }}</div>\n+    </div>\n+  </ng-template>\n+</ng-container>\n+\n+<ng-template #emptyState>\n+  <div class=\"element-header\">\n+    <div class=\"element-name\">No selected Element</div>\n+  </div>\n+</ng-template>"
        },
        {
            "sha": "537e8cc68ef23398b40595cf623a3e2c05e9d17c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header.component.scss",
            "status": "added",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,57 @@\n+.element-header {\n+  display: flex;\n+  justify-content: space-between;\n+  width: 100%;\n+  align-items: center;\n+  font-size: 11px;\n+\n+  .mat-icon-button {\n+    height: 25px;\n+    width: 25px;\n+    line-height: 25px;\n+  }\n+\n+  .component-name {\n+    margin-left: 10px;\n+    font-weight: 700;\n+    line-height: 25px;\n+  }\n+\n+  .element-name {\n+    margin-left: 10px;\n+    line-height: 25px;\n+    font-weight: 700;\n+  }\n+}\n+\n+::ng-deep {\n+  .property-tab-header {\n+    mat-expansion-panel {\n+      border-radius: unset !important;\n+    }\n+\n+    &.mat-accordion {\n+      .mat-expansion-panel {\n+        .mat-expansion-panel-header {\n+          padding: 0;\n+\n+          .mat-expansion-panel-header-title {\n+            margin-right: 0;\n+          }\n+        }\n+\n+        .mat-expansion-panel-content {\n+          .mat-expansion-panel-body {\n+            padding: 0;\n+          }\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .mat-icon-button {\n+    fill: #fff;\n+  }\n+}"
        },
        {
            "sha": "e65e7123f2cafdd828cb52fd09c123f4946a9bce",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header.component.ts",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-header.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,19 @@\n+import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\n+import { IndexedNode } from '../directive-forest/index-forest';\n+\n+@Component({\n+  templateUrl: './property-tab-header.component.html',\n+  selector: 'ng-property-tab-header',\n+  styleUrls: ['./property-tab-header.component.scss'],\n+  changeDetection: ChangeDetectionStrategy.OnPush,\n+})\n+export class PropertyTabHeaderComponent {\n+  @Input() currentSelectedElement: IndexedNode;\n+  @Input() currentDirectives: string[] | undefined;\n+  @Output() viewSource = new EventEmitter<void>();\n+\n+  handleViewSource(event: MouseEvent): void {\n+    event.stopPropagation();\n+    this.viewSource.emit();\n+  }\n+}"
        },
        {
            "sha": "d604924c55ddb75e0618d5d836eeda85230b9706",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.component.html",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,4 @@\n+<ng-property-tab-header [currentSelectedElement]=\"currentSelectedElement\" (viewSource)=\"viewSource.emit()\">\n+</ng-property-tab-header>\n+<ng-property-tab-body (inspect)=\"inspect.emit($event)\" [currentSelectedElement]=\"currentSelectedElement\">\n+</ng-property-tab-body>"
        },
        {
            "sha": "f469c7fdc308f79a6d2f1dc2f70d2d2cae3ab511",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.component.scss",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,4 @@\n+ng-property-view-body {\n+  width: 100%;\n+  overflow: auto;\n+}"
        },
        {
            "sha": "918d22ea25ccb6b752dd12e781a59bebb46cf03c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.component.ts",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,14 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { IndexedNode } from '../directive-forest/index-forest';\n+import { FlatNode } from '../property-resolver/element-property-resolver';\n+import { DirectivePosition } from 'protocol';\n+\n+@Component({\n+  templateUrl: './property-tab.component.html',\n+  selector: 'ng-property-tab',\n+})\n+export class PropertyTabComponent {\n+  @Input() currentSelectedElement: IndexedNode;\n+  @Output() viewSource = new EventEmitter<void>();\n+  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n+}"
        },
        {
            "sha": "9bee7cf98129962b09777edc3d30de43d760a7c9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.module.ts",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,17 @@\n+import { NgModule } from '@angular/core';\n+import { PropertyTabComponent } from './property-tab.component';\n+import { CommonModule } from '@angular/common';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatExpansionModule } from '@angular/material/expansion';\n+import { MatIconModule } from '@angular/material/icon';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+import { PropertyViewModule } from './property-view/property-view.module';\n+import { ComponentMetadataComponent } from './component-metadata.component';\n+import { PropertyTabHeaderComponent } from './property-tab-header.component';\n+\n+@NgModule({\n+  declarations: [PropertyTabComponent, PropertyTabHeaderComponent, ComponentMetadataComponent],\n+  imports: [PropertyViewModule, CommonModule, MatButtonModule, MatExpansionModule, MatIconModule, MatTooltipModule],\n+  exports: [PropertyTabComponent],\n+})\n+export class PropertyTabModule {}"
        },
        {
            "sha": "4a5e6e7d155b2ad528622b441c408eb7e678b05e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/BUILD.bazel",
            "status": "added",
            "additions": 54,
            "deletions": 0,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,54 @@\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+multi_sass_binary(\n+    name = \"property-view-styles\",\n+    srcs = [\n+        \"property-editor.component.scss\",\n+        \"property-preview.component.scss\",\n+        \"property-tab-body.component.scss\",\n+        \"property-view.component.scss\",\n+        \"property-view-body.component.scss\",\n+        \"property-view-header.component.scss\",\n+        \"property-view-tree.component.scss\",\n+    ],\n+)\n+\n+ng_ts_project(\n+    name = \"property-view\",\n+    srcs = [\n+        \"property-editor.component.ts\",\n+        \"property-preview.component.ts\",\n+        \"property-tab-body.component.ts\",\n+        \"property-view.component.ts\",\n+        \"property-view.module.ts\",\n+        \"property-view-body.component.ts\",\n+        \"property-view-header.component.ts\",\n+        \"property-view-tree.component.ts\",\n+    ],\n+    angular_assets = [\n+        \"property-view.component.html\",\n+        \"property-view-tree.component.html\",\n+        \"property-view-header.component.html\",\n+        \"property-view-body.component.html\",\n+        \"property-preview.component.html\",\n+        \"property-editor.component.html\",\n+        \"property-tab-body.component.html\",\n+        \":property-view-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/forms\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "7a106e0f55b4702fe949028e374d7f264f3ec5e9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-editor.component.html",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,21 @@\n+<div class=\"editor\" (click)=\"onClick()\">\n+  <span [ngSwitch]=\"currentPropertyState\" class=\"state-container\">\n+    <span *ngSwitchCase=\"readState\">\n+      <span class=\"editable\">\n+        {{ valueToSubmit }}\n+      </span>\n+    </span>\n+    <span *ngSwitchCase=\"writeState\">\n+      <input\n+        matInput\n+        type=\"text\"\n+        class=\"editor-input editable\"\n+        (mousedown)=\"$event.stopPropagation()\"\n+        [(ngModel)]=\"valueToSubmit\"\n+        (keydown.enter)=\"accept()\"\n+        (keydown.escape)=\"reject()\"\n+        (blur)=\"onBlur()\"\n+      />\n+    </span>\n+  </span>\n+</div>"
        },
        {
            "sha": "309e47f0ce5a0a7a265f59610b5e03d86996e4dd",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-editor.component.scss",
            "status": "added",
            "additions": 34,
            "deletions": 0,
            "changes": 34,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,34 @@\n+.editor {\n+  cursor: text;\n+  border: none;\n+  outline: none;\n+  min-width: 100px;\n+  white-space: pre;\n+  width: fit-content;\n+}\n+\n+.editor-input {\n+  background-color: #bbddfb;\n+  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);\n+}\n+\n+input {\n+  width: fit-content;\n+  font-family: Menlo, monospace;\n+  font-weight: 500;\n+  font-size: 1em;\n+  border: none;\n+  outline: none;\n+}\n+\n+:host-context(.dark-theme) {\n+  input {\n+    color: #bcc5ce;\n+    background-color: #202124;\n+  }\n+\n+  .editor-input {\n+    background-color: #454546;\n+    box-shadow: 0 0 0 1px rgba(165, 165, 165, 0.05);\n+  }\n+}"
        },
        {
            "sha": "97ff73c1a8aa308724c691a80e6f6212bb59c6ec",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-editor.component.ts",
            "status": "added",
            "additions": 91,
            "deletions": 0,
            "changes": 91,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-editor.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,91 @@\n+import {\n+  AfterViewChecked,\n+  ChangeDetectorRef,\n+  Component,\n+  ElementRef,\n+  EventEmitter,\n+  Input,\n+  OnInit,\n+  Output,\n+} from '@angular/core';\n+\n+type EditorType = string | number | boolean;\n+type EditorResult = EditorType | Array<EditorType>;\n+\n+enum PropertyEditorState {\n+  Read,\n+  Write,\n+}\n+\n+const parseValue = (value: EditorResult): EditorResult => {\n+  try {\n+    return JSON.parse(value as any);\n+  } catch {\n+    return value.toString();\n+  }\n+};\n+\n+@Component({\n+  templateUrl: './property-editor.component.html',\n+  selector: 'ng-property-editor',\n+  styleUrls: ['./property-editor.component.scss'],\n+})\n+export class PropertyEditorComponent implements AfterViewChecked, OnInit {\n+  @Input() key: string;\n+  @Input() initialValue: EditorResult;\n+  @Output() updateValue = new EventEmitter<EditorResult>();\n+\n+  readState = PropertyEditorState.Read;\n+  writeState = PropertyEditorState.Write;\n+\n+  valueToSubmit: EditorResult;\n+  currentPropertyState = this.readState;\n+\n+  constructor(private _cd: ChangeDetectorRef, private _elementRef: ElementRef) {}\n+\n+  ngOnInit(): void {\n+    this.valueToSubmit = this.initialValue;\n+  }\n+\n+  ngAfterViewChecked(): void {\n+    if (this.currentPropertyState === this.writeState) {\n+      this.editor.focus();\n+    }\n+  }\n+\n+  accept(): void {\n+    const parsed = parseValue(this.valueToSubmit);\n+    this.updateValue.emit(parsed);\n+    this._transition(this.readState);\n+  }\n+\n+  reject(): void {\n+    this.valueToSubmit = this.initialValue;\n+    this._transition(this.readState);\n+  }\n+\n+  onClick(): void {\n+    if (this.currentPropertyState === this.readState) {\n+      this._transition(this.writeState);\n+    }\n+  }\n+\n+  onBlur(): void {\n+    if (this.currentPropertyState === this.writeState) {\n+      this.accept();\n+    }\n+  }\n+\n+  get editor(): HTMLInputElement {\n+    return this._elementRef.nativeElement.querySelector('input');\n+  }\n+\n+  private _transition(state: PropertyEditorState): void {\n+    this.currentPropertyState = state;\n+    if (this.currentPropertyState === this.writeState) {\n+      this._cd.detectChanges();\n+      this.editor.focus();\n+      this.editor.select();\n+    }\n+  }\n+}"
        },
        {
            "sha": "f556542344180348682dacb9f1b0a58fbbbad420",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-preview.component.html",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+<span class=\"value\" [class.function]=\"isClickableProp\" (click)=\"isClickableProp && inspect.emit()\">\n+  {{ node.prop.descriptor.preview }}\n+</span>"
        },
        {
            "sha": "da799c074dab92f532908c0e13e29e55083ed60a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-preview.component.scss",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,7 @@\n+.function {\n+  &:hover {\n+    background: #4da1ff;\n+    color: #fff;\n+    cursor: pointer;\n+  }\n+}"
        },
        {
            "sha": "dc2964fa86082b64ff2ceeb9da3a991c754f272c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-preview.component.ts",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-preview.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,17 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { PropType } from 'protocol';\n+import { FlatNode } from '../../property-resolver/element-property-resolver';\n+\n+@Component({\n+  selector: 'ng-property-preview',\n+  templateUrl: './property-preview.component.html',\n+  styleUrls: ['./property-preview.component.scss'],\n+})\n+export class PropertyPreviewComponent {\n+  @Input() node: FlatNode;\n+  @Output() inspect = new EventEmitter<void>();\n+\n+  get isClickableProp(): boolean {\n+    return this.node.prop.descriptor.type === PropType.Function || this.node.prop.descriptor.type === PropType.HTMLNode;\n+  }\n+}"
        },
        {
            "sha": "adea02bfa74c23aca0b546b218ed7ca1b45f8161",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-tab-body.component.html",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,5 @@\n+<ng-container *ngIf=\"currentSelectedElement\">\n+  <div *ngFor=\"let directive of getCurrentDirectives()\" class=\"explorer-panel\">\n+    <ng-property-view (inspect)=\"inspect.emit($event)\" [directive]=\"directive\"></ng-property-view>\n+  </div>\n+</ng-container>"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-tab-body.component.scss",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "c797b1e9886ab45d03c2340218f3be1e7ecdf03e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-tab-body.component.ts",
            "status": "added",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-tab-body.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,25 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { IndexedNode } from '../../directive-forest/index-forest';\n+import { FlatNode } from '../../property-resolver/element-property-resolver';\n+import { DirectivePosition } from 'protocol';\n+\n+@Component({\n+  templateUrl: './property-tab-body.component.html',\n+  selector: 'ng-property-tab-body',\n+  styleUrls: ['./property-tab-body.component.scss'],\n+})\n+export class PropertyTabBodyComponent {\n+  @Input() currentSelectedElement: IndexedNode | null;\n+  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n+\n+  getCurrentDirectives(): string[] | undefined {\n+    if (!this.currentSelectedElement) {\n+      return;\n+    }\n+    const directives = this.currentSelectedElement.directives.map((d) => d.name);\n+    if (this.currentSelectedElement.component) {\n+      directives.push(this.currentSelectedElement.component.name);\n+    }\n+    return directives;\n+  }\n+}"
        },
        {
            "sha": "6bd8601b3e244c45ef08cc2c35595926d877987d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body.component.html",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,26 @@\n+<mat-accordion cdkDropList (cdkDropListDropped)=\"drop($event)\" *ngIf=\"controlsLoaded\" [multi]=\"true\">\n+  <div class=\"mat-accordion-content\" *ngFor=\"let index of categoryOrder\" cdkDrag>\n+    <mat-expansion-panel *ngIf=\"!panels[index].hidden\" [expanded]=\"true\">\n+      <mat-expansion-panel-header collapsedHeight=\"25px\" expandedHeight=\"25px\">\n+        <mat-panel-title>\n+          {{ panels[index].title }}\n+          <a\n+            href=\"{{ panels[index].documentation }}\"\n+            target=\"_blank\"\n+            class=\"documentation\"\n+            matTooltip=\"Open docs reference\"\n+            (click)=\"$event.stopPropagation()\"\n+          >\n+            <mat-icon class=\"docs-link\">open_in_new</mat-icon>\n+          </a>\n+        </mat-panel-title>\n+      </mat-expansion-panel-header>\n+      <ng-property-view-tree\n+        [dataSource]=\"panels[index].controls.dataSource\"\n+        [treeControl]=\"panels[index].controls.treeControl\"\n+        (updateValue)=\"updateValue($event)\"\n+        (inspect)=\"handleInspect($event)\"\n+      ></ng-property-view-tree>\n+    </mat-expansion-panel>\n+  </div>\n+</mat-accordion>"
        },
        {
            "sha": "cf892df9f1c9923a2fe128c7c33a341ce71c709d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body.component.scss",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,59 @@\n+:host {\n+  ::ng-deep {\n+    mat-expansion-panel {\n+      border-radius: unset !important;\n+    }\n+\n+    .mat-expansion-panel-body {\n+      padding: 0;\n+    }\n+\n+    .mat-expansion-panel-spacing {\n+      margin: 0;\n+    }\n+\n+    .mat-expansion-panel-header {\n+      padding: 0 15px;\n+\n+      .documentation {\n+        display: flex;\n+        align-self: center;\n+        text-decoration: none;\n+      }\n+\n+      .docs-link {\n+        color: #000000de;\n+        height: inherit;\n+        width: fit-content;\n+        font-size: initial;\n+        padding-left: 0.1rem;\n+\n+        &:active {\n+          color: #1b1aa5;\n+        }\n+      }\n+    }\n+\n+    .mat-expansion-panel-header-title {\n+      font-size: 0.8em;\n+      font-family: Menlo, monospace;\n+    }\n+\n+    .mat-expansion-indicator {\n+      &::after {\n+        padding: 2.5px;\n+        margin-bottom: 4.5px;\n+      }\n+    }\n+\n+    :host-context(.dark-theme) {\n+      .docs-link {\n+        color: #bcc5ce;\n+\n+        &:active {\n+          color: #5caace;\n+        }\n+      }\n+    }\n+  }\n+}"
        },
        {
            "sha": "c33945fe4d5d2e5abe2fa089cface3120f52c9ee",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body.component.ts",
            "status": "added",
            "additions": 63,
            "deletions": 0,
            "changes": 63,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-body.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,63 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { DirectivePropertyResolver, DirectiveTreeData } from '../../property-resolver/directive-property-resolver';\n+import { FlatNode } from '../../property-resolver/element-property-resolver';\n+import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\n+import { DirectivePosition } from 'protocol';\n+\n+@Component({\n+  selector: 'ng-property-view-body',\n+  templateUrl: './property-view-body.component.html',\n+  styleUrls: ['./property-view-body.component.scss'],\n+})\n+export class PropertyViewBodyComponent {\n+  @Input() controller: DirectivePropertyResolver;\n+  @Input() directiveInputControls: DirectiveTreeData;\n+  @Input() directiveOutputControls: DirectiveTreeData;\n+  @Input() directiveStateControls: DirectiveTreeData;\n+\n+  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n+\n+  categoryOrder = [0, 1, 2];\n+\n+  get panels(): { title: string; hidden: boolean; controls: DirectiveTreeData; documentation: string }[] {\n+    return [\n+      {\n+        title: '@Inputs',\n+        hidden: this.directiveInputControls.dataSource.data.length === 0,\n+        controls: this.directiveInputControls,\n+        documentation: 'https://angular.io/api/core/Input',\n+      },\n+      {\n+        title: '@Outputs',\n+        hidden: this.directiveOutputControls.dataSource.data.length === 0,\n+        controls: this.directiveOutputControls,\n+        documentation: 'https://angular.io/api/core/Output',\n+      },\n+      {\n+        title: 'Properties',\n+        hidden: this.directiveStateControls.dataSource.data.length === 0,\n+        controls: this.directiveStateControls,\n+        documentation: 'https://angular.io/guide/property-binding',\n+      },\n+    ];\n+  }\n+\n+  get controlsLoaded(): boolean {\n+    return !!this.directiveStateControls && !!this.directiveOutputControls && !!this.directiveInputControls;\n+  }\n+\n+  updateValue({ node, newValue }: { node: FlatNode; newValue: any }): void {\n+    this.controller.updateValue(node, newValue);\n+  }\n+\n+  drop(event: CdkDragDrop<any, any>): void {\n+    moveItemInArray(this.categoryOrder, event.previousIndex, event.currentIndex);\n+  }\n+\n+  handleInspect(node: FlatNode): void {\n+    this.inspect.emit({\n+      node,\n+      directivePosition: this.controller.directivePosition,\n+    });\n+  }\n+}"
        },
        {
            "sha": "54b9a9e6a502e14c3172d42eb851e08acf721e0d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-header.component.html",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+<mat-toolbar>{{ directive }}</mat-toolbar>"
        },
        {
            "sha": "ea0b7784b9bd85d5909a904ca0541ee3acd76ca5",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-header.component.scss",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,10 @@\n+mat-toolbar {\n+  padding-left: 10px;\n+  display: block;\n+  text-overflow: ellipsis;\n+  overflow: hidden;\n+  line-height: 25px;\n+  font-size: 11px;\n+  font-weight: 500;\n+  height: auto;\n+}"
        },
        {
            "sha": "384ebe7a0de61f0bbb16774347281fe8c8ac8cce",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-header.component.ts",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-header.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,10 @@\n+import { Component, Input } from '@angular/core';\n+\n+@Component({\n+  selector: 'ng-property-view-header',\n+  templateUrl: './property-view-header.component.html',\n+  styleUrls: ['./property-view-header.component.scss'],\n+})\n+export class PropertyViewHeaderComponent {\n+  @Input() directive: string;\n+}"
        },
        {
            "sha": "95f737eda90563602b56d3129d3b44168de51a99",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-tree.component.html",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+<mat-tree *ngIf=\"treeControl\" class=\"property-list\" [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\n+  <mat-tree-node matTreeNodePaddingIndent=\"14\" *matTreeNodeDef=\"let node\" matTreeNodePadding>\n+    <span class=\"name non-expandable\"> {{ node.prop.name }} </span>:&nbsp;\n+    <ng-container *ngIf=\"!node.prop.descriptor.editable; else editable\">\n+      <ng-property-preview (inspect)=\"inspect.emit(node)\" [node]=\"node\"></ng-property-preview>\n+    </ng-container>\n+    <ng-template #editable>\n+      <ng-property-editor\n+        [key]=\"node.prop.name\"\n+        [initialValue]=\"node.prop.descriptor.value || node.prop.descriptor.preview\"\n+        (updateValue)=\"handleUpdate(node, $event)\"\n+      >\n+      </ng-property-editor>\n+    </ng-template>\n+  </mat-tree-node>\n+\n+  <mat-tree-node matTreeNodePaddingIndent=\"14\" *matTreeNodeDef=\"let node; when: hasChild\" matTreeNodePadding>\n+    <div (click)=\"toggle(node)\">\n+      <mat-icon class=\"mat-icon-rtl-mirror\">\n+        {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\n+      </mat-icon>\n+      &nbsp;\n+      <span class=\"name\"> {{ node.prop.name }} </span>:&nbsp;\n+      <span class=\"value\">\n+        {{ treeControl.isExpanded(node) ? '' : node.prop.descriptor.preview }}\n+      </span>\n+    </div>\n+  </mat-tree-node>\n+</mat-tree>"
        },
        {
            "sha": "ecf3eb1c49a484aabe226e1c59619c0b58997aca",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-tree.component.scss",
            "status": "added",
            "additions": 66,
            "deletions": 0,
            "changes": 66,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,66 @@\n+:host {\n+  width: 100%;\n+  display: block;\n+  overflow: auto;\n+  height: calc(100% - 24px);\n+\n+  mat-tree {\n+    display: table;\n+  }\n+\n+  ::ng-deep {\n+    .mat-tree-node {\n+      min-height: 20px !important;\n+      cursor: default;\n+      font-family: Menlo, monospace;\n+\n+      .mat-icon {\n+        font-size: 11px;\n+        width: 8px;\n+        height: 16px;\n+      }\n+    }\n+  }\n+}\n+\n+.name {\n+  margin-left: -9px;\n+}\n+\n+.non-expandable {\n+  margin-left: 18px;\n+}\n+\n+.property-list {\n+  margin: 5px 5px 5px 15px;\n+  mat-tree-node {\n+    .name {\n+      color: #ce271e;\n+      font-weight: 500;\n+    }\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .property-list {\n+    .name {\n+      color: #54c9bd !important;\n+    }\n+  }\n+}\n+\n+.property-list mat-tree-node.disabled .name,\n+.disabled {\n+  color: #333;\n+}\n+\n+.arrow {\n+  font-family: monospace;\n+  font-size: 0.5em;\n+  color: #6e6e6e;\n+}\n+\n+:host ::ng-deep .mat-tree-node,\n+.mat-nested-tree-node {\n+  font-size: 0.8em;\n+}"
        },
        {
            "sha": "ee6ddb3d6fa6f6e3864c1591c0558d3f140280b1",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-tree.component.ts",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view-tree.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,41 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { PropertyDataSource } from '../../property-resolver/property-data-source';\n+import { FlatNode } from '../../property-resolver/element-property-resolver';\n+import { FlatTreeControl } from '@angular/cdk/tree';\n+\n+@Component({\n+  selector: 'ng-property-view-tree',\n+  templateUrl: './property-view-tree.component.html',\n+  styleUrls: ['./property-view-tree.component.scss'],\n+})\n+export class PropertyViewTreeComponent {\n+  @Input() dataSource: PropertyDataSource;\n+  @Input() treeControl: FlatTreeControl<FlatNode>;\n+  @Output() updateValue = new EventEmitter<any>();\n+  @Output() inspect = new EventEmitter<any>();\n+\n+  hasChild = (_: number, node: FlatNode): boolean => node.expandable;\n+\n+  toggle(node: FlatNode): void {\n+    if (this.treeControl.isExpanded(node)) {\n+      this.treeControl.collapse(node);\n+      return;\n+    }\n+    this.expand(node);\n+  }\n+\n+  expand(node: FlatNode): void {\n+    const { prop } = node;\n+    if (!prop.descriptor.expandable) {\n+      return;\n+    }\n+    this.treeControl.expand(node);\n+  }\n+\n+  handleUpdate(node: FlatNode, newValue: any): void {\n+    this.updateValue.emit({\n+      node,\n+      newValue,\n+    });\n+  }\n+}"
        },
        {
            "sha": "47e2c66ede1aa97e07592a6ae31bb1d902edd47a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view.component.html",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,8 @@\n+<ng-property-view-header [directive]=\"directive\"></ng-property-view-header>\n+<ng-property-view-body\n+  [controller]=\"controller\"\n+  [directiveInputControls]=\"directiveInputControls\"\n+  [directiveOutputControls]=\"directiveOutputControls\"\n+  [directiveStateControls]=\"directiveStateControls\"\n+  (inspect)=\"inspect.emit($event)\"\n+></ng-property-view-body>"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view.component.scss",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78"
        },
        {
            "sha": "60fa70813552def9b63996fff002f9be00d5c5ea",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view.component.ts",
            "status": "added",
            "additions": 32,
            "deletions": 0,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,32 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { DirectivePropertyResolver, DirectiveTreeData } from '../../property-resolver/directive-property-resolver';\n+import { ElementPropertyResolver, FlatNode } from '../../property-resolver/element-property-resolver';\n+import { DirectivePosition } from 'protocol';\n+\n+@Component({\n+  selector: 'ng-property-view',\n+  templateUrl: './property-view.component.html',\n+  styleUrls: ['./property-view.component.scss'],\n+})\n+export class PropertyViewComponent {\n+  @Input() directive: string;\n+  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n+\n+  constructor(private _nestedProps: ElementPropertyResolver) {}\n+\n+  get controller(): DirectivePropertyResolver | undefined {\n+    return this._nestedProps.getDirectiveController(this.directive);\n+  }\n+\n+  get directiveInputControls(): DirectiveTreeData | void {\n+    return this.controller?.directiveInputControls;\n+  }\n+\n+  get directiveOutputControls(): DirectiveTreeData | void {\n+    return this.controller?.directiveOutputControls;\n+  }\n+\n+  get directiveStateControls(): DirectiveTreeData | void {\n+    return this.controller?.directiveStateControls;\n+  }\n+}"
        },
        {
            "sha": "34069f432973988271d69ee2fb084ab0fcaf5c57",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view.module.ts",
            "status": "added",
            "additions": 49,
            "deletions": 0,
            "changes": 49,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2Fproperty-view.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,49 @@\n+import { CommonModule } from '@angular/common';\n+import { NgModule } from '@angular/core';\n+import { FormsModule } from '@angular/forms';\n+import { PropertyViewBodyComponent } from './property-view-body.component';\n+import { PropertyViewHeaderComponent } from './property-view-header.component';\n+import { PropertyViewTreeComponent } from './property-view-tree.component';\n+import { PropertyViewComponent } from './property-view.component';\n+import { PropertyTabBodyComponent } from './property-tab-body.component';\n+import { PropertyPreviewComponent } from './property-preview.component';\n+import { PropertyEditorComponent } from './property-editor.component';\n+\n+import { MatToolbarModule } from '@angular/material/toolbar';\n+import { MatIconModule } from '@angular/material/icon';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+import { MatExpansionModule } from '@angular/material/expansion';\n+import { MatTreeModule } from '@angular/material/tree';\n+import { DragDropModule } from '@angular/cdk/drag-drop';\n+\n+@NgModule({\n+  declarations: [\n+    PropertyViewComponent,\n+    PropertyViewTreeComponent,\n+    PropertyViewHeaderComponent,\n+    PropertyViewBodyComponent,\n+    PropertyTabBodyComponent,\n+    PropertyPreviewComponent,\n+    PropertyEditorComponent,\n+  ],\n+  imports: [\n+    MatToolbarModule,\n+    MatIconModule,\n+    MatTreeModule,\n+    MatTooltipModule,\n+    CommonModule,\n+    MatExpansionModule,\n+    DragDropModule,\n+    FormsModule,\n+  ],\n+  exports: [\n+    PropertyViewComponent,\n+    PropertyViewTreeComponent,\n+    PropertyViewHeaderComponent,\n+    PropertyViewBodyComponent,\n+    PropertyTabBodyComponent,\n+    PropertyPreviewComponent,\n+    PropertyEditorComponent,\n+  ],\n+})\n+export class PropertyViewModule {}"
        },
        {
            "sha": "112d3f9b5f572af05207eb64c3ffb218862b3d1c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/BUILD.bazel",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+multi_sass_binary(\n+    name = \"profiler-styles\",\n+    srcs = [\n+        \"profiler.component.scss\",\n+        \"profiler-import-dialog.component.scss\",\n+    ],\n+)\n+\n+ng_ts_project(\n+    name = \"profiler\",\n+    srcs = [\n+        \"file-api-service.ts\",\n+        \"profiler.component.ts\",\n+        \"profiler.module.ts\",\n+        \"profiler-import-dialog.component.ts\",\n+    ],\n+    angular_assets = [\n+        \"profiler.component.html\",\n+        \"profiler-import-dialog.component.html\",\n+        \":profiler-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline\",\n+        \"//projects/ng-devtools/src/lib/vendor/chromium\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/forms\",\n+        \"@npm//@angular/material\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "e555f4d1cf7f3c107f680aef72ad30bec1424cf7",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/file-api-service.ts",
            "status": "added",
            "additions": 31,
            "deletions": 0,
            "changes": 31,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ffile-api-service.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ffile-api-service.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ffile-api-service.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,31 @@\n+import { Subject } from 'rxjs';\n+import { Injectable } from '@angular/core';\n+import { toISO8601Compact } from '../../vendor/chromium/date-utilities';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class FileApiService {\n+  uploadedData: Subject<any> = new Subject();\n+\n+  publishFileUpload(parentEvent: InputEvent): void {\n+    const reader = new FileReader();\n+    reader.onload = (event) => {\n+      try {\n+        this.uploadedData.next(JSON.parse((event.target as any).result));\n+      } catch (e) {\n+        this.uploadedData.next({ error: e });\n+      }\n+      (parentEvent.target as any).value = '';\n+    };\n+    reader.readAsText((parentEvent.target as any).files[0]);\n+  }\n+\n+  saveObjectAsJSON(object: object): void {\n+    const downloadLink = document.createElement('a');\n+    downloadLink.download = `NgDevTools-Profile-${toISO8601Compact(new Date())}.json`;\n+    downloadLink.href = URL.createObjectURL(new Blob([JSON.stringify(object)], { type: 'application/json' }));\n+    downloadLink.click();\n+    setTimeout(() => URL.revokeObjectURL(downloadLink.href));\n+  }\n+}"
        },
        {
            "sha": "123ce2c1eac78b96622bd2dca7d60fbde9b9d590",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog.component.html",
            "status": "added",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,35 @@\n+<ng-container [ngSwitch]=\"data.status\">\n+  <ng-container *ngSwitchCase=\"'ERROR'\">\n+    <h1 mat-dialog-title>Error</h1>\n+    <div mat-dialog-content>\n+      <p>Could not process uploaded file.</p>\n+      <p class=\"error\">\n+        {{ data.errorMessage }}\n+      </p>\n+    </div>\n+    <div mat-dialog-actions>\n+      <button mat-flat-button [mat-dialog-close]=\"false\">Close</button>\n+    </div>\n+  </ng-container>\n+  <ng-container *ngSwitchCase=\"'INVALID_VERSION'\">\n+    <h1 mat-dialog-title>Warning</h1>\n+    <div mat-dialog-content>\n+      <p>\n+        The file you are attempting to upload was recorded in a different format than the one supported by your current\n+        Angular DevTools version\n+      </p>\n+      <p>\n+        Current format version: <span class=\"version profiler-version\">{{ data.profilerVersion }}</span>\n+      </p>\n+\n+      <p>\n+        Format version of uploaded file: <span class=\"version imported-version\">{{ data.importedVersion }}</span>\n+      </p>\n+      <p>Files recorded in older versions may no longer be compatible. Do you wish to continue?</p>\n+    </div>\n+    <div mat-dialog-actions>\n+      <button mat-flat-button [mat-dialog-close]=\"false\">No Thanks</button>\n+      <button mat-flat-button [mat-dialog-close]=\"true\">Yes</button>\n+    </div>\n+  </ng-container>\n+</ng-container>"
        },
        {
            "sha": "e97821c530820eb29188616884ca0d58630d6c9c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog.component.scss",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+.version {\n+  font-weight: 400;\n+  font-size: 16px;\n+}\n+\n+.profiler-version {\n+  color: #388e3c;\n+}\n+\n+.imported-version,\n+.error {\n+  color: #d32f2f;\n+}"
        },
        {
            "sha": "410471cb95b15655c2860a5b067e9318c9e3a300",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog.component.ts",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler-import-dialog.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,21 @@\n+import { Component, Inject } from '@angular/core';\n+import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n+\n+interface DialogData {\n+  profilerVersion?: number;\n+  importedVersion?: number;\n+  errorMessage?: string;\n+  status: 'ERROR' | 'INVALID_VERSION';\n+}\n+\n+@Component({\n+  selector: 'ng-profiler-import-dialog',\n+  templateUrl: './profiler-import-dialog.component.html',\n+  styleUrls: ['./profiler-import-dialog.component.scss'],\n+})\n+export class ProfilerImportDialogComponent {\n+  constructor(\n+    public dialogRef: MatDialogRef<ProfilerImportDialogComponent>,\n+    @Inject(MAT_DIALOG_DATA) public data: DialogData\n+  ) {}\n+}"
        },
        {
            "sha": "9bbb3c748ce3f980352b9ab7572bb17159653f4d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.html",
            "status": "added",
            "additions": 51,
            "deletions": 0,
            "changes": 51,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,51 @@\n+<div class=\"profiler-wrapper\">\n+  <mat-card>\n+    <button\n+      mat-icon-button\n+      color=\"primary\"\n+      *ngIf=\"state === 'idle'\"\n+      (click)=\"startRecording()\"\n+      class=\"profiler-control start-recording-button\"\n+      matTooltip=\"Start recording\"\n+    >\n+      <mat-icon> circle </mat-icon>\n+    </button>\n+    <button\n+      mat-icon-button\n+      *ngIf=\"state === 'recording'\"\n+      (click)=\"stopRecording()\"\n+      class=\"profiler-control recording-button\"\n+      matTooltip=\"Stop recording\"\n+    >\n+      <mat-icon> circle </mat-icon>\n+    </button>\n+    <button\n+      mat-icon-button\n+      color=\"primary\"\n+      *ngIf=\"state === 'visualizing'\"\n+      (click)=\"discardRecording()\"\n+      class=\"profiler-control discard-button\"\n+      matTooltip=\"Clear recording\"\n+    >\n+      <mat-icon> not_interested </mat-icon>\n+    </button>\n+    <p class=\"instructions\" [class.hidden]=\"state !== 'idle'\">\n+      <span> Click the record button to start a new recording, or upload a json file containing profiler data. </span>\n+      <br />\n+      <span>\n+        <input type=\"file\" (change)=\"importProfilerResults($event)\" placeholder=\"Upload file\" accept=\".json\" />\n+      </span>\n+    </p>\n+    <p class=\"instructions\" [class.hidden]=\"state !== 'recording'\">\n+      Interact to preview change detection. Clicking stop ends this Profiler recording.\n+    </p>\n+    <p class=\"instructions\" [class.hidden]=\"state !== 'visualizing'\">\n+      Click Save Profile to save your recording or click refresh to clear the current recording.\n+    </p>\n+  </mat-card>\n+  <div id=\"profiler-content-wrapper\">\n+    <div class=\"visualization\" *ngIf=\"state !== 'idle'\">\n+      <ng-recording-timeline [stream]=\"stream\" (exportProfile)=\"exportProfilerResults()\"> </ng-recording-timeline>\n+    </div>\n+  </div>\n+</div>"
        },
        {
            "sha": "cb03f19b2bb4d7d03bf685688245283eecbea1f0",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.scss",
            "status": "added",
            "additions": 63,
            "deletions": 0,
            "changes": 63,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,63 @@\n+:host,\n+.profiler-wrapper {\n+  font-size: 1em;\n+  width: 100%;\n+  height: calc(100% - 30px);\n+}\n+\n+.mat-card {\n+  display: flex;\n+  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n+  height: wrap-content;\n+  margin: 0 !important;\n+  padding: 5px !important;\n+  box-shadow: none !important;\n+  border-radius: 0;\n+}\n+\n+.mat-icon {\n+  font-size: 18px;\n+}\n+\n+.profiler-control {\n+  cursor: pointer;\n+\n+  &.recording-button {\n+    color: #d83c34;\n+  }\n+}\n+\n+.instructions {\n+  margin-bottom: 0 !important;\n+  align-self: center;\n+\n+  &.hidden {\n+    display: none;\n+  }\n+\n+  input,\n+  span {\n+    margin-top: 5px;\n+    font-size: 1em;\n+    cursor: pointer;\n+  }\n+}\n+\n+#profiler-content-wrapper {\n+  margin: 0;\n+  height: calc(100% - 30px);\n+  width: 100%;\n+}\n+\n+.visualization {\n+  margin: 0;\n+  height: 100%;\n+}\n+\n+:host-context(.dark-theme) {\n+  .profiler-control {\n+    &.recording-button {\n+      color: #ff625a;\n+    }\n+  }\n+}"
        },
        {
            "sha": "55560d5fc539413554f625e282a08df0a3d6d2d9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.ts",
            "status": "added",
            "additions": 111,
            "deletions": 0,
            "changes": 111,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,111 @@\n+import { Component, OnInit, OnDestroy } from '@angular/core';\n+import { MessageBus, Events, ProfilerFrame } from 'protocol';\n+import { FileApiService } from './file-api-service';\n+import { MatDialog } from '@angular/material/dialog';\n+import { ProfilerImportDialogComponent } from './profiler-import-dialog.component';\n+import { Subject, Subscription } from 'rxjs';\n+\n+type State = 'idle' | 'recording' | 'visualizing';\n+\n+const SUPPORTED_VERSIONS = [1];\n+const PROFILER_VERSION = 1;\n+\n+@Component({\n+  selector: 'ng-profiler',\n+  templateUrl: './profiler.component.html',\n+  styleUrls: ['./profiler.component.scss'],\n+})\n+export class ProfilerComponent implements OnInit, OnDestroy {\n+  state: State = 'idle';\n+  stream = new Subject<ProfilerFrame[]>();\n+\n+  private _fileUploadSubscription: Subscription;\n+\n+  // We collect this buffer so we can have it available for export.\n+  private _buffer: ProfilerFrame[] = [];\n+\n+  constructor(\n+    private _fileApiService: FileApiService,\n+    private _messageBus: MessageBus<Events>,\n+    public dialog: MatDialog\n+  ) {}\n+\n+  startRecording(): void {\n+    this.state = 'recording';\n+    this._messageBus.emit('startProfiling');\n+  }\n+\n+  stopRecording(): void {\n+    this.state = 'visualizing';\n+    this._messageBus.emit('stopProfiling');\n+    this.stream.complete();\n+  }\n+\n+  ngOnInit(): void {\n+    this._messageBus.on('profilerResults', (remainingRecords) => {\n+      if (remainingRecords.duration > 0 && remainingRecords.source) {\n+        this.stream.next([remainingRecords]);\n+        this._buffer.push(remainingRecords);\n+      }\n+    });\n+\n+    this._messageBus.on('sendProfilerChunk', (chunkOfRecords: ProfilerFrame) => {\n+      this.stream.next([chunkOfRecords]);\n+      this._buffer.push(chunkOfRecords);\n+    });\n+\n+    this._fileUploadSubscription = this._fileApiService.uploadedData.subscribe((importedFile) => {\n+      if (importedFile.error) {\n+        console.error('Could not process uploaded file');\n+        console.error(importedFile.error);\n+        this.dialog.open(ProfilerImportDialogComponent, {\n+          width: '600px',\n+          data: { status: 'ERROR', errorMessage: importedFile.error },\n+        });\n+\n+        return;\n+      }\n+\n+      if (!SUPPORTED_VERSIONS.includes(importedFile.version)) {\n+        const processDataDialog = this.dialog.open(ProfilerImportDialogComponent, {\n+          width: '600px',\n+          data: { importedVersion: importedFile.version, profilerVersion: PROFILER_VERSION, status: 'INVALID_VERSION' },\n+        });\n+\n+        processDataDialog.afterClosed().subscribe((result) => {\n+          if (result) {\n+            this.state = 'visualizing';\n+            this._buffer = importedFile.buffer;\n+            setTimeout(() => this.stream.next(importedFile.buffer));\n+          }\n+        });\n+      } else {\n+        this.state = 'visualizing';\n+        this._buffer = importedFile.buffer;\n+        setTimeout(() => this.stream.next(importedFile.buffer));\n+      }\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._fileUploadSubscription.unsubscribe();\n+  }\n+\n+  exportProfilerResults(): void {\n+    const fileToExport = {\n+      version: PROFILER_VERSION,\n+      buffer: this._buffer,\n+    };\n+    this._fileApiService.saveObjectAsJSON(fileToExport);\n+  }\n+\n+  importProfilerResults(event: InputEvent): void {\n+    this._fileApiService.publishFileUpload(event);\n+  }\n+\n+  discardRecording(): void {\n+    this.stream = new Subject<ProfilerFrame[]>();\n+    this.state = 'idle';\n+    this._buffer = [];\n+  }\n+}"
        },
        {
            "sha": "6cac7b8ece0cceaf13c6766ce45cd291524cf4a2",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.module.ts",
            "status": "added",
            "additions": 31,
            "deletions": 0,
            "changes": 31,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,31 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { MatSelectModule } from '@angular/material/select';\n+import { MatDialogModule } from '@angular/material/dialog';\n+import { FormsModule } from '@angular/forms';\n+\n+import { ProfilerComponent } from './profiler.component';\n+import { TimelineModule } from './timeline/timeline.module';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatCardModule } from '@angular/material/card';\n+import { ProfilerImportDialogComponent } from './profiler-import-dialog.component';\n+import { MatIconModule } from '@angular/material/icon';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+\n+@NgModule({\n+  declarations: [ProfilerComponent, ProfilerImportDialogComponent],\n+  imports: [\n+    CommonModule,\n+    MatDialogModule,\n+    MatIconModule,\n+    MatSelectModule,\n+    FormsModule,\n+    TimelineModule,\n+    MatButtonModule,\n+    MatCardModule,\n+    MatTooltipModule,\n+  ],\n+  exports: [ProfilerComponent],\n+  entryComponents: [ProfilerImportDialogComponent],\n+})\n+export class ProfilerModule {}"
        },
        {
            "sha": "7f1ed35a9dbe5cb5084a9c260a8c7841e4dac81e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/BUILD.bazel",
            "status": "added",
            "additions": 77,
            "deletions": 0,
            "changes": 77,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,77 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\", \"sass_binary\", \"sass_library\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+multi_sass_binary(\n+    name = \"timeline-styles\",\n+    srcs = [\n+        \"frame-selector.component.scss\",\n+        \"recording-dialog.component.scss\",\n+        \"timeline.component.scss\",\n+        \"timeline-controls.component.scss\",\n+    ],\n+)\n+\n+sass_binary(\n+    name = \"recording-modal-styles\",\n+    src = \"recording-modal.component.scss\",\n+    include_paths = [\"node_modules\"],\n+)\n+\n+ng_ts_project(\n+    name = \"timeline\",\n+    srcs = [\n+        \"filter.ts\",\n+        \"frame-selector.component.ts\",\n+        \"recording-dialog.component.ts\",\n+        \"recording-modal.component.ts\",\n+        \"timeline.component.ts\",\n+        \"timeline.module.ts\",\n+        \"timeline-controls.component.ts\",\n+    ],\n+    angular_assets = [\n+        \"timeline.component.html\",\n+        \"timeline-controls.component.html\",\n+        \"recording-modal.component.html\",\n+        \"recording-dialog.component.html\",\n+        \"frame-selector.component.html\",\n+        \":timeline-styles\",\n+        \":recording-modal-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/cdk\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/forms\",\n+        \"@npm//@angular/material\",\n+        \"@npm//ngx-flamegraph\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"filter.spec.ts\",\n+        \"timeline.component.spec.ts\",\n+    ],\n+    deps = [\n+        \":timeline\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":test-lib\",\n+    ],\n+)"
        },
        {
            "sha": "3915cb0ca143539bd1ab75b4e482d7047ab974f5",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/filter.spec.ts",
            "status": "added",
            "additions": 267,
            "deletions": 0,
            "changes": 267,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ffilter.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ffilter.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ffilter.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,267 @@\n+import { createFilter, parseFilter } from './filter';\n+\n+describe('filtering', () => {\n+  describe('parsing', () => {\n+    it('should parse filters', () => {\n+      const result = parseFilter('');\n+      expect(result).toEqual([]);\n+    });\n+\n+    it('should return empty filter if the query is invalid', () => {\n+      const result = parseFilter('foobar');\n+      expect(result.length).toBe(0);\n+    });\n+\n+    it('should return proper result with duration', () => {\n+      const result = parseFilter('duration  :  =2');\n+      expect(result.length).toBe(1);\n+      expect(result[0][0]).toBe(true);\n+      expect(result[0][1]).toBe('duration');\n+      expect(result[0][2]).toEqual(['=', 2]);\n+    });\n+\n+    it('should return proper result with source', () => {\n+      const result = parseFilter('source  :  foobar');\n+      expect(result.length).toBe(1);\n+      expect(result[0][1]).toBe('source');\n+      expect(result[0][2]).toEqual('foobar');\n+    });\n+\n+    it('should return proper result with composite filters', () => {\n+      const result = parseFilter('source  : foobar  baz duration: >= 4200');\n+      expect(result.length).toBe(2);\n+      expect(result[0][1]).toBe('source');\n+      expect(result[0][2]).toEqual('foobar  baz');\n+\n+      expect(result[1][1]).toBe('duration');\n+      expect(result[1][2]).toEqual(['>=', 4200]);\n+    });\n+\n+    it('should ignore invalid operators', () => {\n+      const result1 = parseFilter('sorce  : foobar  baz duration: >= 4200');\n+      expect(result1.length).toBe(1);\n+      expect(result1[0][1]).toBe('duration');\n+      expect(result1[0][2]).toEqual(['>=', 4200]);\n+\n+      const result2 = parseFilter('sorce  : foobar  baz dration: >= 4200');\n+      expect(result2.length).toBe(0);\n+    });\n+\n+    it('should consider decimal values in durations queries with a ms suffix', () => {\n+      const result = parseFilter('source: foobar duration: >=42.42ms');\n+      expect(result.length).toBe(2);\n+      expect(result[0][1]).toBe('source');\n+      expect(result[0][2]).toEqual('foobar');\n+\n+      expect(result[1][1]).toBe('duration');\n+      expect(result[1][2]).toEqual(['>=', 42.42]);\n+    });\n+\n+    it('should consider negation', () => {\n+      const result = parseFilter(' ! source: foobar !duration: >=42.42ms duration: >=42.42ms');\n+      expect(result.length).toBe(3);\n+      expect(result[0][0]).toBe(false);\n+      expect(result[0][1]).toBe('source');\n+      expect(result[0][2]).toEqual('foobar');\n+\n+      expect(result[1][0]).toBe(false);\n+      expect(result[1][1]).toBe('duration');\n+      expect(result[1][2]).toEqual(['>=', 42.42]);\n+\n+      expect(result[2][0]).toBe(true);\n+      expect(result[2][1]).toBe('duration');\n+      expect(result[2][2]).toEqual(['>=', 42.42]);\n+    });\n+  });\n+\n+  describe('filtering', () => {\n+    it('should filter results with a source query', () => {\n+      const filter = createFilter('source:click');\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 10,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeTrue();\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 10,\n+            source: 'mouseenter',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+    });\n+\n+    it('should filter results with a duration query', () => {\n+      const filter1 = createFilter('duration:>10ms');\n+      expect(\n+        filter1({\n+          frame: {\n+            directives: [],\n+            duration: 10,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+\n+      expect(\n+        filter1({\n+          frame: {\n+            directives: [],\n+            duration: 15,\n+            source: 'mouseenter',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeTrue();\n+\n+      const filter2 = createFilter('duration:=10ms');\n+      expect(\n+        filter2({\n+          frame: {\n+            directives: [],\n+            duration: 11,\n+            source: 'mouseenter',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+      expect(\n+        filter2({\n+          frame: {\n+            directives: [],\n+            duration: 10,\n+            source: 'mouseenter',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeTrue();\n+    });\n+\n+    it('should work with composite selectors', () => {\n+      const filter = createFilter('duration:>10ms source: click');\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 10,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 15,\n+            source: 'mouseenter',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 15,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeTrue();\n+    });\n+\n+    it('should work with invalid arguments', () => {\n+      const filter = createFilter('duration:>ms');\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 15,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeTrue();\n+    });\n+\n+    it('should work with negation', () => {\n+      const filter = createFilter('!source:message');\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 15,\n+            source: 'message',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+    });\n+\n+    it('should work with negation and composite expressions', () => {\n+      const filter = createFilter('!duration:=15 !source:message source:click');\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 15,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 10,\n+            source: 'message',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeFalse();\n+\n+      expect(\n+        filter({\n+          frame: {\n+            directives: [],\n+            duration: 14,\n+            source: 'click',\n+          },\n+          style: {},\n+          toolTip: '',\n+        })\n+      ).toBeTrue();\n+    });\n+  });\n+});"
        },
        {
            "sha": "197f5ab0a647fa34f59d98eda22758300473666d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/filter.ts",
            "status": "added",
            "additions": 138,
            "deletions": 0,
            "changes": 138,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ffilter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ffilter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ffilter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,138 @@\n+import { ProfilerFrame } from 'protocol';\n+import { GraphNode } from './record-formatter/record-formatter';\n+\n+export type Filter = (nodes: GraphNode) => boolean;\n+\n+export const noopFilter = (_: GraphNode) => true;\n+\n+interface Query<Arguments = unknown> {\n+  readonly name: QueryType;\n+  parseArguments(args: string[]): Arguments | undefined;\n+  apply(node: ProfilerFrame, args: Arguments): boolean;\n+}\n+\n+type Operator = '>' | '<' | '=' | '<=' | '>=';\n+\n+const ops: { [operator in Operator]: (a: number, b: number) => boolean } = {\n+  '>'(a: number, b: number): boolean {\n+    return a > b;\n+  },\n+  '<'(a: number, b: number): boolean {\n+    return a < b;\n+  },\n+  '='(a: number, b: number): boolean {\n+    return a === b;\n+  },\n+  '<='(a: number, b: number): boolean {\n+    return a <= b;\n+  },\n+  '>='(a: number, b: number): boolean {\n+    return a >= b;\n+  },\n+};\n+\n+type DurationArgument = [Operator, number];\n+type SourceArgument = string;\n+\n+const enum QueryType {\n+  Duration = 'duration',\n+  Source = 'source',\n+}\n+\n+type QueryArguments = DurationArgument | SourceArgument;\n+\n+const operatorRe = /^(>=|<=|=|<|>|)/;\n+class DurationQuery implements Query<DurationArgument> {\n+  readonly name = QueryType.Duration;\n+  parseArguments([arg]: string[]): DurationArgument | undefined {\n+    arg = arg.trim();\n+    const operator = (arg.match(operatorRe) ?? [null])[0];\n+    if (!operator) {\n+      return undefined;\n+    }\n+    const num = parseFloat(arg.replace(operatorRe, '').trim());\n+    if (isNaN(num)) {\n+      return undefined;\n+    }\n+    return [operator as Operator, num] as DurationArgument;\n+  }\n+\n+  apply(node: ProfilerFrame, args: DurationArgument): boolean {\n+    return ops[args[0]](node.duration, args[1]);\n+  }\n+}\n+\n+class SourceQuery implements Query<SourceArgument> {\n+  readonly name = QueryType.Source;\n+  parseArguments([arg]: string[]): SourceArgument {\n+    return arg;\n+  }\n+\n+  apply(node: ProfilerFrame, args: SourceArgument): boolean {\n+    return node.source.indexOf(args) >= 0;\n+  }\n+}\n+\n+const queryMap: { [query in QueryType]: Query } = [new DurationQuery(), new SourceQuery()].reduce((map, query) => {\n+  map[query.name] = query;\n+  return map;\n+}, {} as { [query in QueryType]: Query });\n+\n+const queryRe = new RegExp(`!?\\s*(${QueryType.Duration}|${QueryType.Source})$`, 'g');\n+\n+type Predicate = true | false;\n+type QueryAST = [Predicate, QueryType, QueryArguments];\n+\n+/**\n+ * Parses a query in the form:\n+ *  filter := ('!'? query)*\n+ *  query := 'sort': [a-z]* | 'duration': operator duration\n+ *  operator := '=' | '>' | '<' | '>=' | '<='\n+ *  duration := [0-9]* 'ms'?\n+ *\n+ * @param query string that represents the search query\n+ * @returns tuples representing the query type and its arguments\n+ */\n+export const parseFilter = (query: string): QueryAST[] => {\n+  const parts = query.split(':').map((part) => part.trim());\n+  if (parts.length <= 1) {\n+    return [];\n+  }\n+  const result: QueryAST[] = [];\n+  for (let i = 0; i < parts.length - 1; i++) {\n+    const part = parts[i];\n+    if (!queryRe.test(part)) {\n+      continue;\n+    }\n+    const match = part.match(/(\\w+)$/);\n+    if (!match) {\n+      continue;\n+    }\n+    const operator = queryMap[match[0] as QueryType];\n+    if (!operator) {\n+      continue;\n+    }\n+    const operandString = parts[i + 1].replace(queryRe, '').trim();\n+    const operand = operator.parseArguments([operandString]) as QueryArguments;\n+    if (!operand) {\n+      continue;\n+    }\n+    const hasNegation = /^(.*?)\\s*!\\s*\\w+/.test(part);\n+    result.push([!hasNegation, operator.name, operand]);\n+  }\n+  return result;\n+};\n+\n+export const createFilter = (query: string) => {\n+  const queries = parseFilter(query);\n+  return (frame: GraphNode) => {\n+    return queries.every(([predicate, queryName, args]) => {\n+      const currentQuery = queryMap[queryName];\n+      if (!currentQuery) {\n+        return true;\n+      }\n+      const result = currentQuery.apply(frame.frame, args);\n+      return predicate ? result : !result;\n+    });\n+  };\n+};"
        },
        {
            "sha": "b2b696c5a960a91beed96620f3b0f305db87d0aa",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/frame-selector.component.html",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,41 @@\n+<mat-card class=\"bar-graph-container\">\n+  <p class=\"txt-frames\" matTooltip=\"{{ selectionLabel }} / {{ (graphData$ | async)?.length }}\">\n+    {{ selectionLabel }} / {{ (graphData$ | async)?.length }}\n+  </p>\n+  <button\n+    mat-icon-button\n+    matTooltip=\"Select previous frame\"\n+    (click)=\"move(-1)\"\n+    [disabled]=\"startFrameIndex <= 0 || selectedFrameIndexes.size > 1\"\n+  >\n+    <mat-icon>chevron_left</mat-icon>\n+  </button>\n+\n+  <cdk-virtual-scroll-viewport\n+    #barContainer\n+    orientation=\"horizontal\"\n+    [itemSize]=\"itemWidth\"\n+    class=\"bar-container\"\n+    (mouseleave)=\"stopDragScrolling()\"\n+    (mousedown)=\"startDragScroll($event)\"\n+    (mouseup)=\"stopDragScrolling()\"\n+    (mousemove)=\"dragScroll($event)\"\n+  >\n+    <div\n+      *cdkVirtualFor=\"let d of graphData$ | async; let i = index\"\n+      [ngStyle]=\"d.style\"\n+      class=\"frame-bar\"\n+      [class.selected]=\"selectedFrameIndexes.has(i)\"\n+      (click)=\"handleFrameSelection(i, $event)\"\n+    ></div>\n+  </cdk-virtual-scroll-viewport>\n+\n+  <button\n+    mat-icon-button\n+    matTooltip=\"Select next frame\"\n+    (click)=\"move(1)\"\n+    [disabled]=\"endFrameIndex >= (graphData$ | async)?.length - 1 || selectedFrameIndexes.size > 1\"\n+  >\n+    <mat-icon>chevron_right</mat-icon>\n+  </button>\n+</mat-card>"
        },
        {
            "sha": "f6b5de7e7fd79f7d88bd48f77fcd40dd9241ae81",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/frame-selector.component.scss",
            "status": "added",
            "additions": 75,
            "deletions": 0,
            "changes": 75,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,75 @@\n+.bar-graph-container {\n+  padding: 2px;\n+  height: 54px;\n+  display: flex;\n+  align-items: flex-end;\n+  justify-content: center;\n+  align-items: center;\n+  margin-bottom: 10px;\n+\n+  .txt-frames {\n+    font-weight: 500;\n+    line-height: 50px;\n+    padding: 0px;\n+    margin: 0px 10px;\n+    width: 150px;\n+    text-align: center;\n+    overflow: hidden;\n+    text-overflow: ellipsis;\n+    white-space: nowrap;\n+  }\n+\n+  .bar-container {\n+    max-width: calc(100vw - 150px);\n+    align-items: baseline;\n+    overflow-x: auto;\n+    width: 100%;\n+    height: 100%;\n+\n+    ::ng-deep .cdk-virtual-scroll-content-wrapper {\n+      display: flex;\n+    }\n+\n+    &::-webkit-scrollbar {\n+      display: none;\n+    }\n+\n+    .frame-bar {\n+      margin-left: 2.5px;\n+      margin-right: 2.5px;\n+      margin-top: 2px;\n+\n+      &:hover {\n+        background-color: #ebf1fb;\n+      }\n+\n+      &.selected {\n+        margin-left: 0;\n+        margin-right: 0;\n+        margin-top: 0;\n+        padding-left: 0.5px;\n+        padding-right: 0.5px;\n+\n+        background-color: #cfe8fc;\n+        border: 2px solid #cfe8fc;\n+      }\n+    }\n+  }\n+\n+  button {\n+    margin-bottom: 5px;\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .bar-graph-container .bar-container .frame-bar {\n+    &:hover {\n+      background-color: #262d36;\n+    }\n+\n+    &.selected {\n+      background-color: #073d69;\n+      border: 2px solid #073d69;\n+    }\n+  }\n+}"
        },
        {
            "sha": "66b908da3d312fb7f08460349fe2914a3f35b089",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/frame-selector.component.ts",
            "status": "added",
            "additions": 186,
            "deletions": 0,
            "changes": 186,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fframe-selector.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,186 @@\n+import { Component, ElementRef, EventEmitter, Input, Output, ViewChild, OnDestroy, OnInit } from '@angular/core';\n+import { GraphNode } from './record-formatter/record-formatter';\n+import { Observable, Subscription } from 'rxjs';\n+import { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\n+import { TabUpdate } from '../../tab-update/index';\n+\n+const ITEM_WIDTH = 30;\n+\n+@Component({\n+  selector: 'ng-frame-selector',\n+  templateUrl: './frame-selector.component.html',\n+  styleUrls: ['./frame-selector.component.scss'],\n+})\n+export class FrameSelectorComponent implements OnInit, OnDestroy {\n+  @ViewChild('barContainer') barContainer: ElementRef;\n+  @Input() set graphData$(graphData: Observable<GraphNode[]>) {\n+    this._graphData$ = graphData;\n+    this._graphDataSubscription = this._graphData$.subscribe((items) =>\n+      setTimeout(() => {\n+        this.frameCount = items.length;\n+        this.viewport.scrollToIndex(items.length);\n+      })\n+    );\n+  }\n+\n+  get graphData$(): Observable<GraphNode[]> {\n+    return this._graphData$;\n+  }\n+\n+  @Output() selectFrames = new EventEmitter<{ indexes: number[] }>();\n+\n+  @ViewChild(CdkVirtualScrollViewport) viewport: CdkVirtualScrollViewport;\n+\n+  startFrameIndex = -1;\n+  endFrameIndex = -1;\n+  selectedFrameIndexes = new Set<number>();\n+  frameCount: number;\n+\n+  private _viewportScrollState = { scrollLeft: 0, xCoordinate: 0, isDragScrolling: false };\n+\n+  get itemWidth(): number {\n+    return ITEM_WIDTH;\n+  }\n+\n+  private _graphData$: Observable<GraphNode[]>;\n+  private _graphDataSubscription: Subscription;\n+  private _tabUpdateSubscription: Subscription;\n+\n+  constructor(private _tabUpdate: TabUpdate) {}\n+\n+  ngOnInit(): void {\n+    this._tabUpdateSubscription = this._tabUpdate.tabUpdate$.subscribe(() => {\n+      if (this.viewport) {\n+        setTimeout(() => {\n+          this.viewport.scrollToIndex(0);\n+          this.viewport.checkViewportSize();\n+        });\n+      }\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    if (this._tabUpdateSubscription) {\n+      this._tabUpdateSubscription.unsubscribe();\n+    }\n+    if (this._graphDataSubscription) {\n+      this._graphDataSubscription.unsubscribe();\n+    }\n+  }\n+\n+  get selectionLabel(): string {\n+    if (this.startFrameIndex === this.endFrameIndex) {\n+      return `${this.startFrameIndex + 1}`;\n+    }\n+\n+    return this._smartJoinIndexLabels([...this.selectedFrameIndexes]);\n+  }\n+\n+  private _smartJoinIndexLabels(indexArray: number[]): string {\n+    const sortedIndexes = indexArray.sort((a, b) => a - b);\n+\n+    const groups: number[][] = [];\n+    let prev: number | null = null;\n+\n+    for (const index of sortedIndexes) {\n+      // First iteration: create initial group and set prev variable to the first index\n+      if (prev === null) {\n+        groups.push([index]);\n+        prev = index;\n+        continue;\n+      }\n+\n+      // If current index is consecutive with the previous, group them, otherwise start a new group\n+      if (prev + 1 === index) {\n+        groups[groups.length - 1].push(index);\n+      } else {\n+        groups.push([index]);\n+      }\n+\n+      prev = index;\n+    }\n+\n+    return groups\n+      .filter((group) => group.length > 0)\n+      .map((group) => (group.length === 1 ? group[0] + 1 : `${group[0] + 1}-${group[group.length - 1] + 1}`))\n+      .join(', ');\n+  }\n+\n+  move(value: number): void {\n+    const newVal = this.startFrameIndex + value;\n+    this.selectedFrameIndexes = new Set([newVal]);\n+    if (newVal > -1 && newVal < this.frameCount) {\n+      this._selectFrames({ indexes: this.selectedFrameIndexes });\n+    }\n+  }\n+\n+  private _selectFrames({ indexes }: { indexes: Set<number> }): void {\n+    const sortedIndexes = [...indexes].sort((a, b) => a - b);\n+    this.startFrameIndex = sortedIndexes[0];\n+    this.endFrameIndex = sortedIndexes[sortedIndexes.length - 1];\n+    this._ensureVisible(this.startFrameIndex);\n+    this.selectFrames.emit({ indexes: sortedIndexes });\n+  }\n+\n+  handleFrameSelection(idx: number, event: MouseEvent): void {\n+    const { shiftKey, ctrlKey, metaKey } = event;\n+\n+    if (shiftKey) {\n+      const [start, end] = [Math.min(this.startFrameIndex, idx), Math.max(this.endFrameIndex, idx)];\n+      this.selectedFrameIndexes = new Set(Array.from(Array(end - start + 1), (_, index) => index + start));\n+    } else if (ctrlKey || metaKey) {\n+      if (this.selectedFrameIndexes.has(idx)) {\n+        if (this.selectedFrameIndexes.size === 1) {\n+          return; // prevent deselection when only one frame is selected\n+        }\n+\n+        this.selectedFrameIndexes.delete(idx);\n+      } else {\n+        this.selectedFrameIndexes.add(idx);\n+      }\n+    } else {\n+      this.selectedFrameIndexes = new Set([idx]);\n+    }\n+\n+    this._selectFrames({ indexes: this.selectedFrameIndexes });\n+  }\n+\n+  private _ensureVisible(index: number): void {\n+    if (!this.viewport) {\n+      return;\n+    }\n+    const scrollParent = this.viewport.elementRef.nativeElement;\n+    // The left most point we see an element\n+    const left = scrollParent.scrollLeft;\n+    // That's the right most point we currently see an element.\n+    const right = left + scrollParent.offsetWidth;\n+    const itemLeft = index * this.itemWidth;\n+    if (itemLeft < left) {\n+      scrollParent.scrollTo({ left: itemLeft });\n+    } else if (right < itemLeft + this.itemWidth) {\n+      scrollParent.scrollTo({ left: itemLeft - scrollParent.offsetWidth + this.itemWidth });\n+    }\n+  }\n+\n+  stopDragScrolling(): void {\n+    this._viewportScrollState.isDragScrolling = false;\n+  }\n+\n+  startDragScroll(event: MouseEvent): void {\n+    this._viewportScrollState = {\n+      xCoordinate: event.clientX,\n+      scrollLeft: this.viewport.elementRef.nativeElement.scrollLeft,\n+      isDragScrolling: true,\n+    };\n+  }\n+\n+  dragScroll(event: MouseEvent): void {\n+    if (!this._viewportScrollState.isDragScrolling) {\n+      return;\n+    }\n+\n+    const dragScrollSpeed = 2;\n+    const dx = event.clientX - this._viewportScrollState.xCoordinate;\n+    this.viewport.elementRef.nativeElement.scrollLeft = this._viewportScrollState.scrollLeft - dx * dragScrollSpeed;\n+  }\n+}"
        },
        {
            "sha": "e42f4265de2147ba00400f7148ebe482017973dc",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/BUILD.bazel",
            "status": "added",
            "additions": 60,
            "deletions": 0,
            "changes": 60,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,60 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"record-formatter\",\n+    srcs = glob(\n+        include = [\n+            \"*.ts\",\n+        ],\n+        exclude = [\n+            \"record-formatter-spec-constants.ts\",\n+            \"record-formatter.spec.ts\",\n+            \"frame-merger.spec.ts\",\n+        ],\n+    ),\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_project(\n+    name = \"record-formatter-spec-constants\",\n+    srcs = [\"record-formatter-spec-constants.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"frame-merger.spec.ts\",\n+        \"record-formatter.spec.ts\",\n+    ],\n+    deps = [\n+        \":record-formatter\",\n+        \":record-formatter-spec-constants\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":test-lib\",\n+    ],\n+)"
        },
        {
            "sha": "3bfc395f6c555a3cf3407841baf31b38d3d9f47f",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter/BUILD.bazel",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,23 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"bargraph-formatter\",\n+    srcs = glob(\n+        include = [\n+            \"*.ts\",\n+        ],\n+    ),\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib:theme\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//projects/ng-devtools/src/lib/vendor/memo-decorator\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+        \"@npm//ngx-flamegraph\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "1122680ed48325302f590d716401c8d89b0b57b5",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter/bargraph-formatter.ts",
            "status": "added",
            "additions": 45,
            "deletions": 0,
            "changes": 45,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2Fbargraph-formatter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2Fbargraph-formatter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2Fbargraph-formatter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,45 @@\n+import { RecordFormatter } from '../record-formatter';\n+import { ElementProfile, ProfilerFrame } from 'protocol';\n+import { memo } from '../../../../../vendor/memo-decorator';\n+\n+export interface BargraphNode {\n+  parents: ElementProfile[];\n+  value: number;\n+  label: string;\n+  original: ElementProfile;\n+}\n+\n+export class BarGraphFormatter extends RecordFormatter<BargraphNode[]> {\n+  @memo({ cache: new WeakMap() })\n+  formatFrame(frame: ProfilerFrame): BargraphNode[] {\n+    const result: BargraphNode[] = [];\n+    this.addFrame(result, frame.directives);\n+    return result.filter((element) => element.value > 0).sort((a, b) => b.value - a.value);\n+  }\n+\n+  addFrame(nodes: BargraphNode[], elements: ElementProfile[], parents: ElementProfile[] = []): number {\n+    let timeSpent = 0;\n+    elements.forEach((element) => {\n+      // Possibly undefined because of\n+      // the insertion on the backend.\n+      if (!element) {\n+        console.error('Unable to insert undefined element');\n+        return;\n+      }\n+\n+      timeSpent += this.addFrame(nodes, element.children, parents.concat(element));\n+      timeSpent += super.getValue(element);\n+\n+      element.directives.forEach((dir) => {\n+        const innerNode: BargraphNode = {\n+          parents,\n+          value: super.getDirectiveValue(dir),\n+          label: dir.name,\n+          original: element,\n+        };\n+        nodes.push(innerNode);\n+      });\n+    });\n+    return timeSpent;\n+  }\n+}"
        },
        {
            "sha": "83345e58ce4a68f2c54fdc0a1228a923f1822f15",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter/index.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+export * from './bargraph-formatter';"
        },
        {
            "sha": "29e8f54912ce16212435509ebc9033d0330c642f",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter/BUILD.bazel",
            "status": "added",
            "additions": 45,
            "deletions": 0,
            "changes": 45,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,45 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ng_ts_project(\n+    name = \"flamegraph-formatter\",\n+    srcs = glob(\n+        include = [\n+            \"*.ts\",\n+        ],\n+        exclude = [\"flamegraph-formatter.spec.ts\"],\n+    ),\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib:theme\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@types\",\n+        \"@npm//memo-decorator\",\n+        \"@npm//rxjs\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"flamegraph-formatter.spec.ts\",\n+    ],\n+    deps = [\n+        \":flamegraph-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter:record-formatter-spec-constants\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":test-lib\",\n+    ],\n+)"
        },
        {
            "sha": "254f820a84fef7a0d7543637d49962cdf499154f",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter/flamegraph-formatter.spec.ts",
            "status": "added",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,35 @@\n+import {\n+  NESTED_FORMATTED_FLAMEGRAPH_RECORD,\n+  NESTED_RECORD,\n+  SIMPLE_FORMATTED_FLAMEGRAPH_RECORD,\n+  SIMPLE_RECORD,\n+} from '../record-formatter-spec-constants';\n+import { FlamegraphFormatter, FlamegraphNode } from './flamegraph-formatter';\n+import { AppEntry } from '../record-formatter';\n+\n+const formatter = new FlamegraphFormatter();\n+\n+describe('addFrame cases', () => {\n+  let entry: AppEntry<FlamegraphNode>;\n+  let timeSpent;\n+\n+  beforeEach(() => {\n+    entry = {\n+      app: [],\n+      timeSpent: 0,\n+      source: '',\n+    };\n+  });\n+\n+  it('add frame for simple case', () => {\n+    timeSpent = formatter.addFrame(entry.app, SIMPLE_RECORD);\n+    expect(timeSpent).toBe(17);\n+    expect(entry.app).toEqual(SIMPLE_FORMATTED_FLAMEGRAPH_RECORD);\n+  });\n+\n+  it('add frame for deeply nested records', () => {\n+    timeSpent = formatter.addFrame(entry.app, NESTED_RECORD);\n+    expect(timeSpent).toBe(21);\n+    expect(entry.app).toEqual(NESTED_FORMATTED_FLAMEGRAPH_RECORD);\n+  });\n+});"
        },
        {
            "sha": "26749fef92be63ef44d31b2daf716da4aea51c7d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter/flamegraph-formatter.ts",
            "status": "added",
            "additions": 80,
            "deletions": 0,
            "changes": 80,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Fflamegraph-formatter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,80 @@\n+import { RecordFormatter } from '../record-formatter';\n+import { ElementProfile, ProfilerFrame } from 'protocol';\n+import { Theme } from '../../../../../theme-service';\n+\n+export interface FlamegraphNode {\n+  value: number;\n+  color?: string;\n+  children: FlamegraphNode[];\n+  label: string;\n+  instances: number;\n+  original: ElementProfile;\n+  changeDetected: boolean;\n+}\n+\n+export const ROOT_LEVEL_ELEMENT_LABEL = 'Entire application';\n+\n+export class FlamegraphFormatter extends RecordFormatter<FlamegraphNode> {\n+  formatFrame(frame: ProfilerFrame, showChangeDetection?: boolean, theme?: Theme): FlamegraphNode {\n+    const result: FlamegraphNode = {\n+      value: 0,\n+      label: ROOT_LEVEL_ELEMENT_LABEL,\n+      children: [],\n+      instances: 1,\n+      changeDetected: false,\n+      original: {\n+        children: [],\n+        directives: [],\n+      },\n+    };\n+\n+    if (showChangeDetection) {\n+      result.color = theme === 'dark-theme' ? CHANGE_DETECTION_COLOR_DARK : CHANGE_DETECTION_COLOR_LIGHT;\n+    }\n+\n+    this.addFrame(result.children, frame.directives, showChangeDetection, theme);\n+    return result;\n+  }\n+\n+  addFrame(nodes: FlamegraphNode[], elements: ElementProfile[], showChangeDetection?: boolean, theme?: Theme): number {\n+    let timeSpent = 0;\n+    elements.forEach((element) => {\n+      // Possibly undefined because of\n+      // the insertion on the backend.\n+      if (!element) {\n+        console.error('Unable to insert undefined element');\n+        return;\n+      }\n+      const changeDetected = didRunChangeDetection(element);\n+      const node: FlamegraphNode = {\n+        value: super.getValue(element),\n+        label: super.getLabel(element),\n+        children: [],\n+        instances: 1,\n+        original: element,\n+        changeDetected,\n+      };\n+      if (showChangeDetection) {\n+        const CHANGE_DETECTION_COLOR =\n+          theme === 'dark-theme' ? CHANGE_DETECTION_COLOR_DARK : CHANGE_DETECTION_COLOR_LIGHT;\n+        node.color = changeDetected ? CHANGE_DETECTION_COLOR : NO_CHANGE_DETECTION_COLOR;\n+      }\n+      timeSpent += this.addFrame(node.children, element.children, showChangeDetection, theme);\n+      timeSpent += node.value;\n+      nodes.push(node);\n+    });\n+    return timeSpent;\n+  }\n+}\n+\n+const CHANGE_DETECTION_COLOR_LIGHT = '#5cadd3';\n+const CHANGE_DETECTION_COLOR_DARK = '#073d69';\n+const NO_CHANGE_DETECTION_COLOR = 'transparent';\n+\n+const didRunChangeDetection = (profile: ElementProfile) => {\n+  const components = profile.directives.filter((d) => d.isComponent);\n+  if (!components.length) {\n+    return false;\n+  }\n+  return components.some((c) => c.changeDetection !== undefined);\n+};"
        },
        {
            "sha": "73de3ae6f3ea7509913dd81fe06fec6b90cbfbdd",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter/index.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+export * from './flamegraph-formatter';"
        },
        {
            "sha": "8af844a9d3601f42cd5acce7de8a64588a023057",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/frame-merger.spec.ts",
            "status": "added",
            "additions": 169,
            "deletions": 0,
            "changes": 169,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fframe-merger.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fframe-merger.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fframe-merger.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,169 @@\n+import { mergeFrames } from './frame-merger';\n+import { ProfilerFrame } from 'protocol';\n+\n+describe('mergeFrames', () => {\n+  it('should work with empty frames', () => {\n+    expect(mergeFrames([])).toBeNull();\n+  });\n+\n+  it('should work with a single frame', () => {\n+    const frame = {\n+      directives: [\n+        {\n+          children: [],\n+          directives: [\n+            {\n+              isComponent: false,\n+              isElement: false,\n+              lifecycle: {},\n+              outputs: {},\n+              name: 'Foo',\n+            },\n+          ],\n+        },\n+      ],\n+      duration: 5,\n+      source: 'foo',\n+    };\n+    const result = mergeFrames([frame]);\n+\n+    expect(result).toEqual(frame);\n+\n+    // Should be different reference\n+    expect(result).not.toBe(frame);\n+  });\n+\n+  it('should merge frames when nesting matches', () => {\n+    const frame = {\n+      directives: [\n+        {\n+          children: [],\n+          directives: [\n+            {\n+              isComponent: false,\n+              isElement: false,\n+              lifecycle: {},\n+              outputs: {},\n+              changeDetection: 10,\n+              name: 'Foo',\n+            },\n+          ],\n+        },\n+      ],\n+      duration: 5,\n+      source: 'foo',\n+    };\n+    const result = mergeFrames([frame, frame]);\n+\n+    expect(result).toEqual({\n+      directives: [\n+        {\n+          children: [],\n+          directives: [\n+            {\n+              isComponent: false,\n+              isElement: false,\n+              lifecycle: {},\n+              outputs: {},\n+              changeDetection: 20,\n+              name: 'Foo',\n+            },\n+          ],\n+        },\n+      ],\n+      duration: 10,\n+      source: '',\n+    });\n+  });\n+\n+  it('should merge frames when nesting does not match', () => {\n+    const frame = {\n+      directives: [\n+        {\n+          children: [],\n+          directives: [\n+            {\n+              isComponent: false,\n+              isElement: false,\n+              lifecycle: {},\n+              outputs: {},\n+              changeDetection: 10,\n+              name: 'Foo',\n+            },\n+          ],\n+        },\n+      ],\n+      duration: 5,\n+      source: 'foo',\n+    };\n+\n+    const frame2: ProfilerFrame = {\n+      directives: [\n+        {\n+          children: [\n+            {\n+              children: [],\n+              directives: [\n+                {\n+                  isComponent: false,\n+                  isElement: false,\n+                  lifecycle: {},\n+                  outputs: {},\n+                  changeDetection: 10,\n+                  name: 'Foo',\n+                },\n+              ],\n+            },\n+          ],\n+          directives: [\n+            {\n+              isComponent: false,\n+              isElement: false,\n+              lifecycle: {},\n+              outputs: {},\n+              changeDetection: 10,\n+              name: 'Foo',\n+            },\n+          ],\n+        },\n+      ],\n+      duration: 5,\n+      source: 'foo',\n+    };\n+    const result = mergeFrames([frame, frame2]);\n+\n+    expect(result).toEqual({\n+      directives: [\n+        {\n+          children: [\n+            {\n+              children: [],\n+              directives: [\n+                {\n+                  isComponent: false,\n+                  isElement: false,\n+                  lifecycle: {},\n+                  outputs: {},\n+                  changeDetection: 10,\n+                  name: 'Foo',\n+                },\n+              ],\n+            },\n+          ],\n+          directives: [\n+            {\n+              isComponent: false,\n+              isElement: false,\n+              lifecycle: {},\n+              outputs: {},\n+              changeDetection: 20,\n+              name: 'Foo',\n+            },\n+          ],\n+        },\n+      ],\n+      duration: 10,\n+      source: '',\n+    });\n+  });\n+});"
        },
        {
            "sha": "8508e5e6a73a6812779fc30609ede37e2b6ef99e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/frame-merger.ts",
            "status": "added",
            "additions": 55,
            "deletions": 0,
            "changes": 55,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fframe-merger.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fframe-merger.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fframe-merger.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,55 @@\n+import { ProfilerFrame, DirectiveProfile, ElementProfile } from 'protocol';\n+\n+const mergeProperty = (mergeInProp: number | undefined, value: number | undefined) => {\n+  if (mergeInProp === undefined) {\n+    return value;\n+  }\n+  if (value === undefined) {\n+    return mergeInProp;\n+  }\n+  return mergeInProp + value;\n+};\n+\n+const mergeDirective = (mergeIn: DirectiveProfile, second: DirectiveProfile) => {\n+  mergeIn.changeDetection = mergeProperty(mergeIn.changeDetection, second.changeDetection);\n+  Object.keys(mergeIn.lifecycle).forEach((hook) => {\n+    mergeIn.lifecycle[hook] = mergeProperty(mergeIn.lifecycle[hook], second.lifecycle[hook]);\n+  });\n+};\n+\n+const mergeDirectives = (mergeIn: ElementProfile[], second: ElementProfile[]) => {\n+  for (let i = 0; i < second.length; i++) {\n+    if (!mergeIn[i]) {\n+      mergeIn[i] = {\n+        children: [],\n+        directives: [],\n+      };\n+    }\n+    second[i].directives.forEach((d, idx) => {\n+      const mergeInDirective = mergeIn[i].directives[idx];\n+      if (mergeInDirective && mergeInDirective.name === d.name) {\n+        mergeDirective(mergeInDirective, d);\n+      } else {\n+        mergeIn[i].directives.push(d);\n+      }\n+    });\n+    mergeDirectives(mergeIn[i].children, second[i].children);\n+  }\n+};\n+\n+const mergeFrame = (mergeIn: ProfilerFrame, second: ProfilerFrame) => {\n+  mergeIn.duration += second.duration;\n+  mergeIn.source = '';\n+  mergeDirectives(mergeIn.directives, second.directives);\n+};\n+\n+export const mergeFrames = (frames: ProfilerFrame[]): ProfilerFrame | null => {\n+  if (!frames || !frames.length) {\n+    return null;\n+  }\n+  const first = JSON.parse(JSON.stringify(frames[0]));\n+  for (let i = 1; i < frames.length; i++) {\n+    mergeFrame(first, frames[i]);\n+  }\n+  return first;\n+};"
        },
        {
            "sha": "d77021248c29d65e8f6d3b65fd145c6edc32660a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/record-formatter-spec-constants.ts",
            "status": "added",
            "additions": 416,
            "deletions": 0,
            "changes": 416,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter-spec-constants.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter-spec-constants.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter-spec-constants.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,416 @@\n+import { FlamegraphNode } from './flamegraph-formatter';\n+\n+export const SIMPLE_RECORD = [\n+  {\n+    children: [\n+      {\n+        children: [],\n+        directives: [\n+          {\n+            isComponent: false,\n+            isElement: false,\n+            name: 'TooltipDirective',\n+            lifecycle: {},\n+            outputs: {},\n+            changeDetection: 5,\n+            changeDetected: true,\n+          },\n+          {\n+            changeDetection: 5,\n+            isElement: false,\n+            isComponent: true,\n+            lifecycle: {},\n+            outputs: {},\n+            name: 'TodoComponent',\n+            changeDetected: true,\n+          },\n+        ],\n+      },\n+    ],\n+    directives: [\n+      {\n+        isComponent: false,\n+        isElement: false,\n+        name: 'NgForOf',\n+        changeDetected: false,\n+        lifecycle: { ngDoCheck: 7 },\n+        outputs: {},\n+        changeDetection: 0,\n+      },\n+    ],\n+  },\n+];\n+export const SIMPLE_FORMATTED_FLAMEGRAPH_RECORD = [\n+  {\n+    value: 7,\n+    label: '[NgForOf]',\n+    changeDetected: false,\n+    children: [\n+      {\n+        value: 10,\n+        label: 'TodoComponent[TooltipDirective]',\n+        children: [],\n+        instances: 1,\n+        original: SIMPLE_RECORD[0].children[0],\n+        changeDetected: true,\n+      },\n+    ],\n+    instances: 1,\n+    original: SIMPLE_RECORD[0],\n+  },\n+];\n+export const SIMPLE_FORMATTED_TREE_MAP_RECORD = [\n+  Object({\n+    id: '[NgForOf]',\n+    size: 17,\n+    value: 7,\n+    children: [\n+      Object({\n+        id: 'TodoComponent[TooltipDirective]',\n+        size: 10,\n+        value: 10,\n+        children: [],\n+        original: SIMPLE_RECORD[0].children[0],\n+      }),\n+    ],\n+    original: SIMPLE_RECORD[0],\n+  }),\n+];\n+export const NESTED_RECORD = [\n+  {\n+    children: [\n+      {\n+        children: [\n+          {\n+            children: [\n+              {\n+                children: [\n+                  {\n+                    children: [\n+                      {\n+                        children: [\n+                          {\n+                            children: [\n+                              {\n+                                children: [\n+                                  {\n+                                    children: [],\n+                                    directives: [\n+                                      {\n+                                        isComponent: false,\n+                                        isElement: false,\n+                                        name: 'TooltipDirective',\n+                                        lifecycle: {},\n+                                        outputs: {},\n+                                        changeDetection: 0,\n+                                      },\n+                                      {\n+                                        changeDetection: 0,\n+                                        isElement: false,\n+                                        isComponent: true,\n+                                        lifecycle: {},\n+                                        outputs: {},\n+                                        name: 'TodoComponent',\n+                                      },\n+                                    ],\n+                                  },\n+                                  {\n+                                    children: [],\n+                                    directives: [\n+                                      {\n+                                        isComponent: false,\n+                                        isElement: false,\n+                                        name: 'TooltipDirective',\n+                                        lifecycle: {},\n+                                        outputs: {},\n+                                        changeDetection: 0,\n+                                      },\n+                                      {\n+                                        changeDetection: 0,\n+                                        isElement: false,\n+                                        isComponent: true,\n+                                        lifecycle: {},\n+                                        outputs: {},\n+                                        name: 'TodoComponent',\n+                                      },\n+                                    ],\n+                                  },\n+                                  {\n+                                    children: [],\n+                                    directives: [\n+                                      {\n+                                        isComponent: false,\n+                                        isElement: false,\n+                                        name: 'TooltipDirective',\n+                                        lifecycle: {},\n+                                        outputs: {},\n+                                        changeDetection: 0,\n+                                      },\n+                                      {\n+                                        changeDetection: 0,\n+                                        isElement: false,\n+                                        isComponent: true,\n+                                        lifecycle: {},\n+                                        outputs: {},\n+                                        name: 'TodoComponent',\n+                                      },\n+                                    ],\n+                                  },\n+                                ],\n+                                directives: [\n+                                  {\n+                                    isComponent: false,\n+                                    isElement: false,\n+                                    name: 'NgForOf',\n+                                    lifecycle: { ngDoCheck: 7 },\n+                                    outputs: {},\n+                                    changeDetection: 0,\n+                                  },\n+                                ],\n+                              },\n+                            ],\n+                            directives: [\n+                              {\n+                                changeDetection: 9,\n+                                isElement: false,\n+                                isComponent: true,\n+                                lifecycle: {},\n+                                outputs: {},\n+                                name: 'TodosComponent',\n+                              },\n+                            ],\n+                          },\n+                        ],\n+                        directives: [\n+                          {\n+                            isComponent: false,\n+                            isElement: false,\n+                            name: 'RouterOutlet',\n+                            lifecycle: {},\n+                            outputs: {},\n+                            changeDetection: 0,\n+                          },\n+                        ],\n+                      },\n+                    ],\n+                    directives: [\n+                      {\n+                        changeDetection: 1,\n+                        isElement: false,\n+                        isComponent: true,\n+                        lifecycle: {},\n+                        outputs: {},\n+                        name: 'AppComponent',\n+                      },\n+                    ],\n+                  },\n+                ],\n+                directives: [\n+                  {\n+                    isComponent: false,\n+                    isElement: false,\n+                    name: 'RouterOutlet',\n+                    lifecycle: {},\n+                    outputs: {},\n+                    changeDetection: 0,\n+                  },\n+                ],\n+              },\n+              {\n+                children: [],\n+                directives: [\n+                  {\n+                    changeDetection: 1,\n+                    isElement: false,\n+                    isComponent: true,\n+                    lifecycle: {},\n+                    outputs: {},\n+                    name: 'HeavyComponent',\n+                  },\n+                ],\n+              },\n+            ],\n+            directives: [\n+              {\n+                changeDetection: 1,\n+                isElement: false,\n+                isComponent: true,\n+                lifecycle: {},\n+                outputs: {},\n+                name: 'DemoAppComponent',\n+              },\n+            ],\n+          },\n+        ],\n+        directives: [\n+          {\n+            isComponent: false,\n+            isElement: false,\n+            name: 'RouterOutlet',\n+            lifecycle: {},\n+            outputs: {},\n+            changeDetection: 0,\n+          },\n+        ],\n+      },\n+    ],\n+    directives: [\n+      {\n+        changeDetection: 1,\n+        isElement: false,\n+        isComponent: true,\n+        lifecycle: {},\n+        outputs: {},\n+        name: 'AppComponent',\n+      },\n+    ],\n+  },\n+  {\n+    children: [],\n+    directives: [\n+      {\n+        changeDetection: 1,\n+        isElement: true,\n+        isComponent: true,\n+        lifecycle: {},\n+        outputs: {},\n+        name: 'ZippyComponent',\n+      },\n+    ],\n+  },\n+];\n+export const NESTED_FORMATTED_FLAMEGRAPH_RECORD: FlamegraphNode[] = [\n+  {\n+    value: 1,\n+    label: 'AppComponent',\n+    changeDetected: true,\n+    children: [\n+      {\n+        value: 0,\n+        label: '[RouterOutlet]',\n+        changeDetected: false,\n+        children: [\n+          {\n+            value: 1,\n+            label: 'DemoAppComponent',\n+            changeDetected: true,\n+            children: [\n+              {\n+                value: 0,\n+                label: '[RouterOutlet]',\n+                changeDetected: false,\n+                children: [\n+                  {\n+                    value: 1,\n+                    label: 'AppComponent',\n+                    changeDetected: true,\n+                    children: [\n+                      {\n+                        value: 0,\n+                        label: '[RouterOutlet]',\n+                        changeDetected: false,\n+                        children: [\n+                          {\n+                            value: 9,\n+                            label: 'TodosComponent',\n+                            changeDetected: true,\n+                            children: [\n+                              {\n+                                value: 7,\n+                                label: '[NgForOf]',\n+                                changeDetected: false,\n+                                children: [\n+                                  {\n+                                    value: 0,\n+                                    label: 'TodoComponent[TooltipDirective]',\n+                                    changeDetected: true,\n+                                    children: [],\n+                                    instances: 1,\n+                                    original:\n+                                      NESTED_RECORD[0].children[0].children[0].children[0].children[0].children[0]\n+                                        .children[0].children[0].children[0],\n+                                  },\n+                                  {\n+                                    value: 0,\n+                                    label: 'TodoComponent[TooltipDirective]',\n+                                    changeDetected: true,\n+                                    children: [],\n+                                    instances: 1,\n+                                    original:\n+                                      NESTED_RECORD[0].children[0].children[0].children[0].children[0].children[0]\n+                                        .children[0].children[0].children[1],\n+                                  },\n+                                  {\n+                                    value: 0,\n+                                    label: 'TodoComponent[TooltipDirective]',\n+                                    changeDetected: true,\n+                                    children: [],\n+                                    instances: 1,\n+                                    original:\n+                                      NESTED_RECORD[0].children[0].children[0].children[0].children[0].children[0]\n+                                        .children[0].children[0].children[2],\n+                                  },\n+                                ],\n+                                instances: 1,\n+                                original:\n+                                  NESTED_RECORD[0].children[0].children[0].children[0].children[0].children[0]\n+                                    .children[0].children[0],\n+                              },\n+                            ],\n+                            instances: 1,\n+                            original:\n+                              NESTED_RECORD[0].children[0].children[0].children[0].children[0].children[0].children[0],\n+                          },\n+                        ],\n+                        instances: 1,\n+                        original: NESTED_RECORD[0].children[0].children[0].children[0].children[0].children[0],\n+                      },\n+                    ],\n+                    instances: 1,\n+                    original: NESTED_RECORD[0].children[0].children[0].children[0].children[0],\n+                  },\n+                ],\n+                instances: 1,\n+                original: NESTED_RECORD[0].children[0].children[0].children[0],\n+              },\n+              {\n+                value: 1,\n+                label: 'HeavyComponent',\n+                changeDetected: true,\n+                children: [],\n+                instances: 1,\n+                original: NESTED_RECORD[0].children[0].children[0].children[1],\n+              },\n+            ],\n+            instances: 1,\n+            original: NESTED_RECORD[0].children[0].children[0],\n+          },\n+        ],\n+        instances: 1,\n+        original: NESTED_RECORD[0].children[0],\n+      },\n+    ],\n+    instances: 1,\n+    original: NESTED_RECORD[0],\n+  },\n+  {\n+    value: 1,\n+    label: 'ZippyComponent',\n+    children: [],\n+    changeDetected: true,\n+    instances: 1,\n+    original: {\n+      children: [],\n+      directives: [\n+        {\n+          changeDetection: 1,\n+          isElement: true,\n+          isComponent: true,\n+          lifecycle: {},\n+          outputs: {},\n+          name: 'ZippyComponent',\n+        },\n+      ],\n+    },\n+  },\n+];"
        },
        {
            "sha": "a19a8c888228869aee80b5372a886526fde16718",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/record-formatter.spec.ts",
            "status": "added",
            "additions": 186,
            "deletions": 0,
            "changes": 186,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,186 @@\n+import { ElementProfile, ProfilerFrame } from 'protocol';\n+import { RecordFormatter } from './record-formatter';\n+\n+class MockFormatter extends RecordFormatter<any> {\n+  addFrame(nodes: any[], elements: ElementProfile[]): void {\n+    return;\n+  }\n+\n+  formatFrame(frame: ProfilerFrame): any {\n+    return;\n+  }\n+}\n+\n+const formatter = new MockFormatter();\n+\n+describe('getValue cases', () => {\n+  let element: any;\n+\n+  it('calculates value with  no lifecycle hooks', () => {\n+    element = {\n+      children: [],\n+      directives: [{ changeDetection: 10, isElement: false, isComponent: true, lifecycle: {}, name: 'AppComponent' }],\n+    };\n+    expect(formatter.getValue(element)).toBe(10);\n+  });\n+\n+  it('calculates value with 0 change detection and existing lifecycle hooks', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        { isComponent: false, isElement: false, name: 'NgForOf', lifecycle: { ngDoCheck: 5 }, changeDetection: 0 },\n+      ],\n+    };\n+    expect(formatter.getValue(element)).toBe(5);\n+  });\n+\n+  it('calculates value with non 0 change detection and one lifecycle hook', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        { isComponent: false, isElement: false, name: 'NgForOf', lifecycle: { ngDoCheck: 5 }, changeDetection: 10 },\n+      ],\n+    };\n+    expect(formatter.getValue(element)).toBe(15);\n+  });\n+\n+  it('calculates value with non 0 change detection and multiple lifecycle hooks', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        {\n+          isComponent: false,\n+          isElement: false,\n+          name: 'NgForOf',\n+          lifecycle: { ngDoCheck: 5, ngAfterViewInit: 100 },\n+          changeDetection: 10,\n+        },\n+      ],\n+    };\n+    expect(formatter.getValue(element)).toBe(115);\n+  });\n+});\n+\n+describe('getLabel cases', () => {\n+  let element: ElementProfile;\n+\n+  it('has only components', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        {\n+          changeDetection: 10,\n+          isElement: false,\n+          isComponent: true,\n+          lifecycle: {},\n+          outputs: {},\n+          name: 'AppComponent',\n+        },\n+      ],\n+    };\n+    expect(formatter.getLabel(element)).toBe('AppComponent');\n+  });\n+\n+  it('has only directives', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        {\n+          isComponent: false,\n+          isElement: false,\n+          name: 'RouterOutlet',\n+          lifecycle: {},\n+          outputs: {},\n+          changeDetection: 0,\n+        },\n+      ],\n+    };\n+    expect(formatter.getLabel(element)).toBe('[RouterOutlet]');\n+  });\n+\n+  it('has a component and a directive', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        {\n+          isComponent: false,\n+          isElement: false,\n+          name: 'TooltipDirective',\n+          lifecycle: {},\n+          outputs: {},\n+          changeDetection: 0,\n+        },\n+        { changeDetection: 0, isElement: false, isComponent: true, lifecycle: {}, outputs: {}, name: 'TodoComponent' },\n+      ],\n+    };\n+    expect(formatter.getLabel(element)).toBe('TodoComponent[TooltipDirective]');\n+  });\n+\n+  it('has a component and multiple directives', () => {\n+    element = {\n+      children: [],\n+      directives: [\n+        {\n+          isComponent: false,\n+          isElement: false,\n+          name: 'TooltipDirective',\n+          lifecycle: {},\n+          outputs: {},\n+          changeDetection: 0,\n+        },\n+        {\n+          isComponent: false,\n+          isElement: false,\n+          name: 'RandomDirective',\n+          lifecycle: {},\n+          outputs: {},\n+          changeDetection: 0,\n+        },\n+        { changeDetection: 0, isElement: false, isComponent: true, lifecycle: {}, outputs: {}, name: 'TodoComponent' },\n+      ],\n+    };\n+    expect(formatter.getLabel(element)).toBe('TodoComponent[TooltipDirective, RandomDirective]');\n+  });\n+});\n+\n+describe('getDirectiveValue cases', () => {\n+  let directive;\n+\n+  it('calculates value with  no lifecycle hooks', () => {\n+    directive = { changeDetection: 10, isElement: false, isComponent: true, lifecycle: {}, name: 'AppComponent' };\n+    expect(formatter.getDirectiveValue(directive)).toBe(10);\n+  });\n+\n+  it('calculates value with 0 change detection and existing lifecycle hooks', () => {\n+    directive = {\n+      isComponent: false,\n+      isElement: false,\n+      name: 'NgForOf',\n+      lifecycle: { ngDoCheck: 5 },\n+      changeDetection: 0,\n+    };\n+    expect(formatter.getDirectiveValue(directive)).toBe(5);\n+  });\n+\n+  it('calculates value with non 0 change detection and one lifecycle hook', () => {\n+    directive = {\n+      isComponent: false,\n+      isElement: false,\n+      name: 'NgForOf',\n+      lifecycle: { ngDoCheck: 5 },\n+      changeDetection: 10,\n+    };\n+    expect(formatter.getDirectiveValue(directive)).toBe(15);\n+  });\n+\n+  it('calculates value with non 0 change detection and multiple lifecycle hooks', () => {\n+    directive = {\n+      isComponent: false,\n+      isElement: false,\n+      name: 'NgForOf',\n+      lifecycle: { ngDoCheck: 5, ngAfterViewInit: 100 },\n+      changeDetection: 10,\n+    };\n+    expect(formatter.getDirectiveValue(directive)).toBe(115);\n+  });\n+});"
        },
        {
            "sha": "6b59f3496438013ca100188ef41ec07ab95679d2",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/record-formatter.ts",
            "status": "added",
            "additions": 55,
            "deletions": 0,
            "changes": 55,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Frecord-formatter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,55 @@\n+import { ElementProfile, DirectiveProfile, ProfilerFrame } from 'protocol';\n+\n+export interface TimelineView<T> {\n+  timeline: AppEntry<T>[];\n+}\n+\n+export interface AppEntry<T> {\n+  app: T[];\n+  timeSpent: number;\n+  source: string;\n+}\n+\n+export interface GraphNode {\n+  toolTip: string;\n+  style: any;\n+  frame: ProfilerFrame;\n+}\n+\n+export abstract class RecordFormatter<T> {\n+  abstract formatFrame(frame: ProfilerFrame): T;\n+  abstract addFrame(nodes: T | T[], elements: ElementProfile[]): number | void;\n+\n+  getLabel(element: ElementProfile): string {\n+    const name = element.directives\n+      .filter((d) => d.isComponent)\n+      .map((c) => c.name)\n+      .join(', ');\n+    const attributes = [...new Set(element.directives.filter((d) => !d.isComponent).map((d) => d.name))].join(', ');\n+    return attributes === '' ? name : `${name}[${attributes}]`;\n+  }\n+\n+  getValue(element: ElementProfile): number {\n+    let result = 0;\n+    element.directives.forEach((dir) => {\n+      result += this.getDirectiveValue(dir);\n+    });\n+    return result;\n+  }\n+\n+  getDirectiveValue(directive: DirectiveProfile): number {\n+    let result = 0;\n+    let current = directive.changeDetection;\n+    if (current === undefined) {\n+      current = 0;\n+    }\n+    result += current;\n+    Object.keys(directive.lifecycle).forEach((key) => {\n+      const value = parseFloat(directive.lifecycle[key]);\n+      if (!isNaN(value)) {\n+        result += value;\n+      }\n+    });\n+    return result;\n+  }\n+}"
        },
        {
            "sha": "a6c39937d2221b86d61794fc8683a77593268dbe",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter/BUILD.bazel",
            "status": "added",
            "additions": 43,
            "deletions": 0,
            "changes": 43,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,43 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//tools:typescript.bzl\", \"ts_test_project\")\n+load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"tree-map-formatter\",\n+    srcs = glob(\n+        include = [\n+            \"*.ts\",\n+        ],\n+        exclude = [\n+            \"tree-map-formatter.spec.ts\",\n+        ],\n+    ),\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//projects/ng-devtools/src/lib/vendor/memo-decorator\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+ts_test_project(\n+    name = \"test-lib\",\n+    srcs = [\n+        \"tree-map-formatter.spec.ts\",\n+    ],\n+    deps = [\n+        \":tree-map-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter:record-formatter-spec-constants\",\n+        \"//projects/protocol\",\n+    ],\n+)\n+\n+karma_web_test_suite(\n+    name = \"test\",\n+    deps = [\n+        \":test-lib\",\n+    ],\n+)"
        },
        {
            "sha": "a9c18815b478a7bca73b9a3e6d319b91913ce45d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter/index.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+export * from './tree-map-formatter';"
        },
        {
            "sha": "8df8d64e80608f0c8f9d427980d727255d8b81f6",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter/tree-map-formatter.spec.ts",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Ftree-map-formatter.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Ftree-map-formatter.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Ftree-map-formatter.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,22 @@\n+import { SIMPLE_FORMATTED_TREE_MAP_RECORD, SIMPLE_RECORD } from '../record-formatter-spec-constants';\n+import { AppEntry } from '../record-formatter';\n+import { TreeMapFormatter, TreeMapNode } from './tree-map-formatter';\n+\n+const formatter = new TreeMapFormatter();\n+\n+describe('addFrame cases', () => {\n+  let entry: AppEntry<TreeMapNode>;\n+\n+  beforeEach(() => {\n+    entry = {\n+      app: [],\n+      timeSpent: 0,\n+      source: '',\n+    };\n+  });\n+\n+  it('add frame for simple case', () => {\n+    formatter.addFrame(entry.app, SIMPLE_RECORD);\n+    expect(entry.app).toEqual(SIMPLE_FORMATTED_TREE_MAP_RECORD);\n+  });\n+});"
        },
        {
            "sha": "d4fd8c41a0cc50f5894912380576c5c34a88588a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter/tree-map-formatter.ts",
            "status": "added",
            "additions": 51,
            "deletions": 0,
            "changes": 51,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Ftree-map-formatter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Ftree-map-formatter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2Ftree-map-formatter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,51 @@\n+import { RecordFormatter } from '../record-formatter';\n+import { ElementProfile, ProfilerFrame } from 'protocol';\n+import { memo } from '../../../../../vendor/memo-decorator';\n+\n+export interface TreeMapNode {\n+  id: string;\n+  value: number;\n+  size: number;\n+  children: TreeMapNode[];\n+  original: ElementProfile | null;\n+}\n+\n+export class TreeMapFormatter extends RecordFormatter<TreeMapNode> {\n+  @memo({ cache: new WeakMap() })\n+  formatFrame(record: ProfilerFrame): TreeMapNode {\n+    const children: TreeMapNode[] = [];\n+    this.addFrame(children, record.directives);\n+    const size = children.reduce((accum, curr) => {\n+      return accum + curr.size;\n+    }, 0);\n+    return {\n+      id: 'Application',\n+      size,\n+      value: size,\n+      children,\n+      original: null,\n+    };\n+  }\n+\n+  addFrame(nodes: TreeMapNode[], elements: ElementProfile[], prev: TreeMapNode | null = null): void {\n+    elements.forEach((element) => {\n+      if (!element) {\n+        console.error('Unable to insert undefined element');\n+        return;\n+      }\n+      const nodeVal = super.getValue(element);\n+      const node: TreeMapNode = {\n+        id: super.getLabel(element),\n+        size: nodeVal,\n+        value: nodeVal,\n+        children: [],\n+        original: element,\n+      };\n+      this.addFrame(node.children, element.children, node);\n+      if (prev) {\n+        prev.size += node.size;\n+      }\n+      nodes.push(node);\n+    });\n+  }\n+}"
        },
        {
            "sha": "d925a878ef9a3e9bfee975756a06424d6e232048",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-dialog.component.html",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+<section class=\"main-wrapper\">\n+  <mat-progress-bar color=\"accent\" mode=\"indeterminate\"></mat-progress-bar>\n+</section>"
        },
        {
            "sha": "536de7dd3a59869d121696ab5d890a4c1fb27156",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-dialog.component.scss",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,4 @@\n+.main-wrapper {\n+  width: 300px;\n+  margin-top: 50%;\n+}"
        },
        {
            "sha": "5408eae59a54d6243172c8ec1af6d6606dbd03a2",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-dialog.component.ts",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-dialog.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,8 @@\n+import { Component } from '@angular/core';\n+\n+@Component({\n+  selector: 'ng-recording-dialog',\n+  templateUrl: './recording-dialog.component.html',\n+  styleUrls: ['./recording-dialog.component.scss'],\n+})\n+export class RecordingDialogComponent {}"
        },
        {
            "sha": "a16311c881ce6883cee0ffb2afa4a9417b7b770e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-modal.component.html",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+<section id=\"recorder-wrapper\">\n+  <ng-recording-dialog></ng-recording-dialog>\n+</section>"
        },
        {
            "sha": "a1bcf27316274b64ce69e71bfcc2b54739362e71",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-modal.component.scss",
            "status": "added",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,17 @@\n+// todo(aleksanderbodurri): fix this for bazel build\n+// @use '/node_modules/@angular/cdk/overlay-prebuilt.css';\n+\n+:host {\n+  overflow: hidden;\n+  display: block;\n+  width: 100%;\n+  height: 100%;\n+}\n+\n+#recorder-wrapper {\n+  position: relative;\n+  overflow: hidden;\n+  height: 100%;\n+  display: flex;\n+  justify-content: center;\n+}"
        },
        {
            "sha": "285f10a261f98a5f184785f6b8d7702bf46e1048",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-modal.component.ts",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-modal.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,8 @@\n+import { Component } from '@angular/core';\n+\n+@Component({\n+  selector: 'ng-recording-modal',\n+  templateUrl: './recording-modal.component.html',\n+  styleUrls: ['./recording-modal.component.scss'],\n+})\n+export class RecordingModalComponent {}"
        },
        {
            "sha": "895653ca2efcbf545225f9ea2b03858eef8c94ad",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/BUILD.bazel",
            "status": "added",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,57 @@\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+multi_sass_binary(\n+    name = \"recording-visualizer-styles\",\n+    srcs = [\n+        \"bar-chart.component.scss\",\n+        \"bargraph-visualizer.component.scss\",\n+        \"execution-details.component.scss\",\n+        \"flamegraph-visualizer.component.scss\",\n+        \"timeline-visualizer.component.scss\",\n+        \"tree-map-visualizer.component.scss\",\n+    ],\n+)\n+\n+ng_ts_project(\n+    name = \"recording-visualizer\",\n+    srcs = [\n+        \"bar-chart.component.ts\",\n+        \"bargraph-visualizer.component.ts\",\n+        \"execution-details.component.ts\",\n+        \"flamegraph-visualizer.component.ts\",\n+        \"profile-formatter.ts\",\n+        \"recording-visualizer.module.ts\",\n+        \"timeline-visualizer.component.ts\",\n+        \"tree-map-visualizer.component.ts\",\n+    ],\n+    angular_assets = [\n+        \"timeline-visualizer.component.html\",\n+        \"tree-map-visualizer.component.html\",\n+        \"flamegraph-visualizer.component.html\",\n+        \"bargraph-visualizer.component.html\",\n+        \"bar-chart.component.html\",\n+        \"execution-details.component.html\",\n+        \":recording-visualizer-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/ng-devtools/src/lib:theme\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter\",\n+        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode\",\n+        \"//projects/ng-devtools/src/lib/vendor/angular-split\",\n+        \"//projects/ng-devtools/src/lib/vendor/webtreemap\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/animations\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//ngx-flamegraph\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "05e7874d083c1f7c7a280a5f89a60d5d87373343",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/bar-chart.component.html",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,13 @@\n+<div class=\"wrapper\" @stagger>\n+  <div\n+    @appear\n+    *ngFor=\"let bar of internalData; let i = index\"\n+    (click)=\"barClick.emit(originalData[i])\"\n+    class=\"bar\"\n+    [style.backgroundColor]=\"color\"\n+    [style.width.%]=\"bar.value\"\n+    [matTooltip]=\"bar.label\"\n+  >\n+    <span>{{ bar.label }}</span>\n+  </div>\n+</div>"
        },
        {
            "sha": "f96c24a7abb8a7034734d9151e92ff0e86780ae1",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/bar-chart.component.scss",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,38 @@\n+.bar {\n+  width: 0%;\n+  margin-bottom: 7px;\n+  align-items: center;\n+  display: flex;\n+  padding-top: 3px;\n+  padding-bottom: 3px;\n+  opacity: 0.8;\n+  cursor: pointer;\n+  transition: opacity 0.3s ease-out, width 0.3s ease;\n+}\n+\n+.bar span {\n+  margin-left: 10px;\n+  max-width: calc(100% - 20px);\n+  display: inline-block;\n+  white-space: nowrap;\n+  text-overflow: ellipsis;\n+  overflow: hidden;\n+  opacity: 1;\n+}\n+\n+.bar:hover {\n+  opacity: 1;\n+}\n+\n+:host,\n+.wrapper {\n+  width: calc(100% - 5px);\n+  height: 100%;\n+  display: block;\n+}\n+\n+:host-context(.dark-theme) {\n+  .bar span {\n+    color: #bcc5ce;\n+  }\n+}"
        },
        {
            "sha": "0e9514d7573bb7af9759a59f8db986d7d5c0ffb0",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/bar-chart.component.ts",
            "status": "added",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbar-chart.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,35 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { trigger, style, animate, transition, stagger, query, animateChild } from '@angular/animations';\n+\n+interface Data {\n+  label: string;\n+  value: number;\n+}\n+\n+@Component({\n+  selector: 'ng-bar-chart',\n+  templateUrl: './bar-chart.component.html',\n+  styleUrls: ['./bar-chart.component.scss'],\n+  animations: [\n+    trigger('appear', [transition(':enter', [style({ width: 0 }), animate('.3s ease', style({ width: '*' }))])]),\n+    trigger('stagger', [transition(':enter', [query(':enter', stagger('.1s', [animateChild()]))])]),\n+  ],\n+})\n+export class BarChartComponent {\n+  @Input() set data(nodes: Data[]) {\n+    this.originalData = nodes;\n+    this.internalData = [];\n+    const max = nodes.reduce((a: number, c) => Math.max(a, c.value), -Infinity);\n+    for (const node of nodes) {\n+      this.internalData.push({\n+        label: node.label,\n+        value: (node.value / max) * 100,\n+      });\n+    }\n+  }\n+  @Input() color: string;\n+  @Output() barClick = new EventEmitter<Data>();\n+\n+  originalData: Data[];\n+  internalData: Data[] = [];\n+}"
        },
        {
            "sha": "818ea33ca76d26f6eca1a4858a5a3d00ea351a1a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/bargraph-visualizer.component.html",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,3 @@\n+<div class=\"level-profile-wrapper\">\n+  <ng-bar-chart (barClick)=\"selectNode($event)\" [color]=\"barColor\" [data]=\"profileRecords\"> </ng-bar-chart>\n+</div>"
        },
        {
            "sha": "3ad0d4ed4b643c3bef92a76ded7c14e239613638",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/bargraph-visualizer.component.scss",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,15 @@\n+:host {\n+  width: 100%;\n+  height: 100%;\n+  display: flex;\n+  -webkit-user-select: text;\n+  -ms-user-select: text;\n+  user-select: text;\n+  overflow-y: auto;\n+}\n+\n+.level-profile-wrapper {\n+  height: 100%;\n+  width: 100%;\n+  cursor: pointer;\n+}"
        },
        {
            "sha": "5d63137eac0cb15a8e53d3595d883469b4f758ce",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/bargraph-visualizer.component.ts",
            "status": "added",
            "additions": 54,
            "deletions": 0,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fbargraph-visualizer.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,54 @@\n+import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\n+import { BargraphNode, BarGraphFormatter } from '../record-formatter/bargraph-formatter/index';\n+import { ProfilerFrame } from 'protocol';\n+import { SelectedDirective, SelectedEntry } from './timeline-visualizer.component';\n+import { Theme, ThemeService } from '../../../../theme-service';\n+import { Subscription } from 'rxjs';\n+import { formatDirectiveProfile } from './profile-formatter';\n+\n+@Component({\n+  selector: 'ng-bargraph-visualizer',\n+  templateUrl: './bargraph-visualizer.component.html',\n+  styleUrls: ['./bargraph-visualizer.component.scss'],\n+})\n+export class BargraphVisualizerComponent implements OnInit, OnDestroy {\n+  barColor: string;\n+  profileRecords: BargraphNode[];\n+\n+  @Output() nodeSelect = new EventEmitter<SelectedEntry>();\n+\n+  private _formatter = new BarGraphFormatter();\n+  private _currentThemeSubscription: Subscription;\n+  currentTheme: Theme;\n+\n+  @Input() set frame(data: ProfilerFrame) {\n+    this.profileRecords = this._formatter.formatFrame(data);\n+  }\n+\n+  constructor(public themeService: ThemeService) {}\n+\n+  ngOnInit(): void {\n+    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => {\n+      this.currentTheme = theme;\n+      this.barColor = theme === 'dark-theme' ? '#073d69' : '#cfe8fc';\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._currentThemeSubscription.unsubscribe();\n+  }\n+\n+  formatEntryData(bargraphNode: BargraphNode): SelectedDirective[] {\n+    return formatDirectiveProfile(bargraphNode.original.directives);\n+  }\n+\n+  selectNode(node: BargraphNode): void {\n+    this.nodeSelect.emit({\n+      entry: node,\n+      parentHierarchy: node.parents.map((element) => {\n+        return { name: element.directives[0].name };\n+      }),\n+      selectedDirectives: this.formatEntryData(node),\n+    });\n+  }\n+}"
        },
        {
            "sha": "d2e43d27d70b8d65080607094add2c36bf4c64d9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/execution-details.component.html",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,18 @@\n+<table>\n+  <thead>\n+    <th class=\"name\">Directive</th>\n+    <th class=\"method\">Method</th>\n+    <th class=\"value\">Time</th>\n+  </thead>\n+  <tbody>\n+    <tr *ngFor=\"let entry of data\">\n+      <td class=\"name\">\n+        {{ entry.directive }}\n+      </td>\n+      <td class=\"method\">\n+        {{ entry.method }}\n+      </td>\n+      <td class=\"value\">{{ entry.value }} ms</td>\n+    </tr>\n+  </tbody>\n+</table>"
        },
        {
            "sha": "39063ce10e068fed5705c46afd2c4f90322a4b02",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/execution-details.component.scss",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,12 @@\n+table {\n+  border-collapse: collapse;\n+  width: 100%;\n+  text-align: left;\n+  overflow: hidden;\n+  text-overflow: ellipsis;\n+}\n+\n+th,\n+td {\n+  border-bottom: 1px solid #ddd;\n+}"
        },
        {
            "sha": "ccaa1475af58391d7955fbb44b0be3e5bed460ea",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/execution-details.component.ts",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fexecution-details.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,11 @@\n+import { Component, Input } from '@angular/core';\n+import { SelectedDirective } from './timeline-visualizer.component';\n+\n+@Component({\n+  selector: 'ng-execution-details',\n+  templateUrl: './execution-details.component.html',\n+  styleUrls: ['./execution-details.component.scss'],\n+})\n+export class ExecutionDetailsComponent {\n+  @Input() data: SelectedDirective[];\n+}"
        },
        {
            "sha": "4174649776aa451128e8945f647b808073746326",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/flamegraph-visualizer.component.html",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,8 @@\n+<div class=\"level-profile-wrapper\">\n+  <ngx-flamegraph\n+    (frameClick)=\"selectFrame($event)\"\n+    [config]=\"{ data: profilerBars, color: colors }\"\n+    siblingLayout=\"equal\"\n+  >\n+  </ngx-flamegraph>\n+</div>"
        },
        {
            "sha": "592ff55699fbf762f687b3cfe1b5e8aaae478b6a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/flamegraph-visualizer.component.scss",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,46 @@\n+:host {\n+  width: 100%;\n+  height: 100%;\n+  display: flex;\n+  -webkit-user-select: text;\n+  -ms-user-select: text;\n+  user-select: text;\n+\n+  .level-profile-wrapper {\n+    height: 100%;\n+    width: 100%;\n+    cursor: pointer;\n+    overflow-y: auto;\n+  }\n+\n+  ::ng-deep {\n+    .ngx-fg-label {\n+      color: #000000de;\n+      font-weight: 500;\n+      font-size: 1em;\n+    }\n+  }\n+\n+  :host-context(.dark-theme) {\n+    .entry-statistics {\n+      span {\n+        color: #54c9bd;\n+      }\n+    }\n+\n+    ::ng-deep {\n+      .ngx-fg-rect {\n+        stroke: #303030;\n+        transition: none;\n+      }\n+\n+      .ngx-fg-label {\n+        color: #bcc5ce;\n+      }\n+\n+      .ngx-fg-svg-g {\n+        transition: none;\n+      }\n+    }\n+  }\n+}"
        },
        {
            "sha": "81a017221fda9bef203b5c2f160cceca6d6fbfff",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/flamegraph-visualizer.component.ts",
            "status": "added",
            "additions": 89,
            "deletions": 0,
            "changes": 89,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fflamegraph-visualizer.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,89 @@\n+import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\n+\n+import {\n+  FlamegraphNode,\n+  ROOT_LEVEL_ELEMENT_LABEL,\n+  FlamegraphFormatter,\n+} from '../record-formatter/flamegraph-formatter/flamegraph-formatter';\n+import { Color, RawData } from 'ngx-flamegraph/lib/utils';\n+import { ProfilerFrame } from 'protocol';\n+import { SelectedDirective, SelectedEntry } from './timeline-visualizer.component';\n+import { Theme, ThemeService } from '../../../../theme-service';\n+import { Subscription } from 'rxjs';\n+import { formatDirectiveProfile } from './profile-formatter';\n+\n+@Component({\n+  selector: 'ng-flamegraph-visualizer',\n+  templateUrl: './flamegraph-visualizer.component.html',\n+  styleUrls: ['./flamegraph-visualizer.component.scss'],\n+})\n+export class FlamegraphVisualizerComponent implements OnInit, OnDestroy {\n+  profilerBars: FlamegraphNode[] = [];\n+  view: [number, number] = [235, 200];\n+  colors: Color;\n+\n+  private _formatter = new FlamegraphFormatter();\n+  private _showChangeDetection = false;\n+  private _frame: ProfilerFrame;\n+  private _currentThemeSubscription: Subscription;\n+  currentTheme: Theme;\n+\n+  @Output() nodeSelect = new EventEmitter<SelectedEntry>();\n+\n+  @Input() set frame(frame: ProfilerFrame) {\n+    this._frame = frame;\n+    this._selectFrame();\n+  }\n+\n+  @Input() set changeDetection(changeDetection: boolean) {\n+    this._showChangeDetection = changeDetection;\n+    this._selectFrame();\n+  }\n+\n+  constructor(public themeService: ThemeService) {}\n+\n+  ngOnInit(): void {\n+    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => {\n+      this.currentTheme = theme;\n+      this.colors =\n+        theme === 'dark-theme'\n+          ? {\n+              hue: [210, 90],\n+              saturation: [90, 90],\n+              lightness: [25, 25],\n+            }\n+          : {\n+              hue: [50, 15],\n+              saturation: [100, 100],\n+              lightness: [75, 75],\n+            };\n+      this._selectFrame();\n+    });\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._currentThemeSubscription.unsubscribe();\n+  }\n+\n+  selectFrame(frame: RawData): void {\n+    if (frame.label === ROOT_LEVEL_ELEMENT_LABEL) {\n+      return;\n+    }\n+\n+    const flameGraphNode = frame as FlamegraphNode;\n+    const directiveData = this.formatEntryData(flameGraphNode);\n+\n+    this.nodeSelect.emit({\n+      entry: flameGraphNode,\n+      selectedDirectives: directiveData,\n+    });\n+  }\n+\n+  formatEntryData(flameGraphNode: FlamegraphNode): SelectedDirective[] {\n+    return formatDirectiveProfile(flameGraphNode.original.directives);\n+  }\n+\n+  private _selectFrame(): void {\n+    this.profilerBars = [this._formatter.formatFrame(this._frame, this._showChangeDetection, this.currentTheme)];\n+  }\n+}"
        },
        {
            "sha": "8fae7849ab485a14c0b8ee7b31521f246134395e",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/profile-formatter.ts",
            "status": "added",
            "additions": 50,
            "deletions": 0,
            "changes": 50,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fprofile-formatter.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fprofile-formatter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Fprofile-formatter.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,50 @@\n+import { DirectiveProfile } from 'protocol';\n+import { SelectedDirective } from './timeline-visualizer.component';\n+\n+const ignore = /^([A-Z]|listener|\\d|listener)/;\n+\n+const formatOutput = (outputName: string) => {\n+  const parts = outputName.split('_');\n+  const output: string[] = [];\n+  let idx = parts.length;\n+  while (idx >= 0) {\n+    idx--;\n+    if (ignore.test(parts[idx]) && parts[idx] !== 'HostBindingHandler') {\n+      continue;\n+    }\n+    output.push(parts[idx]);\n+  }\n+  return output\n+    .filter((el) => !!el)\n+    .reverse()\n+    .join('-');\n+};\n+\n+export const formatDirectiveProfile = (nodes: DirectiveProfile[]) => {\n+  const graphData: SelectedDirective[] = [];\n+  nodes.forEach((node) => {\n+    const { changeDetection } = node;\n+    if (changeDetection) {\n+      graphData.push({\n+        directive: node.name,\n+        method: 'changes',\n+        value: parseFloat(changeDetection.toFixed(2)),\n+      });\n+    }\n+    Object.keys(node.lifecycle).forEach((key) => {\n+      graphData.push({\n+        directive: node.name,\n+        method: key,\n+        value: +node.lifecycle[key].toFixed(2),\n+      });\n+    });\n+    Object.keys(node.outputs).forEach((key) => {\n+      graphData.push({\n+        directive: node.name,\n+        method: formatOutput(key),\n+        value: +node.outputs[key].toFixed(2),\n+      });\n+    });\n+  });\n+  return graphData;\n+};"
        },
        {
            "sha": "2a742173878d97cce5936fa2b1121f97cc04dbb5",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/recording-visualizer.module.ts",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Frecording-visualizer.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Frecording-visualizer.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Frecording-visualizer.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,29 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { MatToolbarModule } from '@angular/material/toolbar';\n+import { MatCardModule } from '@angular/material/card';\n+\n+import { NgxFlamegraphModule } from 'ngx-flamegraph';\n+\n+import { FlamegraphVisualizerComponent } from './flamegraph-visualizer.component';\n+import { BargraphVisualizerComponent } from './bargraph-visualizer.component';\n+import { TreeMapVisualizerComponent } from './tree-map-visualizer.component';\n+import { TimelineVisualizerComponent } from './timeline-visualizer.component';\n+import { BarChartComponent } from './bar-chart.component';\n+import { ExecutionDetailsComponent } from './execution-details.component';\n+import { AngularSplitModule } from '../../../../vendor/angular-split/public_api';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+\n+@NgModule({\n+  declarations: [\n+    ExecutionDetailsComponent,\n+    BarChartComponent,\n+    TimelineVisualizerComponent,\n+    FlamegraphVisualizerComponent,\n+    TreeMapVisualizerComponent,\n+    BargraphVisualizerComponent,\n+  ],\n+  imports: [CommonModule, NgxFlamegraphModule, MatTooltipModule, MatToolbarModule, MatCardModule, AngularSplitModule],\n+  exports: [TimelineVisualizerComponent],\n+})\n+export class RecordingVisualizerModule {}"
        },
        {
            "sha": "e06eee868475b7712ad0a1589b9de8b54367883c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/timeline-visualizer.component.html",
            "status": "added",
            "additions": 40,
            "deletions": 0,
            "changes": 40,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,40 @@\n+<as-split unit=\"percent\" [gutterSize]=\"9\">\n+  <as-split-area size=\"75\">\n+    <ng-container [ngSwitch]=\"_visualizationMode\">\n+      <ng-container *ngSwitchCase=\"cmpVisualizationModes.FlameGraph\">\n+        <ng-flamegraph-visualizer\n+          [frame]=\"frame\"\n+          [changeDetection]=\"changeDetection\"\n+          (nodeSelect)=\"handleNodeSelect($event)\"\n+        ></ng-flamegraph-visualizer>\n+      </ng-container>\n+      <ng-container *ngSwitchCase=\"cmpVisualizationModes.TreeMap\">\n+        <ng-tree-map-visualizer [frame]=\"frame\"></ng-tree-map-visualizer>\n+      </ng-container>\n+      <ng-container *ngSwitchCase=\"cmpVisualizationModes.BarGraph\">\n+        <ng-bargraph-visualizer [frame]=\"frame\" (nodeSelect)=\"handleNodeSelect($event)\"></ng-bargraph-visualizer>\n+      </ng-container>\n+    </ng-container>\n+  </as-split-area>\n+  <as-split-area size=\"25\" minSize=\"15\" *ngIf=\"selectedEntry\">\n+    <mat-card class=\"selected-entry\">\n+      <mat-toolbar>{{ selectedEntry.label }} details</mat-toolbar>\n+      <section class=\"entry-statistics\">\n+        <div class=\"txt-total-time\">\n+          <label>Total time spent:</label><span> {{ selectedEntry.value | number }} ms</span>\n+        </div>\n+        <div *ngIf=\"selectedEntry.value > 0\">\n+          <ng-execution-details [data]=\"selectedDirectives\"> </ng-execution-details>\n+        </div>\n+        <div *ngIf=\"parentHierarchy.length > 0\">\n+          <div class=\"txt-total-time\"><label>Parent Hierarchy</label></div>\n+          <ul>\n+            <li *ngFor=\"let parent of parentHierarchy\">\n+              {{ parent.name }}\n+            </li>\n+          </ul>\n+        </div>\n+      </section>\n+    </mat-card>\n+  </as-split-area>\n+</as-split>"
        },
        {
            "sha": "6a08a7a96f2df14cc21ae31320004395099c283d",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/timeline-visualizer.component.scss",
            "status": "added",
            "additions": 68,
            "deletions": 0,
            "changes": 68,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,68 @@\n+:host {\n+  display: block;\n+  overflow: auto;\n+  height: 100%;\n+  ::ng-deep {\n+    .as-split-gutter-icon {\n+      display: none;\n+    }\n+  }\n+}\n+\n+.selected-entry {\n+  padding: 0px;\n+  height: 100%;\n+\n+  mat-toolbar {\n+    padding-left: 9px;\n+    white-space: nowrap;\n+    text-overflow: ellipsis;\n+    overflow: hidden;\n+    line-height: 25px;\n+    font-size: 11px;\n+    font-weight: 500;\n+    display: flex;\n+    align-items: center;\n+    justify-content: space-between;\n+    height: auto;\n+  }\n+\n+  section {\n+    height: 100%;\n+    overflow: auto;\n+    font-family: Roboto, 'Helvetica Neue', sans-serif;\n+    padding: 10px;\n+  }\n+}\n+\n+.entry-statistics {\n+  div {\n+    padding: 3px;\n+\n+    label {\n+      opacity: 0.7;\n+    }\n+  }\n+\n+  span {\n+    color: #8a1882;\n+  }\n+}\n+\n+.txt-total-time {\n+  font-weight: bold;\n+}\n+\n+ul {\n+  list-style-type: square;\n+  margin-block-start: 0px;\n+  padding-inline-start: 20px;\n+}\n+\n+:host-context(.dark-theme) {\n+  .entry-statistics {\n+    span {\n+      color: #5cadd3;\n+    }\n+  }\n+}"
        },
        {
            "sha": "1b4491dad79c87df8f12a8c0945fca9f92e45cf4",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/timeline-visualizer.component.ts",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftimeline-visualizer.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,46 @@\n+import { Component, Input } from '@angular/core';\n+import { VisualizationMode } from '../visualization-mode';\n+import { ProfilerFrame } from 'protocol';\n+import { BargraphNode } from '../record-formatter/bargraph-formatter';\n+import { FlamegraphNode } from '../record-formatter/flamegraph-formatter';\n+\n+export interface SelectedEntry {\n+  entry: BargraphNode | FlamegraphNode;\n+  selectedDirectives: SelectedDirective[];\n+  parentHierarchy?: { name: string }[];\n+}\n+\n+export interface SelectedDirective {\n+  directive: string;\n+  method: string;\n+  value: number;\n+}\n+\n+@Component({\n+  selector: 'ng-timeline-visualizer',\n+  templateUrl: './timeline-visualizer.component.html',\n+  styleUrls: ['./timeline-visualizer.component.scss'],\n+})\n+export class TimelineVisualizerComponent {\n+  @Input() set visualizationMode(mode: VisualizationMode) {\n+    this._visualizationMode = mode;\n+    this.selectedEntry = null;\n+    this.selectedDirectives = [];\n+    this.parentHierarchy = [];\n+  }\n+  @Input() frame: ProfilerFrame;\n+  @Input() changeDetection: boolean;\n+\n+  cmpVisualizationModes = VisualizationMode;\n+\n+  selectedEntry: BargraphNode | FlamegraphNode | null = null;\n+  selectedDirectives: SelectedDirective[] = [];\n+  parentHierarchy: { name: string }[] = [];\n+  _visualizationMode: VisualizationMode;\n+\n+  handleNodeSelect({ entry, parentHierarchy, selectedDirectives }: SelectedEntry): void {\n+    this.selectedEntry = entry;\n+    this.selectedDirectives = selectedDirectives;\n+    this.parentHierarchy = parentHierarchy ?? [];\n+  }\n+}"
        },
        {
            "sha": "22689c9caced68d641c4d52114576a5b3ca386c9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/tree-map-visualizer.component.html",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1 @@\n+<div #webTree class=\"web-tree\"></div>"
        },
        {
            "sha": "c60d5dec7a4ef287729c31e927fe0decee3b458b",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/tree-map-visualizer.component.scss",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,30 @@\n+.web-tree {\n+  height: calc(100% - 25px);\n+  width: calc(100% - 25px);\n+  margin: auto;\n+}\n+\n+:host {\n+  ::ng-deep {\n+    .webtreemap-caption {\n+      font-size: 0.9em;\n+    }\n+    .webtreemap-node:hover {\n+      background: #ebf1fb;\n+    }\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  ::ng-deep {\n+    .webtreemap-node {\n+      background: #202124;\n+    }\n+    .webtreemap-node:hover {\n+      background: #262d36;\n+    }\n+    .webtreemap-caption {\n+      color: #ffffff;\n+    }\n+  }\n+}"
        },
        {
            "sha": "b24cd85b9aff95fc82d039f7a913960ee1a04739",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/tree-map-visualizer.component.ts",
            "status": "added",
            "additions": 60,
            "deletions": 0,
            "changes": 60,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,60 @@\n+import { Component, ElementRef, Input, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\n+import { TreeMapNode, TreeMapFormatter } from '../record-formatter/tree-map-formatter';\n+import { ProfilerFrame } from 'protocol';\n+import { Subject, Subscription } from 'rxjs';\n+import { debounceTime } from 'rxjs/operators';\n+import { render } from '../../../../vendor/webtreemap/treemap';\n+\n+@Component({\n+  selector: 'ng-tree-map-visualizer',\n+  templateUrl: './tree-map-visualizer.component.html',\n+  styleUrls: ['./tree-map-visualizer.component.scss'],\n+})\n+export class TreeMapVisualizerComponent implements OnInit, OnDestroy {\n+  private _formatter = new TreeMapFormatter();\n+\n+  @Input() set frame(frame: ProfilerFrame) {\n+    // first element in data is the Application node\n+    this.treeMapRecords = this._formatter.formatFrame(frame);\n+    if (this.tree) {\n+      this._renderTree();\n+    }\n+  }\n+\n+  constructor(private _ngZone: NgZone) {}\n+\n+  private resize$ = new Subject<void>();\n+  private _throttledResizeSubscription: Subscription;\n+\n+  private _resizeObserver: ResizeObserver = new ResizeObserver(() => this._ngZone.run(() => this.resize$.next()));\n+  treeMapRecords: TreeMapNode;\n+\n+  @ViewChild('webTree', { static: true }) tree: ElementRef;\n+\n+  ngOnInit(): void {\n+    this._throttledResizeSubscription = this.resize$.pipe(debounceTime(100)).subscribe(() => this._renderTree());\n+    this._resizeObserver.observe(this.tree.nativeElement);\n+  }\n+\n+  ngOnDestroy(): void {\n+    this._throttledResizeSubscription.unsubscribe();\n+    this._resizeObserver.unobserve(this.tree.nativeElement);\n+  }\n+\n+  private _renderTree(): void {\n+    this._removeTree();\n+    this._createTree();\n+  }\n+\n+  private _removeTree(): void {\n+    Array.from(this.tree.nativeElement.children).forEach((child: HTMLElement) => child.remove());\n+  }\n+\n+  private _createTree(): void {\n+    render(this.tree.nativeElement, this.treeMapRecords, {\n+      padding: [20, 5, 5, 5],\n+      caption: (node) => `${node.id}: ${node.size.toFixed(3)} ms`,\n+      showNode: () => true,\n+    });\n+  }\n+}"
        },
        {
            "sha": "df339b99e28d6ec4bbb90a76c5bc769b9865304c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline-controls.component.html",
            "status": "added",
            "additions": 53,
            "deletions": 0,
            "changes": 53,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,53 @@\n+<div class=\"controls\">\n+  <div class=\"visual-controls\">\n+    <mat-form-field>\n+      <mat-label>Filter</mat-label>\n+      <input\n+        matInput\n+        class=\"filter-input\"\n+        (keyup)=\"filter.emit($event.target.value)\"\n+        placeholder=\"duration: >30 source: click\"\n+      />\n+    </mat-form-field>\n+\n+    <mat-form-field [class.hidden]=\"!record\">\n+      <mat-select [value]=\"visualizationMode\" (selectionChange)=\"this.changeVisualizationMode.emit($event.value)\">\n+        <mat-option [value]=\"flameGraphMode\"> Flame graph </mat-option>\n+        <mat-option [value]=\"treeMapMode\"> Tree map </mat-option>\n+        <mat-option [value]=\"barGraphMode\"> Bar chart </mat-option>\n+      </mat-select>\n+    </mat-form-field>\n+  </div>\n+\n+  <div\n+    class=\"details\"\n+    [class.flame-details]=\"visualizationMode == flameGraphMode\"\n+    [class.bar-details]=\"visualizationMode == barGraphMode\"\n+  >\n+    <label *ngIf=\"estimatedFrameRate >= 60 && record\">\n+      Time spent: <span class=\"value\">{{ record?.duration | number }} ms</span>\n+    </label>\n+\n+    <label class=\"warning-label\" *ngIf=\"estimatedFrameRate < 60 && record\">\n+      Time spent: <span class=\"value\">{{ record?.duration | number }} ms</span>\n+    </label>\n+\n+    <label class=\"warning-label\" *ngIf=\"estimatedFrameRate < 60 && record\">\n+      Frame rate: <span class=\"value\">{{ estimatedFrameRate }} fps</span>\n+    </label>\n+\n+    <label *ngIf=\"record?.source && record\">\n+      Source: <span class=\"value\">{{ record?.source }}</span>\n+    </label>\n+\n+    <mat-checkbox\n+      *ngIf=\"visualizationMode == flameGraphMode\"\n+      [checked]=\"changeDetection\"\n+      (change)=\"this.toggleChangeDetection.emit(!changeDetection)\"\n+    >\n+      Show only change detection\n+    </mat-checkbox>\n+  </div>\n+\n+  <button *ngIf=\"!empty\" mat-stroked-button (click)=\"exportProfile.emit()\">Save Profile</button>\n+</div>"
        },
        {
            "sha": "9f69c5d5d2b50e4cae6e0b23495a866375291fea",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline-controls.component.scss",
            "status": "added",
            "additions": 78,
            "deletions": 0,
            "changes": 78,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,78 @@\n+.visual-controls {\n+  display: flex;\n+  flex-direction: column;\n+  height: 80px;\n+  justify-content: space-around;\n+  margin-right: 25px;\n+  width: 180px;\n+}\n+\n+.hidden {\n+  visibility: hidden;\n+}\n+\n+.controls {\n+  display: flex;\n+  white-space: nowrap;\n+  flex-wrap: wrap;\n+  justify-content: center;\n+  padding: 15px 5px 5px;\n+\n+  button {\n+    height: 50px;\n+    width: 75px;\n+    white-space: normal;\n+    line-height: 18px;\n+  }\n+\n+  mat-form-field {\n+    flex: 0 1 60px;\n+    margin-left: 15px;\n+    margin-right: 15px;\n+  }\n+\n+  ::ng-deep .details {\n+    flex: 1 1 150px;\n+    display: flex;\n+    flex-direction: column;\n+    font-weight: 500;\n+    -moz-user-select: text;\n+    -khtml-user-select: text;\n+    -webkit-user-select: text;\n+    -ms-user-select: text;\n+    user-select: text;\n+    overflow: hidden;\n+    text-overflow: ellipsis;\n+\n+    label {\n+      overflow: hidden;\n+      text-overflow: ellipsis;\n+\n+      &.warning-label {\n+        color: #d83c34;\n+      }\n+    }\n+\n+    .value {\n+      color: #8a1882;\n+    }\n+  }\n+\n+  .bar-details {\n+    min-height: 60px;\n+  }\n+\n+  .flame-details {\n+    min-height: 85px;\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  .details .value {\n+    color: #5cadd3;\n+  }\n+\n+  .warning-label {\n+    color: #ff625a;\n+  }\n+}"
        },
        {
            "sha": "ef9aeb037c6d1d9b3cfeba2d31c57bc4713574cb",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline-controls.component.ts",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline-controls.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,24 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { VisualizationMode } from './visualization-mode';\n+import { ProfilerFrame } from 'protocol';\n+\n+@Component({\n+  selector: 'ng-timeline-controls',\n+  templateUrl: './timeline-controls.component.html',\n+  styleUrls: ['./timeline-controls.component.scss'],\n+})\n+export class TimelineControlsComponent {\n+  @Input() record: ProfilerFrame | undefined;\n+  @Input() estimatedFrameRate: number;\n+  @Input() visualizationMode: VisualizationMode;\n+  @Input() empty: boolean;\n+  @Input() changeDetection: boolean;\n+  @Output() changeVisualizationMode = new EventEmitter<VisualizationMode>();\n+  @Output() exportProfile = new EventEmitter<void>();\n+  @Output() toggleChangeDetection = new EventEmitter<boolean>();\n+  @Output() filter = new EventEmitter<string>();\n+\n+  flameGraphMode = VisualizationMode.FlameGraph;\n+  treeMapMode = VisualizationMode.TreeMap;\n+  barGraphMode = VisualizationMode.BarGraph;\n+}"
        },
        {
            "sha": "1b0b415e32295d2859208e22cec44c4a936445ff",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline.component.html",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,33 @@\n+<ng-recording-modal *ngIf=\"!hasFrames && !visualizing\"></ng-recording-modal>\n+\n+<p class=\"info\" *ngIf=\"!hasFrames && visualizing\">There's no information to show.</p>\n+\n+<div class=\"timeline-wrapper\">\n+  <ng-timeline-controls\n+    [class.hidden]=\"!hasFrames\"\n+    [record]=\"frame\"\n+    [empty]=\"!hasFrames\"\n+    [estimatedFrameRate]=\"estimateFrameRate(frame?.duration)\"\n+    [visualizationMode]=\"visualizationMode\"\n+    [changeDetection]=\"changeDetection\"\n+    (changeVisualizationMode)=\"visualizationMode = $event\"\n+    (exportProfile)=\"exportProfile.emit($event)\"\n+    (toggleChangeDetection)=\"changeDetection = $event\"\n+    (filter)=\"setFilter($event)\"\n+  ></ng-timeline-controls>\n+\n+  <ng-frame-selector\n+    [class.hidden]=\"!hasFrames\"\n+    [graphData$]=\"graphData$\"\n+    (selectFrames)=\"selectFrames($event)\"\n+  ></ng-frame-selector>\n+\n+  <p class=\"info\" *ngIf=\"hasFrames && !frame\">Select a bar to preview a particular change detection cycle.</p>\n+\n+  <ng-timeline-visualizer\n+    *ngIf=\"hasFrames && frame\"\n+    [visualizationMode]=\"visualizationMode\"\n+    [frame]=\"frame\"\n+    [changeDetection]=\"changeDetection\"\n+  ></ng-timeline-visualizer>\n+</div>"
        },
        {
            "sha": "fd509bd68b8ad25c24dfcce7a28e5a7c3361edcf",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline.component.scss",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,28 @@\n+:host {\n+  font-size: 11px;\n+  width: 100%;\n+  height: 100%;\n+  display: flex;\n+  flex-direction: column;\n+}\n+\n+.info {\n+  margin-top: 16px;\n+  font-size: 1.2em;\n+  text-align: center;\n+}\n+\n+.hidden {\n+  /*\n+    intentionally using visibility: hidden\n+    display: none breaks the virtual scroll\n+  */\n+  visibility: hidden;\n+}\n+\n+.timeline-wrapper {\n+  display: flex;\n+  flex-direction: column;\n+  height: 100%;\n+  margin: 0 10px;\n+}"
        },
        {
            "sha": "d61c8ed156a7f398c144144222ace67cf0dcd870",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline.component.spec.ts",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.spec.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,21 @@\n+import { TimelineComponent } from './timeline.component';\n+\n+describe('TimelineComponent', () => {\n+  let comp: TimelineComponent;\n+\n+  beforeEach(() => {\n+    comp = new TimelineComponent();\n+  });\n+\n+  it('should calculate the framerate from passed duration', () => {\n+    expect(comp.estimateFrameRate(0)).toBe(60);\n+    expect(comp.estimateFrameRate(15)).toBe(60);\n+    expect(comp.estimateFrameRate(17)).toBe(30);\n+    expect(comp.estimateFrameRate(31)).toBe(30);\n+    expect(comp.estimateFrameRate(30)).toBe(30);\n+    expect(comp.estimateFrameRate(33)).toBe(15);\n+    expect(comp.estimateFrameRate(48)).toBe(15);\n+    expect(comp.estimateFrameRate(49)).toBe(7);\n+    expect(comp.estimateFrameRate(2000)).toBe(0);\n+  });\n+});"
        },
        {
            "sha": "feb471bb48992abd0375d3194c84da680e379a79",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline.component.ts",
            "status": "added",
            "additions": 131,
            "deletions": 0,
            "changes": 131,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,131 @@\n+import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\n+import { ProfilerFrame } from 'protocol';\n+import { GraphNode } from './record-formatter/record-formatter';\n+import { Observable, Subscription, BehaviorSubject } from 'rxjs';\n+import { map, share } from 'rxjs/operators';\n+import { mergeFrames } from './record-formatter/frame-merger';\n+import { createFilter, Filter, noopFilter } from './filter';\n+import { VisualizationMode } from './visualization-mode';\n+\n+const MAX_HEIGHT = 50;\n+\n+@Component({\n+  selector: 'ng-recording-timeline',\n+  templateUrl: './timeline.component.html',\n+  styleUrls: ['./timeline.component.scss'],\n+})\n+export class TimelineComponent implements OnDestroy {\n+  @Input() set stream(data: Observable<ProfilerFrame[]>) {\n+    if (this._subscription) {\n+      this._subscription.unsubscribe();\n+    }\n+    this._allRecords = [];\n+    this._filtered = [];\n+    this._maxDuration = -Infinity;\n+    this._subscription = data.subscribe({\n+      next: (frames: ProfilerFrame[]): void => {\n+        this._processFrames(frames);\n+      },\n+      complete: (): void => {\n+        this.visualizing = true;\n+      },\n+    });\n+  }\n+  @Output() exportProfile = new EventEmitter<void>();\n+  visualizationMode = VisualizationMode.BarGraph;\n+  changeDetection = false;\n+  frame: ProfilerFrame | null = null;\n+\n+  private _filter: Filter = noopFilter;\n+  private _maxDuration = -Infinity;\n+  private _subscription: Subscription;\n+  private _allRecords: ProfilerFrame[] = [];\n+  private _filtered: GraphNode[] = [];\n+  private _graphDataSubject = new BehaviorSubject<GraphNode[]>([]);\n+  visualizing = false;\n+  graphData$ = this._graphDataSubject.pipe(\n+    share(),\n+    map((nodes) => {\n+      return (this._filtered = nodes.filter((node) => this._filter(node)));\n+    })\n+  );\n+\n+  selectFrames({ indexes }: { indexes: number[] }): void {\n+    this.frame = mergeFrames(indexes.map((index) => this._filtered[index].frame));\n+  }\n+\n+  get hasFrames(): boolean {\n+    return this._graphDataSubject.value.length > 0;\n+  }\n+\n+  estimateFrameRate(timeSpent: number): number {\n+    const multiplier = Math.max(Math.ceil(timeSpent / 16) - 1, 0);\n+    return Math.floor(60 / 2 ** multiplier);\n+  }\n+\n+  setFilter(filter: string): void {\n+    this._filter = createFilter(filter);\n+    this._graphDataSubject.next(this._graphDataSubject.value);\n+  }\n+\n+  getColorByFrameRate(framerate: number): string {\n+    if (framerate >= 60) {\n+      return '#d6f0d1';\n+    } else if (framerate < 60 && framerate >= 30) {\n+      return '#f2dca2';\n+    } else if (framerate < 30 && framerate >= 15) {\n+      return '#f9cc9d';\n+    }\n+    return '#fad1d1';\n+  }\n+\n+  ngOnDestroy(): void {\n+    if (this._subscription) {\n+      this._subscription.unsubscribe();\n+    }\n+  }\n+\n+  private _processFrames(frames: ProfilerFrame[]): void {\n+    let regenerate = false;\n+    for (const frame of frames) {\n+      if (frame.duration >= this._maxDuration) {\n+        regenerate = true;\n+      }\n+      this._allRecords.push(frame);\n+    }\n+    if (regenerate) {\n+      this._graphDataSubject.next(this._generateBars());\n+      return;\n+    }\n+    const multiplicationFactor = parseFloat((MAX_HEIGHT / this._maxDuration).toFixed(2));\n+    frames.forEach((frame) => this._graphDataSubject.value.push(this._getBarStyles(frame, multiplicationFactor)));\n+\n+    // We need to pass a new reference, because the CDK virtual scroll\n+    // has OnPush strategy, so it doesn't update the UI otherwise.\n+    // If this turns out ot be a bottleneck, we can easily create an immutable reference.\n+    this._graphDataSubject.next(this._graphDataSubject.value.slice());\n+  }\n+\n+  private _generateBars(): GraphNode[] {\n+    const maxValue = this._allRecords.reduce((acc: number, frame: ProfilerFrame) => Math.max(acc, frame.duration), 0);\n+    const multiplicationFactor = parseFloat((MAX_HEIGHT / maxValue).toFixed(2));\n+    this._maxDuration = Math.max(this._maxDuration, maxValue);\n+    return this._allRecords.map((r) => this._getBarStyles(r, multiplicationFactor));\n+  }\n+\n+  private _getBarStyles(frame: ProfilerFrame, multiplicationFactor: number): GraphNode {\n+    const height = frame.duration * multiplicationFactor;\n+    const colorPercentage = Math.max(10, Math.round((height / MAX_HEIGHT) * 100));\n+    const backgroundColor = this.getColorByFrameRate(this.estimateFrameRate(frame.duration));\n+\n+    const style = {\n+      'background-image': `-webkit-linear-gradient(bottom, ${backgroundColor} ${colorPercentage}%, transparent ${colorPercentage}%)`,\n+      cursor: 'pointer',\n+      'min-width': '25px',\n+      width: '25px',\n+      height: '50px',\n+    };\n+    const toolTip = `${frame.source} TimeSpent: ${frame.duration.toFixed(3)}ms`;\n+    return { style, toolTip, frame };\n+  }\n+}"
        },
        {
            "sha": "925a423961a1cf44902c9c50a4b5b5848a21beb8",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/timeline.module.ts",
            "status": "added",
            "additions": 54,
            "deletions": 0,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Ftimeline.module.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,54 @@\n+import { NgModule } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { TimelineComponent } from './timeline.component';\n+import { RecordingVisualizerModule } from './recording-visualizer/recording-visualizer.module';\n+import { MatButtonModule } from '@angular/material/button';\n+import { MatCardModule } from '@angular/material/card';\n+import { MatCheckboxModule } from '@angular/material/checkbox';\n+import { FormsModule } from '@angular/forms';\n+import { NgxFlamegraphModule } from 'ngx-flamegraph';\n+import { MatSelectModule } from '@angular/material/select';\n+import { MatTooltipModule } from '@angular/material/tooltip';\n+import { MatIconModule } from '@angular/material/icon';\n+import { ScrollingModule } from '@angular/cdk/scrolling';\n+import { MatProgressBarModule } from '@angular/material/progress-bar';\n+import { MatDialogModule } from '@angular/material/dialog';\n+import { MatInputModule } from '@angular/material/input';\n+import { TimelineControlsComponent } from './timeline-controls.component';\n+import { RecordingModalComponent } from './recording-modal.component';\n+import { RecordingDialogComponent } from './recording-dialog.component';\n+import { FrameSelectorComponent } from './frame-selector.component';\n+\n+@NgModule({\n+  declarations: [\n+    TimelineComponent,\n+    TimelineControlsComponent,\n+    RecordingModalComponent,\n+    RecordingDialogComponent,\n+    FrameSelectorComponent,\n+  ],\n+  imports: [\n+    ScrollingModule,\n+    CommonModule,\n+    FormsModule,\n+    RecordingVisualizerModule,\n+    MatCheckboxModule,\n+    MatDialogModule,\n+    MatProgressBarModule,\n+    MatButtonModule,\n+    MatTooltipModule,\n+    MatIconModule,\n+    MatCardModule,\n+    MatInputModule,\n+    NgxFlamegraphModule,\n+    MatSelectModule,\n+  ],\n+  exports: [\n+    TimelineComponent,\n+    TimelineControlsComponent,\n+    RecordingModalComponent,\n+    RecordingDialogComponent,\n+    FrameSelectorComponent,\n+  ],\n+})\n+export class TimelineModule {}"
        },
        {
            "sha": "8f0df94d3746f155a69e5abb32a8802b1a3d353c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode/BUILD.bazel",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,9 @@\n+load(\"//tools:typescript.bzl\", \"ts_project\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_project(\n+    name = \"visualization-mode\",\n+    srcs = [\"index.ts\"],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+)"
        },
        {
            "sha": "ee31e703c07382cb5784f0e8aeb248e8381791f8",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode/index.ts",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2Findex.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,5 @@\n+export enum VisualizationMode {\n+  FlameGraph,\n+  TreeMap,\n+  BarGraph,\n+}"
        },
        {
            "sha": "a4a0427af6faf2baa8b14c8c8ff8ffd1db21ead0",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/router-tree/BUILD.bazel",
            "status": "added",
            "additions": 31,
            "deletions": 0,
            "changes": 31,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2FBUILD.bazel?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,31 @@\n+load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+\n+package(default_visibility = [\"//:__subpackages__\"])\n+\n+sass_binary(\n+    name = \"router-tree-styles\",\n+    src = \"router-tree.component.scss\",\n+)\n+\n+ng_ts_project(\n+    name = \"router-tree\",\n+    srcs = [\n+        \"router-tree.component.ts\",\n+        \"router-tree.module.ts\",\n+    ],\n+    angular_assets = [\n+        \":router-tree.component.html\",\n+        \":router-tree-styles\",\n+    ],\n+    tsconfig = \"//projects/ng-devtools:tsconfig-lib\",\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@angular/common\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/material\",\n+        \"@npm//@types\",\n+        \"@npm//d3\",\n+        \"@npm//rxjs\",\n+    ],\n+)"
        },
        {
            "sha": "be00efd495dfeed889beec6bde4b0bc62454bfc4",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/router-tree/router-tree.component.html",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.html?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,8 @@\n+<div class=\"router-tree-wrapper\">\n+  <div class=\"no-routes\" [hidden]=\"routes?.length !== 0\">\n+    <h1>There are no routes to display.</h1>\n+  </div>\n+  <svg #svgContainer class=\"svg-container\" [hidden]=\"routes?.length === 0\">\n+    <g #mainGroup></g>\n+  </svg>\n+</div>"
        },
        {
            "sha": "ce97b9b42d013ed8fa1089bb3f81d90edb96bfa7",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/router-tree/router-tree.component.scss",
            "status": "added",
            "additions": 104,
            "deletions": 0,
            "changes": 104,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.scss?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,104 @@\n+.router-tree-wrapper {\n+  font-size: 1em;\n+  width: 100%;\n+  height: 100%;\n+  overflow-x: auto;\n+}\n+\n+.no-routes {\n+  padding-top: 1rem;\n+  text-align: center;\n+  color: #b0b0b0;\n+}\n+\n+.svg-container {\n+  max-height: inherit;\n+}\n+\n+::ng-deep {\n+  .tooltip {\n+    position: absolute;\n+    background: #ebf1fb;\n+    border: 0px;\n+    border-radius: 2px;\n+    pointer-events: none;\n+    font-family: Roboto, 'Helvetica Neue', sans-serif;\n+    font-size: 0.8rem;\n+    line-height: 1.25rem;\n+  }\n+}\n+\n+:host {\n+  ::ng-deep {\n+    .link {\n+      stroke: #9b9b9b;\n+      stroke-width: 1px;\n+      fill: none;\n+    }\n+\n+    .node {\n+      cursor: pointer;\n+    }\n+\n+    .node-route {\n+      stroke: #f05057;\n+      fill: #fff0f0;\n+      stroke-width: 1px;\n+    }\n+\n+    & .node-route:hover,\n+    & .node-route.selected {\n+      fill: #f05057;\n+    }\n+\n+    & .node-aux-route {\n+      stroke: #2828ab;\n+      fill: #ebf2fc;\n+      stroke-width: 1px;\n+    }\n+\n+    & .node-aux-route:hover,\n+    & .node-aux-route.selected {\n+      fill: #2828ab;\n+    }\n+\n+    & text {\n+      fill: #000000;\n+      font-weight: 300;\n+    }\n+  }\n+}\n+\n+:host-context(.dark-theme) {\n+  ::ng-deep {\n+    .link {\n+      stroke: #bcc5ce;\n+      stroke-width: 1px;\n+      fill: none;\n+    }\n+\n+    .node-route {\n+      stroke: #54c9bd;\n+      fill: #202124;\n+    }\n+\n+    & .node-route:hover,\n+    & .node-route.selected {\n+      fill: #54c9bd;\n+    }\n+\n+    & .node-aux-route {\n+      stroke: #2828ab;\n+      fill: #ebf2fc;\n+    }\n+\n+    & .node-aux-route:hover,\n+    & .node-aux-route.selected {\n+      fill: #2828ab;\n+    }\n+\n+    & text {\n+      fill: #bcc5ce;\n+    }\n+  }\n+}"
        },
        {
            "sha": "a8602eab22bd08d401833f5b840ba02d57eddb1c",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/router-tree/router-tree.component.ts",
            "status": "added",
            "additions": 137,
            "deletions": 0,
            "changes": 137,
            "blob_url": "https://github.com/angular/angular/blob/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/8c04fa7852446238f72a5545575d0b9e66cf9b78/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2Frouter-tree.component.ts?ref=8c04fa7852446238f72a5545575d0b9e66cf9b78",
            "patch": "@@ -0,0 +1,137 @@\n+import { Component, ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\n+import { MessageBus, Events, Route } from 'protocol';\n+import * as d3 from 'd3';\n+\n+@Component({\n+  selector: 'ng-router-tree',\n+  templateUrl: './router-tree.component.html',\n+  styleUrls: ['./router-tree.component.scss'],\n+})\n+export class RouterTreeComponent implements AfterViewInit {\n+  @ViewChild('svgContainer', { static: true }) private svgContainer: ElementRef;\n+  @ViewChild('mainGroup', { static: true }) private g: ElementRef;\n+\n+  @Input() set routes(routes: Route[]) {\n+    this._routes = routes;\n+    this.render();\n+  }\n+\n+  private _routes: Route[] = [];\n+  private tree: d3.TreeLayout<{}>;\n+  private tooltip: any;\n+\n+  constructor(private _messageBus: MessageBus<Events>) {}\n+\n+  ngAfterViewInit(): void {\n+    this._messageBus.emit('getRoutes');\n+  }\n+\n+  render(): void {\n+    if (this._routes.length === 0 || !this.g) {\n+      return;\n+    }\n+\n+    // cleanup old render\n+    this.tooltip?.remove?.();\n+    d3.select(this.g.nativeElement).selectAll('*').remove();\n+\n+    this.tree = d3.tree();\n+    const svg = d3.select(this.svgContainer.nativeElement);\n+    svg.attr('height', 500).attr('width', 500);\n+\n+    const g = d3.select(this.g.nativeElement);\n+\n+    const svgPadding = 20;\n+\n+    // Compute the new tree layout.\n+    this.tree.nodeSize([75, 200]);\n+\n+    const root: any = this._routes[0];\n+\n+    const nodes = this.tree(\n+      d3.hierarchy(root.children.length === 0 || root.children.length > 1 ? root : root.children[0], (d) => d.children)\n+    );\n+\n+    // Define the div for the tooltip\n+    this.tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0).style('padding', '0');\n+\n+    g.selectAll('.link')\n+      .data(nodes.descendants().slice(1))\n+      .enter()\n+      .append('path')\n+      .attr('class', 'link')\n+      .attr(\n+        'd',\n+        (d) => `\n+            M${d.y},${d.x}\n+            C${(d.y + (d as any).parent.y) / 2},\n+              ${d.x} ${(d.y + (d as any).parent.y) / 2},\n+              ${(d as any).parent.x} ${(d as any).parent.y},\n+              ${(d as any).parent.x}`\n+      );\n+\n+    // Declare the nodes\n+    const node = g\n+      .selectAll('g.node')\n+      .data(nodes.descendants())\n+      .enter()\n+      .append('g')\n+      .attr('class', 'node')\n+      .on('mouseover', (n) => {\n+        const content = `\n+          <b>Name:</b> ${n.data.name}<br/>\n+          <b>Path:</b> ${n.data.path}<br/>\n+          <b>Auxiliary Route:</b> ${n.data.isAux}<br/>\n+          <b>Specificity:</b> ${n.data.specificity}<br/>\n+          <b>Handler:</b> ${n.data.handler}<br/>\n+        `;\n+        this.tooltip.style('padding', '4px 8px').transition().style('opacity', 0.9);\n+        this.tooltip\n+          .html(content)\n+          .style('left', (d3 as any).event.pageX + 8 + 'px')\n+          .style('top', (d3 as any).event.pageY + 8 + 'px');\n+      })\n+      .on('mouseout', () => this.tooltip.transition().style('opacity', 0))\n+      .attr('transform', (d) => `translate(${d.y},${d.x})`);\n+\n+    node\n+      .append('circle')\n+      .attr('class', (d) => ((d.data as any).isAux ? 'node-aux-route' : 'node-route'))\n+      .attr('r', 6);\n+\n+    node\n+      .append('text')\n+      .attr('dy', (d) => (d.depth === 0 || !d.children ? '0.35em' : '-1.50em'))\n+      .attr('dx', (d: any): any => {\n+        if (d.parent && d.children) {\n+          return 6;\n+        } else if (!d.parent && d.children) {\n+          return -13;\n+        } else if (d.parent && !d.children) {\n+          return 13;\n+        }\n+      })\n+      .attr('text-anchor', (d) => (d.children ? 'end' : 'start'))\n+      .text((d) => {\n+        const label = (d.data as any).name;\n+        return label.length > 20 ? label.slice(0, 17) + '...' : label;\n+      });\n+\n+    // reset transform\n+    g.attr('transform', 'translate(0, 0)');\n+\n+    const svgRect = this.svgContainer.nativeElement.getBoundingClientRect();\n+    const gElRect = this.g.nativeElement.getBoundingClientRect();\n+\n+    g.attr(\n+      'transform',\n+      `translate(\n+        ${svgRect.left - gElRect.left + svgPadding},\n+        ${svgRect.top - gElRect.top + svgPadding}\n+      )`\n+    );\n+    const height = gElRect.height + svgPadding * 2;\n+    const width = gElRect.width + svgPadding * 2;\n+    svg.attr('height', height).attr('width', width);\n+  }\n+}"
        }
    ],
    "stats": {
        "total": 36958,
        "additions": 36958,
        "deletions": 0
    }
}