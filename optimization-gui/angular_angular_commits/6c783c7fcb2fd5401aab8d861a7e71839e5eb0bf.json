{
    "author": "kapunahelewong",
    "message": "docs: rewrite structural-directives.md (#40015)\n\nPR Close #40015",
    "sha": "6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
    "files": [
        {
            "sha": "b309e8bcf38ad717daa10ef13f094c1260c8cb4c",
            "filename": "aio/content/examples/structural-directives/src/app/app.component.css",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.css",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.css",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.css?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -42,9 +42,7 @@ td, th {\n   vertical-align: top;\n }\n \n-/* #docregion p-span */\n p span { color: red; font-size: 70%; }\n-/* #enddocregion p-span */\n \n .unless {\n   border: 2px solid;"
        },
        {
            "sha": "9fd74b2098438a714e4a458abbadd4f9780d4f30",
            "filename": "aio/content/examples/structural-directives/src/app/app.component.html",
            "status": "modified",
            "additions": 7,
            "deletions": 19,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.html",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.html?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -5,27 +5,21 @@ <h1>Structural Directives</h1>\n <p>Conditional display of hero</p>\n \n <blockquote>\n-<!-- #docregion built-in, asterisk, ngif -->\n+<!-- #docregion asterisk -->\n <div *ngIf=\"hero\" class=\"name\">{{hero.name}}</div>\n-<!-- #enddocregion built-in, asterisk, ngif -->\n+<!-- #enddocregion asterisk -->\n </blockquote>\n \n <p>List of heroes</p>\n-<!-- #docregion built-in -->\n \n <ul>\n-  <!-- #docregion ngfor-li -->\n   <li *ngFor=\"let hero of heroes\">{{hero.name}}</li>\n-  <!-- #enddocregion ngfor-li -->\n </ul>\n \n-<!-- #enddocregion built-in -->\n-\n <hr>\n \n <h2 id=\"ngIf\">NgIf</h2>\n \n-<!-- #docregion ngif-true -->\n <p *ngIf=\"true\">\n   Expression is true and ngIf is true.\n   This paragraph is in the DOM.\n@@ -34,9 +28,7 @@ <h2 id=\"ngIf\">NgIf</h2>\n   Expression is false and ngIf is false.\n   This paragraph is not in the DOM.\n </p>\n-<!-- #enddocregion ngif-true -->\n \n-<!-- #docregion display-none -->\n <p [style.display]=\"'block'\">\n   Expression sets display to \"block\".\n   This paragraph is visible.\n@@ -45,7 +37,6 @@ <h2 id=\"ngIf\">NgIf</h2>\n   Expression sets display to \"none\".\n   This paragraph is hidden but still in the DOM.\n </p>\n-<!-- #enddocregion display-none -->\n \n <h4>NgIf with template</h4>\n <p>&lt;ng-template&gt; element</p>\n@@ -72,18 +63,17 @@ <h4>*ngIf with a &lt;ng-container&gt;</h4>\n   and continued on my way.\n </p>\n <!-- #enddocregion ngif-ngcontainer -->\n-<!-- #docregion ngif-span -->\n+\n <p>\n   I turned the corner\n   <span *ngIf=\"hero\">\n     and saw {{hero.name}}. I waved\n   </span>\n   and continued on my way.\n </p>\n-<!-- #enddocregion ngif-span -->\n \n <p><i>&lt;select&gt; with &lt;span&gt;</i></p>\n-<!-- #docregion select-span -->\n+\n <div>\n   Pick your favorite hero\n   (<label><input type=\"checkbox\" checked (change)=\"showSad = !showSad\">show sad</label>)\n@@ -95,7 +85,6 @@ <h4>*ngIf with a &lt;ng-container&gt;</h4>\n     </span>\n   </span>\n </select>\n-<!-- #enddocregion select-span -->\n \n <p><i>&lt;select&gt; with &lt;ng-container&gt;</i></p>\n <!-- #docregion select-ngcontainer -->\n@@ -148,17 +137,14 @@ <h2 id=\"ngSwitch\">NgSwitch</h2>\n \n <h4>NgSwitch</h4>\n \n-<!-- #docregion built-in , ngswitch -->\n <div [ngSwitch]=\"hero?.emotion\">\n   <app-happy-hero    *ngSwitchCase=\"'happy'\"    [hero]=\"hero\"></app-happy-hero>\n   <app-sad-hero      *ngSwitchCase=\"'sad'\"      [hero]=\"hero\"></app-sad-hero>\n   <app-confused-hero *ngSwitchCase=\"'confused'\" [hero]=\"hero\"></app-confused-hero>\n   <app-unknown-hero  *ngSwitchDefault           [hero]=\"hero\"></app-unknown-hero>\n </div>\n-<!-- #enddocregion built-in, ngswitch -->\n \n <h4>NgSwitch with &lt;ng-template&gt;</h4>\n-<!-- #docregion ngswitch-template -->\n <div [ngSwitch]=\"hero?.emotion\">\n   <ng-template [ngSwitchCase]=\"'happy'\">\n     <app-happy-hero [hero]=\"hero\"></app-happy-hero>\n@@ -173,7 +159,6 @@ <h4>NgSwitch with &lt;ng-template&gt;</h4>\n     <app-unknown-hero [hero]=\"hero\"></app-unknown-hero>\n   </ng-template>\n </div>\n-<!-- #enddocregion ngswitch-template -->\n \n <hr>\n \n@@ -189,6 +174,7 @@ <h2>&lt;ng-template&gt;</h2>\n <hr>\n \n <h2 id=\"appUnless\">UnlessDirective</h2>\n+<!-- #docregion toggle-info -->\n <p>\n   The condition is currently\n   <span [ngClass]=\"{ 'a': !condition, 'b': condition, 'unless': true }\">{{condition}}</span>.\n@@ -198,6 +184,8 @@ <h2 id=\"appUnless\">UnlessDirective</h2>\n     Toggle condition to {{condition ? 'false' : 'true'}}\n   </button>\n </p>\n+<!-- #enddocregion toggle-info -->\n+\n <!-- #docregion appUnless-->\n <p *appUnless=\"condition\" class=\"unless a\">\n   (A) This paragraph is displayed because the condition is false."
        },
        {
            "sha": "c30efc576a425bb21d63eb6c9bb33cdffc9f1650",
            "filename": "aio/content/examples/structural-directives/src/app/app.component.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fsrc%2Fapp%2Fapp.component.ts?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -10,8 +10,9 @@ import { Hero, heroes } from './hero';\n export class AppComponent {\n   heroes = heroes;\n   hero = this.heroes[0];\n-\n+  // #docregion condition\n   condition = false;\n+  // #enddocregion condition\n   logs: string[] = [];\n   showSad = true;\n   status = 'ready';"
        },
        {
            "sha": "c8dfb3ac10333e0f8d89c0d2ef5cc725af3e7c12",
            "filename": "aio/content/guide/ajs-quick-reference.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fajs-quick-reference.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fajs-quick-reference.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fajs-quick-reference.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -140,7 +140,7 @@ The following table lists some of the key AngularJS template features with their\n \n       Angular has true template input variables that are explicitly defined using the `let` keyword.\n \n-      For more information, see the [Template input variables](guide/structural-directives#template-input-variable) section of [Structural Directives](guide/structural-directives).\n+      For more information, see the [Structural directive shorthand](guide/structural-directives#shorthand) section of [Structural Directives](guide/structural-directives).\n     </td>\n \n   </tr>"
        },
        {
            "sha": "a264cceb8698d9f4f0a91c5c18f023df37b58c02",
            "filename": "aio/content/guide/architecture-components.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Farchitecture-components.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Farchitecture-components.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Farchitecture-components.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -166,8 +166,8 @@ The example template uses two built-in structural directives to add application\n \n <code-example path=\"architecture/src/app/hero-list.component.1.html\" header=\"src/app/hero-list.component.html (structural)\" region=\"structural\"></code-example>\n \n-* [`*ngFor`](guide/structural-directives#inside-ngfor) is an iterative; it tells Angular to stamp out one `<li>` per hero in the `heroes` list.\n-* [`*ngIf`](guide/structural-directives#ngif-case-study) is a conditional; it includes the `HeroDetail` component only if a selected hero exists.\n+* [`*ngFor`](guide/built-in-directives#ngFor) is an iterative; it tells Angular to stamp out one `<li>` per hero in the `heroes` list.\n+* [`*ngIf`](guide/built-in-directives#ngIf) is a conditional; it includes the `HeroDetail` component only if a selected hero exists.\n \n #### Attribute directives\n "
        },
        {
            "sha": "d0ca688f22e6ce126843b63d7952d4800cf29ad6",
            "filename": "aio/content/guide/built-in-directives.md",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fbuilt-in-directives.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fbuilt-in-directives.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fbuilt-in-directives.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -198,7 +198,7 @@ The string `\"let item of items\"` instructs Angular to do the following:\n   * Translate `\"let item of items\"` into an `<ng-template>` around the host element\n   * Repeat the `<ng-template>` for each `item` in the list\n \n-For more information see the [`<ng-template>` section](guide/structural-directives#the-ng-template) of [Structural directives](guide/structural-directives).\n+For more information see the [Structural directive shorthand](guide/structural-directives#shorthand) section of [Structural directives](guide/structural-directives).\n ### Repeating a component view\n \n To repeat a component element, apply `*ngFor` to the selector.\n@@ -215,7 +215,7 @@ The following example references `item` first in an interpolation and then passe\n \n <code-example path=\"built-in-directives/src/app/app.component.html\" region=\"NgFor-1-2\" header=\"src/app/app.component.html\"></code-example>\n \n-For more information about template input variables, see [Structural Directives](guide/structural-directives#template-input-variable).\n+For more information about template input variables, see [Structural directive shorthand](guide/structural-directives#shorthand).\n \n ### Getting the `index` of `*ngFor`\n \n@@ -228,8 +228,12 @@ The following example gets the `index` in a variable named `i` and displays it w\n \n The index property of the `NgFor` directive context returns the zero-based index of the item in each iteration.\n \n-{@a one-per-element}\n+Angular translates this instruction into an `<ng-template>` around the host element,\n+then uses this template repeatedly to create a new set of elements and bindings for each `item`\n+in the list.\n+For more information about shorthand, see the [Structural Directives](guide/structural-directives#shorthand) guide.\n \n+{@a one-per-element}\n ## Repeating elements when a condition is true\n \n To repeat a block of HTML when a particular condition is true, put the `*ngIf` on a container element that wraps an `*ngFor` element.\n@@ -278,7 +282,7 @@ They do not have special access to any private APIs that other directives can't\n \n The Angular `<ng-container>` is a grouping element that doesn't interfere with styles or layout because Angular doesn't put it in the DOM.\n \n-You can use [`<ng-container>`](guide/structural-directives#ngcontainer) when there's no single element to host the directive.\n+You can use `<ng-container>` when there's no single element to host the directive.\n \n Here's a conditional paragraph using `<ng-container>`.\n \n@@ -339,8 +343,6 @@ For example, you could replace the `<app-best-item>` switch case with a `<div>`\n \n <code-example path=\"built-in-directives/src/app/app.component.html\" region=\"NgSwitch-div\" header=\"src/app/app.component.html\"></code-example>\n \n-<hr />\n-\n ## What's next\n \n For information on how to build your own custom directives, see [Attribute Directives](guide/attribute-directives) and [Structural Directives](guide/structural-directives)."
        },
        {
            "sha": "1cab4c8eafb10f2da6ef5c94ea5f9a70b4fe8d0b",
            "filename": "aio/content/guide/example-apps-list.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fexample-apps-list.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fexample-apps-list.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fexample-apps-list.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -180,7 +180,7 @@ For more information, see [Template reference variables](guide/template-referenc\n <live-example name=\"ngcontainer\"></live-example>\n \n Demonstrates `<ngcontainer>`.\n-For more information, see the [ngtemplate section](guide/structural-directives#ngcontainer) of [Structural directives](guide/structural-directives) .\n+For more information, see the [ng-container section](guide/built-in-directives#ngcontainer) of [Built-in directives](guide/structural-directives) .\n \n ### Pipes\n "
        },
        {
            "sha": "b1548735628f645278dd9ecb3792029fbdb57743",
            "filename": "aio/content/guide/glossary.md",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fglossary.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fglossary.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fglossary.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -340,6 +340,12 @@ Angular supplies a number of built-in directives that begin with the `ng` prefix\n You can also create new directives to implement your own functionality.\n You associate a *selector* (an HTML tag such as `<my-directive>`) with a custom directive, thereby extending the [template syntax](guide/template-syntax) that you can use in your apps.\n \n+**UpperCamelCase**, such as `NgIf`, refers to a directive class.\n+You can use **UpperCamelCase** when describing properties and directive behavior.\n+\n+**lowerCamelCase**, such as `ngIf` refers to a directive's attribute name.\n+You can use **lowerCamelCase** when describing how to apply the directive to an element in the HTML template.\n+\n {@a dom}\n \n ## domain-specific language (DSL)"
        },
        {
            "sha": "7e5098655b3d050dd36386df203ae77606ddfaf8",
            "filename": "aio/content/guide/interpolation.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Finterpolation.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Finterpolation.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Finterpolation.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -86,7 +86,7 @@ In the following snippet, the expression `recommended` and the expression `itemI\n \n <code-example path=\"interpolation/src/app/app.component.html\" region=\"component-context\" header=\"src/app/app.component.html\"></code-example>\n \n-An expression can also refer to properties of the _template's_ context such as a [template input variable](guide/structural-directives#template-input-variables) or a [template reference variable](guide/template-reference-variables).\n+An expression can also refer to properties of the _template's_ context such as a [template input variable](guide/structural-directives#shorthand) or a [template reference variable](guide/template-reference-variables).\n \n The following example uses a template input variable of `customer`.\n "
        },
        {
            "sha": "ea646e0d4b9b6b358071426b5b27f688d5b09374",
            "filename": "aio/content/guide/structural-directives.md",
            "status": "modified",
            "additions": 106,
            "deletions": 740,
            "changes": 846,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fstructural-directives.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Fstructural-directives.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fstructural-directives.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -1,330 +1,171 @@\n-# Structural directives\n-\n-<style>\n-  h4 {font-size: 17px !important; text-transform: none !important;}\n-  .syntax { font-family: Consolas, 'Lucida Sans', Courier, sans-serif; color: black; font-size: 85%; }\n-\n-</style>\n-\n-\n-\n-This guide looks at how Angular manipulates the DOM with **structural directives** and\n-how you can write your own structural directives to do the same thing.\n-\n-Try the <live-example></live-example>.\n-\n-\n-{@a definition}\n-\n-\n-\n-## What are structural directives?\n-\n-Structural directives are responsible for HTML layout.\n-They shape or reshape the DOM's _structure_, typically by adding, removing, or manipulating\n-elements.\n-\n-As with other directives, you apply a structural directive to a _host element_.\n-The directive then does whatever it's supposed to do with that host element and its descendants.\n-\n-Structural directives are easy to recognize.\n-An asterisk (*) precedes the directive attribute name as in this example.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngif)\" region=\"ngif\"></code-example>\n-\n-\n-\n-No brackets. No parentheses. Just `*ngIf` set to a string.\n-\n-You'll learn in this guide that the [asterisk (*) is a convenience notation](guide/structural-directives#asterisk)\n-and the string is a [_microsyntax_](guide/structural-directives#microsyntax) rather than the usual\n-[template expression](guide/interpolation#template-expressions).\n-Angular desugars this notation into a marked-up `<ng-template>` that surrounds the\n-host element and its descendants.\n-Each structural directive does something different with that template.\n-\n-Three of the common, built-in structural directives&mdash;[NgIf](guide/built-in-directives#ngIf),\n-[NgFor](guide/built-in-directives#ngFor), and [NgSwitch...](guide/built-in-directives#ngSwitch)&mdash;are\n-described in the [Built-in directives](guide/built-in-directives) guide and seen in samples throughout the Angular documentation.\n-Here's an example of them in a template:\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (built-in)\" region=\"built-in\"></code-example>\n-\n-\n-\n-This guide won't repeat how to _use_ them. But it does explain _how they work_\n-and how to [write your own](guide/structural-directives#unless) structural directive.\n-\n-\n-<div class=\"callout is-helpful\">\n-\n-\n-\n-<header>\n-  Directive spelling\n-</header>\n-\n-\n-\n-Throughout this guide, you'll see a directive spelled in both _UpperCamelCase_ and _lowerCamelCase_.\n-Already you've seen `NgIf` and `ngIf`.\n-There's a reason. `NgIf` refers to the directive _class_;\n-`ngIf` refers to the directive's _attribute name_.\n-\n-A directive _class_ is spelled in _UpperCamelCase_ (`NgIf`).\n-A directive's _attribute name_ is spelled in _lowerCamelCase_ (`ngIf`).\n-The guide refers to the directive _class_ when talking about its properties and what the directive does.\n-The guide refers to the _attribute name_ when describing how\n-you apply the directive to an element in the HTML template.\n-\n-\n-</div>\n-\n+# Writing structural directives\n \n+This topic demonstrates how to create a structural directive and provides conceptual information on how directives work, how Angular interprets shorthand, and how to add template guard properties to catch template type errors.\n \n <div class=\"alert is-helpful\">\n \n-\n-\n-There are two other kinds of Angular directives, described extensively elsewhere:\n-(1)&nbsp;components and (2)&nbsp;attribute directives.\n-\n-A *component* manages a region of HTML in the manner of a native HTML element.\n-Technically it's a directive with a template.\n-\n-An [*attribute* directive](guide/attribute-directives) changes the appearance or behavior\n-of an element, component, or another directive.\n-For example, the built-in [`NgStyle`](guide/built-in-directives#ngstyle) directive\n-changes several element styles at the same time.\n-\n-You can apply many _attribute_ directives to one host element.\n-You can [only apply one](guide/structural-directives#one-per-element) _structural_ directive to a host element.\n-\n+For the example app that this page describes, see the <live-example></live-example>.\n \n </div>\n \n+For more information on Angular's built-in structural directives, such as `NgIf`, `NgFor`, and `NgSwitch`, see [Built-in directives](guide/built-in-directives).\n \n+{@a unless}\n \n-{@a ngIf}\n-\n-\n+## Creating a structural directive\n \n-## NgIf case study\n+This section guides you through creating an `UnlessDirective` and how to set `condition` values.\n+The `UnlessDirective` does the opposite of `NgIf`, and `condition` values can be set to `true` or `false`.\n+`NgIf` displays the template content when the condition is `true`.\n+`UnlessDirective` displays the content when the condition is `false`.\n \n-`NgIf` is the simplest structural directive and the easiest to understand.\n-It takes a boolean expression and makes an entire chunk of the DOM appear or disappear.\n+Following is the `UnlessDirective` selector, `appUnless`, applied to the paragraph element.\n+When `condition` is `true`, the browser displays the sentence.\n \n+<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (appUnless-1)\" region=\"appUnless-1\"></code-example>\n \n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngif-true)\" region=\"ngif-true\"></code-example>\n+1. Using the Angular CLI, run the following command, where `unless` is the name of the directive:\n \n+  ```bash\n \n+  ng generate directive unless\n \n-The `ngIf` directive doesn't hide elements with CSS. It adds and removes them physically from the DOM.\n-Confirm that fact using browser developer tools to inspect the DOM.\n+  ```\n \n+  Angular creates the directive class and specifies the CSS selector, `appUnless`, that identifies the directive in a template.\n \n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/element-not-in-dom.png' alt=\"ngIf=false element not in DOM\">\n-</div>\n+1. Import `Input`, `TemplateRef`, and `ViewContainerRef`.\n \n+  <code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (skeleton)\" region=\"skeleton\"></code-example>\n \n+1. Inject `TemplateRef` and `ViewContainerRef` in the directive constructor as private variables.\n \n-The top paragraph is in the DOM. The bottom, disused paragraph is not;\n-in its place is a comment about \"bindings\" (more about that [later](guide/structural-directives#asterisk)).\n+  <code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (ctor)\" region=\"ctor\"></code-example>\n \n-When the condition is false, `NgIf` removes its host element from the DOM,\n-detaches it from DOM events (the attachments that it made),\n-detaches the component from Angular change detection, and destroys it.\n-The component and DOM nodes can be garbage-collected and free up memory.\n+  The `UnlessDirective` creates an [embedded view](api/core/EmbeddedViewRef \"API: EmbeddedViewRef\") from the Angular-generated `<ng-template>` and inserts that view in a [view container](api/core/ViewContainerRef \"API: ViewContainerRef\") adjacent to the directive's original `<p>` host element.\n \n-### Why *remove* rather than *hide*?\n+  [`TemplateRef`](api/core/TemplateRef \"API: TemplateRef\") helps you get to the `<ng-template>` contents and [`ViewContainerRef`](api/core/ViewContainerRef \"API: ViewContainerRef\") accesses the view container.\n \n-A directive could hide the unwanted paragraph instead by setting its `display` style to `none`.\n+1. Add an `appUnless` `@Input()` property with a setter.\n \n+  <code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (set)\" region=\"set\"></code-example>\n \n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (display-none)\" region=\"display-none\"></code-example>\n+  Angular sets the `appUnless` property whenever the value of the condition changes.\n \n+    * If the condition is falsy and Angular hasn't created the view previously, the setter causes the view container to create the embedded view from the template.\n \n+    * If the condition is truthy and the view is currently displayed, the setter clears the container, which disposes of the view.\n \n-While invisible, the element remains in the DOM.\n+The complete directive is as follows:\n \n+<code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (excerpt)\" region=\"no-docs\"></code-example>\n \n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/element-display-in-dom.png' alt=\"hidden element still in DOM\">\n-</div>\n+### Testing the directive\n \n+In this section, you'll update your application to test the `UnlessDirective`.\n \n+1. Add a `condition` set to `false` in the `AppComponent`.\n \n-The difference between hiding and removing doesn't matter for a simple paragraph.\n-It does matter when the host element is attached to a resource intensive component.\n-Such a component's behavior continues even when hidden.\n-The component stays attached to its DOM element. It keeps listening to events.\n-Angular keeps checking for changes that could affect data bindings.\n-Whatever the component was doing, it keeps doing.\n+  <code-example path=\"structural-directives/src/app/app.component.ts\" header=\"src/app/app.component.ts (excerpt)\" region=\"condition\"></code-example>\n \n-Although invisible, the component&mdash;and all of its descendant components&mdash;tie up resources.\n-The performance and memory burden can be substantial, responsiveness can degrade, and the user sees nothing.\n+1. Update the template to use the directive.\n+  Here, `*appUnless` is on two `<p>` tags with opposite `condition` values, one `true` and one `false`.\n \n-On the positive side, showing the element again is quick.\n-The component's previous state is preserved and ready to display.\n-The component doesn't re-initialize&mdash;an operation that could be expensive.\n-So hiding and showing is sometimes the right thing to do.\n+  <code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (appUnless)\" region=\"appUnless\"></code-example>\n \n-But in the absence of a compelling reason to keep them around,\n-your preference should be to remove DOM elements that the user can't see\n-and recover the unused resources with a structural directive like `NgIf` .\n+  The asterisk is shorthand that marks `appUnless` as a structural directive.\n+  When the `condition` is falsy, the top (A) paragraph appears and the bottom (B) paragraph disappears.\n+  When the `condition` is truthy, the top (A) paragraph disappears and the bottom (B) paragraph appears.\n \n-**These same considerations apply to every structural directive, whether built-in or custom.**\n-Before applying a structural directive, you might want to pause for a moment\n-to consider the consequences of adding and removing elements and of creating and destroying components.\n+1. To change and display the value of `condition` in the browser, add markup that displays the status and a button.\n \n+  <code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html\" region=\"toggle-info\"></code-example>\n \n-{@a asterisk}\n+To verify that the directive works, click the button to change the value of `condition`.\n \n+  <div class=\"lightbox\">\n+    <img src='generated/images/guide/structural-directives/unless-anim.gif' alt=\"UnlessDirective in action\">\n+  </div>\n \n \n-## The asterisk (*) prefix\n+{@a shorthand}\n+{@a asterisk}\n \n-Surely you noticed the asterisk (*) prefix to the directive name\n-and wondered why it is necessary and what it does.\n+## Structural directive shorthand\n \n-Here is `*ngIf` displaying the hero's name if `hero` exists.\n+The asterisk, `*`,  syntax on a structural directive, such as `*ngIf`, is shorthand that Angular interprets into a longer form.\n+Angular transforms the asterisk in front of a structural directive into an `<ng-template>` that surrounds the host element and its descendants.\n \n+The following is an example of `*ngIf` that displays the hero's name if `hero` exists:\n \n <code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (asterisk)\" region=\"asterisk\"></code-example>\n \n-\n-\n-The asterisk is \"syntactic sugar\" for something a bit more complicated.\n-Internally, Angular translates the `*ngIf` _attribute_ into a `<ng-template>` _element_, wrapped around the host element, like this.\n-\n+The `*ngIf` directive moves to the `<ng-template>` where it becomes a property binding in square brackets, `[ngIf]`.\n+The rest of the `<div>`, including its class attribute, moves inside the `<ng-template>`.\n \n <code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngif-template)\" region=\"ngif-template\"></code-example>\n \n+Angular does not create a real `<ng-template>` element, instead rendering only the `<div>` and a comment node placeholder to the DOM.\n \n+```html\n+<!--bindings={\n+  \"ng-reflect-ng-if\": \"[object Object]\"\n+}-->\n+<div _ngcontent-c0>Mr. Nice</div>\n \n-* The `*ngIf` directive moved to the `<ng-template>` element where it became a property binding,`[ngIf]`.\n-* The rest of the `<div>`, including its class attribute, moved inside the `<ng-template>` element.\n-\n-The first form is not actually rendered, only the finished product ends up in the DOM.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/hero-div-in-dom.png' alt=\"hero div in DOM\">\n-</div>\n-\n-\n-\n-Angular consumed the `<ng-template>` content during its actual rendering and\n-replaced the `<ng-template>` with a diagnostic comment.\n-\n-The [`NgFor`](guide/structural-directives#ngFor) and [`NgSwitch...`](guide/structural-directives#ngSwitch) directives follow the same pattern.\n-\n-\n-{@a ngFor}\n-\n-\n-\n-## Inside _*ngFor_\n-\n-Angular transforms the `*ngFor` in similar fashion from asterisk (*) syntax to `<ng-template>` _element_.\n-\n-Here's a full-featured application of `NgFor`, written both ways:\n+```\n \n+The following example compares the shorthand use of the asterisk in `*ngFor` with the longhand `<ng-template>` form:\n \n <code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (inside-ngfor)\" region=\"inside-ngfor\"></code-example>\n \n-\n-\n-This is manifestly more complicated than `ngIf` and rightly so.\n-The `NgFor` directive has more features, both required and optional, than the `NgIf` shown in this guide.\n-At minimum `NgFor` needs a looping variable (`let hero`) and a list (`heroes`).\n-\n-You enable these features in the string assigned to `ngFor`, which you write in Angular's [microsyntax](guide/structural-directives#microsyntax).\n-\n-\n-<div class=\"alert is-helpful\">\n-\n-\n-\n-Everything _outside_ the `ngFor` string stays with the host element\n-(the `<div>`) as it moves inside the `<ng-template>`.\n+Here, everything related to the `ngFor` structural directive applies to the `<ng-template>`.\n+All other bindings and attributes on the element apply to the `<div>` element within the `<ng-template>`.\n+Other modifiers on the host element, in addition to the `ngFor` string, remain in place as the element moves inside the `<ng-template>`.\n In this example, the `[class.odd]=\"odd\"` stays on the `<div>`.\n \n+The `let` keyword declares a template input variable that you can reference within the template.\n+The input variables in this example are `hero`, `i`, and `odd`.\n+The parser translates `let hero`, `let i`, and `let odd` into variables named `let-hero`, `let-i`, and `let-odd`.\n+The `let-i` and `let-odd` variables become `let i=index` and `let odd=odd`.\n+Angular sets `i` and `odd` to the current value of the context's `index` and `odd` properties.\n \n-</div>\n-\n-\n-\n-{@a microsyntax}\n-\n-\n-## Microsyntax\n-\n-The Angular microsyntax lets you configure a directive in a compact, friendly string.\n-The microsyntax parser translates that string into attributes on the `<ng-template>`:\n-\n-* The `let` keyword declares a [_template input variable_](guide/structural-directives#template-input-variable)\n-that you reference within the template. The input variables in this example are `hero`, `i`, and `odd`.\n-The parser translates `let hero`, `let i`, and `let odd` into variables named\n-`let-hero`, `let-i`, and `let-odd`.\n-\n-* The microsyntax parser title-cases all directives and prefixes them with the directive's\n-attribute name, such as `ngFor`. For example, the `ngFor` input properties,\n-`of` and `trackBy`, become `ngForOf` and `ngForTrackBy`, respectively.\n-That's how the directive learns that the list is `heroes` and the track-by function is `trackById`.\n-\n-* As the `NgFor` directive loops through the list, it sets and resets properties of its own _context_ object.\n+The parser applies PascalCase to all directives and prefixes them with the directive's attribute name, such as ngFor.\n+For example, the `ngFor` input properties, `of` and `trackBy`, map to `ngForOf` and `ngForTrackBy`.\n+As the `NgFor` directive loops through the list, it sets and resets properties of its own context object.\n These properties can include, but aren't limited to, `index`, `odd`, and a special property\n named `$implicit`.\n \n-* The `let-i` and `let-odd` variables were defined as `let i=index` and `let odd=odd`.\n-Angular sets them to the current value of the context's `index` and `odd` properties.\n-\n-* The context property for `let-hero` wasn't specified.\n-Its intended source is implicit.\n-Angular sets `let-hero` to the value of the context's `$implicit` property,\n-which `NgFor` has initialized with the hero for the current iteration.\n-\n-* The [`NgFor` API guide](api/common/NgForOf \"API: NgFor\")\n-describes additional `NgFor` directive properties and context properties.\n+Angular sets `let-hero` to the value of the context's `$implicit` property, which `NgFor` has initialized with the hero for the current iteration.\n \n-* The `NgForOf` directive implements `NgFor`. Read more about additional `NgForOf` directive properties and context properties in the [NgForOf API reference](api/common/NgForOf).\n+For more information, see the [NgFor API](api/common/NgForOf \"API: NgFor\") and [NgForOf API](api/common/NgForOf) documentation.\n \n-### Writing your own structural directives\n+### Creating template fragments with `<ng-template>`\n \n-These microsyntax mechanisms are also available to you when you write your own structural directives.\n-For example, microsyntax in Angular allows you to write `<div *ngFor=\"let item of items\">{{item}}</div>`\n-instead of `<ng-template ngFor let-item [ngForOf]=\"items\"><div>{{item}}</div></ng-template>`.\n-The following sections provide detailed information on constraints, grammar,\n-and translation of microsyntax.\n+Angular's `<ng-template>` element defines a template that doesn't render anything by default.\n+With `<ng-template>`, you can render the content manually for full control over how the content displays.\n \n-### Constraints\n+If there is no structural directive and you wrap some elements in an `<ng-template>`, those elements disappear.\n+In the following example, Angular does not render the middle \"Hip!\" in the phrase \"Hip! Hip! Hooray!\" because of the surrounding `<ng-template>`.\n \n-Microsyntax must meet the following requirements:\n+<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (template-tag)\" region=\"template-tag\"></code-example>\n \n-- It must be known ahead of time so that IDEs can parse it without knowing the underlying semantics of the directive or what directives are present.\n-- It must translate to key-value attributes in the DOM.\n+<div class=\"lightbox\">\n+  <img src='generated/images/guide/structural-directives/template-rendering.png' alt=\"template tag rendering\">\n+</div>\n \n-### Grammar\n+## Structural directive syntax reference\n \n-When you write your own structural directives, use the following grammar:\n+When you write your own structural directives, use the following syntax:\n \n ```\n *:prefix=\"( :let | :expression ) (';' | ',')? ( :let | :as | :keyExp )*\"\n ```\n \n-The following tables describe each portion of the microsyntax grammar.\n-\n-<!-- What should I put in the table headers? -->\n+The following tables describe each portion of the structural directive grammar:\n \n <table>\n-  <tr>\n-    <th></th>\n-    <th></th>\n-  </tr>\n+\n   <tr>\n     <td><code>prefix</code></td>\n     <td>HTML attribute key</td>\n@@ -347,7 +188,6 @@ The following tables describe each portion of the microsyntax grammar.\n   </tr>\n </table>\n \n-<!-- The items in this table seem different. Is there another name for how we should describe them? -->\n <table>\n   <tr>\n     <th></th>\n@@ -363,15 +203,13 @@ The following tables describe each portion of the microsyntax grammar.\n   </tr>\n </table>\n \n+### How Angular translates shorthand\n \n-### Translation\n-\n-A microsyntax is translated to the normal binding syntax as follows:\n+Angular translates structural directive shorthand into the normal binding syntax as follows:\n \n-<!-- What to put in the table headers below? Are these correct?-->\n <table>\n   <tr>\n-    <th>Microsyntax</th>\n+    <th>Shorthand</th>\n     <th>Translation</th>\n   </tr>\n   <tr>\n@@ -393,14 +231,14 @@ A microsyntax is translated to the normal binding syntax as follows:\n   </tr>\n </table>\n \n-### Microsyntax examples\n+### Shorthand examples\n \n-The following table demonstrates how Angular desugars microsyntax.\n+The following table provides shorthand examples:\n \n <table>\n   <tr>\n-    <th>Microsyntax</th>\n-    <th>Desugared</th>\n+    <th>Shorthand</th>\n+    <th>How Angular interprets the syntax</th>\n   </tr>\n   <tr>\n     <td><code>*ngFor=\"let item of [1,2,3]\"</code></td>\n@@ -421,456 +259,40 @@ The following table demonstrates how Angular desugars microsyntax.\n   </tr>\n </table>\n \n-Studying the\n-[source code for `NgIf`](https://github.com/angular/angular/blob/master/packages/common/src/directives/ng_if.ts \"Source: NgIf\")\n-and [`NgForOf`](https://github.com/angular/angular/blob/master/packages/common/src/directives/ng_for_of.ts \"Source: NgForOf\")\n-is a great way to learn more.\n-\n-\n-{@a template-input-variable}\n-\n-\n-{@a template-input-variables}\n-\n-\n-## Template input variable\n-\n-A _template input variable_ is a variable whose value you can reference _within_ a single instance of the template.\n-There are several such variables in this example: `hero`, `i`, and `odd`.\n-All are preceded by the keyword `let`.\n-\n-A _template input variable_ is **_not_** the same as a\n-[template _reference_ variable](guide/template-reference-variables),\n-neither _semantically_ nor _syntactically_.\n-\n-You declare a template _input_ variable using the `let` keyword (`let hero`).\n-The variable's scope is limited to a _single instance_ of the repeated template.\n-You can use the same variable name again in the definition of other structural directives.\n-\n-You declare a template _reference_ variable by prefixing the variable name with `#` (`#var`).\n-A _reference_ variable refers to its attached element, component or directive.\n-It can be accessed _anywhere_ in the _entire template_.\n-\n-Template _input_ and _reference_ variable names have their own namespaces. The `hero` in `let hero` is never the same\n-variable as the `hero` declared as `#hero`.\n-\n-\n-{@a one-per-element}\n-\n-\n-## One structural directive per host element\n-\n-Someday you'll want to repeat a block of HTML but only when a particular condition is true.\n-You'll _try_ to put both an `*ngFor` and an `*ngIf` on the same host element.\n-Angular won't let you. You may apply only one _structural_ directive to an element.\n-\n-The reason is simplicity. Structural directives can do complex things with the host element and its descendents.\n-When two directives lay claim to the same host element, which one takes precedence?\n-Which should go first, the `NgIf` or the `NgFor`? Can the `NgIf` cancel the effect of the `NgFor`?\n-If so (and it seems like it should be so), how should Angular generalize the ability to cancel for other structural directives?\n-\n-There are no easy answers to these questions. Prohibiting multiple structural directives makes them moot.\n-There's an easy solution for this use case: put the `*ngIf` on a container element that wraps the `*ngFor` element.\n-One or both elements can be an [`ng-container`](guide/structural-directives#ngcontainer) so you don't have to introduce extra levels of HTML.\n-\n-\n-{@a ngSwitch}\n-\n-\n-\n-## Inside _NgSwitch_ directives\n-\n-The Angular _NgSwitch_ is actually a set of cooperating directives: `NgSwitch`, `NgSwitchCase`, and `NgSwitchDefault`.\n-\n-Here's an example.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngswitch)\" region=\"ngswitch\"></code-example>\n-\n-\n-\n-The switch value assigned to `NgSwitch` (`hero.emotion`) determines which\n-(if any) of the switch cases are displayed.\n-\n-`NgSwitch` itself is not a structural directive.\n-It's an _attribute_ directive that controls the behavior of the other two switch directives.\n-That's why you write `[ngSwitch]`, never `*ngSwitch`.\n-\n-`NgSwitchCase` and `NgSwitchDefault` _are_ structural directives.\n-You attach them to elements using the asterisk (*) prefix notation.\n-An `NgSwitchCase` displays its host element when its value matches the switch value.\n-The `NgSwitchDefault` displays its host element when no sibling `NgSwitchCase` matches the switch value.\n-\n-\n-<div class=\"alert is-helpful\">\n-\n-\n-\n-The element to which you apply a directive is its _host_ element.\n-The `<happy-hero>` is the host element for the happy `*ngSwitchCase`.\n-The `<unknown-hero>` is the host element for the `*ngSwitchDefault`.\n-\n-\n-</div>\n-\n-\n-\n-As with other structural directives, the `NgSwitchCase` and `NgSwitchDefault`\n-can be desugared into the `<ng-template>` element form.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngswitch-template)\" region=\"ngswitch-template\"></code-example>\n-\n-\n-\n-{@a prefer-asterisk}\n-\n-\n-## Prefer the asterisk (*) syntax.\n-\n-The asterisk (*) syntax is more clear than the desugared form.\n-Use [&lt;ng-container&gt;](guide/structural-directives#ng-container) when there's no single element\n-to host the directive.\n-\n-While there's rarely a good reason to apply a structural directive in template _attribute_ or _element_ form,\n-it's still important to know that Angular creates a `<ng-template>` and to understand how it works.\n-You'll refer to the `<ng-template>` when you [write your own structural directive](guide/structural-directives#unless).\n-\n-\n-{@a template}\n-\n-\n-\n-## The *&lt;ng-template&gt;*\n-\n-The &lt;ng-template&gt; is an Angular element for rendering HTML.\n-It is never displayed directly.\n-In fact, before rendering the view, Angular _replaces_ the `<ng-template>` and its contents with a comment.\n-\n-If there is no structural directive and you merely wrap some elements in a `<ng-template>`,\n-those elements disappear.\n-That's the fate of the middle \"Hip!\" in the phrase \"Hip! Hip! Hooray!\".\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (template-tag)\" region=\"template-tag\"></code-example>\n-\n-\n-\n-Angular erases the middle \"Hip!\", leaving the cheer a bit less enthusiastic.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/template-rendering.png' alt=\"template tag rendering\">\n-</div>\n-\n-\n-\n-A structural directive puts a `<ng-template>` to work\n-as you'll see when you [write your own structural directive](guide/structural-directives#unless).\n-\n-\n-{@a ngcontainer}\n-\n-\n-{@a ng-container}\n-\n-\n-\n-## Group sibling elements with &lt;ng-container&gt;\n-\n-There's often a _root_ element that can and should host the structural directive.\n-The list element (`<li>`) is a typical host element of an `NgFor` repeater.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngfor-li)\" region=\"ngfor-li\"></code-example>\n-\n-\n-\n-When there isn't a host element, you can usually wrap the content in a native HTML container element,\n-such as a `<div>`, and attach the directive to that wrapper.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngif)\" region=\"ngif\"></code-example>\n-\n-\n-\n-Introducing another container element&mdash;typically a `<span>` or `<div>`&mdash;to\n-group the elements under a single _root_ is usually harmless.\n-_Usually_ ... but not _always_.\n-\n-The grouping element may break the template appearance because CSS styles\n-neither expect nor accommodate the new layout.\n-For example, suppose you have the following paragraph layout.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngif-span)\" region=\"ngif-span\"></code-example>\n-\n-\n-\n-You also have a CSS style rule that happens to apply to a `<span>` within a `<p>`aragraph.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.css\" header=\"src/app/app.component.css (p-span)\" region=\"p-span\"></code-example>\n-\n-\n-\n-The constructed paragraph renders strangely.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/bad-paragraph.png' alt=\"spanned paragraph with bad style\">\n-</div>\n-\n-\n-\n-The `p span` style, intended for use elsewhere, was inadvertently applied here.\n-\n-Another problem: some HTML elements require all immediate children to be of a specific type.\n-For example, the `<select>` element requires `<option>` children.\n-You can't wrap the _options_ in a conditional `<div>` or a `<span>`.\n-\n-When you try this,\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (select-span)\" region=\"select-span\"></code-example>\n-\n-\n-\n-the drop down is empty.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/bad-select.png' alt=\"spanned options don't work\">\n-</div>\n-\n-\n-\n-The browser won't display an `<option>` within a `<span>`.\n-\n-### &lt;ng-container&gt; to the rescue\n-\n-The Angular `<ng-container>` is a grouping element that doesn't interfere with styles or layout\n-because Angular _doesn't put it in the DOM_.\n-\n-Here's the conditional paragraph again, this time using `<ng-container>`.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (ngif-ngcontainer)\" region=\"ngif-ngcontainer\"></code-example>\n-\n-\n-\n-It renders properly.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/good-paragraph.png' alt=\"ngcontainer paragraph with proper style\">\n-</div>\n-\n-\n-\n-Now conditionally exclude a _select_ `<option>` with `<ng-container>`.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (select-ngcontainer)\" region=\"select-ngcontainer\"></code-example>\n-\n-\n-\n-The drop down works properly.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/select-ngcontainer-anim.gif' alt=\"ngcontainer options work properly\">\n-</div>\n-\n-<div class=\"alert is-helpful\">\n-\n-**Note:** Remember that ngModel directive is defined as a part of Angular FormsModule and you need to include FormsModule in the imports: [...] section of the Angular module metadata, in which you want to use it.\n-\n-</div>\n-\n-\n-The `<ng-container>` is a syntax element recognized by the Angular parser.\n-It's not a directive, component, class, or interface.\n-It's more like the curly braces in a JavaScript `if`-block:\n-\n-\n-<code-example language=\"javascript\">\n-  if (someCondition) {\n-    statement1;\n-    statement2;\n-    statement3;\n-  }\n-\n-</code-example>\n-\n-\n-\n-Without those braces, JavaScript would only execute the first statement\n-when you intend to conditionally execute all of them as a single block.\n-The `<ng-container>` satisfies a similar need in Angular templates.\n-\n-\n-{@a unless}\n-\n-\n-\n-## Write a structural directive\n-\n-In this section, you write an `UnlessDirective` structural directive\n-that does the opposite of `NgIf`.\n-`NgIf` displays the template content when the condition is `true`.\n-`UnlessDirective` displays the content when the condition is ***false***.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (appUnless-1)\" region=\"appUnless-1\"></code-example>\n-\n-\n-\n-Creating a directive is similar to creating a component.\n-\n-* Import the `Directive` decorator (instead of the `Component` decorator).\n-\n-* Import the `Input`, `TemplateRef`, and `ViewContainerRef` symbols; you'll need them for _any_ structural directive.\n-\n-* Apply the decorator to the directive class.\n-\n-* Set the CSS *attribute selector* that identifies the directive when applied to an element in a template.\n-\n-Here's how you might begin:\n-\n-\n-<code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (skeleton)\" region=\"skeleton\"></code-example>\n-\n-\n-\n-The directive's _selector_ is typically the directive's **attribute name** in square brackets, `[appUnless]`.\n-The brackets define a CSS\n-<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors\" title=\"MDN: Attribute selectors\">attribute selector</a>.\n-\n-The directive _attribute name_ should be spelled in _lowerCamelCase_ and begin with a prefix.\n-Don't use `ng`. That prefix belongs to Angular.\n-Pick something short that fits you or your company.\n-In this example, the prefix is `app`.\n-\n-\n-The directive _class_ name ends in `Directive` per the [style guide](guide/styleguide#02-03 \"Angular Style Guide\").\n-Angular's own directives do not.\n-\n-### _TemplateRef_ and _ViewContainerRef_\n-\n-A simple structural directive like this one creates an\n-[_embedded view_](api/core/EmbeddedViewRef \"API: EmbeddedViewRef\")\n-from the Angular-generated `<ng-template>` and inserts that view in a\n-[_view container_](api/core/ViewContainerRef \"API: ViewContainerRef\")\n-adjacent to the directive's original `<p>` host element.\n-\n-You'll acquire the `<ng-template>` contents with a\n-[`TemplateRef`](api/core/TemplateRef \"API: TemplateRef\")\n-and access the _view container_ through a\n-[`ViewContainerRef`](api/core/ViewContainerRef \"API: ViewContainerRef\").\n-\n-You inject both in the directive constructor as private variables of the class.\n-\n-\n-<code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (ctor)\" region=\"ctor\"></code-example>\n-\n-\n-\n-### The _appUnless_ property\n-\n-The directive consumer expects to bind a true/false condition to `[appUnless]`.\n-That means the directive needs an `appUnless` property, decorated with `@Input`\n-\n-\n-<div class=\"alert is-helpful\">\n-\n-\n-\n-Read about `@Input` in the [`@Input()` and `@Output()` properties](guide/inputs-outputs) guide.\n-\n-\n-</div>\n-\n-\n-\n-<code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (set)\" region=\"set\"></code-example>\n-\n-\n-\n-Angular sets the `appUnless` property whenever the value of the condition changes.\n-Because the `appUnless` property does work, it needs a setter.\n-\n-* If the condition is falsy and the view hasn't been created previously,\n-tell the _view container_ to create the _embedded view_ from the template.\n-\n-* If the condition is truthy and the view is currently displayed,\n-clear the container which also destroys the view.\n-\n-Nobody reads the `appUnless` property so it doesn't need a getter.\n-\n-The completed directive code looks like this:\n-\n-\n-<code-example path=\"structural-directives/src/app/unless.directive.ts\" header=\"src/app/unless.directive.ts (excerpt)\" region=\"no-docs\"></code-example>\n-\n-\n-\n-Add this directive to the `declarations` array of the AppModule.\n-\n-Then create some HTML to try it.\n-\n-\n-<code-example path=\"structural-directives/src/app/app.component.html\" header=\"src/app/app.component.html (appUnless)\" region=\"appUnless\"></code-example>\n-\n-\n-\n-When the `condition` is falsy, the top (A) paragraph appears and the bottom (B) paragraph disappears.\n-When the `condition` is truthy, the top (A) paragraph is removed and the bottom (B) paragraph appears.\n-\n-\n-<div class=\"lightbox\">\n-  <img src='generated/images/guide/structural-directives/unless-anim.gif' alt=\"UnlessDirective in action\">\n-</div>\n-\n {@a directive-type-checks}\n \n+<!-- To do follow up PR: move this section to a more general location because it also applies to attribute directives. -->\n ## Improving template type checking for custom directives\n \n You can improve template type checking for custom directives by adding template guard properties to your directive definition.\n-These properties help the Angular template type checker find mistakes in the template at compile time, which can avoid runtime errors those mistakes can cause.\n-\n-Use the type-guard properties to inform the template type checker of an expected type, thus improving compile-time type-checking for that template.\n+These properties help the Angular template type checker find mistakes in the template at compile time, which can avoid runtime errors.\n+These properties are as follows:\n \n * A property `ngTemplateGuard_(someInputProperty)` lets you specify a more accurate type for an input expression within the template.\n * The `ngTemplateContextGuard` static property declares the type of the template context.\n \n-This section provides example of both kinds of type-guard property.\n-\n-<div class=\"alert is-helpful\">\n-\n-   For more information, see [Template type checking guide](guide/template-typecheck \"Template type-checking guide\").\n-\n-</div>\n+This section provides examples of both kinds of type-guard property.\n+For more information, see [Template type checking](guide/template-typecheck \"Template type-checking guide\").\n \n {@a narrowing-input-types}\n \n-### Make in-template type requirements more specific with template guards\n+### Making in-template type requirements more specific with template guards\n \n A structural directive in a template controls whether that template is rendered at run time, based on its input expression.\n To help the compiler catch template type errors, you should specify as closely as possible the required type of a directive's input expression when it occurs inside the template.\n \n-A type guard function *narrows* the expected type of an input expression to a subset of types that might be passed to the directive within the template at run time.\n+A type guard function narrows the expected type of an input expression to a subset of types that might be passed to the directive within the template at run time.\n You can provide such a function to help the type-checker infer the proper type for the expression at compile time.\n \n For example, the `NgIf` implementation uses type-narrowing to ensure that the\n template is only instantiated if the input expression to `*ngIf` is truthy.\n To provide the specific type requirement, the `NgIf` directive defines a [static property `ngTemplateGuard_ngIf: 'binding'`](api/common/NgIf#static-properties).\n The `binding` value is a special case for a common kind of type-narrowing where the input expression is evaluated in order to satisfy the type requirement.\n \n-To provide a more specific type for an input expression to a directive within the template, add a `ngTemplateGuard_xx` property to the directive, where the suffix to the static property name is the `@Input` field name.\n-The value of the property can be either a general type-narrowing function based on its return type, or the string `\"binding\"` as in the case of `NgIf`.\n+To provide a more specific type for an input expression to a directive within the template, add an `ngTemplateGuard_xx` property to the directive, where the suffix to the static property name, `xx`, is the `@Input()` field name.\n+The value of the property can be either a general type-narrowing function based on its return type, or the string `\"binding\"`, as in the case of `NgIf`.\n \n-For example, consider the following structural directive that takes the result of a template expression as an input.\n+For example, consider the following structural directive that takes the result of a template expression as an input:\n \n <code-example language=\"ts\" header=\"IfLoadedDirective\">\n export type Loaded<T> = { type: 'loaded', data: T };\n@@ -916,59 +338,3 @@ export class ExampleDirective {\n     // \n }\n </code-example>\n-\n-\n-\n-{@a summary}\n-\n-\n-\n-## Summary\n-\n-You can both try and download the source code for this guide in the <live-example></live-example>.\n-\n-Here is the source from the `src/app/` folder.\n-\n-\n-<code-tabs>\n-\n-  <code-pane header=\"app.component.ts\" path=\"structural-directives/src/app/app.component.ts\">\n-\n-  </code-pane>\n-\n-  <code-pane header=\"app.component.html\" path=\"structural-directives/src/app/app.component.html\">\n-\n-  </code-pane>\n-\n-  <code-pane header=\"app.component.css\" path=\"structural-directives/src/app/app.component.css\">\n-\n-  </code-pane>\n-\n-  <code-pane header=\"app.module.ts\" path=\"structural-directives/src/app/app.module.ts\">\n-\n-  </code-pane>\n-\n-  <code-pane header=\"hero.ts\" path=\"structural-directives/src/app/hero.ts\">\n-\n-  </code-pane>\n-\n-  <code-pane header=\"hero-switch.components.ts\" path=\"structural-directives/src/app/hero-switch.components.ts\">\n-\n-  </code-pane>\n-\n-  <code-pane header=\"unless.directive.ts\" path=\"structural-directives/src/app/unless.directive.ts\">\n-\n-  </code-pane>\n-\n-</code-tabs>\n-\n-\n-\n-You learned:\n-\n-* that structural directives manipulate HTML layout.\n-* to use [`<ng-container>`](guide/structural-directives#ngcontainer) as a grouping element when there is no suitable host element.\n-* that the Angular desugars [asterisk (*) syntax](guide/structural-directives#asterisk) into a `<ng-template>`.\n-* how that works for the `NgIf`, `NgFor` and `NgSwitch` built-in directives.\n-* about the [_microsyntax_](guide/structural-directives#microsyntax) that expands into a [`<ng-template>`](guide/structural-directives#template).\n-* to write a [custom structural directive](guide/structural-directives#unless), `UnlessDirective`."
        },
        {
            "sha": "fc0d91d8ee0049f0f1a6137840a7b14a57c5b52d",
            "filename": "aio/content/guide/template-reference-variables.md",
            "status": "modified",
            "additions": 19,
            "deletions": 1,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Ftemplate-reference-variables.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Ftemplate-reference-variables.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Ftemplate-reference-variables.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -36,7 +36,7 @@ Angular assigns a template variable a value based on where you declare the varia\n * If you declare the variable on a component, the variable refers to the component instance.\n * If you declare the variable on a standard HTML tag, the variable refers to the element.\n * If you declare the variable on an `<ng-template>` element, the variable refers to a `TemplateRef` instance, which represents the template.\n-  For more information on `<ng-template>`, see the [ng-template](guide/structural-directives#the-ng-template) section of [Structural directives](guide/structural-directives).\n+  For more information on `<ng-template>`, see [How Angular uses the asterisk, `*`, syntax](guide/structural-directives#asterisk) in [Structural directives](guide/structural-directives).\n * If the variable specifies a name on the right-hand side, such as `#var=\"ngModel\"`, the variable refers to the directive or component on the element with a matching `exportAs` name.\n <!-- What does the second half of this mean?^^ Can we explain this more fully? Could I see a working example? -kw -->\n \n@@ -152,3 +152,21 @@ name: \"TemplateRef\"\n __proto__: Function\n \n </code-example>\n+\n+{@a template-input-variable}\n+{@a template-input-variables}\n+## Template input variable\n+\n+A _template input variable_ is a variable you can reference within a single instance of the template.\n+You declare a template input variable using the `let` keyword as in `let hero`.\n+\n+There are several such variables in this example: `hero`, `i`, and `odd`.\n+\n+The variable's scope is limited to a single instance of the repeated template.\n+You can use the same variable name again in the definition of other structural directives.\n+\n+In contrast, you declare a template variable by prefixing the variable name with `#`, as in `#var`.\n+A template variable refers to its attached element, component, or directive.\n+\n+Template input variables and template variables names have their own namespaces.\n+The template input variable `hero` in `let hero` is distinct from the template variable `hero` in `#hero`."
        },
        {
            "sha": "ca189f13651466ad69c6457a23f0555e94b11c71",
            "filename": "aio/content/guide/template-statements.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Ftemplate-statements.md",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/aio%2Fcontent%2Fguide%2Ftemplate-statements.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Ftemplate-statements.md?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -50,7 +50,7 @@ For example, `deleteHero()` of `(click)=\"deleteHero()\"` is a method of the compo\n \n The statement context may also refer to properties of the template's own context.\n In the following example, the component's event handling method, `onSave()` takes the template's own `$event` object as an argument.\n-On the next two lines, the `deleteHero()` method takes a [template input variable](guide/structural-directives#template-input-variable), `hero`, and `onSubmit()` takes a [template reference variable](guide/template-reference-variables), `#heroForm`.\n+On the next two lines, the `deleteHero()` method takes a [template input variable](guide/structural-directives#shorthand), `hero`, and `onSubmit()` takes a [template reference variable](guide/template-reference-variables), `#heroForm`.\n \n <code-example path=\"template-syntax/src/app/app.component.html\" region=\"context-var-statement\" header=\"src/app/app.component.html\"></code-example>\n "
        },
        {
            "sha": "174655f221c34828ffb56d768d7941cb698ae85f",
            "filename": "aio/content/images/guide/structural-directives/hero-div-in-dom.png",
            "status": "removed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/356d9a05379b083dd66348bc869a0f327fc25de6/aio%2Fcontent%2Fimages%2Fguide%2Fstructural-directives%2Fhero-div-in-dom.png",
            "raw_url": "https://github.com/angular/angular/raw/356d9a05379b083dd66348bc869a0f327fc25de6/aio%2Fcontent%2Fimages%2Fguide%2Fstructural-directives%2Fhero-div-in-dom.png",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fimages%2Fguide%2Fstructural-directives%2Fhero-div-in-dom.png?ref=356d9a05379b083dd66348bc869a0f327fc25de6"
        },
        {
            "sha": "c39daa3c82faf4ac95f7aa4ca60a131d35c1e719",
            "filename": "packages/common/src/directives/ng_for_of.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/packages%2Fcommon%2Fsrc%2Fdirectives%2Fng_for_of.ts",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/packages%2Fcommon%2Fsrc%2Fdirectives%2Fng_for_of.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fdirectives%2Fng_for_of.ts?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -38,7 +38,7 @@ export class NgForOfContext<T, U extends NgIterable<T> = NgIterable<T>> {\n  * of the cloned templates.\n  *\n  * The `ngForOf` directive is generally used in the\n- * [shorthand form](guide/structural-directives#the-asterisk--prefix) `*ngFor`.\n+ * [shorthand form](guide/structural-directives#asterisk) `*ngFor`.\n  * In this form, the template to be rendered for each iteration is the content\n  * of an anchor element containing the directive.\n  *\n@@ -67,11 +67,11 @@ export class NgForOfContext<T, U extends NgIterable<T> = NgIterable<T>> {\n  * context according to its lexical position.\n  *\n  * When using the shorthand syntax, Angular allows only [one structural directive\n- * on an element](guide/structural-directives#one-structural-directive-per-host-element).\n+ * on an element](guide/built-in-directives#one-per-element).\n  * If you want to iterate conditionally, for example,\n  * put the `*ngIf` on a container element that wraps the `*ngFor` element.\n  * For futher discussion, see\n- * [Structural Directives](guide/structural-directives#one-per-element).\n+ * [Structural Directives](guide/built-in-directives#one-per-element).\n  *\n  * @usageNotes\n  *\n@@ -133,7 +133,7 @@ export class NgForOfContext<T, U extends NgIterable<T> = NgIterable<T>> {\n export class NgForOf<T, U extends NgIterable<T> = NgIterable<T>> implements DoCheck {\n   /**\n    * The value of the iterable expression, which can be used as a\n-   * [template input variable](guide/structural-directives#template-input-variable).\n+   * [template input variable](guide/structural-directives#shorthand).\n    */\n   @Input()\n   set ngForOf(ngForOf: U&NgIterable<T>|undefined|null) {"
        },
        {
            "sha": "b9f22e960ca273025d993f1744aa7368734a50a4",
            "filename": "packages/common/src/directives/ng_if.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/packages%2Fcommon%2Fsrc%2Fdirectives%2Fng_if.ts",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/packages%2Fcommon%2Fsrc%2Fdirectives%2Fng_if.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fdirectives%2Fng_if.ts?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -17,7 +17,7 @@ import {Directive, EmbeddedViewRef, Input, TemplateRef, ViewContainerRef, stri\n  * Angular renders the template provided in an optional `else` clause. The default\n  * template for the `else` clause is blank.\n  *\n- * A [shorthand form](guide/structural-directives#the-asterisk--prefix) of the directive,\n+ * A [shorthand form](guide/structural-directives#asterisk) of the directive,\n  * `*ngIf=\"condition\"`, is generally used, provided\n  * as an attribute of the anchor element for the inserted template.\n  * Angular expands this into a more explicit version, in which the anchor element\n@@ -143,7 +143,7 @@ import {Directive, EmbeddedViewRef, Input, TemplateRef, ViewContainerRef, stri\n  *\n  * The presence of the implicit template object has implications for the nesting of\n  * structural directives. For more on this subject, see\n- * [Structural Directives](https://angular.io/guide/structural-directives#one-per-element).\n+ * [Structural Directives](https://angular.io/guide/built-in-directives#one-per-element).\n  *\n  * @ngModule CommonModule\n  * @publicApi"
        },
        {
            "sha": "6474911c1261c03875dae48ebb358f5edbd23cc6",
            "filename": "packages/language-service/src/completions.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/packages%2Flanguage-service%2Fsrc%2Fcompletions.ts",
            "raw_url": "https://github.com/angular/angular/raw/6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf/packages%2Flanguage-service%2Fsrc%2Fcompletions.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Fcompletions.ts?ref=6c783c7fcb2fd5401aab8d861a7e71839e5eb0bf",
            "patch": "@@ -511,7 +511,7 @@ class ExpressionVisitor extends NullTemplateVisitor {\n    * These directives allows declaration of \"let\" variables, adds context-specific\n    * symbols like $implicit, index, count, among other behaviors.\n    * For a complete description of such format, see\n-   * https://angular.io/guide/structural-directives#the-asterisk--prefix\n+   * https://angular.io/guide/structural-directives#asterisk\n    *\n    * @param attr descriptor for attribute name and value pair\n    * @param binding template binding for the expression in the attribute"
        }
    ],
    "stats": {
        "total": 943,
        "additions": 161,
        "deletions": 782
    }
}