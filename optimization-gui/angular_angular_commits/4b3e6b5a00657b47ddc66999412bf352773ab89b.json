{
    "author": "gkalpak",
    "message": "refactor(docs-infra): create mixin for styling marketing pages (#40881)\n\nPreviously, in order to apply some styles to marketing (i.e. non-docs)\npages, we listed the various `.page-*` classes that corresponded to docs\npages. This meant that adding/removing a marketing page required updates\nin several places, which is error-prone.\n\nThis commit avoids this by using a Sass mixin for applying styles to\nmarketing pages.\n\nPR Close #40881",
    "sha": "4b3e6b5a00657b47ddc66999412bf352773ab89b",
    "files": [
        {
            "sha": "da432e6ff5389d8166c4839d4a6f4cb0d5a15394",
            "filename": "aio/src/styles/0-base/_typography.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 8,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F0-base%2F_typography.scss",
            "raw_url": "https://github.com/angular/angular/raw/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F0-base%2F_typography.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F0-base%2F_typography.scss?ref=4b3e6b5a00657b47ddc66999412bf352773ab89b",
            "patch": "@@ -34,14 +34,7 @@ h2 {\n   margin-top: 4rem;\n   padding-top: 4rem;\n \n-  .page-about &,\n-  .page-api &,\n-  .page-contribute &,\n-  .page-events &,\n-  .page-features &,\n-  .page-home &,\n-  .page-presskit &,\n-  .page-resources & {\n+  @include marketing-pages($extraSelectors: ('.page-api'), $nestParentSelector: true) {\n     border-top: 0;\n     margin-top: 2rem;\n     padding-top: 0;"
        },
        {
            "sha": "ef21d43c4a02b835d6f23ed3870b80aefdc452cb",
            "filename": "aio/src/styles/1-layouts/_content-layout.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 8,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F1-layouts%2F_content-layout.scss",
            "raw_url": "https://github.com/angular/angular/raw/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F1-layouts%2F_content-layout.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F1-layouts%2F_content-layout.scss?ref=4b3e6b5a00657b47ddc66999412bf352773ab89b",
            "patch": "@@ -18,14 +18,7 @@\n     padding: 80px 1rem 1rem;\n   }\n \n-  .page-about &,\n-  .page-contribute &,\n-  .page-events &,\n-  .page-features &,\n-  .page-guide-cheatsheet &,\n-  .page-home &,\n-  .page-presskit &,\n-  .page-resources & {\n+  @include marketing-pages($extraSelectors: ('.page-guide-cheatsheet'), $nestParentSelector: true) {\n     max-width: none;\n   }\n "
        },
        {
            "sha": "b0b0d8f7f40679109944e107eeba497ab079d7bd",
            "filename": "aio/src/styles/1-layouts/_marketing-layout.scss",
            "status": "modified",
            "additions": 20,
            "deletions": 34,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F1-layouts%2F_marketing-layout.scss",
            "raw_url": "https://github.com/angular/angular/raw/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F1-layouts%2F_marketing-layout.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F1-layouts%2F_marketing-layout.scss?ref=4b3e6b5a00657b47ddc66999412bf352773ab89b",
            "patch": "@@ -261,49 +261,35 @@ section#intro {\n   }\n }\n \n-aio-shell {\n-  &.page-about,\n-  &.page-contribute,\n-  &.page-events,\n-  &.page-features,\n-  &.page-home,\n-  &.page-presskit,\n-  &.page-resources {\n-    .sidenav-content {\n-      padding: 0 0 3rem;\n-    }\n+@include marketing-pages {\n+  .sidenav-content {\n+    padding: 0 0 3rem;\n   }\n \n-  &.page-home {\n-    .sidenav-content {\n-      padding-bottom: 0;\n-    }\n-  }\n+  article {\n+    padding: 3rem;\n \n-  &.page-about,\n-  &.page-contribute,\n-  &.page-events,\n-  &.page-features,\n-  &.page-home,\n-  &.page-presskit,\n-  &.page-resources {\n-    article {\n-      padding: 3rem;\n-\n-      @media (max-width: 800px) {\n-        padding: 2.2rem;\n-      }\n+    @media (max-width: 800px) {\n+      padding: 2.2rem;\n     }\n   }\n+}\n \n-  .cta-bar .hero-cta {\n-    color: $blue;\n+.page-home {\n+  .sidenav-content {\n+    padding-bottom: 0;\n   }\n }\n \n-.cta-bar.announcement-bar {\n-  background: none;\n-  box-shadow: none;\n+.cta-bar {\n+  &.announcement-bar {\n+    background: none;\n+    box-shadow: none;\n+  }\n+\n+  .hero-cta {\n+    color: $blue;\n+  }\n }\n \n .text-headline {"
        },
        {
            "sha": "4dc7d5aa93842c3029db6ee1fcfaa3975a08992c",
            "filename": "aio/src/styles/1-layouts/_top-menu.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F1-layouts%2F_top-menu.scss",
            "raw_url": "https://github.com/angular/angular/raw/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F1-layouts%2F_top-menu.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F1-layouts%2F_top-menu.scss?ref=4b3e6b5a00657b47ddc66999412bf352773ab89b",
            "patch": "@@ -26,13 +26,7 @@ mat-toolbar.app-toolbar {\n   }\n \n   // MARKETING PAGES OVERRIDE: TOPNAV TOOLBAR AND HAMBURGER\n-  .page-about &,\n-  .page-contribute &,\n-  .page-events &,\n-  .page-features &,\n-  .page-home &,\n-  .page-presskit &,\n-  .page-resources & {\n+  @include marketing-pages($nestParentSelector: true) {\n     box-shadow: none;\n \n     // FIXED TOPNAV TOOLBAR FOR SMALL MOBILE"
        },
        {
            "sha": "7494602acc3a09f76f5c1cb0fce7c1ba08bfafca",
            "filename": "aio/src/styles/2-modules/_notification.scss",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F2-modules%2F_notification.scss",
            "raw_url": "https://github.com/angular/angular/raw/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F2-modules%2F_notification.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2F_notification.scss?ref=4b3e6b5a00657b47ddc66999412bf352773ab89b",
            "patch": "@@ -90,14 +90,10 @@ aio-notification {\n       }\n     }\n   }\n+}\n \n-  &.page-about,\n-  &.page-contribute,\n-  &.page-events,\n-  &.page-features,\n-  &.page-home,\n-  &.page-presskit,\n-  &.page-resources {\n+@include marketing-pages {\n+  &.aio-notification-show {\n     mat-sidenav-container.sidenav-container {\n       .sidenav-content {\n         padding-top: $notificationHeight;"
        },
        {
            "sha": "6b2fccf47ef6b74c4c3c815f670f4694132eafca",
            "filename": "aio/src/styles/_mixins.scss",
            "status": "modified",
            "additions": 55,
            "deletions": 0,
            "changes": 55,
            "blob_url": "https://github.com/angular/angular/blob/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F_mixins.scss",
            "raw_url": "https://github.com/angular/angular/raw/4b3e6b5a00657b47ddc66999412bf352773ab89b/aio%2Fsrc%2Fstyles%2F_mixins.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F_mixins.scss?ref=4b3e6b5a00657b47ddc66999412bf352773ab89b",
            "patch": "@@ -177,3 +177,58 @@\n     }\n   }\n }\n+\n+/// Define some styles for marketing (i.e. non-docs) pages.\n+///\n+/// @example scss - Example SCSS:\n+///   .foo {\n+///     @include marketing-pages {\n+///       .bar {\n+///         color: orange;\n+///       }\n+///     }\n+///   }\n+///\n+///   .baz {\n+///     @include marketing-pages($extraSelectors: ('.other-page'), $nestParentSelector: true) {\n+///       .qux {\n+///         color: orange;\n+///       }\n+///     }\n+///   }\n+///\n+/// @example css - Output CSS:\n+///   .foo .page-about .bar, .foo .page-contribute .bar, ... {\n+///     color: orange;\n+///   }\n+///\n+///   .page-about .baz .qux, .page-contribute .baz .qux, ..., .other-page .baz .qux {\n+///     color: orange;\n+///   }\n+///\n+/// @param {string[]} $extraSelectors\n+///   A list of additional page selectors to apply the styles to.\n+/// @param {boolean} $nestParentSelector\n+///   If true, the parent selector (`&`) is nested inside the marketing pages selectors.\n+@mixin marketing-pages($extraSelectors: (), $nestParentSelector: false) {\n+  $marketingPagesSelectors: (\n+    '.page-about',\n+    '.page-contribute',\n+    '.page-events',\n+    '.page-features',\n+    '.page-home',\n+    '.page-presskit',\n+    '.page-resources',\n+  );\n+  $selectors: join($marketingPagesSelectors, $extraSelectors, $separator: comma);\n+\n+  @if $nestParentSelector and & {\n+    @at-root #{selector-nest(#{$selectors}, &)} {\n+      @content;\n+    }\n+  } @else {\n+    #{$selectors} {\n+      @content;\n+    }\n+  }\n+}"
        }
    ],
    "stats": {
        "total": 145,
        "additions": 81,
        "deletions": 64
    }
}