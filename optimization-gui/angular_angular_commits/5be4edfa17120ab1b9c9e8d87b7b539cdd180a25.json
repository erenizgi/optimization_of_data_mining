{
    "author": "sonukapoor",
    "message": "fix(service-worker): fix condition to check for a cache-busted request (#36847)\n\nPreviously, the condition to make the cache busted was executing although\nthe network request was successful. However, this is not valid. The cache\nshould only be marked as busted when the request failed. This commit fixes\nthe invalid condition.\n\nPR Close #36847",
    "sha": "5be4edfa17120ab1b9c9e8d87b7b539cdd180a25",
    "files": [
        {
            "sha": "bfb8a664130e5b5d457d194e211bfacfecfdf4ea",
            "filename": "packages/service-worker/worker/src/assets.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5be4edfa17120ab1b9c9e8d87b7b539cdd180a25/packages%2Fservice-worker%2Fworker%2Fsrc%2Fassets.ts",
            "raw_url": "https://github.com/angular/angular/raw/5be4edfa17120ab1b9c9e8d87b7b539cdd180a25/packages%2Fservice-worker%2Fworker%2Fsrc%2Fassets.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2Fworker%2Fsrc%2Fassets.ts?ref=5be4edfa17120ab1b9c9e8d87b7b539cdd180a25",
            "patch": "@@ -393,8 +393,8 @@ export abstract class AssetGroup {\n       // reasons: either the non-cache-busted request failed (hopefully transiently) or if the\n       // hash of the content retrieved does not match the canonical hash from the manifest. It's\n       // only valid to access the content of the first response if the request was successful.\n-      let makeCacheBustedRequest: boolean = networkResult.ok;\n-      if (makeCacheBustedRequest) {\n+      let makeCacheBustedRequest: boolean = !networkResult.ok;\n+      if (networkResult.ok) {\n         // The request was successful. A cache-busted request is only necessary if the hashes\n         // don't match. Compare them, making sure to clone the response so it can be used later\n         // if it proves to be valid."
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}