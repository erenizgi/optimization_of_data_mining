{
    "author": "josephperrott",
    "message": "fix(bazel): update integration test to use rules_nodejs@3.1.0 (#40710)\n\nUpdate the integraiton tests for bazel to the latest rules_nodejs version.\n\nPR Close #40710",
    "sha": "34de89acbdcca4e2f4006ef27e57d0376a1815b6",
    "files": [
        {
            "sha": "0451524e6172f1a700b5d75f36133763d21368ab",
            "filename": "integration/bazel/.bazelrc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2F.bazelrc",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2F.bazelrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2F.bazelrc?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -25,4 +25,4 @@ build --symlink_prefix=/\n \n # Turn on managed directories feature in Bazel\n # This allows us to avoid installing a second copy of node_modules\n-common --experimental_allow_incremental_repository_updates\n+# common --experimental_allow_incremental_repository_updates"
        },
        {
            "sha": "fcdb2e109f68cff5600955a73908885fe8599bb4",
            "filename": "integration/bazel/.bazelversion",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2F.bazelversion",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2F.bazelversion",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2F.bazelversion?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -1 +1 @@\n-3.2.0\n+4.0.0"
        },
        {
            "sha": "8a7c6cd8801d319e437f0197642664be903a0b24",
            "filename": "integration/bazel/WORKSPACE",
            "status": "modified",
            "additions": 8,
            "deletions": 12,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2FWORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2FWORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2FWORKSPACE?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -5,18 +5,18 @@ load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n # Fetch rules_nodejs so we can install our npm dependencies\n http_archive(\n     name = \"build_bazel_rules_nodejs\",\n-    sha256 = \"9d93d4e1340c43dbf6b2fd66b683d89630a6310bf8be3bf40ec96685dcacc26c\",\n-    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/2.3.3/rules_nodejs-2.3.3.tar.gz\"],\n+    sha256 = \"dd4dc46066e2ce034cba0c81aa3e862b27e8e8d95871f567359f7a534cccb666\",\n+    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/3.1.0/rules_nodejs-3.1.0.tar.gz\"],\n )\n \n # Fetch sass rules for compiling sass files\n http_archive(\n     name = \"io_bazel_rules_sass\",\n-    sha256 = \"77e241148f26d5dbb98f96fe0029d8f221c6cb75edbb83e781e08ac7f5322c5f\",\n-    strip_prefix = \"rules_sass-1.24.0\",\n+    sha256 = \"596ab3616d370135e0ecc710e103422e0aa3719f1c970303a0886b70c81ee819\",\n+    strip_prefix = \"rules_sass-1.32.2\",\n     urls = [\n-        \"https://github.com/bazelbuild/rules_sass/archive/1.24.0.zip\",\n-        \"https://mirror.bazel.build/github.com/bazelbuild/rules_sass/archive/1.24.0.zip\",\n+        \"https://github.com/bazelbuild/rules_sass/archive/1.32.2.zip\",\n+        \"https://mirror.bazel.build/github.com/bazelbuild/rules_sass/archive/1.32.2.zip\",\n     ],\n )\n \n@@ -34,6 +34,7 @@ node_repositories(\n # Install our npm dependencies into @npm\n yarn_install(\n     name = \"npm\",\n+    frozen_lockfile = False,\n     package_json = \"//:package.json\",\n     # Turn off symlink_node_modules here as it causes flakiness with missing\n     # files in node_modules.\n@@ -48,11 +49,6 @@ load(\"@npm//@bazel/protractor:package.bzl\", \"npm_bazel_protractor_dependencies\")\n \n npm_bazel_protractor_dependencies()\n \n-# Load karma dependencies\n-load(\"@npm//@bazel/karma:package.bzl\", \"npm_bazel_karma_dependencies\")\n-\n-npm_bazel_karma_dependencies()\n-\n # Setup the rules_webtesting toolchain\n load(\"@io_bazel_rules_webtesting//web:repositories.bzl\", \"web_test_repositories\")\n \n@@ -66,6 +62,6 @@ browser_repositories(\n )\n \n # Setup the rules_sass toolchain\n-load(\"@io_bazel_rules_sass//sass:sass_repositories.bzl\", \"sass_repositories\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_repositories\")\n \n sass_repositories()"
        },
        {
            "sha": "8d63d0ff9d2f1c07fee5066b0747bb92986973b2",
            "filename": "integration/bazel/package.json",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2Fpackage.json?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -23,12 +23,14 @@\n     \"@angular/compiler\": \"file:../../dist/packages-dist/compiler\",\n     \"@angular/compiler-cli\": \"file:../../dist/packages-dist/compiler-cli\",\n     \"@bazel/bazelisk\": \"file:../../node_modules/@bazel/bazelisk\",\n-    \"@bazel/karma\": \"2.3.3\",\n-    \"@bazel/protractor\": \"2.3.3\",\n-    \"@bazel/rollup\": \"2.3.3\",\n-    \"@bazel/terser\": \"2.3.3\",\n-    \"@bazel/typescript\": \"2.3.3\",\n+    \"@bazel/protractor\": \"3.1.0\",\n+    \"@bazel/rollup\": \"3.1.0\",\n+    \"@bazel/concatjs\": \"3.1.0\",\n+    \"@bazel/terser\": \"3.1.0\",\n+    \"@bazel/typescript\": \"3.1.0\",\n     \"@types/jasmine\": \"2.8.8\",\n+    \"@types/node\": \"^12.11.1\",\n+    \"jasmine\": \"^3.5.0\",\n     \"http-server\": \"0.12.0\",\n     \"karma\": \"4.4.1\",\n     \"karma-chrome-launcher\": \"3.1.0\","
        },
        {
            "sha": "3bc5bc985cf50e92243f3c95c17c88081f70f4c4",
            "filename": "integration/bazel/src/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2Fsrc%2FBUILD.bazel?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -5,7 +5,7 @@ load(\"@npm//http-server:index.bzl\", \"http_server\")\n load(\"@npm//@angular/bazel:index.bzl\", \"ng_module\")\n load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n load(\"@npm//@bazel/terser:index.bzl\", \"terser_minified\")\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_devserver\")\n+load(\"@npm//@bazel/concatjs:index.bzl\", \"concatjs_devserver\")\n \n # Allow targets under sub-packages to reference the tsconfig.json file\n exports_files([\"tsconfig.json\"])\n@@ -35,7 +35,7 @@ filegroup(\n     ],\n )\n \n-ts_devserver(\n+concatjs_devserver(\n     name = \"devserver\",\n     entry_module = \"bazel_integration_test/src/main\",\n     scripts = ["
        },
        {
            "sha": "b8f506142fb9c166070dff4187351fec67e7775f",
            "filename": "integration/bazel/src/hello-world/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fsrc%2Fhello-world%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fsrc%2Fhello-world%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2Fsrc%2Fhello-world%2FBUILD.bazel?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -1,8 +1,7 @@\n package(default_visibility = [\"//visibility:public\"])\n \n-load(\"@npm//@bazel/karma:index.bzl\", \"karma_web_test_suite\")\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\")\n-load(\"@io_bazel_rules_sass//sass:sass.bzl\", \"sass_binary\")\n+load(\"@npm//@bazel/concatjs:index.bzl\", \"karma_web_test_suite\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n load(\"@npm//@angular/bazel:index.bzl\", \"ng_package\")\n load(\"//tools:ng_ts_library.bzl\", \"ng_ts_library\")\n \n@@ -31,7 +30,7 @@ ng_package(\n     deps = [\":hello-world\"],\n )\n \n-ts_library(\n+ng_ts_library(\n     name = \"test_lib\",\n     testonly = 1,\n     srcs = glob([\"*.spec.ts\"]),"
        },
        {
            "sha": "79201b5a1de6f0565298a4d699654508ad3951fc",
            "filename": "integration/bazel/yarn.lock",
            "status": "modified",
            "additions": 72,
            "deletions": 144,
            "changes": 216,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/integration%2Fbazel%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2Fyarn.lock?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -3,12 +3,10 @@\n \n \n \"@angular/animations@file:../../dist/packages-dist/animations\":\n-  version \"11.0.0-next.4\"\n-  dependencies:\n-    tslib \"^2.0.0\"\n+  version \"11.1.0-next.4\"\n \n \"@angular/bazel@file:../../dist/packages-dist/bazel\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     \"@microsoft/api-extractor\" \"^7.7.13\"\n     shelljs \"0.8.2\"\n@@ -24,12 +22,12 @@\n     parse5 \"^5.0.0\"\n \n \"@angular/common@file:../../dist/packages-dist/common\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n \"@angular/compiler-cli@file:../../dist/packages-dist/compiler-cli\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     \"@babel/core\" \"^7.8.6\"\n     \"@babel/types\" \"^7.8.6\"\n@@ -45,20 +43,20 @@\n     source-map \"^0.6.1\"\n     sourcemap-codec \"^1.4.8\"\n     tslib \"^2.0.0\"\n-    yargs \"15.3.0\"\n+    yargs \"^16.1.1\"\n \n \"@angular/compiler@file:../../dist/packages-dist/compiler\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n \"@angular/core@file:../../dist/packages-dist/core\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n \"@angular/forms@file:../../dist/packages-dist/forms\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n@@ -70,17 +68,17 @@\n     tslib \"^1.7.1\"\n \n \"@angular/platform-browser-dynamic@file:../../dist/packages-dist/platform-browser-dynamic\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n \"@angular/platform-browser@file:../../dist/packages-dist/platform-browser\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n \"@angular/router@file:../../dist/packages-dist/router\":\n-  version \"11.0.0-next.4\"\n+  version \"11.1.0-next.4\"\n   dependencies:\n     tslib \"^2.0.0\"\n \n@@ -259,34 +257,36 @@\n     to-fast-properties \"^2.0.0\"\n \n \"@bazel/bazelisk@file:../../node_modules/@bazel/bazelisk\":\n-  version \"1.4.0\"\n+  version \"1.7.3\"\n \n-\"@bazel/karma@2.2.0\":\n-  version \"2.2.0\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/karma/-/karma-2.2.0.tgz#9bf6f6f1aa5f12b25468b1cad5e4404138436600\"\n-  integrity sha512-qyVE7vZ/qaibmpmcRdjS0rlorLGR0zZtlUSImVVTcPTSXqt364fp8TWBWe7oOneJ1SOVyUmTOAzyE86ArxZ/AA==\n+\"@bazel/concatjs@3.0.0\":\n+  version \"3.0.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/concatjs/-/concatjs-3.0.0.tgz#8a8b0c90ffcea4ed74a7c8db8fd37af861df394e\"\n+  integrity sha512-JQTKFxWY6KQwfwqQRJCJtg8sQBN0ydTvV/5umTIC9wUz+1RdVRzGVtypYuY+V8wbTWB7Pt3cr+6eq9tPjPSFWQ==\n   dependencies:\n-    tmp \"0.1.0\"\n+    protobufjs \"6.8.8\"\n+    source-map-support \"0.5.9\"\n+    tsutils \"2.27.2\"\n \n-\"@bazel/protractor@2.2.0\":\n-  version \"2.2.0\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/protractor/-/protractor-2.2.0.tgz#721b06507b84bf6d61d0e843e0af9939c6ad35a4\"\n-  integrity sha512-7dvAXxf/rGoi+S4+DWg8HNx3Co9s0kMg1xnBJ4T4nPF5wqSEoItkR6wsjkjQyocA2kIXan+HQcQvw4iIDMhGmg==\n+\"@bazel/protractor@3.0.0\":\n+  version \"3.0.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/protractor/-/protractor-3.0.0.tgz#f1bc7daee3a6a3a2a7add091c45687f72863aee8\"\n+  integrity sha512-S1TS5llnhO9kf/81he2WD3dv+NoWbNnW5LQHZPPIcUO4Pv81XiF8YZ3AahY3wcpeR+r7wKnt2XO4qrOZt/gL9g==\n \n-\"@bazel/rollup@2.2.0\":\n-  version \"2.2.0\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/rollup/-/rollup-2.2.0.tgz#15651d545114e08db056f10a1eeaa4e76fc4df56\"\n-  integrity sha512-N4SyrvFkdAVc24CqFNhDtrR6P3XJTdPGziCuF7QM/BGihnsGlxF6+Dt2n5BTLJnObiB1St8vtRwCtAY8faxYWQ==\n+\"@bazel/rollup@3.0.0\":\n+  version \"3.0.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/rollup/-/rollup-3.0.0.tgz#6e424966d5ec41f6fcdbfbe25ec88d714f081b06\"\n+  integrity sha512-IEq+zbbzWC1hRsdCD/9UocznDJ5aNXlg+XcChM3+VJaloBCKoqAiGf337T6AkPZs3HuAlEHYMvqsRyEHxEQmtg==\n \n-\"@bazel/terser@2.2.0\":\n-  version \"2.2.0\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/terser/-/terser-2.2.0.tgz#e0452f3d20e41d5e63048b3eea3280256172fd30\"\n-  integrity sha512-vukKS9ayJsW/eFFX6tG2Blem+NmEWbcYuCXxwgjL/uYiMCL/uowaTpcvVp9B+DsNSXhGyohOYwud0nBreSUFzg==\n+\"@bazel/terser@3.0.0\":\n+  version \"3.0.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/terser/-/terser-3.0.0.tgz#20f3d278003e3263f8bf12334336845030d4b433\"\n+  integrity sha512-fODzVM2je+qOQTPzPf9wV/ifT31C3FAQJ3arFzl3+u+w992L+G6gdAE3ktJp/a5zfdTeLZfS9EW0xiD9fXi3uw==\n \n-\"@bazel/typescript@2.2.0\":\n-  version \"2.2.0\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/typescript/-/typescript-2.2.0.tgz#f2d3dce8715d574fe3146f19fdb8479abcc4d608\"\n-  integrity sha512-Thf8pXntBzE3EvJtyiTBNsfIf1QnYmGPQmUSGLcKUuuFoplUVYShMRHaxBoPZmYsnD/x+BFLgUKIzlXiEQpGqQ==\n+\"@bazel/typescript@3.0.0\":\n+  version \"3.0.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/typescript/-/typescript-3.0.0.tgz#7cb3bcf405c590228888be78b9e49d1dc298dfea\"\n+  integrity sha512-qYsfyi/+7QOFP9uVAv3gKaqkxo+fIamFrdQ71K85FlJSowxAkwj51pxOPnIWBcMzFVNv1p2ZyfM3ZctKqGye2g==\n   dependencies:\n     protobufjs \"6.8.8\"\n     semver \"5.6.0\"\n@@ -742,11 +742,6 @@ callsite@1.0.0:\n   resolved \"https://registry.yarnpkg.com/callsite/-/callsite-1.0.0.tgz#280398e5d664bd74038b6f0905153e6e8af1bc20\"\n   integrity sha1-KAOY5dZkvXQDi28JBRU+borxvCA=\n \n-camelcase@^5.0.0:\n-  version \"5.3.1\"\n-  resolved \"https://registry.yarnpkg.com/camelcase/-/camelcase-5.3.1.tgz#e3c9b31569e106811df242f715725a1f4c494320\"\n-  integrity sha512-L28STB170nwWS63UjtlEOE3dldQApaJXZkOI1uMFfzf3rRuPegHaHesyee+YxQ+W6SvRDQV6UrdOdRiR153wJg==\n-\n canonical-path@1.0.0:\n   version \"1.0.0\"\n   resolved \"https://registry.yarnpkg.com/canonical-path/-/canonical-path-1.0.0.tgz#fcb470c23958def85081856be7a86e904f180d1d\"\n@@ -792,14 +787,14 @@ chokidar@^3.0.0:\n   optionalDependencies:\n     fsevents \"~2.1.1\"\n \n-cliui@^6.0.0:\n-  version \"6.0.0\"\n-  resolved \"https://registry.yarnpkg.com/cliui/-/cliui-6.0.0.tgz#511d702c0c4e41ca156d7d0e96021f23e13225b1\"\n-  integrity sha512-t6wbgtoCXvAzst7QgXxJYqPt0usEfbgQdftEPbLL/cvv6HPE5VgvqCuAIDR0NgU52ds6rFwqrgakNLrHEjCbrQ==\n+cliui@^7.0.2:\n+  version \"7.0.4\"\n+  resolved \"https://registry.yarnpkg.com/cliui/-/cliui-7.0.4.tgz#a0265ee655476fc807aea9df3df8df7783808b4f\"\n+  integrity sha512-OcRE68cOsVMXp1Yvonl/fzkQOyjLSu/8bhPDfQt0e0/Eb283TKP20Fs2MqoPsr9SwA595rRCA+QMzYc9nBP+JQ==\n   dependencies:\n     string-width \"^4.2.0\"\n     strip-ansi \"^6.0.0\"\n-    wrap-ansi \"^6.2.0\"\n+    wrap-ansi \"^7.0.0\"\n \n color-convert@^1.9.0:\n   version \"1.9.3\"\n@@ -963,11 +958,6 @@ debug@~3.1.0:\n   dependencies:\n     ms \"2.0.0\"\n \n-decamelize@^1.2.0:\n-  version \"1.2.0\"\n-  resolved \"https://registry.yarnpkg.com/decamelize/-/decamelize-1.2.0.tgz#f6534d15148269b20352e7bee26f501f9a191290\"\n-  integrity sha1-9lNNFRSCabIDUue+4m9QH5oZEpA=\n-\n decode-uri-component@^0.2.0:\n   version \"0.2.0\"\n   resolved \"https://registry.yarnpkg.com/decode-uri-component/-/decode-uri-component-0.2.0.tgz#eb3913333458775cb84cd1a1fae062106bb87545\"\n@@ -1138,6 +1128,11 @@ es6-promisify@^5.0.0:\n   dependencies:\n     es6-promise \"^4.0.3\"\n \n+escalade@^3.1.1:\n+  version \"3.1.1\"\n+  resolved \"https://registry.yarnpkg.com/escalade/-/escalade-3.1.1.tgz#d8cfdc7000965c5a0174b4a82eaa5c0552742e40\"\n+  integrity sha512-k0er2gUkLf8O0zKJiAhmkTnJlTvINGv7ygDNPbeIsX/TJjGJZHuh9B2UxbsaEkmlEo9MfhrSzmhIlhRlI2GXnw==\n+\n escape-html@~1.0.3:\n   version \"1.0.3\"\n   resolved \"https://registry.yarnpkg.com/escape-html/-/escape-html-1.0.3.tgz#0258eae4d3d0c0974de1c169188ef0051d1d1988\"\n@@ -1208,14 +1203,6 @@ finalhandler@1.1.2:\n     statuses \"~1.5.0\"\n     unpipe \"~1.0.0\"\n \n-find-up@^4.1.0:\n-  version \"4.1.0\"\n-  resolved \"https://registry.yarnpkg.com/find-up/-/find-up-4.1.0.tgz#97afe7d6cdc0bc5928584b7c8d7b16e8a9aa5d19\"\n-  integrity sha512-PpOwAdQ/YlXQ2vj8a3h8IipDuYRi3wceVQQGYWxNINccq40Anw7BlsEXCMbt1Zt+OLA6Fq9suIpIWD0OsnISlw==\n-  dependencies:\n-    locate-path \"^5.0.0\"\n-    path-exists \"^4.0.0\"\n-\n flatted@^2.0.0:\n   version \"2.0.1\"\n   resolved \"https://registry.yarnpkg.com/flatted/-/flatted-2.0.1.tgz#69e57caa8f0eacbc281d2e2cb458d46fdb449e08\"\n@@ -1280,7 +1267,7 @@ gensync@^1.0.0-beta.1:\n   resolved \"https://registry.yarnpkg.com/gensync/-/gensync-1.0.0-beta.1.tgz#58f4361ff987e5ff6e1e7a210827aa371eaac269\"\n   integrity sha512-r8EC6NO1sngH/zdD9fiRDLdcgnbayXah+mLgManTaIZJqEC1MZstmnox8KpnI2/fxQwrp5OpCOYWLp4rBl4Jcg==\n \n-get-caller-file@^2.0.1:\n+get-caller-file@^2.0.5:\n   version \"2.0.5\"\n   resolved \"https://registry.yarnpkg.com/get-caller-file/-/get-caller-file-2.0.5.tgz#4f94412a82db32f36e3b0b9741f8a97feb031f7e\"\n   integrity sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==\n@@ -1783,13 +1770,6 @@ lie@~3.3.0:\n   dependencies:\n     immediate \"~3.0.5\"\n \n-locate-path@^5.0.0:\n-  version \"5.0.0\"\n-  resolved \"https://registry.yarnpkg.com/locate-path/-/locate-path-5.0.0.tgz#1afba396afd676a6d42504d0a67a3a7eb9f62aa0\"\n-  integrity sha512-t7hw9pI+WvuwNJXwk5zVHpyhIqzg2qTlklJOf0mVxGSbe3Fp2VieZcduNYjaLDoy6p9uGpQEGWG87WpMKlNq8g==\n-  dependencies:\n-    p-locate \"^4.1.0\"\n-\n lodash.get@^4.0.0:\n   version \"4.4.2\"\n   resolved \"https://registry.yarnpkg.com/lodash.get/-/lodash.get-4.4.2.tgz#2d177f652fa31e939b4438d5341499dfa3825e99\"\n@@ -1987,25 +1967,6 @@ os-tmpdir@~1.0.1, os-tmpdir@~1.0.2:\n   resolved \"https://registry.yarnpkg.com/os-tmpdir/-/os-tmpdir-1.0.2.tgz#bbe67406c79aa85c5cfec766fe5734555dfa1274\"\n   integrity sha1-u+Z0BseaqFxc/sdm/lc0VV36EnQ=\n \n-p-limit@^2.2.0:\n-  version \"2.3.0\"\n-  resolved \"https://registry.yarnpkg.com/p-limit/-/p-limit-2.3.0.tgz#3dd33c647a214fdfffd835933eb086da0dc21db1\"\n-  integrity sha512-//88mFWSJx8lxCzwdAABTJL2MyWB12+eIY7MDL2SqLmAkeKU9qxRvWuSyTjm3FUmpBEMuFfckAIqEaVGUDxb6w==\n-  dependencies:\n-    p-try \"^2.0.0\"\n-\n-p-locate@^4.1.0:\n-  version \"4.1.0\"\n-  resolved \"https://registry.yarnpkg.com/p-locate/-/p-locate-4.1.0.tgz#a3428bb7088b3a60292f66919278b7c297ad4f07\"\n-  integrity sha512-R79ZZ/0wAxKGu3oYMlz8jy/kbhsNrS7SKZ7PxEHBgJ5+F2mtFW2fK2cOtBh1cHYkQsbzFV7I+EoRKe6Yt0oK7A==\n-  dependencies:\n-    p-limit \"^2.2.0\"\n-\n-p-try@^2.0.0:\n-  version \"2.2.0\"\n-  resolved \"https://registry.yarnpkg.com/p-try/-/p-try-2.2.0.tgz#cb2868540e313d61de58fafbe35ce9004d5540e6\"\n-  integrity sha512-R4nPAVTAU0B9D35/Gk3uJf/7XYbQcyohSKdvAxIRSNghFl4e71hVoGnBNQz9cWaXxO2I10KTC+3jMdvvoKw6dQ==\n-\n pako@~1.0.2:\n   version \"1.0.10\"\n   resolved \"https://registry.yarnpkg.com/pako/-/pako-1.0.10.tgz#4328badb5086a426aa90f541977d4955da5c9732\"\n@@ -2035,11 +1996,6 @@ parseurl@~1.3.3:\n   resolved \"https://registry.yarnpkg.com/parseurl/-/parseurl-1.3.3.tgz#9da19e7bee8d12dff0513ed5b76957793bc2e8d4\"\n   integrity sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==\n \n-path-exists@^4.0.0:\n-  version \"4.0.0\"\n-  resolved \"https://registry.yarnpkg.com/path-exists/-/path-exists-4.0.0.tgz#513bdbe2d3b95d7762e8c1137efa195c6c61b5b3\"\n-  integrity sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==\n-\n path-is-absolute@^1.0.0:\n   version \"1.0.1\"\n   resolved \"https://registry.yarnpkg.com/path-is-absolute/-/path-is-absolute-1.0.1.tgz#174b9268735534ffbc7ace6bf53a5a9e1b5c5f5f\"\n@@ -2269,11 +2225,6 @@ require-directory@^2.1.1:\n   resolved \"https://registry.yarnpkg.com/require-directory/-/require-directory-2.1.1.tgz#8c64ad5fd30dab1c976e2344ffe7f792a6a6df42\"\n   integrity sha1-jGStX9MNqxyXbiNE/+f3kqam30I=\n \n-require-main-filename@^2.0.0:\n-  version \"2.0.0\"\n-  resolved \"https://registry.yarnpkg.com/require-main-filename/-/require-main-filename-2.0.0.tgz#d0b329ecc7cc0f61649f62215be69af54aa8989b\"\n-  integrity sha512-NKN5kMDylKuldxYLSUfrbo5Tuzh4hd+2E8NPPX02mZtn1VuREQToYe/ZdlJy+J3uCpfaiGF05e7B8W0iXbQHmg==\n-\n requirejs@2.3.6:\n   version \"2.3.6\"\n   resolved \"https://registry.yarnpkg.com/requirejs/-/requirejs-2.3.6.tgz#e5093d9601c2829251258c0b9445d4d19fa9e7c9\"\n@@ -2308,7 +2259,7 @@ rfdc@^1.1.4:\n   resolved \"https://registry.yarnpkg.com/rfdc/-/rfdc-1.1.4.tgz#ba72cc1367a0ccd9cf81a870b3b58bd3ad07f8c2\"\n   integrity sha512-5C9HXdzK8EAqN7JDif30jqsBzavB7wLpaubisuQIGHWf2gUXSpzy6ArX/+Da8RjFpagWsCn+pIgxTMAmKw9Zug==\n \n-rimraf@^2.2.8, rimraf@^2.5.2, rimraf@^2.5.4, rimraf@^2.6.0, rimraf@^2.6.3:\n+rimraf@^2.2.8, rimraf@^2.5.2, rimraf@^2.5.4, rimraf@^2.6.0:\n   version \"2.7.1\"\n   resolved \"https://registry.yarnpkg.com/rimraf/-/rimraf-2.7.1.tgz#35797f13a7fdadc566142c29d4f07ccad483e3ec\"\n   integrity sha512-uWjbaKIK3T1OSVptzX7Nl6PvQ3qAGtKEtVRjRuazjfL3Bx5eI409VZSqgND+4UNnmzLVdPj9FqFJNPqBZFve4w==\n@@ -2428,11 +2379,6 @@ semver@~7.3.0:\n   resolved \"https://registry.yarnpkg.com/semver/-/semver-7.3.2.tgz#604962b052b81ed0786aae84389ffba70ffd3938\"\n   integrity sha512-OrOb32TeeambH6UrhtShmF7CRDqhL6/5XpPNp2DuRH6+9QLw/orhp72j87v8Qa1ScDkvrrBNpZcDejAirJmfXQ==\n \n-set-blocking@^2.0.0:\n-  version \"2.0.0\"\n-  resolved \"https://registry.yarnpkg.com/set-blocking/-/set-blocking-2.0.0.tgz#045f9782d011ae9a6803ddd382b24392b3d890f7\"\n-  integrity sha1-BF+XgtARrppoA93TgrJDkrPYkPc=\n-\n set-immediate-shim@~1.0.1:\n   version \"1.0.1\"\n   resolved \"https://registry.yarnpkg.com/set-immediate-shim/-/set-immediate-shim-1.0.1.tgz#4b2b1b27eb808a9f8dcc481a58e5e56f599f3f61\"\n@@ -2679,13 +2625,6 @@ tmp@0.0.33, tmp@0.0.x:\n   dependencies:\n     os-tmpdir \"~1.0.2\"\n \n-tmp@0.1.0:\n-  version \"0.1.0\"\n-  resolved \"https://registry.yarnpkg.com/tmp/-/tmp-0.1.0.tgz#ee434a4e22543082e294ba6201dcc6eafefa2877\"\n-  integrity sha512-J7Z2K08jbGcdA1kkQpJSqLF6T0tdQqpR2pnSUXsIchbPdTI9v3e85cLW0d6WDhwuAleOV71j2xWs8qMPfK7nKw==\n-  dependencies:\n-    rimraf \"^2.6.3\"\n-\n to-array@0.1.4:\n   version \"0.1.4\"\n   resolved \"https://registry.yarnpkg.com/to-array/-/to-array-0.1.4.tgz#17e6c11f73dd4f3d74cda7a4ff3238e9ad9bf890\"\n@@ -2762,7 +2701,7 @@ type-is@~1.6.17:\n     mime-types \"~2.1.24\"\n \n \"typescript@file:../../node_modules/typescript\":\n-  version \"4.0.2\"\n+  version \"4.1.2\"\n \n typescript@~3.9.5:\n   version \"3.9.6\"\n@@ -2883,11 +2822,6 @@ webdriver-manager@^12.0.6:\n     semver \"^5.3.0\"\n     xml2js \"^0.4.17\"\n \n-which-module@^2.0.0:\n-  version \"2.0.0\"\n-  resolved \"https://registry.yarnpkg.com/which-module/-/which-module-2.0.0.tgz#d9ef07dce77b9902b8a3a8fa4b31c3e3f7e6e87a\"\n-  integrity sha1-2e8H3Od7mQK4o6j6SzHD4/fm6Ho=\n-\n which@^1.2.1:\n   version \"1.3.1\"\n   resolved \"https://registry.yarnpkg.com/which/-/which-1.3.1.tgz#a45043d54f5805316da8d62f9f50918d3da70b0a\"\n@@ -2900,10 +2834,10 @@ wordwrap@~0.0.2:\n   resolved \"https://registry.yarnpkg.com/wordwrap/-/wordwrap-0.0.3.tgz#a3d5da6cd5c0bc0008d37234bbaf1bed63059107\"\n   integrity sha1-o9XabNXAvAAI03I0u68b7WMFkQc=\n \n-wrap-ansi@^6.2.0:\n-  version \"6.2.0\"\n-  resolved \"https://registry.yarnpkg.com/wrap-ansi/-/wrap-ansi-6.2.0.tgz#e9393ba07102e6c91a3b221478f0257cd2856e53\"\n-  integrity sha512-r6lPcBGxZXlIcymEu7InxDMhdW0KDxpLgoFLcguasxCaJ/SOIZwINatK9KY/tf+ZrlywOKU0UDj3ATXUBfxJXA==\n+wrap-ansi@^7.0.0:\n+  version \"7.0.0\"\n+  resolved \"https://registry.yarnpkg.com/wrap-ansi/-/wrap-ansi-7.0.0.tgz#67e145cff510a6a6984bdf1152911d69d2eb9e43\"\n+  integrity sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==\n   dependencies:\n     ansi-styles \"^4.0.0\"\n     string-width \"^4.1.0\"\n@@ -2942,40 +2876,33 @@ xmlhttprequest-ssl@~1.5.4:\n   resolved \"https://registry.yarnpkg.com/xmlhttprequest-ssl/-/xmlhttprequest-ssl-1.5.5.tgz#c2876b06168aadc40e57d97e81191ac8f4398b3e\"\n   integrity sha1-wodrBhaKrcQOV9l+gRkayPQ5iz4=\n \n-y18n@^4.0.0:\n-  version \"4.0.0\"\n-  resolved \"https://registry.yarnpkg.com/y18n/-/y18n-4.0.0.tgz#95ef94f85ecc81d007c264e190a120f0a3c8566b\"\n-  integrity sha512-r9S/ZyXu/Xu9q1tYlpsLIsa3EeLXXk0VwlxqTcFRfg9EhMW+17kbt9G0NrgCmhGb5vT2hyhJZLfDGx+7+5Uj/w==\n+y18n@^5.0.5:\n+  version \"5.0.5\"\n+  resolved \"https://registry.yarnpkg.com/y18n/-/y18n-5.0.5.tgz#8769ec08d03b1ea2df2500acef561743bbb9ab18\"\n+  integrity sha512-hsRUr4FFrvhhRH12wOdfs38Gy7k2FFzB9qgN9v3aLykRq0dRcdcpz5C9FxdS2NuhOrI/628b/KSTJ3rwHysYSg==\n \n yallist@^2.1.2:\n   version \"2.1.2\"\n   resolved \"https://registry.yarnpkg.com/yallist/-/yallist-2.1.2.tgz#1c11f9218f076089a47dd512f93c6699a6a81d52\"\n   integrity sha1-HBH5IY8HYImkfdUS+TxmmaaoHVI=\n \n-yargs-parser@^18.1.0:\n-  version \"18.1.3\"\n-  resolved \"https://registry.yarnpkg.com/yargs-parser/-/yargs-parser-18.1.3.tgz#be68c4975c6b2abf469236b0c870362fab09a7b0\"\n-  integrity sha512-o50j0JeToy/4K6OZcaQmW6lyXXKhq7csREXcDwk2omFPJEwUNOVtJKvmDr9EI1fAJZUyZcRF7kxGBWmRXudrCQ==\n-  dependencies:\n-    camelcase \"^5.0.0\"\n-    decamelize \"^1.2.0\"\n+yargs-parser@^20.2.2:\n+  version \"20.2.4\"\n+  resolved \"https://registry.yarnpkg.com/yargs-parser/-/yargs-parser-20.2.4.tgz#b42890f14566796f85ae8e3a25290d205f154a54\"\n+  integrity sha512-WOkpgNhPTlE73h4VFAFsOnomJVaovO8VqLDzy5saChRBFQFBoMYirowyW+Q9HB4HFF4Z7VZTiG3iSzJJA29yRA==\n \n-yargs@15.3.0:\n-  version \"15.3.0\"\n-  resolved \"https://registry.yarnpkg.com/yargs/-/yargs-15.3.0.tgz#403af6edc75b3ae04bf66c94202228ba119f0976\"\n-  integrity sha512-g/QCnmjgOl1YJjGsnUg2SatC7NUYEiLXJqxNOQU9qSpjzGtGXda9b+OKccr1kLTy8BN9yqEyqfq5lxlwdc13TA==\n+yargs@^16.1.1:\n+  version \"16.2.0\"\n+  resolved \"https://registry.yarnpkg.com/yargs/-/yargs-16.2.0.tgz#1c82bf0f6b6a66eafce7ef30e376f49a12477f66\"\n+  integrity sha512-D1mvvtDG0L5ft/jGWkLpG1+m0eQxOfaBvTNELraWj22wSVUMWxZUvYgJYcKh6jGGIkJFhH4IZPQhR4TKpc8mBw==\n   dependencies:\n-    cliui \"^6.0.0\"\n-    decamelize \"^1.2.0\"\n-    find-up \"^4.1.0\"\n-    get-caller-file \"^2.0.1\"\n+    cliui \"^7.0.2\"\n+    escalade \"^3.1.1\"\n+    get-caller-file \"^2.0.5\"\n     require-directory \"^2.1.1\"\n-    require-main-filename \"^2.0.0\"\n-    set-blocking \"^2.0.0\"\n     string-width \"^4.2.0\"\n-    which-module \"^2.0.0\"\n-    y18n \"^4.0.0\"\n-    yargs-parser \"^18.1.0\"\n+    y18n \"^5.0.5\"\n+    yargs-parser \"^20.2.2\"\n \n yeast@0.1.2:\n   version \"0.1.2\"\n@@ -2993,7 +2920,8 @@ z-schema@~3.18.3:\n   optionalDependencies:\n     commander \"^2.7.1\"\n \n-\"zone.js@file:../../dist/zone.js-dist/zone.js\":\n-  version \"0.11.2\"\n+\"zone.js@file:../../dist/zone.js-dist/archive/zone.js.tgz\":\n+  version \"0.11.3\"\n+  resolved \"file:../../dist/zone.js-dist/archive/zone.js.tgz#980e0cb8787678150873a9904781f9e028e58d8a\"\n   dependencies:\n     tslib \"^2.0.0\""
        },
        {
            "sha": "023246ceb3a06fb9c2ee11c275458deb9e4a5de8",
            "filename": "packages/bazel/src/api-extractor/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/packages%2Fbazel%2Fsrc%2Fapi-extractor%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/packages%2Fbazel%2Fsrc%2Fapi-extractor%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fapi-extractor%2FBUILD.bazel?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -24,6 +24,9 @@ nodejs_binary(\n         \"@npm//@microsoft/api-extractor\",\n     ],\n     entry_point = \":index.ts\",\n+    # TODO(josephperrott): update dependency usages to no longer need bazel patch module resolver\n+    # See: https://github.com/bazelbuild/rules_nodejs/wiki#--bazel_patch_module_resolver-now-defaults-to-false-2324\n+    templated_args = [\"--bazel_patch_module_resolver\"],\n     visibility = [\"//visibility:public\"],\n )\n "
        },
        {
            "sha": "4faebaaf88cefcc8b7798413444402c911387d98",
            "filename": "packages/bazel/src/ng_package/BUILD.bazel",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/packages%2Fbazel%2Fsrc%2Fng_package%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/packages%2Fbazel%2Fsrc%2Fng_package%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fng_package%2FBUILD.bazel?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -32,6 +32,9 @@ nodejs_binary(\n         # END-DEV-ONLY\n         \"//:node_modules/rollup/dist/bin/rollup\"\n     ),\n+    # TODO(josephperrott): update dependency usages to no longer need bazel patch module resolver\n+    # See: https://github.com/bazelbuild/rules_nodejs/wiki#--bazel_patch_module_resolver-now-defaults-to-false-2324\n+    templated_args = [\"--bazel_patch_module_resolver\"],\n )\n \n exports_files([\n@@ -70,5 +73,8 @@ nodejs_binary(\n         \"@npm//shelljs\",\n     ],\n     entry_point = \":packager.ts\",\n+    # TODO(josephperrott): update dependency usages to no longer need bazel patch module resolver\n+    # See: https://github.com/bazelbuild/rules_nodejs/wiki#--bazel_patch_module_resolver-now-defaults-to-false-2324\n+    templated_args = [\"--bazel_patch_module_resolver\"],\n )\n # END-DEV-ONLY"
        },
        {
            "sha": "c0ae3ddc0579a31fb0efe3fef72bbcc063991496",
            "filename": "packages/bazel/src/ngc-wrapped/BUILD.bazel",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/34de89acbdcca4e2f4006ef27e57d0376a1815b6/packages%2Fbazel%2Fsrc%2Fngc-wrapped%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/34de89acbdcca4e2f4006ef27e57d0376a1815b6/packages%2Fbazel%2Fsrc%2Fngc-wrapped%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fngc-wrapped%2FBUILD.bazel?ref=34de89acbdcca4e2f4006ef27e57d0376a1815b6",
            "patch": "@@ -34,6 +34,9 @@ nodejs_binary(\n         \"@npm//tslib\",\n     ],\n     entry_point = \":index.ts\",\n+    # TODO(josephperrott): update dependency usages to no longer need bazel patch module resolver\n+    # See: https://github.com/bazelbuild/rules_nodejs/wiki#--bazel_patch_module_resolver-now-defaults-to-false-2324\n+    templated_args = [\"--bazel_patch_module_resolver\"],\n     visibility = [\"//visibility:public\"],\n )\n \n@@ -44,6 +47,9 @@ nodejs_binary(\n         \"@npm//source-map-support\",\n     ],\n     entry_point = \":extract_i18n.ts\",\n+    # TODO(josephperrott): update dependency usages to no longer need bazel patch module resolver\n+    # See: https://github.com/bazelbuild/rules_nodejs/wiki#--bazel_patch_module_resolver-now-defaults-to-false-2324\n+    templated_args = [\"--bazel_patch_module_resolver\"],\n     visibility = [\"//visibility:public\"],\n )\n "
        }
    ],
    "stats": {
        "total": 278,
        "additions": 109,
        "deletions": 169
    }
}