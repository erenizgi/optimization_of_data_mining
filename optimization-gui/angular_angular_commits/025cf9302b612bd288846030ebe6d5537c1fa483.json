{
    "author": "bjarkler",
    "message": "build(docs-infra): send CSP reports for Trusted Types violations (#42800)\n\nConfigure Firebase to serve a CSP header on angular.io that enables\nTrusted Types in report-only mode. This causes any Trusted Types\nviolations that may occur as users browser angular.io to generate a CSP\nreport that is sent to csp.withgoogle.com, where it is processed by\nGoogle's CSP report collector.\n\nThis is a non-breaking change that allows us to evaluate whether\nangular.io is fully compatible with Trusted Types, at which point we can\nstart enforcing Trusted Types.\n\nPR Close #42800",
    "sha": "025cf9302b612bd288846030ebe6d5537c1fa483",
    "files": [
        {
            "sha": "9a440bfffc880b331d0817aeebd2204feaf9b363",
            "filename": "aio/firebase.json",
            "status": "modified",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/025cf9302b612bd288846030ebe6d5537c1fa483/aio%2Ffirebase.json",
            "raw_url": "https://github.com/angular/angular/raw/025cf9302b612bd288846030ebe6d5537c1fa483/aio%2Ffirebase.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ffirebase.json?ref=025cf9302b612bd288846030ebe6d5537c1fa483",
            "patch": "@@ -195,6 +195,27 @@\n       }\n     ],\n     \"headers\": [\n+      {\n+        // All URLs\n+        \"source\": \"**\",\n+        \"headers\": [\n+          // Report Trusted Types violations\n+          {\n+            \"key\": \"Content-Security-Policy-Report-Only\",\n+\n+            // The following Trusted Types policies are allowed:\n+            // - angular: Angular's main internal policy. Defined in the `@angular/core` package.\n+            // - angular#bundler: Used by Angular's bundler. Defined in the `webpack` package, enabled by `@angular-devkit/build-angular`.\n+            // - angular#unsafe-bypass: For bypassSecurityTrust* usage. Defined in the `@angular/core` package.\n+            // - aio#analytics: For the Google Analytics snippet. Defined in `index.html`.\n+            // - google#safe: Used by the safevalues library. Defined in the `safevalues` package.\n+\n+            // csp.withgoogle.com is Google's CSP report collecting\n+            // infrastructure.\n+            \"value\": \"require-trusted-types-for 'script'; trusted-types angular angular#bundler angular#unsafe-bypass aio#analytics google#safe; report-uri https://csp.withgoogle.com/csp/angular.io\"\n+          }\n+        ]\n+      },\n       {\n         // All paths (URLs without a file extension).\n         \"source\": \"**/!(*.*)\","
        }
    ],
    "stats": {
        "total": 21,
        "additions": 21,
        "deletions": 0
    }
}