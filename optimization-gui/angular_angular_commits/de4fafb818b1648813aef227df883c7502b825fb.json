{
    "author": "crisbeto",
    "message": "refactor(core): add single type for injector token (#41580)\n\nCurrently we have a lot of places where we repeat the type `Type<T>|AbstractType<T>|InjectionToken<T>` which makes it cumbersome to add another type or to type something else with the same signature.\n\nThese changes add a new type that can be used instead.\n\nFixes #39792.\n\nPR Close #41580",
    "sha": "de4fafb818b1648813aef227df883c7502b825fb",
    "files": [
        {
            "sha": "21137006a197a0b2f7567ce8e6ca1e07a9c92236",
            "filename": "goldens/public-api/core/core.d.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 11,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/goldens%2Fpublic-api%2Fcore%2Fcore.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/goldens%2Fpublic-api%2Fcore%2Fcore.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcore%2Fcore.d.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -159,11 +159,11 @@ export declare interface ConstructorSansProvider {\n export declare type ContentChild = Query;\n \n export declare interface ContentChildDecorator {\n-    (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    (selector: ProviderToken<unknown> | Function | string, opts?: {\n         read?: any;\n         static?: boolean;\n     }): any;\n-    new (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    new (selector: ProviderToken<unknown> | Function | string, opts?: {\n         read?: any;\n         static?: boolean;\n     }): ContentChild;\n@@ -172,12 +172,12 @@ export declare interface ContentChildDecorator {\n export declare type ContentChildren = Query;\n \n export declare interface ContentChildrenDecorator {\n-    (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    (selector: ProviderToken<unknown> | Function | string, opts?: {\n         descendants?: boolean;\n         emitDistinctChangesOnly?: boolean;\n         read?: any;\n     }): any;\n-    new (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    new (selector: ProviderToken<unknown> | Function | string, opts?: {\n         descendants?: boolean;\n         emitDistinctChangesOnly?: boolean;\n         read?: any;\n@@ -448,7 +448,7 @@ export declare class InjectionToken<T> {\n }\n \n export declare abstract class Injector {\n-    abstract get<T>(token: Type<T> | AbstractType<T> | InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+    abstract get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n     /** @deprecated */ abstract get(token: any, notFoundValue?: any): any;\n     static NULL: Injector;\n     static THROW_IF_NOT_FOUND: {};\n@@ -680,8 +680,8 @@ export declare function ɵɵdefineInjectable<T>(opts: {\n }): unknown;\n \n /** @codeGenApi */\n-export declare function ɵɵinject<T>(token: Type<T> | AbstractType<T> | InjectionToken<T>): T;\n-export declare function ɵɵinject<T>(token: Type<T> | AbstractType<T> | InjectionToken<T>, flags?: InjectFlags): T | null;\n+export declare function ɵɵinject<T>(token: ProviderToken<T>): T;\n+export declare function ɵɵinject<T>(token: ProviderToken<T>, flags?: InjectFlags): T | null;\n \n /** @codeGenApi */\n export declare function ɵɵinjectAttribute(attrNameToInject: string): string | null;\n@@ -725,6 +725,8 @@ export declare interface Predicate<T> {\n \n export declare type Provider = TypeProvider | ValueProvider | ClassProvider | ConstructorProvider | ExistingProvider | FactoryProvider | any[];\n \n+export declare type ProviderToken<T> = Type<T> | AbstractType<T> | InjectionToken<T>;\n+\n export declare interface Query {\n     descendants: boolean;\n     emitDistinctChangesOnly: boolean;\n@@ -989,11 +991,11 @@ export declare const VERSION: Version;\n export declare type ViewChild = Query;\n \n export declare interface ViewChildDecorator {\n-    (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    (selector: ProviderToken<unknown> | Function | string, opts?: {\n         read?: any;\n         static?: boolean;\n     }): any;\n-    new (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    new (selector: ProviderToken<unknown> | Function | string, opts?: {\n         read?: any;\n         static?: boolean;\n     }): ViewChild;\n@@ -1002,11 +1004,11 @@ export declare interface ViewChildDecorator {\n export declare type ViewChildren = Query;\n \n export declare interface ViewChildrenDecorator {\n-    (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    (selector: ProviderToken<unknown> | Function | string, opts?: {\n         read?: any;\n         emitDistinctChangesOnly?: boolean;\n     }): any;\n-    new (selector: Type<any> | InjectionToken<unknown> | Function | string, opts?: {\n+    new (selector: ProviderToken<unknown> | Function | string, opts?: {\n         read?: any;\n         emitDistinctChangesOnly?: boolean;\n     }): ViewChildren;"
        },
        {
            "sha": "1ef670be5478ca4302ebba23c5d84a544c059878",
            "filename": "goldens/public-api/core/testing/testing.d.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/goldens%2Fpublic-api%2Fcore%2Ftesting%2Ftesting.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/goldens%2Fpublic-api%2Fcore%2Ftesting%2Ftesting.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcore%2Ftesting%2Ftesting.d.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -62,11 +62,11 @@ export declare interface TestBed {\n     configureTestingModule(moduleDef: TestModuleMetadata): void;\n     createComponent<T>(component: Type<T>): ComponentFixture<T>;\n     execute(tokens: any[], fn: Function, context?: any): any;\n-    /** @deprecated */ get<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+    /** @deprecated */ get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n     /** @deprecated */ get(token: any, notFoundValue?: any): any;\n     initTestEnvironment(ngModule: Type<any> | Type<any>[], platform: PlatformRef, aotSummaries?: () => any[]): void;\n-    inject<T>(token: Type<T> | InjectionToken<T> | AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-    inject<T>(token: Type<T> | InjectionToken<T> | AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T | null;\n+    inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+    inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T | null;\n     overrideComponent(component: Type<any>, override: MetadataOverride<Component>): void;\n     overrideDirective(directive: Type<any>, override: MetadataOverride<Directive>): void;\n     overrideModule(ngModule: Type<any>, override: MetadataOverride<NgModule>): void;\n@@ -99,11 +99,11 @@ export declare interface TestBedStatic {\n     }): TestBedStatic;\n     configureTestingModule(moduleDef: TestModuleMetadata): TestBedStatic;\n     createComponent<T>(component: Type<T>): ComponentFixture<T>;\n-    /** @deprecated */ get<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+    /** @deprecated */ get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n     /** @deprecated */ get(token: any, notFoundValue?: any): any;\n     initTestEnvironment(ngModule: Type<any> | Type<any>[], platform: PlatformRef, aotSummaries?: () => any[]): TestBed;\n-    inject<T>(token: Type<T> | InjectionToken<T> | AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-    inject<T>(token: Type<T> | InjectionToken<T> | AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T | null;\n+    inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+    inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T | null;\n     overrideComponent(component: Type<any>, override: MetadataOverride<Component>): TestBedStatic;\n     overrideDirective(directive: Type<any>, override: MetadataOverride<Directive>): TestBedStatic;\n     overrideModule(ngModule: Type<any>, override: MetadataOverride<NgModule>): TestBedStatic;"
        },
        {
            "sha": "8f91f27b93fbbc2326ef9739fdc19b5aefd852d2",
            "filename": "packages/core/src/di/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Findex.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -18,6 +18,7 @@ export {ɵɵdefineInjectable, defineInjectable, ɵɵdefineInjector, InjectableTy\n export {forwardRef, resolveForwardRef, ForwardRefFn} from './forward_ref';\n export {Injectable, InjectableDecorator, InjectableProvider} from './injectable';\n export {Injector} from './injector';\n+export {ProviderToken} from './provider_token';\n export {ɵɵinject, inject, ɵɵinvalidFactoryDep} from './injector_compatibility';\n export {INJECTOR} from './injector_token';\n export {ReflectiveInjector} from './reflective_injector';"
        },
        {
            "sha": "a780c13a75d2c7b4d401f9008a48c301459de218",
            "filename": "packages/core/src/di/inject_switch.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 11,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Finject_switch.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Finject_switch.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Finject_switch.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,13 +6,13 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {AbstractType, Type} from '../interface/type';\n import {throwProviderNotFoundError} from '../render3/errors_di';\n import {assertNotEqual} from '../util/assert';\n import {stringify} from '../util/stringify';\n-import {InjectionToken} from './injection_token';\n+\n import {getInjectableDef, ɵɵInjectableDeclaration} from './interface/defs';\n import {InjectFlags} from './interface/injector';\n+import {ProviderToken} from './provider_token';\n \n \n /**\n@@ -24,8 +24,7 @@ import {InjectFlags} from './interface/injector';\n  *  1. `Injector` should not depend on ivy logic.\n  *  2. To maintain tree shake-ability we don't want to bring in unnecessary code.\n  */\n-let _injectImplementation:\n-    (<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags) => T | null)|\n+let _injectImplementation: (<T>(token: ProviderToken<T>, flags?: InjectFlags) => T | null)|\n     undefined;\n export function getInjectImplementation() {\n   return _injectImplementation;\n@@ -36,10 +35,8 @@ export function getInjectImplementation() {\n  * Sets the current inject implementation.\n  */\n export function setInjectImplementation(\n-    impl: (<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags) => T | null)|\n-    undefined):\n-    (<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags) => T | null)|\n-    undefined {\n+    impl: (<T>(token: ProviderToken<T>, flags?: InjectFlags) => T | null)|\n+    undefined): (<T>(token: ProviderToken<T>, flags?: InjectFlags) => T | null)|undefined {\n   const previous = _injectImplementation;\n   _injectImplementation = impl;\n   return previous;\n@@ -54,8 +51,7 @@ export function setInjectImplementation(\n  * injectable definition.\n  */\n export function injectRootLimpMode<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, notFoundValue: T|undefined,\n-    flags: InjectFlags): T|null {\n+    token: ProviderToken<T>, notFoundValue: T|undefined, flags: InjectFlags): T|null {\n   const injectableDef: ɵɵInjectableDeclaration<T>|null = getInjectableDef(token);\n   if (injectableDef && injectableDef.providedIn == 'root') {\n     return injectableDef.value === undefined ? injectableDef.value = injectableDef.factory() :\n@@ -75,7 +71,7 @@ export function injectRootLimpMode<T>(\n  * @param fn Function which it should not equal to\n  */\n export function assertInjectImplementationNotEqual(\n-    fn: (<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags) => T | null)) {\n+    fn: (<T>(token: ProviderToken<T>, flags?: InjectFlags) => T | null)) {\n   ngDevMode &&\n       assertNotEqual(_injectImplementation, fn, 'Calling ɵɵinject would cause infinite recursion');\n }"
        },
        {
            "sha": "a299d9a66410d285f41137af409d9d5a0e9326bc",
            "filename": "packages/core/src/di/injector.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 7,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Finjector.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Finjector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Finjector.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,10 +6,9 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {AbstractType, Type} from '../interface/type';\n import {stringify} from '../util/stringify';\n+\n import {resolveForwardRef} from './forward_ref';\n-import {InjectionToken} from './injection_token';\n import {catchInjectorError, formatError, NG_TEMP_TOKEN_PATH, setCurrentInjector, THROW_IF_NOT_FOUND, USE_VALUE, ɵɵinject} from './injector_compatibility';\n import {InjectorMarkers} from './injector_marker';\n import {INJECTOR} from './injector_token';\n@@ -18,6 +17,7 @@ import {InjectFlags} from './interface/injector';\n import {ConstructorProvider, ExistingProvider, FactoryProvider, StaticClassProvider, StaticProvider, ValueProvider} from './interface/provider';\n import {Inject, Optional, Self, SkipSelf} from './metadata';\n import {NullInjector} from './null_injector';\n+import {ProviderToken} from './provider_token';\n import {createInjector} from './r3_injector';\n import {INJECTOR_SCOPE} from './scope';\n \n@@ -66,10 +66,9 @@ export abstract class Injector {\n    * @returns The instance from the injector if defined, otherwise the `notFoundValue`.\n    * @throws When the `notFoundValue` is `undefined` or `Injector.THROW_IF_NOT_FOUND`.\n    */\n-  abstract get<T>(\n-      token: Type<T>|AbstractType<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  abstract get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n   /**\n-   * @deprecated from v4.0.0 use Type<T>, AbstractType<T> or InjectionToken<T>\n+   * @deprecated from v4.0.0 use ProviderToken<T>\n    * @suppress {duplicate}\n    */\n   abstract get(token: any, notFoundValue?: any): any;\n@@ -156,8 +155,7 @@ export class StaticInjector implements Injector {\n     this.scope = recursivelyProcessProviders(records, providers);\n   }\n \n-  get<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags):\n-      T;\n+  get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n   get(token: any, notFoundValue?: any): any;\n   get(token: any, notFoundValue?: any, flags: InjectFlags = InjectFlags.Default): any {\n     const records = this._records;"
        },
        {
            "sha": "03d2a69d64a13db1743e6188318bf6f3cb784bfb",
            "filename": "packages/core/src/di/injector_compatibility.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 13,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Finjector_compatibility.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Finjector_compatibility.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Finjector_compatibility.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -8,16 +8,16 @@\n \n import '../util/ng_dev_mode';\n \n-import {AbstractType, Type} from '../interface/type';\n+import {Type} from '../interface/type';\n import {getClosureSafeProperty} from '../util/property';\n import {stringify} from '../util/stringify';\n \n import {resolveForwardRef} from './forward_ref';\n import {getInjectImplementation, injectRootLimpMode} from './inject_switch';\n-import {InjectionToken} from './injection_token';\n import {Injector} from './injector';\n import {DecoratorFlags, InjectFlags, InternalInjectFlags} from './interface/injector';\n import {ValueProvider} from './interface/provider';\n+import {ProviderToken} from './provider_token';\n \n \n const _THROW_IF_NOT_FOUND = {};\n@@ -53,11 +53,10 @@ export function setCurrentInjector(injector: Injector|null|undefined): Injector|\n   return former;\n }\n \n-export function injectInjectorOnly<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>): T;\n-export function injectInjectorOnly<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags): T|null;\n-export function injectInjectorOnly<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, flags = InjectFlags.Default): T|null {\n+export function injectInjectorOnly<T>(token: ProviderToken<T>): T;\n+export function injectInjectorOnly<T>(token: ProviderToken<T>, flags?: InjectFlags): T|null;\n+export function injectInjectorOnly<T>(token: ProviderToken<T>, flags = InjectFlags.Default): T|\n+    null {\n   if (_currentInjector === undefined) {\n     throw new Error(`inject() must be called from an injection context`);\n   } else if (_currentInjector === null) {\n@@ -80,11 +79,9 @@ export function injectInjectorOnly<T>(\n  * @codeGenApi\n  * @publicApi This instruction has been emitted by ViewEngine for some time and is deployed to npm.\n  */\n-export function ɵɵinject<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>): T;\n-export function ɵɵinject<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags): T|null;\n-export function ɵɵinject<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, flags = InjectFlags.Default): T|null {\n+export function ɵɵinject<T>(token: ProviderToken<T>): T;\n+export function ɵɵinject<T>(token: ProviderToken<T>, flags?: InjectFlags): T|null;\n+export function ɵɵinject<T>(token: ProviderToken<T>, flags = InjectFlags.Default): T|null {\n   return (getInjectImplementation() || injectInjectorOnly)(resolveForwardRef(token), flags);\n }\n \n@@ -138,7 +135,7 @@ Please check that 1) the type for the parameter at index ${\n  */\n export const inject = ɵɵinject;\n \n-export function injectArgs(types: (Type<any>|InjectionToken<any>|any[])[]): any[] {\n+export function injectArgs(types: (ProviderToken<any>|any[])[]): any[] {\n   const args: any[] = [];\n   for (let i = 0; i < types.length; i++) {\n     const arg = resolveForwardRef(types[i]);"
        },
        {
            "sha": "27d07dde63a941f273f9c0b41093aaf6993f11ae",
            "filename": "packages/core/src/di/provider_token.ts",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Fprovider_token.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Fprovider_token.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Fprovider_token.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -0,0 +1,19 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import {AbstractType, Type} from '../interface/type';\n+import {InjectionToken} from './injection_token';\n+\n+/**\n+ * @description\n+ *\n+ * Token that can be used to retrieve an instance from an injector or through a query.\n+ *\n+ * @publicApi\n+ */\n+export type ProviderToken<T> = Type<T>|AbstractType<T>|InjectionToken<T>;"
        },
        {
            "sha": "61947af699b7dc85cfe9f7d6704e9333b8345134",
            "filename": "packages/core/src/di/r3_injector.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -9,7 +9,7 @@\n import '../util/ng_dev_mode';\n \n import {OnDestroy} from '../interface/lifecycle_hooks';\n-import {AbstractType, Type} from '../interface/type';\n+import {Type} from '../interface/type';\n import {FactoryFn, getFactoryDef} from '../render3/definition_factory';\n import {throwCyclicDependencyError, throwInvalidProviderError, throwMixedMultiProviderError} from '../render3/errors_di';\n import {deepForEach, newArray} from '../util/array_utils';\n@@ -25,6 +25,7 @@ import {getInheritedInjectableDef, getInjectableDef, getInjectorDef, InjectorTyp\n import {InjectFlags} from './interface/injector';\n import {ClassProvider, ConstructorProvider, ExistingProvider, FactoryProvider, StaticClassProvider, StaticProvider, TypeProvider, ValueProvider} from './interface/provider';\n import {NullInjector} from './null_injector';\n+import {ProviderToken} from './provider_token';\n import {INJECTOR_SCOPE} from './scope';\n \n \n@@ -102,7 +103,7 @@ export class R3Injector {\n    * - `null` value implies that we don't have the record. Used by tree-shakable injectors\n    * to prevent further searches.\n    */\n-  private records = new Map<Type<any>|AbstractType<any>|InjectionToken<any>, Record<any>|null>();\n+  private records = new Map<ProviderToken<any>, Record<any>|null>();\n \n   /**\n    * The transitive set of `InjectorType`s which define this injector.\n@@ -180,7 +181,7 @@ export class R3Injector {\n   }\n \n   get<T>(\n-      token: Type<T>|AbstractType<T>|InjectionToken<T>, notFoundValue: any = THROW_IF_NOT_FOUND,\n+      token: ProviderToken<T>, notFoundValue: any = THROW_IF_NOT_FOUND,\n       flags = InjectFlags.Default): T {\n     this.assertNotDestroyed();\n     // Set the injection context.\n@@ -404,7 +405,7 @@ export class R3Injector {\n     this.records.set(token, record);\n   }\n \n-  private hydrate<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, record: Record<T>): T {\n+  private hydrate<T>(token: ProviderToken<T>, record: Record<T>): T {\n     if (ngDevMode && record.value === CIRCULAR) {\n       throwCyclicDependencyError(stringify(token));\n     } else if (record.value === NOT_YET) {\n@@ -430,8 +431,7 @@ export class R3Injector {\n   }\n }\n \n-function injectableDefOrInjectorDefFactory(token: Type<any>|AbstractType<any>|\n-                                           InjectionToken<any>): FactoryFn<any> {\n+function injectableDefOrInjectorDefFactory(token: ProviderToken<any>): FactoryFn<any> {\n   // Most tokens will have an injectable def directly on them, which specifies a factory directly.\n   const injectableDef = getInjectableDef(token);\n   const factory = injectableDef !== null ? injectableDef.factory : getFactoryDef(token);\n@@ -560,8 +560,7 @@ function hasOnDestroy(value: any): value is OnDestroy {\n       typeof (value as OnDestroy).ngOnDestroy === 'function';\n }\n \n-function couldBeInjectableType(value: any): value is Type<any>|AbstractType<any>|\n-    InjectionToken<any> {\n+function couldBeInjectableType(value: any): value is ProviderToken<any> {\n   return (typeof value === 'function') ||\n       (typeof value === 'object' && value instanceof InjectionToken);\n }"
        },
        {
            "sha": "7e3d5c694f201b96528f8f841fdde6e5adfbd0cb",
            "filename": "packages/core/src/metadata/di.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 11,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fmetadata%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Fmetadata%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fmetadata%2Fdi.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -7,7 +7,7 @@\n  */\n \n import {InjectionToken} from '../di/injection_token';\n-import {Type} from '../interface/type';\n+import {ProviderToken} from '../di/provider_token';\n import {makePropDecorator} from '../util/decorators';\n \n /**\n@@ -169,12 +169,12 @@ export interface ContentChildrenDecorator {\n    *\n    * @Annotation\n    */\n-  (selector: Type<any>|InjectionToken<unknown>|Function|string, opts?: {\n+  (selector: ProviderToken<unknown>|Function|string, opts?: {\n     descendants?: boolean,\n     emitDistinctChangesOnly?: boolean,\n     read?: any,\n   }): any;\n-  new(selector: Type<any>|InjectionToken<unknown>|Function|string,\n+  new(selector: ProviderToken<unknown>|Function|string,\n       opts?: {descendants?: boolean, emitDistinctChangesOnly?: boolean, read?: any}): Query;\n }\n \n@@ -240,9 +240,8 @@ export interface ContentChildDecorator {\n    *\n    * @Annotation\n    */\n-  (selector: Type<any>|InjectionToken<unknown>|Function|string,\n-   opts?: {read?: any, static?: boolean}): any;\n-  new(selector: Type<any>|InjectionToken<unknown>|Function|string,\n+  (selector: ProviderToken<unknown>|Function|string, opts?: {read?: any, static?: boolean}): any;\n+  new(selector: ProviderToken<unknown>|Function|string,\n       opts?: {read?: any, static?: boolean}): ContentChild;\n }\n \n@@ -304,9 +303,9 @@ export interface ViewChildrenDecorator {\n    *\n    * @Annotation\n    */\n-  (selector: Type<any>|InjectionToken<unknown>|Function|string,\n+  (selector: ProviderToken<unknown>|Function|string,\n    opts?: {read?: any, emitDistinctChangesOnly?: boolean}): any;\n-  new(selector: Type<any>|InjectionToken<unknown>|Function|string,\n+  new(selector: ProviderToken<unknown>|Function|string,\n       opts?: {read?: any, emitDistinctChangesOnly?: boolean}): ViewChildren;\n }\n \n@@ -379,9 +378,8 @@ export interface ViewChildDecorator {\n    *\n    * @Annotation\n    */\n-  (selector: Type<any>|InjectionToken<unknown>|Function|string,\n-   opts?: {read?: any, static?: boolean}): any;\n-  new(selector: Type<any>|InjectionToken<unknown>|Function|string,\n+  (selector: ProviderToken<unknown>|Function|string, opts?: {read?: any, static?: boolean}): any;\n+  new(selector: ProviderToken<unknown>|Function|string,\n       opts?: {read?: any, static?: boolean}): ViewChild;\n }\n "
        },
        {
            "sha": "2963007ecb6edee5e2273929146b773281fc32a3",
            "filename": "packages/core/src/render3/component_ref.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent_ref.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -10,7 +10,8 @@ import {ChangeDetectorRef as ViewEngine_ChangeDetectorRef} from '../change_detec\n import {InjectionToken} from '../di/injection_token';\n import {Injector} from '../di/injector';\n import {InjectFlags} from '../di/interface/injector';\n-import {AbstractType, Type} from '../interface/type';\n+import {ProviderToken} from '../di/provider_token';\n+import {Type} from '../interface/type';\n import {ComponentFactory as viewEngine_ComponentFactory, ComponentRef as viewEngine_ComponentRef} from '../linker/component_factory';\n import {ComponentFactoryResolver as viewEngine_ComponentFactoryResolver} from '../linker/component_factory_resolver';\n import {createElementRef, ElementRef as viewEngine_ElementRef} from '../linker/element_ref';\n@@ -80,9 +81,7 @@ export const SCHEDULER = new InjectionToken<((fn: () => void) => void)>('SCHEDUL\n \n function createChainedInjector(rootViewInjector: Injector, moduleInjector: Injector): Injector {\n   return {\n-    get: <T>(\n-        token: Type<T>|AbstractType<T>|InjectionToken<T>, notFoundValue?: T,\n-        flags?: InjectFlags): T => {\n+    get: <T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T => {\n       const value = rootViewInjector.get(token, NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR as T, flags);\n \n       if (value !== NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR ||"
        },
        {
            "sha": "352d4baf8016304f27dace5df79186d01756d172",
            "filename": "packages/core/src/render3/di.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 18,
            "changes": 31,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -8,12 +8,11 @@\n \n import {isForwardRef, resolveForwardRef} from '../di/forward_ref';\n import {injectRootLimpMode, setInjectImplementation} from '../di/inject_switch';\n-import {InjectionToken} from '../di/injection_token';\n import {Injector} from '../di/injector';\n import {InjectorMarkers} from '../di/injector_marker';\n-import {getInjectableDef} from '../di/interface/defs';\n import {InjectFlags} from '../di/interface/injector';\n-import {AbstractType, Type} from '../interface/type';\n+import {ProviderToken} from '../di/provider_token';\n+import {Type} from '../interface/type';\n import {assertDefined, assertEqual, assertIndexInRange} from '../util/assert';\n import {noSideEffects} from '../util/closure';\n \n@@ -106,7 +105,7 @@ let nextNgElementId = 0;\n  * @param type The directive token to register\n  */\n export function bloomAdd(\n-    injectorIndex: number, tView: TView, type: Type<any>|InjectionToken<any>|string): void {\n+    injectorIndex: number, tView: TView, type: ProviderToken<any>|string): void {\n   ngDevMode && assertEqual(tView.firstCreatePass, true, 'expected firstCreatePass to be true');\n   let id: number|undefined;\n   if (typeof type === 'string') {\n@@ -264,7 +263,7 @@ export function getParentInjectorLocation(tNode: TNode, lView: LView): RelativeI\n  * @param token The type or the injection token to be made public\n  */\n export function diPublicInInjector(\n-    injectorIndex: number, tView: TView, token: InjectionToken<any>|Type<any>): void {\n+    injectorIndex: number, tView: TView, token: ProviderToken<any>): void {\n   bloomAdd(injectorIndex, tView, token);\n }\n \n@@ -344,8 +343,7 @@ export function injectAttributeImpl(tNode: TNode, attrNameToInject: string): str\n \n \n function notFoundValueOrThrow<T>(\n-    notFoundValue: T|null, token: Type<T>|AbstractType<T>|InjectionToken<T>, flags: InjectFlags): T|\n-    null {\n+    notFoundValue: T|null, token: ProviderToken<T>, flags: InjectFlags): T|null {\n   if (flags & InjectFlags.Optional) {\n     return notFoundValue;\n   } else {\n@@ -363,8 +361,7 @@ function notFoundValueOrThrow<T>(\n  * @returns the value from the injector or throws an exception\n  */\n function lookupTokenUsingModuleInjector<T>(\n-    lView: LView, token: Type<T>|AbstractType<T>|InjectionToken<T>, flags: InjectFlags,\n-    notFoundValue?: any): T|null {\n+    lView: LView, token: ProviderToken<T>, flags: InjectFlags, notFoundValue?: any): T|null {\n   if (flags & InjectFlags.Optional && notFoundValue === undefined) {\n     // This must be set or the NullInjector will throw for optional deps\n     notFoundValue = null;\n@@ -406,7 +403,7 @@ function lookupTokenUsingModuleInjector<T>(\n  * @returns the value from the injector, `null` when not found, or `notFoundValue` if provided\n  */\n export function getOrCreateInjectable<T>(\n-    tNode: TDirectiveHostNode|null, lView: LView, token: Type<T>|AbstractType<T>|InjectionToken<T>,\n+    tNode: TDirectiveHostNode|null, lView: LView, token: ProviderToken<T>,\n     flags: InjectFlags = InjectFlags.Default, notFoundValue?: any): T|null {\n   if (tNode !== null) {\n     const bloomHash = bloomHashBitOrFactory(token);\n@@ -506,8 +503,8 @@ export function createNodeInjector(): Injector {\n }\n \n function searchTokensOnInjector<T>(\n-    injectorIndex: number, lView: LView, token: Type<T>|AbstractType<T>|InjectionToken<T>,\n-    previousTView: TView|null, flags: InjectFlags, hostTElementNode: TNode|null) {\n+    injectorIndex: number, lView: LView, token: ProviderToken<T>, previousTView: TView|null,\n+    flags: InjectFlags, hostTElementNode: TNode|null) {\n   const currentTView = lView[TVIEW];\n   const tNode = currentTView.data[injectorIndex + NodeInjectorOffset.TNODE] as TNode;\n   // First, we need to determine if view providers can be accessed by the starting element.\n@@ -553,8 +550,8 @@ function searchTokensOnInjector<T>(\n  * @returns Index of a found directive or provider, or null when none found.\n  */\n export function locateDirectiveOrProvider<T>(\n-    tNode: TNode, tView: TView, token: Type<T>|AbstractType<T>|InjectionToken<T>|string,\n-    canAccessViewProviders: boolean, isHostSpecialCase: boolean|number): number|null {\n+    tNode: TNode, tView: TView, token: ProviderToken<T>|string, canAccessViewProviders: boolean,\n+    isHostSpecialCase: boolean|number): number|null {\n   const nodeProviderIndexes = tNode.providerIndexes;\n   const tInjectables = tView.data;\n \n@@ -568,8 +565,7 @@ export function locateDirectiveOrProvider<T>(\n   // When the host special case applies, only the viewProviders and the component are visible\n   const endIndex = isHostSpecialCase ? injectablesStart + cptViewProvidersCount : directiveEnd;\n   for (let i = startingIndex; i < endIndex; i++) {\n-    const providerTokenOrDef =\n-        tInjectables[i] as InjectionToken<any>| Type<any>| DirectiveDef<any>| string;\n+    const providerTokenOrDef = tInjectables[i] as ProviderToken<any>| DirectiveDef<any>| string;\n     if (i < directivesStart && token === providerTokenOrDef ||\n         i >= directivesStart && (providerTokenOrDef as DirectiveDef<any>).type === token) {\n       return i;\n@@ -644,8 +640,7 @@ export function getNodeInjectable(\n  * @returns the matching bit to check in the bloom filter or `null` if the token is not known.\n  *   When the returned value is negative then it represents special values such as `Injector`.\n  */\n-export function bloomHashBitOrFactory(token: Type<any>|AbstractType<any>|InjectionToken<any>|\n-                                      string): number|Function|undefined {\n+export function bloomHashBitOrFactory(token: ProviderToken<any>|string): number|Function|undefined {\n   ngDevMode && assertDefined(token, 'token must be defined');\n   if (typeof token === 'string') {\n     return token.charCodeAt(0) || 0;"
        },
        {
            "sha": "71578e17e8c66fbf635257e23791444071214cb8",
            "filename": "packages/core/src/render3/instructions/di.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 7,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -5,10 +5,10 @@\n  * Use of this source code is governed by an MIT-style license that can be\n  * found in the LICENSE file at https://angular.io/license\n  */\n-import {InjectFlags, InjectionToken, resolveForwardRef} from '../../di';\n+import {InjectFlags, resolveForwardRef} from '../../di';\n import {assertInjectImplementationNotEqual} from '../../di/inject_switch';\n import {ɵɵinject} from '../../di/injector_compatibility';\n-import {AbstractType, Type} from '../../interface/type';\n+import {ProviderToken} from '../../di/provider_token';\n import {getOrCreateInjectable} from '../di';\n import {TDirectiveHostNode} from '../interfaces/node';\n import {getCurrentTNode, getLView} from '../state';\n@@ -37,11 +37,9 @@ import {getCurrentTNode, getLView} from '../state';\n  *\n  * @codeGenApi\n  */\n-export function ɵɵdirectiveInject<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>): T;\n-export function ɵɵdirectiveInject<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, flags: InjectFlags): T;\n-export function ɵɵdirectiveInject<T>(\n-    token: Type<T>|AbstractType<T>|InjectionToken<T>, flags = InjectFlags.Default): T|null {\n+export function ɵɵdirectiveInject<T>(token: ProviderToken<T>): T;\n+export function ɵɵdirectiveInject<T>(token: ProviderToken<T>, flags: InjectFlags): T;\n+export function ɵɵdirectiveInject<T>(token: ProviderToken<T>, flags = InjectFlags.Default): T|null {\n   const lView = getLView();\n   // Fall back to inject() if view hasn't been created. This situation can happen in tests\n   // if inject utilities are used before bootstrapping."
        },
        {
            "sha": "09b7fcd10aff18f0833321789913fe6405b61c28",
            "filename": "packages/core/src/render3/interfaces/injector.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Finjector.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Finjector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Finjector.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,9 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {InjectionToken} from '../../di/injection_token';\n import {InjectFlags} from '../../di/interface/injector';\n-import {AbstractType, Type} from '../../interface/type';\n+import {ProviderToken} from '../../di/provider_token';\n import {assertDefined, assertEqual} from '../../util/assert';\n \n import {TDirectiveHostNode} from './node';\n@@ -176,8 +175,7 @@ export class NodeInjectorFactory {\n   /**\n    * The inject implementation to be activated when using the factory.\n    */\n-  injectImpl: null|\n-      (<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags) => T);\n+  injectImpl: null|(<T>(token: ProviderToken<T>, flags?: InjectFlags) => T);\n \n   /**\n    * Marker set to true during factory invocation to see if we get into recursive loop.\n@@ -280,8 +278,7 @@ export class NodeInjectorFactory {\n        * Set to `true` if the token is declared in `viewProviders` (or if it is component).\n        */\n       isViewProvider: boolean,\n-      injectImplementation: null|\n-      (<T>(token: Type<T>|AbstractType<T>|InjectionToken<T>, flags?: InjectFlags) => T)) {\n+      injectImplementation: null|(<T>(token: ProviderToken<T>, flags?: InjectFlags) => T)) {\n     ngDevMode && assertDefined(factory, 'Factory not specified');\n     ngDevMode && assertEqual(typeof factory, 'function', 'Expected factory function.');\n     this.canSeeViewProviders = isViewProvider;"
        },
        {
            "sha": "ed308022e4cbc5c9ec4e7c9fabcbfecb064345b8",
            "filename": "packages/core/src/render3/interfaces/query.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fquery.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fquery.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fquery.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,8 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {InjectionToken} from '../../di/injection_token';\n-import {Type} from '../../interface/type';\n+import {ProviderToken} from '../../di/provider_token';\n import {QueryList} from '../../linker/query_list';\n \n import {TNode} from './node';\n@@ -17,7 +16,7 @@ import {TView} from './view';\n  * An object representing query metadata extracted from query annotations.\n  */\n export interface TQueryMetadata {\n-  predicate: Type<any>|InjectionToken<unknown>|string[];\n+  predicate: ProviderToken<unknown>|string[];\n   read: any;\n   flags: QueryFlags;\n }"
        },
        {
            "sha": "af0202bcf64f32201025e5457bbfe68eb2e3671c",
            "filename": "packages/core/src/render3/interfaces/view.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,8 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {InjectionToken} from '../../di/injection_token';\n import {Injector} from '../../di/injector';\n+import {ProviderToken} from '../../di/provider_token';\n import {Type} from '../../interface/type';\n import {SchemaMetadata} from '../../metadata/schema';\n import {Sanitizer} from '../../sanitization/sanitizer';\n@@ -904,9 +904,8 @@ export type DestroyHookData = (HookEntry|HookData)[];\n  *\n  * Injector bloom filters are also stored here.\n  */\n-export type TData =\n-    (TNode|PipeDef<any>|DirectiveDef<any>|ComponentDef<any>|number|TStylingRange|TStylingKey|\n-     Type<any>|InjectionToken<any>|TI18n|I18nUpdateOpCodes|TIcu|null|string)[];\n+export type TData = (TNode|PipeDef<any>|DirectiveDef<any>|ComponentDef<any>|number|TStylingRange|\n+                     TStylingKey|ProviderToken<any>|TI18n|I18nUpdateOpCodes|TIcu|null|string)[];\n \n // Note: This hack is necessary so we don't erroneously get a circular dependency\n // failure based on types."
        },
        {
            "sha": "1c40d4599c0224827dd88140618c3dacec134a73",
            "filename": "packages/core/src/render3/query.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -9,8 +9,7 @@\n // We are temporarily importing the existing viewEngine_from core so we can be sure we are\n // correctly implementing its interfaces for backwards compatibility.\n \n-import {InjectionToken} from '../di/injection_token';\n-import {Type} from '../interface/type';\n+import {ProviderToken} from '../di/provider_token';\n import {createElementRef, ElementRef as ViewEngine_ElementRef, unwrapElementRef} from '../linker/element_ref';\n import {QueryList} from '../linker/query_list';\n import {createTemplateRef, TemplateRef as ViewEngine_TemplateRef} from '../linker/template_ref';\n@@ -88,7 +87,7 @@ class LQueries_ implements LQueries {\n \n class TQueryMetadata_ implements TQueryMetadata {\n   constructor(\n-      public predicate: Type<any>|InjectionToken<unknown>|string[], public flags: QueryFlags,\n+      public predicate: ProviderToken<unknown>|string[], public flags: QueryFlags,\n       public read: any = null) {}\n }\n \n@@ -456,7 +455,7 @@ export function ɵɵqueryRefresh(queryList: QueryList<any>): boolean {\n  * @codeGenApi\n  */\n export function ɵɵviewQuery<T>(\n-    predicate: Type<any>|InjectionToken<unknown>|string[], flags: QueryFlags, read?: any): void {\n+    predicate: ProviderToken<unknown>|string[], flags: QueryFlags, read?: any): void {\n   ngDevMode && assertNumber(flags, 'Expecting flags');\n   const tView = getTView();\n   if (tView.firstCreatePass) {\n@@ -481,8 +480,8 @@ export function ɵɵviewQuery<T>(\n  * @codeGenApi\n  */\n export function ɵɵcontentQuery<T>(\n-    directiveIndex: number, predicate: Type<any>|InjectionToken<unknown>|string[],\n-    flags: QueryFlags, read?: any): void {\n+    directiveIndex: number, predicate: ProviderToken<unknown>|string[], flags: QueryFlags,\n+    read?: any): void {\n   ngDevMode && assertNumber(flags, 'Expecting flags');\n   const tView = getTView();\n   if (tView.firstCreatePass) {"
        },
        {
            "sha": "f7d6487a260c40505e16b83a2112431ad63aff21",
            "filename": "packages/core/testing/src/r3_test_bed.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 19,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Ftesting%2Fsrc%2Fr3_test_bed.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Ftesting%2Fsrc%2Fr3_test_bed.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftesting%2Fsrc%2Fr3_test_bed.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -12,7 +12,6 @@\n \n /* clang-format off */\n import {\n-  AbstractType,\n   Component,\n   Directive,\n   InjectFlags,\n@@ -22,6 +21,7 @@ import {\n   NgZone,\n   Pipe,\n   PlatformRef,\n+  ProviderToken,\n   Type,\n   ɵflushModuleScopingQueueAsMuchAsPossible as flushModuleScopingQueueAsMuchAsPossible,\n   ɵRender3ComponentFactory as ComponentFactory,\n@@ -156,19 +156,14 @@ export class TestBedRender3 implements TestBed {\n     return TestBedRender3 as any as TestBedStatic;\n   }\n \n-  static inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-  static inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T\n-      |null;\n-  static inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T|null,\n-      flags?: InjectFlags): T|null {\n+  static inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  static inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T|null;\n+  static inject<T>(token: ProviderToken<T>, notFoundValue?: T|null, flags?: InjectFlags): T|null {\n     return _getTestBedRender3().inject(token, notFoundValue, flags);\n   }\n \n   /** @deprecated from v9.0.0 use TestBed.inject */\n-  static get<T>(token: Type<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+  static get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */\n   static get(token: any, notFoundValue?: any): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */\n@@ -263,14 +258,9 @@ export class TestBedRender3 implements TestBed {\n     return this.compiler.compileComponents();\n   }\n \n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T\n-      |null;\n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T|null,\n-      flags?: InjectFlags): T|null {\n+  inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T|null;\n+  inject<T>(token: ProviderToken<T>, notFoundValue?: T|null, flags?: InjectFlags): T|null {\n     if (token as unknown === TestBedRender3) {\n       return this as any;\n     }\n@@ -281,7 +271,7 @@ export class TestBedRender3 implements TestBed {\n   }\n \n   /** @deprecated from v9.0.0 use TestBed.inject */\n-  get<T>(token: Type<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+  get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */\n   get(token: any, notFoundValue?: any): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */"
        },
        {
            "sha": "68c413b237234688c4d79935f04ca81e3a7eb390",
            "filename": "packages/core/testing/src/test_bed.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 25,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {AbstractType, ApplicationInitStatus, CompilerOptions, Component, Directive, InjectFlags, InjectionToken, Injector, NgModule, NgModuleFactory, NgModuleRef, NgZone, Optional, Pipe, PlatformRef, Provider, SchemaMetadata, SkipSelf, StaticProvider, Type, ɵclearOverrides as clearOverrides, ɵDepFlags as DepFlags, ɵgetInjectableDef as getInjectableDef, ɵINJECTOR_SCOPE as INJECTOR_SCOPE, ɵivyEnabled as ivyEnabled, ɵNodeFlags as NodeFlags, ɵoverrideComponentView as overrideComponentView, ɵoverrideProvider as overrideProvider, ɵstringify as stringify, ɵɵInjectableDeclaration} from '@angular/core';\n+import {ApplicationInitStatus, CompilerOptions, Component, Directive, InjectFlags, InjectionToken, Injector, NgModule, NgModuleFactory, NgModuleRef, NgZone, Optional, Pipe, PlatformRef, Provider, ProviderToken, SchemaMetadata, SkipSelf, StaticProvider, Type, ɵclearOverrides as clearOverrides, ɵDepFlags as DepFlags, ɵgetInjectableDef as getInjectableDef, ɵINJECTOR_SCOPE as INJECTOR_SCOPE, ɵivyEnabled as ivyEnabled, ɵNodeFlags as NodeFlags, ɵoverrideComponentView as overrideComponentView, ɵoverrideProvider as overrideProvider, ɵstringify as stringify, ɵɵInjectableDeclaration} from '@angular/core';\n \n import {AsyncTestCompleter} from './async_test_completer';\n import {ComponentFixture} from './component_fixture';\n@@ -53,14 +53,11 @@ export interface TestBed {\n \n   compileComponents(): Promise<any>;\n \n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T\n-      |null;\n+  inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T|null;\n \n   /** @deprecated from v9.0.0 use TestBed.inject */\n-  get<T>(token: Type<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+  get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */\n   get(token: any, notFoundValue?: any): any;\n \n@@ -216,19 +213,14 @@ export class TestBedViewEngine implements TestBed {\n     return TestBedViewEngine as any as TestBedStatic;\n   }\n \n-  static inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-  static inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T\n-      |null;\n-  static inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T|null,\n-      flags?: InjectFlags): T|null {\n+  static inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  static inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T|null;\n+  static inject<T>(token: ProviderToken<T>, notFoundValue?: T|null, flags?: InjectFlags): T|null {\n     return _getTestBedViewEngine().inject(token, notFoundValue, flags);\n   }\n \n   /** @deprecated from v9.0.0 use TestBed.inject */\n-  static get<T>(token: Type<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+  static get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n   /**\n    * @deprecated from v9.0.0 use TestBed.inject\n    * @suppress {duplicate}\n@@ -469,14 +461,9 @@ export class TestBedViewEngine implements TestBed {\n     }\n   }\n \n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T\n-      |null;\n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T|null,\n-      flags?: InjectFlags): T|null {\n+  inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T|null;\n+  inject<T>(token: ProviderToken<T>, notFoundValue?: T|null, flags?: InjectFlags): T|null {\n     this._initIfNeeded();\n     if (token as unknown === TestBed) {\n       return this as any;\n@@ -490,7 +477,7 @@ export class TestBedViewEngine implements TestBed {\n   }\n \n   /** @deprecated from v9.0.0 use TestBed.inject */\n-  get<T>(token: Type<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+  get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */\n   get(token: any, notFoundValue?: any): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */"
        },
        {
            "sha": "76163253aa47ff97a62bc237352e039b6456ada8",
            "filename": "packages/core/testing/src/test_bed_common.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed_common.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed_common.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftesting%2Fsrc%2Ftest_bed_common.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {AbstractType, Component, Directive, InjectFlags, InjectionToken, NgModule, Pipe, PlatformRef, SchemaMetadata, Type} from '@angular/core';\n+import {Component, Directive, InjectFlags, InjectionToken, NgModule, Pipe, PlatformRef, ProviderToken, SchemaMetadata, Type} from '@angular/core';\n \n import {ComponentFixture} from './component_fixture';\n import {MetadataOverride} from './metadata_override';\n@@ -114,14 +114,11 @@ export interface TestBedStatic {\n     deps?: any[],\n   }): TestBedStatic;\n \n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue?: T, flags?: InjectFlags): T;\n-  inject<T>(\n-      token: Type<T>|InjectionToken<T>|AbstractType<T>, notFoundValue: null, flags?: InjectFlags): T\n-      |null;\n+  inject<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): T;\n+  inject<T>(token: ProviderToken<T>, notFoundValue: null, flags?: InjectFlags): T|null;\n \n   /** @deprecated from v9.0.0 use TestBed.inject */\n-  get<T>(token: Type<T>|InjectionToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n+  get<T>(token: ProviderToken<T>, notFoundValue?: T, flags?: InjectFlags): any;\n   /** @deprecated from v9.0.0 use TestBed.inject */\n   get(token: any, notFoundValue?: any): any;\n "
        },
        {
            "sha": "01fb555e7ed0d0eb5a9b14b9a6a51ddc181af916",
            "filename": "packages/examples/core/di/ts/injector_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fexamples%2Fcore%2Fdi%2Fts%2Finjector_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/de4fafb818b1648813aef227df883c7502b825fb/packages%2Fexamples%2Fcore%2Fdi%2Fts%2Finjector_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fexamples%2Fcore%2Fdi%2Fts%2Finjector_spec.ts?ref=de4fafb818b1648813aef227df883c7502b825fb",
            "patch": "@@ -6,14 +6,12 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {AbstractType, inject, InjectFlags, InjectionToken, Injector, Type, ɵsetCurrentInjector as setCurrentInjector} from '@angular/core';\n+import {inject, InjectFlags, InjectionToken, Injector, ProviderToken, ɵsetCurrentInjector as setCurrentInjector} from '@angular/core';\n \n class MockRootScopeInjector implements Injector {\n   constructor(readonly parent: Injector) {}\n \n-  get<T>(\n-      token: Type<T>|AbstractType<T>|InjectionToken<T>, defaultValue?: any,\n-      flags: InjectFlags = InjectFlags.Default): T {\n+  get<T>(token: ProviderToken<T>, defaultValue?: any, flags: InjectFlags = InjectFlags.Default): T {\n     if ((token as any).ɵprov && (token as any).ɵprov.providedIn === 'root') {\n       const old = setCurrentInjector(this);\n       try {"
        }
    ],
    "stats": {
        "total": 308,
        "additions": 138,
        "deletions": 170
    }
}