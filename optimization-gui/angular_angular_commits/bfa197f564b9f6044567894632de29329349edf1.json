{
    "author": "basherr",
    "message": "fix(animations): replace copy of query selector node-list from \"spread\" to \"for\" (#39646)\n\nFor element queries that return sufficiently large NodeList\nobjects, using spread syntax to populate the results array\ncauses a RangeError due to the call stack limit being reached.\nThis commit updates the code to use regular \"for\" loop instead.\n\nFixes #38551.\n\nPR Close #39646",
    "sha": "bfa197f564b9f6044567894632de29329349edf1",
    "files": [
        {
            "sha": "e2040f9aa15d2d8ba38523909d8b7c087ef349b2",
            "filename": "packages/animations/browser/src/render/shared.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 1,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/bfa197f564b9f6044567894632de29329349edf1/packages%2Fanimations%2Fbrowser%2Fsrc%2Frender%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/bfa197f564b9f6044567894632de29329349edf1/packages%2Fanimations%2Fbrowser%2Fsrc%2Frender%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fanimations%2Fbrowser%2Fsrc%2Frender%2Fshared.ts?ref=bfa197f564b9f6044567894632de29329349edf1",
            "patch": "@@ -183,7 +183,17 @@ if (_isNode || typeof Element !== 'undefined') {\n   _query = (element: any, selector: string, multi: boolean): any[] => {\n     let results: any[] = [];\n     if (multi) {\n-      results.push(...element.querySelectorAll(selector));\n+      // DO NOT REFACTOR TO USE SPREAD SYNTAX.\n+      // For element queries that return sufficiently large NodeList objects,\n+      // using spread syntax to populate the results array causes a RangeError\n+      // due to the call stack limit being reached. `Array.from` can not be used\n+      // as well, since NodeList is not iterable in IE 11, see\n+      // https://developer.mozilla.org/en-US/docs/Web/API/NodeList\n+      // More info is available in #38551.\n+      const elems = element.querySelectorAll(selector);\n+      for (let i = 0; i < elems.length; i++) {\n+        results.push(elems[i]);\n+      }\n     } else {\n       const elm = element.querySelector(selector);\n       if (elm) {"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 11,
        "deletions": 1
    }
}