{
    "author": "thePunderWoman",
    "message": "Revert \"refactor(forms): update minlength/maxlength to inherit abstractValidator\" (#43971)\n\nThis reverts commit 7b31b887f96cbf2f6f93d13f0db4e312d8fac345.\n\nPR Close #43971",
    "sha": "17be47e781771c692ee02847d62a3c29d8605914",
    "files": [
        {
            "sha": "457c4ae16f756bcc3b7540c58d1347df9648abe7",
            "filename": "goldens/public-api/forms/forms.md",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/17be47e781771c692ee02847d62a3c29d8605914/goldens%2Fpublic-api%2Fforms%2Fforms.md",
            "raw_url": "https://github.com/angular/angular/raw/17be47e781771c692ee02847d62a3c29d8605914/goldens%2Fpublic-api%2Fforms%2Fforms.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fforms%2Fforms.md?ref=17be47e781771c692ee02847d62a3c29d8605914",
            "patch": "@@ -454,10 +454,14 @@ export class FormsModule {\n }\n \n // @public\n-export class MaxLengthValidator extends AbstractValidatorDirective implements OnChanges {\n+export class MaxLengthValidator implements Validator, OnChanges {\n+    // (undocumented)\n+    enabled(): boolean;\n     maxlength: string | number | null;\n     // (undocumented)\n     ngOnChanges(changes: SimpleChanges): void;\n+    registerOnValidatorChange(fn: () => void): void;\n+    validate(control: AbstractControl): ValidationErrors | null;\n     // (undocumented)\n     static ɵdir: i0.ɵɵDirectiveDeclaration<MaxLengthValidator, \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", never, { \"maxlength\": \"maxlength\"; }, {}, never>;\n     // (undocumented)\n@@ -475,10 +479,14 @@ export class MaxValidator extends AbstractValidatorDirective implements OnChange\n }\n \n // @public\n-export class MinLengthValidator extends AbstractValidatorDirective implements OnChanges {\n+export class MinLengthValidator implements Validator, OnChanges {\n+    // (undocumented)\n+    enabled(): boolean;\n     minlength: string | number | null;\n     // (undocumented)\n     ngOnChanges(changes: SimpleChanges): void;\n+    registerOnValidatorChange(fn: () => void): void;\n+    validate(control: AbstractControl): ValidationErrors | null;\n     // (undocumented)\n     static ɵdir: i0.ɵɵDirectiveDeclaration<MinLengthValidator, \"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]\", never, { \"minlength\": \"minlength\"; }, {}, never>;\n     // (undocumented)"
        },
        {
            "sha": "b22dfec12960af8bf771ac19e2713317ddbdd62c",
            "filename": "packages/forms/src/directives/validators.ts",
            "status": "modified",
            "additions": 72,
            "deletions": 21,
            "changes": 93,
            "blob_url": "https://github.com/angular/angular/blob/17be47e781771c692ee02847d62a3c29d8605914/packages%2Fforms%2Fsrc%2Fdirectives%2Fvalidators.ts",
            "raw_url": "https://github.com/angular/angular/raw/17be47e781771c692ee02847d62a3c29d8605914/packages%2Fforms%2Fsrc%2Fdirectives%2Fvalidators.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fvalidators.ts?ref=17be47e781771c692ee02847d62a3c29d8605914",
            "patch": "@@ -572,24 +572,50 @@ export const MIN_LENGTH_VALIDATOR: any = {\n   providers: [MIN_LENGTH_VALIDATOR],\n   host: {'[attr.minlength]': 'enabled() ? minlength : null'}\n })\n-export class MinLengthValidator extends AbstractValidatorDirective implements OnChanges {\n+export class MinLengthValidator implements Validator, OnChanges {\n+  private _validator: ValidatorFn = nullValidator;\n+  private _onChange?: () => void;\n+\n   /**\n    * @description\n    * Tracks changes to the minimum length bound to this directive.\n    */\n-  @Input() minlength!: string|number|null;\n-  /** @internal */\n-  override inputName = 'minlength';\n+  @Input()\n+  minlength!: string|number|null;  // This input is always defined, since the name matches selector.\n \n-  /** @internal */\n-  override normalizeInput = (input: string|number): number => toInteger(input);\n+  /** @nodoc */\n+  ngOnChanges(changes: SimpleChanges): void {\n+    if ('minlength' in changes) {\n+      this._createValidator();\n+      if (this._onChange) this._onChange();\n+    }\n+  }\n \n-  /** @internal */\n-  override createValidator = (minlength: number): ValidatorFn => minLengthValidator(minlength);\n+  /**\n+   * Method that validates whether the value meets a minimum length requirement.\n+   * Returns the validation result if enabled, otherwise null.\n+   * @nodoc\n+   */\n+  validate(control: AbstractControl): ValidationErrors|null {\n+    return this.enabled() ? this._validator(control) : null;\n+  }\n+\n+  /**\n+   * Registers a callback function to call when the validator inputs change.\n+   * @nodoc\n+   */\n+  registerOnValidatorChange(fn: () => void): void {\n+    this._onChange = fn;\n+  }\n+\n+  private _createValidator(): void {\n+    this._validator =\n+        this.enabled() ? minLengthValidator(toInteger(this.minlength!)) : nullValidator;\n+  }\n \n   /** @nodoc */\n-  ngOnChanges(changes: SimpleChanges): void {\n-    this.handleChanges(changes);\n+  enabled(): boolean {\n+    return this.minlength != null /* both `null` and `undefined` */;\n   }\n }\n \n@@ -629,24 +655,49 @@ export const MAX_LENGTH_VALIDATOR: any = {\n   providers: [MAX_LENGTH_VALIDATOR],\n   host: {'[attr.maxlength]': 'enabled() ? maxlength : null'}\n })\n-export class MaxLengthValidator extends AbstractValidatorDirective implements OnChanges {\n+export class MaxLengthValidator implements Validator, OnChanges {\n+  private _validator: ValidatorFn = nullValidator;\n+  private _onChange?: () => void;\n+\n   /**\n    * @description\n-   * Tracks changes to the minimum length bound to this directive.\n+   * Tracks changes to the maximum length bound to this directive.\n    */\n-  @Input() maxlength!: string|number|null;\n-  /** @internal */\n-  override inputName = 'maxlength';\n+  @Input()\n+  maxlength!: string|number|null;  // This input is always defined, since the name matches selector.\n \n-  /** @internal */\n-  override normalizeInput = (input: string|number): number => toInteger(input);\n+  /** @nodoc */\n+  ngOnChanges(changes: SimpleChanges): void {\n+    if ('maxlength' in changes) {\n+      this._createValidator();\n+      if (this._onChange) this._onChange();\n+    }\n+  }\n \n-  /** @internal */\n-  override createValidator = (maxlength: number): ValidatorFn => maxLengthValidator(maxlength);\n+  /**\n+   * Method that validates whether the value exceeds the maximum length requirement.\n+   * @nodoc\n+   */\n+  validate(control: AbstractControl): ValidationErrors|null {\n+    return this.enabled() ? this._validator(control) : null;\n+  }\n+\n+  /**\n+   * Registers a callback function to call when the validator inputs change.\n+   * @nodoc\n+   */\n+  registerOnValidatorChange(fn: () => void): void {\n+    this._onChange = fn;\n+  }\n+\n+  private _createValidator(): void {\n+    this._validator =\n+        this.enabled() ? maxLengthValidator(toInteger(this.maxlength!)) : nullValidator;\n+  }\n \n   /** @nodoc */\n-  ngOnChanges(changes: SimpleChanges): void {\n-    this.handleChanges(changes);\n+  enabled(): boolean {\n+    return this.maxlength != null /* both `null` and `undefined` */;\n   }\n }\n "
        }
    ],
    "stats": {
        "total": 105,
        "additions": 82,
        "deletions": 23
    }
}