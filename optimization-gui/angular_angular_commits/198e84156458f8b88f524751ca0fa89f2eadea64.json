{
    "author": "bampakoa",
    "message": "docs(http): add example for interceptor order (#39938)\n\nAdd an example for the order of interceptor with image\n\nPR Close #39938",
    "sha": "198e84156458f8b88f524751ca0fa89f2eadea64",
    "files": [
        {
            "sha": "e4f52097d729c9d2ba506b7a0ec74102a2746320",
            "filename": "aio/content/guide/http.md",
            "status": "modified",
            "additions": 14,
            "deletions": 2,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/198e84156458f8b88f524751ca0fa89f2eadea64/aio%2Fcontent%2Fguide%2Fhttp.md",
            "raw_url": "https://github.com/angular/angular/raw/198e84156458f8b88f524751ca0fa89f2eadea64/aio%2Fcontent%2Fguide%2Fhttp.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fhttp.md?ref=198e84156458f8b88f524751ca0fa89f2eadea64",
            "patch": "@@ -653,8 +653,20 @@ There are many more interceptors in the complete sample code.\n ### Interceptor order\n \n Angular applies interceptors in the order that you provide them.\n-If you provide interceptors _A_, then _B_, then _C_,  requests flow in _A->B->C_ and\n-responses flow out _C->B->A_.\n+For example, consider a situation in which you want to handle the authentication of your HTTP requests and log them before sending them to a server. To accomplish this task, you could provide an `AuthInterceptor` service and then a `LoggingInterceptor` service.\n+Outgoing requests would flow from the `AuthInterceptor` to the `LoggingInterceptor`.\n+Responses from these requests would flow in the other direction, from `LoggingInterceptor` back to `AuthInterceptor`.\n+The following is a visual representation of the process:\n+\n+<div class=\"lightbox\">\n+  <img src=\"generated/images/guide/http/interceptor-order.svg\" alt=\"Interceptor order\">\n+</div>\n+\n+<div class=\"alert is-helpful\">\n+\n+   The last interceptor in the process is always the `HttpBackend` that handles communication with the server.\n+\n+</div>\n \n You cannot change the order or remove interceptors later.\n If you need to enable and disable an interceptor dynamically, you'll have to build that capability into the interceptor itself."
        },
        {
            "sha": "e85d2a6f4833b76540300a12e6f111c0809de57b",
            "filename": "aio/content/images/guide/http/interceptor-order.svg",
            "status": "added",
            "additions": 50,
            "deletions": 0,
            "changes": 50,
            "blob_url": "https://github.com/angular/angular/blob/198e84156458f8b88f524751ca0fa89f2eadea64/aio%2Fcontent%2Fimages%2Fguide%2Fhttp%2Finterceptor-order.svg",
            "raw_url": "https://github.com/angular/angular/raw/198e84156458f8b88f524751ca0fa89f2eadea64/aio%2Fcontent%2Fimages%2Fguide%2Fhttp%2Finterceptor-order.svg",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fimages%2Fguide%2Fhttp%2Finterceptor-order.svg?ref=198e84156458f8b88f524751ca0fa89f2eadea64",
            "patch": "@@ -0,0 +1,50 @@\n+<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 54 94\" width=\"300\">\n+  <style>\n+    #interceptor-exec-order {\n+      fill: none;\n+      stroke: black;\n+      stroke-width: .3;\n+    }\n+    #interceptor-exec-order > text {\n+      dominant-baseline: central;\n+      fill: black;\n+      font-size: 4px;\n+      font-weight: lighter;\n+      letter-spacing: .2px;\n+      text-anchor: middle;\n+    }\n+    #interceptor-exec-order > .dashed {\n+      stroke-dasharray: 2 1;\n+    }\n+  </style>\n+\n+  <defs>\n+    <rect id=\"textbox\" x=\"2\" width=\"50\" height=\"10\" rx=\"2\" />\n+    <path id=\"arrow\" d=\"M12,0 v10 l-2,-4 m2,4 l2,-4\" />\n+    <g id=\"arrows\">\n+      <use href=\"#arrow\" />\n+      <use href=\"#arrow\" style=\"transform: rotateZ(180deg); transform-origin: 27px 5px;\" />\n+    </g>\n+  </defs>\n+\n+  <g id=\"interceptor-exec-order\">\n+    <text x=\"27\" y=\"7\">HttpClient</text>\n+    <use href=\"#textbox\" y=\"02\" class=\"dashed\" />\n+    <use href=\"#arrows\"  y=\"12\" class=\"dashed\" />\n+\n+    <text x=\"27\" y=\"27\">AuthInterceptor</text>\n+    <use href=\"#textbox\" y=\"22\" />\n+    <use href=\"#arrows\"  y=\"32\" />\n+\n+    <text x=\"27\" y=\"47\">LoggingInterceptor</text>\n+    <use href=\"#textbox\" y=\"42\" />\n+    <use href=\"#arrows\"  y=\"52\" />\n+\n+    <text x=\"27\" y=\"67\">HttpBackend</text>\n+    <use href=\"#textbox\" y=\"62\" />\n+    <use href=\"#arrows\"  y=\"72\" class=\"dashed\" />\n+\n+    <text x=\"27\" y=\"87\">Server</text>\n+    <use href=\"#textbox\" y=\"82\" class=\"dashed\" />\n+  </g>\n+</svg>"
        }
    ],
    "stats": {
        "total": 66,
        "additions": 64,
        "deletions": 2
    }
}