{
    "author": "josephperrott",
    "message": "feat(dev-infra): Allow local user ng-dev configuration to disable commit message wizard (#38701)\n\nAs not all users, particularly contributors consistently contributing with a deep\nunderstanding of our commit message guidelines, will not want to rely on the\ncommit message wizard, we allow a user to opt out of using this wizard during\ncommit message creation.\n\nPR Close #38701",
    "sha": "1373a98e259b44c28c0547394bbd48643fe81911",
    "files": [
        {
            "sha": "654e41a0385f72bbb7bd4864099d5143536361e7",
            "filename": "dev-infra/commit-message/wizard.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 3,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/1373a98e259b44c28c0547394bbd48643fe81911/dev-infra%2Fcommit-message%2Fwizard.ts",
            "raw_url": "https://github.com/angular/angular/raw/1373a98e259b44c28c0547394bbd48643fe81911/dev-infra%2Fcommit-message%2Fwizard.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fcommit-message%2Fwizard.ts?ref=1373a98e259b44c28c0547394bbd48643fe81911",
            "patch": "@@ -7,7 +7,8 @@\n  */\n import {writeFileSync} from 'fs';\n \n-import {info} from '../utils/console';\n+import {getUserConfig} from '../utils/config';\n+import {debug, info} from '../utils/console';\n \n import {buildCommitMessage} from './builder';\n \n@@ -25,10 +26,15 @@ const defaultCommitMessage = `<type>(<scope>): <summary>\n \n export async function runWizard(\n     args: {filePath: string, source?: PrepareCommitMsgHookSource, commitSha?: string}) {\n-  // TODO(josephperrott): Add support for skipping wizard with local untracked config file\n+  if (getUserConfig().commitMessage?.disableWizard) {\n+    debug('Skipping commit message wizard due to enabled `commitMessage.disableWizard` option in');\n+    debug('user config.');\n+    process.exitCode = 0;\n+    return;\n+  }\n \n   if (args.source !== undefined) {\n-    info(`Skipping commit message wizard due because the commit was created via '${\n+    info(`Skipping commit message wizard because the commit was created via '${\n         args.source}' source`);\n     process.exitCode = 0;\n     return;"
        },
        {
            "sha": "832bf31d4e36d06fa0f956ae77601851dc4bfb1a",
            "filename": "dev-infra/utils/config.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/1373a98e259b44c28c0547394bbd48643fe81911/dev-infra%2Futils%2Fconfig.ts",
            "raw_url": "https://github.com/angular/angular/raw/1373a98e259b44c28c0547394bbd48643fe81911/dev-infra%2Futils%2Fconfig.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Futils%2Fconfig.ts?ref=1373a98e259b44c28c0547394bbd48643fe81911",
            "patch": "@@ -120,7 +120,7 @@ function readConfigFile(configPath: string, returnEmptyObjectOnError = false): o\n       debug(e);\n       return {};\n     }\n-    error(`Could not read configuration file at ${configPath}.'`);\n+    error(`Could not read configuration file at ${configPath}.`);\n     error(e);\n     process.exit(1);\n   }\n@@ -158,7 +158,7 @@ export function getRepoBaseDir() {\n  * defined.\n  *\n  * @returns The user configuration object, or an empty object if no user configuration file is\n- * present.  The object is a untyped object as there are no required user configurations.\n+ * present. The object is an untyped object as there are no required user configurations.\n  */\n export function getUserConfig() {\n   // If the global config is not defined, load it from the file system."
        }
    ],
    "stats": {
        "total": 16,
        "additions": 11,
        "deletions": 5
    }
}