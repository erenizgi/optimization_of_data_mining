{
    "author": "AleksanderBodurri",
    "message": "build(devtools): use ng-dev stamp tooling to stamp the latest git SHA in devtools\n\nPreviously, we were using ngx-build-plus with a custom webpack config to determine the git SHA at runtime.\n\nNow, after migrating to bazel and transfering to angular/angular, this commit uses ng-dev to stamp the latest git SHA directly in angular devtools' application environment.\n\nThis commit also removes the old webpack configs.",
    "sha": "c24924cbd7300ea0c24822ad64d30308621792dc",
    "files": [
        {
            "sha": "b443bf7d651dc0a00c298a17d46255a86cff6ebf",
            "filename": "devtools/.bazelrc",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2F.bazelrc",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2F.bazelrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelrc?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -1,3 +1,7 @@\n import ../.bazelrc\n \n build --flag_alias=partial_compilation=@npm//@angular/bazel/src:partial_compilation\n+\n+# Snapshots should also be stamped with version control information.\n+build --workspace_status_command=\"yarn -s ng-dev release build-env-stamp --mode=snapshot\"\n+build --stamp\n\\ No newline at end of file"
        },
        {
            "sha": "654835d5214d1628dcdff070f7d703574d26cf89",
            "filename": "devtools/BUILD.bazel",
            "status": "modified",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FBUILD.bazel?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -1,4 +1,3 @@\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -8,17 +7,6 @@ exports_files([\n     \"cypress.json\",\n ])\n \n-ts_test_project(\n-    name = \"initialize_testbed\",\n-    srcs = [\n-        \"initialize_testbed.ts\",\n-    ],\n-    deps = [\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n-    ],\n-)\n-\n ts_config(\n     name = \"tsconfig-spec\",\n     src = \"tsconfig.spec.json\","
        },
        {
            "sha": "e3c12300b25de70b92db96caa77c4b23ea96a9f9",
            "filename": "devtools/angular.json",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fangular.json",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fangular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fangular.json?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -73,10 +73,6 @@\n                 {\n                   \"replace\": \"src/environments/environment.ts\",\n                   \"with\": \"src/environments/environment.e2e.ts\"\n-                },\n-                {\n-                  \"replace\": \"src/app/app.module.ts\",\n-                  \"with\": \"src/app/app.e2e.module.ts\"\n                 }\n               ]\n             }\n@@ -85,7 +81,6 @@\n         \"serve\": {\n           \"builder\": \"ngx-build-plus:dev-server\",\n           \"options\": {\n-            \"extraWebpackConfig\": \"shell-dev-webpack.config.js\",\n             \"browserTarget\": \"shell-dev:build\"\n           },\n           \"configurations\": {\n@@ -154,7 +149,6 @@\n           \"builder\": \"ngx-build-plus:browser\",\n           \"options\": {\n             \"outputPath\": \"dist/shell-chrome\",\n-            \"extraWebpackConfig\": \"projects/shell-chrome/shell-chrome-webpack.config.js\",\n             \"index\": \"projects/shell-chrome/src/index.html\",\n             \"main\": \"projects/shell-chrome/src/main.ts\",\n             \"polyfills\": \"projects/shell-chrome/src/polyfills.ts\","
        },
        {
            "sha": "5c535e577980ab97a892d77e3322160d5e1f2907",
            "filename": "devtools/initialize_testbed.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Finitialize_testbed.ts",
            "raw_url": "https://github.com/angular/angular/raw/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Finitialize_testbed.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Finitialize_testbed.ts?ref=e5cdd3397da57030f26de185cd5cd124063d092a",
            "patch": "@@ -1,10 +0,0 @@\n-/**\n- * @fileoverview Provides a script to initialize TestBed before tests are run.\n- * This file should be included in the \"runtime_deps\" of a \"karma_web_test_suite\"\n- * rule.\n- */\n- import {TestBed} from '@angular/core/testing';\n- import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n- \n- TestBed.initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n- \n\\ No newline at end of file"
        },
        {
            "sha": "2acccf7fe26aa8d9cf4d46947be80b2447a1caea",
            "filename": "devtools/package.json",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fpackage.json?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -19,8 +19,9 @@\n     \"cy:run\": \"yarn cypress run\",\n     \"cy:open\": \"yarn cypress open\",\n     \"cy:watch\": \"start-server-and-test start http-get://localhost:4200 cy:open\",\n-    \"cy:ci\": \"start-server-and-test start http-get://localhost:4200 cy:run\",\n-    \"test:ci\": \"bazelisk --bazelrc=../.circleci/bazel.linux.rc test //...\",\n+    \"start:ci\": \"bazelisk run src:devserver\",\n+    \"cy:ci\": \"start-server-and-test start:ci http-get://localhost:4200 cy:run\",\n+    \"test:ci\": \"bazelisk test //...\",\n     \"build:chrome:ci\": \"bazelisk build projects/shell-chrome/src:prodapp\",\n     \"prettier\": \"prettier --write \\\"{,!(node_modules|dist|build|coverage)/**/}*.{js,jsx,ts,tsx,json}\\\"\",\n     \"prettier:fix\": \"pretty-quick --staged\"\n@@ -45,7 +46,6 @@\n     \"@babel/cli\": \"^7.16.0\",\n     \"@babel/core\": \"^7.16.0\",\n     \"@types/node\": \"^16.7.1\",\n-    \"ajv-formats\": \"^2.1.1\",\n     \"d3\": \"^5.7.0\",\n     \"memo-decorator\": \"^2.0.1\",\n     \"ngx-flamegraph\": \"0.0.10\","
        },
        {
            "sha": "17d52a8fcb888ad671de3b53b4bc31c851c9f526",
            "filename": "devtools/packages.bzl",
            "status": "modified",
            "additions": 0,
            "deletions": 30,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fpackages.bzl",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fpackages.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fpackages.bzl?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -1,33 +1,3 @@\n-# Each individual package uses a placeholder for the version of Angular to ensure they're\n-# all in-sync. This map is passed to each ng_package rule to stamp out the appropriate\n-# version for the placeholders.\n-ANGULAR_PACKAGE_VERSION = \"^13.0.0 || ^14.0.0-0\"\n-MDC_PACKAGE_VERSION = \"14.0.0-canary.1af7c1c4a.0\"\n-TSLIB_PACKAGE_VERSION = \"^2.3.0\"\n-RXJS_PACKAGE_VERSION = \"^6.5.3 || ^7.4.0\"\n-\n-# Each placeholder is used to stamp versions during the build process, replacing the key with it's\n-# value pair. These replacements occur during building of `npm_package` and `ng_package` stamping in\n-# the peer dependencies and versions, primarily in `package.json`s.\n-NPM_PACKAGE_SUBSTITUTIONS = {\n-    # Version of `material-components-web`\n-    \"0.0.0-MDC\": MDC_PACKAGE_VERSION,\n-    # Version of `@angular/core`\n-    \"0.0.0-NG\": ANGULAR_PACKAGE_VERSION,\n-    # Version of `tslib`\n-    \"0.0.0-TSLIB\": TSLIB_PACKAGE_VERSION,\n-    # Version of the local package being built, generated via the `--workspace_status_command` flag.\n-    \"0.0.0-PLACEHOLDER\": \"{BUILD_SCM_VERSION}\",\n-    # Version of `rxjs`\n-    \"0.0.0-RXJS\": RXJS_PACKAGE_VERSION,\n-}\n-\n-NO_STAMP_NPM_PACKAGE_SUBSTITUTIONS = dict(NPM_PACKAGE_SUBSTITUTIONS, **{\n-    # When building NPM packages for tests (where stamping is disabled),\n-    # we use `0.0.0` for the version placeholder.\n-    \"0.0.0-PLACEHOLDER\": \"0.0.0\",\n-})\n-\n # List of MDC packages.\n MDC_PACKAGES = [\n     \"@material/animation\","
        },
        {
            "sha": "ea09fff0c04054906580b537008efe29f1e7a6e2",
            "filename": "devtools/projects/ng-devtools/src/lib/application-environment/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2Findex.ts?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -1,14 +1,10 @@\n-export interface Process {\n-  env: Env;\n-}\n-\n interface Env {\n   LATEST_SHA: string;\n }\n \n export interface Environment {\n   production: boolean;\n-  process: Process;\n+  LATEST_SHA: string;\n }\n \n export abstract class ApplicationEnvironment {"
        },
        {
            "sha": "9e2982689cd7a3f10f24f89e36a176bc0657ccd1",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.component.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdevtools-tabs.component.ts?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -59,7 +59,7 @@ export class DevToolsTabsComponent implements OnInit, OnDestroy, AfterViewInit {\n   }\n \n   get latestSHA(): string {\n-    return this._applicationEnvironment.environment.process.env.LATEST_SHA;\n+    return this._applicationEnvironment.environment.LATEST_SHA.slice(0, 8);\n   }\n \n   changeTab(tab: 'Profiler' | 'Components' | 'Router Tree'): void {"
        },
        {
            "sha": "2782715b108402f4b8aeac47c75c87a1c7bb2e48",
            "filename": "devtools/projects/shell-chrome/shell-chrome-webpack.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 30,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fprojects%2Fshell-chrome%2Fshell-chrome-webpack.config.js",
            "raw_url": "https://github.com/angular/angular/raw/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fprojects%2Fshell-chrome%2Fshell-chrome-webpack.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fshell-chrome-webpack.config.js?ref=e5cdd3397da57030f26de185cd5cd124063d092a",
            "patch": "@@ -1,30 +0,0 @@\n-const webpack = require('webpack');\n-\n-module.exports = {\n-  entry: {\n-    // Use library so that the background script can invoke the content\n-    // script multiple times. Alternatively, webpack is preventing us to do so.\n-    'content-script': {\n-      import: 'projects/shell-chrome/src/app/content-script.ts',\n-      library: {\n-        name: '___devToolsContentScript',\n-        type: 'umd',\n-        umdNamedDefine: true,\n-      },\n-    },\n-    'ng-validate': 'projects/shell-chrome/src/app/ng-validate.ts',\n-    background: 'projects/shell-chrome/src/app/background.ts',\n-    backend: 'projects/shell-chrome/src/app/backend.ts',\n-    devtools: 'projects/shell-chrome/src/devtools.ts',\n-  },\n-  output: {\n-    chunkLoadingGlobal: '___ngDevToolsRuntime',\n-  },\n-  plugins: [\n-    new webpack.DefinePlugin({\n-      'process.env': {\n-        LATEST_SHA: JSON.stringify(process.env.LATEST_SHA),\n-      },\n-    }),\n-  ],\n-};"
        },
        {
            "sha": "b5bce4cdf6330b381f8381612ea8b336823d173e",
            "filename": "devtools/projects/shell-chrome/src/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2FBUILD.bazel?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -330,4 +330,5 @@ pkg_web(\n     additional_root_paths = [\n         \"projects/ng-devtools/src/lib\",\n     ],\n+    substitutions = {\"BUILD_SCM_COMMIT_SHA\": \"{BUILD_SCM_COMMIT_SHA}\"},\n )"
        },
        {
            "sha": "de2abcf7a7b0d9da38acc8bef0126fc7a9525cb2",
            "filename": "devtools/projects/shell-chrome/src/environments/environment.prod.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.prod.ts",
            "raw_url": "https://github.com/angular/angular/raw/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.prod.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.prod.ts?ref=e5cdd3397da57030f26de185cd5cd124063d092a",
            "patch": "@@ -1,9 +0,0 @@\n-export const environment = {\n-  production: true,\n-  process: {\n-    env: {\n-      // todo(aleksanderbodurri): when devtools is merged into the main angular repo, use stamping tooling to inject the latest SHA into the environment\n-      LATEST_SHA: '',\n-    },\n-  },\n-};"
        },
        {
            "sha": "464341c5c2b2218b0254f6f96ae5e18d483aa07f",
            "filename": "devtools/projects/shell-chrome/src/environments/environment.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -1,10 +1,4 @@\n export const environment = {\n   production: false,\n-  process: {\n-    env: {\n-      // todo(aleksanderbodurri): when devtools is merged into the main angular repo,\n-      // use stamping tooling to inject the latest SHA into the environment\n-      LATEST_SHA: '',\n-    },\n-  },\n+  LATEST_SHA: 'BUILD_SCM_COMMIT_SHA', // Stamped at build time by bazel\n };"
        },
        {
            "sha": "534a224b7bfb9f920453bea3b995ca57c6c48dab",
            "filename": "devtools/shell-dev-webpack.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fshell-dev-webpack.config.js",
            "raw_url": "https://github.com/angular/angular/raw/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fshell-dev-webpack.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fshell-dev-webpack.config.js?ref=e5cdd3397da57030f26de185cd5cd124063d092a",
            "patch": "@@ -1,11 +0,0 @@\n-const webpack = require('webpack');\n-\n-module.exports = {\n-  plugins: [\n-    new webpack.DefinePlugin({\n-      'process.env': {\n-        LATEST_SHA: JSON.stringify(process.env.LATEST_SHA),\n-      },\n-    }),\n-  ],\n-};"
        },
        {
            "sha": "a68b180dd4b60c4f9cbf1c155f2180fc5c6ebe52",
            "filename": "devtools/src/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2FBUILD.bazel?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -323,6 +323,7 @@ pkg_web(\n         \":bundle-es2015\",\n         \":inject_scripts_for_dev\",\n     ],\n+    substitutions = {\"BUILD_SCM_COMMIT_SHA\": \"{BUILD_SCM_COMMIT_SHA}\"},\n )\n \n history_server("
        },
        {
            "sha": "005dda55ff160ca4367a77ae75a543f5f6577016",
            "filename": "devtools/src/app/BUILD.bazel",
            "status": "modified",
            "additions": 0,
            "deletions": 23,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2Fapp%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2Fapp%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2FBUILD.bazel?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -30,26 +30,3 @@ ng_ts_project(\n         \"@npm//@angular/router\",\n     ],\n )\n-\n-# ng_ts_project(\n-#     name = \"app-e2e\",\n-#     srcs = [\n-#         \"app.component.ts\",\n-#         \"app.e2e.module.ts\",\n-#     ],\n-#     angular_assets = [\n-#         \"app.component.html\",\n-#         \":app-component-styles\"\n-#     ],\n-#     deps = [\n-#         \"//src/app/devtools-app\",\n-#         \"//src/app/demo-app\",\n-#         \"//src:demo-application-operations\",\n-#         \"//src:demo-application-environment\",\n-#         \"//projects/ng-devtools\",\n-#         \"@npm//@angular/core\",\n-#         \"@npm//@angular/router\",\n-#         \"@npm//@angular/platform-browser\",\n-#     ],\n-#     tsconfig = \"//:tsconfig.json\",\n-# )"
        },
        {
            "sha": "36021c943eed28bcfdb403d3d7d284953e43c5f4",
            "filename": "devtools/src/environments/BUILD.bazel",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fenvironments%2FBUILD.bazel?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -5,8 +5,6 @@ package(default_visibility = [\"//visibility:public\"])\n ts_project(\n     name = \"environments\",\n     srcs = [\n-        \"environment.e2e.ts\",\n-        \"environment.prod.ts\",\n         \"environment.ts\",\n     ],\n     tsconfig = \"//:tsconfig.json\","
        },
        {
            "sha": "d68601e9b0998d914f5f024ffdc572acc2337e82",
            "filename": "devtools/src/environments/environment.e2e.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fsrc%2Fenvironments%2Fenvironment.e2e.ts",
            "raw_url": "https://github.com/angular/angular/raw/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fsrc%2Fenvironments%2Fenvironment.e2e.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fenvironments%2Fenvironment.e2e.ts?ref=e5cdd3397da57030f26de185cd5cd124063d092a",
            "patch": "@@ -1,12 +0,0 @@\n-import { NoopAnimationsModule } from '@angular/platform-browser/animations';\n-\n-export const environment = {\n-  production: false,\n-  process: {\n-    env: {\n-      // todo(aleksanderbodurri): when devtools is merged into the main angular repo, use stamping tooling to inject the latest SHA into the environment\n-      LATEST_SHA: '',\n-    },\n-  },\n-  animationModule: NoopAnimationsModule,\n-};"
        },
        {
            "sha": "cabcb4bff3947ed1a2ec4da07698523687efcd75",
            "filename": "devtools/src/environments/environment.prod.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fsrc%2Fenvironments%2Fenvironment.prod.ts",
            "raw_url": "https://github.com/angular/angular/raw/e5cdd3397da57030f26de185cd5cd124063d092a/devtools%2Fsrc%2Fenvironments%2Fenvironment.prod.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fenvironments%2Fenvironment.prod.ts?ref=e5cdd3397da57030f26de185cd5cd124063d092a",
            "patch": "@@ -1,12 +0,0 @@\n-import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n-\n-export const environment = {\n-  production: true,\n-  process: {\n-    env: {\n-      // todo(aleksanderbodurri): when devtools is merged into the main angular repo, use stamping tooling to inject the latest SHA into the environment\n-      LATEST_SHA: '',\n-    },\n-  },\n-  animationModule: BrowserAnimationsModule,\n-};"
        },
        {
            "sha": "fedfaa5f491bb89339c25e72a491ad351c97ae67",
            "filename": "devtools/src/environments/environment.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 8,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fenvironments%2Fenvironment.ts?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -2,12 +2,5 @@ import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n \n export const environment = {\n   production: false,\n-  process: {\n-    env: {\n-      // todo(aleksanderbodurri): when devtools is merged into the main angular repo,\n-      // use stamping tooling to inject the latest SHA into the environment\n-      LATEST_SHA: '',\n-    },\n-  },\n-  animationModule: BrowserAnimationsModule,\n+  LATEST_SHA: 'BUILD_SCM_COMMIT_SHA', // Stamped at build time by bazel\n };"
        },
        {
            "sha": "7cc83e1b3874e33abac81a18f4692ee3145c085c",
            "filename": "devtools/yarn.lock",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/c24924cbd7300ea0c24822ad64d30308621792dc/devtools%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fyarn.lock?ref=c24924cbd7300ea0c24822ad64d30308621792dc",
            "patch": "@@ -3035,7 +3035,7 @@ ajv-errors@^1.0.0:\n   resolved \"https://registry.yarnpkg.com/ajv-errors/-/ajv-errors-1.0.1.tgz#f35986aceb91afadec4102fbd85014950cefa64d\"\n   integrity sha512-DCRfO/4nQ+89p/RK43i8Ezd41EqdGIU4ld7nGF8OQ14oc/we5rEntLCUa7+jrn3nn83BosfwZA0wb4pon2o8iQ==\n \n-ajv-formats@2.1.1, ajv-formats@^2.1.1:\n+ajv-formats@2.1.1:\n   version \"2.1.1\"\n   resolved \"https://registry.yarnpkg.com/ajv-formats/-/ajv-formats-2.1.1.tgz#6e669400659eb74973bbf2e33327180a0996b520\"\n   integrity sha512-Wx0Kx52hxE7C18hkMEggYlEifqWZtYaRgouJor+WMdPnQyEK13vgEWyVNup7SoeeoLMsr4kf5h6dOW11I15MUA=="
        }
    ],
    "stats": {
        "total": 196,
        "additions": 14,
        "deletions": 182
    }
}