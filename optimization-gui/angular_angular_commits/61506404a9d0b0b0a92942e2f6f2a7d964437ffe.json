{
    "author": "kapunahelewong",
    "message": "docs: move di-in-action doc to conceptual ref section (#39544)\n\nRemoves duplicate info, moves document into conceptual\nreference section, but doesn't edit remaining content.\nGroups two dependency injection documents together in\none expandable nav section.\n\nPR Close #39544",
    "sha": "61506404a9d0b0b0a92942e2f6f2a7d964437ffe",
    "files": [
        {
            "sha": "0a9b5b9381d2381a7e47523140a1e69448ea94dd",
            "filename": "aio/content/guide/dependency-injection-in-action.md",
            "status": "modified",
            "additions": 3,
            "deletions": 169,
            "changes": 172,
            "blob_url": "https://github.com/angular/angular/blob/61506404a9d0b0b0a92942e2f6f2a7d964437ffe/aio%2Fcontent%2Fguide%2Fdependency-injection-in-action.md",
            "raw_url": "https://github.com/angular/angular/raw/61506404a9d0b0b0a92942e2f6f2a7d964437ffe/aio%2Fcontent%2Fguide%2Fdependency-injection-in-action.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdependency-injection-in-action.md?ref=61506404a9d0b0b0a92942e2f6f2a7d964437ffe",
            "patch": "@@ -1,91 +1,15 @@\n # Dependency injection in action\n \n-This section explores many of the features of dependency injection (DI) in Angular.\n-{@a toc}\n-\n-See the <live-example name=\"dependency-injection-in-action\"></live-example>\n-of the code in this cookbook.\n-\n-{@a nested-dependencies}\n-\n-## Nested service dependencies\n-\n-The _consumer_ of an injected service doesn't need to know how to create that service.\n-It's the job of the DI framework to create and cache dependencies. The consumer just\n-needs to let the DI framework know which dependencies it needs.\n-\n-Sometimes a service depends on other services, which may depend on yet other services.\n-The dependency injection framework resolves these nested dependencies in the correct order.\n-At each step, the consumer of dependencies declares what it requires in its\n-constructor, and lets the framework provide them.\n-\n-The following example shows that `AppComponent` declares its dependence on `LoggerService` and `UserContext`.\n-\n-<code-example path=\"dependency-injection-in-action/src/app/app.component.ts\" region=\"ctor\" header=\"src/app/app.component.ts\"></code-example>\n-\n-\n-`UserContext` in turn depends on both `LoggerService` and\n-`UserService`, another service that gathers information about a particular user.\n-\n-\n-<code-example path=\"dependency-injection-in-action/src/app/user-context.service.ts\" region=\"injectables\" header=\"user-context.service.ts (injection)\"></code-example>\n-\n-\n-When Angular creates `AppComponent`, the DI framework creates an instance of `LoggerService` and starts to create `UserContextService`.\n-`UserContextService` also needs `LoggerService`, which the framework already has, so the framework can provide the same instance. `UserContextService` also needs `UserService`, which the framework has yet to create. `UserService` has no further dependencies, so the framework can simply use `new` to instantiate the class and provide the instance to the `UserContextService` constructor.\n-\n-The parent `AppComponent` doesn't need to know about the dependencies of dependencies.\n-Declare what's needed in the constructor (in this case `LoggerService` and `UserContextService`)\n-and the framework resolves the nested dependencies.\n-\n-When all dependencies are in place, `AppComponent` displays the user information.\n-\n-<div class=\"lightbox\">\n-  <img src=\"generated/images/guide/dependency-injection-in-action/logged-in-user.png\" alt=\"Logged In User\">\n-</div>\n-\n-{@a service-scope}\n-\n-## Limit service scope to a component subtree\n-\n-An Angular application has multiple injectors, arranged in a tree hierarchy that parallels the component tree.\n-Each injector creates a singleton instance of a dependency.\n-That same instance is injected wherever that injector provides that service.\n-A particular service can be provided and created at any level of the injector hierarchy,\n-which means that there can be multiple instances of a service if it is provided by multiple injectors.\n-\n-Dependencies provided by the root injector can be injected into *any* component *anywhere* in the application.\n-In some cases, you might want to restrict service availability to a particular region of the application.\n-For instance, you might want to let users explicitly opt in to use a service,\n-rather than letting the root injector provide it automatically.\n-\n-You can limit the scope of an injected service to a *branch* of the application hierarchy\n-by providing that service *at the sub-root component for that branch*.\n-This example shows how to make a different instance of `HeroService` available to `HeroesBaseComponent`\n-by adding it to the `providers` array of the `@Component()` decorator of the sub-component.\n-\n-<code-example path=\"dependency-injection-in-action/src/app/sorted-heroes.component.ts\" region=\"injection\" header=\"src/app/sorted-heroes.component.ts (HeroesBaseComponent excerpt)\">\n-\n-</code-example>\n-\n-When Angular creates `HeroesBaseComponent`, it also creates a new instance of `HeroService`\n-that is visible only to that component and its children, if any.\n-\n-You could also provide `HeroService` to a different component elsewhere in the application.\n-That would result in a different instance of the service, living in a different injector.\n+This guide explores many of the features of dependency injection (DI) in Angular.\n \n <div class=\"alert is-helpful\">\n \n-Examples of such scoped `HeroService` singletons appear throughout the accompanying sample code,\n-including `HeroBiosComponent`, `HeroOfTheMonthComponent`, and `HeroesBaseComponent`.\n-Each of these components has its own `HeroService` instance managing its own independent collection of heroes.\n+See the <live-example></live-example> for a working example containing the code snippets in this guide.\n \n </div>\n \n-\n {@a multiple-service-instances}\n \n-\n ## Multiple service instances (sandboxing)\n \n Sometimes you want multiple instances of a service at *the same level* of the component hierarchy.\n@@ -272,7 +196,7 @@ Although developers strive to avoid it, many visual effects and third-party tool\n require DOM access.\n As a result, you might need to access a component's DOM element.\n \n-To illustrate, here's a simplified version of `HighlightDirective` from\n+To illustrate, here's a minimal version of `HighlightDirective` from\n the [Attribute Directives](guide/attribute-directives) page.\n \n <code-example path=\"dependency-injection-in-action/src/app/highlight.directive.ts\" header=\"src/app/highlight.directive.ts\">\n@@ -297,46 +221,6 @@ The following image shows the effect of mousing over the `<hero-bios-and-contact\n <div class=\"lightbox\">\n   <img src=\"generated/images/guide/dependency-injection-in-action/highlight.png\" alt=\"Highlighted bios\">\n </div>\n-\n-{@a providers}\n-\n-\n-## Define dependencies with providers\n-\n-This section demonstrates how to write providers that deliver dependent services.\n-\n-In order to get a service from a dependency injector, you have to give it a [token](guide/glossary#token).\n-Angular usually handles this transaction by specifying a constructor parameter and its type.\n-The parameter type serves as the injector lookup token.\n-Angular passes this token to the injector and assigns the result to the parameter.\n-\n-The following is a typical example.\n-\n-\n-<code-example path=\"dependency-injection-in-action/src/app/hero-bios.component.ts\" region=\"ctor\" header=\"src/app/hero-bios.component.ts (component constructor injection)\"></code-example>\n-\n-\n-Angular asks the injector for the service associated with `LoggerService`\n-and assigns the returned value to the `logger` parameter.\n-\n-If the injector has already cached an instance of the service associated with the token,\n-it provides that instance.\n-If it doesn't, it needs to make one using the provider associated with the token.\n-\n-<div class=\"alert is-helpful\">\n-\n-If the injector doesn't have a provider for a requested token, it delegates the request\n-to its parent injector, where the process repeats until there are no more injectors.\n-If the search fails, the injector throws an error&mdash;unless the request was [optional](guide/dependency-injection-in-action#optional).\n-\n-\n-</div>\n-\n-A new injector has no providers.\n-Angular initializes the injectors it creates with a set of preferred providers.\n-You have to configure providers for your own app-specific dependencies.\n-\n-\n {@a defining-providers}\n \n \n@@ -700,53 +584,3 @@ appear *above* the class definition.\n Break the circularity with `forwardRef`.\n \n <code-example path=\"dependency-injection-in-action/src/app/parent-finder.component.ts\" region=\"alex-providers\" header=\"parent-finder.component.ts (AlexComponent providers)\"></code-example>\n-\n-\n-<!--- Waiting for good examples\n-\n-{@a directive-level-providers}\n-\n-{@a element-level-providers}\n-\n-## Element-level providers\n-\n-A component is a specialization of directive, and the `@Component()` decorator inherits the `providers` property from `@Directive`. The injector is at the element level, so a provider configured with any element-level injector is available to any component, directive, or pipe attached to the same element.\n-\n-Here's a live example that implements a custom form control, taking advantage of an injector that is shared by a component and a directive on the same element.\n-\n-https://stackblitz.com/edit/basic-form-control\n-\n-The component, `custom-control`, configures a provider for the DI token `NG_VALUE_ACCESSOR`.\n-In the template, the `FormControlName` directive is instantiated along with the custom component.\n-It can inject the `NG_VALUE_ACCESSOR` dependency because they share the same injector.\n-(Notice that this example also makes use of `forwardRef()` to resolve a circularity in the definitions.)\n-\n-### Sharing a service among components\n-\n-__NEED TO TURN THIS INTO FULL EXTERNAL EXAMPLE__\n-\n-Suppose you want to share the same `HeroCacheService` among multiple components. One way to do this is to create a directive.\n-\n-```\n-<ng-container heroCache>\n-  <hero-overview></hero-overview>\n-  <hero-details></hero-details>\n-</ng-container>\n-```\n-\n-Use the `@Directive()` decorator to configure the provider for the service:\n-\n-```\n-@Directive(providers:[HeroCacheService])\n-\n-class heroCache{...}\n-```\n-\n-Because the injectors for both the overview and details components are children of the injector created from the `heroCache` directive, they can inject things it provides.\n-If the `heroCache` directive provides the `HeroCacheService`, the two components end up sharing them.\n-\n-If you want to show only one of them, use the directive to make sure __??of what??__.\n-\n-`<hero-overview heroCache></hero-overview>`\n-\n- --->"
        },
        {
            "sha": "581474479ec7898f5211f732a811a053de22754e",
            "filename": "aio/content/navigation.json",
            "status": "modified",
            "additions": 14,
            "deletions": 8,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/61506404a9d0b0b0a92942e2f6f2a7d964437ffe/aio%2Fcontent%2Fnavigation.json",
            "raw_url": "https://github.com/angular/angular/raw/61506404a9d0b0b0a92942e2f6f2a7d964437ffe/aio%2Fcontent%2Fnavigation.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fnavigation.json?ref=61506404a9d0b0b0a92942e2f6f2a7d964437ffe",
            "patch": "@@ -238,11 +238,6 @@\n               \"url\": \"guide/dependency-injection-providers\",\n               \"title\": \"DI Providers\",\n               \"tooltip\": \"More about the different kinds of providers.\"\n-            },\n-            {\n-              \"url\": \"guide/dependency-injection-in-action\",\n-              \"title\": \"DI in Action\",\n-              \"tooltip\": \"Techniques for dependency injection.\"\n             }\n           ]\n         }\n@@ -883,9 +878,20 @@\n               ]\n             },\n             {\n-              \"url\": \"guide/hierarchical-dependency-injection\",\n-              \"title\": \"Hierarchical Injectors\",\n-              \"tooltip\": \"An injector tree parallels the component tree and supports nested dependencies.\"\n+              \"title\": \"Dependency injection\",\n+              \"tooltip\": \"Using dependency injection in Angular.\",\n+              \"children\": [\n+                {\n+                  \"url\": \"guide/hierarchical-dependency-injection\",\n+                  \"title\": \"Hierarchical Injectors\",\n+                  \"tooltip\": \"An injector tree parallels the component tree and supports nested dependencies.\"\n+                },\n+                {\n+                  \"url\": \"guide/dependency-injection-in-action\",\n+                  \"title\": \"DI in Action\",\n+                  \"tooltip\": \"Techniques for dependency injection.\"\n+                }\n+              ]\n             }\n           ]\n         },"
        }
    ],
    "stats": {
        "total": 194,
        "additions": 17,
        "deletions": 177
    }
}