{
    "author": "crisbeto",
    "message": "test(compiler-cli): migrate input/output compliance tests (#39867)\n\nMigrates the `r3_view_compiler_input_outputs` compliance tests to the new format.\n\nPR Close #39867",
    "sha": "97ea2c7bfd5e0419c46a718445a776850515d0ff",
    "files": [
        {
            "sha": "630432f8a7f7a4b537e86d785bc20b6150c9bb6f",
            "filename": "packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_input_outputs/GOLDEN_PARTIAL.js",
            "status": "added",
            "additions": 99,
            "deletions": 0,
            "changes": 99,
            "blob_url": "https://github.com/angular/angular/blob/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2FGOLDEN_PARTIAL.js",
            "raw_url": "https://github.com/angular/angular/raw/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2FGOLDEN_PARTIAL.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2FGOLDEN_PARTIAL.js?ref=97ea2c7bfd5e0419c46a718445a776850515d0ff",
            "patch": "@@ -0,0 +1,99 @@\n+/****************************************************************************************************\n+ * PARTIAL FILE: component.js\n+ ****************************************************************************************************/\n+import { Component, Input, NgModule, Output } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class MyComponent {\n+}\n+MyComponent.ɵfac = function MyComponent_Factory(t) { return new (t || MyComponent)(); };\n+MyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ version: 1, type: MyComponent, selector: \"my-component\", inputs: { componentInput: \"componentInput\", originalComponentInput: [\"renamedComponentInput\", \"originalComponentInput\"] }, outputs: { componentOutput: \"componentOutput\", originalComponentOutput: \"renamedComponentOutput\" }, ngImport: i0, template: { source: '', isInline: true } });\n+/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(MyComponent, [{\n+        type: Component,\n+        args: [{ selector: 'my-component', template: '' }]\n+    }], null, { componentInput: [{\n+            type: Input\n+        }], originalComponentInput: [{\n+            type: Input,\n+            args: ['renamedComponentInput']\n+        }], componentOutput: [{\n+            type: Output\n+        }], originalComponentOutput: [{\n+            type: Output,\n+            args: ['renamedComponentOutput']\n+        }] }); })();\n+export class MyModule {\n+}\n+MyModule.ɵmod = i0.ɵɵdefineNgModule({ type: MyModule });\n+MyModule.ɵinj = i0.ɵɵdefineInjector({ factory: function MyModule_Factory(t) { return new (t || MyModule)(); } });\n+(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(MyModule, { declarations: [MyComponent] }); })();\n+/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(MyModule, [{\n+        type: NgModule,\n+        args: [{ declarations: [MyComponent] }]\n+    }], null, null); })();\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: component.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class MyComponent {\n+    componentInput: any;\n+    originalComponentInput: any;\n+    componentOutput: any;\n+    originalComponentOutput: any;\n+    static ɵfac: i0.ɵɵFactoryDef<MyComponent, never>;\n+    static ɵcmp: i0.ɵɵComponentDefWithMeta<MyComponent, \"my-component\", never, { \"componentInput\": \"componentInput\"; \"originalComponentInput\": \"renamedComponentInput\"; }, { \"componentOutput\": \"componentOutput\"; \"originalComponentOutput\": \"renamedComponentOutput\"; }, never, never>;\n+}\n+export declare class MyModule {\n+    static ɵmod: i0.ɵɵNgModuleDefWithMeta<MyModule, [typeof MyComponent], never, never>;\n+    static ɵinj: i0.ɵɵInjectorDef<MyModule>;\n+}\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: directive.js\n+ ****************************************************************************************************/\n+import { Directive, Input, NgModule, Output } from '@angular/core';\n+import * as i0 from \"@angular/core\";\n+export class MyDirective {\n+}\n+MyDirective.ɵfac = function MyDirective_Factory(t) { return new (t || MyDirective)(); };\n+MyDirective.ɵdir = i0.ɵɵngDeclareDirective({ version: 1, type: MyDirective, selector: \"[my-directive]\", inputs: { directiveInput: \"directiveInput\", originalDirectiveInput: [\"renamedDirectiveInput\", \"originalDirectiveInput\"] }, outputs: { directiveOutput: \"directiveOutput\", originalDirectiveOutput: \"renamedDirectiveOutput\" }, ngImport: i0 });\n+/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(MyDirective, [{\n+        type: Directive,\n+        args: [{ selector: '[my-directive]' }]\n+    }], null, { directiveInput: [{\n+            type: Input\n+        }], originalDirectiveInput: [{\n+            type: Input,\n+            args: ['renamedDirectiveInput']\n+        }], directiveOutput: [{\n+            type: Output\n+        }], originalDirectiveOutput: [{\n+            type: Output,\n+            args: ['renamedDirectiveOutput']\n+        }] }); })();\n+export class MyModule {\n+}\n+MyModule.ɵmod = i0.ɵɵdefineNgModule({ type: MyModule });\n+MyModule.ɵinj = i0.ɵɵdefineInjector({ factory: function MyModule_Factory(t) { return new (t || MyModule)(); } });\n+(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(MyModule, { declarations: [MyDirective] }); })();\n+/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(MyModule, [{\n+        type: NgModule,\n+        args: [{ declarations: [MyDirective] }]\n+    }], null, null); })();\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: directive.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class MyDirective {\n+    directiveInput: any;\n+    originalDirectiveInput: any;\n+    directiveOutput: any;\n+    originalDirectiveOutput: any;\n+    static ɵfac: i0.ɵɵFactoryDef<MyDirective, never>;\n+    static ɵdir: i0.ɵɵDirectiveDefWithMeta<MyDirective, \"[my-directive]\", never, { \"directiveInput\": \"directiveInput\"; \"originalDirectiveInput\": \"renamedDirectiveInput\"; }, { \"directiveOutput\": \"directiveOutput\"; \"originalDirectiveOutput\": \"renamedDirectiveOutput\"; }, never>;\n+}\n+export declare class MyModule {\n+    static ɵmod: i0.ɵɵNgModuleDefWithMeta<MyModule, [typeof MyDirective], never, never>;\n+    static ɵinj: i0.ɵɵInjectorDef<MyModule>;\n+}"
        },
        {
            "sha": "06b295846fb674947131a13986a85471e92af39b",
            "filename": "packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_input_outputs/TEST_CASES.json",
            "status": "added",
            "additions": 39,
            "deletions": 0,
            "changes": 39,
            "blob_url": "https://github.com/angular/angular/blob/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2FTEST_CASES.json",
            "raw_url": "https://github.com/angular/angular/raw/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2FTEST_CASES.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2FTEST_CASES.json?ref=97ea2c7bfd5e0419c46a718445a776850515d0ff",
            "patch": "@@ -0,0 +1,39 @@\n+{\n+  \"$schema\": \"../test_case_schema.json\",\n+  \"cases\": [\n+    {\n+      \"description\": \"should declare inputs/outputs on a component\",\n+      \"inputFiles\": [\n+        \"component.ts\"\n+      ],\n+      \"expectations\": [\n+        {\n+          \"files\": [\n+            {\n+              \"expected\": \"component_definition.js\",\n+              \"generated\": \"component.js\"\n+            }\n+          ],\n+          \"failureMessage\": \"Incorrect component definition\"\n+        }\n+      ]\n+    },\n+    {\n+      \"description\": \"should declare inputs/outputs on a directive\",\n+      \"inputFiles\": [\n+        \"directive.ts\"\n+      ],\n+      \"expectations\": [\n+        {\n+          \"files\": [\n+            {\n+              \"expected\": \"directive_definition.js\",\n+              \"generated\": \"directive.js\"\n+            }\n+          ],\n+          \"failureMessage\": \"Incorrect directive definition\"\n+        }\n+      ]\n+    }\n+  ]\n+}"
        },
        {
            "sha": "8601c420977dca321b2ad95a3995f7d3280fcd89",
            "filename": "packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_input_outputs/component.ts",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fcomponent.ts",
            "raw_url": "https://github.com/angular/angular/raw/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fcomponent.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fcomponent.ts?ref=97ea2c7bfd5e0419c46a718445a776850515d0ff",
            "patch": "@@ -0,0 +1,14 @@\n+import {Component, Input, NgModule, Output} from '@angular/core';\n+\n+@Component({selector: 'my-component', template: ''})\n+export class MyComponent {\n+  @Input() componentInput: any;\n+  @Input('renamedComponentInput') originalComponentInput: any;\n+\n+  @Output() componentOutput: any;\n+  @Output('renamedComponentOutput') originalComponentOutput: any;\n+}\n+\n+@NgModule({declarations: [MyComponent]})\n+export class MyModule {\n+}"
        },
        {
            "sha": "219e68d774fc15bedb53d1d589ae883ad3bf2626",
            "filename": "packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_input_outputs/component_definition.js",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fcomponent_definition.js",
            "raw_url": "https://github.com/angular/angular/raw/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fcomponent_definition.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fcomponent_definition.js?ref=97ea2c7bfd5e0419c46a718445a776850515d0ff",
            "patch": "@@ -0,0 +1,12 @@\n+MyComponent.ɵcmp = $r3$.ɵɵdefineComponent({\n+  …\n+  inputs:{\n+    componentInput: \"componentInput\",\n+    originalComponentInput: [\"renamedComponentInput\", \"originalComponentInput\"]\n+  },\n+  outputs: {\n+    componentOutput: \"componentOutput\",\n+    originalComponentOutput: \"renamedComponentOutput\"\n+  }\n+  …\n+});"
        },
        {
            "sha": "2543772114add5017a5061c9c1c3d2510ffcc125",
            "filename": "packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_input_outputs/directive.ts",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fdirective.ts",
            "raw_url": "https://github.com/angular/angular/raw/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fdirective.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fdirective.ts?ref=97ea2c7bfd5e0419c46a718445a776850515d0ff",
            "patch": "@@ -0,0 +1,14 @@\n+import {Directive, Input, NgModule, Output} from '@angular/core';\n+\n+@Directive({selector: '[my-directive]'})\n+export class MyDirective {\n+  @Input() directiveInput: any;\n+  @Input('renamedDirectiveInput') originalDirectiveInput: any;\n+\n+  @Output() directiveOutput: any;\n+  @Output('renamedDirectiveOutput') originalDirectiveOutput: any;\n+}\n+\n+@NgModule({declarations: [MyDirective]})\n+export class MyModule {\n+}"
        },
        {
            "sha": "3a39d1a5007ffc3987ae61e8c9d496c0c937588f",
            "filename": "packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_input_outputs/directive_definition.js",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fdirective_definition.js",
            "raw_url": "https://github.com/angular/angular/raw/97ea2c7bfd5e0419c46a718445a776850515d0ff/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fdirective_definition.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fr3_view_compiler_input_outputs%2Fdirective_definition.js?ref=97ea2c7bfd5e0419c46a718445a776850515d0ff",
            "patch": "@@ -0,0 +1,12 @@\n+MyDirective.ɵdir = $r3$.ɵɵdefineDirective({\n+  …\n+  inputs:{\n+    directiveInput: \"directiveInput\",\n+    originalDirectiveInput: [\"renamedDirectiveInput\", \"originalDirectiveInput\"]\n+  },\n+  outputs: {\n+    directiveOutput: \"directiveOutput\",\n+    originalDirectiveOutput: \"renamedDirectiveOutput\"\n+  }\n+  …\n+});"
        }
    ],
    "stats": {
        "total": 190,
        "additions": 190,
        "deletions": 0
    }
}