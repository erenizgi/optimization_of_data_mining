{
    "author": "petebacondarwin",
    "message": "refactor(ngcc): improve logging of progress (#43996)\n\nThis commit adds additional information to encourage developers to contact\nthe author of View Engine libraries and ask them to update to partial Ivy.\n\nFixes #42308\n\nPR Close #43996",
    "sha": "28ef5af03fbeb371f1ecf191ca629815f40e5a22",
    "files": [
        {
            "sha": "ba04cb7ff8ae4ace9ee941dadd324145e747ba0b",
            "filename": "integration/ngcc/test.sh",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/integration%2Fngcc%2Ftest.sh",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/integration%2Fngcc%2Ftest.sh",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fngcc%2Ftest.sh?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -46,10 +46,10 @@ assertSucceeded \"Expected 'ngcc --help' to succeed.\"\n ngcc --unknown-option 2>&1 | grep 'Unknown arguments: unknown-option, unknownOption'\n assertSucceeded \"Expected ngcc to report bad option.\"\n \n-# node --inspect-brk $(npm bin)/ngcc -f esm2015\n+# node --inspect-brk $(npm bin)/ngcc -p esm2015\n # Run ngcc and check it logged compilation output as expected\n-ngcc | grep 'Compiling'\n-assertSucceeded \"Expected 'ngcc' to log 'Compiling'.\"\n+ngcc | grep -e '- @angular/core \\[fesm2015/esm2015\\] (https://github\\.com/angular/angular\\.git)'\n+assertSucceeded \"Expected 'ngcc' to log '- @angular/core [fesm2015/esm2015] (https://github.com/angular/angular.git)'.\"\n \n \n # Did it add the appropriate build markers?"
        },
        {
            "sha": "8bc7ddd44e48d30c510328d0affb934dc9f60beb",
            "filename": "packages/compiler-cli/ngcc/src/execution/cluster/master.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fexecution%2Fcluster%2Fmaster.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fexecution%2Fcluster%2Fmaster.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fexecution%2Fcluster%2Fmaster.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -55,6 +55,8 @@ export class ClusterMaster {\n       return Promise.resolve();\n     }\n \n+    this.logger.info('Processing legacy \"View Engine\" libraries:');\n+\n     // Set up listeners for worker events (emitted on `cluster`).\n     cluster.on(\n         'message', this.wrapEventHandler((worker, msg) => this.onWorkerMessage(worker.id, msg)));\n@@ -80,6 +82,7 @@ export class ClusterMaster {\n     if (this.taskQueue.allTasksCompleted) {\n       const duration = Math.round((Date.now() - this.processingStartTime) / 100) / 10;\n       this.logger.debug(`Processed tasks in ${duration}s.`);\n+      this.logger.info('Encourage the library authors to publish an Ivy distribution.');\n \n       return this.finishedDeferred.resolve();\n     }"
        },
        {
            "sha": "b522b477aab3307dd7215ccf6e7a89a4dea88217",
            "filename": "packages/compiler-cli/ngcc/src/execution/create_compile_function.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fexecution%2Fcreate_compile_function.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fexecution%2Fcreate_compile_function.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fexecution%2Fcreate_compile_function.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -12,7 +12,7 @@ import {replaceTsWithNgInErrors} from '../../../src/ngtsc/diagnostics';\n import {FileSystem} from '../../../src/ngtsc/file_system';\n import {Logger} from '../../../src/ngtsc/logging';\n import {ParsedConfiguration} from '../../../src/perform_compile';\n-import {getEntryPointFormat} from '../packages/entry_point';\n+import {EntryPointPackageJson, getEntryPointFormat} from '../packages/entry_point';\n import {makeEntryPointBundle} from '../packages/entry_point_bundle';\n import {createModuleResolutionCache, SharedFileCache} from '../packages/source_file_cache';\n import {Transformer} from '../packages/transformer';\n@@ -55,7 +55,8 @@ export function getCreateCompileFn(\n         return;\n       }\n \n-      logger.info(`Compiling ${entryPoint.name} : ${formatProperty} as ${format}`);\n+      logger.info(\n+          `- ${entryPoint.name} [${formatProperty}/${format}] (${entryPoint.repositoryUrl})`);\n \n       const bundle = makeEntryPointBundle(\n           fileSystem, entryPoint, sharedFileCache, moduleResolutionCache, formatPath, isCore,"
        },
        {
            "sha": "5782ab709dc2a07b5987c14f0762b20aead34ce2",
            "filename": "packages/compiler-cli/ngcc/src/packages/entry_point.ts",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fpackages%2Fentry_point.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fpackages%2Fentry_point.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fpackages%2Fentry_point.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -35,6 +35,8 @@ export interface EntryPoint extends JsonObject {\n   packageName: string;\n   /** The path to the package that contains this entry-point. */\n   packagePath: AbsoluteFsPath;\n+  /** The URL of the repository. */\n+  repositoryUrl: string;\n   /** The parsed package.json file for this entry-point. */\n   packageJson: EntryPointPackageJson;\n   /** The path to a typings (.d.ts) file for this entry-point. */\n@@ -76,6 +78,7 @@ export interface EntryPointPackageJson extends JsonObject, PackageJsonFormatProp\n   name: string;\n   version?: string;\n   scripts?: Record<string, string>;\n+  repository?: string|{url: string};\n   __processed_by_ivy_ngcc__?: Record<string, string>;\n }\n \n@@ -138,6 +141,7 @@ export function getEntryPointInfo(\n       loadPackageJson(fs, entryPointPackageJsonPath);\n   const {packageName, packageVersion} = getPackageNameAndVersion(\n       fs, packagePath, loadedPackagePackageJson, loadedEntryPointPackageJson);\n+  const repositoryUrl = getRepositoryUrl(loadedPackagePackageJson);\n \n   const packageConfig = config.getPackageConfig(packageName, packagePath, packageVersion);\n   const entryPointConfig = packageConfig.entryPoints.get(entryPointPath);\n@@ -183,6 +187,7 @@ export function getEntryPointInfo(\n     path: entryPointPath,\n     packageName,\n     packagePath,\n+    repositoryUrl,\n     packageJson: entryPointPackageJson,\n     typings: fs.resolve(entryPointPath, typings),\n     compiledByAngular,\n@@ -356,3 +361,16 @@ function getPackageNameAndVersion(\n     packageVersion: packagePackageJson?.version ?? null,\n   };\n }\n+\n+/**\n+ * Extract the URL of the repository associated with an entry-point\n+ */\n+function getRepositoryUrl(packageJson: EntryPointPackageJson|null): string {\n+  if (packageJson?.repository === undefined) {\n+    return '';\n+  }\n+  if (typeof packageJson.repository === 'string') {\n+    return packageJson.repository;\n+  }\n+  return packageJson.repository.url;\n+}"
        },
        {
            "sha": "dc8634c984df9d3ff4d492683e2a5d570008f125",
            "filename": "packages/compiler-cli/ngcc/test/helpers/utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fhelpers%2Futils.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fhelpers%2Futils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fhelpers%2Futils.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -26,6 +26,7 @@ export function makeTestEntryPoint(\n     path: absoluteFrom(`/node_modules/${entryPointName}`),\n     packageName,\n     packagePath: absoluteFrom(`/node_modules/${packageName}`),\n+    repositoryUrl: `https://github.com/${packageName}`,\n     packageJson: {name: entryPointName},\n     typings: absoluteFrom(`/node_modules/${entryPointName}/index.d.ts`),\n     compiledByAngular: true,"
        },
        {
            "sha": "27e8d2db98b05c6e219f3a7c961cf23b4ca114c9",
            "filename": "packages/compiler-cli/ngcc/test/integration/ngcc_spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fintegration%2Fngcc_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fintegration%2Fngcc_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fintegration%2Fngcc_spec.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -1867,7 +1867,8 @@ runInEachFileSystem(() => {\n         const consoleInfoSpy = spyOn(console, 'info');\n         mainNgcc({basePath: '/node_modules', propertiesToConsider: ['esm2015']});\n         expect(consoleInfoSpy)\n-            .toHaveBeenCalledWith('Compiling @angular/common/http : esm2015 as esm2015');\n+            .toHaveBeenCalledWith(\n+                '- @angular/common/http [esm2015/esm2015] (https://github.com/angular/angular.git)');\n       });\n \n       it('should use a custom logger if provided', () => {\n@@ -1877,7 +1878,9 @@ runInEachFileSystem(() => {\n           propertiesToConsider: ['esm2015'],\n           logger,\n         });\n-        expect(logger.logs.info).toContain(['Compiling @angular/common/http : esm2015 as esm2015']);\n+        expect(logger.logs.info).toContain([\n+          '- @angular/common/http [esm2015/esm2015] (https://github.com/angular/angular.git)'\n+        ]);\n       });\n     });\n "
        },
        {
            "sha": "187511291a0a7b708dfaf5c7af80384869c33d0f",
            "filename": "packages/compiler-cli/ngcc/test/packages/entry_point_bundle_spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_bundle_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_bundle_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_bundle_spec.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -176,6 +176,7 @@ runInEachFileSystem(() => {\n            path: absoluteFrom('/node_modules/test'),\n            packageName: 'test',\n            packagePath: absoluteFrom('/node_modules/test'),\n+           repositoryUrl: 'https://github.com/some_package',\n            packageJson: {name: 'test'},\n            typings: absoluteFrom('/node_modules/test/index.d.ts'),\n            compiledByAngular: true,\n@@ -290,6 +291,7 @@ runInEachFileSystem(() => {\n         path: absoluteFrom('/node_modules/test/entry'),\n         packageName: 'test',\n         packagePath: absoluteFrom('/node_modules/test'),\n+        repositoryUrl: 'https://github.com/some_package',\n         packageJson: {name: 'test/entry'},\n         typings: absoluteFrom('/node_modules/test/entry/index.d.ts'),\n         compiledByAngular: true,\n@@ -329,6 +331,7 @@ runInEachFileSystem(() => {\n               path: absoluteFrom('/node_modules/test'),\n               packageName: 'test',\n               packagePath: absoluteFrom('/node_modules/test'),\n+              repositoryUrl: 'https://github.com/some_package',\n               packageJson: {name: 'test'},\n               typings: absoluteFrom('/node_modules/test/index.d.ts'),\n               compiledByAngular: true,\n@@ -354,6 +357,7 @@ runInEachFileSystem(() => {\n               path: absoluteFrom('/node_modules/internal'),\n               packageName: 'internal',\n               packagePath: absoluteFrom('/node_modules/internal'),\n+              repositoryUrl: 'https://github.com/some_package',\n               packageJson: {name: 'internal'},\n               typings: absoluteFrom('/node_modules/internal/index.d.ts'),\n               compiledByAngular: true,\n@@ -379,6 +383,7 @@ runInEachFileSystem(() => {\n               path: absoluteFrom('/node_modules/test'),\n               packageName: 'test',\n               packagePath: absoluteFrom('/node_modules/test'),\n+              repositoryUrl: 'https://github.com/some_package',\n               packageJson: {name: 'test'},\n               typings: absoluteFrom('/node_modules/test/index.d.ts'),\n               compiledByAngular: true,\n@@ -405,6 +410,7 @@ runInEachFileSystem(() => {\n         path: absoluteFrom('/node_modules/primary/secondary'),\n         packageName: 'primary',\n         packagePath: absoluteFrom('/node_modules/primary'),\n+        repositoryUrl: 'https://github.com/some_package',\n         packageJson: {name: 'secondary'},\n         typings: absoluteFrom('/node_modules/primary/secondary/index.d.ts'),\n         compiledByAngular: true,"
        },
        {
            "sha": "a5d5fcabaa23d6ad806d4f7cb14f8c13b94e5130",
            "filename": "packages/compiler-cli/ngcc/test/packages/entry_point_manifest_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_manifest_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_manifest_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_manifest_spec.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -151,6 +151,7 @@ runInEachFileSystem(() => {\n             path: _Abs('/project/node_modules/some_package/valid_entry_point'),\n             packageName: 'some_package',\n             packagePath: _Abs('/project/node_modules/some_package'),\n+            repositoryUrl: '',\n             packageJson: jasmine.any(Object),\n             typings:\n                 _Abs('/project/node_modules/some_package/valid_entry_point/valid_entry_point.d.ts'),"
        },
        {
            "sha": "f573dce42e267b8c85c614d6264351309633a5d0",
            "filename": "packages/compiler-cli/ngcc/test/packages/entry_point_spec.ts",
            "status": "modified",
            "additions": 85,
            "deletions": 0,
            "changes": 85,
            "blob_url": "https://github.com/angular/angular/blob/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/28ef5af03fbeb371f1ecf191ca629815f40e5a22/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fpackages%2Fentry_point_spec.ts?ref=28ef5af03fbeb371f1ecf191ca629815f40e5a22",
            "patch": "@@ -47,6 +47,7 @@ runInEachFileSystem(() => {\n            path: _('/project/node_modules/some_package/valid_entry_point'),\n            packageName: 'some_package',\n            packagePath: SOME_PACKAGE,\n+           repositoryUrl: '',\n            packageJson: loadPackageJson(fs, '/project/node_modules/some_package/valid_entry_point'),\n            typings:\n                _(`/project/node_modules/some_package/valid_entry_point/valid_entry_point.d.ts`),\n@@ -56,6 +57,83 @@ runInEachFileSystem(() => {\n          });\n        });\n \n+    it('should return an object containing repositoryUrl extracted from the package level package.json (defined as an object)',\n+       () => {\n+         const packagePath = '/project/node_modules/some_package';\n+         loadTestFiles([\n+           {\n+             name: _(`${packagePath}/package.json`),\n+             contents:\n+                 '{ \"name\": \"some_package\", \"repository\": { \"url\": \"https://github.com/some_org/some_package\" } }',\n+           },\n+           {\n+             name: _(`${packagePath}/valid_entry_point/package.json`),\n+             contents: createPackageJson('valid_entry_point')\n+           },\n+           {\n+             name: _(`${packagePath}/valid_entry_point/valid_entry_point.metadata.json`),\n+             contents: 'some meta data'\n+           },\n+         ]);\n+         const config = new NgccConfiguration(fs, _('/project'));\n+         const entryPoint = getEntryPointInfo(\n+             fs, config, new MockLogger(), SOME_PACKAGE, _(`${packagePath}/valid_entry_point`));\n+         expect(entryPoint).toEqual(jasmine.objectContaining({\n+           repositoryUrl: 'https://github.com/some_org/some_package',\n+         }));\n+       });\n+\n+    it('should return an object containing repositoryUrl extracted from the package level package.json (defined as a string)',\n+       () => {\n+         const packagePath = '/project/node_modules/some_package';\n+         loadTestFiles([\n+           {\n+             name: _(`${packagePath}/package.json`),\n+             contents:\n+                 '{ \"name\": \"some_package\", \"repository\": \"https://github.com/some_org/some_package\" }',\n+           },\n+           {\n+             name: _(`${packagePath}/valid_entry_point/package.json`),\n+             contents: createPackageJson('valid_entry_point')\n+           },\n+           {\n+             name: _(`${packagePath}/valid_entry_point/valid_entry_point.metadata.json`),\n+             contents: 'some meta data'\n+           },\n+         ]);\n+         const config = new NgccConfiguration(fs, _('/project'));\n+         const entryPoint = getEntryPointInfo(\n+             fs, config, new MockLogger(), SOME_PACKAGE, _(`${packagePath}/valid_entry_point`));\n+         expect(entryPoint).toEqual(jasmine.objectContaining({\n+           repositoryUrl: 'https://github.com/some_org/some_package',\n+         }));\n+       });\n+\n+    it('should return an object containing an empty repositoryUrl if the package level package.json does not define it',\n+       () => {\n+         const packagePath = '/project/node_modules/some_package';\n+         loadTestFiles([\n+           {\n+             name: _(`${packagePath}/package.json`),\n+             contents: '{ \"name\": \"some_package\" } }',\n+           },\n+           {\n+             name: _(`${packagePath}/valid_entry_point/package.json`),\n+             contents: createPackageJson('valid_entry_point')\n+           },\n+           {\n+             name: _(`${packagePath}/valid_entry_point/valid_entry_point.metadata.json`),\n+             contents: 'some meta data'\n+           },\n+         ]);\n+         const config = new NgccConfiguration(fs, _('/project'));\n+         const entryPoint = getEntryPointInfo(\n+             fs, config, new MockLogger(), SOME_PACKAGE, _(`${packagePath}/valid_entry_point`));\n+         expect(entryPoint).toEqual(jasmine.objectContaining({\n+           repositoryUrl: '',\n+         }));\n+       });\n+\n     it('should return `IGNORED_ENTRY_POINT` if configured to ignore the specified entry-point', () => {\n       loadTestFiles([\n         {\n@@ -198,6 +276,7 @@ runInEachFileSystem(() => {\n         path: _('/project/node_modules/some_package/valid_entry_point'),\n         packageName: 'some_package',\n         packagePath: SOME_PACKAGE,\n+        repositoryUrl: '',\n         packageJson: overriddenPackageJson,\n         typings: _('/project/node_modules/some_package/valid_entry_point/some_other.d.ts'),\n         compiledByAngular: true,\n@@ -247,6 +326,7 @@ runInEachFileSystem(() => {\n            path: _('/project/node_modules/some_package/missing_package_json'),\n            packageName: 'some_package',\n            packagePath: SOME_PACKAGE,\n+           repositoryUrl: '',\n            packageJson: {name: 'some_package/missing_package_json', ...override},\n            typings: _(\n                '/project/node_modules/some_package/missing_package_json/missing_package_json.d.ts'),\n@@ -477,6 +557,7 @@ runInEachFileSystem(() => {\n              path: _('/project/node_modules/some_package/missing_typings'),\n              packageName: 'some_package',\n              packagePath: SOME_PACKAGE,\n+             repositoryUrl: '',\n              packageJson: loadPackageJson(fs, '/project/node_modules/some_package/missing_typings'),\n              typings: _(`/project/node_modules/some_package/missing_typings/${typingsPath}.d.ts`),\n              compiledByAngular: true,\n@@ -503,6 +584,7 @@ runInEachFileSystem(() => {\n            path: _('/project/node_modules/some_package/missing_metadata'),\n            packageName: 'some_package',\n            packagePath: SOME_PACKAGE,\n+           repositoryUrl: '',\n            packageJson: loadPackageJson(fs, '/project/node_modules/some_package/missing_metadata'),\n            typings: _(`/project/node_modules/some_package/missing_metadata/missing_metadata.d.ts`),\n            compiledByAngular: false,\n@@ -533,6 +615,7 @@ runInEachFileSystem(() => {\n            path: _('/project/node_modules/some_package/missing_metadata'),\n            packageName: 'some_package',\n            packagePath: SOME_PACKAGE,\n+           repositoryUrl: '',\n            packageJson: loadPackageJson(fs, '/project/node_modules/some_package/missing_metadata'),\n            typings: _('/project/node_modules/some_package/missing_metadata/missing_metadata.d.ts'),\n            compiledByAngular: true,\n@@ -562,6 +645,7 @@ runInEachFileSystem(() => {\n         path: _('/project/node_modules/some_package/types_rather_than_typings'),\n         packageName: 'some_package',\n         packagePath: SOME_PACKAGE,\n+        repositoryUrl: '',\n         packageJson:\n             loadPackageJson(fs, '/project/node_modules/some_package/types_rather_than_typings'),\n         typings: _(\n@@ -598,6 +682,7 @@ runInEachFileSystem(() => {\n         path: _('/project/node_modules/some_package/material_style'),\n         packageName: 'some_package',\n         packagePath: SOME_PACKAGE,\n+        repositoryUrl: '',\n         packageJson: loadPackageJson(fs, '/project/node_modules/some_package/material_style'),\n         typings: _(`/project/node_modules/some_package/material_style/material_style.d.ts`),\n         compiledByAngular: true,"
        }
    ],
    "stats": {
        "total": 132,
        "additions": 125,
        "deletions": 7
    }
}