{
    "author": "arturovt",
    "message": "perf(forms): use `ngDevMode` to tree-shake `_ngModelWarning` (#39964)\n\nThis commit adds `ngDevMode` guard to call `_ngModelWarning` only\nin dev mode (similar to how things work in other parts of Ivy runtime code).\nThe `ngDevMode` flag helps to tree-shake this function from production builds\n(since it will act as no-op, in dev mode everything will work as it works right now)\nto decrease production bundle size.\n\nPR Close #39964",
    "sha": "7954c8dfa3c85d12780949c75f1448c8d783a8cf",
    "files": [
        {
            "sha": "d64cd1e5f905829df9a05ce979e2c783019d4aba",
            "filename": "packages/forms/src/directives/reactive_directives/form_control_directive.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/7954c8dfa3c85d12780949c75f1448c8d783a8cf/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/7954c8dfa3c85d12780949c75f1448c8d783a8cf/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_directive.ts?ref=7954c8dfa3c85d12780949c75f1448c8d783a8cf",
            "patch": "@@ -125,7 +125,9 @@ export class FormControlDirective extends NgControl implements OnChanges {\n       this.form.updateValueAndValidity({emitEvent: false});\n     }\n     if (isPropertyUpdated(changes, this.viewModel)) {\n-      _ngModelWarning('formControl', FormControlDirective, this, this._ngModelWarningConfig);\n+      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n+        _ngModelWarning('formControl', FormControlDirective, this, this._ngModelWarningConfig);\n+      }\n       this.form.setValue(this.model);\n       this.viewModel = this.model;\n     }"
        },
        {
            "sha": "fe5044c6ed621c6431766c3d2f7e5200a6880ba1",
            "filename": "packages/forms/src/directives/reactive_directives/form_control_name.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/7954c8dfa3c85d12780949c75f1448c8d783a8cf/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_name.ts",
            "raw_url": "https://github.com/angular/angular/raw/7954c8dfa3c85d12780949c75f1448c8d783a8cf/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_name.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_name.ts?ref=7954c8dfa3c85d12780949c75f1448c8d783a8cf",
            "patch": "@@ -145,7 +145,9 @@ export class FormControlName extends NgControl implements OnChanges, OnDestroy {\n   ngOnChanges(changes: SimpleChanges) {\n     if (!this._added) this._setUpControl();\n     if (isPropertyUpdated(changes, this.viewModel)) {\n-      _ngModelWarning('formControlName', FormControlName, this, this._ngModelWarningConfig);\n+      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n+        _ngModelWarning('formControlName', FormControlName, this, this._ngModelWarningConfig);\n+      }\n       this.viewModel = this.model;\n       this.formDirective.updateModel(this, this.model);\n     }"
        },
        {
            "sha": "a66893ec0b833a64a445833d94ada9411cf2ff53",
            "filename": "packages/forms/src/directives/shared.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/7954c8dfa3c85d12780949c75f1448c8d783a8cf/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/7954c8dfa3c85d12780949c75f1448c8d783a8cf/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts?ref=7954c8dfa3c85d12780949c75f1448c8d783a8cf",
            "patch": "@@ -6,8 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {isDevMode} from '@angular/core';\n-\n import {AbstractControl, FormArray, FormControl, FormGroup} from '../model';\n import {getControlAsyncValidators, getControlValidators, mergeValidators} from '../validators';\n \n@@ -324,13 +322,11 @@ export function removeListItem<T>(list: T[], el: T): void {\n export function _ngModelWarning(\n     name: string, type: {_ngModelWarningSentOnce: boolean},\n     instance: {_ngModelWarningSent: boolean}, warningConfig: string|null) {\n-  if (!isDevMode() || warningConfig === 'never') return;\n+  if (warningConfig === 'never') return;\n \n   if (((warningConfig === null || warningConfig === 'once') && !type._ngModelWarningSentOnce) ||\n       (warningConfig === 'always' && !instance._ngModelWarningSent)) {\n-    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n-      ReactiveErrors.ngModelWarning(name);\n-    }\n+    ReactiveErrors.ngModelWarning(name);\n     type._ngModelWarningSentOnce = true;\n     instance._ngModelWarningSent = true;\n   }"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}