{
    "author": "jelbourn",
    "message": "docs: create coding standards doc (#37700)\n\nCreate initial document for Angular framework coding standards. This\ndocument will evolve over time. This version contains all\nnon-controversial rules as discussed in a recent team meeting. Some text\nand examples were copied from angular/components.\n\nPR Close #37700",
    "sha": "778ad3776a5748854c805f58fec60a8cc0018be5",
    "files": [
        {
            "sha": "78a460640a1e56a55abfb81f066e19bcf6365808",
            "filename": ".pullapprove.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/778ad3776a5748854c805f58fec60a8cc0018be5/.pullapprove.yml",
            "raw_url": "https://github.com/angular/angular/raw/778ad3776a5748854c805f58fec60a8cc0018be5/.pullapprove.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.pullapprove.yml?ref=778ad3776a5748854c805f58fec60a8cc0018be5",
            "patch": "@@ -1090,6 +1090,7 @@ groups:\n           'dev-infra/**',\n           'docs/BAZEL.md',\n           'docs/CARETAKER.md',\n+          'docs/CODING_STANDARDS.md',\n           'docs/COMMITTER.md',\n           'docs/DEBUG.md',\n           'docs/DEBUG_COMPONENTS_REPO_IVY.md',"
        },
        {
            "sha": "7d9030cd9b843643283b34b871f8735e5c9b50d8",
            "filename": "docs/CODING_STANDARDS.md",
            "status": "added",
            "additions": 254,
            "deletions": 0,
            "changes": 254,
            "blob_url": "https://github.com/angular/angular/blob/778ad3776a5748854c805f58fec60a8cc0018be5/docs%2FCODING_STANDARDS.md",
            "raw_url": "https://github.com/angular/angular/raw/778ad3776a5748854c805f58fec60a8cc0018be5/docs%2FCODING_STANDARDS.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/docs%2FCODING_STANDARDS.md?ref=778ad3776a5748854c805f58fec60a8cc0018be5",
            "patch": "@@ -0,0 +1,254 @@\n+# Angular Framework Coding Standards\n+\n+The coding practices in this doc apply only to development on Angular itself, not applications\n+built _with_ Angular. (Though you can follow them too if you really want).\n+\n+## Code style\n+\n+The [Google JavaScript Style Guide](https://google.github.io/styleguide/jsguide.html) is the\n+basis for Angular's coding style, with additional guidance here pertaining to TypeScript. The team\n+uses `clang-format` to automatically format code; automatic formatting is enforced by CI.\n+\n+## Code practices\n+\n+### Write useful comments\n+\n+Comments that explain what some block of code does are nice; they can tell you something in less\n+time than it would take to follow through the code itself.\n+\n+Comments that explain why some block of code exists at all, or does something the way it does,\n+are _invaluable_. The \"why\" is difficult, or sometimes impossible, to track down without seeking out\n+the original author. When collaborators are in the same room, this hurts productivity.\n+When collaborators are in different timezones, this can be devastating to productivity.\n+\n+For example, this is a not-very-useful comment:\n+```typescript\n+// Set default tabindex.\n+if (!attributes['tabindex']) {\n+  element.setAttribute('tabindex', '-1');\n+}\n+```\n+\n+While this is much more useful:\n+```typescript\n+// Unless the user specifies otherwise, the calendar should not be a tab stop.\n+// This prevents ngAria from overzealously adding a tabindex to anything with an ng-model.\n+if (!attributes['tabindex']) {\n+  element.setAttribute('tabindex', '-1');\n+}\n+```\n+\n+In TypeScript code, use JsDoc-style comments for descriptions (on classes, members, etc.) and\n+use `//` style comments for everything else (explanations, background info, etc.).\n+\n+### API Design\n+\n+#### Boolean arguments\n+\n+Generally avoid adding boolean arguments to a method in cases where that argument means\n+\"do something extra\". In these cases, prefer breaking the behavior up into different functions.\n+\n+```typescript\n+// AVOID\n+function getTargetElement(createIfNotFound = false) {\n+  // ...\n+}\n+```\n+\n+```typescript\n+// PREFER\n+function getExistingTargetElement() {\n+  // ...\n+}\n+\n+function createTargetElement() {\n+  // ...\n+}\n+```\n+\n+You can ignore this guidance when necessary for performance reasons in framework code.\n+\n+#### Optional arguments\n+\n+Use optional function arguments only when such an argument makes sense for an API or when required\n+for performance. Don't use optional arguments merely for convenience in implementation.\n+\n+### TypeScript\n+\n+#### Typing\n+\n+Avoid `any` where possible. If you find yourself using `any`, consider whether a generic or\n+`unknown` may be appropriate in your case.\n+\n+#### Getters and Setters\n+\n+Getters and setters introduce openings for side-effects, add more complexity for code readers,\n+and generate additional code when targeting older browsers.\n+\n+* Only use getters and setters for `@Input` properties or when otherwise required for API\n+compatibility.\n+* Avoid long or complex getters and setters. If the logic of an accessor would take more than\n+three lines, introduce a new method to contain the logic.\n+* A getter should immediately precede its corresponding setter.\n+* Decorators such as `@Input` should be applied to the getter and not the setter.\n+* Always use a `readonly` property instead of a getter (with no setter) when possible.\n+\n+  ```typescript\n+  /** YES */\n+  readonly active: boolean;\n+\n+  /** NO */\n+  get active(): boolean {\n+    // Using a getter solely to make the property read-only.\n+    return this._active;\n+  }\n+  ```\n+\n+#### Iteration\n+\n+Prefer `for` or `for of` to `Array.prototype.forEach`. The `forEach` API makes debugging harder\n+and may increase overhead from unnecessary function invocations (though modern browsers do usually\n+optimize this well).\n+\n+#### JsDoc comments\n+\n+All public APIs must have user-facing comments. These are extracted for API documentation and shown\n+in IDEs.\n+\n+Private and internal APIs should have JsDoc when they are not obvious. Ultimately it is the purview\n+of the code reviewer as to what is \"obvious\", but the rule of thumb is that *most* classes,\n+properties, and methods should have a JsDoc description.\n+\n+Properties should have a concise description of what the property means:\n+```typescript\n+  /** The label position relative to the checkbox. Defaults to 'after' */\n+  @Input() labelPosition: 'before' | 'after' = 'after';\n+```\n+\n+Methods blocks should describe what the function does and provide a description for each parameter\n+and the return value:\n+```typescript\n+  /**\n+   * Opens a modal dialog containing the given component.\n+   * @param component Type of the component to load into the dialog.\n+   * @param config Dialog configuration options.\n+   * @returns Reference to the newly-opened dialog.\n+   */\n+  open<T>(component: ComponentType<T>, config?: MatDialogConfig): MatDialogRef<T> { ... }\n+```\n+\n+Boolean properties and return values should use \"Whether...\" as opposed to \"True if...\":\n+```ts\n+  /** Whether the button is disabled. */\n+  disabled: boolean = false;\n+```\n+\n+#### Try-Catch\n+\n+Only use `try-catch` blocks when dealing with legitimately unexpected errors. Don't use `try` to\n+avoid checking for expected error conditions such as null dereference or out-of-bound array access.\n+\n+Each `try-catch` block **must** include a comment that explains the\n+specific error being caught and why it cannot be prevented.\n+\n+##### Variable declarations\n+\n+Prefer `const` wherever possible, only using `let` when a value must change. Avoid `var` unless\n+absolutely necessary.\n+\n+##### `readonly`\n+\n+Use `readonly` members wherever possible.\n+\n+#### Naming\n+\n+##### General\n+\n+* Prefer writing out words instead of using abbreviations.\n+* Prefer *exact* names over short names (within reason). For example, `labelPosition` is better than\n+`align` because the former much more exactly communicates what the property means.\n+* Except for `@Input()` properties, use `is` and `has` prefixes for boolean properties / methods.\n+\n+##### Observables\n+\n+Don't suffix observables with `$`.\n+\n+##### Classes\n+\n+Name classes based on their responsibility. Names should capture what the code *does*,\n+not how it is used:\n+```typescript\n+/** NO: */\n+class DefaultRouteReuseStrategy { }\n+\n+/** YES: */\n+class NonStoringRouteReuseStrategy { }\n+```\n+\n+##### Methods\n+\n+The name of a method should capture the action performed *by* that method rather than\n+describing when the method will be called. For example:\n+\n+```typescript\n+/** AVOID: does not describe what the function does. */\n+handleClick() {\n+  // ...\n+}\n+\n+/** PREFER: describes the action performed by the function. */\n+activateRipple() {\n+  // ...\n+}\n+```\n+\n+##### Test classes and examples\n+\n+Give test classes and examples meaningful, descriptive names.\n+\n+```ts\n+/** PREFER: describes the scenario under test. */\n+class FormGroupWithCheckboxAndRadios { /* ... */ }\n+class InputWithNgModel { /* ... */ }\n+\n+\n+/** AVOID: does not fully describe the scenario under test. */\n+class Comp { /* ... */ }\n+class InputComp { /* ... */ }\n+```\n+\n+#### RxJS\n+\n+When importing the `of` function to create an `Observable` from a value, alias the imported\n+function as `observableOf`.\n+\n+```typescript\n+import {of as observableOf} from 'rxjs';\n+```\n+\n+#### Testing\n+\n+##### Test names\n+\n+Use descriptive names for jasmine tests. Ideally, test names should read as a sentence, often of\n+the form \"it should...\".\n+\n+```typescript\n+/** PREFER: describes the scenario under test. */\n+describe('Router', () => {\n+  describe('with the default route reuse strategy', () => {\n+    it('should not reuse routes upon location change', () => {\n+      // ...\n+    });\n+  })\n+});\n+\n+/** AVOID: does not fully describe the scenario under test. */\n+describe('Router', () => {\n+  describe('default strategy', () => {\n+    it('should work', () => {\n+      // ...\n+    });\n+  })\n+});\n+```"
        }
    ],
    "stats": {
        "total": 255,
        "additions": 255,
        "deletions": 0
    }
}