{
    "author": "josephperrott",
    "message": "fix(dev-infra): skip husky git commit hooks while merging pull requests (#38888)\n\nDuring the merge process, all validations have already been completed so git commit\nhooks can be safely skipped.  This additionally, prevents errors from occuring which\nwould be caused the commit hooks executing, such as when yarn updates and then yarn\ncommands are unable to run within the same process.\n\nPR Close #38888",
    "sha": "55485713a30e6c168e0e7a762b1b313a9bb6e67b",
    "files": [
        {
            "sha": "3f53b3d85e7e6dead1171d6bd07a733f554f3d7a",
            "filename": "dev-infra/pr/merge/index.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/55485713a30e6c168e0e7a762b1b313a9bb6e67b/dev-infra%2Fpr%2Fmerge%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/55485713a30e6c168e0e7a762b1b313a9bb6e67b/dev-infra%2Fpr%2Fmerge%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fpr%2Fmerge%2Findex.ts?ref=55485713a30e6c168e0e7a762b1b313a9bb6e67b",
            "patch": "@@ -33,6 +33,10 @@ import {MergeResult, MergeStatus, PullRequestMergeTask} from './task';\n export async function mergePullRequest(\n     prNumber: number, githubToken: string, projectRoot: string = getRepoBaseDir(),\n     config?: MergeConfigWithRemote) {\n+  // Set the environment variable to skip all git commit hooks triggered by husky. We are unable to\n+  // rely on `---no-verify` as some hooks still run, notably the `prepare-commit-msg` hook.\n+  process.env['HUSKY_SKIP_HOOKS'] = '1';\n+\n   const api = await createPullRequestMergeTask(githubToken, projectRoot, config);\n \n   // Perform the merge. Force mode can be activated through a command line flag."
        }
    ],
    "stats": {
        "total": 4,
        "additions": 4,
        "deletions": 0
    }
}