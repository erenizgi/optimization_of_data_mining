{
    "author": "AleksanderBodurri",
    "message": "docs(forms): add section under Validators.pattern detailing use of global and sticky flags gotcha (#39055)\n\nDue to how the global and sticky flag make RegExp objects stateful,\nadds section detailing how it is not recommended\nto use these flags for control validations.\n\nPR Close #39055",
    "sha": "f6dfd2ffed231d6aa423a2332f2b324d080a7688",
    "files": [
        {
            "sha": "38f247dda290ee8856eb556669a881eb620dc626",
            "filename": "packages/forms/src/validators.ts",
            "status": "modified",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/f6dfd2ffed231d6aa423a2332f2b324d080a7688/packages%2Fforms%2Fsrc%2Fvalidators.ts",
            "raw_url": "https://github.com/angular/angular/raw/f6dfd2ffed231d6aa423a2332f2b324d080a7688/packages%2Fforms%2Fsrc%2Fvalidators.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fvalidators.ts?ref=f6dfd2ffed231d6aa423a2332f2b324d080a7688",
            "patch": "@@ -366,6 +366,25 @@ export class Validators {\n    * <input pattern=\"[a-zA-Z ]*\">\n    * ```\n    *\n+   * ### Pattern matching with the global or sticky flag\n+   *\n+   * `RegExp` objects created with the `g` or `y` flags that are passed into `Validators.pattern`\n+   * can produce different results on the same input when validations are run consecutively. This is\n+   * due to how the behavior of `RegExp.prototype.test` is\n+   * specified in [ECMA-262](https://tc39.es/ecma262/#sec-regexpbuiltinexec)\n+   * (`RegExp` preserves the index of the last match when the global or sticky flag is used).\n+   * Due to this behavior, it is recommended that when using\n+   * `Validators.pattern` you **do not** pass in a `RegExp` object with either the global or sticky\n+   * flag enabled.\n+   *\n+   * ```typescript\n+   * // Not recommended (since the `g` flag is used)\n+   * const controlOne = new FormControl('1', Validators.pattern(/foo/g));\n+   *\n+   * // Good\n+   * const controlTwo = new FormControl('1', Validators.pattern(/foo/));\n+   * ```\n+   *\n    * @param pattern A regular expression to be used as is to test the values, or a string.\n    * If a string is passed, the `^` character is prepended and the `$` character is\n    * appended to the provided string (if not already present), and the resulting regular"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 19,
        "deletions": 0
    }
}