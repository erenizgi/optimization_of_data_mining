{
    "author": "gkalpak",
    "message": "build: ensure script that build the Zone.js package can be run from any directory (#39455)\n\nThe scripts that build the Angular and Zone.js NPM packages rely on\nabsolute paths in order to work correctly regardless of what the current\nworking directory is when the scripts are invoked. However, the\n`npm pack` command executed in the `zone-js-builder.js` script outputs\nthe generated `.tgz` archive in the current working directory. This\ncauses the script to fail when invoked for any working directory other\nthan the project root directory.\n\nThis commit fixes this by ensuring the `npm pack` command is run with\nthe project root directory as the working directory. This allows the\nbuild scripts to run correctly regardless of the working directory they\nare invoked from.\n\nPR Close #39455",
    "sha": "5be0dfdf2718248b3b260edd45b92179881d8b6c",
    "files": [
        {
            "sha": "619457d327145d75f91c72711dfbcc876f4cedbc",
            "filename": "scripts/build/package-builder.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5be0dfdf2718248b3b260edd45b92179881d8b6c/scripts%2Fbuild%2Fpackage-builder.js",
            "raw_url": "https://github.com/angular/angular/raw/5be0dfdf2718248b3b260edd45b92179881d8b6c/scripts%2Fbuild%2Fpackage-builder.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fbuild%2Fpackage-builder.js?ref=5be0dfdf2718248b3b260edd45b92179881d8b6c",
            "patch": "@@ -116,15 +116,17 @@ function buildTargetPackages(destPath, enableIvy, description) {\n  *\n  * @param {string} cmd The command to run.\n  * @param {boolean} [captureStdout=false] Whether to return the output of the command.\n+ * @param {import('child_process').ExecSyncOptions} [options] The options to pass to `execSync()`.\n  * @return {string | undefined} The captured stdout output if `captureStdout: true` or `undefined`.\n  */\n-function exec(cmd, captureStdout) {\n+function exec(cmd, captureStdout, options) {\n   const output = execSync(cmd, {\n     stdio: [\n       /* stdin  */ 'inherit',\n       /* stdout */ captureStdout ? 'pipe' : 'inherit',\n       /* stderr */ 'inherit',\n     ],\n+    ...options,\n   });\n \n   if (captureStdout) {"
        },
        {
            "sha": "f0adb929098538ab621b5f11a7d2c2536ffced3c",
            "filename": "scripts/build/zone-js-builder.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5be0dfdf2718248b3b260edd45b92179881d8b6c/scripts%2Fbuild%2Fzone-js-builder.js",
            "raw_url": "https://github.com/angular/angular/raw/5be0dfdf2718248b3b260edd45b92179881d8b6c/scripts%2Fbuild%2Fzone-js-builder.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fbuild%2Fzone-js-builder.js?ref=5be0dfdf2718248b3b260edd45b92179881d8b6c",
            "patch": "@@ -48,7 +48,7 @@ function buildZoneJsPackage(destPath) {\n \n   // Also create an archive so we can test the package itself.\n   // Currently, the `npm_package.pack` rule does not work on Windows, so run `npm pack` directly.\n-  exec(`npm pack ${buildOutputDir}`);\n+  exec(`npm pack ${buildOutputDir}`, false, {cwd: baseDir});\n \n   console.info(`# Copy npm_package artifacts to ${distTargetDir}`);\n   rm('-rf', distTargetDir);"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}