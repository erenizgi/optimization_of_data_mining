{
    "author": "FDIM",
    "message": "feat(compiler-cli): introduce HttpContext request context (#25751)\n\nA long-requested feature for HttpClient is the ability to store and retrieve\ncustom metadata for requests, especially in interceptors. This commit\nimplements this functionality via a new context object for requests.\n\nEach outgoing HttpRequest now has an associated \"context\", an instance of\nthe HttpContext class. An HttpContext can be provided when making a request,\nor if not then an empty context is created for the new request. This context\nshares its lifecycle with the entire request, even across operations that\nchange the identity of the HttpRequest instance such as RxJS retries.\n\nThe HttpContext functions as an expando. Users can create typed tokens as instances of HttpContextToken, and\nread/write a value for the key from any HttpContext object.\n\nThis commit implements the HttpContext functionality. A followup commit will\nadd angular.io documentation.\n\nPR Close #25751",
    "sha": "1644d64398491d4a324a5eee492d1fd37df52a01",
    "files": [
        {
            "sha": "9eb12e7746cdb53c8d702e6a3b9b956e420bc677",
            "filename": "goldens/public-api/common/http/http.d.ts",
            "status": "modified",
            "additions": 139,
            "deletions": 0,
            "changes": 139,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -10,6 +10,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -22,6 +23,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -34,6 +36,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -47,6 +50,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -59,6 +63,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -71,6 +76,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -83,6 +89,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -95,6 +102,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | (string | number | boolean)[];\n         };\n@@ -107,6 +115,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -119,6 +128,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -131,6 +141,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -143,6 +154,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -155,6 +167,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -166,6 +179,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -178,6 +192,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -190,6 +205,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -202,6 +218,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -214,6 +231,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -227,6 +245,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -239,6 +258,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -251,6 +271,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -263,6 +284,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -275,6 +297,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -287,6 +310,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -299,6 +323,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -311,6 +336,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -323,6 +349,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -335,6 +362,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -346,6 +374,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -358,6 +387,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -370,6 +400,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -382,6 +413,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -394,6 +426,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -407,6 +440,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -419,6 +453,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -431,6 +466,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -443,6 +479,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -455,6 +492,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -467,6 +505,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -479,6 +518,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -491,6 +531,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -503,6 +544,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -515,6 +557,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -526,6 +569,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -538,6 +582,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -552,6 +597,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -564,6 +610,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -576,6 +623,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -589,6 +637,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -601,6 +650,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -613,6 +663,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -625,6 +676,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -637,6 +689,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -649,6 +702,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -661,6 +715,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -673,6 +728,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -685,6 +741,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -697,6 +754,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -708,6 +766,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -720,6 +779,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -732,6 +792,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -744,6 +805,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -756,6 +818,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -769,6 +832,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -781,6 +845,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -793,6 +858,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -805,6 +871,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -817,6 +884,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -829,6 +897,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -841,6 +910,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -853,6 +923,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -865,6 +936,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -877,6 +949,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -888,6 +961,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -900,6 +974,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -912,6 +987,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -924,6 +1000,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -936,6 +1013,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -949,6 +1027,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -961,6 +1040,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -973,6 +1053,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -985,6 +1066,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -997,6 +1079,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1009,6 +1092,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1021,6 +1105,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1033,6 +1118,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1045,6 +1131,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1057,6 +1144,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1068,6 +1156,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1080,6 +1169,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1092,6 +1182,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1104,6 +1195,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1116,6 +1208,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1129,6 +1222,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1141,6 +1235,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1153,6 +1248,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1165,6 +1261,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1177,6 +1274,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1189,6 +1287,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1201,6 +1300,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1213,6 +1313,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1225,6 +1326,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1237,6 +1339,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1248,6 +1351,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1260,6 +1364,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1274,6 +1379,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1287,6 +1393,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1300,6 +1407,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1313,6 +1421,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1327,6 +1436,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1340,6 +1450,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'events';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1352,6 +1463,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         observe: 'events';\n         params?: HttpParams | {\n@@ -1365,6 +1477,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         observe: 'events';\n         params?: HttpParams | {\n@@ -1379,6 +1492,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1392,6 +1506,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1405,6 +1520,7 @@ export declare class HttpClient {\n             [header: string]: string | string[];\n         };\n         observe: 'response';\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1417,6 +1533,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         observe: 'response';\n         params?: HttpParams | {\n@@ -1430,6 +1547,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         observe: 'response';\n         params?: HttpParams | {\n@@ -1443,6 +1561,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1456,6 +1575,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         observe?: 'body';\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n@@ -1469,6 +1589,7 @@ export declare class HttpClient {\n         headers?: HttpHeaders | {\n             [header: string]: string | string[];\n         };\n+        context?: HttpContext;\n         params?: HttpParams | {\n             [param: string]: string | number | boolean | ReadonlyArray<string | number | boolean>;\n         };\n@@ -1493,6 +1614,18 @@ export declare class HttpClientXsrfModule {\n     }): ModuleWithProviders<HttpClientXsrfModule>;\n }\n \n+export declare class HttpContext {\n+    delete(token: HttpContextToken<unknown>): HttpContext;\n+    get<T>(token: HttpContextToken<T>): T;\n+    keys(): IterableIterator<HttpContextToken<unknown>>;\n+    set<T>(token: HttpContextToken<T>, value: T): HttpContext;\n+}\n+\n+export declare class HttpContextToken<T> {\n+    readonly defaultValue: () => T;\n+    constructor(defaultValue: () => T);\n+}\n+\n export declare interface HttpDownloadProgressEvent extends HttpProgressEvent {\n     partialText?: string;\n     type: HttpEventType.DownloadProgress;\n@@ -1598,6 +1731,7 @@ export declare interface HttpProgressEvent {\n \n export declare class HttpRequest<T> {\n     readonly body: T | null;\n+    readonly context: HttpContext;\n     readonly headers: HttpHeaders;\n     readonly method: string;\n     readonly params: HttpParams;\n@@ -1608,20 +1742,23 @@ export declare class HttpRequest<T> {\n     readonly withCredentials: boolean;\n     constructor(method: 'DELETE' | 'GET' | 'HEAD' | 'JSONP' | 'OPTIONS', url: string, init?: {\n         headers?: HttpHeaders;\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         params?: HttpParams;\n         responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\n         withCredentials?: boolean;\n     });\n     constructor(method: 'POST' | 'PUT' | 'PATCH', url: string, body: T | null, init?: {\n         headers?: HttpHeaders;\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         params?: HttpParams;\n         responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\n         withCredentials?: boolean;\n     });\n     constructor(method: string, url: string, body: T | null, init?: {\n         headers?: HttpHeaders;\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         params?: HttpParams;\n         responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\n@@ -1630,6 +1767,7 @@ export declare class HttpRequest<T> {\n     clone(): HttpRequest<T>;\n     clone(update: {\n         headers?: HttpHeaders;\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         params?: HttpParams;\n         responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\n@@ -1646,6 +1784,7 @@ export declare class HttpRequest<T> {\n     }): HttpRequest<T>;\n     clone<V>(update: {\n         headers?: HttpHeaders;\n+        context?: HttpContext;\n         reportProgress?: boolean;\n         params?: HttpParams;\n         responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';"
        },
        {
            "sha": "ec56092f40df119f1c9a665674ea09d21af8278a",
            "filename": "goldens/size-tracking/aio-payloads.json",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/goldens%2Fsize-tracking%2Faio-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/goldens%2Fsize-tracking%2Faio-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Faio-payloads.json?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -12,18 +12,18 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 3033,\n-        \"main-es2015\": 451402,\n-        \"polyfills-es2015\": 52215\n+        \"main-es2015\": 452165,\n+        \"polyfills-es2015\": 52493\n       }\n     }\n   },\n   \"aio-local-viewengine\": {\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 3153,\n-        \"main-es2015\": 437005,\n-        \"polyfills-es2015\": 52215\n+        \"main-es2015\": 437810,\n+        \"polyfills-es2015\": 52493\n       }\n     }\n   }\n-}\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "036e3efb60fa9a660893b3630fa763452b50ac25",
            "filename": "packages/common/http/public_api.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fpublic_api.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fpublic_api.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fpublic_api.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -8,6 +8,7 @@\n \n export {HttpBackend, HttpHandler} from './src/backend';\n export {HttpClient} from './src/client';\n+export {HttpContext, HttpContextToken} from './src/context';\n export {HttpHeaders} from './src/headers';\n export {HTTP_INTERCEPTORS, HttpInterceptor} from './src/interceptor';\n export {JsonpClientBackend, JsonpInterceptor} from './src/jsonp';"
        },
        {
            "sha": "627610a272725590646eba4b23e3d1f4abb2c466",
            "filename": "packages/common/http/src/client.ts",
            "status": "modified",
            "additions": 133,
            "deletions": 0,
            "changes": 133,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fsrc%2Fclient.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fsrc%2Fclient.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Fclient.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -11,6 +11,7 @@ import {Observable, of} from 'rxjs';\n import {concatMap, filter, map} from 'rxjs/operators';\n \n import {HttpHandler} from './backend';\n+import {HttpContext} from './context';\n import {HttpHeaders} from './headers';\n import {HttpParams, HttpParamsOptions} from './params';\n import {HttpRequest} from './request';\n@@ -30,6 +31,7 @@ import {HttpEvent, HttpResponse} from './response';\n function addBody<T>(\n     options: {\n       headers?: HttpHeaders|{[header: string]: string | string[]},\n+      context?: HttpContext,\n       observe?: 'body'|'events'|'response',\n       params?: HttpParams|\n             {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -41,6 +43,7 @@ function addBody<T>(\n   return {\n     body,\n     headers: options.headers,\n+    context: options.context,\n     observe: options.observe,\n     params: options.params,\n     reportProgress: options.reportProgress,\n@@ -129,6 +132,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -149,6 +153,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -169,6 +174,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -190,6 +196,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n           observe: 'events',\n@@ -211,6 +218,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -231,6 +239,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -251,6 +260,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     reportProgress?: boolean, observe: 'events',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -272,6 +282,7 @@ export class HttpClient {\n   request<R>(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     reportProgress?: boolean, observe: 'events',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -292,6 +303,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -310,6 +322,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -329,6 +342,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -349,6 +363,7 @@ export class HttpClient {\n   request(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     reportProgress?: boolean, observe: 'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -369,6 +384,7 @@ export class HttpClient {\n   request<R>(method: string, url: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     reportProgress?: boolean, observe: 'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -389,6 +405,7 @@ export class HttpClient {\n   request(method: string, url: string, options?: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -410,6 +427,7 @@ export class HttpClient {\n   request<R>(method: string, url: string, options?: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -430,6 +448,7 @@ export class HttpClient {\n   request(method: string, url: string, options?: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     observe?: 'body'|'events'|'response',\n@@ -467,6 +486,7 @@ export class HttpClient {\n   request(first: string|HttpRequest<any>, url?: string, options: {\n     body?: any,\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -506,6 +526,7 @@ export class HttpClient {\n       // Construct the request.\n       req = new HttpRequest(first, url!, (options.body !== undefined ? options.body : null), {\n         headers,\n+        context: options.context,\n         params,\n         reportProgress: options.reportProgress,\n         // By default, JSON is assumed to be returned for all calls.\n@@ -592,6 +613,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -611,6 +633,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -629,6 +652,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -648,6 +672,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -666,6 +691,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -684,6 +710,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -702,6 +729,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -721,6 +749,7 @@ export class HttpClient {\n    */\n   delete<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | (string | number | boolean)[]},\n     reportProgress?: boolean,\n@@ -739,6 +768,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -756,6 +786,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -773,6 +804,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -791,6 +823,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -809,6 +842,7 @@ export class HttpClient {\n    */\n   delete<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -827,6 +861,7 @@ export class HttpClient {\n    */\n   delete(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -846,6 +881,7 @@ export class HttpClient {\n    */\n   delete<T>(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -865,6 +901,7 @@ export class HttpClient {\n    */\n   delete(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -887,6 +924,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -905,6 +943,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -923,6 +962,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -942,6 +982,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -959,6 +1000,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -976,6 +1018,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -993,6 +1036,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1011,6 +1055,7 @@ export class HttpClient {\n    */\n   get<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1030,6 +1075,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1048,6 +1094,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -1066,6 +1113,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -1084,6 +1132,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1103,6 +1152,7 @@ export class HttpClient {\n    */\n   get<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1122,6 +1172,7 @@ export class HttpClient {\n    */\n   get(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1141,6 +1192,7 @@ export class HttpClient {\n    */\n   get<T>(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1156,6 +1208,7 @@ export class HttpClient {\n    */\n   get(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1178,6 +1231,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1197,6 +1251,7 @@ export class HttpClient {\n \n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1215,6 +1270,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1234,6 +1290,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1252,6 +1309,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -1270,6 +1328,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -1288,6 +1347,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1307,6 +1367,7 @@ export class HttpClient {\n    */\n   head<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1326,6 +1387,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1344,6 +1406,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -1362,6 +1425,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -1380,6 +1444,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1399,6 +1464,7 @@ export class HttpClient {\n    */\n   head<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1417,6 +1483,7 @@ export class HttpClient {\n    */\n   head(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1437,6 +1504,7 @@ export class HttpClient {\n    */\n   head<T>(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1454,6 +1522,7 @@ export class HttpClient {\n    */\n   head(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1525,6 +1594,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1543,6 +1613,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1561,6 +1632,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1580,6 +1652,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1598,6 +1671,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -1616,6 +1690,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -1634,6 +1709,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1653,6 +1729,7 @@ export class HttpClient {\n    */\n   options<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1672,6 +1749,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1690,6 +1768,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -1708,6 +1787,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -1726,6 +1806,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1745,6 +1826,7 @@ export class HttpClient {\n    */\n   options<T>(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1763,6 +1845,7 @@ export class HttpClient {\n    */\n   options(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1782,6 +1865,7 @@ export class HttpClient {\n    */\n   options<T>(url: string, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1799,6 +1883,7 @@ export class HttpClient {\n    */\n   options(url: string, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1821,6 +1906,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1840,6 +1926,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1859,6 +1946,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -1880,6 +1968,7 @@ export class HttpClient {\n \n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1899,6 +1988,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -1918,6 +2008,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -1937,6 +2028,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1957,6 +2049,7 @@ export class HttpClient {\n    */\n   patch<T>(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -1977,6 +2070,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -1996,6 +2090,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -2015,6 +2110,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -2034,6 +2130,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2054,6 +2151,7 @@ export class HttpClient {\n    */\n   patch<T>(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2073,6 +2171,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2094,6 +2193,7 @@ export class HttpClient {\n    */\n   patch<T>(url: string, body: any|null, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2109,6 +2209,7 @@ export class HttpClient {\n    */\n   patch(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2131,6 +2232,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2150,6 +2252,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2169,6 +2272,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2189,6 +2293,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -2207,6 +2312,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -2226,6 +2332,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -2245,6 +2352,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2265,6 +2373,7 @@ export class HttpClient {\n    */\n   post<T>(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2285,6 +2394,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -2304,6 +2414,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -2323,6 +2434,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -2342,6 +2454,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2363,6 +2476,7 @@ export class HttpClient {\n    */\n   post<T>(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2382,6 +2496,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2403,6 +2518,7 @@ export class HttpClient {\n    */\n   post<T>(url: string, body: any|null, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2419,6 +2535,7 @@ export class HttpClient {\n    */\n   post(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2441,6 +2558,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2460,6 +2578,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2479,6 +2598,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2499,6 +2619,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -2518,6 +2639,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -2537,6 +2659,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -2556,6 +2679,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2576,6 +2700,7 @@ export class HttpClient {\n    */\n   put<T>(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'events',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2596,6 +2721,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'arraybuffer',\n@@ -2615,6 +2741,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'blob',\n@@ -2634,6 +2761,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean, responseType: 'text',\n@@ -2653,6 +2781,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2673,6 +2802,7 @@ export class HttpClient {\n    */\n   put<T>(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]}, observe: 'response',\n+    context?: HttpContext,\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n     reportProgress?: boolean,\n@@ -2692,6 +2822,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2712,6 +2843,7 @@ export class HttpClient {\n    */\n   put<T>(url: string, body: any|null, options?: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},\n@@ -2728,6 +2860,7 @@ export class HttpClient {\n    */\n   put(url: string, body: any|null, options: {\n     headers?: HttpHeaders|{[header: string]: string | string[]},\n+    context?: HttpContext,\n     observe?: 'body'|'events'|'response',\n     params?: HttpParams|\n           {[param: string]: string | number | boolean | ReadonlyArray<string|number|boolean>},"
        },
        {
            "sha": "50a985833043e512b2e45fcc23f37b6f159ae52b",
            "filename": "packages/common/http/src/context.ts",
            "status": "added",
            "additions": 99,
            "deletions": 0,
            "changes": 99,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fsrc%2Fcontext.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fsrc%2Fcontext.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Fcontext.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -0,0 +1,99 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+/**\n+ * A token used to manipulate and access values stored in `HttpContext`.\n+ *\n+ * @publicApi\n+ */\n+export class HttpContextToken<T> {\n+  constructor(public readonly defaultValue: () => T) {}\n+}\n+\n+/**\n+ * Http context stores arbitrary user defined values and ensures type safety without\n+ * actually knowing the types. It is backed by a `Map` and guarantees that keys do not clash.\n+ *\n+ * This context is mutable and is shared between cloned requests unless explicitly specified.\n+ *\n+ * @usageNotes\n+ *\n+ * ### Usage Example\n+ *\n+ * ```typescript\n+ * // inside cache.interceptors.ts\n+ * export const IS_CACHE_ENABLED = new HttpContextToken<boolean>(() => false);\n+ *\n+ * export class CacheInterceptor implements HttpInterceptor {\n+ *\n+ *   intercept(req: HttpRequest<any>, delegate: HttpHandler): Observable<HttpEvent<any>> {\n+ *     if (req.context.get(IS_CACHE_ENABLED) === true) {\n+ *       return ...;\n+ *     }\n+ *     return delegate.handle(req);\n+ *   }\n+ * }\n+ *\n+ * // inside a service\n+ *\n+ * this.httpClient.get('/api/weather', {\n+ *   context: new HttpContext().set(IS_CACHE_ENABLED, true)\n+ * }).subscribe(...);\n+ * ```\n+ *\n+ * @publicApi\n+ */\n+export class HttpContext {\n+  private readonly map = new Map<HttpContextToken<unknown>, unknown>();\n+\n+  /**\n+   * Store a value in the context. If a value is already present it will be overwritten.\n+   *\n+   * @param token The reference to an instance of `HttpContextToken`.\n+   * @param value The value to store.\n+   *\n+   * @returns A reference to itself for easy chaining.\n+   */\n+  set<T>(token: HttpContextToken<T>, value: T): HttpContext {\n+    this.map.set(token, value);\n+    return this;\n+  }\n+\n+  /**\n+   * Retrieve the value associated with the given token.\n+   *\n+   * @param token The reference to an instance of `HttpContextToken`.\n+   *\n+   * @returns The stored value or default if one is defined.\n+   */\n+  get<T>(token: HttpContextToken<T>): T {\n+    if (!this.map.has(token)) {\n+      this.map.set(token, token.defaultValue());\n+    }\n+    return this.map.get(token) as T;\n+  }\n+\n+  /**\n+   * Delete the value associated with the given token.\n+   *\n+   * @param token The reference to an instance of `HttpContextToken`.\n+   *\n+   * @returns A reference to itself for easy chaining.\n+   */\n+  delete(token: HttpContextToken<unknown>): HttpContext {\n+    this.map.delete(token);\n+    return this;\n+  }\n+\n+  /**\n+   * @returns a list of tokens currently stored in the context.\n+   */\n+  keys(): IterableIterator<HttpContextToken<unknown>> {\n+    return this.map.keys();\n+  }\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "bb49113b0ad71b8d60a05218a9042016a2e609b7",
            "filename": "packages/common/http/src/request.ts",
            "status": "modified",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fsrc%2Frequest.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Fsrc%2Frequest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Frequest.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -6,16 +6,19 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {HttpContext} from './context';\n import {HttpHeaders} from './headers';\n import {HttpParams} from './params';\n \n+\n /**\n  * Construction interface for `HttpRequest`s.\n  *\n  * All values are optional and will override default values if provided.\n  */\n interface HttpRequestInit {\n   headers?: HttpHeaders;\n+  context?: HttpContext;\n   reportProgress?: boolean;\n   params?: HttpParams;\n   responseType?: 'arraybuffer'|'blob'|'json'|'text';\n@@ -91,6 +94,11 @@ export class HttpRequest<T> {\n   // TODO(issue/24571): remove '!'.\n   readonly headers!: HttpHeaders;\n \n+  /**\n+   * Shared and mutable context that can be used by interceptors\n+   */\n+  readonly context!: HttpContext;\n+\n   /**\n    * Whether this request should be made in a way that exposes progress events.\n    *\n@@ -137,20 +145,23 @@ export class HttpRequest<T> {\n \n   constructor(method: 'DELETE'|'GET'|'HEAD'|'JSONP'|'OPTIONS', url: string, init?: {\n     headers?: HttpHeaders,\n+    context?: HttpContext,\n     reportProgress?: boolean,\n     params?: HttpParams,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n     withCredentials?: boolean,\n   });\n   constructor(method: 'POST'|'PUT'|'PATCH', url: string, body: T|null, init?: {\n     headers?: HttpHeaders,\n+    context?: HttpContext,\n     reportProgress?: boolean,\n     params?: HttpParams,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n     withCredentials?: boolean,\n   });\n   constructor(method: string, url: string, body: T|null, init?: {\n     headers?: HttpHeaders,\n+    context?: HttpContext,\n     reportProgress?: boolean,\n     params?: HttpParams,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n@@ -159,13 +170,15 @@ export class HttpRequest<T> {\n   constructor(\n       method: string, readonly url: string, third?: T|{\n         headers?: HttpHeaders,\n+        context?: HttpContext,\n         reportProgress?: boolean,\n         params?: HttpParams,\n         responseType?: 'arraybuffer'|'blob'|'json'|'text',\n         withCredentials?: boolean,\n       }|null,\n       fourth?: {\n         headers?: HttpHeaders,\n+        context?: HttpContext,\n         reportProgress?: boolean,\n         params?: HttpParams,\n         responseType?: 'arraybuffer'|'blob'|'json'|'text',\n@@ -203,6 +216,10 @@ export class HttpRequest<T> {\n         this.headers = options.headers;\n       }\n \n+      if (!!options.context) {\n+        this.context = options.context;\n+      }\n+\n       if (!!options.params) {\n         this.params = options.params;\n       }\n@@ -213,6 +230,11 @@ export class HttpRequest<T> {\n       this.headers = new HttpHeaders();\n     }\n \n+    // If no context have been passed in, construct a new HttpContext instance.\n+    if (!this.context) {\n+      this.context = new HttpContext();\n+    }\n+\n     // If no parameters have been passed in, construct a new HttpUrlEncodedParams instance.\n     if (!this.params) {\n       this.params = new HttpParams();\n@@ -312,6 +334,7 @@ export class HttpRequest<T> {\n   clone(): HttpRequest<T>;\n   clone(update: {\n     headers?: HttpHeaders,\n+    context?: HttpContext,\n     reportProgress?: boolean,\n     params?: HttpParams,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n@@ -324,6 +347,7 @@ export class HttpRequest<T> {\n   }): HttpRequest<T>;\n   clone<V>(update: {\n     headers?: HttpHeaders,\n+    context?: HttpContext,\n     reportProgress?: boolean,\n     params?: HttpParams,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n@@ -336,6 +360,7 @@ export class HttpRequest<T> {\n   }): HttpRequest<V>;\n   clone(update: {\n     headers?: HttpHeaders,\n+    context?: HttpContext,\n     reportProgress?: boolean,\n     params?: HttpParams,\n     responseType?: 'arraybuffer'|'blob'|'json'|'text',\n@@ -370,6 +395,9 @@ export class HttpRequest<T> {\n     let headers = update.headers || this.headers;\n     let params = update.params || this.params;\n \n+    // Pass on context if needed\n+    const context = update.context ?? this.context;\n+\n     // Check whether the caller has asked to add headers.\n     if (update.setHeaders !== undefined) {\n       // Set every requested header.\n@@ -389,6 +417,7 @@ export class HttpRequest<T> {\n     return new HttpRequest(method, url, body, {\n       params,\n       headers,\n+      context,\n       reportProgress,\n       responseType,\n       withCredentials,"
        },
        {
            "sha": "e85c916f3aa94fb61374010deaa9cc3a1d75f6db",
            "filename": "packages/common/http/test/context_spec.ts",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Ftest%2Fcontext_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Ftest%2Fcontext_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Fcontext_spec.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -0,0 +1,59 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import {HttpContext, HttpContextToken} from '../src/context';\n+\n+const IS_ENABLED = new HttpContextToken<boolean>(() => false);\n+const CACHE_OPTION =\n+    new HttpContextToken<{cache: boolean, expiresIn?: number}>(() => ({cache: false}));\n+\n+describe('HttpContext', () => {\n+  let context: HttpContext;\n+\n+  beforeEach(() => {\n+    context = new HttpContext();\n+  });\n+\n+  describe('with basic value', () => {\n+    it('should test public api', () => {\n+      expect(context.get(IS_ENABLED)).toBe(false);\n+      expect([...context.keys()]).toEqual([\n+        IS_ENABLED\n+      ]);  // value from factory function is stored in the map upon access\n+\n+      context.set(IS_ENABLED, true);\n+      expect(context.get(IS_ENABLED)).toBe(true);\n+      expect([...context.keys()]).toEqual([IS_ENABLED]);\n+\n+      context.delete(IS_ENABLED);\n+      expect([...context.keys()]).toEqual([]);\n+    });\n+  });\n+\n+  describe('with complex value', () => {\n+    it('should test public api', () => {\n+      expect(context.get(CACHE_OPTION)).toEqual({cache: false});\n+      expect([...context.keys()]).toEqual([CACHE_OPTION]);\n+\n+      const value = {cache: true, expiresIn: 30};\n+      context.set(CACHE_OPTION, value);\n+      expect(context.get(CACHE_OPTION)).toBe(value);\n+      expect([...context.keys()]).toEqual([CACHE_OPTION]);\n+\n+      context.delete(CACHE_OPTION);\n+      expect([...context.keys()]).toEqual([]);\n+    });\n+\n+    it('should ensure that same reference is returned for default value between multiple accesses',\n+       () => {\n+         const value = context.get(CACHE_OPTION);  // will get default value\n+         expect(value).toEqual({cache: false});\n+         expect(context.get(CACHE_OPTION)).toBe(value);\n+       });\n+  });\n+});"
        },
        {
            "sha": "ef8a866be95b9836f148ccb7f56afa31aa7dea26",
            "filename": "packages/common/http/test/module_spec.ts",
            "status": "modified",
            "additions": 74,
            "deletions": 46,
            "changes": 120,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Ftest%2Fmodule_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Ftest%2Fmodule_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Fmodule_spec.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -8,6 +8,7 @@\n \n import {HttpHandler} from '@angular/common/http/src/backend';\n import {HttpClient} from '@angular/common/http/src/client';\n+import {HttpContext, HttpContextToken} from '@angular/common/http/src/context';\n import {HTTP_INTERCEPTORS, HttpInterceptor} from '@angular/common/http/src/interceptor';\n import {HttpRequest} from '@angular/common/http/src/request';\n import {HttpEvent, HttpResponse} from '@angular/common/http/src/response';\n@@ -19,6 +20,8 @@ import {TestBed} from '@angular/core/testing';\n import {Observable} from 'rxjs';\n import {map} from 'rxjs/operators';\n \n+const IS_INTERCEPTOR_C_ENABLED = new HttpContextToken<boolean|undefined>(() => undefined);\n+\n class TestInterceptor implements HttpInterceptor {\n   constructor(private value: string) {}\n \n@@ -49,6 +52,19 @@ class InterceptorB extends TestInterceptor {\n   }\n }\n \n+class InterceptorC extends TestInterceptor {\n+  constructor() {\n+    super('C');\n+  }\n+\n+  intercept(req: HttpRequest<any>, delegate: HttpHandler): Observable<HttpEvent<any>> {\n+    if (req.context.get(IS_INTERCEPTOR_C_ENABLED) === true) {\n+      return super.intercept(req, delegate);\n+    }\n+    return delegate.handle(req);\n+  }\n+}\n+\n @Injectable()\n class ReentrantInterceptor implements HttpInterceptor {\n   constructor(private client: HttpClient) {}\n@@ -58,54 +74,66 @@ class ReentrantInterceptor implements HttpInterceptor {\n   }\n }\n \n-{\n-  describe('HttpClientModule', () => {\n-    let injector: Injector;\n-    beforeEach(() => {\n-      injector = TestBed.configureTestingModule({\n-        imports: [HttpClientTestingModule],\n-        providers: [\n-          {provide: HTTP_INTERCEPTORS, useClass: InterceptorA, multi: true},\n-          {provide: HTTP_INTERCEPTORS, useClass: InterceptorB, multi: true},\n-        ],\n-      });\n-    });\n-    it('initializes HttpClient properly', done => {\n-      injector.get(HttpClient).get('/test', {responseType: 'text'}).subscribe((value: string) => {\n-        expect(value).toBe('ok!');\n-        done();\n-      });\n-      injector.get(HttpTestingController).expectOne('/test').flush('ok!');\n+describe('HttpClientModule', () => {\n+  let injector: Injector;\n+  beforeEach(() => {\n+    injector = TestBed.configureTestingModule({\n+      imports: [HttpClientTestingModule],\n+      providers: [\n+        {provide: HTTP_INTERCEPTORS, useClass: InterceptorA, multi: true},\n+        {provide: HTTP_INTERCEPTORS, useClass: InterceptorB, multi: true},\n+        {provide: HTTP_INTERCEPTORS, useClass: InterceptorC, multi: true},\n+      ],\n     });\n-    it('intercepts outbound responses in the order in which interceptors were bound', done => {\n-      injector.get(HttpClient)\n-          .get('/test', {observe: 'response', responseType: 'text'})\n-          .subscribe(() => done());\n-      const req = injector.get(HttpTestingController).expectOne('/test') as TestRequest;\n-      expect(req.request.headers.get('Intercepted')).toEqual('A,B');\n-      req.flush('ok!');\n+  });\n+  it('initializes HttpClient properly', done => {\n+    injector.get(HttpClient).get('/test', {responseType: 'text'}).subscribe((value: string) => {\n+      expect(value).toBe('ok!');\n+      done();\n     });\n-    it('intercepts inbound responses in the right (reverse binding) order', done => {\n-      injector.get(HttpClient)\n-          .get('/test', {observe: 'response', responseType: 'text'})\n-          .subscribe((value: HttpResponse<string>) => {\n-            expect(value.headers.get('Intercepted')).toEqual('B,A');\n-            done();\n-          });\n-      injector.get(HttpTestingController).expectOne('/test').flush('ok!');\n+    injector.get(HttpTestingController).expectOne('/test').flush('ok!');\n+  });\n+  it('intercepts outbound responses in the order in which interceptors were bound', done => {\n+    injector.get(HttpClient)\n+        .get('/test', {observe: 'response', responseType: 'text'})\n+        .subscribe(() => done());\n+    const req = injector.get(HttpTestingController).expectOne('/test') as TestRequest;\n+    expect(req.request.headers.get('Intercepted')).toEqual('A,B');\n+    req.flush('ok!');\n+  });\n+  it('intercepts outbound responses in the order in which interceptors were bound and include specifically enabled interceptor',\n+     done => {\n+       injector.get(HttpClient)\n+           .get('/test', {\n+             observe: 'response',\n+             responseType: 'text',\n+             context: new HttpContext().set(IS_INTERCEPTOR_C_ENABLED, true)\n+           })\n+           .subscribe(value => done());\n+       const req = injector.get(HttpTestingController).expectOne('/test') as TestRequest;\n+       expect(req.request.headers.get('Intercepted')).toEqual('A,B,C');\n+       req.flush('ok!');\n+     });\n+  it('intercepts inbound responses in the right (reverse binding) order', done => {\n+    injector.get(HttpClient)\n+        .get('/test', {observe: 'response', responseType: 'text'})\n+        .subscribe((value: HttpResponse<string>) => {\n+          expect(value.headers.get('Intercepted')).toEqual('B,A');\n+          done();\n+        });\n+    injector.get(HttpTestingController).expectOne('/test').flush('ok!');\n+  });\n+  it('allows interceptors to inject HttpClient', done => {\n+    TestBed.resetTestingModule();\n+    injector = TestBed.configureTestingModule({\n+      imports: [HttpClientTestingModule],\n+      providers: [\n+        {provide: HTTP_INTERCEPTORS, useClass: ReentrantInterceptor, multi: true},\n+      ],\n     });\n-    it('allows interceptors to inject HttpClient', done => {\n-      TestBed.resetTestingModule();\n-      injector = TestBed.configureTestingModule({\n-        imports: [HttpClientTestingModule],\n-        providers: [\n-          {provide: HTTP_INTERCEPTORS, useClass: ReentrantInterceptor, multi: true},\n-        ],\n-      });\n-      injector.get(HttpClient).get('/test').subscribe(() => {\n-        done();\n-      });\n-      injector.get(HttpTestingController).expectOne('/test').flush('ok!');\n+    injector.get(HttpClient).get('/test').subscribe(() => {\n+      done();\n     });\n+    injector.get(HttpTestingController).expectOne('/test').flush('ok!');\n   });\n-}\n+});"
        },
        {
            "sha": "7519b47e00479e403c1c4c98b0eca37b530b73f6",
            "filename": "packages/common/http/test/request_spec.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Ftest%2Frequest_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/1644d64398491d4a324a5eee492d1fd37df52a01/packages%2Fcommon%2Fhttp%2Ftest%2Frequest_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Frequest_spec.ts?ref=1644d64398491d4a324a5eee492d1fd37df52a01",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {HttpContext} from '@angular/common/http/src/context';\n import {HttpHeaders} from '@angular/common/http/src/headers';\n import {HttpParams} from '@angular/common/http/src/params';\n import {HttpRequest} from '@angular/common/http/src/request';\n@@ -56,6 +57,11 @@ const TEST_STRING = `I'm a body!`;\n         const req = new HttpRequest('GET', TEST_URL, {headers});\n         expect(req.headers).toBe(headers);\n       });\n+      it('uses the provided context if passed', () => {\n+        const context = new HttpContext();\n+        const req = new HttpRequest('GET', TEST_URL, {context});\n+        expect(req.context).toBe(context);\n+      });\n       it('defaults to Json', () => {\n         const req = new HttpRequest('GET', TEST_URL);\n         expect(req.responseType).toBe('json');\n@@ -65,8 +71,10 @@ const TEST_STRING = `I'm a body!`;\n       const headers = new HttpHeaders({\n         'Test': 'Test header',\n       });\n+      const context = new HttpContext();\n       const req = new HttpRequest('POST', TEST_URL, 'test body', {\n         headers,\n+        context,\n         reportProgress: true,\n         responseType: 'text',\n         withCredentials: true,\n@@ -79,6 +87,8 @@ const TEST_STRING = `I'm a body!`;\n         // Headers should be the same, as the headers are sealed.\n         expect(clone.headers).toBe(headers);\n         expect(clone.headers.get('Test')).toBe('Test header');\n+\n+        expect(clone.context).toBe(context);\n       });\n       it('and updates the url', () => {\n         expect(req.clone({url: '/changed'}).url).toBe('/changed');\n@@ -89,6 +99,10 @@ const TEST_STRING = `I'm a body!`;\n       it('and updates the body', () => {\n         expect(req.clone({body: 'changed body'}).body).toBe('changed body');\n       });\n+      it('and updates the context', () => {\n+        const newContext = new HttpContext();\n+        expect(req.clone({context: newContext}).context).toBe(newContext);\n+      });\n     });\n     describe('content type detection', () => {\n       const baseReq = new HttpRequest('POST', '/test', null);"
        }
    ],
    "stats": {
        "total": 604,
        "additions": 553,
        "deletions": 51
    }
}