{
    "author": "crisbeto",
    "message": "feat(core): support TypeScript 4.5 (#44164)\n\nAdds support for TypeScript 4.5. Includes the following changes:\n* Bumping the package versions.\n* Fixing a few calls to `createExportSpecifier` and `createImportSpecifier` that require an extra parameter.\n* Adding some missing methods to the TS compiler hosts.\n* Fixing an issue in the TS mocks for the ngcc tests where a regex was too agressive and was trying to match a path like `/node_modules/@typescript/lib-es5`.\n* Accounting for type-only import specifiers when reporting DI errors (see #43620).\n\nFixes #43620.\n\nPR Close #44164",
    "sha": "d56e3f43a1f3ca5004d2c5413167737cff7d936f",
    "files": [
        {
            "sha": "859f137a863702a669e2aa6a9acc5abae4fdd06b",
            "filename": "aio/aio-builds-setup/dockerbuild/scripts-js/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -49,6 +49,6 @@\n     \"supertest\": \"^4.0.2\",\n     \"tslint\": \"^6.1.3\",\n     \"tslint-jasmine-noSkipOrFocus\": \"^1.0.9\",\n-    \"typescript\": \"~4.4.2\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "2344c634914fc5f1a1d0ff0668f4a48edfa365e5",
            "filename": "aio/aio-builds-setup/dockerbuild/scripts-js/yarn.lock",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fyarn.lock?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -2563,10 +2563,10 @@ typedarray-to-buffer@^3.1.5:\n   dependencies:\n     is-typedarray \"^1.0.0\"\n \n-typescript@~4.4.2:\n-  version \"4.4.2\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.4.2.tgz#6d618640d430e3569a1dfb44f7d7e600ced3ee86\"\n-  integrity sha512-gzP+t5W4hdy4c+68bfcv0t400HVJMMd2+H9B7gae1nQlBzCqvrXX+6GL/b3GAgyTH966pzrZ70/fRjwAtZksSQ==\n+typescript@~4.5.2:\n+  version \"4.5.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.5.2.tgz#8ac1fba9f52256fdb06fb89e4122fa6a346c2998\"\n+  integrity sha512-5BlMof9H1yGt0P8/WF+wPNw6GfctgGjXp5hkblpyT+8rkASSmkUKMXrxR0Xg8ThVCi/JnHQiKXeBaEwCeQwMFw==\n \n undefsafe@^2.0.2:\n   version \"2.0.2\""
        },
        {
            "sha": "6b9604755e7525ad3b1b0fd78e8272c2985636ae",
            "filename": "aio/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -175,7 +175,7 @@\n     \"ts-node\": \"^10.0.0\",\n     \"tsec\": \"^0.1.5\",\n     \"tslint\": \"~6.1.3\",\n-    \"typescript\": \"~4.4.3\",\n+    \"typescript\": \"~4.5.2\",\n     \"uglify-js\": \"^3.13.3\",\n     \"unist-util-filter\": \"^2.0.3\",\n     \"unist-util-source\": \"^3.0.0\","
        },
        {
            "sha": "a8bd9eeef17d4cdb95b554eb5f75c7114bc377fc",
            "filename": "aio/tools/examples/shared/boilerplate/cli-ajs/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli-ajs%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli-ajs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli-ajs%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -46,6 +46,6 @@\n     \"karma-jasmine-html-reporter\": \"~1.7.0\",\n     \"protractor\": \"~7.0.0\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "450119ea243fe2e49780124214a342bd641c56ec",
            "filename": "aio/tools/examples/shared/boilerplate/cli/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -43,6 +43,6 @@\n     \"karma-jasmine-html-reporter\": \"~1.7.0\",\n     \"protractor\": \"~7.0.0\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "b1da0622fac7efa8dfb9174a4aa18710fb408716",
            "filename": "aio/tools/examples/shared/boilerplate/elements/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Felements%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Felements%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Felements%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -43,6 +43,6 @@\n     \"karma-jasmine-html-reporter\": \"~1.7.0\",\n     \"protractor\": \"~7.0.0\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "d049835d4177df270dd8fb5a555037300cbceeb6",
            "filename": "aio/tools/examples/shared/boilerplate/i18n/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -46,6 +46,6 @@\n     \"karma-jasmine-html-reporter\": \"~1.7.0\",\n     \"protractor\": \"~7.0.0\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "ed3cceec3ef078ca0bdcfc1277286e9e5dd0f31c",
            "filename": "aio/tools/examples/shared/boilerplate/service-worker/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fservice-worker%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fservice-worker%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fservice-worker%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -43,6 +43,6 @@\n     \"karma-jasmine-html-reporter\": \"~1.7.0\",\n     \"protractor\": \"~7.0.0\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "df50cf46fcedb1f1145074cab5b320db5247348a",
            "filename": "aio/tools/examples/shared/boilerplate/systemjs/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fsystemjs%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fsystemjs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fsystemjs%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -63,6 +63,6 @@\n     \"rollup-plugin-commonjs\": \"^9.2.1\",\n     \"rollup-plugin-node-resolve\": \"^4.0.0\",\n     \"rollup-plugin-terser\": \"^5.3.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "f54442a1e1010d1e05187e9b8de0bf5ff5e62902",
            "filename": "aio/tools/examples/shared/boilerplate/universal/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Funiversal%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Funiversal%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Funiversal%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -51,6 +51,6 @@\n     \"karma-jasmine-html-reporter\": \"~1.7.0\",\n     \"protractor\": \"~7.0.0\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "8b7444f2775af5bddc2e6220841ff845cc51cc83",
            "filename": "aio/tools/examples/shared/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -82,6 +82,6 @@\n     \"rollup-plugin-terser\": \"^5.3.0\",\n     \"source-map-explorer\": \"^1.3.2\",\n     \"ts-node\": \"~10.1.0\",\n-    \"typescript\": \"~4.4.3\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "a2673a1514d18524ee166cc6f59f9757924a7412",
            "filename": "aio/tools/examples/shared/yarn.lock",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Ftools%2Fexamples%2Fshared%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fyarn.lock?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -11066,10 +11066,10 @@ typed-assert@^1.0.8:\n   resolved \"https://registry.yarnpkg.com/typed-assert/-/typed-assert-1.0.8.tgz#4bf9f1ce7f3f974d09c3afd7c68d12e1391a233c\"\n   integrity sha512-5NkbXZUlmCE73Fs7gvkp1XXJWHYetPkg60QnQ2NXQmBYNFxbBr2zA8GCtaH4K2s2WhOmSlgiSTmrjrcm5tnM5g==\n \n-typescript@~4.4.3:\n-  version \"4.4.4\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.4.4.tgz#2cd01a1a1f160704d3101fd5a58ff0f9fcb8030c\"\n-  integrity sha512-DqGhF5IKoBl8WNf8C1gu8q0xZSInh9j1kJJMqT3a94w1JzVaBU4EXOSMrz9yDqMT0xt3selp83fuFMQ0uzv6qA==\n+typescript@~4.5.2:\n+  version \"4.5.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.5.2.tgz#8ac1fba9f52256fdb06fb89e4122fa6a346c2998\"\n+  integrity sha512-5BlMof9H1yGt0P8/WF+wPNw6GfctgGjXp5hkblpyT+8rkASSmkUKMXrxR0Xg8ThVCi/JnHQiKXeBaEwCeQwMFw==\n \n ua-parser-js@0.7.17:\n   version \"0.7.17\""
        },
        {
            "sha": "863526d59f9b8e753b3ac1e0deca2fbcf3eb0902",
            "filename": "aio/yarn.lock",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/aio%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fyarn.lock?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -11776,10 +11776,10 @@ typescript@~3.2.2:\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-3.2.4.tgz#c585cb952912263d915b462726ce244ba510ef3d\"\n   integrity sha512-0RNDbSdEokBeEAkgNbxJ+BLwSManFy9TeXz8uW+48j/xhEXv1ePME60olyzw2XzUqUBNAYFeJadIqAgNqIACwg==\n \n-typescript@~4.4.3:\n-  version \"4.4.4\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.4.4.tgz#2cd01a1a1f160704d3101fd5a58ff0f9fcb8030c\"\n-  integrity sha512-DqGhF5IKoBl8WNf8C1gu8q0xZSInh9j1kJJMqT3a94w1JzVaBU4EXOSMrz9yDqMT0xt3selp83fuFMQ0uzv6qA==\n+typescript@~4.5.2:\n+  version \"4.5.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.5.2.tgz#8ac1fba9f52256fdb06fb89e4122fa6a346c2998\"\n+  integrity sha512-5BlMof9H1yGt0P8/WF+wPNw6GfctgGjXp5hkblpyT+8rkASSmkUKMXrxR0Xg8ThVCi/JnHQiKXeBaEwCeQwMFw==\n \n ua-parser-js@^0.7.30:\n   version \"0.7.31\""
        },
        {
            "sha": "d7f31732d83f9b2c21d50c6a0e9c460b82a74fde",
            "filename": "integration/BUILD.bazel",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2FBUILD.bazel?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -100,6 +100,12 @@ INTEGRATION_TESTS = {\n         # root @npm//typescript package.\n         \"pinned_npm_packages\": [\"typescript\"],\n     },\n+    \"typings_test_ts45\": {\n+        # Special case for `typings_test_ts45` test as we want to pin\n+        # `typescript` at version 4.5.x for that test and not link to the\n+        # root @npm//typescript package.\n+        \"pinned_npm_packages\": [\"typescript\"],\n+    },\n }\n \n ["
        },
        {
            "sha": "86b57f2789d8ddb54e8f6dd666bc1b823a799bad",
            "filename": "integration/typings_test_ts45/include-all.ts",
            "status": "added",
            "additions": 69,
            "deletions": 0,
            "changes": 69,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2Ftypings_test_ts45%2Finclude-all.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2Ftypings_test_ts45%2Finclude-all.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts45%2Finclude-all.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -0,0 +1,69 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+\n+\n+import * as animations from '@angular/animations';\n+import * as animationsBrowser from '@angular/animations/browser';\n+import * as animationsBrowserTesting from '@angular/animations/browser/testing';\n+import * as common from '@angular/common';\n+import * as commonHttp from '@angular/common/http';\n+import * as commonTesting from '@angular/common/testing';\n+import * as commonHttpTesting from '@angular/common/testing';\n+import * as compiler from '@angular/compiler';\n+import * as compilerTesting from '@angular/compiler/testing';\n+import * as core from '@angular/core';\n+import * as coreTesting from '@angular/core/testing';\n+import * as elements from '@angular/elements';\n+import * as forms from '@angular/forms';\n+import * as platformBrowser from '@angular/platform-browser';\n+import * as platformBrowserDynamic from '@angular/platform-browser-dynamic';\n+import * as platformBrowserDynamicTesting from '@angular/platform-browser-dynamic/testing';\n+import * as platformBrowserAnimations from '@angular/platform-browser/animations';\n+import * as platformBrowserTesting from '@angular/platform-browser/testing';\n+import * as platformServer from '@angular/platform-server';\n+import * as platformServerInit from '@angular/platform-server/init';\n+import * as platformServerTesting from '@angular/platform-server/testing';\n+import * as router from '@angular/router';\n+import * as routerTesting from '@angular/router/testing';\n+import * as routerUpgrade from '@angular/router/upgrade';\n+import * as serviceWorker from '@angular/service-worker';\n+import * as upgrade from '@angular/upgrade';\n+import * as upgradeStatic from '@angular/upgrade/static';\n+import * as upgradeTesting from '@angular/upgrade/static/testing';\n+\n+export default {\n+  animations,\n+  animationsBrowser,\n+  animationsBrowserTesting,\n+  common,\n+  commonTesting,\n+  commonHttp,\n+  commonHttpTesting,\n+  compiler,\n+  compilerTesting,\n+  core,\n+  coreTesting,\n+  elements,\n+  forms,\n+  platformBrowser,\n+  platformBrowserTesting,\n+  platformBrowserDynamic,\n+  platformBrowserDynamicTesting,\n+  platformBrowserAnimations,\n+  platformServer,\n+  platformServerInit,\n+  platformServerTesting,\n+  router,\n+  routerTesting,\n+  routerUpgrade,\n+  serviceWorker,\n+  upgrade,\n+  upgradeStatic,\n+  upgradeTesting,\n+};"
        },
        {
            "sha": "ee8b39d77c3d3506665127b7b788f8160e9c1407",
            "filename": "integration/typings_test_ts45/package.json",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2Ftypings_test_ts45%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2Ftypings_test_ts45%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts45%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -0,0 +1,28 @@\n+{\n+  \"name\": \"angular-integration\",\n+  \"description\": \"Assert that users with TypeScript 4.5 can type-check an Angular application\",\n+  \"version\": \"0.0.0\",\n+  \"license\": \"MIT\",\n+  \"dependencies\": {\n+    \"@angular/animations\": \"file:../../dist/packages-dist/animations\",\n+    \"@angular/common\": \"file:../../dist/packages-dist/common\",\n+    \"@angular/compiler\": \"file:../../dist/packages-dist/compiler\",\n+    \"@angular/compiler-cli\": \"file:../../dist/packages-dist/compiler-cli\",\n+    \"@angular/core\": \"file:../../dist/packages-dist/core\",\n+    \"@angular/elements\": \"file:../../dist/packages-dist/elements\",\n+    \"@angular/forms\": \"file:../../dist/packages-dist/forms\",\n+    \"@angular/platform-browser\": \"file:../../dist/packages-dist/platform-browser\",\n+    \"@angular/platform-browser-dynamic\": \"file:../../dist/packages-dist/platform-browser-dynamic\",\n+    \"@angular/platform-server\": \"file:../../dist/packages-dist/platform-server\",\n+    \"@angular/router\": \"file:../../dist/packages-dist/router\",\n+    \"@angular/service-worker\": \"file:../../dist/packages-dist/service-worker\",\n+    \"@angular/upgrade\": \"file:../../dist/packages-dist/upgrade\",\n+    \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\",\n+    \"rxjs\": \"file:../../node_modules/rxjs\",\n+    \"typescript\": \"4.5.2\",\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n+  },\n+  \"scripts\": {\n+    \"test\": \"tsc\"\n+  }\n+}"
        },
        {
            "sha": "30e25c2209734194d3848550110bbc0848381535",
            "filename": "integration/typings_test_ts45/tsconfig.json",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2Ftypings_test_ts45%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/integration%2Ftypings_test_ts45%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts45%2Ftsconfig.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -0,0 +1,26 @@\n+{\n+  \"compilerOptions\": {\n+    \"forceConsistentCasingInFileNames\": true,\n+    \"strict\": true,\n+    \"noImplicitReturns\": true,\n+    \"noFallthroughCasesInSwitch\": true,\n+    \"experimentalDecorators\": true,\n+    \"module\": \"commonjs\",\n+    \"moduleResolution\": \"node\",\n+    \"outDir\": \"./dist/out-tsc\",\n+    \"rootDir\": \".\",\n+    \"target\": \"es5\",\n+    \"lib\": [\n+      \"es5\",\n+      \"dom\",\n+      \"es2015.collection\",\n+      \"es2015.iterable\",\n+      \"es2015.promise\"\n+    ],\n+    \"types\": [],\n+  },\n+  \"files\": [\n+    \"include-all.ts\",\n+    \"node_modules/@types/jasmine/index.d.ts\"\n+  ]\n+}"
        },
        {
            "sha": "b540e993782a4cd694aa049e67936c0a3c5d77ea",
            "filename": "package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/package.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -152,7 +152,7 @@\n     \"tsickle\": \"0.38.1\",\n     \"tslib\": \"^2.3.0\",\n     \"tslint\": \"6.1.3\",\n-    \"typescript\": \"~4.4.2\",\n+    \"typescript\": \"~4.5.2\",\n     \"xhr2\": \"0.2.1\",\n     \"yargs\": \"^17.2.1\"\n   },"
        },
        {
            "sha": "189bebcf5c9633f8386f7e14e6a3f6fabe1637e1",
            "filename": "packages/bazel/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fbazel%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fbazel%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -35,7 +35,7 @@\n     \"rollup\": \"^2.56.3\",\n     \"rollup-plugin-sourcemaps\": \"^0.6.3\",\n     \"terser\": \"^5.9.0\",\n-    \"typescript\": \">=4.4.2 <4.5\"\n+    \"typescript\": \">=4.4.2 <4.6\"\n   },\n   \"peerDependenciesMeta\": {\n     \"terser\": {"
        },
        {
            "sha": "4c3abb719d3b22b7c0d36024079ec08954b20acb",
            "filename": "packages/compiler-cli/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2FBUILD.bazel?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -105,6 +105,7 @@ ts_library(\n         \"//packages/compiler-cli/src/ngtsc/translator\",\n         \"//packages/compiler-cli/src/ngtsc/typecheck\",\n         \"//packages/compiler-cli/src/ngtsc/typecheck/api\",\n+        \"//packages/compiler-cli/src/ngtsc/util\",\n         \"//packages/compiler-cli/src/transformers/downlevel_decorators_transform\",\n         \"@npm//@bazel/typescript\",\n         \"@npm//@types/node\","
        },
        {
            "sha": "435f1993998f63e3c349c9d463c327ca8f1d2484",
            "filename": "packages/compiler-cli/ngcc/test/execution/helpers.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Fhelpers.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Fhelpers.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Fhelpers.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n import {DepGraph} from 'dependency-graph';\n+\n import {DtsProcessing, PartiallyOrderedTasks} from '../../src/execution/tasks/api';\n import {EntryPoint, EntryPointJsonProperty} from '../../src/packages/entry_point';\n \n@@ -53,7 +54,7 @@ export function createTasksAndGraph(\n \n     for (let tIdx = 0; tIdx < tasksPerEntryPointCount; tIdx++) {\n       const processDts = tIdx === 0 ? DtsProcessing.Yes : DtsProcessing.No;\n-      const formatProperty = `prop-${tIdx}` as EntryPointJsonProperty;\n+      const formatProperty = `prop-${tIdx}` as unknown as EntryPointJsonProperty;\n       tasks.push({\n         entryPoint,\n         formatProperty: formatProperty,"
        },
        {
            "sha": "0ec481bd59e8295d93f6023f23b37f8fcf082ddf",
            "filename": "packages/compiler-cli/ngcc/test/execution/tasks/queues/serial_task_queue_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Ftasks%2Fqueues%2Fserial_task_queue_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Ftasks%2Fqueues%2Fserial_task_queue_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Ftasks%2Fqueues%2Fserial_task_queue_spec.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -11,7 +11,7 @@ import {MockLogger} from '../../../../../src/ngtsc/logging/testing';\n import {DtsProcessing, PartiallyOrderedTasks, Task, TaskQueue} from '../../../../src/execution/tasks/api';\n import {SerialTaskQueue} from '../../../../src/execution/tasks/queues/serial_task_queue';\n import {computeTaskDependencies} from '../../../../src/execution/tasks/utils';\n-import {EntryPoint} from '../../../../src/packages/entry_point';\n+import {EntryPoint, EntryPointJsonProperty} from '../../../../src/packages/entry_point';\n \n \n describe('SerialTaskQueue', () => {\n@@ -35,7 +35,7 @@ describe('SerialTaskQueue', () => {\n       const processDts = i % 2 === 0 ? DtsProcessing.Yes : DtsProcessing.No;\n       tasks.push({\n         entryPoint: entryPoint,\n-        formatProperty: `prop-${i}`,\n+        formatProperty: `prop-${i}` as unknown as EntryPointJsonProperty,\n         formatPropertiesToMarkAsProcessed: [],\n         processDts\n       } as Task);"
        },
        {
            "sha": "9bc01bec5c8d609fdc958c49019bd844b1247473",
            "filename": "packages/compiler-cli/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -67,7 +67,7 @@\n   },\n   \"peerDependencies\": {\n     \"@angular/compiler\": \"0.0.0-PLACEHOLDER\",\n-    \"typescript\": \">=4.4.2 <4.5\"\n+    \"typescript\": \">=4.4.2 <4.6\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "2b4dca1afcf382746aa25dfa1877296eab9c0181",
            "filename": "packages/compiler-cli/src/ngtsc/annotations/src/util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Futil.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -219,7 +219,7 @@ function createUnsuitableInjectionTokenError(\n         makeRelatedInformation(\n             reason.typeNode,\n             'This type is imported using a type-only import, which prevents it from being usable as an injection token.'),\n-        makeRelatedInformation(reason.importClause, 'The type-only import occurs here.'),\n+        makeRelatedInformation(reason.node, 'The type-only import occurs here.'),\n       ];\n       break;\n     case ValueUnavailableKind.NAMESPACE:"
        },
        {
            "sha": "1153aefcfcf2f19563362507b0a0b4c68dd6514b",
            "filename": "packages/compiler-cli/src/ngtsc/core/src/host.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcore%2Fsrc%2Fhost.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcore%2Fsrc%2Fhost.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcore%2Fsrc%2Fhost.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -67,6 +67,10 @@ export class DelegatingCompilerHost implements\n   trace = this.delegateMethod('trace');\n   useCaseSensitiveFileNames = this.delegateMethod('useCaseSensitiveFileNames');\n   writeFile = this.delegateMethod('writeFile');\n+\n+  // TODO(crisbeto): the cast to `any` is here since g3 is still on TS 4.4.\n+  // Should be cleaned up when g3 has been updated.\n+  getModuleResolutionCache = this.delegateMethod('getModuleResolutionCache' as any);\n }\n \n /**"
        },
        {
            "sha": "69a1f73ba3c84cd9957eb3b2d9075873d48524f0",
            "filename": "packages/compiler-cli/src/ngtsc/cycles/src/imports.ts",
            "status": "modified",
            "additions": 18,
            "deletions": 1,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcycles%2Fsrc%2Fimports.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcycles%2Fsrc%2Fimports.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fcycles%2Fsrc%2Fimports.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -92,7 +92,7 @@ export class ImportGraph {\n         }\n \n         if (ts.isImportDeclaration(stmt) && stmt.importClause !== undefined &&\n-            stmt.importClause.isTypeOnly) {\n+            isTypeOnlyImportClause(stmt.importClause)) {\n           // Exclude type-only imports as they are always elided, so they don't contribute to\n           // cycles.\n           continue;\n@@ -118,6 +118,23 @@ function isLocalFile(sf: ts.SourceFile): boolean {\n   return !sf.isDeclarationFile;\n }\n \n+function isTypeOnlyImportClause(node: ts.ImportClause): boolean {\n+  // The clause itself is type-only (e.g. `import type {foo} from '...'`).\n+  if (node.isTypeOnly) {\n+    return true;\n+  }\n+\n+  // All the specifiers in the cause are type-only (e.g. `import {type a, type b} from '...'`).\n+  if (node.namedBindings !== undefined && ts.isNamedImports(node.namedBindings) &&\n+      // TODO(crisbeto): the cast to `any` is here since g3 is still on TS 4.4.\n+      // Should be cleaned up when g3 has been updated.\n+      node.namedBindings.elements.every(specifier => (specifier as any).isTypeOnly)) {\n+    return true;\n+  }\n+\n+  return false;\n+}\n+\n /**\n  * A helper class to track which SourceFiles are being processed when searching for a path in\n  * `getPath()` above."
        },
        {
            "sha": "06ca7b48daae2273ea74029e48d1ea915666384b",
            "filename": "packages/compiler-cli/src/ngtsc/program_driver/src/ts_create_program_driver.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fprogram_driver%2Fsrc%2Fts_create_program_driver.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fprogram_driver%2Fsrc%2Fts_create_program_driver.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fprogram_driver%2Fsrc%2Fts_create_program_driver.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -51,6 +51,10 @@ export class DelegatingCompilerHost implements\n   resolveTypeReferenceDirectives = this.delegateMethod('resolveTypeReferenceDirectives');\n   trace = this.delegateMethod('trace');\n   useCaseSensitiveFileNames = this.delegateMethod('useCaseSensitiveFileNames');\n+\n+  // TODO(crisbeto): the cast to `any` is here since g3 is still on TS 4.4.\n+  // Should be cleaned up when g3 has been updated.\n+  getModuleResolutionCache = this.delegateMethod('getModuleResolutionCache' as any);\n }\n \n /**"
        },
        {
            "sha": "f9a04ae71558c352d409b5fd7ea23276ed19b2a5",
            "filename": "packages/compiler-cli/src/ngtsc/reflection/src/host.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Fhost.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Fhost.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Fhost.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -342,7 +342,7 @@ export interface NoValueDeclaration {\n export interface TypeOnlyImport {\n   kind: ValueUnavailableKind.TYPE_ONLY_IMPORT;\n   typeNode: ts.TypeNode;\n-  importClause: ts.ImportClause;\n+  node: ts.ImportClause|ts.ImportSpecifier;\n }\n \n export interface NamespaceImport {"
        },
        {
            "sha": "7c5c7045a947482506d4bfdad799d8fb4fa61b06",
            "filename": "packages/compiler-cli/src/ngtsc/reflection/src/type_to_value.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 4,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Ftype_to_value.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Ftype_to_value.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Ftype_to_value.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -72,8 +72,16 @@ export function typeToValue(\n       // or\n       //   import {Foo as Bar} from 'foo';\n \n+      // TODO(crisbeto): the cast to `any` is here since g3 is still on TS 4.4.\n+      // Should be cleaned up when g3 has been updated.\n+      if ((firstDecl as any).isTypeOnly) {\n+        // The import specifier can't be type-only (e.g. `import {type Foo} from '...')`.\n+        return typeOnlyImport(typeNode, firstDecl);\n+      }\n+\n       if (firstDecl.parent.parent.isTypeOnly) {\n-        // Type-only imports cannot be represented as value.\n+        // The import specifier can't be inside a type-only import clause\n+        // (e.g. `import type {Foo} from '...')`.\n         return typeOnlyImport(typeNode, firstDecl.parent.parent);\n       }\n \n@@ -151,11 +159,11 @@ function noValueDeclaration(\n   };\n }\n \n-function typeOnlyImport(\n-    typeNode: ts.TypeNode, importClause: ts.ImportClause): UnavailableTypeValueReference {\n+function typeOnlyImport(typeNode: ts.TypeNode, node: ts.ImportClause|ts.ImportSpecifier):\n+    UnavailableTypeValueReference {\n   return {\n     kind: TypeValueReferenceKind.UNAVAILABLE,\n-    reason: {kind: ValueUnavailableKind.TYPE_ONLY_IMPORT, typeNode, importClause},\n+    reason: {kind: ValueUnavailableKind.TYPE_ONLY_IMPORT, typeNode, node},\n   };\n }\n "
        },
        {
            "sha": "6f61684f8f50c7a7bc61259deef23ad6db33d25e",
            "filename": "packages/compiler-cli/src/ngtsc/resource/src/loader.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fresource%2Fsrc%2Floader.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fresource%2Fsrc%2Floader.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fresource%2Fsrc%2Floader.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -237,6 +237,8 @@ export class AdapterResourceLoader implements ResourceLoader {\n  */\n function createLookupResolutionHost(adapter: NgCompilerAdapter):\n     RequiredDelegations<ts.ModuleResolutionHost> {\n+  // TODO(crisbeto): the cast to `any` is here since g3 is still on TS 4.4.\n+  // Should be cleaned up when g3 has been updated.\n   return {\n     directoryExists(directoryName: string): boolean {\n       if (directoryName.includes(RESOURCE_MARKER)) {\n@@ -261,5 +263,8 @@ function createLookupResolutionHost(adapter: NgCompilerAdapter):\n     getDirectories: adapter.getDirectories?.bind(adapter),\n     realpath: adapter.realpath?.bind(adapter),\n     trace: adapter.trace?.bind(adapter),\n-  };\n+    useCaseSensitiveFileNames: typeof (adapter as any).useCaseSensitiveFileNames === 'function' ?\n+        (adapter as any).useCaseSensitiveFileNames.bind(adapter) :\n+        (adapter as any).useCaseSensitiveFileNames\n+  } as any;\n }"
        },
        {
            "sha": "f3404968a0d2353962d5cc6377eedab2a8e9e49a",
            "filename": "packages/compiler-cli/src/ngtsc/shims/src/factory_generator.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fshims%2Fsrc%2Ffactory_generator.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fshims%2Fsrc%2Ffactory_generator.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fshims%2Fsrc%2Ffactory_generator.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -159,9 +159,11 @@ function transformFactorySourceFile(\n       const rewrittenModuleSpecifier =\n           importRewriter.rewriteSpecifier('@angular/core', sourceFilePath);\n       if (rewrittenModuleSpecifier !== stmt.moduleSpecifier.text) {\n-        transformedStatements.push(ts.updateImportDeclaration(\n+        // TODO(crisbeto): the cast to `any` is here since g3 is still on TS 4.4.\n+        // Should be cleaned up when g3 has been updated.\n+        transformedStatements.push((ts.updateImportDeclaration as any)(\n             stmt, stmt.decorators, stmt.modifiers, stmt.importClause,\n-            ts.createStringLiteral(rewrittenModuleSpecifier)));\n+            ts.createStringLiteral(rewrittenModuleSpecifier), undefined));\n \n         // Record the identifier by which this imported module goes, so references to its symbols\n         // can be discovered later."
        },
        {
            "sha": "765c83fec763c70d7a1bc32a7fe733d3db4a64cb",
            "filename": "packages/compiler-cli/src/ngtsc/transform/src/alias.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftransform%2Fsrc%2Falias.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftransform%2Fsrc%2Falias.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftransform%2Fsrc%2Falias.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -8,6 +8,8 @@\n \n import ts from 'typescript';\n \n+import {createExportSpecifier} from '../../util/src/typescript';\n+\n export function aliasTransformFactory(exportStatements: Map<string, Map<string, [string, string]>>):\n     ts.TransformerFactory<ts.SourceFile> {\n   return (context: ts.TransformationContext) => {\n@@ -21,9 +23,8 @@ export function aliasTransformFactory(exportStatements: Map<string, Map<string,\n         const stmt = ts.createExportDeclaration(\n             /* decorators */ undefined,\n             /* modifiers */ undefined,\n-            /* exportClause */ ts.createNamedExports([ts.createExportSpecifier(\n-                /* propertyName */ symbolName,\n-                /* name */ aliasName)]),\n+            /* exportClause */ ts.createNamedExports([createExportSpecifier(\n+                symbolName, aliasName)]),\n             /* moduleSpecifier */ ts.createStringLiteral(moduleName));\n         statements.push(stmt);\n       });"
        },
        {
            "sha": "e2bc8e1a1cee5aacf0e9b3b9f9ebb055a4d0d919",
            "filename": "packages/compiler-cli/src/ngtsc/util/src/typescript.ts",
            "status": "modified",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Futil%2Fsrc%2Ftypescript.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Futil%2Fsrc%2Ftypescript.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Futil%2Fsrc%2Ftypescript.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -13,6 +13,8 @@ import ts from 'typescript';\n import {AbsoluteFsPath, getFileSystem} from '../../file_system';\n import {DeclarationNode} from '../../reflection';\n \n+const PARSED_TS_VERSION = parseFloat(ts.versionMajorMinor);\n+\n /**\n  * Type describing a symbol that is guaranteed to have a value declaration.\n  */\n@@ -203,3 +205,36 @@ export function toUnredirectedSourceFile(sf: ts.SourceFile): ts.SourceFile {\n   }\n   return redirectInfo.unredirected;\n }\n+\n+/**\n+ * Backwards-compatible version of `ts.createExportSpecifier`\n+ * to handle a breaking change between 4.4 and 4.5.\n+ */\n+export function createExportSpecifier(\n+    propertyName: string|ts.Identifier|undefined, name: string|ts.Identifier,\n+    isTypeOnly = false): ts.ExportSpecifier {\n+  return PARSED_TS_VERSION > 4.4 ?\n+      // TODO(crisbeto): the function is cast to `any` here since g3 is still on TS 4.4.\n+      // Should be cleaned up when g3 has been updated.\n+      (ts.createExportSpecifier as any)(isTypeOnly, propertyName, name) :\n+      // TODO(crisbeto): backwards-compatibility layer for TS 4.4.\n+      // Should be cleaned up when we drop support for it.\n+      (ts.createExportSpecifier as any)(propertyName, name);\n+}\n+\n+\n+/**\n+ * Backwards-compatible version of `ts.createImportSpecifier`\n+ * to handle a breaking change between 4.4 and 4.5.\n+ */\n+export function createImportSpecifier(\n+    propertyName: string|ts.Identifier|undefined, name: string|ts.Identifier,\n+    isTypeOnly = false): ts.ImportSpecifier {\n+  return PARSED_TS_VERSION > 4.4 ?\n+      // TODO(crisbeto): the function is cast to `any` here since g3 is still on TS 4.4.\n+      // Should be cleaned up when g3 has been updated.\n+      (ts.createImportSpecifier as any)(isTypeOnly, propertyName, name) :\n+      // TODO(crisbeto): backwards-compatibility layer for TS 4.4.\n+      // Should be cleaned up when we drop support for it.\n+      (ts.createImportSpecifier as any)(propertyName, name);\n+}"
        },
        {
            "sha": "f4482443e729ca289956b9eef873c632208bfca8",
            "filename": "packages/compiler-cli/src/transformers/lower_expressions.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Flower_expressions.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Flower_expressions.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Flower_expressions.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -10,6 +10,7 @@ import {createLoweredSymbol, isLoweredSymbol} from '@angular/compiler';\n import ts from 'typescript';\n \n import {CollectorOptions, isMetadataGlobalReferenceExpression, MetadataCollector, MetadataValue, ModuleMetadata} from '../metadata/index';\n+import {createExportSpecifier} from '../ngtsc/util/src/typescript';\n \n import {MetadataCache, MetadataTransformer, ValueTransform} from './metadata_cache';\n \n@@ -162,7 +163,7 @@ function transformSourceFile(\n                       (accumulator, insert) => [...accumulator, ...insert.declarations],\n                       [] as Declaration[])\n                   .map(\n-                      declaration => ts.createExportSpecifier(\n+                      declaration => createExportSpecifier(\n                           /* propertyName */ undefined, declaration.name)))));\n \n       newStatements = tmpStatements;"
        },
        {
            "sha": "c2fa9151df56f7f2c6a5e45ccd50e5e100921d77",
            "filename": "packages/compiler-cli/src/transformers/node_emitter.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 18,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Fnode_emitter.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Fnode_emitter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Ftransformers%2Fnode_emitter.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -10,6 +10,8 @@ import {AssertNotNull, BinaryOperator, BinaryOperatorExpr, BuiltinMethod, Builti\n import ts from 'typescript';\n \n import {attachComments} from '../ngtsc/translator';\n+import {createExportSpecifier} from '../ngtsc/util/src/typescript';\n+\n import {error} from './util';\n \n export interface Node {\n@@ -222,7 +224,7 @@ export class NodeEmitterVisitor implements StatementVisitor, ExpressionVisitor {\n                 /* decorators */ undefined,\n                 /* modifiers */ undefined,\n                 ts.createNamedExports(\n-                    reexports.map(({name, as}) => ts.createExportSpecifier(name, as))),\n+                    reexports.map(({name, as}) => createExportSpecifier(name, as))),\n                 /* moduleSpecifier */ createLiteral(exportedFilePath)));\n   }\n \n@@ -350,7 +352,7 @@ export class NodeEmitterVisitor implements StatementVisitor, ExpressionVisitor {\n           stmt,\n           ts.createExportDeclaration(\n               /*decorators*/ undefined, /*modifiers*/ undefined,\n-              ts.createNamedExports([ts.createExportSpecifier(stmt.name, stmt.name)])));\n+              ts.createNamedExports([createExportSpecifier(stmt.name, stmt.name)])));\n       return [tsVarStmt, exportStmt];\n     }\n     return this.postProcess(stmt, ts.createVariableStatement(this.getModifiers(stmt), varDeclList));\n@@ -751,22 +753,6 @@ export class NodeEmitterVisitor implements StatementVisitor, ExpressionVisitor {\n   }\n }\n \n-function getMethodName(methodRef: {name: string|null; builtin: BuiltinMethod | null}): string {\n-  if (methodRef.name) {\n-    return methodRef.name;\n-  } else {\n-    switch (methodRef.builtin) {\n-      case BuiltinMethod.Bind:\n-        return 'bind';\n-      case BuiltinMethod.ConcatArray:\n-        return 'concat';\n-      case BuiltinMethod.SubscribeObservable:\n-        return 'subscribe';\n-    }\n-  }\n-  throw new Error('Unexpected method reference form');\n-}\n-\n function modifierFromModifier(modifier: StmtModifier): ts.Modifier {\n   switch (modifier) {\n     case StmtModifier.Exported:"
        },
        {
            "sha": "7053b6147e7d9c9588221b0d9b2376a31b221cdb",
            "filename": "packages/compiler-cli/src/typescript_support.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Ftypescript_support.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Fsrc%2Ftypescript_support.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Ftypescript_support.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n import ts from 'typescript';\n+\n import {compareVersions} from './diagnostics/typescript_version';\n \n /**\n@@ -25,7 +26,7 @@ const MIN_TS_VERSION = '4.4.2';\n  * Note: this check is disabled in g3, search for\n  * `angularCompilerOptions.disableTypeScriptVersionCheck` config param value in g3.\n  */\n-const MAX_TS_VERSION = '4.5.0';\n+const MAX_TS_VERSION = '4.6.0';\n \n /**\n  * The currently used version of TypeScript, which can be adjusted for testing purposes using"
        },
        {
            "sha": "45431c47a82368d1e59e204a1a19031a47747576",
            "filename": "packages/compiler-cli/test/metadata/typescript.mocks.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Ftest%2Fmetadata%2Ftypescript.mocks.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Ftest%2Fmetadata%2Ftypescript.mocks.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fmetadata%2Ftypescript.mocks.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -67,7 +67,7 @@ export class Host implements ts.LanguageServiceHost {\n     if (this.overrides.has(fileName)) {\n       return this.overrides.get(fileName);\n     }\n-    if (/lib(.*)\\.d\\.ts/.test(fileName)) {\n+    if (/^lib(.*)\\.d\\.ts/.test(fileName)) {\n       const libDirPath = path.dirname(ts.getDefaultLibFilePath(this.getCompilationSettings()));\n       const libPath = path.join(libDirPath, fileName);\n       return fs.readFileSync(libPath, 'utf8');"
        },
        {
            "sha": "e7e7f18b271c2ebbf91c96faa1849da4056508d0",
            "filename": "packages/compiler-cli/test/ngtsc/ngtsc_spec.ts",
            "status": "modified",
            "additions": 116,
            "deletions": 34,
            "changes": 150,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Fngtsc_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Fngtsc_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Fngtsc_spec.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -2380,36 +2380,69 @@ function allTests(os: string) {\n                  .toBe('This type is not supported as injection token.');\n            });\n \n-        it('should report an error when using a type-only import as injection token', () => {\n-          env.tsconfig({strictInjectionParameters: true});\n-          env.write(`types.ts`, `\n-             export class TypeOnly {}\n-           `);\n-          env.write(`test.ts`, `\n-             import {Injectable} from '@angular/core';\n-             import type {TypeOnly} from './types';\n+        it('should report an error when using a symbol from a type-only import clause as injection token',\n+           () => {\n+             env.tsconfig({strictInjectionParameters: true});\n+             env.write(`types.ts`, `\n+              export class TypeOnly {}\n+            `);\n+             env.write(`test.ts`, `\n+              import {Injectable} from '@angular/core';\n+              import type {TypeOnly} from './types';\n \n-             @Injectable()\n-             export class MyService {\n-               constructor(param: TypeOnly) {}\n-             }\n-          `);\n+              @Injectable()\n+              export class MyService {\n+                constructor(param: TypeOnly) {}\n+              }\n+            `);\n \n-          const diags = env.driveDiagnostics();\n-          expect(diags.length).toBe(1);\n-          expect(ts.flattenDiagnosticMessageText(diags[0].messageText, '\\n'))\n-              .toBe(\n-                  `No suitable injection token for parameter 'param' of class 'MyService'.\\n` +\n-                  `  Consider changing the type-only import to a regular import, ` +\n-                  `or use the @Inject decorator to specify an injection token.`);\n-          expect(diags[0].relatedInformation!.length).toBe(2);\n-          expect(diags[0].relatedInformation![0].messageText)\n-              .toBe(\n-                  'This type is imported using a type-only import, ' +\n-                  'which prevents it from being usable as an injection token.');\n-          expect(diags[0].relatedInformation![1].messageText)\n-              .toBe('The type-only import occurs here.');\n-        });\n+             const diags = env.driveDiagnostics();\n+             expect(diags.length).toBe(1);\n+             expect(ts.flattenDiagnosticMessageText(diags[0].messageText, '\\n'))\n+                 .toBe(\n+                     `No suitable injection token for parameter 'param' of class 'MyService'.\\n` +\n+                     `  Consider changing the type-only import to a regular import, ` +\n+                     `or use the @Inject decorator to specify an injection token.`);\n+             expect(diags[0].relatedInformation!.length).toBe(2);\n+             expect(diags[0].relatedInformation![0].messageText)\n+                 .toBe(\n+                     'This type is imported using a type-only import, ' +\n+                     'which prevents it from being usable as an injection token.');\n+             expect(diags[0].relatedInformation![1].messageText)\n+                 .toBe('The type-only import occurs here.');\n+           });\n+\n+        it('should report an error when using a symbol from a type-only import specifier as injection token',\n+           () => {\n+             env.tsconfig({strictInjectionParameters: true});\n+             env.write(`types.ts`, `\n+                export class TypeOnly {}\n+              `);\n+             env.write(`test.ts`, `\n+                import {Injectable} from '@angular/core';\n+                import {type TypeOnly} from './types';\n+\n+                @Injectable()\n+                export class MyService {\n+                  constructor(param: TypeOnly) {}\n+                }\n+              `);\n+\n+             const diags = env.driveDiagnostics();\n+             expect(diags.length).toBe(1);\n+             expect(ts.flattenDiagnosticMessageText(diags[0].messageText, '\\n'))\n+                 .toBe(\n+                     `No suitable injection token for parameter 'param' of class 'MyService'.\\n` +\n+                     `  Consider changing the type-only import to a regular import, ` +\n+                     `or use the @Inject decorator to specify an injection token.`);\n+             expect(diags[0].relatedInformation!.length).toBe(2);\n+             expect(diags[0].relatedInformation![0].messageText)\n+                 .toBe(\n+                     'This type is imported using a type-only import, ' +\n+                     'which prevents it from being usable as an injection token.');\n+             expect(diags[0].relatedInformation![1].messageText)\n+                 .toBe('The type-only import occurs here.');\n+           });\n \n         it('should report an error when using a primitive type as injection token', () => {\n           env.tsconfig({strictInjectionParameters: true});\n@@ -4770,12 +4803,14 @@ function allTests(os: string) {\n        () => {\n          env.write(`types.ts`, `\n            export default class {}\n-           export class TypeOnly {}\n+           export class TypeOnlyOne {}\n+           export class TypeOnlyTwo {}\n          `);\n          env.write(`test.ts`, `\n            import {Component, Inject, Injectable} from '@angular/core';\n            import type DefaultImport from './types';\n-           import type {TypeOnly} from './types';\n+           import type {TypeOnlyOne} from './types';\n+           import {type TypeOnlyTwo} from './types';\n            import type * as types from './types';\n \n            @Component({\n@@ -4784,9 +4819,10 @@ function allTests(os: string) {\n            })\n            export class SomeComp {\n              constructor(\n-               @Inject('token') namedImport: TypeOnly,\n+               @Inject('token') namedImport: TypeOnlyOne,\n                @Inject('token') defaultImport: DefaultImport,\n-               @Inject('token') namespacedImport: types.TypeOnly,\n+               @Inject('token') namespacedImport: types.TypeOnlyOne,\n+               @Inject('token') typeOnlySpecifier: TypeOnlyTwo,\n              ) {}\n            }\n         `);\n@@ -4798,7 +4834,9 @@ function allTests(os: string) {\n          // Default type-only import should not be emitted\n          expect(jsContents).not.toContain('DefaultImport');\n          // Named type-only import should not be emitted\n-         expect(jsContents).not.toContain('TypeOnly');\n+         expect(jsContents).not.toContain('TypeOnlyOne');\n+         // Symbols from type-only specifiers should not be emitted\n+         expect(jsContents).not.toContain('TypeOnlyTwo');\n          // The parameter type in class metadata should be undefined\n          expect(jsContents).toMatch(setClassMetadataRegExp('type: undefined'));\n        });\n@@ -4950,7 +4988,7 @@ function allTests(os: string) {\n         expect(jsContents).not.toContain('setComponentScope');\n       });\n \n-      it('should not consider type-only imports during cycle detection', () => {\n+      it('should not consider type-only import clauses during cycle detection', () => {\n         env.write('test.ts', `\n         import {NgModule} from '@angular/core';\n         import {ACmp} from './a';\n@@ -4985,6 +5023,50 @@ function allTests(os: string) {\n         expect(jsContents).not.toContain('setComponentScope');\n       });\n \n+      it('should not consider import clauses where all the specifiers are type-only during cycle detection',\n+         () => {\n+           env.write('test.ts', `\n+              import {NgModule} from '@angular/core';\n+              import {SharedOne, SharedTwo} from './shared';\n+              import {CyclicCmp} from './cyclic';\n+\n+              @NgModule({declarations: [SharedOne, SharedTwo, CyclicCmp]})\n+              export class Module {}\n+            `);\n+           env.write('shared.ts', `\n+              import {Component} from '@angular/core';\n+\n+              @Component({\n+                selector: 'shared-one-cmp',\n+                template: '<cyclic-cmp></cyclic-cmp>',\n+              })\n+              export class SharedOne {}\n+\n+              @Component({\n+                selector: 'shared-two-cmp',\n+                template: '<cyclic-cmp></cyclic-cmp>',\n+              })\n+              export class SharedTwo {}\n+            `);\n+           env.write('cyclic.ts', `\n+              import {Component} from '@angular/core';\n+              import {type SharedOne, type SharedTwo} from './shared';\n+\n+              @Component({\n+                selector: 'cyclic-cmp',\n+                template: 'does not use shared components',\n+              })\n+              export class CyclicCmp {\n+                one: SharedOne;\n+                two: SharedTwo;\n+              }\n+            `);\n+\n+           env.driveMain();\n+           const jsContents = env.getContents('test.js');\n+           expect(jsContents).not.toContain('setComponentScope');\n+         });\n+\n       it('should only pass components actually used to setComponentScope', () => {\n         env.write('test.ts', `\n           import {Component, NgModule} from '@angular/core';"
        },
        {
            "sha": "526c4dfff4e50551dbdc30bd65ed6a427b1272c3",
            "filename": "packages/core/schematics/utils/import_manager.ts",
            "status": "modified",
            "additions": 21,
            "deletions": 2,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcore%2Fschematics%2Futils%2Fimport_manager.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcore%2Fschematics%2Futils%2Fimport_manager.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Futils%2Fimport_manager.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -9,6 +9,8 @@\n import {dirname, resolve} from 'path';\n import ts from 'typescript';\n \n+const PARSED_TS_VERSION = parseFloat(ts.versionMajorMinor);\n+\n /** Update recorder for managing imports. */\n export interface ImportManagerUpdateRecorder {\n   addNewImport(start: number, importText: string): void;\n@@ -151,7 +153,7 @@ export class ImportManager {\n           undefined, undefined,\n           ts.createImportClause(\n               undefined,\n-              ts.createNamedImports([ts.createImportSpecifier(\n+              ts.createNamedImports([createImportSpecifier(\n                   needsGeneratedUniqueName ? propertyIdentifier : undefined, identifier)])),\n           ts.createStringLiteral(moduleName));\n     } else {\n@@ -190,7 +192,7 @@ export class ImportManager {\n       const newNamedBindings = ts.updateNamedImports(\n           namedBindings,\n           namedBindings.elements.concat(expressions.map(\n-              ({propertyName, importName}) => ts.createImportSpecifier(propertyName, importName))));\n+              ({propertyName, importName}) => createImportSpecifier(propertyName, importName))));\n \n       const newNamedBindingsText =\n           this.printer.printNode(ts.EmitHint.Unspecified, newNamedBindings, sourceFile);\n@@ -257,3 +259,20 @@ export class ImportManager {\n     return commentRanges[commentRanges.length - 1]!.end;\n   }\n }\n+\n+\n+/**\n+ * Backwards-compatible version of `ts.createImportSpecifier`\n+ * to handle a breaking change between 4.4 and 4.5.\n+ */\n+export function createImportSpecifier(\n+    propertyName: string|ts.Identifier|undefined, name: string|ts.Identifier,\n+    isTypeOnly = false): ts.ImportSpecifier {\n+  return PARSED_TS_VERSION > 4.4 ?\n+      // TODO(crisbeto): the function is cast to `any` here since g3 is still on TS 4.4.\n+      // Should be cleaned up when g3 has been updated.\n+      (ts.createImportSpecifier as any)(isTypeOnly, propertyName, name) :\n+      // TODO(crisbeto): backwards-compatibility layer for TS 4.4.\n+      // Should be cleaned up when we drop support for it.\n+      (ts.createImportSpecifier as any)(propertyName, name);\n+}"
        },
        {
            "sha": "d4cd3551447670a29141130e875ad237b61d2ad6",
            "filename": "packages/core/schematics/utils/typescript/imports.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 4,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcore%2Fschematics%2Futils%2Ftypescript%2Fimports.ts",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fcore%2Fschematics%2Futils%2Ftypescript%2Fimports.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Futils%2Ftypescript%2Fimports.ts?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -14,6 +14,8 @@ export type Import = {\n   node: ts.ImportDeclaration\n };\n \n+const PARSED_TS_VERSION = parseFloat(ts.versionMajorMinor);\n+\n /** Gets import information about the specified identifier by using the Type checker. */\n export function getImportOfIdentifier(typeChecker: ts.TypeChecker, node: ts.Identifier): Import|\n     null {\n@@ -98,13 +100,21 @@ export function replaceImport(\n     return node;\n   }\n \n+  const importPropertyName =\n+      existingImportNode.propertyName ? ts.createIdentifier(newImportName) : undefined;\n+  const importName = existingImportNode.propertyName ? existingImportNode.name :\n+                                                       ts.createIdentifier(newImportName);\n+\n   return ts.updateNamedImports(node, [\n     ...node.elements.filter(current => current !== existingImportNode),\n     // Create a new import while trying to preserve the alias of the old one.\n-    ts.createImportSpecifier(\n-        existingImportNode.propertyName ? ts.createIdentifier(newImportName) : undefined,\n-        existingImportNode.propertyName ? existingImportNode.name :\n-                                          ts.createIdentifier(newImportName))\n+    PARSED_TS_VERSION > 4.4 ?\n+        // TODO(crisbeto): the function is cast to `any` here since g3 is still on TS 4.4.\n+        // Should be cleaned up when g3 has been updated.\n+        (ts.createImportSpecifier as any)(false, importPropertyName, importName) :\n+        // TODO(crisbeto): backwards-compatibility layer for TS 4.4.\n+        // Should be cleaned up when we drop support for it.\n+        (ts.createImportSpecifier as any)(importPropertyName, importName)\n   ]);\n }\n "
        },
        {
            "sha": "6ba9b1323e83c0caacab00f9cba6c28059577f57",
            "filename": "packages/zone.js/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fzone.js%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fzone.js%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -19,7 +19,7 @@\n     \"mocha\": \"^9.0.0\",\n     \"mock-require\": \"3.0.3\",\n     \"promises-aplus-tests\": \"^2.1.2\",\n-    \"typescript\": \"~4.4.2\"\n+    \"typescript\": \"~4.5.2\"\n   },\n   \"scripts\": {\n     \"closuretest\": \"./scripts/closure/closure_compiler.sh\","
        },
        {
            "sha": "f49c1223507f4d6dd770531eb64500069a67267a",
            "filename": "packages/zone.js/test/typings/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fzone.js%2Ftest%2Ftypings%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fzone.js%2Ftest%2Ftypings%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Ftest%2Ftypings%2Fpackage.json?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -14,6 +14,6 @@\n     \"zone.js\": \"file:../../../../dist/bin/packages/zone.js/npm_package\"\n   },\n   \"devDependencies\": {\n-    \"typescript\": \"~4.4.2\"\n+    \"typescript\": \"~4.5.2\"\n   }\n }"
        },
        {
            "sha": "175a10515741775103336f8d10cf599bfc3117ea",
            "filename": "packages/zone.js/yarn.lock",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fzone.js%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/packages%2Fzone.js%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Fyarn.lock?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -3983,10 +3983,10 @@ typedarray-to-buffer@^3.1.5:\n   dependencies:\n     is-typedarray \"^1.0.0\"\n \n-typescript@~4.4.2:\n-  version \"4.4.4\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.4.4.tgz#2cd01a1a1f160704d3101fd5a58ff0f9fcb8030c\"\n-  integrity sha512-DqGhF5IKoBl8WNf8C1gu8q0xZSInh9j1kJJMqT3a94w1JzVaBU4EXOSMrz9yDqMT0xt3selp83fuFMQ0uzv6qA==\n+typescript@~4.5.2:\n+  version \"4.5.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.5.2.tgz#8ac1fba9f52256fdb06fb89e4122fa6a346c2998\"\n+  integrity sha512-5BlMof9H1yGt0P8/WF+wPNw6GfctgGjXp5hkblpyT+8rkASSmkUKMXrxR0Xg8ThVCi/JnHQiKXeBaEwCeQwMFw==\n \n unbox-primitive@^1.0.1:\n   version \"1.0.1\""
        },
        {
            "sha": "e4ac89340d9ab81deaf64a87f2a62982791e1933",
            "filename": "yarn.lock",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/d56e3f43a1f3ca5004d2c5413167737cff7d936f/yarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/d56e3f43a1f3ca5004d2c5413167737cff7d936f/yarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/yarn.lock?ref=d56e3f43a1f3ca5004d2c5413167737cff7d936f",
            "patch": "@@ -14104,6 +14104,11 @@ typescript@^3.9.5, typescript@^3.9.7:\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-3.9.10.tgz#70f3910ac7a51ed6bef79da7800690b19bf778b8\"\n   integrity sha512-w6fIxVE/H1PkLKcCPsFqKE7Kv7QUwhU8qQY2MueZXWx5cPZdwFupLgKK3vntcK98BtNHZtAF4LA/yl2a7k8R6Q==\n \n+typescript@~4.5.2:\n+  version \"4.5.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.5.2.tgz#8ac1fba9f52256fdb06fb89e4122fa6a346c2998\"\n+  integrity sha512-5BlMof9H1yGt0P8/WF+wPNw6GfctgGjXp5hkblpyT+8rkASSmkUKMXrxR0Xg8ThVCi/JnHQiKXeBaEwCeQwMFw==\n+\n ua-parser-js@^0.7.21, ua-parser-js@^0.7.30:\n   version \"0.7.31\"\n   resolved \"https://registry.yarnpkg.com/ua-parser-js/-/ua-parser-js-0.7.31.tgz#649a656b191dffab4f21d5e053e27ca17cbff5c6\""
        }
    ],
    "stats": {
        "total": 527,
        "additions": 419,
        "deletions": 108
    }
}