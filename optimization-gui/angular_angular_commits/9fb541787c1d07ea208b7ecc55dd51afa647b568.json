{
    "author": "mhevery",
    "message": "refactor(core): Remove host `TNode` from `getOrCreateTNode` (#38707)\n\nHost `TNode` was passed into `getOrCreateTNode` just so that we can\ncompute weather or not we are a root node. This was needed because\n`previousOrParentTNode` could have `TNode` from `TView` other then\ncurrent `TView`. This is confusing mental model. Previous change\nensured that `previousOrParentTNode` must always be part of `TView`,\nwhich enabled this change to remove the unneeded argument.\n\nPR Close #38707",
    "sha": "9fb541787c1d07ea208b7ecc55dd51afa647b568",
    "files": [
        {
            "sha": "ab01bea194e5bf5a0ad71862b7562b5e2b4c80bf",
            "filename": "packages/core/src/render3/component.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -174,7 +174,7 @@ export function createRootComponentView(\n   const tView = rootView[TVIEW];\n   ngDevMode && assertIndexInRange(rootView, 0 + HEADER_OFFSET);\n   rootView[0 + HEADER_OFFSET] = rNode;\n-  const tNode: TElementNode = getOrCreateTNode(tView, null, 0, TNodeType.Element, null, null);\n+  const tNode: TElementNode = getOrCreateTNode(tView, 0, TNodeType.Element, null, null);\n   const mergedAttrs = tNode.mergedAttrs = def.hostAttrs;\n   if (mergedAttrs !== null) {\n     computeStaticStyling(tNode, mergedAttrs, true);"
        },
        {
            "sha": "b3b252f416acc2cb5c1f66d41d79c0561dac6eb9",
            "filename": "packages/core/src/render3/di.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -141,41 +141,41 @@ export function bloomAdd(\n  * Creates (or gets an existing) injector for a given element or container.\n  *\n  * @param tNode for which an injector should be retrieved / created.\n- * @param hostView View where the node is stored\n+ * @param lView View where the node is stored\n  * @returns Node injector\n  */\n export function getOrCreateNodeInjectorForNode(\n-    tNode: TElementNode|TContainerNode|TElementContainerNode, hostView: LView): number {\n-  const existingInjectorIndex = getInjectorIndex(tNode, hostView);\n+    tNode: TElementNode|TContainerNode|TElementContainerNode, lView: LView): number {\n+  const existingInjectorIndex = getInjectorIndex(tNode, lView);\n   if (existingInjectorIndex !== -1) {\n     return existingInjectorIndex;\n   }\n \n-  const tView = hostView[TVIEW];\n+  const tView = lView[TVIEW];\n   if (tView.firstCreatePass) {\n-    tNode.injectorIndex = hostView.length;\n+    tNode.injectorIndex = lView.length;\n     insertBloom(tView.data, tNode);  // foundation for node bloom\n-    insertBloom(hostView, null);     // foundation for cumulative bloom\n+    insertBloom(lView, null);        // foundation for cumulative bloom\n     insertBloom(tView.blueprint, null);\n   }\n \n-  const parentLoc = getParentInjectorLocation(tNode, hostView);\n+  const parentLoc = getParentInjectorLocation(tNode, lView);\n   const injectorIndex = tNode.injectorIndex;\n \n   // If a parent injector can't be found, its location is set to -1.\n   // In that case, we don't need to set up a cumulative bloom\n   if (hasParentInjector(parentLoc)) {\n     const parentIndex = getParentInjectorIndex(parentLoc);\n-    const parentLView = getParentInjectorView(parentLoc, hostView);\n+    const parentLView = getParentInjectorView(parentLoc, lView);\n     const parentData = parentLView[TVIEW].data as any;\n     // Creates a cumulative bloom filter that merges the parent's bloom filter\n     // and its own cumulative bloom (which contains tokens for all ancestors)\n     for (let i = 0; i < 8; i++) {\n-      hostView[injectorIndex + i] = parentLView[parentIndex + i] | parentData[parentIndex + i];\n+      lView[injectorIndex + i] = parentLView[parentIndex + i] | parentData[parentIndex + i];\n     }\n   }\n \n-  hostView[injectorIndex + PARENT_INJECTOR] = parentLoc;\n+  lView[injectorIndex + PARENT_INJECTOR] = parentLoc;\n   return injectorIndex;\n }\n \n@@ -202,7 +202,7 @@ export function getInjectorIndex(tNode: TNode, hostView: LView): number {\n  * Finds the index of the parent injector, with a view offset if applicable. Used to set the\n  * parent injector initially.\n  *\n- * Returns a combination of number of `ViewData` we have to go up and index in that `Viewdata`\n+ * Returns a combination of number of `LView` we have to go up and index in that `LView`\n  */\n export function getParentInjectorLocation(tNode: TNode, view: LView): RelativeInjectorLocation {\n   if (tNode.parent && tNode.parent.injectorIndex !== -1) {"
        },
        {
            "sha": "5ef1b588bbc49c4808e926cf8bb707ae3bd0e59d",
            "filename": "packages/core/src/render3/i18n/i18n_apply.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -463,7 +463,7 @@ function createDynamicNodeAtIndex(\n   ngDevMode && assertIndexInRange(lView, index + HEADER_OFFSET);\n   lView[index + HEADER_OFFSET] = native;\n   // FIXME(misko): Why does this create A TNode??? I would not expect this to be here.\n-  const tNode = getOrCreateTNode(tView, lView[T_HOST], index, type as any, name, null);\n+  const tNode = getOrCreateTNode(tView, index, type as any, name, null);\n \n   // We are creating a dynamic node, the previous tNode might not be pointing at this node.\n   // We will link ourselves into the tree later with `appendI18nNode`."
        },
        {
            "sha": "8b12c8dde1d4261b3be97caeef5a3bff25c4d9b0",
            "filename": "packages/core/src/render3/instructions/element.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -33,7 +33,7 @@ function elementStartFirstCreatePass(\n \n   const tViewConsts = tView.consts;\n   const attrs = getConstant<TAttributes>(tViewConsts, attrsIndex);\n-  const tNode = getOrCreateTNode(tView, lView[T_HOST], index, TNodeType.Element, name, attrs);\n+  const tNode = getOrCreateTNode(tView, index, TNodeType.Element, name, attrs);\n \n   const hasDirectives =\n       resolveDirectives(tView, lView, tNode, getConstant<string[]>(tViewConsts, localRefsIndex));"
        },
        {
            "sha": "f21b6c7d967ac7fbec5083753cf8a6a25dd4637a",
            "filename": "packages/core/src/render3/instructions/element_container.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -27,8 +27,7 @@ function elementContainerStartFirstCreatePass(\n \n   const tViewConsts = tView.consts;\n   const attrs = getConstant<TAttributes>(tViewConsts, attrsIndex);\n-  const tNode = getOrCreateTNode(\n-      tView, lView[T_HOST], index, TNodeType.ElementContainer, 'ng-container', attrs);\n+  const tNode = getOrCreateTNode(tView, index, TNodeType.ElementContainer, 'ng-container', attrs);\n \n   // While ng-container doesn't necessarily support styling, we use the style context to identify\n   // and execute directives on the ng-container."
        },
        {
            "sha": "edcfee126e8f14c4314b96e9188cc4604103c037",
            "filename": "packages/core/src/render3/instructions/projection.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fprojection.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fprojection.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fprojection.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -125,7 +125,7 @@ export function ɵɵprojection(\n   const lView = getLView();\n   const tView = getTView();\n   const tProjectionNode =\n-      getOrCreateTNode(tView, lView[T_HOST], nodeIndex, TNodeType.Projection, null, attrs || null);\n+      getOrCreateTNode(tView, nodeIndex, TNodeType.Projection, null, attrs || null);\n \n   // We can't use viewData[HOST_NODE] because projection nodes can be nested in embedded views.\n   if (tProjectionNode.projection === null) tProjectionNode.projection = selectorIndex;"
        },
        {
            "sha": "837302c179279243f9032a92b5d275d439538e5e",
            "filename": "packages/core/src/render3/instructions/shared.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 16,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -202,9 +202,6 @@ export function createLView<T>(\n  * Create and stores the TNode, and hooks it up to the tree.\n  *\n  * @param tView The current `TView`.\n- * @param tHostNode This is a hack and we should not have to pass this value in. It is only used to\n- * determine if the parent belongs to a different tView. Instead we should not have parentTView\n- * point to TView other the current one.\n  * @param index The index at which the TNode should be saved (null if view, since they are not\n  * saved).\n  * @param type The type of TNode to create\n@@ -213,43 +210,44 @@ export function createLView<T>(\n  * @param attrs Any attrs for the native element, if applicable\n  */\n export function getOrCreateTNode(\n-    tView: TView, tHostNode: TNode|null, index: number, type: TNodeType.Element, name: string|null,\n+    tView: TView, index: number, type: TNodeType.Element, name: string|null,\n     attrs: TAttributes|null): TElementNode;\n export function getOrCreateTNode(\n-    tView: TView, tHostNode: TNode|null, index: number, type: TNodeType.Container,\n-    name: string|null, attrs: TAttributes|null): TContainerNode;\n+    tView: TView, index: number, type: TNodeType.Container, name: string|null,\n+    attrs: TAttributes|null): TContainerNode;\n export function getOrCreateTNode(\n-    tView: TView, tHostNode: TNode|null, index: number, type: TNodeType.Projection, name: null,\n+    tView: TView, index: number, type: TNodeType.Projection, name: null,\n     attrs: TAttributes|null): TProjectionNode;\n export function getOrCreateTNode(\n-    tView: TView, tHostNode: TNode|null, index: number, type: TNodeType.ElementContainer,\n-    name: string|null, attrs: TAttributes|null): TElementContainerNode;\n+    tView: TView, index: number, type: TNodeType.ElementContainer, name: string|null,\n+    attrs: TAttributes|null): TElementContainerNode;\n export function getOrCreateTNode(\n-    tView: TView, tHostNode: TNode|null, index: number, type: TNodeType.IcuContainer, name: null,\n+    tView: TView, index: number, type: TNodeType.IcuContainer, name: null,\n     attrs: TAttributes|null): TElementContainerNode;\n export function getOrCreateTNode(\n-    tView: TView, tHostNode: TNode|null, index: number, type: TNodeType, name: string|null,\n-    attrs: TAttributes|null): TElementNode&TContainerNode&TElementContainerNode&TProjectionNode&\n-    TIcuContainerNode {\n+    tView: TView, index: number, type: TNodeType, name: string|null, attrs: TAttributes|null):\n+    TElementNode&TContainerNode&TElementContainerNode&TProjectionNode&TIcuContainerNode {\n   // Keep this function short, so that the VM will inline it.\n   const adjustedIndex = index + HEADER_OFFSET;\n   const tNode = tView.data[adjustedIndex] as TNode ||\n-      createTNodeAtIndex(tView, tHostNode, adjustedIndex, type, name, attrs);\n+      createTNodeAtIndex(tView, adjustedIndex, type, name, attrs);\n   setPreviousOrParentTNode(tNode, true);\n   return tNode as TElementNode & TViewNode & TContainerNode & TElementContainerNode &\n       TProjectionNode & TIcuContainerNode;\n }\n \n function createTNodeAtIndex(\n-    tView: TView, tHostNode: TNode|null, adjustedIndex: number, type: TNodeType, name: string|null,\n+    tView: TView, adjustedIndex: number, type: TNodeType, name: string|null,\n     attrs: TAttributes|null) {\n   const previousOrParentTNode = getPreviousOrParentTNode();\n   const isParent = getIsParent();\n   const parent =\n       isParent ? previousOrParentTNode : previousOrParentTNode && previousOrParentTNode.parent;\n   // Parents cannot cross component boundaries because components will be used in multiple places,\n   // so it's only set if the view is the same.\n-  const parentInSameView = parent && parent !== tHostNode;\n+  // FIXME(misko): This check for `TNodeType.View` should not be needed. But removing it breaks DI,\n+  // so more investigation is needed.\n+  const parentInSameView = parent !== null && parent.type !== TNodeType.View;\n   const tParentNode = parentInSameView ? parent as TElementNode | TContainerNode : null;\n   const tNode = tView.data[adjustedIndex] =\n       createTNode(tView, tParentNode, type, adjustedIndex, name, attrs);"
        },
        {
            "sha": "669b3c4a60c677770abf64f7e30521102710a1f9",
            "filename": "packages/core/src/render3/instructions/template.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftemplate.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftemplate.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftemplate.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -28,7 +28,7 @@ function templateFirstCreatePass(\n   const tViewConsts = tView.consts;\n   // TODO(pk): refactor getOrCreateTNode to have the \"create\" only version\n   const tNode = getOrCreateTNode(\n-      tView, lView[T_HOST], index, TNodeType.Container, tagName || null,\n+      tView, index, TNodeType.Container, tagName || null,\n       getConstant<TAttributes>(tViewConsts, attrsIndex));\n \n   resolveDirectives(tView, lView, tNode, getConstant<string[]>(tViewConsts, localRefsIndex));"
        },
        {
            "sha": "78bf0997ece609141f2414ca1ebff211f7197133",
            "filename": "packages/core/src/render3/instructions/text.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -35,7 +35,7 @@ export function ɵɵtext(index: number, value: string = ''): void {\n   ngDevMode && assertIndexInRange(lView, adjustedIndex);\n \n   const tNode = tView.firstCreatePass ?\n-      getOrCreateTNode(tView, lView[T_HOST], index, TNodeType.Element, null, null) :\n+      getOrCreateTNode(tView, index, TNodeType.Element, null, null) :\n       tView.data[adjustedIndex] as TElementNode;\n \n   const textNative = lView[adjustedIndex] = createTextNode(value, lView[RENDERER]);"
        },
        {
            "sha": "ef5985973b3db41f7e66d6e0df9a3c9592edb40d",
            "filename": "packages/core/src/render3/node_manipulation.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -520,7 +520,7 @@ function getRenderParent(tView: TView, tNode: TNode, currentView: LView): REleme\n   // can't be used as a render parent.\n   let parentTNode = tNode.parent;\n   while (parentTNode != null &&\n-         (parentTNode.type === TNodeType.ElementContainer ||\n+         (parentTNode.type === TNodeType.ElementContainer || parentTNode.type === TNodeType.View ||\n           parentTNode.type === TNodeType.IcuContainer)) {\n     tNode = parentTNode;\n     parentTNode = tNode.parent;"
        },
        {
            "sha": "5eeba4b3f5a80853b8592fe25c62c6e4a6f77cea",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -1355,6 +1355,9 @@\n   {\n     \"name\": \"getNodeInjectable\"\n   },\n+  {\n+    \"name\": \"getNonViewFirstChild\"\n+  },\n   {\n     \"name\": \"getNullInjector\"\n   },"
        },
        {
            "sha": "4343611162df54754167221c7b488d349dcf513c",
            "filename": "packages/core/test/render3/di_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Frender3%2Fdi_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Frender3%2Fdi_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fdi_spec.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -230,8 +230,7 @@ describe('di', () => {\n           LViewFlags.CheckAlways, null, null, {} as any, {} as any);\n       enterView(contentView);\n       try {\n-        const parentTNode =\n-            getOrCreateTNode(contentView[TVIEW], null, 0, TNodeType.Element, null, null);\n+        const parentTNode = getOrCreateTNode(contentView[TVIEW], 0, TNodeType.Element, null, null);\n         // Simulate the situation where the previous parent is not initialized.\n         // This happens on first bootstrap because we don't init existing values\n         // so that we have smaller HelloWorld."
        },
        {
            "sha": "9ad6fd2a8e3b3afd915e3629c3b1258fb17f10a4",
            "filename": "packages/core/test/render3/perf/setup.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fsetup.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fsetup.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fperf%2Fsetup.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -50,7 +50,7 @@ export function setupTestHarness(\n     directiveRegistry: DirectiveDefList|null = null): TestHarness {\n   // Create a root view with a container\n   const hostTView = createTView(TViewType.Root, -1, null, 1, 0, null, null, null, null, consts);\n-  const tContainerNode = getOrCreateTNode(hostTView, null, 0, TNodeType.Container, null, null);\n+  const tContainerNode = getOrCreateTNode(hostTView, 0, TNodeType.Container, null, null);\n   const hostNode = renderer.createElement('div');\n   const hostLView = createLView(\n       null, hostTView, {}, LViewFlags.CheckAlways | LViewFlags.IsRoot, hostNode, null,"
        },
        {
            "sha": "342e790d7f7241cb54fac14f26958f910b095c7b",
            "filename": "packages/core/test/render3/render_util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Frender3%2Frender_util.ts",
            "raw_url": "https://github.com/angular/angular/raw/9fb541787c1d07ea208b7ecc55dd51afa647b568/packages%2Fcore%2Ftest%2Frender3%2Frender_util.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Frender_util.ts?ref=9fb541787c1d07ea208b7ecc55dd51afa647b568",
            "patch": "@@ -278,7 +278,7 @@ export function renderTemplate<T>(\n     def.pipeDefs = pipes || null;\n \n     const componentTView = getOrCreateTComponentView(def);\n-    const hostTNode = getOrCreateTNode(tView, hostLView[T_HOST], 0, TNodeType.Element, null, null);\n+    const hostTNode = getOrCreateTNode(tView, 0, TNodeType.Element, null, null);\n     hostLView[hostTNode.index] = hostNode;\n     componentView = createLView(\n         hostLView, componentTView, context, LViewFlags.CheckAlways, hostNode, hostTNode,"
        }
    ],
    "stats": {
        "total": 79,
        "additions": 39,
        "deletions": 40
    }
}