{
    "author": "unknown",
    "message": "fix(router): Fix occasional error when creating url tree in IE 11 and Edge (#40488)\n\nFor the Google Cloud Console within Google we observed errors in the\nshallowEqual function for users in IE and Edge. This patch was made within\nGoogle and the errors went away. This commit upstreams the change into Angular.\n\nPR Close #40488",
    "sha": "f0733d109ecb5e47bebe787b217795b037728efb",
    "files": [
        {
            "sha": "57d923804af2403898df1848e82fa39243957c7d",
            "filename": "packages/router/src/utils/collection.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/f0733d109ecb5e47bebe787b217795b037728efb/packages%2Frouter%2Fsrc%2Futils%2Fcollection.ts",
            "raw_url": "https://github.com/angular/angular/raw/f0733d109ecb5e47bebe787b217795b037728efb/packages%2Frouter%2Fsrc%2Futils%2Fcollection.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2Fsrc%2Futils%2Fcollection.ts?ref=f0733d109ecb5e47bebe787b217795b037728efb",
            "patch": "@@ -20,12 +20,10 @@ export function shallowEqualArrays(a: any[], b: any[]): boolean {\n }\n \n export function shallowEqual(a: Params, b: Params): boolean {\n-  // Casting Object.keys return values to include `undefined` as there are some cases\n-  // in IE 11 where this can happen. Cannot provide a test because the behavior only\n-  // exists in certain circumstances in IE 11, therefore doing this cast ensures the\n-  // logic is correct for when this edge case is hit.\n-  const k1 = Object.keys(a) as string[] | undefined;\n-  const k2 = Object.keys(b) as string[] | undefined;\n+  // While `undefined` should never be possible, it would sometimes be the case in IE 11\n+  // and pre-chromium Edge. The check below accounts for this edge case.\n+  const k1 = a ? Object.keys(a) : undefined;\n+  const k2 = b ? Object.keys(b) : undefined;\n   if (!k1 || !k2 || k1.length != k2.length) {\n     return false;\n   }"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 4,
        "deletions": 6
    }
}