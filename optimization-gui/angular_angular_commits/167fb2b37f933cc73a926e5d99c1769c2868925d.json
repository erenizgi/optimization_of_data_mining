{
    "author": "devversion",
    "message": "ci: re-enable components-repo-unit-tests job after APF v13 adjustments (#43798)\n\nThe APF v13 changes have landed in the `angular/components` repository\nso that the CI check can be re-enabled.\n\nPR Close #43798",
    "sha": "167fb2b37f933cc73a926e5d99c1769c2868925d",
    "files": [
        {
            "sha": "6f89ce04d10c3e262b8da7f29da427b76d7192b4",
            "filename": ".circleci/config.yml",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/167fb2b37f933cc73a926e5d99c1769c2868925d/.circleci%2Fconfig.yml",
            "raw_url": "https://github.com/angular/angular/raw/167fb2b37f933cc73a926e5d99c1769c2868925d/.circleci%2Fconfig.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.circleci%2Fconfig.yml?ref=167fb2b37f933cc73a926e5d99c1769c2868925d",
            "patch": "@@ -36,7 +36,7 @@ var_4_win: &cache_key_win_fallback v5-angular-win-node-14-{{ checksum \"month.txt\n \n # Cache key for the `components-repo-unit-tests` job. **Note** when updating the SHA in the\n # cache keys also update the SHA for the \"COMPONENTS_REPO_COMMIT\" environment variable.\n-var_5: &components_repo_unit_tests_cache_key v1-angular-components-{{ checksum \"month.txt\" }}-db18b4093f23ae5c0ef76f6a9699c670ee5d55f7\n+var_5: &components_repo_unit_tests_cache_key v1-angular-components-{{ checksum \"month.txt\" }}-83da73fb621720fbe801d3a503d50fd82b3da0c8\n var_6: &components_repo_unit_tests_cache_key_fallback v1-angular-components-{{ checksum \"month.txt\" }}\n \n # Workspace initially persisted by the `setup` job, and then enhanced by `build-npm-packages`.\n@@ -878,11 +878,9 @@ workflows:\n             # since the publishing script expects the legacy outputs layout.\n             - build-npm-packages\n             - legacy-unit-tests-saucelabs\n-      # TODO(devversion): re-enable once the Angular components repo has been updated to deal\n-      # with partial compilation APF v13 package output (i.e. with the linker processing).\n-      #- components-repo-unit-tests:\n-      #    requires:\n-      #      - build-npm-packages\n+      - components-repo-unit-tests:\n+          requires:\n+            - build-npm-packages\n       - test_zonejs:\n           requires:\n             - setup"
        },
        {
            "sha": "d15d4422c00418809513c4befa443f8b48bbc213",
            "filename": ".circleci/env.sh",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/167fb2b37f933cc73a926e5d99c1769c2868925d/.circleci%2Fenv.sh",
            "raw_url": "https://github.com/angular/angular/raw/167fb2b37f933cc73a926e5d99c1769c2868925d/.circleci%2Fenv.sh",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.circleci%2Fenv.sh?ref=167fb2b37f933cc73a926e5d99c1769c2868925d",
            "patch": "@@ -74,7 +74,7 @@ setPublicVar COMPONENTS_REPO_TMP_DIR \"/tmp/angular-components-repo\"\n setPublicVar COMPONENTS_REPO_URL \"https://github.com/angular/components.git\"\n setPublicVar COMPONENTS_REPO_BRANCH \"master\"\n # **NOTE**: When updating the commit SHA, also update the cache key in the CircleCI `config.yml`.\n-setPublicVar COMPONENTS_REPO_COMMIT \"db18b4093f23ae5c0ef76f6a9699c670ee5d55f7\"\n+setPublicVar COMPONENTS_REPO_COMMIT \"83da73fb621720fbe801d3a503d50fd82b3da0c8\"\n \n \n ####################################################################################################"
        },
        {
            "sha": "fe37024f0606d6217947aed7ddc4aa5d1f39164b",
            "filename": "scripts/ci/run_angular_components_unit_tests.sh",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/167fb2b37f933cc73a926e5d99c1769c2868925d/scripts%2Fci%2Frun_angular_components_unit_tests.sh",
            "raw_url": "https://github.com/angular/angular/raw/167fb2b37f933cc73a926e5d99c1769c2868925d/scripts%2Fci%2Frun_angular_components_unit_tests.sh",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fci%2Frun_angular_components_unit_tests.sh?ref=167fb2b37f933cc73a926e5d99c1769c2868925d",
            "patch": "@@ -15,4 +15,4 @@ cd ${COMPONENTS_REPO_TMP_DIR}\n \n # Now actually run the tests. The dev-app and all its subpackages are excluded as they fail\n # to compile due to limitations in Ivy's type checker (see FW-1352 and FW-1433)\n-bazel test --build_tag_filters=-docs-package,-e2e,-browser:firefox-local --test_tag_filters=-e2e,-browser:firefox-local --config=ivy -- src/... -src/dev-app/...\n+bazel test --build_tag_filters=-docs-package,-e2e,-browser:firefox-local --test_tag_filters=-e2e,-browser:firefox-local -- src/... -src/dev-app/..."
        }
    ],
    "stats": {
        "total": 14,
        "additions": 6,
        "deletions": 8
    }
}