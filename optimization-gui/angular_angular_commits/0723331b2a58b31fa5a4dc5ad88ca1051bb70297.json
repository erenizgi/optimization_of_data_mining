{
    "author": "AndrewKushnir",
    "message": "refactor(forms): move common validators-related logic to the `AbstractControlDirective` class (#38280)\n\nThis commit refactors validators-related logic that is common across most of the directives.\n\nA couple notes on this refactoring:\n* common logic was moved to the `AbstractControlDirective` class (including `validator` and\n`asyncValidator` getters)\n* sync/async validators are now composed in `AbstractControlDirective` class eagerly when validators\nare set with `_setValidators` and `_setAsyncValidators` calls and the result is stored in directive\ninstance (thus getters return cached versions of validator fn). This is needed to make sure composed\nvalidator function remains the same (retains its identity) for a given directive instance, so that\nthis function can be added and later removed from an instance of an AbstractControl-based class\n(like `FormControl`). Preserving validator function is required to perform proper cleanup (in followup\nPRs) of the AbstractControl-based classes when a directive is destroyed.\n\nPR Close #38280",
    "sha": "0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
    "files": [
        {
            "sha": "2a042db5e661080cf897736206b0e50da9e62092",
            "filename": "goldens/circular-deps/packages.json",
            "status": "modified",
            "additions": 44,
            "deletions": 54,
            "changes": 98,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/goldens%2Fcircular-deps%2Fpackages.json",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/goldens%2Fcircular-deps%2Fpackages.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fcircular-deps%2Fpackages.json?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -1003,51 +1003,73 @@\n     \"packages/core/testing/src/test_bed.ts\"\n   ],\n   [\n-    \"packages/forms/src/directives/abstract_control_directive.ts\",\n-    \"packages/forms/src/model.ts\",\n-    \"packages/forms/src/directives/shared.ts\"\n+    \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/control_container.ts\",\n+    \"packages/forms/src/directives/form_interface.ts\"\n   ],\n   [\n-    \"packages/forms/src/directives/abstract_control_directive.ts\",\n-    \"packages/forms/src/model.ts\",\n-    \"packages/forms/src/directives/shared.ts\",\n     \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n-    \"packages/forms/src/directives/control_container.ts\"\n+    \"packages/forms/src/directives/form_interface.ts\"\n+  ],\n+  [\n+    \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/shared.ts\"\n   ],\n   [\n-    \"packages/forms/src/directives/abstract_control_directive.ts\",\n-    \"packages/forms/src/model.ts\",\n+    \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n     \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/control_container.ts\",\n+    \"packages/forms/src/directives/form_interface.ts\"\n+  ],\n+  [\n     \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/ng_control.ts\",\n     \"packages/forms/src/directives/control_container.ts\",\n-    \"packages/forms/src/directives/form_interface.ts\",\n-    \"packages/forms/src/directives/ng_control.ts\"\n+    \"packages/forms/src/directives/form_interface.ts\"\n+  ],\n+  [\n+    \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n     \"packages/forms/src/directives/control_container.ts\",\n     \"packages/forms/src/directives/form_interface.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n     \"packages/forms/src/directives/control_container.ts\",\n-    \"packages/forms/src/directives/form_interface.ts\",\n-    \"packages/forms/src/model.ts\",\n-    \"packages/forms/src/directives/shared.ts\"\n+    \"packages/forms/src/directives/form_interface.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n-    \"packages/forms/src/directives/shared.ts\"\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n+    \"packages/forms/src/directives/form_interface.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n-    \"packages/forms/src/model.ts\",\n-    \"packages/forms/src/directives/shared.ts\"\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_control_name.ts\"\n   ],\n   [\n+    \"packages/forms/src/directives/abstract_form_group_directive.ts\",\n+    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n+    \"packages/forms/src/directives/reactive_directives/form_control_name.ts\",\n     \"packages/forms/src/directives/control_container.ts\",\n-    \"packages/forms/src/directives/form_interface.ts\",\n-    \"packages/forms/src/directives/ng_control.ts\"\n+    \"packages/forms/src/directives/form_interface.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/ng_form.ts\",\n@@ -1065,32 +1087,17 @@\n     \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_control_name.ts\"\n   ],\n-  [\n-    \"packages/forms/src/directives/reactive_directives/form_control_directive.ts\",\n-    \"packages/forms/src/model.ts\",\n-    \"packages/forms/src/directives/shared.ts\",\n-    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n-    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n-    \"packages/forms/src/directives/reactive_directives/form_control_name.ts\"\n-  ],\n-  [\n-    \"packages/forms/src/directives/reactive_directives/form_control_name.ts\",\n-    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\"\n-  ],\n   [\n     \"packages/forms/src/directives/reactive_directives/form_control_name.ts\",\n-    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/reactive_directives/form_control_name.ts\",\n-    \"packages/forms/src/directives/shared.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\"\n   ],\n   [\n     \"packages/forms/src/directives/reactive_directives/form_control_name.ts\",\n-    \"packages/forms/src/model.ts\",\n     \"packages/forms/src/directives/shared.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\"\n@@ -1104,40 +1111,23 @@\n     \"packages/forms/src/directives/shared.ts\",\n     \"packages/forms/src/directives/reactive_directives/form_group_name.ts\"\n   ],\n-  [\n-    \"packages/forms/src/directives/reactive_directives/form_group_directive.ts\",\n-    \"packages/forms/src/model.ts\",\n-    \"packages/forms/src/directives/shared.ts\",\n-    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\"\n-  ],\n-  [\n-    \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n-    \"packages/forms/src/directives/shared.ts\"\n-  ],\n   [\n     \"packages/forms/src/directives/reactive_directives/form_group_name.ts\",\n-    \"packages/forms/src/model.ts\",\n     \"packages/forms/src/directives/shared.ts\"\n   ],\n   [\n-    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/validators.ts\",\n     \"packages/forms/src/model.ts\"\n   ],\n   [\n-    \"packages/forms/src/directives/shared.ts\",\n-    \"packages/forms/src/validators.ts\",\n     \"packages/forms/src/directives/validators.ts\",\n-    \"packages/forms/src/model.ts\"\n+    \"packages/forms/src/validators.ts\"\n   ],\n   [\n-    \"packages/forms/src/directives/shared.ts\",\n+    \"packages/forms/src/directives/validators.ts\",\n     \"packages/forms/src/validators.ts\",\n     \"packages/forms/src/model.ts\"\n   ],\n-  [\n-    \"packages/forms/src/directives/validators.ts\",\n-    \"packages/forms/src/validators.ts\"\n-  ],\n   [\n     \"packages/language-service/src/completions.ts\",\n     \"packages/language-service/src/template.ts\","
        },
        {
            "sha": "24129a61570b0bf5e264e4c5bae2a3aaa4c9db60",
            "filename": "goldens/public-api/forms/forms.d.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 13,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/goldens%2Fpublic-api%2Fforms%2Fforms.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/goldens%2Fpublic-api%2Fforms%2Fforms.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fforms%2Fforms.d.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -67,6 +67,7 @@ export declare abstract class AbstractControl {\n }\n \n export declare abstract class AbstractControlDirective {\n+    get asyncValidator(): AsyncValidatorFn | null;\n     abstract get control(): AbstractControl | null;\n     get dirty(): boolean | null;\n     get disabled(): boolean | null;\n@@ -81,6 +82,7 @@ export declare abstract class AbstractControlDirective {\n     get touched(): boolean | null;\n     get untouched(): boolean | null;\n     get valid(): boolean | null;\n+    get validator(): ValidatorFn | null;\n     get value(): any;\n     get valueChanges(): Observable<any> | null;\n     getError(errorCode: string, path?: Array<string | number> | string): any;\n@@ -95,11 +97,9 @@ export declare interface AbstractControlOptions {\n }\n \n export declare class AbstractFormGroupDirective extends ControlContainer implements OnInit, OnDestroy {\n-    get asyncValidator(): AsyncValidatorFn | null;\n     get control(): FormGroup;\n     get formDirective(): Form | null;\n     get path(): string[];\n-    get validator(): ValidatorFn | null;\n     ngOnDestroy(): void;\n     ngOnInit(): void;\n }\n@@ -193,12 +193,10 @@ export declare class FormArray extends AbstractControl {\n }\n \n export declare class FormArrayName extends ControlContainer implements OnInit, OnDestroy {\n-    get asyncValidator(): AsyncValidatorFn | null;\n     get control(): FormArray;\n     get formDirective(): FormGroupDirective | null;\n     name: string | number | null;\n     get path(): string[];\n-    get validator(): ValidatorFn | null;\n     constructor(parent: ControlContainer, validators: (Validator | ValidatorFn)[], asyncValidators: (AsyncValidator | AsyncValidatorFn)[]);\n     ngOnDestroy(): void;\n     ngOnInit(): void;\n@@ -237,30 +235,26 @@ export declare class FormControl extends AbstractControl {\n }\n \n export declare class FormControlDirective extends NgControl implements OnChanges {\n-    get asyncValidator(): AsyncValidatorFn | null;\n     get control(): FormControl;\n     form: FormControl;\n     set isDisabled(isDisabled: boolean);\n     /** @deprecated */ model: any;\n     get path(): string[];\n     /** @deprecated */ update: EventEmitter<any>;\n-    get validator(): ValidatorFn | null;\n     viewModel: any;\n     constructor(validators: (Validator | ValidatorFn)[], asyncValidators: (AsyncValidator | AsyncValidatorFn)[], valueAccessors: ControlValueAccessor[], _ngModelWarningConfig: string | null);\n     ngOnChanges(changes: SimpleChanges): void;\n     viewToModelUpdate(newValue: any): void;\n }\n \n export declare class FormControlName extends NgControl implements OnChanges, OnDestroy {\n-    get asyncValidator(): AsyncValidatorFn;\n     readonly control: FormControl;\n     get formDirective(): any;\n     set isDisabled(isDisabled: boolean);\n     /** @deprecated */ model: any;\n     name: string | number | null;\n     get path(): string[];\n     /** @deprecated */ update: EventEmitter<any>;\n-    get validator(): ValidatorFn | null;\n     constructor(parent: ControlContainer, validators: (Validator | ValidatorFn)[], asyncValidators: (AsyncValidator | AsyncValidatorFn)[], valueAccessors: ControlValueAccessor[], _ngModelWarningConfig: string | null);\n     ngOnChanges(changes: SimpleChanges): void;\n     ngOnDestroy(): void;\n@@ -306,7 +300,7 @@ export declare class FormGroupDirective extends ControlContainer implements Form\n     ngSubmit: EventEmitter<any>;\n     get path(): string[];\n     readonly submitted: boolean;\n-    constructor(_validators: (Validator | ValidatorFn)[], _asyncValidators: (AsyncValidator | AsyncValidatorFn)[]);\n+    constructor(validators: (Validator | ValidatorFn)[], asyncValidators: (AsyncValidator | AsyncValidatorFn)[]);\n     addControl(dir: FormControlName): FormControl;\n     addFormArray(dir: FormArrayName): void;\n     addFormGroup(dir: FormGroupName): void;\n@@ -352,9 +346,7 @@ export declare const NG_VALIDATORS: InjectionToken<(Function | Validator)[]>;\n export declare const NG_VALUE_ACCESSOR: InjectionToken<readonly ControlValueAccessor[]>;\n \n export declare abstract class NgControl extends AbstractControlDirective {\n-    get asyncValidator(): AsyncValidatorFn | null;\n     name: string | number | null;\n-    get validator(): ValidatorFn | null;\n     valueAccessor: ControlValueAccessor | null;\n     abstract viewToModelUpdate(newValue: any): void;\n }\n@@ -398,7 +390,6 @@ export declare class NgForm extends ControlContainer implements Form, AfterViewI\n }\n \n export declare class NgModel extends NgControl implements OnChanges, OnDestroy {\n-    get asyncValidator(): AsyncValidatorFn | null;\n     readonly control: FormControl;\n     get formDirective(): any;\n     isDisabled: boolean;\n@@ -411,7 +402,6 @@ export declare class NgModel extends NgControl implements OnChanges, OnDestroy {\n     };\n     get path(): string[];\n     update: EventEmitter<any>;\n-    get validator(): ValidatorFn | null;\n     viewModel: any;\n     constructor(parent: ControlContainer, validators: (Validator | ValidatorFn)[], asyncValidators: (AsyncValidator | AsyncValidatorFn)[], valueAccessors: ControlValueAccessor[]);\n     ngOnChanges(changes: SimpleChanges): void;"
        },
        {
            "sha": "e8f07b55ad2027cc9e371265e2e39f6604698a10",
            "filename": "packages/forms/src/directives/abstract_control_directive.ts",
            "status": "modified",
            "additions": 66,
            "deletions": 1,
            "changes": 67,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fabstract_control_directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fabstract_control_directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fabstract_control_directive.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -7,8 +7,12 @@\n  */\n \n import {Observable} from 'rxjs';\n+\n import {AbstractControl} from '../model';\n-import {ValidationErrors} from './validators';\n+import {composeAsyncValidators, composeValidators} from '../validators';\n+\n+import {AsyncValidator, AsyncValidatorFn, ValidationErrors, Validator, ValidatorFn} from './validators';\n+\n \n /**\n  * @description\n@@ -165,6 +169,67 @@ export abstract class AbstractControlDirective {\n     return null;\n   }\n \n+  /**\n+   * Contains the result of merging synchronous validators into a single validator function\n+   * (combined using `Validators.compose`).\n+   */\n+  private _composedValidatorFn: ValidatorFn|null|undefined;\n+\n+  /**\n+   * Contains the result of merging asynchronous validators into a single validator function\n+   * (combined using `Validators.composeAsync`).\n+   */\n+  private _composedAsyncValidatorFn: AsyncValidatorFn|null|undefined;\n+\n+  /**\n+   * Set of synchronous validators as they were provided while calling `setValidators` function.\n+   * @internal\n+   */\n+  _rawValidators: Array<Validator|ValidatorFn> = [];\n+\n+  /**\n+   * Set of asynchronous validators as they were provided while calling `setAsyncValidators`\n+   * function.\n+   * @internal\n+   */\n+  _rawAsyncValidators: Array<AsyncValidator|AsyncValidatorFn> = [];\n+\n+  /**\n+   * Sets synchronous validators for this directive.\n+   * @internal\n+   */\n+  _setValidators(validators: Array<Validator|ValidatorFn>|undefined): void {\n+    this._rawValidators = validators || [];\n+    this._composedValidatorFn = composeValidators(this._rawValidators);\n+  }\n+\n+  /**\n+   * Sets asynchronous validators for this directive.\n+   * @internal\n+   */\n+  _setAsyncValidators(validators: Array<AsyncValidator|AsyncValidatorFn>|undefined): void {\n+    this._rawAsyncValidators = validators || [];\n+    this._composedAsyncValidatorFn = composeAsyncValidators(this._rawAsyncValidators);\n+  }\n+\n+  /**\n+   * @description\n+   * Synchronous validator function composed of all the synchronous validators registered with this\n+   * directive.\n+   */\n+  get validator(): ValidatorFn|null {\n+    return this._composedValidatorFn || null;\n+  }\n+\n+  /**\n+   * @description\n+   * Asynchronous validator function composed of all the asynchronous validators registered with\n+   * this directive.\n+   */\n+  get asyncValidator(): AsyncValidatorFn|null {\n+    return this._composedAsyncValidatorFn || null;\n+  }\n+\n   /**\n    * @description\n    * Resets the control with the provided value if the control is present."
        },
        {
            "sha": "d5497344ecbe2642b4096e692705a51722e20770",
            "filename": "packages/forms/src/directives/abstract_form_group_directive.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 36,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fabstract_form_group_directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fabstract_form_group_directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fabstract_form_group_directive.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -12,8 +12,7 @@ import {FormGroup} from '../model';\n \n import {ControlContainer} from './control_container';\n import {Form} from './form_interface';\n-import {composeAsyncValidators, composeValidators, controlPath} from './shared';\n-import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from './validators';\n+import {controlPath} from './shared';\n \n \n \n@@ -34,24 +33,6 @@ export class AbstractFormGroupDirective extends ControlContainer implements OnIn\n   // TODO(issue/24571): remove '!'.\n   _parent!: ControlContainer;\n \n-  /**\n-   * @description\n-   * An array of synchronous validators for the group\n-   *\n-   * @internal\n-   */\n-  // TODO(issue/24571): remove '!'.\n-  _validators!: (Validator|ValidatorFn)[];\n-\n-  /**\n-   * @description\n-   * An array of async validators for the group\n-   *\n-   * @internal\n-   */\n-  // TODO(issue/24571): remove '!'.\n-  _asyncValidators!: (AsyncValidator|AsyncValidatorFn)[];\n-\n   /** @nodoc */\n   ngOnInit(): void {\n     this._checkParentType();\n@@ -91,22 +72,6 @@ export class AbstractFormGroupDirective extends ControlContainer implements OnIn\n     return this._parent ? this._parent.formDirective : null;\n   }\n \n-  /**\n-   * @description\n-   * The synchronous validators registered with this group.\n-   */\n-  get validator(): ValidatorFn|null {\n-    return composeValidators(this._validators);\n-  }\n-\n-  /**\n-   * @description\n-   * The async validators registered with this group.\n-   */\n-  get asyncValidator(): AsyncValidatorFn|null {\n-    return composeAsyncValidators(this._asyncValidators);\n-  }\n-\n   /** @internal */\n   _checkParentType(): void {}\n }"
        },
        {
            "sha": "f9234624d2f2a0357308c54f33e0dd7e8c6408e7",
            "filename": "packages/forms/src/directives/ng_control.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 43,
            "changes": 43,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_control.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_control.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_control.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -6,17 +6,10 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-\n import {AbstractControlDirective} from './abstract_control_directive';\n import {ControlContainer} from './control_container';\n import {ControlValueAccessor} from './control_value_accessor';\n-import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from './validators';\n \n-function unimplemented(): any {\n-  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n-    throw new Error('unimplemented');\n-  }\n-}\n \n /**\n  * @description\n@@ -46,42 +39,6 @@ export abstract class NgControl extends AbstractControlDirective {\n    */\n   valueAccessor: ControlValueAccessor|null = null;\n \n-  /**\n-   * @description\n-   * The uncomposed array of synchronous validators for the control\n-   *\n-   * @internal\n-   */\n-  _rawValidators: Array<Validator|ValidatorFn> = [];\n-\n-  /**\n-   * @description\n-   * The uncomposed array of async validators for the control\n-   *\n-   * @internal\n-   */\n-  _rawAsyncValidators: Array<AsyncValidator|AsyncValidatorFn> = [];\n-\n-  /**\n-   * @description\n-   * The registered synchronous validator function for the control\n-   *\n-   * @throws An exception that this method is not implemented\n-   */\n-  get validator(): ValidatorFn|null {\n-    return <ValidatorFn>unimplemented();\n-  }\n-\n-  /**\n-   * @description\n-   * The registered async validator function for the control\n-   *\n-   * @throws An exception that this method is not implemented\n-   */\n-  get asyncValidator(): AsyncValidatorFn|null {\n-    return <AsyncValidatorFn>unimplemented();\n-  }\n-\n   /**\n    * @description\n    * The callback method to update the model from the view when requested"
        },
        {
            "sha": "ffb1593250d69853e6e345b0a3abed58ea078e01",
            "filename": "packages/forms/src/directives/ng_form.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_form.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_form.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_form.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -9,14 +9,14 @@\n import {AfterViewInit, Directive, EventEmitter, forwardRef, Inject, Input, Optional, Self} from '@angular/core';\n \n import {AbstractControl, FormControl, FormGroup, FormHooks} from '../model';\n-import {NG_ASYNC_VALIDATORS, NG_VALIDATORS} from '../validators';\n+import {composeAsyncValidators, composeValidators, NG_ASYNC_VALIDATORS, NG_VALIDATORS} from '../validators';\n \n import {ControlContainer} from './control_container';\n import {Form} from './form_interface';\n import {NgControl} from './ng_control';\n import {NgModel} from './ng_model';\n import {NgModelGroup} from './ng_model_group';\n-import {composeAsyncValidators, composeValidators, removeDir, setUpControl, setUpFormContainer, syncPendingControls} from './shared';\n+import {removeDir, setUpControl, setUpFormContainer, syncPendingControls} from './shared';\n import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from './validators';\n \n export const formDirectiveProvider: any = {"
        },
        {
            "sha": "6cd329877bc77ec630bb6def5c1dd75c32dae38a",
            "filename": "packages/forms/src/directives/ng_model.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 21,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_model.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_model.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_model.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -17,7 +17,7 @@ import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor'\n import {NgControl} from './ng_control';\n import {NgForm} from './ng_form';\n import {NgModelGroup} from './ng_model_group';\n-import {composeAsyncValidators, composeValidators, controlPath, isPropertyUpdated, selectValueAccessor, setUpControl} from './shared';\n+import {controlPath, isPropertyUpdated, selectValueAccessor, setUpControl} from './shared';\n import {TemplateDrivenErrors} from './template_driven_errors';\n import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from './validators';\n \n@@ -208,8 +208,8 @@ export class NgModel extends NgControl implements OnChanges, OnDestroy {\n       @Optional() @Self() @Inject(NG_VALUE_ACCESSOR) valueAccessors: ControlValueAccessor[]) {\n     super();\n     this._parent = parent;\n-    this._rawValidators = validators || [];\n-    this._rawAsyncValidators = asyncValidators || [];\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n     this.valueAccessor = selectValueAccessor(this, valueAccessors);\n   }\n \n@@ -249,24 +249,6 @@ export class NgModel extends NgControl implements OnChanges, OnDestroy {\n     return this._parent ? this._parent.formDirective : null;\n   }\n \n-  /**\n-   * @description\n-   * Synchronous validator function composed of all the synchronous validators\n-   * registered with this directive.\n-   */\n-  get validator(): ValidatorFn|null {\n-    return composeValidators(this._rawValidators);\n-  }\n-\n-  /**\n-   * @description\n-   * Async validator function composed of all the async validators registered with this\n-   * directive.\n-   */\n-  get asyncValidator(): AsyncValidatorFn|null {\n-    return composeAsyncValidators(this._rawAsyncValidators);\n-  }\n-\n   /**\n    * @description\n    * Sets the new value for the view model and emits an `ngModelChange` event."
        },
        {
            "sha": "434a4de918cb9e24315398dc2446ad9697ad451c",
            "filename": "packages/forms/src/directives/ng_model_group.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_model_group.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_model_group.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fng_model_group.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -64,8 +64,8 @@ export class NgModelGroup extends AbstractFormGroupDirective implements OnInit,\n           (AsyncValidator|AsyncValidatorFn)[]) {\n     super();\n     this._parent = parent;\n-    this._validators = validators;\n-    this._asyncValidators = asyncValidators;\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n   }\n \n   /** @internal */"
        },
        {
            "sha": "547ea216d192315176c7627b8ff51e5182acde2b",
            "filename": "packages/forms/src/directives/reactive_directives/form_control_directive.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 22,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_directive.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -13,7 +13,7 @@ import {NG_ASYNC_VALIDATORS, NG_VALIDATORS} from '../../validators';\n import {ControlValueAccessor, NG_VALUE_ACCESSOR} from '../control_value_accessor';\n import {NgControl} from '../ng_control';\n import {ReactiveErrors} from '../reactive_errors';\n-import {_ngModelWarning, composeAsyncValidators, composeValidators, isPropertyUpdated, selectValueAccessor, setUpControl} from '../shared';\n+import {_ngModelWarning, isPropertyUpdated, selectValueAccessor, setUpControl} from '../shared';\n import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from '../validators';\n \n \n@@ -51,7 +51,6 @@ export const formControlBinding: any = {\n  * @publicApi\n  */\n @Directive({selector: '[formControl]', providers: [formControlBinding], exportAs: 'ngForm'})\n-\n export class FormControlDirective extends NgControl implements OnChanges {\n   /**\n    * Internal reference to the view model value.\n@@ -111,8 +110,8 @@ export class FormControlDirective extends NgControl implements OnChanges {\n       @Optional() @Inject(NG_MODEL_WITH_FORM_CONTROL_WARNING) private _ngModelWarningConfig: string|\n       null) {\n     super();\n-    this._rawValidators = validators || [];\n-    this._rawAsyncValidators = asyncValidators || [];\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n     this.valueAccessor = selectValueAccessor(this, valueAccessors);\n   }\n \n@@ -141,24 +140,6 @@ export class FormControlDirective extends NgControl implements OnChanges {\n     return [];\n   }\n \n-  /**\n-   * @description\n-   * Synchronous validator function composed of all the synchronous validators\n-   * registered with this directive.\n-   */\n-  get validator(): ValidatorFn|null {\n-    return composeValidators(this._rawValidators);\n-  }\n-\n-  /**\n-   * @description\n-   * Async validator function composed of all the async validators registered with this\n-   * directive.\n-   */\n-  get asyncValidator(): AsyncValidatorFn|null {\n-    return composeAsyncValidators(this._rawAsyncValidators);\n-  }\n-\n   /**\n    * @description\n    * The `FormControl` bound to this directive."
        },
        {
            "sha": "9e76a3f91ad8e0a5dac252fb8704de904667728d",
            "filename": "packages/forms/src/directives/reactive_directives/form_control_name.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 21,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_name.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_name.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_control_name.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -15,7 +15,7 @@ import {ControlContainer} from '../control_container';\n import {ControlValueAccessor, NG_VALUE_ACCESSOR} from '../control_value_accessor';\n import {NgControl} from '../ng_control';\n import {ReactiveErrors} from '../reactive_errors';\n-import {_ngModelWarning, composeAsyncValidators, composeValidators, controlPath, isPropertyUpdated, selectValueAccessor} from '../shared';\n+import {_ngModelWarning, controlPath, isPropertyUpdated, selectValueAccessor} from '../shared';\n import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from '../validators';\n \n import {NG_MODEL_WITH_FORM_CONTROL_WARNING} from './form_control_directive';\n@@ -136,8 +136,8 @@ export class FormControlName extends NgControl implements OnChanges, OnDestroy {\n       null) {\n     super();\n     this._parent = parent;\n-    this._rawValidators = validators || [];\n-    this._rawAsyncValidators = asyncValidators || [];\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n     this.valueAccessor = selectValueAccessor(this, valueAccessors);\n   }\n \n@@ -186,24 +186,6 @@ export class FormControlName extends NgControl implements OnChanges, OnDestroy {\n     return this._parent ? this._parent.formDirective : null;\n   }\n \n-  /**\n-   * @description\n-   * Synchronous validator function composed of all the synchronous validators\n-   * registered with this directive.\n-   */\n-  get validator(): ValidatorFn|null {\n-    return composeValidators(this._rawValidators);\n-  }\n-\n-  /**\n-   * @description\n-   * Async validator function composed of all the async validators registered with this\n-   * directive.\n-   */\n-  get asyncValidator(): AsyncValidatorFn {\n-    return composeAsyncValidators(this._rawAsyncValidators)!;\n-  }\n-\n   private _checkParentType(): void {\n     if (typeof ngDevMode === 'undefined' || ngDevMode) {\n       if (!(this._parent instanceof FormGroupName) &&"
        },
        {
            "sha": "f0651cfe83d578c43b71f483b40dc28b50b37669",
            "filename": "packages/forms/src/directives/reactive_directives/form_group_directive.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_group_directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_group_directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_group_directive.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -13,7 +13,7 @@ import {NG_ASYNC_VALIDATORS, NG_VALIDATORS, Validators} from '../../validators';\n import {ControlContainer} from '../control_container';\n import {Form} from '../form_interface';\n import {ReactiveErrors} from '../reactive_errors';\n-import {cleanUpControl, composeAsyncValidators, composeValidators, removeDir, setUpControl, setUpFormContainer, syncPendingControls} from '../shared';\n+import {cleanUpControl, removeDir, setUpControl, setUpFormContainer, syncPendingControls} from '../shared';\n import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from '../validators';\n \n import {FormControlName} from './form_control_name';\n@@ -82,10 +82,12 @@ export class FormGroupDirective extends ControlContainer implements Form, OnChan\n   @Output() ngSubmit = new EventEmitter();\n \n   constructor(\n-      @Optional() @Self() @Inject(NG_VALIDATORS) private _validators: (Validator|ValidatorFn)[],\n-      @Optional() @Self() @Inject(NG_ASYNC_VALIDATORS) private _asyncValidators:\n+      @Optional() @Self() @Inject(NG_VALIDATORS) private validators: (Validator|ValidatorFn)[],\n+      @Optional() @Self() @Inject(NG_ASYNC_VALIDATORS) private asyncValidators:\n           (AsyncValidator|AsyncValidatorFn)[]) {\n     super();\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n   }\n \n   /** @nodoc */\n@@ -280,11 +282,9 @@ export class FormGroupDirective extends ControlContainer implements Form, OnChan\n   }\n \n   private _updateValidators() {\n-    const sync = composeValidators(this._validators);\n-    this.form.validator = Validators.compose([this.form.validator!, sync!]);\n-\n-    const async = composeAsyncValidators(this._asyncValidators);\n-    this.form.asyncValidator = Validators.composeAsync([this.form.asyncValidator!, async!]);\n+    this.form.validator = Validators.compose([this.form.validator, this.validator]);\n+    this.form.asyncValidator =\n+        Validators.composeAsync([this.form.asyncValidator, this.asyncValidator]);\n   }\n \n   private _checkFormPresent() {"
        },
        {
            "sha": "b941e65e72dd3c74367c33dfad2074a798150c64",
            "filename": "packages/forms/src/directives/reactive_directives/form_group_name.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 28,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_group_name.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_group_name.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Freactive_directives%2Fform_group_name.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -13,7 +13,7 @@ import {NG_ASYNC_VALIDATORS, NG_VALIDATORS} from '../../validators';\n import {AbstractFormGroupDirective} from '../abstract_form_group_directive';\n import {ControlContainer} from '../control_container';\n import {ReactiveErrors} from '../reactive_errors';\n-import {composeAsyncValidators, composeValidators, controlPath} from '../shared';\n+import {controlPath} from '../shared';\n import {AsyncValidator, AsyncValidatorFn, Validator, ValidatorFn} from '../validators';\n \n import {FormGroupDirective} from './form_group_directive';\n@@ -91,8 +91,8 @@ export class FormGroupName extends AbstractFormGroupDirective implements OnInit,\n           (AsyncValidator|AsyncValidatorFn)[]) {\n     super();\n     this._parent = parent;\n-    this._validators = validators;\n-    this._asyncValidators = asyncValidators;\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n   }\n \n   /** @internal */\n@@ -137,12 +137,6 @@ export class FormArrayName extends ControlContainer implements OnInit, OnDestroy\n   /** @internal */\n   _parent: ControlContainer;\n \n-  /** @internal */\n-  _validators: (Validator|ValidatorFn)[];\n-\n-  /** @internal */\n-  _asyncValidators: (AsyncValidator|AsyncValidatorFn)[];\n-\n   /**\n    * @description\n    * Tracks the name of the `FormArray` bound to the directive. The name corresponds\n@@ -162,8 +156,8 @@ export class FormArrayName extends ControlContainer implements OnInit, OnDestroy\n           (AsyncValidator|AsyncValidatorFn)[]) {\n     super();\n     this._parent = parent;\n-    this._validators = validators;\n-    this._asyncValidators = asyncValidators;\n+    this._setValidators(validators);\n+    this._setAsyncValidators(asyncValidators);\n   }\n \n   /**\n@@ -211,23 +205,6 @@ export class FormArrayName extends ControlContainer implements OnInit, OnDestroy\n     return controlPath(this.name == null ? this.name : this.name.toString(), this._parent);\n   }\n \n-  /**\n-   * @description\n-   * Synchronous validator function composed of all the synchronous validators registered with this\n-   * directive.\n-   */\n-  get validator(): ValidatorFn|null {\n-    return composeValidators(this._validators);\n-  }\n-\n-  /**\n-   * @description\n-   * Async validator function composed of all the async validators registered with this directive.\n-   */\n-  get asyncValidator(): AsyncValidatorFn|null {\n-    return composeAsyncValidators(this._asyncValidators);\n-  }\n-\n   private _checkParentType(): void {\n     if (_hasInvalidParent(this._parent) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n       ReactiveErrors.arrayParentException();"
        },
        {
            "sha": "3cb78e8c1be4c93078529e3d4e84fc5d9f1ece77",
            "filename": "packages/forms/src/directives/shared.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 13,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -9,7 +9,7 @@\n import {isDevMode} from '@angular/core';\n \n import {FormArray, FormControl, FormGroup} from '../model';\n-import {normalizeValidators, Validators} from '../validators';\n+import {Validators} from '../validators';\n \n import {AbstractControlDirective} from './abstract_control_directive';\n import {AbstractFormGroupDirective} from './abstract_form_group_directive';\n@@ -150,18 +150,6 @@ function _throwError(dir: AbstractControlDirective, message: string): void {\n   throw new Error(`${message} ${messageEnd}`);\n }\n \n-export function composeValidators(validators: Array<Validator|ValidatorFn>): ValidatorFn|null {\n-  return validators != null ? Validators.compose(normalizeValidators<ValidatorFn>(validators)) :\n-                              null;\n-}\n-\n-export function composeAsyncValidators(validators: Array<AsyncValidator|AsyncValidatorFn>):\n-    AsyncValidatorFn|null {\n-  return validators != null ?\n-      Validators.composeAsync(normalizeValidators<AsyncValidatorFn>(validators)) :\n-      null;\n-}\n-\n export function isPropertyUpdated(changes: {[key: string]: any}, viewModel: any): boolean {\n   if (!changes.hasOwnProperty('model')) return false;\n   const change = changes['model'];"
        },
        {
            "sha": "40d45d39a639d893de7c6cbb45eea91883a91224",
            "filename": "packages/forms/src/model.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fmodel.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fmodel.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fmodel.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -8,9 +8,9 @@\n \n import {EventEmitter} from '@angular/core';\n import {Observable} from 'rxjs';\n-import {composeAsyncValidators, composeValidators} from './directives/shared';\n+\n import {AsyncValidatorFn, ValidationErrors, ValidatorFn} from './directives/validators';\n-import {toObservable} from './validators';\n+import {composeAsyncValidators, composeValidators, toObservable} from './validators';\n \n /**\n  * Reports that a FormControl is valid, meaning that no errors exist in the input value."
        },
        {
            "sha": "5ebf86ce7adca6003623040e63b2486585da3002",
            "filename": "packages/forms/src/validators.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fvalidators.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Fsrc%2Fvalidators.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fvalidators.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -531,4 +531,24 @@ export function normalizeValidators<V>(validators: (V|Validator|AsyncValidator)[\n         validator :\n         ((c: AbstractControl) => validator.validate(c)) as unknown as V;\n   });\n+}\n+\n+/**\n+ * Merges synchronous validators into a single validator function (combined using\n+ * `Validators.compose`).\n+ */\n+export function composeValidators(validators: Array<Validator|ValidatorFn>): ValidatorFn|null {\n+  return validators != null ? Validators.compose(normalizeValidators<ValidatorFn>(validators)) :\n+                              null;\n+}\n+\n+/**\n+ * Merges asynchronous validators into a single validator function (combined using\n+ * `Validators.composeAsync`).\n+ */\n+export function composeAsyncValidators(validators: Array<AsyncValidator|AsyncValidatorFn>):\n+    AsyncValidatorFn|null {\n+  return validators != null ?\n+      Validators.composeAsync(normalizeValidators<AsyncValidatorFn>(validators)) :\n+      null;\n }\n\\ No newline at end of file"
        },
        {
            "sha": "2b99f910e11059ca71259fef0135be4546943c2c",
            "filename": "packages/forms/test/directives_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Ftest%2Fdirectives_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/0723331b2a58b31fa5a4dc5ad88ca1051bb70297/packages%2Fforms%2Ftest%2Fdirectives_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Ftest%2Fdirectives_spec.ts?ref=0723331b2a58b31fa5a4dc5ad88ca1051bb70297",
            "patch": "@@ -10,7 +10,8 @@ import {SimpleChange} from '@angular/core';\n import {fakeAsync, flushMicrotasks, tick} from '@angular/core/testing';\n import {beforeEach, describe, expect, it} from '@angular/core/testing/src/testing_internal';\n import {AbstractControl, CheckboxControlValueAccessor, ControlValueAccessor, DefaultValueAccessor, FormArray, FormArrayName, FormControl, FormControlDirective, FormControlName, FormGroup, FormGroupDirective, FormGroupName, NgControl, NgForm, NgModel, NgModelGroup, SelectControlValueAccessor, SelectMultipleControlValueAccessor, ValidationErrors, Validator, Validators} from '@angular/forms';\n-import {composeValidators, selectValueAccessor} from '@angular/forms/src/directives/shared';\n+import {selectValueAccessor} from '@angular/forms/src/directives/shared';\n+import {composeValidators} from '@angular/forms/src/validators';\n import {SpyNgControl, SpyValueAccessor} from './spies';\n import {asyncValidator} from './util';\n "
        }
    ],
    "stats": {
        "total": 432,
        "additions": 165,
        "deletions": 267
    }
}