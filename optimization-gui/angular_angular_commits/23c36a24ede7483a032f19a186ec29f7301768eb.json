{
    "author": "gkalpak",
    "message": "test(docs-infra): disable the Selenium Promise Manager in docs examples e2e tests (#39818)\n\nThis commit disables the Selenium Promise Manager when running e2e tests\nfor docs examples in order to more closely align them with new apps\ncreated with CLI v11. This change requires that any async operations in\ntests are handled explicitly (e.g. using `async/await` or\n`Promise#then()`).\n\nPR Close #39818",
    "sha": "23c36a24ede7483a032f19a186ec29f7301768eb",
    "files": [
        {
            "sha": "9f95e2f9f25eb8727702ce2400199c72577bd612",
            "filename": "aio/content/examples/accessibility/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 9,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Faccessibility%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Faccessibility%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Faccessibility%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,18 +2,16 @@ import { browser, element, by } from 'protractor';\n \n describe('Accessibility example e2e tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display Accessibility Example', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Accessibility Example');\n+  it('should display Accessibility Example', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Accessibility Example');\n   });\n \n-  it('should take a number and change progressbar width', () => {\n-    element(by.css('input')).sendKeys('16');\n-    expect(element(by.css('input')).getAttribute('value')).toEqual('16');\n-    expect(element(by.css('app-example-progressbar div')).getCssValue('width')).toBe('48px');\n+  it('should take a number and change progressbar width', async () => {\n+    await element(by.css('input')).sendKeys('16');\n+    expect(await element(by.css('input')).getAttribute('value')).toEqual('16');\n+    expect(await element(by.css('app-example-progressbar div')).getCssValue('width')).toBe('48px');\n   });\n \n });"
        },
        {
            "sha": "7a8e7e62181ffa08ac208b5f13dee175f20a0329",
            "filename": "aio/content/examples/ajs-quick-reference/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 34,
            "deletions": 37,
            "changes": 71,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fajs-quick-reference%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fajs-quick-reference%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fajs-quick-reference%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,15 +2,13 @@ import { browser, element, by } from 'protractor';\n \n describe('AngularJS to Angular Quick Reference Tests', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should display no poster images after bootstrap', () => {\n-    testImagesAreDisplayed(false);\n+  it('should display no poster images after bootstrap', async () => {\n+    await testImagesAreDisplayed(false);\n   });\n \n-  it('should display proper movie data', () => {\n+  it('should display proper movie data', async () => {\n     // We check only a few samples\n     const expectedSamples: any[] = [\n       {row: 0, column: 0, element: 'img', attr: 'src', value: 'images/hero.png', contains: true},\n@@ -34,8 +32,8 @@ describe('AngularJS to Angular Quick Reference Tests', () => {\n \n       // Check element attribute or text\n       const valueToCheck = sample.attr\n-        ? elementToCheck.getAttribute(sample.attr)\n-        : elementToCheck.getText();\n+        ? await elementToCheck.getAttribute(sample.attr)\n+        : await elementToCheck.getText();\n \n       // Test for equals/contains/match\n       if (sample.contains) {\n@@ -48,65 +46,64 @@ describe('AngularJS to Angular Quick Reference Tests', () => {\n     }\n   });\n \n-  it('should display images after Show Poster', () => {\n-    testPosterButtonClick('Show Poster', true);\n+  it('should display images after Show Poster', async () => {\n+    await testPosterButtonClick('Show Poster', true);\n   });\n \n-  it('should hide images after Hide Poster', () => {\n-    testPosterButtonClick('Hide Poster', false);\n+  it('should hide images after Hide Poster', async () => {\n+    await testPosterButtonClick('Hide Poster', false);\n   });\n \n-  it('should display no movie when no favorite hero is specified', () => {\n-    testFavoriteHero(null, 'Please enter your favorite hero.');\n+  it('should display no movie when no favorite hero is specified', async () => {\n+    await testFavoriteHero(null, 'Please enter your favorite hero.');\n   });\n \n-  it('should display no movie for Magneta', () => {\n-    testFavoriteHero('Magneta', 'No movie, sorry!');\n+  it('should display no movie for Magneta', async () => {\n+    await testFavoriteHero('Magneta', 'No movie, sorry!');\n   });\n \n-  it('should display a movie for Dr Nice', () => {\n-    testFavoriteHero('Dr Nice', 'Excellent choice!');\n+  it('should display a movie for Dr Nice', async () => {\n+    await testFavoriteHero('Dr Nice', 'Excellent choice!');\n   });\n \n-  function testImagesAreDisplayed(isDisplayed: boolean) {\n+  async function testImagesAreDisplayed(isDisplayed: boolean) {\n     const expectedMovieCount = 3;\n \n     const movieRows = getMovieRows();\n-    expect(movieRows.count()).toBe(expectedMovieCount);\n+    expect(await movieRows.count()).toBe(expectedMovieCount);\n     for (let i = 0; i < expectedMovieCount; i++) {\n       const movieImage = movieRows.get(i).element(by.css('td > img'));\n-      expect(movieImage.isDisplayed()).toBe(isDisplayed);\n+      expect(await movieImage.isDisplayed()).toBe(isDisplayed);\n     }\n   }\n \n-  function testPosterButtonClick(expectedButtonText: string, isDisplayed: boolean) {\n+  async function testPosterButtonClick(expectedButtonText: string, isDisplayed: boolean) {\n     const posterButton = element(by.css('app-movie-list tr > th > button'));\n-    expect(posterButton.getText()).toBe(expectedButtonText);\n+    expect(await posterButton.getText()).toBe(expectedButtonText);\n \n-    posterButton.click().then(() => {\n-      testImagesAreDisplayed(isDisplayed);\n-    });\n+    await posterButton.click();\n+    await testImagesAreDisplayed(isDisplayed);\n   }\n \n   function getMovieRows() {\n     return element.all(by.css('app-movie-list tbody > tr'));\n   }\n \n-  function testFavoriteHero(heroName: string, expectedLabel: string) {\n+  async function testFavoriteHero(heroName: string, expectedLabel: string) {\n     const movieListComp = element(by.tagName('app-movie-list'));\n     const heroInput = movieListComp.element(by.tagName('input'));\n     const favoriteHeroLabel = movieListComp.element(by.tagName('h3'));\n     const resultLabel = movieListComp.element(by.css('span > p'));\n \n-    heroInput.clear().then(() => {\n-      heroInput.sendKeys(heroName || '');\n-      expect(resultLabel.getText()).toBe(expectedLabel);\n-      if (heroName) {\n-        expect(favoriteHeroLabel.isDisplayed()).toBe(true);\n-        expect(favoriteHeroLabel.getText()).toContain(heroName);\n-      } else {\n-        expect(favoriteHeroLabel.isDisplayed()).toBe(false);\n-      }\n-    });\n+    await heroInput.clear();\n+    await heroInput.sendKeys(heroName || '');\n+\n+    expect(await resultLabel.getText()).toBe(expectedLabel);\n+    if (heroName) {\n+      expect(await favoriteHeroLabel.isDisplayed()).toBe(true);\n+      expect(await favoriteHeroLabel.getText()).toContain(heroName);\n+    } else {\n+      expect(await favoriteHeroLabel.isDisplayed()).toBe(false);\n+    }\n   }\n });"
        },
        {
            "sha": "f19b62f7ee2cb5a95e7dfa60d39da6479c041e06",
            "filename": "aio/content/examples/animations/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 13,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fanimations%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fanimations%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fanimations%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,4 +1,4 @@\n-import { browser, ExpectedConditions as EC } from 'protractor';\n+import { browser } from 'protractor';\n import { logging } from 'selenium-webdriver';\n import * as openClose from './open-close.po';\n import * as statusSlider from './status-slider.po';\n@@ -18,17 +18,15 @@ describe('Animation Tests', () => {\n   const filterHref = getLinkById('heroes');\n   const heroGroupsHref = getLinkById('hero-groups');\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n   describe('Open/Close Component', () => {\n     const closedHeight = '100px';\n     const openHeight = '200px';\n \n     beforeAll(async () => {\n       await openCloseHref.click();\n-      sleepFor();\n+      await sleepFor();\n     });\n \n     it('should be open', async () => {\n@@ -84,7 +82,7 @@ describe('Animation Tests', () => {\n \n     beforeAll(async () => {\n       await statusSliderHref.click();\n-      sleepFor(2000);\n+      await sleepFor(2000);\n     });\n \n     it('should be inactive with a blue background', async () => {\n@@ -125,7 +123,7 @@ describe('Animation Tests', () => {\n   describe('Toggle Animations Component', () => {\n     beforeAll(async () => {\n       await toggleHref.click();\n-      sleepFor();\n+      await sleepFor();\n     });\n \n     it('should disabled animations on the child element', async () => {\n@@ -143,7 +141,7 @@ describe('Animation Tests', () => {\n   describe('Enter/Leave Component', () => {\n     beforeAll(async () => {\n       await enterLeaveHref.click();\n-      sleepFor(100);\n+      await sleepFor(100);\n     });\n \n     it('should attach a flyInOut trigger to the list of items', async () => {\n@@ -169,7 +167,7 @@ describe('Animation Tests', () => {\n   describe('Auto Calculation Component', () => {\n     beforeAll(async () => {\n       await autoHref.click();\n-      sleepFor(0);\n+      await sleepFor(0);\n     });\n \n     it('should attach a shrinkOut trigger to the list of items', async () => {\n@@ -193,7 +191,7 @@ describe('Animation Tests', () => {\n   describe('Filter/Stagger Component', () => {\n     beforeAll(async () => {\n       await filterHref.click();\n-      sleepFor();\n+      await sleepFor();\n     });\n \n     it('should attach a filterAnimations trigger to the list container', async () => {\n@@ -220,7 +218,7 @@ describe('Animation Tests', () => {\n   describe('Hero Groups Component', () => {\n     beforeAll(async () => {\n       await heroGroupsHref.click();\n-      sleepFor(300);\n+      await sleepFor(300);\n     });\n \n     it('should attach a flyInOut trigger to the list of items', async () => {\n@@ -245,5 +243,3 @@ describe('Animation Tests', () => {\n     });\n   });\n });\n-\n-"
        },
        {
            "sha": "4be469461f9270560391184d50310fde1825399e",
            "filename": "aio/content/examples/architecture/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 13,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Farchitecture%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Farchitecture%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Farchitecture%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -14,12 +14,12 @@ describe('Architecture', () => {\n \n   beforeAll(() => browser.get(''));\n \n-  it(`has title '${expectedTitle}'`, () => {\n-    expect(browser.getTitle()).toEqual(expectedTitle);\n+  it(`has title '${expectedTitle}'`, async () => {\n+    expect(await browser.getTitle()).toEqual(expectedTitle);\n   });\n \n-  it(`has h2 '${expectedH2}'`, () => {\n-    const h2 = element.all(by.css('h2')).map((elt: any) => elt.getText());\n+  it(`has h2 '${expectedH2}'`, async () => {\n+    const h2 = await element.all(by.css('h2')).map((elt: any) => elt.getText());\n     expect(h2).toEqual(expectedH2);\n   });\n \n@@ -31,14 +31,14 @@ function heroTests() {\n \n   const targetHero: Hero = { id: 2, name: 'Dr Nice' };\n \n-  it('has the right number of heroes', () => {\n+  it('has the right number of heroes', async () => {\n     const page = getPageElts();\n-    expect(page.heroes.count()).toEqual(3);\n+    expect(await page.heroes.count()).toEqual(3);\n   });\n \n-  it('has no hero details initially', () => {\n+  it('has no hero details initially', async () => {\n     const page = getPageElts();\n-    expect(page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n+    expect(await page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n   });\n \n   it('shows selected hero details', async () => {\n@@ -51,7 +51,7 @@ function heroTests() {\n \n   it(`shows updated hero name in details`, async () => {\n     const input = element.all(by.css('input')).first();\n-    input.sendKeys(nameSuffix);\n+    await input.sendKeys(nameSuffix);\n     const page = getPageElts();\n     const hero = await heroFromDetail(page.heroDetail);\n     const newName = targetHero.name + nameSuffix;\n@@ -61,15 +61,15 @@ function heroTests() {\n }\n \n function salesTaxTests() {\n-  it('has no sales tax initially', () => {\n+  it('has no sales tax initially', async () => {\n     const page = getPageElts();\n-    expect(page.salesTaxDetail.isPresent()).toBeFalsy('no sales tax info');\n+    expect(await page.salesTaxDetail.isPresent()).toBeFalsy('no sales tax info');\n   });\n \n   it('shows sales tax', async () => {\n     const page = getPageElts();\n-    page.salesTaxAmountInput.sendKeys('10', protractor.Key.ENTER);\n-    expect(page.salesTaxDetail.getText()).toEqual('The sales tax is $1.00');\n+    await page.salesTaxAmountInput.sendKeys('10', protractor.Key.ENTER);\n+    expect(await page.salesTaxDetail.getText()).toEqual('The sales tax is $1.00');\n   });\n }\n "
        },
        {
            "sha": "cf08ae5bbabbe4e51ac168a18c8ead742874e4c7",
            "filename": "aio/content/examples/attribute-binding/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 16,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fattribute-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fattribute-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fattribute-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,33 +2,34 @@ import { browser, element, by } from 'protractor';\n \n describe('Attribute binding example', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display Property Binding with Angular', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Attribute, class, and style bindings');\n+  it('should display Property Binding with Angular', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Attribute, class, and style bindings');\n   });\n \n-  it('should display a table', () => {\n-    expect(element.all(by.css('table')).isPresent()).toBe(true);\n+  it('should display a table', async () => {\n+    expect(await element.all(by.css('table')).isPresent()).toBe(true);\n   });\n \n-  it('should display an Aria button', () => {\n-    expect(element.all(by.css('button')).get(0).getText()).toBe('Go for it with Aria');\n+  it('should display an Aria button', async () => {\n+    expect(await element.all(by.css('button')).get(0).getText()).toBe('Go for it with Aria');\n   });\n \n-  it('should display a blue background on div', () => {\n-    expect(element.all(by.css('div')).get(1).getCssValue('background-color')).toEqual('rgba(25, 118, 210, 1)');\n+  it('should display a blue background on div', async () => {\n+    const div = element.all(by.css('div')).get(1);\n+    expect(await div.getCssValue('background-color')).toEqual('rgba(25, 118, 210, 1)');\n   });\n \n-  it('should display a blue div with a red border', () => {\n-    expect(element.all(by.css('div')).get(1).getCssValue('border')).toEqual('2px solid rgb(212, 30, 46)');\n+  it('should display a blue div with a red border', async () => {\n+    const div = element.all(by.css('div')).get(1);\n+    expect(await div.getCssValue('border')).toEqual('2px solid rgb(212, 30, 46)');\n   });\n \n-  it('should display a div with many classes', () => {\n-    expect(element.all(by.css('div')).get(1).getAttribute('class')).toContain('special');\n-    expect(element.all(by.css('div')).get(1).getAttribute('class')).toContain('clearance');\n+  it('should display a div with many classes', async () => {\n+    const div = element.all(by.css('div')).get(1);\n+    expect(await div.getAttribute('class')).toContain('special');\n+    expect(await div.getAttribute('class')).toContain('clearance');\n   });\n \n });"
        },
        {
            "sha": "771543102c929bf0cb9c96a28f9399d36a8ed8fc",
            "filename": "aio/content/examples/attribute-directives/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 10,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fattribute-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fattribute-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fattribute-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -4,27 +4,25 @@ describe('Attribute directives', () => {\n \n   const title = 'My First Attribute Directive';\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it(`should display correct title: ${title}`, () => {\n-    expect(element(by.css('h1')).getText()).toEqual(title);\n+  it(`should display correct title: ${title}`, async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual(title);\n   });\n \n-  it('should be able to select green highlight', () => {\n+  it('should be able to select green highlight', async () => {\n     const highlightedEle = element(by.cssContainingText('p', 'Highlight me!'));\n     const lightGreen = 'rgba(144, 238, 144, 1)';\n     const getBgColor = () => highlightedEle.getCssValue('background-color');\n \n-    expect(highlightedEle.getCssValue('background-color')).not.toEqual(lightGreen);\n+    expect(await highlightedEle.getCssValue('background-color')).not.toEqual(lightGreen);\n \n     const greenRb = element.all(by.css('input')).get(0);\n-    greenRb.click();\n-    browser.actions().mouseMove(highlightedEle).perform();\n+    await greenRb.click();\n+    await browser.actions().mouseMove(highlightedEle).perform();\n \n     // Wait for up to 4s for the background color to be updated,\n     // to account for slow environments (e.g. CI).\n-    browser.wait(() => highlightedEle.getCssValue('background-color').then(c => c === lightGreen), 4000);\n+    await browser.wait(async () => await getBgColor() === lightGreen, 4000);\n   });\n });"
        },
        {
            "sha": "ca8c6bc1f58ebc53c89ac07a03ecda569af1e65a",
            "filename": "aio/content/examples/binding-syntax/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 17,
            "changes": 34,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbinding-syntax%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbinding-syntax%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fbinding-syntax%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -7,68 +7,68 @@ describe('Binding syntax e2e tests', () => {\n \n \n   // helper function used to test what's logged to the console\n-  async function logChecker(button, contents) {\n+  async function logChecker(contents) {\n     const logs = await browser.manage().logs().get(logging.Type.BROWSER);\n     const messages = logs.filter(({ message }) => message.indexOf(contents) !== -1 ? true : false);\n     expect(messages.length).toBeGreaterThan(0);\n   }\n \n \n-  it('should display Binding syntax', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Binding syntax');\n+  it('should display Binding syntax', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Binding syntax');\n   });\n \n-  it('should display Save button', () => {\n-    expect(element.all(by.css('button')).get(0).getText()).toBe('Save');\n+  it('should display Save button', async () => {\n+    expect(await element.all(by.css('button')).get(0).getText()).toBe('Save');\n   });\n \n-  it('should display HTML attributes and DOM properties', () => {\n-    expect(element.all(by.css('h2')).get(1).getText()).toBe('HTML attributes and DOM properties');\n+  it('should display HTML attributes and DOM properties', async () => {\n+    expect(await element.all(by.css('h2')).get(1).getText()).toBe('HTML attributes and DOM properties');\n   });\n \n-  it('should display 1. Use the inspector...', () => {\n-    expect(element.all(by.css('p')).get(0).getText()).toContain('1. Use the inspector');\n+  it('should display 1. Use the inspector...', async () => {\n+    expect(await element.all(by.css('p')).get(0).getText()).toContain('1. Use the inspector');\n   });\n \n-  it('should display Disabled property vs. attribute', () => {\n-    expect(element.all(by.css('h3')).get(0).getText()).toBe('Disabled property vs. attribute');\n+  it('should display Disabled property vs. attribute', async () => {\n+    expect(await element.all(by.css('h3')).get(0).getText()).toBe('Disabled property vs. attribute');\n   });\n \n \n   it('should log a message including Sarah', async () => {\n     const attributeButton = element.all(by.css('button')).get(1);\n     await attributeButton.click();\n     const contents = 'Sarah';\n-    logChecker(attributeButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should log a message including Sarah for DOM property', async () => {\n     const DOMPropertyButton = element.all(by.css('button')).get(2);\n     await DOMPropertyButton.click();\n     const contents = 'Sarah';\n-    logChecker(DOMPropertyButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should log a message including Sally for DOM property', async () => {\n     const DOMPropertyButton = element.all(by.css('button')).get(2);\n     const input = element(by.css('input'));\n-    input.sendKeys('Sally');\n+    await input.sendKeys('Sally');\n     await DOMPropertyButton.click();\n     const contents = 'Sally';\n-    logChecker(DOMPropertyButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should log a message that Test Button works', async () => {\n     const testButton = element.all(by.css('button')).get(3);\n     await testButton.click();\n     const contents = 'Test';\n-    logChecker(testButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should toggle Test Button disabled', async () => {\n     const toggleButton = element.all(by.css('button')).get(4);\n     await toggleButton.click();\n     const contents = 'true';\n-    logChecker(toggleButton, contents);\n+    await logChecker(contents);\n   });\n });"
        },
        {
            "sha": "78e8b1ee46b6f0939bf7949da8db326dfa43cad2",
            "filename": "aio/content/examples/bootstrapping/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbootstrapping%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbootstrapping%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fbootstrapping%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -7,8 +7,8 @@ describe('feature-modules App', () => {\n     page = new AppPage();\n   });\n \n-  it('should display message saying app works', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('app works!');\n+  it('should display message saying app works', async () => {\n+    await page.navigateTo();\n+    expect(await page.getTitleText()).toEqual('app works!');\n   });\n });"
        },
        {
            "sha": "d25537cfdfe917707672b2274c5a2ae38c39403f",
            "filename": "aio/content/examples/built-in-directives/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 25,
            "deletions": 28,
            "changes": 53,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,75 +2,72 @@ import { browser, element, by } from 'protractor';\n \n describe('Built-in Directives', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should have title Built-in Directives', () => {\n+  it('should have title Built-in Directives', async () => {\n     const title = element.all(by.css('h1')).get(0);\n-    expect(title.getText()).toEqual('Built-in Directives');\n+    expect(await title.getText()).toEqual('Built-in Directives');\n   });\n \n   it('should change first Teapot header', async () => {\n     const firstLabel = element.all(by.css('p')).get(0);\n     const firstInput = element.all(by.css('input')).get(0);\n \n-    expect(firstLabel.getText()).toEqual('Current item name: Teapot');\n-    firstInput.sendKeys('abc');\n-    expect(firstLabel.getText()).toEqual('Current item name: Teapotabc');\n+    expect(await firstLabel.getText()).toEqual('Current item name: Teapot');\n+    await firstInput.sendKeys('abc');\n+    expect(await firstLabel.getText()).toEqual('Current item name: Teapotabc');\n   });\n \n \n-  it('should modify sentence when modified checkbox checked', () => {\n+  it('should modify sentence when modified checkbox checked', async () => {\n     const modifiedChkbxLabel = element.all(by.css('input[type=\"checkbox\"]')).get(1);\n     const modifiedSentence = element.all(by.css('div')).get(1);\n \n-    modifiedChkbxLabel.click();\n-    expect(modifiedSentence.getText()).toContain('modified');\n+    await modifiedChkbxLabel.click();\n+    expect(await modifiedSentence.getText()).toContain('modified');\n   });\n \n-  it('should modify sentence when normal checkbox checked', () => {\n+  it('should modify sentence when normal checkbox checked', async () => {\n     const normalChkbxLabel = element.all(by.css('input[type=\"checkbox\"]')).get(4);\n     const normalSentence = element.all(by.css('div')).get(7);\n \n-    normalChkbxLabel.click();\n-    expect(normalSentence.getText()).toContain('normal weight and, extra large');\n+    await normalChkbxLabel.click();\n+    expect(await normalSentence.getText()).toContain('normal weight and, extra large');\n   });\n \n-  it('should toggle app-item-detail', () => {\n+  it('should toggle app-item-detail', async () => {\n     const toggleButton = element.all(by.css('button')).get(3);\n     const toggledDiv = element.all(by.css('app-item-detail')).get(0);\n \n-    toggleButton.click();\n-    expect(toggledDiv.isDisplayed()).toBe(true);\n+    await toggleButton.click();\n+    expect(await toggledDiv.isDisplayed()).toBe(true);\n   });\n \n-  it('should hide app-item-detail', () => {\n+  it('should hide app-item-detail', async () => {\n     const hiddenMessage = element.all(by.css('p')).get(11);\n     const hiddenDiv = element.all(by.css('app-item-detail')).get(2);\n \n-    expect(hiddenMessage.getText()).toContain('in the DOM');\n-    expect(hiddenDiv.isDisplayed()).toBe(true);\n+    expect(await hiddenMessage.getText()).toContain('in the DOM');\n+    expect(await hiddenDiv.isDisplayed()).toBe(true);\n   });\n \n-  it('should have 10 lists each containing the string Teapot', () => {\n+  it('should have 10 lists each containing the string Teapot', async () => {\n     const listDiv = element.all(by.cssContainingText('.box', 'Teapot'));\n-    expect(listDiv.count()).toBe(10);\n+    expect(await listDiv.count()).toBe(10);\n   });\n \n-  it('should switch case', () => {\n+  it('should switch case', async () => {\n     const tvRadioButton = element.all(by.css('input[type=\"radio\"]')).get(3);\n     const tvDiv = element(by.css('app-lost-item'));\n \n     const fishbowlRadioButton = element.all(by.css('input[type=\"radio\"]')).get(4);\n     const fishbowlDiv = element(by.css('app-unknown-item'));\n \n-    tvRadioButton.click();\n-    expect(tvDiv.getText()).toContain('Television');\n-    fishbowlRadioButton.click();\n-    expect(fishbowlDiv.getText()).toContain('mysterious');\n+    await tvRadioButton.click();\n+    expect(await tvDiv.getText()).toContain('Television');\n+    await fishbowlRadioButton.click();\n+    expect(await fishbowlDiv.getText()).toContain('mysterious');\n   });\n \n-\n });\n "
        },
        {
            "sha": "03e4a2e5e374a279e83965003eeea0da2dcb3eb1",
            "filename": "aio/content/examples/built-in-template-functions/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 7,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbuilt-in-template-functions%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fbuilt-in-template-functions%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fbuilt-in-template-functions%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,18 +1,16 @@\n import { browser, element, by } from 'protractor';\n \n describe('Built Template Functions Example', () => {\n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should have title Built-in Template Functions', () => {\n+  it('should have title Built-in Template Functions', async () => {\n     const title = element.all(by.css('h1')).get(0);\n-    expect(title.getText()).toEqual('Built-in Template Functions');\n+    expect(await title.getText()).toEqual('Built-in Template Functions');\n   });\n \n-  it('should display $any( ) in h2', () => {\n+  it('should display $any( ) in h2', async () => {\n     const header = element(by.css('h2'));\n-    expect(header.getText()).toContain('$any( )');\n+    expect(await header.getText()).toContain('$any( )');\n   });\n \n });"
        },
        {
            "sha": "6f2c27990a995317775f4ab4c0070fba39caa268",
            "filename": "aio/content/examples/component-interaction/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 25,
            "deletions": 25,
            "changes": 50,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fcomponent-interaction%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fcomponent-interaction%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fcomponent-interaction%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -10,13 +10,13 @@ describe('Component Communication Cookbook Tests', () => {\n     const heroNames = ['Dr IQ', 'Magneta', 'Bombasto'];\n     const masterName = 'Master';\n \n-    it('should pass properties to children properly', () => {\n+    it('should pass properties to children properly', async () => {\n       const parent = element(by.tagName('app-hero-parent'));\n       const heroes = parent.all(by.tagName('app-hero-child'));\n \n       for (let i = 0; i < heroNames.length; i++) {\n-        const childTitle = heroes.get(i).element(by.tagName('h3')).getText();\n-        const childDetail = heroes.get(i).element(by.tagName('p')).getText();\n+        const childTitle = await heroes.get(i).element(by.tagName('h3')).getText();\n+        const childDetail = await heroes.get(i).element(by.tagName('p')).getText();\n         expect(childTitle).toEqual(heroNames[i] + ' says:');\n         expect(childDetail).toContain(masterName);\n       }\n@@ -28,23 +28,23 @@ describe('Component Communication Cookbook Tests', () => {\n   describe('Parent-to-child communication with setter', () => {\n     // #docregion parent-to-child-setter\n     // ...\n-    it('should display trimmed, non-empty names', () => {\n+    it('should display trimmed, non-empty names', async () => {\n       const nonEmptyNameIndex = 0;\n       const nonEmptyName = '\"Dr IQ\"';\n       const parent = element(by.tagName('app-name-parent'));\n       const hero = parent.all(by.tagName('app-name-child')).get(nonEmptyNameIndex);\n \n-      const displayName = hero.element(by.tagName('h3')).getText();\n+      const displayName = await hero.element(by.tagName('h3')).getText();\n       expect(displayName).toEqual(nonEmptyName);\n     });\n \n-    it('should replace empty name with default name', () => {\n+    it('should replace empty name with default name', async () => {\n       const emptyNameIndex = 1;\n       const defaultName = '\"<no name set>\"';\n       const parent = element(by.tagName('app-name-parent'));\n       const hero = parent.all(by.tagName('app-name-child')).get(emptyNameIndex);\n \n-      const displayName = hero.element(by.tagName('h3')).getText();\n+      const displayName = await hero.element(by.tagName('h3')).getText();\n       expect(displayName).toEqual(defaultName);\n     });\n     // ...\n@@ -55,15 +55,15 @@ describe('Component Communication Cookbook Tests', () => {\n     // #docregion parent-to-child-onchanges\n     // ...\n     // Test must all execute in this exact order\n-    it('should set expected initial values', () => {\n-      const actual = getActual();\n+    it('should set expected initial values', async () => {\n+      const actual = await getActual();\n \n       const initialLabel = 'Version 1.23';\n       const initialLog = 'Initial value of major set to 1, Initial value of minor set to 23';\n \n       expect(actual.label).toBe(initialLabel);\n       expect(actual.count).toBe(1);\n-      expect(actual.logs.get(0).getText()).toBe(initialLog);\n+      expect(await actual.logs.get(0).getText()).toBe(initialLog);\n     });\n \n     it('should set expected values after clicking \\'Minor\\' twice', async () => {\n@@ -73,41 +73,41 @@ describe('Component Communication Cookbook Tests', () => {\n       await newMinorButton.click();\n       await newMinorButton.click();\n \n-      const actual = getActual();\n+      const actual = await getActual();\n \n       const labelAfter2Minor = 'Version 1.25';\n       const logAfter2Minor = 'minor changed from 24 to 25';\n \n       expect(actual.label).toBe(labelAfter2Minor);\n       expect(actual.count).toBe(3);\n-      expect(actual.logs.get(2).getText()).toBe(logAfter2Minor);\n+      expect(await actual.logs.get(2).getText()).toBe(logAfter2Minor);\n     });\n \n     it('should set expected values after clicking \\'Major\\' once', async () => {\n       const repoTag = element(by.tagName('app-version-parent'));\n       const newMajorButton = repoTag.all(by.tagName('button')).get(1);\n \n       await newMajorButton.click();\n-      const actual = getActual();\n+      const actual = await getActual();\n \n       const labelAfterMajor = 'Version 2.0';\n       const logAfterMajor = 'major changed from 1 to 2, minor changed from 23 to 0';\n \n       expect(actual.label).toBe(labelAfterMajor);\n       expect(actual.count).toBe(2);\n-      expect(actual.logs.get(1).getText()).toBe(logAfterMajor);\n+      expect(await actual.logs.get(1).getText()).toBe(logAfterMajor);\n     });\n \n-    function getActual() {\n+    async function getActual() {\n       const versionTag = element(by.tagName('app-version-child'));\n-      const label = versionTag.element(by.tagName('h3')).getText();\n+      const label = await versionTag.element(by.tagName('h3')).getText();\n       const ul = versionTag.element((by.tagName('ul')));\n       const logs = ul.all(by.tagName('li'));\n \n       return {\n         label,\n         logs,\n-        count: logs.count()\n+        count: await logs.count(),\n       };\n     }\n     // ...\n@@ -117,9 +117,9 @@ describe('Component Communication Cookbook Tests', () => {\n   describe('Child-to-parent communication', () => {\n     // #docregion child-to-parent\n     // ...\n-    it('should not emit the event initially', () => {\n+    it('should not emit the event initially', async () => {\n       const voteLabel = element(by.tagName('app-vote-taker')).element(by.tagName('h3'));\n-      expect(voteLabel.getText()).toBe('Agree: 0, Disagree: 0');\n+      expect(await voteLabel.getText()).toBe('Agree: 0, Disagree: 0');\n     });\n \n     it('should process Agree vote', async () => {\n@@ -129,7 +129,7 @@ describe('Component Communication Cookbook Tests', () => {\n \n       await agreeButton1.click();\n \n-      expect(voteLabel.getText()).toBe('Agree: 1, Disagree: 0');\n+      expect(await voteLabel.getText()).toBe('Agree: 1, Disagree: 0');\n     });\n \n     it('should process Disagree vote', async () => {\n@@ -139,7 +139,7 @@ describe('Component Communication Cookbook Tests', () => {\n \n       await agreeButton1.click();\n \n-      expect(voteLabel.getText()).toBe('Agree: 0, Disagree: 1');\n+      expect(await voteLabel.getText()).toBe('Agree: 0, Disagree: 1');\n     });\n     // ...\n     // #enddocregion child-to-parent\n@@ -204,8 +204,8 @@ describe('Component Communication Cookbook Tests', () => {\n \n       await announceButton.click();\n \n-      expect(history.count()).toBe(1);\n-      expect(history.get(0).getText()).toMatch(/Mission.* announced/);\n+      expect(await history.count()).toBe(1);\n+      expect(await history.get(0).getText()).toMatch(/Mission.* announced/);\n     });\n \n     it('should confirm the mission by Lovell', async () => {\n@@ -229,8 +229,8 @@ describe('Component Communication Cookbook Tests', () => {\n       await announceButton.click();\n       await confirmButton.click();\n \n-      expect(history.count()).toBe(2);\n-      expect(history.get(1).getText()).toBe(`${astronaut} confirmed the mission`);\n+      expect(await history.count()).toBe(2);\n+      expect(await history.get(1).getText()).toBe(`${astronaut} confirmed the mission`);\n     }\n     // ...\n     // #enddocregion bidirectional-service"
        },
        {
            "sha": "4ddd1bcef10891dc2aabcc0370bb32f30b1b63d1",
            "filename": "aio/content/examples/component-overview/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fcomponent-overview%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fcomponent-overview%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fcomponent-overview%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,12 +2,10 @@ import { browser, element, by } from 'protractor';\n \n describe('Component Overview', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should display component overview works ', () => {\n-    expect(element(by.css('p')).getText()).toEqual('component-overview works!');\n+  it('should display component overview works ', async () => {\n+    expect(await element(by.css('p')).getText()).toEqual('component-overview works!');\n   });\n \n });"
        },
        {
            "sha": "34f854693c0b3d989b5e92b7be9dbc4f4e57dc35",
            "filename": "aio/content/examples/component-styles/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 22,
            "deletions": 24,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,67 +2,65 @@ import { browser, element, by } from 'protractor';\n \n describe('Component Style Tests', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('scopes component styles to component view', () => {\n+  it('scopes component styles to component view', async () => {\n     const componentH1 = element(by.css('app-root > h1'));\n     const externalH1 = element(by.css('body > h1'));\n \n     // Note: sometimes webdriver returns the fontWeight as \"normal\",\n     // other times as \"400\", both of which are equal in CSS terms.\n-    expect(componentH1.getCssValue('fontWeight')).toMatch(/normal|400/);\n-    expect(externalH1.getCssValue('fontWeight')).not.toMatch(/normal|400/);\n+    expect(await componentH1.getCssValue('fontWeight')).toMatch(/normal|400/);\n+    expect(await externalH1.getCssValue('fontWeight')).not.toMatch(/normal|400/);\n   });\n \n \n-  it('allows styling :host element', () => {\n+  it('allows styling :host element', async () => {\n     const host = element(by.css('app-hero-details'));\n \n-    expect(host.getCssValue('borderWidth')).toEqual('1px');\n+    expect(await host.getCssValue('borderWidth')).toEqual('1px');\n   });\n \n-  it('supports :host() in function form', () => {\n+  it('supports :host() in function form', async () => {\n     const host = element(by.css('app-hero-details'));\n \n-    host.element(by.buttonText('Activate')).click();\n-    expect(host.getCssValue('borderWidth')).toEqual('3px');\n+    await host.element(by.buttonText('Activate')).click();\n+    expect(await host.getCssValue('borderWidth')).toEqual('3px');\n   });\n \n-  it('allows conditional :host-context() styling', () => {\n+  it('allows conditional :host-context() styling', async () => {\n     const h2 = element(by.css('app-hero-details h2'));\n \n-    expect(h2.getCssValue('backgroundColor')).toEqual('rgba(238, 238, 255, 1)'); // #eeeeff\n+    expect(await h2.getCssValue('backgroundColor')).toEqual('rgba(238, 238, 255, 1)'); // #eeeeff\n   });\n \n-  it('styles both view and content children with /deep/', () => {\n+  it('styles both view and content children with /deep/', async () => {\n     const viewH3 = element(by.css('app-hero-team h3'));\n     const contentH3 = element(by.css('app-hero-controls h3'));\n \n-    expect(viewH3.getCssValue('fontStyle')).toEqual('italic');\n-    expect(contentH3.getCssValue('fontStyle')).toEqual('italic');\n+    expect(await viewH3.getCssValue('fontStyle')).toEqual('italic');\n+    expect(await contentH3.getCssValue('fontStyle')).toEqual('italic');\n   });\n \n-  it('includes styles loaded with CSS @import', () => {\n+  it('includes styles loaded with CSS @import', async () => {\n     const host = element(by.css('app-hero-details'));\n \n-    expect(host.getCssValue('padding')).toEqual('10px');\n+    expect(await host.getCssValue('padding')).toEqual('10px');\n   });\n \n-  it('processes template inline styles', () => {\n+  it('processes template inline styles', async () => {\n     const button = element(by.css('app-hero-controls button'));\n     const externalButton = element(by.css('body > button'));\n-    expect(button.getCssValue('backgroundColor')).toEqual('rgba(255, 255, 255, 1)'); // #ffffff\n-    expect(externalButton.getCssValue('backgroundColor')).not.toEqual('rgba(255, 255, 255, 1)');\n+    expect(await button.getCssValue('backgroundColor')).toEqual('rgba(255, 255, 255, 1)'); // #ffffff\n+    expect(await externalButton.getCssValue('backgroundColor')).not.toEqual('rgba(255, 255, 255, 1)');\n   });\n \n-  it('processes template <link>s', () => {\n+  it('processes template <link>s', async () => {\n     const li = element(by.css('app-hero-team li:first-child'));\n     const externalLi = element(by.css('body > ul li'));\n \n-    expect(li.getCssValue('listStyleType')).toEqual('square');\n-    expect(externalLi.getCssValue('listStyleType')).not.toEqual('square');\n+    expect(await li.getCssValue('listStyleType')).toEqual('square');\n+    expect(await externalLi.getCssValue('listStyleType')).not.toEqual('square');\n   });\n \n });"
        },
        {
            "sha": "f13d6ad0423ac6050a9b807644bd41710844e05a",
            "filename": "aio/content/examples/dependency-injection-in-action/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 19,
            "changes": 36,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdependency-injection-in-action%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdependency-injection-in-action%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fdependency-injection-in-action%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,9 +2,7 @@ import { browser, element, by } from 'protractor';\n \n describe('Dependency Injection Cookbook', () => {\n \n-    beforeAll(() => {\n-        browser.get('');\n-    });\n+    beforeAll(() => browser.get(''));\n \n     it('should render Logged in User example', async () => {\n       const loggedInUser = element(by.cssContainingText('h3', 'Logged in user'));\n@@ -49,27 +47,27 @@ describe('Dependency Injection Cookbook', () => {\n       expect(await magmaPhone.isPresent()).toBe(true);\n     });\n \n-    it('should render Hero-of-the-Month runner-ups', () => {\n-      const runnersUp =  element(by.id('rups1')).getText();\n+    it('should render Hero-of-the-Month runner-ups', async () => {\n+      const runnersUp = await element(by.id('rups1')).getText();\n       expect(runnersUp).toContain('RubberMan, Dr Nice');\n     });\n \n-    it('should render DateLogger log entry in Hero-of-the-Month', () => {\n-      const logs =  element.all(by.id('logs')).get(0).getText();\n+    it('should render DateLogger log entry in Hero-of-the-Month', async () => {\n+      const logs = await element.all(by.id('logs')).get(0).getText();\n       expect(logs).toContain('INFO: starting up at');\n     });\n \n-    it('should highlight Hero Bios and Contacts container when mouseover', () => {\n+    it('should highlight Hero Bios and Contacts container when mouseover', async () => {\n       const target = element(by.css('div[appHighlight=\"yellow\"]'));\n       const yellow = 'rgba(255, 255, 0, 1)';\n \n-      expect(target.getCssValue('background-color')).not.toEqual(yellow);\n+      expect(await target.getCssValue('background-color')).not.toEqual(yellow);\n \n-      browser.actions().mouseMove(target).perform();\n+      await browser.actions().mouseMove(target).perform();\n \n       // Wait for up to 2s for the background color to be updated,\n       // to account for slow environments (e.g. CI).\n-      browser.wait(() => target.getCssValue('background-color').then(c => c === yellow), 2000);\n+      await browser.wait(async () => await target.getCssValue('background-color') === yellow, 2000);\n     });\n \n     describe('in Parent Finder', () => {\n@@ -78,20 +76,20 @@ describe('Dependency Injection Cookbook', () => {\n       const carol1 = element(by.css('alex carol p'));\n       const carol2 = element(by.css('barry carol p'));\n \n-      it('\"Cathy\" should find \"Alex\" via the component class', () => {\n-        expect(cathy1.getText()).toContain('Found Alex via the component');\n+      it('\"Cathy\" should find \"Alex\" via the component class', async () => {\n+        expect(await cathy1.getText()).toContain('Found Alex via the component');\n       });\n \n-      it('\"Craig\" should not find \"Alex\" via the base class', () => {\n-        expect(craig1.getText()).toContain('Did not find Alex via the base');\n+      it('\"Craig\" should not find \"Alex\" via the base class', async () => {\n+        expect(await craig1.getText()).toContain('Did not find Alex via the base');\n       });\n \n-      it('\"Carol\" within \"Alex\" should have \"Alex\" parent', () => {\n-        expect(carol1.getText()).toContain('Alex');\n+      it('\"Carol\" within \"Alex\" should have \"Alex\" parent', async () => {\n+        expect(await carol1.getText()).toContain('Alex');\n       });\n \n-      it('\"Carol\" within \"Barry\" should have \"Barry\" parent', () => {\n-        expect(carol2.getText()).toContain('Barry');\n+      it('\"Carol\" within \"Barry\" should have \"Barry\" parent', async () => {\n+        expect(await carol2.getText()).toContain('Barry');\n       });\n     });\n });"
        },
        {
            "sha": "622c4d9142ee4db5a92228c929bcb901d243f785",
            "filename": "aio/content/examples/dependency-injection/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 69,
            "deletions": 77,
            "changes": 146,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdependency-injection%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdependency-injection%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fdependency-injection%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -5,193 +5,185 @@ describe('Dependency Injection Tests', () => {\n   let expectedMsg: string;\n   let expectedMsgRx: RegExp;\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n   describe('Cars:', () => {\n \n-    it('DI car displays as expected', () => {\n+    it('DI car displays as expected', async () => {\n       expectedMsg = 'DI car with 4 cylinders and Flintstone tires.';\n-      expect(element(by.css('#di')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#di')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('No DI car displays as expected', () => {\n+    it('No DI car displays as expected', async () => {\n       expectedMsg = 'No DI car with 4 cylinders and Flintstone tires.';\n-      expect(element(by.css('#nodi')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#nodi')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Injector car displays as expected', () => {\n+    it('Injector car displays as expected', async () => {\n       expectedMsg = 'Injector car with 4 cylinders and Flintstone tires.';\n-      expect(element(by.css('#injector')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#injector')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Factory car displays as expected', () => {\n+    it('Factory car displays as expected', async () => {\n       expectedMsg = 'Factory car with 4 cylinders and Flintstone tires.';\n-      expect(element(by.css('#factory')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#factory')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Simple car displays as expected', () => {\n+    it('Simple car displays as expected', async () => {\n       expectedMsg = 'Simple car with 4 cylinders and Flintstone tires.';\n-      expect(element(by.css('#simple')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#simple')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Super car displays as expected', () => {\n+    it('Super car displays as expected', async () => {\n       expectedMsg = 'Super car with 12 cylinders and Flintstone tires.';\n-      expect(element(by.css('#super')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#super')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Test car displays as expected', () => {\n+    it('Test car displays as expected', async () => {\n       expectedMsg = 'Test car with 8 cylinders and YokoGoodStone tires.';\n-      expect(element(by.css('#test')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#test')).getText()).toEqual(expectedMsg);\n     });\n   });\n \n   describe('Other Injections:', () => {\n-    it('DI car displays as expected', () => {\n+    it('DI car displays as expected', async () => {\n       expectedMsg = 'DI car with 4 cylinders and Flintstone tires.';\n-      expect(element(by.css('#car')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#car')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Hero displays as expected', () => {\n+    it('Hero displays as expected', async () => {\n       expectedMsg = 'Dr Nice';\n-      expect(element(by.css('#hero')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#hero')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('Optional injection displays as expected', () => {\n+    it('Optional injection displays as expected', async () => {\n       expectedMsg = 'R.O.U.S.\\'s? I don\\'t think they exist!';\n-      expect(element(by.css('#rodent')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#rodent')).getText()).toEqual(expectedMsg);\n     });\n   });\n \n   describe('Tests:', () => {\n \n-    it('Tests display as expected', () => {\n+    it('Tests display as expected', async () => {\n       expectedMsgRx = /Tests passed/;\n-      expect(element(by.css('#tests')).getText()).toMatch(expectedMsgRx);\n+      expect(await element(by.css('#tests')).getText()).toMatch(expectedMsgRx);\n     });\n \n   });\n \n   describe('Provider variations:', () => {\n \n-    it('P1 (class) displays as expected', () => {\n+    it('P1 (class) displays as expected', async () => {\n       expectedMsg = 'Hello from logger provided with Logger class';\n-      expect(element(by.css('#p1')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p1')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P3 (provide) displays as expected', () => {\n+    it('P3 (provide) displays as expected', async () => {\n       expectedMsg = 'Hello from logger provided with useClass:Logger';\n-      expect(element(by.css('#p3')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p3')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P4 (useClass:BetterLogger) displays as expected', () => {\n+    it('P4 (useClass:BetterLogger) displays as expected', async () => {\n       expectedMsg = 'Hello from logger provided with useClass:BetterLogger';\n-      expect(element(by.css('#p4')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p4')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P5 (useClass:EvenBetterLogger - dependency)  displays as expected', () => {\n+    it('P5 (useClass:EvenBetterLogger - dependency)  displays as expected', async () => {\n       expectedMsg = 'Message to Bob: Hello from EvenBetterlogger';\n-      expect(element(by.css('#p5')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p5')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P6a (no alias) displays as expected', () => {\n+    it('P6a (no alias) displays as expected', async () => {\n       expectedMsg = 'Hello OldLogger (but we want NewLogger)';\n-      expect(element(by.css('#p6a')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p6a')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P6b (alias) displays as expected', () => {\n+    it('P6b (alias) displays as expected', async () => {\n       expectedMsg = 'Hello from NewLogger (via aliased OldLogger)';\n-      expect(element(by.css('#p6b')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p6b')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P7 (useValue) displays as expected', () => {\n+    it('P7 (useValue) displays as expected', async () => {\n       expectedMsg = 'Silent logger says \"Shhhhh!\". Provided via \"useValue\"';\n-      expect(element(by.css('#p7')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p7')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P8 (useFactory) displays as expected', () => {\n+    it('P8 (useFactory) displays as expected', async () => {\n       expectedMsg = 'Hero service injected successfully via heroServiceProvider';\n-      expect(element(by.css('#p8')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p8')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P9 (InjectionToken) displays as expected', () => {\n+    it('P9 (InjectionToken) displays as expected', async () => {\n       expectedMsg = 'APP_CONFIG Application title is Dependency Injection';\n-      expect(element(by.css('#p9')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p9')).getText()).toEqual(expectedMsg);\n     });\n \n-    it('P10 (optional dependency) displays as expected', () => {\n+    it('P10 (optional dependency) displays as expected', async () => {\n       expectedMsg = 'Optional logger was not available';\n-      expect(element(by.css('#p10')).getText()).toEqual(expectedMsg);\n+      expect(await element(by.css('#p10')).getText()).toEqual(expectedMsg);\n     });\n   });\n \n   describe('User/Heroes:', () => {\n-    it('User is Bob - unauthorized', () => {\n+    it('User is Bob - unauthorized', async () => {\n       expectedMsgRx = /Bob, is not authorized/;\n-      expect(element(by.css('#user')).getText()).toMatch(expectedMsgRx);\n+      expect(await element(by.css('#user')).getText()).toMatch(expectedMsgRx);\n     });\n \n-    it('should have button', () => {\n-      expect(element.all(by.cssContainingText('button', 'Next User'))\n+    it('should have button', async () => {\n+      expect(await element.all(by.cssContainingText('button', 'Next User'))\n         .get(0).isDisplayed()).toBe(true, '\\'Next User\\' button should be displayed');\n     });\n \n-    it('unauthorized user should have multiple unauthorized heroes', () => {\n+    it('unauthorized user should have multiple unauthorized heroes', async () => {\n       const heroes = element.all(by.css('#unauthorized app-hero-list div'));\n-      expect(heroes.count()).toBeGreaterThan(0);\n+      expect(await heroes.count()).toBeGreaterThan(0);\n     });\n \n-    it('unauthorized user should have no secret heroes', () => {\n+    it('unauthorized user should have no secret heroes', async () => {\n       const heroes = element.all(by.css('#unauthorized app-hero-list div'));\n-      expect(heroes.count()).toBeGreaterThan(0);\n-\n-      const filteredHeroes = heroes.filter((elem: ElementFinder, index: number) => {\n-        return elem.getText().then((text: string) => /secret/.test(text));\n-      });\n+      expect(await heroes.count()).toBeGreaterThan(0);\n \n-      expect(filteredHeroes.count()).toEqual(0);\n+      const filteredHeroes = heroes.filter(async elem => /secret/.test(await elem.getText()));\n+      expect(await filteredHeroes.count()).toEqual(0);\n     });\n \n-    it('unauthorized user should have no authorized heroes listed', () => {\n-      expect(element.all(by.css('#authorized app-hero-list div')).count()).toEqual(0);\n+    it('unauthorized user should have no authorized heroes listed', async () => {\n+      expect(await element.all(by.css('#authorized app-hero-list div')).count()).toEqual(0);\n     });\n \n     describe('after button click', () => {\n \n-      beforeAll((done: any) => {\n+      beforeAll(async () => {\n         const buttonEle = element.all(by.cssContainingText('button', 'Next User')).get(0);\n-        buttonEle.click().then(done, done);\n+        await buttonEle.click();\n       });\n \n-      it('User is Alice  - authorized', () => {\n+      it('User is Alice  - authorized', async () => {\n         expectedMsgRx = /Alice, is authorized/;\n-        expect(element(by.css('#user')).getText()).toMatch(expectedMsgRx);\n+        expect(await element(by.css('#user')).getText()).toMatch(expectedMsgRx);\n       });\n \n-      it('authorized user should have multiple authorized heroes ', () => {\n+      it('authorized user should have multiple authorized heroes ', async () => {\n         const heroes = element.all(by.css('#authorized app-hero-list div'));\n-        expect(heroes.count()).toBeGreaterThan(0);\n+        expect(await heroes.count()).toBeGreaterThan(0);\n       });\n \n-      it('authorized user should have multiple authorized heroes with tree-shakeable HeroesService', () => {\n+      it('authorized user should have multiple authorized heroes with tree-shakeable HeroesService', async () => {\n         const heroes = element.all(by.css('#tspAuthorized app-hero-list div'));\n-        expect(heroes.count()).toBeGreaterThan(0);\n+        expect(await heroes.count()).toBeGreaterThan(0);\n       });\n \n-      it('authorized user should have secret heroes', () => {\n+      it('authorized user should have secret heroes', async () => {\n         const heroes = element.all(by.css('#authorized app-hero-list div'));\n-        expect(heroes.count()).toBeGreaterThan(0);\n-\n-        const filteredHeroes = heroes.filter((elem: ElementFinder, index: number) => {\n-         return elem.getText().then((text: string) => /secret/.test(text));\n-        });\n+        expect(await heroes.count()).toBeGreaterThan(0);\n \n-        expect(filteredHeroes.count()).toBeGreaterThan(0);\n+        const filteredHeroes = heroes.filter(async elem => /secret/.test(await elem.getText()));\n+        expect(await filteredHeroes.count()).toBeGreaterThan(0);\n       });\n \n-      it('authorized user should have no unauthorized heroes listed', () => {\n-        expect(element.all(by.css('#unauthorized app-hero-list div')).count()).toEqual(0);\n+      it('authorized user should have no unauthorized heroes listed', async () => {\n+        expect(await element.all(by.css('#unauthorized app-hero-list div')).count()).toEqual(0);\n       });\n     });\n   });"
        },
        {
            "sha": "6ede202dae8c7dace4f61a0c2fc9a8dab37190bd",
            "filename": "aio/content/examples/displaying-data/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 11,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdisplaying-data%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdisplaying-data%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fdisplaying-data%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -4,24 +4,22 @@ describe('Displaying Data Tests', () => {\n   const title = 'Tour of Heroes';\n   const defaultHero = 'Windstorm';\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should display correct title: ' + title, () => {\n-    expect(element(by.css('h1')).getText()).toEqual(title);\n+  it(`should display correct title: ${title}`, async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual(title);\n   });\n \n-  it('should have correct default hero:  ' + defaultHero, () => {\n-    expect(element(by.css('h2')).getText()).toContain(defaultHero);\n+  it(`should have correct default hero: ${defaultHero}`, async () => {\n+    expect(await element(by.css('h2')).getText()).toContain(defaultHero);\n   });\n \n-  it('should have heroes', () => {\n+  it('should have heroes', async () => {\n     const heroEls = element.all(by.css('li'));\n-    expect(heroEls.count()).not.toBe(0, 'should have heroes');\n+    expect(await heroEls.count()).not.toBe(0, 'should have heroes');\n   });\n \n-  it('should display \"there are many heroes!\"', () => {\n-    expect(element(by.css('ul ~ p')).getText()).toContain('There are many heroes!');\n+  it('should display \"there are many heroes!\"', async () => {\n+    expect(await element(by.css('ul ~ p')).getText()).toContain('There are many heroes!');\n   });\n });"
        },
        {
            "sha": "05f5e145a093581da2281475f55af89a6d7346c1",
            "filename": "aio/content/examples/docs-style-guide/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdocs-style-guide%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdocs-style-guide%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fdocs-style-guide%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,11 +3,9 @@ import { browser, element, by } from 'protractor';\n describe('Docs Style Guide', () => {\n   const title = 'Authors Style Guide Sample';\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should display correct title: ' + title, () => {\n-    expect(element(by.css('h1')).getText()).toEqual(title);\n+  it(`should display correct title: ${title}`, async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual(title);\n   });\n });"
        },
        {
            "sha": "4dc15e1b77bd30c36480181ae8f26c1d38564610",
            "filename": "aio/content/examples/dynamic-form/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 13,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdynamic-form%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fdynamic-form%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fdynamic-form%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,25 +3,20 @@ import { browser, element, by } from 'protractor';\n /* tslint:disable:quotemark */\n describe('Dynamic Form', () => {\n \n-    beforeAll(() => {\n-        browser.get('');\n-    });\n+    beforeAll(() => browser.get(''));\n \n-    it('should submit form', () => {\n+    it('should submit form', async () => {\n       const firstNameElement = element.all(by.css('input[id=firstName]')).get(0);\n-      expect(firstNameElement.getAttribute('value')).toEqual('Bombasto');\n+      expect(await firstNameElement.getAttribute('value')).toEqual('Bombasto');\n \n       const emailElement = element.all(by.css('input[id=emailAddress]')).get(0);\n       const email = 'test@test.com';\n-      emailElement.sendKeys(email);\n-      expect(emailElement.getAttribute('value')).toEqual(email);\n+      await emailElement.sendKeys(email);\n+      expect(await emailElement.getAttribute('value')).toEqual(email);\n \n-      element(by.css('select option[value=\"solid\"]')).click();\n-\n-      const saveButton = element.all(by.css('button')).get(0);\n-      saveButton.click().then(() => {\n-        expect(element(by.xpath(\"//strong[contains(text(),'Saved the following values')]\")).isPresent()).toBe(true);\n-      });\n+      await element(by.css('select option[value=\"solid\"]')).click();\n+      await element.all(by.css('button')).get(0).click();\n+      expect(await element(by.cssContainingText('strong', 'Saved the following values')).isPresent()).toBe(true);\n   });\n \n });"
        },
        {
            "sha": "99abc4309a1250c053983d36a36200dab7f390b4",
            "filename": "aio/content/examples/elements/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 35,
            "deletions": 35,
            "changes": 70,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Felements%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Felements%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Felements%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -6,14 +6,14 @@ describe('Elements', () => {\n   const popupButtons = element.all(by.css('button'));\n \n   // Helpers\n-  const click = (elem: ElementFinder) => {\n+  const click = async (elem: ElementFinder) => {\n     // Waiting for the element to be clickable, makes the tests less flaky.\n-    browser.wait(EC.elementToBeClickable(elem), 5000);\n-    elem.click();\n+    await browser.wait(EC.elementToBeClickable(elem), 5000);\n+    await elem.click();\n   };\n-  const waitForText = (elem: ElementFinder) => {\n+  const waitForText = async (elem: ElementFinder) => {\n     // Waiting for the element to have some text, makes the tests less flaky.\n-    browser.wait(async () => /\\S/.test(await elem.getText()), 5000);\n+    await browser.wait(async () => /\\S/.test(await elem.getText()), 5000);\n   };\n \n   beforeEach(() => browser.get(''));\n@@ -23,29 +23,29 @@ describe('Elements', () => {\n     const popupComponent = element(by.css('popup-component'));\n     const closeButton = popupComponent.element(by.css('button'));\n \n-    it('should be displayed on button click', () => {\n-      expect(popupComponent.isPresent()).toBe(false);\n+    it('should be displayed on button click', async () => {\n+      expect(await popupComponent.isPresent()).toBe(false);\n \n-      click(popupComponentButton);\n-      expect(popupComponent.isPresent()).toBe(true);\n+      await click(popupComponentButton);\n+      expect(await popupComponent.isPresent()).toBe(true);\n     });\n \n-    it('should display the specified message', () => {\n-      messageInput.clear();\n-      messageInput.sendKeys('Angular rocks!');\n+    it('should display the specified message', async () => {\n+      await messageInput.clear();\n+      await messageInput.sendKeys('Angular rocks!');\n \n-      click(popupComponentButton);\n-      waitForText(popupComponent);\n+      await click(popupComponentButton);\n+      await waitForText(popupComponent);\n \n-      expect(popupComponent.getText()).toContain('Popup: Angular rocks!');\n+      expect(await popupComponent.getText()).toContain('Popup: Angular rocks!');\n     });\n \n-    it('should be closed on \"close\" button click', () => {\n-      popupComponentButton.click();\n-      expect(popupComponent.isPresent()).toBe(true);\n+    it('should be closed on \"close\" button click', async () => {\n+      await click(popupComponentButton);\n+      expect(await popupComponent.isPresent()).toBe(true);\n \n-      click(closeButton);\n-      expect(popupComponent.isPresent()).toBe(false);\n+      await click(closeButton);\n+      expect(await popupComponent.isPresent()).toBe(false);\n     });\n   });\n \n@@ -54,29 +54,29 @@ describe('Elements', () => {\n     const popupElement = element(by.css('popup-element'));\n     const closeButton = popupElement.element(by.css('button'));\n \n-    it('should be displayed on button click', () => {\n-      expect(popupElement.isPresent()).toBe(false);\n+    it('should be displayed on button click', async () => {\n+      expect(await popupElement.isPresent()).toBe(false);\n \n-      click(popupElementButton);\n-      expect(popupElement.isPresent()).toBe(true);\n+      await click(popupElementButton);\n+      expect(await popupElement.isPresent()).toBe(true);\n     });\n \n-    it('should display the specified message', () => {\n-      messageInput.clear();\n-      messageInput.sendKeys('Angular rocks!');\n+    it('should display the specified message', async () => {\n+      await messageInput.clear();\n+      await messageInput.sendKeys('Angular rocks!');\n \n-      click(popupElementButton);\n-      waitForText(popupElement);\n+      await click(popupElementButton);\n+      await waitForText(popupElement);\n \n-      expect(popupElement.getText()).toContain('Popup: Angular rocks!');\n+      expect(await popupElement.getText()).toContain('Popup: Angular rocks!');\n     });\n \n-    it('should be closed on \"close\" button click', () => {\n-      popupElementButton.click();\n-      expect(popupElement.isPresent()).toBe(true);\n+    it('should be closed on \"close\" button click', async () => {\n+      await click(popupElementButton);\n+      expect(await popupElement.isPresent()).toBe(true);\n \n-      click(closeButton);\n-      expect(popupElement.isPresent()).toBe(false);\n+      await click(closeButton);\n+      expect(await popupElement.isPresent()).toBe(false);\n     });\n   });\n });"
        },
        {
            "sha": "a5a1dbf5588a15a583b0381b0f9bf6c85840b891",
            "filename": "aio/content/examples/event-binding/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 26,
            "deletions": 28,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,9 +2,7 @@ import { browser, element, by } from 'protractor';\n \n describe('Event binding example', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n   const saveButton = element.all(by.css('button')).get(0);\n   const onSaveButton = element.all(by.css('button')).get(1);\n@@ -14,55 +12,55 @@ describe('Event binding example', () => {\n   const saveProp = element.all(by.css('button')).get(5);\n \n \n-  it('should display Event Binding with Angular', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Event Binding');\n+  it('should display Event Binding with Angular', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Event Binding');\n   });\n \n-  it('should display 6 buttons', () => {\n-    expect(saveButton.getText()).toBe('Save');\n-    expect(onSaveButton.getText()).toBe('on-click Save');\n-    expect(myClick.getText()).toBe('click with myClick');\n-    expect(deleteButton.getText()).toBe('Delete');\n-    expect(saveNoProp.getText()).toBe('Save, no propagation');\n-    expect(saveProp.getText()).toBe('Save with propagation');\n+  it('should display 6 buttons', async () => {\n+    expect(await saveButton.getText()).toBe('Save');\n+    expect(await onSaveButton.getText()).toBe('on-click Save');\n+    expect(await myClick.getText()).toBe('click with myClick');\n+    expect(await deleteButton.getText()).toBe('Delete');\n+    expect(await saveNoProp.getText()).toBe('Save, no propagation');\n+    expect(await saveProp.getText()).toBe('Save with propagation');\n   });\n \n-  it('should support user input', () => {\n+  it('should support user input', async () => {\n     const input = element(by.css('input'));\n     const bindingResult = element.all(by.css('h4')).get(1);\n-    expect(bindingResult.getText()).toEqual('Result: teapot');\n-    input.sendKeys('abc');\n-    expect(bindingResult.getText()).toEqual('Result: teapotabc');\n+    expect(await bindingResult.getText()).toEqual('Result: teapot');\n+    await input.sendKeys('abc');\n+    expect(await bindingResult.getText()).toEqual('Result: teapotabc');\n   });\n \n   it('should hide the item img', async () => {\n     await deleteButton.click();\n-    browser.switchTo().alert().accept();\n-    expect(element.all(by.css('img')).get(0).getCssValue('display')).toEqual('none');\n+    await browser.switchTo().alert().accept();\n+    expect(await element.all(by.css('img')).get(0).getCssValue('display')).toEqual('none');\n   });\n \n   it('should show two alerts', async () => {\n     const parentDiv = element.all(by.css('.parent-div'));\n     const childDiv = element.all(by.css('div > div')).get(1);\n     await parentDiv.click();\n-    browser.switchTo().alert().accept();\n-    expect(childDiv.getText()).toEqual('Click me too! (child)');\n+    await browser.switchTo().alert().accept();\n+    expect(await childDiv.getText()).toEqual('Click me too! (child)');\n     await childDiv.click();\n-    expect(browser.switchTo().alert().getText()).toEqual('Click me. Event target class is child-div');\n-    browser.switchTo().alert().accept();\n+    expect(await browser.switchTo().alert().getText()).toEqual('Click me. Event target class is child-div');\n+    await browser.switchTo().alert().accept();\n   });\n \n   it('should show 1 alert from Save, no prop, button', async () => {\n     await saveNoProp.click();\n-    expect(browser.switchTo().alert().getText()).toEqual('Saved. Event target is Save, no propagation');\n-    browser.switchTo().alert().accept();\n+    expect(await browser.switchTo().alert().getText()).toEqual('Saved. Event target is Save, no propagation');\n+    await browser.switchTo().alert().accept();\n   });\n \n   it('should show 2 alerts from Save w/prop button', async () => {\n     await saveProp.click();\n-    expect(browser.switchTo().alert().getText()).toEqual('Saved.');\n-    browser.switchTo().alert().accept();\n-    expect(browser.switchTo().alert().getText()).toEqual('Saved.');\n-    browser.switchTo().alert().accept();\n+    expect(await browser.switchTo().alert().getText()).toEqual('Saved.');\n+    await browser.switchTo().alert().accept();\n+    expect(await browser.switchTo().alert().getText()).toEqual('Saved.');\n+    await browser.switchTo().alert().accept();\n   });\n });"
        },
        {
            "sha": "78e8b1ee46b6f0939bf7949da8db326dfa43cad2",
            "filename": "aio/content/examples/feature-modules/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ffeature-modules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ffeature-modules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ffeature-modules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -7,11 +7,8 @@ describe('feature-modules App', () => {\n     page = new AppPage();\n   });\n \n-  it('should display message saying app works', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('app works!');\n+  it('should display message saying app works', async () => {\n+    await page.navigateTo();\n+    expect(await page.getTitleText()).toEqual('app works!');\n   });\n });\n-\n-\n-"
        },
        {
            "sha": "f81c63b253c5ac1fe8c52acccab41a9a77468251",
            "filename": "aio/content/examples/form-validation/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 94,
            "deletions": 96,
            "changes": 190,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fform-validation%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fform-validation%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fform-validation%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,9 +3,7 @@ import { browser, element, by, protractor, ElementFinder, ElementArrayFinder } f\n // THESE TESTS ARE INCOMPLETE\n describe('Form Validation Tests', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n   describe('Template-driven form', () => {\n     beforeAll(() => {\n@@ -71,178 +69,178 @@ function getPage(sectionTag: string) {\n \n function tests(title: string) {\n \n-  it('should display correct title', () => {\n-    expect(page.title.getText()).toContain(title);\n+  it('should display correct title', async () => {\n+    expect(await page.title.getText()).toContain(title);\n   });\n \n-  it('should not display submitted message before submit', () => {\n-    expect(page.heroSubmitted.isElementPresent(by.css('p'))).toBe(false);\n+  it('should not display submitted message before submit', async () => {\n+    expect(await page.heroSubmitted.isElementPresent(by.css('p'))).toBe(false);\n   });\n \n-  it('should have form buttons', () => {\n-    expect(page.heroFormButtons.count()).toEqual(2);\n+  it('should have form buttons', async () => {\n+    expect(await page.heroFormButtons.count()).toEqual(2);\n   });\n \n-  it('should have error at start', () => {\n-    expectFormIsInvalid();\n+  it('should have error at start', async () => {\n+    await expectFormIsInvalid();\n   });\n \n   // it('showForm', () => {\n   //   page.form.getInnerHtml().then(html => console.log(html));\n   // });\n \n-  it('should have disabled submit button', () => {\n-    expect(page.heroFormButtons.get(0).isEnabled()).toBe(false);\n+  it('should have disabled submit button', async () => {\n+    expect(await page.heroFormButtons.get(0).isEnabled()).toBe(false);\n   });\n \n-  it('resetting name to valid name should clear errors', () => {\n+  it('resetting name to valid name should clear errors', async () => {\n     const ele = page.nameInput;\n-    expect(ele.isPresent()).toBe(true, 'nameInput should exist');\n-    ele.clear();\n-    ele.sendKeys(testName);\n-    expectFormIsValid();\n+    expect(await ele.isPresent()).toBe(true, 'nameInput should exist');\n+    await ele.clear();\n+    await ele.sendKeys(testName);\n+    await expectFormIsValid();\n   });\n \n-  it('should produce \"required\" error after clearing name', () => {\n-    page.nameInput.clear();\n-    // page.alterEgoInput.click(); // to blur ... didn't work\n-    page.nameInput.sendKeys('x', protractor.Key.BACK_SPACE); // ugh!\n-    expect(page.form.getAttribute('class')).toMatch('ng-invalid');\n-    expect(page.errorMessages.get(0).getText()).toContain('required');\n+  it('should produce \"required\" error after clearing name', async () => {\n+    await page.nameInput.clear();\n+    // await page.alterEgoInput.click(); // to blur ... didn't work\n+    await page.nameInput.sendKeys('x', protractor.Key.BACK_SPACE); // ugh!\n+    expect(await page.form.getAttribute('class')).toMatch('ng-invalid');\n+    expect(await page.errorMessages.get(0).getText()).toContain('required');\n   });\n \n-  it('should produce \"at least 4 characters\" error when name=\"x\"', () => {\n-    page.nameInput.clear();\n-    page.nameInput.sendKeys('x'); // too short\n-    expectFormIsInvalid();\n-    expect(page.errorMessages.get(0).getText()).toContain('at least 4 characters');\n+  it('should produce \"at least 4 characters\" error when name=\"x\"', async () => {\n+    await page.nameInput.clear();\n+    await page.nameInput.sendKeys('x'); // too short\n+    await expectFormIsInvalid();\n+    expect(await page.errorMessages.get(0).getText()).toContain('at least 4 characters');\n   });\n \n-  it('resetting name to valid name again should clear errors', () => {\n-    page.nameInput.sendKeys(testName);\n-    expectFormIsValid();\n+  it('resetting name to valid name again should clear errors', async () => {\n+    await page.nameInput.sendKeys(testName);\n+    await expectFormIsValid();\n   });\n \n-  it('should have enabled submit button', () => {\n+  it('should have enabled submit button', async () => {\n     const submitBtn = page.heroFormButtons.get(0);\n-    expect(submitBtn.isEnabled()).toBe(true);\n+    expect(await submitBtn.isEnabled()).toBe(true);\n   });\n \n-  it('should hide form after submit', () => {\n-    page.heroFormButtons.get(0).click();\n-    expect(page.heroFormButtons.get(0).isDisplayed()).toBe(false);\n+  it('should hide form after submit', async () => {\n+    await page.heroFormButtons.get(0).click();\n+    expect(await page.heroFormButtons.get(0).isDisplayed()).toBe(false);\n   });\n \n-  it('submitted form should be displayed', () => {\n-    expect(page.heroSubmitted.isElementPresent(by.css('p'))).toBe(true);\n+  it('submitted form should be displayed', async () => {\n+    expect(await page.heroSubmitted.isElementPresent(by.css('p'))).toBe(true);\n   });\n \n-  it('submitted form should have new hero name', () => {\n-    expect(page.heroSubmitted.getText()).toContain(testName);\n+  it('submitted form should have new hero name', async () => {\n+    expect(await page.heroSubmitted.getText()).toContain(testName);\n   });\n \n-  it('clicking edit button should reveal form again', () => {\n+  it('clicking edit button should reveal form again', async () => {\n     const newFormBtn = page.heroSubmitted.element(by.css('button'));\n-    newFormBtn.click();\n-    expect(page.heroSubmitted.isElementPresent(by.css('p')))\n+    await newFormBtn.click();\n+    expect(await page.heroSubmitted.isElementPresent(by.css('p')))\n       .toBe(false, 'submitted hidden again');\n-    expect(page.title.isDisplayed()).toBe(true, 'can see form title');\n+    expect(await page.title.isDisplayed()).toBe(true, 'can see form title');\n   });\n }\n \n-function expectFormIsValid() {\n-    expect(page.form.getAttribute('class')).toMatch('ng-valid');\n+async function expectFormIsValid() {\n+  expect(await page.form.getAttribute('class')).toMatch('ng-valid');\n }\n \n-function expectFormIsInvalid() {\n-    expect(page.form.getAttribute('class')).toMatch('ng-invalid');\n+async function expectFormIsInvalid() {\n+  expect(await page.form.getAttribute('class')).toMatch('ng-invalid');\n }\n \n-function triggerAlterEgoValidation() {\n+async function triggerAlterEgoValidation() {\n   // alterEgo has updateOn set to 'blur', click outside of the input to trigger the blur event\n-  element(by.css('app-root')).click();\n+  await element(by.css('app-root')).click();\n }\n \n-function waitForAlterEgoValidation() {\n+async function waitForAlterEgoValidation() {\n   // alterEgo async validation will be performed in 400ms\n-  browser.sleep(400);\n+  await browser.sleep(400);\n }\n \n function bobTests() {\n   const emsg = 'Name cannot be Bob.';\n \n-  it('should produce \"no bob\" error after setting name to \"Bobby\"', () => {\n+  it('should produce \"no bob\" error after setting name to \"Bobby\"', async () => {\n     // Re-populate select element\n-    page.powerSelect.click();\n-    page.powerOption.click();\n+    await page.powerSelect.click();\n+    await page.powerOption.click();\n \n-    page.nameInput.clear();\n-    page.nameInput.sendKeys('Bobby');\n-    expectFormIsInvalid();\n-    expect(page.errorMessages.get(0).getText()).toBe(emsg);\n+    await page.nameInput.clear();\n+    await page.nameInput.sendKeys('Bobby');\n+    await expectFormIsInvalid();\n+    expect(await page.errorMessages.get(0).getText()).toBe(emsg);\n   });\n \n-  it('should be ok again with valid name', () => {\n-    page.nameInput.clear();\n-    page.nameInput.sendKeys(testName);\n-    expectFormIsValid();\n+  it('should be ok again with valid name', async () => {\n+    await page.nameInput.clear();\n+    await page.nameInput.sendKeys(testName);\n+    await expectFormIsValid();\n   });\n }\n \n function asyncValidationTests() {\n   const emsg = 'Alter ego is already taken.';\n \n-  it(`should produce \"${emsg}\" error after setting alterEgo to Eric`, () => {\n-    page.alterEgoInput.clear();\n-    page.alterEgoInput.sendKeys('Eric');\n+  it(`should produce \"${emsg}\" error after setting alterEgo to Eric`, async () => {\n+    await page.alterEgoInput.clear();\n+    await page.alterEgoInput.sendKeys('Eric');\n \n-    triggerAlterEgoValidation();\n-    waitForAlterEgoValidation();\n+    await triggerAlterEgoValidation();\n+    await waitForAlterEgoValidation();\n \n-    expectFormIsInvalid();\n-    expect(page.alterEgoErrors.getText()).toBe(emsg);\n+    await expectFormIsInvalid();\n+    expect(await page.alterEgoErrors.getText()).toBe(emsg);\n   });\n \n-  it('should be ok again with different values', () => {\n-    page.alterEgoInput.clear();\n-    page.alterEgoInput.sendKeys('John');\n+  it('should be ok again with different values', async () => {\n+    await page.alterEgoInput.clear();\n+    await page.alterEgoInput.sendKeys('John');\n \n-    triggerAlterEgoValidation();\n-    waitForAlterEgoValidation();\n+    await triggerAlterEgoValidation();\n+    await waitForAlterEgoValidation();\n \n-    expectFormIsValid();\n-    expect(page.alterEgoErrors.isPresent()).toBe(false);\n+    await expectFormIsValid();\n+    expect(await page.alterEgoErrors.isPresent()).toBe(false);\n   });\n }\n \n function crossValidationTests() {\n   const emsg = 'Name cannot match alter ego.';\n \n-  it(`should produce \"${emsg}\" error after setting name and alter ego to the same value`, () => {\n-    page.nameInput.clear();\n-    page.nameInput.sendKeys('Batman');\n+  it(`should produce \"${emsg}\" error after setting name and alter ego to the same value`, async () => {\n+    await page.nameInput.clear();\n+    await page.nameInput.sendKeys('Batman');\n \n-    page.alterEgoInput.clear();\n-    page.alterEgoInput.sendKeys('Batman');\n+    await page.alterEgoInput.clear();\n+    await page.alterEgoInput.sendKeys('Batman');\n \n-    triggerAlterEgoValidation();\n-    waitForAlterEgoValidation();\n+    await triggerAlterEgoValidation();\n+    await waitForAlterEgoValidation();\n \n-    expectFormIsInvalid();\n-    expect(page.crossValidationErrorMessage.getText()).toBe(emsg);\n+    await expectFormIsInvalid();\n+    expect(await page.crossValidationErrorMessage.getText()).toBe(emsg);\n   });\n \n-  it('should be ok again with different values', () => {\n-    page.nameInput.clear();\n-    page.nameInput.sendKeys('Batman');\n+  it('should be ok again with different values', async () => {\n+    await page.nameInput.clear();\n+    await page.nameInput.sendKeys('Batman');\n \n-    page.alterEgoInput.clear();\n-    page.alterEgoInput.sendKeys('Superman');\n+    await page.alterEgoInput.clear();\n+    await page.alterEgoInput.sendKeys('Superman');\n \n-    triggerAlterEgoValidation();\n-    waitForAlterEgoValidation();\n+    await triggerAlterEgoValidation();\n+    await waitForAlterEgoValidation();\n \n-    expectFormIsValid();\n-    expect(page.crossValidationErrorMessage.isPresent()).toBe(false);\n+    await expectFormIsValid();\n+    expect(await page.crossValidationErrorMessage.isPresent()).toBe(false);\n   });\n }"
        },
        {
            "sha": "bfcfba08461c7d7a2e4bbdaabd15b8683745a0a9",
            "filename": "aio/content/examples/forms-overview/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fforms-overview%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fforms-overview%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fforms-overview%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,10 +1,14 @@\n-import { browser, element, by } from 'protractor';\n+import { AppPage } from './app.po';\n \n-describe('Forms Overview Tests', () => {\n+describe('forms-overvoew App', () => {\n+  let page: AppPage;\n \n   beforeEach(() => {\n-    browser.get('');\n+    page = new AppPage();\n   });\n \n+  it('should display a title', async () => {\n+    await page.navigateTo();\n+    expect(await page.getTitleText()).toEqual('Forms Overview');\n+  });\n });\n-"
        },
        {
            "sha": "3b43373382a9d122d225bf2cce31ea606934a60b",
            "filename": "aio/content/examples/forms/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 33,
            "deletions": 38,
            "changes": 71,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fforms%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fforms%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fforms%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,61 +2,56 @@ import { browser, element, by } from 'protractor';\n \n describe('Forms Tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display correct title', () => {\n-    expect(element.all(by.css('h1')).get(0).getText()).toEqual('Hero Form');\n+  it('should display correct title', async () => {\n+    expect(await element.all(by.css('h1')).get(0).getText()).toEqual('Hero Form');\n   });\n \n-\n-  it('should not display message before submit', () => {\n+  it('should not display message before submit', async () => {\n     const ele = element(by.css('h2'));\n-    expect(ele.isDisplayed()).toBe(false);\n+    expect(await ele.isDisplayed()).toBe(false);\n   });\n \n-  it('should hide form after submit', () => {\n+  it('should hide form after submit', async () => {\n     const ele = element.all(by.css('h1')).get(0);\n-    expect(ele.isDisplayed()).toBe(true);\n+    expect(await ele.isDisplayed()).toBe(true);\n+\n     const b = element.all(by.css('button[type=submit]')).get(0);\n-    b.click().then(() => {\n-      expect(ele.isDisplayed()).toBe(false);\n-    });\n+    await b.click();\n+    expect(await ele.isDisplayed()).toBe(false);\n   });\n \n-  it('should display message after submit', () => {\n+  it('should display message after submit', async () => {\n     const b = element.all(by.css('button[type=submit]')).get(0);\n-    b.click().then(() => {\n-      expect(element(by.css('h2')).getText()).toContain('You submitted the following');\n-    });\n+    await b.click();\n+    expect(await element(by.css('h2')).getText()).toContain('You submitted the following');\n   });\n \n-  it('should hide form after submit', () => {\n+  it('should hide form after submit', async () => {\n     const alterEgoEle = element.all(by.css('input[name=alterEgo]')).get(0);\n-    expect(alterEgoEle.isDisplayed()).toBe(true);\n+    expect(await alterEgoEle.isDisplayed()).toBe(true);\n+\n     const submitButtonEle = element.all(by.css('button[type=submit]')).get(0);\n-    submitButtonEle.click().then(() => {\n-      expect(alterEgoEle.isDisplayed()).toBe(false);\n-    });\n+    await submitButtonEle.click();\n+    expect(await alterEgoEle.isDisplayed()).toBe(false);\n   });\n \n-  it('should reflect submitted data after submit', () => {\n-    const test = 'testing 1 2 3';\n-    let newValue: string;\n+  it('should reflect submitted data after submit', async () => {\n     const alterEgoEle = element.all(by.css('input[name=alterEgo]')).get(0);\n-    alterEgoEle.getAttribute('value').then((value: string) => {\n-      alterEgoEle.sendKeys(test);\n-      newValue = value + test;\n-      expect(alterEgoEle.getAttribute('value')).toEqual(newValue);\n-      const b = element.all(by.css('button[type=submit]')).get(0);\n-      return b.click();\n-    }).then(() => {\n-      const alterEgoTextEle = element(by.cssContainingText('div', 'Alter Ego'));\n-      expect(alterEgoTextEle.isPresent()).toBe(true, 'cannot locate \"Alter Ego\" label');\n-      const divEle = element(by.cssContainingText('div', newValue));\n-      expect(divEle.isPresent()).toBe(true, 'cannot locate div with this text: ' + newValue);\n-    });\n+    const value = await alterEgoEle.getAttribute('value');\n+    const test = 'testing 1 2 3';\n+    const newValue = value + test;\n+\n+    await alterEgoEle.sendKeys(test);\n+    expect(await alterEgoEle.getAttribute('value')).toEqual(newValue);\n+\n+    const b = element.all(by.css('button[type=submit]')).get(0);\n+    await b.click();\n+\n+    const alterEgoTextEle = element(by.cssContainingText('div', 'Alter Ego'));\n+    expect(await alterEgoTextEle.isPresent()).toBe(true, 'cannot locate \"Alter Ego\" label');\n+    const divEle = element(by.cssContainingText('div', newValue));\n+    expect(await divEle.isPresent()).toBe(true, `cannot locate div with this text: ${newValue}`);\n   });\n });\n-"
        },
        {
            "sha": "0dfcc856c942fbe0f390a7b310e4177c4d3861c7",
            "filename": "aio/content/examples/getting-started/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fgetting-started%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fgetting-started%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fgetting-started%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,4 +1,4 @@\n-import { browser, element, by, ExpectedConditions as EC, logging, ElementFinder, ElementArrayFinder } from 'protractor';\n+import { browser, element, by, ExpectedConditions as EC, logging } from 'protractor';\n \n describe('Getting Started', () => {\n   const pageElements = {"
        },
        {
            "sha": "5c418770ea979b4f9765cca720651e9d98d76be0",
            "filename": "aio/content/examples/hierarchical-dependency-injection/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 36,
            "deletions": 51,
            "changes": 87,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fhierarchical-dependency-injection%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fhierarchical-dependency-injection%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fhierarchical-dependency-injection%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,9 +2,7 @@ import { browser, by, element } from 'protractor';\n \n describe('Hierarchical dependency injection', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n   describe('Heroes Scenario', () => {\n     const page = {\n@@ -21,81 +19,68 @@ describe('Hierarchical dependency injection', () => {\n       saveButtonEl: element(by.cssContainingText('app-heroes-list app-hero-tax-return button', 'Save'))\n     };\n \n-    it('should list multiple heroes', () => {\n-      expect(element.all(by.css('app-heroes-list li')).count()).toBeGreaterThan(1);\n+    it('should list multiple heroes', async () => {\n+      expect(await element.all(by.css('app-heroes-list li')).count()).toBeGreaterThan(1);\n     });\n \n-    it('should show no hero tax-returns at the start', () => {\n-      expect(element.all(by.css('app-heroes-list li app-hero-tax-return')).count()).toBe(0);\n+    it('should show no hero tax-returns at the start', async () => {\n+      expect(await element.all(by.css('app-heroes-list li app-hero-tax-return')).count()).toBe(0);\n     });\n \n-    it('should open first hero in app-hero-tax-return view after click', () => {\n-      page.heroEl.getText()\n-        .then(val => {\n-          page.heroName = val;\n-        })\n-        .then(() => page.heroEl.click())\n-        .then(() => {\n-          expect(page.heroCardEl.isDisplayed()).toBe(true);\n-        });\n+    it('should open first hero in app-hero-tax-return view after click', async () => {\n+      page.heroName = await page.heroEl.getText();\n+      await page.heroEl.click();\n+      expect(await page.heroCardEl.isDisplayed()).toBe(true);\n     });\n \n-    it('hero tax-return should have first hero\\'s name', () => {\n+    it('hero tax-return should have first hero\\'s name', async () => {\n       // Not `page.tax-returnNameInputEl.getAttribute('value')` although later that is essential\n-      expect(page.taxReturnNameEl.getText()).toEqual(page.heroName);\n+      expect(await page.taxReturnNameEl.getText()).toEqual(page.heroName);\n     });\n \n-    it('should be able to cancel change', () => {\n-      page.incomeInputEl.clear()\n-        .then(() => page.incomeInputEl.sendKeys('777'))\n-        .then(() => {\n-          expect(page.incomeInputEl.getAttribute('value')).toBe('777', 'income should be 777');\n-          return page.cancelButtonEl.click();\n-        })\n-        .then(() => {\n-          expect(page.incomeInputEl.getAttribute('value')).not.toBe('777', 'income should not be 777');\n-        });\n+    it('should be able to cancel change', async () => {\n+      await page.incomeInputEl.clear();\n+      await page.incomeInputEl.sendKeys('777');\n+      expect(await page.incomeInputEl.getAttribute('value')).toBe('777', 'income should be 777');\n+\n+      await page.cancelButtonEl.click();\n+      expect(await page.incomeInputEl.getAttribute('value')).not.toBe('777', 'income should not be 777');\n     });\n \n-    it('should be able to save change', () => {\n-      page.incomeInputEl.clear()\n-        .then(() => page.incomeInputEl.sendKeys('999'))\n-        .then(() => {\n-          expect(page.incomeInputEl.getAttribute('value')).toBe('999', 'income should be 999');\n-          return page.saveButtonEl.click();\n-        })\n-        .then(() => {\n-          expect(page.incomeInputEl.getAttribute('value')).toBe('999', 'income should still be 999');\n-        });\n+    it('should be able to save change', async () => {\n+      await page.incomeInputEl.clear();\n+      await page.incomeInputEl.sendKeys('999');\n+      expect(await page.incomeInputEl.getAttribute('value')).toBe('999', 'income should be 999');\n+\n+      await page.saveButtonEl.click();\n+      expect(await page.incomeInputEl.getAttribute('value')).toBe('999', 'income should still be 999');\n     });\n \n-    it('should be able to close tax-return', () => {\n-      page.saveButtonEl.click()\n-        .then(() => {\n-          expect(element.all(by.css('app-heroes-list li app-hero-tax-return')).count()).toBe(0);\n-        });\n+    it('should be able to close tax-return', async () => {\n+      await page.saveButtonEl.click();\n+      expect(await element.all(by.css('app-heroes-list li app-hero-tax-return')).count()).toBe(0);\n     });\n \n   });\n \n   describe('Villains Scenario', () => {\n-    it('should list multiple villains', () => {\n-      expect(element.all(by.css('app-villains-list li')).count()).toBeGreaterThan(1);\n+    it('should list multiple villains', async () => {\n+      expect(await element.all(by.css('app-villains-list li')).count()).toBeGreaterThan(1);\n     });\n   });\n \n   describe('Cars Scenario', () => {\n \n-    it('A-component should use expected services', () => {\n-      expect(element(by.css('a-car')).getText()).toContain('C1-E1-T1');\n+    it('A-component should use expected services', async () => {\n+      expect(await element(by.css('a-car')).getText()).toContain('C1-E1-T1');\n     });\n \n-    it('B-component should use expected services', () => {\n-      expect(element(by.css('b-car')).getText()).toContain('C2-E2-T1');\n+    it('B-component should use expected services', async () => {\n+      expect(await element(by.css('b-car')).getText()).toContain('C2-E2-T1');\n     });\n \n-    it('C-component should use expected services', () => {\n-      expect(element(by.css('c-car')).getText()).toContain('C3-E2-T1');\n+    it('C-component should use expected services', async () => {\n+      expect(await element(by.css('c-car')).getText()).toContain('C3-E2-T1');\n     });\n   });\n });"
        },
        {
            "sha": "41a4c2e3c7bec7db0e4fbd850aca711d81cf1baa",
            "filename": "aio/content/examples/http/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 64,
            "deletions": 66,
            "changes": 130,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fhttp%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fhttp%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fhttp%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,4 +1,4 @@\n-import { browser, element, by, ElementFinder } from 'protractor';\n+import { browser, element, by } from 'protractor';\n import { resolve } from 'path';\n \n const page = {\n@@ -24,115 +24,113 @@ const page = {\n   uploadMessage: element(by.css('app-uploader p'))\n };\n \n-const checkLogForMessage = (message: string) => {\n-  expect(page.logList.getText()).toContain(message);\n+const checkLogForMessage = async (message: string) => {\n+  expect(await page.logList.getText()).toContain(message);\n };\n \n describe('Http Tests', () => {\n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n   describe('Heroes', () => {\n-    it('retrieves the list of heroes at startup', () => {\n-      expect(page.heroesListItems.count()).toBe(4);\n-      expect(page.heroesListItems.get(0).getText()).toContain('Dr Nice');\n-      checkLogForMessage('GET \"api/heroes\"');\n+    it('retrieves the list of heroes at startup', async () => {\n+      expect(await page.heroesListItems.count()).toBe(4);\n+      expect(await page.heroesListItems.get(0).getText()).toContain('Dr Nice');\n+      await checkLogForMessage('GET \"api/heroes\"');\n     });\n \n-    it('makes a POST to add a new hero', () => {\n-      page.heroesListInput.sendKeys('Magneta');\n-      page.heroesListAddButton.click();\n-      expect(page.heroesListItems.count()).toBe(5);\n-      checkLogForMessage('POST \"api/heroes\"');\n+    it('makes a POST to add a new hero', async () => {\n+      await page.heroesListInput.sendKeys('Magneta');\n+      await page.heroesListAddButton.click();\n+      expect(await page.heroesListItems.count()).toBe(5);\n+      await checkLogForMessage('POST \"api/heroes\"');\n     });\n \n-    it('makes a GET to search for a hero', () => {\n-      page.heroesListInput.sendKeys('Celeritas');\n-      page.heroesListSearchButton.click();\n-      checkLogForMessage('GET \"api/heroes?name=Celeritas\"');\n+    it('makes a GET to search for a hero', async () => {\n+      await page.heroesListInput.sendKeys('Celeritas');\n+      await page.heroesListSearchButton.click();\n+      await checkLogForMessage('GET \"api/heroes?name=Celeritas\"');\n     });\n   });\n \n   describe('Messages', () => {\n-    it('can clear the logs', () => {\n-      expect(page.logListItems.count()).toBe(1);\n-      page.logClearButton.click();\n-      expect(page.logListItems.count()).toBe(0);\n+    it('can clear the logs', async () => {\n+      expect(await page.logListItems.count()).toBe(1);\n+      await page.logClearButton.click();\n+      expect(await page.logListItems.count()).toBe(0);\n     });\n   });\n \n   describe('Configuration', () => {\n-    it('can fetch the configuration JSON file', () => {\n-      page.configGetButton.click();\n-      checkLogForMessage('GET \"assets/config.json\"');\n-      expect(page.configSpan.getText()).toContain('Heroes API URL is \"api/heroes\"');\n-      expect(page.configSpan.getText()).toContain('Textfile URL is \"assets/textfile.txt\"');\n+    it('can fetch the configuration JSON file', async () => {\n+      await page.configGetButton.click();\n+      await checkLogForMessage('GET \"assets/config.json\"');\n+      expect(await page.configSpan.getText()).toContain('Heroes API URL is \"api/heroes\"');\n+      expect(await page.configSpan.getText()).toContain('Textfile URL is \"assets/textfile.txt\"');\n     });\n \n-    it('can fetch the configuration JSON file with headers', () => {\n-      page.configGetResponseButton.click();\n-      checkLogForMessage('GET \"assets/config.json\"');\n-      expect(page.configSpan.getText()).toContain('Response headers:');\n-      expect(page.configSpan.getText()).toContain('content-type: application/json; charset=UTF-8');\n+    it('can fetch the configuration JSON file with headers', async () => {\n+      await page.configGetResponseButton.click();\n+      await checkLogForMessage('GET \"assets/config.json\"');\n+      expect(await page.configSpan.getText()).toContain('Response headers:');\n+      expect(await page.configSpan.getText()).toContain('content-type: application/json; charset=UTF-8');\n     });\n \n-    it('can clear the configuration log', () => {\n-      page.configGetResponseButton.click();\n-      expect(page.configSpan.getText()).toContain('Response headers:');\n-      page.configClearButton.click();\n-      expect(page.configSpan.isPresent()).toBeFalsy();\n+    it('can clear the configuration log', async () => {\n+      await page.configGetResponseButton.click();\n+      expect(await page.configSpan.getText()).toContain('Response headers:');\n+      await page.configClearButton.click();\n+      expect(await page.configSpan.isPresent()).toBeFalsy();\n     });\n \n-    it('throws an error for a non valid url', () => {\n-      page.configErrorButton.click();\n-      checkLogForMessage('GET \"not/a/real/url\"');\n-      expect(page.configErrorMessage.getText()).toContain('\"Something bad happened; please try again later.\"');\n+    it('throws an error for a non valid url', async () => {\n+      await page.configErrorButton.click();\n+      await checkLogForMessage('GET \"not/a/real/url\"');\n+      expect(await page.configErrorMessage.getText()).toContain('\"Something bad happened; please try again later.\"');\n     });\n   });\n \n   describe('Download', () => {\n-    it('can download a txt file and show it', () => {\n-      page.downloadButton.click();\n-      checkLogForMessage('DownloaderService downloaded \"assets/textfile.txt\"');\n-      checkLogForMessage('GET \"assets/textfile.txt\"');\n-      expect(page.downloadMessage.getText()).toContain('Contents: \"This is the downloaded text file \"');\n+    it('can download a txt file and show it', async () => {\n+      await page.downloadButton.click();\n+      await checkLogForMessage('DownloaderService downloaded \"assets/textfile.txt\"');\n+      await checkLogForMessage('GET \"assets/textfile.txt\"');\n+      expect(await page.downloadMessage.getText()).toContain('Contents: \"This is the downloaded text file \"');\n     });\n \n-    it('can clear the log of the download', () => {\n-      page.downloadButton.click();\n-      expect(page.downloadMessage.getText()).toContain('Contents: \"This is the downloaded text file \"');\n-      page.downloadClearButton.click();\n-      expect(page.downloadMessage.isPresent()).toBeFalsy();\n+    it('can clear the log of the download', async () => {\n+      await page.downloadButton.click();\n+      expect(await page.downloadMessage.getText()).toContain('Contents: \"This is the downloaded text file \"');\n+      await page.downloadClearButton.click();\n+      expect(await page.downloadMessage.isPresent()).toBeFalsy();\n     });\n   });\n \n   describe('Upload', () => {\n-    it('can upload a file', () => {\n+    it('can upload a file', async () => {\n       const filename = 'app.po.ts';\n       const url = resolve(__dirname, filename);\n-      page.uploadInput.sendKeys(url);\n-      checkLogForMessage('POST \"/upload/file\" succeeded in');\n-      expect(page.uploadMessage.getText()).toContain(\n+      await page.uploadInput.sendKeys(url);\n+      await checkLogForMessage('POST \"/upload/file\" succeeded in');\n+      expect(await page.uploadMessage.getText()).toContain(\n         `File \"${filename}\" was completely uploaded!`);\n     });\n   });\n \n   describe('PackageSearch', () => {\n-    it('can search for npm package and find in cache', () => {\n+    it('can search for npm package and find in cache', async () => {\n       const packageName = 'angular';\n-      page.searchInput.sendKeys(packageName);\n-      checkLogForMessage(\n+      await page.searchInput.sendKeys(packageName);\n+      await checkLogForMessage(\n         'Caching response from \"https://npmsearch.com/query?q=angular\"');\n-      expect(page.searchListItems.count()).toBeGreaterThan(1, 'angular items');\n+      expect(await page.searchListItems.count()).toBeGreaterThan(1, 'angular items');\n \n-      page.searchInput.clear();\n-      page.searchInput.sendKeys(' ');\n-      expect(page.searchListItems.count()).toBe(0, 'search empty');\n+      await page.searchInput.clear();\n+      await page.searchInput.sendKeys(' ');\n+      expect(await page.searchListItems.count()).toBe(0, 'search empty');\n \n-      page.searchInput.clear();\n-      page.searchInput.sendKeys(packageName);\n-      checkLogForMessage(\n+      await page.searchInput.clear();\n+      await page.searchInput.sendKeys(packageName);\n+      await checkLogForMessage(\n         'Found cached response for \"https://npmsearch.com/query?q=angular\"');\n     });\n   });"
        },
        {
            "sha": "42c50f03a7beb1221fa57b6c6ec3f8bbc04e4e3d",
            "filename": "aio/content/examples/i18n/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 21,
            "deletions": 23,
            "changes": 44,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fi18n%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fi18n%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fi18n%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,44 +2,42 @@ import { browser, element, by } from 'protractor';\n \n describe('i18n E2E Tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display i18n translated welcome: Bonjour !', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Bonjour i18n !');\n+  it('should display i18n translated welcome: Bonjour !', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Bonjour i18n !');\n   });\n \n-  it('should display the node texts without elements', () => {\n-    expect(element(by.css('app-root')).getText()).toContain(`Je n'affiche aucun lment`);\n+  it('should display the node texts without elements', async () => {\n+    expect(await element(by.css('app-root')).getText()).toContain(`Je n'affiche aucun lment`);\n   });\n \n-  it('should display the translated title attribute', () => {\n-    const title = element(by.css('img')).getAttribute('title');\n+  it('should display the translated title attribute', async () => {\n+    const title = await element(by.css('img')).getAttribute('title');\n     expect(title).toBe(`Logo d'Angular`);\n   });\n \n-  it('should display the ICU plural expression', () => {\n-    expect(element.all(by.css('span')).get(0).getText()).toBe(`Mis  jour  l'instant`);\n+  it('should display the ICU plural expression', async () => {\n+    expect(await element.all(by.css('span')).get(0).getText()).toBe(`Mis  jour  l'instant`);\n   });\n \n-  it('should display the ICU select expression', () => {\n+  it('should display the ICU select expression', async () => {\n     const selectIcuExp = element.all(by.css('span')).get(1);\n-    expect(selectIcuExp.getText()).toBe(`L'auteur est une femme`);\n-    element.all(by.css('button')).get(2).click();\n-    expect(selectIcuExp.getText()).toBe(`L'auteur est un homme`);\n+    expect(await selectIcuExp.getText()).toBe(`L'auteur est une femme`);\n+    await element.all(by.css('button')).get(2).click();\n+    expect(await selectIcuExp.getText()).toBe(`L'auteur est un homme`);\n   });\n \n-  it('should display the nested expression', () => {\n+  it('should display the nested expression', async () => {\n     const nestedExp = element.all(by.css('span')).get(2);\n     const incBtn = element.all(by.css('button')).get(0);\n-    expect(nestedExp.getText()).toBe(`Mis  jour:  l'instant`);\n-    incBtn.click();\n-    expect(nestedExp.getText()).toBe(`Mis  jour: il y a une minute`);\n-    incBtn.click();\n-    incBtn.click();\n-    element.all(by.css('button')).get(4).click();\n-    expect(nestedExp.getText()).toBe(`Mis  jour: il y a 3 minutes par autre`);\n+    expect(await nestedExp.getText()).toBe(`Mis  jour:  l'instant`);\n+    await incBtn.click();\n+    expect(await nestedExp.getText()).toBe(`Mis  jour: il y a une minute`);\n+    await incBtn.click();\n+    await incBtn.click();\n+    await element.all(by.css('button')).get(4).click();\n+    expect(await nestedExp.getText()).toBe(`Mis  jour: il y a 3 minutes par autre`);\n   });\n \n });"
        },
        {
            "sha": "50816b32608a5b956b00f7669d587fe5af57aacc",
            "filename": "aio/content/examples/inputs-outputs/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 13,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Finputs-outputs%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Finputs-outputs%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Finputs-outputs%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,14 +1,11 @@\n-import { browser, element, by } from 'protractor';\n-import { logging } from 'selenium-webdriver';\n+import { browser, element, by, logging } from 'protractor';\n \n describe('Inputs and Outputs', () => {\n \n-\n   beforeEach(() => browser.get(''));\n \n-\n    // helper function used to test what's logged to the console\n-  async function logChecker(button, contents) {\n+  async function logChecker(contents) {\n     const logs = await browser\n       .manage()\n       .logs()\n@@ -17,9 +14,9 @@ describe('Inputs and Outputs', () => {\n     expect(messages.length).toBeGreaterThan(0);\n   }\n \n-  it('should have title Inputs and Outputs', () => {\n+  it('should have title Inputs and Outputs', async () => {\n     const title = element.all(by.css('h1')).get(0);\n-    expect(title.getText()).toEqual('Inputs and Outputs');\n+    expect(await title.getText()).toEqual('Inputs and Outputs');\n   });\n \n   it('should add 123 to the parent list', async () => {\n@@ -28,36 +25,35 @@ describe('Inputs and Outputs', () => {\n     const addedItem = element.all(by.css('li')).get(4);\n     await addToListInput.sendKeys('123');\n     await addToParentButton.click();\n-    expect(addedItem.getText()).toEqual('123');\n+    expect(await addedItem.getText()).toEqual('123');\n   });\n \n   it('should delete item', async () => {\n     const deleteButton = element.all(by.css('button')).get(1);\n     const contents = 'Child';\n     await deleteButton.click();\n-    await logChecker(deleteButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should log buy the item', async () => {\n     const buyButton = element.all(by.css('button')).get(2);\n     const contents = 'Child';\n     await buyButton.click();\n-    await logChecker(buyButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should save item for later', async () => {\n     const saveButton = element.all(by.css('button')).get(3);\n     const contents = 'Child';\n     await saveButton.click();\n-    await logChecker(saveButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should add item to wishlist', async () => {\n     const addToParentButton = element.all(by.css('button')).get(4);\n     const addedItem = element.all(by.css('li')).get(6);\n     await addToParentButton.click();\n-    expect(addedItem.getText()).toEqual('Television');\n+    expect(await addedItem.getText()).toEqual('Television');\n   });\n \n });\n-"
        },
        {
            "sha": "d12b2c47f35b3515ad44ce89dd682177c36dd73f",
            "filename": "aio/content/examples/interpolation/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 22,
            "changes": 42,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Finterpolation%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Finterpolation%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Finterpolation%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,46 +2,44 @@ import { browser, element, by } from 'protractor';\n \n describe('Interpolation e2e tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display Interpolation and Template Expressions', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Interpolation and Template Expressions');\n+  it('should display Interpolation and Template Expressions', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Interpolation and Template Expressions');\n   });\n \n-  it('should display Current customer: Maria', () => {\n-    expect(element.all(by.css('h3')).get(0).getText()).toBe(`Current customer: Maria`);\n+  it('should display Current customer: Maria', async () => {\n+    expect(await element.all(by.css('h3')).get(0).getText()).toBe(`Current customer: Maria`);\n   });\n \n-  it('should display The sum of 1 + 1 is not 4.', () => {\n-    expect(element.all(by.css('p:last-child')).get(0).getText()).toBe(`The sum of 1 + 1 is not 4.`);\n+  it('should display The sum of 1 + 1 is not 4.', async () => {\n+    expect(await element.all(by.css('p:last-child')).get(0).getText()).toBe(`The sum of 1 + 1 is not 4.`);\n   });\n \n-  it('should display Expression Context', () => {\n-    expect(element.all(by.css('h2')).get(1).getText()).toBe(`Expression Context`);\n+  it('should display Expression Context', async () => {\n+    expect(await element.all(by.css('h2')).get(1).getText()).toBe(`Expression Context`);\n   });\n \n-  it('should display a list of customers', () => {\n-    expect(element.all(by.css('li')).get(0).getText()).toBe(`Maria`);\n+  it('should display a list of customers', async () => {\n+    expect(await element.all(by.css('li')).get(0).getText()).toBe(`Maria`);\n   });\n \n-  it('should display two pictures', () => {\n+  it('should display two pictures', async () => {\n     const pottedPlant = element.all(by.css('img')).get(0);\n     const lamp = element.all(by.css('img')).get(1);\n \n-    expect(pottedPlant.getAttribute('src')).toContain('potted-plant');\n-    expect(pottedPlant.isDisplayed()).toBe(true);\n+    expect(await pottedPlant.getAttribute('src')).toContain('potted-plant');\n+    expect(await pottedPlant.isDisplayed()).toBe(true);\n \n-    expect(lamp.getAttribute('src')).toContain('lamp');\n-    expect(lamp.isDisplayed()).toBe(true);\n+    expect(await lamp.getAttribute('src')).toContain('lamp');\n+    expect(await lamp.isDisplayed()).toBe(true);\n   });\n \n-  it('should support user input', () => {\n+  it('should support user input', async () => {\n     const input = element(by.css('input'));\n     const label = element(by.css('label'));\n-    expect(label.getText()).toEqual('Type something:');\n-    input.sendKeys('abc');\n-    expect(label.getText()).toEqual('Type something: abc');\n+    expect(await label.getText()).toEqual('Type something:');\n+    await input.sendKeys('abc');\n+    expect(await label.getText()).toEqual('Type something: abc');\n   });\n });"
        },
        {
            "sha": "b7c0eef894faa3bff96c37b41b3b82c6eb0eed3a",
            "filename": "aio/content/examples/lazy-loading-ngmodules/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 20,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Flazy-loading-ngmodules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Flazy-loading-ngmodules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Flazy-loading-ngmodules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,47 +1,40 @@\n+import { element, by } from 'protractor';\n import { AppPage } from './app.po';\n-import { browser, element, by } from 'protractor';\n \n \n describe('providers App', () => {\n   let page: AppPage;\n   const buttons = element.all(by.css('button'));\n   const customersButton = buttons.get(0);\n   const ordersButton = buttons.get(1);\n-  const homeButton = buttons.get(2);\n \n-  beforeEach(() => {\n+  beforeEach(async () => {\n     page = new AppPage();\n+    await page.navigateTo();\n   });\n \n-  it('should display message saying app works', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('Lazy loading feature modules');\n+  it('should display message saying app works', async () => {\n+    expect(await page.getTitleText()).toEqual('Lazy loading feature modules');\n   });\n \n   describe('Customers', () => {\n-    beforeEach(() => {\n-      customersButton.click();\n-    });\n+    beforeEach(() => customersButton.click());\n \n-    it('should show customers when the button is clicked', () => {\n-        const customersMessage = element(by.css('app-customers > p'));\n-        expect(customersMessage.getText()).toBe('customers works!');\n+    it('should show customers when the button is clicked', async () => {\n+      const customersMessage = element(by.css('app-customers > p'));\n+      expect(await customersMessage.getText()).toBe('customers works!');\n     });\n \n   });\n \n   describe('Orders', () => {\n-    beforeEach(() => {\n-      ordersButton.click();\n-    });\n+    beforeEach(() => ordersButton.click());\n \n-    it('should show orders when the button is clicked', () => {\n-        const ordersMessage = element(by.css('app-orders > p'));\n-        expect(ordersMessage.getText()).toBe('orders works!');\n+    it('should show orders when the button is clicked', async () => {\n+      const ordersMessage = element(by.css('app-orders > p'));\n+      expect(await ordersMessage.getText()).toBe('orders works!');\n     });\n \n   });\n \n });\n-\n-"
        },
        {
            "sha": "45422afe34539ff8e1a0d8e526e06a13a6dffaaa",
            "filename": "aio/content/examples/lifecycle-hooks/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 54,
            "deletions": 53,
            "changes": 107,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Flifecycle-hooks%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Flifecycle-hooks%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Flifecycle-hooks%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,56 +1,57 @@\n import { browser, element, ElementFinder, by } from 'protractor';\n \n describe('Lifecycle hooks', () => {\n-  const sendKeys = (el: ElementFinder, input: string) =>\n-    input.split('').reduce((prev, c) => prev.then(() => el.sendKeys(c)), Promise.resolve());\n+  const sendKeys = async (el: ElementFinder, input: string) => {\n+    for (const c of input.split('')) {\n+      await el.sendKeys(c);\n+    }\n+  };\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should open correctly', () => {\n-    expect(element.all(by.css('h2')).get(0).getText()).toEqual('Peek-A-Boo');\n+  it('should open correctly', async () => {\n+    expect(await element.all(by.css('h2')).get(0).getText()).toEqual('Peek-A-Boo');\n   });\n \n   it('should support peek-a-boo', async () => {\n     const pabComp = element(by.css('peek-a-boo-parent peek-a-boo'));\n-    expect(pabComp.isPresent()).toBe(false, 'should not be able to find the \"peek-a-boo\" component');\n+    expect(await pabComp.isPresent()).toBe(false, 'should not be able to find the \"peek-a-boo\" component');\n \n     const pabButton = element.all(by.css('peek-a-boo-parent button')).get(0);\n     const updateHeroButton = element.all(by.css('peek-a-boo-parent button')).get(1);\n-    expect(pabButton.getText()).toContain('Create Peek');\n+    expect(await pabButton.getText()).toContain('Create Peek');\n \n     await pabButton.click();\n-    expect(pabButton.getText()).toContain('Destroy Peek');\n-    expect(pabComp.isDisplayed()).toBe(true, 'should be able to see the \"peek-a-boo\" component');\n-    expect(pabComp.getText()).toContain('Windstorm');\n-    expect(pabComp.getText()).not.toContain('Windstorm!');\n-    expect(updateHeroButton.isPresent()).toBe(true, 'should be able to see the update hero button');\n+    expect(await pabButton.getText()).toContain('Destroy Peek');\n+    expect(await pabComp.isDisplayed()).toBe(true, 'should be able to see the \"peek-a-boo\" component');\n+    expect(await pabComp.getText()).toContain('Windstorm');\n+    expect(await pabComp.getText()).not.toContain('Windstorm!');\n+    expect(await updateHeroButton.isPresent()).toBe(true, 'should be able to see the update hero button');\n \n     await updateHeroButton.click();\n-    expect(pabComp.getText()).toContain('Windstorm!');\n+    expect(await pabComp.getText()).toContain('Windstorm!');\n \n     await pabButton.click();\n-    expect(pabComp.isPresent()).toBe(false, 'should no longer be able to find the \"peek-a-boo\" component');\n+    expect(await pabComp.isPresent()).toBe(false, 'should no longer be able to find the \"peek-a-boo\" component');\n   });\n \n-  it('should support OnChanges hook', () => {\n+  it('should support OnChanges hook', async () => {\n     const onChangesViewEle = element.all(by.css('on-changes div')).get(0);\n     const inputEles = element.all(by.css('on-changes-parent input'));\n     const heroNameInputEle = inputEles.get(1);\n     const powerInputEle = inputEles.get(0);\n     const titleEle = onChangesViewEle.element(by.css('p'));\n     const changeLogEles = onChangesViewEle.all(by.css('div'));\n \n-    expect(titleEle.getText()).toContain('Windstorm can sing');\n-    expect(changeLogEles.count()).toEqual(2, 'should start with 2 messages');\n-    heroNameInputEle.sendKeys('-foo-');\n-    expect(titleEle.getText()).toContain('Windstorm-foo- can sing');\n-    expect(changeLogEles.count()).toEqual(2, 'should still have 2 messages');\n-    powerInputEle.sendKeys('-bar-');\n-    expect(titleEle.getText()).toContain('Windstorm-foo- can sing-bar-');\n+    expect(await titleEle.getText()).toContain('Windstorm can sing');\n+    expect(await changeLogEles.count()).toEqual(2, 'should start with 2 messages');\n+    await heroNameInputEle.sendKeys('-foo-');\n+    expect(await titleEle.getText()).toContain('Windstorm-foo- can sing');\n+    expect(await changeLogEles.count()).toEqual(2, 'should still have 2 messages');\n+    await powerInputEle.sendKeys('-bar-');\n+    expect(await titleEle.getText()).toContain('Windstorm-foo- can sing-bar-');\n     // 7 == 2 previously + length of '-bar-'\n-    expect(changeLogEles.count()).toEqual(7, 'should have 7 messages now');\n+    expect(await changeLogEles.count()).toEqual(7, 'should have 7 messages now');\n   });\n \n   it('should support DoCheck hook', async () => {\n@@ -62,7 +63,7 @@ describe('Lifecycle hooks', () => {\n     const changeLogEles = doCheckViewEle.all(by.css('div'));\n     let logCount: number;\n \n-    expect(titleEle.getText()).toContain('Windstorm can sing');\n+    expect(await titleEle.getText()).toContain('Windstorm can sing');\n \n     let count = await changeLogEles.count();\n     // 3 messages to start\n@@ -71,13 +72,13 @@ describe('Lifecycle hooks', () => {\n     logCount = count;\n     await sendKeys(heroNameInputEle, '-foo-');\n     count = await changeLogEles.count();\n-    expect(titleEle.getText()).toContain('Windstorm-foo- can sing');\n+    expect(await titleEle.getText()).toContain('Windstorm-foo- can sing');\n     expect(count).toBeGreaterThanOrEqual(logCount + 5, 'should add at least one more message for each keystroke');\n \n     logCount = count;\n     await sendKeys(powerInputEle, '-bar-');\n     count = await changeLogEles.count();\n-    expect(titleEle.getText()).toContain('Windstorm-foo- can sing-bar-');\n+    expect(await titleEle.getText()).toContain('Windstorm-foo- can sing-bar-');\n     expect(count).toBeGreaterThanOrEqual(logCount + 5, 'should add at least one more message for each keystroke');\n   });\n \n@@ -89,23 +90,23 @@ describe('Lifecycle hooks', () => {\n     const childViewInputEle = parentEle.element(by.css('app-child-view input'));\n     let logCount: number;\n \n-    expect(childViewInputEle.getAttribute('value')).toContain('Magneta');\n-    expect(commentEle.isPresent()).toBe(false, 'comment should not be in DOM');\n+    expect(await childViewInputEle.getAttribute('value')).toContain('Magneta');\n+    expect(await commentEle.isPresent()).toBe(false, 'comment should not be in DOM');\n \n     logCount = await logEles.count();\n     await childViewInputEle.sendKeys('-test-');\n \n-    expect(childViewInputEle.getAttribute('value')).toContain('-test-');\n-    expect(commentEle.isPresent()).toBe(true, 'should have comment because >10 chars');\n-    expect(commentEle.getText()).toContain('long name');\n+    expect(await childViewInputEle.getAttribute('value')).toContain('-test-');\n+    expect(await commentEle.isPresent()).toBe(true, 'should have comment because >10 chars');\n+    expect(await commentEle.getText()).toContain('long name');\n \n     const count = await logEles.count();\n     expect(logCount + 7).toBeGreaterThan(count - 3, '7 additional log messages should have been added');\n     expect(logCount + 7).toBeLessThan(count + 3, '7 additional log messages should have been added');\n \n     logCount = count;\n     await buttonEle.click();\n-    expect(logEles.count()).toBeLessThan(logCount, 'log should shrink after reset');\n+    expect(await logEles.count()).toBeLessThan(logCount, 'log should shrink after reset');\n   });\n \n   it('should support AfterContent hooks', async () => {\n@@ -116,19 +117,19 @@ describe('Lifecycle hooks', () => {\n     const childViewInputEle = parentEle.element(by.css('app-child input'));\n     let logCount = await logEles.count();\n \n-    expect(childViewInputEle.getAttribute('value')).toContain('Magneta');\n-    expect(commentEle.isPresent()).toBe(false, 'comment should not be in DOM');\n+    expect(await childViewInputEle.getAttribute('value')).toContain('Magneta');\n+    expect(await commentEle.isPresent()).toBe(false, 'comment should not be in DOM');\n \n     await sendKeys(childViewInputEle, '-test-');\n     const count = await logEles.count();\n-    expect(childViewInputEle.getAttribute('value')).toContain('-test-');\n-    expect(commentEle.isPresent()).toBe(true, 'should have comment because >10 chars');\n-    expect(commentEle.getText()).toContain('long name');\n+    expect(await childViewInputEle.getAttribute('value')).toContain('-test-');\n+    expect(await commentEle.isPresent()).toBe(true, 'should have comment because >10 chars');\n+    expect(await commentEle.getText()).toContain('long name');\n     expect(count).toBeGreaterThanOrEqual(logCount + 5, 'additional log messages should have been added');\n \n     logCount = count;\n     await buttonEle.click();\n-    expect(logEles.count()).toBeLessThan(logCount, 'log should shrink after reset');\n+    expect(await logEles.count()).toBeLessThan(logCount, 'log should shrink after reset');\n   });\n \n   it('should support spy\\'s OnInit & OnDestroy hooks', async () => {\n@@ -138,18 +139,18 @@ describe('Lifecycle hooks', () => {\n     const heroEles = element.all(by.css('spy-parent div[appSpy'));\n     const logEles = element.all(by.css('spy-parent h4 ~ div'));\n \n-    expect(heroEles.count()).toBe(2, 'should have two heroes displayed');\n-    expect(logEles.count()).toBe(2, 'should have two log entries');\n+    expect(await heroEles.count()).toBe(2, 'should have two heroes displayed');\n+    expect(await logEles.count()).toBe(2, 'should have two log entries');\n \n     await inputEle.sendKeys('-test-');\n     await addHeroButtonEle.click();\n-    expect(heroEles.count()).toBe(3, 'should have added one hero');\n-    expect(heroEles.get(2).getText()).toContain('-test-');\n-    expect(logEles.count()).toBe(3, 'should now have 3 log entries');\n+    expect(await heroEles.count()).toBe(3, 'should have added one hero');\n+    expect(await heroEles.get(2).getText()).toContain('-test-');\n+    expect(await logEles.count()).toBe(3, 'should now have 3 log entries');\n \n     await resetHeroesButtonEle.click();\n-    expect(heroEles.count()).toBe(0, 'should no longer have any heroes');\n-    expect(logEles.count()).toBe(7, 'should now have 7 log entries - 3 orig + 1 reset + 3 removeall');\n+    expect(await heroEles.count()).toBe(0, 'should no longer have any heroes');\n+    expect(await logEles.count()).toBe(7, 'should now have 7 log entries - 3 orig + 1 reset + 3 removeall');\n   });\n \n   it('should support \"spy counter\"', async () => {\n@@ -158,15 +159,15 @@ describe('Lifecycle hooks', () => {\n     const textEle = element(by.css('counter-parent app-counter > div'));\n     const logEles = element.all(by.css('counter-parent h4 ~ div'));\n \n-    expect(textEle.getText()).toContain('Counter = 0');\n-    expect(logEles.count()).toBe(2, 'should start with two log entries');\n+    expect(await textEle.getText()).toContain('Counter = 0');\n+    expect(await logEles.count()).toBe(2, 'should start with two log entries');\n \n     await updateCounterButtonEle.click();\n-    expect(textEle.getText()).toContain('Counter = 1');\n-    expect(logEles.count()).toBe(3, 'should now have 3 log entries');\n+    expect(await textEle.getText()).toContain('Counter = 1');\n+    expect(await logEles.count()).toBe(3, 'should now have 3 log entries');\n \n     await resetCounterButtonEle.click();\n-    expect(textEle.getText()).toContain('Counter = 0');\n-    expect(logEles.count()).toBe(7, 'should now have 7 log entries - 3 prev + 1 reset + 2 destroy + 1 init');\n+    expect(await textEle.getText()).toContain('Counter = 0');\n+    expect(await logEles.count()).toBe(7, 'should now have 7 log entries - 3 prev + 1 reset + 2 destroy + 1 init');\n   });\n });"
        },
        {
            "sha": "9e7613caf3a138615d7bdaee90cbc749f9faee8f",
            "filename": "aio/content/examples/ngmodules/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 54,
            "deletions": 61,
            "changes": 115,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fngmodules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fngmodules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fngmodules%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -56,116 +56,109 @@ describe('NgModule-example', () => {\n   // tests\n   function appTitleTests(color: string, name?: string) {\n     return () => {\n-      it('should have a gray header', () => {\n+      it('should have a gray header', async () => {\n         const commons = getCommonsSectionStruct();\n-        expect(commons.title.getCssValue('backgroundColor')).toBe(color);\n+        expect(await commons.title.getCssValue('backgroundColor')).toBe(color);\n       });\n \n-      it('should welcome us', () => {\n+      it('should welcome us', async () => {\n         const commons = getCommonsSectionStruct();\n-        expect(commons.subtitle.getText()).toBe('Welcome, ' + (name ||  'Miss Marple'));\n+        expect(await commons.subtitle.getText()).toBe(`Welcome, ${name || 'Miss Marple'}`);\n       });\n     };\n   }\n \n   function contactTests(color: string, name?: string) {\n     return () => {\n-      it('shows the contact\\'s owner', () => {\n+      it('shows the contact\\'s owner', async () => {\n         const contacts = getContactSectionStruct();\n-        expect(contacts.header.getText()).toBe((name ||  'Miss Marple') + '\\'s Contacts');\n+        expect(await contacts.header.getText()).toBe(`${name || 'Miss Marple'}'s Contacts`);\n       });\n \n-      it('can cycle between contacts', () => {\n+      it('can cycle between contacts', async () => {\n         const contacts = getContactSectionStruct();\n         const nextButton = contacts.nextContactButton;\n-        expect(contacts.contactNameHeader.getText()).toBe('Awesome Yasha');\n-        expect(contacts.contactNameHeader.getCssValue('backgroundColor')).toBe(color);\n-        nextButton.click().then(() => {\n-          expect(contacts.contactNameHeader.getText()).toBe('Awesome Iulia');\n-          return nextButton.click();\n-        }).then(() => {\n-          expect(contacts.contactNameHeader.getText()).toBe('Awesome Karina');\n-        });\n+        expect(await contacts.contactNameHeader.getText()).toBe('Awesome Yasha');\n+        expect(await contacts.contactNameHeader.getCssValue('backgroundColor')).toBe(color);\n+\n+        await nextButton.click();\n+        expect(await contacts.contactNameHeader.getText()).toBe('Awesome Iulia');\n+\n+        await nextButton.click();\n+        expect(await contacts.contactNameHeader.getText()).toBe('Awesome Karina');\n       });\n \n-      it('can create a new contact', () => {\n+      it('can create a new contact', async () => {\n         const contacts = getContactSectionStruct();\n         const newContactButton = contacts.newContactButton;\n         const nextButton = contacts.nextContactButton;\n         const input = contacts.input;\n         const saveButton = contacts.saveButton;\n \n-        newContactButton.click().then(() => {\n-          input.click();\n-          nextButton.click();\n-          expect(contacts.validationError.getText()).toBe('Name is required.');\n-          input.click();\n-          contacts.input.sendKeys('Watson');\n-          saveButton.click();\n-          expect(contacts.contactNameHeader.getText()).toBe('Awesome Watson');\n+        await newContactButton.click();\n+        await input.click();\n+        await nextButton.click();\n+        expect(await contacts.validationError.getText()).toBe('Name is required.');\n \n-        });\n+        await input.click();\n+        await contacts.input.sendKeys('Watson');\n+        await saveButton.click();\n+        expect(await contacts.contactNameHeader.getText()).toBe('Awesome Watson');\n       });\n     };\n   }\n \n   describe('index.html', () => {\n-    beforeEach(() => {\n-      browser.get('');\n-    });\n+    beforeEach(() => browser.get(''));\n \n     describe('app-title', appTitleTests(white, 'Miss Marple'));\n \n     describe('contact', contactTests(lightgray, 'Miss Marple'));\n \n     describe('item center', () => {\n-      beforeEach(() => {\n-        getCommonsSectionStruct().itemButton.click();\n-      });\n+      beforeEach(() => getCommonsSectionStruct().itemButton.click());\n \n-      it('shows a list of items', () => {\n+      it('shows a list of items', async () => {\n         const item = getItemSectionStruct();\n-        expect(item.title.getText()).toBe('Items List');\n-        expect(item.items.count()).toBe(4);\n-        expect(item.items.get(0).getText()).toBe('1 - Sticky notes');\n+        expect(await item.title.getText()).toBe('Items List');\n+        expect(await item.items.count()).toBe(4);\n+        expect(await item.items.get(0).getText()).toBe('1 - Sticky notes');\n       });\n \n-      it('can navigate to one item details', () => {\n+      it('can navigate to one item details', async () => {\n         const item = getItemSectionStruct();\n-        item.items.get(0).click().then(() => {\n-          expect(item.itemId.getText()).toBe('Item id: 1');\n-          return item.listLink.click();\n-        }).then(() => {\n-          // We are back to the list\n-          expect(item.items.count()).toBe(4);\n-        });\n+\n+        await item.items.get(0).click();\n+        expect(await item.itemId.getText()).toBe('Item id: 1');\n+\n+        await item.listLink.click();\n+        // We are back to the list\n+        expect(await item.items.count()).toBe(4);\n       });\n     });\n \n     describe('customers', () => {\n-      beforeEach(() => {\n-        getCommonsSectionStruct().customersButton.click();\n-      });\n+      beforeEach(() => getCommonsSectionStruct().customersButton.click());\n \n-      it('shows a list of customers', () => {\n+      it('shows a list of customers', async () => {\n         const customers = getCustomersSectionStruct();\n-        expect(customers.header.getText()).toBe('Customers of Miss Marple times 2');\n-        expect(customers.title.getText()).toBe('Customer List');\n-        expect(customers.items.count()).toBe(6);\n-        expect(customers.items.get(0).getText()).toBe('11 - Julian');\n+        expect(await customers.header.getText()).toBe('Customers of Miss Marple times 2');\n+        expect(await customers.title.getText()).toBe('Customer List');\n+        expect(await customers.items.count()).toBe(6);\n+        expect(await customers.items.get(0).getText()).toBe('11 - Julian');\n       });\n \n-      it('can navigate and edit one customer details', () => {\n+      it('can navigate and edit one customer details', async () => {\n         const customers = getCustomersSectionStruct();\n-        customers.items.get(0).click().then(() => {\n-          expect(customers.itemId.getText()).toBe('Id: 11');\n-          customers.itemInput.sendKeys(' try');\n-          return customers.listLink.click();\n-        }).then(() => {\n-          // We are back to the list\n-          expect(customers.items.count()).toBe(6);\n-          expect(customers.items.get(0).getText()).toBe('11 - Julian try');\n-        });\n+\n+        await customers.items.get(0).click();\n+        expect(await customers.itemId.getText()).toBe('Id: 11');\n+\n+        await customers.itemInput.sendKeys(' try');\n+        await customers.listLink.click();\n+        // We are back to the list\n+        expect(await customers.items.count()).toBe(6);\n+        expect(await customers.items.get(0).getText()).toBe('11 - Julian try');\n       });\n     });\n   });"
        },
        {
            "sha": "cabb8f0baae07ff10302b28a79b8f6cc5600835e",
            "filename": "aio/content/examples/pipes/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 58,
            "deletions": 64,
            "changes": 122,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fpipes%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fpipes%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fpipes%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,114 +1,108 @@\n import { browser, element, by } from 'protractor';\n-const { version: angularVersion } = require('@angular/core/package.json');\n \n describe('Pipes', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should open correctly', () => {\n-    expect(element.all(by.tagName('h1')).get(0).getText()).toEqual('Pipes');\n-    expect(element(by.css('app-hero-birthday p')).getText()).toEqual(`The hero's birthday is Apr 15, 1988`);\n+  it('should open correctly', async () => {\n+    expect(await element.all(by.tagName('h1')).get(0).getText()).toEqual('Pipes');\n+    expect(await element(by.css('app-hero-birthday p')).getText()).toEqual(`The hero's birthday is Apr 15, 1988`);\n   });\n \n-  it('should show 4 heroes', () => {\n-    expect(element.all(by.css('app-hero-list div')).count()).toEqual(4);\n+  it('should show 4 heroes', async () => {\n+    expect(await element.all(by.css('app-hero-list div')).count()).toEqual(4);\n   });\n \n-  it('should show a familiar hero in json', () => {\n-    expect(element(by.cssContainingText('app-hero-list p', 'Heroes as JSON')).getText()).toContain('Bombasto');\n+  it('should show a familiar hero in json', async () => {\n+    expect(await element(by.cssContainingText('app-hero-list p', 'Heroes as JSON')).getText()).toContain('Bombasto');\n   });\n \n-  it('should show alternate birthday formats', () => {\n-    expect(element(by.cssContainingText('app-root > p', `The hero's birthday is Apr 15, 1988`)).isDisplayed()).toBe(true);\n-    expect(element(by.cssContainingText('app-root > p', `The hero's birthday is 04/15/88`)).isDisplayed()).toBe(true);\n+  it('should show alternate birthday formats', async () => {\n+    expect(await element(by.cssContainingText('app-root > p', `The hero's birthday is Apr 15, 1988`)).isDisplayed())\n+        .toBe(true);\n+    expect(await element(by.cssContainingText('app-root > p', `The hero's birthday is 04/15/88`)).isDisplayed())\n+        .toBe(true);\n   });\n \n-  it('should be able to toggle birthday formats', () => {\n+  it('should be able to toggle birthday formats', async () => {\n     const birthDayEle = element(by.css('app-hero-birthday2 > p'));\n-    if (angularVersion.indexOf('4.') === 0) { // Breaking change between v4 and v5 (https://github.com/angular/angular/commit/079d884)\n-      expect(birthDayEle.getText()).toEqual(`The hero's birthday is 4/15/1988`);\n-    } else {\n-      expect(birthDayEle.getText()).toEqual(`The hero's birthday is 4/15/88`);\n-    }\n+    expect(await birthDayEle.getText()).toEqual(`The hero's birthday is 4/15/88`);\n+\n     const buttonEle = element(by.cssContainingText('app-hero-birthday2 > button', 'Toggle Format'));\n-    expect(buttonEle.isDisplayed()).toBe(true);\n-    buttonEle.click().then(() => {\n-      expect(birthDayEle.getText()).toEqual(`The hero's birthday is Friday, April 15, 1988`);\n-    });\n+    expect(await buttonEle.isDisplayed()).toBe(true);\n+\n+    await buttonEle.click();\n+    expect(await birthDayEle.getText()).toEqual(`The hero's birthday is Friday, April 15, 1988`);\n   });\n \n-  it('should be able to chain and compose pipes', () => {\n+  it('should be able to chain and compose pipes', async () => {\n     const chainedPipeEles = element.all(by.cssContainingText('app-root p', `The chained hero's`));\n-    expect(chainedPipeEles.count()).toBe(3, 'should have 3 chained pipe examples');\n-    expect(chainedPipeEles.get(0).getText()).toContain('APR 15, 1988');\n-    expect(chainedPipeEles.get(1).getText()).toContain('FRIDAY, APRIL 15, 1988');\n-    expect(chainedPipeEles.get(2).getText()).toContain('FRIDAY, APRIL 15, 1988');\n+    expect(await chainedPipeEles.count()).toBe(3, 'should have 3 chained pipe examples');\n+    expect(await chainedPipeEles.get(0).getText()).toContain('APR 15, 1988');\n+    expect(await chainedPipeEles.get(1).getText()).toContain('FRIDAY, APRIL 15, 1988');\n+    expect(await chainedPipeEles.get(2).getText()).toContain('FRIDAY, APRIL 15, 1988');\n   });\n \n-  it('should be able to use ExponentialStrengthPipe pipe', () => {\n+  it('should be able to use ExponentialStrengthPipe pipe', async () => {\n     const ele = element(by.css('app-power-booster p'));\n-    expect(ele.getText()).toContain('Super power boost: 1024');\n+    expect(await ele.getText()).toContain('Super power boost: 1024');\n   });\n \n-  it('should be able to use the exponential calculator', () => {\n+  it('should be able to use the exponential calculator', async () => {\n     const eles = element.all(by.css('app-power-boost-calculator input'));\n     const baseInputEle = eles.get(0);\n     const factorInputEle = eles.get(1);\n     const outputEle = element(by.css('app-power-boost-calculator p'));\n-    baseInputEle.clear().then(() => {\n-      baseInputEle.sendKeys('7');\n-      return factorInputEle.clear();\n-    }).then(() => {\n-      factorInputEle.sendKeys('3');\n-      expect(outputEle.getText()).toContain('343');\n-    });\n+\n+    await baseInputEle.clear();\n+    await baseInputEle.sendKeys('7');\n+    await factorInputEle.clear();\n+    await factorInputEle.sendKeys('3');\n+    expect(await outputEle.getText()).toContain('343');\n   });\n \n \n-  it('should support flying heroes (pure) ', () => {\n+  it('should support flying heroes (pure) ', async () => {\n     const nameEle = element(by.css('app-flying-heroes input[type=\"text\"]'));\n     const canFlyCheckEle = element(by.css('app-flying-heroes #can-fly'));\n     const mutateCheckEle = element(by.css('app-flying-heroes #mutate'));\n     const resetEle = element(by.css('app-flying-heroes button'));\n     const flyingHeroesEle = element.all(by.css('app-flying-heroes #flyers div'));\n \n-    expect(canFlyCheckEle.getAttribute('checked')).toEqual('true', 'should default to \"can fly\"');\n-    expect(mutateCheckEle.getAttribute('checked')).toEqual('true', 'should default to mutating array');\n-    expect(flyingHeroesEle.count()).toEqual(2, 'only two of the original heroes can fly');\n-\n-    nameEle.sendKeys('test1\\n');\n-    expect(flyingHeroesEle.count()).toEqual(2, 'no change while mutating array');\n-    mutateCheckEle.click().then(() => {\n-      nameEle.sendKeys('test2\\n');\n-      expect(flyingHeroesEle.count()).toEqual(4, 'not mutating; should see both adds');\n-      expect(flyingHeroesEle.get(2).getText()).toContain('test1');\n-      expect(flyingHeroesEle.get(3).getText()).toContain('test2');\n-      return resetEle.click();\n-    })\n-    .then(() => {\n-       expect(flyingHeroesEle.count()).toEqual(2, 'reset should restore original flying heroes');\n-    });\n+    expect(await canFlyCheckEle.getAttribute('checked')).toEqual('true', 'should default to \"can fly\"');\n+    expect(await mutateCheckEle.getAttribute('checked')).toEqual('true', 'should default to mutating array');\n+    expect(await flyingHeroesEle.count()).toEqual(2, 'only two of the original heroes can fly');\n+\n+    await nameEle.sendKeys('test1\\n');\n+    expect(await flyingHeroesEle.count()).toEqual(2, 'no change while mutating array');\n+\n+    await mutateCheckEle.click();\n+    await nameEle.sendKeys('test2\\n');\n+    expect(await flyingHeroesEle.count()).toEqual(4, 'not mutating; should see both adds');\n+    expect(await flyingHeroesEle.get(2).getText()).toContain('test1');\n+    expect(await flyingHeroesEle.get(3).getText()).toContain('test2');\n+\n+    await resetEle.click();\n+    expect(await flyingHeroesEle.count()).toEqual(2, 'reset should restore original flying heroes');\n   });\n \n \n-  it('should support flying heroes (impure) ', () => {\n+  it('should support flying heroes (impure) ', async () => {\n     const nameEle = element(by.css('app-flying-heroes-impure input[type=\"text\"]'));\n     const canFlyCheckEle = element(by.css('app-flying-heroes-impure #can-fly'));\n     const mutateCheckEle = element(by.css('app-flying-heroes-impure #mutate'));\n     const flyingHeroesEle = element.all(by.css('app-flying-heroes-impure #flyers div'));\n \n-    expect(canFlyCheckEle.getAttribute('checked')).toEqual('true', 'should default to \"can fly\"');\n-    expect(mutateCheckEle.getAttribute('checked')).toEqual('true', 'should default to mutating array');\n-    expect(flyingHeroesEle.count()).toEqual(2, 'only two of the original heroes can fly');\n+    expect(await canFlyCheckEle.getAttribute('checked')).toEqual('true', 'should default to \"can fly\"');\n+    expect(await mutateCheckEle.getAttribute('checked')).toEqual('true', 'should default to mutating array');\n+    expect(await flyingHeroesEle.count()).toEqual(2, 'only two of the original heroes can fly');\n \n-    nameEle.sendKeys('test1\\n');\n-    expect(flyingHeroesEle.count()).toEqual(3, 'new flying hero should show in mutating array');\n+    await nameEle.sendKeys('test1\\n');\n+    expect(await flyingHeroesEle.count()).toEqual(3, 'new flying hero should show in mutating array');\n   });\n \n-  it('should show an async hero message', () => {\n-    expect(element.all(by.tagName('app-hero-message')).get(0).getText()).toContain('hero');\n+  it('should show an async hero message', async () => {\n+    expect(await element.all(by.tagName('app-hero-message')).get(0).getText()).toContain('hero');\n   });\n \n });"
        },
        {
            "sha": "b134930d07475a2108f0f434716867a585f3d582",
            "filename": "aio/content/examples/property-binding/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 25,
            "deletions": 27,
            "changes": 52,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fproperty-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fproperty-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fproperty-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,52 +3,50 @@ import { browser, element, by } from 'protractor';\n \n describe('Property binding e2e tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display Property Binding with Angular', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Property Binding with Angular');\n+  it('should display Property Binding with Angular', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Property Binding with Angular');\n   });\n \n-  it('should display four phone pictures', () => {\n-    expect(element.all(by.css('img')).isPresent()).toBe(true);\n-    expect(element.all(by.css('img')).count()).toBe(4);\n-\n+  it('should display four phone pictures', async () => {\n+    expect(await element.all(by.css('img')).isPresent()).toBe(true);\n+    expect(await element.all(by.css('img')).count()).toBe(4);\n   });\n \n-  it('should display Disabled button', () => {\n-    expect(element.all(by.css('button')).get(0).getText()).toBe(`Disabled Button`);\n+  it('should display Disabled button', async () => {\n+    expect(await element.all(by.css('button')).get(0).getText()).toBe(`Disabled Button`);\n   });\n \n-  it('should display Binding to a property of a directive', () => {\n-    expect(element.all(by.css('h2')).get(4).getText()).toBe(`Binding to a property of a directive`);\n+  it('should display Binding to a property of a directive', async () => {\n+    expect(await element.all(by.css('h2')).get(4).getText()).toBe(`Binding to a property of a directive`);\n   });\n \n-  it('should display Your item is: lamp', () => {\n-    expect(element.all(by.css('p')).get(0).getText()).toContain(`blue`);\n+  it('should display blue', async () => {\n+    expect(await element.all(by.css('p')).get(0).getText()).toContain(`blue`);\n   });\n-  it('should display Your item is: lamp', () => {\n-    expect(element.all(by.css('p')).get(1).getText()).toContain(`Your item is: lamp`);\n+\n+  it('should display Your item is: lamp', async () => {\n+    expect(await element.all(by.css('p')).get(1).getText()).toContain(`Your item is: lamp`);\n   });\n \n-  it('should display Your item is: parentItem', () => {\n-    expect(element.all(by.css('p')).get(2).getText()).toBe(`Your item is: parentItem`);\n+  it('should display Your item is: parentItem', async () => {\n+    expect(await element.all(by.css('p')).get(2).getText()).toBe(`Your item is: parentItem`);\n   });\n \n-  it('should display a ul', () => {\n-    expect(element.all(by.css('ul')).get(0).getText()).toContain(`tv`);\n+  it('should display a ul', async () => {\n+    expect(await element.all(by.css('ul')).get(0).getText()).toContain(`tv`);\n   });\n \n-  it('should display a ul containing phone', () => {\n-    expect(element.all(by.css('ul')).get(1).getText()).toBe(`21 phone`);\n+  it('should display a ul containing phone', async () => {\n+    expect(await element.all(by.css('ul')).get(1).getText()).toBe(`21 phone`);\n   });\n \n-  it('should display one-time initialized string', () => {\n-    expect(element.all(by.css('p')).get(3).getText()).toContain(`one-time initialized`);\n+  it('should display one-time initialized string', async () => {\n+    expect(await element.all(by.css('p')).get(3).getText()).toContain(`one-time initialized`);\n   });\n \n-  it('should display Malicious content', () => {\n-    expect(element.all(by.css('h2')).get(8).getText()).toBe(`Malicious content`);\n+  it('should display Malicious content', async () => {\n+    expect(await element.all(by.css('h2')).get(8).getText()).toBe(`Malicious content`);\n   });\n });"
        },
        {
            "sha": "a351968b704d5ceadde86e75de4158e740458844",
            "filename": "aio/content/examples/providers-viewproviders/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 12,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fproviders-viewproviders%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fproviders-viewproviders%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fproviders-viewproviders%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,24 +1,19 @@\n import { browser, element, by } from 'protractor';\n-import { logging } from 'selenium-webdriver';\n \n describe('Providers and ViewProviders', () => {\n \n+  beforeEach(() => browser.get(''));\n \n-  beforeEach(() => {\n-    browser.get('');\n+  it('shows basic flower emoji', async () => {\n+    expect(await element.all(by.css('p')).get(0).getText()).toContain('');\n   });\n \n-  it('shows basic flower emoji', () => {\n-    expect(element.all(by.css('p')).get(0).getText()).toContain('');\n+  it('shows whale emoji', async () => {\n+    expect(await element.all(by.css('p')).get(1).getText()).toContain('');\n   });\n \n-  it('shows whale emoji', () => {\n-    expect(element.all(by.css('p')).get(1).getText()).toContain('');\n-  });\n-\n-  it('shows sunflower from FlowerService', () => {\n-    expect(element.all(by.css('p')).get(8).getText()).toContain('');\n+  it('shows sunflower from FlowerService', async () => {\n+    expect(await element.all(by.css('p')).get(8).getText()).toContain('');\n   });\n \n });\n-"
        },
        {
            "sha": "1281bd979593fd750a8b45b574076d1ecc0098f7",
            "filename": "aio/content/examples/providers/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 24,
            "changes": 34,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fproviders%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fproviders%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fproviders%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,37 +1,23 @@\n+import { element, by } from 'protractor';\n import { AppPage } from './app.po';\n-import { browser, element, by } from 'protractor';\n \n describe('providers App', () => {\n   let page: AppPage;\n \n-  beforeEach(() => {\n+  beforeEach(async () => {\n     page = new AppPage();\n+    await page.navigateTo();\n   });\n \n-  function getUsersStruct() {\n-    return {\n-      user: element.all(by.css('ng-component li')).get(0),\n-      userId: element.all(by.css('ng-component span')).get(0)\n-    };\n-  }\n-\n-  function getListSectionStruct() {\n-    return {\n-      items: element.all(by.css('app-root li'))\n-    };\n-  }\n-\n-  it('should display header that says Users list', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('Users list');\n+  it('should display header that says Users list', async () => {\n+    expect(await page.getTitleText()).toEqual('Users list');\n   });\n \n-\n-  it('shows a list of customers', () => {\n-    const list = getListSectionStruct();\n-    expect(list.items.count()).toBe(10);\n-    expect(list.items.get(0).getText()).toBe('1 Maria');\n-    expect(list.items.get(9).getText()).toBe('10 Seth');\n+  it('shows a list of customers', async () => {\n+    const items = element.all(by.css('app-root li'));\n+    expect(await items.count()).toBe(10);\n+    expect(await items.get(0).getText()).toBe('1 Maria');\n+    expect(await items.get(9).getText()).toBe('10 Seth');\n   });\n \n });"
        },
        {
            "sha": "53c3d756b7db52a433e43fdb4b5c23dbcf09c50f",
            "filename": "aio/content/examples/reactive-forms/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Freactive-forms%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Freactive-forms%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Freactive-forms%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -6,9 +6,7 @@ describe('Reactive forms', () => {\n   const nameEditorLink = element(by.cssContainingText('app-root > nav > a', 'Name Editor'));\n   const profileEditorLink = element(by.cssContainingText('app-root > nav > a', 'Profile Editor'));\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n   describe('Name Editor', () => {\n     const nameInput = nameEditor.element(by.css('input'));\n@@ -55,7 +53,6 @@ describe('Reactive forms', () => {\n \n   describe('Profile Editor', () => {\n     const firstNameInput = getInput('firstName');\n-    const lastNameInput = getInput('lastName');\n     const streetInput = getInput('street');\n     const addAliasButton = element(by.buttonText('Add Alias'));\n     const updateButton = profileEditor.element(by.buttonText('Update Profile'));\n@@ -117,7 +114,7 @@ describe('Reactive forms', () => {\n \n     it('should update the displayed form value when form inputs are updated', async () => {\n       const aliasText = 'Johnny';\n-      const inputs = await Promise.all(\n+      await Promise.all(\n         Object.keys(profile)\n           .map(key =>\n             getInput(key).sendKeys(`${profile[key]}`)"
        },
        {
            "sha": "1f1b85d2891651773295b670ee356e2a0468850e",
            "filename": "aio/content/examples/resolution-modifiers/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 9,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fresolution-modifiers%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fresolution-modifiers%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fresolution-modifiers%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,20 +2,18 @@ import { browser, element, by } from 'protractor';\n \n describe('Resolution-modifiers-example', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('shows basic flower emoji', () => {\n-    expect(element.all(by.css('p')).get(0).getText()).toContain('');\n+  it('shows basic flower emoji', async () => {\n+    expect(await element.all(by.css('p')).get(0).getText()).toContain('');\n   });\n \n-  it('shows basic leaf emoji', () => {\n-    expect(element.all(by.css('p')).get(1).getText()).toContain('');\n+  it('shows basic leaf emoji', async () => {\n+    expect(await element.all(by.css('p')).get(1).getText()).toContain('');\n   });\n \n-  it('shows yellow flower in host child', () => {\n-    expect(element.all(by.css('p')).get(9).getText()).toContain('');\n+  it('shows yellow flower in host child', async () => {\n+    expect(await element.all(by.css('p')).get(9).getText()).toContain('');\n   });\n \n });"
        },
        {
            "sha": "c73d879e8ec6d930776df931c59804584aa68703",
            "filename": "aio/content/examples/router-tutorial/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 16,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Frouter-tutorial%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Frouter-tutorial%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Frouter-tutorial%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,41 +2,39 @@ import { browser, element, by } from 'protractor';\n \n describe('Router basic tutorial e2e tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it('should display Angular Router Sample', () => {\n-    expect(element(by.css('h1')).getText()).toBe('Angular Router Sample');\n+  it('should display Angular Router Sample', async () => {\n+    expect(await element(by.css('h1')).getText()).toBe('Angular Router Sample');\n   });\n \n-  it('should display Crisis Center button', () => {\n-    expect(element.all(by.css('a')).get(0).getText()).toBe('Crisis Center');\n+  it('should display Crisis Center button', async () => {\n+    expect(await element.all(by.css('a')).get(0).getText()).toBe('Crisis Center');\n   });\n \n-  it('should display Heroes button', () => {\n-    expect(element.all(by.css('a')).get(1).getText()).toBe('Heroes');\n+  it('should display Heroes button', async () => {\n+    expect(await element.all(by.css('a')).get(1).getText()).toBe('Heroes');\n   });\n \n-  it('should display HEROES', () => {\n-    expect(element(by.css('h3')).getText()).toBe('HEROES');\n+  it('should display HEROES', async () => {\n+    expect(await element(by.css('h3')).getText()).toBe('HEROES');\n   });\n \n   it('should change to display crisis list component', async () => {\n     const crisisButton = element.all(by.css('a')).get(0);\n     await crisisButton.click();\n-    expect(element(by.css('h3')).getText()).toBe('CRISIS CENTER');\n+    expect(await element(by.css('h3')).getText()).toBe('CRISIS CENTER');\n   });\n \n   it('should change to display heroes component', async () => {\n     const heroesButton = element.all(by.css('a')).get(1);\n     await heroesButton.click();\n-    expect(element(by.css('h3')).getText()).toBe('HEROES');\n+    expect(await element(by.css('h3')).getText()).toBe('HEROES');\n   });\n \n   it('should use wildcard route', async () => {\n-    browser.get('/fake-page');\n-    expect(browser.getCurrentUrl()).toContain('fake-page');\n-    expect(element(by.css('h2')).getText()).toBe('Page Not Found');\n+    await browser.get('/fake-page');\n+    expect(await browser.getCurrentUrl()).toContain('fake-page');\n+    expect(await element(by.css('h2')).getText()).toBe('Page Not Found');\n   });\n });"
        },
        {
            "sha": "ae174e549eaf0f7750bc1df20198f5bc8728fb96",
            "filename": "aio/content/examples/router/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 31,
            "deletions": 32,
            "changes": 63,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Frouter%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Frouter%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Frouter%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,9 +1,8 @@\n-import { browser, element, by, ExpectedConditions } from 'protractor';\n+import { browser, element, by, ExpectedConditions as EC } from 'protractor';\n \n const numDashboardTabs = 5;\n const numCrises = 4;\n const numHeroes = 10;\n-const EC = ExpectedConditions;\n \n describe('Router', () => {\n \n@@ -43,43 +42,43 @@ describe('Router', () => {\n     };\n   }\n \n-  it('has expected dashboard tabs', () => {\n+  it('has expected dashboard tabs', async () => {\n     const page = getPageStruct();\n-    expect(page.hrefs.count()).toEqual(numDashboardTabs, 'dashboard tab count');\n-    expect(page.crisisHref.getText()).toEqual('Crisis Center');\n-    expect(page.heroesHref.getText()).toEqual('Heroes');\n-    expect(page.adminHref.getText()).toEqual('Admin');\n-    expect(page.loginHref.getText()).toEqual('Login');\n-    expect(page.contactHref.getText()).toEqual('Contact');\n+    expect(await page.hrefs.count()).toEqual(numDashboardTabs, 'dashboard tab count');\n+    expect(await page.crisisHref.getText()).toEqual('Crisis Center');\n+    expect(await page.heroesHref.getText()).toEqual('Heroes');\n+    expect(await page.adminHref.getText()).toEqual('Admin');\n+    expect(await page.loginHref.getText()).toEqual('Login');\n+    expect(await page.contactHref.getText()).toEqual('Contact');\n   });\n \n-  it('has heroes selected as opening tab', () => {\n+  it('has heroes selected as opening tab', async () => {\n     const page = getPageStruct();\n-    expect(page.activeHref.getText()).toEqual('Heroes');\n+    expect(await page.activeHref.getText()).toEqual('Heroes');\n   });\n \n   it('has crises center items', async () => {\n     const page = getPageStruct();\n     await page.crisisHref.click();\n-    expect(page.activeHref.getText()).toEqual('Crisis Center');\n-    expect(page.crisisList.count()).toBe(numCrises, 'crisis list count');\n+    expect(await page.activeHref.getText()).toEqual('Crisis Center');\n+    expect(await page.crisisList.count()).toBe(numCrises, 'crisis list count');\n   });\n \n   it('has hero items', async () => {\n     const page = getPageStruct();\n     await page.heroesHref.click();\n-    expect(page.activeHref.getText()).toEqual('Heroes');\n-    expect(page.heroesList.count()).toBe(numHeroes, 'hero list count');\n+    expect(await page.activeHref.getText()).toEqual('Heroes');\n+    expect(await page.heroesList.count()).toBe(numHeroes, 'hero list count');\n   });\n \n   it('toggles views', async () => {\n     const page = getPageStruct();\n     await page.crisisHref.click();\n-    expect(page.activeHref.getText()).toEqual('Crisis Center');\n-    expect(page.crisisList.count()).toBe(numCrises, 'crisis list count');\n+    expect(await page.activeHref.getText()).toEqual('Crisis Center');\n+    expect(await page.crisisList.count()).toBe(numCrises, 'crisis list count');\n     await page.heroesHref.click();\n-    expect(page.activeHref.getText()).toEqual('Heroes');\n-    expect(page.heroesList.count()).toBe(numHeroes, 'hero list count');\n+    expect(await page.activeHref.getText()).toEqual('Heroes');\n+    expect(await page.heroesList.count()).toBe(numHeroes, 'hero list count');\n   });\n \n   it('saves changed crisis details', async () => {\n@@ -107,34 +106,34 @@ describe('Router', () => {\n \n     await heroEle.click();\n     await browser.sleep(600);\n-    expect(page.heroesList.count()).toBe(0, 'hero list count');\n-    expect(page.heroDetail.isPresent()).toBe(true, 'hero detail');\n-    expect(page.heroDetailTitle.getText()).toContain(heroText);\n+    expect(await page.heroesList.count()).toBe(0, 'hero list count');\n+    expect(await page.heroDetail.isPresent()).toBe(true, 'hero detail');\n+    expect(await page.heroDetailTitle.getText()).toContain(heroText);\n     const inputEle = page.heroDetail.element(by.css('input'));\n     await inputEle.sendKeys('-foo');\n-    expect(page.heroDetailTitle.getText()).toContain(heroText + '-foo');\n+    expect(await page.heroDetailTitle.getText()).toContain(heroText + '-foo');\n \n     const buttonEle = page.heroDetail.element(by.css('button'));\n     await buttonEle.click();\n     await browser.sleep(600);\n-    expect(heroEle.getText()).toContain(heroText + '-foo');\n+    expect(await heroEle.getText()).toContain(heroText + '-foo');\n   });\n \n   it('sees preloaded modules', async () => {\n     const page = getPageStruct();\n     await page.loginHref.click();\n     await page.loginButton.click();\n     const list = page.adminPreloadList;\n-    expect(list.count()).toBe(1, 'preloaded module');\n+    expect(await list.count()).toBe(1, 'preloaded module');\n     expect(await list.first().getText()).toBe('crisis-center', 'first preloaded module');\n   });\n \n   it('sees the secondary route', async () => {\n     const page = getPageStruct();\n     await page.heroesHref.click();\n     await page.contactHref.click();\n-    expect(page.primaryOutlet.count()).toBe(1, 'primary outlet');\n-    expect(page.secondaryOutlet.count()).toBe(1, 'secondary outlet');\n+    expect(await page.primaryOutlet.count()).toBe(1, 'primary outlet');\n+    expect(await page.secondaryOutlet.count()).toBe(1, 'secondary outlet');\n   });\n \n   it('should redirect with secondary route', async () => {\n@@ -159,7 +158,7 @@ describe('Router', () => {\n     await page.loginButton.click();\n \n     expect(await page.adminPage.isDisplayed()).toBeTruthy();\n-    expect(page.secondaryOutlet.count()).toBeTruthy();\n+    expect(await page.secondaryOutlet.count()).toBeTruthy();\n   });\n \n   async function crisisCenterEdit(index: number, save: boolean) {\n@@ -172,20 +171,20 @@ describe('Router', () => {\n     const crisisText = text.substr(text.indexOf(' ')).trim();\n \n     await crisisEle.click();\n-    expect(page.crisisDetail.isPresent()).toBe(true, 'crisis detail present');\n-    expect(page.crisisDetailTitle.getText()).toContain(crisisText);\n+    expect(await page.crisisDetail.isPresent()).toBe(true, 'crisis detail present');\n+    expect(await page.crisisDetailTitle.getText()).toContain(crisisText);\n     const inputEle = page.crisisDetail.element(by.css('input'));\n     await inputEle.sendKeys('-foo');\n \n     const buttonEle = page.crisisDetail.element(by.buttonText(save ? 'Save' : 'Cancel'));\n     await buttonEle.click();\n     crisisEle = page.crisisList.get(index);\n     if (save) {\n-      expect(crisisEle.getText()).toContain(crisisText + '-foo');\n+      expect(await crisisEle.getText()).toContain(crisisText + '-foo');\n     } else {\n       await browser.wait(EC.alertIsPresent(), 4000);\n       await browser.switchTo().alert().accept();\n-      expect(crisisEle.getText()).toContain(crisisText);\n+      expect(await crisisEle.getText()).toContain(crisisText);\n     }\n   }\n "
        },
        {
            "sha": "fb8c75ae5870e6633c46db591948125ccd118531",
            "filename": "aio/content/examples/security/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fsecurity%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fsecurity%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fsecurity%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,33 +3,33 @@ import { browser, element, By } from 'protractor';\n describe('Security E2E Tests', () => {\n   beforeAll(() => browser.get(''));\n \n-  it('sanitizes innerHTML', () => {\n+  it('sanitizes innerHTML', async () => {\n     const interpolated = element(By.className('e2e-inner-html-interpolated'));\n-    expect(interpolated.getText())\n+    expect(await interpolated.getText())\n         .toContain('Template <script>alert(\"0wned\")</script> <b>Syntax</b>');\n     const bound = element(By.className('e2e-inner-html-bound'));\n-    expect(bound.getText()).toContain('Template Syntax');\n+    expect(await bound.getText()).toContain('Template Syntax');\n     const bold = element(By.css('.e2e-inner-html-bound b'));\n-    expect(bold.getText()).toContain('Syntax');\n+    expect(await bold.getText()).toContain('Syntax');\n   });\n \n-  it('escapes untrusted URLs', () => {\n+  it('escapes untrusted URLs', async () => {\n     const untrustedUrl = element(By.className('e2e-dangerous-url'));\n-    expect(untrustedUrl.getAttribute('href')).toMatch(/^unsafe:javascript/);\n+    expect(await untrustedUrl.getAttribute('href')).toMatch(/^unsafe:javascript/);\n   });\n \n-  it('binds trusted URLs', () => {\n+  it('binds trusted URLs', async () => {\n     const trustedUrl = element(By.className('e2e-trusted-url'));\n-    expect(trustedUrl.getAttribute('href')).toMatch(/^javascript:alert/);\n+    expect(await trustedUrl.getAttribute('href')).toMatch(/^javascript:alert/);\n   });\n \n-  it('escapes untrusted resource URLs', () => {\n+  it('escapes untrusted resource URLs', async () => {\n     const iframe = element(By.className('e2e-iframe-untrusted-src'));\n-    expect(iframe.getAttribute('src')).toBe('');\n+    expect(await iframe.getAttribute('src')).toBe('');\n   });\n \n-  it('binds trusted resource URLs', () => {\n+  it('binds trusted resource URLs', async () => {\n     const iframe = element(By.className('e2e-iframe-trusted-src'));\n-    expect(iframe.getAttribute('src')).toMatch(/^https:\\/\\/www.youtube.com\\//);\n+    expect(await iframe.getAttribute('src')).toMatch(/^https:\\/\\/www.youtube.com\\//);\n   });\n });"
        },
        {
            "sha": "e0d18fc72cc1d709020fce6fa2fee3d6e86f7b92",
            "filename": "aio/content/examples/service-worker-getting-started/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 21,
            "changes": 41,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fservice-worker-getting-started%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fservice-worker-getting-started%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fservice-worker-getting-started%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,45 +1,44 @@\n import { AppPage } from './app.po';\n-import { browser, element, by } from 'protractor';\n+import { element, by } from 'protractor';\n \n \n describe('sw-example App', () => {\n   let page: AppPage;\n \n-  beforeEach(() => {\n+  beforeEach(async () => {\n     page = new AppPage();\n+    await page.navigateTo();\n   });\n \n-  it('should display welcome message', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('Welcome to Service Workers!');\n+  it('should display welcome message', async () => {\n+    expect(await page.getTitleText()).toEqual('Welcome to Service Workers!');\n   });\n \n-  it('should display the Angular logo', () => {\n+  it('should display the Angular logo', async () => {\n     const logo = element(by.css('img'));\n-    page.navigateTo();\n-    expect(logo.isPresent()).toBe(true);\n+    expect(await logo.isPresent()).toBe(true);\n   });\n \n-  it('should show a header for the list of links', () => {\n+  it('should show a header for the list of links', async () => {\n     const listHeader = element(by.css('app-root > h2'));\n-    expect(listHeader.getText()).toEqual('Here are some links to help you start:');\n+    expect(await listHeader.getText()).toEqual('Here are some links to help you start:');\n   });\n \n-  it('should show a list of links', () => {\n-      element.all(by.css('ul > li > h2 > a')).then((items) => {\n-        expect(items.length).toBe(4);\n-        expect(items[0].getText()).toBe('Angular Service Worker Intro');\n-        expect(items[1].getText()).toBe('Tour of Heroes');\n-        expect(items[2].getText()).toBe('CLI Documentation');\n-        expect(items[3].getText()).toBe('Angular blog');\n-      });\n+  it('should show a list of links', async () => {\n+    const items = await element.all(by.css('ul > li > h2 > a'));\n+\n+    expect(items.length).toBe(4);\n+    expect(await items[0].getText()).toBe('Angular Service Worker Intro');\n+    expect(await items[1].getText()).toBe('Tour of Heroes');\n+    expect(await items[2].getText()).toBe('CLI Documentation');\n+    expect(await items[3].getText()).toBe('Angular blog');\n   });\n \n   // Check for a rejected promise as the service worker is not enabled\n-  it('SwUpdate.checkForUpdate() should return a rejected promise', () => {\n+  it('SwUpdate.checkForUpdate() should return a rejected promise', async () => {\n     const button = element(by.css('button'));\n     const rejectMessage = element(by.css('p'));\n-    button.click();\n-    expect(rejectMessage.getText()).toContain('rejected: ');\n+    await button.click();\n+    expect(await rejectMessage.getText()).toContain('rejected: ');\n   });\n });"
        },
        {
            "sha": "c94d0dbd2327e8369d2597c30fbfa8b225cfe562",
            "filename": "aio/content/examples/set-document-title/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 14,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fset-document-title%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fset-document-title%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fset-document-title%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,26 +1,21 @@\n-import { browser, element, by, ElementFinder } from 'protractor';\n+import { browser, element, by } from 'protractor';\n \n describe('Set Document Title', () => {\n \n-  beforeAll(() => browser.get(''));\n-\n-  it('should set the document title', () => {\n+  beforeEach(() => browser.get(''));\n \n+  it('should set the document title', async () => {\n+    const elems = await element.all(by.css('ul li a'));\n     const titles = [\n       'Good morning!',\n       'Good afternoon!',\n-      'Good evening!'\n+      'Good evening!',\n     ];\n \n-    element.all( by.css( 'ul li a' ) ).each(\n-      function iterator( elem: ElementFinder, i: number ) {\n-\n-        elem.click();\n-        expect( browser.getTitle() ).toEqual( titles[ i ] );\n-\n-      }\n-    );\n-\n+    for (let i = 0; i < elems.length; i++) {\n+      await elems[i].click();\n+      expect(await browser.getTitle()).toEqual(titles[i]);\n+    }\n   });\n \n });"
        },
        {
            "sha": "e4d6671a47788fda34a9ae0c2f9bf5a0c39156f1",
            "filename": "aio/content/examples/set-document-title/src/app/app.component.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fset-document-title%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fset-document-title%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fset-document-title%2Fsrc%2Fapp%2Fapp.component.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -5,25 +5,25 @@ import { Component } from '@angular/core';\n import { Title } from '@angular/platform-browser';\n \n @Component({\n-selector: 'app-root',\n-template:\n-  `<p>\n-    Select a title to set on the current HTML document:\n-  </p>\n+  selector: 'app-root',\n+  template: `\n+    <p>\n+      Select a title to set on the current HTML document:\n+    </p>\n \n-  <ul>\n-    <li><a (click)=\"setTitle( 'Good morning!' )\">Good morning</a>.</li>\n-    <li><a (click)=\"setTitle( 'Good afternoon!' )\">Good afternoon</a>.</li>\n-    <li><a (click)=\"setTitle( 'Good evening!' )\">Good evening</a>.</li>\n-  </ul>\n-  `\n+    <ul>\n+      <li><a (click)=\"setTitle('Good morning!')\">Good morning</a>.</li>\n+      <li><a (click)=\"setTitle('Good afternoon!')\">Good afternoon</a>.</li>\n+      <li><a (click)=\"setTitle('Good evening!')\">Good evening</a>.</li>\n+    </ul>\n+  `,\n })\n // #docregion class\n export class AppComponent {\n-  public constructor(private titleService: Title ) { }\n+  public constructor(private titleService: Title) { }\n \n-  public setTitle( newTitle: string) {\n-    this.titleService.setTitle( newTitle );\n+  public setTitle(newTitle: string) {\n+    this.titleService.setTitle(newTitle);\n   }\n }\n // #enddocregion class"
        },
        {
            "sha": "db185ac5d91254bda52c13a685fccfc5c3e2ea6d",
            "filename": "aio/content/examples/setup/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fsetup%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fsetup%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fsetup%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -4,12 +4,10 @@ describe('QuickStart E2E Tests', () => {\n \n   const expectedMsg = 'Hello Angular';\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n-  it(`should display: ${expectedMsg}`, () => {\n-    expect(element(by.css('h1')).getText()).toEqual(expectedMsg);\n+  it(`should display: ${expectedMsg}`, async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual(expectedMsg);\n   });\n \n });"
        },
        {
            "sha": "12092d401e1bc42acdba504be50dcc4123c72fbf",
            "filename": "aio/content/examples/structural-directives/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 21,
            "deletions": 24,
            "changes": 45,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fstructural-directives%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,55 +2,52 @@ import { browser, element, by } from 'protractor';\n \n describe('Structural Directives', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('first div should show hero name with *ngIf', () => {\n+  it('first div should show hero name with *ngIf', async () => {\n     const allDivs = element.all(by.tagName('div'));\n-    expect(allDivs.get(0).getText()).toEqual('Dr Nice');\n+    expect(await allDivs.get(0).getText()).toEqual('Dr Nice');\n   });\n \n-  it('first li should show hero name with *ngFor', () => {\n+  it('first li should show hero name with *ngFor', async () => {\n     const allLis = element.all(by.tagName('li'));\n-    expect(allLis.get(0).getText()).toEqual('Dr Nice');\n+    expect(await allLis.get(0).getText()).toEqual('Dr Nice');\n   });\n \n-  it('ngSwitch have two <happy-hero> instances', () => {\n+  it('ngSwitch have two <happy-hero> instances', async () => {\n     const happyHeroEls = element.all(by.tagName('app-happy-hero'));\n-    expect(happyHeroEls.count()).toEqual(2);\n+    expect(await happyHeroEls.count()).toEqual(2);\n   });\n \n-  it('should toggle *ngIf=\"hero\" with a button', () => {\n+  it('should toggle *ngIf=\"hero\" with a button', async () => {\n     const toggleHeroButton = element.all(by.cssContainingText('button', 'Toggle hero')).get(0);\n     const paragraph = element.all(by.cssContainingText('p', 'I turned the corner'));\n-    expect(paragraph.get(0).getText()).toContain('I waved');\n-    toggleHeroButton.click().then(() => {\n-      expect(paragraph.get(0).getText()).not.toContain('I waved');\n-    });\n+    expect(await paragraph.get(0).getText()).toContain('I waved');\n+    await toggleHeroButton.click();\n+    expect(await paragraph.get(0).getText()).not.toContain('I waved');\n   });\n \n-  it('should have only one \"Hip!\" (the other is erased)', () => {\n+  it('should have only one \"Hip!\" (the other is erased)', async () => {\n     const paragraph = element.all(by.cssContainingText('p', 'Hip!'));\n-    expect(paragraph.count()).toEqual(1);\n+    expect(await paragraph.count()).toEqual(1);\n   });\n \n-  it('appUnless should show 3 paragraph (A)s and (B)s at the start', () => {\n+  it('appUnless should show 3 paragraph (A)s and (B)s at the start', async () => {\n     const paragraph = element.all(by.css('p.unless'));\n-    expect(paragraph.count()).toEqual(3);\n+    expect(await paragraph.count()).toEqual(3);\n     for (let i = 0; i < 3; i++) {\n-      expect(paragraph.get(i).getText()).toContain('(A)');\n+      expect(await paragraph.get(i).getText()).toContain('(A)');\n     }\n   });\n \n-  it('appUnless should show 1 paragraph (B) after toggling condition', () => {\n+  it('appUnless should show 1 paragraph (B) after toggling condition', async () => {\n     const toggleConditionButton = element.all(by.cssContainingText('button', 'Toggle condition')).get(0);\n     const paragraph = element.all(by.css('p.unless'));\n \n-    toggleConditionButton.click().then(() => {\n-      expect(paragraph.count()).toEqual(1);\n-      expect(paragraph.get(0).getText()).toContain('(B)');\n-    });\n+    await toggleConditionButton.click();\n+\n+    expect(await paragraph.count()).toEqual(1);\n+    expect(await paragraph.get(0).getText()).toContain('(B)');\n   });\n });\n "
        },
        {
            "sha": "e92c52dff57ce3a74c3f220fb319e7c66e07bf37",
            "filename": "aio/content/examples/styleguide/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 65,
            "deletions": 65,
            "changes": 130,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fstyleguide%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fstyleguide%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fstyleguide%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,147 +1,147 @@\n import { browser, element, by } from 'protractor';\n \n describe('Style Guide', () => {\n-  it('01-01', () => {\n-    browser.get('#/01-01');\n+  it('01-01', async () => {\n+    await browser.get('#/01-01');\n \n     const pre = element(by.tagName('toh-heroes > pre'));\n-    expect(pre.getText()).toContain('Bombasto');\n-    expect(pre.getText()).toContain('Tornado');\n-    expect(pre.getText()).toContain('Magneta');\n+    expect(await pre.getText()).toContain('Bombasto');\n+    expect(await pre.getText()).toContain('Tornado');\n+    expect(await pre.getText()).toContain('Magneta');\n   });\n \n-  it('02-07', () => {\n-    browser.get('#/02-07');\n+  it('02-07', async () => {\n+    await browser.get('#/02-07');\n \n     const hero = element(by.tagName('toh-hero > div'));\n     const users = element(by.tagName('admin-users > div'));\n \n-    expect(hero.getText()).toBe('hero component');\n-    expect(users.getText()).toBe('users component');\n+    expect(await hero.getText()).toBe('hero component');\n+    expect(await users.getText()).toBe('users component');\n   });\n \n-  it('02-08', () => {\n-    browser.get('#/02-08');\n+  it('02-08', async () => {\n+    await browser.get('#/02-08');\n \n     const input = element(by.tagName('input[tohvalidate]'));\n-    expect(input.isPresent()).toBe(true);\n+    expect(await input.isPresent()).toBe(true);\n   });\n \n-  it('04-10', () => {\n-    browser.get('#/04-10');\n+  it('04-10', async () => {\n+    await browser.get('#/04-10');\n \n     const div = element(by.tagName('sg-app > toh-heroes > div'));\n-    expect(div.getText()).toBe('This is heroes component');\n+    expect(await div.getText()).toBe('This is heroes component');\n   });\n \n-  it('05-02', () => {\n-    browser.get('#/05-02');\n+  it('05-02', async () => {\n+    await browser.get('#/05-02');\n \n     const button = element(by.tagName('sg-app > toh-hero-button > button'));\n-    expect(button.getText()).toBe('Hero button');\n+    expect(await button.getText()).toBe('Hero button');\n   });\n \n-  it('05-03', () => {\n-    browser.get('#/05-03');\n+  it('05-03', async () => {\n+    await browser.get('#/05-03');\n \n     const button = element(by.tagName('sg-app > toh-hero-button > button'));\n-    expect(button.getText()).toBe('Hero button');\n+    expect(await button.getText()).toBe('Hero button');\n   });\n \n-  it('05-04', () => {\n-    browser.get('#/05-04');\n+  it('05-04', async () => {\n+    await browser.get('#/05-04');\n \n     const h2 = element(by.tagName('sg-app > toh-heroes > div > h2'));\n-    expect(h2.getText()).toBe('My Heroes');\n+    expect(await h2.getText()).toBe('My Heroes');\n   });\n \n-  it('05-12', () => {\n-    browser.get('#/05-12');\n+  it('05-12', async () => {\n+    await browser.get('#/05-12');\n \n     const button = element(by.tagName('sg-app > toh-hero-button > button'));\n-    expect(button.getText()).toBe('OK');\n+    expect(await button.getText()).toBe('OK');\n   });\n \n-  it('05-13', () => {\n-    browser.get('#/05-13');\n+  it('05-13', async () => {\n+    await browser.get('#/05-13');\n \n     const button = element(by.tagName('sg-app > toh-hero-button > button'));\n-    expect(button.getText()).toBe('OK');\n+    expect(await button.getText()).toBe('OK');\n   });\n \n-  it('05-14', () => {\n-    browser.get('#/05-14');\n+  it('05-14', async () => {\n+    await browser.get('#/05-14');\n \n     const toast = element(by.tagName('sg-app > toh-toast'));\n-    expect(toast.getText()).toBe('...');\n+    expect(await toast.getText()).toBe('...');\n   });\n \n-  it('05-15', () => {\n-    browser.get('#/05-15');\n+  it('05-15', async () => {\n+    await browser.get('#/05-15');\n \n     const heroList = element(by.tagName('sg-app > toh-hero-list'));\n-    expect(heroList.getText()).toBe('...');\n+    expect(await heroList.getText()).toBe('...');\n   });\n \n-  it('05-16', () => {\n-    browser.get('#/05-16');\n+  it('05-16', async () => {\n+    await browser.get('#/05-16');\n \n     const hero = element(by.tagName('sg-app > toh-hero'));\n-    expect(hero.getText()).toBe('...');\n+    expect(await hero.getText()).toBe('...');\n   });\n \n-  it('05-17', () => {\n-    browser.get('#/05-17');\n+  it('05-17', async () => {\n+    await browser.get('#/05-17');\n \n     const section = element(by.tagName('sg-app > toh-hero-list > section'));\n-    expect(section.getText()).toContain('Our list of heroes');\n-    expect(section.getText()).toContain('Total powers');\n-    expect(section.getText()).toContain('Average power');\n+    expect(await section.getText()).toContain('Our list of heroes');\n+    expect(await section.getText()).toContain('Total powers');\n+    expect(await section.getText()).toContain('Average power');\n   });\n \n-  it('06-01', () => {\n-    browser.get('#/06-01');\n+  it('06-01', async () => {\n+    await browser.get('#/06-01');\n \n     const div = element(by.tagName('sg-app > div[tohhighlight]'));\n-    expect(div.getText()).toBe('Bombasta');\n+    expect(await div.getText()).toBe('Bombasta');\n   });\n \n-  it('06-03', () => {\n-    browser.get('#/06-03');\n+  it('06-03', async () => {\n+    await browser.get('#/06-03');\n \n     const input = element(by.tagName('input[tohvalidator]'));\n-    expect(input.isPresent()).toBe(true);\n+    expect(await input.isPresent()).toBe(true);\n   });\n \n   // temporarily disabled because of a weird issue when used with rxjs v6 with rxjs-compat\n-  xit('07-01', () => {\n-    browser.get('#/07-01');\n+  xit('07-01', async () => {\n+    await browser.get('#/07-01');\n \n     const lis = element.all(by.tagName('sg-app > ul > li'));\n-    expect(lis.get(0).getText()).toBe('Windstorm');\n-    expect(lis.get(1).getText()).toBe('Bombasto');\n-    expect(lis.get(2).getText()).toBe('Magneta');\n-    expect(lis.get(3).getText()).toBe('Tornado');\n+    expect(await lis.get(0).getText()).toBe('Windstorm');\n+    expect(await lis.get(1).getText()).toBe('Bombasto');\n+    expect(await lis.get(2).getText()).toBe('Magneta');\n+    expect(await lis.get(3).getText()).toBe('Tornado');\n   });\n \n-  it('07-03', () => {\n-    browser.get('#/07-03');\n+  it('07-03', async () => {\n+    await browser.get('#/07-03');\n \n     const pre = element(by.tagName('toh-heroes > pre'));\n-    expect(pre.getText()).toContain('[]');\n+    expect(await pre.getText()).toContain('[]');\n   });\n \n-  it('07-04', () => {\n-    browser.get('#/07-04');\n+  it('07-04', async () => {\n+    await browser.get('#/07-04');\n \n     const pre = element(by.tagName('toh-app > pre'));\n-    expect(pre.getText()).toContain('[]');\n+    expect(await pre.getText()).toContain('[]');\n   });\n \n-  it('09-01', () => {\n-    browser.get('#/09-01');\n+  it('09-01', async () => {\n+    await browser.get('#/09-01');\n \n     const button = element(by.tagName('sg-app > toh-hero-button > button'));\n-    expect(button.getText()).toBe('OK');\n+    expect(await button.getText()).toBe('OK');\n   });\n });"
        },
        {
            "sha": "05fcf51d9b577a781aa33b1ed3dc88f116dbe81b",
            "filename": "aio/content/examples/template-expression-operators/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 13,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftemplate-expression-operators%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftemplate-expression-operators%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftemplate-expression-operators%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,31 +1,27 @@\n import { browser, element, by } from 'protractor';\n-import { logging } from 'selenium-webdriver';\n \n describe('Template Expression Operators', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should have title Inputs and Outputs', () => {\n+  it('should have title Inputs and Outputs', async () => {\n     const title = element.all(by.css('h1')).get(0);\n-    expect(title.getText()).toEqual('Template Expression Operators');\n+    expect(await title.getText()).toEqual('Template Expression Operators');\n   });\n \n-  it('should display json data', () => {\n+  it('should display json data', async () => {\n     const jsonDate = element.all(by.css('p')).get(4);\n-    expect(jsonDate.getText()).toContain('1980');\n+    expect(await jsonDate.getText()).toContain('1980');\n   });\n \n-  it('should display $98', () => {\n+  it('should display $98', async () => {\n     const jsonDate = element.all(by.css('p')).get(5);\n-    expect(jsonDate.getText()).toContain('$98.00');\n+    expect(await jsonDate.getText()).toContain('$98.00');\n   });\n \n-  it('should display Telephone', () => {\n+  it('should display Telephone', async () => {\n     const jsonDate = element.all(by.css('p')).get(6);\n-    expect(jsonDate.getText()).toContain('Telephone');\n+    expect(await jsonDate.getText()).toContain('Telephone');\n   });\n \n-\n });"
        },
        {
            "sha": "9adeed1dae026af60b25ef0f18ea86afd241d974",
            "filename": "aio/content/examples/template-reference-variables/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 11,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftemplate-reference-variables%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftemplate-reference-variables%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftemplate-reference-variables%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,11 +1,10 @@\n-import { browser, element, by } from 'protractor';\n-import { logging } from 'selenium-webdriver';\n+import { browser, element, by, logging } from 'protractor';\n \n describe('Template-reference-variables-example', () => {\n   beforeEach(() => browser.get(''));\n \n   // helper function used to test what's logged to the console\n-  async function logChecker(button, contents) {\n+  async function logChecker(contents) {\n     const logs = await browser\n       .manage()\n       .logs()\n@@ -14,8 +13,8 @@ describe('Template-reference-variables-example', () => {\n     expect(messages.length).toBeGreaterThan(0);\n   }\n \n-  it('should display Template reference variables', () => {\n-    expect(element(by.css('h1')).getText()).toEqual(\n+  it('should display Template reference variables', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual(\n       'Template reference variables'\n     );\n   });\n@@ -26,7 +25,7 @@ describe('Template-reference-variables-example', () => {\n     await phoneInput.sendKeys('123');\n     await callButton.click();\n     const contents = 'Calling 123 ...';\n-    await logChecker(callButton, contents);\n+    await logChecker(contents);\n   });\n \n   it('should log a Faxing 123 ... message', async () => {\n@@ -35,21 +34,20 @@ describe('Template-reference-variables-example', () => {\n     await faxInput.sendKeys('123');\n     await faxButton.click();\n     const contents = 'Faxing 123 ...';\n-    await logChecker(faxButton, contents);\n+    await logChecker(contents);\n   });\n \n-  it('should display a disabled button', () => {\n+  it('should display a disabled button', async () => {\n     const disabledButton = element.all(by.css('button')).get(2);\n-    expect(disabledButton.isEnabled()).toBe(false);\n+    expect(await disabledButton.isEnabled()).toBe(false);\n   });\n \n   it('should submit form', async () => {\n     const submitButton = element.all(by.css('button')).get(3);\n     const nameInput = element.all(by.css('input')).get(2);\n     await nameInput.sendKeys('123');\n     await submitButton.click();\n-    expect(element.all(by.css('div > p')).get(2).getText()).toEqual('Submitted. Form value is {\"name\":\"123\"}');\n+    expect(await element.all(by.css('div > p')).get(2).getText()).toEqual('Submitted. Form value is {\"name\":\"123\"}');\n   });\n \n-\n });"
        },
        {
            "sha": "88f94ec10d583e580d75ada383af89f4589d753f",
            "filename": "aio/content/examples/template-syntax/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 17,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftemplate-syntax%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftemplate-syntax%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftemplate-syntax%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,46 +3,44 @@ import { browser, element, by } from 'protractor';\n // TODO Not yet complete\n describe('Template Syntax', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should be able to use interpolation with a hero', () => {\n+  it('should be able to use interpolation with a hero', async () => {\n     const heroInterEle = element.all(by.css('h2+p')).get(0);\n-    expect(heroInterEle.getText()).toEqual('My current hero is Hercules');\n+    expect(await heroInterEle.getText()).toEqual('My current hero is Hercules');\n   });\n \n-  it('should be able to use interpolation with a calculation', () => {\n+  it('should be able to use interpolation with a calculation', async () => {\n     const theSumEles = element.all(by.cssContainingText('h3~p', 'The sum of'));\n-    expect(theSumEles.count()).toBe(2);\n-    expect(theSumEles.get(0).getText()).toEqual('The sum of 1 + 1 is 2');\n-    expect(theSumEles.get(1).getText()).toEqual('The sum of 1 + 1 is not 4');\n+    expect(await theSumEles.count()).toBe(2);\n+    expect(await theSumEles.get(0).getText()).toEqual('The sum of 1 + 1 is 2');\n+    expect(await theSumEles.get(1).getText()).toEqual('The sum of 1 + 1 is not 4');\n   });\n \n-  it('should be able to use class binding syntax', () => {\n+  it('should be able to use class binding syntax', async () => {\n     const specialEle = element(by.cssContainingText('div', 'Special'));\n-    expect(specialEle.getAttribute('class')).toMatch('special');\n+    expect(await specialEle.getAttribute('class')).toMatch('special');\n   });\n \n-  it('should be able to use style binding syntax', () => {\n+  it('should be able to use style binding syntax', async () => {\n     const specialButtonEle = element(by.cssContainingText('div.special~button', 'button'));\n-    expect(specialButtonEle.getAttribute('style')).toMatch('color: red');\n+    expect(await specialButtonEle.getAttribute('style')).toMatch('color: red');\n   });\n \n   it('should two-way bind to sizer', async () => {\n     const div = element(by.css('div#two-way-1'));\n     const incButton = div.element(by.buttonText('+'));\n     const input = div.element(by.css('input'));\n     const initSize = await input.getAttribute('value');\n-    incButton.click();\n-    expect(input.getAttribute('value')).toEqual((+initSize + 1).toString());\n+    await incButton.click();\n+    expect(await input.getAttribute('value')).toEqual((+initSize + 1).toString());\n   });\n \n   it('should change SVG rectangle\\'s fill color on click', async () => {\n     const div = element(by.css('app-svg'));\n     const colorSquare = div.element(by.css('rect'));\n     const initialColor = await colorSquare.getAttribute('fill');\n-    colorSquare.click();\n-    expect(colorSquare.getAttribute('fill')).not.toEqual(initialColor);\n+    await colorSquare.click();\n+    expect(await colorSquare.getAttribute('fill')).not.toEqual(initialColor);\n   });\n });"
        },
        {
            "sha": "d458faa74749979e000ada5a26a5dbf9de038ffe",
            "filename": "aio/content/examples/testing/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 8,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftesting%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftesting%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftesting%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,16 +1,13 @@\n-import { browser, element, by, ElementFinder } from 'protractor';\n+import { browser, element, by } from 'protractor';\n \n describe('Testing Example', () => {\n   const expectedViewNames = ['Dashboard', 'Heroes', 'About'];\n \n   beforeAll(() => browser.get(''));\n \n   function getPageElts() {\n-    const navElts = element.all(by.css('app-root nav a'));\n-\n     return {\n-      navElts,\n-\n+      navElts: element.all(by.css('app-root nav a')),\n       appDashboard: element(by.css('app-root app-dashboard')),\n     };\n   }\n@@ -20,14 +17,14 @@ describe('Testing Example', () => {\n   });\n \n   it(`has views ${expectedViewNames}`, async () => {\n-    const viewNames = getPageElts().navElts.map(async (el: ElementFinder) => await el.getText());\n+    const viewNames = await getPageElts().navElts.map(el => el.getText());\n \n     expect(viewNames).toEqual(expectedViewNames);\n   });\n \n-  it('has dashboard as the active view', () => {\n+  it('has dashboard as the active view', async () => {\n     const page = getPageElts();\n \n-    expect(page.appDashboard.isPresent()).toBeTruthy();\n+    expect(await page.appDashboard.isPresent()).toBeTruthy();\n   });\n });"
        },
        {
            "sha": "4dccb587639f20b24a8736229b66ae7b7914d0b8",
            "filename": "aio/content/examples/toh-pt0/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt0%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt0%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt0%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -3,8 +3,8 @@ import { browser, element, by } from 'protractor';\n describe('Tour of Heroes', () => {\n   beforeEach(() => browser.get('/'));\n \n-  it('should display \"Tour of Heroes\"', () => {\n-    const title = element(by.css('app-root h1')).getText();\n+  it('should display \"Tour of Heroes\"', async () => {\n+    const title = await element(by.css('app-root h1')).getText();\n     expect(title).toEqual('Tour of Heroes');\n   });\n });"
        },
        {
            "sha": "b9724c090e43e0b18cef61a3c91023285d2b9d0a",
            "filename": "aio/content/examples/toh-pt1/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt1%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt1%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt1%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,5 +1,4 @@\n import { browser, element, by, ElementFinder } from 'protractor';\n-import { promise } from 'selenium-webdriver';\n \n const expectedH1 = 'Tour of Heroes';\n const expectedTitle = `${expectedH1}`;\n@@ -23,9 +22,9 @@ class Hero {\n }\n \n const nameSuffix = 'X';\n-function addToHeroName(text: string): promise.Promise<void> {\n+async function addToHeroName(text: string): Promise<void> {\n   const input = element(by.css('input'));\n-  return input.sendKeys(text);\n+  await input.sendKeys(text);\n }\n \n describe('Tutorial part 1', () => {\n@@ -34,12 +33,12 @@ describe('Tutorial part 1', () => {\n \n   beforeAll(() => browser.get(''));\n \n-  it(`has title '${expectedTitle}'`, () => {\n-    expect(browser.getTitle()).toEqual(expectedTitle);\n+  it(`has title '${expectedTitle}'`, async () => {\n+    expect(await browser.getTitle()).toEqual(expectedTitle);\n   });\n \n-  it(`has h1 '${expectedH1}'`, () => {\n-    const hText = element(by.css('h1')).getText();\n+  it(`has h1 '${expectedH1}'`, async () => {\n+    const hText = await element(by.css('h1')).getText();\n     expect(hText).toEqual(expectedH1, 'h1');\n   });\n \n@@ -51,7 +50,7 @@ describe('Tutorial part 1', () => {\n   });\n \n   it(`shows updated hero name`, async () => {\n-    addToHeroName(nameSuffix);\n+    await addToHeroName(nameSuffix);\n     const page = getPageElts();\n     const hero = await Hero.fromDetail(page.heroDetail);\n     const newName = expectedHero.name + nameSuffix;"
        },
        {
            "sha": "edf3b10fc62605d7d9a632ebd1816884d0dd6464",
            "filename": "aio/content/examples/toh-pt2/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 47,
            "deletions": 48,
            "changes": 95,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt2%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt2%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt2%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,5 +1,4 @@\n import { browser, element, by, ElementFinder } from 'protractor';\n-import { promise } from 'selenium-webdriver';\n \n const expectedH1 = 'Tour of Heroes';\n const expectedTitle = `${expectedH1}`;\n@@ -8,30 +7,30 @@ const targetHero = { id: 16, name: 'RubberMan' };\n const nameSuffix = 'X';\n \n class Hero {\n-    id: number;\n-    name: string;\n-\n-    // Factory methods\n-\n-    // Get hero from s formatted as '<id> <name>'.\n-    static fromString(s: string): Hero {\n-        return {\n-            id: +s.substr(0, s.indexOf(' ')),\n-            name: s.substr(s.indexOf(' ') + 1),\n-        };\n-    }\n-\n-    // Get hero id and name from the given detail element.\n-    static async fromDetail(detail: ElementFinder): Promise<Hero> {\n-        // Get hero id from the first <div>\n-        const id = await detail.all(by.css('div')).first().getText();\n-        // Get name from the h2\n-        const name = await detail.element(by.css('h2')).getText();\n-        return {\n-            id: +id.substr(id.indexOf(' ') + 1),\n-            name: name.substr(0, name.lastIndexOf(' '))\n-        };\n-    }\n+  id: number;\n+  name: string;\n+\n+  // Factory methods\n+\n+  // Get hero from s formatted as '<id> <name>'.\n+  static fromString(s: string): Hero {\n+    return {\n+      id: +s.substr(0, s.indexOf(' ')),\n+      name: s.substr(s.indexOf(' ') + 1),\n+    };\n+  }\n+\n+  // Get hero id and name from the given detail element.\n+  static async fromDetail(detail: ElementFinder): Promise<Hero> {\n+    // Get hero id from the first <div>\n+    const id = await detail.all(by.css('div')).first().getText();\n+    // Get name from the h2\n+    const name = await detail.element(by.css('h2')).getText();\n+    return {\n+      id: +id.substr(id.indexOf(' ') + 1),\n+      name: name.substr(0, name.lastIndexOf(' '))\n+    };\n+  }\n }\n \n describe('Tutorial part 2', () => {\n@@ -42,41 +41,41 @@ describe('Tutorial part 2', () => {\n });\n \n function initialPageTests() {\n-  it(`has title '${expectedTitle}'`, () => {\n-      expect(browser.getTitle()).toEqual(expectedTitle);\n+  it(`has title '${expectedTitle}'`, async () => {\n+    expect(await browser.getTitle()).toEqual(expectedTitle);\n   });\n \n-  it(`has h1 '${expectedH1}'`, () => {\n-      expectHeading(1, expectedH1);\n+  it(`has h1 '${expectedH1}'`, async () => {\n+    await expectHeading(1, expectedH1);\n   });\n \n-  it(`has h2 '${expectedH2}'`, () => {\n-    expectHeading(2, expectedH2);\n+  it(`has h2 '${expectedH2}'`, async () => {\n+    await expectHeading(2, expectedH2);\n   });\n \n-  it('has the right number of heroes', () => {\n+  it('has the right number of heroes', async () => {\n     const page = getPageElts();\n-    expect(page.heroes.count()).toEqual(10);\n+    expect(await page.heroes.count()).toEqual(10);\n   });\n \n-  it('has no selected hero and no hero details', () => {\n+  it('has no selected hero and no hero details', async () => {\n     const page = getPageElts();\n-    expect(page.selected.isPresent()).toBeFalsy('selected hero');\n-    expect(page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n+    expect(await page.selected.isPresent()).toBeFalsy('selected hero');\n+    expect(await page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n   });\n }\n \n function selectHeroTests() {\n-  it(`selects ${targetHero.name} from hero list`, () => {\n+  it(`selects ${targetHero.name} from hero list`, async () => {\n     const hero = element(by.cssContainingText('li span.badge', targetHero.id.toString()));\n-    hero.click();\n+    await hero.click();\n     // Nothing specific to expect other than lack of exceptions.\n   });\n \n-  it(`has selected ${targetHero.name}`, () => {\n+  it(`has selected ${targetHero.name}`, async () => {\n     const page = getPageElts();\n     const expectedText = `${targetHero.id} ${targetHero.name}`;\n-    expect(page.selected.getText()).toBe(expectedText);\n+    expect(await page.selected.getText()).toBe(expectedText);\n   });\n \n   it('shows selected hero details', async () => {\n@@ -88,8 +87,8 @@ function selectHeroTests() {\n }\n \n function updateHeroTests() {\n-  it(`can update hero name`, () => {\n-    addToHeroName(nameSuffix);\n+  it(`can update hero name`, async () => {\n+    await addToHeroName(nameSuffix);\n     // Nothing specific to expect other than lack of exceptions.\n   });\n \n@@ -111,15 +110,15 @@ function updateHeroTests() {\n \n }\n \n-function addToHeroName(text: string): promise.Promise<void> {\n+async function addToHeroName(text: string): Promise<void> {\n   const input = element(by.css('input'));\n-  return input.sendKeys(text);\n+  await input.sendKeys(text);\n }\n \n-function expectHeading(hLevel: number, expectedText: string): void {\n-    const hTag = `h${hLevel}`;\n-    const hText = element(by.css(hTag)).getText();\n-    expect(hText).toEqual(expectedText, hTag);\n+async function expectHeading(hLevel: number, expectedText: string): Promise<void> {\n+  const hTag = `h${hLevel}`;\n+  const hText = await element(by.css(hTag)).getText();\n+  expect(hText).toEqual(expectedText, hTag);\n }\n \n function getPageElts() {"
        },
        {
            "sha": "b312ec9e67799f3eef408f75c1e2db7a12667a5d",
            "filename": "aio/content/examples/toh-pt3/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 47,
            "deletions": 48,
            "changes": 95,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt3%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt3%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt3%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,5 +1,4 @@\n import { browser, element, by, ElementFinder } from 'protractor';\n-import { promise } from 'selenium-webdriver';\n \n const expectedH1 = 'Tour of Heroes';\n const expectedTitle = `${expectedH1}`;\n@@ -8,30 +7,30 @@ const targetHero = { id: 16, name: 'RubberMan' };\n const nameSuffix = 'X';\n \n class Hero {\n-    id: number;\n-    name: string;\n-\n-    // Factory methods\n-\n-    // Get hero from s formatted as '<id> <name>'.\n-    static fromString(s: string): Hero {\n-        return {\n-            id: +s.substr(0, s.indexOf(' ')),\n-            name: s.substr(s.indexOf(' ') + 1),\n-        };\n-    }\n-\n-    // Get hero id and name from the given detail element.\n-    static async fromDetail(detail: ElementFinder): Promise<Hero> {\n-        // Get hero id from the first <div>\n-        const id = await detail.all(by.css('div')).first().getText();\n-        // Get name from the h2\n-        const name = await detail.element(by.css('h2')).getText();\n-        return {\n-            id: +id.substr(id.indexOf(' ') + 1),\n-            name: name.substr(0, name.lastIndexOf(' '))\n-        };\n-    }\n+  id: number;\n+  name: string;\n+\n+  // Factory methods\n+\n+  // Get hero from s formatted as '<id> <name>'.\n+  static fromString(s: string): Hero {\n+    return {\n+      id: +s.substr(0, s.indexOf(' ')),\n+      name: s.substr(s.indexOf(' ') + 1),\n+    };\n+  }\n+\n+  // Get hero id and name from the given detail element.\n+  static async fromDetail(detail: ElementFinder): Promise<Hero> {\n+    // Get hero id from the first <div>\n+    const id = await detail.all(by.css('div')).first().getText();\n+    // Get name from the h2\n+    const name = await detail.element(by.css('h2')).getText();\n+    return {\n+      id: +id.substr(id.indexOf(' ') + 1),\n+      name: name.substr(0, name.lastIndexOf(' '))\n+    };\n+  }\n }\n \n describe('Tutorial part 3', () => {\n@@ -42,41 +41,41 @@ describe('Tutorial part 3', () => {\n });\n \n function initialPageTests() {\n-  it(`has title '${expectedTitle}'`, () => {\n-      expect(browser.getTitle()).toEqual(expectedTitle);\n+  it(`has title '${expectedTitle}'`, async () => {\n+      expect(await browser.getTitle()).toEqual(expectedTitle);\n   });\n \n-  it(`has h1 '${expectedH1}'`, () => {\n-      expectHeading(1, expectedH1);\n+  it(`has h1 '${expectedH1}'`, async () => {\n+    await expectHeading(1, expectedH1);\n   });\n \n-  it(`has h2 '${expectedH2}'`, () => {\n-    expectHeading(2, expectedH2);\n+  it(`has h2 '${expectedH2}'`, async () => {\n+    await expectHeading(2, expectedH2);\n   });\n \n-  it('has the right number of heroes', () => {\n+  it('has the right number of heroes', async () => {\n     const page = getPageElts();\n-    expect(page.heroes.count()).toEqual(10);\n+    expect(await page.heroes.count()).toEqual(10);\n   });\n \n-  it('has no selected hero and no hero details', () => {\n+  it('has no selected hero and no hero details', async () => {\n     const page = getPageElts();\n-    expect(page.selected.isPresent()).toBeFalsy('selected hero');\n-    expect(page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n+    expect(await page.selected.isPresent()).toBeFalsy('selected hero');\n+    expect(await page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n   });\n }\n \n function selectHeroTests() {\n-  it(`selects ${targetHero.name} from hero list`, () => {\n+  it(`selects ${targetHero.name} from hero list`, async () => {\n     const hero = element(by.cssContainingText('li span.badge', targetHero.id.toString()));\n-    hero.click();\n+    await hero.click();\n     // Nothing specific to expect other than lack of exceptions.\n   });\n \n-  it(`has selected ${targetHero.name}`, () => {\n+  it(`has selected ${targetHero.name}`, async () => {\n     const page = getPageElts();\n     const expectedText = `${targetHero.id} ${targetHero.name}`;\n-    expect(page.selected.getText()).toBe(expectedText);\n+    expect(await page.selected.getText()).toBe(expectedText);\n   });\n \n   it('shows selected hero details', async () => {\n@@ -88,8 +87,8 @@ function selectHeroTests() {\n }\n \n function updateHeroTests() {\n-  it(`can update hero name`, () => {\n-    addToHeroName(nameSuffix);\n+  it(`can update hero name`, async () => {\n+    await addToHeroName(nameSuffix);\n     // Nothing specific to expect other than lack of exceptions.\n   });\n \n@@ -111,15 +110,15 @@ function updateHeroTests() {\n \n }\n \n-function addToHeroName(text: string): promise.Promise<void> {\n+async function addToHeroName(text: string): Promise<void> {\n   const input = element(by.css('input'));\n-  return input.sendKeys(text);\n+  await input.sendKeys(text);\n }\n \n-function expectHeading(hLevel: number, expectedText: string): void {\n-    const hTag = `h${hLevel}`;\n-    const hText = element(by.css(hTag)).getText();\n-    expect(hText).toEqual(expectedText, hTag);\n+async function expectHeading(hLevel: number, expectedText: string): Promise<void> {\n+  const hTag = `h${hLevel}`;\n+  const hText = await element(by.css(hTag)).getText();\n+  expect(hText).toEqual(expectedText, hTag);\n }\n \n function getPageElts() {"
        },
        {
            "sha": "450d520246c1c18dd1b9ce046845d57b4ff5c683",
            "filename": "aio/content/examples/toh-pt4/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 51,
            "deletions": 53,
            "changes": 104,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt4%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt4%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt4%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,5 +1,4 @@\n import { browser, element, by, ElementFinder } from 'protractor';\n-import { promise } from 'selenium-webdriver';\n \n const expectedH1 = 'Tour of Heroes';\n const expectedTitle = `${expectedH1}`;\n@@ -8,30 +7,30 @@ const targetHero = { id: 16, name: 'RubberMan' };\n const nameSuffix = 'X';\n \n class Hero {\n-    id: number;\n-    name: string;\n-\n-    // Factory methods\n-\n-    // Get hero from s formatted as '<id> <name>'.\n-    static fromString(s: string): Hero {\n-        return {\n-            id: +s.substr(0, s.indexOf(' ')),\n-            name: s.substr(s.indexOf(' ') + 1),\n-        };\n-    }\n-\n-    // Get hero id and name from the given detail element.\n-    static async fromDetail(detail: ElementFinder): Promise<Hero> {\n-        // Get hero id from the first <div>\n-        const id = await detail.all(by.css('div')).first().getText();\n-        // Get name from the h2\n-        const name = await detail.element(by.css('h2')).getText();\n-        return {\n-            id: +id.substr(id.indexOf(' ') + 1),\n-            name: name.substr(0, name.lastIndexOf(' '))\n-        };\n-    }\n+  id: number;\n+  name: string;\n+\n+  // Factory methods\n+\n+  // Get hero from s formatted as '<id> <name>'.\n+  static fromString(s: string): Hero {\n+    return {\n+      id: +s.substr(0, s.indexOf(' ')),\n+      name: s.substr(s.indexOf(' ') + 1),\n+    };\n+  }\n+\n+  // Get hero id and name from the given detail element.\n+  static async fromDetail(detail: ElementFinder): Promise<Hero> {\n+    // Get hero id from the first <div>\n+    const id = await detail.all(by.css('div')).first().getText();\n+    // Get name from the h2\n+    const name = await detail.element(by.css('h2')).getText();\n+    return {\n+      id: +id.substr(id.indexOf(' ') + 1),\n+      name: name.substr(0, name.lastIndexOf(' '))\n+    };\n+  }\n }\n \n describe('Tutorial part 4', () => {\n@@ -42,58 +41,57 @@ describe('Tutorial part 4', () => {\n });\n \n function initialPageTests() {\n-  it(`has title '${expectedTitle}'`, () => {\n-      expect(browser.getTitle()).toEqual(expectedTitle);\n+  it(`has title '${expectedTitle}'`, async () => {\n+    expect(await browser.getTitle()).toEqual(expectedTitle);\n   });\n \n-  it(`has h1 '${expectedH1}'`, () => {\n-      expectHeading(1, expectedH1);\n+  it(`has h1 '${expectedH1}'`, async () => {\n+    await expectHeading(1, expectedH1);\n   });\n \n-  it(`has h2 '${expectedH2}'`, () => {\n-    expectHeading(2, expectedH2);\n+  it(`has h2 '${expectedH2}'`, async () => {\n+    await expectHeading(2, expectedH2);\n   });\n \n-  it('has the right number of heroes', () => {\n+  it('has the right number of heroes', async () => {\n     const page = getPageElts();\n-    expect(page.heroes.count()).toEqual(10);\n+    expect(await page.heroes.count()).toEqual(10);\n   });\n \n-  it('has no selected hero and no hero details', () => {\n+  it('has no selected hero and no hero details', async () => {\n     const page = getPageElts();\n-    expect(page.selected.isPresent()).toBeFalsy('selected hero');\n-    expect(page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n+    expect(await page.selected.isPresent()).toBeFalsy('selected hero');\n+    expect(await page.heroDetail.isPresent()).toBeFalsy('no hero detail');\n   });\n }\n \n function selectHeroTests() {\n-  it(`selects ${targetHero.name} from hero list`, () => {\n+  it(`selects ${targetHero.name} from hero list`, async () => {\n     const hero = element(by.cssContainingText('li span.badge', targetHero.id.toString()));\n-    hero.click();\n+    await hero.click();\n     // Nothing specific to expect other than lack of exceptions.\n   });\n \n-  it(`has selected ${targetHero.name}`, () => {\n+  it(`has selected ${targetHero.name}`, async () => {\n     const page = getPageElts();\n     const expectedText = `${targetHero.id} ${targetHero.name}`;\n-    expect(page.selected.getText()).toBe(expectedText);\n+    expect(await page.selected.getText()).toBe(expectedText);\n   });\n \n   it('shows selected hero details', async () => {\n     const page = getPageElts();\n-    const message = getMessage();\n+    const message = await getMessage();\n     const hero = await Hero.fromDetail(page.heroDetail);\n     expect(hero.id).toEqual(targetHero.id);\n     expect(hero.name).toEqual(targetHero.name.toUpperCase());\n     // Message text contain id number matches the hero.id number\n-    expect(message.getText()).toContain(hero.id);\n-\n+    expect(await message.getText()).toContain(hero.id);\n   });\n }\n \n function updateHeroTests() {\n-  it(`can update hero name`, () => {\n-    addToHeroName(nameSuffix);\n+  it(`can update hero name`, async () => {\n+    await addToHeroName(nameSuffix);\n     // Nothing specific to expect other than lack of exceptions.\n   });\n \n@@ -115,15 +113,15 @@ function updateHeroTests() {\n \n }\n \n-function addToHeroName(text: string): promise.Promise<void> {\n+async function addToHeroName(text: string): Promise<void> {\n   const input = element(by.css('input'));\n-  return input.sendKeys(text);\n+  await input.sendKeys(text);\n }\n \n-function expectHeading(hLevel: number, expectedText: string): void {\n-    const hTag = `h${hLevel}`;\n-    const hText = element(by.css(hTag)).getText();\n-    expect(hText).toEqual(expectedText, hTag);\n+async function expectHeading(hLevel: number, expectedText: string): Promise<void> {\n+  const hTag = `h${hLevel}`;\n+  const hText = await element(by.css(hTag)).getText();\n+  expect(hText).toEqual(expectedText, hTag);\n }\n \n function getPageElts() {\n@@ -134,8 +132,8 @@ function getPageElts() {\n   };\n }\n \n-function getMessage() {\n+async function getMessage() {\n   const hero = element(by.cssContainingText('li span.badge', targetHero.id.toString()));\n-  hero.click();\n+  await hero.click();\n   return element.all(by.css('app-root > app-messages > div > div')).get(1);\n }"
        },
        {
            "sha": "205d500afe80de667c6bc8de3c133573c1033cc3",
            "filename": "aio/content/examples/toh-pt5/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 56,
            "deletions": 57,
            "changes": 113,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt5%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt5%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt5%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,5 +1,4 @@\n import { browser, element, by, ElementFinder } from 'protractor';\n-import { promise } from 'selenium-webdriver';\n \n const expectedH1 = 'Tour of Heroes';\n const expectedTitle = `${expectedH1}`;\n@@ -9,30 +8,30 @@ const nameSuffix = 'X';\n const newHeroName = targetHero.name + nameSuffix;\n \n class Hero {\n-    id: number;\n-    name: string;\n-\n-    // Factory methods\n-\n-    // Get hero from s formatted as '<id> <name>'.\n-    static fromString(s: string): Hero {\n-        return {\n-            id: +s.substr(0, s.indexOf(' ')),\n-            name: s.substr(s.indexOf(' ') + 1),\n-        };\n-    }\n-\n-    // Get hero id and name from the given detail element.\n-    static async fromDetail(detail: ElementFinder): Promise<Hero> {\n-        // Get hero id from the first <div>\n-        const id = await detail.all(by.css('div')).first().getText();\n-        // Get name from the h2\n-        const name = await detail.element(by.css('h2')).getText();\n-        return {\n-            id: +id.substr(id.indexOf(' ') + 1),\n-            name: name.substr(0, name.lastIndexOf(' '))\n-        };\n-    }\n+  id: number;\n+  name: string;\n+\n+  // Factory methods\n+\n+  // Get hero from s formatted as '<id> <name>'.\n+  static fromString(s: string): Hero {\n+    return {\n+      id: +s.substr(0, s.indexOf(' ')),\n+      name: s.substr(s.indexOf(' ') + 1),\n+    };\n+  }\n+\n+  // Get hero id and name from the given detail element.\n+  static async fromDetail(detail: ElementFinder): Promise<Hero> {\n+    // Get hero id from the first <div>\n+    const id = await detail.all(by.css('div')).first().getText();\n+    // Get name from the h2\n+    const name = await detail.element(by.css('h2')).getText();\n+    return {\n+      id: +id.substr(id.indexOf(' ') + 1),\n+      name: name.substr(0, name.lastIndexOf(' '))\n+    };\n+  }\n }\n \n describe('Tutorial part 5', () => {\n@@ -58,23 +57,23 @@ describe('Tutorial part 5', () => {\n \n   describe('Initial page', () => {\n \n-    it(`has title '${expectedTitle}'`, () => {\n-        expect(browser.getTitle()).toEqual(expectedTitle);\n+    it(`has title '${expectedTitle}'`, async () => {\n+        expect(await browser.getTitle()).toEqual(expectedTitle);\n     });\n \n-    it(`has h1 '${expectedH1}'`, () => {\n-        expectHeading(1, expectedH1);\n+    it(`has h1 '${expectedH1}'`, async () => {\n+      await expectHeading(1, expectedH1);\n     });\n \n     const expectedViewNames = ['Dashboard', 'Heroes'];\n-    it(`has views ${expectedViewNames}`, () => {\n-      const viewNames = getPageElts().navElts.map((el: ElementFinder) => el.getText());\n+    it(`has views ${expectedViewNames}`, async () => {\n+      const viewNames = await getPageElts().navElts.map(el => el.getText());\n       expect(viewNames).toEqual(expectedViewNames);\n     });\n \n-    it('has dashboard as the active view', () => {\n+    it('has dashboard as the active view', async () => {\n       const page = getPageElts();\n-      expect(page.appDashboard.isPresent()).toBeTruthy();\n+      expect(await page.appDashboard.isPresent()).toBeTruthy();\n     });\n \n   });\n@@ -83,19 +82,19 @@ describe('Tutorial part 5', () => {\n \n     beforeAll(() => browser.get(''));\n \n-    it('has top heroes', () => {\n+    it('has top heroes', async () => {\n       const page = getPageElts();\n-      expect(page.topHeroes.count()).toEqual(4);\n+      expect(await page.topHeroes.count()).toEqual(4);\n     });\n \n     it(`selects and routes to ${targetHero.name} details`, dashboardSelectTargetHero);\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`saves and shows ${newHeroName} in Dashboard`, () => {\n-      element(by.buttonText('go back')).click();\n+    it(`saves and shows ${newHeroName} in Dashboard`, async () => {\n+      await element(by.buttonText('go back')).click();\n       const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-      expect(targetHeroElt.getText()).toEqual(newHeroName);\n+      expect(await targetHeroElt.getText()).toEqual(newHeroName);\n     });\n \n   });\n@@ -104,48 +103,48 @@ describe('Tutorial part 5', () => {\n \n     beforeAll(() => browser.get(''));\n \n-    it('can switch to Heroes view', () => {\n-      getPageElts().appHeroesHref.click();\n+    it('can switch to Heroes view', async () => {\n+      await getPageElts().appHeroesHref.click();\n       const page = getPageElts();\n-      expect(page.appHeroes.isPresent()).toBeTruthy();\n-      expect(page.allHeroes.count()).toEqual(10, 'number of heroes');\n+      expect(await page.appHeroes.isPresent()).toBeTruthy();\n+      expect(await page.allHeroes.count()).toEqual(10, 'number of heroes');\n     });\n \n     it('can route to hero details', async () => {\n-      getHeroLiEltById(targetHero.id).click();\n+      await getHeroLiEltById(targetHero.id).click();\n \n       const page = getPageElts();\n-      expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+      expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n       const hero = await Hero.fromDetail(page.heroDetail);\n       expect(hero.id).toEqual(targetHero.id);\n       expect(hero.name).toEqual(targetHero.name.toUpperCase());\n     });\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`shows ${newHeroName} in Heroes list`, () => {\n-      element(by.buttonText('go back')).click();\n+    it(`shows ${newHeroName} in Heroes list`, async () => {\n+      await element(by.buttonText('go back')).click();\n       const expectedText = `${targetHero.id} ${newHeroName}`;\n-      expect(getHeroLiEltById(targetHero.id).getText()).toEqual(expectedText);\n+      expect(await getHeroLiEltById(targetHero.id).getText()).toEqual(expectedText);\n     });\n \n   });\n \n   async function dashboardSelectTargetHero() {\n     const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-    expect(targetHeroElt.getText()).toEqual(targetHero.name);\n-    targetHeroElt.click();\n+    expect(await targetHeroElt.getText()).toEqual(targetHero.name);\n+    await targetHeroElt.click();\n \n     const page = getPageElts();\n-    expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+    expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n     const hero = await Hero.fromDetail(page.heroDetail);\n     expect(hero.id).toEqual(targetHero.id);\n     expect(hero.name).toEqual(targetHero.name.toUpperCase());\n   }\n \n   async function updateHeroNameInDetailView() {\n     // Assumes that the current view is the hero details view.\n-    addToHeroName(nameSuffix);\n+    await addToHeroName(nameSuffix);\n \n     const page = getPageElts();\n     const hero = await Hero.fromDetail(page.heroDetail);\n@@ -155,15 +154,15 @@ describe('Tutorial part 5', () => {\n \n });\n \n-function addToHeroName(text: string): promise.Promise<void> {\n+async function addToHeroName(text: string): Promise<void> {\n   const input = element(by.css('input'));\n-  return input.sendKeys(text);\n+  await input.sendKeys(text);\n }\n \n-function expectHeading(hLevel: number, expectedText: string): void {\n-    const hTag = `h${hLevel}`;\n-    const hText = element(by.css(hTag)).getText();\n-    expect(hText).toEqual(expectedText, hTag);\n+async function expectHeading(hLevel: number, expectedText: string): Promise<void> {\n+  const hTag = `h${hLevel}`;\n+  const hText = await element(by.css(hTag)).getText();\n+  expect(hText).toEqual(expectedText, hTag);\n }\n \n function getHeroLiEltById(id: number) {"
        },
        {
            "sha": "c92e101fb0b71d72be3febfa1180d655818f650a",
            "filename": "aio/content/examples/toh-pt6/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 79,
            "deletions": 82,
            "changes": 161,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt6%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftoh-pt6%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftoh-pt6%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1,5 +1,4 @@\n import { browser, element, by, ElementFinder, ElementArrayFinder } from 'protractor';\n-import { promise } from 'selenium-webdriver';\n \n const expectedH1 = 'Tour of Heroes';\n const expectedTitle = `${expectedH1}`;\n@@ -24,9 +23,9 @@ class Hero {\n \n   // Hero from hero list <li> element.\n   static async fromLi(li: ElementFinder): Promise<Hero> {\n-      const stringsFromA = await li.all(by.css('a')).getText();\n-      const strings = stringsFromA[0].split(' ');\n-      return { id: +strings[0], name: strings[1] };\n+    const stringsFromA = await li.all(by.css('a')).getText();\n+    const strings = stringsFromA[0].split(' ');\n+    return { id: +strings[0], name: strings[1] };\n   }\n \n   // Hero id and name from the given detail element.\n@@ -36,8 +35,8 @@ class Hero {\n     // Get name from the h2\n     const name = await detail.element(by.css('h2')).getText();\n     return {\n-        id: +id.substr(id.indexOf(' ') + 1),\n-        name: name.substr(0, name.lastIndexOf(' '))\n+      id: +id.substr(id.indexOf(' ') + 1),\n+      name: name.substr(0, name.lastIndexOf(' '))\n     };\n   }\n }\n@@ -70,23 +69,23 @@ describe('Tutorial part 6', () => {\n \n   describe('Initial page', () => {\n \n-    it(`has title '${expectedTitle}'`, () => {\n-      expect(browser.getTitle()).toEqual(expectedTitle);\n+    it(`has title '${expectedTitle}'`, async () => {\n+      expect(await browser.getTitle()).toEqual(expectedTitle);\n     });\n \n-    it(`has h1 '${expectedH1}'`, () => {\n-        expectHeading(1, expectedH1);\n+    it(`has h1 '${expectedH1}'`, async () => {\n+      await expectHeading(1, expectedH1);\n     });\n \n     const expectedViewNames = ['Dashboard', 'Heroes'];\n-    it(`has views ${expectedViewNames}`, () => {\n-      const viewNames = getPageElts().navElts.map((el: ElementFinder) => el.getText());\n+    it(`has views ${expectedViewNames}`, async () => {\n+      const viewNames = await getPageElts().navElts.map(el => el.getText());\n       expect(viewNames).toEqual(expectedViewNames);\n     });\n \n-    it('has dashboard as the active view', () => {\n+    it('has dashboard as the active view', async () => {\n       const page = getPageElts();\n-      expect(page.appDashboard.isPresent()).toBeTruthy();\n+      expect(await page.appDashboard.isPresent()).toBeTruthy();\n     });\n \n   });\n@@ -95,33 +94,33 @@ describe('Tutorial part 6', () => {\n \n     beforeAll(() => browser.get(''));\n \n-    it('has top heroes', () => {\n+    it('has top heroes', async () => {\n       const page = getPageElts();\n-      expect(page.topHeroes.count()).toEqual(4);\n+      expect(await page.topHeroes.count()).toEqual(4);\n     });\n \n     it(`selects and routes to ${targetHero.name} details`, dashboardSelectTargetHero);\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`cancels and shows ${targetHero.name} in Dashboard`, () => {\n-      element(by.buttonText('go back')).click();\n-      browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n+    it(`cancels and shows ${targetHero.name} in Dashboard`, async () => {\n+      await element(by.buttonText('go back')).click();\n+      await browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n \n       const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-      expect(targetHeroElt.getText()).toEqual(targetHero.name);\n+      expect(await targetHeroElt.getText()).toEqual(targetHero.name);\n     });\n \n     it(`selects and routes to ${targetHero.name} details`, dashboardSelectTargetHero);\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`saves and shows ${newHeroName} in Dashboard`, () => {\n-      element(by.buttonText('save')).click();\n-      browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n+    it(`saves and shows ${newHeroName} in Dashboard`, async () => {\n+      await element(by.buttonText('save')).click();\n+      await browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n \n       const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-      expect(targetHeroElt.getText()).toEqual(newHeroName);\n+      expect(await targetHeroElt.getText()).toEqual(newHeroName);\n     });\n \n   });\n@@ -130,40 +129,40 @@ describe('Tutorial part 6', () => {\n \n     beforeAll(() => browser.get(''));\n \n-    it('can switch to Heroes view', () => {\n-      getPageElts().appHeroesHref.click();\n+    it('can switch to Heroes view', async () => {\n+      await getPageElts().appHeroesHref.click();\n       const page = getPageElts();\n-      expect(page.appHeroes.isPresent()).toBeTruthy();\n-      expect(page.allHeroes.count()).toEqual(10, 'number of heroes');\n+      expect(await page.appHeroes.isPresent()).toBeTruthy();\n+      expect(await page.allHeroes.count()).toEqual(10, 'number of heroes');\n     });\n \n     it('can route to hero details', async () => {\n-      getHeroLiEltById(targetHero.id).click();\n+      await getHeroLiEltById(targetHero.id).click();\n \n       const page = getPageElts();\n-      expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+      expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n       const hero = await Hero.fromDetail(page.heroDetail);\n       expect(hero.id).toEqual(targetHero.id);\n       expect(hero.name).toEqual(targetHero.name.toUpperCase());\n     });\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`shows ${newHeroName} in Heroes list`, () => {\n-      element(by.buttonText('save')).click();\n-      browser.waitForAngular();\n+    it(`shows ${newHeroName} in Heroes list`, async () => {\n+      await element(by.buttonText('save')).click();\n+      await browser.waitForAngular();\n       const expectedText = `${targetHero.id} ${newHeroName}`;\n-      expect(getHeroAEltById(targetHero.id).getText()).toEqual(expectedText);\n+      expect(await getHeroAEltById(targetHero.id).getText()).toEqual(expectedText);\n     });\n \n     it(`deletes ${newHeroName} from Heroes list`, async () => {\n       const heroesBefore = await toHeroArray(getPageElts().allHeroes);\n       const li = getHeroLiEltById(targetHero.id);\n-      li.element(by.buttonText('x')).click();\n+      await li.element(by.buttonText('x')).click();\n \n       const page = getPageElts();\n-      expect(page.appHeroes.isPresent()).toBeTruthy();\n-      expect(page.allHeroes.count()).toEqual(9, 'number of heroes');\n+      expect(await page.appHeroes.isPresent()).toBeTruthy();\n+      expect(await page.allHeroes.count()).toEqual(9, 'number of heroes');\n       const heroesAfter = await toHeroArray(page.allHeroes);\n       // console.log(await Hero.fromLi(page.allHeroes[0]));\n       const expectedHeroes =  heroesBefore.filter(h => h.name !== newHeroName);\n@@ -176,8 +175,8 @@ describe('Tutorial part 6', () => {\n       const heroesBefore = await toHeroArray(getPageElts().allHeroes);\n       const numHeroes = heroesBefore.length;\n \n-      element(by.css('input')).sendKeys(addedHeroName);\n-      element(by.buttonText('add')).click();\n+      await element(by.css('input')).sendKeys(addedHeroName);\n+      await element(by.buttonText('add')).click();\n \n       const page = getPageElts();\n       const heroesAfter = await toHeroArray(page.allHeroes);\n@@ -190,25 +189,25 @@ describe('Tutorial part 6', () => {\n     });\n \n     it('displays correctly styled buttons', async () => {\n-      element.all(by.buttonText('x')).then(buttons => {\n-        for (const button of buttons) {\n-          // Inherited styles from styles.css\n-          expect(button.getCssValue('font-family')).toBe('Arial');\n-          expect(button.getCssValue('border')).toContain('none');\n-          expect(button.getCssValue('padding')).toBe('5px 10px');\n-          expect(button.getCssValue('border-radius')).toBe('4px');\n-          // Styles defined in heroes.component.css\n-          expect(button.getCssValue('left')).toBe('194px');\n-          expect(button.getCssValue('top')).toBe('-32px');\n-        }\n-      });\n+      const buttons = await element.all(by.buttonText('x'));\n+\n+      for (const button of buttons) {\n+        // Inherited styles from styles.css\n+        expect(await button.getCssValue('font-family')).toBe('Arial');\n+        expect(await button.getCssValue('border')).toContain('none');\n+        expect(await button.getCssValue('padding')).toBe('5px 10px');\n+        expect(await button.getCssValue('border-radius')).toBe('4px');\n+        // Styles defined in heroes.component.css\n+        expect(await button.getCssValue('left')).toBe('194px');\n+        expect(await button.getCssValue('top')).toBe('-32px');\n+      }\n \n       const addButton = element(by.buttonText('add'));\n       // Inherited styles from styles.css\n-      expect(addButton.getCssValue('font-family')).toBe('Arial');\n-      expect(addButton.getCssValue('border')).toContain('none');\n-      expect(addButton.getCssValue('padding')).toBe('5px 10px');\n-      expect(addButton.getCssValue('border-radius')).toBe('4px');\n+      expect(await addButton.getCssValue('font-family')).toBe('Arial');\n+      expect(await addButton.getCssValue('border')).toContain('none');\n+      expect(await addButton.getCssValue('padding')).toBe('5px 10px');\n+      expect(await addButton.getCssValue('border-radius')).toBe('4px');\n     });\n \n   });\n@@ -218,34 +217,34 @@ describe('Tutorial part 6', () => {\n     beforeAll(() => browser.get(''));\n \n     it(`searches for 'Ma'`, async () => {\n-      getPageElts().searchBox.sendKeys('Ma');\n-      browser.sleep(1000);\n+      await getPageElts().searchBox.sendKeys('Ma');\n+      await browser.sleep(1000);\n \n-      expect(getPageElts().searchResults.count()).toBe(4);\n+      expect(await getPageElts().searchResults.count()).toBe(4);\n     });\n \n     it(`continues search with 'g'`, async () => {\n-      getPageElts().searchBox.sendKeys('g');\n-      browser.sleep(1000);\n-      expect(getPageElts().searchResults.count()).toBe(2);\n+      await getPageElts().searchBox.sendKeys('g');\n+      await browser.sleep(1000);\n+      expect(await getPageElts().searchResults.count()).toBe(2);\n     });\n \n     it(`continues search with 'e' and gets ${targetHero.name}`, async () => {\n-      getPageElts().searchBox.sendKeys('n');\n-      browser.sleep(1000);\n+      await getPageElts().searchBox.sendKeys('n');\n+      await browser.sleep(1000);\n       const page = getPageElts();\n-      expect(page.searchResults.count()).toBe(1);\n+      expect(await page.searchResults.count()).toBe(1);\n       const hero = page.searchResults.get(0);\n-      expect(hero.getText()).toEqual(targetHero.name);\n+      expect(await hero.getText()).toEqual(targetHero.name);\n     });\n \n     it(`navigates to ${targetHero.name} details view`, async () => {\n       const hero = getPageElts().searchResults.get(0);\n-      expect(hero.getText()).toEqual(targetHero.name);\n-      hero.click();\n+      expect(await hero.getText()).toEqual(targetHero.name);\n+      await hero.click();\n \n       const page = getPageElts();\n-      expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+      expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n       const hero2 = await Hero.fromDetail(page.heroDetail);\n       expect(hero2.id).toEqual(targetHero.id);\n       expect(hero2.name).toEqual(targetHero.name.toUpperCase());\n@@ -254,20 +253,20 @@ describe('Tutorial part 6', () => {\n \n   async function dashboardSelectTargetHero() {\n     const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-    expect(targetHeroElt.getText()).toEqual(targetHero.name);\n-    targetHeroElt.click();\n-    browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n+    expect(await targetHeroElt.getText()).toEqual(targetHero.name);\n+    await targetHeroElt.click();\n+    await browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n \n     const page = getPageElts();\n-    expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+    expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n     const hero = await Hero.fromDetail(page.heroDetail);\n     expect(hero.id).toEqual(targetHero.id);\n     expect(hero.name).toEqual(targetHero.name.toUpperCase());\n   }\n \n   async function updateHeroNameInDetailView() {\n     // Assumes that the current view is the hero details view.\n-    addToHeroName(nameSuffix);\n+    await addToHeroName(nameSuffix);\n \n     const page = getPageElts();\n     const hero = await Hero.fromDetail(page.heroDetail);\n@@ -277,15 +276,15 @@ describe('Tutorial part 6', () => {\n \n });\n \n-function addToHeroName(text: string): promise.Promise<void> {\n+async function addToHeroName(text: string): Promise<void> {\n   const input = element(by.css('input'));\n-  return input.sendKeys(text);\n+  await input.sendKeys(text);\n }\n \n-function expectHeading(hLevel: number, expectedText: string): void {\n-    const hTag = `h${hLevel}`;\n-    const hText = element(by.css(hTag)).getText();\n-    expect(hText).toEqual(expectedText, hTag);\n+async function expectHeading(hLevel: number, expectedText: string): Promise<void> {\n+  const hTag = `h${hLevel}`;\n+  const hText = await element(by.css(hTag)).getText();\n+  expect(hText).toEqual(expectedText, hTag);\n }\n \n function getHeroAEltById(id: number): ElementFinder {\n@@ -299,7 +298,5 @@ function getHeroLiEltById(id: number): ElementFinder {\n }\n \n async function toHeroArray(allHeroes: ElementArrayFinder): Promise<Hero[]> {\n-  const promisedHeroes = await allHeroes.map(Hero.fromLi);\n-  // The cast is necessary to get around issuing with the signature of Promise.all()\n-  return Promise.all(promisedHeroes) as Promise<any>;\n+  return allHeroes.map(Hero.fromLi);\n }"
        },
        {
            "sha": "c0a29c9b6a64e181320d61ac95669ce59b6047ea",
            "filename": "aio/content/examples/two-way-binding/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 17,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftwo-way-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Ftwo-way-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftwo-way-binding%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,41 +2,39 @@ import { browser, element, by } from 'protractor';\n \n describe('Two-way binding e2e tests', () => {\n \n-  beforeEach(() => {\n-    browser.get('');\n-  });\n+  beforeEach(() => browser.get(''));\n \n   const minusButton = element.all(by.css('button')).get(0);\n   const plusButton = element.all(by.css('button')).get(1);\n   const minus2Button = element.all(by.css('button')).get(2);\n   const plus2Button = element.all(by.css('button')).get(3);\n \n-  it('should display Two-way Binding', () => {\n-    expect(element(by.css('h1')).getText()).toEqual('Two-way Binding');\n+  it('should display Two-way Binding', async () => {\n+    expect(await element(by.css('h1')).getText()).toEqual('Two-way Binding');\n   });\n \n-  it('should display four buttons', () => {\n-    expect(minusButton.getText()).toBe('-');\n-    expect(plusButton.getText()).toBe('+');\n-    expect(minus2Button.getText()).toBe('-');\n-    expect(plus2Button.getText()).toBe('+');\n+  it('should display four buttons', async () => {\n+    expect(await minusButton.getText()).toBe('-');\n+    expect(await plusButton.getText()).toBe('+');\n+    expect(await minus2Button.getText()).toBe('-');\n+    expect(await plus2Button.getText()).toBe('+');\n   });\n \n   it('should change font size labels', async () => {\n     await minusButton.click();\n-    expect(element.all(by.css('label')).get(0).getText()).toEqual('FontSize: 15px');\n-    expect(element.all(by.css('input')).get(0).getAttribute('value')).toEqual('15');\n+    expect(await element.all(by.css('label')).get(0).getText()).toEqual('FontSize: 15px');\n+    expect(await element.all(by.css('input')).get(0).getAttribute('value')).toEqual('15');\n \n     await plusButton.click();\n-    expect(element.all(by.css('label')).get(0).getText()).toEqual('FontSize: 16px');\n-    expect(element.all(by.css('input')).get(0).getAttribute('value')).toEqual('16');\n+    expect(await element.all(by.css('label')).get(0).getText()).toEqual('FontSize: 16px');\n+    expect(await element.all(by.css('input')).get(0).getAttribute('value')).toEqual('16');\n \n     await minus2Button.click();\n-    await expect(element.all(by.css('label')).get(2).getText()).toEqual('FontSize: 15px');\n+    expect(await element.all(by.css('label')).get(2).getText()).toEqual('FontSize: 15px');\n   });\n \n-  it('should display De-sugared two-way binding', () => {\n-    expect(element(by.css('h2')).getText()).toEqual('De-sugared two-way binding');\n+  it('should display De-sugared two-way binding', async () => {\n+    expect(await element(by.css('h2')).getText()).toEqual('De-sugared two-way binding');\n   });\n \n });"
        },
        {
            "sha": "ffebea3ff196ed0601bdc4da9e16934eda2d2f0e",
            "filename": "aio/content/examples/universal/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 72,
            "deletions": 72,
            "changes": 144,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Funiversal%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Funiversal%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Funiversal%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -52,110 +52,110 @@ describe('Universal', () => {\n   describe('Initial page', () => {\n     beforeAll(() => browser.get(''));\n \n-    it(`has title '${expectedTitle}'`, () => {\n-      expect(browser.getTitle()).toEqual(expectedTitle);\n+    it(`has title '${expectedTitle}'`, async () => {\n+      expect(await browser.getTitle()).toEqual(expectedTitle);\n     });\n \n-    it(`has h1 '${expectedH1}'`, () => {\n-        expectHeading(1, expectedH1);\n+    it(`has h1 '${expectedH1}'`, async () => {\n+      await expectHeading(1, expectedH1);\n     });\n \n     const expectedViewNames = ['Dashboard', 'Heroes'];\n-    it(`has views ${expectedViewNames}`, () => {\n-      const viewNames = getPageElts().navElts.map((el: ElementFinder) => el.getText());\n+    it(`has views ${expectedViewNames}`, async () => {\n+      const viewNames = await getPageElts().navElts.map(el => el.getText());\n       expect(viewNames).toEqual(expectedViewNames);\n     });\n \n-    it('has dashboard as the active view', () => {\n+    it('has dashboard as the active view', async () => {\n       const page = getPageElts();\n-      expect(page.appDashboard.isPresent()).toBeTruthy();\n+      expect(await page.appDashboard.isPresent()).toBeTruthy();\n     });\n   });\n \n   describe('Dashboard tests', () => {\n     beforeAll(() => browser.get(''));\n \n-    it('has top heroes', () => {\n+    it('has top heroes', async () => {\n       const page = getPageElts();\n-      expect(page.topHeroes.count()).toEqual(4);\n+      expect(await page.topHeroes.count()).toEqual(4);\n     });\n \n     it(`selects and routes to ${targetHero.name} details`, dashboardSelectTargetHero);\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`cancels and shows ${targetHero.name} in Dashboard`, () => {\n-      element(by.buttonText('go back')).click();\n-      browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n+    it(`cancels and shows ${targetHero.name} in Dashboard`, async () => {\n+      await element(by.buttonText('go back')).click();\n+      await browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n \n       const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-      expect(targetHeroElt.getText()).toEqual(targetHero.name);\n+      expect(await targetHeroElt.getText()).toEqual(targetHero.name);\n     });\n \n     it(`selects and routes to ${targetHero.name} details`, dashboardSelectTargetHero);\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`saves and shows ${newHeroName} in Dashboard`, () => {\n-      element(by.buttonText('save')).click();\n-      browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n+    it(`saves and shows ${newHeroName} in Dashboard`, async () => {\n+      await element(by.buttonText('save')).click();\n+      await browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n \n       const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-      expect(targetHeroElt.getText()).toEqual(newHeroName);\n+      expect(await targetHeroElt.getText()).toEqual(newHeroName);\n     });\n   });\n \n   describe('Heroes tests', () => {\n     beforeAll(() => browser.get(''));\n \n-    it('can switch to Heroes view', () => {\n-      getPageElts().appHeroesHref.click();\n+    it('can switch to Heroes view', async () => {\n+      await getPageElts().appHeroesHref.click();\n       const page = getPageElts();\n-      expect(page.appHeroes.isPresent()).toBeTruthy();\n-      expect(page.allHeroes.count()).toEqual(10, 'number of heroes');\n+      expect(await page.appHeroes.isPresent()).toBeTruthy();\n+      expect(await page.allHeroes.count()).toEqual(10, 'number of heroes');\n     });\n \n     it('can route to hero details', async () => {\n-      getHeroLiEltById(targetHero.id).click();\n+      await getHeroLiEltById(targetHero.id).click();\n \n       const page = getPageElts();\n-      expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+      expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n       const hero = await Hero.fromDetail(page.heroDetail);\n       expect(hero.id).toEqual(targetHero.id);\n       expect(hero.name).toEqual(targetHero.name.toUpperCase());\n     });\n \n     it(`updates hero name (${newHeroName}) in details view`, updateHeroNameInDetailView);\n \n-    it(`shows ${newHeroName} in Heroes list`, () => {\n-      element(by.buttonText('save')).click();\n-      browser.waitForAngular();\n+    it(`shows ${newHeroName} in Heroes list`, async () => {\n+      await element(by.buttonText('save')).click();\n+      await browser.waitForAngular();\n       const expectedText = `${targetHero.id} ${newHeroName}`;\n-      expect(getHeroAEltById(targetHero.id).getText()).toEqual(expectedText);\n+      expect(await getHeroAEltById(targetHero.id).getText()).toEqual(expectedText);\n     });\n \n     it(`deletes ${newHeroName} from Heroes list`, async () => {\n       const heroesBefore = await toHeroArray(getPageElts().allHeroes);\n       const li = getHeroLiEltById(targetHero.id);\n-      li.element(by.buttonText('x')).click();\n+      await li.element(by.buttonText('x')).click();\n \n       const page = getPageElts();\n-      expect(page.appHeroes.isPresent()).toBeTruthy();\n-      expect(page.allHeroes.count()).toEqual(9, 'number of heroes');\n+      expect(await page.appHeroes.isPresent()).toBeTruthy();\n+      expect(await page.allHeroes.count()).toEqual(9, 'number of heroes');\n       const heroesAfter = await toHeroArray(page.allHeroes);\n       // console.log(await Hero.fromLi(page.allHeroes[0]));\n       const expectedHeroes =  heroesBefore.filter(h => h.name !== newHeroName);\n       expect(heroesAfter).toEqual(expectedHeroes);\n-      // expect(page.selectedHeroSubview.isPresent()).toBeFalsy();\n+      // expect(await page.selectedHeroSubview.isPresent()).toBeFalsy();\n     });\n \n     it(`adds back ${targetHero.name}`, async () => {\n       const updatedHeroName = 'Alice';\n       const heroesBefore = await toHeroArray(getPageElts().allHeroes);\n       const numHeroes = heroesBefore.length;\n \n-      element(by.css('input')).sendKeys(updatedHeroName);\n-      element(by.buttonText('add')).click();\n+      await element(by.css('input')).sendKeys(updatedHeroName);\n+      await element(by.buttonText('add')).click();\n \n       const page = getPageElts();\n       const heroesAfter = await toHeroArray(page.allHeroes);\n@@ -168,87 +168,87 @@ describe('Universal', () => {\n     });\n \n     it('displays correctly styled buttons', async () => {\n-      element.all(by.buttonText('x')).then(buttons => {\n-        for (const button of buttons) {\n-          // Inherited styles from styles.css\n-          expect(button.getCssValue('font-family')).toBe('Arial');\n-          expect(button.getCssValue('border')).toContain('none');\n-          expect(button.getCssValue('padding')).toBe('5px 10px');\n-          expect(button.getCssValue('border-radius')).toBe('4px');\n-          // Styles defined in heroes.component.css\n-          expect(button.getCssValue('left')).toBe('194px');\n-          expect(button.getCssValue('top')).toBe('-32px');\n-        }\n-      });\n+      const buttons = await element.all(by.buttonText('x'));\n+\n+      for (const button of buttons) {\n+        // Inherited styles from styles.css\n+        expect(await button.getCssValue('font-family')).toBe('Arial');\n+        expect(await button.getCssValue('border')).toContain('none');\n+        expect(await button.getCssValue('padding')).toBe('5px 10px');\n+        expect(await button.getCssValue('border-radius')).toBe('4px');\n+        // Styles defined in heroes.component.css\n+        expect(await button.getCssValue('left')).toBe('194px');\n+        expect(await button.getCssValue('top')).toBe('-32px');\n+      }\n \n       const addButton = element(by.buttonText('add'));\n       // Inherited styles from styles.css\n-      expect(addButton.getCssValue('font-family')).toBe('Arial');\n-      expect(addButton.getCssValue('border')).toContain('none');\n-      expect(addButton.getCssValue('padding')).toBe('5px 10px');\n-      expect(addButton.getCssValue('border-radius')).toBe('4px');\n+      expect(await addButton.getCssValue('font-family')).toBe('Arial');\n+      expect(await addButton.getCssValue('border')).toContain('none');\n+      expect(await addButton.getCssValue('padding')).toBe('5px 10px');\n+      expect(await addButton.getCssValue('border-radius')).toBe('4px');\n     });\n   });\n \n   describe('Progressive hero search', () => {\n     beforeAll(() => browser.get(''));\n \n     it(`searches for 'Ma'`, async () => {\n-      getPageElts().searchBox.sendKeys('Ma');\n-      browser.sleep(1000);\n+      await getPageElts().searchBox.sendKeys('Ma');\n+      await browser.sleep(1000);\n \n-      expect(getPageElts().searchResults.count()).toBe(4);\n+      expect(await getPageElts().searchResults.count()).toBe(4);\n     });\n \n     it(`continues search with 'g'`, async () => {\n-      getPageElts().searchBox.sendKeys('g');\n-      browser.sleep(1000);\n-      expect(getPageElts().searchResults.count()).toBe(2);\n+      await getPageElts().searchBox.sendKeys('g');\n+      await browser.sleep(1000);\n+      expect(await getPageElts().searchResults.count()).toBe(2);\n     });\n \n     it(`continues search with 'e' and gets ${targetHero.name}`, async () => {\n-      getPageElts().searchBox.sendKeys('n');\n-      browser.sleep(1000);\n+      await getPageElts().searchBox.sendKeys('n');\n+      await browser.sleep(1000);\n       const page = getPageElts();\n-      expect(page.searchResults.count()).toBe(1);\n+      expect(await page.searchResults.count()).toBe(1);\n       const hero = page.searchResults.get(0);\n-      expect(hero.getText()).toEqual(targetHero.name);\n+      expect(await hero.getText()).toEqual(targetHero.name);\n     });\n \n     it(`navigates to ${targetHero.name} details view`, async () => {\n       const hero = getPageElts().searchResults.get(0);\n-      expect(hero.getText()).toEqual(targetHero.name);\n-      hero.click();\n+      expect(await hero.getText()).toEqual(targetHero.name);\n+      await hero.click();\n \n       const page = getPageElts();\n-      expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+      expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n       const hero2 = await Hero.fromDetail(page.heroDetail);\n       expect(hero2.id).toEqual(targetHero.id);\n       expect(hero2.name).toEqual(targetHero.name.toUpperCase());\n     });\n   });\n \n   // Helpers\n-  function addToHeroName(text: string): Promise<void> {\n-    return element(by.css('input')).sendKeys(text) as Promise<void>;\n+  async function addToHeroName(text: string): Promise<void> {\n+    await element(by.css('input')).sendKeys(text);\n   }\n \n   async function dashboardSelectTargetHero(): Promise<void> {\n     const targetHeroElt = getPageElts().topHeroes.get(targetHeroDashboardIndex);\n-    expect(targetHeroElt.getText()).toEqual(targetHero.name);\n-    targetHeroElt.click();\n-    browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n+    expect(await targetHeroElt.getText()).toEqual(targetHero.name);\n+    await targetHeroElt.click();\n+    await browser.waitForAngular(); // seems necessary to gets tests to pass for toh-pt6\n \n     const page = getPageElts();\n-    expect(page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n+    expect(await page.heroDetail.isPresent()).toBeTruthy('shows hero detail');\n     const hero = await Hero.fromDetail(page.heroDetail);\n     expect(hero.id).toEqual(targetHero.id);\n     expect(hero.name).toEqual(targetHero.name.toUpperCase());\n   }\n \n-  function expectHeading(hLevel: number, expectedText: string): void {\n+  async function expectHeading(hLevel: number, expectedText: string): Promise<void> {\n       const hTag = `h${hLevel}`;\n-      const hText = element(by.css(hTag)).getText();\n+      const hText = await element(by.css(hTag)).getText();\n       expect(hText).toEqual(expectedText, hTag);\n   }\n \n@@ -290,7 +290,7 @@ describe('Universal', () => {\n \n   async function updateHeroNameInDetailView(): Promise<void> {\n     // Assumes that the current view is the hero details view.\n-    addToHeroName(nameSuffix);\n+    await addToHeroName(nameSuffix);\n \n     const page = getPageElts();\n     const hero = await Hero.fromDetail(page.heroDetail);"
        },
        {
            "sha": "c38ad9dcb628c003cb1fcd925c2bb333b9581185",
            "filename": "aio/content/examples/upgrade-module/e2e-spec.ts",
            "status": "modified",
            "additions": 42,
            "deletions": 64,
            "changes": 106,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-module%2Fe2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-module%2Fe2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fupgrade-module%2Fe2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -4,152 +4,130 @@ describe('Upgrade Tests', () => {\n \n   describe('AngularJS Auto-bootstrap', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-ng-app.html');\n-    });\n+    beforeAll(() => browser.get('/index-ng-app.html'));\n \n-    it('bootstraps as expected', () => {\n-      expect(element(by.css('#message')).getText()).toEqual('Hello world');\n+    it('bootstraps as expected', async () => {\n+      expect(await element(by.css('#message')).getText()).toEqual('Hello world');\n     });\n \n   });\n \n   describe('AngularJS JavaScript Bootstrap', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-bootstrap.html');\n-    });\n+    beforeAll(() => browser.get('/index-bootstrap.html'));\n \n-    it('bootstraps as expected', () => {\n-      expect(element(by.css('#message')).getText()).toEqual('Hello world');\n+    it('bootstraps as expected', async () => {\n+      expect(await element(by.css('#message')).getText()).toEqual('Hello world');\n     });\n \n   });\n \n   describe('AngularJS-Angular Hybrid Bootstrap', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-ajs-a-hybrid-bootstrap.html');\n-    });\n+    beforeAll(() => browser.get('/index-ajs-a-hybrid-bootstrap.html'));\n \n-    it('bootstraps as expected', () => {\n-      expect(element(by.css('#message')).getText()).toEqual('Hello world');\n+    it('bootstraps as expected', async () => {\n+      expect(await element(by.css('#message')).getText()).toEqual('Hello world');\n     });\n \n   });\n \n-  describe('Upgraded static component', () => {\n+  describe('Upgraded static component', async () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-upgrade-static.html');\n-    });\n+    beforeAll(() => browser.get('/index-upgrade-static.html'));\n \n-    it('renders', () => {\n-      expect(element(by.css('h2')).getText()).toEqual('Windstorm details!');\n+    it('renders', async () => {\n+      expect(await element(by.css('h2')).getText()).toEqual('Windstorm details!');\n     });\n \n   });\n \n \n   describe('Upgraded component with IO', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-upgrade-io.html');\n-    });\n+    beforeAll(() => browser.get('/index-upgrade-io.html'));\n \n-    it('has inputs', () => {\n-      expect(element(by.css('h2')).getText()).toEqual('Windstorm details!');\n+    it('has inputs', async () => {\n+      expect(await element(by.css('h2')).getText()).toEqual('Windstorm details!');\n     });\n \n-    it('has outputs', () => {\n-      element(by.buttonText('Delete')).click();\n-      expect(element(by.css('h2')).getText()).toEqual('Ex-Windstorm details!');\n+    it('has outputs', async () => {\n+      await element(by.buttonText('Delete')).click();\n+      expect(await element(by.css('h2')).getText()).toEqual('Ex-Windstorm details!');\n     });\n \n   });\n \n \n   describe('Downgraded static component', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-downgrade-static.html');\n-    });\n+    beforeAll(() => browser.get('/index-downgrade-static.html'));\n \n-    it('renders', () => {\n-      expect(element(by.css('h2')).getText()).toEqual('Windstorm details!');\n+    it('renders', async () => {\n+      expect(await element(by.css('h2')).getText()).toEqual('Windstorm details!');\n     });\n \n   });\n \n   describe('Downgraded component with IO', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-downgrade-io.html');\n-    });\n+    beforeAll(() => browser.get('/index-downgrade-io.html'));\n \n-    it('has inputs', () => {\n-      expect(element.all(by.css('h2')).first().getText()).toEqual('Windstorm details!');\n+    it('has inputs', async () => {\n+      expect(await element.all(by.css('h2')).first().getText()).toEqual('Windstorm details!');\n     });\n \n-    it('has outputs', () => {\n-      element.all(by.buttonText('Delete')).first().click();\n-      expect(element.all(by.css('h2')).first().getText()).toEqual('Ex-Windstorm details!');\n+    it('has outputs', async () => {\n+      await element.all(by.buttonText('Delete')).first().click();\n+      expect(await element.all(by.css('h2')).first().getText()).toEqual('Ex-Windstorm details!');\n     });\n \n-    it('supports ng-repeat', () => {\n-      expect(element.all(by.css('hero-detail')).count()).toBe(3);\n+    it('supports ng-repeat', async () => {\n+      expect(await element.all(by.css('hero-detail')).count()).toBe(3);\n     });\n \n   });\n \n \n   describe('Downgraded component with content projection', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-ajs-to-a-projection.html');\n-    });\n+    beforeAll(() => browser.get('/index-ajs-to-a-projection.html'));\n \n-    it('can be transcluded into', () => {\n-      expect(element(by.css('hero-detail')).getText()).toContain('Specific powers of controlling winds');\n+    it('can be transcluded into', async () => {\n+      expect(await element(by.css('hero-detail')).getText()).toContain('Specific powers of controlling winds');\n     });\n \n   });\n \n \n   describe('Upgraded component with transclusion', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-a-to-ajs-transclusion.html');\n-    });\n+    beforeAll(() => browser.get('/index-a-to-ajs-transclusion.html'));\n \n-    it('can be projected into', () => {\n-      expect(element(by.css('hero-detail')).getText()).toContain('Specific powers of controlling winds');\n+    it('can be projected into', async () => {\n+      expect(await element(by.css('hero-detail')).getText()).toContain('Specific powers of controlling winds');\n     });\n \n   });\n \n \n   describe('Upgrading AngularJS Providers', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-ajs-to-a-providers.html');\n-    });\n+    beforeAll(() => browser.get('/index-ajs-to-a-providers.html'));\n \n-    it('works', () => {\n-      expect(element(by.css('h2')).getText()).toBe('1: Windstorm');\n+    it('works', async () => {\n+      expect(await element(by.css('h2')).getText()).toBe('1: Windstorm');\n     });\n \n   });\n \n \n   describe('Downgrading Angular Providers', () => {\n \n-    beforeAll(() => {\n-      browser.get('/index-a-to-ajs-providers.html');\n-    });\n+    beforeAll(() => browser.get('/index-a-to-ajs-providers.html'));\n \n-    it('works', () => {\n-      expect(element(by.css('h2')).getText()).toBe('1: Windstorm');\n+    it('works', async () => {\n+      expect(await element(by.css('h2')).getText()).toBe('1: Windstorm');\n     });\n \n   });"
        },
        {
            "sha": "1c5b51467ed7c4d4175447adda0451388bd90e4f",
            "filename": "aio/content/examples/upgrade-phonecat-1-typescript/e2e-spec.ts",
            "status": "modified",
            "additions": 37,
            "deletions": 41,
            "changes": 78,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-1-typescript%2Fe2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-1-typescript%2Fe2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-1-typescript%2Fe2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -11,41 +11,39 @@ describe('PhoneCat Application', () => {\n     browser.rootEl = 'body';\n   });\n \n-  it('should redirect `index.html` to `index.html#!/phones', () => {\n-    browser.get('index.html');\n-    expect(browser.getLocationAbsUrl()).toBe('/phones');\n+  it('should redirect `index.html` to `index.html#!/phones', async () => {\n+    await browser.get('index.html');\n+    expect(await browser.getLocationAbsUrl()).toBe('/phones');\n   });\n \n   describe('View: Phone list', () => {\n \n     // Helpers\n-    const waitForCount = (elems: ElementArrayFinder, count: number) => {\n+    const waitForCount = async (elems: ElementArrayFinder, count: number) => {\n       // Wait for the list to stabilize, which may take a while (e.g. due to animations).\n-      browser.wait(() => elems.count().then(c => c === count), 5000);\n+      await browser.wait(async () => await elems.count() === count, 5000);\n     };\n \n-    beforeEach(() => {\n-      browser.get('index.html#!/phones');\n-    });\n+    beforeEach(() => browser.get('index.html#!/phones'));\n \n-    it('should filter the phone list as a user types into the search box', () => {\n+    it('should filter the phone list as a user types into the search box', async () => {\n       const phoneList = element.all(by.repeater('phone in $ctrl.phones'));\n       const query = element(by.model('$ctrl.query'));\n \n-      waitForCount(phoneList, 20);\n-      expect(phoneList.count()).toBe(20);\n+      await waitForCount(phoneList, 20);\n+      expect(await phoneList.count()).toBe(20);\n \n-      query.sendKeys('nexus');\n-      waitForCount(phoneList, 1);\n-      expect(phoneList.count()).toBe(1);\n+      await query.sendKeys('nexus');\n+      await waitForCount(phoneList, 1);\n+      expect(await phoneList.count()).toBe(1);\n \n-      query.clear();\n-      query.sendKeys('motorola');\n-      waitForCount(phoneList, 8);\n-      expect(phoneList.count()).toBe(8);\n+      await query.clear();\n+      await query.sendKeys('motorola');\n+      await waitForCount(phoneList, 8);\n+      expect(await phoneList.count()).toBe(8);\n     });\n \n-    it('should be possible to control phone order via the drop-down menu', () => {\n+    it('should be possible to control phone order via the drop-down menu', async () => {\n       const queryField = element(by.model('$ctrl.query'));\n       const orderSelect = element(by.model('$ctrl.orderProp'));\n       const nameOption = orderSelect.element(by.css('option[value=\"name\"]'));\n@@ -55,63 +53,61 @@ describe('PhoneCat Application', () => {\n         return phoneNameColumn.map((elem: ElementFinder) => elem.getText());\n       }\n \n-      queryField.sendKeys('tablet');   // Let's narrow the dataset to make the assertions shorter\n-      waitForCount(phoneNameColumn, 2);\n+      await queryField.sendKeys('tablet');   // Let's narrow the dataset to make the assertions shorter\n+      await waitForCount(phoneNameColumn, 2);\n \n-      expect(getNames()).toEqual([\n+      expect(await getNames()).toEqual([\n         'Motorola XOOM\\u2122 with Wi-Fi',\n         'MOTOROLA XOOM\\u2122'\n       ]);\n \n-      nameOption.click();\n+      await nameOption.click();\n \n-      expect(getNames()).toEqual([\n+      expect(await getNames()).toEqual([\n         'MOTOROLA XOOM\\u2122',\n         'Motorola XOOM\\u2122 with Wi-Fi'\n       ]);\n     });\n \n-    it('should render phone specific links', () => {\n+    it('should render phone specific links', async () => {\n       const phoneList = element.all(by.repeater('phone in $ctrl.phones'));\n       const query = element(by.model('$ctrl.query'));\n \n-      query.sendKeys('nexus');\n-      waitForCount(phoneList, 1);\n+      await query.sendKeys('nexus');\n+      await waitForCount(phoneList, 1);\n \n       const nexusPhone = phoneList.first();\n       const detailLink = nexusPhone.all(by.css('a')).first();\n \n-      detailLink.click();\n-      expect(browser.getLocationAbsUrl()).toBe('/phones/nexus-s');\n+      await detailLink.click();\n+      expect(await browser.getLocationAbsUrl()).toBe('/phones/nexus-s');\n     });\n \n   });\n \n   describe('View: Phone detail', () => {\n \n-    beforeEach(() => {\n-      browser.get('index.html#!/phones/nexus-s');\n-    });\n+    beforeEach(() => browser.get('index.html#!/phones/nexus-s'));\n \n-    it('should display the `nexus-s` page', () => {\n-      expect(element(by.binding('$ctrl.phone.name')).getText()).toBe('Nexus S');\n+    it('should display the `nexus-s` page', async () => {\n+      expect(await element(by.binding('$ctrl.phone.name')).getText()).toBe('Nexus S');\n     });\n \n-    it('should display the first phone image as the main phone image', () => {\n+    it('should display the first phone image as the main phone image', async () => {\n       const mainImage = element(by.css('img.phone.selected'));\n \n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n     });\n \n-    it('should swap the main image when clicking on a thumbnail image', () => {\n+    it('should swap the main image when clicking on a thumbnail image', async () => {\n       const mainImage = element(by.css('img.phone.selected'));\n       const thumbnails = element.all(by.css('.phone-thumbs img'));\n \n-      thumbnails.get(2).click();\n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.2.jpg/);\n+      await thumbnails.get(2).click();\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.2.jpg/);\n \n-      thumbnails.get(0).click();\n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n+      await thumbnails.get(0).click();\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n     });\n \n   });"
        },
        {
            "sha": "424f91ca4a1a3be5d34473d47d199010d86666e3",
            "filename": "aio/content/examples/upgrade-phonecat-2-hybrid/e2e-spec.ts",
            "status": "modified",
            "additions": 32,
            "deletions": 36,
            "changes": 68,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-2-hybrid%2Fe2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-2-hybrid%2Fe2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-2-hybrid%2Fe2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -5,33 +5,31 @@ import { browser, element, by } from 'protractor';\n \n describe('PhoneCat Application', () => {\n \n-  it('should redirect `index.html` to `index.html#!/phones', () => {\n-    browser.get('index.html');\n-    browser.sleep(1000); // Not sure why this is needed but it is. The route change works fine.\n-    expect(browser.getCurrentUrl()).toMatch(/\\/phones$/);\n+  it('should redirect `index.html` to `index.html#!/phones', async () => {\n+    await browser.get('index.html');\n+    await browser.sleep(1000); // Not sure why this is needed but it is. The route change works fine.\n+    expect(await browser.getCurrentUrl()).toMatch(/\\/phones$/);\n   });\n \n   describe('View: Phone list', () => {\n \n-    beforeEach(() => {\n-      browser.get('index.html#!/phones');\n-    });\n+    beforeEach(() => browser.get('index.html#!/phones'));\n \n-    it('should filter the phone list as a user types into the search box', () => {\n+    it('should filter the phone list as a user types into the search box', async () => {\n       const phoneList = element.all(by.css('.phones li'));\n       const query = element(by.css('input'));\n \n-      expect(phoneList.count()).toBe(20);\n+      expect(await phoneList.count()).toBe(20);\n \n-      query.sendKeys('nexus');\n-      expect(phoneList.count()).toBe(1);\n+      await query.sendKeys('nexus');\n+      expect(await phoneList.count()).toBe(1);\n \n-      query.clear();\n-      query.sendKeys('motorola');\n-      expect(phoneList.count()).toBe(8);\n+      await query.clear();\n+      await query.sendKeys('motorola');\n+      expect(await phoneList.count()).toBe(8);\n     });\n \n-    it('should be possible to control phone order via the drop-down menu', () => {\n+    it('should be possible to control phone order via the drop-down menu', async () => {\n       const queryField = element(by.css('input'));\n       const orderSelect = element(by.css('select'));\n       const nameOption = orderSelect.element(by.css('option[value=\"name\"]'));\n@@ -41,57 +39,55 @@ describe('PhoneCat Application', () => {\n         return phoneNameColumn.map((elem) => elem.getText());\n       }\n \n-      queryField.sendKeys('tablet');   // Let's narrow the dataset to make the assertions shorter\n+      await queryField.sendKeys('tablet');   // Let's narrow the dataset to make the assertions shorter\n \n-      expect(getNames()).toEqual([\n+      expect(await getNames()).toEqual([\n         'Motorola XOOM\\u2122 with Wi-Fi',\n         'MOTOROLA XOOM\\u2122'\n       ]);\n \n-      nameOption.click();\n+      await nameOption.click();\n \n-      expect(getNames()).toEqual([\n+      expect(await getNames()).toEqual([\n         'MOTOROLA XOOM\\u2122',\n         'Motorola XOOM\\u2122 with Wi-Fi'\n       ]);\n     });\n \n-    it('should render phone specific links', () => {\n+    it('should render phone specific links', async () => {\n       const query = element(by.css('input'));\n-      query.sendKeys('nexus');\n+      await query.sendKeys('nexus');\n \n-      element.all(by.css('.phones li a')).first().click();\n-      browser.sleep(1000); // Not sure why this is needed but it is. The route change works fine.\n-      expect(browser.getCurrentUrl()).toMatch(/\\/phones\\/nexus-s$/);\n+      await element.all(by.css('.phones li a')).first().click();\n+      await browser.sleep(1000); // Not sure why this is needed but it is. The route change works fine.\n+      expect(await browser.getCurrentUrl()).toMatch(/\\/phones\\/nexus-s$/);\n     });\n \n   });\n \n   describe('View: Phone detail', () => {\n \n-    beforeEach(() => {\n-      browser.get('index.html#!/phones/nexus-s');\n-    });\n+    beforeEach(() => browser.get('index.html#!/phones/nexus-s'));\n \n-    it('should display the `nexus-s` page', () => {\n-      expect(element(by.css('h1')).getText()).toBe('Nexus S');\n+    it('should display the `nexus-s` page', async () => {\n+      expect(await element(by.css('h1')).getText()).toBe('Nexus S');\n     });\n \n-    it('should display the first phone image as the main phone image', () => {\n+    it('should display the first phone image as the main phone image', async () => {\n       const mainImage = element(by.css('img.phone.selected'));\n \n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n     });\n \n-    it('should swap the main image when clicking on a thumbnail image', () => {\n+    it('should swap the main image when clicking on a thumbnail image', async () => {\n       const mainImage = element(by.css('img.phone.selected'));\n       const thumbnails = element.all(by.css('.phone-thumbs img'));\n \n-      thumbnails.get(2).click();\n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.2.jpg/);\n+      await thumbnails.get(2).click();\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.2.jpg/);\n \n-      thumbnails.get(0).click();\n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n+      await thumbnails.get(0).click();\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n     });\n \n   });"
        },
        {
            "sha": "a9ba63978f9c17aac6e098e1e61b53d50999f1bd",
            "filename": "aio/content/examples/upgrade-phonecat-3-final/e2e-spec.ts",
            "status": "modified",
            "additions": 33,
            "deletions": 39,
            "changes": 72,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-3-final%2Fe2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-3-final%2Fe2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fupgrade-phonecat-3-final%2Fe2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -6,36 +6,33 @@ import { browser, element, by } from 'protractor';\n describe('PhoneCat Application', () => {\n \n   // #docregion redirect\n-  it('should redirect `index.html` to `index.html#!/phones', () => {\n-    browser.get('index.html');\n-    browser.waitForAngular();\n-    browser.getCurrentUrl().then((url: string) => {\n-      expect(url.endsWith('/phones')).toBe(true);\n-    });\n+  it('should redirect `index.html` to `index.html#!/phones', async () => {\n+    await browser.get('index.html');\n+    await browser.waitForAngular();\n+    const url = await browser.getCurrentUrl();\n+    expect(url.endsWith('/phones')).toBe(true);\n   });\n   // #enddocregion redirect\n \n   describe('View: Phone list', () => {\n \n-    beforeEach(() => {\n-      browser.get('index.html#!/phones');\n-    });\n+    beforeEach(() => browser.get('index.html#!/phones'));\n \n-    it('should filter the phone list as a user types into the search box', () => {\n+    it('should filter the phone list as a user types into the search box', async () => {\n       const phoneList = element.all(by.css('.phones li'));\n       const query = element(by.css('input'));\n \n-      expect(phoneList.count()).toBe(20);\n+      expect(await phoneList.count()).toBe(20);\n \n-      query.sendKeys('nexus');\n-      expect(phoneList.count()).toBe(1);\n+      await query.sendKeys('nexus');\n+      expect(await phoneList.count()).toBe(1);\n \n-      query.clear();\n-      query.sendKeys('motorola');\n-      expect(phoneList.count()).toBe(8);\n+      await query.clear();\n+      await query.sendKeys('motorola');\n+      expect(await phoneList.count()).toBe(8);\n     });\n \n-    it('should be possible to control phone order via the drop-down menu', () => {\n+    it('should be possible to control phone order via the drop-down menu', async () => {\n       const queryField = element(by.css('input'));\n       const orderSelect = element(by.css('select'));\n       const nameOption = orderSelect.element(by.css('option[value=\"name\"]'));\n@@ -45,59 +42,56 @@ describe('PhoneCat Application', () => {\n         return phoneNameColumn.map((elem) => elem.getText());\n       }\n \n-      queryField.sendKeys('tablet');   // Let's narrow the dataset to make the assertions shorter\n+      await queryField.sendKeys('tablet');   // Let's narrow the dataset to make the assertions shorter\n \n-      expect(getNames()).toEqual([\n+      expect(await getNames()).toEqual([\n         'Motorola XOOM\\u2122 with Wi-Fi',\n         'MOTOROLA XOOM\\u2122'\n       ]);\n \n-      nameOption.click();\n+      await nameOption.click();\n \n-      expect(getNames()).toEqual([\n+      expect(await getNames()).toEqual([\n         'MOTOROLA XOOM\\u2122',\n         'Motorola XOOM\\u2122 with Wi-Fi'\n       ]);\n     });\n \n     // #docregion links\n-    it('should render phone specific links', () => {\n+    it('should render phone specific links', async () => {\n       const query = element(by.css('input'));\n-      query.sendKeys('nexus');\n-      element.all(by.css('.phones li a')).first().click();\n-      browser.getCurrentUrl().then((url: string) => {\n-        expect(url.endsWith('/phones/nexus-s')).toBe(true);\n-      });\n+      await query.sendKeys('nexus');\n+      await element.all(by.css('.phones li a')).first().click();\n+      const url = await browser.getCurrentUrl();\n+      expect(url.endsWith('/phones/nexus-s')).toBe(true);\n     });\n     // #enddocregion links\n \n   });\n \n   describe('View: Phone detail', () => {\n \n-    beforeEach(() => {\n-      browser.get('index.html#!/phones/nexus-s');\n-    });\n+    beforeEach(() => browser.get('index.html#!/phones/nexus-s'));\n \n-    it('should display the `nexus-s` page', () => {\n-      expect(element(by.css('h1')).getText()).toBe('Nexus S');\n+    it('should display the `nexus-s` page', async () => {\n+      expect(await element(by.css('h1')).getText()).toBe('Nexus S');\n     });\n \n-    it('should display the first phone image as the main phone image', () => {\n+    it('should display the first phone image as the main phone image', async () => {\n       const mainImage = element(by.css('img.phone.selected'));\n \n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n     });\n \n-    it('should swap the main image when clicking on a thumbnail image', () => {\n+    it('should swap the main image when clicking on a thumbnail image', async () => {\n       const mainImage = element(by.css('img.phone.selected'));\n       const thumbnails = element.all(by.css('.phone-thumbs img'));\n \n-      thumbnails.get(2).click();\n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.2.jpg/);\n+      await thumbnails.get(2).click();\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.2.jpg/);\n \n-      thumbnails.get(0).click();\n-      expect(mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n+      await thumbnails.get(0).click();\n+      expect(await mainImage.getAttribute('src')).toMatch(/img\\/phones\\/nexus-s.0.jpg/);\n     });\n \n   });"
        },
        {
            "sha": "53f4e20c29342e15d931d6cdb969f1c47bda2936",
            "filename": "aio/content/examples/user-input/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 41,
            "deletions": 49,
            "changes": 90,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fuser-input%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Fcontent%2Fexamples%2Fuser-input%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fuser-input%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -2,96 +2,88 @@ import { browser, element, by, protractor } from 'protractor';\n \n describe('User Input Tests', () => {\n \n-  beforeAll(() => {\n-    browser.get('');\n-  });\n+  beforeAll(() => browser.get(''));\n \n-  it('should support the click event', () => {\n+  it('should support the click event', async () => {\n     const mainEle = element(by.css('app-click-me'));\n     const buttonEle = element(by.css('app-click-me button'));\n-    expect(mainEle.getText()).not.toContain('You are my hero!');\n-    buttonEle.click().then(() => {\n-      expect(mainEle.getText()).toContain('You are my hero!');\n-    });\n+    expect(await mainEle.getText()).not.toContain('You are my hero!');\n+    await buttonEle.click();\n+    expect(await mainEle.getText()).toContain('You are my hero!');\n   });\n \n-  it('should support the click event with an event payload', () => {\n+  it('should support the click event with an event payload', async () => {\n     const mainEle = element(by.css('app-click-me2'));\n     const buttonEle = element(by.css('app-click-me2 button'));\n-    expect(mainEle.getText()).not.toContain('Event target is ');\n-    buttonEle.click().then(() => {\n-      expect(mainEle.getText()).toContain('Event target is BUTTON');\n-    });\n+    expect(await mainEle.getText()).not.toContain('Event target is ');\n+    await buttonEle.click();\n+    expect(await mainEle.getText()).toContain('Event target is BUTTON');\n   });\n \n-  it('should support the keyup event ', () => {\n+  it('should support the keyup event ', async () => {\n     const mainEle = element(by.css('app-key-up1'));\n     const inputEle = mainEle.element(by.css('input'));\n     const outputTextEle = mainEle.element(by.css('p'));\n-    expect(outputTextEle.getText()).toEqual('');\n-    inputEle.sendKeys('abc');\n-    expect(outputTextEle.getText()).toEqual('a | ab | abc |');\n+    expect(await outputTextEle.getText()).toEqual('');\n+    await inputEle.sendKeys('abc');\n+    expect(await outputTextEle.getText()).toEqual('a | ab | abc |');\n   });\n \n-  it('should support user input from a local template let (loopback)', () => {\n+  it('should support user input from a local template let (loopback)', async () => {\n     const mainEle = element(by.css('app-loop-back'));\n     const inputEle = mainEle.element(by.css('input'));\n     const outputTextEle = mainEle.element(by.css('p'));\n-    expect(outputTextEle.getText()).toEqual('');\n-    inputEle.sendKeys('abc');\n-    expect(outputTextEle.getText()).toEqual('abc');\n+    expect(await outputTextEle.getText()).toEqual('');\n+    await inputEle.sendKeys('abc');\n+    expect(await outputTextEle.getText()).toEqual('abc');\n   });\n \n-  it('should be able to combine click event with a local template var', () => {\n+  it('should be able to combine click event with a local template var', async () => {\n     const mainEle = element(by.css('app-key-up2'));\n     const inputEle = mainEle.element(by.css('input'));\n     const outputTextEle = mainEle.element(by.css('p'));\n-    expect(outputTextEle.getText()).toEqual('');\n-    inputEle.sendKeys('abc');\n-    expect(outputTextEle.getText()).toEqual('a | ab | abc |');\n+    expect(await outputTextEle.getText()).toEqual('');\n+    await inputEle.sendKeys('abc');\n+    expect(await outputTextEle.getText()).toEqual('a | ab | abc |');\n   });\n \n-  it('should be able to filter key events', () => {\n+  it('should be able to filter key events', async () => {\n     const mainEle = element(by.css('app-key-up3'));\n     const inputEle = mainEle.element(by.css('input'));\n     const outputTextEle = mainEle.element(by.css('p'));\n-    expect(outputTextEle.getText()).toEqual('');\n-    inputEle.sendKeys('abc');\n-    expect(outputTextEle.getText()).toEqual('', 'should be blank - have not sent enter yet');\n+    expect(await outputTextEle.getText()).toEqual('');\n+    await inputEle.sendKeys('abc');\n+    expect(await outputTextEle.getText()).toEqual('', 'should be blank - have not sent enter yet');\n     // broken atm, see https://github.com/angular/angular/issues/9419\n-    inputEle.sendKeys(protractor.Key.ENTER);\n-    expect(outputTextEle.getText()).toEqual('abc');\n+    await inputEle.sendKeys(protractor.Key.ENTER);\n+    expect(await outputTextEle.getText()).toEqual('abc');\n   });\n \n-  it('should be able to filter blur events', () => {\n+  it('should be able to filter blur events', async () => {\n     const prevInputEle = element(by.css('app-key-up3 input'));\n     const mainEle = element(by.css('app-key-up4'));\n     const inputEle = mainEle.element(by.css('input'));\n     const outputTextEle = mainEle.element(by.css('p'));\n-    expect(outputTextEle.getText()).toEqual('');\n-    inputEle.sendKeys('abc');\n-    expect(outputTextEle.getText()).toEqual('', 'should be blank - have not sent enter yet');\n+    expect(await outputTextEle.getText()).toEqual('');\n+    await inputEle.sendKeys('abc');\n+    expect(await outputTextEle.getText()).toEqual('', 'should be blank - have not sent enter yet');\n     // change the focus\n-    prevInputEle.click().then(() => {\n-      expect(outputTextEle.getText()).toEqual('abc');\n-    });\n+    await prevInputEle.click();\n+    expect(await outputTextEle.getText()).toEqual('abc');\n   });\n \n-  it('should be able to compose little tour of heroes', () => {\n+  it('should be able to compose little tour of heroes', async () => {\n     const mainEle = element(by.css('app-little-tour'));\n     const inputEle = mainEle.element(by.css('input'));\n     const addButtonEle = mainEle.element(by.css('button'));\n     const heroEles = mainEle.all(by.css('li'));\n-    let numHeroes: number;\n-    expect(heroEles.count()).toBeGreaterThan(0);\n-    heroEles.count().then((count: number) => {\n-      numHeroes = count;\n-      inputEle.sendKeys('abc');\n-      return addButtonEle.click();\n-    }).then(() => {\n-      expect(heroEles.count()).toEqual(numHeroes + 1, 'should be one more hero added');\n-      expect(heroEles.get(numHeroes).getText()).toContain('abc');\n-    });\n+    const numHeroes = await heroEles.count();\n+    expect(numHeroes).toBeGreaterThan(0);\n+\n+    await inputEle.sendKeys('abc');\n+    await addButtonEle.click();\n+    expect(await heroEles.count()).toEqual(numHeroes + 1, 'should be one more hero added');\n+    expect(await heroEles.get(numHeroes).getText()).toContain('abc');\n   });\n });\n "
        },
        {
            "sha": "7976895e6f17631b13951218eb39ee24636c2eb5",
            "filename": "aio/tools/examples/shared/boilerplate/cli-ajs/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli-ajs%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli-ajs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli-ajs%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -35,7 +35,6 @@\n     \"@types/angular\": \"1.7.3\",\n     \"@types/angular-route\": \"1.7.1\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"codelyzer\": \"^6.0.0\",\n     \"jasmine-core\": \"~3.6.0\","
        },
        {
            "sha": "22bd9d953c77f17e8499d267b78afc9d667c33cc",
            "filename": "aio/tools/examples/shared/boilerplate/cli/e2e/protractor.conf.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fe2e%2Fprotractor.conf.js?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -16,6 +16,7 @@ exports.config = {\n     browserName: 'chrome'\n   },\n   directConnect: true,\n+  SELENIUM_PROMISE_MANAGER: false,\n   baseUrl: 'http://localhost:4200/',\n   framework: 'jasmine',\n   jasmineNodeOpts: {"
        },
        {
            "sha": "0782539c045b919bdbb1fae4bb2448613cb3c57d",
            "filename": "aio/tools/examples/shared/boilerplate/cli/e2e/tsconfig.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fe2e%2Ftsconfig.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -7,7 +7,6 @@\n     \"target\": \"es2018\",\n     \"types\": [\n       \"jasmine\",\n-      \"jasminewd2\",\n       \"node\"\n     ]\n   }"
        },
        {
            "sha": "650e25fa4596cbcf8add42ab15c00db346bff7c1",
            "filename": "aio/tools/examples/shared/boilerplate/cli/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -31,7 +31,6 @@\n     \"@angular/cli\": \"~11.0.2\",\n     \"@angular/compiler-cli\": \"~11.0.1\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"codelyzer\": \"^6.0.0\",\n     \"jasmine-core\": \"~3.6.0\","
        },
        {
            "sha": "9d1f1edd392177492c638c0caaf269316a9d94f4",
            "filename": "aio/tools/examples/shared/boilerplate/elements/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Felements%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Felements%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Felements%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -33,7 +33,6 @@\n     \"@angular/cli\": \"~11.0.2\",\n     \"@angular/compiler-cli\": \"~11.0.1\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"codelyzer\": \"^6.0.0\",\n     \"jasmine-core\": \"~3.6.0\","
        },
        {
            "sha": "00d0b723f82b5a3601a1a4e14d9be073b794085b",
            "filename": "aio/tools/examples/shared/boilerplate/i18n/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -35,7 +35,6 @@\n     \"@angular/cli\": \"~11.0.2\",\n     \"@angular/compiler-cli\": \"~11.0.1\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"codelyzer\": \"^6.0.0\",\n     \"jasmine-core\": \"~3.6.0\","
        },
        {
            "sha": "a2857856f93d2a092c34b9a3069bc01806a14e55",
            "filename": "aio/tools/examples/shared/boilerplate/service-worker/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fservice-worker%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fservice-worker%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fservice-worker%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -32,7 +32,6 @@\n     \"@angular/cli\": \"~11.0.2\",\n     \"@angular/compiler-cli\": \"~11.0.1\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"codelyzer\": \"^6.0.0\",\n     \"jasmine-core\": \"~3.6.0\","
        },
        {
            "sha": "74268723ea7f549d51bfb9c7bcda5b9ea7ec60fd",
            "filename": "aio/tools/examples/shared/boilerplate/systemjs/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fsystemjs%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fsystemjs%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fsystemjs%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -49,7 +49,6 @@\n     \"@types/angular-resource\": \"1.5.16\",\n     \"@types/angular-route\": \"1.7.1\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"concurrently\": \"^5.0.1\",\n     \"http-server\": \"^0.12.0\","
        },
        {
            "sha": "95d746fcaa90685506db774a367c9d2ade269081",
            "filename": "aio/tools/examples/shared/boilerplate/universal/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Funiversal%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Funiversal%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Funiversal%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -40,7 +40,6 @@\n     \"@nguniversal/builders\": \"^11.0.0\",\n     \"@types/express\": \"^4.17.8\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/node\": \"^12.11.1\",\n     \"codelyzer\": \"^6.0.0\",\n     \"jasmine-core\": \"~3.6.0\","
        },
        {
            "sha": "e65d24a53cdecdb66349543d9d23355e14c5e0f0",
            "filename": "aio/tools/examples/shared/package.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fpackage.json?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -58,7 +58,6 @@\n     \"@types/angular-route\": \"1.7.1\",\n     \"@types/express\": \"^4.17.8\",\n     \"@types/jasmine\": \"~3.6.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n     \"@types/jquery\": \"3.5.1\",\n     \"@types/node\": \"^12.11.1\",\n     \"canonical-path\": \"1.0.0\","
        },
        {
            "sha": "49aa795efd9a6dddfed93ee3b43d4176b32fe43b",
            "filename": "aio/tools/examples/shared/yarn.lock",
            "status": "modified",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/23c36a24ede7483a032f19a186ec29f7301768eb/aio%2Ftools%2Fexamples%2Fshared%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fyarn.lock?ref=23c36a24ede7483a032f19a186ec29f7301768eb",
            "patch": "@@ -1696,22 +1696,11 @@\n   dependencies:\n     \"@types/node\" \"*\"\n \n-\"@types/jasmine@*\":\n-  version \"2.6.2\"\n-  resolved \"https://registry.yarnpkg.com/@types/jasmine/-/jasmine-2.6.2.tgz#6e6d4cb183cd55c7a1ad6270bced10fdd5367a3c\"\n-\n \"@types/jasmine@~3.6.0\":\n   version \"3.6.2\"\n   resolved \"https://registry.yarnpkg.com/@types/jasmine/-/jasmine-3.6.2.tgz#02f64450016f7de70f145d698be311136d7c6374\"\n   integrity sha512-AzfesNFLvOs6Q1mHzIsVJXSeUnqVh4ZHG8ngygKJfbkcSLwzrBVm/LKa+mR8KrOfnWtUL47112gde1MC0IXqpQ==\n \n-\"@types/jasminewd2@~2.0.3\":\n-  version \"2.0.8\"\n-  resolved \"https://registry.yarnpkg.com/@types/jasminewd2/-/jasminewd2-2.0.8.tgz#67afe5098d5ef2386073a7b7384b69a840dfe93b\"\n-  integrity sha512-d9p31r7Nxk0ZH0U39PTH0hiDlJ+qNVGjlt1ucOoTUptxb2v+Y5VMnsxfwN+i3hK4yQnqBi3FMmoMFcd1JHDxdg==\n-  dependencies:\n-    \"@types/jasmine\" \"*\"\n-\n \"@types/jquery@3.5.1\":\n   version \"3.5.1\"\n   resolved \"https://registry.yarnpkg.com/@types/jquery/-/jquery-3.5.1.tgz#cebb057acf5071c40e439f30e840c57a30d406c3\""
        }
    ],
    "stats": {
        "total": 3541,
        "additions": 1663,
        "deletions": 1878
    }
}