{
    "author": "kyliau",
    "message": "docs: Remove Protractor test from CI examples (#41733)\n\nProtractor tests are no longer included in new projects starting from\nAngular version 12.\n\nPR Close #41733",
    "sha": "64567d3d3942cd1c1f2ac7dffdbdd0b289e7f79a",
    "files": [
        {
            "sha": "3f0b5fc6e45d14d5e4ba2c0ed95cc2806aeaee6b",
            "filename": "aio/content/guide/testing.md",
            "status": "modified",
            "additions": 4,
            "deletions": 26,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/64567d3d3942cd1c1f2ac7dffdbdd0b289e7f79a/aio%2Fcontent%2Fguide%2Ftesting.md",
            "raw_url": "https://github.com/angular/angular/raw/64567d3d3942cd1c1f2ac7dffdbdd0b289e7f79a/aio%2Fcontent%2Fguide%2Ftesting.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Ftesting.md?ref=64567d3d3942cd1c1f2ac7dffdbdd0b289e7f79a",
            "patch": "@@ -173,7 +173,6 @@ jobs:\n           paths:\n             - \"node_modules\"\n       - run: npm run test -- --no-watch --no-progress --browsers=ChromeHeadlessCI\n-      - run: npm run e2e -- --protractor-config=e2e/protractor-ci.conf.js\n ```\n \n This configuration caches `node_modules/` and uses [`npm run`](https://docs.npmjs.com/cli/run-script) to run CLI commands, because `@angular/cli` is not installed globally.\n@@ -207,7 +206,6 @@ install:\n \n script:\n   - npm run test -- --no-watch --no-progress --browsers=ChromeHeadlessCI\n-  - npm run e2e -- --protractor-config=e2e/protractor-ci.conf.js\n ```\n \n This does the same things as the CircleCI configuration, except that Travis doesn't come with Chrome, so use Chromium instead.\n@@ -260,7 +258,6 @@ test:\n     - export CHROME_BIN=/usr/bin/google-chrome\n   script:\n     - npm run test -- --no-watch --no-progress --browsers=ChromeHeadlessCI\n-    - npm run e2e -- --protractor-config=e2e/protractor-ci.conf.js\n ```\n \n This configuration caches `node_modules/` in the `install` job and re-uses the cached `node_modules/` in the `test` job.\n@@ -290,14 +287,13 @@ jobs:\n         uses: actions/setup-node@v1\n         with:\n           node-version: 14.x\n-          \n+\n       - name: Setup\n         run: npm ci\n \n       - name: Test\n         run: |\n           npm test -- --no-watch --no-progress --browsers=ChromeHeadlessCI\n-          npm run e2e -- --protractor-config=e2e/protractor-ci.conf.js\n ```\n \n Step 3: [Sign up for GitHub](https://github.com/join) and [add your project](https://github.com/new). You'll need to push a new commit to trigger a build.\n@@ -308,10 +304,9 @@ Step 4: Commit your changes and push them to your repository.\n \n ### Configure CLI for CI testing in Chrome\n \n-When the CLI commands `ng test` and `ng e2e` are generally running the CI tests in your environment, you might still need to adjust your configuration to run the Chrome browser tests.\n+While the CLI command `ng test` is generally running the CI tests in your environment, you might still need to adjust your configuration to run the Chrome browser tests.\n \n-There are configuration files for both the [Karma JavaScript test runner](https://karma-runner.github.io/latest/config/configuration-file.html)\n-and [Protractor](https://www.protractortest.org/#/api-overview) end-to-end testing tool,\n+There is a configuration file for the [Karma JavaScript test runner](https://karma-runner.github.io/latest/config/configuration-file.html),\n which you must adjust to start Chrome without sandboxing.\n \n We'll be using [Headless Chrome](https://developers.google.com/web/updates/2017/04/headless-chrome#cli) in these examples.\n@@ -327,25 +322,10 @@ customLaunchers: {\n },\n ```\n \n-* In the root folder of your e2e tests project, create a new file named `protractor-ci.conf.js`. This new file extends the original `protractor.conf.js`.\n-```\n-const config = require('./protractor.conf').config;\n-\n-config.capabilities = {\n-  browserName: 'chrome',\n-  chromeOptions: {\n-    args: ['--headless', '--no-sandbox']\n-  }\n-};\n-\n-exports.config = config;\n-```\n-\n-Now you can run the following commands to use the `--no-sandbox` flag:\n+Now you can run the following command to use the `--no-sandbox` flag:\n \n <code-example language=\"sh\" class=\"code-shell\">\n   ng test --no-watch --no-progress --browsers=ChromeHeadlessCI\n-  ng e2e --protractor-config=e2e/protractor-ci.conf.js\n </code-example>\n \n <div class=\"alert is-helpful\">\n@@ -367,5 +347,3 @@ After you've set up your app for testing, you may find the following testing  gu\n * [Testing pipes](guide/testing-pipes)&mdash;find out how to test attribute directives.\n * [Debugging tests](guide/test-debugging)&mdash;uncover common testing bugs.\n * [Testing utility APIs](guide/testing-utility-apis)&mdash;get familiar with Angular testing features.\n-\n-"
        }
    ],
    "stats": {
        "total": 30,
        "additions": 4,
        "deletions": 26
    }
}