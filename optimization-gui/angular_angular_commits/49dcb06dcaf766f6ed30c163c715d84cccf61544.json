{
    "author": "josephperrott",
    "message": "build: remove pre-check script from publish scripts as it no longer performs its check (#40422)\n\nPreviously the pre-check confirmed that the stamping value was normal and expected, however\nwith the new stamping methodology of marking for publish via flag, the check no longer will\never see anything but a passing version, since it is stamped as publish.\n\nPR Close #40422",
    "sha": "49dcb06dcaf766f6ed30c163c715d84cccf61544",
    "files": [
        {
            "sha": "82ebf9925549fd66dcb72f44512a97487cc46b7c",
            "filename": "scripts/release/pre-check",
            "status": "removed",
            "additions": 0,
            "deletions": 15,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/6cff877f4f48cfe8460b0262d04ea333b79dd56a/scripts%2Frelease%2Fpre-check",
            "raw_url": "https://github.com/angular/angular/raw/6cff877f4f48cfe8460b0262d04ea333b79dd56a/scripts%2Frelease%2Fpre-check",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Frelease%2Fpre-check?ref=6cff877f4f48cfe8460b0262d04ea333b79dd56a",
            "patch": "@@ -1,15 +0,0 @@\n-#!/usr/bin/env bash\n-\n-# Runs the Bazel workspace status command in order to ensure that the version placeholder\n-# will be replaced with the proper version name when building the release output.\n-\n-versionName=$(yarn -s ng-dev release build-env-stamp | grep -e \"BUILD_SCM_VERSION\" | cut -d \" \" -f2)\n-\n-if [[ ! ${versionName} =~ ^[0-9]+\\.[0-9]+\\.[0-9]+(-(rc|next).[0-9]+)?$ ]]; then\n-  echo \"ERROR: The release will currently have the following version: ${versionName}\"\n-  echo \"This does not match the version format for releases to NPM.\"\n-  echo \"\"\n-  echo \"Please ensure that the most recent commit in the current branch is tagged\"\n-  echo \"with the proper version tag.\"\n-  exit 1\n-fi"
        },
        {
            "sha": "57b2d34273e0888165251deeca21041517640794",
            "filename": "scripts/release/publish-latest",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/49dcb06dcaf766f6ed30c163c715d84cccf61544/scripts%2Frelease%2Fpublish-latest",
            "raw_url": "https://github.com/angular/angular/raw/49dcb06dcaf766f6ed30c163c715d84cccf61544/scripts%2Frelease%2Fpublish-latest",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Frelease%2Fpublish-latest?ref=49dcb06dcaf766f6ed30c163c715d84cccf61544",
            "patch": "@@ -2,10 +2,6 @@\n \n set -u -e -o pipefail\n \n-# Runs the pre-check before performing the publish to ensure\n-# the version is valid for release.\n-sh \"$(dirname \"$0\")/pre-check\";\n-\n # Use for production releases\n # Query Bazel for npm_package and ng_package rules with tags=[\"release-with-framework\"]\n # Publish them to npm (tagged next)"
        },
        {
            "sha": "5f49d1b79ef54892d065b15171e954c5242ba47d",
            "filename": "scripts/release/publish-next",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/49dcb06dcaf766f6ed30c163c715d84cccf61544/scripts%2Frelease%2Fpublish-next",
            "raw_url": "https://github.com/angular/angular/raw/49dcb06dcaf766f6ed30c163c715d84cccf61544/scripts%2Frelease%2Fpublish-next",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Frelease%2Fpublish-next?ref=49dcb06dcaf766f6ed30c163c715d84cccf61544",
            "patch": "@@ -2,10 +2,6 @@\n \n set -u -e -o pipefail\n \n-# Runs the pre-check before performing the publish to ensure\n-# the version is valid for release.\n-sh \"$(dirname \"$0\")/pre-check\";\n-\n # Use for BETA and RC releases\n # Query Bazel for npm_package and ng_package rules with tags=[\"release-with-framework\"]\n # Publish them to npm (tagged next)"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 0,
        "deletions": 23
    }
}