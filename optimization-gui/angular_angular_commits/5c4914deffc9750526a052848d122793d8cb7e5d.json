{
    "author": "jbedard",
    "message": "fix(bazel): fix incorrect rollup plugin method signature (#41101)\n\nUpdate the resolveBazel method signature to align with the rollup plugin\nresolveId API: https://rollupjs.org/guide/en/#resolveid\n\nPR Close #41101",
    "sha": "5c4914deffc9750526a052848d122793d8cb7e5d",
    "files": [
        {
            "sha": "efcafcb02f3f33faefcd5c561f891ef33e86e0e3",
            "filename": "packages/bazel/src/ng_package/rollup.config.js",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/5c4914deffc9750526a052848d122793d8cb7e5d/packages%2Fbazel%2Fsrc%2Fng_package%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/5c4914deffc9750526a052848d122793d8cb7e5d/packages%2Fbazel%2Fsrc%2Fng_package%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fng_package%2Frollup.config.js?ref=5c4914deffc9750526a052848d122793d8cb7e5d",
            "patch": "@@ -49,15 +49,16 @@ function fileExists(filePath) {\n \n // This resolver mimics the TypeScript Path Mapping feature, which lets us resolve\n // modules based on a mapping of short names to paths.\n-function resolveBazel(\n-    importee, importer, baseDir = process.cwd(), resolve = require.resolve, root = rootDir) {\n+function resolveBazel(importee, importer) {\n   log_verbose(`resolving '${importee}' from ${importer}`);\n \n+  const baseDir = process.cwd();\n+\n   function resolveInRootDir(importee) {\n-    var candidate = path.join(baseDir, root, importee);\n+    var candidate = path.join(baseDir, rootDir, importee);\n     log_verbose(`try to resolve '${importee}' at '${candidate}'`);\n     try {\n-      var result = resolve(candidate);\n+      var result = require.resolve(candidate);\n       return result;\n     } catch (e) {\n       return undefined;\n@@ -80,7 +81,7 @@ function resolveBazel(\n     // relative import\n     if (importer) {\n       let importerRootRelative = path.dirname(importer);\n-      const relative = path.relative(path.join(baseDir, root), importerRootRelative);\n+      const relative = path.relative(path.join(baseDir, rootDir), importerRootRelative);\n       if (!relative.startsWith('.')) {\n         importerRootRelative = relative;\n       }"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 6,
        "deletions": 5
    }
}