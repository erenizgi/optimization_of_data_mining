{
    "author": "devversion",
    "message": "refactor(dev-infra): move existing env-stamp command into subfolder (#38656)\n\nMoves the existing `ng-dev release env-stamp` command into a\nsubfolder so that the staging/publish tool can have its own\ndedicated folder (without being polluted by the env-stamp logic).\n\nEvery subcommand should be in its own folder.\n\nPR Close #38656",
    "sha": "964ac1542a0ab6d0471c967719c375dab7f2377c",
    "files": [
        {
            "sha": "24e5c87c45a22b67b8b31b34e804c623048966fa",
            "filename": "dev-infra/release/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/964ac1542a0ab6d0471c967719c375dab7f2377c/dev-infra%2Frelease%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/964ac1542a0ab6d0471c967719c375dab7f2377c/dev-infra%2Frelease%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2FBUILD.bazel?ref=964ac1542a0ab6d0471c967719c375dab7f2377c",
            "patch": "@@ -3,16 +3,13 @@ load(\"@npm_bazel_typescript//:index.bzl\", \"ts_library\")\n ts_library(\n     name = \"release\",\n     srcs = glob([\n-        \"*.ts\",\n+        \"**/*.ts\",\n     ]),\n     module_name = \"@angular/dev-infra-private/release\",\n     visibility = [\"//dev-infra:__subpackages__\"],\n     deps = [\n         \"//dev-infra/utils\",\n-        \"@npm//@types/node\",\n-        \"@npm//@types/shelljs\",\n         \"@npm//@types/yargs\",\n-        \"@npm//shelljs\",\n         \"@npm//yargs\",\n     ],\n )"
        },
        {
            "sha": "cc568af79a527723107e1f50af5af7328365eb87",
            "filename": "dev-infra/release/cli.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/964ac1542a0ab6d0471c967719c375dab7f2377c/dev-infra%2Frelease%2Fcli.ts",
            "raw_url": "https://github.com/angular/angular/raw/964ac1542a0ab6d0471c967719c375dab7f2377c/dev-infra%2Frelease%2Fcli.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2Fcli.ts?ref=964ac1542a0ab6d0471c967719c375dab7f2377c",
            "patch": "@@ -6,12 +6,17 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n import * as yargs from 'yargs';\n-import {buildEnvStamp} from './env-stamp';\n+\n+import {buildEnvStamp} from './stamping/env-stamp';\n \n /** Build the parser for the release commands. */\n export function buildReleaseParser(localYargs: yargs.Argv) {\n-  return localYargs.help().strict().demandCommand().command(\n-      'build-env-stamp', 'Build the environment stamping information', {}, () => buildEnvStamp());\n+  return localYargs.help()\n+      .strict()\n+      .demandCommand()\n+      .command(\n+          'build-env-stamp', 'Build the environment stamping information', {},\n+          () => buildEnvStamp());\n }\n \n if (require.main === module) {"
        },
        {
            "sha": "184b63d7d6c0a46c9091fdb9e98040068ecc15d4",
            "filename": "dev-infra/release/stamping/env-stamp.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/964ac1542a0ab6d0471c967719c375dab7f2377c/dev-infra%2Frelease%2Fstamping%2Fenv-stamp.ts",
            "raw_url": "https://github.com/angular/angular/raw/964ac1542a0ab6d0471c967719c375dab7f2377c/dev-infra%2Frelease%2Fstamping%2Fenv-stamp.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2Fstamping%2Fenv-stamp.ts?ref=964ac1542a0ab6d0471c967719c375dab7f2377c",
            "patch": "@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {exec as _exec} from '../utils/shelljs';\n+import {exec as _exec} from '../../utils/shelljs';\n \n /**\n  * Log the environment variables expected by bazel for stamping.",
            "previous_filename": "dev-infra/release/env-stamp.ts"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 10,
        "deletions": 8
    }
}