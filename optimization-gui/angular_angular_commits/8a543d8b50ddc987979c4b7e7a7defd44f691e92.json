{
    "author": "josephperrott",
    "message": "ci: only check active groups for the `no-groups-above-this-*` checks (#38259)\n\nSince PullApprove starts all inactive groups as a pending state, to properly\nassess if any groups we care about are pending we must only check the active\ngroups.  We additionally do this with rejected because the intention of the\nreusable checks is around checking active rules only.\n\nPR Close #38259",
    "sha": "8a543d8b50ddc987979c4b7e7a7defd44f691e92",
    "files": [
        {
            "sha": "2e537542e5ba0e823a07b41c2a056ca17992108e",
            "filename": ".pullapprove.yml",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/8a543d8b50ddc987979c4b7e7a7defd44f691e92/.pullapprove.yml",
            "raw_url": "https://github.com/angular/angular/raw/8a543d8b50ddc987979c4b7e7a7defd44f691e92/.pullapprove.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.pullapprove.yml?ref=8a543d8b50ddc987979c4b7e7a7defd44f691e92",
            "patch": "@@ -75,12 +75,14 @@ meta:\n   # By checking the number of active/pending/rejected groups when these are excluded, we can determine\n   # if any other groups are matched.\n   #\n+  # Note: Because all inactive groups start as pending, we are only checking pending and rejected active groups.\n+  #\n   # Also note that the ordering of groups matters in this file. The only groups visible to the current\n   # one are those that appear above it.\n   no-groups-above-this-pending: &no-groups-above-this-pending\n-    len(groups.pending.exclude(\"required-minimum-review\").exclude(\"global-approvers\").exclude(\"global-docs-approvers\")) == 0\n+    len(groups.active.pending.exclude(\"required-minimum-review\").exclude(\"global-approvers\").exclude(\"global-docs-approvers\")) == 0\n   no-groups-above-this-rejected: &no-groups-above-this-rejected\n-    len(groups.rejected.exclude(\"required-minimum-review\").exclude(\"global-approvers\").exclude(\"global-docs-approvers\")) == 0\n+    len(groups.active.rejected.exclude(\"required-minimum-review\").exclude(\"global-approvers\").exclude(\"global-docs-approvers\")) == 0\n   no-groups-above-this-active: &no-groups-above-this-active\n     len(groups.active.exclude(\"required-minimum-review\").exclude(\"global-approvers\").exclude(\"global-docs-approvers\")) == 0\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}