{
    "author": "ajitsinghkaler",
    "message": "feat(docs-infra): created new widget for events page (#36517)\n\nData in events page was hardcoded and it is manually moved in the table.\n\nCreated a new events widget which will automatically move past and upcoming\nevents from events.json (`aio/content/marketing/events.json`) file to the\nrelevant table in the events tab\n\nPR Close #36517",
    "sha": "5b337987966940019539fd53385e79337106144d",
    "files": [
        {
            "sha": "df88a61ca28eb6003154474e0e36305914405fbf",
            "filename": "aio/content/marketing/events.html",
            "status": "modified",
            "additions": 1,
            "deletions": 158,
            "changes": 159,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fcontent%2Fmarketing%2Fevents.html",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fcontent%2Fmarketing%2Fevents.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fmarketing%2Fevents.html?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -3,162 +3,5 @@ <h1 class=\"banner-headline no-toc no-anchor\">Events</h1>\n </header>\n \n <article class=\"events-container\">\n-  <p>Where we'll be presenting:</p>\n-  <table class=\"is-full-width\">\n-    <thead>\n-      <tr>\n-        <th>Event</th>\n-        <th>Location</th>\n-        <th>Date</th>\n-      </tr>\n-    </thead>\n-    <tbody>\n-    </tbody>\n-  </table>\n-\n-  <p>Where we already presented:</p>\n-  <table class=\"is-full-width\">\n-    <thead>\n-      <tr>\n-        <th>Event</th>\n-        <th>Location</th>\n-        <th>Date</th>\n-      </tr>\n-    </thead>\n-    <tbody>\n-      <!-- ng-vikings 2020 -->\n-      <tr>\n-        <th><a href=\"https://ngvikings.org/\" title=\"ngVikings\">ngVikings</a></th>\n-        <td>Oslo, Norway</td>\n-        <td>May 25-26 conference, 27 workshops, 2020</td>\n-      </tr>\n-      <!-- ng-conf 2020 -->\n-      <tr>\n-        <th><a href=\"https://ng-conf.org/\" title=\"ng-conf\">ng-conf</a></th>\n-        <td>Salt Lake City, Utah</td>\n-        <td>April 1-3, 2020</td>\n-      </tr>\n-      <!-- ngIndia 2020 -->\n-      <tr>\n-        <th><a href=\"https://www.ng-ind.com/\" title=\"ngIndia\">ngIndia</a></th>\n-        <td>Delhi, India</td>\n-        <td>Feb 29, 2020</td>\n-      </tr>\n-      <!-- ReactiveConf 2019 -->\n-      <tr>\n-        <th><a href=\"https://reactiveconf.com/\" title=\"ReactiveConf\">ReactiveConf</a></th>\n-        <td>Prague, Czech Republic</td>\n-        <td>October 30 - November 1, 2019</td>\n-      </tr>\n-      <!-- NG Rome 2019-->\n-      <tr>\n-        <th>\n-          <a href=\"https://ngrome.io\" title=\"NG Rome MMXIX - The Italian Angular Conference\">NG Rome MMXIX</a>\n-        </th>\n-        <td>Rome, Italy</td>\n-        <td>Oct 6th workshops, 7th conference, 2019</td>\n-      </tr>\n-      <!-- AngularConnect 2019-->\n-      <tr>\n-        <th><a href=\"https://www.angularconnect.com/?utm_source=angular.io&utm_medium=referral\"\n-            title=\"AngularConnect\">AngularConnect</a></th>\n-        <td>London, UK</td>\n-        <td>September 19-20, 2019</td>\n-      </tr>\n-      <!-- NG-DE 2019-->\n-      <tr>\n-        <th><a href=\"https://ng-de.org/\" title=\"NG-DE\">NG-DE</a></th>\n-        <td>Berlin, Germany</td>\n-        <td>August 29th workshops, 30-31 conference, 2019</td>\n-      </tr>\n-      <!-- ngJapan-->\n-      <tr>\n-        <th><a href=\"https://ngjapan.org\" title=\"ng-japan\">ng-japan</a></th>\n-        <td>Tokyo, Japan</td>\n-        <td>July 13, 2019</td>\n-      </tr>\n-      <!-- ngVikings 2019-->\n-      <tr>\n-        <th><a href=\"https://ngvikings.org/\" title=\"ngVikings\">ngVikings</a></th>\n-        <td>Copenhagen, Denmark</td>\n-        <td>May 26 (workshops), 27-28 (conference), 2019</td>\n-      </tr>\n-      <!-- ng-conf 2019-->\n-      <tr>\n-        <th><a href=\"https://ng-conf.org/\" title=\"ng-conf\">ng-conf</a></th>\n-        <td>Salt Lake City, Utah</td>\n-        <td>May 1-3, 2019</td>\n-      </tr>\n-      <!-- ng-India 2019-->\n-      <tr>\n-        <th><a href=\"https://www.ng-ind.com/\" title=\"ng-India\">ng-India</a></th>\n-        <td>Gurgaon, India</td>\n-        <td>February 23, 2019</td>\n-      </tr>\n-      <!-- ngAtlanta 2019 -->\n-      <tr>\n-        <th><a href=\"https://ng-atl.org/\" title=\"ngAtlanta\">ngAtlanta</a></th>\n-        <td>Atlanta, Georgia</td>\n-        <td>January 9-12, 2019</td>\n-      </tr>\n-      <!-- AngularConnect-->\n-      <tr>\n-        <th>\n-          <a href=\"https://past.angularconnect.com/2018\" title=\"AngularConnect\">AngularConnect</a>\n-        </th>\n-        <td>London, United Kingdom</td>\n-        <td>November 5-7, 2018</td>\n-      </tr>\n-      <!-- ReactiveConf -->\n-      <tr>\n-        <th><a href=\"https://reactiveconf.com/\" title=\"ReactiveConf\">ReactiveConf</a></th>\n-        <td>Prague, Czech Republic</td>\n-        <td>October 29-31, 2018</td>\n-      </tr>\n-      <!-- AngularMix -->\n-      <tr>\n-        <th><a href=\"https://angularmix.com/\" title=\"AngularMix\">AngularMix</a></th>\n-        <td>Orlando, Florida</td>\n-        <td>October 10-12, 2018</td>\n-      </tr>\n-      <!-- Angular Conf Australia-->\n-      <tr>\n-        <th>\n-          <a href=\"https://www.angularconf.com.au/\" title=\"Angular Conf Australia\">Angular Conf Australia</a>\n-        </th>\n-        <td>Melbourne, Australia</td>\n-        <td>Jun 22, 2018</td>\n-      </tr>\n-      <!-- ngJapan-->\n-      <tr>\n-        <th><a href=\"https://ngjapan.org/en.html\" title=\"ng-japan\">ng-japan</a></th>\n-        <td>Tokyo, Japan</td>\n-        <td>Jun 16, 2018</td>\n-      </tr>\n-      <!-- WeRDevs-->\n-      <tr>\n-        <th><a href=\"https://www.wearedevelopers.com/\" title=\"WeAreDevs\">WeAreDevelopers</a></th>\n-        <td>Vienna, Austria</td>\n-        <td>May 16-18, 2018</td>\n-      </tr>\n-      <!-- ngconf 2018-->\n-      <tr>\n-        <th><a href=\"https://www.ng-conf.org/\" title=\"ng-conf\">ng-conf</a></th>\n-        <td>Salt Lake City, Utah</td>\n-        <td>April 18-20, 2018</td>\n-      </tr>\n-      <!-- ngVikings-->\n-      <tr>\n-        <th><a href=\"https://ngvikings.org/\" title=\"ngVikings\">ngVikings</a></th>\n-        <td>Helsinki, Finland</td>\n-        <td>March 1-2, 2018</td>\n-      </tr>\n-      <!-- ngAtlanta-->\n-      <tr>\n-        <th><a href=\"http://ng-atl.org/\" title=\"ngAtlanta\">ngAtlanta</a></th>\n-        <td>Atlanta, Georgia</td>\n-        <td>January 30, 2018</td>\n-      </tr>\n-    </tbody>\n-  </table>\n+  <aio-events></aio-events>\n </article>"
        },
        {
            "sha": "7fb45bbc50e31ca69d410e95f91bc00201a0d9a8",
            "filename": "aio/content/marketing/events.json",
            "status": "added",
            "additions": 228,
            "deletions": 0,
            "changes": 228,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fcontent%2Fmarketing%2Fevents.json",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fcontent%2Fmarketing%2Fevents.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fmarketing%2Fevents.json?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,228 @@\n+[\n+  {\n+    \"name\": \"ngVikings\",\n+    \"location\": \"Oslo, Norway\",\n+    \"linkUrl\": \"https://ngvikings.org/\",\n+    \"tooltip\": \"ngVikings\",\n+    \"date\": {\n+      \"start\": \"2020-05-25\",\n+      \"end\": \"2020-05-26\"\n+    },\n+    \"workshopsDate\": {\n+      \"start\": \"2020-05-27\",\n+      \"end\": \"2020-05-27\"\n+    }\n+  },\n+  {\n+    \"name\": \"ng-conf\",\n+    \"location\": \"Salt Lake City, Utah\",\n+    \"linkUrl\": \"https://ng-conf.org/\",\n+    \"tooltip\": \"ng-conf\",\n+    \"date\": {\n+      \"start\": \"2020-04-01\",\n+      \"end\": \"2020-04-03\"\n+    }\n+  },\n+  {\n+    \"name\": \"ngIndia\",\n+    \"location\": \"Delhi, India\",\n+    \"linkUrl\": \"https://www.ng-ind.com/\",\n+    \"tooltip\": \"ngIndia\",\n+    \"date\": {\n+      \"start\": \"2020-02-29\",\n+      \"end\": \"2020-02-29\"\n+    }\n+  },\n+  {\n+    \"name\": \"ReactiveConf\",\n+    \"location\": \"Prague, Czech Republic\",\n+    \"linkUrl\": \"https://reactiveconf.com/\",\n+    \"tooltip\": \"ReactiveConf\",\n+    \"date\": {\n+      \"start\": \"2019-10-30\",\n+      \"end\": \"2019-11-01\"\n+    }\n+  },\n+  {\n+    \"name\": \"NG Rome MMXIX\",\n+    \"location\": \"Rome, Italy\",\n+    \"linkUrl\": \"https://ngrome.io\",\n+    \"tooltip\": \"NG Rome MMXIX - The Italian Angular Conference\",\n+    \"date\": {\n+      \"start\": \"2019-10-07\",\n+      \"end\": \"2019-10-07\"\n+    },\n+    \"workshopsDate\": {\n+      \"start\": \"2019-10-06\",\n+      \"end\": \"2019-10-06\"\n+    }\n+  },\n+  {\n+    \"name\": \"AngularConnect\",\n+    \"location\": \"London, UK\",\n+    \"linkUrl\": \"https://www.angularconnect.com/?utm_source=angular.io&utm_medium=referral\",\n+    \"tooltip\": \"AngularConnect\",\n+    \"date\": {\n+      \"start\": \"2019-09-19\",\n+      \"end\": \"2019-09-20\"\n+    }\n+  },\n+  {\n+    \"name\": \"NG-DE\",\n+    \"location\": \"Berlin, Germany\",\n+    \"linkUrl\": \"https://ng-de.org/\",\n+    \"tooltip\": \"NG-DE\",\n+    \"date\": {\n+      \"start\": \"2019-08-30\",\n+      \"end\": \"2019-08-31\"\n+    },\n+    \"workshopsDate\": {\n+      \"start\": \"2019-08-29\",\n+      \"end\": \"2019-08-29\"\n+    }\n+  },\n+  {\n+    \"name\": \"ng-japan\",\n+    \"location\": \"Tokyo, Japan\",\n+    \"linkUrl\": \"https://ngjapan.org/\",\n+    \"tooltip\": \"ng-japan\",\n+    \"date\": {\n+      \"start\": \"2019-07-13\",\n+      \"end\": \"2019-07-13\"\n+    }\n+  },\n+  {\n+    \"name\": \"ngVikings\",\n+    \"location\": \"Copenhagen, Denmark\",\n+    \"linkUrl\": \"https://ngvikings.org/\",\n+    \"tooltip\": \"ngVikings\",\n+    \"date\": {\n+      \"start\": \"2019-05-27\",\n+      \"end\": \"2019-05-28\"\n+    },\n+    \"workshopsDate\": {\n+      \"start\": \"2019-05-26\",\n+      \"end\": \"2019-05-26\"\n+    }\n+  },\n+  {\n+    \"name\": \"ng-conf\",\n+    \"location\": \"Salt Lake City, Utah\",\n+    \"linkUrl\": \"https://ng-conf.org/\",\n+    \"tooltip\": \"ng-conf\",\n+    \"date\": {\n+      \"start\": \"2019-05-01\",\n+      \"end\": \"2019-05-03\"\n+    }\n+  },\n+  {\n+    \"name\": \"ng-India\",\n+    \"location\": \"Gurgaon, India\",\n+    \"linkUrl\": \"https://www.ng-ind.com/\",\n+    \"tooltip\": \"ng-India\",\n+    \"date\": {\n+      \"start\": \"2019-02-23\",\n+      \"end\": \"2019-02-23\"\n+    }\n+  },\n+  {\n+    \"name\": \"ngAtlanta\",\n+    \"location\": \"Atlanta, Georgia\",\n+    \"linkUrl\": \"https://ng-atl.org/\",\n+    \"tooltip\": \"ngAtlanta\",\n+    \"date\": {\n+      \"start\": \"2019-01-09\",\n+      \"end\": \"2019-01-12\"\n+    }\n+  },\n+  {\n+    \"name\": \"AngularConnect\",\n+    \"location\": \"London, United Kingdom\",\n+    \"linkUrl\": \"https://past.angularconnect.com/2018\",\n+    \"tooltip\": \"AngularConnect\",\n+    \"date\": {\n+      \"start\": \"2018-11-05\",\n+      \"end\": \"2018-11-07\"\n+    }\n+  },\n+  {\n+    \"name\": \"ReactiveConf\",\n+    \"location\": \"Prague, Czech Republic\",\n+    \"linkUrl\": \"https://reactiveconf.com/\",\n+    \"tooltip\": \"ReactiveConf\",\n+    \"date\": {\n+      \"start\": \"2018-10-29\",\n+      \"end\": \"2018-10-31\"\n+    }\n+  },\n+  {\n+    \"name\": \"AngularMix\",\n+    \"location\": \"Orlando, Florida\",\n+    \"linkUrl\": \"https://angularmix.com/\",\n+    \"tooltip\": \"AngularMix\",\n+    \"date\": {\n+      \"start\": \"2018-10-10\",\n+      \"end\": \"2018-10-12\"\n+    }\n+  },\n+  {\n+    \"name\": \"Angular Conf Australia\",\n+    \"location\": \"Melbourne, Australia\",\n+    \"linkUrl\": \"https://www.angularconf.com.au/\",\n+    \"tooltip\": \"Angular Conf Australia\",\n+    \"date\": {\n+      \"start\": \"2018-06-22\",\n+      \"end\": \"2018-06-22\"\n+    }\n+  },\n+  {\n+    \"name\": \"ng-japan\",\n+    \"location\": \"Tokyo, Japan\",\n+    \"linkUrl\": \"https://ngjapan.org/en.html\",\n+    \"tooltip\": \"ng-japan\",\n+    \"date\": {\n+      \"start\": \"2018-06-16\",\n+      \"end\": \"2018-06-16\"\n+    }\n+  },\n+  {\n+    \"name\": \"WeAreDevelopers\",\n+    \"location\": \"Vienna, Austria\",\n+    \"linkUrl\": \"https://www.wearedevelopers.com/\",\n+    \"tooltip\": \"WeAreDevs\",\n+    \"date\": {\n+      \"start\": \"2018-05-16\",\n+      \"end\": \"2018-05-18\"\n+    }\n+  },\n+  {\n+    \"name\": \"ng-conf\",\n+    \"location\": \"Salt Lake City, Utah\",\n+    \"linkUrl\": \"https://ng-conf.org/\",\n+    \"tooltip\": \"ng-conf\",\n+    \"date\": {\n+      \"start\": \"2018-04-18\",\n+      \"end\": \"2018-04-20\"\n+    }\n+  },\n+  {\n+    \"name\": \"ngVikings\",\n+    \"location\": \"Helsinki, Finland\",\n+    \"linkUrl\": \"https://ngvikings.org/\",\n+    \"tooltip\": \"ngVikings\",\n+    \"date\": {\n+      \"start\": \"2018-03-01\",\n+      \"end\": \"2018-03-02\"\n+    }\n+  },\n+  {\n+    \"name\": \"ngAtlanta\",\n+    \"location\": \"Atlanta, Georgia\",\n+    \"linkUrl\": \"https://ng-atl.org/\",\n+    \"tooltip\": \"ngAtlanta\",\n+    \"date\": {\n+      \"start\": \"2018-01-30\",\n+      \"end\": \"2018-01-30\"\n+    }\n+  }\n+]\n\\ No newline at end of file"
        },
        {
            "sha": "be4036687f516a40706dfb0d1a37371e84aacd26",
            "filename": "aio/src/app/custom-elements/element-registry.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Felement-registry.ts",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Felement-registry.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Felement-registry.ts?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -40,6 +40,10 @@ export const ELEMENT_MODULE_LOAD_CALLBACKS_AS_ROUTES = [\n   {\n     selector: 'live-example',\n     loadChildren: () => import('./live-example/live-example.module').then(m => m.LiveExampleModule)\n+  },\n+  {\n+    selector: 'aio-events',\n+    loadChildren: () => import('./events/events.module').then(m => m.EventsModule)\n   }\n ];\n "
        },
        {
            "sha": "17e5f10b22fd4f3499d63787fa5d7fde8b48a634",
            "filename": "aio/src/app/custom-elements/events/events.component.html",
            "status": "added",
            "additions": 43,
            "deletions": 0,
            "changes": 43,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.html",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.html?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,43 @@\n+<p>Where we'll be presenting:</p>\n+<table class=\"is-full-width\">\n+  <thead>\n+    <tr>\n+      <th>Event</th>\n+      <th>Location</th>\n+      <th>Date</th>\n+    </tr>\n+  </thead>\n+  <tbody >\n+    <tr *ngFor=\"let event of upcomingEvents\">\n+      <th><a href=\"{{event.linkUrl}}\" title=\"{{event.tooltip}}\">{{event.name}}</a></th>\n+      <td>{{event.location}}</td>\n+      <td>\n+        <div>\n+          {{getEventDates(event)}}\n+        </div>\n+      </td>\n+    </tr>\n+  </tbody>\n+</table>\n+\n+<p>Where we already presented:</p>\n+<table class=\"is-full-width\">\n+  <thead>\n+    <tr>\n+      <th>Event</th>\n+      <th>Location</th>\n+      <th>Date</th>\n+    </tr>\n+  </thead>\n+  <tbody>\n+    <tr *ngFor=\"let event of pastEvents\">\n+      <th><a href=\"{{event.linkUrl}}\" title=\"{{event.tooltip}}\">{{event.name}}</a></th>\n+      <td>{{event.location}}</td>\n+      <td>\n+        <div>\n+          {{getEventDates(event)}}\n+        </div>\n+      </td>\n+    </tr>\n+  </tbody>\n+</table>"
        },
        {
            "sha": "6f6f094c017a406f31c37502263b33dfe728a68a",
            "filename": "aio/src/app/custom-elements/events/events.component.spec.ts",
            "status": "added",
            "additions": 295,
            "deletions": 0,
            "changes": 295,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.spec.ts?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,295 @@\n+import { EventsComponent } from './events.component';\n+import { EventsService } from './events.service';\n+import { Event } from './events.component';\n+import { ReflectiveInjector } from '@angular/core';\n+import { Subject } from 'rxjs';\n+\n+describe('EventsComponent', () => {\n+  let component: EventsComponent;\n+  let injector: ReflectiveInjector;\n+  let eventsService: TestEventService;\n+\n+  beforeEach(() => {\n+    injector = ReflectiveInjector.resolveAndCreate([\n+      EventsComponent,\n+      {provide: EventsService, useClass: TestEventService },\n+    ]);\n+    eventsService = injector.get(EventsService) as any;\n+    component = injector.get(EventsComponent);\n+    component.ngOnInit();\n+  });\n+\n+  it('should have no pastEvents when first created', () => {\n+    expect(component.pastEvents).toBeUndefined();\n+  });\n+\n+  it('should have no upcoming when first created', () => {\n+    expect(component.upcomingEvents).toBeUndefined();\n+  });\n+\n+  describe('ngOnInit', () => {\n+    it('should have 2 upcoming events', () => {\n+      eventsService.events.next([{\n+        'location': 'Oslo, Norway',\n+        'tooltip': 'ngVikings',\n+        'linkUrl': 'https://ngvikings.org/',\n+        'name': 'ngVikings',\n+        'date': {\n+          'start': '2099-07-25',\n+          'end': '2099-07-26'\n+        },\n+        'workshopsDate': {\n+          'start': '2099-07-27',\n+          'end': '2099-07-27'\n+        }\n+      },\n+      {\n+        'location': 'Salt Lake City, Utah',\n+        'tooltip': 'ng-conf',\n+        'linkUrl': 'https://ng-conf.org/',\n+        'name': 'ng-conf  ',\n+        'date': {\n+          'start': '2099-06-20',\n+          'end': '2099-06-20'\n+        }\n+      },\n+      {\n+        'location': 'Delhi, India',\n+        'tooltip': 'ngIndia',\n+        'linkUrl': 'https://www.ng-ind.com/',\n+        'name': 'ngIndia',\n+        'date': {\n+          'start': '2020-02-29',\n+          'end': '2020-02-29'\n+        }\n+      }]);\n+      expect(component.upcomingEvents.length).toEqual(2);\n+    });\n+\n+    it('should have 4 past events', () => {\n+      eventsService.events.next([\n+      {\n+        'location': 'Salt Lake City, Utah',\n+        'tooltip': 'ng-conf',\n+        'linkUrl': 'https://ng-conf.org/',\n+        'name': 'ng-conf  ',\n+        'date': {\n+          'start': '2099-06-20',\n+          'end': '2099-06-20'\n+        }\n+      },\n+      {\n+        'location': 'Rome, Italy',\n+        'tooltip': 'NG Rome MMXIX - The Italian Angular Conference',\n+        'linkUrl': 'https://ngrome.io',\n+        'name': 'NG Rome MMXIX',\n+        'date': {\n+          'start': '2019-10-07',\n+          'end': '2019-10-07'\n+        },\n+        'workshopsDate': {\n+          'start': '2019-10-06',\n+          'end': '2019-10-06'\n+        }\n+      },\n+      {\n+        'location': 'London, UK',\n+        'tooltip': 'AngularConnect',\n+        'linkUrl': 'https://www.angularconnect.com/?utm_source=angular.io&utm_medium=referral',\n+        'name': 'AngularConnect',\n+        'date': {\n+          'start': '2019-09-19',\n+          'end': '2019-09-20'\n+        }\n+      },\n+      {\n+        'location': 'Berlin, Germany',\n+        'tooltip': 'NG-DE',\n+        'linkUrl': 'https://ng-de.org/',\n+        'name': 'NG-DE',\n+        'date': {\n+          'start': '2019-08-30',\n+          'end': '2019-08-31'\n+        },\n+        'workshopsDate': {\n+          'start': '2019-08-29',\n+          'end': '2019-08-29'\n+        }\n+      },\n+      {\n+        'location': 'Oslo, Norway',\n+        'tooltip': 'ngVikings',\n+        'linkUrl': 'https://ngvikings.org/',\n+        'name': 'ngVikings',\n+        'date': {\n+          'start': '2018-07-26',\n+          'end': '2018-07-26'\n+        },\n+        'workshopsDate': {\n+          'start': '2018-07-27',\n+          'end': '2018-07-27'\n+        }\n+      }]);\n+      expect(component.pastEvents.length).toEqual(4);\n+    });\n+  });\n+\n+  describe('Getting event dates if no workshop date', () => {\n+    it('should return only conference date', () => {\n+      const datestring = component.getEventDates({\n+            'location': 'Salt Lake City, Utah',\n+            'tooltip': 'ng-conf',\n+            'linkUrl': 'https://ng-conf.org/',\n+            'name': 'ng-conf  ',\n+            'date': {\n+              'start': '2020-06-20',\n+              'end': '2020-06-20'\n+            }\n+          });\n+      expect(datestring).toEqual('June 20, 2020');\n+    });\n+\n+    it('should return only conference date with changing months if date is in two diffrent months', () => {\n+      const datestring = component.getEventDates({\n+        'location': 'Prague, Czech Republic',\n+        'tooltip': 'ReactiveConf',\n+        'linkUrl': 'https://reactiveconf.com/',\n+        'name': 'ReactiveConf',\n+        'date': {\n+          'start': '2019-10-30',\n+          'end': '2019-11-01'\n+        }\n+      });\n+      expect(datestring).toEqual('October 30 - November 1, 2019');\n+    });\n+\n+    it('should return only conference date with \"- lastdate\" if conference over multiple days', () => {\n+      const datestring = component.getEventDates({\n+        'location': 'London, UK',\n+        'tooltip': 'AngularConnect',\n+        'linkUrl': 'https://www.angularconnect.com/?utm_source=angular.io&utm_medium=referral',\n+        'name': 'AngularConnect',\n+        'date': {\n+          'start': '2019-09-19',\n+          'end': '2019-09-20'\n+        }\n+      });\n+      expect(datestring).toEqual('September 19-20, 2019');\n+    });\n+  });\n+\n+  describe('Getting event dates if workshop date', () => {\n+    it('should return conference date with different days, workshopdate', () => {\n+      const datestring = component.getEventDates({\n+            'location': 'Oslo, Norway',\n+            'tooltip': 'ngVikings',\n+            'linkUrl': 'https://ngvikings.org/',\n+            'name': 'ngVikings',\n+            'date': {\n+              'start': '2020-07-25',\n+              'end': '2020-07-26'\n+            },\n+            'workshopsDate': {\n+              'start': '2020-07-27',\n+              'end': '2020-07-27'\n+            }\n+          });\n+      expect(datestring).toEqual('July 25-26 (conference), July 27 (workshops), 2020');\n+    });\n+\n+    it('should return workshop date, conference date if workshop before conf date', () => {\n+      const datestring = component.getEventDates({\n+        'location': 'Rome, Italy',\n+        'tooltip': 'NG Rome MMXIX - The Italian Angular Conference',\n+        'linkUrl': 'https://ngrome.io',\n+        'name': 'NG Rome MMXIX',\n+        'date': {\n+          'start': '2019-10-07',\n+          'end': '2019-10-07'\n+        },\n+        'workshopsDate': {\n+          'start': '2019-10-06',\n+          'end': '2019-10-06'\n+        }\n+      });\n+      expect(datestring).toEqual('October 6 (workshops), October 7 (conference), 2019');\n+    });\n+\n+    it('should return workshop date, conference date if workshop before conference date', () => {\n+      const datestring = component.getEventDates({\n+        'location': 'Berlin, Germany',\n+        'tooltip': 'NG-DE',\n+        'linkUrl': 'https://ng-de.org/',\n+        'name': 'NG-DE',\n+        'date': {\n+          'start': '2019-08-30',\n+          'end': '2019-08-31'\n+        },\n+        'workshopsDate': {\n+          'start': '2019-08-29',\n+          'end': '2019-08-29'\n+        }\n+      });\n+      expect(datestring).toEqual('August 29 (workshops), August 30-31 (conference), 2019');\n+    });\n+\n+    it('should return only conference date, wokshop date if workshop after conference', () => {\n+      const datestring = component.getEventDates({\n+        'location': 'Oslo, Norway',\n+        'tooltip': 'ngVikings',\n+        'linkUrl': 'https://ngvikings.org/',\n+        'name': 'ngVikings',\n+        'date': {\n+          'start': '2018-07-26',\n+          'end': '2018-07-26'\n+        },\n+        'workshopsDate': {\n+          'start': '2018-07-27',\n+          'end': '2018-07-27'\n+        }\n+      });\n+      expect(datestring).toEqual('July 26 (conference), July 27 (workshops), 2018');\n+    });\n+\n+    it('should return conference date and workshop date with different days and months, starting with confrence date', () => {\n+      const datestring = component.getEventDates({\n+            'location': 'Oslo, Norway',\n+            'tooltip': 'ngVikings',\n+            'linkUrl': 'https://ngvikings.org/',\n+            'name': 'ngVikings',\n+            'date': {\n+              'start': '2020-07-30',\n+              'end': '2020-07-31'\n+            },\n+            'workshopsDate': {\n+              'start': '2020-08-01',\n+              'end': '2020-08-02'\n+            }\n+          });\n+      expect(datestring).toEqual('July 30-31 (conference), August 1-2 (workshops), 2020');\n+    });\n+\n+    it('should return conference date and workshop date with different days and months, starting with workshopdate', () => {\n+      const datestring = component.getEventDates({\n+            'location': 'Oslo, Norway',\n+            'tooltip': 'ngVikings',\n+            'linkUrl': 'https://ngvikings.org/',\n+            'name': 'ngVikings',\n+            'date': {\n+              'start': '2020-08-01',\n+              'end': '2020-08-02'\n+            },\n+            'workshopsDate': {\n+              'start': '2020-07-30',\n+              'end': '2020-07-31'\n+            }\n+          });\n+      expect(datestring).toEqual('July 30-31 (workshops), August 1-2 (conference), 2020');\n+    });\n+\n+  });\n+});\n+\n+class TestEventService {\n+  events = new Subject<Event[]>();\n+}"
        },
        {
            "sha": "54912a38e1dbeb1669e19282cd7ff9791c7c5547",
            "filename": "aio/src/app/custom-elements/events/events.component.ts",
            "status": "added",
            "additions": 102,
            "deletions": 0,
            "changes": 102,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.component.ts?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,102 @@\n+import { Component, OnInit } from '@angular/core';\n+\n+import { EventsService } from './events.service';\n+\n+const DAY = 24 * 60 * 60 * 1000;\n+const MONTHS = [\n+  'January',\n+  'February',\n+  'March',\n+  'April',\n+  'May',\n+  'June',\n+  'July',\n+  'August',\n+  'September',\n+  'October',\n+  'November',\n+  'December',\n+];\n+\n+type date = string; // of the format `YYYY-MM-DD`.\n+interface Duration {\n+  start: date;\n+  end: date;\n+}\n+\n+export interface Event {\n+  name: string;\n+  location: string;\n+  linkUrl: string;\n+  tooltip?: string;\n+  date: Duration;\n+  workshopsDate?: Duration;\n+}\n+\n+@Component({\n+  selector: 'aio-events',\n+  templateUrl: 'events.component.html'\n+})\n+export class EventsComponent implements OnInit {\n+\n+  pastEvents: Event[];\n+  upcomingEvents: Event[];\n+\n+  constructor(private eventsService: EventsService) { }\n+\n+  ngOnInit() {\n+    this.eventsService.events.subscribe(events => {\n+      this.pastEvents = events\n+          .filter(event => new Date(event.date.end).getTime() < Date.now() - DAY)\n+          .sort((l: Event, r: Event) => isBefore(l.date, r.date) ? 1 : -1);\n+\n+      this.upcomingEvents = events\n+          .filter(event => new Date(event.date.end).getTime() >= Date.now() - DAY)\n+          .sort((l: Event, r: Event) => isBefore(l.date, r.date) ? -1 : 1);\n+    });\n+  }\n+\n+  getEventDates(event: Event) {\n+    let dateString;\n+\n+    // Check if there is a workshop\n+    if (event.workshopsDate) {\n+      const mainEventDateString = `${processDate(event.date)} (conference)`;\n+      const workshopsDateString = `${processDate(event.workshopsDate)} (workshops)`;\n+      const areWorkshopsBeforeEvent = isBefore(event.workshopsDate, event.date);\n+\n+      dateString = areWorkshopsBeforeEvent ?\n+          `${workshopsDateString}, ${mainEventDateString}` :\n+          `${mainEventDateString}, ${workshopsDateString}`;\n+    } else {\n+      // If no work shop date create conference date string\n+      dateString = processDate(event.date);\n+    }\n+    dateString = `${dateString}, ${new Date(event.date.end).getFullYear()}`;\n+    return dateString;\n+  }\n+}\n+\n+function processDate(dates: Duration) {\n+  // Covert Date sting to date object for comparisons\n+  const startDate = new Date(dates.start);\n+  const endDate = new Date(dates.end);\n+\n+  // Create a date string in the start like January 31\n+  let processedDate = `${MONTHS[startDate.getMonth()]} ${startDate.getDate()}`;\n+\n+  // If they are in different months add the string '- February 2' Making the final string January 31 - February 2\n+  if (startDate.getMonth() !== endDate.getMonth()) {\n+    processedDate = `${processedDate} - ${MONTHS[endDate.getMonth()]} ${endDate.getDate()}`;\n+  } else if (startDate.getDate() !== endDate.getDate()) {\n+    // If not add - date eg it will make // January 30-31\n+    processedDate = `${processedDate}-${endDate.getDate()}`;\n+  }\n+\n+  return processedDate;\n+}\n+\n+function isBefore(duration1: Duration, duration2: Duration): boolean {\n+  return (duration1.start < duration2.start) ||\n+      (duration1.start === duration2.start && duration1.end < duration2.end);\n+}"
        },
        {
            "sha": "04803e7e6a6684fae8caa5f924613f8dffd01c33",
            "filename": "aio/src/app/custom-elements/events/events.module.ts",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.module.ts?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,15 @@\n+import { NgModule, Type } from '@angular/core';\n+import { CommonModule } from '@angular/common';\n+import { EventsComponent } from './events.component';\n+import { EventsService } from './events.service';\n+import { WithCustomElementComponent } from '../element-registry';\n+\n+@NgModule({\n+  imports: [ CommonModule ],\n+  declarations: [ EventsComponent ],\n+  entryComponents: [ EventsComponent ],\n+  providers: [ EventsService]\n+})\n+export class EventsModule implements WithCustomElementComponent {\n+  customElementComponent: Type<any> = EventsComponent;\n+}"
        },
        {
            "sha": "5102e017035fd2252a00188cad292ea1f0daf8cc",
            "filename": "aio/src/app/custom-elements/events/events.service.spec.ts",
            "status": "added",
            "additions": 56,
            "deletions": 0,
            "changes": 56,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.service.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.service.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.service.spec.ts?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,56 @@\n+import { HttpClientTestingModule, HttpTestingController } from '@angular/common/http/testing';\n+import { Injector } from '@angular/core';\n+import { TestBed } from '@angular/core/testing';\n+\n+import { EventsService } from './events.service';\n+import { Logger } from 'app/shared/logger.service';\n+import { MockLogger } from 'testing/logger.service';\n+\n+describe('EventsService', () => {\n+\n+  let injector: Injector;\n+  let eventsService: EventsService;\n+  let httpMock: HttpTestingController;\n+  let mockLogger: MockLogger;\n+\n+  beforeEach(() => {\n+    injector = TestBed.configureTestingModule({\n+      imports: [HttpClientTestingModule],\n+      providers: [\n+        EventsService,\n+        { provide: Logger, useClass: MockLogger }\n+      ]\n+    });\n+\n+    eventsService = injector.get<EventsService>(EventsService);\n+    mockLogger = injector.get(Logger) as any;\n+    httpMock = injector.get(HttpTestingController);\n+  });\n+\n+  afterEach(() => httpMock.verify());\n+\n+  it('should make a single connection to the server', () => {\n+    eventsService.events.subscribe();\n+    eventsService.events.subscribe();\n+    httpMock.expectOne('generated/events.json');\n+    expect().nothing();  // Prevent jasmine from complaining about no expectations.\n+  });\n+\n+  it('should handle a failed request for `events.json`', () => {\n+    const request = httpMock.expectOne('generated/events.json');\n+    request.error(new ErrorEvent('404'));\n+    expect(mockLogger.output.error).toEqual([\n+      [jasmine.any(Error)]\n+    ]);\n+    expect(mockLogger.output.error[0][0].message).toMatch(/^generated\\/events\\.json request failed:/);\n+  });\n+\n+  it('should return an empty array on a failed request for `events.json`', done => {\n+    const request = httpMock.expectOne('generated/events.json');\n+    request.error(new ErrorEvent('404'));\n+    eventsService.events.subscribe(results => {\n+      expect(results).toEqual([]);\n+      done();\n+    });\n+  });\n+});"
        },
        {
            "sha": "c4d8ecd0e257da1e23c58c78c8435a36fcd509e2",
            "filename": "aio/src/app/custom-elements/events/events.service.ts",
            "status": "added",
            "additions": 32,
            "deletions": 0,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.service.ts",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.service.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fcustom-elements%2Fevents%2Fevents.service.ts?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -0,0 +1,32 @@\n+import { Injectable } from '@angular/core';\n+import { HttpClient } from '@angular/common/http';\n+\n+import { ConnectableObservable, Observable, of } from 'rxjs';\n+import { catchError, publishLast } from 'rxjs/operators';\n+\n+import { Event } from './events.component';\n+import { CONTENT_URL_PREFIX } from 'app/documents/document.service';\n+import { Logger } from 'app/shared/logger.service';\n+\n+const eventsPath = CONTENT_URL_PREFIX + 'events.json';\n+\n+@Injectable()\n+export class EventsService {\n+  events: Observable<Event[]>;\n+\n+  constructor(private http: HttpClient, private logger: Logger) {\n+    this.events = this.getEvents();\n+  }\n+\n+  private getEvents() {\n+    const events = this.http.get<any>(eventsPath).pipe(\n+      catchError(error => {\n+        this.logger.error(new Error(`${eventsPath} request failed: ${error.message}`));\n+        return of([]);\n+      }),\n+      publishLast()\n+    );\n+    (events as ConnectableObservable<Event[]>).connect();\n+    return events;\n+  }\n+}"
        },
        {
            "sha": "b937ebb83e41ef476e7c29101d11a07cef773d43",
            "filename": "aio/tools/transforms/angular-base-package/processors/createSitemap.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Ftools%2Ftransforms%2Fangular-base-package%2Fprocessors%2FcreateSitemap.js",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Ftools%2Ftransforms%2Fangular-base-package%2Fprocessors%2FcreateSitemap.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fangular-base-package%2Fprocessors%2FcreateSitemap.js?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -5,6 +5,7 @@ module.exports = function createSitemap() {\n       'contributors-json',\n       'navigation-json',\n       'resources-json',\n+      'events-json'\n     ],\n     ignoredPaths: [\n       'file-not-found',"
        },
        {
            "sha": "47d7432ae6da4754ffbc8897908730ff420d5a93",
            "filename": "aio/tools/transforms/angular-content-package/index.js",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/aio%2Ftools%2Ftransforms%2Fangular-content-package%2Findex.js",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/aio%2Ftools%2Ftransforms%2Fangular-content-package%2Findex.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fangular-content-package%2Findex.js?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -82,6 +82,11 @@ module.exports = new Package('angular-content', [basePackage, contentPackage])\n         include: CONTENTS_PATH + '/marketing/resources.json',\n         fileReader: 'jsonFileReader'\n       },\n+      {\n+        basePath: CONTENTS_PATH,\n+        include: CONTENTS_PATH + '/marketing/events.json',\n+        fileReader: 'jsonFileReader'\n+      },\n     ]);\n \n     collectExamples.exampleFolders.push('examples');\n@@ -110,7 +115,8 @@ module.exports = new Package('angular-content', [basePackage, contentPackage])\n       {docTypes: ['navigation-json'], pathTemplate: '${id}', outputPathTemplate: '../${id}.json'},\n       {docTypes: ['contributors-json'], pathTemplate: '${id}', outputPathTemplate: '../${id}.json'},\n       {docTypes: ['announcements-json'], pathTemplate: '${id}', outputPathTemplate: '../${id}.json'},\n-      {docTypes: ['resources-json'], pathTemplate: '${id}', outputPathTemplate: '../${id}.json'}\n+      {docTypes: ['resources-json'], pathTemplate: '${id}', outputPathTemplate: '../${id}.json'},\n+      {docTypes: ['events-json'], pathTemplate: '${id}', outputPathTemplate: '../${id}.json'}\n     ]);\n   })\n "
        },
        {
            "sha": "e41847d91e67a01b6aa5d1171181df02239b3190",
            "filename": "goldens/size-tracking/aio-payloads.json",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/5b337987966940019539fd53385e79337106144d/goldens%2Fsize-tracking%2Faio-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/5b337987966940019539fd53385e79337106144d/goldens%2Fsize-tracking%2Faio-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Faio-payloads.json?ref=5b337987966940019539fd53385e79337106144d",
            "patch": "@@ -2,27 +2,27 @@\n   \"aio\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime-es2015\": 2987,\n-        \"main-es2015\": 450880,\n+        \"runtime-es2015\": 3037,\n+        \"main-es2015\": 450952,\n         \"polyfills-es2015\": 52685\n       }\n     }\n   },\n   \"aio-local\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime-es2015\": 2987,\n-        \"main-es2015\": 448419,\n-        \"polyfills-es2015\": 52630\n+        \"runtime-es2015\": 3037,\n+        \"main-es2015\": 448493,\n+        \"polyfills-es2015\": 52415\n       }\n     }\n   },\n   \"aio-local-viewengine\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime-es2015\": 3097,\n-        \"main-es2015\": 430239,\n-        \"polyfills-es2015\": 52195\n+        \"runtime-es2015\": 3157,\n+        \"main-es2015\": 430008,\n+        \"polyfills-es2015\": 52415\n       }\n     }\n   }"
        }
    ],
    "stats": {
        "total": 959,
        "additions": 792,
        "deletions": 167
    }
}