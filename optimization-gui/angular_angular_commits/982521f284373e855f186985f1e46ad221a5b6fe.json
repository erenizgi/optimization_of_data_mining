{
    "author": "gkalpak",
    "message": "build(docs-infra): align `navigationUrls` in `ngsw-config.json` with Firebase redirects (#42452)\n\nThe ServiceWorker `navigationUrls` globs defined in `ngsw-config.json`\nare supposed to exclude any URLs that are redirected on the server (as\nconfigured in `firebase.json`). However, the list of redirected\nURLs/globs in `firebase.json` and `ngsw-config.json` have gotten out of\nsync.\n\nThis commit updates the globs in `ngsw-config.json` to match the ones in\n`firebase.json`.\n\nThis is in preparation of automatically generating the ServiceWorker\n`navigationUrls` based on `firebase.json`.\n\nPR Close #42452",
    "sha": "982521f284373e855f186985f1e46ad221a5b6fe",
    "files": [
        {
            "sha": "10555ab0ca27168eb2bdc62315e03964c530f3c3",
            "filename": "aio/ngsw-config.json",
            "status": "modified",
            "additions": 30,
            "deletions": 18,
            "changes": 48,
            "blob_url": "https://github.com/angular/angular/blob/982521f284373e855f186985f1e46ad221a5b6fe/aio%2Fngsw-config.json",
            "raw_url": "https://github.com/angular/angular/raw/982521f284373e855f186985f1e46ad221a5b6fe/aio%2Fngsw-config.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fngsw-config.json?ref=982521f284373e855f186985f1e46ad221a5b6fe",
            "patch": "@@ -79,33 +79,46 @@\n     \"!/**/*__*\",\n     \"!/**/*__*/**\",\n     \"!/**/stackblitz/{0,1}\",\n-    \"!/api/**/AnimationStateDeclarationMetadata*\",\n-    \"!/api/**/CORE_DIRECTIVES*\",\n-    \"!/api/**/DirectiveMetadata*\",\n-    \"!/api/**/HTTP_PROVIDERS*\",\n-    \"!/api/**/NgFor-*\",\n-    \"!/api/**/PLATFORM_PIPES*\",\n-    \"!/api/*/**/*-(class|directive|var|interface|function|pipe|let|type-alias|decorator)\",\n+    \"!/**/AnimationStateDeclarationMetadata*\",\n+    \"!/**/CORE_DIRECTIVES*\",\n+    \"!/**/DirectiveMetadata-*\",\n+    \"!/**/HTTP_PROVIDERS*\",\n+    \"!/**/NgFor-*\",\n+    \"!/**/OptionalMetadata-*\",\n+    \"!/**/PLATFORM_PIPES*\",\n+    \"!/**/api/common/Control*\",\n+    \"!/**/api/common/ControlGroup*\",\n+    \"!/**/api/common/NgModel/{0,1}\",\n+    \"!/**/api/common/SelectControlValueAccessor-*\",\n+    \"!/**/api/common/index/MaxLengthValidator-*\",\n+    \"!/**/cookbook/ts-to-js*\",\n+    \"!/api/*/*-(class|decorator|directive|function|interface|let|pipe|type|type-alias|var)\",\n+    \"!/api/*/testing/*-(class|decorator|directive|function|interface|let|pipe|type|type-alias|var)\",\n+    \"!/api/*/testing/index/*\",\n     \"!/api/animate/**\",\n     \"!/api/api/**\",\n-    \"!/api/common/Control*\",\n-    \"!/api/common/MaxLengthValidator*\",\n-    \"!/api/common/NgModel*\",\n     \"!/api/http/**\",\n     \"!/api/http/{0,1}\",\n-    \"!/api/platform-browser/AnimationDriver*\",\n-    \"!/api/testing/**\",\n-    \"!/config/**\",\n+    \"!/api/platform-browser/AnimationDriver/{0,1}\",\n+    \"!/api/testing/*-*\",\n+    \"!/api/upgrade/*/*-(class|decorator|directive|function|interface|let|pipe|type|type-alias|var)\",\n+    \"!/api/upgrade/*/index/*\",\n+    \"!/config/app-package-json/{0,1}\",\n+    \"!/config/solution-tsconfig/{0,1}\",\n+    \"!/config/tsconfig/{0,1}\",\n     \"!/devtools/{0,1}\",\n-    \"!/docs/*/**\",\n-    \"!/docs/?*\",\n+    \"!/docs/*/latest/**\",\n+    \"!/docs/*/latest/{0,1}\",\n+    \"!/docs/latest/**\",\n+    \"!/docs/styleguide*\",\n+    \"!/docs/styleguide/{0,1}\",\n     \"!/getting-started/**\",\n     \"!/getting-started/{0,1}\",\n     \"!/guide/bazel/{0,1}\",\n     \"!/guide/change-log/{0,1}\",\n     \"!/guide/cli-quickstart/{0,1}\",\n     \"!/guide/displaying-data/{0,1}\",\n-    \"!/guide/learning-angular/{0,1}\",\n+    \"!/guide/learning-angular*\",\n     \"!/guide/metadata/{0,1}\",\n     \"!/guide/ngmodule/{0,1}\",\n     \"!/guide/quickstart/{0,1}\",\n@@ -117,13 +130,12 @@\n     \"!/guide/updating-to-version-10/{0,1}\",\n     \"!/guide/updating-to-version-11/{0,1}\",\n     \"!/guide/webpack/{0,1}\",\n-    \"!/news/{0,1}\",\n+    \"!/news*\",\n     \"!/start/data/{0,1}\",\n     \"!/start/deployment/{0,1}\",\n     \"!/start/forms/{0,1}\",\n     \"!/start/routing/{0,1}\",\n     \"!/strict/{0,1}\",\n-    \"!/styleguide/**\",\n     \"!/styleguide/{0,1}\",\n     \"!/testing/**\",\n     \"!/testing/{0,1}\""
        },
        {
            "sha": "a56db2ea09fc2bc0890fdc972cd9c4bda3b9cf6c",
            "filename": "aio/tests/deployment/unit/testServiceWorkerRoutes.spec.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/982521f284373e855f186985f1e46ad221a5b6fe/aio%2Ftests%2Fdeployment%2Funit%2FtestServiceWorkerRoutes.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/982521f284373e855f186985f1e46ad221a5b6fe/aio%2Ftests%2Fdeployment%2Funit%2FtestServiceWorkerRoutes.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Funit%2FtestServiceWorkerRoutes.spec.ts?ref=982521f284373e855f186985f1e46ad221a5b6fe",
            "patch": "@@ -28,9 +28,15 @@ describe('ServiceWorker navigation URLs', () => {\n     expect(isNavigationUrl('/generated/docs/guide/animations.json')).toBeFalsy();\n   });\n \n-  it('should treat `/docs*` URLs correctly', () => {\n+  it('should treat `/docs/*` URLs correctly', () => {\n     const navigationUrls = ['/docs', '/docs/'];\n-    const nonNavigationUrls = ['/docs/foo', '/docs/foo/', '/docs/foo/bar'];\n+    const nonNavigationUrls = [\n+      '/docs/js/latest',\n+      '/docs/ts/latest/foo',\n+      '/docs/latest/foo/bar',\n+      '/docs/styleguide',\n+      '/docs/styleguide/',\n+    ];\n \n     navigationUrls.forEach(url => expect(isNavigationUrl(url)).toBeTruthy(url));\n     nonNavigationUrls.forEach(url => expect(isNavigationUrl(url)).toBeFalsy(url));"
        }
    ],
    "stats": {
        "total": 58,
        "additions": 38,
        "deletions": 20
    }
}