{
    "author": "vmohir",
    "message": "fix(common): initialize currencyCode in currencyPipe (#40505)\n\ncurrencyCode should be initialized with the injected default currency code\n\nPR Close #40505",
    "sha": "374fa2c26f56cd7c82b3e62a079fa785f11ac624",
    "files": [
        {
            "sha": "087b176b232bdde8e2b737b8012df180c6503196",
            "filename": "packages/common/src/pipes/number_pipe.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/374fa2c26f56cd7c82b3e62a079fa785f11ac624/packages%2Fcommon%2Fsrc%2Fpipes%2Fnumber_pipe.ts",
            "raw_url": "https://github.com/angular/angular/raw/374fa2c26f56cd7c82b3e62a079fa785f11ac624/packages%2Fcommon%2Fsrc%2Fpipes%2Fnumber_pipe.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fpipes%2Fnumber_pipe.ts?ref=374fa2c26f56cd7c82b3e62a079fa785f11ac624",
            "patch": "@@ -253,7 +253,7 @@ export class CurrencyPipe implements PipeTransform {\n       display?: 'code'|'symbol'|'symbol-narrow'|string|boolean, digitsInfo?: string,\n       locale?: string): string|null;\n   transform(\n-      value: number|string|null|undefined, currencyCode?: string,\n+      value: number|string|null|undefined, currencyCode: string = this._defaultCurrencyCode,\n       display: 'code'|'symbol'|'symbol-narrow'|string|boolean = 'symbol', digitsInfo?: string,\n       locale?: string): string|null {\n     if (!isValue(value)) return null;"
        },
        {
            "sha": "ce025f5579b68e7f6fdae6c0f2e223105e8c8f14",
            "filename": "packages/common/test/pipes/number_pipe_spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/374fa2c26f56cd7c82b3e62a079fa785f11ac624/packages%2Fcommon%2Ftest%2Fpipes%2Fnumber_pipe_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/374fa2c26f56cd7c82b3e62a079fa785f11ac624/packages%2Fcommon%2Ftest%2Fpipes%2Fnumber_pipe_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Ftest%2Fpipes%2Fnumber_pipe_spec.ts?ref=374fa2c26f56cd7c82b3e62a079fa785f11ac624",
            "patch": "@@ -140,6 +140,11 @@ import {ɵregisterLocaleData, ɵunregisterLocaleData} from '@angular/core';\n           expect(pipe.transform(5.1234, 'DKK', '', '', 'da')).toEqual('5,12');\n         });\n \n+        it('should use the injected default currency code if none is provided', () => {\n+          const clpPipe = new CurrencyPipe('en-US', 'CLP');\n+          expect(clpPipe.transform(1234)).toEqual('CLP1,234');\n+        });\n+\n         it('should support any currency code name', () => {\n           // currency code is unknown, default formatting options will be used\n           expect(pipe.transform(5.1234, 'unexisting_ISO_code', 'symbol'))"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}