{
    "author": "dgp1130",
    "message": "docs: minor cleanup (#42371)\n\nMainly just fixing some spacing and adding `.prototype` for non-static properties.\n\nPR Close #42371",
    "sha": "2a311c51e690c1d593d05cb15911d9d5b8e71b68",
    "files": [
        {
            "sha": "1c374dba1b58a78940e05bf3a653ca50ffc96bbb",
            "filename": "aio/content/guide/cli-builder.md",
            "status": "modified",
            "additions": 27,
            "deletions": 27,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/2a311c51e690c1d593d05cb15911d9d5b8e71b68/aio%2Fcontent%2Fguide%2Fcli-builder.md",
            "raw_url": "https://github.com/angular/angular/raw/2a311c51e690c1d593d05cb15911d9d5b8e71b68/aio%2Fcontent%2Fguide%2Fcli-builder.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fcli-builder.md?ref=2a311c51e690c1d593d05cb15911d9d5b8e71b68",
            "patch": "@@ -22,13 +22,13 @@ The separation of concerns here is the same as with [schematics](guide/glossary#\n \n * The `options` object is provided by the CLI user, while the `context` object is provided by the CLI Builder API.\n \n-* In addition to the contextual information, the `context` object, which is an instance of the `BuilderContext`, also provides access to a scheduling method, `BuilderContext.scheduleTarget()`. The scheduler executes the builder handler function with a given [target configuration](guide/glossary#target).\n+* In addition to the contextual information, the `context` object, which is an instance of the `BuilderContext`, also provides access to a scheduling method, `context.scheduleTarget()`. The scheduler executes the builder handler function with a given [target configuration](guide/glossary#target).\n \n The builder handler function can be synchronous (return a value) or asynchronous (return a Promise), or it can watch and return multiple values (return an Observable).\n The return value or values must always be of type `BuilderOutput`.\n This object contains a Boolean `success` field and an optional `error` field that can contain an error message.\n \n-Angular provides some builders that are used by the CLI for commands such as `ng build`, `ng test`, and `ng lint`.\n+Angular provides some builders that are used by the CLI for commands such as `ng build` and `ng test`.\n Default target configurations for these and other built-in CLI builders can be found (and customized) in the \"architect\" section of the [workspace configuration file](guide/workspace-config), `angular.json`.\n You can also extend and customize Angular by creating your own builders, which you can run using the [`ng run` CLI command](cli/run).\n \n@@ -59,19 +59,19 @@ npm install @example/my-builder\n As an example, let's create a builder that executes a shell command.\n To create a builder, use the `createBuilder()` CLI Builder function, and return a `Promise<BuilderOutput>` object.\n \n-<code-example \n-  path=\"cli-builder/src/my-builder.ts\" \n-  header=\"src/my-builder.ts (builder skeleton)\" \n+<code-example\n+  path=\"cli-builder/src/my-builder.ts\"\n+  header=\"src/my-builder.ts (builder skeleton)\"\n   region=\"builder-skeleton\">\n </code-example>\n \n Now let’s add some logic to it.\n The following code retrieves the command and arguments from the user options, spawns the new process, and waits for the process to finish.\n If the process is successful (returns a code of 0), it resolves the return value.\n \n-<code-example \n-  path=\"cli-builder/src/my-builder.ts\" \n-  header=\"src/my-builder.ts (builder)\" \n+<code-example\n+  path=\"cli-builder/src/my-builder.ts\"\n+  header=\"src/my-builder.ts (builder)\"\n   region=\"builder\">\n </code-example>\n \n@@ -83,30 +83,30 @@ This also allows the builder itself to be executed in a separate process, even i\n \n We can retrieve a Logger instance from the context.\n \n-<code-example \n-  path=\"cli-builder/src/my-builder.ts\" \n-  header=\"src/my-builder.ts (handling output)\" \n+<code-example\n+  path=\"cli-builder/src/my-builder.ts\"\n+  header=\"src/my-builder.ts (handling output)\"\n   region=\"handling-output\">\n </code-example>\n \n ### Progress and status reporting\n \n The CLI Builder API includes progress and status reporting tools, which can provide hints for certain functions and interfaces.\n \n-To report progress, use the `BuilderContext.reportProgress()` method, which takes a current value, (optional) total, and status string as arguments.\n+To report progress, use the `context.reportProgress()` method, which takes a current value, (optional) total, and status string as arguments.\n The total can be any number; for example, if you know how many files you have to process, the total could be the number of files, and current should be the number processed so far.\n The status string is unmodified unless you pass in a new string value.\n \n You can see an [example](https://github.com/angular/angular-cli/blob/ba21c855c0c8b778005df01d4851b5a2176edc6f/packages/angular_devkit/build_angular/src/tslint/index.ts#L107) of how the `tslint` builder reports progress.\n \n In our example, the shell command either finishes or is still executing, so there’s no need for a progress report, but we can report status so that a parent builder that called our builder would know what’s going on.\n-Use the `BuilderContext.reportStatus()` method to generate a status string of any length.\n+Use the `context.reportStatus()` method to generate a status string of any length.\n (Note that there’s no guarantee that a long string will be shown entirely; it could be cut to fit the UI that displays it.)\n Pass an empty string to remove the status.\n \n-<code-example \n-  path=\"cli-builder/src/my-builder.ts\" \n-  header=\"src/my-builder.ts (progress reporting)\" \n+<code-example\n+  path=\"cli-builder/src/my-builder.ts\"\n+  header=\"src/my-builder.ts (progress reporting)\"\n   region=\"progress-reporting\">\n </code-example>\n \n@@ -190,9 +190,9 @@ The first part of this is the package name (resolved using node resolution), and\n \n Using one of our `options` is very straightforward, we did this in the previous section when we accessed `options.command`.\n \n-<code-example \n-  path=\"cli-builder/src/my-builder.ts\" \n-  header=\"src/my-builder.ts (report status)\" \n+<code-example\n+  path=\"cli-builder/src/my-builder.ts\"\n+  header=\"src/my-builder.ts (report status)\"\n   region=\"report-status\">\n </code-example>\n \n@@ -261,9 +261,9 @@ Architect runs builders asynchronously.\n To invoke a builder, you schedule a task to be run when all configuration resolution is complete.\n \n The builder function is not executed until the scheduler returns a `BuilderRun` control object.\n-The CLI typically schedules tasks by calling the `BuilderContext.scheduleTarget()` function, and then resolves input options using the target definition in the `angular.json` file.\n+The CLI typically schedules tasks by calling the `context.scheduleTarget()` function, and then resolves input options using the target definition in the `angular.json` file.\n \n-Architect resolves input options for a given target by taking the default options object, then overwriting values from the configuration used (if any), then further overwriting values from the overrides object passed to `BuilderContext.scheduleTarget()`.\n+Architect resolves input options for a given target by taking the default options object, then overwriting values from the configuration used (if any), then further overwriting values from the overrides object passed to `context.scheduleTarget()`.\n For the Angular CLI, the overrides object is built from command line arguments.\n \n Architect validates the resulting options values against the schema of the builder.\n@@ -273,10 +273,10 @@ For more information see [Workspace Configuration](guide/workspace-config).\n \n <div class=\"alert is-helpful\">\n \n-   You can also invoke a builder directly from another builder or test by calling `BuilderContext.scheduleBuilder()`.\n+   You can also invoke a builder directly from another builder or test by calling `context.scheduleBuilder()`.\n    You pass an `options` object directly to the method, and those option values are validated against the schema of the builder without further adjustment.\n \n-   Only the `BuilderContext.scheduleTarget()` method resolves the configuration and overrides through the `angular.json` file.\n+   Only the  `context.scheduleTarget()` method resolves the configuration and overrides through the `angular.json` file.\n \n </div>\n \n@@ -426,8 +426,8 @@ Use integration testing for your builder, so that you can use the Architect sche\n Here’s an example of a test that runs the command builder.\n The test uses the builder to run the `node --print 'foo'` command, then validates that the `logger` contains an entry for `foo`.\n \n-<code-example \n-  path=\"cli-builder/src/my-builder.spec.ts\" \n+<code-example\n+  path=\"cli-builder/src/my-builder.spec.ts\"\n   header=\"src/my-builder.spec.ts\">\n </code-example>\n \n@@ -445,7 +445,7 @@ Architect can support watch mode, but there are some things to look out for.\n \n * To be used with watch mode, a builder handler function should return an Observable. Architect subscribes to the Observable until it completes and might reuse it if the builder is scheduled again with the same arguments.\n \n-* The builder should always emit a `BuilderOutput` object after each execution. Once it’s been executed, it can enter a watch mode, to be triggered by an external event. If an event triggers it to restart, the builder should execute the `BuilderContext.reportRunning()` function to tell Architect that it is running again. This prevents Architect from stopping the builder if another run is scheduled.\n+* The builder should always emit a `BuilderOutput` object after each execution. Once it’s been executed, it can enter a watch mode, to be triggered by an external event. If an event triggers it to restart, the builder should execute the `context.reportRunning()` function to tell Architect that it is running again. This prevents Architect from stopping the builder if another run is scheduled.\n \n When your builder calls `BuilderRun.stop()` to exit watch mode, Architect unsubscribes from the builder’s Observable and calls the builder’s teardown logic to clean up.\n (This behavior also allows for long running builds to be stopped and cleaned up.)\n@@ -456,7 +456,7 @@ In general, if your builder is watching an external event, you should separate y\n    For example, webpack compiles. This ends when webpack finishes and your builder emits a `BuilderOutput` object.\n \n 1. **Watching**\n-   Between two runs, watch an external event stream. For example, webpack watches the file system for any changes. This ends when webpack restarts building, and `BuilderContext.reportRunning()` is called. This goes back to step 1.\n+   Between two runs, watch an external event stream. For example, webpack watches the file system for any changes. This ends when webpack restarts building, and `context.reportRunning()` is called. This goes back to step 1.\n \n 1. **Completion**\n    Either the task is fully completed (for example, webpack was supposed to run a number of times), or the builder run was stopped (using `BuilderRun.stop()`). Your teardown logic is executed, and Architect unsubscribes from your builder’s Observable."
        }
    ],
    "stats": {
        "total": 54,
        "additions": 27,
        "deletions": 27
    }
}