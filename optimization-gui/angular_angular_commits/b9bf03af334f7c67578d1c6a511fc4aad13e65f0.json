{
    "author": "gkalpak",
    "message": "build(docs-infra): print the git commit when deploying to Firebase (#39596)\n\nThe commit updates the AIO deployment script to also print the commit\nSHA. This makes it easier to check whether a version has been\nsuccessfully deployed, by comparing the commit SHA from the CI job with\nthe SHA in the version string in the footer of the AIO app.\n\nPR Close #39596",
    "sha": "b9bf03af334f7c67578d1c6a511fc4aad13e65f0",
    "files": [
        {
            "sha": "af327f0a31c1491190661f61c6ca330e980d3d03",
            "filename": "aio/scripts/deploy-to-firebase.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/b9bf03af334f7c67578d1c6a511fc4aad13e65f0/aio%2Fscripts%2Fdeploy-to-firebase.js",
            "raw_url": "https://github.com/angular/angular/raw/b9bf03af334f7c67578d1c6a511fc4aad13e65f0/aio%2Fscripts%2Fdeploy-to-firebase.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fscripts%2Fdeploy-to-firebase.js?ref=b9bf03af334f7c67578d1c6a511fc4aad13e65f0",
            "patch": "@@ -31,6 +31,7 @@ if (require.main === module) {\n   } else {\n     console.log(\n         `Git branch        : ${inputVars.currentBranch}\\n` +\n+        `Git commit        : ${inputVars.currentCommit}\\n` +\n         `Build/deploy mode : ${deploymentInfo.deployEnv}\\n` +\n         `Firebase project  : ${deploymentInfo.projectId}\\n` +\n         `Firebase site     : ${deploymentInfo.siteId}\\n` +"
        },
        {
            "sha": "696e7c66521af27560b67f6762992a4ddfcb96a9",
            "filename": "aio/scripts/deploy-to-firebase.spec.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/b9bf03af334f7c67578d1c6a511fc4aad13e65f0/aio%2Fscripts%2Fdeploy-to-firebase.spec.js",
            "raw_url": "https://github.com/angular/angular/raw/b9bf03af334f7c67578d1c6a511fc4aad13e65f0/aio%2Fscripts%2Fdeploy-to-firebase.spec.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fscripts%2Fdeploy-to-firebase.spec.js?ref=b9bf03af334f7c67578d1c6a511fc4aad13e65f0",
            "patch": "@@ -262,17 +262,19 @@ describe('deploy-to-firebase:', () => {\n   });\n \n   it('integration - should run the main script without error', () => {\n+    const commit = getLatestCommit('master');\n     const cmd = `\"${process.execPath}\" \"${__dirname}/deploy-to-firebase\" --dry-run`;\n     const env = {\n       CI_REPO_OWNER: 'angular',\n       CI_REPO_NAME: 'angular',\n       CI_PULL_REQUEST: 'false',\n       CI_BRANCH: 'master',\n-      CI_COMMIT: getLatestCommit('master')\n+      CI_COMMIT: commit,\n     };\n     const result = execSync(cmd, {encoding: 'utf8', env}).trim();\n     expect(result).toBe(\n         'Git branch        : master\\n' +\n+        `Git commit        : ${commit}\\n` +\n         'Build/deploy mode : next\\n' +\n         'Firebase project  : angular-io\\n' +\n         'Firebase site     : next-angular-io-site\\n' +"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}