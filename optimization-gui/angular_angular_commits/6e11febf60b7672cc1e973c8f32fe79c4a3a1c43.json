{
    "author": "gopal-jayaraman",
    "message": "fix(common): add  right ContentType for boolean values with HttpClient request body(#38924) (#41885)\ncurrently a boolean as body is seen as text/plain, where is should be seen as application/json, since it is valid JSON, like numbers.\n\nPR Close #41885",
    "sha": "6e11febf60b7672cc1e973c8f32fe79c4a3a1c43",
    "files": [
        {
            "sha": "5d57aa4d7b02aa27f26881d591f8ddeb67a330cf",
            "filename": "packages/common/http/src/request.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/6e11febf60b7672cc1e973c8f32fe79c4a3a1c43/packages%2Fcommon%2Fhttp%2Fsrc%2Frequest.ts",
            "raw_url": "https://github.com/angular/angular/raw/6e11febf60b7672cc1e973c8f32fe79c4a3a1c43/packages%2Fcommon%2Fhttp%2Fsrc%2Frequest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fsrc%2Frequest.ts?ref=6e11febf60b7672cc1e973c8f32fe79c4a3a1c43",
            "patch": "@@ -322,9 +322,9 @@ export class HttpRequest<T> {\n     if (this.body instanceof HttpParams) {\n       return 'application/x-www-form-urlencoded;charset=UTF-8';\n     }\n-    // Arrays, objects, and numbers will be encoded as JSON.\n+    // Arrays, objects, boolean and numbers will be encoded as JSON.\n     if (typeof this.body === 'object' || typeof this.body === 'number' ||\n-        Array.isArray(this.body)) {\n+        typeof this.body === 'boolean') {\n       return 'application/json';\n     }\n     // No type could be inferred."
        },
        {
            "sha": "9a0d91f3cac2993289542260752e35356fcee039",
            "filename": "packages/common/http/test/request_spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/6e11febf60b7672cc1e973c8f32fe79c4a3a1c43/packages%2Fcommon%2Fhttp%2Ftest%2Frequest_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/6e11febf60b7672cc1e973c8f32fe79c4a3a1c43/packages%2Fcommon%2Fhttp%2Ftest%2Frequest_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Ftest%2Frequest_spec.ts?ref=6e11febf60b7672cc1e973c8f32fe79c4a3a1c43",
            "patch": "@@ -129,6 +129,10 @@ const TEST_STRING = `I'm a body!`;\n         const req = baseReq.clone({body: {data: 'test data'}});\n         expect(req.detectContentTypeHeader()).toBe('application/json');\n       });\n+      it('handles boolean as json', () => {\n+        const req = baseReq.clone({body: true});\n+        expect(req.detectContentTypeHeader()).toBe('application/json');\n+      });\n     });\n     describe('body serialization', () => {\n       const baseReq = new HttpRequest('POST', '/test', null);"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 6,
        "deletions": 2
    }
}