{
    "author": "josephperrott",
    "message": "fix(dev-infra): search since HEAD on the local branch for version tags when creating stamps (#43065)\n\nUsing `HEAD~100` was errantly left in the snapshot stamping logic.\n\nPR Close #43065",
    "sha": "d8690d867c8c62c419cbc52f6ffc35075d1ccc6a",
    "files": [
        {
            "sha": "5eeacbb1b29fae56e902566d0baed7be1fe984ca",
            "filename": "dev-infra/ng-dev.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d8690d867c8c62c419cbc52f6ffc35075d1ccc6a/dev-infra%2Fng-dev.js",
            "raw_url": "https://github.com/angular/angular/raw/d8690d867c8c62c419cbc52f6ffc35075d1ccc6a/dev-infra%2Fng-dev.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fng-dev.js?ref=d8690d867c8c62c419cbc52f6ffc35075d1ccc6a",
            "patch": "@@ -7765,7 +7765,7 @@ function getSCMVersions(mode) {\n         const git = GitClient.get();\n         if (mode === 'snapshot') {\n             const localChanges = hasLocalChanges() ? '.with-local-changes' : '';\n-            const { stdout: rawVersion } = git.run(['describe', '--match', '*[0-9]*.[0-9]*.[0-9]*', '--abbrev=7', '--tags', 'HEAD~100']);\n+            const { stdout: rawVersion } = git.run(['describe', '--match', '*[0-9]*.[0-9]*.[0-9]*', '--abbrev=7', '--tags', 'HEAD']);\n             const { version } = new semver.SemVer(rawVersion);\n             const { version: experimentalVersion } = createExperimentalSemver(version);\n             return {"
        },
        {
            "sha": "3c9f9bd547265f95c34a0cbef1e9cf2fe88e42f3",
            "filename": "dev-infra/release/stamping/env-stamp.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/d8690d867c8c62c419cbc52f6ffc35075d1ccc6a/dev-infra%2Frelease%2Fstamping%2Fenv-stamp.ts",
            "raw_url": "https://github.com/angular/angular/raw/d8690d867c8c62c419cbc52f6ffc35075d1ccc6a/dev-infra%2Frelease%2Fstamping%2Fenv-stamp.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2Fstamping%2Fenv-stamp.ts?ref=d8690d867c8c62c419cbc52f6ffc35075d1ccc6a",
            "patch": "@@ -56,8 +56,8 @@ function getSCMVersions(mode: EnvStampMode): {version: string, experimentalVersi\n     const git = GitClient.get();\n     if (mode === 'snapshot') {\n       const localChanges = hasLocalChanges() ? '.with-local-changes' : '';\n-      const {stdout: rawVersion} = git.run(\n-          ['describe', '--match', '*[0-9]*.[0-9]*.[0-9]*', '--abbrev=7', '--tags', 'HEAD~100']);\n+      const {stdout: rawVersion} =\n+          git.run(['describe', '--match', '*[0-9]*.[0-9]*.[0-9]*', '--abbrev=7', '--tags', 'HEAD']);\n       const {version} = new SemVer(rawVersion);\n       const {version: experimentalVersion} = createExperimentalSemver(version);\n       return {"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}