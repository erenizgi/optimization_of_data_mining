{
    "author": "wagnermaciel",
    "message": "refactor(dev-infra): add default params to runBenchmark (#38748)\n\n* Use '' as the default for 'url'\n* Use [] as the default for 'params'\n* Use true as the default for 'ignoreBrowserSynchronization'\n\nPR Close #38748",
    "sha": "da14b72550a60dbc7ec833c2400312d5674a15a5",
    "files": [
        {
            "sha": "8d0aa8c5698b3691add9026e504c38fed8db2f22",
            "filename": "dev-infra/benchmark/driver-utilities/perf_util.ts",
            "status": "modified",
            "additions": 21,
            "deletions": 12,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/da14b72550a60dbc7ec833c2400312d5674a15a5/dev-infra%2Fbenchmark%2Fdriver-utilities%2Fperf_util.ts",
            "raw_url": "https://github.com/angular/angular/raw/da14b72550a60dbc7ec833c2400312d5674a15a5/dev-infra%2Fbenchmark%2Fdriver-utilities%2Fperf_util.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fbenchmark%2Fdriver-utilities%2Fperf_util.ts?ref=da14b72550a60dbc7ec833c2400312d5674a15a5",
            "patch": "@@ -23,27 +23,36 @@ const globalOptions = {\n \n const runner = createBenchpressRunner();\n \n-export async function runBenchmark(config: {\n+export async function runBenchmark({\n+  id,\n+  url = '',\n+  params = [],\n+  ignoreBrowserSynchronization = true,\n+  microMetrics,\n+  work,\n+  prepare,\n+  setup,\n+}: {\n   id: string,\n   url: string,\n   params: {name: string, value: any}[],\n   ignoreBrowserSynchronization?: boolean,\n   microMetrics?: {[key: string]: string},\n-  work?: () => void,\n-  prepare?: () => void,\n-  setup?: () => void\n+  work?: (() => void)|(() => Promise<unknown>),\n+  prepare?: (() => void)|(() => Promise<unknown>),\n+  setup?: (() => void)|(() => Promise<unknown>),\n }): Promise<any> {\n-  openBrowser(config);\n-  if (config.setup) {\n-    await config.setup();\n+  openBrowser({url, params, ignoreBrowserSynchronization});\n+  if (setup) {\n+    await setup();\n   }\n   const description: {[key: string]: any} = {};\n-  config.params.forEach((param) => description[param.name] = param.value);\n+  params.forEach((param) => description[param.name] = param.value);\n   return runner.sample({\n-    id: config.id,\n-    execute: config.work,\n-    prepare: config.prepare,\n-    microMetrics: config.microMetrics,\n+    id,\n+    execute: work,\n+    prepare,\n+    microMetrics,\n     providers: [{provide: Options.SAMPLE_DESCRIPTION, useValue: {}}]\n   });\n }"
        }
    ],
    "stats": {
        "total": 33,
        "additions": 21,
        "deletions": 12
    }
}