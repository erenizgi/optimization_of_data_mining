{
    "author": "gkalpak",
    "message": "build(docs-infra): update @angular/* and @angular/cli to 11.0.0-rc.2 (#39600)\n\nThis commit updates `@angular/*` and `@angular/cli` (and related\npackages) to version 11.0.0-rc.2. Apart from the automatic migrations,\nthis commit also tries to align `aio/` with new apps generated by the\nlatest CLI. (See [here][1] for a diff between a v10.1.3 and a\nv11.0.0-rc.2 CLI app.)\n\n[1]: https://github.com/cexbrayat/angular-cli-diff/compare/10.1.3...11.0.0-rc.2\n\nPR Close #39600",
    "sha": "18110a8ab0a17e139b0772bcc783e3dd05e88046",
    "files": [
        {
            "sha": "74fea74c3f4aea4226a69c1f01022cb55ea67d3e",
            "filename": "aio/angular.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fangular.json",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fangular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fangular.json?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -37,7 +37,6 @@\n             \"outputHashing\": \"all\",\n             \"sourceMap\": true,\n             \"statsJson\": true,\n-            \"extractCss\": true,\n             \"extractLicenses\": true,\n             \"namedChunks\": true,\n             \"vendorChunk\": false,"
        },
        {
            "sha": "361b67925d485f1aa9989a411eb56226062a0cb5",
            "filename": "aio/karma.conf.js",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fkarma.conf.js?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -10,7 +10,7 @@ module.exports = function (config) {\n       require('karma-jasmine'),\n       require('karma-chrome-launcher'),\n       require('karma-jasmine-html-reporter'),\n-      require('karma-coverage-istanbul-reporter'),\n+      require('karma-coverage'),\n       require('@angular-devkit/build-angular/plugins/karma'),\n       {'reporter:jasmine-seed': ['type', JasmineSeedReporter]},\n     ],\n@@ -24,10 +24,13 @@ module.exports = function (config) {\n         seed: '',\n       },\n     },\n-    coverageIstanbulReporter: {\n+    coverageReporter: {\n       dir: require('path').join(__dirname, './coverage/site'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n+      subdir: '.',\n+      reporters: [\n+        { type: 'html' },\n+        { type: 'text-summary' }\n+      ],\n     },\n     reporters: ['progress', 'kjhtml', 'jasmine-seed'],\n     port: 9876,"
        },
        {
            "sha": "da4657991468bcc32aba3f5e9b4e669b065b6d91",
            "filename": "aio/package.json",
            "status": "modified",
            "additions": 17,
            "deletions": 18,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fpackage.json?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -88,29 +88,28 @@\n   },\n   \"private\": true,\n   \"dependencies\": {\n-    \"@angular/animations\": \"10.1.3\",\n+    \"@angular/animations\": \"11.0.0-rc.2\",\n     \"@angular/cdk\": \"10.2.2\",\n-    \"@angular/common\": \"10.1.3\",\n-    \"@angular/compiler\": \"10.1.3\",\n-    \"@angular/core\": \"10.1.3\",\n-    \"@angular/elements\": \"10.1.3\",\n-    \"@angular/forms\": \"10.1.3\",\n+    \"@angular/common\": \"11.0.0-rc.2\",\n+    \"@angular/compiler\": \"11.0.0-rc.2\",\n+    \"@angular/core\": \"11.0.0-rc.2\",\n+    \"@angular/elements\": \"11.0.0-rc.2\",\n+    \"@angular/forms\": \"11.0.0-rc.2\",\n     \"@angular/material\": \"10.2.2\",\n-    \"@angular/platform-browser\": \"10.1.3\",\n-    \"@angular/platform-browser-dynamic\": \"10.1.3\",\n-    \"@angular/router\": \"10.1.3\",\n-    \"@angular/service-worker\": \"10.1.3\",\n+    \"@angular/platform-browser\": \"11.0.0-rc.2\",\n+    \"@angular/platform-browser-dynamic\": \"11.0.0-rc.2\",\n+    \"@angular/router\": \"11.0.0-rc.2\",\n+    \"@angular/service-worker\": \"11.0.0-rc.2\",\n     \"@webcomponents/custom-elements\": \"1.2.1\",\n     \"rxjs\": \"^6.5.3\",\n     \"tslib\": \"^2.0.0\",\n     \"zone.js\": \"~0.11.3\"\n   },\n   \"devDependencies\": {\n-    \"@angular-devkit/build-angular\": \"0.1001.3\",\n-    \"@angular/cli\": \"10.1.3\",\n-    \"@angular/compiler-cli\": \"10.1.3\",\n-    \"@types/jasmine\": \"^3.4.2\",\n-    \"@types/jasminewd2\": \"^2.0.8\",\n+    \"@angular-devkit/build-angular\": \"0.1100.0-rc.2\",\n+    \"@angular/cli\": \"11.0.0-rc.2\",\n+    \"@angular/compiler-cli\": \"11.0.0-rc.2\",\n+    \"@types/jasmine\": \"~3.6.0\",\n     \"@types/lunr\": \"^2.3.2\",\n     \"@types/node\": \"^12.7.9\",\n     \"@types/xregexp\": \"^3.0.30\",\n@@ -142,9 +141,9 @@\n     \"jsdom\": \"^9.12.0\",\n     \"json-schema-traverse\": \"^0.4.1\",\n     \"json5\": \"^1.0.1\",\n-    \"karma\": \"~5.0.0\",\n+    \"karma\": \"~5.2.3\",\n     \"karma-chrome-launcher\": \"^3.1.0\",\n-    \"karma-coverage-istanbul-reporter\": \"^2.1.0\",\n+    \"karma-coverage\": \"~2.0.3\",\n     \"karma-jasmine\": \"~4.0.0\",\n     \"karma-jasmine-html-reporter\": \"^1.4.2\",\n     \"light-server\": \"^2.6.2\",\n@@ -153,7 +152,7 @@\n     \"lodash\": \"^4.17.4\",\n     \"lunr\": \"^2.1.0\",\n     \"npm-run-all\": \"^4.1.5\",\n-    \"protractor\": \"~5.4.4\",\n+    \"protractor\": \"~7.0.0\",\n     \"puppeteer\": \"5.1.0\",\n     \"rehype\": \"^6.0.0\",\n     \"rehype-slug\": \"^2.0.0\","
        },
        {
            "sha": "82a9399af7a5e6ec62ebbbeb1f67904b94801502",
            "filename": "aio/tests/deployment/e2e/protractor.conf.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fdeployment%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fdeployment%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Fe2e%2Fprotractor.conf.js?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -21,6 +21,7 @@ exports.config = {\n     },\n   },\n   directConnect: true,\n+  SELENIUM_PROMISE_MANAGER: false,\n   framework: 'jasmine',\n   jasmineNodeOpts: {\n     showColors: true,"
        },
        {
            "sha": "7d9b7acaebe029cbbb5102066a105ec1e587e766",
            "filename": "aio/tests/deployment/e2e/redirection.e2e-spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fdeployment%2Fe2e%2Fredirection.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fdeployment%2Fe2e%2Fredirection.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Fe2e%2Fredirection.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -67,24 +67,24 @@ describe(browser.baseUrl, () => {\n       await page.goTo(unknownPagePath);\n       await browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n \n-      expect(aioShell.isPresent()).toBe(true);\n-      expect(heading.getText()).toMatch(/page not found/i);\n+      expect(await aioShell.isPresent()).toBe(true);\n+      expect(await heading.getText()).toMatch(/page not found/i);\n     });\n \n     it('should serve a custom 404 page for unknown resources', async () => {\n       const aioShell = element(by.css('aio-shell'));\n       const heading = aioShell.element(by.css('h1'));\n       await page.goTo(unknownResourcePath);\n \n-      expect(aioShell.isPresent()).toBe(true);\n-      expect(heading.getText()).toMatch(/resource not found/i);\n+      expect(await aioShell.isPresent()).toBe(true);\n+      expect(await heading.getText()).toMatch(/resource not found/i);\n     });\n \n     it('should include a link to the home page in custom 404 page', async () => {\n       const homeNavLink = element(by.css('.nav-link.home'));\n       await page.goTo(unknownResourcePath);\n \n-      expect(homeNavLink.isPresent()).toBe(true);\n+      expect(await homeNavLink.isPresent()).toBe(true);\n \n       await homeNavLink.click();\n       const expectedUrl = page.baseUrl;"
        },
        {
            "sha": "77dda0a48fe0f2adfedf5f9d5b6b34dd94307718",
            "filename": "aio/tests/deployment/e2e/smoke-tests.e2e-spec.ts",
            "status": "modified",
            "additions": 27,
            "deletions": 27,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fdeployment%2Fe2e%2Fsmoke-tests.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fdeployment%2Fe2e%2Fsmoke-tests.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Fe2e%2Fsmoke-tests.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -14,9 +14,9 @@ describe(browser.baseUrl, () => {\n   });\n \n   describe('(smoke tests)', () => {\n-    it('should show the home page', () => {\n-      page.goTo('');\n-      const text = page.getDocViewerText();\n+    it('should show the home page', async () => {\n+      await page.goTo('');\n+      const text = await page.getDocViewerText();\n \n       expect(text).toContain('one framework');\n       expect(text).toContain('mobile & desktop');\n@@ -31,11 +31,11 @@ describe(browser.baseUrl, () => {\n       };\n \n       Object.keys(textPerUrl).forEach(url => {\n-        it(`should show the page at '${url}'`, () => {\n-          page.goTo(url);\n-          browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n+        it(`should show the page at '${url}'`, async () => {\n+          await page.goTo(url);\n+          await browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n \n-          expect(page.getDocViewerText()).toContain(textPerUrl[url]);\n+          expect(await page.getDocViewerText()).toContain(textPerUrl[url]);\n         });\n       });\n     });\n@@ -51,11 +51,11 @@ describe(browser.baseUrl, () => {\n       };\n \n       Object.keys(textPerUrl).forEach(url => {\n-        it(`should show the page at '${url}'`, () => {\n-          page.goTo(url);\n-          browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n+        it(`should show the page at '${url}'`, async () => {\n+          await page.goTo(url);\n+          await browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n \n-          expect(page.getDocViewerText()).toContain(textPerUrl[url]);\n+          expect(await page.getDocViewerText()).toContain(textPerUrl[url]);\n         });\n       });\n     });\n@@ -74,37 +74,37 @@ describe(browser.baseUrl, () => {\n       };\n \n       Object.keys(textPerUrl).forEach(url => {\n-        it(`should show the page at '${url}'`, () => {\n-          page.goTo(url);\n-          browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n+        it(`should show the page at '${url}'`, async () => {\n+          await page.goTo(url);\n+          await browser.wait(() => page.getDocViewerText(), 5000);  // Wait for the document to be loaded.\n \n-          expect(page.getDocViewerText()).toContain(textPerUrl[url]);\n+          expect(await page.getDocViewerText()).toContain(textPerUrl[url]);\n         });\n       });\n     });\n \n     describe('(search results)', () => {\n       beforeEach(() => page.goTo(''));\n \n-      it('should find pages when searching by a partial word in the title', () => {\n-        page.enterSearch('ngCont');\n-        expect(page.getSearchResults()).toContain('NgControl');\n+      it('should find pages when searching by a partial word in the title', async () => {\n+        await page.enterSearch('ngCont');\n+        expect(await page.getSearchResults()).toContain('NgControl');\n       });\n \n-      it('should find API docs when searching for an instance member name', () => {\n-        page.enterSearch('writeValue');\n-        expect(page.getSearchResults()).toContain('ControlValueAccessor');\n+      it('should find API docs when searching for an instance member name', async () => {\n+        await page.enterSearch('writeValue');\n+        expect(await page.getSearchResults()).toContain('ControlValueAccessor');\n       });\n \n-      it('should find API docs when searching for a static member name', () => {\n-        page.enterSearch('compose');\n-        expect(page.getSearchResults()).toContain('Validators');\n+      it('should find API docs when searching for a static member name', async () => {\n+        await page.enterSearch('compose');\n+        expect(await page.getSearchResults()).toContain('Validators');\n       });\n     });\n \n-    it('should show relevant results on 404', () => {\n-      page.goTo('http/router');\n-      const results = page.getSearchResults();\n+    it('should show relevant results on 404', async () => {\n+      await page.goTo('http/router');\n+      const results = await page.getSearchResults();\n \n       expect(results).toContain('HttpClient');\n       expect(results).toContain('Router');"
        },
        {
            "sha": "6a0013189359757f667e0f271260f56890535258",
            "filename": "aio/tests/e2e/protractor.conf.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fprotractor.conf.js?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -21,6 +21,7 @@ exports.config = {\n     },\n   },\n   directConnect: true,\n+  SELENIUM_PROMISE_MANAGER: false,\n   baseUrl: 'http://localhost:4200/',\n   framework: 'jasmine',\n   jasmineNodeOpts: {"
        },
        {
            "sha": "24fac2e44e8dab6955404d064f9d28f49297b25c",
            "filename": "aio/tests/e2e/src/api-list.e2e-spec.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 24,
            "changes": 48,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-list.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-list.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-list.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -7,46 +7,46 @@ describe('api-list', () => {\n   const apiTypeDropdown = element(by.css('aio-api-list aio-select[label=\"Type:\"]'));\n   let page: SitePage;\n \n-  beforeEach(() => {\n+  beforeEach(async () => {\n     page = new SitePage();\n-    page.navigateTo('api');\n+    await page.navigateTo('api');\n   });\n \n-  it('should find AnimationSequenceMetadata when searching by partial word anima', () => {\n-    expect(page.getApiSearchResults()).toContain('HttpEventType');\n+  it('should find AnimationSequenceMetadata when searching by partial word anima', async () => {\n+    expect(await page.getApiSearchResults()).toContain('HttpEventType');\n \n-    apiSearchInput.clear();\n-    apiSearchInput.sendKeys('anima');\n+    await apiSearchInput.clear();\n+    await apiSearchInput.sendKeys('anima');\n \n-    expect(page.getApiSearchResults()).not.toContain('HttpEventType');\n-    expect(page.getApiSearchResults()).toContain('AnimationSequenceMetadata');\n+    expect(await page.getApiSearchResults()).not.toContain('HttpEventType');\n+    expect(await page.getApiSearchResults()).toContain('AnimationSequenceMetadata');\n   });\n \n-  it('should find getLocaleDateTimeFormat when searching by partial word date', () => {\n-    expect(page.getApiSearchResults()).toContain('formatCurrency');\n+  it('should find getLocaleDateTimeFormat when searching by partial word date', async () => {\n+    expect(await page.getApiSearchResults()).toContain('formatCurrency');\n \n-    apiSearchInput.clear();\n-    apiSearchInput.sendKeys('date');\n+    await apiSearchInput.clear();\n+    await apiSearchInput.sendKeys('date');\n \n-    expect(page.getApiSearchResults()).not.toContain('formatCurrency');\n-    expect(page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n+    expect(await page.getApiSearchResults()).not.toContain('formatCurrency');\n+    expect(await page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n   });\n \n-  it('should find LowerCasePipe when searching for type pipe', () => {\n-    expect(page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n+  it('should find LowerCasePipe when searching for type pipe', async () => {\n+    expect(await page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n \n-    page.clickDropdownItem(apiTypeDropdown, 'Pipe');\n+    await page.clickDropdownItem(apiTypeDropdown, 'Pipe');\n \n-    expect(page.getApiSearchResults()).not.toContain('getLocaleDateTimeFormat');\n-    expect(page.getApiSearchResults()).toContain('LowerCasePipe');\n+    expect(await page.getApiSearchResults()).not.toContain('getLocaleDateTimeFormat');\n+    expect(await page.getApiSearchResults()).toContain('LowerCasePipe');\n   });\n \n-  it('should find ElementRef when searching for status Security Risk', () => {\n-    expect(page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n+  it('should find ElementRef when searching for status Security Risk', async () => {\n+    expect(await page.getApiSearchResults()).toContain('getLocaleDateTimeFormat');\n \n-    page.clickDropdownItem(apiStatusDropdown, 'Security Risk');\n+    await page.clickDropdownItem(apiStatusDropdown, 'Security Risk');\n \n-    expect(page.getApiSearchResults()).not.toContain('getLocaleDateTimeFormat');\n-    expect(page.getApiSearchResults()).toContain('ElementRef');\n+    expect(await page.getApiSearchResults()).not.toContain('getLocaleDateTimeFormat');\n+    expect(await page.getApiSearchResults()).toContain('ElementRef');\n   });\n });"
        },
        {
            "sha": "6a2318fddb425335bd241a3e7ae4cf22307aad90",
            "filename": "aio/tests/e2e/src/api-pages.e2e-spec.ts",
            "status": "modified",
            "additions": 38,
            "deletions": 35,
            "changes": 73,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-pages.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-pages.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapi-pages.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -1,14 +1,18 @@\n import { ApiPage } from './api.po';\n \n describe('Api pages', () => {\n-  it('should show direct subclasses of a class', () => {\n-    const page = new ApiPage('api/forms/AbstractControlDirective');\n-    expect(page.getDescendants('class', true)).toEqual(['ControlContainer', 'NgControl']);\n+  let page: ApiPage;\n+\n+  beforeEach(() => page = new ApiPage());\n+\n+  it('should show direct subclasses of a class', async () => {\n+    await page.navigateTo('api/forms/AbstractControlDirective');\n+    expect(await page.getDescendants('class', true)).toEqual(['ControlContainer', 'NgControl']);\n   });\n \n-  it('should show direct and indirect subclasses of a class', () => {\n-    const page = new ApiPage('api/forms/AbstractControlDirective');\n-    expect(page.getDescendants('class')).toEqual([\n+  it('should show direct and indirect subclasses of a class', async () => {\n+    await page.navigateTo('api/forms/AbstractControlDirective');\n+    expect(await page.getDescendants('class')).toEqual([\n       'ControlContainer',\n       'AbstractFormGroupDirective',\n       'NgModelGroup',\n@@ -23,53 +27,52 @@ describe('Api pages', () => {\n     ]);\n   });\n \n-  it('should show child interfaces that extend an interface', () => {\n-    const page = new ApiPage('api/forms/Validator');\n-    expect(page.getDescendants('interface')).toEqual(['AsyncValidator']);\n+  it('should show child interfaces that extend an interface', async () => {\n+    await page.navigateTo('api/forms/Validator');\n+    expect(await page.getDescendants('interface')).toEqual(['AsyncValidator']);\n   });\n \n-  it('should show classes that implement an interface', () => {\n-    const page = new ApiPage('api/animations/AnimationPlayer');\n-    expect(page.getDescendants('class')).toEqual(['NoopAnimationPlayer', 'MockAnimationPlayer']);\n+  it('should show classes that implement an interface', async () => {\n+    await page.navigateTo('api/animations/AnimationPlayer');\n+    expect(await page.getDescendants('class')).toEqual(['NoopAnimationPlayer', 'MockAnimationPlayer']);\n   });\n \n-  it('should show type params of type-aliases', () => {\n-    const page = new ApiPage('api/common/http/HttpEvent');\n-    expect(page.getOverview('type-alias').getText()).toContain('type HttpEvent<T>');\n+  it('should show type params of type-aliases', async () => {\n+    await page.navigateTo('api/common/http/HttpEvent');\n+    expect(await page.getOverview('type-alias').getText()).toContain('type HttpEvent<T>');\n   });\n \n-  it('should not show parenthesis for getters', () => {\n-    const page = new ApiPage('api/core/NgModuleRef');\n-    expect(page.getOverview('class').getText()).toContain('injector: Injector');\n+  it('should not show parenthesis for getters', async () => {\n+    await page.navigateTo('api/core/NgModuleRef');\n+    expect(await page.getOverview('class').getText()).toContain('injector: Injector');\n   });\n \n-  it('should show both type and initializer if set', () => {\n-    const page = new ApiPage('api/common/HashLocationStrategy');\n-    expect(page.getOverview('class').getText()).toContain('path(includeHash: boolean = false): string');\n+  it('should show both type and initializer if set', async () => {\n+    await page.navigateTo('api/common/HashLocationStrategy');\n+    expect(await page.getOverview('class').getText()).toContain('path(includeHash: boolean = false): string');\n   });\n \n-  it('should show a \"Properties\" section if there are public properties', () => {\n-    const page = new ApiPage('api/core/ViewContainerRef');\n-    expect(page.getSection('instance-properties').isPresent()).toBe(true);\n+  it('should show a \"Properties\" section if there are public properties', async () => {\n+    await page.navigateTo('api/core/ViewContainerRef');\n+    expect(await page.getSection('instance-properties').isPresent()).toBe(true);\n   });\n \n-  it('should not show a \"Properties\" section if there are only internal properties', () => {\n-    const page = new ApiPage('api/forms/FormControl');\n-    expect(page.getSection('instance-properties').isPresent()).toBe(false);\n+  it('should not show a \"Properties\" section if there are only internal properties', async () => {\n+    await page.navigateTo('api/forms/FormControl');\n+    expect(await page.getSection('instance-properties').isPresent()).toBe(false);\n   });\n \n-  it('should show \"impure\" badge if pipe is not pure', () => {\n-    const page = new ApiPage('api/common/AsyncPipe');\n-    const impureBadge = page.getBadge('impure-pipe');\n-    expect(impureBadge.isPresent()).toBe(true);\n+  it('should show \"impure\" badge if pipe is not pure', async () => {\n+    await page.navigateTo('api/common/AsyncPipe');\n+    expect(await page.getBadge('impure-pipe').isPresent()).toBe(true);\n   });\n \n-  it('should show links to github', () => {\n-    const page = new ApiPage('api/core/EventEmitter');\n+  it('should show links to github', async () => {\n+    await page.navigateTo('api/core/EventEmitter');\n     /* tslint:disable:max-line-length */\n-    expect(page.ghLinks.get(0).getAttribute('href'))\n+    expect(await page.ghLinks.get(0).getAttribute('href'))\n       .toMatch(/https:\\/\\/github\\.com\\/angular\\/angular\\/edit\\/master\\/packages\\/core\\/src\\/event_emitter\\.ts\\?message=docs\\(core\\)%3A%20describe%20your%20change\\.\\.\\.#L\\d+-L\\d+/);\n-    expect(page.ghLinks.get(1).getAttribute('href'))\n+    expect(await page.ghLinks.get(1).getAttribute('href'))\n       .toMatch(/https:\\/\\/github\\.com\\/angular\\/angular\\/tree\\/[^/]+\\/packages\\/core\\/src\\/event_emitter\\.ts#L\\d+-L\\d+/);\n     /* tslint:enable:max-line-length */\n   });"
        },
        {
            "sha": "63e4f2df4621651fc64d184272b7cfd0c6986bf5",
            "filename": "aio/tests/e2e/src/api.po.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapi.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapi.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapi.po.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -2,11 +2,6 @@ import { element, by } from 'protractor';\n import { SitePage } from './app.po';\n \n export class ApiPage extends SitePage {\n-  constructor(url: string) {\n-    super();\n-    this.navigateTo(url);\n-  }\n-\n   getDescendants(docType: string, onlyDirect = false) {\n     // This selector is horrible because we have potentially recursive HTML lists\n     //\n@@ -25,7 +20,7 @@ export class ApiPage extends SitePage {\n     // and we want to be able to pull out the code elements from only the first level\n     // if `onlyDirect` is set to `true`.\n     const selector = `.descendants.${docType} ${onlyDirect ? '>' : ''} ul > li > code`;\n-    return element.all(by.css(selector)).map<string>(item => item && item.getText());\n+    return element.all(by.css(selector)).map<string>(item => item?.getText());\n   }\n \n   getOverview(docType: string) {"
        },
        {
            "sha": "50ac669b7c00049e61f3358bb79d520448a6b057",
            "filename": "aio/tests/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 123,
            "deletions": 125,
            "changes": 248,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -4,127 +4,127 @@ import { SitePage } from './app.po';\n describe('site App', () => {\n   let page: SitePage;\n \n-  beforeEach(() => {\n-    SitePage.setWindowWidth(1050);   // Make the window wide enough to show the SideNav side-by-side.\n+  beforeEach(async () => {\n+    await SitePage.setWindowWidth(1050);   // Make the window wide enough to show the SideNav side-by-side.\n     page = new SitePage();\n   });\n \n-  it('should show features text after clicking \"Features\"', () => {\n-    page.navigateTo('');\n-    page.click(page.getTopMenuLink('features'));\n-    expect(page.getDocViewerText()).toMatch(/Progressive web apps/i);\n+  it('should show features text after clicking \"Features\"', async () => {\n+    await page.navigateTo('');\n+    await page.click(page.getTopMenuLink('features'));\n+    expect(await page.getDocViewerText()).toMatch(/Progressive web apps/i);\n   });\n \n-  it('should set appropriate window titles', () => {\n-    page.navigateTo('');\n-    expect(browser.getTitle()).toBe('Angular');\n+  it('should set appropriate window titles', async () => {\n+    await page.navigateTo('');\n+    expect(await browser.getTitle()).toBe('Angular');\n \n-    page.click(page.getTopMenuLink('features'));\n-    expect(browser.getTitle()).toBe('Angular - FEATURES & BENEFITS');\n+    await page.click(page.getTopMenuLink('features'));\n+    expect(await browser.getTitle()).toBe('Angular - FEATURES & BENEFITS');\n \n-    page.click(page.homeLink);\n-    expect(browser.getTitle()).toBe('Angular');\n+    await page.click(page.homeLink);\n+    expect(await browser.getTitle()).toBe('Angular');\n   });\n \n-  it('should not navigate when clicking on nav-item headings (sub-menu toggles)', () => {\n+  it('should not navigate when clicking on nav-item headings (sub-menu toggles)', async () => {\n     // Show the sidenav.\n-    page.navigateTo('docs');\n-    expect(page.locationPath()).toBe('/docs');\n+    await page.navigateTo('docs');\n+    expect(await page.locationPath()).toBe('/docs');\n \n     // Get the top-level nav-item headings (sub-menu toggles).\n     const navItemHeadings = page.getNavItemHeadings(page.sidenav, 1);\n \n     // Test all headings (and sub-headings).\n-    expect(navItemHeadings.count()).toBeGreaterThan(0);\n-    navItemHeadings.each(heading => testNavItemHeading(heading!, 1));\n+    expect(await navItemHeadings.count()).toBeGreaterThan(0);\n+    await navItemHeadings.each(heading => testNavItemHeading(heading!, 1));\n \n     // Helpers\n-    function expectToBeCollapsed(elementFinder: ElementFinder) {\n-      expect(elementFinder.getAttribute('class')).toMatch(/\\bcollapsed\\b/);\n-      expect(elementFinder.getAttribute('class')).not.toMatch(/\\bexpanded\\b/);\n+    async function expectToBeCollapsed(elementFinder: ElementFinder) {\n+      expect(await elementFinder.getAttribute('class')).toMatch(/\\bcollapsed\\b/);\n+      expect(await elementFinder.getAttribute('class')).not.toMatch(/\\bexpanded\\b/);\n     }\n \n-    function expectToBeExpanded(elementFinder: ElementFinder) {\n-      expect(elementFinder.getAttribute('class')).not.toMatch(/\\bcollapsed\\b/);\n-      expect(elementFinder.getAttribute('class')).toMatch(/\\bexpanded\\b/);\n+    async function expectToBeExpanded(elementFinder: ElementFinder) {\n+      expect(await elementFinder.getAttribute('class')).not.toMatch(/\\bcollapsed\\b/);\n+      expect(await elementFinder.getAttribute('class')).toMatch(/\\bexpanded\\b/);\n     }\n \n-    function testNavItemHeading(heading: ElementFinder, level: number) {\n+    async function testNavItemHeading(heading: ElementFinder, level: number) {\n       const children = page.getNavItemHeadingChildren(heading, level);\n \n       // Headings are initially collapsed.\n-      expectToBeCollapsed(children);\n+      await expectToBeCollapsed(children);\n \n       // Ensure heading does not cause navigation when expanding.\n-      page.click(heading);\n-      expectToBeExpanded(children);\n-      expect(page.locationPath()).toBe('/docs');\n+      await page.click(heading);\n+      await expectToBeExpanded(children);\n+      expect(await page.locationPath()).toBe('/docs');\n \n       // Recursively test child-headings (while this heading is expanded).\n       const nextLevel = level + 1;\n       const childNavItemHeadings = page.getNavItemHeadings(children, nextLevel);\n-      childNavItemHeadings.each(childHeading => testNavItemHeading(childHeading!, nextLevel));\n+      await childNavItemHeadings.each(childHeading => testNavItemHeading(childHeading!, nextLevel));\n \n       // Ensure heading does not cause navigation when collapsing.\n-      page.click(heading);\n-      expectToBeCollapsed(children);\n-      expect(page.locationPath()).toBe('/docs');\n+      await page.click(heading);\n+      await expectToBeCollapsed(children);\n+      expect(await page.locationPath()).toBe('/docs');\n     }\n   });\n \n-  it('should show the tutorial index page at `/tutorial` after jitterbugging through features', () => {\n+  it('should show the tutorial index page at `/tutorial` after jitterbugging through features', async () => {\n     // check that we can navigate directly to the tutorial page\n-    page.navigateTo('tutorial');\n-    expect(page.getDocViewerText()).toMatch(/Tour of Heroes App and Tutorial/i);\n+    await page.navigateTo('tutorial');\n+    expect(await page.getDocViewerText()).toMatch(/Tour of Heroes App and Tutorial/i);\n \n     // navigate to a different page\n-    page.click(page.getTopMenuLink('features'));\n-    expect(page.getDocViewerText()).toMatch(/Progressive web apps/i);\n+    await page.click(page.getTopMenuLink('features'));\n+    expect(await page.getDocViewerText()).toMatch(/Progressive web apps/i);\n \n     // Show the menu\n-    page.click(page.docsMenuLink);\n+    await page.click(page.docsMenuLink);\n \n     // Tutorial folder should still be expanded because this test runs in wide mode\n     // Navigate to the tutorial introduction via a link in the sidenav\n-    page.click(page.getNavItem(/The Hero Editor/i));\n-    expect(page.getDocViewerText()).toMatch(/The Hero Editor/i);\n+    await page.click(page.getNavItem(/The Hero Editor/i));\n+    expect(await page.getDocViewerText()).toMatch(/The Hero Editor/i);\n   });\n \n-  it('should render `{@example}` dgeni tags as `<code-example>` elements with HTML escaped content', () => {\n-    page.navigateTo('guide/component-styles');\n+  it('should render `{@example}` dgeni tags as `<code-example>` elements with HTML escaped content', async () => {\n+    await page.navigateTo('guide/component-styles');\n     const codeExample = element.all(by.css('code-example')).first();\n-    expect(page.getInnerHtml(codeExample)).toContain('&lt;h1&gt;Tour of Heroes&lt;/h1&gt;');\n+    expect(await page.getInnerHtml(codeExample)).toContain('&lt;h1&gt;Tour of Heroes&lt;/h1&gt;');\n   });\n \n   describe('scrolling to the top', () => {\n-    it('should scroll to the top when navigating to another page', () => {\n-      page.navigateTo('guide/security');\n-      page.scrollTo('bottom');\n-      expect(page.getScrollTop()).toBeGreaterThan(0);\n+    it('should scroll to the top when navigating to another page', async () => {\n+      await page.navigateTo('guide/security');\n+      await page.scrollTo('bottom');\n+      expect(await page.getScrollTop()).toBeGreaterThan(0);\n       // Navigate to Reference section, then check\n       // Find the navigation item that has the text \"api\"\n-      page.click(page.getNavItem(/reference/i));\n-      page.click(page.getNavItem(/api/i));\n-      expect(page.locationPath()).toBe('/api');\n-      expect(page.getScrollTop()).toBe(0);\n+      await page.click(page.getNavItem(/reference/i));\n+      await page.click(page.getNavItem(/api/i));\n+      expect(await page.locationPath()).toBe('/api');\n+      expect(await page.getScrollTop()).toBe(0);\n     });\n \n-    it('should scroll to the top when navigating to the same page', () => {\n-      page.navigateTo('guide/security');\n+    it('should scroll to the top when navigating to the same page', async () => {\n+      await page.navigateTo('guide/security');\n \n-      page.scrollTo('bottom');\n-      expect(page.getScrollTop()).toBeGreaterThan(0);\n+      await page.scrollTo('bottom');\n+      expect(await page.getScrollTop()).toBeGreaterThan(0);\n \n-      page.click(page.getNavItem(/security/i));\n-      expect(page.locationPath()).toBe('/guide/security');\n-      expect(page.getScrollTop()).toBe(0);\n+      await page.click(page.getNavItem(/security/i));\n+      expect(await page.locationPath()).toBe('/guide/security');\n+      expect(await page.getScrollTop()).toBe(0);\n     });\n   });\n \n   describe('tutorial docs', () => {\n-    it('should not render a paragraph element inside the h1 element', () => {\n-      page.navigateTo('tutorial/toh-pt1');\n-      expect(element(by.css('h1 p')).isPresent()).toBeFalsy();\n+    it('should not render a paragraph element inside the h1 element', async () => {\n+      await page.navigateTo('tutorial/toh-pt1');\n+      expect(await element(by.css('h1 p')).isPresent()).toBeFalsy();\n     });\n   });\n \n@@ -134,40 +134,44 @@ describe('site App', () => {\n \n     beforeAll(() => page.navigateTo('about'));\n \n-    it('should have the expected groups', () => {\n-      expect(groupButtons.count()).toBe(3);\n+    it('should have the expected groups', async () => {\n+      expect(await groupButtons.count()).toBe(3);\n \n-      const texts = groupButtons.map<string>(btn => btn && btn.getText());\n+      const texts = await groupButtons.map<string>(btn => btn?.getText());\n       expect(texts).toEqual(['ANGULAR', 'COLLABORATORS', 'GDE']);\n     });\n \n-    it('should have contributors listed in each group', () => {\n+    it('should have contributors listed in each group', async () => {\n       // WebDriver calls `scrollIntoView()` on the element to bring it into the visible area of the\n       // browser, before clicking it. By default, this aligns the top of the element to the top of\n       // the window. As a result, the element may end up behing the fixed top menu, thus being\n       // unclickable. To avoid this, we click the element directly using JavaScript instead.\n-      const clickButton = (elementFinder: ElementFinder) => elementFinder.getWebElement().then(\n-          webElement => browser.executeScript('arguments[0].click()', webElement));\n+      const clickButton =\n+          (elementFinder: ElementFinder) => browser.executeScript('arguments[0].click()', elementFinder);\n       const getContributorNames =\n-          () => contributors.all(by.css('h3')).map<string>(c => c && c.getText());\n+          () => contributors.all(by.css('h3')).map<string>(c => c?.getText());\n \n-      const names1 = getContributorNames();\n-      expect(contributors.count()).toBeGreaterThan(1);\n+      const names1 = await getContributorNames();\n+      expect(await contributors.count()).toBeGreaterThan(1);\n+      expect(names1.length).toBeGreaterThan(1);\n \n-      clickButton(groupButtons.get(1));\n-      const names2 = getContributorNames();\n-      expect(contributors.count()).toBeGreaterThan(1);\n+      await clickButton(groupButtons.get(1));\n+      const names2 = await getContributorNames();\n+      expect(await contributors.count()).toBeGreaterThan(1);\n+      expect(names2.length).toBeGreaterThan(1);\n       expect(names2).not.toEqual(names1);\n \n-      clickButton(groupButtons.get(2));\n-      const names3 = getContributorNames();\n-      expect(contributors.count()).toBeGreaterThan(1);\n+      await clickButton(groupButtons.get(2));\n+      const names3 = await getContributorNames();\n+      expect(await contributors.count()).toBeGreaterThan(1);\n+      expect(names2.length).toBeGreaterThan(1);\n       expect(names3).not.toEqual(names2);\n       expect(names3).not.toEqual(names1);\n \n-      clickButton(groupButtons.get(0));\n-      const names4 = getContributorNames();\n-      expect(contributors.count()).toBeGreaterThan(1);\n+      await clickButton(groupButtons.get(0));\n+      const names4 = await getContributorNames();\n+      expect(await contributors.count()).toBeGreaterThan(1);\n+      expect(names4.length).toBeGreaterThan(1);\n       expect(names4).not.toEqual(names3);\n       expect(names4).not.toEqual(names2);\n       expect(names4).toEqual(names1);\n@@ -176,75 +180,69 @@ describe('site App', () => {\n \n   describe('google analytics', () => {\n \n-    it('should call ga with initial URL', done => {\n-      let path: string;\n-      page.navigateTo('api');\n-      page.locationPath()\n-        .then(p => path = p)\n-        .then(() => page.ga())\n-        .then(calls => {\n-          // The last call (length-1) will be the `send` command\n-          // The second to last call (length-2) will be the command to `set` the page url\n-          expect(calls[calls.length - 2]).toEqual(['set', 'page', path]);\n-          done();\n-        });\n+    it('should call ga with initial URL', async () => {\n+      await page.navigateTo('api');\n+\n+      const path = await page.locationPath();\n+      const calls = await page.ga();\n+\n+      // The last call (length-1) will be the `send` command\n+      // The second to last call (length-2) will be the command to `set` the page url\n+      expect(calls[calls.length - 2]).toEqual(['set', 'page', path]);\n     });\n \n-    it('should call ga with new URL on navigation', done => {\n-      let path: string;\n-      page.navigateTo('');\n-      page.click(page.getTopMenuLink('features'));\n-      page.locationPath()\n-        .then(p => path = p)\n-        .then(() => page.ga())\n-        .then(calls => {\n-          // The last call (length-1) will be the `send` command\n-          // The second to last call (length-2) will be the command to `set` the page url\n-          expect(calls[calls.length - 2]).toEqual(['set', 'page', path]);\n-          done();\n-        });\n+    it('should call ga with new URL on navigation', async () => {\n+      await page.navigateTo('');\n+      await page.click(page.getTopMenuLink('features'));\n+\n+      const path = await page.locationPath();\n+      const calls = await page.ga();\n+\n+      // The last call (length-1) will be the `send` command\n+      // The second to last call (length-2) will be the command to `set` the page url\n+      expect(calls[calls.length - 2]).toEqual(['set', 'page', path]);\n     });\n   });\n \n   describe('404 page', () => {\n-    it('should add or remove the \"noindex\" meta tag depending upon the validity of the page', () => {\n-      page.navigateTo('');\n-      expect(element(by.css('meta[name=\"robots\"]')).isPresent()).toBeFalsy();\n+    it('should add or remove the \"noindex\" meta tag depending upon the validity of the page', async () => {\n+      await page.navigateTo('');\n+      expect(await element(by.css('meta[name=\"robots\"]')).isPresent()).toBeFalsy();\n \n-      page.navigateTo('does/not/exist');\n-      expect(element(by.css('meta[name=\"robots\"][content=\"noindex\"]')).isPresent()).toBeTruthy();\n+      await page.navigateTo('does/not/exist');\n+      expect(await element(by.css('meta[name=\"robots\"][content=\"noindex\"]')).isPresent()).toBeTruthy();\n \n-      page.click(page.getTopMenuLink('features'));\n-      expect(element(by.css('meta[name=\"robots\"]')).isPresent()).toBeFalsy();\n+      await page.click(page.getTopMenuLink('features'));\n+      expect(await element(by.css('meta[name=\"robots\"]')).isPresent()).toBeFalsy();\n     });\n \n-    it('should search the index for words found in the url', () => {\n-      page.navigateTo('http/router');\n-      const results = page.getSearchResults();\n+    it('should search the index for words found in the url', async () => {\n+      await page.navigateTo('http/router');\n+      const results = await page.getSearchResults();\n \n       expect(results).toContain('HttpRequest');\n       expect(results).toContain('Router');\n     });\n   });\n \n   describe('suggest edit link', () => {\n-    it('should be present on all docs pages', () => {\n-      page.navigateTo('tutorial/toh-pt1');\n-      expect(page.ghLinks.count()).toEqual(1);\n+    it('should be present on all docs pages', async () => {\n+      await page.navigateTo('tutorial/toh-pt1');\n+      expect(await page.ghLinks.count()).toEqual(1);\n       /* tslint:disable:max-line-length */\n-      expect(page.ghLinks.get(0).getAttribute('href'))\n+      expect(await page.ghLinks.get(0).getAttribute('href'))\n         .toMatch(/https:\\/\\/github\\.com\\/angular\\/angular\\/edit\\/master\\/aio\\/content\\/tutorial\\/toh-pt1\\.md\\?message=docs%3A%20describe%20your%20change\\.\\.\\./);\n \n-      page.navigateTo('guide/http');\n-      expect(page.ghLinks.count()).toEqual(1);\n+      await page.navigateTo('guide/http');\n+      expect(await page.ghLinks.count()).toEqual(1);\n       /* tslint:disable:max-line-length */\n-      expect(page.ghLinks.get(0).getAttribute('href'))\n+      expect(await page.ghLinks.get(0).getAttribute('href'))\n         .toMatch(/https:\\/\\/github\\.com\\/angular\\/angular\\/edit\\/master\\/aio\\/content\\/guide\\/http\\.md\\?message=docs%3A%20describe%20your%20change\\.\\.\\./);\n     });\n \n-    it('should not be present on top level pages', () => {\n-      page.navigateTo('features');\n-      expect(page.ghLinks.count()).toEqual(0);\n+    it('should not be present on top level pages', async () => {\n+      await page.navigateTo('features');\n+      expect(await page.ghLinks.count()).toEqual(0);\n     });\n   });\n });"
        },
        {
            "sha": "9904eb42ad5e63a78e59b3194931c410a79eb734",
            "filename": "aio/tests/e2e/src/app.po.ts",
            "status": "modified",
            "additions": 27,
            "deletions": 25,
            "changes": 52,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fapp.po.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -1,4 +1,4 @@\n-import { browser, element, by, promise, ElementFinder, ExpectedConditions } from 'protractor';\n+import { browser, element, by, ElementFinder, ExpectedConditions } from 'protractor';\n \n const githubRegex = /https:\\/\\/github.com\\/angular\\/angular\\//;\n \n@@ -12,16 +12,17 @@ export class SitePage {\n   codeExample = element.all(by.css('aio-doc-viewer pre > code'));\n   ghLinks = this.docViewer\n     .all(by.css('a'))\n-    .filter((a: ElementFinder) => a.getAttribute('href').then(href => githubRegex.test(href)));\n+    .filter(async a => githubRegex.test(await a.getAttribute('href')));\n \n-  static setWindowWidth(newWidth: number) {\n+  static async setWindowWidth(newWidth: number) {\n     const win = browser.driver.manage().window();\n-    return win.getSize().then(oldSize => win.setSize(newWidth, oldSize.height));\n+    const oldSize = await win.getSize();\n+    await win.setSize(newWidth, oldSize.height);\n   }\n \n   getNavItem(pattern: RegExp) {\n     return element.all(by.css('aio-nav-item .vertical-menu-item'))\n-                  .filter(elementFinder => elementFinder.getText().then(text => pattern.test(text)))\n+                  .filter(async elementFinder => pattern.test(await elementFinder.getText()))\n                   .first();\n   }\n   getNavItemHeadings(parent: ElementFinder, level: number) {\n@@ -35,14 +36,14 @@ export class SitePage {\n   }\n   getTopMenuLink(path: string) { return element(by.css(`aio-top-menu a[href=\"${path}\"]`)); }\n \n-  ga() { return browser.executeScript('return window[\"ga\"].q') as promise.Promise<any[][]>; }\n-  locationPath() { return browser.executeScript('return document.location.pathname') as promise.Promise<string>; }\n+  ga() { return browser.executeScript<any[][]>('return window[\"ga\"].q'); }\n+  locationPath() { return browser.executeScript<string>('return document.location.pathname'); }\n \n-  navigateTo(pageUrl: string) {\n+  async navigateTo(pageUrl: string) {\n     // Navigate to the page, disable animations, and wait for Angular.\n-    return browser.get('/' + pageUrl)\n-        .then(() => browser.executeScript('document.body.classList.add(\\'no-animations\\')'))\n-        .then(() => browser.waitForAngular());\n+    await browser.get(`/${pageUrl}`);\n+    await browser.executeScript('document.body.classList.add(\\'no-animations\\')');\n+    await browser.waitForAngular();\n   }\n \n   getDocViewerText() {\n@@ -68,31 +69,32 @@ export class SitePage {\n     `);\n   }\n \n-  click(elementFinder: ElementFinder) {\n-    return elementFinder.click().then(() => browser.waitForAngular());\n+  async click(elementFinder: ElementFinder) {\n+    await elementFinder.click();\n+    await browser.waitForAngular();\n   }\n \n-  enterSearch(query: string) {\n+  async enterSearch(query: string) {\n     const input = element(by.css('.search-container input[type=search]'));\n-    input.clear();\n-    input.sendKeys(query);\n+    await input.clear();\n+    await input.sendKeys(query);\n   }\n \n-  getSearchResults() {\n+  async getSearchResults() {\n     const results = element.all(by.css('.search-results li'));\n-    browser.wait(ExpectedConditions.presenceOf(results.first()), 8000);\n-    return results.map(link => link && link.getText());\n+    await browser.wait(ExpectedConditions.presenceOf(results.first()), 8000);\n+    return results.map(link => link?.getText());\n   }\n \n-  getApiSearchResults() {\n+  async getApiSearchResults() {\n     const results = element.all(by.css('aio-api-list .api-item'));\n-    browser.wait(ExpectedConditions.presenceOf(results.first()), 2000);\n-    return results.map(elem => elem && elem.getText());\n+    await browser.wait(ExpectedConditions.presenceOf(results.first()), 2000);\n+    return results.map(elem => elem?.getText());\n   }\n \n-  clickDropdownItem(dropdown: ElementFinder, itemName: string){\n-    dropdown.element(by.css('.form-select-button')).click();\n+  async clickDropdownItem(dropdown: ElementFinder, itemName: string){\n+    await dropdown.element(by.css('.form-select-button')).click();\n     const menuItem = dropdown.element(by.cssContainingText('.form-select-dropdown li', itemName));\n-    menuItem.click();\n+    await menuItem.click();\n   }\n }"
        },
        {
            "sha": "f1168a09f8382de083a0d3ad977f5aaf87c96c21",
            "filename": "aio/tests/e2e/src/onerror.e2e-spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fonerror.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fonerror.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fonerror.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -6,9 +6,9 @@ import { SitePage } from './app.po';\n describe('onerror handler', () => {\n   let page: SitePage;\n \n-  beforeAll(() => {\n+  beforeAll(async () => {\n     page = new SitePage();\n-    page.navigateTo('');\n+    await page.navigateTo('');\n   });\n \n "
        },
        {
            "sha": "ae68e28773a3b00560817ae93be6bf07192206ef",
            "filename": "aio/tests/e2e/src/search.e2e-spec.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 13,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fsearch.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Fsrc%2Fsearch.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Fsrc%2Fsearch.e2e-spec.ts?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -3,26 +3,26 @@ import { SitePage } from './app.po';\n describe('site search', () => {\n   let page: SitePage;\n \n-  beforeEach(() => {\n+  beforeEach(async () => {\n     page = new SitePage();\n-    page.navigateTo('');\n+    await page.navigateTo('');\n   });\n \n-  it('should find pages when searching by a partial word in the title', () => {\n-    page.enterSearch('ngCont');\n-    expect(page.getSearchResults()).toContain('NgControl');\n+  it('should find pages when searching by a partial word in the title', async () => {\n+    await page.enterSearch('ngCont');\n+    expect(await page.getSearchResults()).toContain('NgControl');\n \n-    page.enterSearch('valueaccess');\n-    expect(page.getSearchResults()).toContain('ControlValueAccessor');\n+    await page.enterSearch('valueaccess');\n+    expect(await page.getSearchResults()).toContain('ControlValueAccessor');\n   });\n \n-  it('should find API docs whose instance member name matches the search query', () => {\n-    page.enterSearch('decode');\n-    expect(page.getSearchResults()).toContain('HttpParameterCodec');\n+  it('should find API docs whose instance member name matches the search query', async () => {\n+    await page.enterSearch('decode');\n+    expect(await page.getSearchResults()).toContain('HttpParameterCodec');\n   });\n \n-  it('should find API docs whose static method name matches the search query', () => {\n-    page.enterSearch('compose');\n-    expect(page.getSearchResults()).toContain('Validators');\n+  it('should find API docs whose static method name matches the search query', async () => {\n+    await page.enterSearch('compose');\n+    expect(await page.getSearchResults()).toContain('Validators');\n   });\n });"
        },
        {
            "sha": "96957968e85de510cfe28e18cf7efe6d9cd6ba65",
            "filename": "aio/tests/e2e/tsconfig.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftests%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fe2e%2Ftsconfig.json?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -6,7 +6,6 @@\n     \"target\": \"es2018\",\n     \"types\": [\n       \"jasmine\",\n-      \"jasminewd2\",\n       \"node\"\n     ]\n   }"
        },
        {
            "sha": "26e5eaf0648a21e044cdd20eb5c360630255c63d",
            "filename": "aio/tslint.json",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftslint.json",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Ftslint.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftslint.json?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -48,8 +48,6 @@\n         ]\n       }\n     ],\n-    // TODO(gkalpak): Fix the code and enable this to align with CLI. (Failures: 114)\n-    // \"no-any\": true,\n     \"no-console\": [\n       true,\n       \"debug\",\n@@ -66,7 +64,6 @@\n     // TODO(gkalpak): Fix the code and enable this to align with CLI. (Failures: 59)\n     // \"no-non-null-assertion\": true,\n     \"no-redundant-jsdoc\": true,\n-    // TODO(gkalpak): Fix the code and remove this to align with CLI.\n     \"no-switch-case-fall-through\": true,\n     \"no-var-requires\": false,\n     \"object-literal-key-quotes\": ["
        },
        {
            "sha": "437a99d4065fe3af9a69c50c729c66963bacc9a5",
            "filename": "aio/yarn.lock",
            "status": "modified",
            "additions": 1314,
            "deletions": 1364,
            "changes": 2678,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/aio%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fyarn.lock?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046"
        },
        {
            "sha": "32e8976494dccc4e47136c22dad66e74fcd6ef80",
            "filename": "goldens/size-tracking/aio-payloads.json",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/18110a8ab0a17e139b0772bcc783e3dd05e88046/goldens%2Fsize-tracking%2Faio-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/18110a8ab0a17e139b0772bcc783e3dd05e88046/goldens%2Fsize-tracking%2Faio-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Faio-payloads.json?ref=18110a8ab0a17e139b0772bcc783e3dd05e88046",
            "patch": "@@ -2,27 +2,27 @@\n   \"aio\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime-es2015\": 3037,\n-        \"main-es2015\": 448285,\n-        \"polyfills-es2015\": 52407\n+        \"runtime-es2015\": 3033,\n+        \"main-es2015\": 447582,\n+        \"polyfills-es2015\": 52343\n       }\n     }\n   },\n   \"aio-local\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime-es2015\": 3037,\n-        \"main-es2015\": 449116,\n-        \"polyfills-es2015\": 52557\n+        \"runtime-es2015\": 3033,\n+        \"main-es2015\": 448385,\n+        \"polyfills-es2015\": 52493\n       }\n     }\n   },\n   \"aio-local-viewengine\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime-es2015\": 3157,\n-        \"main-es2015\": 432424,\n-        \"polyfills-es2015\": 52557\n+        \"runtime-es2015\": 3153,\n+        \"main-es2015\": 431575,\n+        \"polyfills-es2015\": 52493\n       }\n     }\n   }"
        }
    ],
    "stats": {
        "total": 3271,
        "additions": 1609,
        "deletions": 1662
    }
}