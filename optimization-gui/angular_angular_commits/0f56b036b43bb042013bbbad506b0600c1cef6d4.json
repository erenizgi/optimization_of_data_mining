{
    "author": "petebacondarwin",
    "message": "refactor(compiler): use `===` rather than `==` in the ml_parser (#43129)\n\nThis is a simple tidy up commit to move to the more specific `===`\ncomparison operator in the HTML lexer/parser.\n\nPR Close #43129",
    "sha": "0f56b036b43bb042013bbbad506b0600c1cef6d4",
    "files": [
        {
            "sha": "78c61b2cb198feb91eaae2563a64c24d3668ea87",
            "filename": "packages/compiler/src/ml_parser/html_tags.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fhtml_tags.ts",
            "raw_url": "https://github.com/angular/angular/raw/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fhtml_tags.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fhtml_tags.ts?ref=0f56b036b43bb042013bbbad506b0600c1cef6d4",
            "patch": "@@ -54,7 +54,7 @@ export class HtmlTagDefinition implements TagDefinition {\n \n   getContentType(prefix?: string): TagContentType {\n     if (typeof this.contentType === 'object') {\n-      const overrideType = prefix == null ? undefined : this.contentType[prefix];\n+      const overrideType = prefix === undefined ? undefined : this.contentType[prefix];\n       return overrideType ?? this.contentType.default;\n     }\n     return this.contentType;"
        },
        {
            "sha": "ac9d315c0526749818cf160a87c81a642d9011fc",
            "filename": "packages/compiler/src/ml_parser/icu_ast_expander.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Ficu_ast_expander.ts",
            "raw_url": "https://github.com/angular/angular/raw/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Ficu_ast_expander.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Ficu_ast_expander.ts?ref=0f56b036b43bb042013bbbad506b0600c1cef6d4",
            "patch": "@@ -80,8 +80,8 @@ class _Expander implements html.Visitor {\n \n   visitExpansion(icu: html.Expansion, context: any): any {\n     this.isExpanded = true;\n-    return icu.type == 'plural' ? _expandPluralForm(icu, this.errors) :\n-                                  _expandDefaultForm(icu, this.errors);\n+    return icu.type === 'plural' ? _expandPluralForm(icu, this.errors) :\n+                                   _expandDefaultForm(icu, this.errors);\n   }\n \n   visitExpansionCase(icuCase: html.ExpansionCase, context: any): any {\n@@ -92,7 +92,7 @@ class _Expander implements html.Visitor {\n // Plural forms are expanded to `NgPlural` and `NgPluralCase`s\n function _expandPluralForm(ast: html.Expansion, errors: ParseError[]): html.Element {\n   const children = ast.cases.map(c => {\n-    if (PLURAL_CASES.indexOf(c.value) == -1 && !c.value.match(/^=\\d+$/)) {\n+    if (PLURAL_CASES.indexOf(c.value) === -1 && !c.value.match(/^=\\d+$/)) {\n       errors.push(new ExpansionError(\n           c.valueSourceSpan,\n           `Plural cases should be \"=<number>\" or one of ${PLURAL_CASES.join(', ')}`));"
        },
        {
            "sha": "6defcc010337c21f5da39ebd2eef81b690a4aec8",
            "filename": "packages/compiler/src/ml_parser/lexer.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Flexer.ts",
            "raw_url": "https://github.com/angular/angular/raw/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Flexer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Flexer.ts?ref=0f56b036b43bb042013bbbad506b0600c1cef6d4",
            "patch": "@@ -808,19 +808,19 @@ function isPrefixEnd(code: number): boolean {\n }\n \n function isDigitEntityEnd(code: number): boolean {\n-  return code == chars.$SEMICOLON || code == chars.$EOF || !chars.isAsciiHexDigit(code);\n+  return code === chars.$SEMICOLON || code === chars.$EOF || !chars.isAsciiHexDigit(code);\n }\n \n function isNamedEntityEnd(code: number): boolean {\n-  return code == chars.$SEMICOLON || code == chars.$EOF || !chars.isAsciiLetter(code);\n+  return code === chars.$SEMICOLON || code === chars.$EOF || !chars.isAsciiLetter(code);\n }\n \n function isExpansionCaseStart(peek: number): boolean {\n   return peek !== chars.$RBRACE;\n }\n \n function compareCharCodeCaseInsensitive(code1: number, code2: number): boolean {\n-  return toUpperCaseCharCode(code1) == toUpperCaseCharCode(code2);\n+  return toUpperCaseCharCode(code1) === toUpperCaseCharCode(code2);\n }\n \n function toUpperCaseCharCode(code: number): number {\n@@ -832,7 +832,7 @@ function mergeTextTokens(srcTokens: Token[]): Token[] {\n   let lastDstToken: Token|undefined = undefined;\n   for (let i = 0; i < srcTokens.length; i++) {\n     const token = srcTokens[i];\n-    if (lastDstToken && lastDstToken.type == TokenType.TEXT && token.type == TokenType.TEXT) {\n+    if (lastDstToken && lastDstToken.type === TokenType.TEXT && token.type === TokenType.TEXT) {\n       lastDstToken.parts[0]! += token.parts[0];\n       lastDstToken.sourceSpan.end = token.sourceSpan.end;\n     } else {"
        },
        {
            "sha": "fecba0084bcf758579284bdf5c86ba383cffc85c",
            "filename": "packages/compiler/src/ml_parser/parser.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fparser.ts",
            "raw_url": "https://github.com/angular/angular/raw/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fparser.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fparser.ts?ref=0f56b036b43bb042013bbbad506b0600c1cef6d4",
            "patch": "@@ -185,7 +185,7 @@ class _TreeBuilder {\n       if (this._peek.type === lex.TokenType.EXPANSION_CASE_EXP_END) {\n         if (lastOnStack(expansionFormStack, lex.TokenType.EXPANSION_CASE_EXP_START)) {\n           expansionFormStack.pop();\n-          if (expansionFormStack.length == 0) return exp;\n+          if (expansionFormStack.length === 0) return exp;\n \n         } else {\n           this.errors.push(\n@@ -216,9 +216,9 @@ class _TreeBuilder {\n \n   private _consumeText(token: lex.Token) {\n     let text = token.parts[0];\n-    if (text.length > 0 && text[0] == '\\n') {\n+    if (text.length > 0 && text[0] === '\\n') {\n       const parent = this._getParentElement();\n-      if (parent != null && parent.children.length == 0 &&\n+      if (parent != null && parent.children.length === 0 &&\n           this.getTagDefinition(parent.name).ignoreFirstLf) {\n         text = text.substring(1);\n       }\n@@ -316,7 +316,7 @@ class _TreeBuilder {\n     let unexpectedCloseTagDetected = false;\n     for (let stackIndex = this._elementStack.length - 1; stackIndex >= 0; stackIndex--) {\n       const el = this._elementStack[stackIndex];\n-      if (el.name == fullName) {\n+      if (el.name === fullName) {\n         // Record the parse span with the element that is being closed. Any elements that are\n         // removed from the element stack at this point are closed implicitly, so they won't get\n         // an end source span (as there is no explicit closing element)."
        },
        {
            "sha": "af58e730920ae458fdf798920021dabfa7a0cfec",
            "filename": "packages/compiler/src/ml_parser/tags.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Ftags.ts",
            "raw_url": "https://github.com/angular/angular/raw/0f56b036b43bb042013bbbad506b0600c1cef6d4/packages%2Fcompiler%2Fsrc%2Fml_parser%2Ftags.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Ftags.ts?ref=0f56b036b43bb042013bbbad506b0600c1cef6d4",
            "patch": "@@ -31,7 +31,7 @@ export function splitNsName(elementName: string): [string|null, string] {\n \n   const colonIndex = elementName.indexOf(':', 1);\n \n-  if (colonIndex == -1) {\n+  if (colonIndex === -1) {\n     throw new Error(`Unsupported format \"${elementName}\" expecting \":namespace:name\"`);\n   }\n "
        }
    ],
    "stats": {
        "total": 26,
        "additions": 13,
        "deletions": 13
    }
}