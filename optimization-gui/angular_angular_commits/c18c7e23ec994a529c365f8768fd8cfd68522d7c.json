{
    "author": "JoostK",
    "message": "fix(compiler): exclude trailing whitespace from element source spans (#40513)\n\nIf the template parse option `leadingTriviaChars` is configured to\nconsider whitespace as trivia, any trailing whitespace of an element\nwould be considered as leading trivia of the subsequent element, such\nthat its `start` span would start _after_ the whitespace. This means\nthat the start span cannot be used to mark the end of the current\nelement, as its trailing whitespace would then be included in its span.\nInstead, the full start of the subsequent element should be used.\n\nTo harden the tests that for the Ivy parser, the test utility `parseR3`\nhas been adjusted to use the same configuration for `leadingTriviaChars`\nas would be the case in its production counterpart `parseTemplate`. This\nuncovered another bug in offset handling of the interpolation parser,\nwhere the absolute offset was computed from the start source span\n(which excludes leading trivia) whereas the interpolation expression\nwould include the leading trivia. As such, the absolute offset now also\nuses the full start span.\n\nFixes #39148\n\nPR Close #40513",
    "sha": "c18c7e23ec994a529c365f8768fd8cfd68522d7c",
    "files": [
        {
            "sha": "9f1805088c839f09bdc8d1758d1180fa038a5ce9",
            "filename": "packages/compiler-cli/src/ngtsc/annotations/src/component.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Fcomponent.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Fcomponent.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fannotations%2Fsrc%2Fcomponent.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -879,6 +879,9 @@ export class ComponentDecoratorHandler implements\n     //\n     // In order to guarantee the correctness of diagnostics, templates are parsed a second time\n     // with the above options set to preserve source mappings.\n+    //\n+    // Note: template parse options should be aligned with `template_target_spec.ts` and\n+    // `TemplateTypeCheckerImpl.overrideComponentTemplate`.\n \n     const {nodes: diagNodes} = parseTemplate(templateStr, template.sourceMapUrl, {\n       preserveWhitespaces: true,"
        },
        {
            "sha": "6a63764c81ff641e735d9abd3a7f28abfbf366c4",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/src/checker.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fchecker.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fchecker.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fchecker.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -154,6 +154,11 @@ export class TemplateTypeCheckerImpl implements TemplateTypeChecker {\n   overrideComponentTemplate(component: ts.ClassDeclaration, template: string):\n       {nodes: TmplAstNode[], errors: ParseError[]|null} {\n     const {nodes, errors} = parseTemplate(template, 'override.html', {\n+      // Set `leadingTriviaChars` and `preserveWhitespaces` such that whitespace is not stripped\n+      // and fully accounted for in source spans. Without these flags the source spans can be\n+      // inaccurate.\n+      // Note: template parse options should be aligned with `template_target_spec.ts` and the\n+      // `diagNodes` in `ComponentDecoratorHandler._parseTemplate`.\n       preserveWhitespaces: true,\n       leadingTriviaChars: [],\n     });"
        },
        {
            "sha": "0ecf5106591e9f7cf590279ac692bf6781cd83ad",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/external_templates/escaped_chars.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.js",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Fexternal_templates%2Fescaped_chars.js?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -1,4 +1,4 @@\n-i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/escaped_chars.html\" <div>\\r\\n  \n+i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/escaped_chars.html\" <div>\n â€¦\n // NOTE: the `\\\\r\\\\n` at the end of the next line will be unescaped to `\\r\\n`. If it was just `\\r\\n` it would get unescaped to the actual characters.\n i0.ÉµÉµtext(1, \" Some Message Encoded character: \\uD83D\\uDE80\\\\n\") // SOURCE: \"/escaped_chars.html\" Some Message\\r\\n  Encoded character: ðŸš€\\\\r\\\\n"
        },
        {
            "sha": "f0be5ea4538691313acbff9cb940f55cf2b50b12",
            "filename": "packages/compiler-cli/test/compliance/test_cases/source_mapping/inline_templates/i18n_message_element_whitespace.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Finline_templates%2Fi18n_message_element_whitespace.js",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Finline_templates%2Fi18n_message_element_whitespace.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_cases%2Fsource_mapping%2Finline_templates%2Fi18n_message_element_whitespace.js?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -9,9 +9,9 @@\n }:CLOSE_PARAGRAPH: post-p\\n` // SOURCE: \"/i18n_message_element_whitespace.ts\" post-p\\\\n\n â€¦\n \n-i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/i18n_message_element_whitespace.ts\" <div i18n>\\\\n  \n+i0.ÉµÉµelementStart(0, \"div\") // SOURCE: \"/i18n_message_element_whitespace.ts\" <div i18n>\n â€¦\n-i0.ÉµÉµi18nStart(1, 0) // SOURCE: \"/i18n_message_element_whitespace.ts\" <div i18n>\\\\n  \n+i0.ÉµÉµi18nStart(1, 0) // SOURCE: \"/i18n_message_element_whitespace.ts\" <div i18n>\n â€¦\n i0.ÉµÉµelement(2, \"p\") // SOURCE: \"/i18n_message_element_whitespace.ts\" <p>\\\\n    \n â€¦"
        },
        {
            "sha": "8c22ab7aebe620575625bdb46e96d56b7dc5a0b1",
            "filename": "packages/compiler-cli/test/ngtsc/template_mapping_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Ftemplate_mapping_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Ftemplate_mapping_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Ftemplate_mapping_spec.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -432,7 +432,7 @@ runInEachFileSystem((os) => {\n              const mappings = compileAndMap(\n                  `<div i18n title=\"  pre-title {{name}}  post-title\" i18n-title>  pre-body {{greeting}}  post-body</div>`);\n              expectMapping(mappings, {\n-               source: '<div i18n title=\"  pre-title {{name}}  post-title\" i18n-title>  ',\n+               source: '<div i18n title=\"  pre-title {{name}}  post-title\" i18n-title>',\n                generated: 'i0.ÉµÉµelementStart(0, \"div\", 0)',\n                sourceUrl: '../test.ts',\n              });\n@@ -491,12 +491,12 @@ runInEachFileSystem((os) => {\n              // ivy instructions\n              expectMapping(mappings, {\n                sourceUrl: '../test.ts',\n-               source: '<div i18n>\\n  ',\n+               source: '<div i18n>',\n                generated: 'i0.ÉµÉµelementStart(0, \"div\")',\n              });\n              expectMapping(mappings, {\n                sourceUrl: '../test.ts',\n-               source: '<div i18n>\\n  ',\n+               source: '<div i18n>',\n                generated: 'i0.ÉµÉµi18nStart(1, 0)',\n              });\n              expectMapping(mappings, {"
        },
        {
            "sha": "905c25d583a8cae83ecbdd5f7b236a5c49f9e510",
            "filename": "packages/compiler/src/ml_parser/parser.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fparser.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fparser.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fml_parser%2Fparser.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -259,7 +259,7 @@ class _TreeBuilder {\n       this._advance();\n       selfClosing = false;\n     }\n-    const end = this._peek.sourceSpan.start;\n+    const end = this._peek.sourceSpan.fullStart;\n     const span = new ParseSourceSpan(\n         startTagToken.sourceSpan.start, end, startTagToken.sourceSpan.fullStart);\n     // Create a separate `startSpan` because `span` will be modified when there is an `end` span."
        },
        {
            "sha": "daffb70155282e8252292fde74963d42b8e8bb2f",
            "filename": "packages/compiler/src/template_parser/binding_parser.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Fsrc%2Ftemplate_parser%2Fbinding_parser.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Fsrc%2Ftemplate_parser%2Fbinding_parser.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Ftemplate_parser%2Fbinding_parser.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -120,16 +120,17 @@ export class BindingParser {\n \n   parseInterpolation(value: string, sourceSpan: ParseSourceSpan): ASTWithSource {\n     const sourceInfo = sourceSpan.start.toString();\n+    const absoluteOffset = sourceSpan.fullStart.offset;\n \n     try {\n       const ast = this._exprParser.parseInterpolation(\n-          value, sourceInfo, sourceSpan.start.offset, this._interpolationConfig)!;\n+          value, sourceInfo, absoluteOffset, this._interpolationConfig)!;\n       if (ast) this._reportExpressionParserErrors(ast.errors, sourceSpan);\n       this._checkPipes(ast, sourceSpan);\n       return ast;\n     } catch (e) {\n       this._reportError(`${e}`, sourceSpan);\n-      return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo, sourceSpan.start.offset);\n+      return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo, absoluteOffset);\n     }\n   }\n \n@@ -140,16 +141,17 @@ export class BindingParser {\n    */\n   parseInterpolationExpression(expression: string, sourceSpan: ParseSourceSpan): ASTWithSource {\n     const sourceInfo = sourceSpan.start.toString();\n+    const absoluteOffset = sourceSpan.start.offset;\n \n     try {\n-      const ast = this._exprParser.parseInterpolationExpression(\n-          expression, sourceInfo, sourceSpan.start.offset);\n+      const ast =\n+          this._exprParser.parseInterpolationExpression(expression, sourceInfo, absoluteOffset);\n       if (ast) this._reportExpressionParserErrors(ast.errors, sourceSpan);\n       this._checkPipes(ast, sourceSpan);\n       return ast;\n     } catch (e) {\n       this._reportError(`${e}`, sourceSpan);\n-      return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo, sourceSpan.start.offset);\n+      return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo, absoluteOffset);\n     }\n   }\n "
        },
        {
            "sha": "48e87d07cb6956a230e2ed1a5b3ff2e58f045210",
            "filename": "packages/compiler/test/ml_parser/html_parser_spec.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Fml_parser%2Fhtml_parser_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Fml_parser%2Fhtml_parser_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Fml_parser%2Fhtml_parser_spec.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -709,6 +709,23 @@ import {humanizeDom, humanizeDomSourceSpans, humanizeLineColumn, humanizeNodes}\n           ]);\n         });\n \n+        it('should set the end source span excluding trailing whitespace whitespace', () => {\n+          expect(humanizeDomSourceSpans(\n+                     parser.parse('<input type=\"text\" />\\n\\n\\n  <span>\\n</span>', 'TestComp', {\n+                       leadingTriviaChars: [' ', '\\n', '\\r', '\\t'],\n+                     })))\n+              .toEqual([\n+                [\n+                  html.Element, 'input', 0, '<input type=\"text\" />', '<input type=\"text\" />',\n+                  '<input type=\"text\" />'\n+                ],\n+                [html.Attribute, 'type', 'text', 'type=\"text\"'],\n+                [html.Text, '\\n\\n\\n  ', 0, ''],\n+                [html.Element, 'span', 0, '<span>\\n</span>', '<span>', '</span>'],\n+                [html.Text, '\\n', 1, ''],\n+              ]);\n+        });\n+\n         it('should not set the end source span for elements that are implicitly closed', () => {\n           expect(humanizeDomSourceSpans(parser.parse('<div><p></div>', 'TestComp'))).toEqual([\n             [html.Element, 'div', 0, '<div><p></div>', '<div>', '</div>'],"
        },
        {
            "sha": "978e7245d02aac38517f94e13c891fb86592f153",
            "filename": "packages/compiler/test/render3/r3_ast_spans_spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Frender3%2Fr3_ast_spans_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Frender3%2Fr3_ast_spans_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Frender3%2Fr3_ast_spans_spec.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -148,6 +148,13 @@ describe('R3 AST source spans', () => {\n         ['TextAttribute', 'a', 'a', '<empty>'],\n       ]);\n     });\n+\n+    it('is correct for self-closing elements with trailing whitespace', () => {\n+      expectFromHtml('<input />\\n  <span>\\n</span>').toEqual([\n+        ['Element', '<input />', '<input />', '<input />'],\n+        ['Element', '<span>\\n</span>', '<span>', '</span>'],\n+      ]);\n+    });\n   });\n \n   describe('bound text nodes', () => {"
        },
        {
            "sha": "170f48ca5d015082defc32c361004ed64fb14d39",
            "filename": "packages/compiler/test/render3/view/i18n_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Frender3%2Fview%2Fi18n_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Frender3%2Fview%2Fi18n_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Frender3%2Fview%2Fi18n_spec.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -523,7 +523,7 @@ describe('serializeI18nMessageForLocalize', () => {\n        expect(humanizeSourceSpan(messageParts[3].sourceSpan)).toEqual('\"\" (29-29)');\n \n        expect(placeHolders[0].text).toEqual('START_BOLD_TEXT');\n-       expect(humanizeSourceSpan(placeHolders[0].sourceSpan)).toEqual('\"<b>   \" (10-16)');\n+       expect(humanizeSourceSpan(placeHolders[0].sourceSpan)).toEqual('\"<b>\" (10-13)');\n        expect(placeHolders[1].text).toEqual('INTERPOLATION');\n        expect(humanizeSourceSpan(placeHolders[1].sourceSpan)).toEqual('\"{{value}}\" (16-25)');\n        expect(placeHolders[2].text).toEqual('CLOSE_BOLD_TEXT');"
        },
        {
            "sha": "7ace02c092869d0e0718fd97bdb9879ecb6593f5",
            "filename": "packages/compiler/test/render3/view/util.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Frender3%2Fview%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Fcompiler%2Ftest%2Frender3%2Fview%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Frender3%2Fview%2Futil.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -16,6 +16,7 @@ import {DEFAULT_INTERPOLATION_CONFIG, InterpolationConfig} from '../../../src/ml\n import * as a from '../../../src/render3/r3_ast';\n import {htmlAstToRender3Ast, Render3ParseResult} from '../../../src/render3/r3_template_transform';\n import {I18nMetaVisitor} from '../../../src/render3/view/i18n/meta';\n+import {LEADING_TRIVIA_CHARS} from '../../../src/render3/view/template';\n import {BindingParser} from '../../../src/template_parser/binding_parser';\n import {MockSchemaRegistry} from '../../../testing';\n \n@@ -84,9 +85,10 @@ export function parseR3(\n               ignoreError?: boolean} = {}): Render3ParseResult {\n   const htmlParser = new HtmlParser();\n \n-  const parseResult = htmlParser.parse(\n-      input, 'path:://to/template',\n-      {tokenizeExpansionForms: true, leadingTriviaChars: options.leadingTriviaChars});\n+  const parseResult = htmlParser.parse(input, 'path:://to/template', {\n+    tokenizeExpansionForms: true,\n+    leadingTriviaChars: options.leadingTriviaChars ?? LEADING_TRIVIA_CHARS,\n+  });\n \n   if (parseResult.errors.length > 0 && !options.ignoreError) {\n     const msg = parseResult.errors.map(e => e.toString()).join('\\n');"
        },
        {
            "sha": "0035173a07f84217a8a7767a49a50e3e30c28a7e",
            "filename": "packages/language-service/ivy/test/legacy/template_target_spec.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Flanguage-service%2Fivy%2Ftest%2Flegacy%2Ftemplate_target_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/c18c7e23ec994a529c365f8768fd8cfd68522d7c/packages%2Flanguage-service%2Fivy%2Ftest%2Flegacy%2Ftemplate_target_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Ftest%2Flegacy%2Ftemplate_target_spec.ts?ref=c18c7e23ec994a529c365f8768fd8cfd68522d7c",
            "patch": "@@ -27,7 +27,16 @@ function parse(template: string): ParseResult {\n   template = template.replace('Â¦', '');\n   const templateUrl = '/foo';\n   return {\n-    ...parseTemplate(template, templateUrl),\n+    ...parseTemplate(template, templateUrl, {\n+      // Set `leadingTriviaChars` and `preserveWhitespaces` such that whitespace is not stripped\n+      // and fully accounted for in source spans. Without these flags the source spans can be\n+      // inaccurate.\n+      // Note: template parse options should be aligned with the `diagNodes` in\n+      // `ComponentDecoratorHandler._parseTemplate`. and\n+      // `TemplateTypeCheckerImpl.overrideComponentTemplate`.\n+      leadingTriviaChars: [],\n+      preserveWhitespaces: true,\n+    }),\n     position,\n   };\n }"
        }
    ],
    "stats": {
        "total": 79,
        "additions": 62,
        "deletions": 17
    }
}