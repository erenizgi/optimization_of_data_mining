{
    "author": "AndrewKushnir",
    "message": "docs: update dynamic component guide to use factory-less ViewContainerRef.createComponent (#43895)\n\nPR Close #43895",
    "sha": "967283e8a127e05d658007daeba96bbee47d4d96",
    "files": [
        {
            "sha": "3e2b10a8bcec4d91c87990b2223f1874644d1d42",
            "filename": "aio/content/examples/dynamic-component-loader/src/app/ad-banner.component.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/967283e8a127e05d658007daeba96bbee47d4d96/aio%2Fcontent%2Fexamples%2Fdynamic-component-loader%2Fsrc%2Fapp%2Fad-banner.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/967283e8a127e05d658007daeba96bbee47d4d96/aio%2Fcontent%2Fexamples%2Fdynamic-component-loader%2Fsrc%2Fapp%2Fad-banner.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fdynamic-component-loader%2Fsrc%2Fapp%2Fad-banner.component.ts?ref=967283e8a127e05d658007daeba96bbee47d4d96",
            "patch": "@@ -1,5 +1,5 @@\n // #docregion\n-import { Component, Input, OnInit, ViewChild, ComponentFactoryResolver, OnDestroy } from '@angular/core';\n+import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\n \n import { AdDirective } from './ad.directive';\n import { AdItem } from './ad-item';\n@@ -18,15 +18,12 @@ import { AdComponent } from './ad.component';\n })\n // #docregion class\n export class AdBannerComponent implements OnInit, OnDestroy {\n-\n   @Input() ads: AdItem[] = [];\n \n   currentAdIndex = -1;\n \n   @ViewChild(AdDirective, {static: true}) adHost!: AdDirective;\n-  interval: number | undefined;\n-\n-  constructor(private componentFactoryResolver: ComponentFactoryResolver) { }\n+  interval: number|undefined;\n \n   ngOnInit() {\n     this.loadComponent();\n@@ -41,12 +38,10 @@ export class AdBannerComponent implements OnInit, OnDestroy {\n     this.currentAdIndex = (this.currentAdIndex + 1) % this.ads.length;\n     const adItem = this.ads[this.currentAdIndex];\n \n-    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(adItem.component);\n-\n     const viewContainerRef = this.adHost.viewContainerRef;\n     viewContainerRef.clear();\n \n-    const componentRef = viewContainerRef.createComponent<AdComponent>(componentFactory);\n+    const componentRef = viewContainerRef.createComponent<AdComponent>(adItem.component);\n     componentRef.instance.data = adItem.data;\n   }\n "
        },
        {
            "sha": "dfd3e02a0405bce26cfc863f75650a3cb1b9c06d",
            "filename": "aio/content/guide/dynamic-component-loader.md",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/967283e8a127e05d658007daeba96bbee47d4d96/aio%2Fcontent%2Fguide%2Fdynamic-component-loader.md",
            "raw_url": "https://github.com/angular/angular/raw/967283e8a127e05d658007daeba96bbee47d4d96/aio%2Fcontent%2Fguide%2Fdynamic-component-loader.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdynamic-component-loader.md?ref=967283e8a127e05d658007daeba96bbee47d4d96",
            "patch": "@@ -1,8 +1,6 @@\n # Dynamic component loader\n \n-Component templates are not always fixed. An application might need to load new components at runtime.\n-\n-This cookbook shows you how to use `ComponentFactoryResolver` to add components dynamically.\n+Component templates are not always fixed. An application might need to load new components at runtime. This cookbook shows you how to add components dynamically.\n \n See the <live-example name=\"dynamic-component-loader\"></live-example>\n of the code in this cookbook.\n@@ -113,10 +111,6 @@ value to select an `adItem` from the array.\n \n \n \n-After `loadComponent()` selects an ad, it uses `ComponentFactoryResolver`\n-to resolve a `ComponentFactory` for each specific component.\n-The `ComponentFactory` then creates an instance of each component.\n-\n Next, you're targeting the `viewContainerRef` that\n exists on this specific instance of the component. How do you know it's\n this specific instance? Because it's referring to `adHost` and `adHost` is the"
        },
        {
            "sha": "fb2c0da4cb6aff1a934f166b5823c5c1e0fd89c5",
            "filename": "packages/core/src/linker/component_factory_resolver.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/967283e8a127e05d658007daeba96bbee47d4d96/packages%2Fcore%2Fsrc%2Flinker%2Fcomponent_factory_resolver.ts",
            "raw_url": "https://github.com/angular/angular/raw/967283e8a127e05d658007daeba96bbee47d4d96/packages%2Fcore%2Fsrc%2Flinker%2Fcomponent_factory_resolver.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Flinker%2Fcomponent_factory_resolver.ts?ref=967283e8a127e05d658007daeba96bbee47d4d96",
            "patch": "@@ -39,10 +39,10 @@ class _NullComponentFactoryResolver implements ComponentFactoryResolver {\n  * Use to obtain the factory for a given component type,\n  * then use the factory's `create()` method to create a component of that type.\n  *\n- * @see [Dynamic Components](guide/dynamic-component-loader)\n- * @see [Usage Example](guide/dynamic-component-loader#resolving-components)\n- * @see <live-example name=\"dynamic-component-loader\" noDownload></live-example>\n-of the code in this cookbook\n+ * Note: since v13, dynamic component creation via\n+ * [`ViewContainerRef.createComponent`](api/core/ViewContainerRef#createComponent)\n+ * does **not** require resolving component factory: component class can be used directly.\n+ *\n  * @publicApi\n  */\n export abstract class ComponentFactoryResolver {"
        },
        {
            "sha": "26bd5abbf0b310ad1f7fa316826ad38b3493cc6c",
            "filename": "packages/core/src/linker/ng_module_factory.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/967283e8a127e05d658007daeba96bbee47d4d96/packages%2Fcore%2Fsrc%2Flinker%2Fng_module_factory.ts",
            "raw_url": "https://github.com/angular/angular/raw/967283e8a127e05d658007daeba96bbee47d4d96/packages%2Fcore%2Fsrc%2Flinker%2Fng_module_factory.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Flinker%2Fng_module_factory.ts?ref=967283e8a127e05d658007daeba96bbee47d4d96",
            "patch": "@@ -25,8 +25,11 @@ export abstract class NgModuleRef<T> {\n   abstract get injector(): Injector;\n \n   /**\n-   * The resolver that can retrieve the component factories\n-   * declared in the `entryComponents` property of the module.\n+   * The resolver that can retrieve component factories in a context of this module.\n+   *\n+   * Note: since v13, dynamic component creation via\n+   * [`ViewContainerRef.createComponent`](api/core/ViewContainerRef#createComponent)\n+   * does **not** require resolving component factory: component class can be used directly.\n    */\n   abstract get componentFactoryResolver(): ComponentFactoryResolver;\n "
        }
    ],
    "stats": {
        "total": 34,
        "additions": 13,
        "deletions": 21
    }
}