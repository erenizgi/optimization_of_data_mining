{
    "author": "dylhunn",
    "message": "test(forms): Add more tests for `FormBuilder` method argument shapes. (#44452)\n\nIt is possible to pass arguments to `FormBuilder` using four different formats: value-only, boxed value, control config, and value-array. Currently, these different methods are not well-tested, especially as they interact. This PR will add tests for the variety of different argument shapes.\n\nThis was originally inspired by typed forms: when `FormBuilder` becomes typed, all these argument shapes should just work, with correct inferred types.\n\nPR Close #44452",
    "sha": "5da31d6d25bcf277fd6585494be7d5bfadb6ce97",
    "files": [
        {
            "sha": "f640667ebab46e801fc7a62aaae0307c77d29523",
            "filename": "packages/forms/test/form_builder_spec.ts",
            "status": "modified",
            "additions": 53,
            "deletions": 0,
            "changes": 53,
            "blob_url": "https://github.com/angular/angular/blob/5da31d6d25bcf277fd6585494be7d5bfadb6ce97/packages%2Fforms%2Ftest%2Fform_builder_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5da31d6d25bcf277fd6585494be7d5bfadb6ce97/packages%2Fforms%2Ftest%2Fform_builder_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Ftest%2Fform_builder_spec.ts?ref=5da31d6d25bcf277fd6585494be7d5bfadb6ce97",
            "patch": "@@ -55,6 +55,59 @@ describe('Form Builder', () => {\n     expect(g.controls['login'].asyncValidator).toBe(asyncValidator);\n   });\n \n+  it('should create controls from FormStates', () => {\n+    const c = b.control({value: 'one', disabled: false});\n+    expect(c.value).toEqual('one');\n+    c.reset();\n+    expect(c.value).toEqual(null);\n+  });\n+\n+  it('should work on a directly constructed FormBuilder object', () => {\n+    const g = b.group({'login': 'some value'});\n+    expect(g.controls['login'].value).toEqual('some value');\n+  });\n+\n+  it('should create homogenous control arrays', () => {\n+    const a = b.array(['one', 'two', 'three']);\n+    expect(a.value).toEqual(['one', 'two', 'three']);\n+  });\n+\n+  it('should create control arrays with FormStates and ControlConfigs', () => {\n+    const a = b.array(['one', 'two', {value: 'three', disabled: false}]);\n+    expect(a.value).toEqual(['one', 'two', 'three']);\n+  });\n+\n+  it('should create control arrays with ControlConfigs', () => {\n+    const a = b.array([['one', syncValidator, asyncValidator]]);\n+    expect(a.value).toEqual(['one']);\n+    expect(a.controls[0].validator).toBe(syncValidator);\n+    expect(a.controls[0].asyncValidator).toBe(asyncValidator);\n+  });\n+\n+  it('should create nested control arrays with ControlConfigs', () => {\n+    const a = b.array(['one', ['two', syncValidator, asyncValidator]]);\n+    expect(a.value).toEqual(['one', 'two']);\n+    expect(a.controls[1].validator).toBe(syncValidator);\n+    expect(a.controls[1].asyncValidator).toBe(asyncValidator);\n+  });\n+\n+  it('should create control arrays with AbstractControls', () => {\n+    const ctrl = b.control('one');\n+    const a = b.array([ctrl], syncValidator, asyncValidator);\n+    expect(a.value).toEqual(['one']);\n+    expect(a.validator).toBe(syncValidator);\n+    expect(a.asyncValidator).toBe(asyncValidator);\n+  });\n+\n+  it('should create control arrays with mixed value representations', () => {\n+    const a = b.array([\n+      'one', ['two', syncValidator, asyncValidator], {value: 'three', disabled: false},\n+      [{value: 'four', disabled: false}, syncValidator, asyncValidator], ['five'], b.control('six'),\n+      b.control({value: 'seven', disabled: false})\n+    ]);\n+    expect(a.value).toEqual(['one', 'two', 'three', 'four', 'five', 'six', 'seven']);\n+  });\n+\n   it('should support controls with no validators and whose form state is null', () => {\n     const g = b.group({'login': b.control(null)});\n     expect(g.controls['login'].value).toBeNull();"
        }
    ],
    "stats": {
        "total": 53,
        "additions": 53,
        "deletions": 0
    }
}