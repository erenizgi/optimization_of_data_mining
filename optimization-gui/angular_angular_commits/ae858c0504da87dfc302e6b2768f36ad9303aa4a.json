{
    "author": "josephperrott",
    "message": "ci: extend default timeout of karma tests for legacy saucelab tests (#42473)\n\nAfter testing, it seems that the flakyness we are experiencing in our legacy\nsaucelabs job is caused by timeouts which happen due to the karma server being\nunable to serve all of the files needed for the tests fast enough while concurrent\ntests are being run.\n\nPR Close #42473",
    "sha": "ae858c0504da87dfc302e6b2768f36ad9303aa4a",
    "files": [
        {
            "sha": "906fa637cc01c0d5d73f630a563c036cc3e09fd7",
            "filename": "karma-js.conf.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/ae858c0504da87dfc302e6b2768f36ad9303aa4a/karma-js.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/ae858c0504da87dfc302e6b2768f36ad9303aa4a/karma-js.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/karma-js.conf.js?ref=ae858c0504da87dfc302e6b2768f36ad9303aa4a",
            "patch": "@@ -8,6 +8,7 @@\n \n const browserProvidersConf = require('./browser-providers.conf');\n const {generateSeed} = require('./tools/jasmine-seed-generator');\n+const {hostname} = require('os');\n \n // Karma configuration\n // Generated on Thu Sep 25 2014 11:52:02 GMT-0700 (PDT)\n@@ -20,6 +21,7 @@ module.exports = function(config) {\n         random: true,\n         seed: generateSeed('karma-js.conf'),\n       },\n+      captureConsole: process.env.CI ? false : true,\n     },\n \n     files: [\n@@ -182,6 +184,8 @@ module.exports = function(config) {\n   // More context can be found in: https://github.com/angular/angular/pull/35171.\n   if (process.env.SAUCE_LOCALHOST_ALIAS_DOMAIN) {\n     conf.hostname = process.env.SAUCE_LOCALHOST_ALIAS_DOMAIN;\n+  } else {\n+    conf.hostname = hostname();\n   }\n \n   if (process.env.KARMA_WEB_TEST_MODE) {"
        },
        {
            "sha": "be9e316c5065fc9932c848397a876e90147c628b",
            "filename": "test-main.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/ae858c0504da87dfc302e6b2768f36ad9303aa4a/test-main.js",
            "raw_url": "https://github.com/angular/angular/raw/ae858c0504da87dfc302e6b2768f36ad9303aa4a/test-main.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/test-main.js?ref=ae858c0504da87dfc302e6b2768f36ad9303aa4a",
            "patch": "@@ -9,7 +9,7 @@\n // Tun on full stack traces in errors to help debugging\n Error.stackTraceLimit = Infinity;\n \n-jasmine.DEFAULT_TIMEOUT_INTERVAL = 3000;\n+jasmine.DEFAULT_TIMEOUT_INTERVAL = 15000;\n \n // Cancel Karma's synchronous start,\n // we will call `__karma__.start()` later, once all the specs are loaded."
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}