{
    "author": "clydin",
    "message": "docs: add tslib update migration docs (#37402)\n\nThis adds documentation for the v10.0 tooling migration `update-libraries-tslib` contained within the `@schematics/angular` package.\n\nPR Close #37402",
    "sha": "71c0363bb576ef909d81882f8ec9c69392e05bd0",
    "files": [
        {
            "sha": "2c0c1f109f067b1f7644248e249c71f62691b710",
            "filename": ".pullapprove.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/71c0363bb576ef909d81882f8ec9c69392e05bd0/.pullapprove.yml",
            "raw_url": "https://github.com/angular/angular/raw/71c0363bb576ef909d81882f8ec9c69392e05bd0/.pullapprove.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.pullapprove.yml?ref=71c0363bb576ef909d81882f8ec9c69392e05bd0",
            "patch": "@@ -963,6 +963,7 @@ groups:\n           'aio/content/guide/workspace-config.md',\n           'aio/content/guide/migration-solution-style-tsconfig.md',\n           'aio/content/guide/migration-update-module-and-target-compiler-options.md',\n+          'aio/content/guide/migration-update-libraries-tslib.md',\n           ])\n     reviewers:\n       users:"
        },
        {
            "sha": "54fc89ba73f75771286b097d902d1554645c3a9f",
            "filename": "aio/content/guide/migration-update-libraries-tslib.md",
            "status": "added",
            "additions": 52,
            "deletions": 0,
            "changes": 52,
            "blob_url": "https://github.com/angular/angular/blob/71c0363bb576ef909d81882f8ec9c69392e05bd0/aio%2Fcontent%2Fguide%2Fmigration-update-libraries-tslib.md",
            "raw_url": "https://github.com/angular/angular/raw/71c0363bb576ef909d81882f8ec9c69392e05bd0/aio%2Fcontent%2Fguide%2Fmigration-update-libraries-tslib.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fmigration-update-libraries-tslib.md?ref=71c0363bb576ef909d81882f8ec9c69392e05bd0",
            "patch": "@@ -0,0 +1,52 @@\n+# tslib Direct Dependency Migration\n+\n+## What does this migration do?\n+\n+If you have any libraries within your workspace, this migration will convert `tslib` peer dependencies to direct dependencies for the libraries.\n+TypeScript uses the `tslib` package to provide common helper functions used in compiled TypeScript code.\n+The `tslib` version is also updated to `2.0.0` to support TypeScript 3.9.\n+\n+Before:\n+```json\n+{\n+  \"name\": \"my-lib\",\n+  \"version\": \"0.0.1\",\n+  \"peerDependencies\": {\n+    \"@angular/common\": \"^9.0.0\",\n+    \"@angular/core\": \"^9.0.0\",\n+    \"tslib\": \"^1.12.0\"\n+  }\n+}\n+```\n+\n+After:\n+```json\n+{\n+  \"name\": \"my-lib\",\n+  \"version\": \"0.0.1\",\n+  \"peerDependencies\": {\n+    \"@angular/common\": \"^9.0.0\",\n+    \"@angular/core\": \"^9.0.0\"\n+  },\n+  \"dependencies\": {\n+    \"tslib\": \"^2.0.0\"\n+  }\n+}\n+```\n+\n+## Why is this migration necessary?\n+\n+The [`tslib`](https://github.com/Microsoft/tslib) is a runtime library for Typescript.\n+The version of this library is bound to the version of the TypeScript compiler used to compile a library.\n+Peer dependencies do not accurately represent this relationship between the runtime and the compiler.\n+If `tslib` remained declared as a library peer dependency, it would be possible for some Angular workspaces to get into a state where the workspace could not satisfy `tslib` peer dependency requirements for multiple libraries, resulting in build-time or run-time errors.\n+\n+As of TypeScript 3.9 (used by Angular v10), `tslib` version of 2.x is required to build new applications.\n+However, older libraries built with previous version of TypeScript and already published to npm might need `tslib` 1.x.\n+This migration makes it possible for code depending on incompatible versions of the `tslib` runtime library to remain interoperable.\n+\n+\n+## Do I still need `tslib` as a dependency in my workspace `package.json`?\n+\n+Yes.\n+The `tslib` dependency declared in the `package.json` file of the workspace is used to build applications within this workspace, as well as run unit tests for workspace libraries, and is required."
        }
    ],
    "stats": {
        "total": 53,
        "additions": 53,
        "deletions": 0
    }
}