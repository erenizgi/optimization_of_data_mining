{
    "author": "devversion",
    "message": "refactor(dev-infra): allow for consumption with rules_nodejs v2.0.0 (#37968)\n\nWith `rules_nodejs` v2.0.0 being in RC phase currently, we should\nmake sure that the package is compatible so that we can use it\nin the components repo in combination with rules_nodejs v2.0.0.\n\nIn v2.0.0 of the NodeJS rules, Bazel workspaces are recommended\nto no longer be symlinked under a separate repository. Instead,\nbazel rules and targets should be accessed directly from the\nuser-selected NPM repository. Usually `@npm`, so that the import\nchanges to `@npm//@angular/dev-infra-private/<..>`.\n\nPR Close #37968",
    "sha": "69472a1ed058f3766b7741af15897a7a829aac15",
    "files": [
        {
            "sha": "0e8666105e7fd0cad8c2a456955a4954ad3ba1a1",
            "filename": "dev-infra/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/69472a1ed058f3766b7741af15897a7a829aac15/dev-infra%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/69472a1ed058f3766b7741af15897a7a829aac15/dev-infra%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2FBUILD.bazel?ref=69472a1ed058f3766b7741af15897a7a829aac15",
            "patch": "@@ -38,7 +38,7 @@ genrule(\n pkg_npm(\n     name = \"npm_package\",\n     srcs = [\n-        \"BUILD.bazel\",\n+        \"index.bzl\",\n         \"//dev-infra/bazel:files\",\n         \"//dev-infra/benchmark:files\",\n     ],"
        },
        {
            "sha": "cd495e8552cf4b72155df44633de38f701412b6d",
            "filename": "dev-infra/index.bzl",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/69472a1ed058f3766b7741af15897a7a829aac15/dev-infra%2Findex.bzl",
            "raw_url": "https://github.com/angular/angular/raw/69472a1ed058f3766b7741af15897a7a829aac15/dev-infra%2Findex.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Findex.bzl?ref=69472a1ed058f3766b7741af15897a7a829aac15",
            "patch": "@@ -0,0 +1,9 @@\n+# Copyright Google LLC All Rights Reserved.\n+#\n+# Use of this source code is governed by an MIT-style license that can be\n+# found in the LICENSE file at https://angular.io/license\n+\n+# File is currently empty but serves as indicator for `rules_nodejs` and instructs it to\n+# preserve the content output in the NPM install workspace. This allows consumers to use\n+# rules and targets from within Bazel. e.g. by using `@npm//@angular/dev-infra-private/<..>`.\n+# See: https://github.com/bazelbuild/rules_nodejs/commit/4f508b1a0be1f5444e9c13b0439e649449792fef."
        }
    ],
    "stats": {
        "total": 11,
        "additions": 10,
        "deletions": 1
    }
}