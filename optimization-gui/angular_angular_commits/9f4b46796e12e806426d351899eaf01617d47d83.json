{
    "author": "t-bowersox",
    "message": "docs: fix UniqueAlterEgoValidatorDirective (#44764)\n\nPR Close #44764",
    "sha": "9f4b46796e12e806426d351899eaf01617d47d83",
    "files": [
        {
            "sha": "6a03999dff1cf61bb96634a696bd6dcda3ddbe69",
            "filename": "aio/content/examples/form-validation/src/app/shared/alter-ego.directive.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/9f4b46796e12e806426d351899eaf01617d47d83/aio%2Fcontent%2Fexamples%2Fform-validation%2Fsrc%2Fapp%2Fshared%2Falter-ego.directive.ts",
            "raw_url": "https://github.com/angular/angular/raw/9f4b46796e12e806426d351899eaf01617d47d83/aio%2Fcontent%2Fexamples%2Fform-validation%2Fsrc%2Fapp%2Fshared%2Falter-ego.directive.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fform-validation%2Fsrc%2Fapp%2Fshared%2Falter-ego.directive.ts?ref=9f4b46796e12e806426d351899eaf01617d47d83",
            "patch": "@@ -37,15 +37,12 @@ export class UniqueAlterEgoValidator implements AsyncValidator {\n   ]\n })\n export class UniqueAlterEgoValidatorDirective implements AsyncValidator {\n-  constructor(private heroesService: HeroesService) {}\n+  constructor(private validator: UniqueAlterEgoValidator) {}\n \n   validate(\n     control: AbstractControl\n   ): Observable<ValidationErrors | null> {\n-    return this.heroesService.isAlterEgoTaken(control.value).pipe(\n-      map(isTaken => (isTaken ? { uniqueAlterEgo: true } : null)),\n-      catchError(() => of(null))\n-    );\n+    this.validator.validate(control);\n   }\n }\n // #enddocregion async-validator-directive"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 2,
        "deletions": 5
    }
}