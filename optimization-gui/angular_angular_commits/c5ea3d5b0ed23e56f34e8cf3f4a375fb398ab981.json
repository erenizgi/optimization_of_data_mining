{
    "author": "petebacondarwin",
    "message": "test(compiler-cli): ensure that golden partial files are parsed accurately (#39939)\n\nPreviously files were serialized with an extra newline seperator that\nwas not removed when parsing. This caused the parsed file to start with\nan extra newline that invalidated its source-map.\n\nAlso, the splitting was producing an empty entry at the start of the extracted\ngolden files which is now ignored.\n\nPR Close #39939",
    "sha": "c5ea3d5b0ed23e56f34e8cf3f4a375fb398ab981",
    "files": [
        {
            "sha": "680d7cdf777ba5edc3d154719f0ba4a9bf2e0ac0",
            "filename": "packages/compiler-cli/test/compliance/test_helpers/golden_partials.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/c5ea3d5b0ed23e56f34e8cf3f4a375fb398ab981/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_helpers%2Fgolden_partials.ts",
            "raw_url": "https://github.com/angular/angular/raw/c5ea3d5b0ed23e56f34e8cf3f4a375fb398ab981/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_helpers%2Fgolden_partials.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Ftest_helpers%2Fgolden_partials.ts?ref=c5ea3d5b0ed23e56f34e8cf3f4a375fb398ab981",
            "patch": "@@ -11,15 +11,15 @@ const headerStart =\n     ' * PARTIAL FILE: ';\n \n const headerEnd =\n-    '\\n ****************************************************************************************************/';\n+    '\\n ****************************************************************************************************/\\n';\n \n /**\n  * Render the partially compiled files into a single golden partial output string.\n  *\n  * @param files The partially compiled files to be rendered.\n  */\n export function renderGoldenPartial(files: PartiallyCompiledFile[]): string {\n-  return files.map(file => `${headerStart + file.path + headerEnd}\\n${file.content}`).join('\\n');\n+  return files.map(file => `${headerStart + file.path + headerEnd}${file.content}`).join('\\n');\n }\n \n /**\n@@ -35,7 +35,9 @@ export function parseGoldenPartial(partialContent: string): PartiallyCompiledFil\n   const partials = partialContent.split(headerStart);\n   for (const partial of partials) {\n     const [path, content] = partial.split(headerEnd);\n-    files.push({path, content});\n+    if (path) {\n+      files.push({path, content});\n+    }\n   }\n   return files;\n }"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 5,
        "deletions": 3
    }
}