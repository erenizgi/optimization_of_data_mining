{
    "author": "mhevery",
    "message": "refactor(core): Create `TNodeType.Text` to display full template in `TView` debug (#39233)\n\nWhen looking at `TView` debug template only Element nodes were displayed\nas `TNode.Element` was used for both `RElement` and `RText`.\nAdditionally no text was stored in `TNode.value`. The result was that\nthe whole template could not be reconstructed. This refactoring creates\n`TNodeType.Text` and store the text value in `TNode.value`.\n\nThe refactoring also changes `TNodeType` into flag-like structure make\nit more efficient to check many different types at once.\n\nPR Close #39233",
    "sha": "70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
    "files": [
        {
            "sha": "6497402c5428db22425be9bcbcadf0ab690b75a7",
            "filename": "packages/core/src/debug/debug_node.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Fdebug%2Fdebug_node.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Fdebug%2Fdebug_node.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdebug%2Fdebug_node.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -529,7 +529,7 @@ function _queryNodeChildrenR3(\n   ngDevMode && assertTNodeForLView(tNode, lView);\n   const nativeNode = getNativeByTNodeOrNull(tNode, lView);\n   // For each type of TNode, specific logic is executed.\n-  if (tNode.type === TNodeType.Element || tNode.type === TNodeType.ElementContainer) {\n+  if (tNode.type & (TNodeType.AnyRNode | TNodeType.ElementContainer)) {\n     // Case 1: the TNode is an element\n     // The native node has to be checked.\n     _addQueryMatchR3(nativeNode, predicate, matches, elementsOnly, rootNativeNode);\n@@ -565,14 +565,14 @@ function _queryNodeChildrenR3(\n       _queryNodeChildrenInContainerR3(\n           nodeOrContainer, predicate, matches, elementsOnly, rootNativeNode);\n     }\n-  } else if (tNode.type === TNodeType.Container) {\n+  } else if (tNode.type & TNodeType.Container) {\n     // Case 2: the TNode is a container\n     // The native node has to be checked.\n     const lContainer = lView[tNode.index];\n     _addQueryMatchR3(lContainer[NATIVE], predicate, matches, elementsOnly, rootNativeNode);\n     // Each view inside the container has to be processed.\n     _queryNodeChildrenInContainerR3(lContainer, predicate, matches, elementsOnly, rootNativeNode);\n-  } else if (tNode.type === TNodeType.Projection) {\n+  } else if (tNode.type & TNodeType.Projection) {\n     // Case 3: the TNode is a projection insertion point (i.e. a <ng-content>).\n     // The nodes projected at this location all need to be processed.\n     const componentView = lView![DECLARATION_COMPONENT_VIEW];"
        },
        {
            "sha": "e278b1112b3d68e4d0dad89e232f27037e7691ae",
            "filename": "packages/core/src/render3/di.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -13,7 +13,7 @@ import {injectRootLimpMode, setInjectImplementation} from '../di/injector_compat\n import {getInjectorDef} from '../di/interface/defs';\n import {InjectFlags} from '../di/interface/injector';\n import {Type} from '../interface/type';\n-import {assertDefined, assertEqual, assertIndexInRange, throwError} from '../util/assert';\n+import {assertDefined, assertEqual, assertIndexInRange} from '../util/assert';\n import {noSideEffects} from '../util/closure';\n \n import {assertDirectiveDef, assertNodeInjector, assertTNodeForLView} from './assert';\n@@ -25,7 +25,7 @@ import {isFactory, NO_PARENT_INJECTOR, NodeInjectorFactory, NodeInjectorOffset,\n import {AttributeMarker, TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode, TNode, TNodeProviderIndexes, TNodeType} from './interfaces/node';\n import {isComponentDef, isComponentHost} from './interfaces/type_checks';\n import {DECLARATION_COMPONENT_VIEW, DECLARATION_VIEW, INJECTOR, LView, T_HOST, TData, TVIEW, TView, TViewType} from './interfaces/view';\n-import {assertNodeOfPossibleTypes} from './node_assert';\n+import {assertTNodeType} from './node_assert';\n import {enterDI, leaveDI} from './state';\n import {isNameOnlyAttributeMarker} from './util/attrs_utils';\n import {getParentInjectorIndex, getParentInjectorView, hasParentInjector} from './util/injector_utils';\n@@ -301,9 +301,7 @@ export function diPublicInInjector(\n  * @publicApi\n  */\n export function injectAttributeImpl(tNode: TNode, attrNameToInject: string): string|null {\n-  ngDevMode &&\n-      assertNodeOfPossibleTypes(\n-          tNode, [TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer]);\n+  ngDevMode && assertTNodeType(tNode, TNodeType.AnyContainer | TNodeType.AnyRNode);\n   ngDevMode && assertDefined(tNode, 'expecting tNode');\n   if (attrNameToInject === 'class') {\n     return tNode.classes;\n@@ -506,7 +504,7 @@ function searchTokensOnInjector<T>(\n       // - AND the parent TNode is an Element.\n       // This means that we just came from the Component's View and therefore are allowed to see\n       // into the ViewProviders.\n-      (previousTView != currentTView && (tNode.type === TNodeType.Element));\n+      (previousTView != currentTView && ((tNode.type & TNodeType.AnyRNode) !== 0));\n \n   // This special case happens when there is a @host on the inject and when we are searching\n   // on the host element node."
        },
        {
            "sha": "e123460211cb0b6ed71f068e6c25ac90661d67d9",
            "filename": "packages/core/src/render3/i18n/i18n_apply.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -10,7 +10,7 @@ import {getPluralCase} from '../../i18n/localization';\n import {assertDefined, assertDomNode, assertEqual, assertGreaterThan, assertIndexInRange, throwError} from '../../util/assert';\n import {assertIndexInExpandoRange, assertTIcu} from '../assert';\n import {attachPatchData} from '../context_discovery';\n-import {elementPropertyInternal, setElementAttribute, textBindingInternal} from '../instructions/shared';\n+import {elementPropertyInternal, setElementAttribute} from '../instructions/shared';\n import {COMMENT_MARKER, ELEMENT_MARKER, getCurrentICUCaseIndex, getParentFromI18nMutateOpCode, getRefFromI18nMutateOpCode, I18nCreateOpCode, I18nCreateOpCodes, I18nMutateOpCode, I18nMutateOpCodes, I18nUpdateOpCode, I18nUpdateOpCodes, IcuType, TI18n, TIcu} from '../interfaces/i18n';\n import {TNode} from '../interfaces/node';\n import {RElement, RNode, RText} from '../interfaces/renderer';"
        },
        {
            "sha": "f1b419945f344d915f9e59227237f27db1c37603",
            "filename": "packages/core/src/render3/i18n/i18n_insert_before_index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_insert_before_index.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_insert_before_index.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_insert_before_index.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -63,7 +63,7 @@ export function addTNodeAndUpdateInsertBeforeIndex(previousTNodes: TNode[], newT\n }\n \n function isI18nText(tNode: TNode): boolean {\n-  return tNode.type !== TNodeType.Placeholder;\n+  return !(tNode.type & TNodeType.Placeholder);\n }\n \n function isNewTNodeCreatedBefore(existingTNode: TNode, newTNode: TNode): boolean {"
        },
        {
            "sha": "5f20adde86a865c028d9fa5ede697f63cc2f6d81",
            "filename": "packages/core/src/render3/i18n/i18n_parse.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 6,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_parse.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_parse.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_parse.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -17,7 +17,7 @@ import {loadIcuContainerVisitor} from '../instructions/i18n_icu_container_visito\n import {allocExpando, createTNodeAtIndex, elementAttributeInternal, setInputsForProperty, setNgReflectProperties} from '../instructions/shared';\n import {getDocument} from '../interfaces/document';\n import {COMMENT_MARKER, ELEMENT_MARKER, ensureIcuContainerVisitorLoaded, I18nCreateOpCode, I18nCreateOpCodes, I18nMutateOpCode, i18nMutateOpCode, I18nMutateOpCodes, I18nUpdateOpCode, I18nUpdateOpCodes, IcuExpression, IcuType, TI18n, TIcu} from '../interfaces/i18n';\n-import {TIcuContainerNode, TNode, TNodeType} from '../interfaces/node';\n+import {TNode, TNodeType} from '../interfaces/node';\n import {RComment, RElement} from '../interfaces/renderer';\n import {SanitizerFn} from '../interfaces/sanitization';\n import {HEADER_OFFSET, LView, TView} from '../interfaces/view';\n@@ -152,7 +152,7 @@ export function i18nStartFirstCreatePass(\n  */\n function createTNodeAndAddOpCode(\n     tView: TView, rootTNode: TNode|null, existingTNodes: TNode[], lView: LView,\n-    createOpCodes: I18nCreateOpCodes, text: string, isICU: boolean): TNode {\n+    createOpCodes: I18nCreateOpCodes, text: string|null, isICU: boolean): TNode {\n   const i18nNodeIdx = allocExpando(tView, lView, 1);\n   let opCode = i18nNodeIdx << I18nCreateOpCode.SHIFT;\n   let parentTNode = getCurrentParentTNode();\n@@ -174,9 +174,12 @@ function createTNodeAndAddOpCode(\n     opCode |= I18nCreateOpCode.COMMENT;\n     ensureIcuContainerVisitorLoaded(loadIcuContainerVisitor);\n   }\n-  createOpCodes.push(opCode, text);\n+  createOpCodes.push(opCode, text === null ? '' : text);\n+  // We store `{{?}}` so that when looking at debug `TNodeType.template` we can see where the\n+  // bindings are.\n   const tNode = createTNodeAtIndex(\n-      tView, i18nNodeIdx, isICU ? TNodeType.IcuContainer : TNodeType.Element, null, null);\n+      tView, i18nNodeIdx, isICU ? TNodeType.Icu : TNodeType.Text,\n+      text === null ? (ngDevMode ? '{{?}}' : '') : text, null);\n   addTNodeAndUpdateInsertBeforeIndex(existingTNodes, tNode);\n   const tNodeIdx = tNode.index;\n   setCurrentTNode(tNode, false /* Text nodes are self closing */);\n@@ -212,7 +215,7 @@ function i18nStartFirstCreatePassProcessTextNode(\n     updateOpCodes: I18nUpdateOpCodes, lView: LView, text: string): void {\n   const hasBinding = text.match(BINDING_REGEXP);\n   const tNode = createTNodeAndAddOpCode(\n-      tView, rootTNode, existingTNodes, lView, createOpCodes, hasBinding ? '' : text, false);\n+      tView, rootTNode, existingTNodes, lView, createOpCodes, hasBinding ? null : text, false);\n   if (hasBinding) {\n     generateBindingUpdateOpCodes(updateOpCodes, text, tNode.index);\n   }\n@@ -251,7 +254,7 @@ export function i18nAttributesFirstPass(\n           const tNode = getTNode(tView, previousElementIndex - HEADER_OFFSET);\n           // Set attributes for Elements only, for other types (like ElementContainer),\n           // only set inputs below\n-          if (tNode.type === TNodeType.Element) {\n+          if (tNode.type & TNodeType.AnyRNode) {\n             elementAttributeInternal(tNode, lView, attrName, value, null, null);\n           }\n           // Check if that attribute is a directive input"
        },
        {
            "sha": "cfdd9ea77bc9f9c51d6c4c02dde196797bd70a60",
            "filename": "packages/core/src/render3/i18n/i18n_util.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_util.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_util.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_util.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -12,7 +12,7 @@ import {createTNodeAtIndex} from '../instructions/shared';\n import {TIcu} from '../interfaces/i18n';\n import {TIcuContainerNode, TNode, TNodeType} from '../interfaces/node';\n import {TView} from '../interfaces/view';\n-import {assertNodeType} from '../node_assert';\n+import {assertTNodeType} from '../node_assert';\n import {addTNodeAndUpdateInsertBeforeIndex} from './i18n_insert_before_index';\n \n \n@@ -69,7 +69,7 @@ export function setTIcu(tView: TView, index: number, tIcu: TIcu): void {\n   if (tNode === null) {\n     tView.data[index] = tIcu;\n   } else {\n-    ngDevMode && assertNodeType(tNode, TNodeType.IcuContainer);\n+    ngDevMode && assertTNodeType(tNode, TNodeType.Icu);\n     tNode.value = tIcu;\n   }\n }"
        },
        {
            "sha": "4bfbe80d6ce32aa68ecd8c4be7dd4032a1c36335",
            "filename": "packages/core/src/render3/instructions/element.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -14,7 +14,7 @@ import {hasClassInput, hasStyleInput, TAttributes, TElementNode, TNode, TNodeFla\n import {RElement} from '../interfaces/renderer';\n import {isContentQueryHost, isDirectiveHost} from '../interfaces/type_checks';\n import {HEADER_OFFSET, LView, RENDERER, TView} from '../interfaces/view';\n-import {assertNodeType} from '../node_assert';\n+import {assertTNodeType} from '../node_assert';\n import {appendChild, createElementNode, writeDirectClass, writeDirectStyle} from '../node_manipulation';\n import {decreaseElementDepthCount, getBindingIndex, getCurrentTNode, getElementDepthCount, getLView, getNamespace, getTView, increaseElementDepthCount, isCurrentTNodeParent, setCurrentTNode, setCurrentTNodeAsNotParent} from '../state';\n import {computeStaticStyling} from '../styling/static_styling';\n@@ -24,6 +24,7 @@ import {setDirectiveInputsWhichShadowsStyling} from './property';\n import {createDirectivesInstances, executeContentQueries, getOrCreateTNode, matchingSchemas, resolveDirectives, saveResolvedLocalsInData} from './shared';\n \n \n+\n function elementStartFirstCreatePass(\n     index: number, tView: TView, lView: LView, native: RElement, name: string,\n     attrsIndex?: number|null, localRefsIndex?: number): TElementNode {\n@@ -140,7 +141,7 @@ export function ɵɵelementEnd(): void {\n   }\n \n   const tNode = currentTNode;\n-  ngDevMode && assertNodeType(tNode, TNodeType.Element);\n+  ngDevMode && assertTNodeType(tNode, TNodeType.AnyRNode);\n \n \n   decreaseElementDepthCount();"
        },
        {
            "sha": "f8288a0d0bbe842e939c1f496c3a0a1010290caa",
            "filename": "packages/core/src/render3/instructions/element_container.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -12,7 +12,7 @@ import {registerPostOrderHooks} from '../hooks';\n import {TAttributes, TElementContainerNode, TNodeType} from '../interfaces/node';\n import {isContentQueryHost, isDirectiveHost} from '../interfaces/type_checks';\n import {HEADER_OFFSET, LView, RENDERER, T_HOST, TView} from '../interfaces/view';\n-import {assertNodeType} from '../node_assert';\n+import {assertTNodeType} from '../node_assert';\n import {appendChild} from '../node_manipulation';\n import {getBindingIndex, getCurrentTNode, getLView, getTView, isCurrentTNodeParent, setCurrentTNode, setCurrentTNodeAsNotParent} from '../state';\n import {computeStaticStyling} from '../styling/static_styling';\n@@ -108,7 +108,7 @@ export function ɵɵelementContainerEnd(): void {\n     setCurrentTNode(currentTNode, false);\n   }\n \n-  ngDevMode && assertNodeType(currentTNode, TNodeType.ElementContainer);\n+  ngDevMode && assertTNodeType(currentTNode, TNodeType.ElementContainer);\n \n   if (tView.firstCreatePass) {\n     registerPostOrderHooks(tView, currentTNode);"
        },
        {
            "sha": "a8319b08de054e0e482c31469bcdbc7fdb4f6768",
            "filename": "packages/core/src/render3/instructions/i18n.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fi18n.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fi18n.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fi18n.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -62,7 +62,7 @@ export function ɵɵi18nStart(\n   const parentRNode = getClosestRElement(tView, sameViewParentTNode, lView);\n   // If `parentTNode` is an `ElementContainer` than it has `<!--ng-container--->`.\n   // When we do inserts we have to make sure to insert in front of `<!--ng-container--->`.\n-  const insertInFrontOf = parentTNode && parentTNode.type === TNodeType.ElementContainer ?\n+  const insertInFrontOf = parentTNode && (parentTNode.type & TNodeType.ElementContainer) ?\n       lView[parentTNode.index] :\n       null;\n   applyCreateOpCodes(lView, tI18n.create, parentRNode, insertInFrontOf);"
        },
        {
            "sha": "9176a72c25527b32f3ad145ee030a4bd2d7b18f0",
            "filename": "packages/core/src/render3/instructions/listener.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -14,7 +14,7 @@ import {PropertyAliasValue, TNode, TNodeFlags, TNodeType} from '../interfaces/no\n import {GlobalTargetResolver, isProceduralRenderer, RElement, Renderer3} from '../interfaces/renderer';\n import {isDirectiveHost} from '../interfaces/type_checks';\n import {CLEANUP, FLAGS, LView, LViewFlags, RENDERER, TView} from '../interfaces/view';\n-import {assertNodeOfPossibleTypes} from '../node_assert';\n+import {assertTNodeType} from '../node_assert';\n import {getCurrentDirectiveDef, getCurrentTNode, getLView, getTView} from '../state';\n import {getComponentLViewByIndex, getNativeByTNode, unwrapRNode} from '../util/view_utils';\n \n@@ -126,14 +126,12 @@ function listenerInternal(\n   // register a listener and store its cleanup function on LView.\n   const lCleanup = getLCleanup(lView);\n \n-  ngDevMode &&\n-      assertNodeOfPossibleTypes(\n-          tNode, [TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer]);\n+  ngDevMode && assertTNodeType(tNode, TNodeType.AnyRNode | TNodeType.AnyContainer);\n \n   let processOutputs = true;\n \n   // add native event listener - applicable to elements only\n-  if (tNode.type === TNodeType.Element) {\n+  if (tNode.type & TNodeType.AnyRNode) {\n     const native = getNativeByTNode(tNode, lView) as RElement;\n     const resolved = eventTargetResolver ? eventTargetResolver(native) : EMPTY_OBJ as any;\n     const target = resolved.target || native;"
        },
        {
            "sha": "421a6cd04d60bf7d70bf891128748b1ee45f7467",
            "filename": "packages/core/src/render3/instructions/lview_debug.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flview_debug.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flview_debug.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flview_debug.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -17,7 +17,7 @@ import {getInjectorIndex} from '../di';\n import {CONTAINER_HEADER_OFFSET, HAS_TRANSPLANTED_VIEWS, LContainer, MOVED_VIEWS, NATIVE} from '../interfaces/container';\n import {ComponentTemplate, DirectiveDef, DirectiveDefList, PipeDefList, ViewQueriesFunction} from '../interfaces/definition';\n import {NO_PARENT_INJECTOR, NodeInjectorOffset} from '../interfaces/injector';\n-import {AttributeMarker, InsertBeforeIndex, PropertyAliases, TConstants, TContainerNode, TElementNode, TNode as ITNode, TNodeFlags, TNodeProviderIndexes, TNodeType, TNodeTypeAsString} from '../interfaces/node';\n+import {AttributeMarker, InsertBeforeIndex, PropertyAliases, TConstants, TContainerNode, TElementNode, TNode as ITNode, TNodeFlags, TNodeProviderIndexes, TNodeType, toTNodeTypeAsString} from '../interfaces/node';\n import {SelectorFlags} from '../interfaces/projection';\n import {LQueries, TQueries} from '../interfaces/query';\n import {RComment, RElement, Renderer3, RendererFactory3, RNode} from '../interfaces/renderer';\n@@ -239,7 +239,7 @@ class TNode implements ITNode {\n   }\n \n   get type_(): string {\n-    return TNodeTypeAsString[this.type] || `TNodeType.?${this.type}?`;\n+    return toTNodeTypeAsString(this.type) || `TNodeType.?${this.type}?`;\n   }\n \n   get flags_(): string {\n@@ -256,7 +256,7 @@ class TNode implements ITNode {\n   }\n \n   get template_(): string {\n-    if (this.value === null && this.type === TNodeType.Element) return '#text';\n+    if (this.type & TNodeType.Text) return this.value!;\n     const buf: string[] = [];\n     const tagName = typeof this.value === 'string' && this.value || this.type_;\n     buf.push('<', tagName);\n@@ -594,7 +594,7 @@ export function buildDebugNode(tNode: ITNode, lView: LView): DebugNode {\n   }\n   return {\n     html: toHtml(native),\n-    type: TNodeTypeAsString[tNode.type],\n+    type: toTNodeTypeAsString(tNode.type),\n     native: native as any,\n     children: toDebugNodes(tNode.child, lView),\n     factories,"
        },
        {
            "sha": "2ea07375b82b3a3574d04fd48362fb4bb4cfcaa1",
            "filename": "packages/core/src/render3/instructions/shared.ts",
            "status": "modified",
            "additions": 54,
            "deletions": 54,
            "changes": 108,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -5,43 +5,44 @@\n  * Use of this source code is governed by an MIT-style license that can be\n  * found in the LICENSE file at https://angular.io/license\n  */\n-import { Injector } from '../../di';\n-import { ErrorHandler } from '../../error_handler';\n-import { DoCheck, OnChanges, OnInit } from '../../interface/lifecycle_hooks';\n-import { CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA, SchemaMetadata } from '../../metadata/schema';\n-import { ViewEncapsulation } from '../../metadata/view';\n-import { validateAgainstEventAttributes, validateAgainstEventProperties } from '../../sanitization/sanitization';\n-import { Sanitizer } from '../../sanitization/sanitizer';\n-import { assertDefined, assertDomNode, assertEqual, assertGreaterThan, assertIndexInRange, assertLessThan, assertNotEqual, assertNotSame, assertSame, assertString } from '../../util/assert';\n-import { createNamedArrayType } from '../../util/named_array_type';\n-import { initNgDevMode } from '../../util/ng_dev_mode';\n-import { normalizeDebugBindingName, normalizeDebugBindingValue } from '../../util/ng_reflect';\n-import { stringify } from '../../util/stringify';\n-import { assertFirstCreatePass, assertFirstUpdatePass, assertLContainer, assertLView, assertTNodeForLView, assertTNodeForTView } from '../assert';\n-import { attachPatchData } from '../context_discovery';\n-import { getFactoryDef } from '../definition';\n-import { diPublicInInjector, getNodeInjectable, getOrCreateNodeInjectorForNode } from '../di';\n-import { throwMultipleComponentError } from '../errors';\n-import { executeCheckHooks, executeInitAndCheckHooks, incrementInitPhaseFlags } from '../hooks';\n-import { CONTAINER_HEADER_OFFSET, HAS_TRANSPLANTED_VIEWS, LContainer, MOVED_VIEWS } from '../interfaces/container';\n-import { ComponentDef, ComponentTemplate, DirectiveDef, DirectiveDefListOrFactory, PipeDefListOrFactory, RenderFlags, ViewQueriesFunction } from '../interfaces/definition';\n-import { NodeInjectorFactory, NodeInjectorOffset } from '../interfaces/injector';\n-import { AttributeMarker, InitialInputData, InitialInputs, LocalRefExtractor, PropertyAliases, PropertyAliasValue, TAttributes, TConstantsOrFactory, TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode, TIcuContainerNode, TNode, TNodeFlags, TNodeProviderIndexes, TNodeType, TProjectionNode } from '../interfaces/node';\n-import { isProceduralRenderer, RComment, RElement, Renderer3, RendererFactory3, RNode, RText } from '../interfaces/renderer';\n-import { SanitizerFn } from '../interfaces/sanitization';\n-import { isComponentDef, isComponentHost, isContentQueryHost, isRootView } from '../interfaces/type_checks';\n-import { CHILD_HEAD, CHILD_TAIL, CLEANUP, CONTEXT, DECLARATION_COMPONENT_VIEW, DECLARATION_VIEW, FLAGS, HEADER_OFFSET, HOST, InitPhaseState, INJECTOR, LView, LViewFlags, NEXT, PARENT, RENDERER, RENDERER_FACTORY, RootContext, RootContextFlags, SANITIZER, TData, TRANSPLANTED_VIEWS_TO_REFRESH, TVIEW, TView, TViewType, T_HOST } from '../interfaces/view';\n-import { assertNodeNotOfTypes, assertNodeOfPossibleTypes } from '../node_assert';\n-import { updateTextNode } from '../node_manipulation';\n-import { isInlineTemplate, isNodeMatchingSelectorList } from '../node_selector_matcher';\n-import { enterView, getBindingsEnabled, getCurrentDirectiveIndex, getCurrentParentTNode, getCurrentTNode, getCurrentTNodePlaceholderOk, getSelectedIndex, isCurrentTNodeParent, isInCheckNoChangesMode, isInI18nBlock, leaveView, setBindingIndex, setBindingRootForHostBindings, setCurrentDirectiveIndex, setCurrentQueryIndex, setCurrentTNode, setIsInCheckNoChangesMode, setSelectedIndex } from '../state';\n-import { NO_CHANGE } from '../tokens';\n-import { isAnimationProp, mergeHostAttrs } from '../util/attrs_utils';\n-import { INTERPOLATION_DELIMITER, renderStringify, stringifyForError } from '../util/misc_utils';\n-import { getFirstLContainer, getLViewParent, getNextLContainer } from '../util/view_traversal_utils';\n-import { getComponentLViewByIndex, getNativeByIndex, getNativeByTNode, isCreationMode, readPatchedLView, resetPreOrderHookFlags, unwrapLView, updateTransplantedViewCount, viewAttachedToChangeDetector } from '../util/view_utils';\n-import { selectIndexInternal } from './advance';\n-import { attachLContainerDebug, attachLViewDebug, cloneToLViewFromTViewBlueprint, cloneToTViewData, LCleanup, LViewBlueprint, MatchesArray, TCleanup, TNodeDebug, TNodeInitialInputs, TNodeLocalNames, TViewComponents, TViewConstructor } from './lview_debug';\n+import {Injector} from '../../di';\n+import {ErrorHandler} from '../../error_handler';\n+import {DoCheck, OnChanges, OnInit} from '../../interface/lifecycle_hooks';\n+import {CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA, SchemaMetadata} from '../../metadata/schema';\n+import {ViewEncapsulation} from '../../metadata/view';\n+import {validateAgainstEventAttributes, validateAgainstEventProperties} from '../../sanitization/sanitization';\n+import {Sanitizer} from '../../sanitization/sanitizer';\n+import {assertDefined, assertDomNode, assertEqual, assertGreaterThan, assertIndexInRange, assertLessThan, assertNotEqual, assertNotSame, assertSame, assertString} from '../../util/assert';\n+import {createNamedArrayType} from '../../util/named_array_type';\n+import {initNgDevMode} from '../../util/ng_dev_mode';\n+import {normalizeDebugBindingName, normalizeDebugBindingValue} from '../../util/ng_reflect';\n+import {stringify} from '../../util/stringify';\n+import {assertFirstCreatePass, assertFirstUpdatePass, assertLContainer, assertLView, assertTNodeForLView, assertTNodeForTView} from '../assert';\n+import {attachPatchData} from '../context_discovery';\n+import {getFactoryDef} from '../definition';\n+import {diPublicInInjector, getNodeInjectable, getOrCreateNodeInjectorForNode} from '../di';\n+import {throwMultipleComponentError} from '../errors';\n+import {executeCheckHooks, executeInitAndCheckHooks, incrementInitPhaseFlags} from '../hooks';\n+import {CONTAINER_HEADER_OFFSET, HAS_TRANSPLANTED_VIEWS, LContainer, MOVED_VIEWS} from '../interfaces/container';\n+import {ComponentDef, ComponentTemplate, DirectiveDef, DirectiveDefListOrFactory, PipeDefListOrFactory, RenderFlags, ViewQueriesFunction} from '../interfaces/definition';\n+import {NodeInjectorFactory, NodeInjectorOffset} from '../interfaces/injector';\n+import {AttributeMarker, InitialInputData, InitialInputs, LocalRefExtractor, PropertyAliases, PropertyAliasValue, TAttributes, TConstantsOrFactory, TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode, TIcuContainerNode, TNode, TNodeFlags, TNodeProviderIndexes, TNodeType, TProjectionNode} from '../interfaces/node';\n+import {isProceduralRenderer, RComment, RElement, Renderer3, RendererFactory3, RNode, RText} from '../interfaces/renderer';\n+import {SanitizerFn} from '../interfaces/sanitization';\n+import {isComponentDef, isComponentHost, isContentQueryHost, isRootView} from '../interfaces/type_checks';\n+import {CHILD_HEAD, CHILD_TAIL, CLEANUP, CONTEXT, DECLARATION_COMPONENT_VIEW, DECLARATION_VIEW, FLAGS, HEADER_OFFSET, HOST, InitPhaseState, INJECTOR, LView, LViewFlags, NEXT, PARENT, RENDERER, RENDERER_FACTORY, RootContext, RootContextFlags, SANITIZER, T_HOST, TData, TRANSPLANTED_VIEWS_TO_REFRESH, TVIEW, TView, TViewType} from '../interfaces/view';\n+import {assertPureTNodeType, assertTNodeType} from '../node_assert';\n+import {updateTextNode} from '../node_manipulation';\n+import {isInlineTemplate, isNodeMatchingSelectorList} from '../node_selector_matcher';\n+import {enterView, getBindingsEnabled, getCurrentDirectiveIndex, getCurrentParentTNode, getCurrentTNode, getCurrentTNodePlaceholderOk, getSelectedIndex, isCurrentTNodeParent, isInCheckNoChangesMode, isInI18nBlock, leaveView, setBindingIndex, setBindingRootForHostBindings, setCurrentDirectiveIndex, setCurrentQueryIndex, setCurrentTNode, setIsInCheckNoChangesMode, setSelectedIndex} from '../state';\n+import {NO_CHANGE} from '../tokens';\n+import {isAnimationProp, mergeHostAttrs} from '../util/attrs_utils';\n+import {INTERPOLATION_DELIMITER, renderStringify, stringifyForError} from '../util/misc_utils';\n+import {getFirstLContainer, getLViewParent, getNextLContainer} from '../util/view_traversal_utils';\n+import {getComponentLViewByIndex, getNativeByIndex, getNativeByTNode, isCreationMode, readPatchedLView, resetPreOrderHookFlags, unwrapLView, updateTransplantedViewCount, viewAttachedToChangeDetector} from '../util/view_utils';\n+\n+import {selectIndexInternal} from './advance';\n+import {attachLContainerDebug, attachLViewDebug, cloneToLViewFromTViewBlueprint, cloneToTViewData, LCleanup, LViewBlueprint, MatchesArray, TCleanup, TNodeDebug, TNodeInitialInputs, TNodeLocalNames, TViewComponents, TViewConstructor} from './lview_debug';\n \n \n \n@@ -196,7 +197,7 @@ export function createLView<T>(\n  * @param attrs Any attrs for the native element, if applicable\n  */\n export function getOrCreateTNode(\n-    tView: TView, index: number, type: TNodeType.Element, name: string|null,\n+    tView: TView, index: number, type: TNodeType.Element|TNodeType.Text, name: string|null,\n     attrs: TAttributes|null): TElementNode;\n export function getOrCreateTNode(\n     tView: TView, index: number, type: TNodeType.Container, name: string|null,\n@@ -208,12 +209,13 @@ export function getOrCreateTNode(\n     tView: TView, index: number, type: TNodeType.ElementContainer, name: string|null,\n     attrs: TAttributes|null): TElementContainerNode;\n export function getOrCreateTNode(\n-    tView: TView, index: number, type: TNodeType.IcuContainer, name: null,\n+    tView: TView, index: number, type: TNodeType.Icu, name: null,\n     attrs: TAttributes|null): TElementContainerNode;\n export function getOrCreateTNode(\n     tView: TView, index: number, type: TNodeType, name: string|null, attrs: TAttributes|null):\n     TElementNode&TContainerNode&TElementContainerNode&TProjectionNode&TIcuContainerNode {\n   // Keep this function short, so that the VM will inline it.\n+  ngDevMode && assertPureTNodeType(type);\n   const adjustedIndex = index + HEADER_OFFSET;\n   let tNode = tView.data[adjustedIndex] as TNode;\n   if (tNode === null) {\n@@ -225,7 +227,7 @@ export function getOrCreateTNode(\n       // removed, so we mark it as detached.\n       tNode.flags |= TNodeFlags.isDetached;\n     }\n-  } else if (tNode.type == TNodeType.Placeholder) {\n+  } else if (tNode.type & TNodeType.Placeholder) {\n     tNode.type = type;\n     tNode.value = name;\n     tNode.attrs = attrs;\n@@ -818,13 +820,13 @@ export function createTNode(\n     tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.Container,\n     adjustedIndex: number, tagName: string|null, attrs: TAttributes|null): TContainerNode;\n export function createTNode(\n-    tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.Element,\n+    tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.Element|TNodeType.Text,\n     adjustedIndex: number, tagName: string|null, attrs: TAttributes|null): TElementNode;\n export function createTNode(\n     tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.ElementContainer,\n     adjustedIndex: number, tagName: string|null, attrs: TAttributes|null): TElementContainerNode;\n export function createTNode(\n-    tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.IcuContainer,\n+    tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.Icu,\n     adjustedIndex: number, tagName: string|null, attrs: TAttributes|null): TIcuContainerNode;\n export function createTNode(\n     tView: TView, tParent: TElementNode|TContainerNode|null, type: TNodeType.Projection,\n@@ -1012,7 +1014,7 @@ export function elementPropertyInternal<T>(\n     if (ngDevMode) {\n       setNgReflectProperties(lView, element, tNode.type, dataValue, value);\n     }\n-  } else if (tNode.type === TNodeType.Element) {\n+  } else if (tNode.type & TNodeType.AnyRNode) {\n     propName = mapPropName(propName);\n \n     if (ngDevMode) {\n@@ -1034,7 +1036,7 @@ export function elementPropertyInternal<T>(\n       (element as RElement).setProperty ? (element as any).setProperty(propName, value) :\n                                           (element as any)[propName] = value;\n     }\n-  } else if (tNode.type === TNodeType.Container || tNode.type === TNodeType.ElementContainer) {\n+  } else if (tNode.type & TNodeType.AnyContainer) {\n     // If the node is a container and the property didn't\n     // match any of the inputs or schemas we should throw.\n     if (ngDevMode && !matchingSchemas(tView, tNode.value)) {\n@@ -1057,7 +1059,7 @@ function setNgReflectProperty(\n   const renderer = lView[RENDERER];\n   attrName = normalizeDebugBindingName(attrName);\n   const debugValue = normalizeDebugBindingValue(value);\n-  if (type === TNodeType.Element) {\n+  if (type & TNodeType.AnyRNode) {\n     if (value == null) {\n       isProceduralRenderer(renderer) ? renderer.removeAttribute((element as RElement), attrName) :\n                                        (element as RElement).removeAttribute(attrName);\n@@ -1079,7 +1081,7 @@ function setNgReflectProperty(\n export function setNgReflectProperties(\n     lView: LView, element: RElement|RComment, type: TNodeType, dataValue: PropertyAliasValue,\n     value: any) {\n-  if (type === TNodeType.Element || type === TNodeType.Container) {\n+  if (type & (TNodeType.AnyRNode | TNodeType.Container)) {\n     /**\n      * dataValue is an array containing runtime input or output names for the directives:\n      * i+0: directive instance index\n@@ -1300,7 +1302,7 @@ function instantiateAllDirectives(\n     const isComponent = isComponentDef(def);\n \n     if (isComponent) {\n-      ngDevMode && assertNodeOfPossibleTypes(tNode, [TNodeType.Element]);\n+      ngDevMode && assertTNodeType(tNode, TNodeType.AnyRNode);\n       addComponentLogic(lView, tNode as TElementNode, def as ComponentDef<any>);\n     }\n \n@@ -1386,9 +1388,7 @@ function findDirectiveDefMatches(\n     tView: TView, viewData: LView,\n     tNode: TElementNode|TContainerNode|TElementContainerNode): DirectiveDef<any>[]|null {\n   ngDevMode && assertFirstCreatePass(tView);\n-  ngDevMode &&\n-      assertNodeOfPossibleTypes(\n-          tNode, [TNodeType.Element, TNodeType.ElementContainer, TNodeType.Container]);\n+  ngDevMode && assertTNodeType(tNode, TNodeType.AnyRNode | TNodeType.AnyContainer);\n \n   const registry = tView.directiveRegistry;\n   let matches: any[]|null = null;\n@@ -1401,8 +1401,8 @@ function findDirectiveDefMatches(\n \n         if (isComponentDef(def)) {\n           if (ngDevMode) {\n-            assertNodeOfPossibleTypes(\n-                tNode, [TNodeType.Element],\n+            assertTNodeType(\n+                tNode, TNodeType.Element,\n                 `\"${tNode.value}\" tags cannot be used as component hosts. ` +\n                     `Please use a different tag to activate the ${stringify(def.type)} component.`);\n \n@@ -1518,8 +1518,8 @@ export function elementAttributeInternal(\n   if (ngDevMode) {\n     assertNotSame(value, NO_CHANGE as any, 'Incoming value should never be NO_CHANGE.');\n     validateAgainstEventAttributes(name);\n-    assertNodeNotOfTypes(\n-        tNode, [TNodeType.Container, TNodeType.ElementContainer],\n+    assertTNodeType(\n+        tNode, TNodeType.Element,\n         `Attempted to set attribute \\`${name}\\` on a container node. ` +\n             `Host bindings are not valid on ng-container or ng-template.`);\n   }"
        },
        {
            "sha": "e956e9a6e5c87e33deca7e793b673f8771b6003e",
            "filename": "packages/core/src/render3/instructions/styling.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fstyling.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fstyling.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fstyling.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -705,7 +705,7 @@ function updateStylingMap(\n function updateStyling(\n     tView: TView, tNode: TNode, lView: LView, renderer: Renderer3, prop: string,\n     value: string|undefined|null|boolean, isClassBased: boolean, bindingIndex: number) {\n-  if (tNode.type !== TNodeType.Element) {\n+  if (!(tNode.type & TNodeType.AnyRNode)) {\n     // It is possible to have styling on non-elements (such as ng-container).\n     // This is rare, but it does happen. In such a case, just ignore the binding.\n     return;"
        },
        {
            "sha": "f834fc7dbe5e27b3d7e86813c0e14fc0517152d4",
            "filename": "packages/core/src/render3/instructions/text.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -35,7 +35,7 @@ export function ɵɵtext(index: number, value: string = ''): void {\n   ngDevMode && assertIndexInRange(lView, adjustedIndex);\n \n   const tNode = tView.firstCreatePass ?\n-      getOrCreateTNode(tView, index, TNodeType.Element, null, null) :\n+      getOrCreateTNode(tView, index, TNodeType.Text, value, null) :\n       tView.data[adjustedIndex] as TElementNode;\n \n   const textNative = lView[adjustedIndex] = createTextNode(lView[RENDERER], value);"
        },
        {
            "sha": "f01f9d37a46ad7d140e627e20f049c900cfde633",
            "filename": "packages/core/src/render3/interfaces/node.ts",
            "status": "modified",
            "additions": 84,
            "deletions": 55,
            "changes": 139,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fnode.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fnode.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fnode.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -15,30 +15,47 @@ import {LView, TView} from './view';\n \n /**\n  * TNodeType corresponds to the {@link TNode} `type` property.\n+ *\n+ * NOTE: type IDs are such that we use each bit to denote a type. This is done so that we can easily\n+ * check if the `TNode` is of more than one type.\n+ *\n+ * `if (tNode.type === TNodeType.Text || tNode.type === TNode.Element)`\n+ * can be written as:\n+ * `if (tNode.type & (TNodeType.Text | TNodeType.Element))`\n+ *\n+ * However any given `TNode` can only be of one type.\n  */\n export const enum TNodeType {\n-  // FIXME(misko): Add `Text` type so that it would be much easier to reason/debug about `TNode`s.\n   /**\n-   * The TNode contains information about an {@link LContainer} for embedded views.\n+   * The TNode contains information about a DOM element aka {@link RText}.\n    */\n-  // FIXME(misko): Verify that we still need a `Container`, at the very least update the text.\n-  Container = 0,\n+  Text = 0b1,\n+\n   /**\n-   * The TNode contains information about an `<ng-content>` projection\n+   * The TNode contains information about a DOM element aka {@link RElement}.\n    */\n-  Projection = 1,\n+  Element = 0b10,\n+\n   /**\n-   * The TNode contains information about a DOM element aka {@link RNode}.\n+   * The TNode contains information about an {@link LContainer} for embedded views.\n    */\n-  Element = 2,\n+  Container = 0b100,\n+\n   /**\n    * The TNode contains information about an `<ng-container>` element {@link RNode}.\n    */\n-  ElementContainer = 3,\n+  ElementContainer = 0b1000,\n+\n+  /**\n+   * The TNode contains information about an `<ng-content>` projection\n+   */\n+  Projection = 0b10000,\n+\n   /**\n    * The TNode contains information about an ICU comment used in `i18n`.\n    */\n-  IcuContainer = 4,\n+  Icu = 0b100000,\n+\n   /**\n    * Special node type representing a placeholder for future `TNode` at this location.\n    *\n@@ -52,22 +69,31 @@ export const enum TNodeType {\n    * location. Seeing a `Placeholder` `TNode` already there tells the system that it should reuse\n    * existing `TNode` (rather than create a new one) and just update the missing information.\n    */\n-  Placeholder = 5,\n+  Placeholder = 0b1000000,\n+\n+  // Combined Types These should never be used for `TNode.type` only as a useful way to check\n+  // if `TNode.type` is one of several choices.\n+\n+  // See: https://github.com/microsoft/TypeScript/issues/35875 why we can't refer to existing enum.\n+  AnyRNode = 0b11,        // Text | Element,\n+  AnyContainer = 0b1100,  // Container | ElementContainer, // See:\n }\n \n /**\n  * Converts `TNodeType` into human readable text.\n  * Make sure this matches with `TNodeType`\n  */\n-export const TNodeTypeAsString = [\n-  'Container',         // 0\n-  'Projection',        // 1\n-  'Element',           // 2\n-  'ElementContainer',  // 3\n-  'IcuContainer',      // 4\n-  'Placeholder',       // 5\n-] as const;\n-\n+export function toTNodeTypeAsString(tNodeType: TNodeType): string {\n+  let text = '';\n+  (tNodeType & TNodeType.Text) && (text += '|Text');\n+  (tNodeType & TNodeType.Element) && (text += '|Element');\n+  (tNodeType & TNodeType.Container) && (text += '|Container');\n+  (tNodeType & TNodeType.ElementContainer) && (text += '|ElementContainer');\n+  (tNodeType & TNodeType.Projection) && (text += '|Projection');\n+  (tNodeType & TNodeType.Icu) && (text += '|IcuContainer');\n+  (tNodeType & TNodeType.Placeholder) && (text += '|Placeholder');\n+  return text.length > 0 ? text.substring(1) : text;\n+}\n \n /**\n  * Corresponds to the TNode.flags property.\n@@ -223,7 +249,8 @@ export const enum AttributeMarker {\n   Template = 4,\n \n   /**\n-   * Signals that the following attribute is `ngProjectAs` and its value is a parsed `CssSelector`.\n+   * Signals that the following attribute is `ngProjectAs` and its value is a parsed\n+   * `CssSelector`.\n    *\n    * For example, given the following HTML:\n    *\n@@ -273,10 +300,10 @@ export type TAttributes = (string|AttributeMarker|CssSelector)[];\n export type TConstants = (TAttributes|string)[];\n \n /**\n- * Factory function that returns an array of consts. Consts can be represented as a function in case\n- * any additional statements are required to define consts in the list. An example is i18n where\n- * additional i18n calls are generated, which should be executed when consts are requested for the\n- * first time.\n+ * Factory function that returns an array of consts. Consts can be represented as a function in\n+ * case any additional statements are required to define consts in the list. An example is i18n\n+ * where additional i18n calls are generated, which should be executed when consts are requested\n+ * for the first time.\n  */\n export type TConstantsFactory = () => TConstants;\n \n@@ -332,8 +359,8 @@ export interface TNode {\n    * nodes. It can also insert `Hello ` and `!` text node as a child of `<div>`, but it can't\n    * insert `World` because the `<span>` node has not yet been created. In such a case the\n    * `<span>` `TNode` will have an array which will direct the `<span>` to not only insert\n-   * itself in front of `!` but also to insert the `World` (created by `ɵɵi18nStart`) into `<span>`\n-   * itself.\n+   * itself in front of `!` but also to insert the `World` (created by `ɵɵi18nStart`) into\n+   * `<span>` itself.\n    *\n    * Pseudo code:\n    * ```\n@@ -369,10 +396,11 @@ export interface TNode {\n    *\n    * If the index === -1, there is no injector on this node or any ancestor node in this view.\n    *\n-   * If the index !== -1, it is the index of this node's injector OR the index of a parent injector\n-   * in the same view. We pass the parent injector index down the node tree of a view so it's\n-   * possible to find the parent injector without walking a potentially deep node tree. Injector\n-   * indices are not set across view boundaries because there could be multiple component hosts.\n+   * If the index !== -1, it is the index of this node's injector OR the index of a parent\n+   * injector in the same view. We pass the parent injector index down the node tree of a view so\n+   * it's possible to find the parent injector without walking a potentially deep node tree.\n+   * Injector indices are not set across view boundaries because there could be multiple component\n+   * hosts.\n    *\n    * If tNode.injectorIndex === tNode.parent.injectorIndex, then the index belongs to a parent\n    * injector.\n@@ -398,8 +426,8 @@ export interface TNode {\n    *\n    * Valid values are:\n    * - `-1` No `hostBindings` instruction has executed.\n-   * - `directiveStart <= directiveStylingLast < directiveEnd`: Points to the `DirectiveDef` of the\n-   *   last styling instruction which executed in the `hostBindings`.\n+   * - `directiveStart <= directiveStylingLast < directiveEnd`: Points to the `DirectiveDef` of\n+   * the last styling instruction which executed in the `hostBindings`.\n    *\n    * This data is needed so that styling instructions know which static styling data needs to be\n    * collected from the `DirectiveDef.hostAttrs`. A styling instruction needs to collect all data\n@@ -408,13 +436,14 @@ export interface TNode {\n   directiveStylingLast: number;\n \n   /**\n-   * Stores indexes of property bindings. This field is only set in the ngDevMode and holds indexes\n-   * of property bindings so TestBed can get bound property metadata for a given node.\n+   * Stores indexes of property bindings. This field is only set in the ngDevMode and holds\n+   * indexes of property bindings so TestBed can get bound property metadata for a given node.\n    */\n   propertyBindings: number[]|null;\n \n   /**\n-   * Stores if Node isComponent, isProjected, hasContentQuery, hasClassInput and hasStyleInput etc.\n+   * Stores if Node isComponent, isProjected, hasContentQuery, hasClassInput and hasStyleInput\n+   * etc.\n    */\n   flags: TNodeFlags;\n \n@@ -437,8 +466,8 @@ export interface TNode {\n   value: any;\n \n   /**\n-   * Attributes associated with an element. We need to store attributes to support various use-cases\n-   * (attribute injection, content projection with selectors, directives matching).\n+   * Attributes associated with an element. We need to store attributes to support various\n+   * use-cases (attribute injection, content projection with selectors, directives matching).\n    * Attributes are stored statically because reading them from the DOM would be way too slow for\n    * content projection and queries.\n    *\n@@ -528,10 +557,10 @@ export interface TNode {\n   next: TNode|null;\n \n   /**\n-   * The next projected sibling. Since in Angular content projection works on the node-by-node basis\n-   * the act of projecting nodes might change nodes relationship at the insertion point (target\n-   * view). At the same time we need to keep initial relationship between nodes as expressed in\n-   * content view.\n+   * The next projected sibling. Since in Angular content projection works on the node-by-node\n+   * basis the act of projecting nodes might change nodes relationship at the insertion point\n+   * (target view). At the same time we need to keep initial relationship between nodes as\n+   * expressed in content view.\n    */\n   projectionNext: TNode|null;\n \n@@ -584,8 +613,8 @@ export interface TNode {\n    *    - `projection` size is equal to the number of projections `<ng-content>`. The size of\n    *      `c1` will be `1` because `<child>` has only one `<ng-content>`.\n    * - we store `projection` with the host (`c1`, `c2`) rather than the `<ng-content>` (`cont1`)\n-   *   because the same component (`<child>`) can be used in multiple locations (`c1`, `c2`) and as\n-   *   a result have different set of nodes to project.\n+   *   because the same component (`<child>`) can be used in multiple locations (`c1`, `c2`) and\n+   * as a result have different set of nodes to project.\n    * - without `projection` it would be difficult to efficiently traverse nodes to be projected.\n    *\n    * If `typeof projection == 'number'` then `TNode` is a `<ng-content>` element:\n@@ -619,18 +648,18 @@ export interface TNode {\n    * (e.g. `<div style=\"width:200px;\">`)\n    * Must be stored separately from `tNode.styles` to facilitate setting directive\n    * inputs that shadow the `style` property. If we used `tNode.styles` as is for shadowed inputs,\n-   * we would feed host styles back into directives as \"inputs\". If we used `tNode.attrs`, we would\n-   * have to concatenate the attributes on every template pass. Instead, we process once on first\n-   * create pass and store here.\n+   * we would feed host styles back into directives as \"inputs\". If we used `tNode.attrs`, we\n+   * would have to concatenate the attributes on every template pass. Instead, we process once on\n+   * first create pass and store here.\n    */\n   stylesWithoutHost: string|null;\n \n   /**\n    * A `KeyValueArray` version of residual `styles`.\n    *\n    * When there are styling instructions than each instruction stores the static styling\n-   * which is of lower priority than itself. This means that there may be a higher priority styling\n-   * than the instruction.\n+   * which is of lower priority than itself. This means that there may be a higher priority\n+   * styling than the instruction.\n    *\n    * Imagine:\n    * ```\n@@ -671,10 +700,10 @@ export interface TNode {\n    * Populated when there are one or more initial classes on an element\n    * (e.g. `<div class=\"SOME_CLASS\">`)\n    * Must be stored separately from `tNode.classes` to facilitate setting directive\n-   * inputs that shadow the `class` property. If we used `tNode.classes` as is for shadowed inputs,\n-   * we would feed host classes back into directives as \"inputs\". If we used `tNode.attrs`, we would\n-   * have to concatenate the attributes on every template pass. Instead, we process once on first\n-   * create pass and store here.\n+   * inputs that shadow the `class` property. If we used `tNode.classes` as is for shadowed\n+   * inputs, we would feed host classes back into directives as \"inputs\". If we used\n+   * `tNode.attrs`, we would have to concatenate the attributes on every template pass. Instead,\n+   * we process once on first create pass and store here.\n    */\n   classesWithoutHost: string|null;\n \n@@ -740,8 +769,8 @@ export interface TElementNode extends TNode {\n \n   /**\n    * If this is a component TNode with projection, this will be an array of projected\n-   * TNodes or native nodes (see TNode.projection for more info). If it's a regular element node or\n-   * a component without projection, it will be null.\n+   * TNodes or native nodes (see TNode.projection for more info). If it's a regular element node\n+   * or a component without projection, it will be null.\n    */\n   projection: (TNode|RNode[])[]|null;\n "
        },
        {
            "sha": "f026c21a7aa6f0b786f1482bfbaf2d86e0710fbe",
            "filename": "packages/core/src/render3/interfaces/view.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finterfaces%2Fview.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -15,7 +15,7 @@ import {Sanitizer} from '../../sanitization/sanitizer';\n import {LContainer} from './container';\n import {ComponentDef, ComponentTemplate, DirectiveDef, DirectiveDefList, HostBindingsFunction, PipeDef, PipeDefList, ViewQueriesFunction} from './definition';\n import {I18nUpdateOpCodes, TI18n, TIcu} from './i18n';\n-import {TConstants, TNode, TNodeTypeAsString} from './node';\n+import {TConstants, TNode} from './node';\n import {PlayerHandler} from './player';\n import {LQueries, TQueries} from './query';\n import {RComment, RElement, Renderer3, RendererFactory3} from './renderer';\n@@ -1025,7 +1025,7 @@ export interface DebugNode {\n   /**\n    * Human readable node type.\n    */\n-  type: typeof TNodeTypeAsString[number];\n+  type: string;\n \n   /**\n    * DOM native node."
        },
        {
            "sha": "5305c90a26c84cc4063d1d8f5438a9bc41caece8",
            "filename": "packages/core/src/render3/node_assert.ts",
            "status": "modified",
            "additions": 22,
            "deletions": 37,
            "changes": 59,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fnode_assert.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fnode_assert.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fnode_assert.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -6,44 +6,29 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {assertDefined, assertEqual} from '../util/assert';\n+import {assertDefined, throwError} from '../util/assert';\n+import {TNode, TNodeType, toTNodeTypeAsString} from './interfaces/node';\n \n-import {TContainerNode, TElementContainerNode, TElementNode, TIcuContainerNode, TNode, TNodeType, TNodeTypeAsString, TProjectionNode} from './interfaces/node';\n-\n-export function assertNodeType(\n-    tNode: TNode, type: TNodeType.Container): asserts tNode is TContainerNode;\n-export function assertNodeType(\n-    tNode: TNode, type: TNodeType.Element): asserts tNode is TElementNode;\n-export function assertNodeType(\n-    tNode: TNode, type: TNodeType.ElementContainer): asserts tNode is TElementContainerNode;\n-export function assertNodeType(\n-    tNode: TNode, type: TNodeType.IcuContainer): asserts tNode is TIcuContainerNode;\n-export function assertNodeType(\n-    tNode: TNode, type: TNodeType.Projection): asserts tNode is TProjectionNode;\n-export function assertNodeType(tNode: TNode, type: TNodeType): asserts tNode is TNode {\n-  assertDefined(tNode, 'should be called with a TNode');\n-  assertEqual(tNode.type, type, `should be a ${typeName(type)}`);\n-}\n-\n-export function assertNodeOfPossibleTypes(\n-    tNode: TNode|null, types: TNodeType[], message?: string): void {\n+export function assertTNodeType(\n+    tNode: TNode|null, expectedTypes: TNodeType, message?: string): void {\n   assertDefined(tNode, 'should be called with a TNode');\n-  const found = types.some(type => tNode.type === type);\n-  assertEqual(\n-      found, true,\n-      message ??\n-          `Should be one of ${types.map(typeName).join(', ')} but got ${typeName(tNode.type)}`);\n+  if ((tNode.type & expectedTypes) === 0) {\n+    throwError(\n+        message ||\n+        `Expected [${toTNodeTypeAsString(expectedTypes)}] but got ${\n+            toTNodeTypeAsString(tNode.type)}.`);\n+  }\n }\n \n-export function assertNodeNotOfTypes(tNode: TNode, types: TNodeType[], message?: string): void {\n-  assertDefined(tNode, 'should be called with a TNode');\n-  const found = types.some(type => tNode.type === type);\n-  assertEqual(\n-      found, false,\n-      message ??\n-          `Should not be one of ${types.map(typeName).join(', ')} but got ${typeName(tNode.type)}`);\n-}\n-\n-function typeName(type: TNodeType): string {\n-  return TNodeTypeAsString[type] || '<unknown>';\n-}\n+export function assertPureTNodeType(type: TNodeType) {\n+  if (!(type === TNodeType.Element ||           //\n+        type === TNodeType.Text ||              //\n+        type === TNodeType.Container ||         //\n+        type === TNodeType.ElementContainer ||  //\n+        type === TNodeType.Icu ||               //\n+        type === TNodeType.Projection ||        //\n+        type === TNodeType.Placeholder)) {\n+    throwError(`Expected TNodeType to have only a single type selected, but got ${\n+        toTNodeTypeAsString(type)}.`);\n+  }\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "5d8157b52810cfa46dd78f058ba48837567b79cd",
            "filename": "packages/core/src/render3/node_manipulation.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 24,
            "changes": 48,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fnode_manipulation.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -22,10 +22,12 @@ import {unusedValueExportToPlacateAjd as unused3} from './interfaces/projection'\n import {isProceduralRenderer, ProceduralRenderer3, RComment, RElement, Renderer3, RNode, RText, unusedValueExportToPlacateAjd as unused4} from './interfaces/renderer';\n import {isLContainer, isLView} from './interfaces/type_checks';\n import {CHILD_HEAD, CLEANUP, DECLARATION_COMPONENT_VIEW, DECLARATION_LCONTAINER, DestroyHookData, FLAGS, HookData, HookFn, HOST, LView, LViewFlags, NEXT, PARENT, QUERIES, RENDERER, T_HOST, TVIEW, TView, TViewType, unusedValueExportToPlacateAjd as unused5} from './interfaces/view';\n-import {assertNodeOfPossibleTypes, assertNodeType} from './node_assert';\n+import {assertTNodeType} from './node_assert';\n import {getLViewParent} from './util/view_traversal_utils';\n import {getNativeByTNode, unwrapRNode, updateTransplantedViewCount} from './util/view_utils';\n \n+\n+\n const unusedValueToPlacateAjd = unused1 + unused2 + unused3 + unused4 + unused5;\n \n const enum WalkTNodeTreeAction {\n@@ -539,9 +541,8 @@ export function getClosestRElement(tView: TView, tNode: TNode|null, lView: LView\n   let parentTNode: TNode|null = tNode;\n   // Skip over element and ICU containers as those are represented by a comment node and\n   // can't be used as a render parent.\n-  while (parentTNode != null &&\n-         (parentTNode.type === TNodeType.ElementContainer ||\n-          parentTNode.type === TNodeType.IcuContainer)) {\n+  while (parentTNode !== null &&\n+         (parentTNode.type & (TNodeType.ElementContainer | TNodeType.Icu))) {\n     tNode = parentTNode;\n     parentTNode = tNode.parent;\n   }\n@@ -553,7 +554,7 @@ export function getClosestRElement(tView: TView, tNode: TNode|null, lView: LView\n     // it should always be eager.\n     return lView[HOST];\n   } else {\n-    // ngDevMode && assertTNodeType(parentTNode, TNodeType.AnyRNode | TNodeType.Container);\n+    ngDevMode && assertTNodeType(parentTNode, TNodeType.AnyRNode | TNodeType.Container);\n     if (parentTNode.flags & TNodeFlags.isComponentHost) {\n       ngDevMode && assertTNodeForLView(parentTNode, lView);\n       const tData = tView.data;\n@@ -650,8 +651,7 @@ function getInsertInFrontOfRNode(parentTNode: TNode, currentTNode: TNode, lView:\n   const insertBeforeIndex =\n       Array.isArray(tNodeInsertBeforeIndex) ? tNodeInsertBeforeIndex[0] : tNodeInsertBeforeIndex;\n   if (insertBeforeIndex === null) {\n-    if (parentTNode.type === TNodeType.ElementContainer ||\n-        parentTNode.type === TNodeType.IcuContainer) {\n+    if (parentTNode.type & (TNodeType.ElementContainer | TNodeType.Icu)) {\n       return getNativeByTNode(parentTNode, lView);\n     }\n   } else {\n@@ -716,7 +716,7 @@ function processI18nText(\n   const isProcedural = isProceduralRenderer(renderer);\n   let i18nParent: RElement|null = childRNode as RElement;\n   let anchorRNode: RNode|null = null;\n-  if (childTNode.type !== TNodeType.Element) {\n+  if (!(childTNode.type & TNodeType.AnyRNode)) {\n     anchorRNode = i18nParent;\n     i18nParent = parentRElement;\n   }\n@@ -738,17 +738,17 @@ function processI18nText(\n  */\n function getFirstNativeNode(lView: LView, tNode: TNode|null): RNode|null {\n   if (tNode !== null) {\n-    ngDevMode && assertNodeOfPossibleTypes(tNode, [\n-      TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer, TNodeType.IcuContainer,\n-      TNodeType.Projection\n-    ]);\n+    ngDevMode &&\n+        assertTNodeType(\n+            tNode,\n+            TNodeType.AnyRNode | TNodeType.AnyContainer | TNodeType.Icu | TNodeType.Projection);\n \n     const tNodeType = tNode.type;\n-    if (tNodeType === TNodeType.Element) {\n+    if (tNodeType & TNodeType.AnyRNode) {\n       return getNativeByTNode(tNode, lView);\n-    } else if (tNodeType === TNodeType.Container) {\n+    } else if (tNodeType & TNodeType.Container) {\n       return getBeforeNodeForView(-1, lView[tNode.index]);\n-    } else if (tNodeType === TNodeType.ElementContainer) {\n+    } else if (tNodeType & TNodeType.ElementContainer) {\n       const elIcuContainerChild = tNode.child;\n       if (elIcuContainerChild !== null) {\n         return getFirstNativeNode(lView, elIcuContainerChild);\n@@ -760,7 +760,7 @@ function getFirstNativeNode(lView: LView, tNode: TNode|null): RNode|null {\n           return unwrapRNode(rNodeOrLContainer);\n         }\n       }\n-    } else if (tNodeType === TNodeType.IcuContainer) {\n+    } else if (tNodeType & TNodeType.Icu) {\n       let nextRNode = icuContainerIterate(tNode as TIcuContainerNode, lView);\n       let rNode: RNode|null = nextRNode();\n       // If the ICU container has no nodes, than we use the ICU anchor as the node.\n@@ -824,10 +824,10 @@ function applyNodes(\n     parentRElement: RElement|null, beforeNode: RNode|null, isProjection: boolean) {\n   while (tNode != null) {\n     ngDevMode && assertTNodeForLView(tNode, lView);\n-    ngDevMode && assertNodeOfPossibleTypes(tNode, [\n-      TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer, TNodeType.Projection,\n-      TNodeType.IcuContainer\n-    ]);\n+    ngDevMode &&\n+        assertTNodeType(\n+            tNode,\n+            TNodeType.AnyRNode | TNodeType.AnyContainer | TNodeType.Projection | TNodeType.Icu);\n     const rawSlotValue = lView[tNode.index];\n     const tNodeType = tNode.type;\n     if (isProjection) {\n@@ -837,21 +837,21 @@ function applyNodes(\n       }\n     }\n     if ((tNode.flags & TNodeFlags.isDetached) !== TNodeFlags.isDetached) {\n-      if (tNodeType === TNodeType.ElementContainer) {\n+      if (tNodeType & TNodeType.ElementContainer) {\n         applyNodes(renderer, action, tNode.child, lView, parentRElement, beforeNode, false);\n         applyToElementOrContainer(action, renderer, parentRElement, rawSlotValue, beforeNode);\n-      } else if (tNodeType === TNodeType.IcuContainer) {\n+      } else if (tNodeType & TNodeType.Icu) {\n         const nextRNode = icuContainerIterate(tNode as TIcuContainerNode, lView);\n         let rNode: RNode|null;\n         while (rNode = nextRNode()) {\n           applyToElementOrContainer(action, renderer, parentRElement, rNode, beforeNode);\n         }\n         applyToElementOrContainer(action, renderer, parentRElement, rawSlotValue, beforeNode);\n-      } else if (tNodeType === TNodeType.Projection) {\n+      } else if (tNodeType & TNodeType.Projection) {\n         applyProjectionRecursive(\n             renderer, action, lView, tNode as TProjectionNode, parentRElement, beforeNode);\n       } else {\n-        ngDevMode && assertNodeOfPossibleTypes(tNode, [TNodeType.Element, TNodeType.Container]);\n+        ngDevMode && assertTNodeType(tNode, TNodeType.AnyRNode | TNodeType.Container);\n         applyToElementOrContainer(action, renderer, parentRElement, rawSlotValue, beforeNode);\n       }\n     }"
        },
        {
            "sha": "0252352018ae07ebeb18299b820f2b2e1a2cd73e",
            "filename": "packages/core/src/render3/query.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 9,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -27,7 +27,7 @@ import {unusedValueExportToPlacateAjd as unused2} from './interfaces/injector';\n import {TContainerNode, TElementContainerNode, TElementNode, TNode, TNodeType, unusedValueExportToPlacateAjd as unused3} from './interfaces/node';\n import {LQueries, LQuery, TQueries, TQuery, TQueryMetadata, unusedValueExportToPlacateAjd as unused4} from './interfaces/query';\n import {DECLARATION_LCONTAINER, LView, PARENT, QUERIES, TVIEW, TView} from './interfaces/view';\n-import {assertNodeOfPossibleTypes} from './node_assert';\n+import {assertTNodeType} from './node_assert';\n import {getCurrentQueryIndex, getCurrentTNode, getLView, getTView, setCurrentQueryIndex} from './state';\n import {isCreationMode} from './util/view_utils';\n import {createContainerRef, createElementRef, createTemplateRef} from './view_engine_compatibility';\n@@ -217,7 +217,7 @@ class TQuery_ implements TQuery {\n       // - <needs-target><ng-container><i #target></i></ng-container></needs-target>: here we need\n       // to go past `<ng-container>` to determine <i #target> parent node (but we shouldn't traverse\n       // up past the query's host node!).\n-      while (parent !== null && parent.type === TNodeType.ElementContainer &&\n+      while (parent !== null && (parent.type & TNodeType.ElementContainer) &&\n              parent.index !== declarationNodeIdx) {\n         parent = parent.parent;\n       }\n@@ -238,7 +238,7 @@ class TQuery_ implements TQuery {\n       }\n     } else {\n       if ((predicate as any) === ViewEngine_TemplateRef) {\n-        if (tNode.type === TNodeType.Container) {\n+        if (tNode.type & TNodeType.Container) {\n           this.matchTNodeWithReadOption(tView, tNode, -1);\n         }\n       } else {\n@@ -253,7 +253,7 @@ class TQuery_ implements TQuery {\n       const read = this.metadata.read;\n       if (read !== null) {\n         if (read === ViewEngine_ElementRef || read === ViewContainerRef ||\n-            read === ViewEngine_TemplateRef && tNode.type === TNodeType.Container) {\n+            read === ViewEngine_TemplateRef && (tNode.type & TNodeType.Container)) {\n           this.addMatch(tNode.index, -2);\n         } else {\n           const directiveOrProviderIdx =\n@@ -299,9 +299,9 @@ function getIdxOfMatchingSelector(tNode: TNode, selector: string): number|null {\n \n \n function createResultByTNodeType(tNode: TNode, currentView: LView): any {\n-  if (tNode.type === TNodeType.Element || tNode.type === TNodeType.ElementContainer) {\n+  if (tNode.type & (TNodeType.AnyRNode | TNodeType.ElementContainer)) {\n     return createElementRef(ViewEngine_ElementRef, tNode, currentView);\n-  } else if (tNode.type === TNodeType.Container) {\n+  } else if (tNode.type & TNodeType.Container) {\n     return createTemplateRef(ViewEngine_TemplateRef, ViewEngine_ElementRef, tNode, currentView);\n   }\n   return null;\n@@ -327,9 +327,7 @@ function createSpecialToken(lView: LView, tNode: TNode, read: any): any {\n   } else if (read === ViewEngine_TemplateRef) {\n     return createTemplateRef(ViewEngine_TemplateRef, ViewEngine_ElementRef, tNode, lView);\n   } else if (read === ViewContainerRef) {\n-    ngDevMode &&\n-        assertNodeOfPossibleTypes(\n-            tNode, [TNodeType.Element, TNodeType.Container, TNodeType.ElementContainer]);\n+    ngDevMode && assertTNodeType(tNode, TNodeType.AnyRNode | TNodeType.AnyContainer);\n     return createContainerRef(\n         ViewContainerRef, ViewEngine_ElementRef,\n         tNode as TElementNode | TContainerNode | TElementContainerNode, lView);"
        },
        {
            "sha": "e625c8e2b71eea8574805d3328ef84c81e99b4b3",
            "filename": "packages/core/src/render3/state.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fstate.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fstate.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fstate.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -12,6 +12,7 @@ import {DirectiveDef} from './interfaces/definition';\n import {TNode, TNodeType} from './interfaces/node';\n import {CONTEXT, DECLARATION_VIEW, LView, OpaqueViewState, TData, TVIEW, TView} from './interfaces/view';\n import {MATH_ML_NAMESPACE, SVG_NAMESPACE} from './namespaces';\n+import {assertTNodeType} from './node_assert';\n import {getTNode} from './util/view_utils';\n \n "
        },
        {
            "sha": "794f176f01eda3d795ac81dbbf24e3bb1e39cede",
            "filename": "packages/core/src/render3/view_engine_compatibility.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 9,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -27,7 +27,7 @@ import {TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode,\n import {isProceduralRenderer, RComment, RElement} from './interfaces/renderer';\n import {isComponentHost, isLContainer, isLView, isRootView} from './interfaces/type_checks';\n import {DECLARATION_COMPONENT_VIEW, DECLARATION_LCONTAINER, LView, LViewFlags, PARENT, QUERIES, RENDERER, T_HOST, TVIEW, TView} from './interfaces/view';\n-import {assertNodeOfPossibleTypes} from './node_assert';\n+import {assertTNodeType} from './node_assert';\n import {addViewToContainer, appendChild, destroyLView, detachView, getBeforeNodeForView, insertView, nativeInsertBefore, nativeNextSibling, nativeParentNode} from './node_manipulation';\n import {getCurrentTNode, getLView} from './state';\n import {getParentInjectorIndex, getParentInjectorView, hasParentInjector} from './util/injector_utils';\n@@ -123,7 +123,7 @@ export function createTemplateRef<T>(\n     };\n   }\n \n-  if (hostTNode.type === TNodeType.Container) {\n+  if (hostTNode.type & TNodeType.Container) {\n     ngDevMode && assertDefined(hostTNode.tViews, 'TView must be allocated');\n     return new R3TemplateRef(\n         hostView, hostTNode as TContainerNode,\n@@ -357,9 +357,7 @@ export function createContainerRef(\n     };\n   }\n \n-  ngDevMode &&\n-      assertNodeOfPossibleTypes(\n-          hostTNode, [TNodeType.Container, TNodeType.Element, TNodeType.ElementContainer]);\n+  ngDevMode && assertTNodeType(hostTNode, TNodeType.AnyContainer | TNodeType.AnyRNode);\n \n   let lContainer: LContainer;\n   const slotValue = hostView[hostTNode.index];\n@@ -372,7 +370,7 @@ export function createContainerRef(\n     // comment and we can reuse that comment as anchor element for the new LContainer.\n     // The comment node in question is already part of the DOM structure so we don't need to append\n     // it again.\n-    if (hostTNode.type === TNodeType.ElementContainer) {\n+    if (hostTNode.type & TNodeType.ElementContainer) {\n       commentNode = unwrapRNode(slotValue) as RComment;\n     } else {\n       ngDevMode && ngDevMode.rendererCreateComment++;\n@@ -431,9 +429,7 @@ function createViewRef(tNode: TNode, lView: LView, isPipe: boolean): ViewEngine_\n     // Instead we want the LView for the component View and so we need to look it up.\n     const componentView = getComponentLViewByIndex(tNode.index, lView);  // look down\n     return new ViewRef(componentView, componentView);\n-  } else if (\n-      tNode.type === TNodeType.Element || tNode.type === TNodeType.Container ||\n-      tNode.type === TNodeType.ElementContainer || tNode.type === TNodeType.IcuContainer) {\n+  } else if (tNode.type & (TNodeType.AnyRNode | TNodeType.AnyContainer | TNodeType.Icu)) {\n     // The LView represents the location where the injection is requested from.\n     // We need to locate the containing LView (in case where the `lView` is an embedded view)\n     const hostComponentView = lView[DECLARATION_COMPONENT_VIEW];  // look up"
        },
        {
            "sha": "e31ffe519589de3cdfc5395358ea309ad99922e5",
            "filename": "packages/core/src/render3/view_ref.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -19,7 +19,7 @@ import {TElementNode, TIcuContainerNode, TNode, TNodeType} from './interfaces/no\n import {RNode} from './interfaces/renderer';\n import {isLContainer} from './interfaces/type_checks';\n import {CONTEXT, DECLARATION_COMPONENT_VIEW, FLAGS, LView, LViewFlags, T_HOST, TVIEW, TView} from './interfaces/view';\n-import {assertNodeOfPossibleTypes} from './node_assert';\n+import {assertTNodeType} from './node_assert';\n import {destroyLView, renderDetachView} from './node_manipulation';\n import {getLViewParent} from './util/view_traversal_utils';\n import {unwrapRNode} from './util/view_utils';\n@@ -324,10 +324,10 @@ function collectNativeNodes(\n     tView: TView, lView: LView, tNode: TNode|null, result: any[],\n     isProjection: boolean = false): any[] {\n   while (tNode !== null) {\n-    ngDevMode && assertNodeOfPossibleTypes(tNode, [\n-      TNodeType.Element, TNodeType.Container, TNodeType.Projection, TNodeType.ElementContainer,\n-      TNodeType.IcuContainer\n-    ]);\n+    ngDevMode &&\n+        assertTNodeType(\n+            tNode,\n+            TNodeType.AnyRNode | TNodeType.AnyContainer | TNodeType.Projection | TNodeType.Icu);\n \n     const lNode = lView[tNode.index];\n     if (lNode !== null) {\n@@ -349,15 +349,15 @@ function collectNativeNodes(\n     }\n \n     const tNodeType = tNode.type;\n-    if (tNodeType === TNodeType.ElementContainer) {\n+    if (tNodeType & TNodeType.ElementContainer) {\n       collectNativeNodes(tView, lView, tNode.child, result);\n-    } else if (tNodeType === TNodeType.IcuContainer) {\n+    } else if (tNodeType & TNodeType.Icu) {\n       const nextRNode = icuContainerIterate(tNode as TIcuContainerNode, lView);\n       let rNode: RNode|null;\n       while (rNode = nextRNode()) {\n         result.push(rNode);\n       }\n-    } else if (tNodeType === TNodeType.Projection) {\n+    } else if (tNodeType & TNodeType.Projection) {\n       const componentView = lView[DECLARATION_COMPONENT_VIEW];\n       const componentHost = componentView[T_HOST] as TElementNode;\n       const slotIdx = tNode.projection as number;"
        },
        {
            "sha": "436d134d8bac85f834d98938ca6215868fe11703",
            "filename": "packages/core/test/acceptance/debug_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Facceptance%2Fdebug_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Facceptance%2Fdebug_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fdebug_spec.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -70,7 +70,7 @@ onlyInIvy('Ivy specific').describe('Debug Representation', () => {\n           length: 1,\n           content: [{\n             index: HEADER_OFFSET + 3,\n-            t: matchTNode({type: TNodeType.Element, value: null}),\n+            t: matchTNode({type: TNodeType.Text, value: '{{?}}'}),\n             l: matchDomText('Hello World')\n           }]\n         });"
        },
        {
            "sha": "6ce9eafcb898b01d226841c2433f6c0893e8b7b8",
            "filename": "packages/core/test/acceptance/i18n_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Facceptance%2Fi18n_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Facceptance%2Fi18n_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fi18n_spec.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -618,7 +618,7 @@ onlyInIvy('Ivy i18n logic').describe('runtime i18n', () => {\n       const exclamation = b.nextSibling!;\n       const lViewDebug = lView.debug!;\n       expect(lViewDebug.nodes.map(toTypeContent)).toEqual([\n-        'Element(Hello )', 'Element(<b>)', 'Element(!)'\n+        'Text(Hello )', 'Element(<b>)', 'Text(!)'\n       ]);\n       expect(lViewDebug.decls).toEqual({\n         start: HEADER_OFFSET,"
        },
        {
            "sha": "4eb5fd25a38591239c4e1bd59c62c9a9f4df6a2a",
            "filename": "packages/core/test/render3/i18n/i18n_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Frender3%2Fi18n%2Fi18n_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Frender3%2Fi18n%2Fi18n_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fi18n%2Fi18n_spec.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -668,7 +668,7 @@ describe('Runtime i18n', () => {\n         i18nRangeOffsetOpcode(0), 'Hello World!',  //\n       ]);\n       const lViewDebug = fixture.lView.debug!;\n-      expect(lViewDebug.template).toEqual('<div>#text</div>');\n+      expect(lViewDebug.template).toEqual('<div>Hello World!</div>');\n     });\n \n     it('should process text with a child node', () => {\n@@ -685,7 +685,7 @@ describe('Runtime i18n', () => {\n         insertBeforeIndex: i18nRangeOffset(1),\n       }));\n       const lViewDebug = fixture.lView.debug!;\n-      expect(lViewDebug.template).toEqual('<div>#text<Placeholder></Placeholder>#text</div>');\n+      expect(lViewDebug.template).toEqual('<div>Hello <Placeholder></Placeholder>!</div>');\n     });\n \n     it('should process text with a child node that has text', () => {\n@@ -729,7 +729,7 @@ describe('Runtime i18n', () => {\n         'if (mask & 0b10) { (lView[51] as Text).textContent = `${lView[i-2]}`; }'\n       ]));\n       const lViewDebug = fixture.lView.debug!;\n-      expect(lViewDebug.template).toEqual('<div>#text<Placeholder>#text</Placeholder>#text</div>');\n+      expect(lViewDebug.template).toEqual('<div>{{?}}<Placeholder>{{?}}</Placeholder>!</div>');\n     });\n \n     it('should process text with a child template', () => {"
        },
        {
            "sha": "8107af523c21a7de76abe3309904a7044beaf756",
            "filename": "packages/core/test/render3/interfaces/node_spec.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 7,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Frender3%2Finterfaces%2Fnode_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/70f1e2e04ab0fa0a1a13392693a52713eb496a4f/packages%2Fcore%2Ftest%2Frender3%2Finterfaces%2Fnode_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Finterfaces%2Fnode_spec.ts?ref=70f1e2e04ab0fa0a1a13392693a52713eb496a4f",
            "patch": "@@ -6,16 +6,23 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {TNodeType, TNodeTypeAsString} from '@angular/core/src/render3/interfaces/node';\n+import {TNodeType, toTNodeTypeAsString} from '@angular/core/src/render3/interfaces/node';\n \n describe('node interfaces', () => {\n   describe('TNodeType', () => {\n-    it('should agree with TNodeTypeAsString', () => {\n-      expect(TNodeTypeAsString[TNodeType.Container]).toEqual('Container');\n-      expect(TNodeTypeAsString[TNodeType.Projection]).toEqual('Projection');\n-      expect(TNodeTypeAsString[TNodeType.Element]).toEqual('Element');\n-      expect(TNodeTypeAsString[TNodeType.ElementContainer]).toEqual('ElementContainer');\n-      expect(TNodeTypeAsString[TNodeType.IcuContainer]).toEqual('IcuContainer');\n+    it('should agree with toTNodeTypeAsString', () => {\n+      expect(toTNodeTypeAsString(TNodeType.Element)).toEqual('Element');\n+      expect(toTNodeTypeAsString(TNodeType.Text)).toEqual('Text');\n+      expect(toTNodeTypeAsString(TNodeType.Container)).toEqual('Container');\n+      expect(toTNodeTypeAsString(TNodeType.Projection)).toEqual('Projection');\n+      expect(toTNodeTypeAsString(TNodeType.ElementContainer)).toEqual('ElementContainer');\n+      expect(toTNodeTypeAsString(TNodeType.Icu)).toEqual('IcuContainer');\n+      expect(toTNodeTypeAsString(TNodeType.Placeholder)).toEqual('Placeholder');\n+\n+      expect(toTNodeTypeAsString(\n+                 TNodeType.Container | TNodeType.Projection | TNodeType.Element |\n+                 TNodeType.ElementContainer | TNodeType.Icu))\n+          .toEqual('Element|Container|ElementContainer|Projection|IcuContainer');\n     });\n   });\n });\n\\ No newline at end of file"
        }
    ],
    "stats": {
        "total": 506,
        "additions": 261,
        "deletions": 245
    }
}