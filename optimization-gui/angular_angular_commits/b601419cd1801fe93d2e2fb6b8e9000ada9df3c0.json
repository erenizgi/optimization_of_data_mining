{
    "author": "bjarkler",
    "message": "fix(docs-infra): fix Trusted Types violation in Analytics snippet (#42800)\n\nThe Google Analytics snippet loads its runtime by dynamically creating a\nscript element and assigning a URL to its src attribute. This causes a\nTrusted Types violation.\n\nTo fix this, create an inline Trusted Types policy called 'aio#analytics'\nto bless the script URL, which is a trusted constant.\n\nPR Close #42800",
    "sha": "b601419cd1801fe93d2e2fb6b8e9000ada9df3c0",
    "files": [
        {
            "sha": "c662a01ae2d99e9c0d73d3e9c56c853252b13adc",
            "filename": "aio/src/index.html",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/b601419cd1801fe93d2e2fb6b8e9000ada9df3c0/aio%2Fsrc%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/b601419cd1801fe93d2e2fb6b8e9000ada9df3c0/aio%2Fsrc%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Findex.html?ref=b601419cd1801fe93d2e2fb6b8e9000ada9df3c0",
            "patch": "@@ -51,6 +51,12 @@\n     // Note this is a customised version of the GA tracking snippet\n     // See the comments below for more info\n     (function (i, s, o, g, r, a, m) {\n+      if (i.trustedTypes) {\n+        // Specify path as a TrustedScriptURL when Trusted Types are available\n+        g = i.trustedTypes.createPolicy('aio#analytics', {\n+          createScriptURL: function (s) { return s; }\n+        }).createScriptURL(g);\n+      }\n       i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {\n         (i[r].q = i[r].q || []).push(arguments)\n       }, i[r].l = 1 * new Date(); a = s.createElement(o),"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 6,
        "deletions": 0
    }
}