{
    "author": "devversion",
    "message": "build: update visibility for npm package targets to work with new integration test structure (#44238)\n\nAs mentioned in the previous commit, integration tests will be declared\nin subpackages of `//integration`. For these tests to still rely on the\nNPM packages from `HEAD`, we need to update the visibility.\n\nPR Close #44238",
    "sha": "98c5063cd88b0a85098d7eda0350967c7b1c3401",
    "files": [
        {
            "sha": "405409037cef0a7171a272326f1613a3dfb8cf3f",
            "filename": "packages/animations/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fanimations%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fanimations%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fanimations%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -28,7 +28,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/compiler/test:__pkg__\",\n     ],"
        },
        {
            "sha": "a2f4d68ed07694722bd9ca09bb84175edbc41a18",
            "filename": "packages/bazel/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fbazel%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fbazel%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -26,7 +26,7 @@ pkg_npm(\n     tags = [\"release-with-framework\"],\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n-    visibility = [\"//integration:__pkg__\"],\n+    visibility = [\"//integration:__subpackages__\"],\n     deps = [\n         \"//packages/bazel/src/api-extractor:lib\",\n         \"//packages/bazel/src/ng_package:lib\","
        },
        {
            "sha": "c5d01a6aa5f30e223b86d3cb3e790f672d2713c6",
            "filename": "packages/benchpress/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fbenchpress%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fbenchpress%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbenchpress%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -26,7 +26,7 @@ pkg_npm(\n     ],\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n-    visibility = [\"//integration:__pkg__\"],\n+    visibility = [\"//integration:__subpackages__\"],\n     deps = [\n         \":benchpress\",\n     ],"
        },
        {
            "sha": "357b7e840ebd3d81978135c55511a80923747f90",
            "filename": "packages/common/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcommon%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcommon%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -49,7 +49,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/bazel/test/ng_package:__pkg__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/compiler-cli/ngcc/test:__pkg__\","
        },
        {
            "sha": "5fb05f4fed287cc5fa3de5e4ccde005299a34a58",
            "filename": "packages/compiler-cli/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcompiler-cli%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcompiler-cli%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -133,7 +133,7 @@ pkg_npm(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n     ],\n     deps = ["
        },
        {
            "sha": "cb50cfd7e831abcc108cfed171fe4d8f753b93e7",
            "filename": "packages/compiler/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcompiler%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcompiler%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -31,7 +31,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/language-service/test:__pkg__\",\n     ],"
        },
        {
            "sha": "ee8c4901722fcf42f4cedde1e21d1a10786a0229",
            "filename": "packages/core/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcore%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fcore%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -61,7 +61,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/bazel/test/ng_package:__pkg__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/compiler-cli/ngcc/test:__pkg__\","
        },
        {
            "sha": "8bec91cce51dd29e01d34d1556f3e0ba35c2d052",
            "filename": "packages/elements/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Felements%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Felements%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Felements%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -25,7 +25,7 @@ ng_package(\n     ],\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n-    visibility = [\"//integration:__pkg__\"],\n+    visibility = [\"//integration:__subpackages__\"],\n     deps = [\n         \":elements\",\n     ],"
        },
        {
            "sha": "0801c67e17a820515ddfe79bd9fba5b48ad7ed60",
            "filename": "packages/forms/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fforms%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fforms%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -27,7 +27,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/compiler-cli/test/diagnostics:__pkg__\",\n         \"//packages/language-service/test:__pkg__\","
        },
        {
            "sha": "7f939dc942eed08e5c5ca010fea0b588a1c70453",
            "filename": "packages/language-service/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Flanguage-service%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Flanguage-service%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -24,7 +24,7 @@ pkg_npm(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n     ],\n     deps = [\n         \":api\","
        },
        {
            "sha": "ee5841de4dcf0b32d7e7fb039741ddcfe866fe75",
            "filename": "packages/platform-browser-dynamic/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fplatform-browser-dynamic%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fplatform-browser-dynamic%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser-dynamic%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -31,7 +31,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n     ],\n     deps = ["
        },
        {
            "sha": "58fdb68e40aae4967db1b6eeccb6ceab17ebfdd9",
            "filename": "packages/platform-browser/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fplatform-browser%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fplatform-browser%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -39,7 +39,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/compiler-cli/test:__pkg__\",\n     ],"
        },
        {
            "sha": "1e4e403f4ec2ad522da26446d91762ce9158c036",
            "filename": "packages/platform-server/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fplatform-server%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fplatform-server%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-server%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -50,7 +50,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n     ],\n     deps = ["
        },
        {
            "sha": "0557bce562f3e8cac3b9d6eb71a14dd7a19e25ff",
            "filename": "packages/router/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Frouter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Frouter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -31,7 +31,7 @@ ng_package(\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n     visibility = [\n-        \"//integration:__pkg__\",\n+        \"//integration:__subpackages__\",\n         \"//packages/compiler-cli/integrationtest:__pkg__\",\n         \"//packages/compiler-cli/test:__pkg__\",\n         \"//packages/compiler-cli/test/transformers:__pkg__\","
        },
        {
            "sha": "d7b7966c7b9db76c4f2daebea14f1f0b420f0870",
            "filename": "packages/service-worker/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fservice-worker%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fservice-worker%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -51,7 +51,7 @@ ng_package(\n     ],\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n-    visibility = [\"//integration:__pkg__\"],\n+    visibility = [\"//integration:__subpackages__\"],\n     deps = [\n         \":service-worker\",\n         \"//packages/service-worker/config\","
        },
        {
            "sha": "7d9b5eff752847f4f3e03e399df08e1a572a966d",
            "filename": "packages/upgrade/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fupgrade%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/98c5063cd88b0a85098d7eda0350967c7b1c3401/packages%2Fupgrade%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fupgrade%2FBUILD.bazel?ref=98c5063cd88b0a85098d7eda0350967c7b1c3401",
            "patch": "@@ -30,7 +30,7 @@ ng_package(\n     ],\n     # Do not add more to this list.\n     # Dependencies on the full npm_package cause long re-builds.\n-    visibility = [\"//integration:__pkg__\"],\n+    visibility = [\"//integration:__subpackages__\"],\n     deps = [\n         \":upgrade\",\n         \"//packages/upgrade/static\","
        }
    ],
    "stats": {
        "total": 32,
        "additions": 16,
        "deletions": 16
    }
}