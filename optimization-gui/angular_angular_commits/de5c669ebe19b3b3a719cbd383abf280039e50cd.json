{
    "author": "mgechev",
    "message": "fix(devtools): breadcrumb algorithm when there is no parent available",
    "sha": "de5c669ebe19b3b3a719cbd383abf280039e50cd",
    "files": [
        {
            "sha": "268bbc28a8c453a3e4d53a39eee4e603f44269c3",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 14,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/de5c669ebe19b3b3a719cbd383abf280039e50cd/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/de5c669ebe19b3b3a719cbd383abf280039e50cd/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.ts?ref=de5c669ebe19b3b3a719cbd383abf280039e50cd",
            "patch": "@@ -191,22 +191,16 @@ export class DirectiveForestComponent implements OnInit, OnDestroy {\n   }\n \n   populateParents(position: ElementPosition): void {\n-    this.parents = position.reduce((nodes: FlatNode[], index: number) => {\n-      let nodePosition = [index];\n-      if (nodes.length > 0) {\n-        nodePosition = nodes[nodes.length - 1].position.concat(index);\n-      }\n-      // It's possible selectedNode to be undefined\n-      // In this case, we don't want to push it to the list\n-      // of parent nodes. Instead, we want to report a warning.\n-      const selectedNode = this.dataSource.data.find((item) => item.position.toString() === nodePosition.toString());\n+    this.parents = [];\n+    for (let i = 1; i <= position.length; i++) {\n+      const current = position.slice(0, i);\n+      const selectedNode = this.dataSource.data.find((item) => item.position.toString() === current.toString());\n+\n+      // We might not be able to find the parent if the user has hidden the comment nodes.\n       if (selectedNode) {\n-        nodes.push(selectedNode);\n-      } else {\n-        console.warn('Cant find node for position', nodePosition);\n+        this.parents.push(selectedNode);\n       }\n-      return nodes;\n-    }, []);\n+    }\n     this.setParents.emit(this.parents);\n   }\n "
        }
    ],
    "stats": {
        "total": 22,
        "additions": 8,
        "deletions": 14
    }
}