{
    "author": "bjarkler",
    "message": "fix(docs-infra): pass a TrustedScriptURL to ServiceWorkerModule (#42800)\n\nFix a Trusted Types violation in ServiceWorkerModule that occurs when\ninitializing the service worker from a string URL, by passing a\nTrustedScriptURL instead.\n\nPR Close #42800",
    "sha": "2670e964ec4444f78d4e7e3ae93cff9fe007e0d3",
    "files": [
        {
            "sha": "08043a7599624d38dcd9ecd9e7f6b30ae34b1d1b",
            "filename": "aio/src/app/app.module.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/2670e964ec4444f78d4e7e3ae93cff9fe007e0d3/aio%2Fsrc%2Fapp%2Fapp.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/2670e964ec4444f78d4e7e3ae93cff9fe007e0d3/aio%2Fsrc%2Fapp%2Fapp.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fapp%2Fapp.module.ts?ref=2670e964ec4444f78d4e7e3ae93cff9fe007e0d3",
            "patch": "@@ -13,6 +13,7 @@ import { MatSidenavModule } from '@angular/material/sidenav';\n import { MatToolbarModule } from '@angular/material/toolbar';\n \n import { svg } from 'app/shared/security';\n+import { scriptUrl, unwrapScriptUrlForSink } from 'safevalues';\n \n import { AppComponent } from 'app/app.component';\n import { CustomIconRegistry, SVG_ICONS } from 'app/shared/custom-icon-registry';\n@@ -156,7 +157,10 @@ export const svgIconProviders = [\n     MatToolbarModule,\n     SwUpdatesModule,\n     SharedModule,\n-    ServiceWorkerModule.register('/ngsw-worker.js', {enabled: environment.production}),\n+    ServiceWorkerModule.register(\n+        // Make sure service worker is loaded with a TrustedScriptURL\n+        unwrapScriptUrlForSink(scriptUrl`/ngsw-worker.js`),\n+        {enabled: environment.production}),\n   ],\n   declarations: [\n     AppComponent,"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}