{
    "author": "AleksanderBodurri",
    "message": "feat(devtools): implement drag to scroll functionality to improve frame navigation (rangle/angular-devtools#716)",
    "sha": "6f338f7066ae340deecedb1643a7047d38b7221b",
    "files": [
        {
            "sha": "30b2ec8f0c73de50aa8048a7ab6ee1eaa376b657",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.html",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/6f338f7066ae340deecedb1643a7047d38b7221b/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.html",
            "raw_url": "https://github.com/angular/angular/raw/6f338f7066ae340deecedb1643a7047d38b7221b/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.html?ref=6f338f7066ae340deecedb1643a7047d38b7221b",
            "patch": "@@ -6,7 +6,16 @@\n     <mat-icon>chevron_left</mat-icon>\n   </button>\n \n-  <cdk-virtual-scroll-viewport #barContainer orientation=\"horizontal\" [itemSize]=\"itemWidth\" class=\"bar-container\">\n+  <cdk-virtual-scroll-viewport\n+    #barContainer\n+    orientation=\"horizontal\"\n+    [itemSize]=\"itemWidth\"\n+    class=\"bar-container\"\n+    (mouseleave)=\"stopDragScrolling()\"\n+    (mousedown)=\"startDragScroll($event)\"\n+    (mouseup)=\"stopDragScrolling()\"\n+    (mousemove)=\"dragScroll($event)\"\n+  >\n     <div\n       *cdkVirtualFor=\"let d of graphData$ | async; let i = index\"\n       [ngStyle]=\"d.style\""
        },
        {
            "sha": "aaa665f9415ffa2cae4b888a575ff70f716314e7",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/6f338f7066ae340deecedb1643a7047d38b7221b/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/6f338f7066ae340deecedb1643a7047d38b7221b/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Fframe-selector%2Fframe-selector.component.ts?ref=6f338f7066ae340deecedb1643a7047d38b7221b",
            "patch": "@@ -36,6 +36,8 @@ export class FrameSelectorComponent implements OnInit, OnDestroy {\n   selectedFrameIndexes = new Set<number>();\n   frameCount: number;\n \n+  private _viewportScrollState = { scrollLeft: 0, xCoordinate: 0, isDragScrolling: false };\n+\n   get itemWidth(): number {\n     return ITEM_WIDTH;\n   }\n@@ -159,4 +161,26 @@ export class FrameSelectorComponent implements OnInit, OnDestroy {\n       scrollParent.scrollTo({ left: itemLeft - scrollParent.offsetWidth + this.itemWidth });\n     }\n   }\n+\n+  stopDragScrolling(): void {\n+    this._viewportScrollState.isDragScrolling = false;\n+  }\n+\n+  startDragScroll(event: MouseEvent): void {\n+    this._viewportScrollState = {\n+      xCoordinate: event.clientX,\n+      scrollLeft: this.viewport.elementRef.nativeElement.scrollLeft,\n+      isDragScrolling: true,\n+    };\n+  }\n+\n+  dragScroll(event: MouseEvent): void {\n+    if (!this._viewportScrollState.isDragScrolling) {\n+      return;\n+    }\n+\n+    const dragScrollSpeed = 2;\n+    const dx = event.clientX - this._viewportScrollState.xCoordinate;\n+    this.viewport.elementRef.nativeElement.scrollLeft = this._viewportScrollState.scrollLeft - dx * dragScrollSpeed;\n+  }\n }"
        }
    ],
    "stats": {
        "total": 35,
        "additions": 34,
        "deletions": 1
    }
}