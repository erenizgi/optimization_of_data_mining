{
    "author": "mgechev",
    "message": "refactor(devtools): remove important directives and move style overrides\n\nThis PR introduces the following improvements:\n- We no longer override styles using the global `styles.scss`. This way we can leak override and have unexpected behavior.\n- This allows us to remove the `!important` directives, which are considered bad practice.\n- Few fixes in the contrast for some elements.",
    "sha": "9b8e170927eb0dbac362745deeb9eeedf74b3640",
    "files": [
        {
            "sha": "d7cd5fda684d2d426d486aa40e964060249c7885",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/breadcrumbs/breadcrumbs.component.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.html",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.html?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -1,4 +1,4 @@\n-<mat-card>\n+<mat-card class=\"breadcrumb-card\">\n   <button mat-stroked-button color=\"primary\" *ngFor=\"let node of parents\" (click)=\"handleSelect.emit(node)\">\n     {{ node.original.component?.name || node.original.element }}\n   </button>"
        },
        {
            "sha": "a133f965a6441b78281cdddff2d51bc556432d7e",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/breadcrumbs/breadcrumbs.component.scss",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fbreadcrumbs%2Fbreadcrumbs.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -1,6 +1,6 @@\n ::ng-deep {\n-  .mat-card {\n-    padding: 2px 0 !important;\n+  .mat-card.breadcrumb-card {\n+    padding: 2px 0;\n     width: 100%;\n     overflow-x: auto;\n     white-space: nowrap;\n@@ -18,3 +18,11 @@\n     width: fit-content;\n   }\n }\n+\n+:host-context(.dark-theme) {\n+  ::ng-deep {\n+    .mat-card.breadcrumb-card span {\n+      color: #ff5497;\n+    }\n+  }\n+}"
        },
        {
            "sha": "9a1410a761b5a76bfa2b1a84810ab236243cdc32",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.scss",
            "status": "modified",
            "additions": 19,
            "deletions": 1,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fdirective-forest.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -108,7 +108,6 @@\n     font-size: 20px;\n     font-family: inherit;\n     font-weight: inherit;\n-    color: inherit;\n     line-height: 1.4em;\n     padding: 12px 6px;\n   }\n@@ -141,3 +140,22 @@\n   opacity: 0.4;\n   font-style: italic;\n }\n+\n+:host-context(.dark-theme) {\n+  .tree-node .mat-icon {\n+    color: #ccc;\n+  }\n+\n+  .tree-node .angular-element {\n+    color: #7e7eff;\n+  }\n+\n+  .tree-node.selected .angular-element {\n+    color: blue;\n+  }\n+\n+  .tree-node:hover .mat-icon,\n+  .tree-node.selected .mat-icon {\n+    color: #000;\n+  }\n+}"
        },
        {
            "sha": "995e1d9ab311bf75ee6af6556573505dd01e2db0",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.component.scss",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2Ffilter.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -9,6 +9,7 @@\n     display: flex;\n     align-items: center;\n     padding-right: 5px;\n+    margin-left: 5px;\n \n     .icon {\n       width: 16px;\n@@ -26,7 +27,6 @@\n     font-size: 12px;\n     font-family: inherit;\n     font-weight: inherit;\n-    color: inherit;\n     height: 30px;\n     outline: none;\n     color: rgba(0, 0, 0, 0.87);\n@@ -57,3 +57,10 @@\n     }\n   }\n }\n+\n+:host-context(.dark-theme) {\n+  .filter-input {\n+    background-color: #424242;\n+    color: #ffffff;\n+  }\n+}"
        },
        {
            "sha": "cfcfe5fcbfafc294d62a7c37ae65358aef5f3a96",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-view-tree.component.scss",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-body%2Fproperty-view%2Fproperty-view-body%2Fproperty-view-tree%2Fproperty-view-tree.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-body%2Fproperty-view%2Fproperty-view-body%2Fproperty-view-tree%2Fproperty-view-tree.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-tab-body%2Fproperty-view%2Fproperty-view-body%2Fproperty-view-tree%2Fproperty-view-tree.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -41,6 +41,17 @@\n   }\n }\n \n+:host-context(.dark-theme) {\n+  .property-list {\n+    .name {\n+      color: #ffffff !important;\n+    }\n+    .value {\n+      color: #ffffff40 !important;\n+    }\n+  }\n+}\n+\n .property-list mat-tree-node.disabled .name,\n .disabled {\n   color: #333;"
        },
        {
            "sha": "411da35bce1b6e048cf576d95a9c08fd899a4316",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.html",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.html?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -1,8 +1,10 @@\n <div class=\"profiler-wrapper\">\n   <mat-card>\n-    <span *ngIf=\"state === 'idle'\" (click)=\"startRecording()\" class=\"start-recording-button\"></span>\n-    <span *ngIf=\"state === 'recording'\" (click)=\"stopRecording()\" class=\"recording-button\"></span>\n-    <span *ngIf=\"state === 'visualizing'\" (click)=\"discardRecording()\" class=\"discard-button\">&#10060;</span>\n+    <span *ngIf=\"state === 'idle'\" (click)=\"startRecording()\" class=\"profiler-control start-recording-button\"></span>\n+    <span *ngIf=\"state === 'recording'\" (click)=\"stopRecording()\" class=\"profiler-control recording-button\"></span>\n+    <span *ngIf=\"state === 'visualizing'\" (click)=\"discardRecording()\" class=\"profiler-control discard-button\"\n+      >&#10060;</span\n+    >\n   </mat-card>\n   <div id=\"profiler-content-wrapper\">\n     <p class=\"instructions\" [class.hidden]=\"state !== 'idle'\">"
        },
        {
            "sha": "c5d42bb40872826d48b3c4702a8faf69f6f8a3c6",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.scss",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -75,3 +75,7 @@ mat-card {\n .hidden {\n   display: none;\n }\n+\n+.profiler-control {\n+  margin-left: 8px;\n+}"
        },
        {
            "sha": "08bd1e874a198eb93f17a2e063bd637fef1689f6",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bar-chart/bar-chart.component.scss",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbar-chart%2Fbar-chart.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbar-chart%2Fbar-chart.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Fbar-chart%2Fbar-chart.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -29,3 +29,9 @@\n   height: 100%;\n   display: block;\n }\n+\n+:host-context(.dark-theme) {\n+  .bar {\n+    color: #424242 !important;\n+  }\n+}"
        },
        {
            "sha": "0f0cdcd6e590e1929faf905de0acdd7d91a6edf8",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/tree-map-visualizer/tree-map-visualizer.component.scss",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer%2Ftree-map-visualizer.component.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer%2Ftree-map-visualizer.component.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Frecording%2Ftimeline%2Frecording-visualizer%2Ftree-map-visualizer%2Ftree-map-visualizer.component.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -9,3 +9,17 @@\n     font-size: 12px !important;\n   }\n }\n+\n+:host-context(.dark-theme) {\n+  ::ng-deep {\n+    .webtreemap-node {\n+      background: #424242;\n+    }\n+    .webtreemap-node:hover {\n+      background: #303030;\n+    }\n+    .webtreemap-caption {\n+      color: #ffffff;\n+    }\n+  }\n+}"
        },
        {
            "sha": "e124fda5545b3ac976259f22897054d11ae17013",
            "filename": "projects/ng-devtools/src/lib/theme-service.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Ftheme-service.ts",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/projects%2Fng-devtools%2Fsrc%2Flib%2Ftheme-service.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Ftheme-service.ts?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -1,7 +1,7 @@\n import { Subject } from 'rxjs';\n import { Injectable, RendererFactory2, Renderer2 } from '@angular/core';\n \n-export type Themes = 'dark' | 'light';\n+export type Themes = 'dark-theme' | 'light-theme';\n \n @Injectable({\n   providedIn: 'root',\n@@ -17,8 +17,8 @@ export class ThemeService {\n   }\n \n   toggleDarkMode(isDark: boolean): void {\n-    const removeClass = isDark ? 'light' : 'dark';\n-    const addClass = !isDark ? 'light' : 'dark';\n+    const removeClass = isDark ? 'light-theme' : 'dark-theme';\n+    const addClass = !isDark ? 'light-theme' : 'dark-theme';\n     this.renderer.removeClass(document.body, removeClass);\n     this.renderer.addClass(document.body, addClass);\n     this.currentTheme.next(addClass);"
        },
        {
            "sha": "9ff2dd205678fe2edb3aefdf9c64701f961b3612",
            "filename": "src/styles.scss",
            "status": "modified",
            "additions": 4,
            "deletions": 31,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/9b8e170927eb0dbac362745deeb9eeedf74b3640/src%2Fstyles.scss",
            "raw_url": "https://github.com/angular/angular/raw/9b8e170927eb0dbac362745deeb9eeedf74b3640/src%2Fstyles.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/src%2Fstyles.scss?ref=9b8e170927eb0dbac362745deeb9eeedf74b3640",
            "patch": "@@ -19,37 +19,10 @@ $dark-primary: mat-palette($mat-pink, 700, 500, 900);\n $dark-accent: mat-palette($mat-blue-grey, A200, A100, A400);\n $dark-theme: mat-dark-theme($dark-primary, $dark-accent);\n \n-.dark {\n-  @include angular-material-theme($dark-theme);\n-  .webtreemap-node {\n-    background: #424242;\n-  }\n-  .webtreemap-node:hover {\n-    background: #303030;\n-  }\n-  .webtreemap-caption {\n-    color: #ffffff;\n-  }\n-  .filter-input {\n-    background-color: #424242;\n-    color: #ffffff;\n-  }\n-  .bar {\n-    color: #424242 !important;\n-  }\n-  .label {\n-    color: #424242 !important;\n-  }\n-  .property-list {\n-    .name {\n-      color: #ffffff !important;\n-    }\n-    .value {\n-      color: #ffffff40 !important;\n-    }\n-  }\n+.light-theme {\n+  @include angular-material-theme($light-theme);\n }\n \n-.light {\n-  @include angular-material-theme($light-theme);\n+.dark-theme {\n+  @include angular-material-theme($dark-theme);\n }"
        }
    ],
    "stats": {
        "total": 127,
        "additions": 85,
        "deletions": 42
    }
}