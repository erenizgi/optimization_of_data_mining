{
    "author": "petebacondarwin",
    "message": "build(docs-infra): add `sealed` markers to classes in API pages (#42807)\n\nThis change will mark classes as `sealed` unless they have been annotated\nwith an `@extensible` jsdoc tag.\n\nFixes #42802\n\nPR Close #42807",
    "sha": "e4e98edf203bc4a8fe68819cffcab613a2a55925",
    "files": [
        {
            "sha": "d96617e72c1a18353ec0c46d7ff1d05310382333",
            "filename": "aio/src/styles/2-modules/api-pages/_api-pages.scss",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Fsrc%2Fstyles%2F2-modules%2Fapi-pages%2F_api-pages.scss",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Fsrc%2Fstyles%2F2-modules%2Fapi-pages%2F_api-pages.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2Fapi-pages%2F_api-pages.scss?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -97,7 +97,6 @@\n \n         .github-links {\n           a {\n-\n             .material-icons:hover {\n               background: none;\n             }\n@@ -167,6 +166,10 @@\n     margin-top: 8px;\n   }\n \n+  .final-message {\n+    font-style: italic;\n+  }\n+\n   .api-heading {\n     @include mixins.font-size(14);\n     margin: 16px;"
        },
        {
            "sha": "cb1c95ca85ea4f827b767f1dd5a17b1ad2236451",
            "filename": "aio/src/styles/2-modules/label/_label-theme.scss",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Fsrc%2Fstyles%2F2-modules%2Flabel%2F_label-theme.scss",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Fsrc%2Fstyles%2F2-modules%2Flabel%2F_label-theme.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2Flabel%2F_label-theme.scss?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -8,9 +8,17 @@\n     &.api-status-label {\n       background-color: constants.$mediumgray;\n \n-      &.deprecated, &.security, &.impure-pipe {\n+      &.deprecated,\n+      &.security,\n+      &.impure-pipe {\n         background-color: constants.$brightred;\n       }\n+\n+      a {\n+        color: inherit;\n+        line-height: inherit;\n+        font-size: inherit;\n+      }\n     }\n \n     &.api-type-label {"
        },
        {
            "sha": "a5d6c517165f1378e7d3c3b48ea2c11c9aa83150",
            "filename": "aio/tools/transforms/angular-api-package/tag-defs/extensible.js",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Fangular-api-package%2Ftag-defs%2Fextensible.js",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Fangular-api-package%2Ftag-defs%2Fextensible.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fangular-api-package%2Ftag-defs%2Fextensible.js?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -0,0 +1,11 @@\n+/**\n+ * Use this tag to indicate that this class can be extended.\n+ *\n+ * This is the opposite of the Java `sealed` keyword.\n+ */\n+module.exports = function() {\n+  return {\n+    name: 'extensible',\n+    transforms: function() { return true; }\n+  };\n+};"
        },
        {
            "sha": "b99d9dcfa5643ccbda6283ddd1db7dab147e1624",
            "filename": "aio/tools/transforms/templates/api/base.template.html",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Fbase.template.html",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Fbase.template.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Fbase.template.html?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -26,6 +26,9 @@ <h1>{$ doc.name | escape $}</h1>\n     {% if doc.deprecated !== undefined %}<label class=\"api-status-label deprecated\">deprecated</label>{% endif %}\n     {% if doc.security !== undefined %}<label class=\"api-status-label security\">security</label>{% endif %}\n     {% if doc.pipeOptions.pure === 'false' %}<label class=\"api-status-label impure-pipe\">impure</label>{% endif %}\n+    {% if doc.docType === 'class' and doc.extensible !== true and not doc.isAbstract %}<label class=\"github-links api-status-label final\" title=\"This class should not be extended.\">\n+      <a href=\"{$ github.githubVersionedUrl(versionInfo) $}/docs/PUBLIC_API.md#final-classes\">final</a>\n+    </label>{% endif %}\n   </header>\n   {% endblock %}\n   <aio-toc class=\"embedded\"></aio-toc>"
        },
        {
            "sha": "6fecb65a3493dfbf0d8754254d87d04f1f8a80a1",
            "filename": "aio/tools/transforms/templates/api/class.template.html",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Fclass.template.html",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Fclass.template.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Fclass.template.html?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -1,6 +1,5 @@\n {% import \"lib/ngmodule.html\" as ngModuleHelpers -%}\n {% extends 'export-base.template.html' -%}\n-\n {% block overview %}\n   {% include \"includes/class-overview.html\" %}\n {% endblock %}"
        },
        {
            "sha": "e65208ccc5e21d1fe8516c72876f03bbedbc01ed",
            "filename": "aio/tools/transforms/templates/api/lib/memberHelpers.html",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Flib%2FmemberHelpers.html",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Flib%2FmemberHelpers.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Ftemplates%2Fapi%2Flib%2FmemberHelpers.html?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -95,6 +95,14 @@ <h3>\n     {% if method.shortDescription %}<tr>\n       <td class=\"short-description\">\n         {$ method.shortDescription | marked $}\n+\n+        {% if method.containerDoc.docType === 'class' and method.name === 'constructor' and not method.containerDoc.isAbstract and method.containerDoc.extensible !== true %}\n+        <p class=\"final-message\">\n+          This class is \"final\" and should not be extended.\n+          See the <a href=\"{$ github.githubVersionedUrl(versionInfo) $}/docs/PUBLIC_API.md#final-classes\">public API notes</a>.\n+        </p>\n+        {% endif %}\n+\n         {%- if method.see.length %}\n         <p>See also:</p>\n         <ul>"
        },
        {
            "sha": "7a9e4fe518c61f19d2efe10210d00a1473b82bed",
            "filename": "aio/tools/transforms/templates/lib/githubLinks.html",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Flib%2FgithubLinks.html",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/aio%2Ftools%2Ftransforms%2Ftemplates%2Flib%2FgithubLinks.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Ftemplates%2Flib%2FgithubLinks.html?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -2,17 +2,23 @@\n {$ fileInfo.realProjectRelativePath if fileInfo.realProjectRelativePath else fileInfo.projectRelativePath $}\n {%- endmacro %}\n \n-{% macro githubViewHref(doc, versionInfo) -%}\n-{% set githubUrl = 'https://github.com/' + versionInfo.gitRepoInfo.owner + '/' + versionInfo.gitRepoInfo.repo -%}\n+{% macro githubBaseUrl(versionInfo) -%}\n+https://github.com/{$ versionInfo.gitRepoInfo.owner $}/{$ versionInfo.gitRepoInfo.repo $}\n+{%- endmacro %}\n+\n+{% macro githubVersionedUrl(versionInfo) -%}\n {% set version = versionInfo.currentVersion.isSnapshot and versionInfo.currentVersion.SHA or versionInfo.currentVersion.raw -%}\n+{$ githubBaseUrl(versionInfo) $}/tree/{$ version $}\n+{%- endmacro %}\n+\n+{% macro githubViewHref(doc, versionInfo) -%}\n {% set lineInfo = doc.startingLine and ('#L' + (doc.startingLine + 1) + '-L' + (doc.endingLine + 1)) or '' -%}\n-{$ githubUrl $}/tree/{$ version $}/{$ projectRelativePath(doc.fileInfo) $}{$ lineInfo $}\n+{$ githubVersionedUrl(versionInfo) $}/{$ projectRelativePath(doc.fileInfo) $}{$ lineInfo $}\n {%- endmacro %}\n \n {% macro githubEditHref(doc, versionInfo, pathPrefix) -%}\n-{% set githubUrl = 'https://github.com/' + versionInfo.gitRepoInfo.owner + '/' + versionInfo.gitRepoInfo.repo -%}\n {% set lineInfo = doc.startingLine and ('#L' + (doc.startingLine + 1) + '-L' + (doc.endingLine + 1)) or '' -%}\n-{$ githubUrl $}/edit/master/{$ projectRelativePath(doc.fileInfo) $}?message=docs\n+{$ githubBaseUrl(versionInfo) $}/edit/master/{$ projectRelativePath(doc.fileInfo) $}?message=docs\n   {%- if doc.moduleDoc %}({$ doc.moduleDoc.id.split('/')[0] $})\n   {%- elseif doc.docType === 'module' %}({$ doc.id.split('/')[0] $})\n   {%- elseif doc.docType === 'content' %}"
        },
        {
            "sha": "52fb194d0a622b6c97560e5fe6a2e975515d0c83",
            "filename": "docs/PUBLIC_API.md",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/e4e98edf203bc4a8fe68819cffcab613a2a55925/docs%2FPUBLIC_API.md",
            "raw_url": "https://github.com/angular/angular/raw/e4e98edf203bc4a8fe68819cffcab613a2a55925/docs%2FPUBLIC_API.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/docs%2FPUBLIC_API.md?ref=e4e98edf203bc4a8fe68819cffcab613a2a55925",
            "patch": "@@ -41,6 +41,14 @@ We explicitly don't consider the following to be our public API surface:\n \n Our peer dependencies (such as TypeScript, Zone.js, or RxJS) are not considered part of our API surface, but they are included in our SemVer policies. We might update the required version of any of these dependencies in minor releases if the update doesn't cause breaking changes for Angular applications. Peer dependency updates that result in non-trivial breaking changes must be deferred to major Angular releases.\n \n+<a name=\"final-classes\"></a>\n+\n+## Extending Angular classes\n+\n+All classes in Angular's public API are `final` (they should not be extended) unless explicitly stated in the API documentation.\n+\n+Extending such `final` classes is not supported, since protected members and internal implementation may change outside of major releases.\n+\n <a name=\"golden-files\"></a>\n \n ## Golden files"
        }
    ],
    "stats": {
        "total": 62,
        "additions": 54,
        "deletions": 8
    }
}