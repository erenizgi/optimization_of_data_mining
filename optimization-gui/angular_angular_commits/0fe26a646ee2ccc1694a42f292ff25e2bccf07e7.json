{
    "author": "AleksanderBodurri",
    "message": "build(devtools): migrate shell-chrome to bazel\n\nAllows shell-chrome to be built with bazel. Currently this is built in production mode with terser minified code and the appropriate manifest and content script files to make the chrome extension work properly.",
    "sha": "0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
    "files": [
        {
            "sha": "58e2129320dc5a365be6929ce1c48618ba6f6a2a",
            "filename": "cypress/plugins/index.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/cypress%2Fplugins%2Findex.js",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/cypress%2Fplugins%2Findex.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/cypress%2Fplugins%2Findex.js?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -1,5 +1 @@\n-const cypressTypeScriptPreprocessor = require('./cy-ts-preprocessor');\n-\n-module.exports = on => {\n-  on('file:preprocessor', cypressTypeScriptPreprocessor);\n-};\n+module.exports = (on) => {};"
        },
        {
            "sha": "8fde2b695ba0e3fe60c58371b9ecdb435785e5aa",
            "filename": "projects/shell-chrome/BUILD.bazel",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2FBUILD.bazel?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,9 @@\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+ts_config(\n+    name = \"tsconfig-app\",\n+    src = \"tsconfig.app.json\",\n+    deps = [\"//:tsconfig.json\"],\n+)"
        },
        {
            "sha": "83e102cb81632deb6ffd1e22fa6b7007462a30da",
            "filename": "projects/shell-chrome/src/BUILD.bazel",
            "status": "added",
            "additions": 123,
            "deletions": 0,
            "changes": 123,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2FBUILD.bazel?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,123 @@\n+load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n+load(\"@npm//@bazel/terser:index.bzl\", \"terser_minified\")\n+load(\"//tools:angular_ts_library.bzl\", \"ng_ts_library\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_library\", \"sass_binary\")\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"pkg_web\")\n+load(\"@npm//html-insert-assets:index.bzl\", \"html_insert_assets\")\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_library(\n+    name = \"material-theming\",\n+    srcs = [\"@npm//:node_modules/@angular/material/_index.scss\"]\n+)\n+\n+sass_binary(\n+    name = \"shell-chrome-styles\",\n+    src = \"styles.scss\",\n+    deps = [\":material-theming\"],\n+    sourcemap = False,\n+)\n+\n+ts_library(\n+    name = \"devtools\",\n+    srcs = [\n+        \"devtools.ts\"\n+    ],\n+    deps = [\n+        \"@npm//@types/chrome\",\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ng_ts_library(\n+    name = \"src\",\n+    srcs = [\n+      \"main.ts\",\n+      \"polyfills.ts\"\n+    ],\n+    deps = [\n+      \"//projects/shell-chrome/src/app\",\n+      \"//projects/shell-chrome/src/environments:environment\",\n+      \"//projects/ng-devtools\",\n+      \"@npm//@angular/core\",\n+      \"@npm//@angular/platform-browser-dynamic\",\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+    module_name = \"shell-chrome\",\n+)\n+\n+\n+rollup_bundle(\n+    name = \"devtools-app-bundle-es2015\",\n+    config_file = \"rollup.config.js\",\n+    entry_point = \"main.ts\",\n+    output_dir = True,\n+    deps = [\n+        \":src\",\n+        \"@npm//@rollup/plugin-commonjs\",\n+        \"@npm//@rollup/plugin-node-resolve\",\n+    ],\n+)\n+\n+terser_minified(\n+    name = \"devtools-app-bundle-es2015.min\",\n+    src = \":devtools-app-bundle-es2015\",\n+)\n+\n+# Files that we serve in both development and production\n+_ASSETS = [\n+    # This label references an output of the \"styles\" sass_binary above.\n+    \":shell-chrome-styles\",\n+\n+    \":manifest.json\",\n+\n+    # We load zone.js outside the bundle. That's because it's a \"pollyfill\"\n+    # which speculates that such features might be available in a browser.\n+    # Also it's tricky to configure dead code elimination to understand that\n+    # zone.js is used, given that we don't have any import statement that\n+    # imports from it.\n+    \"@npm//:node_modules/zone.js/dist/zone.min.js\",\n+]\n+\n+html_insert_assets(\n+    name = \"inject_scripts_for_prod\",\n+    outs = [\"index.html\"],\n+    args = [\n+        \"--html=$(execpath //projects/shell-chrome/src:_index.html)\",\n+        \"--out=$@\",\n+        \"--roots=. $(RULEDIR)\",\n+        \"--assets\",\n+    ] + [\"$(execpath %s)\" % s for s in _ASSETS],\n+    data = [\"//projects/shell-chrome/src:_index.html\"] + _ASSETS,\n+)\n+\n+rollup_bundle(\n+    name = \"devtools-es2015\",\n+    entry_point = \"devtools.ts\",\n+    format = \"iife\",\n+    deps = [\n+        \":devtools\",\n+    ]\n+)\n+\n+pkg_web(\n+    name = \"prodapp\",\n+    srcs = _ASSETS + [\n+        \":devtools-es2015\",\n+        \"//projects/shell-chrome/src/app:ng-validate-es2015\",\n+        \"//projects/shell-chrome/src/app:background-es2015\",\n+        \"//projects/shell-chrome/src/app:backend-es2015\",\n+        \"//projects/shell-chrome/src/app:content-script-es2015\",\n+        \":devtools-app-bundle-es2015\",\n+        \":inject_scripts_for_prod\",\n+        \"//projects/shell-chrome/src/assets\",\n+        \"//projects/shell-chrome/src/popups\",\n+        \"//projects/shell-chrome/src:devtools.html\",\n+        \"//projects/ng-devtools/src/lib/images\",\n+    ],\n+    additional_root_paths = [\n+        \"projects/ng-devtools/src/lib\",\n+    ],\n+)\n\\ No newline at end of file"
        },
        {
            "sha": "b0a8bdc039f44fbafa9849d8c06dff7bcc9e3ecd",
            "filename": "projects/shell-chrome/src/_index.html",
            "status": "renamed",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2F_index.html",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2F_index.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2F_index.html?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -10,5 +10,7 @@\n   </head>\n   <body>\n     <app-root></app-root>\n+\n+    <script type=\"module\" src=\"./devtools-app-bundle-es2015/devtools-app-bundle-es2015.js\"></script>\n   </body>\n </html>",
            "previous_filename": "projects/shell-chrome/src/index.html"
        },
        {
            "sha": "e5805329f22b7ecc3b34c4f8f3e287dcdae625ca",
            "filename": "projects/shell-chrome/src/app/BUILD.bazel",
            "status": "added",
            "additions": 196,
            "deletions": 0,
            "changes": 196,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fapp%2FBUILD.bazel?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,196 @@\n+load(\"//tools:angular_ts_library.bzl\", \"ng_ts_library\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\")\n+load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n+load(\"@npm//@bazel/terser:index.bzl\", \"terser_minified\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+sass_binary(\n+    name = \"app-component-styles\",\n+    src = \"app.component.scss\",\n+)\n+\n+ng_ts_library(\n+    name = \"app\",\n+    srcs = [\n+        \"app.component.ts\",\n+        \"app.module.ts\",\n+        \"inject.ts\",        \n+    ],\n+    angular_assets = [\n+        \"app.component.html\",\n+        \":app-component-styles\"\n+    ],\n+    deps = [\n+        \":zone-aware-chrome-message-bus\",\n+        \"//projects/shell-chrome/src/app:background\",\n+        \"//projects/shell-chrome/src/app:backend\",\n+        \":chrome-application-environment\",\n+        \":chrome-application-operations\",\n+        \"//projects/protocol\",\n+        \"//projects/ng-devtools-backend\",\n+        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//projects/ng-devtools-backend/src/lib:component-tree\",\n+        \"//projects/ng-devtools\",\n+        \"@npm//@angular/core\",\n+        \"@npm//@angular/platform-browser\",\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"ng-validate\",\n+    srcs = [\n+        \"ng-validate.ts\"\n+    ],\n+    deps = [\n+        \"@npm//@types/chrome\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"chrome-window-extensions\",\n+    srcs = [\n+        \"chrome-window-extensions.ts\"\n+    ],\n+    deps = [\n+        \"//projects/ng-devtools-backend\",\n+        \"//projects/ng-devtools-backend/src/lib:component-tree\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"chrome-application-environment\",\n+    srcs = [\n+        \"chrome-application-environment.ts\"\n+    ],\n+    deps = [\n+        \"//projects/shell-chrome/src/environments:environment\",\n+        \"//projects/ng-devtools\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"chrome-application-operations\",\n+    srcs = [\n+        \"chrome-application-operations.ts\"\n+    ],\n+    deps = [\n+        \"//projects/protocol\",\n+        \"//projects/ng-devtools\",\n+        \"@npm//@types/chrome\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"same-page-message-bus\",\n+    srcs = [\n+        \"same-page-message-bus.ts\",\n+    ],\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"zone-aware-chrome-message-bus\",\n+    srcs = [\n+        \"zone-aware-chrome-message-bus.ts\",\n+    ],\n+    deps = [\n+        \":chrome-message-bus\",\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\",\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"chrome-message-bus\",\n+    srcs = [\n+        \"chrome-message-bus.ts\"\n+    ],\n+    deps = [\n+        \"//projects/protocol\",\n+        \"@npm//@angular/core\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"background\",\n+    srcs = [\n+        \"background.ts\"\n+    ],\n+    deps = [\"//projects/shell-chrome/src/app:ng-validate\"],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"backend\",\n+    srcs = [\n+        \"backend.ts\"\n+    ],\n+    deps = [\n+        \":same-page-message-bus\",\n+        \"//projects/shell-chrome/src/app:chrome-window-extensions\",\n+        \"//projects/ng-devtools-backend\",\n+        \"//projects/ng-devtools-backend/src/lib:highlighter\"\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+ts_library(\n+    name = \"content-script\",\n+    srcs = [\n+        \"content-script.ts\"\n+    ],\n+    deps = [\n+        \"@npm//@types/chrome\",\n+        \":chrome-message-bus\",\n+        \":same-page-message-bus\",\n+         \"//projects/protocol\",\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n+\n+rollup_bundle(\n+    name = \"backend\" + \"-es2015\",\n+    entry_point = \"backend\" + '.ts',\n+    config_file = \"//projects/shell-chrome/src:rollup.config.js\",\n+    format = 'iife',\n+    deps = [\n+        \":\" + \"backend\",\n+        \"@npm//@rollup/plugin-commonjs\",\n+        \"@npm//@rollup/plugin-node-resolve\",\n+    ],\n+)\n+\n+[\n+    rollup_bundle(\n+        name = file_name + \"-es2015\",\n+        args = [\n+            \"--name\", file_name + '-out'\n+        ],\n+        entry_point = file_name + '.ts',\n+        config_file = \"//projects/shell-chrome/src:rollup.config.js\",\n+        format = format,\n+        deps = [\n+            \":\" + file_name,\n+            \"@npm//@rollup/plugin-commonjs\",\n+            \"@npm//@rollup/plugin-node-resolve\",\n+        ],\n+    )\n+    for file_name, format in [\n+        (\"ng-validate\", 'umd'),\n+        (\"background\", \"umd\"),\n+        (\"content-script\", \"umd\")\n+    ]\n+]\n\\ No newline at end of file"
        },
        {
            "sha": "ad89e645994361f8333222f8f733cfaccae64ed2",
            "filename": "projects/shell-chrome/src/app/app.component.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fapp%2Fapp.component.ts?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -1,5 +1,5 @@\n import { Component, OnInit, ChangeDetectorRef, NgZone } from '@angular/core';\n-import { injectScripts } from '../inject';\n+import { injectScripts } from './inject';\n import { PriorityAwareMessageBus, MessageBus, Events } from 'protocol';\n import { ZoneAwareChromeMessageBus } from './zone-aware-chrome-message-bus';\n \n@@ -27,7 +27,8 @@ export class AppComponent implements OnInit {\n     chrome.devtools.network.onNavigated.addListener(() => {\n       window.location.reload();\n     });\n-    injectScripts(['backend.js', 'runtime.js']);\n+\n+    injectScripts(['app/backend-es2015.js']);\n     this._cd.detectChanges();\n   }\n }"
        },
        {
            "sha": "cfcb43781d23fc329b090bff793db3b064113eaa",
            "filename": "projects/shell-chrome/src/app/background.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2Fbackground.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2Fbackground.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fapp%2Fbackground.ts?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -73,9 +73,9 @@ const installContentScript = (tabId: number) => {\n   console.log('Installing the content-script');\n   // We first inject the content-script and after that\n   // invoke the global that it exposes.\n-  chrome.tabs.executeScript(tabId, { file: '/content-script.js' }, (result) => {\n+  chrome.tabs.executeScript(tabId, { file: 'app/content-script-es2015.js' }, (result) => {\n     chrome.tabs.executeScript(tabId, {\n-      code: '___devToolsContentScript.main()',\n+      code: 'globalThis[\"content-script-out\"].main()',\n     });\n   });\n };"
        },
        {
            "sha": "32817e2968111f258b6bcec0c42157fddf0fcc9b",
            "filename": "projects/shell-chrome/src/app/inject.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2Finject.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fapp%2Finject.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fapp%2Finject.ts?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "previous_filename": "projects/shell-chrome/src/inject.ts"
        },
        {
            "sha": "13f47ebfbeac3f8289ffe3579e553b88f2c2c7a2",
            "filename": "projects/shell-chrome/src/assets/BUILD.bazel",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fassets%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fassets%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fassets%2FBUILD.bazel?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,10 @@\n+package(default_visibility = [\"//:__subpackages__\"])\n+\n+filegroup(\n+    name = \"assets\",\n+    srcs = glob([\n+        \"*.svg\",\n+        \"**/*.png\",\n+        \"*.css\",\n+    ]),\n+)"
        },
        {
            "sha": "a4ab5c5223e52be460e8dfb04e9aaa44b4cbb63e",
            "filename": "projects/shell-chrome/src/devtools.html",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fdevtools.html",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fdevtools.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fdevtools.html?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -1,12 +1,11 @@\n <!DOCTYPE html>\n <html lang=\"en\">\n-<head>\n-  <meta charset=\"UTF-8\">\n-  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n-</head>\n-<body>\n-  <script src=\"devtools.js\"></script>\n-  <script src=\"runtime.js\"></script>\n-</body>\n+  <head>\n+    <meta charset=\"UTF-8\" />\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n+  </head>\n+  <body>\n+    <script src=\"devtools-es2015.js\"></script>\n+  </body>\n </html>"
        },
        {
            "sha": "c0f62762ca68d8e7c8b19fc750d3a8128286ef4d",
            "filename": "projects/shell-chrome/src/environments/BUILD.bazel",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2FBUILD.bazel?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,15 @@\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\", \"ts_config\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+\n+ts_library(\n+    name = \"environment\",\n+    srcs = [\n+      \"environment.ts\",\n+    ],\n+    deps = [\n+      \"//projects/ng-devtools\",\n+    ],\n+    tsconfig = \"//projects/shell-chrome:tsconfig-app\",\n+)\n\\ No newline at end of file"
        },
        {
            "sha": "de2abcf7a7b0d9da38acc8bef0126fc7a9525cb2",
            "filename": "projects/shell-chrome/src/environments/environment.prod.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.prod.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.prod.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.prod.ts?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -1,12 +1,9 @@\n-import { Process } from 'ng-devtools';\n-\n-declare let process: Process;\n-\n export const environment = {\n   production: true,\n   process: {\n     env: {\n-      LATEST_SHA: process.env.LATEST_SHA,\n+      // todo(aleksanderbodurri): when devtools is merged into the main angular repo, use stamping tooling to inject the latest SHA into the environment\n+      LATEST_SHA: '',\n     },\n   },\n };"
        },
        {
            "sha": "fdd31c6ef8cdf697e193522f3c5710d76c32c709",
            "filename": "projects/shell-chrome/src/environments/environment.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 18,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -1,25 +1,10 @@\n-// This file can be replaced during build by using the `fileReplacements` array.\n-// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n-// The list of file replacements can be found in `angular.json`.\n-\n-import { Process } from 'ng-devtools';\n-\n-declare let process: Process;\n-\n export const environment = {\n   production: false,\n   process: {\n     env: {\n-      LATEST_SHA: process.env.LATEST_SHA,\n+      // todo(aleksanderbodurri): when devtools is merged into the main angular repo,\n+      // use stamping tooling to inject the latest SHA into the environment\n+      LATEST_SHA: '',\n     },\n   },\n };\n-\n-/*\n- * For easier debugging in development mode, you can import the following file\n- * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n- *\n- * This import should be commented out in production mode because it will have a negative impact\n- * on performance if an error is thrown.\n- */\n-// import 'zone.js/dist/zone-error';  // Included with Angular CLI."
        },
        {
            "sha": "631aca812c3181b095f587eca6acac3919d6bc76",
            "filename": "projects/shell-chrome/src/manifest.json",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fmanifest.json",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fmanifest.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fmanifest.json?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -16,21 +16,16 @@\n     \"default_popup\": \"popups/not-angular.html\"\n   },\n   \"devtools_page\": \"devtools.html\",\n-  \"web_accessible_resources\": [\"backend.js\", \"runtime.js\", \"devtools.html\"],\n+  \"web_accessible_resources\": [\"app/backend-es2015.js\", \"devtools.html\"],\n   \"background\": {\n-    \"scripts\": [\"background.js\", \"runtime.js\"],\n+    \"scripts\": [\"app/background-es2015.js\"],\n     \"persistent\": false\n   },\n   \"permissions\": [\"activeTab\", \"http://*/*\", \"https://*/*\", \"file:///*\"],\n   \"content_scripts\": [\n     {\n       \"matches\": [\"<all_urls>\"],\n-      \"js\": [\"runtime.js\"],\n-      \"run_at\": \"document_start\"\n-    },\n-    {\n-      \"matches\": [\"<all_urls>\"],\n-      \"js\": [\"ng-validate.js\"],\n+      \"js\": [\"app/ng-validate-es2015.js\"],\n       \"run_at\": \"document_idle\"\n     }\n   ]"
        },
        {
            "sha": "9ea46d3e4ced3e7ae02e3f2da84fd2247a0761a4",
            "filename": "projects/shell-chrome/src/popups/BUILD.bazel",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fpopups%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Fpopups%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Fpopups%2FBUILD.bazel?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,6 @@\n+package(default_visibility = [\"//visibility:public\"])\n+\n+filegroup(\n+    name = \"popups\",\n+    srcs = glob([\"*.html\"])\n+)\n\\ No newline at end of file"
        },
        {
            "sha": "87158723b337e2937c24c3c01ddd4be54fffa46a",
            "filename": "projects/shell-chrome/src/rollup.config.js",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/projects%2Fshell-chrome%2Fsrc%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fshell-chrome%2Fsrc%2Frollup.config.js?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -0,0 +1,11 @@\n+const { nodeResolve } = require('@rollup/plugin-node-resolve');\n+const commonjs = require('@rollup/plugin-commonjs');\n+\n+module.exports = {\n+  plugins: [\n+    nodeResolve({\n+      mainFields: ['browser', 'es2015', 'module', 'jsnext:main', 'main'],\n+    }),\n+    commonjs(),\n+  ],\n+};"
        },
        {
            "sha": "3a47b85acfd924c62a2f067be9463f56d15e4747",
            "filename": "src/environments/environment.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/src%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/src%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/src%2Fenvironments%2Fenvironment.ts?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -4,7 +4,8 @@ export const environment = {\n   production: false,\n   process: {\n     env: {\n-      // todo(aleksanderbodurri): when devtools is merged into the main angular repo, use stamping tooling to inject the latest SHA into the environment\n+      // todo(aleksanderbodurri): when devtools is merged into the main angular repo,\n+      // use stamping tooling to inject the latest SHA into the environment\n       LATEST_SHA: '',\n     },\n   },"
        },
        {
            "sha": "22709a26fd7a223ba79e32728abbbed032547e2f",
            "filename": "tslint.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/tslint.json",
            "raw_url": "https://github.com/angular/angular/raw/0fe26a646ee2ccc1694a42f292ff25e2bccf07e7/tslint.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tslint.json?ref=0fe26a646ee2ccc1694a42f292ff25e2bccf07e7",
            "patch": "@@ -1,5 +1,8 @@\n {\n   \"extends\": \"tslint:recommended\",\n+  \"linterOptions\": {\n+    \"exclude\": [\"projects/ng-devtools/src/lib/vendor/**\"]\n+  },\n   \"rules\": {\n     \"array-type\": false,\n     \"arrow-parens\": false,"
        }
    ],
    "stats": {
        "total": 449,
        "additions": 399,
        "deletions": 50
    }
}