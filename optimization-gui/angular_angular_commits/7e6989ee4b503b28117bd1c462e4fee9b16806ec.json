{
    "author": "josephperrott",
    "message": "test(dev-infra): extract commit message build function into testing util function (#41476)\n\nCreates a testing utility function to build commit message strings.\n\nPR Close #41476",
    "sha": "7e6989ee4b503b28117bd1c462e4fee9b16806ec",
    "files": [
        {
            "sha": "4fa8b623cdc17aa14d1cc50515fa56b3ab22b7ae",
            "filename": "dev-infra/commit-message/parse.spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/7e6989ee4b503b28117bd1c462e4fee9b16806ec/dev-infra%2Fcommit-message%2Fparse.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/7e6989ee4b503b28117bd1c462e4fee9b16806ec/dev-infra%2Fcommit-message%2Fparse.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fcommit-message%2Fparse.spec.ts?ref=7e6989ee4b503b28117bd1c462e4fee9b16806ec",
            "patch": "@@ -7,9 +7,9 @@\n  */\n \n import {parseCommitMessage} from './parse';\n+import {commitMessageBuilder, CommitMessageParts} from './test-util';\n \n-\n-const commitValues = {\n+const commitValues: CommitMessageParts = {\n   prefix: '',\n   type: 'fix',\n   npmScope: '',\n@@ -19,12 +19,7 @@ const commitValues = {\n   footer: 'Closes #1',\n };\n \n-function buildCommitMessage(params: Partial<typeof commitValues> = {}) {\n-  const {prefix, npmScope, type, scope, summary, body, footer} = {...commitValues, ...params};\n-  const scopeSlug = npmScope ? `${npmScope}/${scope}` : scope;\n-  return `${prefix}${type}${scopeSlug ? '(' + scopeSlug + ')' : ''}: ${summary}\\n\\n${body}\\n\\n${\n-      footer}`;\n-}\n+const buildCommitMessage = commitMessageBuilder(commitValues);\n \n \n describe('commit message parsing:', () => {"
        },
        {
            "sha": "0371cf0ec32e4d66986cfe61b8a66f75b662022e",
            "filename": "dev-infra/commit-message/test-util.ts",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/7e6989ee4b503b28117bd1c462e4fee9b16806ec/dev-infra%2Fcommit-message%2Ftest-util.ts",
            "raw_url": "https://github.com/angular/angular/raw/7e6989ee4b503b28117bd1c462e4fee9b16806ec/dev-infra%2Fcommit-message%2Ftest-util.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fcommit-message%2Ftest-util.ts?ref=7e6989ee4b503b28117bd1c462e4fee9b16806ec",
            "patch": "@@ -0,0 +1,30 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+/** The parts that make up a commit message for creating a commit message string. */\n+export interface CommitMessageParts {\n+  prefix: string;\n+  type: string;\n+  npmScope: string;\n+  scope: string;\n+  summary: string;\n+  body: string;\n+  footer: string;\n+}\n+\n+/**\n+ * Generate a commit message builder function, using the provided defaults.\n+ */\n+export function commitMessageBuilder(defaults: CommitMessageParts) {\n+  return (params: Partial<CommitMessageParts> = {}) => {\n+    const {prefix, type, npmScope, scope, summary, body, footer} = {...defaults, ...params};\n+    const scopeSlug = npmScope ? `${npmScope}/${scope}` : scope;\n+    return `${prefix}${type}${scopeSlug ? '(' + scopeSlug + ')' : ''}: ${summary}\\n\\n${body}\\n\\n${\n+        footer}`;\n+  };\n+}"
        }
    ],
    "stats": {
        "total": 41,
        "additions": 33,
        "deletions": 8
    }
}