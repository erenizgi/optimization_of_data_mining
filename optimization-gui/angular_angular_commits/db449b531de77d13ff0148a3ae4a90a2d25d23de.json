{
    "author": "AleksanderBodurri",
    "message": "fix(devtools): unsubscribe from file upload Subscription instead of Subject",
    "sha": "db449b531de77d13ff0148a3ae4a90a2d25d23de",
    "files": [
        {
            "sha": "db6565b810c70f5897d74de896701288205cb705",
            "filename": "projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/db449b531de77d13ff0148a3ae4a90a2d25d23de/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/db449b531de77d13ff0148a3ae4a90a2d25d23de/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/projects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Fprofiler.component.ts?ref=db449b531de77d13ff0148a3ae4a90a2d25d23de",
            "patch": "@@ -3,7 +3,7 @@ import { MessageBus, Events, ProfilerFrame } from 'protocol';\n import { FileApiService } from '../../file-api-service';\n import { MatDialog } from '@angular/material/dialog';\n import { ProfilerImportDialogComponent } from './profiler-import-dialog/profiler-import-dialog.component';\n-import { Subject } from 'rxjs';\n+import { Subject, Subscription } from 'rxjs';\n \n type State = 'idle' | 'recording' | 'visualizing';\n \n@@ -19,6 +19,8 @@ export class ProfilerComponent implements OnInit, OnDestroy {\n   state: State = 'idle';\n   stream = new Subject<ProfilerFrame[]>();\n \n+  private _fileUploadSubscription: Subscription;\n+\n   // We collect this buffer so we can have it available for export.\n   private _buffer: ProfilerFrame[] = [];\n \n@@ -52,7 +54,7 @@ export class ProfilerComponent implements OnInit, OnDestroy {\n       this._buffer.push(chunkOfRecords);\n     });\n \n-    this._fileApiService.uploadedData.subscribe((importedFile) => {\n+    this._fileUploadSubscription = this._fileApiService.uploadedData.subscribe((importedFile) => {\n       if (importedFile.error) {\n         console.error('Could not process uploaded file');\n         console.error(importedFile.error);\n@@ -86,7 +88,7 @@ export class ProfilerComponent implements OnInit, OnDestroy {\n   }\n \n   ngOnDestroy(): void {\n-    this._fileApiService.uploadedData.unsubscribe();\n+    this._fileUploadSubscription.unsubscribe();\n   }\n \n   exportProfilerResults(): void {"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 5,
        "deletions": 3
    }
}