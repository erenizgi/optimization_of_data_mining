{
    "author": "atscott",
    "message": "Revert \"test(compiler): check `fullStart` source-span (#42062)\" (#43033)\n\nThis reverts commit 973f9b8d1957d5479f5813664d35fd445f38e525.\n\nPR Close #43033",
    "sha": "6f05dd80624d91260f986462ac0240d3eb654047",
    "files": [
        {
            "sha": "818ae726cedbc0acaf1df5678801fda0607d5046",
            "filename": "packages/compiler/test/ml_parser/ast_spec_utils.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/6f05dd80624d91260f986462ac0240d3eb654047/packages%2Fcompiler%2Ftest%2Fml_parser%2Fast_spec_utils.ts",
            "raw_url": "https://github.com/angular/angular/raw/6f05dd80624d91260f986462ac0240d3eb654047/packages%2Fcompiler%2Ftest%2Fml_parser%2Fast_spec_utils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Fml_parser%2Fast_spec_utils.ts?ref=6f05dd80624d91260f986462ac0240d3eb654047",
            "patch": "@@ -87,10 +87,6 @@ class _Humanizer implements html.Visitor {\n   private _appendContext(ast: html.Node, input: any[]): any[] {\n     if (!this.includeSourceSpan) return input;\n     input.push(ast.sourceSpan.toString());\n-    if (ast.sourceSpan.fullStart.offset !== ast.sourceSpan.start.offset) {\n-      input.push(ast.sourceSpan.fullStart.file.content.substring(\n-          ast.sourceSpan.fullStart.offset, ast.sourceSpan.end.offset));\n-    }\n     return input;\n   }\n }"
        },
        {
            "sha": "57171d5f40632880bec745fee16b933f82ab56eb",
            "filename": "packages/compiler/test/ml_parser/html_parser_spec.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 17,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/6f05dd80624d91260f986462ac0240d3eb654047/packages%2Fcompiler%2Ftest%2Fml_parser%2Fhtml_parser_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/6f05dd80624d91260f986462ac0240d3eb654047/packages%2Fcompiler%2Ftest%2Fml_parser%2Fhtml_parser_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Ftest%2Fml_parser%2Fhtml_parser_spec.ts?ref=6f05dd80624d91260f986462ac0240d3eb654047",
            "patch": "@@ -798,23 +798,22 @@ import {humanizeDom, humanizeDomSourceSpans, humanizeLineColumn, humanizeNodes}\n           ]);\n         });\n \n-        it('should not include leading trivia from the following node of an element in the end source',\n-           () => {\n-             expect(humanizeDomSourceSpans(\n-                        parser.parse('<input type=\"text\" />\\n\\n\\n  <span>\\n</span>', 'TestComp', {\n-                          leadingTriviaChars: [' ', '\\n', '\\r', '\\t'],\n-                        })))\n-                 .toEqual([\n-                   [\n-                     html.Element, 'input', 0, '<input type=\"text\" />', '<input type=\"text\" />',\n-                     '<input type=\"text\" />'\n-                   ],\n-                   [html.Attribute, 'type', 'text', ['text'], 'type=\"text\"'],\n-                   [html.Text, '\\n\\n\\n  ', 0, ['\\n\\n\\n  '], '', '\\n\\n\\n  '],\n-                   [html.Element, 'span', 0, '<span>\\n</span>', '<span>', '</span>'],\n-                   [html.Text, '\\n', 1, ['\\n'], '', '\\n'],\n-                 ]);\n-           });\n+        it('should set the end source span excluding trailing whitespace whitespace', () => {\n+          expect(humanizeDomSourceSpans(\n+                     parser.parse('<input type=\"text\" />\\n\\n\\n  <span>\\n</span>', 'TestComp', {\n+                       leadingTriviaChars: [' ', '\\n', '\\r', '\\t'],\n+                     })))\n+              .toEqual([\n+                [\n+                  html.Element, 'input', 0, '<input type=\"text\" />', '<input type=\"text\" />',\n+                  '<input type=\"text\" />'\n+                ],\n+                [html.Attribute, 'type', 'text', ['text'], 'type=\"text\"'],\n+                [html.Text, '\\n\\n\\n  ', 0, ['\\n\\n\\n  '], ''],\n+                [html.Element, 'span', 0, '<span>\\n</span>', '<span>', '</span>'],\n+                [html.Text, '\\n', 1, ['\\n'], ''],\n+              ]);\n+        });\n \n         it('should not set the end source span for elements that are implicitly closed', () => {\n           expect(humanizeDomSourceSpans(parser.parse('<div><p></div>', 'TestComp'))).toEqual(["
        }
    ],
    "stats": {
        "total": 37,
        "additions": 16,
        "deletions": 21
    }
}