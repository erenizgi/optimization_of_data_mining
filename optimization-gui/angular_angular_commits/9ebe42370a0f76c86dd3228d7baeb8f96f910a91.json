{
    "author": "arturovt",
    "message": "perf(animations): use `ngDevMode` to tree-shake warning (#39964)\n\nThis commit adds ngDevMode guard to show warning only\nin dev mode (similar to how things work in other parts of Ivy runtime code).\nThe ngDevMode flag helps to tree-shake this warning from production builds\n(in dev mode everything will work as it works right now) to decrease production bundle size.\n\nPR Close #39964",
    "sha": "9ebe42370a0f76c86dd3228d7baeb8f96f910a91",
    "files": [
        {
            "sha": "c4a6d20987614d6df70bf931a971697c29b6b05f",
            "filename": "packages/animations/browser/src/render/css_keyframes/css_keyframes_driver.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/9ebe42370a0f76c86dd3228d7baeb8f96f910a91/packages%2Fanimations%2Fbrowser%2Fsrc%2Frender%2Fcss_keyframes%2Fcss_keyframes_driver.ts",
            "raw_url": "https://github.com/angular/angular/raw/9ebe42370a0f76c86dd3228d7baeb8f96f910a91/packages%2Fanimations%2Fbrowser%2Fsrc%2Frender%2Fcss_keyframes%2Fcss_keyframes_driver.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fanimations%2Fbrowser%2Fsrc%2Frender%2Fcss_keyframes%2Fcss_keyframes_driver.ts?ref=9ebe42370a0f76c86dd3228d7baeb8f96f910a91",
            "patch": "@@ -21,7 +21,6 @@ const TAB_SPACE = ' ';\n export class CssKeyframesDriver implements AnimationDriver {\n   private _count = 0;\n   private readonly _head: any = document.querySelector('head');\n-  private _warningIssued = false;\n \n   validateStyleProperty(prop: string): boolean {\n     return validateStyleProperty(prop);\n@@ -79,8 +78,8 @@ export class CssKeyframesDriver implements AnimationDriver {\n   animate(\n       element: any, keyframes: ÉµStyleData[], duration: number, delay: number, easing: string,\n       previousPlayers: AnimationPlayer[] = [], scrubberAccessRequested?: boolean): AnimationPlayer {\n-    if (scrubberAccessRequested) {\n-      this._notifyFaultyScrubber();\n+    if ((typeof ngDevMode === 'undefined' || ngDevMode) && scrubberAccessRequested) {\n+      notifyFaultyScrubber();\n     }\n \n     const previousCssKeyframePlayers = <CssKeyframesPlayer[]>previousPlayers.filter(\n@@ -117,15 +116,6 @@ export class CssKeyframesDriver implements AnimationDriver {\n     player.onDestroy(() => removeElement(kfElm));\n     return player;\n   }\n-\n-  private _notifyFaultyScrubber() {\n-    if (!this._warningIssued) {\n-      console.warn(\n-          '@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\\n',\n-          '  visit https://bit.ly/IWukam to learn more about using the web-animation-js polyfill.');\n-      this._warningIssued = true;\n-    }\n-  }\n }\n \n function flattenKeyframesIntoStyles(keyframes: null|{[key: string]: any}|\n@@ -146,3 +136,12 @@ function flattenKeyframesIntoStyles(keyframes: null|{[key: string]: any}|\n function removeElement(node: any) {\n   node.parentNode.removeChild(node);\n }\n+\n+let warningIssued = false;\n+function notifyFaultyScrubber(): void {\n+  if (warningIssued) return;\n+  console.warn(\n+      '@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\\n',\n+      '  visit https://bit.ly/IWukam to learn more about using the web-animation-js polyfill.');\n+  warningIssued = true;\n+}"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 11,
        "deletions": 12
    }
}