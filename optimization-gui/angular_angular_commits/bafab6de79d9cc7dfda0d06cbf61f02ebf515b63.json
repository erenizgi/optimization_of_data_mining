{
    "author": "josephperrott",
    "message": "build: update dependencies to enable strict_visibility for bazel yarn_install (#40895)\n\nBeginning with rules_nodejs@3.0.0, strict visibility defaults to true.  This means\nthat we are no longer, in bazel dependencies, able to depend on a package which was\ntransitively depended on from another dependency we do have in our package.json\n\nPR Close #40895",
    "sha": "bafab6de79d9cc7dfda0d06cbf61f02ebf515b63",
    "files": [
        {
            "sha": "918c4235f89b6879e67b16ab9caa32598e9e5aae",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/bafab6de79d9cc7dfda0d06cbf61f02ebf515b63/WORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/bafab6de79d9cc7dfda0d06cbf61f02ebf515b63/WORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/WORKSPACE?ref=bafab6de79d9cc7dfda0d06cbf61f02ebf515b63",
            "patch": "@@ -31,9 +31,6 @@ yarn_install(\n     name = \"npm\",\n     manual_build_file_contents = npm_package_archives(),\n     package_json = \"//:package.json\",\n-    # TODO(josephperrott): Correct usage of transitive dependencies to reenable strict_visibility\n-    # See: https://github.com/bazelbuild/rules_nodejs/wiki#strict_visibility-on-yarn_install-and-npm_install-now-defaults-true-2199\n-    strict_visibility = False,\n     yarn_lock = \"//:yarn.lock\",\n )\n "
        },
        {
            "sha": "f124df5d1ba23dc849e76a084db0d43ab459e4dd",
            "filename": "package.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/bafab6de79d9cc7dfda0d06cbf61f02ebf515b63/package.json",
            "raw_url": "https://github.com/angular/angular/raw/bafab6de79d9cc7dfda0d06cbf61f02ebf515b63/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=bafab6de79d9cc7dfda0d06cbf61f02ebf515b63",
            "patch": "@@ -61,6 +61,7 @@\n     \"@microsoft/api-extractor\": \"7.7.11\",\n     \"@octokit/rest\": \"16.28.7\",\n     \"@octokit/types\": \"^5.0.1\",\n+    \"tmp\": \"0.0.33\",\n     \"@schematics/angular\": \"11.0.0-rc.1\",\n     \"@types/angular\": \"^1.6.47\",\n     \"@types/babel__core\": \"^7.1.6\",\n@@ -78,6 +79,8 @@\n     \"@types/jasmine\": \"3.5.10\",\n     \"@types/jasmine-ajax\": \"^3.3.1\",\n     \"@types/jasminewd2\": \"^2.0.8\",\n+    \"@babel/parser\": \"^7.0.0\",\n+    \"@types/events\": \"3.0.0\",\n     \"@types/minimist\": \"^1.2.0\",\n     \"@types/multimatch\": \"^4.0.0\",\n     \"@types/node\": \"^12.11.1\","
        },
        {
            "sha": "5b12121fd431118ba40a77fbdeb8f44e10dc3ae1",
            "filename": "yarn.lock",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/bafab6de79d9cc7dfda0d06cbf61f02ebf515b63/yarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/bafab6de79d9cc7dfda0d06cbf61f02ebf515b63/yarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/yarn.lock?ref=bafab6de79d9cc7dfda0d06cbf61f02ebf515b63",
            "patch": "@@ -2469,7 +2469,7 @@\n   resolved \"https://registry.yarnpkg.com/@types/estree/-/estree-0.0.39.tgz#e177e699ee1b8c22d23174caaa7422644389509f\"\n   integrity sha512-EYNwp3bU+98cpU4lAWYYL7Zz+2gryWH1qbdDTidVd6hkiR6weksdbMadyXKXNPEkQFhXM+hVO9ZygomHXp+AIw==\n \n-\"@types/events@*\":\n+\"@types/events@*\", \"@types/events@3.0.0\":\n   version \"3.0.0\"\n   resolved \"https://registry.yarnpkg.com/@types/events/-/events-3.0.0.tgz#2862f3f58a9a7f7c3e78d79f130dd4d71c25c2a7\"\n   integrity sha512-EaObqwIvayI5a8dCzhFrjKzVwKLxjoG9T6Ppd5CEo07LRKfQ8Yokw54r5+Wq7FaBQ+yXRvQAYPrHwya1/UFt9g=="
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}