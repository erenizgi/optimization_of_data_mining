{
    "author": "gkalpak",
    "message": "docs(docs-infra): document how to configure redirects (#42452)\n\nPR Close #42452",
    "sha": "44291889eeef6961ee9bec4d90770d134cdce734",
    "files": [
        {
            "sha": "8700e131411a9dd9172a86f3d4ae211439b328af",
            "filename": "aio/firebase.json",
            "status": "modified",
            "additions": 47,
            "deletions": 0,
            "changes": 47,
            "blob_url": "https://github.com/angular/angular/blob/44291889eeef6961ee9bec4d90770d134cdce734/aio%2Ffirebase.json",
            "raw_url": "https://github.com/angular/angular/raw/44291889eeef6961ee9bec4d90770d134cdce734/aio%2Ffirebase.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ffirebase.json?ref=44291889eeef6961ee9bec4d90770d134cdce734",
            "patch": "@@ -1,8 +1,55 @@\n {\n+  // Docs on Firebase hosting configuration: https://firebase.google.com/docs/hosting/full-config\n   \"hosting\": {\n     \"target\": \"aio\",\n     \"public\": \"dist\",\n     \"cleanUrls\": true,\n+    //////////////////////////////////////////////////////////////////////////////////////////////\n+    // ADDING REDIRECTS\n+    //\n+    // In order to permanently redirect a URL to a new address, add an new entry in the `redirects`\n+    // list:\n+    // ```json\n+    // {\"type\": 301, \"source\": \"/old/url\", \"destination\": \"/new/url\"}\n+    // ```\n+    //\n+    // This will cause the server to redirect any clients that visit `/old/url` to `/new/url`. At\n+    // the same time, the ServiceWorker will be automatically configured to let requests for\n+    // `/old/url` pass through to the server (instead of serving them locally with the cached\n+    // `index.html`).\n+    //\n+    // In addition, you should also add a corresponding testcase in `URLS_TO_REDIRECT.txt` (inside\n+    // `tests/deployment/shared/`) to ensure that the new redirect behaves as expected.\n+    //\n+    // NOTE 1:\n+    // On clients that still have an old ServiceWorker version installed the next time they visit a\n+    // recently redirected URL, the ServiceWorker will not yet know to let the request pass through\n+    // to the server (and get redirected). In such cases, those clients will get a \"Page not found\"\n+    // error, as the app tries to load `generated/docs/old/url.json` (which no longer exists). Such\n+    // errors would typically go away after reloading the page (since the ServiceWorker will have\n+    // updated to the latest version in the background).\n+    //\n+    // This temporary error is usually not a concern, because it only affects clients with an old\n+    // ServiceWorker version at the time of the first visit and it goes away on reload. If, however,\n+    // it is important to avoid this error for a specific redirect, you can add an additional\n+    // redirect entry for the requested JSON file:\n+    // ```json\n+    // {\"type\": 302, \"source\": \"/generated/docs/old/url.json\", \"destination\": \"/generated/docs/new/url.json\"}\n+    // ```\n+    //\n+    // In order to avoid bloating the redirects config, it is recommended to remove this additional\n+    // entry after some time has passed, at which point the large majority of existing clients will\n+    // have switched to an updated ServiceWorker version.\n+    //\n+    // NOTE 2:\n+    // If you decide to add the additional entry described above, keep in mind that the JSON file\n+    // URL is derived from the page URL by prepending `/generated/docs`, replacing any upper-case\n+    // letters with the corresponding lower-case ones followed by an underscore (`_`) and appending\n+    // `.json`.\n+    //\n+    // For example, the page URL `/api/forms/FormBuilder` would result in requesting the JSON file\n+    // `/generated/docs/api/forms/f_ormb_uilder.json`.\n+    //////////////////////////////////////////////////////////////////////////////////////////////\n     \"redirects\": [\n       // A random bad indexed page that used `api/api`\n       {\"type\": 301, \"source\": \"/api/api/:rest*\", \"destination\": \"/api/:rest*\"},"
        }
    ],
    "stats": {
        "total": 47,
        "additions": 47,
        "deletions": 0
    }
}