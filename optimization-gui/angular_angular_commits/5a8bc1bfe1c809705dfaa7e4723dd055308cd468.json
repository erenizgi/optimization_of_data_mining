{
    "author": "alan-agius4",
    "message": "build: `ng_package` no longer generate minified UMDs (#41425)\n\nIn version 12, applications will only be allowed to be built in Ivy, this makes the minified UMDs redundant since they cannot be processed by NGCC.\n\nWith this change, we remove the minified UMDs from the generated APF package.\n\nBREAKING CHANGE:  Minified UMD bundles are no longer included in the distributed NPM packages.\n\nPR Close #41425",
    "sha": "5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
    "files": [
        {
            "sha": "93775a334dc240b3fce3f9443d27f8b2be3c5b79",
            "filename": "integration/hello_world__systemjs_umd/src/systemjs.config.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/integration%2Fhello_world__systemjs_umd%2Fsrc%2Fsystemjs.config.js",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/integration%2Fhello_world__systemjs_umd%2Fsrc%2Fsystemjs.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fhello_world__systemjs_umd%2Fsrc%2Fsystemjs.config.js?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -21,13 +21,13 @@\n     },\n     map: {\n       app: 'app',\n-      '@angular/core': 'npm:@angular/core/bundles/core.umd.min.js',\n-      '@angular/common': 'npm:@angular/common/bundles/common.umd.min.js',\n-      '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.min.js',\n+      '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n+      '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n+      '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n       '@angular/platform-browser':\n-         'npm:@angular/platform-browser/bundles/platform-browser.umd.min.js',\n+         'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n       '@angular/platform-browser-dynamic':\n-         'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.min.js',\n+         'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n       'rxjs': 'npm:rxjs',\n       'angular-in-memory-web-api': 'npm:angular-in-memory-web-api/bundles/in-memory-web-api.umd.js',\n       'ts': 'npm:plugin-typescript/lib/plugin.js',"
        },
        {
            "sha": "44dca1f8643207d124cbbfcaf6578eacb81ec705",
            "filename": "packages/bazel/src/ng_package/BUILD.bazel",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Fsrc%2Fng_package%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Fsrc%2Fng_package%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fng_package%2FBUILD.bazel?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -1,7 +1,11 @@\n-package(default_visibility = [\"//visibility:public\"])\n-\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"nodejs_binary\")\n \n+# BEGIN-DEV-ONLY\n+load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\")\n+# END-DEV-ONLY\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n nodejs_binary(\n     name = \"rollup_for_ng_package\",\n     data = [\n@@ -40,12 +44,9 @@ nodejs_binary(\n exports_files([\n     \"ng_package.bzl\",\n     \"rollup.config.js\",\n-    \"terser_config.default.json\",\n ])\n \n # BEGIN-DEV-ONLY\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_library\")\n-\n ts_library(\n     name = \"lib\",\n     srcs = glob([\"*.ts\"]),\n@@ -61,7 +62,6 @@ filegroup(\n     srcs = glob([\"*.bzl\"]) + [\n         \"BUILD.bazel\",\n         \"rollup.config.js\",\n-        \"terser_config.default.json\",\n     ],\n )\n "
        },
        {
            "sha": "310043dc35efec727f2a9f95f62d1e42745a05fb",
            "filename": "packages/bazel/src/ng_package/ng_package.bzl",
            "status": "modified",
            "additions": 0,
            "deletions": 75,
            "changes": 75,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Fsrc%2Fng_package%2Fng_package.bzl",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Fsrc%2Fng_package%2Fng_package.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fng_package%2Fng_package.bzl?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -30,14 +30,7 @@ def _debug(vars, *args):\n \n _DEFAULT_NG_PACKAGER = \"//@angular/bazel/bin:packager\"\n _DEFAULT_ROLLUP_CONFIG_TMPL = \"//:node_modules/@angular/bazel/src/ng_package/rollup.config.js\"\n-_DEFALUT_TERSER_CONFIG_FILE = \"//:node_modules/@angular/bazel/src/ng_package/terser_config.default.json\"\n _DEFAULT_ROLLUP = \"//@angular/bazel/src/ng_package:rollup_for_ng_package\"\n-_DEFAULT_TERSER = (\n-    # BEGIN-DEV-ONLY\n-    \"@npm\" +\n-    # END-DEV-ONLY\n-    \"//terser/bin:terser\"\n-)\n \n _NG_PACKAGE_MODULE_MAPPINGS_ATTR = \"ng_package_module_mappings\"\n \n@@ -136,46 +129,6 @@ WELL_KNOWN_GLOBALS = {p: _global_name(p) for p in [\n # TODO(gregmagolan): clean this up\n _DEPSET_TYPE = \"depset\"\n \n-def _terser(ctx, input, output):\n-    \"\"\"Runs terser on an input file.\n-\n-    Args:\n-      ctx: Bazel rule execution context\n-      input: input file\n-      output: output file\n-\n-    Returns:\n-      The sourcemap file\n-    \"\"\"\n-\n-    map_output = ctx.actions.declare_file(output.basename + \".map\", sibling = output)\n-\n-    args = ctx.actions.args()\n-\n-    args.add(input.path)\n-    args.add_all([\"--output\", output.path])\n-\n-    # Source mapping options are comma-packed into one argv\n-    # see https://github.com/terser-js/terser#command-line-usage\n-    source_map_opts = [\"includeSources\", \"base=\" + ctx.bin_dir.path]\n-\n-    # This option doesn't work in the config file, only on the CLI\n-    args.add_all([\"--source-map\", \",\".join(source_map_opts)])\n-\n-    args.add(\"--comments\")\n-\n-    args.add_all([\"--config-file\", ctx.file.terser_config_file.path])\n-\n-    ctx.actions.run(\n-        progress_message = \"Optimizing JavaScript %s [terser]\" % output.short_path,\n-        executable = ctx.executable.terser,\n-        inputs = [input, ctx.file.terser_config_file],\n-        outputs = [output, map_output],\n-        arguments = [args],\n-    )\n-\n-    return map_output\n-\n def _compute_node_modules_root(ctx):\n     \"\"\"Computes the node_modules root from the node_modules and deps attributes.\n \n@@ -478,11 +431,9 @@ def _ng_package_impl(ctx):\n             fesm_output_filename = entry_point.replace(\"/\", \"__\")\n             fesm2015_output = ctx.actions.declare_file(\"fesm2015/%s.js\" % fesm_output_filename)\n             umd_output = ctx.actions.declare_file(\"%s.umd.js\" % umd_output_filename)\n-            min_output = ctx.actions.declare_file(\"%s.umd.min.js\" % umd_output_filename)\n         else:\n             fesm2015_output = ctx.outputs.fesm2015\n             umd_output = ctx.outputs.umd\n-            min_output = ctx.outputs.umd_min\n \n         # Also include files from npm fine grained deps as inputs.\n         # These deps are identified by the NpmPackageInfo provider.\n@@ -526,13 +477,6 @@ def _ng_package_impl(ctx):\n             ),\n         )\n \n-        terser_sourcemap = _terser(\n-            ctx,\n-            umd_output,\n-            min_output,\n-        )\n-        bundles.append(struct(js = min_output, map = terser_sourcemap))\n-\n     packager_inputs = (\n         ctx.files.srcs +\n         ctx.files.data +\n@@ -715,24 +659,6 @@ _NG_PACKAGE_ATTRS = dict(PKG_NPM_ATTRS, **{\n         executable = True,\n         cfg = \"host\",\n     ),\n-    \"terser\": attr.label(\n-        executable = True,\n-        cfg = \"host\",\n-        default = Label(_DEFAULT_TERSER),\n-    ),\n-    \"terser_config_file\": attr.label(\n-        doc = \"\"\"A JSON file containing Terser minify() options.\n-\n-This is the file you would pass to the --config-file argument in terser's CLI.\n-https://github.com/terser-js/terser#minify-options documents the content of the file.\n-\n-If `config_file` isn't supplied, Bazel will use a default config file.\n-\"\"\",\n-        allow_single_file = True,\n-        # These defaults match how terser was run in the legacy built-in rollup_bundle rule.\n-        # We keep them the same so it's easier for users to migrate.\n-        default = Label(_DEFALUT_TERSER_CONFIG_FILE),\n-    ),\n     \"rollup_config_tmpl\": attr.label(\n         default = Label(_DEFAULT_ROLLUP_CONFIG_TMPL),\n         allow_single_file = True,\n@@ -794,7 +720,6 @@ def _ng_package_outputs(name, entry_point, entry_point_name):\n     outputs = {\n         \"fesm2015\": \"fesm2015/%s.js\" % basename,\n         \"umd\": \"%s.umd.js\" % basename,\n-        \"umd_min\": \"%s.umd.min.js\" % basename,\n     }\n     for key in PKG_NPM_OUTPUTS:\n         # PKG_NPM_OUTPUTS is a \"normal\" dict-valued outputs so it looks like"
        },
        {
            "sha": "7fe029be719efc523fd6ec7ae99c1192515b46ce",
            "filename": "packages/bazel/src/ng_package/terser_config.default.json",
            "status": "removed",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/beafa22de9aceadf0e6ba63d0124a2dab66ae6dd/packages%2Fbazel%2Fsrc%2Fng_package%2Fterser_config.default.json",
            "raw_url": "https://github.com/angular/angular/raw/beafa22de9aceadf0e6ba63d0124a2dab66ae6dd/packages%2Fbazel%2Fsrc%2Fng_package%2Fterser_config.default.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fsrc%2Fng_package%2Fterser_config.default.json?ref=beafa22de9aceadf0e6ba63d0124a2dab66ae6dd",
            "patch": "@@ -1,12 +0,0 @@\n-{\n-    \"compress\": {\n-        \"global_defs\": {\"ngDevMode\": false, \"ngI18nClosureMode\": false},\n-        \"keep_fnames\": true,\n-        \"passes\": 3,\n-        \"pure_getters\": true,\n-        \"reduce_funcs\": true,\n-        \"reduce_vars\": true,\n-        \"sequences\": true\n-    },\n-    \"mangle\": true\n-}\n\\ No newline at end of file"
        },
        {
            "sha": "5c0a5d42812f1e3f7dc426ee148fa92e5bb6fde4",
            "filename": "packages/bazel/test/ng_package/common_package.spec.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fcommon_package.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fcommon_package.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fcommon_package.spec.ts?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -40,24 +40,14 @@ describe('@angular/common ng_package', () => {\n     expect(shx.ls('-R', 'bundles').stdout.split('\\n').filter(n => !!n).sort()).toEqual([\n       'common-http-testing.umd.js',\n       'common-http-testing.umd.js.map',\n-      'common-http-testing.umd.min.js',\n-      'common-http-testing.umd.min.js.map',\n       'common-http.umd.js',\n       'common-http.umd.js.map',\n-      'common-http.umd.min.js',\n-      'common-http.umd.min.js.map',\n       'common-testing.umd.js',\n       'common-testing.umd.js.map',\n-      'common-testing.umd.min.js',\n-      'common-testing.umd.min.js.map',\n       'common-upgrade.umd.js',\n       'common-upgrade.umd.js.map',\n-      'common-upgrade.umd.min.js',\n-      'common-upgrade.umd.min.js.map',\n       'common.umd.js',\n       'common.umd.js.map',\n-      'common.umd.min.js',\n-      'common.umd.min.js.map',\n     ]);\n   });\n "
        },
        {
            "sha": "85ca637ae44eedcebcca2576a936c153f59979b1",
            "filename": "packages/bazel/test/ng_package/core_package.spec.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fcore_package.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fcore_package.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fcore_package.spec.ts?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -137,14 +137,6 @@ describe('@angular/core ng_package', () => {\n         expect(shx.ls('bundles/core.umd.js.map').length).toBe(1, 'File not found');\n       });\n \n-      it('should have a minified umd file in the /bundles directory', () => {\n-        expect(shx.ls('bundles/core.umd.min.js').length).toBe(1, 'File not found');\n-      });\n-\n-      it('should have a source map next to the minified umd file', () => {\n-        expect(shx.ls('bundles/core.umd.min.js.map').length).toBe(1, 'File not found');\n-      });\n-\n       it('should have the version info in the header', () => {\n         expect(shx.cat('bundles/core.umd.js'))\n             .toMatch(/@license Angular v\\d+\\.\\d+\\.\\d+(?!-PLACEHOLDER)/);\n@@ -235,14 +227,6 @@ describe('@angular/core ng_package', () => {\n         expect(shx.ls('bundles/core-testing.umd.js.map').length).toBe(1, 'File not found');\n       });\n \n-      it('should have a minified umd file in the /bundles directory', () => {\n-        expect(shx.ls('bundles/core-testing.umd.min.js').length).toBe(1, 'File not found');\n-      });\n-\n-      it('should have a source map next to the minified umd file', () => {\n-        expect(shx.ls('bundles/core-testing.umd.min.js.map').length).toBe(1, 'File not found');\n-      });\n-\n       it('should have an AMD name', () => {\n         expect(shx.cat('bundles/core-testing.umd.js'))\n             .toContain('define(\\'@angular/core/testing\\'');"
        },
        {
            "sha": "a51b82efbf3eb5f704c161570e4e6ad8edb018f0",
            "filename": "packages/bazel/test/ng_package/example_package.golden",
            "status": "modified",
            "additions": 0,
            "deletions": 104,
            "changes": 104,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_package.golden",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_package.golden",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_package.golden?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -11,20 +11,12 @@ arbitrary_genfiles.txt\n bundles\n   bundles/waffels-a11y.umd.js\n   bundles/waffels-a11y.umd.js.map\n-  bundles/waffels-a11y.umd.min.js\n-  bundles/waffels-a11y.umd.min.js.map\n   bundles/waffels-imports.umd.js\n   bundles/waffels-imports.umd.js.map\n-  bundles/waffels-imports.umd.min.js\n-  bundles/waffels-imports.umd.min.js.map\n   bundles/waffels-secondary.umd.js\n   bundles/waffels-secondary.umd.js.map\n-  bundles/waffels-secondary.umd.min.js\n-  bundles/waffels-secondary.umd.min.js.map\n   bundles/waffels.umd.js\n   bundles/waffels.umd.js.map\n-  bundles/waffels.umd.min.js\n-  bundles/waffels.umd.min.js.map\n esm2015\n   esm2015/a11y\n     esm2015/a11y/a11y.externs.js\n@@ -206,30 +198,6 @@ Hello\n //# sourceMappingURL=waffels-a11y.umd.js.map\n \n \n---- bundles/waffels-a11y.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?o(exports,require(\"@angular/core\")):\"function\"==typeof define&&define.amd?define(\"example/a11y\",[\"exports\",\"@angular/core\"],o):o(((e=e||self).example=e.example||{},e.example.a11y={}),e.ng.core)}(this,(function(e,o){\"use strict\";\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */var t;(t=function t(){}).decorators=[{type:o.NgModule,args:[{}]}],\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-e.A11yModule=t,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- bundles/waffels-imports.umd.js ---\n \n /**\n@@ -303,30 +271,6 @@ e.A11yModule=t,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n //# sourceMappingURL=waffels-imports.umd.js.map\n \n \n---- bundles/waffels-imports.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"@angular/core\")):\"function\"==typeof define&&define.amd?define(\"example/imports\",[\"exports\",\"@angular/core\"],t):t(((e=e||self).example=e.example||{},e.example.imports={}),e.ng.core)}(this,(function(e,t){\"use strict\";\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */var o,r;(o=function o(){}).ɵprov=t.ɵɵdefineInjectable({factory:function e(){return new o},token:o,providedIn:\"root\"}),o.decorators=[{type:t.Injectable,args:[{providedIn:\"root\"}]}],(r=function r(e){this.secondService=e}).ɵprov=t.ɵɵdefineInjectable({factory:function e(){return new r(t.ɵɵinject(o))},token:r,providedIn:\"root\"}),r.decorators=[{type:t.Injectable,args:[{providedIn:\"root\"}]}],r.ctorParameters=function(){return[{type:o}]},\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-e.MyService=r,e.ɵangular_packages_bazel_test_ng_package_example_imports_imports_a=o,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- bundles/waffels-secondary.umd.js ---\n \n /**\n@@ -379,30 +323,6 @@ e.MyService=r,e.ɵangular_packages_bazel_test_ng_package_example_imports_imports\n //# sourceMappingURL=waffels-secondary.umd.js.map\n \n \n---- bundles/waffels-secondary.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?o(exports,require(\"@angular/core\")):\"function\"==typeof define&&define.amd?define(\"example/secondary\",[\"exports\",\"@angular/core\"],o):o(((e=e||self).example=e.example||{},e.example.secondary={}),e.ng.core)}(this,(function(e,o){\"use strict\";\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */var n;(n=function n(){}).decorators=[{type:o.NgModule,args:[{}]}],\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-e.SecondaryModule=n,e.a=1,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- bundles/waffels.umd.js ---\n \n /**\n@@ -453,30 +373,6 @@ e.SecondaryModule=n,e.a=1,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n //# sourceMappingURL=waffels.umd.js.map\n \n \n---- bundles/waffels.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?o(exports,require(\"@angular/core\")):\"function\"==typeof define&&define.amd?define(\"example\",[\"exports\",\"@angular/core\"],o):o((e=e||self).example={},e.ng.core)}(this,(function(e,o){\"use strict\";\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */var t;(t=function t(){}).decorators=[{type:o.NgModule,args:[{}]}],\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-e.MyModule=t,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- esm2015/a11y/a11y.externs.js ---\n \n /** @externs */"
        },
        {
            "sha": "29f7ed4636032c84f96b8c204f846dab7e01d2d2",
            "filename": "packages/bazel/test/ng_package/example_with_ts_library_package.golden",
            "status": "modified",
            "additions": 0,
            "deletions": 70,
            "changes": 70,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_with_ts_library_package.golden",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_with_ts_library_package.golden",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_with_ts_library_package.golden?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -2,16 +2,10 @@ README.md\n bundles\n   bundles/example-with-ts-library-portal.umd.js\n   bundles/example-with-ts-library-portal.umd.js.map\n-  bundles/example-with-ts-library-portal.umd.min.js\n-  bundles/example-with-ts-library-portal.umd.min.js.map\n   bundles/example-with-ts-library-utils.umd.js\n   bundles/example-with-ts-library-utils.umd.js.map\n-  bundles/example-with-ts-library-utils.umd.min.js\n-  bundles/example-with-ts-library-utils.umd.min.js.map\n   bundles/example-with-ts-library.umd.js\n   bundles/example-with-ts-library.umd.js.map\n-  bundles/example-with-ts-library.umd.min.js\n-  bundles/example-with-ts-library.umd.min.js.map\n esm2015\n   esm2015/example.externs.js\n   esm2015/index.js\n@@ -110,30 +104,6 @@ License: MIT\n //# sourceMappingURL=example-with-ts-library-portal.umd.js.map\n \n \n---- bundles/example-with-ts-library-portal.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?r(exports,require(\"@angular/core\")):\"function\"==typeof define&&define.amd?define(\"example-with-ts-library/portal\",[\"exports\",\"@angular/core\"],r):r(((e=e||self).exampleWithTsLibrary=e.exampleWithTsLibrary||{},e.exampleWithTsLibrary.portal={}),e.ng.core)}(this,(function(e,r){\"use strict\";\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */var t;(t=function t(){}).decorators=[{type:r.NgModule,args:[{}]}],\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-e.PortalModule=t,e.a=1,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- bundles/example-with-ts-library-utils.umd.js ---\n \n /**\n@@ -175,30 +145,6 @@ e.PortalModule=t,e.a=1,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n //# sourceMappingURL=example-with-ts-library-utils.umd.js.map\n \n \n---- bundles/example-with-ts-library-utils.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define(\"example-with-ts-library/utils\",[\"exports\"],t):t(((e=e||self).exampleWithTsLibrary=e.exampleWithTsLibrary||{},e.exampleWithTsLibrary.utils={}))}(this,(function(e){\"use strict\";\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-/**\n-     * @license\n-     * Copyright Google LLC All Rights Reserved.\n-     *\n-     * Use of this source code is governed by an MIT-style license that can be\n-     * found in the LICENSE file at https://angular.io/license\n-     */\n-e.dispatchFakeEvent=function t(e,i){e.dispatchEvent(i)},Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- bundles/example-with-ts-library.umd.js ---\n \n /**\n@@ -230,22 +176,6 @@ e.dispatchFakeEvent=function t(e,i){e.dispatchEvent(i)},Object.defineProperty(e,\n //# sourceMappingURL=example-with-ts-library.umd.js.map\n \n \n---- bundles/example-with-ts-library.umd.min.js ---\n-\n-/**\n- * @license Angular v0.0.0\n- * (c) 2010-2021 Google LLC. https://angular.io/\n- * License: MIT\n- */\n-!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define(\"example-with-ts-library\",[\"exports\"],t):t((e=e||self).exampleWithTsLibrary={})}(this,(function(e){\"use strict\";\n-/**\n-\t * @license\n-\t * Copyright Google LLC All Rights Reserved.\n-\t *\n-\t * Use of this source code is governed by an MIT-style license that can be\n-\t * found in the LICENSE file at https://angular.io/license\n-\t */e.VERSION=\"0.0.0\",Object.defineProperty(e,\"__esModule\",{value:!0})}));\n-\n --- esm2015/example.externs.js ---\n \n "
        },
        {
            "sha": "e3c7920e970248bc7c4f6d867a4a1df5dd5d549f",
            "filename": "tools/defaults.bzl",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/tools%2Fdefaults.bzl",
            "raw_url": "https://github.com/angular/angular/raw/5a8bc1bfe1c809705dfaa7e4723dd055308cd468/tools%2Fdefaults.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fdefaults.bzl?ref=5a8bc1bfe1c809705dfaa7e4723dd055308cd468",
            "patch": "@@ -19,7 +19,6 @@ _INTERNAL_NG_MODULE_API_EXTRACTOR = \"//packages/bazel/src/api-extractor:api_extr\n _INTERNAL_NG_MODULE_COMPILER = \"//packages/bazel/src/ngc-wrapped\"\n _INTERNAL_NG_MODULE_XI18N = \"//packages/bazel/src/ngc-wrapped:xi18n\"\n _INTERNAL_NG_PACKAGE_PACKAGER = \"//packages/bazel/src/ng_package:packager\"\n-_INTERNAL_NG_PACKAGE_DEFALUT_TERSER_CONFIG_FILE = \"//packages/bazel/src/ng_package:terser_config.default.json\"\n _INTERNAL_NG_PACKAGE_DEFAULT_ROLLUP_CONFIG_TMPL = \"//packages/bazel/src/ng_package:rollup.config.js\"\n _INTERNAL_NG_PACKAGE_DEFAULT_ROLLUP = \"//packages/bazel/src/ng_package:rollup_for_ng_package\"\n \n@@ -189,7 +188,6 @@ def ng_package(name, readme_md = None, license_banner = None, deps = [], **kwarg\n             \"//conditions:default\": substitutions,\n         }),\n         ng_packager = _INTERNAL_NG_PACKAGE_PACKAGER,\n-        terser_config_file = _INTERNAL_NG_PACKAGE_DEFALUT_TERSER_CONFIG_FILE,\n         rollup_config_tmpl = _INTERNAL_NG_PACKAGE_DEFAULT_ROLLUP_CONFIG_TMPL,\n         rollup = _INTERNAL_NG_PACKAGE_DEFAULT_ROLLUP,\n         visibility = visibility,"
        }
    ],
    "stats": {
        "total": 311,
        "additions": 11,
        "deletions": 300
    }
}