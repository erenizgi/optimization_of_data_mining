{
    "author": "devversion",
    "message": "build: simplify logic for integration test starlark macro (#43431)\n\nSimplifies the `last_segment_name` computation in the integration\ntest Starlark macro we use. The last segment name could be computed\nin a shorter way and this has come up while being at it (through review;\nso this commit addresses that).\n\nPR Close #43431",
    "sha": "ce7fabebc2b29fb9e4674f111cf337306cd3bc29",
    "files": [
        {
            "sha": "f55c2dd4a5d9980e68866b00feb36fc4094392ad",
            "filename": "integration/angular_integration_test.bzl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/ce7fabebc2b29fb9e4674f111cf337306cd3bc29/integration%2Fangular_integration_test.bzl",
            "raw_url": "https://github.com/angular/angular/raw/ce7fabebc2b29fb9e4674f111cf337306cd3bc29/integration%2Fangular_integration_test.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fangular_integration_test.bzl?ref=ce7fabebc2b29fb9e4674f111cf337306cd3bc29",
            "patch": "@@ -76,7 +76,7 @@ def npm_package_archives():\n \"\"\"\n     for name in npm_packages_to_archive:\n         label_name = _npm_package_archive_label(name)\n-        last_segment_name = name if name.find(\"/\") == -1 else name.split(\"/\")[-1]\n+        last_segment_name = name.split(\"/\")[-1]\n         result += \"\"\"pkg_tar(\n     name = \"{label_name}\",\n     srcs = [\"//{name}:{last_segment_name}__all_files\"],\n@@ -143,7 +143,7 @@ def _angular_integration_test(name, **kwargs):\n         if pkg in use_view_engine_packages:\n             npm_packages[\"@npm//:\" + _npm_package_archive_label(\"%s-12\" % pkg)] = pkg\n         else:\n-            last_segment_name = pkg if pkg.find(\"/\") == -1 else pkg.split(\"/\")[-1]\n+            last_segment_name = pkg.split(\"/\")[-1]\n             npm_packages[\"//packages/%s:npm_package_archive\" % last_segment_name] = pkg\n \n     npm_integration_test("
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}