{
    "author": "gkalpak",
    "message": "build(docs-infra): enable linting for `deploy-to-firebase` scripts (#43963)\n\nThis commit enables linting for the scripts in\n`aio/scripts/deploy-to-firebase/`. It also makes the necessary changes\nto the files to make linting pass.\n\nPR Close #43963",
    "sha": "2baadb92e8dbf37f54b616d553235b5b4bfc211b",
    "files": [
        {
            "sha": "8e86ae3f686baf4ad6a7e24febc88a02ad789b9e",
            "filename": "aio/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/2baadb92e8dbf37f54b616d553235b5b4bfc211b/aio%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/2baadb92e8dbf37f54b616d553235b5b4bfc211b/aio%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fpackage.json?ref=2baadb92e8dbf37f54b616d553235b5b4bfc211b",
            "patch": "@@ -56,7 +56,7 @@\n     \"docs-test\": \"node tools/transforms/test.js\",\n     \"redirects-test\": \"node tests/deployment/unit/test\",\n     \"firebase-utils-test\": \"node tools/firebase-test-utils/test\",\n-    \"tools-lint\": \"eslint tools/firebase-test-utils && eslint tools/ng-packages-installer\",\n+    \"tools-lint\": \"eslint scripts/deploy-to-firebase && eslint tools/firebase-test-utils && eslint tools/ng-packages-installer\",\n     \"tools-test\": \"yarn docs-test && yarn boilerplate:test && jasmine tools/ng-packages-installer/index.spec.js && jasmine scripts/deploy-to-firebase/**/*.spec.js && yarn firebase-utils-test\",\n     \"preserve-and-sync\": \"yarn docs\",\n     \"serve-and-sync\": \"run-p \\\"docs-watch --watch-only\\\" \\\"start {@}\\\" --\","
        },
        {
            "sha": "dcbdb8cfecd1e71ac7b623194e6fc2bfb2d84220",
            "filename": "aio/scripts/deploy-to-firebase/.eslintrc.js",
            "status": "added",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/2baadb92e8dbf37f54b616d553235b5b4bfc211b/aio%2Fscripts%2Fdeploy-to-firebase%2F.eslintrc.js",
            "raw_url": "https://github.com/angular/angular/raw/2baadb92e8dbf37f54b616d553235b5b4bfc211b/aio%2Fscripts%2Fdeploy-to-firebase%2F.eslintrc.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fscripts%2Fdeploy-to-firebase%2F.eslintrc.js?ref=2baadb92e8dbf37f54b616d553235b5b4bfc211b",
            "patch": "@@ -0,0 +1,35 @@\n+module.exports = {\n+  extends: [\n+    'eslint:recommended',\n+    'plugin:jasmine/recommended',\n+  ],\n+  env: {\n+    es2020: true,\n+    jasmine: true,\n+    node: true,\n+  },\n+  plugins: [\n+    'jasmine',\n+  ],\n+  rules: {\n+    'indent': ['error', 2, {\n+      'CallExpression': {\n+        'arguments': 2,\n+      },\n+      'FunctionDeclaration': {\n+        'parameters': 2,\n+      },\n+      'FunctionExpression': {\n+        'parameters': 2,\n+      },\n+      'MemberExpression': 2,\n+      'SwitchCase': 1,\n+    }],\n+    'linebreak-style': ['error', 'unix'],\n+    'max-len': ['error', {'code': 100, 'ignoreUrls': true}],\n+    'quotes': ['error', 'single'],\n+    'semi': ['error', 'always'],\n+    'jasmine/new-line-before-expect': ['off'],\n+    'jasmine/no-spec-dupes': ['warn', 'branch'],\n+  },\n+};"
        },
        {
            "sha": "a29cc31119bdce7f87d746e7fc8c4cbfd54ac6ca",
            "filename": "aio/scripts/deploy-to-firebase/index.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/2baadb92e8dbf37f54b616d553235b5b4bfc211b/aio%2Fscripts%2Fdeploy-to-firebase%2Findex.js",
            "raw_url": "https://github.com/angular/angular/raw/2baadb92e8dbf37f54b616d553235b5b4bfc211b/aio%2Fscripts%2Fdeploy-to-firebase%2Findex.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fscripts%2Fdeploy-to-firebase%2Findex.js?ref=2baadb92e8dbf37f54b616d553235b5b4bfc211b",
            "patch": "@@ -270,9 +270,9 @@ function getRemoteRefs(refOrPattern, {remote = NG_REMOTE_URL, retrieveFromCache\n   // a new commit on a branch while the tests execute, which would cause `getLatestCommit()` to\n   // return a different value).\n   const cmd = `git ls-remote ${remote} ${refOrPattern}`;\n-  const result = (retrieveFromCache && GIT_REMOTE_REFS_CACHE.has(cmd))\n-      ? GIT_REMOTE_REFS_CACHE.get(cmd)\n-      : exec(cmd, {silent: true}).trim().split('\\n');\n+  const result = (retrieveFromCache && GIT_REMOTE_REFS_CACHE.has(cmd)) ?\n+    GIT_REMOTE_REFS_CACHE.get(cmd) :\n+    exec(cmd, {silent: true}).trim().split('\\n');\n \n   // Cache the result for future use (regardless of the value of `retrieveFromCache`).\n   GIT_REMOTE_REFS_CACHE.set(cmd, result);"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 39,
        "deletions": 4
    }
}