{
    "author": "arturovt",
    "message": "perf(core): use `ngDevMode` to tree-shake warnings (#39959)\n\nThis commit adds `ngDevMode` guard to show sanitization warnings only\nin dev mode (similar to how things work in other parts of Ivy runtime code).\nThe `ngDevMode` flag helps to tree-shake these warnings from production builds\n(in dev mode everything will work as it works right now) to decrease production bundle size.\n\nPR Close #39959",
    "sha": "8b0cccca457801aa57427effc28c3dfe6b037c29",
    "files": [
        {
            "sha": "a06f63162e6a3e321b657908acadeeb1595c07b0",
            "filename": "goldens/size-tracking/integration-payloads.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/8b0cccca457801aa57427effc28c3dfe6b037c29/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/8b0cccca457801aa57427effc28c3dfe6b037c29/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Fintegration-payloads.json?ref=8b0cccca457801aa57427effc28c3dfe6b037c29",
            "patch": "@@ -39,7 +39,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 2285,\n-        \"main-es2015\": 242455,\n+        \"main-es2015\": 241837,\n         \"polyfills-es2015\": 36709,\n         \"5-es2015\": 745\n       }"
        },
        {
            "sha": "b5121d452a434b250a488658ca5fafe111869b64",
            "filename": "packages/core/src/sanitization/html_sanitizer.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8b0cccca457801aa57427effc28c3dfe6b037c29/packages%2Fcore%2Fsrc%2Fsanitization%2Fhtml_sanitizer.ts",
            "raw_url": "https://github.com/angular/angular/raw/8b0cccca457801aa57427effc28c3dfe6b037c29/packages%2Fcore%2Fsrc%2Fsanitization%2Fhtml_sanitizer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fsanitization%2Fhtml_sanitizer.ts?ref=8b0cccca457801aa57427effc28c3dfe6b037c29",
            "patch": "@@ -6,7 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {isDevMode} from '../util/is_dev_mode';\n import {TrustedHTML} from '../util/security/trusted_type_defs';\n import {trustedHTMLFromString} from '../util/security/trusted_types';\n import {getInertBodyHelper, InertBodyHelper} from './inert_body';\n@@ -271,7 +270,7 @@ export function _sanitizeHtml(defaultDoc: any, unsafeHtmlInput: string): Trusted\n     const sanitizer = new SanitizingHtmlSerializer();\n     const safeHtml = sanitizer.sanitizeChildren(\n         getTemplateContent(inertBodyElement!) as Element || inertBodyElement);\n-    if (isDevMode() && sanitizer.sanitizedSomething) {\n+    if ((typeof ngDevMode === 'undefined' || ngDevMode) && sanitizer.sanitizedSomething) {\n       console.warn(\n           'WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss');\n     }"
        },
        {
            "sha": "526927e4f2d7ab2b18c60c0de2812ea8243011e7",
            "filename": "packages/core/src/sanitization/url_sanitizer.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/8b0cccca457801aa57427effc28c3dfe6b037c29/packages%2Fcore%2Fsrc%2Fsanitization%2Furl_sanitizer.ts",
            "raw_url": "https://github.com/angular/angular/raw/8b0cccca457801aa57427effc28c3dfe6b037c29/packages%2Fcore%2Fsrc%2Fsanitization%2Furl_sanitizer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fsanitization%2Furl_sanitizer.ts?ref=8b0cccca457801aa57427effc28c3dfe6b037c29",
            "patch": "@@ -6,7 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {isDevMode} from '../util/is_dev_mode';\n \n /**\n  * A pattern that recognizes a commonly useful subset of URLs that are safe.\n@@ -47,7 +46,7 @@ export function _sanitizeUrl(url: string): string {\n   url = String(url);\n   if (url.match(SAFE_URL_PATTERN) || url.match(DATA_URL_PATTERN)) return url;\n \n-  if (isDevMode()) {\n+  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n     console.warn(`WARNING: sanitizing unsafe URL value ${url} (see https://g.co/ng/security#xss)`);\n   }\n "
        }
    ],
    "stats": {
        "total": 8,
        "additions": 3,
        "deletions": 5
    }
}