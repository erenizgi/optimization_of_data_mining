{
    "author": "gkalpak",
    "message": "test(service-worker): use correct assertion in tests (#43518)\n\nPreviously, a ServiceWorker test was using the\n`MockServerState#sawRequestFor()` method. This method, however, only\nreturns a boolean indicating whether a request had been seen, but would\nnot throw an error in either case.\n\nSince the intention was to assert that a specific request was made, this\ncommit switches to the correct `MockServerState#assertSawRequestFor()`\nmethod.\n\nPR Close #43518",
    "sha": "f1497245fb0376df4fee49317e7b87e5b45d7e44",
    "files": [
        {
            "sha": "2d318e872e9123ac291d388494091e3aeec6ae34",
            "filename": "packages/service-worker/worker/test/happy_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/f1497245fb0376df4fee49317e7b87e5b45d7e44/packages%2Fservice-worker%2Fworker%2Ftest%2Fhappy_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/f1497245fb0376df4fee49317e7b87e5b45d7e44/packages%2Fservice-worker%2Fworker%2Ftest%2Fhappy_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2Fworker%2Ftest%2Fhappy_spec.ts?ref=f1497245fb0376df4fee49317e7b87e5b45d7e44",
            "patch": "@@ -2045,12 +2045,12 @@ describe('Driver', () => {\n       // `client1`).\n       expect(await makeRequest(scope, '/bar.txt', 'client1')).toBe('this is bar (broken)');\n       expect(driver.state).toBe(DriverReadyState.EXISTING_CLIENTS_ONLY);\n-      brokenLazyServer.sawRequestFor('/bar.txt');\n+      brokenLazyServer.assertSawRequestFor('/bar.txt');\n       brokenLazyServer.clearRequests();\n \n-      // `client1` should not be served from the network.\n+      // `client1` should now be served from the network.\n       expect(await makeRequest(scope, '/foo.txt', 'client1')).toBe('this is foo (broken)');\n-      brokenLazyServer.sawRequestFor('/foo.txt');\n+      brokenLazyServer.assertSawRequestFor('/foo.txt');\n \n       // `client2` should still be served from the old version (since it never updated).\n       expect(await makeRequest(scope, '/foo.txt', 'client2')).toBe('this is foo');"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}