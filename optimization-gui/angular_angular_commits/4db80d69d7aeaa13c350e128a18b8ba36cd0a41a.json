{
    "author": "josephperrott",
    "message": "ci: stop publishing snapshots to angular/dev-infra-private-builds (#43059)\n\nWe no longer publish to angular/dev-infra-private-builds as the dev-infra\ncontent has been moved to angular/dev-infra.\n\nPR Close #43059",
    "sha": "4db80d69d7aeaa13c350e128a18b8ba36cd0a41a",
    "files": [
        {
            "sha": "c0f7c641ccec644bc11bd7da21f037cec9f0b07e",
            "filename": "scripts/build/build-packages-dist.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/4db80d69d7aeaa13c350e128a18b8ba36cd0a41a/scripts%2Fbuild%2Fbuild-packages-dist.js",
            "raw_url": "https://github.com/angular/angular/raw/4db80d69d7aeaa13c350e128a18b8ba36cd0a41a/scripts%2Fbuild%2Fbuild-packages-dist.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fbuild%2Fbuild-packages-dist.js?ref=4db80d69d7aeaa13c350e128a18b8ba36cd0a41a",
            "patch": "@@ -10,17 +10,13 @@\n 'use strict';\n \n const {buildAngularInMemoryWebApiPackage} = require('./angular-in-memory-web-api');\n-const {buildDevInfraPackage} = require('./dev-infra-builder');\n const {buildTargetPackages} = require('./package-builder');\n const {buildZoneJsPackage} = require('./zone-js-builder');\n \n \n // Build the legacy (view engine) npm packages into `dist/packages-dist/`.\n buildTargetPackages('dist/packages-dist', false, 'Production');\n \n-// Build the `angular-dev-infra` npm package into `dist/packages-dist/`.\n-buildDevInfraPackage('dist/packages-dist');\n-\n // Build the `angular-in-memory-web-api` npm package into `dist/angular-in-memory-web-api-dist/`,\n // because it might be needed by other scripts/targets.\n buildAngularInMemoryWebApiPackage('dist/angular-in-memory-web-api-dist');"
        },
        {
            "sha": "b83877dcf8af610985b600bf9c5b81a94eff7444",
            "filename": "scripts/build/dev-infra-builder.js",
            "status": "removed",
            "additions": 0,
            "deletions": 48,
            "changes": 48,
            "blob_url": "https://github.com/angular/angular/blob/644f1b392417926c091d025f901e697a1781fd4d/scripts%2Fbuild%2Fdev-infra-builder.js",
            "raw_url": "https://github.com/angular/angular/raw/644f1b392417926c091d025f901e697a1781fd4d/scripts%2Fbuild%2Fdev-infra-builder.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fbuild%2Fdev-infra-builder.js?ref=644f1b392417926c091d025f901e697a1781fd4d",
            "patch": "@@ -1,48 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-'use strict';\n-\n-const {resolve} = require('path');\n-const {chmod, cp, mkdir, rm, test} = require('shelljs');\n-const {baseDir, bazelBin, bazelCmd, exec, scriptPath} = require('./package-builder');\n-\n-\n-module.exports = {\n-  buildDevInfraPackage,\n-};\n-\n-/**\n- * Build the `@angular/dev-infra-private` npm package into `destDir`.\n- *\n- * @param {string} destDir Path to the output directory into which we copy the npm package.\n- *     This path should either be absolute or relative to the project root.\n- */\n-function buildDevInfraPackage(destDir) {\n-  console.info('##############################');\n-  console.info(`${scriptPath}:`);\n-  console.info('  Building @angular/dev-infra-private npm package');\n-  console.info('##############################');\n-  exec(`${bazelCmd} build //dev-infra:npm_package`);\n-\n-  // Create the output directory.\n-  const absDestDir = resolve(baseDir, destDir);\n-  if (!test('-d', absDestDir)) {\n-    mkdir('-p', absDestDir);\n-  }\n-\n-  const buildOutputDir = `${bazelBin}/dev-infra/npm_package`;\n-  const distTargetDir = `${absDestDir}/dev-infra-private`;\n-\n-  console.info(`# Copy artifacts to ${distTargetDir}`);\n-  rm('-rf', distTargetDir);\n-  cp('-R', buildOutputDir, distTargetDir);\n-  chmod('-R', 'u+w', distTargetDir);\n-\n-  console.info('');\n-}"
        }
    ],
    "stats": {
        "total": 52,
        "additions": 0,
        "deletions": 52
    }
}