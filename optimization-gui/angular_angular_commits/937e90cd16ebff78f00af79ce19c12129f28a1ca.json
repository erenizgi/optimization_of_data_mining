{
    "author": "AndrewKushnir",
    "message": "perf(forms): make built-in ControlValueAccessors more tree-shakable (#41146)\n\nThis commit updates Forms code to avoid direct references to all built-in ControlValueAccessor classes, which\nprevents their tree-shaking from production builds. Instead, a new static property is added to all built-in\nControlValueAccessors, which is checked when we need to identify whether a given ControlValueAccessors is a\nbuilt-in one.\n\nPR Close #41146",
    "sha": "937e90cd16ebff78f00af79ce19c12129f28a1ca",
    "files": [
        {
            "sha": "9a5238297ea5c35a9fab7424807a8d6bdaefb4c2",
            "filename": "goldens/public-api/forms/forms.d.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/goldens%2Fpublic-api%2Fforms%2Fforms.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/goldens%2Fpublic-api%2Fforms%2Fforms.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fforms%2Fforms.d.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -112,7 +112,7 @@ export declare interface AsyncValidatorFn {\n     (control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null>;\n }\n \n-export declare class CheckboxControlValueAccessor implements ControlValueAccessor {\n+export declare class CheckboxControlValueAccessor extends ɵangular_packages_forms_forms_f implements ControlValueAccessor {\n     onChange: (_: any) => void;\n     onTouched: () => void;\n     constructor(_renderer: Renderer2, _elementRef: ElementRef);\n@@ -382,11 +382,11 @@ export declare abstract class NgControl extends AbstractControlDirective {\n     abstract viewToModelUpdate(newValue: any): void;\n }\n \n-export declare class NgControlStatus extends ɵangular_packages_forms_forms_g {\n+export declare class NgControlStatus extends ɵangular_packages_forms_forms_h {\n     constructor(cd: NgControl);\n }\n \n-export declare class NgControlStatusGroup extends ɵangular_packages_forms_forms_g {\n+export declare class NgControlStatusGroup extends ɵangular_packages_forms_forms_h {\n     constructor(cd: ControlContainer);\n }\n \n@@ -454,7 +454,7 @@ export declare class NgSelectOption implements OnDestroy {\n     ngOnDestroy(): void;\n }\n \n-export declare class NumberValueAccessor implements ControlValueAccessor {\n+export declare class NumberValueAccessor extends ɵangular_packages_forms_forms_f implements ControlValueAccessor {\n     onChange: (_: any) => void;\n     onTouched: () => void;\n     constructor(_renderer: Renderer2, _elementRef: ElementRef);\n@@ -471,13 +471,13 @@ export declare class PatternValidator implements Validator, OnChanges {\n     validate(control: AbstractControl): ValidationErrors | null;\n }\n \n-export declare class RadioControlValueAccessor implements ControlValueAccessor, OnDestroy, OnInit {\n+export declare class RadioControlValueAccessor extends ɵangular_packages_forms_forms_f implements ControlValueAccessor, OnDestroy, OnInit {\n     formControlName: string;\n     name: string;\n     onChange: () => void;\n     onTouched: () => void;\n     value: any;\n-    constructor(_renderer: Renderer2, _elementRef: ElementRef, _registry: ɵangular_packages_forms_forms_n, _injector: Injector);\n+    constructor(_renderer: Renderer2, _elementRef: ElementRef, _registry: ɵangular_packages_forms_forms_o, _injector: Injector);\n     fireUncheck(value: any): void;\n     ngOnDestroy(): void;\n     ngOnInit(): void;\n@@ -487,7 +487,7 @@ export declare class RadioControlValueAccessor implements ControlValueAccessor,\n     writeValue(value: any): void;\n }\n \n-export declare class RangeValueAccessor implements ControlValueAccessor {\n+export declare class RangeValueAccessor extends ɵangular_packages_forms_forms_f implements ControlValueAccessor {\n     onChange: (_: any) => void;\n     onTouched: () => void;\n     constructor(_renderer: Renderer2, _elementRef: ElementRef);\n@@ -509,7 +509,7 @@ export declare class RequiredValidator implements Validator {\n     validate(control: AbstractControl): ValidationErrors | null;\n }\n \n-export declare class SelectControlValueAccessor implements ControlValueAccessor {\n+export declare class SelectControlValueAccessor extends ɵangular_packages_forms_forms_f implements ControlValueAccessor {\n     set compareWith(fn: (o1: any, o2: any) => boolean);\n     onChange: (_: any) => void;\n     onTouched: () => void;\n@@ -521,7 +521,7 @@ export declare class SelectControlValueAccessor implements ControlValueAccessor\n     writeValue(value: any): void;\n }\n \n-export declare class SelectMultipleControlValueAccessor implements ControlValueAccessor {\n+export declare class SelectMultipleControlValueAccessor extends ɵangular_packages_forms_forms_f implements ControlValueAccessor {\n     set compareWith(fn: (o1: any, o2: any) => boolean);\n     onChange: (_: any) => void;\n     onTouched: () => void;"
        },
        {
            "sha": "3ce92ef0ddc9f1d583a33ee58fbad2704b237b40",
            "filename": "goldens/size-tracking/integration-payloads.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Fintegration-payloads.json?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -59,7 +59,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 1485,\n-        \"main-es2015\": 168534,\n+        \"main-es2015\": 162346,\n         \"polyfills-es2015\": 36975\n       }\n     }"
        },
        {
            "sha": "1ad3f2401cfa9c97ae521fbf18c50e995f9d6f41",
            "filename": "packages/core/test/bundling/forms_reactive/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 33,
            "changes": 36,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_reactive%2Fbundle.golden_symbols.json?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -44,9 +44,6 @@\n   {\n     \"name\": \"BROWSER_MODULE_PROVIDERS\"\n   },\n-  {\n-    \"name\": \"BUILTIN_ACCESSORS\"\n-  },\n   {\n     \"name\": \"BrowserDomAdapter\"\n   },\n@@ -56,6 +53,9 @@\n   {\n     \"name\": \"BrowserModule\"\n   },\n+  {\n+    \"name\": \"BuiltInControlValueAccessor\"\n+  },\n   {\n     \"name\": \"CHECKBOX_VALUE_ACCESSOR\"\n   },\n@@ -368,9 +368,6 @@\n   {\n     \"name\": \"NULL_INJECTOR\"\n   },\n-  {\n-    \"name\": \"NUMBER_VALUE_ACCESSOR\"\n-  },\n   {\n     \"name\": \"NgControl\"\n   },\n@@ -419,9 +416,6 @@\n   {\n     \"name\": \"NullInjector\"\n   },\n-  {\n-    \"name\": \"NumberValueAccessor\"\n-  },\n   {\n     \"name\": \"ObjectUnsubscribedError\"\n   },\n@@ -455,21 +449,9 @@\n   {\n     \"name\": \"R3ViewContainerRef\"\n   },\n-  {\n-    \"name\": \"RADIO_VALUE_ACCESSOR\"\n-  },\n-  {\n-    \"name\": \"RANGE_VALUE_ACCESSOR\"\n-  },\n   {\n     \"name\": \"RadioControlRegistry\"\n   },\n-  {\n-    \"name\": \"RadioControlValueAccessor\"\n-  },\n-  {\n-    \"name\": \"RangeValueAccessor\"\n-  },\n   {\n     \"name\": \"ReactiveFormsComponent\"\n   },\n@@ -509,12 +491,6 @@\n   {\n     \"name\": \"SCHEDULER\"\n   },\n-  {\n-    \"name\": \"SELECT_MULTIPLE_VALUE_ACCESSOR\"\n-  },\n-  {\n-    \"name\": \"SELECT_VALUE_ACCESSOR\"\n-  },\n   {\n     \"name\": \"SERVER_TRANSITION_PROVIDERS\"\n   },\n@@ -536,12 +512,6 @@\n   {\n     \"name\": \"Sanitizer\"\n   },\n-  {\n-    \"name\": \"SelectControlValueAccessor\"\n-  },\n-  {\n-    \"name\": \"SelectMultipleControlValueAccessor\"\n-  },\n   {\n     \"name\": \"ShadowDomRenderer\"\n   },"
        },
        {
            "sha": "decbbcc8e2f8195b7c4300508c2231210b709b8a",
            "filename": "packages/core/test/bundling/forms_template_driven/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 33,
            "changes": 36,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms_template_driven%2Fbundle.golden_symbols.json?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -44,9 +44,6 @@\n   {\n     \"name\": \"BROWSER_MODULE_PROVIDERS\"\n   },\n-  {\n-    \"name\": \"BUILTIN_ACCESSORS\"\n-  },\n   {\n     \"name\": \"BrowserDomAdapter\"\n   },\n@@ -56,6 +53,9 @@\n   {\n     \"name\": \"BrowserModule\"\n   },\n+  {\n+    \"name\": \"BuiltInControlValueAccessor\"\n+  },\n   {\n     \"name\": \"CHECKBOX_VALUE_ACCESSOR\"\n   },\n@@ -353,9 +353,6 @@\n   {\n     \"name\": \"NULL_INJECTOR\"\n   },\n-  {\n-    \"name\": \"NUMBER_VALUE_ACCESSOR\"\n-  },\n   {\n     \"name\": \"NgControl\"\n   },\n@@ -413,9 +410,6 @@\n   {\n     \"name\": \"NullInjector\"\n   },\n-  {\n-    \"name\": \"NumberValueAccessor\"\n-  },\n   {\n     \"name\": \"ObjectUnsubscribedError\"\n   },\n@@ -449,24 +443,12 @@\n   {\n     \"name\": \"R3ViewContainerRef\"\n   },\n-  {\n-    \"name\": \"RADIO_VALUE_ACCESSOR\"\n-  },\n-  {\n-    \"name\": \"RANGE_VALUE_ACCESSOR\"\n-  },\n   {\n     \"name\": \"REQUIRED_VALIDATOR\"\n   },\n   {\n     \"name\": \"RadioControlRegistry\"\n   },\n-  {\n-    \"name\": \"RadioControlValueAccessor\"\n-  },\n-  {\n-    \"name\": \"RangeValueAccessor\"\n-  },\n   {\n     \"name\": \"RecordViewTuple\"\n   },\n@@ -500,12 +482,6 @@\n   {\n     \"name\": \"SCHEDULER\"\n   },\n-  {\n-    \"name\": \"SELECT_MULTIPLE_VALUE_ACCESSOR\"\n-  },\n-  {\n-    \"name\": \"SELECT_VALUE_ACCESSOR\"\n-  },\n   {\n     \"name\": \"SERVER_TRANSITION_PROVIDERS\"\n   },\n@@ -527,12 +503,6 @@\n   {\n     \"name\": \"Sanitizer\"\n   },\n-  {\n-    \"name\": \"SelectControlValueAccessor\"\n-  },\n-  {\n-    \"name\": \"SelectMultipleControlValueAccessor\"\n-  },\n   {\n     \"name\": \"ShadowDomRenderer\"\n   },"
        },
        {
            "sha": "c2d97e19c8280436d43c3935f4331b9dc0613e1e",
            "filename": "packages/forms/src/directives/checkbox_value_accessor.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fcheckbox_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fcheckbox_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fcheckbox_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -8,7 +8,7 @@\n \n import {Directive, ElementRef, forwardRef, Renderer2} from '@angular/core';\n \n-import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n \n export const CHECKBOX_VALUE_ACCESSOR: any = {\n   provide: NG_VALUE_ACCESSOR,\n@@ -45,7 +45,8 @@ export const CHECKBOX_VALUE_ACCESSOR: any = {\n   host: {'(change)': 'onChange($event.target.checked)', '(blur)': 'onTouched()'},\n   providers: [CHECKBOX_VALUE_ACCESSOR]\n })\n-export class CheckboxControlValueAccessor implements ControlValueAccessor {\n+export class CheckboxControlValueAccessor extends BuiltInControlValueAccessor implements\n+    ControlValueAccessor {\n   /**\n    * The registered callback function called when a change event occurs on the input element.\n    * @nodoc\n@@ -58,7 +59,9 @@ export class CheckboxControlValueAccessor implements ControlValueAccessor {\n    */\n   onTouched = () => {};\n \n-  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {}\n+  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {\n+    super();\n+  }\n \n   /**\n    * Sets the \"checked\" property on the input element."
        },
        {
            "sha": "9c150ee2eadb13f0c36f13a81c2232bf3178155d",
            "filename": "packages/forms/src/directives/control_value_accessor.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fcontrol_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fcontrol_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fcontrol_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -131,6 +131,15 @@ export interface ControlValueAccessor {\n   setDisabledState?(isDisabled: boolean): void;\n }\n \n+/**\n+ * Base class for all built-in ControlValueAccessor classes. We use this class to distinguish\n+ * between built-in and custom CVAs, so that Forms logic can recognize built-in CVAs and treat\n+ * custom ones with higher priority (when both built-in and custom CVAs are present).\n+ * Note: this is an *internal-only* class and should not be extended or used directly in\n+ * applications code.\n+ */\n+export class BuiltInControlValueAccessor {}\n+\n /**\n  * Used to provide a `ControlValueAccessor` for form controls.\n  *\n@@ -139,4 +148,4 @@ export interface ControlValueAccessor {\n  * @publicApi\n  */\n export const NG_VALUE_ACCESSOR =\n-    new InjectionToken<ReadonlyArray<ControlValueAccessor>>('NgValueAccessor');\n+    new InjectionToken<ReadonlyArray<ControlValueAccessor>>('NgValueAccessor');\n\\ No newline at end of file"
        },
        {
            "sha": "a90eda5d8fe87f18f965aadd90a1c34e58554526",
            "filename": "packages/forms/src/directives/number_value_accessor.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fnumber_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fnumber_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fnumber_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -8,7 +8,7 @@\n \n import {Directive, ElementRef, forwardRef, Renderer2} from '@angular/core';\n \n-import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n \n export const NUMBER_VALUE_ACCESSOR: any = {\n   provide: NG_VALUE_ACCESSOR,\n@@ -46,7 +46,8 @@ export const NUMBER_VALUE_ACCESSOR: any = {\n   host: {'(input)': 'onChange($event.target.value)', '(blur)': 'onTouched()'},\n   providers: [NUMBER_VALUE_ACCESSOR]\n })\n-export class NumberValueAccessor implements ControlValueAccessor {\n+export class NumberValueAccessor extends BuiltInControlValueAccessor implements\n+    ControlValueAccessor {\n   /**\n    * The registered callback function called when a change or input event occurs on the input\n    * element.\n@@ -60,7 +61,9 @@ export class NumberValueAccessor implements ControlValueAccessor {\n    */\n   onTouched = () => {};\n \n-  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {}\n+  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {\n+    super();\n+  }\n \n   /**\n    * Sets the \"value\" property on the input element."
        },
        {
            "sha": "0accb9292aefffab621824fcb43aadc8aac729da",
            "filename": "packages/forms/src/directives/radio_control_value_accessor.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fradio_control_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fradio_control_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fradio_control_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -8,7 +8,7 @@\n \n import {Directive, ElementRef, forwardRef, Injectable, Injector, Input, OnDestroy, OnInit, Renderer2} from '@angular/core';\n \n-import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n import {NgControl} from './ng_control';\n \n export const RADIO_VALUE_ACCESSOR: any = {\n@@ -100,7 +100,8 @@ export class RadioControlRegistry {\n   host: {'(change)': 'onChange()', '(blur)': 'onTouched()'},\n   providers: [RADIO_VALUE_ACCESSOR]\n })\n-export class RadioControlValueAccessor implements ControlValueAccessor, OnDestroy, OnInit {\n+export class RadioControlValueAccessor extends BuiltInControlValueAccessor implements\n+    ControlValueAccessor, OnDestroy, OnInit {\n   /** @internal */\n   // TODO(issue/24571): remove '!'.\n   _state!: boolean;\n@@ -146,7 +147,9 @@ export class RadioControlValueAccessor implements ControlValueAccessor, OnDestro\n \n   constructor(\n       private _renderer: Renderer2, private _elementRef: ElementRef,\n-      private _registry: RadioControlRegistry, private _injector: Injector) {}\n+      private _registry: RadioControlRegistry, private _injector: Injector) {\n+    super();\n+  }\n \n   /** @nodoc */\n   ngOnInit(): void {"
        },
        {
            "sha": "8cd487b1b5ce1bf93f13d5f9901ba3f9ee7c7198",
            "filename": "packages/forms/src/directives/range_value_accessor.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Frange_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Frange_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Frange_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -8,7 +8,7 @@\n \n import {Directive, ElementRef, forwardRef, Renderer2, StaticProvider} from '@angular/core';\n \n-import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n \n export const RANGE_VALUE_ACCESSOR: StaticProvider = {\n   provide: NG_VALUE_ACCESSOR,\n@@ -50,7 +50,8 @@ export const RANGE_VALUE_ACCESSOR: StaticProvider = {\n   },\n   providers: [RANGE_VALUE_ACCESSOR]\n })\n-export class RangeValueAccessor implements ControlValueAccessor {\n+export class RangeValueAccessor extends BuiltInControlValueAccessor implements\n+    ControlValueAccessor {\n   /**\n    * The registered callback function called when a change or input event occurs on the input\n    * element.\n@@ -64,7 +65,9 @@ export class RangeValueAccessor implements ControlValueAccessor {\n    */\n   onTouched = () => {};\n \n-  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {}\n+  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {\n+    super();\n+  }\n \n   /**\n    * Sets the \"value\" property on the input element."
        },
        {
            "sha": "d1c23eb1f4eb9384ce6d36ca0700cf2087ea1826",
            "filename": "packages/forms/src/directives/select_control_value_accessor.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fselect_control_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fselect_control_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fselect_control_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -8,7 +8,7 @@\n \n import {Directive, ElementRef, forwardRef, Host, Input, OnDestroy, Optional, Renderer2, StaticProvider} from '@angular/core';\n \n-import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n \n export const SELECT_VALUE_ACCESSOR: StaticProvider = {\n   provide: NG_VALUE_ACCESSOR,\n@@ -88,7 +88,8 @@ function _extractId(valueString: string): string {\n   host: {'(change)': 'onChange($event.target.value)', '(blur)': 'onTouched()'},\n   providers: [SELECT_VALUE_ACCESSOR]\n })\n-export class SelectControlValueAccessor implements ControlValueAccessor {\n+export class SelectControlValueAccessor extends BuiltInControlValueAccessor implements\n+    ControlValueAccessor {\n   /** @nodoc */\n   value: any;\n \n@@ -125,7 +126,9 @@ export class SelectControlValueAccessor implements ControlValueAccessor {\n \n   private _compareWith: (o1: any, o2: any) => boolean = Object.is;\n \n-  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {}\n+  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {\n+    super();\n+  }\n \n   /**\n    * Sets the \"value\" property on the input element. The \"selectedIndex\""
        },
        {
            "sha": "1af649c77705565cbea4c5ff6f2f14bab078b6bd",
            "filename": "packages/forms/src/directives/select_multiple_control_value_accessor.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fselect_multiple_control_value_accessor.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fselect_multiple_control_value_accessor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fselect_multiple_control_value_accessor.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -8,7 +8,7 @@\n \n import {Directive, ElementRef, forwardRef, Host, Input, OnDestroy, Optional, Renderer2, StaticProvider} from '@angular/core';\n \n-import {ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor, NG_VALUE_ACCESSOR} from './control_value_accessor';\n \n export const SELECT_MULTIPLE_VALUE_ACCESSOR: StaticProvider = {\n   provide: NG_VALUE_ACCESSOR,\n@@ -81,7 +81,8 @@ abstract class HTMLCollection {\n   host: {'(change)': 'onChange($event.target)', '(blur)': 'onTouched()'},\n   providers: [SELECT_MULTIPLE_VALUE_ACCESSOR]\n })\n-export class SelectMultipleControlValueAccessor implements ControlValueAccessor {\n+export class SelectMultipleControlValueAccessor extends BuiltInControlValueAccessor implements\n+    ControlValueAccessor {\n   /**\n    * The current value.\n    * @nodoc\n@@ -121,7 +122,9 @@ export class SelectMultipleControlValueAccessor implements ControlValueAccessor\n \n   private _compareWith: (o1: any, o2: any) => boolean = Object.is;\n \n-  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {}\n+  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {\n+    super();\n+  }\n \n   /**\n    * Sets the \"value\" property on one or of more of the select's options."
        },
        {
            "sha": "a2dbbe667d8a56b80597ffc2f58943811f535c94",
            "filename": "packages/forms/src/directives/shared.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 17,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/937e90cd16ebff78f00af79ce19c12129f28a1ca/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts?ref=937e90cd16ebff78f00af79ce19c12129f28a1ca",
            "patch": "@@ -11,18 +11,12 @@ import {getControlAsyncValidators, getControlValidators, mergeValidators} from '\n \n import {AbstractControlDirective} from './abstract_control_directive';\n import {AbstractFormGroupDirective} from './abstract_form_group_directive';\n-import {CheckboxControlValueAccessor} from './checkbox_value_accessor';\n import {ControlContainer} from './control_container';\n-import {ControlValueAccessor} from './control_value_accessor';\n+import {BuiltInControlValueAccessor, ControlValueAccessor} from './control_value_accessor';\n import {DefaultValueAccessor} from './default_value_accessor';\n import {NgControl} from './ng_control';\n-import {NumberValueAccessor} from './number_value_accessor';\n-import {RadioControlValueAccessor} from './radio_control_value_accessor';\n-import {RangeValueAccessor} from './range_value_accessor';\n import {FormArrayName} from './reactive_directives/form_group_name';\n import {ReactiveErrors} from './reactive_errors';\n-import {SelectControlValueAccessor} from './select_control_value_accessor';\n-import {SelectMultipleControlValueAccessor} from './select_multiple_control_value_accessor';\n import {AsyncValidatorFn, Validator, ValidatorFn} from './validators';\n \n \n@@ -309,17 +303,10 @@ export function isPropertyUpdated(changes: {[key: string]: any}, viewModel: any)\n   return !Object.is(viewModel, change.currentValue);\n }\n \n-const BUILTIN_ACCESSORS = [\n-  CheckboxControlValueAccessor,\n-  RangeValueAccessor,\n-  NumberValueAccessor,\n-  SelectControlValueAccessor,\n-  SelectMultipleControlValueAccessor,\n-  RadioControlValueAccessor,\n-];\n-\n export function isBuiltInAccessor(valueAccessor: ControlValueAccessor): boolean {\n-  return BUILTIN_ACCESSORS.some(a => valueAccessor.constructor === a);\n+  // Check if a given value accessor is an instance of a class that directly extends\n+  // `BuiltInControlValueAccessor` one.\n+  return Object.getPrototypeOf(valueAccessor.constructor) === BuiltInControlValueAccessor;\n }\n \n export function syncPendingControls(form: FormGroup, directives: NgControl[]): void {"
        }
    ],
    "stats": {
        "total": 178,
        "additions": 66,
        "deletions": 112
    }
}