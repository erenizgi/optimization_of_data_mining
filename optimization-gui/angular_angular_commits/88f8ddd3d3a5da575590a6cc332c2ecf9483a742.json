{
    "author": "mhevery",
    "message": "Revert \"fix(core): remove duplicated EMPTY_ARRAY constant (#40587)\"\n\nThis reverts commit 34aa9c35318a79cf9ef8ae0c32c182eb90d5dc92.",
    "sha": "88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
    "files": [
        {
            "sha": "c993e6a738f751d3e3fd998df855e909cfa7e1ec",
            "filename": "packages/core/src/di/r3_injector.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -13,7 +13,6 @@ import {AbstractType, Type} from '../interface/type';\n import {FactoryFn, getFactoryDef} from '../render3/definition_factory';\n import {throwCyclicDependencyError, throwInvalidProviderError, throwMixedMultiProviderError} from '../render3/errors_di';\n import {deepForEach, newArray} from '../util/array_utils';\n-import {EMPTY_ARRAY} from '../util/empty';\n import {stringify} from '../util/stringify';\n \n import {resolveForwardRef} from './forward_ref';\n@@ -49,6 +48,8 @@ const NOT_YET = {};\n  */\n const CIRCULAR = {};\n \n+const EMPTY_ARRAY = [] as any[];\n+\n /**\n  * A lazily initialized NullInjector.\n  */"
        },
        {
            "sha": "2070b057e37e7078d30e135294426d0a28942c50",
            "filename": "packages/core/src/di/util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fdi%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fdi%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Futil.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -8,7 +8,6 @@\n \n import {Type} from '../interface/type';\n import {ReflectionCapabilities} from '../reflection/reflection_capabilities';\n-import {EMPTY_ARRAY} from '../util/empty';\n import {getClosureSafeProperty} from '../util/property';\n \n import {resolveForwardRef} from './forward_ref';\n@@ -17,6 +16,7 @@ import {ClassSansProvider, ConstructorSansProvider, ExistingSansProvider, Factor\n \n const USE_VALUE =\n     getClosureSafeProperty<ValueProvider>({provide: String, useValue: getClosureSafeProperty});\n+const EMPTY_ARRAY: any[] = [];\n \n export function convertInjectableProviderToFactory(\n     type: Type<any>,"
        },
        {
            "sha": "096d4f2056c2cc5b21254db29d0b37cbac4435c8",
            "filename": "packages/core/src/render3/context_discovery.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fcontext_discovery.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fcontext_discovery.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fcontext_discovery.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -9,7 +9,7 @@ import '../util/ng_dev_mode';\n \n import {assertDomNode} from '../util/assert';\n \n-import {EMPTY_ARRAY} from '../util/empty';\n+import {EMPTY_ARRAY} from './empty';\n import {LContext, MONKEY_PATCH_KEY_NAME} from './interfaces/context';\n import {TNode, TNodeFlags} from './interfaces/node';\n import {RElement, RNode} from './interfaces/renderer_dom';"
        },
        {
            "sha": "0b75b5c8369554923b7c98d269b05f9398108dc2",
            "filename": "packages/core/src/render3/definition.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fdefinition.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fdefinition.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdefinition.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -12,10 +12,9 @@ import {NgModuleDef, NgModuleType} from '../metadata/ng_module_def';\n import {SchemaMetadata} from '../metadata/schema';\n import {ViewEncapsulation} from '../metadata/view';\n import {noSideEffects} from '../util/closure';\n-import {EMPTY_ARRAY} from '../util/empty';\n import {initNgDevMode} from '../util/ng_dev_mode';\n import {stringify} from '../util/stringify';\n-import {EMPTY_OBJ} from './empty';\n+import {EMPTY_ARRAY, EMPTY_OBJ} from './empty';\n import {NG_COMP_DEF, NG_DIR_DEF, NG_LOC_ID_DEF, NG_MOD_DEF, NG_PIPE_DEF} from './fields';\n import {ComponentDef, ComponentDefFeature, ComponentTemplate, ComponentType, ContentQueriesFunction, DirectiveDef, DirectiveDefFeature, DirectiveTypesOrFactory, HostBindingsFunction, PipeDef, PipeTypesOrFactory, ViewQueriesFunction} from './interfaces/definition';\n import {AttributeMarker, TAttributes, TConstantsOrFactory} from './interfaces/node';"
        },
        {
            "sha": "52382fcf72d0bbb7da9061e61f789dcadf93f59c",
            "filename": "packages/core/src/render3/empty.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fempty.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fempty.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fempty.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -15,11 +15,14 @@ import {initNgDevMode} from '../util/ng_dev_mode';\n  */\n \n export const EMPTY_OBJ: {} = {};\n+export const EMPTY_ARRAY: any[] = [];\n \n // freezing the values prevents any code from accidentally inserting new values in\n if ((typeof ngDevMode === 'undefined' || ngDevMode) && initNgDevMode()) {\n   // These property accesses can be ignored because ngDevMode will be set to false\n   // when optimizing code and the whole if statement will be dropped.\n   // tslint:disable-next-line:no-toplevel-property-access\n   Object.freeze(EMPTY_OBJ);\n+  // tslint:disable-next-line:no-toplevel-property-access\n+  Object.freeze(EMPTY_ARRAY);\n }"
        },
        {
            "sha": "891a2b9a922ff69dae05590493ea12dbdaf33c39",
            "filename": "packages/core/src/render3/features/inherit_definition_feature.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Ffeatures%2Finherit_definition_feature.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Ffeatures%2Finherit_definition_feature.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ffeatures%2Finherit_definition_feature.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -7,9 +7,8 @@\n  */\n \n import {Type, Writable} from '../../interface/type';\n-import {EMPTY_ARRAY} from '../../util/empty';\n import {fillProperties} from '../../util/property';\n-import {EMPTY_OBJ} from '../empty';\n+import {EMPTY_ARRAY, EMPTY_OBJ} from '../empty';\n import {ComponentDef, ContentQueriesFunction, DirectiveDef, DirectiveDefFeature, HostBindingsFunction, RenderFlags, ViewQueriesFunction} from '../interfaces/definition';\n import {TAttributes} from '../interfaces/node';\n import {isComponentDef} from '../interfaces/type_checks';"
        },
        {
            "sha": "1d203a2acfc924a32a07404a355f3487308247f6",
            "filename": "packages/core/src/render3/instructions/i18n_icu_container_visitor.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fi18n_icu_container_visitor.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fi18n_icu_container_visitor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fi18n_icu_container_visitor.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -7,8 +7,8 @@\n  */\n \n import {assertDomNode, assertNumber, assertNumberInRange} from '../../util/assert';\n-import {EMPTY_ARRAY} from '../../util/empty';\n import {assertTIcu, assertTNodeForLView} from '../assert';\n+import {EMPTY_ARRAY} from '../empty';\n import {getCurrentICUCaseIndex} from '../i18n/i18n_util';\n import {I18nRemoveOpCodes, TIcu} from '../interfaces/i18n';\n import {TIcuContainerNode} from '../interfaces/node';"
        },
        {
            "sha": "1b7085ebd3002f59c4ff5046b8e9e974b5c5a126",
            "filename": "packages/core/src/render3/jit/directive.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fjit%2Fdirective.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fjit%2Fdirective.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fjit%2Fdirective.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -15,10 +15,9 @@ import {Query} from '../../metadata/di';\n import {Component, Directive, Input} from '../../metadata/directives';\n import {componentNeedsResolution, maybeQueueResolutionOfComponentResources} from '../../metadata/resource_loading';\n import {ViewEncapsulation} from '../../metadata/view';\n-import {EMPTY_ARRAY} from '../../util/empty';\n import {initNgDevMode} from '../../util/ng_dev_mode';\n import {getComponentDef, getDirectiveDef} from '../definition';\n-import {EMPTY_OBJ} from '../empty';\n+import {EMPTY_ARRAY, EMPTY_OBJ} from '../empty';\n import {NG_COMP_DEF, NG_DIR_DEF, NG_FACTORY_DEF} from '../fields';\n import {ComponentType} from '../interfaces/definition';\n import {stringifyForError} from '../util/stringify_utils';"
        },
        {
            "sha": "7450c5dc7fb600cf18a085f517899cda3ec8eebf",
            "filename": "packages/core/src/render3/jit/module.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fjit%2Fmodule.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Frender3%2Fjit%2Fmodule.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fjit%2Fmodule.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -16,7 +16,6 @@ import {ModuleWithProviders, NgModule} from '../../metadata/ng_module';\n import {NgModuleDef, NgModuleTransitiveScopes, NgModuleType} from '../../metadata/ng_module_def';\n import {deepForEach, flatten} from '../../util/array_utils';\n import {assertDefined} from '../../util/assert';\n-import {EMPTY_ARRAY} from '../../util/empty';\n import {getComponentDef, getDirectiveDef, getNgModuleDef, getPipeDef} from '../definition';\n import {NG_COMP_DEF, NG_DIR_DEF, NG_MOD_DEF, NG_PIPE_DEF} from '../fields';\n import {ComponentDef} from '../interfaces/definition';\n@@ -25,6 +24,8 @@ import {stringifyForError} from '../util/stringify_utils';\n \n import {angularCoreEnv} from './environment';\n \n+const EMPTY_ARRAY: Type<any>[] = [];\n+\n interface ModuleQueueItem {\n   moduleType: Type<any>;\n   ngModule: NgModule;"
        },
        {
            "sha": "7a828eb1dc97c4021d456fe53ebc009ca14c182e",
            "filename": "packages/core/src/view/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fview%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fview%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fview%2Findex.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -6,7 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-export {EMPTY_ARRAY} from '../util/empty';\n export {anchorDef, elementDef} from './element';\n export {clearOverrides, createNgModuleFactory, overrideComponentView, overrideProvider} from './entrypoint';\n export {ngContentDef} from './ng_content';\n@@ -17,7 +16,7 @@ export {queryDef} from './query';\n export {createComponentFactory, getComponentViewDefinitionFactory, nodeValue, ViewRef_} from './refs';\n export {initServicesIfNeeded} from './services';\n export {textDef} from './text';\n-export {createRendererType2, elementEventFullName, EMPTY_MAP, inlineInterpolate, interpolate, rootRenderNodes, tokenKey, unwrapValue} from './util';\n+export {createRendererType2, elementEventFullName, EMPTY_ARRAY, EMPTY_MAP, inlineInterpolate, interpolate, rootRenderNodes, tokenKey, unwrapValue} from './util';\n export {viewDef} from './view';\n export {attachEmbeddedView, detachEmbeddedView, moveEmbeddedView} from './view_attach';\n "
        },
        {
            "sha": "459b222381c6f99a57845ab2262d74b649732972",
            "filename": "packages/core/src/view/util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fview%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Fsrc%2Fview%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fview%2Futil.ts?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -444,4 +444,5 @@ function _toStringWithNull(v: any): string {\n   return v != null ? v.toString() : '';\n }\n \n+export const EMPTY_ARRAY: any[] = [];\n export const EMPTY_MAP: {[key: string]: any} = {};"
        },
        {
            "sha": "8ef0dcdff914b1000640d3fea55b3da0eb5ff929",
            "filename": "packages/core/test/bundling/forms/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -173,6 +173,12 @@\n   {\n     \"name\": \"EMPTY_ARRAY\"\n   },\n+  {\n+    \"name\": \"EMPTY_ARRAY\"\n+  },\n+  {\n+    \"name\": \"EMPTY_ARRAY\"\n+  },\n   {\n     \"name\": \"EMPTY_OBJ\"\n   },"
        },
        {
            "sha": "d7ca828b94523aec8f1880aeb21f50bec25486e1",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -236,6 +236,9 @@\n   {\n     \"name\": \"EMPTY_ARRAY\"\n   },\n+  {\n+    \"name\": \"EMPTY_ARRAY\"\n+  },\n   {\n     \"name\": \"EMPTY_OBJ\"\n   },"
        },
        {
            "sha": "86bd5b20cfe68d205d64c70b1ee2dd20882834bc",
            "filename": "packages/core/test/bundling/todo/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/88f8ddd3d3a5da575590a6cc332c2ecf9483a742/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json?ref=88f8ddd3d3a5da575590a6cc332c2ecf9483a742",
            "patch": "@@ -14,6 +14,9 @@\n   {\n     \"name\": \"EMPTY_ARRAY\"\n   },\n+  {\n+    \"name\": \"EMPTY_ARRAY\"\n+  },\n   {\n     \"name\": \"EMPTY_OBJ\"\n   },"
        }
    ],
    "stats": {
        "total": 40,
        "additions": 27,
        "deletions": 13
    }
}