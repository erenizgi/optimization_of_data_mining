{
    "author": "crisbeto",
    "message": "perf(common): remove unused methods from DomAdapter (#41102)\n\nThe `DomAdapter` is present in all Angular apps and its methods aren't tree shakeable.\nThese changes remove the methods that either aren't being used anymore or were only\nused by our own tests. Note that these changes aren't breaking, because the adapter\nis an internal API.\n\nThe following methods were removed:\n* `getProperty` - only used within our own tests.\n* `log` - Guaranteed to be defined on `console`.\n* `logGroup` and `logGroupEnd` - Only used in one place. It was in the DomAdapter for built-in null checking.\n* `logGroupEnd` - Only used in one place. It was placed in the DomAdapter for built in null checking.\n* `performanceNow` - Only used in one place that has to be invoked through the browser console.\n* `supportsCookies` - Unused.\n* `getCookie` - Unused.\n* `getLocation` and `getHistory` - Only used in one place which appears to have access to the DOM\nalready, because it had direct accesses to `window`. Furthermore, even if this was being used\nin a non-browser context already, the `DominoAdapter` was set up to throw an error.\n\nThe following APIs were changed to be more compact:\n* `supportsDOMEvents` - Changed to a readonly property.\n* `remove` - No longer returns the removed node.\n\nPR Close #41102",
    "sha": "3c66b100dd6f05f53740f596c5eadb999c27c9c4",
    "files": [
        {
            "sha": "42d259c0039fb124d4889b3cb7555c00660be4ba",
            "filename": "goldens/size-tracking/integration-payloads.json",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Fintegration-payloads.json?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -3,7 +3,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 1485,\n-        \"main-es2015\": 138937,\n+        \"main-es2015\": 138189,\n         \"polyfills-es2015\": 36964\n       }\n     }\n@@ -21,7 +21,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 1485,\n-        \"main-es2015\": 144899,\n+        \"main-es2015\": 144151,\n         \"polyfills-es2015\": 36964\n       }\n     }\n@@ -30,7 +30,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 1485,\n-        \"main-es2015\": 137236,\n+        \"main-es2015\": 136546,\n         \"polyfills-es2015\": 37641\n       }\n     }\n@@ -39,7 +39,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 2285,\n-        \"main-es2015\": 241085,\n+        \"main-es2015\": 240352,\n         \"polyfills-es2015\": 36975,\n         \"5-es2015\": 753\n       }\n@@ -49,7 +49,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 2289,\n-        \"main-es2015\": 216925,\n+        \"main-es2015\": 216267,\n         \"polyfills-es2015\": 36723,\n         \"5-es2015\": 781\n       }\n@@ -59,7 +59,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 1485,\n-        \"main-es2015\": 169047,\n+        \"main-es2015\": 168534,\n         \"polyfills-es2015\": 36975\n       }\n     }"
        },
        {
            "sha": "3b71475f859f8632745be5f0eab0bc11e65ada3e",
            "filename": "packages/common/src/dom_adapter.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 16,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcommon%2Fsrc%2Fdom_adapter.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcommon%2Fsrc%2Fdom_adapter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fdom_adapter.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -31,16 +31,11 @@ export function setRootDomAdapter(adapter: DomAdapter) {\n  */\n export abstract class DomAdapter {\n   // Needs Domino-friendly test utility\n-  abstract getProperty(el: Element, name: string): any;\n   abstract dispatchEvent(el: any, evt: any): any;\n-\n-  // Used by router\n-  abstract log(error: any): any;\n-  abstract logGroup(error: any): any;\n-  abstract logGroupEnd(): any;\n+  abstract readonly supportsDOMEvents: boolean;\n \n   // Used by Meta\n-  abstract remove(el: any): Node;\n+  abstract remove(el: any): void;\n   abstract createElement(tagName: any, doc?: any): HTMLElement;\n   abstract createHtmlDocument(): HTMLDocument;\n   abstract getDefaultDocument(): Document;\n@@ -53,25 +48,17 @@ export abstract class DomAdapter {\n \n   // Used by KeyEventsPlugin\n   abstract onAndCancel(el: any, evt: any, listener: any): Function;\n-  abstract supportsDOMEvents(): boolean;\n \n   // Used by PlatformLocation and ServerEventManagerPlugin\n   abstract getGlobalEventTarget(doc: Document, target: string): any;\n \n   // Used by PlatformLocation\n-  abstract getHistory(): History;\n-  abstract getLocation():\n-      any; /** This is the ambient Location definition, NOT Location from @angular/common.  */\n   abstract getBaseHref(doc: Document): string|null;\n   abstract resetBaseElement(): void;\n \n   // TODO: remove dependency in DefaultValueAccessor\n   abstract getUserAgent(): string;\n \n-  // Used by AngularProfiler\n-  abstract performanceNow(): number;\n-\n-  // Used by CookieXSRFStrategy\n-  abstract supportsCookies(): boolean;\n+  // Used in the legacy @angular/http package which has some usage in g3.\n   abstract getCookie(name: string): string|null;\n }"
        },
        {
            "sha": "42371b9e5ecece01c4d49c0e7d4d8ec605360f4d",
            "filename": "packages/common/src/location/platform_location.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcommon%2Fsrc%2Flocation%2Fplatform_location.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcommon%2Fsrc%2Flocation%2Fplatform_location.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Flocation%2Fplatform_location.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -120,8 +120,8 @@ export class BrowserPlatformLocation extends PlatformLocation {\n   // This is moved to its own method so that `MockPlatformLocationStrategy` can overwrite it\n   /** @internal */\n   _init() {\n-    (this as {location: Location}).location = getDOM().getLocation();\n-    this._history = getDOM().getHistory();\n+    (this as {location: Location}).location = window.location;\n+    this._history = window.history;\n   }\n \n   getBaseHrefFromDOM(): string {"
        },
        {
            "sha": "b3b6fa09ed5ff85bd9a6652f023a0f124f9be23f",
            "filename": "packages/core/test/application_ref_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fapplication_ref_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fapplication_ref_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fapplication_ref_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -59,7 +59,7 @@ class SomeComponent {\n       const errorHandler = new ErrorHandler();\n       (errorHandler as any)._console = mockConsole as any;\n \n-      const platformModule = getDOM().supportsDOMEvents() ?\n+      const platformModule = getDOM().supportsDOMEvents ?\n           BrowserModule :\n           require('@angular/platform-server').ServerModule;\n "
        },
        {
            "sha": "859b12a7160e1717482d531d90413aefd3acdede",
            "filename": "packages/core/test/dom/dom_adapter_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fdom%2Fdom_adapter_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fdom%2Fdom_adapter_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fdom%2Fdom_adapter_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -14,7 +14,7 @@ import {isTextNode} from '@angular/platform-browser/testing/src/browser_util';\n   describe('dom adapter', () => {\n     let defaultDoc: any;\n     beforeEach(() => {\n-      defaultDoc = getDOM().supportsDOMEvents() ? document : getDOM().createHtmlDocument();\n+      defaultDoc = getDOM().supportsDOMEvents ? document : getDOM().createHtmlDocument();\n     });\n \n     it('should be able to create text nodes and use them with the other APIs', () => {\n@@ -36,7 +36,7 @@ import {isTextNode} from '@angular/platform-browser/testing/src/browser_util';\n       expect(() => getDOM().remove(d)).not.toThrow();\n     });\n \n-    if (getDOM().supportsDOMEvents()) {\n+    if (getDOM().supportsDOMEvents) {\n       describe('getBaseHref', () => {\n         beforeEach(() => getDOM().resetBaseElement());\n "
        },
        {
            "sha": "11ee3e15a320a3970848ee6559cd36d76e8c549f",
            "filename": "packages/core/test/linker/integration_spec.ts",
            "status": "modified",
            "additions": 18,
            "deletions": 28,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fintegration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fintegration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fintegration_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -109,8 +109,7 @@ function declareTests(config?: {useJit: boolean}) {\n         fixture.componentInstance.ctxProp = 'Hello World!';\n         fixture.detectChanges();\n \n-        expect(getDOM().getProperty(fixture.debugElement.children[0].nativeElement, 'id'))\n-            .toEqual('Hello World!');\n+        expect(fixture.debugElement.children[0].nativeElement.id).toEqual('Hello World!');\n       });\n \n       it('should consume binding to aria-* attributes', () => {\n@@ -168,13 +167,11 @@ function declareTests(config?: {useJit: boolean}) {\n            const fixture = TestBed.createComponent(MyComp);\n \n            fixture.detectChanges();\n-           expect(getDOM().getProperty(fixture.debugElement.children[0].nativeElement, 'tabIndex'))\n-               .toEqual(0);\n+           expect(fixture.debugElement.children[0].nativeElement.tabIndex).toEqual(0);\n \n            fixture.componentInstance.ctxNumProp = 5;\n            fixture.detectChanges();\n-           expect(getDOM().getProperty(fixture.debugElement.children[0].nativeElement, 'tabIndex'))\n-               .toEqual(5);\n+           expect(fixture.debugElement.children[0].nativeElement.tabIndex).toEqual(5);\n          });\n \n       it('should consume binding to camel-cased properties', () => {\n@@ -184,13 +181,11 @@ function declareTests(config?: {useJit: boolean}) {\n         const fixture = TestBed.createComponent(MyComp);\n \n         fixture.detectChanges();\n-        expect(getDOM().getProperty(fixture.debugElement.children[0].nativeElement, 'readOnly'))\n-            .toBeFalsy();\n+        expect(fixture.debugElement.children[0].nativeElement.readOnly).toBeFalsy();\n \n         fixture.componentInstance.ctxBoolProp = true;\n         fixture.detectChanges();\n-        expect(getDOM().getProperty(fixture.debugElement.children[0].nativeElement, 'readOnly'))\n-            .toBeTruthy();\n+        expect(fixture.debugElement.children[0].nativeElement.readOnly).toBeTruthy();\n       });\n \n       it('should consume binding to innerHtml', () => {\n@@ -236,7 +231,7 @@ function declareTests(config?: {useJit: boolean}) {\n         fixture.debugElement.componentInstance.ctxProp = 'foo';\n         fixture.detectChanges();\n \n-        expect(getDOM().getProperty(nativeEl, 'htmlFor')).toBe('foo');\n+        expect(nativeEl.htmlFor).toBe('foo');\n       });\n \n       it('should consume directive watch expression change.', () => {\n@@ -617,7 +612,7 @@ function declareTests(config?: {useJit: boolean}) {\n           expect(cmp.numberOfChecks).toEqual(2);\n         });\n \n-        if (getDOM().supportsDOMEvents()) {\n+        if (getDOM().supportsDOMEvents) {\n           it('should allow to destroy a component from within a host event handler',\n              fakeAsync(() => {\n                TestBed.configureTestingModule({declarations: [MyComp, [[PushCmpWithHostEvent]]]});\n@@ -922,7 +917,7 @@ function declareTests(config?: {useJit: boolean}) {\n \n         fixture.detectChanges();\n \n-        expect(getDOM().getProperty(tc.nativeElement, 'id')).toEqual('newId');\n+        expect(tc.nativeElement.id).toEqual('newId');\n       });\n \n       it('should not use template variables for expressions in hostProperties', () => {\n@@ -996,7 +991,7 @@ function declareTests(config?: {useJit: boolean}) {\n \n \n \n-      if (getDOM().supportsDOMEvents()) {\n+      if (getDOM().supportsDOMEvents) {\n         it('should support preventing default on render events', () => {\n           TestBed.configureTestingModule({\n             declarations:\n@@ -1881,7 +1876,7 @@ function declareTests(config?: {useJit: boolean}) {\n         fixture.detectChanges();\n \n         const el = fixture.nativeElement.querySelector('span');\n-        expect(getDOM().getProperty(el, 'title')).toEqual('TITLE');\n+        expect(el.title).toEqual('TITLE');\n       });\n     });\n \n@@ -2097,7 +2092,7 @@ function declareTests(config?: {useJit: boolean}) {\n         expect(fixture.debugElement.children[0].nativeElement.outerHTML).toContain('my-attr=\"aaa\"');\n       });\n \n-      if (getDOM().supportsDOMEvents()) {\n+      if (getDOM().supportsDOMEvents) {\n         it('should support event decorators', fakeAsync(() => {\n              TestBed.configureTestingModule({\n                declarations: [MyComp, DirectiveWithPropDecorators],\n@@ -2200,7 +2195,7 @@ function declareTests(config?: {useJit: boolean}) {\n          }));\n     });\n \n-    if (getDOM().supportsDOMEvents()) {\n+    if (getDOM().supportsDOMEvents) {\n       describe('svg', () => {\n         it('should support svg elements', () => {\n           TestBed.configureTestingModule({declarations: [MyComp]});\n@@ -2211,12 +2206,10 @@ function declareTests(config?: {useJit: boolean}) {\n           const el = fixture.nativeElement;\n           const svg = el.childNodes[0];\n           const use = svg.childNodes[0];\n-          expect(getDOM().getProperty(<Element>svg, 'namespaceURI'))\n-              .toEqual('http://www.w3.org/2000/svg');\n-          expect(getDOM().getProperty(<Element>use, 'namespaceURI'))\n-              .toEqual('http://www.w3.org/2000/svg');\n+          expect(svg.namespaceURI).toEqual('http://www.w3.org/2000/svg');\n+          expect(use.namespaceURI).toEqual('http://www.w3.org/2000/svg');\n \n-          const firstAttribute = getDOM().getProperty(<Element>use, 'attributes')[0];\n+          const firstAttribute = use.attributes[0];\n           expect(firstAttribute.name).toEqual('xlink:href');\n           expect(firstAttribute.namespaceURI).toEqual('http://www.w3.org/1999/xlink');\n         });\n@@ -2232,12 +2225,9 @@ function declareTests(config?: {useJit: boolean}) {\n           const svg = el.childNodes[0];\n           const foreignObject = svg.childNodes[0];\n           const p = foreignObject.childNodes[0];\n-          expect(getDOM().getProperty(<Element>svg, 'namespaceURI'))\n-              .toEqual('http://www.w3.org/2000/svg');\n-          expect(getDOM().getProperty(<Element>foreignObject, 'namespaceURI'))\n-              .toEqual('http://www.w3.org/2000/svg');\n-          expect(getDOM().getProperty(<Element>p, 'namespaceURI'))\n-              .toEqual('http://www.w3.org/1999/xhtml');\n+          expect(svg.namespaceURI).toEqual('http://www.w3.org/2000/svg');\n+          expect(foreignObject.namespaceURI).toEqual('http://www.w3.org/2000/svg');\n+          expect(p.namespaceURI).toEqual('http://www.w3.org/1999/xhtml');\n         });\n       });\n "
        },
        {
            "sha": "b6f43389c80bde109dfbb53f24e112a4d624769b",
            "filename": "packages/core/test/linker/projection_integration_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fprojection_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fprojection_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fprojection_integration_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -508,7 +508,7 @@ describe('projection', () => {\n     });\n   }\n \n-  if (getDOM().supportsDOMEvents()) {\n+  if (getDOM().supportsDOMEvents) {\n     it('should support non emulated styles', () => {\n       TestBed.configureTestingModule({declarations: [OtherComp]});\n       TestBed.overrideComponent(MainComp, {"
        },
        {
            "sha": "c5b1fb70704ab6ccca014dc84db2928d4b507f4b",
            "filename": "packages/core/test/linker/query_list_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fquery_list_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fquery_list_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fquery_list_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -156,7 +156,7 @@ import {beforeEach, describe, expect, it} from '@angular/core/testing/src/testin\n       expect(data.length).toBe(0);\n     });\n \n-    if (getDOM().supportsDOMEvents()) {\n+    if (getDOM().supportsDOMEvents) {\n       describe('simple observable interface', () => {\n         it('should fire callbacks on change', fakeAsync(() => {\n              let fires = 0;"
        },
        {
            "sha": "b92e1a04ca6971f532d029c724d0c82a73676503",
            "filename": "packages/core/test/linker/regression_integration_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fregression_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fregression_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fregression_integration_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -462,7 +462,7 @@ function declareTestsUsingBootstrap() {\n       destroyPlatform();\n     });\n \n-    if (getDOM().supportsDOMEvents()) {\n+    if (getDOM().supportsDOMEvents) {\n       // This test needs a real DOM....\n \n       it('should keep change detecting if there was an error', (done) => {"
        },
        {
            "sha": "006be4f7152cf70258be2f30e4c8cafcb7f03d1b",
            "filename": "packages/core/test/linker/security_integration_spec.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 20,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fsecurity_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Flinker%2Fsecurity_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fsecurity_integration_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -49,13 +49,9 @@ function declareTests(config?: {useJit: boolean}) {\n       });\n     });\n \n-    let originalLog: (msg: any) => any;\n     beforeEach(() => {\n-      originalLog = getDOM().log;\n-      getDOM().log = (msg) => { /* disable logging */ };\n-    });\n-    afterEach(() => {\n-      getDOM().log = originalLog;\n+      // Disable logging for these tests.\n+      spyOn(console, 'log').and.callFake(() => {});\n     });\n \n     describe('events', () => {\n@@ -128,7 +124,7 @@ function declareTests(config?: {useJit: boolean}) {\n         cmp.detectChanges();\n         const div = cmp.debugElement.children[0];\n         expect(div.injector.get(OnPrefixDir).onclick).toBe(value);\n-        expect(getDOM().getProperty(div.nativeElement, 'onclick')).not.toBe(value);\n+        expect(div.nativeElement.onclick).not.toBe(value);\n         expect(div.nativeElement.hasAttribute('onclick')).toEqual(false);\n       });\n     });\n@@ -145,7 +141,7 @@ function declareTests(config?: {useJit: boolean}) {\n         const trusted = sanitizer.bypassSecurityTrustUrl('javascript:alert(1)');\n         ci.ctxProp = trusted;\n         fixture.detectChanges();\n-        expect(getDOM().getProperty(e, 'href')).toEqual('javascript:alert(1)');\n+        expect(e.getAttribute('href')).toEqual('javascript:alert(1)');\n       });\n \n       it('should error when using the wrong trusted value', () => {\n@@ -171,41 +167,37 @@ function declareTests(config?: {useJit: boolean}) {\n         const ci = fixture.componentInstance;\n         ci.ctxProp = trusted;\n         fixture.detectChanges();\n-        expect(getDOM().getProperty(e, 'href')).toMatch(/SafeValue(%20| )must(%20| )use/);\n+        expect(e.href).toMatch(/SafeValue(%20| )must(%20| )use/);\n       });\n     });\n \n     describe('sanitizing', () => {\n-      function checkEscapeOfHrefProperty(fixture: ComponentFixture<any>, isAttribute: boolean) {\n+      function checkEscapeOfHrefProperty(fixture: ComponentFixture<any>) {\n         const e = fixture.debugElement.children[0].nativeElement;\n         const ci = fixture.componentInstance;\n         ci.ctxProp = 'hello';\n         fixture.detectChanges();\n-        // In the browser, reading href returns an absolute URL. On the server side,\n-        // it just echoes back the property.\n-        let value = isAttribute ? e.getAttribute('href') : getDOM().getProperty(e, 'href');\n-        expect(value).toMatch(/.*\\/?hello$/);\n+        expect(e.getAttribute('href')).toMatch(/.*\\/?hello$/);\n \n         ci.ctxProp = 'javascript:alert(1)';\n         fixture.detectChanges();\n-        value = isAttribute ? e.getAttribute('href') : getDOM().getProperty(e, 'href');\n-        expect(value).toEqual('unsafe:javascript:alert(1)');\n+        expect(e.getAttribute('href')).toEqual('unsafe:javascript:alert(1)');\n       }\n \n       it('should escape unsafe properties', () => {\n         const template = `<a [href]=\"ctxProp\">Link Title</a>`;\n         TestBed.overrideComponent(SecuredComponent, {set: {template}});\n         const fixture = TestBed.createComponent(SecuredComponent);\n \n-        checkEscapeOfHrefProperty(fixture, false);\n+        checkEscapeOfHrefProperty(fixture);\n       });\n \n       it('should escape unsafe attributes', () => {\n         const template = `<a [attr.href]=\"ctxProp\">Link Title</a>`;\n         TestBed.overrideComponent(SecuredComponent, {set: {template}});\n         const fixture = TestBed.createComponent(SecuredComponent);\n \n-        checkEscapeOfHrefProperty(fixture, true);\n+        checkEscapeOfHrefProperty(fixture);\n       });\n \n       it('should escape unsafe properties if they are used in host bindings', () => {\n@@ -220,7 +212,7 @@ function declareTests(config?: {useJit: boolean}) {\n         TestBed.overrideComponent(SecuredComponent, {set: {template}});\n         const fixture = TestBed.createComponent(SecuredComponent);\n \n-        checkEscapeOfHrefProperty(fixture, false);\n+        checkEscapeOfHrefProperty(fixture);\n       });\n \n       it('should escape unsafe attributes if they are used in host bindings', () => {\n@@ -235,7 +227,7 @@ function declareTests(config?: {useJit: boolean}) {\n         TestBed.overrideComponent(SecuredComponent, {set: {template}});\n         const fixture = TestBed.createComponent(SecuredComponent);\n \n-        checkEscapeOfHrefProperty(fixture, true);\n+        checkEscapeOfHrefProperty(fixture);\n       });\n \n       modifiedInIvy('Unknown property error thrown during update mode, not creation mode')"
        },
        {
            "sha": "9977909ff48b2580ac2cec17621a36a09bd64ba1",
            "filename": "packages/core/test/view/element_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fview%2Felement_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fview%2Felement_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fview%2Felement_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -87,8 +87,8 @@ const removeEventListener = 'removeEventListener';\n           Services.checkAndUpdateView(view);\n \n           const el = rootNodes[0];\n-          expect(getDOM().getProperty(el, 'title')).toBe('v1');\n-          expect(getDOM().getProperty(el, 'value')).toBe('v2');\n+          expect(el.title).toBe('v1');\n+          expect(el.value).toBe('v2');\n         });\n       });\n     });"
        },
        {
            "sha": "52cd8ae419272c2e633024fffecd6021a432c047",
            "filename": "packages/core/test/view/helper.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fview%2Fhelper.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fcore%2Ftest%2Fview%2Fhelper.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fview%2Fhelper.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -12,7 +12,7 @@ import {ArgumentType, initServicesIfNeeded, NodeCheckFn, NodeDef, rootRenderNode\n import {TestBed} from '@angular/core/testing';\n \n export function isBrowser() {\n-  return getDOM().supportsDOMEvents();\n+  return getDOM().supportsDOMEvents;\n }\n \n export const ARG_TYPE_VALUES = [ArgumentType.Inline, ArgumentType.Dynamic];"
        },
        {
            "sha": "fb0b79ee934ec88efe001e519a841b2651ed9242",
            "filename": "packages/platform-browser/src/browser/browser_adapter.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 67,
            "changes": 74,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fbrowser_adapter.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fbrowser_adapter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fbrowser_adapter.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -7,20 +7,9 @@\n  */\n \n import {ɵparseCookieValue as parseCookieValue, ɵsetRootDomAdapter as setRootDomAdapter} from '@angular/common';\n-import {ɵglobal as global} from '@angular/core';\n \n import {GenericBrowserDomAdapter} from './generic_browser_adapter';\n \n-const nodeContains: (this: Node, other: Node) => boolean = (() => {\n-  if (global['Node']) {\n-    return global['Node'].prototype.contains || function(this: Node, node: any) {\n-      return !!(this.compareDocumentPosition(node) & 16);\n-    };\n-  }\n-\n-  return undefined as any;\n-})();\n-\n /**\n  * A `DomAdapter` powered by full browser DOM APIs.\n  *\n@@ -32,27 +21,6 @@ export class BrowserDomAdapter extends GenericBrowserDomAdapter {\n   static makeCurrent() {\n     setRootDomAdapter(new BrowserDomAdapter());\n   }\n-  getProperty(el: Node, name: string): any {\n-    return (<any>el)[name];\n-  }\n-\n-  log(error: string): void {\n-    if (window.console) {\n-      window.console.log && window.console.log(error);\n-    }\n-  }\n-\n-  logGroup(error: string): void {\n-    if (window.console) {\n-      window.console.group && window.console.group(error);\n-    }\n-  }\n-\n-  logGroupEnd(): void {\n-    if (window.console) {\n-      window.console.groupEnd && window.console.groupEnd();\n-    }\n-  }\n \n   onAndCancel(el: Node, evt: any, listener: any): Function {\n     el.addEventListener(evt, listener, false);\n@@ -65,14 +33,10 @@ export class BrowserDomAdapter extends GenericBrowserDomAdapter {\n   dispatchEvent(el: Node, evt: any) {\n     el.dispatchEvent(evt);\n   }\n-  remove(node: Node): Node {\n+  remove(node: Node): void {\n     if (node.parentNode) {\n       node.parentNode.removeChild(node);\n     }\n-    return node;\n-  }\n-  getValue(el: any): string {\n-    return el.value;\n   }\n   createElement(tagName: string, doc?: Document): HTMLElement {\n     doc = doc || this.getDefaultDocument();\n@@ -105,12 +69,6 @@ export class BrowserDomAdapter extends GenericBrowserDomAdapter {\n     }\n     return null;\n   }\n-  getHistory(): History {\n-    return window.history;\n-  }\n-  getLocation(): Location {\n-    return window.location;\n-  }\n   getBaseHref(doc: Document): string|null {\n     const href = getBaseElementHref();\n     return href == null ? null : relativePath(href);\n@@ -121,40 +79,22 @@ export class BrowserDomAdapter extends GenericBrowserDomAdapter {\n   getUserAgent(): string {\n     return window.navigator.userAgent;\n   }\n-  performanceNow(): number {\n-    // performance.now() is not available in all browsers, see\n-    // https://caniuse.com/high-resolution-time\n-    return window.performance && window.performance.now ? window.performance.now() :\n-                                                          new Date().getTime();\n-  }\n-\n-  supportsCookies(): boolean {\n-    return true;\n-  }\n-\n   getCookie(name: string): string|null {\n     return parseCookieValue(document.cookie, name);\n   }\n }\n \n let baseElement: HTMLElement|null = null;\n function getBaseElementHref(): string|null {\n-  if (!baseElement) {\n-    baseElement = document.querySelector('base')!;\n-    if (!baseElement) {\n-      return null;\n-    }\n-  }\n-  return baseElement.getAttribute('href');\n+  baseElement = baseElement || document.querySelector('base');\n+  return baseElement ? baseElement.getAttribute('href') : null;\n }\n \n // based on urlUtils.js in AngularJS 1\n-let urlParsingNode: any;\n+let urlParsingNode: HTMLAnchorElement|undefined;\n function relativePath(url: any): string {\n-  if (!urlParsingNode) {\n-    urlParsingNode = document.createElement('a');\n-  }\n+  urlParsingNode = urlParsingNode || document.createElement('a');\n   urlParsingNode.setAttribute('href', url);\n-  return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n-                                                       '/' + urlParsingNode.pathname;\n+  const pathName = urlParsingNode.pathname;\n+  return pathName.charAt(0) === '/' ? pathName : `/${pathName}`;\n }"
        },
        {
            "sha": "c74f9f53c56dd8957bb26ddcf4302f62c06f8945",
            "filename": "packages/platform-browser/src/browser/generic_browser_adapter.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fgeneric_browser_adapter.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fgeneric_browser_adapter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Fgeneric_browser_adapter.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -17,11 +17,5 @@ import {ɵDomAdapter as DomAdapter} from '@angular/common';\n  * can introduce XSS risks.\n  */\n export abstract class GenericBrowserDomAdapter extends DomAdapter {\n-  constructor() {\n-    super();\n-  }\n-\n-  supportsDOMEvents(): boolean {\n-    return true;\n-  }\n+  readonly supportsDOMEvents: boolean = true;\n }"
        },
        {
            "sha": "4a51cfae3281fc3b4461556f93baf812c60f20c2",
            "filename": "packages/platform-browser/src/browser/tools/common_tools.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Ftools%2Fcommon_tools.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Ftools%2Fcommon_tools.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fsrc%2Fbrowser%2Ftools%2Fcommon_tools.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -6,7 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {ɵgetDOM as getDOM} from '@angular/common';\n import {ApplicationRef, ComponentRef} from '@angular/core';\n import {window} from './browser';\n \n@@ -50,13 +49,13 @@ export class AngularProfiler {\n     if (record && isProfilerAvailable) {\n       window.console.profile(profileName);\n     }\n-    const start = getDOM().performanceNow();\n+    const start = performanceNow();\n     let numTicks = 0;\n-    while (numTicks < 5 || (getDOM().performanceNow() - start) < 500) {\n+    while (numTicks < 5 || (performanceNow() - start) < 500) {\n       this.appRef.tick();\n       numTicks++;\n     }\n-    const end = getDOM().performanceNow();\n+    const end = performanceNow();\n     if (record && isProfilerAvailable) {\n       window.console.profileEnd(profileName);\n     }\n@@ -67,3 +66,8 @@ export class AngularProfiler {\n     return new ChangeDetectionPerfRecord(msPerTick, numTicks);\n   }\n }\n+\n+function performanceNow() {\n+  return window.performance && window.performance.now ? window.performance.now() :\n+                                                        new Date().getTime();\n+}"
        },
        {
            "sha": "d49260773fb26ef845c37a9651d21b306ce7999f",
            "filename": "packages/platform-browser/test/browser/bootstrap_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Ftest%2Fbrowser%2Fbootstrap_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Ftest%2Fbrowser%2Fbootstrap_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Ftest%2Fbrowser%2Fbootstrap_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -273,7 +273,7 @@ function bootstrap(\n          });\n        }));\n \n-    if (getDOM().supportsDOMEvents()) {\n+    if (getDOM().supportsDOMEvents) {\n       it('should forward the error to promise when bootstrap fails',\n          inject([AsyncTestCompleter], (async: AsyncTestCompleter) => {\n            const logger = new MockConsole();"
        },
        {
            "sha": "0f08c19018c970156bcfca400705f5d73d3d58bd",
            "filename": "packages/platform-browser/test/dom/events/event_manager_spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Ftest%2Fdom%2Fevents%2Fevent_manager_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-browser%2Ftest%2Fdom%2Fevents%2Fevent_manager_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Ftest%2Fdom%2Fevents%2Fevent_manager_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -21,7 +21,7 @@ let zone: NgZone;\n \n describe('EventManager', () => {\n   beforeEach(() => {\n-    doc = getDOM().supportsDOMEvents() ? document : getDOM().createHtmlDocument();\n+    doc = getDOM().supportsDOMEvents ? document : getDOM().createHtmlDocument();\n     zone = new NgZone({});\n     domEventPlugin = new DomEventsPlugin(doc);\n   });\n@@ -337,7 +337,7 @@ describe('EventManager', () => {\n \n   it('should only trigger one Change detection when bubbling with shouldCoalesceEventChangeDetection = true',\n      (done: DoneFn) => {\n-       doc = getDOM().supportsDOMEvents() ? document : getDOM().createHtmlDocument();\n+       doc = getDOM().supportsDOMEvents ? document : getDOM().createHtmlDocument();\n        zone = new NgZone({shouldCoalesceEventChangeDetection: true});\n        domEventPlugin = new DomEventsPlugin(doc);\n        const element = el('<div></div>');\n@@ -374,7 +374,7 @@ describe('EventManager', () => {\n \n   it('should only trigger one Change detection when bubbling with shouldCoalesceRunChangeDetection = true',\n      (done: DoneFn) => {\n-       doc = getDOM().supportsDOMEvents() ? document : getDOM().createHtmlDocument();\n+       doc = getDOM().supportsDOMEvents ? document : getDOM().createHtmlDocument();\n        zone = new NgZone({shouldCoalesceRunChangeDetection: true});\n        domEventPlugin = new DomEventsPlugin(doc);\n        const element = el('<div></div>');\n@@ -411,7 +411,7 @@ describe('EventManager', () => {\n \n   it('should not drain micro tasks queue too early with shouldCoalesceEventChangeDetection=true',\n      (done: DoneFn) => {\n-       doc = getDOM().supportsDOMEvents() ? document : getDOM().createHtmlDocument();\n+       doc = getDOM().supportsDOMEvents ? document : getDOM().createHtmlDocument();\n        zone = new NgZone({shouldCoalesceEventChangeDetection: true});\n        domEventPlugin = new DomEventsPlugin(doc);\n        const element = el('<div></div>');\n@@ -457,7 +457,7 @@ describe('EventManager', () => {\n \n   it('should not drain micro tasks queue too early with shouldCoalesceRunChangeDetection=true',\n      (done: DoneFn) => {\n-       doc = getDOM().supportsDOMEvents() ? document : getDOM().createHtmlDocument();\n+       doc = getDOM().supportsDOMEvents ? document : getDOM().createHtmlDocument();\n        zone = new NgZone({shouldCoalesceRunChangeDetection: true});\n        domEventPlugin = new DomEventsPlugin(doc);\n        const element = el('<div></div>');"
        },
        {
            "sha": "39d1c8f81d485cc7867c4632c7103f3e6f6e7759",
            "filename": "packages/platform-server/src/domino_adapter.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 51,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-server%2Fsrc%2Fdomino_adapter.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-server%2Fsrc%2Fdomino_adapter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-server%2Fsrc%2Fdomino_adapter.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -10,10 +10,6 @@ const domino = require('domino');\n import {ɵBrowserDomAdapter as BrowserDomAdapter} from '@angular/platform-browser';\n import {ɵsetRootDomAdapter as setRootDomAdapter} from '@angular/common';\n \n-function _notImplemented(methodName: string) {\n-  return new Error('This method is not implemented in DominoAdapter: ' + methodName);\n-}\n-\n export function setDomTypes() {\n   // Make all Domino types available in the global env.\n   Object.assign(global, domino.impl);\n@@ -45,23 +41,9 @@ export class DominoAdapter extends BrowserDomAdapter {\n     setRootDomAdapter(new DominoAdapter());\n   }\n \n+  readonly supportsDOMEvents = false;\n   private static defaultDoc: Document;\n \n-  log(error: string) {\n-    // tslint:disable-next-line:no-console\n-    console.log(error);\n-  }\n-\n-  logGroup(error: string) {\n-    console.error(error);\n-  }\n-\n-  logGroupEnd() {}\n-\n-  supportsDOMEvents(): boolean {\n-    return false;\n-  }\n-\n   createHtmlDocument(): HTMLDocument {\n     return parseDocument('<html><head><title>fakeTitle</title></head><body></body></html>');\n   }\n@@ -80,18 +62,6 @@ export class DominoAdapter extends BrowserDomAdapter {\n     return node.shadowRoot == node;\n   }\n \n-  getProperty(el: Element, name: string): any {\n-    if (name === 'href') {\n-      // Domino tries to resolve href-s which we do not want. Just return the\n-      // attribute value.\n-      return el.getAttribute('href');\n-    } else if (name === 'innerText') {\n-      // Domino does not support innerText. Just map it to textContent.\n-      return el.textContent;\n-    }\n-    return (<any>el)[name];\n-  }\n-\n   getGlobalEventTarget(doc: Document, target: string): EventTarget|null {\n     if (target === 'window') {\n       return doc.defaultView;\n@@ -106,13 +76,8 @@ export class DominoAdapter extends BrowserDomAdapter {\n   }\n \n   getBaseHref(doc: Document): string {\n-    const base = doc.documentElement!.querySelector('base');\n-    let href = '';\n-    if (base) {\n-      href = base.getAttribute('href')!;\n-    }\n     // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n-    return href;\n+    return doc.documentElement!.querySelector('base')?.getAttribute('href') || '';\n   }\n \n   dispatchEvent(el: Node, evt: any) {\n@@ -126,24 +91,11 @@ export class DominoAdapter extends BrowserDomAdapter {\n     }\n   }\n \n-  getHistory(): History {\n-    throw _notImplemented('getHistory');\n-  }\n-  getLocation(): Location {\n-    throw _notImplemented('getLocation');\n-  }\n   getUserAgent(): string {\n     return 'Fake user agent';\n   }\n \n-  performanceNow(): number {\n-    return Date.now();\n-  }\n-\n-  supportsCookies(): boolean {\n-    return false;\n-  }\n   getCookie(name: string): string {\n-    throw _notImplemented('getCookie');\n+    throw new Error('getCookie has not been implemented');\n   }\n }"
        },
        {
            "sha": "3f781f98a7303caf07e8ce2950656e2b82f02aa5",
            "filename": "packages/platform-server/test/integration_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-server%2Ftest%2Fintegration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-server%2Ftest%2Fintegration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-server%2Ftest%2Fintegration_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -402,7 +402,7 @@ class HiddenModule {\n }\n \n (function() {\n-if (getDOM().supportsDOMEvents()) return;  // NODE only\n+if (getDOM().supportsDOMEvents) return;  // NODE only\n \n describe('platform-server integration', () => {\n   beforeEach(() => {"
        },
        {
            "sha": "75e3454f8a2efa860a157704e73b7c4dec2aeab8",
            "filename": "packages/platform-server/test/server_styles_host_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-server%2Ftest%2Fserver_styles_host_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Fplatform-server%2Ftest%2Fserver_styles_host_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-server%2Ftest%2Fserver_styles_host_spec.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -11,7 +11,7 @@ import {ServerStylesHost} from '@angular/platform-server/src/styles_host';\n \n \n (function() {\n-if (getDOM().supportsDOMEvents()) return;  // NODE only\n+if (getDOM().supportsDOMEvents) return;  // NODE only\n \n describe('ServerStylesHost', () => {\n   let ssh: ServerStylesHost;"
        },
        {
            "sha": "51293c5fd29e840b30c7bfe23cd499ef2491b492",
            "filename": "packages/router/src/router_module.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Frouter%2Fsrc%2Frouter_module.ts",
            "raw_url": "https://github.com/angular/angular/raw/3c66b100dd6f05f53740f596c5eadb999c27c9c4/packages%2Frouter%2Fsrc%2Frouter_module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2Fsrc%2Frouter_module.ts?ref=3c66b100dd6f05f53740f596c5eadb999c27c9c4",
            "patch": "@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {APP_BASE_HREF, HashLocationStrategy, Location, LOCATION_INITIALIZED, LocationStrategy, PathLocationStrategy, PlatformLocation, ViewportScroller, ɵgetDOM as getDOM} from '@angular/common';\n+import {APP_BASE_HREF, HashLocationStrategy, Location, LOCATION_INITIALIZED, LocationStrategy, PathLocationStrategy, PlatformLocation, ViewportScroller} from '@angular/common';\n import {ANALYZE_FOR_ENTRY_COMPONENTS, APP_BOOTSTRAP_LISTENER, APP_INITIALIZER, ApplicationRef, Compiler, ComponentRef, Inject, Injectable, InjectionToken, Injector, ModuleWithProviders, NgModule, NgModuleFactoryLoader, NgProbeToken, Optional, Provider, SkipSelf, SystemJsNgModuleLoader} from '@angular/core';\n import {of, Subject} from 'rxjs';\n \n@@ -448,12 +448,13 @@ export function setupRouter(\n   assignExtraOptionsToRouter(opts, router);\n \n   if (opts.enableTracing) {\n-    const dom = getDOM();\n     router.events.subscribe((e: Event) => {\n-      dom.logGroup(`Router Event: ${(<any>e.constructor).name}`);\n-      dom.log(e.toString());\n-      dom.log(e);\n-      dom.logGroupEnd();\n+      // tslint:disable:no-console\n+      console.group?.(`Router Event: ${(<any>e.constructor).name}`);\n+      console.log(e.toString());\n+      console.log(e);\n+      console.groupEnd?.();\n+      // tslint:enable:no-console\n     });\n   }\n "
        }
    ],
    "stats": {
        "total": 308,
        "additions": 84,
        "deletions": 224
    }
}