{
    "author": "ramthir",
    "message": "refactor(common): make the error messages tree shakable (#44663)\n\nMake Long error messages tree-shakable in the production build with error codes.\n\nfixes #40096\n\nPR Close #44663",
    "sha": "4307b820583400b06ef6e9fafccdba2c228c8e78",
    "files": [
        {
            "sha": "b194a0b3ee7ec7922e7e6338ba7e75b6c379afaf",
            "filename": "goldens/public-api/common/errors.md",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/4307b820583400b06ef6e9fafccdba2c228c8e78/goldens%2Fpublic-api%2Fcommon%2Ferrors.md",
            "raw_url": "https://github.com/angular/angular/raw/4307b820583400b06ef6e9fafccdba2c228c8e78/goldens%2Fpublic-api%2Fcommon%2Ferrors.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Ferrors.md?ref=4307b820583400b06ef6e9fafccdba2c228c8e78",
            "patch": "@@ -6,6 +6,8 @@\n \n // @public\n export const enum RuntimeErrorCode {\n+    // (undocumented)\n+    INVALID_PIPE_ARGUMENT = 2100,\n     // (undocumented)\n     PARENT_NG_SWITCH_NOT_FOUND = 2000\n }"
        },
        {
            "sha": "5e0e4ee3ce88e0446a31faa5833c7cf71fe1baab",
            "filename": "packages/common/src/errors.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcommon%2Fsrc%2Ferrors.ts",
            "raw_url": "https://github.com/angular/angular/raw/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcommon%2Fsrc%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Ferrors.ts?ref=4307b820583400b06ef6e9fafccdba2c228c8e78",
            "patch": "@@ -13,4 +13,6 @@\n export const enum RuntimeErrorCode {\n   // NgSwitch errors\n   PARENT_NG_SWITCH_NOT_FOUND = 2000,\n+  // Pipe errors\n+  INVALID_PIPE_ARGUMENT = 2100\n }"
        },
        {
            "sha": "5ae06508f84df001cf262eb14532780ca8f0e665",
            "filename": "packages/common/src/pipes/invalid_pipe_argument_error.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcommon%2Fsrc%2Fpipes%2Finvalid_pipe_argument_error.ts",
            "raw_url": "https://github.com/angular/angular/raw/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcommon%2Fsrc%2Fpipes%2Finvalid_pipe_argument_error.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fpipes%2Finvalid_pipe_argument_error.ts?ref=4307b820583400b06ef6e9fafccdba2c228c8e78",
            "patch": "@@ -6,8 +6,13 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {Type, ɵstringify as stringify} from '@angular/core';\n+import {Type, ɵRuntimeError as RuntimeError, ɵstringify as stringify} from '@angular/core';\n+\n+import {RuntimeErrorCode} from '../errors';\n \n export function invalidPipeArgumentError(type: Type<any>, value: Object) {\n-  return Error(`InvalidPipeArgument: '${value}' for pipe '${stringify(type)}'`);\n+  const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+      `InvalidPipeArgument: '${value}' for pipe '${stringify(type)}'` :\n+      '';\n+  return new RuntimeError(RuntimeErrorCode.INVALID_PIPE_ARGUMENT, errorMessage);\n }"
        },
        {
            "sha": "3aa7306b82ef022b1b0071e79614b1aaf67733f9",
            "filename": "packages/common/test/pipes/number_pipe_spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcommon%2Ftest%2Fpipes%2Fnumber_pipe_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcommon%2Ftest%2Fpipes%2Fnumber_pipe_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Ftest%2Fpipes%2Fnumber_pipe_spec.ts?ref=4307b820583400b06ef6e9fafccdba2c228c8e78",
            "patch": "@@ -64,9 +64,10 @@ import {ɵregisterLocaleData, ɵunregisterLocaleData} from '@angular/core';\n         it('should not support other objects', () => {\n           expect(() => pipe.transform({} as any))\n               .toThrowError(\n-                  `InvalidPipeArgument: '[object Object] is not a number' for pipe 'DecimalPipe'`);\n+                  `NG02100: InvalidPipeArgument: '[object Object] is not a number' for pipe 'DecimalPipe'`);\n           expect(() => pipe.transform('123abc'))\n-              .toThrowError(`InvalidPipeArgument: '123abc is not a number' for pipe 'DecimalPipe'`);\n+              .toThrowError(\n+                  `NG02100: InvalidPipeArgument: '123abc is not a number' for pipe 'DecimalPipe'`);\n         });\n       });\n \n@@ -108,7 +109,7 @@ import {ɵregisterLocaleData, ɵunregisterLocaleData} from '@angular/core';\n         it('should not support other objects', () => {\n           expect(() => pipe.transform({} as any))\n               .toThrowError(\n-                  `InvalidPipeArgument: '[object Object] is not a number' for pipe 'PercentPipe'`);\n+                  `NG02100: InvalidPipeArgument: '[object Object] is not a number' for pipe 'PercentPipe'`);\n         });\n       });\n     });\n@@ -168,7 +169,7 @@ import {ɵregisterLocaleData, ɵunregisterLocaleData} from '@angular/core';\n         it('should not support other objects', () => {\n           expect(() => pipe.transform({} as any))\n               .toThrowError(\n-                  `InvalidPipeArgument: '[object Object] is not a number' for pipe 'CurrencyPipe'`);\n+                  `NG02100: InvalidPipeArgument: '[object Object] is not a number' for pipe 'CurrencyPipe'`);\n         });\n \n         it('should warn if you are using the v4 signature', () => {"
        },
        {
            "sha": "0bad911f0b06c1ac570f44700e5f2411e45e86b4",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/4307b820583400b06ef6e9fafccdba2c228c8e78/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=4307b820583400b06ef6e9fafccdba2c228c8e78",
            "patch": "@@ -1878,7 +1878,7 @@\n     \"name\": \"stringify\"\n   },\n   {\n-    \"name\": \"stringify6\"\n+    \"name\": \"stringify7\"\n   },\n   {\n     \"name\": \"stringifyCSSSelector\""
        }
    ],
    "stats": {
        "total": 24,
        "additions": 17,
        "deletions": 7
    }
}