{
    "author": "alxhub",
    "message": "fix(dev-infra): fetch 100 branches from Github instead of 30 (#42658)\n\nThis commit fixes an issue with the ng-dev tool, where Github's API returns\npaginated branch data. Only 30 branches are returned by default, and Angular\nnow has more than 30 branches in its repo. This commit increases the number\nof branches returned to the API limit of 100, which should buy us some time\nuntil we can implement proper pagination.\n\nPR Close #42658",
    "sha": "261b060fa168754db00248d1c5c9574bb19a72b4",
    "files": [
        {
            "sha": "05868d5480cabab0c615575ee468c3f928420cc7",
            "filename": "dev-infra/ng-dev.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/261b060fa168754db00248d1c5c9574bb19a72b4/dev-infra%2Fng-dev.js",
            "raw_url": "https://github.com/angular/angular/raw/261b060fa168754db00248d1c5c9574bb19a72b4/dev-infra%2Fng-dev.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fng-dev.js?ref=261b060fa168754db00248d1c5c9574bb19a72b4",
            "patch": "@@ -885,7 +885,9 @@ function getVersionForVersionBranch(branchName) {\n  */\n function getBranchesForMajorVersions(repo, majorVersions) {\n     return tslib.__awaiter(this, void 0, void 0, function* () {\n-        const { data: branchData } = yield repo.api.repos.listBranches({ owner: repo.owner, repo: repo.name, protected: true });\n+        // TODO(alxhub): actually paginate this, since eventually the number of branches we have will run\n+        // off the end of the first page of data returned by `listBranches`.\n+        const { data: branchData } = yield repo.api.repos.listBranches({ owner: repo.owner, repo: repo.name, protected: true, per_page: 100 });\n         const branches = [];\n         for (const { name } of branchData) {\n             if (!isVersionBranch(name)) {"
        },
        {
            "sha": "eb6fb2f905df4550356d3f7b951078d6a320b1f8",
            "filename": "dev-infra/release/versioning/version-branches.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/261b060fa168754db00248d1c5c9574bb19a72b4/dev-infra%2Frelease%2Fversioning%2Fversion-branches.ts",
            "raw_url": "https://github.com/angular/angular/raw/261b060fa168754db00248d1c5c9574bb19a72b4/dev-infra%2Frelease%2Fversioning%2Fversion-branches.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2Fversioning%2Fversion-branches.ts?ref=261b060fa168754db00248d1c5c9574bb19a72b4",
            "patch": "@@ -67,8 +67,10 @@ export function getVersionForVersionBranch(branchName: string): semver.SemVer|nu\n  */\n export async function getBranchesForMajorVersions(\n     repo: GithubRepoWithApi, majorVersions: number[]): Promise<VersionBranch[]> {\n-  const {data: branchData} =\n-      await repo.api.repos.listBranches({owner: repo.owner, repo: repo.name, protected: true});\n+  // TODO(alxhub): actually paginate this, since eventually the number of branches we have will run\n+  // off the end of the first page of data returned by `listBranches`.\n+  const {data: branchData} = await repo.api.repos.listBranches(\n+      {owner: repo.owner, repo: repo.name, protected: true, per_page: 100});\n   const branches: VersionBranch[] = [];\n \n   for (const {name} of branchData) {"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}