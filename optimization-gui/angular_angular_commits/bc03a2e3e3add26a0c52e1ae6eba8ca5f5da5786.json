{
    "author": "ramthir",
    "message": "refactor(core): make the error messages tree shakable (#44359)\nLong error messages can be tree-shaken in the production build and replaced with error codes.\n\nSee: https://github.com/angular/angular/pull/44219#issuecomment-983216374\n\nPR Close #44359",
    "sha": "bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
    "files": [
        {
            "sha": "11bc9517de6c60e1fbd2919a7a77ef4b4dc6596d",
            "filename": "goldens/public-api/core/errors.md",
            "status": "modified",
            "additions": 25,
            "deletions": 1,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/goldens%2Fpublic-api%2Fcore%2Ferrors.md",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/goldens%2Fpublic-api%2Fcore%2Ferrors.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcore%2Ferrors.md?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -31,10 +31,28 @@ export const enum RuntimeErrorCode {\n     // (undocumented)\n     EXPRESSION_CHANGED_AFTER_CHECKED = -100,\n     // (undocumented)\n+    INJECTOR_ALREADY_DESTROYED = 205,\n+    // (undocumented)\n+    INVALID_DIFFER_INPUT = 900,\n+    // (undocumented)\n+    INVALID_EVENT_BINDING = 306,\n+    // (undocumented)\n+    INVALID_FACTORY_DEPENDENCY = 202,\n+    // (undocumented)\n+    INVALID_I18N_STRUCTURE = 700,\n+    // (undocumented)\n+    INVALID_INHERITANCE = 903,\n+    // (undocumented)\n+    INVALID_INJECTION_TOKEN = 204,\n+    // (undocumented)\n+    MISSING_INJECTION_CONTEXT = 203,\n+    // (undocumented)\n     MULTIPLE_COMPONENTS_MATCH = -300,\n     // (undocumented)\n     MULTIPLE_PLATFORMS = 400,\n     // (undocumented)\n+    NO_SUPPORTING_DIFFER_FACTORY = 901,\n+    // (undocumented)\n     PIPE_NOT_FOUND = -302,\n     // (undocumented)\n     PLATFORM_NOT_FOUND = 401,\n@@ -47,7 +65,13 @@ export const enum RuntimeErrorCode {\n     // (undocumented)\n     UNKNOWN_BINDING = 303,\n     // (undocumented)\n-    UNKNOWN_ELEMENT = 304\n+    UNKNOWN_ELEMENT = 304,\n+    // (undocumented)\n+    UNSAFE_VALUE_IN_RESOURCE_URL = 904,\n+    // (undocumented)\n+    UNSAFE_VALUE_IN_SCRIPT = 905,\n+    // (undocumented)\n+    VIEW_ALREADY_ATTACHED = 902\n }\n \n // (No @packageDocumentation comment for this package)"
        },
        {
            "sha": "e3ffcb6e37c1130e284d335f29b2cb284f77ef63",
            "filename": "goldens/size-tracking/aio-payloads.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/goldens%2Fsize-tracking%2Faio-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/goldens%2Fsize-tracking%2Faio-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Faio-payloads.json?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -15,7 +15,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime\": 4330,\n-        \"main\": 458518,\n+        \"main\": 457719,\n         \"polyfills\": 37271,\n         \"styles\": 69863,\n         \"light-theme\": 77232,"
        },
        {
            "sha": "3a4396037687df093e466e57ed30322c83a28b05",
            "filename": "goldens/size-tracking/integration-payloads.json",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/goldens%2Fsize-tracking%2Fintegration-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Fintegration-payloads.json?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -3,8 +3,8 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime\": 1083,\n-        \"main\": 140067,\n-        \"polyfills\": 36964\n+        \"main\": 139416,\n+        \"polyfills\": 37226\n       }\n     }\n   },\n@@ -24,7 +24,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime\": 1105,\n-        \"main\": 145783,\n+        \"main\": 145132,\n         \"polyfills\": 37248\n       }\n     }\n@@ -33,27 +33,27 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime\": 929,\n-        \"main\": 138435,\n+        \"main\": 137712,\n         \"polyfills\": 37933\n       }\n     }\n   },\n   \"cli-hello-world-lazy\": {\n     \"master\": {\n       \"uncompressed\": {\n-        \"runtime\": 2812,\n-        \"main\": 232617,\n+        \"runtime\": 2835,\n+        \"main\": 231989,\n         \"polyfills\": 37244,\n-        \"src_app_lazy_lazy_module_ts\": 796\n+        \"src_app_lazy_lazy_module_ts\": 795\n       }\n     }\n   },\n   \"forms\": {\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime\": 1063,\n-        \"main\": 162811,\n-        \"polyfills\": 36975\n+        \"main\": 162121,\n+        \"polyfills\": 37206\n       }\n     }\n   },"
        },
        {
            "sha": "e4a7cf7f5245e46ee1536eba9dc73d3d06477dc6",
            "filename": "packages/core/src/change_detection/differs/default_iterable_differ.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fdefault_iterable_differ.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fdefault_iterable_differ.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fdefault_iterable_differ.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {RuntimeError, RuntimeErrorCode} from '../../errors';\n import {stringify} from '../../util/stringify';\n import {isListLikeIterable, iterateListLike} from '../change_detection_util';\n \n@@ -152,8 +153,10 @@ export class DefaultIterableDiffer<V> implements IterableDiffer<V>, IterableChan\n   diff(collection: NgIterable<V>|null|undefined): DefaultIterableDiffer<V>|null {\n     if (collection == null) collection = [];\n     if (!isListLikeIterable(collection)) {\n-      throw new Error(\n-          `Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);\n+      const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+          `Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed` :\n+          '';\n+      throw new RuntimeError(RuntimeErrorCode.INVALID_DIFFER_INPUT, errorMessage);\n     }\n \n     if (this.check(collection)) {"
        },
        {
            "sha": "e1d3a229a625194fec1e5ef40b5784226b415588",
            "filename": "packages/core/src/change_detection/differs/default_keyvalue_differ.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fdefault_keyvalue_differ.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fdefault_keyvalue_differ.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fdefault_keyvalue_differ.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -6,8 +6,10 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {RuntimeError, RuntimeErrorCode} from '../../errors';\n import {stringify} from '../../util/stringify';\n import {isJsObject} from '../change_detection_util';\n+\n import {KeyValueChangeRecord, KeyValueChanges, KeyValueDiffer, KeyValueDifferFactory} from './keyvalue_differs';\n \n \n@@ -79,8 +81,10 @@ export class DefaultKeyValueDiffer<K, V> implements KeyValueDiffer<K, V>, KeyVal\n     if (!map) {\n       map = new Map();\n     } else if (!(map instanceof Map || isJsObject(map))) {\n-      throw new Error(\n-          `Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`);\n+      const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+          `Error trying to diff '${stringify(map)}'. Only maps and objects are allowed` :\n+          '';\n+      throw new RuntimeError(RuntimeErrorCode.INVALID_DIFFER_INPUT, errorMessage);\n     }\n \n     return this.check(map) ? this : null;"
        },
        {
            "sha": "778ef06baaf016366d1fa7e30a6722739ee814c1",
            "filename": "packages/core/src/change_detection/differs/iterable_differs.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fiterable_differs.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fiterable_differs.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fiterable_differs.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -9,6 +9,7 @@\n import {ɵɵdefineInjectable} from '../../di/interface/defs';\n import {StaticProvider} from '../../di/interface/provider';\n import {Optional, SkipSelf} from '../../di/metadata';\n+import {RuntimeError, RuntimeErrorCode} from '../../errors';\n import {DefaultIterableDifferFactory} from '../differs/default_iterable_differ';\n \n \n@@ -250,8 +251,11 @@ export class IterableDiffers {\n     if (factory != null) {\n       return factory;\n     } else {\n-      throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${\n-          getTypeNameForDebugging(iterable)}'`);\n+      const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+          `Cannot find a differ supporting object '${iterable}' of type '${\n+              getTypeNameForDebugging(iterable)}'` :\n+          '';\n+      throw new RuntimeError(RuntimeErrorCode.NO_SUPPORTING_DIFFER_FACTORY, errorMessage);\n     }\n   }\n }"
        },
        {
            "sha": "a2571279f334af4371095fa005c2b227fb62c862",
            "filename": "packages/core/src/change_detection/differs/keyvalue_differs.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fkeyvalue_differs.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fkeyvalue_differs.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fchange_detection%2Fdiffers%2Fkeyvalue_differs.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -7,6 +7,8 @@\n  */\n \n import {Optional, SkipSelf, StaticProvider, ɵɵdefineInjectable} from '../../di';\n+import {RuntimeError, RuntimeErrorCode} from '../../errors';\n+\n import {DefaultKeyValueDifferFactory} from './default_keyvalue_differ';\n \n \n@@ -181,6 +183,9 @@ export class KeyValueDiffers {\n     if (factory) {\n       return factory;\n     }\n-    throw new Error(`Cannot find a differ supporting object '${kv}'`);\n+    const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+        `Cannot find a differ supporting object '${kv}'` :\n+        '';\n+    throw new RuntimeError(RuntimeErrorCode.NO_SUPPORTING_DIFFER_FACTORY, errorMessage);\n   }\n }"
        },
        {
            "sha": "03686f315ba620a2e9a940c72b5b89c92b7a604e",
            "filename": "packages/core/src/di/injector_compatibility.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fdi%2Finjector_compatibility.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fdi%2Finjector_compatibility.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Finjector_compatibility.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -8,6 +8,7 @@\n \n import '../util/ng_dev_mode';\n \n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n import {Type} from '../interface/type';\n import {getClosureSafeProperty} from '../util/property';\n import {stringify} from '../util/stringify';\n@@ -58,7 +59,10 @@ export function injectInjectorOnly<T>(token: ProviderToken<T>, flags?: InjectFla\n export function injectInjectorOnly<T>(token: ProviderToken<T>, flags = InjectFlags.Default): T|\n     null {\n   if (_currentInjector === undefined) {\n-    throw new Error(`inject() must be called from an injection context`);\n+    const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+        `inject() must be called from an injection context` :\n+        '';\n+    throw new RuntimeError(RuntimeErrorCode.MISSING_INJECTION_CONTEXT, errorMessage);\n   } else if (_currentInjector === null) {\n     return injectRootLimpMode(token, undefined, flags);\n   } else {\n@@ -141,7 +145,10 @@ export function injectArgs(types: (ProviderToken<any>|any[])[]): any[] {\n     const arg = resolveForwardRef(types[i]);\n     if (Array.isArray(arg)) {\n       if (arg.length === 0) {\n-        throw new Error('Arguments array must have arguments.');\n+        const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+            'Arguments array must have arguments.' :\n+            '';\n+        throw new RuntimeError(RuntimeErrorCode.INVALID_DIFFER_INPUT, errorMessage);\n       }\n       let type: Type<any>|undefined = undefined;\n       let flags: InjectFlags = InjectFlags.Default;"
        },
        {
            "sha": "4f81f00e0eeeaf12f2e2a79c10fc4cc9a2cc47fe",
            "filename": "packages/core/src/di/r3_injector.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 4,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Fr3_injector.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -8,6 +8,7 @@\n \n import '../util/ng_dev_mode';\n \n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n import {OnDestroy} from '../interface/lifecycle_hooks';\n import {Type} from '../interface/type';\n import {FactoryFn, getFactoryDef} from '../render3/definition_factory';\n@@ -255,7 +256,10 @@ export class R3Injector {\n \n   private assertNotDestroyed(): void {\n     if (this._destroyed) {\n-      throw new Error('Injector has already been destroyed.');\n+      const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+          'Injector has already been destroyed.' :\n+          '';\n+      throw new RuntimeError(RuntimeErrorCode.INJECTOR_ALREADY_DESTROYED, errorMessage);\n     }\n   }\n \n@@ -446,7 +450,10 @@ function injectableDefOrInjectorDefFactory(token: ProviderToken<any>): FactoryFn\n   // InjectionTokens should have an injectable def (ɵprov) and thus should be handled above.\n   // If it's missing that, it's an error.\n   if (token instanceof InjectionToken) {\n-    throw new Error(`Token ${stringify(token)} is missing a ɵprov definition.`);\n+    const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+        `Token ${stringify(token)} is missing a ɵprov definition.` :\n+        '';\n+    throw new RuntimeError(RuntimeErrorCode.INVALID_INJECTION_TOKEN, errorMessage);\n   }\n \n   // Undecorated types can sometimes be created if they have no constructor arguments.\n@@ -455,15 +462,19 @@ function injectableDefOrInjectorDefFactory(token: ProviderToken<any>): FactoryFn\n   }\n \n   // There was no way to resolve a factory for this token.\n-  throw new Error('unreachable');\n+  const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ? 'unreachable' : '';\n+  throw new RuntimeError(RuntimeErrorCode.INVALID_INJECTION_TOKEN, errorMessage);\n }\n \n function getUndecoratedInjectableFactory(token: Function) {\n   // If the token has parameters then it has dependencies that we cannot resolve implicitly.\n   const paramLength = token.length;\n   if (paramLength > 0) {\n     const args: string[] = newArray(paramLength, '?');\n-    throw new Error(`Can't resolve all parameters for ${stringify(token)}: (${args.join(', ')}).`);\n+    const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+        `Can't resolve all parameters for ${stringify(token)}: (${args.join(', ')}).` :\n+        '';\n+    throw new RuntimeError(RuntimeErrorCode.INVALID_INJECTION_TOKEN, errorMessage);\n   }\n \n   // The constructor function appears to have no parameters."
        },
        {
            "sha": "5c18d8f06aa6d52bbb25be49beac72f21ae02ac1",
            "filename": "packages/core/src/errors.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Ferrors.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Ferrors.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Ferrors.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -26,6 +26,10 @@ export const enum RuntimeErrorCode {\n   // Dependency Injection Errors\n   CYCLIC_DI_DEPENDENCY = -200,\n   PROVIDER_NOT_FOUND = -201,\n+  INVALID_FACTORY_DEPENDENCY = 202,\n+  MISSING_INJECTION_CONTEXT = 203,\n+  INVALID_INJECTION_TOKEN = 204,\n+  INJECTOR_ALREADY_DESTROYED = 205,\n \n   // Template Errors\n   MULTIPLE_COMPONENTS_MATCH = -300,\n@@ -34,6 +38,7 @@ export const enum RuntimeErrorCode {\n   UNKNOWN_BINDING = 303,\n   UNKNOWN_ELEMENT = 304,\n   TEMPLATE_STRUCTURE_ERROR = 305,\n+  INVALID_EVENT_BINDING = 306,\n \n   // Bootstrap Errors\n   MULTIPLE_PLATFORMS = 400,\n@@ -48,8 +53,16 @@ export const enum RuntimeErrorCode {\n   // Declarations Errors\n \n   // i18n Errors\n+  INVALID_I18N_STRUCTURE = 700,\n \n   // JIT Compilation Errors\n+  // Other\n+  INVALID_DIFFER_INPUT = 900,\n+  NO_SUPPORTING_DIFFER_FACTORY = 901,\n+  VIEW_ALREADY_ATTACHED = 902,\n+  INVALID_INHERITANCE = 903,\n+  UNSAFE_VALUE_IN_RESOURCE_URL = 904,\n+  UNSAFE_VALUE_IN_SCRIPT = 905\n }\n \n export class RuntimeError<T = RuntimeErrorCode> extends Error {"
        },
        {
            "sha": "6e21c65278c114759a6131ef5e7844301a71c9a9",
            "filename": "packages/core/src/render3/features/inherit_definition_feature.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Frender3%2Ffeatures%2Finherit_definition_feature.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Frender3%2Ffeatures%2Finherit_definition_feature.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Ffeatures%2Finherit_definition_feature.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {RuntimeError, RuntimeErrorCode} from '../../errors';\n import {Type, Writable} from '../../interface/type';\n import {EMPTY_ARRAY, EMPTY_OBJ} from '../../util/empty';\n import {fillProperties} from '../../util/property';\n@@ -39,7 +40,10 @@ export function ɵɵInheritDefinitionFeature(definition: DirectiveDef<any>|Compo\n       superDef = superType.ɵcmp || superType.ɵdir;\n     } else {\n       if (superType.ɵcmp) {\n-        throw new Error('Directives cannot inherit Components');\n+        const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+            'Directives cannot inherit Components' :\n+            '';\n+        throw new RuntimeError(RuntimeErrorCode.INVALID_INHERITANCE, errorMessage);\n       }\n       // Don't use getComponentDef/getDirectiveDef. This logic relies on inheritance.\n       superDef = superType.ɵdir;"
        },
        {
            "sha": "27d376d0d59c09105243c0b1f4b91860be07af71",
            "filename": "packages/core/src/render3/i18n/i18n_apply.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {RuntimeError, RuntimeErrorCode} from '../../errors';\n import {getPluralCase} from '../../i18n/localization';\n import {assertDefined, assertDomNode, assertEqual, assertGreaterThan, assertIndexInRange, throwError} from '../../util/assert';\n import {assertIndexInExpandoRange, assertTIcu} from '../assert';\n@@ -20,6 +21,7 @@ import {createCommentNode, createElementNode, createTextNode, nativeInsertBefore\n import {getBindingIndex} from '../state';\n import {renderStringify} from '../util/stringify_utils';\n import {getNativeByIndex, unwrapRNode} from '../util/view_utils';\n+\n import {getLocaleId} from './i18n_locale_id';\n import {getCurrentICUCaseIndex, getParentFromIcuCreateOpCode, getRefFromIcuCreateOpCode, getTIcu} from './i18n_util';\n \n@@ -198,7 +200,11 @@ export function applyMutableOpCodes(\n               attrValue, null);\n           break;\n         default:\n-          throw new Error(`Unable to determine the type of mutate operation for \"${opCode}\"`);\n+          if (ngDevMode) {\n+            throw new RuntimeError(\n+                RuntimeErrorCode.INVALID_I18N_STRUCTURE,\n+                `Unable to determine the type of mutate operation for \"${opCode}\"`);\n+          }\n       }\n     } else {\n       switch (opCode) {"
        },
        {
            "sha": "d1f39334654fcf0ca7fc61fa8324f83fa9d4c398",
            "filename": "packages/core/src/render3/view_ref.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_ref.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -7,9 +7,11 @@\n  */\n \n import {ChangeDetectorRef as viewEngine_ChangeDetectorRef} from '../change_detection/change_detector_ref';\n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n import {EmbeddedViewRef as viewEngine_EmbeddedViewRef, InternalViewRef as viewEngine_InternalViewRef, ViewRefTracker} from '../linker/view_ref';\n import {removeFromArray} from '../util/array_utils';\n import {assertEqual} from '../util/assert';\n+\n import {collectNativeNodes} from './collect_native_nodes';\n import {checkNoChangesInRootView, checkNoChangesInternal, detectChangesInRootView, detectChangesInternal, markViewDirty, storeCleanupWithContext} from './instructions/shared';\n import {CONTAINER_HEADER_OFFSET, VIEW_REFS} from './interfaces/container';\n@@ -284,7 +286,9 @@ export class ViewRef<T> implements viewEngine_EmbeddedViewRef<T>, viewEngine_Int\n \n   attachToViewContainerRef() {\n     if (this._appRef) {\n-      throw new Error('This view is already attached directly to the ApplicationRef!');\n+      const errorMessage =\n+          ngDevMode ? 'This view is already attached directly to the ApplicationRef!' : '';\n+      throw new RuntimeError(RuntimeErrorCode.VIEW_ALREADY_ATTACHED, errorMessage);\n     }\n     this._attachedToViewContainer = true;\n   }\n@@ -296,7 +300,8 @@ export class ViewRef<T> implements viewEngine_EmbeddedViewRef<T>, viewEngine_Int\n \n   attachToAppRef(appRef: ViewRefTracker) {\n     if (this._attachedToViewContainer) {\n-      throw new Error('This view is already attached to a ViewContainer!');\n+      const errorMessage = ngDevMode ? 'This view is already attached to a ViewContainer!' : '';\n+      throw new RuntimeError(RuntimeErrorCode.VIEW_ALREADY_ATTACHED, errorMessage);\n     }\n     this._appRef = appRef;\n   }"
        },
        {
            "sha": "88f0190fabf66252e1ddd54f25ccf8cc8fce330d",
            "filename": "packages/core/src/sanitization/sanitization.ts",
            "status": "modified",
            "additions": 15,
            "deletions": 6,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fsanitization%2Fsanitization.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Fsrc%2Fsanitization%2Fsanitization.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fsanitization%2Fsanitization.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -6,6 +6,7 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {RuntimeError, RuntimeErrorCode} from '../errors';\n import {getDocument} from '../render3/interfaces/document';\n import {SANITIZER} from '../render3/interfaces/view';\n import {getLView} from '../render3/state';\n@@ -117,7 +118,10 @@ export function ɵɵsanitizeResourceUrl(unsafeResourceUrl: any): TrustedScriptUR\n   if (allowSanitizationBypassAndThrow(unsafeResourceUrl, BypassType.ResourceUrl)) {\n     return trustedScriptURLFromStringBypass(unwrapSafeValue(unsafeResourceUrl));\n   }\n-  throw new Error('unsafe value used in a resource URL context (see https://g.co/ng/security#xss)');\n+  const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+      'unsafe value used in a resource URL context (see https://g.co/ng/security#xss)' :\n+      '';\n+  throw new RuntimeError(RuntimeErrorCode.UNSAFE_VALUE_IN_RESOURCE_URL, errorMessage);\n }\n \n /**\n@@ -141,7 +145,10 @@ export function ɵɵsanitizeScript(unsafeScript: any): TrustedScript|string {\n   if (allowSanitizationBypassAndThrow(unsafeScript, BypassType.Script)) {\n     return trustedScriptFromStringBypass(unwrapSafeValue(unsafeScript));\n   }\n-  throw new Error('unsafe value used in a script context');\n+  const errorMessage = (typeof ngDevMode === 'undefined' || ngDevMode) ?\n+      'unsafe value used in a script context' :\n+      '';\n+  throw new RuntimeError(RuntimeErrorCode.UNSAFE_VALUE_IN_SCRIPT, errorMessage);\n }\n \n /**\n@@ -234,19 +241,21 @@ export function ɵɵsanitizeUrlOrResourceUrl(unsafeUrl: any, tag: string, prop:\n \n export function validateAgainstEventProperties(name: string) {\n   if (name.toLowerCase().startsWith('on')) {\n-    const msg = `Binding to event property '${name}' is disallowed for security reasons, ` +\n+    const errorMessage =\n+        `Binding to event property '${name}' is disallowed for security reasons, ` +\n         `please use (${name.slice(2)})=...` +\n         `\\nIf '${name}' is a directive input, make sure the directive is imported by the` +\n         ` current module.`;\n-    throw new Error(msg);\n+    throw new RuntimeError(RuntimeErrorCode.INVALID_EVENT_BINDING, errorMessage);\n   }\n }\n \n export function validateAgainstEventAttributes(name: string) {\n   if (name.toLowerCase().startsWith('on')) {\n-    const msg = `Binding to event attribute '${name}' is disallowed for security reasons, ` +\n+    const errorMessage =\n+        `Binding to event attribute '${name}' is disallowed for security reasons, ` +\n         `please use (${name.slice(2)})=...`;\n-    throw new Error(msg);\n+    throw new RuntimeError(RuntimeErrorCode.INVALID_EVENT_BINDING, errorMessage);\n   }\n }\n "
        },
        {
            "sha": "e904eb31436cad3306444ad7a8d7864bb6402c91",
            "filename": "packages/core/test/acceptance/inherit_definition_feature_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Facceptance%2Finherit_definition_feature_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Facceptance%2Finherit_definition_feature_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Finherit_definition_feature_spec.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -40,7 +40,7 @@ describe('inheritance', () => {\n \n     expect(() => {\n       TestBed.createComponent(App);\n-    }).toThrowError('Directives cannot inherit Components');\n+    }).toThrowError('NG0903: Directives cannot inherit Components');\n   });\n \n   describe('multiple children', () => {"
        },
        {
            "sha": "95d5134902406cd482bdbeea96cf13d345c0d6fb",
            "filename": "packages/core/test/application_ref_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fapplication_ref_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fapplication_ref_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fapplication_ref_spec.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -516,12 +516,13 @@ class SomeComponent {\n \n            vc.insert(hostView);\n            expect(() => appRef.attachView(hostView))\n-               .toThrowError('This view is already attached to a ViewContainer!');\n+               .toThrowError('NG0902: This view is already attached to a ViewContainer!');\n            hostView = vc.detach(0)!;\n \n            appRef.attachView(hostView);\n            expect(() => vc.insert(hostView))\n-               .toThrowError('This view is already attached directly to the ApplicationRef!');\n+               .toThrowError(\n+                   'NG0902: This view is already attached directly to the ApplicationRef!');\n          });\n     });\n   });"
        },
        {
            "sha": "3331cc8aaf1bf412d509c9a89913c5778bb764c2",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -1878,7 +1878,7 @@\n     \"name\": \"stringify\"\n   },\n   {\n-    \"name\": \"stringify7\"\n+    \"name\": \"stringify9\"\n   },\n   {\n     \"name\": \"stringifyCSSSelector\""
        },
        {
            "sha": "e8ec8d57aacdd517053b2ee1b4a1c244a3a24edb",
            "filename": "packages/core/test/di/r3_injector_spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fdi%2Fr3_injector_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fdi%2Fr3_injector_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fdi%2Fr3_injector_spec.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -447,13 +447,14 @@ describe('InjectorDef-based createInjector()', () => {\n \n   it('does not allow injection after destroy', () => {\n     (injector as R3Injector).destroy();\n-    expect(() => injector.get(DeepService)).toThrowError('Injector has already been destroyed.');\n+    expect(() => injector.get(DeepService))\n+        .toThrowError('NG0205: Injector has already been destroyed.');\n   });\n \n   it('does not allow double destroy', () => {\n     (injector as R3Injector).destroy();\n     expect(() => (injector as R3Injector).destroy())\n-        .toThrowError('Injector has already been destroyed.');\n+        .toThrowError('NG0205: Injector has already been destroyed.');\n   });\n \n   it('should not crash when importing something that has no ɵinj', () => {\n@@ -490,7 +491,7 @@ describe('InjectorDef-based createInjector()', () => {\n         static ɵinj = ɵɵdefineInjector({providers: [MissingArgumentType]});\n       }\n       expect(() => createInjector(ErrorModule).get(MissingArgumentType))\n-          .toThrowError('Can\\'t resolve all parameters for MissingArgumentType: (?).');\n+          .toThrowError('NG0204: Can\\'t resolve all parameters for MissingArgumentType: (?).');\n     });\n   });\n });"
        },
        {
            "sha": "80b13b3bfc988b135da332e4f647b57d3816b390",
            "filename": "packages/core/test/linker/inheritance_integration_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Flinker%2Finheritance_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Flinker%2Finheritance_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Finheritance_integration_spec.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -72,6 +72,7 @@ describe('Inheritance logic', () => {\n     TestBed.configureTestingModule({declarations: [DirectiveExtendsComponent, App]});\n     const template = '<div directiveExtendsComponent>Some content</div>';\n     TestBed.overrideComponent(App, {set: {template}});\n-    expect(() => TestBed.createComponent(App)).toThrowError('Directives cannot inherit Components');\n+    expect(() => TestBed.createComponent(App))\n+        .toThrowError('NG0903: Directives cannot inherit Components');\n   });\n });"
        },
        {
            "sha": "e64e0ced6cff73499432c0d11f56309f41e70618",
            "filename": "packages/core/test/linker/ng_module_integration_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Flinker%2Fng_module_integration_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Flinker%2Fng_module_integration_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Flinker%2Fng_module_integration_spec.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -644,7 +644,7 @@ describe('NgModule', () => {\n \n     it('should throw when no type and not @Inject (class case)', () => {\n       expect(() => createInjector([NoAnnotations]))\n-          .toThrowError('Can\\'t resolve all parameters for NoAnnotations: (?).');\n+          .toThrowError('NG0204: Can\\'t resolve all parameters for NoAnnotations: (?).');\n     });\n \n     it('should cache instances', () => {"
        },
        {
            "sha": "3566f85ff4cc229fe69d681914e8ea90faf02057",
            "filename": "packages/core/test/sanitization/sanitization_spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fsanitization%2Fsanitization_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786/packages%2Fcore%2Ftest%2Fsanitization%2Fsanitization_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fsanitization%2Fsanitization_spec.ts?ref=bc03a2e3e3add26a0c52e1ae6eba8ca5f5da5786",
            "patch": "@@ -52,7 +52,8 @@ describe('sanitization', () => {\n   });\n \n   it('should sanitize resourceUrl', () => {\n-    const ERROR = 'unsafe value used in a resource URL context (see https://g.co/ng/security#xss)';\n+    const ERROR =\n+        'NG0904: unsafe value used in a resource URL context (see https://g.co/ng/security#xss)';\n     expect(() => ɵɵsanitizeResourceUrl('http://server')).toThrowError(ERROR);\n     expect(() => ɵɵsanitizeResourceUrl('javascript:true')).toThrowError(ERROR);\n     expect(() => ɵɵsanitizeResourceUrl(bypassSanitizationTrustHtml('javascript:true')))\n@@ -73,7 +74,7 @@ describe('sanitization', () => {\n   });\n \n   it('should sanitize script', () => {\n-    const ERROR = 'unsafe value used in a script context';\n+    const ERROR = 'NG0905: unsafe value used in a script context';\n     expect(() => ɵɵsanitizeScript('true')).toThrowError(ERROR);\n     expect(() => ɵɵsanitizeScript('true')).toThrowError(ERROR);\n     expect(() => ɵɵsanitizeScript(bypassSanitizationTrustHtml('true')))\n@@ -105,7 +106,8 @@ describe('sanitization', () => {\n   });\n \n   it('should sanitize resourceUrls via sanitizeUrlOrResourceUrl', () => {\n-    const ERROR = 'unsafe value used in a resource URL context (see https://g.co/ng/security#xss)';\n+    const ERROR =\n+        'NG0904: unsafe value used in a resource URL context (see https://g.co/ng/security#xss)';\n     expect(() => ɵɵsanitizeUrlOrResourceUrl('http://server', 'iframe', 'src')).toThrowError(ERROR);\n     expect(() => ɵɵsanitizeUrlOrResourceUrl('javascript:true', 'iframe', 'src'))\n         .toThrowError(ERROR);"
        }
    ],
    "stats": {
        "total": 192,
        "additions": 146,
        "deletions": 46
    }
}