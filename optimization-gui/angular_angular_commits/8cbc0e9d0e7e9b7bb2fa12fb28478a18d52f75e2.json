{
    "author": "devversion",
    "message": "test: update ng-update integration test to test v13 migrations (#44016)\n\nUpdates the `ng-update` migration integration test to run against\nv13 migrations. We have removed all older migrations so this integration\ntest needs to be updated.\n\nPR Close #44016",
    "sha": "8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2",
    "files": [
        {
            "sha": "7b4ccb6166baed58a2ff21fed2790866b64f44d7",
            "filename": "integration/ng_update_migrations/src/app/app.component.html",
            "status": "modified",
            "additions": 1,
            "deletions": 20,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fapp.component.html",
            "raw_url": "https://github.com/angular/angular/raw/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fapp.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fapp.component.html?ref=8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2",
            "patch": "@@ -1,20 +1 @@\n-<!--The content below is only a placeholder and can be replaced.-->\n-<div style=\"text-align:center\">\n-  <h1>\n-    Welcome to {{ title }}!\n-  </h1>\n-  <img width=\"300\" alt=\"Angular Logo\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\">\n-</div>\n-<h2>Here are some links to help you start: </h2>\n-<ul>\n-  <li>\n-    <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/tutorial\">Tour of Heroes</a></h2>\n-  </li>\n-  <li>\n-    <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/cli\">CLI Documentation</a></h2>\n-  </li>\n-  <li>\n-    <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.angular.io/\">Angular blog</a></h2>\n-  </li>\n-</ul>\n-\n+<button [routerLink]=\"\"></button>"
        },
        {
            "sha": "4f861b6dc167e72309f71d086a47afc792a70ac6",
            "filename": "integration/ng_update_migrations/src/app/app.component_expected.html",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fapp.component_expected.html",
            "raw_url": "https://github.com/angular/angular/raw/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fapp.component_expected.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fapp.component_expected.html?ref=8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2",
            "patch": "@@ -0,0 +1 @@\n+<button [routerLink]=\"[]\"></button>"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "integration/ng_update_migrations/src/app/migration-tests/base-component.css",
            "status": "removed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/angular/angular/blob/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fbase-component.css",
            "raw_url": "https://github.com/angular/angular/raw/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fbase-component.css",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fbase-component.css?ref=78569f088e26a481ef810245189f449f97b0fbd2"
        },
        {
            "sha": "2a390ee272f9bbb7edb7767231c82ec8d426e137",
            "filename": "integration/ng_update_migrations/src/app/migration-tests/base-component.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fbase-component.ts",
            "raw_url": "https://github.com/angular/angular/raw/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fbase-component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fbase-component.ts?ref=78569f088e26a481ef810245189f449f97b0fbd2",
            "patch": "@@ -1,24 +0,0 @@\n-import {Component, NgModule} from '@angular/core';\n-import {NG_ASYNC_VALIDATORS} from '@angular/forms';\n-\n-export const hostBindings = {\n-  class: 'test-base-comp',\n-};\n-\n-const nonExportedStyleUrlsVar = ['./base-component.css'];\n-\n-@Component({\n-  selector: 'base-comp',\n-  template: `\n-    <span>This is the template.</span>\n-  `,\n-  host: hostBindings,\n-  styleUrls: nonExportedStyleUrlsVar,\n-  providers: [\n-    {provide: NG_ASYNC_VALIDATORS, useValue: null},\n-  ]\n-})\n-export class BaseComponentFromOtherFile {}\n-\n-@NgModule({declarations: [BaseComponentFromOtherFile]})\n-export class BaseComponentModule {}"
        },
        {
            "sha": "177c7879f27559dd7b9a5bb9655b6c2218caf2fa",
            "filename": "integration/ng_update_migrations/src/app/migration-tests/providers-test-module.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 57,
            "changes": 57,
            "blob_url": "https://github.com/angular/angular/blob/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fproviders-test-module.ts",
            "raw_url": "https://github.com/angular/angular/raw/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fproviders-test-module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fproviders-test-module.ts?ref=78569f088e26a481ef810245189f449f97b0fbd2",
            "patch": "@@ -1,57 +0,0 @@\n-import {Component, Directive, NgModule, NgZone, Injectable} from '@angular/core';\n-\n-export class ComponentTypeProvider {}\n-export class ComponentDontNeedCase {}\n-export class ComponentProvider {}\n-export class ComponentProvider2 {}\n-\n-@Component({\n-  template: '',\n-  viewProviders: [ComponentTypeProvider, [\n-    {provide: ComponentDontNeedCase, useClass: ComponentProvider}]\n-  ],\n-  providers: [ComponentProvider2]\n-})\n-export class ProvidersTestComponent {}\n-\n-export class DirectiveTypeProvider {}\n-export class DirectiveDontNeedCase {}\n-export class DirectiveProvider {}\n-\n-@Directive({\n-  selector: 'test-dir',\n-  providers: [DirectiveTypeProvider, [\n-    {provide: DirectiveDontNeedCase, useClass: DirectiveProvider}]\n-  ],\n-})\n-export class ProvidersTestDirective {}\n-\n-export class TypeCase {}\n-\n-@Injectable()\n-class BaseProviderCase {\n-  constructor(zone: NgZone) {}\n-}\n-\n-export class EmptyProviderLiteralCase {}\n-\n-export class ProviderClass extends BaseProviderCase {}\n-\n-export class DontNeedCase {}\n-\n-@Directive()\n-export class DirectiveCase {}\n-\n-@NgModule({\n-  providers: [\n-    TypeCase,\n-    {provide: EmptyProviderLiteralCase},\n-    {provide: DontNeedCase, useValue: 0},\n-    {provide: DontNeedCase, useFactory: () => null},\n-    {provide: DontNeedCase, useExisting: TypeCase},\n-    {provide: DontNeedCase, useClass: ProviderClass},\n-    DirectiveCase,\n-  ],\n-  declarations: [ProvidersTestDirective, ProvidersTestComponent],\n-})\n-export class ProvidersTestModule {}"
        },
        {
            "sha": "18aebf4c57b15457de44866edcee37c9b2e58900",
            "filename": "integration/ng_update_migrations/src/app/migration-tests/providers-test-module_expected.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 64,
            "changes": 64,
            "blob_url": "https://github.com/angular/angular/blob/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fproviders-test-module_expected.ts",
            "raw_url": "https://github.com/angular/angular/raw/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fproviders-test-module_expected.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fproviders-test-module_expected.ts?ref=78569f088e26a481ef810245189f449f97b0fbd2",
            "patch": "@@ -1,64 +0,0 @@\n-import {Component, Directive, NgModule, NgZone, Injectable} from '@angular/core';\n-\n-@Injectable()\n-export class ComponentTypeProvider {}\n-export class ComponentDontNeedCase {}\n-@Injectable()\n-export class ComponentProvider {}\n-@Injectable()\n-export class ComponentProvider2 {}\n-\n-@Component({\n-  template: '',\n-  viewProviders: [ComponentTypeProvider, [\n-    {provide: ComponentDontNeedCase, useClass: ComponentProvider}]\n-  ],\n-  providers: [ComponentProvider2]\n-})\n-export class ProvidersTestComponent {}\n-\n-@Injectable()\n-export class DirectiveTypeProvider {}\n-export class DirectiveDontNeedCase {}\n-@Injectable()\n-export class DirectiveProvider {}\n-\n-@Directive({\n-  selector: 'test-dir',\n-  providers: [DirectiveTypeProvider, [\n-    {provide: DirectiveDontNeedCase, useClass: DirectiveProvider}]\n-  ],\n-})\n-export class ProvidersTestDirective {}\n-\n-@Injectable()\n-export class TypeCase {}\n-\n-@Injectable()\n-class BaseProviderCase {\n-  constructor(zone: NgZone) {}\n-}\n-\n-export class EmptyProviderLiteralCase {}\n-\n-@Injectable()\n-export class ProviderClass extends BaseProviderCase {}\n-\n-export class DontNeedCase {}\n-\n-@Directive()\n-export class DirectiveCase {}\n-\n-@NgModule({\n-  providers: [\n-    TypeCase,\n-    { provide: EmptyProviderLiteralCase, useValue: undefined },\n-    {provide: DontNeedCase, useValue: 0},\n-    {provide: DontNeedCase, useFactory: () => null},\n-    {provide: DontNeedCase, useExisting: TypeCase},\n-    {provide: DontNeedCase, useClass: ProviderClass},\n-    DirectiveCase,\n-  ],\n-  declarations: [ProvidersTestDirective, ProvidersTestComponent],\n-})\n-export class ProvidersTestModule {}"
        },
        {
            "sha": "ade71e3dfaf0ab37fa282a1abda99d35bae9866a",
            "filename": "integration/ng_update_migrations/src/app/migration-tests/undecorated-classes-with-fields.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 94,
            "changes": 94,
            "blob_url": "https://github.com/angular/angular/blob/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fundecorated-classes-with-fields.ts",
            "raw_url": "https://github.com/angular/angular/raw/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fundecorated-classes-with-fields.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fundecorated-classes-with-fields.ts?ref=78569f088e26a481ef810245189f449f97b0fbd2",
            "patch": "@@ -1,94 +0,0 @@\n-import {\n-  Component,\n-  Directive,\n-  ElementRef,\n-  HostBinding,\n-  HostListener,\n-  Injectable,\n-  Input,\n-  NgModule,\n-  Pipe\n-} from '@angular/core';\n-\n-export class NonAngularBaseClass {\n-  greet() {}\n-}\n-\n-export class BaseClass extends NonAngularBaseClass {\n-  @Input() enabled = true;\n-}\n-\n-export class SecondBaseClass extends BaseClass {\n-  toggleEnabled() {\n-    this.enabled = !this.enabled;\n-  }\n-}\n-\n-export class ThirdBaseClass extends SecondBaseClass {\n-  @HostListener('focus') onFocus() {}\n-}\n-\n-export class FourthBaseClass extends ThirdBaseClass {\n-  focus() {\n-    this.onFocus();\n-  }\n-}\n-\n-export class FifthBaseClass {\n-  constructor(private _elementRef: ElementRef) {}\n-  protected calculatePosition(): any {}\n-}\n-\n-export class MyCompSuperBase {\n-  @HostBinding('class.hello') hello = true;\n-}\n-\n-export class MyCompBase extends MyCompSuperBase {}\n-\n-@Component({\n-  selector: 'my-comp',\n-  template: '',\n-})\n-export class MyComp extends MyCompBase {}\n-\n-@Component({\n-  selector: 'my-comp',\n-  template: '',\n-})\n-export class WrappedMyComp extends MyComp {}\n-\n-@NgModule({declarations: [MyComp, WrappedMyComp]})\n-export class TestModule {}\n-\n-@Directive({selector: null})\n-export class AbstractDir {}\n-\n-export class DerivedAbstractDir extends AbstractDir {}\n-\n-export class WrappedDerivedAbstractDir extends DerivedAbstractDir {}\n-\n-export class UndecoratedService {\n-  ngOnDestroy() {}\n-}\n-\n-export class UndecoratedPipeBase {\n-  ngOnDestroy() {}\n-}\n-\n-export class WithDirectiveLifecycleHook {\n-  ngOnInit() {}\n-}\n-\n-// This class is already decorated and should not be migrated. i.e. no TODO\n-// or Angular decorator should be added. `@Injectable` is sufficient.\n-@Injectable()\n-export class MyService {\n-  ngOnDestroy() {}\n-}\n-\n-// This class is already decorated and should not be migrated. i.e. no TODO\n-// or Angular decorator should be added. `@Injectable` is sufficient.\n-@Pipe({name: 'my-pipe'})\n-export class MyPipe {\n-  ngOnDestroy() {}\n-}"
        },
        {
            "sha": "cb6b1e39740281dbee27b2132abc3ec00685a32e",
            "filename": "integration/ng_update_migrations/src/app/migration-tests/undecorated-classes-with-fields_expected.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 105,
            "changes": 105,
            "blob_url": "https://github.com/angular/angular/blob/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fundecorated-classes-with-fields_expected.ts",
            "raw_url": "https://github.com/angular/angular/raw/78569f088e26a481ef810245189f449f97b0fbd2/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fundecorated-classes-with-fields_expected.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Fapp%2Fmigration-tests%2Fundecorated-classes-with-fields_expected.ts?ref=78569f088e26a481ef810245189f449f97b0fbd2",
            "patch": "@@ -1,105 +0,0 @@\n-import {\n-  Component,\n-  Directive,\n-  ElementRef,\n-  HostBinding,\n-  HostListener,\n-  Injectable,\n-  Input,\n-  NgModule,\n-  Pipe\n-} from '@angular/core';\n-\n-export class NonAngularBaseClass {\n-  greet() {}\n-}\n-\n-@Directive()\n-export class BaseClass extends NonAngularBaseClass {\n-  @Input() enabled = true;\n-}\n-\n-@Directive()\n-export class SecondBaseClass extends BaseClass {\n-  toggleEnabled() {\n-    this.enabled = !this.enabled;\n-  }\n-}\n-\n-@Directive()\n-export class ThirdBaseClass extends SecondBaseClass {\n-  @HostListener('focus') onFocus() {}\n-}\n-\n-@Directive()\n-export class FourthBaseClass extends ThirdBaseClass {\n-  focus() {\n-    this.onFocus();\n-  }\n-}\n-\n-export class FifthBaseClass {\n-  constructor(private _elementRef: ElementRef) {}\n-  protected calculatePosition(): any {}\n-}\n-\n-@Directive()\n-export class MyCompSuperBase {\n-  @HostBinding('class.hello') hello = true;\n-}\n-\n-@Directive()\n-export class MyCompBase extends MyCompSuperBase {}\n-\n-@Component({\n-  selector: 'my-comp',\n-  template: '',\n-})\n-export class MyComp extends MyCompBase {}\n-\n-@Component({\n-  selector: 'my-comp',\n-  template: '',\n-})\n-export class WrappedMyComp extends MyComp {}\n-\n-@NgModule({declarations: [MyComp, WrappedMyComp]})\n-export class TestModule {}\n-\n-@Directive({selector: null})\n-export class AbstractDir {}\n-\n-@Directive()\n-export class DerivedAbstractDir extends AbstractDir {}\n-\n-@Directive()\n-export class WrappedDerivedAbstractDir extends DerivedAbstractDir {}\n-\n-// TODO: Add Angular decorator.\n-export class UndecoratedService {\n-  ngOnDestroy() {}\n-}\n-\n-// TODO: Add Angular decorator.\n-export class UndecoratedPipeBase {\n-  ngOnDestroy() {}\n-}\n-\n-@Directive()\n-export class WithDirectiveLifecycleHook {\n-  ngOnInit() {}\n-}\n-\n-// This class is already decorated and should not be migrated. i.e. no TODO\n-// or Angular decorator should be added. `@Injectable` is sufficient.\n-@Injectable()\n-export class MyService {\n-  ngOnDestroy() {}\n-}\n-\n-// This class is already decorated and should not be migrated. i.e. no TODO\n-// or Angular decorator should be added. `@Injectable` is sufficient.\n-@Pipe({name: 'my-pipe'})\n-export class MyPipe {\n-  ngOnDestroy() {}\n-}"
        },
        {
            "sha": "6b03dbe8b6deef6fbd4116a7e573501ffd28aa87",
            "filename": "integration/ng_update_migrations/src/test.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Ftest.ts?ref=8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2",
            "patch": "@@ -12,7 +12,9 @@ declare const require: any;\n // First, initialize the Angular testing environment.\n getTestBed().initTestEnvironment(\n   BrowserDynamicTestingModule,\n-  platformBrowserDynamicTesting()\n+  platformBrowserDynamicTesting(), {\n+    teardown: { destroyAfterEach: false }\n+}\n );\n // Then we find all the tests.\n const context = require.context('./', true, /\\.spec\\.ts$/);"
        },
        {
            "sha": "6b03dbe8b6deef6fbd4116a7e573501ffd28aa87",
            "filename": "integration/ng_update_migrations/src/test_expected.ts",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Ftest_expected.ts",
            "raw_url": "https://github.com/angular/angular/raw/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fsrc%2Ftest_expected.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fsrc%2Ftest_expected.ts?ref=8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2",
            "patch": "@@ -0,0 +1,22 @@\n+// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n+\n+import 'zone.js/testing';\n+import { getTestBed } from '@angular/core/testing';\n+import {\n+  BrowserDynamicTestingModule,\n+  platformBrowserDynamicTesting\n+} from '@angular/platform-browser-dynamic/testing';\n+\n+declare const require: any;\n+\n+// First, initialize the Angular testing environment.\n+getTestBed().initTestEnvironment(\n+  BrowserDynamicTestingModule,\n+  platformBrowserDynamicTesting(), {\n+    teardown: { destroyAfterEach: false }\n+}\n+);\n+// Then we find all the tests.\n+const context = require.context('./', true, /\\.spec\\.ts$/);\n+// And load the modules.\n+context.keys().map(context);"
        },
        {
            "sha": "e4ebcdabefb63cc61f0941c7f5fdac66584aca4d",
            "filename": "integration/ng_update_migrations/test.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Ftest.js",
            "raw_url": "https://github.com/angular/angular/raw/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Ftest.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Ftest.js?ref=8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2",
            "patch": "@@ -16,10 +16,10 @@ const diff = require('diff');\n const projectDir = __dirname;\n const cliBinPath = path.join(projectDir, 'node_modules/@angular/cli/bin/ng');\n \n-const expectationFiles = glob.sync('**/*_expected.ts', {cwd: projectDir});\n+const expectationFiles = glob.sync('**/*_expected.+(ts|html)', {cwd: projectDir});\n \n-const fromVersion = '9.0.0';\n-const toVersion = '10.0.0';\n+const fromVersion = '12.0.0';\n+const toVersion = '13.0.0';\n // Note that we need to specify \"--allow-dirty\" as the repository will become dirty\n // if dependencies for the integration test are installed (i.e. modified lock files)\n const updateCommandArgs = ['@angular/core', '--migrate-only', '--from', fromVersion,\n@@ -43,7 +43,7 @@ let testsPassing = true;\n \n // Check if each expectation file matches the actual file in the CLI project.\n expectationFiles.forEach(relativeFilePath => {\n-  const actualFilePath = relativeFilePath.replace(/_expected.ts$/, '.ts');\n+  const actualFilePath = relativeFilePath.replace(/_expected.(ts)$/, '.$1');\n   const expectedContent = fs.readFileSync(path.join(projectDir, relativeFilePath), 'utf8');\n   const actualContent = fs.readFileSync(path.join(projectDir, actualFilePath), 'utf8');\n "
        },
        {
            "sha": "fdf859fd91897b4c949d3f2b8847b7271a2dd830",
            "filename": "integration/ng_update_migrations/yarn.lock",
            "status": "modified",
            "additions": 3568,
            "deletions": 4936,
            "changes": 8504,
            "blob_url": "https://github.com/angular/angular/blob/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2/integration%2Fng_update_migrations%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fyarn.lock?ref=8cbc0e9d0e7e9b7bb2fa12fb28478a18d52f75e2"
        }
    ],
    "stats": {
        "total": 8904,
        "additions": 3599,
        "deletions": 5305
    }
}