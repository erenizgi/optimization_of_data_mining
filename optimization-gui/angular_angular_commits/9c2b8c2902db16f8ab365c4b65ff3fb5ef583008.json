{
    "author": "cesperian",
    "message": "docs: clarify description of :host and :host-context selectors (#41332)\n\nFixes #39466\n\nPR Close #41332",
    "sha": "9c2b8c2902db16f8ab365c4b65ff3fb5ef583008",
    "files": [
        {
            "sha": "7ad9e315ca70f2325992e0b13b078ecec346e685",
            "filename": "aio/content/examples/component-styles/e2e/src/app.e2e-spec.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 20,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=9c2b8c2902db16f8ab365c4b65ff3fb5ef583008",
            "patch": "@@ -14,26 +14,6 @@ describe('Component Style Tests', () => {\n     expect(await externalH1.getCssValue('fontWeight')).not.toMatch(/normal|400/);\n   });\n \n-\n-  it('allows styling :host element', async () => {\n-    const host = element(by.css('app-hero-details'));\n-\n-    expect(await host.getCssValue('borderWidth')).toEqual('1px');\n-  });\n-\n-  it('supports :host() in function form', async () => {\n-    const host = element(by.css('app-hero-details'));\n-\n-    await host.element(by.buttonText('Activate')).click();\n-    expect(await host.getCssValue('borderWidth')).toEqual('3px');\n-  });\n-\n-  it('allows conditional :host-context() styling', async () => {\n-    const h2 = element(by.css('app-hero-details h2'));\n-\n-    expect(await h2.getCssValue('backgroundColor')).toEqual('rgba(238, 238, 255, 1)'); // #eeeeff\n-  });\n-\n   it('styles both view and content children with /deep/', async () => {\n     const viewH3 = element(by.css('app-hero-team h3'));\n     const contentH3 = element(by.css('app-hero-controls h3'));"
        },
        {
            "sha": "60b6b7e8901be2394972dccd79f98fee928bbbf4",
            "filename": "aio/content/examples/component-styles/src/app/hero-details.component.css",
            "status": "modified",
            "additions": 9,
            "deletions": 5,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fsrc%2Fapp%2Fhero-details.component.css",
            "raw_url": "https://github.com/angular/angular/raw/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fsrc%2Fapp%2Fhero-details.component.css",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fsrc%2Fapp%2Fhero-details.component.css?ref=9c2b8c2902db16f8ab365c4b65ff3fb5ef583008",
            "patch": "@@ -3,22 +3,26 @@\n @import './hero-details-box.css';\n /* #enddocregion import */\n \n+\n /* #docregion host */\n :host {\n-  display: block;\n-  border: 1px solid black;\n+  font-style: italic;\n }\n /* #enddocregion host */\n \n /* #docregion hostfunction */\n+:host {\n+  font-style: italic;\n+}\n+\n :host(.active) {\n-  border-width: 3px;\n+  font-weight: bold;\n }\n /* #enddocregion hostfunction */\n \n /* #docregion hostcontext */\n-:host-context(.theme-light) h2 {\n-  background-color: #eef;\n+:host-context(.active) {\n+  font-style: italic;\n }\n /* #enddocregion hostcontext */\n "
        },
        {
            "sha": "33dc07ba4ba88538052adcf0d77086c7d0678093",
            "filename": "aio/content/examples/component-styles/src/app/host-selector-example.component.ts",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fsrc%2Fapp%2Fhost-selector-example.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fsrc%2Fapp%2Fhost-selector-example.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fcomponent-styles%2Fsrc%2Fapp%2Fhost-selector-example.component.ts?ref=9c2b8c2902db16f8ab365c4b65ff3fb5ef583008",
            "patch": "@@ -0,0 +1,16 @@\n+import { Component } from '@angular/core';\n+\n+// #docregion\n+@Component({\n+  selector: 'app-main',\n+  template: `\n+      <h1>It Works!</h1>\n+      <div>\n+        Start editing to see some magic happen :)\n+      </div>\n+  `\n+})\n+export class HostSelectorExampleComponent {\n+\n+}\n+// #enddocregion"
        },
        {
            "sha": "c3cf3fa3802020791874d46283de558ffc1085b6",
            "filename": "aio/content/guide/component-styles.md",
            "status": "modified",
            "additions": 16,
            "deletions": 10,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fguide%2Fcomponent-styles.md",
            "raw_url": "https://github.com/angular/angular/raw/9c2b8c2902db16f8ab365c4b65ff3fb5ef583008/aio%2Fcontent%2Fguide%2Fcomponent-styles.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fcomponent-styles.md?ref=9c2b8c2902db16f8ab365c4b65ff3fb5ef583008",
            "patch": "@@ -64,22 +64,25 @@ Component styles have a few special *selectors* from the world of shadow DOM sty\n [W3C](https://www.w3.org) site).\n The following sections describe these selectors.\n \n+\n ### :host\n+Every component is associated within an element that matches the component's selector. This element, into which the template is rendered, \n+is called the _host element_.\n+The `:host` pseudo-class selector may be used to create styles that target the host element itself, as opposed to targeting elements inside the host.\n \n-Use the `:host` pseudo-class selector to target styles in the element that *hosts* the component (as opposed to\n-targeting elements *inside* the component's template).\n+<code-example path=\"component-styles/src/app/host-selector-example.component.ts\" header=\"src/app/host-selector-example.component.ts\">\n+</code-example>\n \n+Creating the following style will target the component's host element. Any rule applied to this selector will affect the host element and all its descendants (in this case, italicizing all contained text).\n \n <code-example path=\"component-styles/src/app/hero-details.component.css\" region=\"host\" header=\"src/app/hero-details.component.css\"></code-example>\n \n-The `:host` selector is the only way to target the host element. You can't reach\n-the host element from inside the component with other selectors because it's not part of the\n-component's own template. The host element is in a parent component's template.\n+The `:host` selector only targets the host element of a component. Any styles within the `:host` block of a child component will *not* affect parent components.\n \n Use the *function form* to apply host styles conditionally by\n including another selector inside parentheses after `:host`.\n \n-The next example targets the host element again, but only when it also has the `active` CSS class.\n+In this example the host's content also becomes bold when the `active` CSS class is applied to the host element.\n \n <code-example path=\"component-styles/src/app/hero-details.component.css\" region=\"hostfunction\" header=\"src/app/hero-details.component.css\"></code-example>\n \n@@ -94,19 +97,22 @@ You should not add selectors (other than `:host-context`) in front of the `:host\n \n ### :host-context\n \n-Sometimes it's useful to apply styles based on some condition *outside* of a component's view.\n+Sometimes it's useful to apply styles to elements within a component's template \n+based on some condition in an element that is an ancestor of the host element.\n For example, a CSS theme class could be applied to the document `<body>` element, and\n you want to change how your component looks based on that.\n \n Use the `:host-context()` pseudo-class selector, which works just like the function\n form of `:host()`. The `:host-context()` selector looks for a CSS class in any ancestor of the component host element,\n-up to the document root. The `:host-context()` selector is useful when combined with another selector.\n+up to the document root. The `:host-context()` selector is only useful when combined with another selector.\n \n-The following example applies a `background-color` style to all `<h2>` elements *inside* the component, only\n-if some ancestor element has the CSS class `theme-light`.\n+The following example italicizes all text inside a component, but only\n+if some _ancestor_ element of the host element has the CSS class `active`.\n \n <code-example path=\"component-styles/src/app/hero-details.component.css\" region=\"hostcontext\" header=\"src/app/hero-details.component.css\"></code-example>\n \n+Note that only the host element and its descendants will be affected, not the ancestor with the assigned `active` class.\n+\n ### (deprecated) `/deep/`, `>>>`, and `::ng-deep`\n \n Component styles normally apply only to the HTML in the component's own template."
        }
    ],
    "stats": {
        "total": 76,
        "additions": 41,
        "deletions": 35
    }
}