{
    "author": "devversion",
    "message": "build: update to latest version of `rules_nodejs` v3.3.0 (#41599)\n\nUpdates to the latest version of `rules_nodejs` that supports\nthe most recent NodeJS lts version v14.16.1.\n\nAdditionally the latest version of `rules_nodejs` provides\n[a package for runfile resolution](https://github.com/bazelbuild/rules_nodejs/pull/2568) w/ types that we can leverage.\n\nPR Close #41599",
    "sha": "fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
    "files": [
        {
            "sha": "f3634afd08c71239ff983e34108d65d52edd7797",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/WORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/WORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/WORKSPACE?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -8,8 +8,8 @@ load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n # Fetch rules_nodejs so we can install our npm dependencies\n http_archive(\n     name = \"build_bazel_rules_nodejs\",\n-    sha256 = \"bfacf15161d96a6a39510e7b3d3b522cf61cb8b82a31e79400a84c5abcab5347\",\n-    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/3.2.1/rules_nodejs-3.2.1.tar.gz\"],\n+    sha256 = \"f533eeefc8fe1ddfe93652ec50f82373d0c431f7faabd5e6323f6903195ef227\",\n+    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/3.3.0/rules_nodejs-3.3.0.tar.gz\"],\n )\n \n # Check the rules_nodejs version and download npm dependencies"
        },
        {
            "sha": "95673e6dd128654bb79d9109fb5bbeba05867aec",
            "filename": "integration/bazel/WORKSPACE",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/integration%2Fbazel%2FWORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/integration%2Fbazel%2FWORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2FWORKSPACE?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -5,8 +5,8 @@ load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n # Fetch rules_nodejs so we can install our npm dependencies\n http_archive(\n     name = \"build_bazel_rules_nodejs\",\n-    sha256 = \"bfacf15161d96a6a39510e7b3d3b522cf61cb8b82a31e79400a84c5abcab5347\",\n-    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/3.2.1/rules_nodejs-3.2.1.tar.gz\"],\n+    sha256 = \"f533eeefc8fe1ddfe93652ec50f82373d0c431f7faabd5e6323f6903195ef227\",\n+    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/3.3.0/rules_nodejs-3.3.0.tar.gz\"],\n )\n \n # Fetch sass rules for compiling sass files"
        },
        {
            "sha": "154f00102556019c7c995a77500560a35c505db8",
            "filename": "package.json",
            "status": "modified",
            "additions": 11,
            "deletions": 10,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/package.json",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -41,11 +41,11 @@\n   },\n   \"// 1\": \"dependencies are used locally and by bazel\",\n   \"dependencies\": {\n-    \"@angular/cli\": \"12.0.0-next.7\",\n     \"@angular-devkit/build-angular\": \"github:angular/angular-devkit-build-angular-builds#e0c1374b12cfc892844030431bc19f631c0086a5\",\n     \"@angular-devkit/build-optimizer\": \"0.1200.0-next.7\",\n     \"@angular-devkit/core\": \"12.0.0-next.7\",\n     \"@angular-devkit/schematics\": \"12.0.0-next.7\",\n+    \"@angular/cli\": \"12.0.0-next.7\",\n     \"@babel/cli\": \"7.8.4\",\n     \"@babel/core\": \"7.8.6\",\n     \"@babel/generator\": \"7.8.6\",\n@@ -54,12 +54,13 @@\n     \"@babel/template\": \"7.8.6\",\n     \"@babel/traverse\": \"7.8.6\",\n     \"@babel/types\": \"7.8.6\",\n-    \"@bazel/concatjs\": \"3.2.3\",\n-    \"@bazel/jasmine\": \"3.2.3\",\n-    \"@bazel/protractor\": \"3.2.3\",\n-    \"@bazel/rollup\": \"3.2.3\",\n-    \"@bazel/terser\": \"3.2.3\",\n-    \"@bazel/typescript\": \"3.2.3\",\n+    \"@bazel/concatjs\": \"3.3.0\",\n+    \"@bazel/jasmine\": \"3.3.0\",\n+    \"@bazel/protractor\": \"3.3.0\",\n+    \"@bazel/rollup\": \"3.3.0\",\n+    \"@bazel/runfiles\": \"3.3.0\",\n+    \"@bazel/terser\": \"3.3.0\",\n+    \"@bazel/typescript\": \"3.3.0\",\n     \"@microsoft/api-extractor\": \"7.7.11\",\n     \"@octokit/rest\": \"16.28.7\",\n     \"@octokit/types\": \"^5.5.0\",\n@@ -159,9 +160,9 @@\n   },\n   \"// 2\": \"devDependencies are not used under Bazel. Many can be removed after test.sh is deleted.\",\n   \"devDependencies\": {\n-    \"@bazel/bazelisk\": \"^1.7.3\",\n+    \"@bazel/bazelisk\": \"^1.7.5\",\n     \"@bazel/buildifier\": \"^4.0.1\",\n-    \"@bazel/ibazel\": \"^0.15.6\",\n+    \"@bazel/ibazel\": \"^0.15.8\",\n     \"@octokit/graphql\": \"^4.6.1\",\n     \"@types/cli-progress\": \"^3.4.2\",\n     \"@types/conventional-commits-parser\": \"^3.0.1\",\n@@ -186,7 +187,7 @@\n     \"gulp\": \"^4.0.2\",\n     \"gulp-conventional-changelog\": \"^2.0.35\",\n     \"husky\": \"6.0.0\",\n-    \"inquirer\": \"^8.0.0\", \n+    \"inquirer\": \"^8.0.0\",\n     \"karma-browserstack-launcher\": \"^1.3.0\",\n     \"karma-sauce-launcher\": \"^2.0.2\",\n     \"madge\": \"^4.0.2\","
        },
        {
            "sha": "46327cdf1ee42b8728bfd65eafde94fa3b5563b3",
            "filename": "packages/bazel/test/ng_package/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2FBUILD.bazel?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -13,6 +13,7 @@ ts_library(\n     deps = [\n         \"//packages:types\",\n         \"//packages/private/testing\",\n+        \"@npm//@bazel/runfiles\",\n         \"@npm//@types/shelljs\",\n     ],\n )\n@@ -34,6 +35,7 @@ ts_library(\n     deps = [\n         \"//packages:types\",\n         \"//packages/private/testing\",\n+        \"@npm//@bazel/runfiles\",\n         \"@npm//@types/shelljs\",\n     ],\n )\n@@ -53,6 +55,7 @@ ts_library(\n     srcs = [\"example_package.spec.ts\"],\n     deps = [\n         \"//packages:types\",\n+        \"@npm//@bazel/runfiles\",\n         \"@npm//@types/diff\",\n     ],\n )"
        },
        {
            "sha": "9def575508432ed2a5882c1b2e06c142bf369858",
            "filename": "packages/bazel/test/ng_package/common_package.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2Fcommon_package.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2Fcommon_package.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fcommon_package.spec.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -7,13 +7,11 @@\n  */\n \n import {obsoleteInIvy} from '@angular/private/testing';\n+import {runfiles} from '@bazel/runfiles';\n import * as fs from 'fs';\n import * as path from 'path';\n import * as shx from 'shelljs';\n \n-/** Runfiles helper from bazel to resolve file name paths.  */\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']!);\n-\n // Resolve the \"npm_package\" directory by using the runfile resolution. Note that we need to\n // resolve the \"package.json\" of the package since otherwise NodeJS would resolve the \"main\"\n // file, which is not necessarily at the root of the \"npm_package\"."
        },
        {
            "sha": "0986a4b8a8b60aa3ca1b9c14a1a43921cd46485b",
            "filename": "packages/bazel/test/ng_package/core_package.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2Fcore_package.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2Fcore_package.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fcore_package.spec.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -7,12 +7,10 @@\n  */\n \n import {ivyEnabled, obsoleteInIvy} from '@angular/private/testing';\n+import {runfiles} from '@bazel/runfiles';\n import * as path from 'path';\n import * as shx from 'shelljs';\n \n-/** Runfiles helper from bazel to resolve file name paths.  */\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']!);\n-\n // Resolve the \"npm_package\" directory by using the runfile resolution. Note that we need to\n // resolve the \"package.json\" of the package since otherwise NodeJS would resolve the \"main\"\n // file, which is not necessarily at the root of the \"npm_package\"."
        },
        {
            "sha": "bb0307a1706f7e76b03b64d8ea79d5ff8ea6153f",
            "filename": "packages/bazel/test/ng_package/example_package.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_package.spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_package.spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fng_package%2Fexample_package.spec.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -6,14 +6,12 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {runfiles} from '@bazel/runfiles';\n import * as crypto from 'crypto';\n import {createPatch} from 'diff';\n import * as fs from 'fs';\n import * as path from 'path';\n \n-/** Runfiles helper from bazel to resolve file name paths.  */\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']!);\n-\n type TestPackage = {\n   displayName: string; packagePath: string; goldenFilePath: string;\n };"
        },
        {
            "sha": "f7cd67482ca12c3ba7bbc039913c2ea96922a271",
            "filename": "packages/bazel/test/ngc-wrapped/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fngc-wrapped%2FBUILD.bazel?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -43,6 +43,7 @@ ts_library(\n     tsconfig = \":tsconfig.json\",\n     deps = [\n         \"//packages/private/testing\",\n+        \"@npm//@bazel/runfiles\",\n     ],\n )\n "
        },
        {
            "sha": "bf75a542b01d3596978f64e3afb783f4175c11b1",
            "filename": "packages/bazel/test/ngc-wrapped/flat_module_test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fflat_module_test.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fflat_module_test.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fflat_module_test.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -7,12 +7,10 @@\n  */\n \n import {obsoleteInIvy, onlyInIvy} from '@angular/private/testing';\n+import {runfiles} from '@bazel/runfiles';\n import {existsSync, readFileSync} from 'fs';\n import {dirname, join} from 'path';\n \n-/** Runfiles helper from bazel to resolve file name paths.  */\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']!);\n-\n describe('flat_module ng_module', () => {\n   let packageOutput: string;\n   let flatModuleOutFile: string;"
        },
        {
            "sha": "ff92ca2a7f625e42dc88e9f51babd9af30d90732",
            "filename": "packages/bazel/test/ngc-wrapped/ivy_enabled/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fivy_enabled%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fivy_enabled%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fivy_enabled%2FBUILD.bazel?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -5,6 +5,7 @@ ts_library(\n     testonly = True,\n     srcs = [\"ng_module_ivy_test.ts\"],\n     tags = [\"ivy-only\"],\n+    deps = [\"@npm//@bazel/runfiles\"],\n )\n \n # `ng_module` with `compilation_mode` explicitly set to `partial`."
        },
        {
            "sha": "b3a690544285db23f35ef134e5016ea77ea73a48",
            "filename": "packages/bazel/test/ngc-wrapped/ivy_enabled/ng_module_ivy_test.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fivy_enabled%2Fng_module_ivy_test.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fivy_enabled%2Fng_module_ivy_test.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Ftest%2Fngc-wrapped%2Fivy_enabled%2Fng_module_ivy_test.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -6,11 +6,9 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {runfiles} from '@bazel/runfiles';\n import {readFileSync} from 'fs';\n \n-/** Runfiles helper from bazel to resolve file name paths.  */\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']!);\n-\n describe('ng_module with ivy enabled', () => {\n   describe('default compilation mode', () => {\n     it('should generate definitions', () => {"
        },
        {
            "sha": "23ad5ead5901bc54c02d5c20aee051509551007c",
            "filename": "tools/npm_integration_test/npm_integration_test.bzl",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fnpm_integration_test%2Fnpm_integration_test.bzl",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fnpm_integration_test%2Fnpm_integration_test.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fnpm_integration_test%2Fnpm_integration_test.bzl?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -175,7 +175,7 @@ def npm_integration_test(name, **kwargs):\n     )\n \n     tags = kwargs.pop(\"tags\", [])\n-    npm_deps = [\"@npm//tmp\"]\n+    npm_deps = [\"@npm//tmp\", \"@npm//@bazel/runfiles\"]\n \n     nodejs_test(\n         name = name,"
        },
        {
            "sha": "d676c0274f29f5827ad312c04d19506bed5c3b49",
            "filename": "tools/npm_integration_test/test_runner.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fnpm_integration_test%2Ftest_runner.js",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fnpm_integration_test%2Ftest_runner.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fnpm_integration_test%2Ftest_runner.js?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -10,7 +10,7 @@ const spawnSync = require('child_process').spawnSync;\n const fs = require('fs');\n const path = require('path');\n const tmp = require('tmp');\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']);\n+const {runfiles} = require('@bazel/runfiles');\n \n const VERBOSE_LOGS = !!process.env['VERBOSE_LOGS'];\n "
        },
        {
            "sha": "1eef4f7fe516cd7af41ee03542b4ef940253b0cc",
            "filename": "tools/saucelabs/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsaucelabs%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsaucelabs%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fsaucelabs%2FBUILD.bazel?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -55,6 +55,7 @@ nodejs_binary(\n     name = \"karma-saucelabs\",\n     data = [\n         \"sauce-service.sh\",\n+        \"@npm//@bazel/runfiles\",\n         \"@npm//karma\",\n         \"@npm//sauce-connect\",\n         \"@npm//shelljs\","
        },
        {
            "sha": "619533b7855cf2cc1165cdcd0e635b26e3fad42e",
            "filename": "tools/saucelabs/karma-saucelabs.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsaucelabs%2Fkarma-saucelabs.js",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsaucelabs%2Fkarma-saucelabs.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fsaucelabs%2Fkarma-saucelabs.js?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -10,7 +10,7 @@\n \n const shell = require('shelljs');\n const karmaBin = require.resolve('karma/bin/karma');\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']);\n+const {runfiles} = require('@bazel/runfiles');\n const sauceService = runfiles.resolveWorkspaceRelative(process.argv[2]);\n process.argv = [\n   process.argv[0],"
        },
        {
            "sha": "e676f8fc78efe46a40ea204567740cea91b84210",
            "filename": "tools/symbol-extractor/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsymbol-extractor%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsymbol-extractor%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fsymbol-extractor%2FBUILD.bazel?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -14,6 +14,7 @@ ts_library(\n     ),\n     deps = [\n         \"//packages:types\",\n+        \"@npm//@bazel/runfiles\",\n         \"@npm//typescript\",\n     ],\n )"
        },
        {
            "sha": "55a217dae1f0a6b6b8ee06ba9c138f21b2177eef",
            "filename": "tools/symbol-extractor/cli.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsymbol-extractor%2Fcli.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fsymbol-extractor%2Fcli.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fsymbol-extractor%2Fcli.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -6,10 +6,10 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {runfiles} from '@bazel/runfiles';\n import * as fs from 'fs';\n-import {SymbolExtractor} from './symbol_extractor';\n \n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER'] as string);\n+import {SymbolExtractor} from './symbol_extractor';\n \n if (require.main === module) {\n   const args = process.argv.slice(2) as [string, string];"
        },
        {
            "sha": "5518699aee4b00fe157575ddfc3498112f479c8d",
            "filename": "tools/ts-api-guardian/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fts-api-guardian%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fts-api-guardian%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fts-api-guardian%2FBUILD.bazel?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -61,6 +61,7 @@ ts_library(\n     tsconfig = \"//tools:tsconfig-test\",\n     deps = [\n         \":lib\",\n+        \"@npm//@bazel/runfiles\",\n         \"@npm//@types/jasmine\",\n         \"@npm//@types/node\",\n         \"@npm//jasmine\","
        },
        {
            "sha": "b67b2fb564a799e0805322115462031076fc8e08",
            "filename": "tools/ts-api-guardian/test/bootstrap.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fts-api-guardian%2Ftest%2Fbootstrap.ts",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/tools%2Fts-api-guardian%2Ftest%2Fbootstrap.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fts-api-guardian%2Ftest%2Fbootstrap.ts?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -7,7 +7,7 @@\n  */\n \n const path = require('path');\n-const runfiles = require(process.env['BAZEL_NODE_RUNFILES_HELPER']);\n+const {runfiles} = require('@bazel/runfiles');\n \n // Change directories to the path of the ts-api-guardian source tree. We need to resolve an actual\n // path of a tree because we want to determine the path to the directory that includes all"
        },
        {
            "sha": "96f112b22716244cda6d40d8c9275aa7dafdcb86",
            "filename": "yarn.lock",
            "status": "modified",
            "additions": 34,
            "deletions": 29,
            "changes": 63,
            "blob_url": "https://github.com/angular/angular/blob/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/yarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60/yarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/yarn.lock?ref=fd9a7ca8c94eacf6e0b73b024d0082e8caf0cb60",
            "patch": "@@ -1000,7 +1000,7 @@\n     lodash \"^4.17.13\"\n     to-fast-properties \"^2.0.0\"\n \n-\"@bazel/bazelisk@^1.7.3\":\n+\"@bazel/bazelisk@^1.7.5\":\n   version \"1.7.5\"\n   resolved \"https://registry.yarnpkg.com/@bazel/bazelisk/-/bazelisk-1.7.5.tgz#dd1a52e3d23464f72de55aa3dc4777847fa85373\"\n   integrity sha512-JHwP9JhfZUSoj4sku471Bjw4uE773U2Agujnx0CdPkeRk25khy1l3VyjaPaHB+z1fmMnM6ED3M7tetQUsovUQg==\n@@ -1010,47 +1010,52 @@\n   resolved \"https://registry.yarnpkg.com/@bazel/buildifier/-/buildifier-4.0.1.tgz#52cfbad5cbb86e9183a29dde2370cd465730ea0d\"\n   integrity sha512-BTmtvJbeeEVrqRApI1gr5hvPgYcHLpdGJ5EXNXEWO692ztMPSj5fB/dH0xUlaW45jn6LimYx8ymqTMhj3538og==\n \n-\"@bazel/concatjs@3.2.3\":\n-  version \"3.2.3\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/concatjs/-/concatjs-3.2.3.tgz#ac52f13187dbcf22284cbd6773447d888d1fb5ed\"\n-  integrity sha512-Cf6Zsg6oxjihu2QTpUaUxCkY6CPxQVuC7qxN6Qt2IiPOKsn39aZlNbEzZ9IQP1LP/xjdQqsjth6BY04c722eUA==\n+\"@bazel/concatjs@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/concatjs/-/concatjs-3.3.0.tgz#5d3c48aa1f19faeaaca54120248408e2cdc4150f\"\n+  integrity sha512-Hat4q+3xU3KhO5y0ibQdxT6do/6vnygVJn7WS+1jYfJduMwQivM20k3gPZZw++358f9UYu0fzhnEa05fBZ9bQQ==\n   dependencies:\n     protobufjs \"6.8.8\"\n     source-map-support \"0.5.9\"\n     tsutils \"2.27.2\"\n \n-\"@bazel/ibazel@^0.15.6\":\n+\"@bazel/ibazel@^0.15.8\":\n   version \"0.15.8\"\n   resolved \"https://registry.yarnpkg.com/@bazel/ibazel/-/ibazel-0.15.8.tgz#355632324fb4504611acb6f4a40cc6570c1a6c87\"\n   integrity sha512-VC60wGXKkzN35DZJnrlujl+fttLSdTBVrT+Hb9P+6nkR+dciN48f1KgluauG3DPopF/N681XhAiTYxg1WfGIYg==\n \n-\"@bazel/jasmine@3.2.3\":\n-  version \"3.2.3\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/jasmine/-/jasmine-3.2.3.tgz#fee0372af7ee85354a58cb1457b61c53ce76f50a\"\n-  integrity sha512-d1VxXVbpahnQrCihXyzHRcINeDKubA2v7VkMuDhRLrf/VagUkmg0PC6fYQ7AwniNUoR74s5sv/McMnpxfwOQ8g==\n+\"@bazel/jasmine@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/jasmine/-/jasmine-3.3.0.tgz#40d64507dec504df79d8877f6ceb9d9b0ea7886a\"\n+  integrity sha512-nsB1P/NQIOvxSTqVmQ3BqOSRQOvhqBP3M7owqDOl+3aQy1oIekXtj0S4s4pVFVMUFZf4acXXgZ4TOv0uuMOB5Q==\n   dependencies:\n     c8 \"~7.5.0\"\n     jasmine-reporters \"~2.4.0\"\n \n-\"@bazel/protractor@3.2.3\":\n-  version \"3.2.3\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/protractor/-/protractor-3.2.3.tgz#9e36275c5ec450fb24ef5cecafdf681d1fbb9090\"\n-  integrity sha512-sFBvfDKI8M398RI9ZeaI4hd0xsnKmWDIsv25rqt4DfO67fNNiEvOCkEgSq36e32ht5C8N01XlBpm/O0WNdL+0Q==\n-\n-\"@bazel/rollup@3.2.3\":\n-  version \"3.2.3\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/rollup/-/rollup-3.2.3.tgz#eb6b17f89da5d38b035a6d59a99000f2d5ada667\"\n-  integrity sha512-7PmJqekk92OaiwwEN3dYsp5qbZX8cqr0WkFUiaM3FBsNYVoN/rdh+VxQJWTuDGLjWiHxLwE95YwVHcvwerSrCg==\n-\n-\"@bazel/terser@3.2.3\":\n-  version \"3.2.3\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/terser/-/terser-3.2.3.tgz#18849cb01f6a9fd840955547b0a9dbf63f02c720\"\n-  integrity sha512-SzX3ytgt8+i36sODPO9ju0LbjKXB8w9zi00S+XNManQTRilNrr/NODTYbBzKrjuebA/o52NMpvRGigRd1Z2RGg==\n-\n-\"@bazel/typescript@3.2.3\":\n-  version \"3.2.3\"\n-  resolved \"https://registry.yarnpkg.com/@bazel/typescript/-/typescript-3.2.3.tgz#6e40bdb7c5294e588bac3b7d1269e58b98a1856c\"\n-  integrity sha512-Q1Yin/AYdh9yrkSJo3H6nVn6mMaohr5syjLd0Df0w7WI4zerdJTxrY5nhoWZwO/S1rPj8/MedDwZudCqPDeDMA==\n+\"@bazel/protractor@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/protractor/-/protractor-3.3.0.tgz#6465f90e7bfa7aaf183aa855e6b17b3a3cd06f48\"\n+  integrity sha512-QT8HeAZ7E7Q7IVU0KOSBc7GT9Aj/jjaX4UtDcYr0nHVi6wLnvJ+yLjrdgLcQ40Xpdd9FoR0lXT+cxN8jrBjGbQ==\n+\n+\"@bazel/rollup@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/rollup/-/rollup-3.3.0.tgz#f3b8a9593080f9dce1cf25dd5f3e6afc6a2afd61\"\n+  integrity sha512-LuAIikmze3/KQgw2z6KHGX5YGhXQm7kdsSd8SXvrkauO0LFjorB2bReOMWBsjIA7dvqP48skOvM2OrFsDWeZqQ==\n+\n+\"@bazel/runfiles@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/runfiles/-/runfiles-3.3.0.tgz#4bc0c3a12bb690a4361416f18577dd066b8cbb4e\"\n+  integrity sha512-hUsQJN37h2wMinddTPyPbLA4PSRCXHzJOmxMRLrlnOyW01ekOXMxtiryCodrEnB6qkOSsVk1JJ8Bb+CJkDSM7A==\n+\n+\"@bazel/terser@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/terser/-/terser-3.3.0.tgz#8f4036bcd9e00cf0add15020962d6eb513c9fc74\"\n+  integrity sha512-F5RqBLYqev9zSuPCpz8CpQui3I6DuPgrOBIadGq8D+c3341dyR2QxwYcJ2ZEiMtCMWtNM1KsOF2vQsvE7HnqqQ==\n+\n+\"@bazel/typescript@3.3.0\":\n+  version \"3.3.0\"\n+  resolved \"https://registry.yarnpkg.com/@bazel/typescript/-/typescript-3.3.0.tgz#6781f3aec3f974b864519ae9f47eaf09b134910b\"\n+  integrity sha512-neprCOVshAjlDAHgD5PAA4uqhkBzWve20Rl07Ip6BGnCNhU3XLkv+b86TtyWcU8tYMILoCSey9gzXs07XhEz6g==\n   dependencies:\n     protobufjs \"6.8.8\"\n     semver \"5.6.0\""
        }
    ],
    "stats": {
        "total": 132,
        "additions": 68,
        "deletions": 64
    }
}