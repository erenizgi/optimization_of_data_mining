{
    "author": "alan-agius4",
    "message": "docs: rename `ng xi18n` to `ng extract-i18n` (#39337)\n\nIn Angular CLI version 11, xi18n has been changed from `ng xi18n` to `ng extract-i18n`.\n\nPR Close #39337",
    "sha": "dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
    "files": [
        {
            "sha": "bd313f11451febf1462fee211cad586e04bdc7f2",
            "filename": "aio/content/guide/i18n.md",
            "status": "modified",
            "additions": 11,
            "deletions": 17,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/aio%2Fcontent%2Fguide%2Fi18n.md",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/aio%2Fcontent%2Fguide%2Fi18n.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fi18n.md?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -327,7 +327,7 @@ You can also nest different clauses together, such as the `plural` and `select`\n \n ## Work with translation files\n \n-After preparing a template for translation, use the Angular CLI `xi18n` command to extract the marked text in the template into a _source language_ file.\n+After preparing a template for translation, use the Angular CLI `extract-i18n` command to extract the marked text in the template into a _source language_ file.\n The marked text includes text marked with `i18n` and attributes marked with `i18n-`*attribute* as described in the previous section.\n Follow these steps:\n \n@@ -344,12 +344,12 @@ You can optionally change the location, format, and name.\n To extract the source language file, open a terminal window, change to the root directory of your app project, and run the following CLI command:\n \n <code-example language=\"sh\" class=\"code-shell\">\n-  ng xi18n\n+  ng extract-i18n\n </code-example>\n \n-The `xi18n` command creates a source language file named `messages.xlf` in your project's root directory using the [XML Localization Interchange File Format (XLIFF, version 1.2)](https://en.wikipedia.org/wiki/XLIFF \"Wikipedia page about XLIFF\").\n+The `extract-i18n` command creates a source language file named `messages.xlf` in your project's root directory using the [XML Localization Interchange File Format (XLIFF, version 1.2)](https://en.wikipedia.org/wiki/XLIFF \"Wikipedia page about XLIFF\").\n \n-Use the following `xi18n` command options to change the source language file location, format, and file name:\n+Use the following `extract-i18n` command options to change the source language file location, format, and file name:\n \n * `--output-path`: Change the location.\n * `--format`: Change the format.\n@@ -358,25 +358,19 @@ Use the following `xi18n` command options to change the source language file loc\n Note: The `--i18n-locale` option is deprecated.\n Angular 9 uses the source locale configured in your app's [workspace configuration](guide/workspace-config \"Angular workspace configuration\") file (`angular.json`).\n \n-<div class=\"alert is-helpful\">\n-\n-The ng xi18n extraction mechanism uses the ViewEngine compiler, which is not able to cope with some code syntax that the Ivy compiler can handle. A fix for this issue is currently under development. To follow or contribute to this fix see [PR 32912](https://github.com/angular/angular/pull/32912).\n-\n-</div>\n-\n #### Change the source language file location\n \n To create a file in the `src/locale` directory, specify the output path as an option, as shown in the following example:\n \n <code-example language=\"sh\" class=\"code-shell\">\n-  ng xi18n --output-path src/locale\n+  ng extract-i18n --output-path src/locale\n </code-example>\n \n {@a other-formats}\n \n #### Change the source language file format\n \n-The `xi18n` command can read and write files in three translation formats:\n+The `extract-i18n` command can read and write files in three translation formats:\n \n * XLIFF 1.2 (default)\n * XLIFF 2\n@@ -385,9 +379,9 @@ The `xi18n` command can read and write files in three translation formats:\n Specify the translation format explicitly with the `--format` command option, as shown in the following examples:\n \n <code-example language=\"sh\" class=\"code-shell\">\n-ng xi18n  --format=xlf\n-ng xi18n  --format=xlf2\n-ng xi18n  --format=xmb\n+ng extract-i18n  --format=xlf\n+ng extract-i18n  --format=xlf2\n+ng extract-i18n  --format=xmb\n </code-example>\n \n <div class=\"alert is-helpful\">\n@@ -403,14 +397,14 @@ To change the name of the source language file generated by the extraction tool,\n the `--outFile` command option:\n \n <code-example language=\"sh\" class=\"code-shell\">\n-  ng xi18n --out-file source.xlf\n+  ng extract-i18n --out-file source.xlf\n </code-example>\n \n {@a localization-folder}\n \n ### Create a translation file for each language\n \n-The `ng xi18n` command (with no options) generates a source language file named `messages.xlf` in the project `src` folder.\n+The `ng extract-i18n` command (with no options) generates a source language file named `messages.xlf` in the project `src` folder.\n Create *translation* files for each language by copying the source language file.\n To avoid confusion with multiple translations, you should organize the language translation files by locale in a dedicated `locale` folder under `src/`.\n Use a filename extension that matches the associated locale, such as `messages.fr.xlf`."
        },
        {
            "sha": "4163994ed96930b102c2e74f45e051d64aaaa8ef",
            "filename": "aio/content/guide/workspace-config.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/aio%2Fcontent%2Fguide%2Fworkspace-config.md",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/aio%2Fcontent%2Fguide%2Fworkspace-config.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fworkspace-config.md?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -149,7 +149,7 @@ See [Build target](#build-target) below for more information.\n \n * The `architect/lint` section configures defaults for options of the `ng lint` command, which performs code analysis on project source files. The default linting tool for Angular is [TSLint](https://palantir.github.io/tslint/).\n \n-* The `architect/extract-i18n` section configures defaults for options of the `ng-xi18n` tool used by the `ng xi18n` command, which extracts marked message strings from source code and outputs translation files.\n+* The `architect/extract-i18n` section configures defaults for options of the `ng extract-i18n` command, which extracts marked message strings from source code and outputs translation files.\n \n * The `architect/server` section configures defaults for creating a Universal app with server-side rendering, using the `ng run <project>:server` command.\n "
        },
        {
            "sha": "23925c891f98604201c79b18ffad5f6a9858cb9c",
            "filename": "aio/tools/examples/shared/boilerplate/i18n/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fi18n%2Fpackage.json?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -12,7 +12,7 @@\n     \"test\": \"ng test\",\n     \"lint\": \"ng lint\",\n     \"e2e\": \"ng e2e\",\n-    \"extract\": \"ng xi18n --output-path=locale\"\n+    \"extract\": \"ng extract-i18n --output-path=locale\"\n   },\n   \"private\": true,\n   \"dependencies\": {"
        },
        {
            "sha": "efd0cfaf919b5bc2efab9f353520285ee80d6de6",
            "filename": "integration/ivy-i18n/e2e/README.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/integration%2Fivy-i18n%2Fe2e%2FREADME.md",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/integration%2Fivy-i18n%2Fe2e%2FREADME.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fivy-i18n%2Fe2e%2FREADME.md?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -20,7 +20,7 @@ These translated apps are stored in `tmp/translations/(de|fr)`.\n \n ### legacy\n \n-The legacy `ng xi18n` tool extracts the messages from the Angular templates, into the XLIFF 1.2\n+The CLI `ng extract-i18n` tool extracts the messages from the Angular templates, into the XLIFF 1.2\n format with legacy message ids (`tmp/legacy-locales/messages.legacy.xlf`).\n \n The translation file is modified to apply a simple translation.\n@@ -38,4 +38,4 @@ translate the output files. So the `de`, `fr` and `legacy` apps must be statical\n disk and translated there.\n \n Since the translated app is now on disk, we cannot use the CLI to serve it. Instead we use\n-a simple static HTTP server instead.\n\\ No newline at end of file\n+a simple static HTTP server instead."
        },
        {
            "sha": "c59a86b8367309feb9d4a52008ec32649266a729",
            "filename": "packages/compiler-cli/test/compliance/r3_view_compiler_i18n_spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Fr3_view_compiler_i18n_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Fr3_view_compiler_i18n_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fcompliance%2Fr3_view_compiler_i18n_spec.ts?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -41,7 +41,7 @@ const extract = (from: string, regex: any, transformFn: (match: any[], state: Se\n };\n \n // verify that we extracted all the necessary translations\n-// and their ids match the ones extracted via 'ng xi18n'\n+// and their ids match the ones extracted via 'ng extract-i18n'\n const verifyTranslationIds =\n     (source: string, output: string, exceptions = {},\n      interpolationConfig: InterpolationConfig = DEFAULT_INTERPOLATION_CONFIG) => {\n@@ -2982,7 +2982,8 @@ describe('i18n support in the template compiler', () => {\n       `;\n \n       const exceptions = {\n-        '3052001905251380936': 'Wrapper message generated by \"ng xi18n\" around ICU: \"  {$ICU}  \"'\n+        '3052001905251380936':\n+            'Wrapper message generated by \"ng extract-i18n\" around ICU: \"  {$ICU}  \"'\n       };\n       verify(input, output, {exceptions});\n     });"
        },
        {
            "sha": "a00e57106bc16198682a8c57c6c7a66d25bbb6e1",
            "filename": "packages/compiler/src/render3/view/template.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/packages%2Fcompiler%2Fsrc%2Frender3%2Fview%2Ftemplate.ts",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/packages%2Fcompiler%2Fsrc%2Frender3%2Fview%2Ftemplate.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Frender3%2Fview%2Ftemplate.ts?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -2064,7 +2064,7 @@ export function parseTemplate(\n \n   // process i18n meta information (scan attributes, generate ids)\n   // before we run whitespace removal process, because existing i18n\n-  // extraction process (ng xi18n) relies on a raw content to generate\n+  // extraction process (ng extract-i18n) relies on a raw content to generate\n   // message ids\n   const i18nMetaVisitor = new I18nMetaVisitor(\n       interpolationConfig, /* keepI18nAttrs */ !preserveWhitespaces,\n@@ -2077,7 +2077,7 @@ export function parseTemplate(\n     // run i18n meta visitor again in case whitespaces are removed (because that might affect\n     // generated i18n message content) and first pass indicated that i18n content is present in a\n     // template. During this pass i18n IDs generated at the first pass will be preserved, so we can\n-    // mimic existing extraction process (ng xi18n)\n+    // mimic existing extraction process (ng extract-i18n)\n     if (i18nMetaVisitor.hasI18nMeta) {\n       rootNodes = html.visitAll(\n           new I18nMetaVisitor(interpolationConfig, /* keepI18nAttrs */ false), rootNodes);"
        },
        {
            "sha": "0e19e8b41f93617eb88598ccfce5b3536c3844f1",
            "filename": "packages/core/src/render3/i18n/i18n.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n.md",
            "raw_url": "https://github.com/angular/angular/raw/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n.md?ref=dd0ba3f4abb5cf467e55bf660b70965ba7f2881e",
            "patch": "@@ -1260,7 +1260,7 @@ Resulting in same string which Angular can process:\n \n ### Placeholders with multiple values\n \n-While extracting messages via `ng xi18n`, the tool performs an optimization and reuses the same placeholders for elements/interpolations in case placeholder content is identical.\n+While extracting messages via `ng extract-i18n`, the tool performs an optimization and reuses the same placeholders for elements/interpolations in case placeholder content is identical.\n For example the following template:\n ```html\n <b>My text 1</b><b>My text 2</b>"
        }
    ],
    "stats": {
        "total": 47,
        "additions": 21,
        "deletions": 26
    }
}