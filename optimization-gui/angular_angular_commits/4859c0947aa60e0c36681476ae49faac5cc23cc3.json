{
    "author": "petebacondarwin",
    "message": "build(docs-infra): implement full template checking for examples (#40930)\n\nThis commit turns on full template type checking and fixes the examples\nthat had errors.\n\nPR Close #40930",
    "sha": "4859c0947aa60e0c36681476ae49faac5cc23cc3",
    "files": [
        {
            "sha": "646dd405b365b5ae158a197bc58d21385204f297",
            "filename": "aio/content/examples/built-in-directives/src/app/app.component.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fsrc%2Fapp%2Fapp.component.html",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fsrc%2Fapp%2Fapp.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fsrc%2Fapp%2Fapp.component.html?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -8,7 +8,7 @@ <h3 id=\"ngModel\">NgModel (two-way) Binding</h3>\n   <p>Current item name: {{currentItem.name}}</p>\n   <p>\n     <label for=\"without\">without NgModel:</label>\n-    <input [value]=\"currentItem.name\" (input)=\"currentItem.name=$event.target.value\" id=\"without\">\n+    <input [value]=\"currentItem.name\" (input)=\"currentItem.name=getValue($event.target)\" id=\"without\">\n   </p>\n \n   <p>"
        },
        {
            "sha": "e120c5c625247ff5876cfa9e1b1fdb8f35e85171",
            "filename": "aio/content/examples/built-in-directives/src/app/app.component.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fbuilt-in-directives%2Fsrc%2Fapp%2Fapp.component.ts?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -114,6 +114,9 @@ export class AppComponent implements OnInit {\n \n   trackById(index: number, item: any): number { return item.id; }\n \n+  getValue(target: EventTarget): string {\n+    return (target as HTMLInputElement).value;\n+  }\n }\n \n "
        },
        {
            "sha": "719e3460d93352378b9f0412b5439e61892b2160",
            "filename": "aio/content/examples/event-binding/src/app/app.component.html",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fsrc%2Fapp%2Fapp.component.html",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fsrc%2Fapp%2Fapp.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fsrc%2Fapp%2Fapp.component.html?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -20,9 +20,9 @@ <h4>Result: {{currentItem.name}}</h4>\n \n   <!-- #docregion event-binding-3-->\n   <input [value]=\"currentItem.name\"\n-         (input)=\"currentItem.name=$event.target.value\" >\n-  without NgModel\n+         (input)=\"currentItem.name=getValue($event.target)\">\n   <!-- #enddocregion event-binding-3-->\n+  without NgModel\n </div>\n \n <div class=\"group\">"
        },
        {
            "sha": "83af6bd8975a7fbd6faab5ebc5b8a1ef458ba729",
            "filename": "aio/content/examples/event-binding/src/app/app.component.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fevent-binding%2Fsrc%2Fapp%2Fapp.component.ts?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -11,7 +11,7 @@ export class AppComponent {\n   currentItem = { name: 'teapot'} ;\n   clickMessage = '';\n \n-  onSave(event?: KeyboardEvent) {\n+  onSave(event?: MouseEvent) {\n     const evtMsg = event ? ' Event target is ' + (event.target as HTMLElement).textContent : '';\n     alert('Saved.' + evtMsg);\n     if (event) { event.stopPropagation(); }\n@@ -21,9 +21,14 @@ export class AppComponent {\n     alert(`Delete the ${item.name}.`);\n   }\n \n-  onClickMe(event?: KeyboardEvent) {\n+  onClickMe(event?: MouseEvent) {\n     const evtMsg = event ? ' Event target class is ' + (event.target as HTMLElement).className  : '';\n     alert('Click me.' + evtMsg);\n   }\n \n+  // #docregion getValue\n+  getValue(target: EventTarget): string {\n+    return (target as HTMLInputElement).value;\n+  }\n+  // #enddocregion getValue\n }"
        },
        {
            "sha": "999a13d8b8304517fb1fd84541e7cec4431222b0",
            "filename": "aio/content/examples/getting-started/src/app/cart.service.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fgetting-started%2Fsrc%2Fapp%2Fcart.service.ts",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fgetting-started%2Fsrc%2Fapp%2Fcart.service.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fgetting-started%2Fsrc%2Fapp%2Fcart.service.ts?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -1,14 +1,15 @@\n // #docplaster\n // #docregion import-http\n import { Injectable } from '@angular/core';\n-\n import { HttpClient } from '@angular/common/http';\n // #enddocregion import-http\n+\n @Injectable({\n   providedIn: 'root'\n })\n // #docregion props, methods, inject-http, get-shipping\n export class CartService {\n+// #enddocregion get-shipping\n   items = [];\n // #enddocregion props, methods\n \n@@ -32,8 +33,10 @@ export class CartService {\n   }\n // #enddocregion methods\n \n+// #docregion get-shipping\n   getShippingPrices() {\n-    return this.http.get('/assets/shipping.json');\n+    return this.http.get<{type: string, price: number}[]>('/assets/shipping.json');\n   }\n // #docregion props, methods, inject-http\n }\n+// #enddocregion props, methods, inject-http"
        },
        {
            "sha": "bac14b8cdd704aa60e9503503dc9beb709ad5f27",
            "filename": "aio/content/examples/http/src/app/package-search/package-search.component.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fhttp%2Fsrc%2Fapp%2Fpackage-search%2Fpackage-search.component.html",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fhttp%2Fsrc%2Fapp%2Fpackage-search%2Fpackage-search.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fhttp%2Fsrc%2Fapp%2Fpackage-search%2Fpackage-search.component.html?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -2,7 +2,7 @@\n <h3>Search Npm Packages</h3>\n <p><i>Searches when typing stops. Caches for 30 seconds.</i></p>\n <!-- #docregion search -->\n-<input (keyup)=\"search($event.target.value)\" id=\"name\" placeholder=\"Search\"/>\n+<input (keyup)=\"search(getValue($event.target))\" id=\"name\" placeholder=\"Search\"/>\n <!-- #enddocregion search -->\n <input type=\"checkbox\" id=\"refresh\" [checked]=\"withRefresh\" (click)=\"toggleRefresh()\">\n <label for=\"refresh\">with refresh</label>"
        },
        {
            "sha": "ec7df8282e7c69f5382a42b8079ec43437ccf4f4",
            "filename": "aio/content/examples/http/src/app/package-search/package-search.component.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fhttp%2Fsrc%2Fapp%2Fpackage-search%2Fpackage-search.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fhttp%2Fsrc%2Fapp%2Fpackage-search%2Fpackage-search.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fhttp%2Fsrc%2Fapp%2Fpackage-search%2Fpackage-search.component.ts?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -35,4 +35,9 @@ export class PackageSearchComponent implements OnInit {\n \n   toggleRefresh() { this.withRefresh = ! this.withRefresh; }\n \n+  // #docregion getValue\n+  getValue(target: EventTarget): string {\n+    return (target as HTMLInputElement).value;\n+  }\n+  // #enddocregion getValue\n }"
        },
        {
            "sha": "7deb7abebe45b2cc597208f5b7fba03ddf4e01f2",
            "filename": "aio/content/examples/pipes/src/app/flying-heroes.pipe.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fpipes%2Fsrc%2Fapp%2Fflying-heroes.pipe.ts",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fpipes%2Fsrc%2Fapp%2Fflying-heroes.pipe.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fpipes%2Fsrc%2Fapp%2Fflying-heroes.pipe.ts?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -3,11 +3,11 @@\n // #docregion pure\n import { Pipe, PipeTransform } from '@angular/core';\n \n-import { Flyer } from './heroes';\n+import { Hero } from './heroes';\n \n @Pipe({ name: 'flyingHeroes' })\n export class FlyingHeroesPipe implements PipeTransform {\n-  transform(allHeroes: Flyer[]) {\n+  transform(allHeroes: Hero[]) {\n     // #docregion filter\n     return allHeroes.filter(hero => hero.canFly);\n     // #enddocregion filter"
        },
        {
            "sha": "9de7a5c36a4a13fc60c19819258436303e28394d",
            "filename": "aio/content/examples/pipes/src/app/heroes.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fpipes%2Fsrc%2Fapp%2Fheroes.ts",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Fpipes%2Fsrc%2Fapp%2Fheroes.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fpipes%2Fsrc%2Fapp%2Fheroes.ts?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -1,5 +1,5 @@\n-export interface Flyer { canFly: boolean; }\n-export const HEROES =  [\n+export interface Hero { name: string; canFly: boolean; }\n+export const HEROES: Hero[] =  [\n   {name: 'Windstorm', canFly: true},\n   {name: 'Bombasto',  canFly: false},\n   {name: 'Magneto',   canFly: false},"
        },
        {
            "sha": "59fa05b1c1c53368621ea9a2f766342f56dfc0d1",
            "filename": "aio/content/examples/template-syntax/src/app/app.component.html",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Ftemplate-syntax%2Fsrc%2Fapp%2Fapp.component.html",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fexamples%2Ftemplate-syntax%2Fsrc%2Fapp%2Fapp.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Ftemplate-syntax%2Fsrc%2Fapp%2Fapp.component.html?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -219,11 +219,9 @@ <h3>\n <app-hero-detail [hero]=\"currentHero\"></app-hero-detail>\n <img bind-src=\"heroImageUrl\">\n \n-<!-- ERROR: HeroDetailComponent.hero expects a\n-     Hero object, not the string \"currentHero\" -->\n-<div *ngIf=\"false\">\n-  <app-hero-detail hero=\"currentHero\"></app-hero-detail>\n-</div>\n+<!-- ERROR: HeroDetailComponent.hero expects a Hero object, not the string \"currentHero\" -->\n+<!-- <app-hero-detail hero=\"currentHero\"></app-hero-detail> -->\n+\n <app-hero-detail prefix=\"You are my\" [hero]=\"currentHero\"></app-hero-detail>\n \n <p><img src=\"{{heroImageUrl}}\"> is the <i>interpolated</i> image.</p>"
        },
        {
            "sha": "38d56faca8b2baccd46627d3c16ed12dcf4d38bd",
            "filename": "aio/content/guide/event-binding-concepts.md",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fguide%2Fevent-binding-concepts.md",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fguide%2Fevent-binding-concepts.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fevent-binding-concepts.md?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -25,7 +25,15 @@ With this example, the following actions occur:\n 1. The code binds to the `input` event of the `<input>` element, which allows the code to listen for changes.\n 1. When the user makes changes, the component raises the `input` event.\n 1. The binding executes the statement within a context that includes the DOM event object, `$event`.\n-1. Angular retrieves the changed text by following the path `$event.target.value` and updates the `name` property.\n+1. Angular retrieves the changed text by calling `getValue($event.target)` and updates the `name` property.\n \n If the event belongs to a directive or component, `$event` has the shape that the directive or component produces.\n \n+<div class=\"alert is-helpful\">\n+\n+The type of `$event.target` is only `EventTarget` in the template.\n+In the `getValue()` method, the target is cast to an `HTMLInputElement` to allow type-safe access to its `value` property.\n+\n+<code-example path=\"event-binding/src/app/app.component.ts\" region=\"getValue\"></code-example>\n+\n+</div>"
        },
        {
            "sha": "e261b3451a609bc469c3a74ad5c2505dd72f207a",
            "filename": "aio/content/guide/http.md",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fguide%2Fhttp.md",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Fcontent%2Fguide%2Fhttp.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fhttp.md?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -978,6 +978,16 @@ a search request for a package with that name to the npm web API.\n </code-example>\n \n Here, the `keyup` event binding sends every keystroke to the component's `search()` method.\n+\n+<div class=\"alert is-helpful\">\n+\n+The type of `$event.target` is only `EventTarget` in the template.\n+In the `getValue()` method, the target is cast to an `HTMLInputElement` to allow type-safe access to its `value` property.\n+\n+<code-example path=\"http/src/app/package-search/package-search.component.ts\" region=\"getValue\"></code-example>\n+\n+</div>\n+\n The following snippet implements debouncing for this input using RxJS operators.\n \n <code-example"
        },
        {
            "sha": "741d3212d99850f10f1d01ac95f183514b364894",
            "filename": "aio/tools/examples/shared/boilerplate/cli/tsconfig.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/4859c0947aa60e0c36681476ae49faac5cc23cc3/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fshared%2Fboilerplate%2Fcli%2Ftsconfig.json?ref=4859c0947aa60e0c36681476ae49faac5cc23cc3",
            "patch": "@@ -25,7 +25,6 @@\n   \"angularCompilerOptions\": {\n     \"strictInjectionParameters\": true,\n     \"strictInputAccessModifiers\": true,\n-    // TODO(gkalpak): Fix the code and enable this (i.e. switch from `fullTemplateTypeCheck` to `strictTemplates`).\n-    \"fullTemplateTypeCheck\": true,// \"strictTemplates\": true\n+    \"strictTemplates\": true\n   }\n }"
        }
    ],
    "stats": {
        "total": 71,
        "additions": 51,
        "deletions": 20
    }
}