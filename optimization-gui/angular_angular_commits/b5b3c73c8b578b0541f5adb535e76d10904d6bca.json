{
    "author": "devversion",
    "message": "build: allow for custom bazel binary to be used in package-builder (#43431)\n\nThe package builder script should respect the `BAZEL` environment\nvariable for running Bazel. If not set, it can fallback to bazelisk\nfrom the `node_modules`. Respecting this variable allows for users\nwith a global `bazel` binary. This is desirable in some situations,\nlike on Windows, where running Bazel inside of the Yarn environment\nseems slower than running a global variant. This could appear like that\nbecause projects might use different Bazel versions. In some cases,\ndevelopers would want to use a single (already-warmed-up) instance of\nBazel instead of launching different versions using bazelisk.\n(e.g. when switching a lot between repos like COMP, FW or CLI..)\n\nIn any case, it doesn't hurt providing this flexibility for advanced\nuse-cases. It's low-effort to maintain and is respected in COMP as well.\n\nPR Close #43431",
    "sha": "b5b3c73c8b578b0541f5adb535e76d10904d6bca",
    "files": [
        {
            "sha": "475ed64ca6fd6f89a7b6d9781cf0b63457215a66",
            "filename": "scripts/build/package-builder.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/b5b3c73c8b578b0541f5adb535e76d10904d6bca/scripts%2Fbuild%2Fpackage-builder.js",
            "raw_url": "https://github.com/angular/angular/raw/b5b3c73c8b578b0541f5adb535e76d10904d6bca/scripts%2Fbuild%2Fpackage-builder.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fbuild%2Fpackage-builder.js?ref=b5b3c73c8b578b0541f5adb535e76d10904d6bca",
            "patch": "@@ -34,7 +34,7 @@ set('-e');\n const baseDir = resolve(`${__dirname}/../..`);\n \n /** @type {string} The command to use for running bazel. */\n-const bazelCmd = `yarn --cwd \"${baseDir}\" --silent bazel`;\n+const bazelCmd = process.env.BAZEL ?? `yarn --cwd \"${baseDir}\" --silent bazel`;\n \n /** @type {string} The absolute path to the bazel-bin directory. */\n const bazelBin = exec(`${bazelCmd} info bazel-bin`, true);"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}