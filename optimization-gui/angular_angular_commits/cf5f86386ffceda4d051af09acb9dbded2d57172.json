{
    "author": "abarghoud",
    "message": "docs(core): add usage examples for APP_INITIALIZER token (#41095)\n\nAdd multiple usage examples for APP_INITIALIZER using Promise, Observable and multi providers\n\nCloses #40730\n\nPR Close #41095",
    "sha": "cf5f86386ffceda4d051af09acb9dbded2d57172",
    "files": [
        {
            "sha": "69b6fe473d17eeec699880f71034a6a47ebc9609",
            "filename": "packages/core/src/application_init.ts",
            "status": "modified",
            "additions": 53,
            "deletions": 0,
            "changes": 53,
            "blob_url": "https://github.com/angular/angular/blob/cf5f86386ffceda4d051af09acb9dbded2d57172/packages%2Fcore%2Fsrc%2Fapplication_init.ts",
            "raw_url": "https://github.com/angular/angular/raw/cf5f86386ffceda4d051af09acb9dbded2d57172/packages%2Fcore%2Fsrc%2Fapplication_init.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fapplication_init.ts?ref=cf5f86386ffceda4d051af09acb9dbded2d57172",
            "patch": "@@ -27,6 +27,59 @@ import {noop} from './util/noop';\n  *\n  * @see `ApplicationInitStatus`\n  *\n+ * @usageNotes\n+ *\n+ * The following example illustrates how to configure a multi-provider using `APP_INITIALIZER` token\n+ * and a function returning a promise.\n+ *\n+ * ```\n+ *  function initializeApp(): Promise<any> {\n+ *    return new Promise((resolve, reject) => {\n+ *      // Do some asynchronous stuff\n+ *      resolve();\n+ *    });\n+ *  }\n+ *\n+ *  @NgModule({\n+ *   imports: [BrowserModule],\n+ *   declarations: [AppComponent],\n+ *   bootstrap: [AppComponent],\n+ *   providers: [{\n+ *     provide: APP_INITIALIZER,\n+ *     useFactory: () => initializeApp,\n+ *     multi: true\n+ *    }]\n+ *   })\n+ *  export class AppModule {}\n+ * ```\n+ *\n+ * It's also possible to configure a multi-provider using `APP_INITIALIZER` token and a function\n+ * returning an observable, see an example below. Note: the `HttpClient` in this example is used for\n+ * demo purposes to illustrate how the factory function can work with other providers available\n+ * through DI.\n+ *\n+ * ```\n+ *  function initializeApp(httpClient: HttpClient): Observable<any> {\n+ *   return httpClient.get(\"https://someUrl.com/api/user\")\n+ *     .pipe(\n+ *        tap(user => { ... })\n+ *     )\n+ *  }\n+ *\n+ *  @NgModule({\n+ *    imports: [BrowserModule, HttpClientModule],\n+ *    declarations: [AppComponent],\n+ *    bootstrap: [AppComponent],\n+ *    providers: [{\n+ *      provide: APP_INITIALIZER,\n+ *      useFactory: initializeApp,\n+ *      deps: [HttpClient],\n+ *      multi: true\n+ *    }]\n+ *  })\n+ *  export class AppModule {}\n+ * ```\n+ *\n  * @publicApi\n  */\n export const APP_INITIALIZER ="
        }
    ],
    "stats": {
        "total": 53,
        "additions": 53,
        "deletions": 0
    }
}