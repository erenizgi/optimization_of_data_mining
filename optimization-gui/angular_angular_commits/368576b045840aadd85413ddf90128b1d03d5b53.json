{
    "author": "devversion",
    "message": "refactor(language-service): ensure compatibility with noImplicitOverride (#42512)\n\nAdds the `override` keyword to the `language-service` sources to ensure\ncompatibility with `noImplicitOverride`.\n\nPR Close #42512",
    "sha": "368576b045840aadd85413ddf90128b1d03d5b53",
    "files": [
        {
            "sha": "6f748603b3b85fa3a94897bfec4f144dc454e150",
            "filename": "packages/language-service/ivy/template_target.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 2,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fivy%2Ftemplate_target.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fivy%2Ftemplate_target.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Ftemplate_target.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -142,11 +142,22 @@ export interface TwoWayBindingContext {\n   nodes: [t.BoundAttribute, t.BoundEvent];\n }\n \n+/**\n+ * Special marker AST that can be used when the cursor is within the `sourceSpan` but not\n+ * the key or value span of a node with key/value spans.\n+ */\n+class OutsideKeyValueMarkerAst extends e.AST {\n+  visit(): null {\n+    return null;\n+  }\n+}\n+\n /**\n  * This special marker is added to the path when the cursor is within the sourceSpan but not the key\n  * or value span of a node with key/value spans.\n  */\n-const OUTSIDE_K_V_MARKER = new e.AST(new ParseSpan(-1, -1), new e.AbsoluteSourceSpan(-1, -1));\n+const OUTSIDE_K_V_MARKER =\n+    new OutsideKeyValueMarkerAst(new ParseSpan(-1, -1), new e.AbsoluteSourceSpan(-1, -1));\n \n /**\n  * Return the template AST node or expression AST node that most accurately\n@@ -415,7 +426,7 @@ class ExpressionVisitor extends e.RecursiveAstVisitor {\n     super();\n   }\n \n-  visit(node: e.AST, path: Array<t.Node|e.AST>) {\n+  override visit(node: e.AST, path: Array<t.Node|e.AST>) {\n     if (node instanceof e.ASTWithSource) {\n       // In order to reduce noise, do not include `ASTWithSource` in the path.\n       // For the purpose of source spans, there is no difference between"
        },
        {
            "sha": "378d204f7639a0b1c8cf17befeb13358b7e7a2a0",
            "filename": "packages/language-service/src/completions.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Fcompletions.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Fcompletions.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Fcompletions.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -408,23 +408,23 @@ class ExpressionVisitor extends NullTemplateVisitor {\n     return Array.from(this.completions.values());\n   }\n \n-  visitDirectiveProperty(ast: BoundDirectivePropertyAst): void {\n+  override visitDirectiveProperty(ast: BoundDirectivePropertyAst): void {\n     this.processExpressionCompletions(ast.value);\n   }\n \n-  visitElementProperty(ast: BoundElementPropertyAst): void {\n+  override visitElementProperty(ast: BoundElementPropertyAst): void {\n     this.processExpressionCompletions(ast.value);\n   }\n \n-  visitEvent(ast: BoundEventAst): void {\n+  override visitEvent(ast: BoundEventAst): void {\n     this.processExpressionCompletions(ast.handler);\n   }\n \n-  visitElement(): void {\n+  override visitElement(): void {\n     // no-op for now\n   }\n \n-  visitAttr(ast: AttrAst) {\n+  override visitAttr(ast: AttrAst) {\n     const binding = getBindingDescriptor(ast.name);\n     if (binding && binding.kind === ATTR.KW_MICROSYNTAX) {\n       // This a template binding given by micro syntax expression.\n@@ -459,7 +459,7 @@ class ExpressionVisitor extends NullTemplateVisitor {\n     }\n   }\n \n-  visitReference(_ast: ReferenceAst, context: ElementAst) {\n+  override visitReference(_ast: ReferenceAst, context: ElementAst) {\n     context.directives.forEach(dir => {\n       const {exportAs} = dir.directive;\n       if (exportAs) {\n@@ -469,7 +469,7 @@ class ExpressionVisitor extends NullTemplateVisitor {\n     });\n   }\n \n-  visitBoundText(ast: BoundTextAst) {\n+  override visitBoundText(ast: BoundTextAst) {\n     if (inSpan(this.position, ast.value.sourceSpan)) {\n       const completions = getExpressionCompletions(\n           this.getExpressionScope(), ast.value, this.position, this.info.template);"
        },
        {
            "sha": "0327a7daa7af49163ce47ae759bf3e29d3e83f25",
            "filename": "packages/language-service/src/expression_diagnostics.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Fexpression_diagnostics.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Fexpression_diagnostics.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Fexpression_diagnostics.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -42,11 +42,11 @@ function getReferences(info: ng.DiagnosticTemplateInfo): SymbolDeclaration[] {\n   }\n \n   const visitor = new class extends RecursiveTemplateAstVisitor {\n-    visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n+    override visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n       super.visitEmbeddedTemplate(ast, context);\n       processReferences(ast.references);\n     }\n-    visitElement(ast: ElementAst, context: any): any {\n+    override visitElement(ast: ElementAst, context: any): any {\n       super.visitElement(ast, context);\n       processReferences(ast.references);\n     }\n@@ -257,38 +257,38 @@ class ExpressionDiagnosticsVisitor extends RecursiveTemplateAstVisitor {\n     this.path = new AstPath<TemplateAst>([]);\n   }\n \n-  visitDirective(ast: DirectiveAst, context: any): any {\n+  override visitDirective(ast: DirectiveAst, context: any): any {\n     // Override the default child visitor to ignore the host properties of a directive.\n     if (ast.inputs && ast.inputs.length) {\n       templateVisitAll(this, ast.inputs, context);\n     }\n   }\n \n-  visitBoundText(ast: BoundTextAst): void {\n+  override visitBoundText(ast: BoundTextAst): void {\n     this.push(ast);\n     this.diagnoseExpression(ast.value, ast.sourceSpan.start.offset, false);\n     this.pop();\n   }\n \n-  visitDirectiveProperty(ast: BoundDirectivePropertyAst): void {\n+  override visitDirectiveProperty(ast: BoundDirectivePropertyAst): void {\n     this.push(ast);\n     this.diagnoseExpression(ast.value, this.attributeValueLocation(ast), false);\n     this.pop();\n   }\n \n-  visitElementProperty(ast: BoundElementPropertyAst): void {\n+  override visitElementProperty(ast: BoundElementPropertyAst): void {\n     this.push(ast);\n     this.diagnoseExpression(ast.value, this.attributeValueLocation(ast), false);\n     this.pop();\n   }\n \n-  visitEvent(ast: BoundEventAst): void {\n+  override visitEvent(ast: BoundEventAst): void {\n     this.push(ast);\n     this.diagnoseExpression(ast.handler, this.attributeValueLocation(ast), true);\n     this.pop();\n   }\n \n-  visitVariable(ast: VariableAst): void {\n+  override visitVariable(ast: VariableAst): void {\n     const directive = this.directiveSummary;\n     if (directive && ast.value) {\n       const context = this.info.query.getTemplateContext(directive.type.reference)!;\n@@ -304,13 +304,13 @@ class ExpressionDiagnosticsVisitor extends RecursiveTemplateAstVisitor {\n     }\n   }\n \n-  visitElement(ast: ElementAst, context: any): void {\n+  override visitElement(ast: ElementAst, context: any): void {\n     this.push(ast);\n     super.visitElement(ast, context);\n     this.pop();\n   }\n \n-  visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n+  override visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n     const previousDirectiveSummary = this.directiveSummary;\n \n     this.push(ast);"
        },
        {
            "sha": "6f6ca46d836d0a2fad009edbe02293098071b9c5",
            "filename": "packages/language-service/src/expressions.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Fexpressions.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Fexpressions.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Fexpressions.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -17,7 +17,7 @@ type AstPath = AstPathBase<AST>;\n function findAstAt(ast: AST, position: number, excludeEmpty: boolean = false): AstPath {\n   const path: AST[] = [];\n   const visitor = new class extends RecursiveAstVisitor {\n-    visit(ast: AST) {\n+    override visit(ast: AST) {\n       if ((!excludeEmpty || ast.sourceSpan.start < ast.sourceSpan.end) &&\n           inSpan(position, ast.sourceSpan)) {\n         const isNotNarrower = path.length && !isNarrower(ast.span, path[path.length - 1].span);"
        },
        {
            "sha": "aa4d308b24f4bd331b1355c58baec68303319ed4",
            "filename": "packages/language-service/src/locate_symbol.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Flocate_symbol.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Flocate_symbol.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Flocate_symbol.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -258,28 +258,28 @@ function findParentOfBinding(\n       }\n     }\n \n-    visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n+    override visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n       return this.visitChildren(context, visit => {\n         visit(ast.directives);\n         visit(ast.children);\n       });\n     }\n \n-    visitElement(ast: ElementAst, context: any): any {\n+    override visitElement(ast: ElementAst, context: any): any {\n       return this.visitChildren(context, visit => {\n         visit(ast.directives);\n         visit(ast.children);\n       });\n     }\n \n-    visitDirective(ast: DirectiveAst) {\n+    override visitDirective(ast: DirectiveAst) {\n       const result = this.visitChildren(ast, visit => {\n         visit(ast.inputs);\n       });\n       return result;\n     }\n \n-    visitDirectiveProperty(ast: BoundDirectivePropertyAst, context: DirectiveAst) {\n+    override visitDirectiveProperty(ast: BoundDirectivePropertyAst, context: DirectiveAst) {\n       if (ast === binding) {\n         res = context;\n       }"
        },
        {
            "sha": "14b92d03f477dd7849bab8ee7039f7eca4c585b2",
            "filename": "packages/language-service/src/typescript_host.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Ftypescript_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Ftypescript_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Ftypescript_host.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -23,7 +23,7 @@ import {AstResult, Declaration, DeclarationError, DiagnosticMessageChain, Langua\n  * syntactically incorrect templates.\n  */\n export class DummyHtmlParser extends HtmlParser {\n-  parse(): ParseTreeResult {\n+  override parse(): ParseTreeResult {\n     return new ParseTreeResult([], []);\n   }\n }"
        },
        {
            "sha": "12f9eb0d9ef21701d44d7a3d1e8696037747fa19",
            "filename": "packages/language-service/src/typescript_symbols.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Ftypescript_symbols.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Ftypescript_symbols.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Ftypescript_symbols.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -351,7 +351,7 @@ class TypeWrapper implements Symbol {\n // If stringIndexType a primitive type(e.g. 'string'), the Symbol is undefined;\n // and in AstType.resolvePropertyRead method, the Symbol.type should get the right type.\n class StringIndexTypeWrapper extends TypeWrapper {\n-  public readonly type = new TypeWrapper(this.tsType, this.context);\n+  public override readonly type = new TypeWrapper(this.tsType, this.context);\n }\n \n class SymbolWrapper implements Symbol {"
        },
        {
            "sha": "5eddc26584c775d6705502fab1de8de68718e653",
            "filename": "packages/language-service/src/utils.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Futils.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Fsrc%2Futils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Futils.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -107,7 +107,7 @@ export function findTemplateAstAt(ast: TemplateAst[], position: number): Templat\n       }\n     }\n \n-    visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n+    override visitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n       return this.visitChildren(context, visit => {\n         // Ignore reference, variable and providers\n         visit(ast.attrs);\n@@ -116,7 +116,7 @@ export function findTemplateAstAt(ast: TemplateAst[], position: number): Templat\n       });\n     }\n \n-    visitElement(ast: ElementAst, context: any): any {\n+    override visitElement(ast: ElementAst, context: any): any {\n       return this.visitChildren(context, visit => {\n         // Ingnore providers\n         visit(ast.attrs);\n@@ -128,7 +128,7 @@ export function findTemplateAstAt(ast: TemplateAst[], position: number): Templat\n       });\n     }\n \n-    visitDirective(ast: DirectiveAst, context: any): any {\n+    override visitDirective(ast: DirectiveAst, context: any): any {\n       // Ignore the host properties of a directive\n       const result = this.visitChildren(context, visit => {\n         visit(ast.inputs);"
        },
        {
            "sha": "56611fce4766029eabd855b5bddb661f9d136adb",
            "filename": "packages/language-service/test/mocks.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Ftest%2Fmocks.ts",
            "raw_url": "https://github.com/angular/angular/raw/368576b045840aadd85413ddf90128b1d03d5b53/packages%2Flanguage-service%2Ftest%2Fmocks.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Ftest%2Fmocks.ts?ref=368576b045840aadd85413ddf90128b1d03d5b53",
            "patch": "@@ -180,7 +180,7 @@ export class DiagnosticContext {\n       };\n       const urlResolver = createOfflineCompileUrlResolver();\n       const htmlParser = new class extends HtmlParser {\n-        parse(): ParseTreeResult {\n+        override parse(): ParseTreeResult {\n           return new ParseTreeResult([], []);\n         }\n       };"
        }
    ],
    "stats": {
        "total": 71,
        "additions": 41,
        "deletions": 30
    }
}