{
    "author": "petebacondarwin",
    "message": "docs: move i18n angular.json snippets to external file (#43216)\n\nNote that because `angular.json` is a \"boilerplate\" file we cannot\njust add comments to the one that is actually used in the application.\n\nInstead this commit makes a copy, which is annotated with docregions.\nTo ensure that this file is not ignored by the example-collector, we had to\nupdate the `.gitignore` to not ignore this file. (This also allows the file to be\neasily stored tracked in git).\n\nPR Close #43216",
    "sha": "1986407ab5939a1450be0ddecaa436e9dfeec052",
    "files": [
        {
            "sha": "fb7aeb7aa79afa5bdb7c167ab4b0b8073eda26a8",
            "filename": "aio/content/examples/.gitignore",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fexamples%2F.gitignore",
            "raw_url": "https://github.com/angular/angular/raw/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fexamples%2F.gitignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2F.gitignore?ref=1986407ab5939a1450be0ddecaa436e9dfeec052",
            "patch": "@@ -56,6 +56,7 @@ dist/\n !systemjs.config.*.js\n !karma-test-shim.*.js\n !copy-dist-files.js\n+!i18n/angular.json\n \n # AngularJS files\n !**/*.ajs.js"
        },
        {
            "sha": "c3fd70f3d520e2e1efe3c712e94903dccc970372",
            "filename": "aio/content/examples/i18n/angular.json",
            "status": "added",
            "additions": 179,
            "deletions": 0,
            "changes": 179,
            "blob_url": "https://github.com/angular/angular/blob/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fexamples%2Fi18n%2Fangular.json",
            "raw_url": "https://github.com/angular/angular/raw/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fexamples%2Fi18n%2Fangular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fi18n%2Fangular.json?ref=1986407ab5939a1450be0ddecaa436e9dfeec052",
            "patch": "@@ -0,0 +1,179 @@\n+// #docplaster ...\n+{\n+  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n+  \"version\": 1,\n+  \"newProjectRoot\": \"projects\",\n+  // #docregion locale-config, i18n-baseHref\n+  \"projects\": {\n+    \"angular.io-example\": {\n+      // #enddocregion locale-config, i18n-baseHref\n+      \"projectType\": \"application\",\n+      \"schematics\": {\n+        \"@schematics/angular:application\": {\n+          \"strict\": true\n+        }\n+      },\n+      \"root\": \"\",\n+      \"sourceRoot\": \"src\",\n+      \"prefix\": \"app\",\n+      // #docregion locale-config, i18n-baseHref\n+      \"i18n\": {\n+        \"sourceLocale\": \"en-US\",\n+        \"locales\": {\n+          \"fr\": \"src/locale/messages.fr.xlf\",\n+          // #enddocregion locale-config\n+          \"baseHref\": \"\"\n+          // #docregion locale-config\n+        }\n+      },\n+      // #docregion build-production-french\n+      \"architect\": {\n+        // #enddocregion locale-config, i18n-baseHref\n+        // #docregion build-localize-true, build-single-locale, missing-translation-error\n+        \"build\": {\n+          // #enddocregion build-single-locale\n+          \"builder\": \"@angular-devkit/build-angular:browser\",\n+          \"options\": {\n+            // #enddocregion build-production-french, missing-translation-error\n+            \"localize\": true,\n+            // #enddocregion build-localize-true\n+            \"outputPath\": \"dist\",\n+            \"index\": \"src/index.html\",\n+            \"main\": \"src/main.ts\",\n+            \"polyfills\": \"src/polyfills.ts\",\n+            \"tsConfig\": \"tsconfig.app.json\",\n+            \"assets\": [\n+              \"src/favicon.ico\",\n+              \"src/assets\"\n+            ],\n+            \"styles\": [\n+              \"src/styles.css\"\n+            ],\n+            \"scripts\": [],\n+            // #docregion missing-translation-error\n+            \"i18nMissingTranslation\": \"error\"\n+            // #docregion build-localize-true, build-production-french\n+          },\n+          // #enddocregion build-localize-true, missing-translation-error\n+          // #docregion build-single-locale\n+          \"configurations\": {\n+            // #enddocregion build-single-locale, build-production-french\n+            \"production\": {\n+              \"budgets\": [\n+                {\n+                  \"type\": \"initial\",\n+                  \"maximumWarning\": \"500kb\",\n+                  \"maximumError\": \"1mb\"\n+                },\n+                {\n+                  \"type\": \"anyComponentStyle\",\n+                  \"maximumWarning\": \"2kb\",\n+                  \"maximumError\": \"4kb\"\n+                }\n+              ],\n+              \"fileReplacements\": [\n+                {\n+                  \"replace\": \"src/environments/environment.ts\",\n+                  \"with\": \"src/environments/environment.prod.ts\"\n+                }\n+              ],\n+              \"outputHashing\": \"all\"\n+            },\n+            \"development\": {\n+              \"buildOptimizer\": false,\n+              \"optimization\": false,\n+              \"vendorChunk\": true,\n+              \"extractLicenses\": false,\n+              \"sourceMap\": true,\n+              \"namedChunks\": true\n+            },\n+            // #docregion build-single-locale, build-production-french\n+            \"fr\": {\n+              \"localize\": [\n+                \"fr\"\n+              ]\n+            }\n+          },\n+          // #enddocregion build-single-locale, build-production-french\n+          \"defaultConfiguration\": \"production\"\n+          // #docregion build-single-locale, build-production-french\n+        },\n+        \"serve\": {\n+          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n+          \"configurations\": {\n+            // #enddocregion build-single-locale\n+            \"production\": {\n+              \"browserTarget\": \"angular.io-example:build:production\"\n+            },\n+            // #enddocregion build-production-french\n+            \"development\": {\n+              \"browserTarget\": \"angular.io-example:build:development\"\n+            },\n+            // #docregion build-single-locale, build-production-french\n+            \"fr\": {\n+              \"browserTarget\": \"angular.io-example:build:fr\"\n+            }\n+          },\n+          // #enddocregion build-single-locale, build-production-french\n+          \"defaultConfiguration\": \"development\"\n+          // #docregion build-single-locale, build-production-french\n+        },\n+        // #enddocregion build-single-locale, build-production-french\n+        \"extract-i18n\": {\n+          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n+          \"options\": {\n+            \"browserTarget\": \"angular.io-example:build\"\n+          }\n+        },\n+        \"test\": {\n+          \"builder\": \"@angular-devkit/build-angular:karma\",\n+          \"options\": {\n+            \"main\": \"src/test.ts\",\n+            \"polyfills\": \"src/polyfills.ts\",\n+            \"tsConfig\": \"tsconfig.spec.json\",\n+            \"karmaConfig\": \"karma.conf.js\",\n+            \"assets\": [\n+              \"src/favicon.ico\",\n+              \"src/assets\"\n+            ],\n+            \"styles\": [\n+              \"src/styles.css\"\n+            ],\n+            \"scripts\": []\n+          }\n+        },\n+        \"lint\": {\n+          \"builder\": \"@angular-devkit/build-angular:tslint\",\n+          \"options\": {\n+            \"tsConfig\": [\n+              \"tsconfig.app.json\",\n+              \"tsconfig.spec.json\",\n+              \"e2e/tsconfig.json\"\n+            ],\n+            \"exclude\": [\n+              \"**/node_modules/**\"\n+            ]\n+          }\n+        },\n+        \"e2e\": {\n+          \"builder\": \"@angular-devkit/build-angular:protractor\",\n+          \"options\": {\n+            \"protractorConfig\": \"e2e/protractor.conf.js\",\n+            \"devServerTarget\": \"angular.io-example:serve:fr\"\n+          },\n+          \"configurations\": {\n+            \"production\": {\n+              \"devServerTarget\": \"angular.io-example:serve:production\"\n+            }\n+          }\n+        }\n+        // #docregion locale-config, build-single-locale, build-production-french, i18n-baseHref\n+      }\n+      // #enddocregion build-single-locale, build-production-french\n+    }\n+  },\n+  // #enddocregion i18n-baseHref\n+  \"defaultProject\": \"angular.io-example\"\n+  // #docregion i18n-baseHref\n+}\n+// #enddocregion locale-config, i18n-baseHref"
        },
        {
            "sha": "97e95a90e30dc4aab849c5c4fd05287e3f46cb39",
            "filename": "aio/content/examples/i18n/example-config.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fexamples%2Fi18n%2Fexample-config.json",
            "raw_url": "https://github.com/angular/angular/raw/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fexamples%2Fi18n%2Fexample-config.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fi18n%2Fexample-config.json?ref=1986407ab5939a1450be0ddecaa436e9dfeec052",
            "patch": "@@ -1,5 +1,8 @@\n {\n   \"projectType\": \"i18n\",\n+  \"overrideBoilerplate\": [\n+    \"angular.json\"\n+  ],\n   \"tests\": [\n     {\n       \"cmd\": \"yarn\","
        },
        {
            "sha": "cb94b29b3c4896cece8d1bfcc1eba0ae2de5fa86",
            "filename": "aio/content/guide/i18n.md",
            "status": "modified",
            "additions": 6,
            "deletions": 107,
            "changes": 113,
            "blob_url": "https://github.com/angular/angular/blob/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fguide%2Fi18n.md",
            "raw_url": "https://github.com/angular/angular/raw/1986407ab5939a1450be0ddecaa436e9dfeec052/aio%2Fcontent%2Fguide%2Fi18n.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fi18n.md?ref=1986407ab5939a1450be0ddecaa436e9dfeec052",
            "patch": "@@ -633,24 +633,7 @@ The following sub-options identify the source language and tell the compiler whe\n \n For example, the following excerpt of an `angular.json` file sets the source locale to `en-US` and provides the path to the `fr` (French) locale translation file:\n \n-<code-example language=\"json\" header=\"angular.json\">\n-...\n-\"projects\": {\n-    \"my-project\": {\n-        ...\n-        \"i18n\": {\n-            \"sourceLocale\": \"en-US\",\n-            \"locales\": {\n-                \"fr\": \"src/locale/messages.fr.xlf\"\n-            }\n-        },\n-        \"architect\": {\n-            ...\n-        },\n-        ...\n-    }\n-}\n-</code-example>\n+<code-example language=\"json\" header=\"angular.json\" path=\"i18n/angular.json\" region=\"locale-config\"></code-example>\n \n <!-- section break -->\n \n@@ -674,17 +657,7 @@ If you changed this setting, set `\"aot\"` to `true` in order to use AOT.\n \n The following example displays the `\"localize\"` option set to `true` in `angular.json`, so that all locales defined in the build configuration are built.\n \n-<code-example language=\"json\" header=\"angular.json\">\n-\"build\": {\n-    \"builder\": \"@angular-devkit/build-angular:browser\",\n-    \"options\": {\n-        \"localize\": true,\n-        \"aot\": true,\n-        ...\n-    }\n-    ...\n-}\n-</code-example>\n+<code-example language=\"json\" header=\"angular.json\" path=\"i18n/angular.json\" region=\"build-localize-true\"></code-example>\n \n <div class=\"alert is-helpful\">\n \n@@ -724,28 +697,7 @@ For more information about how to set the locales, see [Generate application ver\n To apply specific build options to only one locale, specify a single locale to create a custom locale-specific configuration.\n The following example displays a custom locale-specific configuration using a single locale.\n \n-<code-example language=\"json\" header=\"angular.json\">\n-\"build\": {\n-    ...\n-    \"configurations\": {\n-        ...\n-        \"fr\": {\n-            \"localize\": [\"fr\"],\n-            \"main\": \"src/main.fr.ts\",\n-            ...\n-        }\n-    }\n-},\n-\"serve\": {\n-    ...\n-    \"configurations\": {\n-        ...\n-        \"fr\": {\n-            \"browserTarget\": \"*project-name*:build:fr\"\n-        }\n-    }\n-}\n-</code-example>\n+<code-example language=\"json\" header=\"angular.json\" path=\"i18n/angular.json\" region=\"build-single-locale\"></code-example>\n \n Pass this configuration to the `ng serve` or `ng build` commands.\n The following code example displays how to serve the French language file.\n@@ -762,35 +714,7 @@ For production builds, use configuration composition to run both configurations.\n \n <code-example path=\"i18n/doc-files/commands.sh\" region=\"build-production-french\" language=\"sh\"></code-example>\n \n-<code-example language=\"json\" header=\"angular.json\">\n-...\n-\"architect\": {\n-    \"build\": {\n-        \"builder\": \"@angular-devkit/build-angular:browser\",\n-        \"options\": { ... },\n-        \"configurations\": {\n-            \"fr\": {\n-                \"localize\": [\"fr\"],\n-            }\n-        }\n-    },\n-    ...\n-    \"serve\": {\n-        \"builder\": \"@angular-devkit/build-angular:dev-server\",\n-        \"options\": {\n-            \"browserTarget\": \"my-project:build\"\n-        },\n-        \"configurations\": {\n-            \"production\": {\n-                \"browserTarget\": \"my-project:build:production\"\n-            },\n-            \"fr\": {\n-                \"browserTarget\": \"my-project:build:fr\"\n-            }\n-        }\n-    }\n-}\n-</code-example>\n+<code-example language=\"json\" header=\"angular.json\" path=\"i18n/angular.json\" region=\"build-production-french\" ></code-example>\n \n <!-- section break -->\n \n@@ -810,12 +734,7 @@ To configure the level of warning that is generated by the Angular compiler, spe\n Specify the warning level in the `options` section for the `build` target of your Angular CLI configuration file (`angular.json`).\n The following example displays how to set the warning level to `error`.\n \n-<code-example language=\"json\" header=\"angular.json\">\n-\"options\": {\n-    ...\n-    \"i18nMissingTranslation\": \"error\"\n-}\n-</code-example>\n+<code-example language=\"json\" header=\"angular.json\" path=\"i18n/angular.json\" region=\"missing-translation-error\" ></code-example>\n \n <!-- section break -->\n \n@@ -831,27 +750,7 @@ To adjust the base `href` for each version of the application, the CLI adds the\n Specify the `\"baseHref\"` for each locale in your workspace configuration file (`angular.json`).\n The following example displays `\"baseHref\"` set to an empty string.\n \n-<code-example language=\"json\" header=\"angular.json\">\n-...\n-\"projects\": {\n-    \"angular.io-example\": {\n-        ...\n-        \"i18n\": {\n-            \"sourceLocale\": \"en-US\",\n-            \"locales\": {\n-                \"fr\": {\n-                    \"translation\": \"src/locale/messages.fr.xlf\",\n-                    \"baseHref\": \"\"\n-                }\n-            }\n-        },\n-        \"architect\": {\n-            ...\n-        }\n-    ...\n-    }\n-}\n-</code-example>\n+<code-example language=\"json\" header=\"angular.json\" path=\"i18n/angular.json\" region=\"i18n-baseHref\" ></code-example>\n \n Also, to declare the base `href` at compile time, use the CLI `--baseHref` option with [`ng build`][AioCliBuild].\n "
        }
    ],
    "stats": {
        "total": 296,
        "additions": 189,
        "deletions": 107
    }
}