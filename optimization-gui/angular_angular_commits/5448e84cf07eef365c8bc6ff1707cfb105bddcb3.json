{
    "author": "mhevery",
    "message": "refactor(core): renamed `previousOrParent` to `currentTNode` (#38707)\n\nThe previous name of `previousOrParent` was confusing. Changed the\nterminology to `currentTNode`.\n\nPR Close #38707",
    "sha": "5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
    "files": [
        {
            "sha": "67822c2e0e931475abbf14f536546fb40b06a901",
            "filename": "packages/core/src/render3/assert.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 13,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fassert.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fassert.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fassert.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -6,15 +6,14 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import { assertDefined, assertEqual, assertNumber, throwError } from '../util/assert';\n-import { getComponentDef, getNgModuleDef } from './definition';\n-import { LContainer } from './interfaces/container';\n-import { DirectiveDef } from './interfaces/definition';\n-import { PARENT_INJECTOR } from './interfaces/injector';\n-import { TNode } from './interfaces/node';\n-import { isLContainer, isLView } from './interfaces/type_checks';\n-import { HEADER_OFFSET, LView, TVIEW, TView } from './interfaces/view';\n-\n+import {assertDefined, assertEqual, assertNumber, throwError} from '../util/assert';\n+import {getComponentDef, getNgModuleDef} from './definition';\n+import {LContainer} from './interfaces/container';\n+import {DirectiveDef} from './interfaces/definition';\n+import {PARENT_INJECTOR} from './interfaces/injector';\n+import {TNode} from './interfaces/node';\n+import {isLContainer, isLView} from './interfaces/type_checks';\n+import {HEADER_OFFSET, LView, TVIEW, TView} from './interfaces/view';\n \n \n // [Assert functions do not constraint type when they are guarded by a truthy\n@@ -49,13 +48,13 @@ export function assertNgModuleType(\n   }\n }\n \n-export function assertPreviousIsParent(isParent: boolean) {\n-  assertEqual(isParent, true, 'previousOrParentTNode should be a parent');\n+export function assertCurrentTNodeIsParent(isParent: boolean) {\n+  assertEqual(isParent, true, 'currentTNode should be a parent');\n }\n \n export function assertHasParent(tNode: TNode|null) {\n-  assertDefined(tNode, 'previousOrParentTNode should exist!');\n-  assertDefined(tNode!.parent, 'previousOrParentTNode should have a parent');\n+  assertDefined(tNode, 'currentTNode should exist!');\n+  assertDefined(tNode!.parent, 'currentTNode should have a parent');\n }\n \n export function assertDataNext(lView: LView, index: number, arr?: any[]) {"
        },
        {
            "sha": "f532f3f0869690ac787bfdf26b34dc40119cf87a",
            "filename": "packages/core/src/render3/component.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fcomponent.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -11,7 +11,7 @@\n import {Type} from '../core';\n import {Injector} from '../di/injector';\n import {Sanitizer} from '../sanitization/sanitizer';\n-import {assertIndexInRange} from '../util/assert';\n+import {assertDefined, assertIndexInRange} from '../util/assert';\n \n import {assertComponentType} from './assert';\n import {getComponentDef} from './definition';\n@@ -24,7 +24,7 @@ import {PlayerHandler} from './interfaces/player';\n import {domRendererFactory3, RElement, Renderer3, RendererFactory3} from './interfaces/renderer';\n import {CONTEXT, HEADER_OFFSET, LView, LViewFlags, RootContext, RootContextFlags, TVIEW, TViewType} from './interfaces/view';\n import {writeDirectClass, writeDirectStyle} from './node_manipulation';\n-import {enterView, getPreviousOrParentTNode, leaveView, setSelectedIndex} from './state';\n+import {enterView, getCurrentTNode, leaveView, setSelectedIndex} from './state';\n import {computeStaticStyling} from './styling/static_styling';\n import {setUpAttributes} from './util/attrs_utils';\n import {publishDefaultGlobalUtils} from './util/global_utils';\n@@ -229,7 +229,8 @@ export function createRootComponent<T>(\n     componentDef.contentQueries(RenderFlags.Create, component, rootLView.length - 1);\n   }\n \n-  const rootTNode = getPreviousOrParentTNode()!;\n+  const rootTNode = getCurrentTNode()!;\n+  ngDevMode && assertDefined(rootTNode, 'tNode should have been already created');\n   if (tView.firstCreatePass &&\n       (componentDef.hostBindings !== null || componentDef.hostAttrs !== null)) {\n     const elementIndex = rootTNode.index - HEADER_OFFSET;"
        },
        {
            "sha": "0791a67c5580355c886f00cfe173e1a8b25ece5f",
            "filename": "packages/core/src/render3/di_setup.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fdi_setup.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fdi_setup.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fdi_setup.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -19,7 +19,7 @@ import {NodeInjectorFactory} from './interfaces/injector';\n import {TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode, TNodeProviderIndexes} from './interfaces/node';\n import {isComponentDef} from './interfaces/type_checks';\n import {DestroyHookData, LView, TData, TVIEW, TView} from './interfaces/view';\n-import {getLView, getPreviousOrParentTNode, getTView} from './state';\n+import {getCurrentTNode, getLView, getTView} from './state';\n \n \n \n@@ -76,7 +76,7 @@ function resolveProvider(\n     let token: any = isTypeProvider(provider) ? provider : resolveForwardRef(provider.provide);\n     let providerFactory: () => any = providerToFactory(provider);\n \n-    const tNode = getPreviousOrParentTNode()!;\n+    const tNode = getCurrentTNode()!;\n     const beginIndex = tNode.providerIndexes & TNodeProviderIndexes.ProvidersStartIndexMask;\n     const endIndex = tNode.directiveStart;\n     const cptViewProvidersCount ="
        },
        {
            "sha": "fa4a44f100b6b24655474bf5c6d4faa66852a302",
            "filename": "packages/core/src/render3/i18n/i18n_apply.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 10,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_apply.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -18,9 +18,10 @@ import {SanitizerFn} from '../interfaces/sanitization';\n import {isLContainer} from '../interfaces/type_checks';\n import {HEADER_OFFSET, LView, RENDERER, T_HOST, TView} from '../interfaces/view';\n import {appendChild, applyProjection, createTextNode, nativeRemoveNode} from '../node_manipulation';\n-import {getBindingIndex, getLView, getPreviousOrParentTNode, getTView, setIsNotParent, setPreviousOrParentTNode} from '../state';\n+import {getBindingIndex, getCurrentTNode, getLView, getTView, setCurrentTNode, setCurrentTNodeAsNotParent} from '../state';\n import {renderStringify} from '../util/misc_utils';\n import {getNativeByIndex, getNativeByTNode, getTNode, load} from '../util/view_utils';\n+\n import {getLocaleId} from './i18n_locale_id';\n \n \n@@ -90,7 +91,7 @@ export function applyCreateOpCodes(\n       currentTNode =\n           createDynamicNodeAtIndex(tView, lView, textNodeIndex, TNodeType.Element, textRNode, null);\n       visitedNodes.push(textNodeIndex);\n-      setIsNotParent();\n+      setCurrentTNodeAsNotParent();\n     } else if (typeof opCode == 'number') {\n       switch (opCode & I18nMutateOpCode.MASK_INSTRUCTION) {\n         case I18nMutateOpCode.AppendChild:\n@@ -120,13 +121,13 @@ export function applyCreateOpCodes(\n           previousTNode = currentTNode;\n           currentTNode = getTNode(tView, nodeIndex);\n           if (currentTNode) {\n-            setPreviousOrParentTNode(currentTNode, isParent);\n+            setCurrentTNode(currentTNode, isParent);\n           }\n           break;\n         case I18nMutateOpCode.ElementEnd:\n           const elementIndex = opCode >>> I18nMutateOpCode.SHIFT_REF;\n           previousTNode = currentTNode = getTNode(tView, elementIndex);\n-          setPreviousOrParentTNode(currentTNode, false);\n+          setCurrentTNode(currentTNode, false);\n           break;\n         case I18nMutateOpCode.Attr:\n           const elementNodeIndex = opCode >>> I18nMutateOpCode.SHIFT_REF;\n@@ -157,7 +158,7 @@ export function applyCreateOpCodes(\n           visitedNodes.push(commentNodeIndex);\n           attachPatchData(commentRNode, lView);\n           // We will add the case nodes later, during the update phase\n-          setIsNotParent();\n+          setCurrentTNodeAsNotParent();\n           break;\n         case ELEMENT_MARKER:\n           const tagNameValue = createOpCodes[++i] as string;\n@@ -179,7 +180,7 @@ export function applyCreateOpCodes(\n     }\n   }\n \n-  setIsNotParent();\n+  setCurrentTNodeAsNotParent();\n \n   return visitedNodes;\n }\n@@ -411,7 +412,7 @@ export function i18nEndFirstPass(tView: TView, lView: LView) {\n   ngDevMode && assertDefined(tI18n, `You should call i18nStart before i18nEnd`);\n \n   // Find the last node that was added before `i18nEnd`\n-  const lastCreatedNode = getPreviousOrParentTNode();\n+  const lastCreatedNode = getCurrentTNode();\n \n   // Read the instructions to insert/move/remove DOM elements\n   const visitedNodes = applyCreateOpCodes(tView, rootIndex, tI18n.create, lView);\n@@ -465,16 +466,16 @@ function removeNode(tView: TView, lView: LView, index: number, markAsDetached: b\n function createDynamicNodeAtIndex(\n     tView: TView, lView: LView, index: number, type: TNodeType, native: RElement|RText|null,\n     name: string|null): TElementNode|TIcuContainerNode {\n-  const previousOrParentTNode = getPreviousOrParentTNode();\n+  const currentTNode = getCurrentTNode();\n   ngDevMode && assertIndexInRange(lView, index + HEADER_OFFSET);\n   lView[index + HEADER_OFFSET] = native;\n   // FIXME(misko): Why does this create A TNode??? I would not expect this to be here.\n   const tNode = getOrCreateTNode(tView, index, type as any, name, null);\n \n   // We are creating a dynamic node, the previous tNode might not be pointing at this node.\n   // We will link ourselves into the tree later with `appendI18nNode`.\n-  if (previousOrParentTNode && previousOrParentTNode.next === tNode) {\n-    previousOrParentTNode.next = null;\n+  if (currentTNode && currentTNode.next === tNode) {\n+    currentTNode.next = null;\n   }\n \n   return tNode;"
        },
        {
            "sha": "df7ee78a316f3b8dd94d90e7144dd5617c29114f",
            "filename": "packages/core/src/render3/i18n/i18n_debug.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_debug.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_debug.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_debug.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -100,7 +100,7 @@ export function i18nMutateOpCodesToString(\n         return `(lView[${ref}] as Element).setAttribute(\"${parser.consumeString()}\", \"${\n             parser.consumeString()}\")`;\n       case I18nMutateOpCode.ElementEnd:\n-        return `setPreviousOrParentTNode(tView.data[${ref}] as TNode)`;\n+        return `setCurrentTNode(tView.data[${ref}] as TNode)`;\n       case I18nMutateOpCode.RemoveNestedIcu:\n         return `removeNestedICU(${ref})`;\n     }"
        },
        {
            "sha": "57f357dfcc5f58ba78ed4421e2b10ef1336add1b",
            "filename": "packages/core/src/render3/i18n/i18n_parse.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_parse.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_parse.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fi18n%2Fi18n_parse.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -20,7 +20,7 @@ import {TNodeType} from '../interfaces/node';\n import {RComment, RElement} from '../interfaces/renderer';\n import {SanitizerFn} from '../interfaces/sanitization';\n import {HEADER_OFFSET, LView, T_HOST, TView} from '../interfaces/view';\n-import {getIsParent, getPreviousOrParentTNode} from '../state';\n+import {getCurrentTNode, isCurrentTNodeParent} from '../state';\n import {attachDebugGetter} from '../util/debug_utils';\n import {getNativeByIndex, getTNode} from '../util/view_utils';\n \n@@ -70,9 +70,8 @@ export function i18nStartFirstPass(\n     lView: LView, tView: TView, index: number, message: string, subTemplateIndex?: number) {\n   const startIndex = tView.blueprint.length - HEADER_OFFSET;\n   i18nVarsCount = 0;\n-  const previousOrParentTNode = getPreviousOrParentTNode()!;\n-  const parentTNode =\n-      getIsParent() ? previousOrParentTNode : previousOrParentTNode && previousOrParentTNode.parent;\n+  const currentTNode = getCurrentTNode()!;\n+  const parentTNode = isCurrentTNodeParent() ? currentTNode : currentTNode && currentTNode.parent;\n   let parentIndex =\n       parentTNode && parentTNode !== lView[T_HOST] ? parentTNode.index - HEADER_OFFSET : index;\n   let parentIndexPointer = 0;\n@@ -86,11 +85,11 @@ export function i18nStartFirstPass(\n   // keep track whether an element was a parent node or not, so that the logic that consumes\n   // the generated `I18nMutateOpCode`s can leverage this information to properly set TNode state\n   // (whether it's a parent or sibling).\n-  if (index > 0 && previousOrParentTNode !== parentTNode) {\n-    let previousTNodeIndex = previousOrParentTNode.index - HEADER_OFFSET;\n+  if (index > 0 && currentTNode !== parentTNode) {\n+    let previousTNodeIndex = currentTNode.index - HEADER_OFFSET;\n     // If current TNode is a sibling node, encode it using a negative index. This information is\n     // required when the `Select` action is processed (see the `readCreateOpCodes` function).\n-    if (!getIsParent()) {\n+    if (!isCurrentTNodeParent()) {\n       previousTNodeIndex = ~previousTNodeIndex;\n     }\n     // Create an OpCode to select the previous TNode\n@@ -212,7 +211,7 @@ export function i18nStartFirstPass(\n  */\n export function i18nAttributesFirstPass(\n     lView: LView, tView: TView, index: number, values: string[]) {\n-  const previousElement = getPreviousOrParentTNode()!;\n+  const previousElement = getCurrentTNode()!;\n   const previousElementIndex = previousElement.index - HEADER_OFFSET;\n   const updateOpCodes: I18nUpdateOpCodes = [];\n   if (ngDevMode) {"
        },
        {
            "sha": "1868e1868c56a7b8abb38843850914bafe082b17",
            "filename": "packages/core/src/render3/instructions/di.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fdi.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -10,7 +10,7 @@ import {assertInjectImplementationNot, ɵɵinject} from '../../di/injector_compa\n import {Type} from '../../interface/type';\n import {getOrCreateInjectable, injectAttributeImpl} from '../di';\n import {TDirectiveHostNode} from '../interfaces/node';\n-import {getLView, getPreviousOrParentTNode} from '../state';\n+import {getCurrentTNode, getLView} from '../state';\n \n /**\n  * Returns the value associated to the given token from the injectors.\n@@ -48,7 +48,7 @@ export function ɵɵdirectiveInject<T>(\n     ngDevMode && assertInjectImplementationNot(ɵɵdirectiveInject);\n     return ɵɵinject(token, flags);\n   }\n-  const tNode = getPreviousOrParentTNode();\n+  const tNode = getCurrentTNode();\n   return getOrCreateInjectable<T>(\n       tNode as TDirectiveHostNode, lView, resolveForwardRef(token), flags);\n }\n@@ -59,7 +59,7 @@ export function ɵɵdirectiveInject<T>(\n  * @codeGenApi\n  */\n export function ɵɵinjectAttribute(attrNameToInject: string): string|null {\n-  return injectAttributeImpl(getPreviousOrParentTNode()!, attrNameToInject);\n+  return injectAttributeImpl(getCurrentTNode()!, attrNameToInject);\n }\n \n /**"
        },
        {
            "sha": "19ac9f650edbb81c28afb03765e5eb95d0cd0f89",
            "filename": "packages/core/src/render3/instructions/element.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 13,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -16,7 +16,7 @@ import {isContentQueryHost, isDirectiveHost} from '../interfaces/type_checks';\n import {HEADER_OFFSET, LView, RENDERER, T_HOST, TVIEW, TView} from '../interfaces/view';\n import {assertNodeType} from '../node_assert';\n import {appendChild, writeDirectClass, writeDirectStyle} from '../node_manipulation';\n-import {decreaseElementDepthCount, getBindingIndex, getElementDepthCount, getIsParent, getLView, getNamespace, getPreviousOrParentTNode, getTView, increaseElementDepthCount, setIsNotParent, setPreviousOrParentTNode} from '../state';\n+import {decreaseElementDepthCount, getBindingIndex, getCurrentTNode, getElementDepthCount, getLView, getNamespace, getTView, increaseElementDepthCount, isCurrentTNodeParent, setCurrentTNode, setCurrentTNodeAsNotParent} from '../state';\n import {computeStaticStyling} from '../styling/static_styling';\n import {setUpAttributes} from '../util/attrs_utils';\n import {getConstant} from '../util/view_utils';\n@@ -87,7 +87,7 @@ export function ɵɵelementStart(\n   const tNode = tView.firstCreatePass ?\n       elementStartFirstCreatePass(index, tView, lView, native, name, attrsIndex, localRefsIndex) :\n       tView.data[adjustedIndex] as TElementNode;\n-  setPreviousOrParentTNode(tNode, true);\n+  setCurrentTNode(tNode, true);\n \n   const mergedAttrs = tNode.mergedAttrs;\n   if (mergedAttrs !== null) {\n@@ -128,27 +128,27 @@ export function ɵɵelementStart(\n  * @codeGenApi\n  */\n export function ɵɵelementEnd(): void {\n-  let previousOrParentTNode = getPreviousOrParentTNode()!;\n-  ngDevMode && assertDefined(previousOrParentTNode, 'No parent node to close.');\n-  if (getIsParent()) {\n-    setIsNotParent();\n+  let currentTNode = getCurrentTNode()!;\n+  ngDevMode && assertDefined(currentTNode, 'No parent node to close.');\n+  if (isCurrentTNodeParent()) {\n+    setCurrentTNodeAsNotParent();\n   } else {\n-    ngDevMode && assertHasParent(getPreviousOrParentTNode());\n-    previousOrParentTNode = previousOrParentTNode.parent!;\n-    setPreviousOrParentTNode(previousOrParentTNode, false);\n+    ngDevMode && assertHasParent(getCurrentTNode());\n+    currentTNode = currentTNode.parent!;\n+    setCurrentTNode(currentTNode, false);\n   }\n \n-  const tNode = previousOrParentTNode;\n+  const tNode = currentTNode;\n   ngDevMode && assertNodeType(tNode, TNodeType.Element);\n \n \n   decreaseElementDepthCount();\n \n   const tView = getTView();\n   if (tView.firstCreatePass) {\n-    registerPostOrderHooks(tView, previousOrParentTNode);\n-    if (isContentQueryHost(previousOrParentTNode)) {\n-      tView.queries!.elementEnd(previousOrParentTNode);\n+    registerPostOrderHooks(tView, currentTNode);\n+    if (isContentQueryHost(currentTNode)) {\n+      tView.queries!.elementEnd(currentTNode);\n     }\n   }\n "
        },
        {
            "sha": "5a39cea605473dfd2245e3d1a4a8e210271453c2",
            "filename": "packages/core/src/render3/instructions/element_container.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Felement_container.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -14,7 +14,7 @@ import {isContentQueryHost, isDirectiveHost} from '../interfaces/type_checks';\n import {HEADER_OFFSET, LView, RENDERER, T_HOST, TView} from '../interfaces/view';\n import {assertNodeType} from '../node_assert';\n import {appendChild} from '../node_manipulation';\n-import {getBindingIndex, getIsParent, getLView, getPreviousOrParentTNode, getTView, setIsNotParent, setPreviousOrParentTNode} from '../state';\n+import {getBindingIndex, getCurrentTNode, getLView, getTView, isCurrentTNodeParent, setCurrentTNode, setCurrentTNodeAsNotParent} from '../state';\n import {computeStaticStyling} from '../styling/static_styling';\n import {getConstant} from '../util/view_utils';\n \n@@ -74,7 +74,7 @@ export function ɵɵelementContainerStart(\n   const tNode = tView.firstCreatePass ?\n       elementContainerStartFirstCreatePass(index, tView, lView, attrsIndex, localRefsIndex) :\n       tView.data[adjustedIndex] as TElementContainerNode;\n-  setPreviousOrParentTNode(tNode, true);\n+  setCurrentTNode(tNode, true);\n \n   ngDevMode && ngDevMode.rendererCreateComment++;\n   const native = lView[adjustedIndex] =\n@@ -98,22 +98,22 @@ export function ɵɵelementContainerStart(\n  * @codeGenApi\n  */\n export function ɵɵelementContainerEnd(): void {\n-  let previousOrParentTNode = getPreviousOrParentTNode()!;\n+  let currentTNode = getCurrentTNode()!;\n   const tView = getTView();\n-  if (getIsParent()) {\n-    setIsNotParent();\n+  if (isCurrentTNodeParent()) {\n+    setCurrentTNodeAsNotParent();\n   } else {\n-    ngDevMode && assertHasParent(previousOrParentTNode);\n-    previousOrParentTNode = previousOrParentTNode.parent!;\n-    setPreviousOrParentTNode(previousOrParentTNode, false);\n+    ngDevMode && assertHasParent(currentTNode);\n+    currentTNode = currentTNode.parent!;\n+    setCurrentTNode(currentTNode, false);\n   }\n \n-  ngDevMode && assertNodeType(previousOrParentTNode, TNodeType.ElementContainer);\n+  ngDevMode && assertNodeType(currentTNode, TNodeType.ElementContainer);\n \n   if (tView.firstCreatePass) {\n-    registerPostOrderHooks(tView, previousOrParentTNode);\n-    if (isContentQueryHost(previousOrParentTNode)) {\n-      tView.queries!.elementEnd(previousOrParentTNode);\n+    registerPostOrderHooks(tView, currentTNode);\n+    if (isContentQueryHost(currentTNode)) {\n+      tView.queries!.elementEnd(currentTNode);\n     }\n   }\n }"
        },
        {
            "sha": "fece61a0b9c46f3786e9437f5fcec5275881b53b",
            "filename": "packages/core/src/render3/instructions/listener.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Flistener.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -15,7 +15,7 @@ import {GlobalTargetResolver, isProceduralRenderer, RElement, Renderer3} from '.\n import {isDirectiveHost} from '../interfaces/type_checks';\n import {CLEANUP, FLAGS, LView, LViewFlags, RENDERER, TView} from '../interfaces/view';\n import {assertNodeOfPossibleTypes} from '../node_assert';\n-import {getCurrentDirectiveDef, getLView, getPreviousOrParentTNode, getTView} from '../state';\n+import {getCurrentDirectiveDef, getCurrentTNode, getLView, getTView} from '../state';\n import {getComponentLViewByIndex, getNativeByTNode, unwrapRNode} from '../util/view_utils';\n \n import {getLCleanup, handleError, loadComponentRenderer, markViewDirty} from './shared';\n@@ -41,7 +41,7 @@ export function ɵɵlistener(\n     eventTargetResolver?: GlobalTargetResolver): typeof ɵɵlistener {\n   const lView = getLView();\n   const tView = getTView();\n-  const tNode = getPreviousOrParentTNode()!;\n+  const tNode = getCurrentTNode()!;\n   listenerInternal(\n       tView, lView, lView[RENDERER], tNode, eventName, listenerFn, useCapture, eventTargetResolver);\n   return ɵɵlistener;\n@@ -71,7 +71,7 @@ export function ɵɵlistener(\n export function ɵɵsyntheticHostListener(\n     eventName: string, listenerFn: (e?: any) => any, useCapture = false,\n     eventTargetResolver?: GlobalTargetResolver): typeof ɵɵsyntheticHostListener {\n-  const tNode = getPreviousOrParentTNode()!;\n+  const tNode = getCurrentTNode()!;\n   const lView = getLView();\n   const tView = getTView();\n   const currentDef = getCurrentDirectiveDef(tView.data);"
        },
        {
            "sha": "4c82c4c103d971167b9772393ad6dfe6d2083e3a",
            "filename": "packages/core/src/render3/instructions/projection.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fprojection.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fprojection.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fprojection.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -11,7 +11,7 @@ import {ProjectionSlots} from '../interfaces/projection';\n import {DECLARATION_COMPONENT_VIEW, T_HOST} from '../interfaces/view';\n import {applyProjection} from '../node_manipulation';\n import {getProjectAsAttrValue, isNodeMatchingSelectorList, isSelectorInSelectorList} from '../node_selector_matcher';\n-import {getLView, getTView, setIsNotParent} from '../state';\n+import {getLView, getTView, setCurrentTNodeAsNotParent} from '../state';\n import {getOrCreateTNode} from './shared';\n \n \n@@ -131,7 +131,7 @@ export function ɵɵprojection(\n   if (tProjectionNode.projection === null) tProjectionNode.projection = selectorIndex;\n \n   // `<ng-content>` has no content\n-  setIsNotParent();\n+  setCurrentTNodeAsNotParent();\n \n   // We might need to delay the projection of nodes if they are in the middle of an i18n block\n   if (!delayProjection) {"
        },
        {
            "sha": "20b9b245c81a4b1844745d241d0f80eaa7e03326",
            "filename": "packages/core/src/render3/instructions/shared.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Fshared.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -33,7 +33,7 @@ import {isComponentDef, isComponentHost, isContentQueryHost, isLContainer, isRoo\n import {CHILD_HEAD, CHILD_TAIL, CLEANUP, CONTEXT, DECLARATION_COMPONENT_VIEW, DECLARATION_VIEW, FLAGS, HEADER_OFFSET, HOST, InitPhaseState, INJECTOR, LView, LViewFlags, NEXT, PARENT, RENDERER, RENDERER_FACTORY, RootContext, RootContextFlags, SANITIZER, T_HOST, TData, TRANSPLANTED_VIEWS_TO_REFRESH, TVIEW, TView, TViewType} from '../interfaces/view';\n import {assertNodeNotOfTypes, assertNodeOfPossibleTypes} from '../node_assert';\n import {isInlineTemplate, isNodeMatchingSelectorList} from '../node_selector_matcher';\n-import {enterView, getBindingsEnabled, getCheckNoChangesMode, getCurrentDirectiveIndex, getIsParent, getPreviousOrParentTNode, getSelectedIndex, leaveView, setBindingIndex, setBindingRootForHostBindings, setCheckNoChangesMode, setCurrentDirectiveIndex, setCurrentQueryIndex, setPreviousOrParentTNode, setSelectedIndex} from '../state';\n+import {enterView, getBindingsEnabled, getCheckNoChangesMode, getCurrentDirectiveIndex, getCurrentTNode, getSelectedIndex, isCurrentTNodeParent, leaveView, setBindingIndex, setBindingRootForHostBindings, setCheckNoChangesMode, setCurrentDirectiveIndex, setCurrentQueryIndex, setCurrentTNode, setSelectedIndex} from '../state';\n import {NO_CHANGE} from '../tokens';\n import {isAnimationProp, mergeHostAttrs} from '../util/attrs_utils';\n import {INTERPOLATION_DELIMITER, renderStringify, stringifyForError} from '../util/misc_utils';\n@@ -232,18 +232,17 @@ export function getOrCreateTNode(\n   const adjustedIndex = index + HEADER_OFFSET;\n   const tNode = tView.data[adjustedIndex] as TNode ||\n       createTNodeAtIndex(tView, adjustedIndex, type, name, attrs);\n-  setPreviousOrParentTNode(tNode, true);\n+  setCurrentTNode(tNode, true);\n   return tNode as TElementNode & TContainerNode & TElementContainerNode & TProjectionNode &\n       TIcuContainerNode;\n }\n \n function createTNodeAtIndex(\n     tView: TView, adjustedIndex: number, type: TNodeType, name: string|null,\n     attrs: TAttributes|null) {\n-  const previousOrParentTNode = getPreviousOrParentTNode();\n-  const isParent = getIsParent();\n-  const parent =\n-      isParent ? previousOrParentTNode : previousOrParentTNode && previousOrParentTNode.parent;\n+  const currentTNode = getCurrentTNode();\n+  const isParent = isCurrentTNodeParent();\n+  const parent = isParent ? currentTNode : currentTNode && currentTNode.parent;\n   // Parents cannot cross component boundaries because components will be used in multiple places.\n   const tNode = tView.data[adjustedIndex] =\n       createTNode(tView, parent as TElementNode | TContainerNode, type, adjustedIndex, name, attrs);\n@@ -253,12 +252,12 @@ function createTNodeAtIndex(\n   if (tView.firstChild === null) {\n     tView.firstChild = tNode;\n   }\n-  if (previousOrParentTNode) {\n-    if (isParent && previousOrParentTNode.child == null && tNode.parent !== null) {\n+  if (currentTNode !== null) {\n+    if (isParent && currentTNode.child == null && tNode.parent !== null) {\n       // We are in the same view, which means we are adding content node to the parent view.\n-      previousOrParentTNode.child = tNode;\n+      currentTNode.child = tNode;\n     } else if (!isParent) {\n-      previousOrParentTNode.next = tNode;\n+      currentTNode.next = tNode;\n     }\n   }\n   return tNode;\n@@ -1125,7 +1124,7 @@ function logUnknownPropertyError(propName: string, tNode: TNode): void {\n  * Instantiate a root component.\n  */\n export function instantiateRootComponent<T>(tView: TView, lView: LView, def: ComponentDef<T>): T {\n-  const rootTNode = getPreviousOrParentTNode()!;\n+  const rootTNode = getCurrentTNode()!;\n   if (tView.firstCreatePass) {\n     if (def.providersResolver) def.providersResolver(def);\n     generateExpandoInstructionBlock(tView, rootTNode, 1);"
        },
        {
            "sha": "9c933d2ca754b8ebb4afec9822dbebae3fe10b8c",
            "filename": "packages/core/src/render3/instructions/template.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftemplate.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftemplate.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftemplate.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -13,7 +13,7 @@ import {LocalRefExtractor, TAttributes, TContainerNode, TNodeType} from '../inte\n import {isDirectiveHost} from '../interfaces/type_checks';\n import {HEADER_OFFSET, LView, RENDERER, TView, TViewType} from '../interfaces/view';\n import {appendChild} from '../node_manipulation';\n-import {getLView, getTView, setPreviousOrParentTNode} from '../state';\n+import {getLView, getTView, setCurrentTNode} from '../state';\n import {getConstant} from '../util/view_utils';\n import {addToViewTree, createDirectivesInstances, createLContainer, createTView, getOrCreateTNode, resolveDirectives, saveResolvedLocalsInData} from './shared';\n \n@@ -77,7 +77,7 @@ export function ɵɵtemplate(\n       templateFirstCreatePass(\n           index, tView, lView, templateFn, decls, vars, tagName, attrsIndex, localRefsIndex) :\n       tView.data[adjustedIndex] as TContainerNode;\n-  setPreviousOrParentTNode(tNode, false);\n+  setCurrentTNode(tNode, false);\n \n   const comment = lView[RENDERER].createComment(ngDevMode ? 'container' : '');\n   appendChild(tView, lView, comment, tNode);"
        },
        {
            "sha": "3571d8d5cc6c0f237544184815b2b12bf560dec0",
            "filename": "packages/core/src/render3/instructions/text.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Finstructions%2Ftext.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -9,7 +9,7 @@ import {assertEqual, assertIndexInRange} from '../../util/assert';\n import {TElementNode, TNodeType} from '../interfaces/node';\n import {HEADER_OFFSET, RENDERER, T_HOST} from '../interfaces/view';\n import {appendChild, createTextNode} from '../node_manipulation';\n-import {getBindingIndex, getLView, getTView, setPreviousOrParentTNode} from '../state';\n+import {getBindingIndex, getLView, getTView, setCurrentTNode} from '../state';\n \n import {getOrCreateTNode} from './shared';\n \n@@ -42,5 +42,5 @@ export function ɵɵtext(index: number, value: string = ''): void {\n   appendChild(tView, lView, textNative, tNode);\n \n   // Text nodes are self closing.\n-  setPreviousOrParentTNode(tNode, false);\n+  setCurrentTNode(tNode, false);\n }"
        },
        {
            "sha": "82d5b30e8f05e0ba27337fab8b66e85f05cc2ce1",
            "filename": "packages/core/src/render3/query.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fquery.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -28,7 +28,7 @@ import {TContainerNode, TElementContainerNode, TElementNode, TNode, TNodeType, u\n import {LQueries, LQuery, TQueries, TQuery, TQueryMetadata, unusedValueExportToPlacateAjd as unused4} from './interfaces/query';\n import {DECLARATION_LCONTAINER, LView, PARENT, QUERIES, TVIEW, TView} from './interfaces/view';\n import {assertNodeOfPossibleTypes} from './node_assert';\n-import {getCurrentQueryIndex, getLView, getPreviousOrParentTNode, getTView, setCurrentQueryIndex} from './state';\n+import {getCurrentQueryIndex, getCurrentTNode, getLView, getTView, setCurrentQueryIndex} from './state';\n import {isCreationMode} from './util/view_utils';\n import {createContainerRef, createElementRef, createTemplateRef} from './view_engine_compatibility';\n \n@@ -504,8 +504,7 @@ export function ɵɵcontentQuery<T>(\n     directiveIndex: number, predicate: Type<any>|InjectionToken<unknown>|string[], descend: boolean,\n     read?: any): void {\n   contentQueryInternal(\n-      getTView(), getLView(), predicate, descend, read, false, getPreviousOrParentTNode()!,\n-      directiveIndex);\n+      getTView(), getLView(), predicate, descend, read, false, getCurrentTNode()!, directiveIndex);\n }\n \n /**\n@@ -524,8 +523,7 @@ export function ɵɵstaticContentQuery<T>(\n     directiveIndex: number, predicate: Type<any>|InjectionToken<unknown>|string[], descend: boolean,\n     read?: any): void {\n   contentQueryInternal(\n-      getTView(), getLView(), predicate, descend, read, true, getPreviousOrParentTNode()!,\n-      directiveIndex);\n+      getTView(), getLView(), predicate, descend, read, true, getCurrentTNode()!, directiveIndex);\n }\n \n function contentQueryInternal<T>("
        },
        {
            "sha": "1362dca13e92d9346c70329b88835b57ae97bc97",
            "filename": "packages/core/src/render3/state.ts",
            "status": "modified",
            "additions": 28,
            "deletions": 28,
            "changes": 56,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fstate.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fstate.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fstate.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -54,12 +54,12 @@ interface LFrame {\n    *\n    * This is used in conjunction with `isParent`.\n    */\n-  previousOrParentTNode: TNode|null;\n+  currentTNode: TNode|null;\n \n   /**\n    * If `isParent` is:\n-   *  - `true`: then `previousOrParentTNode` points to a parent node.\n-   *  - `false`: then `previousOrParentTNode` points to previous node (sibling).\n+   *  - `true`: then `currentTNode` points to a parent node.\n+   *  - `false`: then `currentTNode` points to previous node (sibling).\n    */\n   isParent: boolean;\n \n@@ -262,24 +262,24 @@ export function ɵɵrestoreView(viewToRestore: OpaqueViewState) {\n   instructionState.lFrame.contextLView = viewToRestore as any as LView;\n }\n \n-export function getPreviousOrParentTNode(): TNode|null {\n-  return instructionState.lFrame.previousOrParentTNode;\n+export function getCurrentTNode(): TNode|null {\n+  return instructionState.lFrame.currentTNode;\n }\n \n-export function setPreviousOrParentTNode(tNode: TNode, isParent: boolean) {\n+export function setCurrentTNode(tNode: TNode, isParent: boolean) {\n   ngDevMode && assertTNodeForTView(tNode, instructionState.lFrame.tView);\n-  instructionState.lFrame.previousOrParentTNode = tNode;\n+  instructionState.lFrame.currentTNode = tNode;\n   instructionState.lFrame.isParent = isParent;\n }\n \n-export function getIsParent(): boolean {\n+export function isCurrentTNodeParent(): boolean {\n   return instructionState.lFrame.isParent;\n }\n \n-export function setIsNotParent(): void {\n+export function setCurrentTNodeAsNotParent(): void {\n   instructionState.lFrame.isParent = false;\n }\n-export function setIsParent(): void {\n+export function setCurrentTNodeAsParent(): void {\n   instructionState.lFrame.isParent = true;\n }\n \n@@ -389,7 +389,7 @@ export function enterDI(newView: LView, tNode: TNode) {\n   ngDevMode && assertLViewOrUndefined(newView);\n   const newLFrame = allocLFrame();\n   instructionState.lFrame = newLFrame;\n-  newLFrame.previousOrParentTNode = tNode!;\n+  newLFrame.currentTNode = tNode!;\n   newLFrame.lView = newView;\n }\n \n@@ -421,7 +421,7 @@ export function enterView(newView: LView): void {\n   const tView = newView[TVIEW];\n   instructionState.lFrame = newLFrame;\n   ngDevMode && tView.firstChild && assertTNodeForTView(tView.firstChild, tView);\n-  newLFrame.previousOrParentTNode = tView.firstChild!;\n+  newLFrame.currentTNode = tView.firstChild!;\n   newLFrame.lView = newView;\n   newLFrame.tView = tView;\n   newLFrame.contextLView = newView!;\n@@ -440,20 +440,20 @@ function allocLFrame() {\n \n function createLFrame(parent: LFrame|null): LFrame {\n   const lFrame: LFrame = {\n-    previousOrParentTNode: null,  //\n-    isParent: true,               //\n-    lView: null!,                 //\n-    tView: null!,                 //\n-    selectedIndex: 0,             //\n-    contextLView: null!,          //\n-    elementDepthCount: 0,         //\n-    currentNamespace: null,       //\n-    currentDirectiveIndex: -1,    //\n-    bindingRootIndex: -1,         //\n-    bindingIndex: -1,             //\n-    currentQueryIndex: 0,         //\n-    parent: parent!,              //\n-    child: null,                  //\n+    currentTNode: null,         //\n+    isParent: true,             //\n+    lView: null!,               //\n+    tView: null!,               //\n+    selectedIndex: 0,           //\n+    contextLView: null!,        //\n+    elementDepthCount: 0,       //\n+    currentNamespace: null,     //\n+    currentDirectiveIndex: -1,  //\n+    bindingRootIndex: -1,       //\n+    bindingIndex: -1,           //\n+    currentQueryIndex: 0,       //\n+    parent: parent!,            //\n+    child: null,                //\n   };\n   parent !== null && (parent.child = lFrame);  // link the new LFrame for reuse.\n   return lFrame;\n@@ -462,7 +462,7 @@ function createLFrame(parent: LFrame|null): LFrame {\n /**\n  * A lightweight version of leave which is used with DI.\n  *\n- * This function only resets `previousOrParentTNode` and `LView` as those are the only properties\n+ * This function only resets `currentTNode` and `LView` as those are the only properties\n  * used with DI (`enterDI()`).\n  *\n  * NOTE: This function is reexported as `leaveDI`. However `leaveDI` has return type of `void` where\n@@ -471,7 +471,7 @@ function createLFrame(parent: LFrame|null): LFrame {\n function leaveViewLight(): LFrame {\n   const oldLFrame = instructionState.lFrame;\n   instructionState.lFrame = oldLFrame.parent;\n-  oldLFrame.previousOrParentTNode = null!;\n+  oldLFrame.currentTNode = null!;\n   oldLFrame.lView = null!;\n   return oldLFrame;\n }"
        },
        {
            "sha": "70c96e4629f89111372eb4c023877ffeeade4f3b",
            "filename": "packages/core/src/render3/view_engine_compatibility.ts",
            "status": "modified",
            "additions": 32,
            "deletions": 34,
            "changes": 66,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Frender3%2Fview_engine_compatibility.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -6,33 +6,33 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import { ChangeDetectorRef as ViewEngine_ChangeDetectorRef } from '../change_detection/change_detector_ref';\n-import { Injector } from '../di/injector';\n-import { ComponentFactory as viewEngine_ComponentFactory, ComponentRef as viewEngine_ComponentRef } from '../linker/component_factory';\n-import { ElementRef as ViewEngine_ElementRef } from '../linker/element_ref';\n-import { NgModuleRef as viewEngine_NgModuleRef } from '../linker/ng_module_factory';\n-import { TemplateRef as ViewEngine_TemplateRef } from '../linker/template_ref';\n-import { ViewContainerRef as ViewEngine_ViewContainerRef } from '../linker/view_container_ref';\n-import { EmbeddedViewRef as viewEngine_EmbeddedViewRef, ViewRef as viewEngine_ViewRef } from '../linker/view_ref';\n-import { Renderer2 } from '../render/api';\n-import { addToArray, removeFromArray } from '../util/array_utils';\n-import { assertDefined, assertEqual, assertGreaterThan, assertLessThan } from '../util/assert';\n-import { assertLContainer, assertNodeInjector } from './assert';\n-import { getParentInjectorLocation, NodeInjector } from './di';\n-import { addToViewTree, createLContainer, createLView, renderView } from './instructions/shared';\n-import { CONTAINER_HEADER_OFFSET, LContainer, NATIVE, VIEW_REFS } from './interfaces/container';\n-import { TNODE } from './interfaces/injector';\n-import { TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode, TNode, TNodeType } from './interfaces/node';\n-import { isProceduralRenderer, RComment, RElement } from './interfaces/renderer';\n-import { isComponentHost, isLContainer, isLView, isRootView } from './interfaces/type_checks';\n-import { DECLARATION_COMPONENT_VIEW, DECLARATION_LCONTAINER, LView, LViewFlags, PARENT, QUERIES, RENDERER, TVIEW, TView, T_HOST } from './interfaces/view';\n-import { assertNodeOfPossibleTypes } from './node_assert';\n-import { addViewToContainer, appendChild, destroyLView, detachView, getBeforeNodeForView, insertView, nativeInsertBefore, nativeNextSibling, nativeParentNode } from './node_manipulation';\n-import { getLView, getPreviousOrParentTNode } from './state';\n-import { getParentInjectorIndex, getParentInjectorView, hasParentInjector } from './util/injector_utils';\n-import { getComponentLViewByIndex, getNativeByTNode, unwrapRNode, viewAttachedToContainer } from './util/view_utils';\n-import { ViewRef } from './view_ref';\n-\n+import {ChangeDetectorRef as ViewEngine_ChangeDetectorRef} from '../change_detection/change_detector_ref';\n+import {Injector} from '../di/injector';\n+import {ComponentFactory as viewEngine_ComponentFactory, ComponentRef as viewEngine_ComponentRef} from '../linker/component_factory';\n+import {ElementRef as ViewEngine_ElementRef} from '../linker/element_ref';\n+import {NgModuleRef as viewEngine_NgModuleRef} from '../linker/ng_module_factory';\n+import {TemplateRef as ViewEngine_TemplateRef} from '../linker/template_ref';\n+import {ViewContainerRef as ViewEngine_ViewContainerRef} from '../linker/view_container_ref';\n+import {EmbeddedViewRef as viewEngine_EmbeddedViewRef, ViewRef as viewEngine_ViewRef} from '../linker/view_ref';\n+import {Renderer2} from '../render/api';\n+import {addToArray, removeFromArray} from '../util/array_utils';\n+import {assertDefined, assertEqual, assertGreaterThan, assertLessThan} from '../util/assert';\n+\n+import {assertLContainer, assertNodeInjector} from './assert';\n+import {getParentInjectorLocation, NodeInjector} from './di';\n+import {addToViewTree, createLContainer, createLView, renderView} from './instructions/shared';\n+import {CONTAINER_HEADER_OFFSET, LContainer, NATIVE, VIEW_REFS} from './interfaces/container';\n+import {TNODE} from './interfaces/injector';\n+import {TContainerNode, TDirectiveHostNode, TElementContainerNode, TElementNode, TNode, TNodeType} from './interfaces/node';\n+import {isProceduralRenderer, RComment, RElement} from './interfaces/renderer';\n+import {isComponentHost, isLContainer, isLView, isRootView} from './interfaces/type_checks';\n+import {DECLARATION_COMPONENT_VIEW, DECLARATION_LCONTAINER, LView, LViewFlags, PARENT, QUERIES, RENDERER, T_HOST, TVIEW, TView} from './interfaces/view';\n+import {assertNodeOfPossibleTypes} from './node_assert';\n+import {addViewToContainer, appendChild, destroyLView, detachView, getBeforeNodeForView, insertView, nativeInsertBefore, nativeNextSibling, nativeParentNode} from './node_manipulation';\n+import {getCurrentTNode, getLView} from './state';\n+import {getParentInjectorIndex, getParentInjectorView, hasParentInjector} from './util/injector_utils';\n+import {getComponentLViewByIndex, getNativeByTNode, unwrapRNode, viewAttachedToContainer} from './util/view_utils';\n+import {ViewRef} from './view_ref';\n \n \n \n@@ -43,7 +43,7 @@ import { ViewRef } from './view_ref';\n  */\n export function injectElementRef(ElementRefToken: typeof ViewEngine_ElementRef):\n     ViewEngine_ElementRef {\n-  return createElementRef(ElementRefToken, getPreviousOrParentTNode()!, getLView());\n+  return createElementRef(ElementRefToken, getCurrentTNode()!, getLView());\n }\n \n let R3ElementRef: {new (native: RElement|RComment): ViewEngine_ElementRef};\n@@ -78,8 +78,7 @@ let R3TemplateRef: {\n export function injectTemplateRef<T>(\n     TemplateRefToken: typeof ViewEngine_TemplateRef,\n     ElementRefToken: typeof ViewEngine_ElementRef): ViewEngine_TemplateRef<T>|null {\n-  return createTemplateRef<T>(\n-      TemplateRefToken, ElementRefToken, getPreviousOrParentTNode()!, getLView());\n+  return createTemplateRef<T>(TemplateRefToken, ElementRefToken, getCurrentTNode()!, getLView());\n }\n \n /**\n@@ -149,8 +148,7 @@ let R3ViewContainerRef: {\n export function injectViewContainerRef(\n     ViewContainerRefToken: typeof ViewEngine_ViewContainerRef,\n     ElementRefToken: typeof ViewEngine_ElementRef): ViewEngine_ViewContainerRef {\n-  const previousTNode =\n-      getPreviousOrParentTNode() as TElementNode | TElementContainerNode | TContainerNode;\n+  const previousTNode = getCurrentTNode() as TElementNode | TElementContainerNode | TContainerNode;\n   return createContainerRef(ViewContainerRefToken, ElementRefToken, previousTNode, getLView());\n }\n \n@@ -407,7 +405,7 @@ export function createContainerRef(\n \n /** Returns a ChangeDetectorRef (a.k.a. a ViewRef) */\n export function injectChangeDetectorRef(isPipe = false): ViewEngine_ChangeDetectorRef {\n-  return createViewRef(getPreviousOrParentTNode()!, getLView(), isPipe);\n+  return createViewRef(getCurrentTNode()!, getLView(), isPipe);\n }\n \n /**\n@@ -453,7 +451,7 @@ export function injectRenderer2(): Renderer2 {\n   // We need the Renderer to be based on the component that it's being injected into, however since\n   // DI happens before we've entered its view, `getLView` will return the parent view instead.\n   const lView = getLView();\n-  const tNode = getPreviousOrParentTNode()!;\n+  const tNode = getCurrentTNode()!;\n   const nodeAtIndex = getComponentLViewByIndex(tNode.index, lView);\n   return getOrCreateRenderer2(isLView(nodeAtIndex) ? nodeAtIndex : lView);\n }"
        },
        {
            "sha": "21adb9a1108385e0f8dd7233d9a2f590d9905a81",
            "filename": "packages/core/test/acceptance/i18n_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Facceptance%2Fi18n_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Facceptance%2Fi18n_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fi18n_spec.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -687,7 +687,7 @@ onlyInIvy('Ivy i18n logic').describe('runtime i18n', () => {\n         '(lView[0] as Element).appendChild(lView[2])',\n         'lView[4] = document.createTextNode(\"World\")',\n         '(lView[2] as Element).appendChild(lView[4])',\n-        'setPreviousOrParentTNode(tView.data[2] as TNode)',\n+        'setCurrentTNode(tView.data[2] as TNode)',\n         'lView[5] = document.createTextNode(\"!\")',\n         '(lView[0] as Element).appendChild(lView[5])',\n       ]);"
        },
        {
            "sha": "edc3754c8064ea76588f7c769bcfb3ceafbaa737",
            "filename": "packages/core/test/bundling/cyclic_import/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fcyclic_import%2Fbundle.golden_symbols.json?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -171,10 +171,10 @@\n     \"name\": \"getConstant\"\n   },\n   {\n-    \"name\": \"getFirstLContainer\"\n+    \"name\": \"getCurrentTNode\"\n   },\n   {\n-    \"name\": \"getIsParent\"\n+    \"name\": \"getFirstLContainer\"\n   },\n   {\n     \"name\": \"getLView\"\n@@ -200,9 +200,6 @@\n   {\n     \"name\": \"getOrCreateTNode\"\n   },\n-  {\n-    \"name\": \"getPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"getSimpleChangesStore\"\n   },\n@@ -245,6 +242,9 @@\n   {\n     \"name\": \"isCssClassMatching\"\n   },\n+  {\n+    \"name\": \"isCurrentTNodeParent\"\n+  },\n   {\n     \"name\": \"isInlineTemplate\"\n   },\n@@ -323,6 +323,9 @@\n   {\n     \"name\": \"setCurrentQueryIndex\"\n   },\n+  {\n+    \"name\": \"setCurrentTNode\"\n+  },\n   {\n     \"name\": \"setDirectiveInputsWhichShadowsStyling\"\n   },\n@@ -335,9 +338,6 @@\n   {\n     \"name\": \"setInputsFromAttrs\"\n   },\n-  {\n-    \"name\": \"setPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"setSelectedIndex\"\n   },"
        },
        {
            "sha": "2f07151f8a6d145c4f54cf0e2cf8a052cc0fbc54",
            "filename": "packages/core/test/bundling/forms/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fforms%2Fbundle.golden_symbols.json?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -965,6 +965,9 @@\n   {\n     \"name\": \"getConstant\"\n   },\n+  {\n+    \"name\": \"getCurrentTNode\"\n+  },\n   {\n     \"name\": \"getDOM\"\n   },\n@@ -986,9 +989,6 @@\n   {\n     \"name\": \"getInjectorIndex\"\n   },\n-  {\n-    \"name\": \"getIsParent\"\n-  },\n   {\n     \"name\": \"getLCleanup\"\n   },\n@@ -1052,9 +1052,6 @@\n   {\n     \"name\": \"getPreviousIndex\"\n   },\n-  {\n-    \"name\": \"getPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"getPromiseCtor\"\n   },\n@@ -1172,6 +1169,9 @@\n   {\n     \"name\": \"isCssClassMatching\"\n   },\n+  {\n+    \"name\": \"isCurrentTNodeParent\"\n+  },\n   {\n     \"name\": \"isDirectiveHost\"\n   },\n@@ -1499,6 +1499,9 @@\n   {\n     \"name\": \"setCurrentQueryIndex\"\n   },\n+  {\n+    \"name\": \"setCurrentTNode\"\n+  },\n   {\n     \"name\": \"setDirectiveInputsWhichShadowsStyling\"\n   },\n@@ -1517,9 +1520,6 @@\n   {\n     \"name\": \"setLocaleId\"\n   },\n-  {\n-    \"name\": \"setPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"setSelectedIndex\"\n   },"
        },
        {
            "sha": "60853be1fe64cf321028860be95fe84a391963e0",
            "filename": "packages/core/test/bundling/hello_world/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Fhello_world%2Fbundle.golden_symbols.json?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -119,6 +119,9 @@\n   {\n     \"name\": \"getComponentLViewByIndex\"\n   },\n+  {\n+    \"name\": \"getCurrentTNode\"\n+  },\n   {\n     \"name\": \"getFirstLContainer\"\n   },\n@@ -134,9 +137,6 @@\n   {\n     \"name\": \"getOrCreateTNode\"\n   },\n-  {\n-    \"name\": \"getPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"getSimpleChangesStore\"\n   },\n@@ -207,13 +207,13 @@\n     \"name\": \"setCurrentQueryIndex\"\n   },\n   {\n-    \"name\": \"setIncludeViewProviders\"\n+    \"name\": \"setCurrentTNode\"\n   },\n   {\n-    \"name\": \"setInjectImplementation\"\n+    \"name\": \"setIncludeViewProviders\"\n   },\n   {\n-    \"name\": \"setPreviousOrParentTNode\"\n+    \"name\": \"setInjectImplementation\"\n   },\n   {\n     \"name\": \"setSelectedIndex\""
        },
        {
            "sha": "ca5d9b81ae1b9e31530928a741b0b8b17c7ad2a9",
            "filename": "packages/core/test/bundling/router/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Frouter%2Fbundle.golden_symbols.json?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -1280,6 +1280,9 @@\n   {\n     \"name\": \"getCurrentQueryIndex\"\n   },\n+  {\n+    \"name\": \"getCurrentTNode\"\n+  },\n   {\n     \"name\": \"getDOM\"\n   },\n@@ -1310,9 +1313,6 @@\n   {\n     \"name\": \"getInjectorIndex\"\n   },\n-  {\n-    \"name\": \"getIsParent\"\n-  },\n   {\n     \"name\": \"getLCleanup\"\n   },\n@@ -1388,9 +1388,6 @@\n   {\n     \"name\": \"getPreviousIndex\"\n   },\n-  {\n-    \"name\": \"getPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"getPromiseCtor\"\n   },\n@@ -1508,6 +1505,9 @@\n   {\n     \"name\": \"isCssClassMatching\"\n   },\n+  {\n+    \"name\": \"isCurrentTNodeParent\"\n+  },\n   {\n     \"name\": \"isDirectiveHost\"\n   },\n@@ -1832,6 +1832,9 @@\n   {\n     \"name\": \"setCurrentQueryIndex\"\n   },\n+  {\n+    \"name\": \"setCurrentTNode\"\n+  },\n   {\n     \"name\": \"setDirectiveInputsWhichShadowsStyling\"\n   },\n@@ -1850,9 +1853,6 @@\n   {\n     \"name\": \"setLocaleId\"\n   },\n-  {\n-    \"name\": \"setPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"setRouterState\"\n   },"
        },
        {
            "sha": "dfaf93b213df5fa0eac6eecdcea7b771db13b621",
            "filename": "packages/core/test/bundling/todo/bundle.golden_symbols.json",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fbundling%2Ftodo%2Fbundle.golden_symbols.json?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -344,6 +344,9 @@\n   {\n     \"name\": \"getConstant\"\n   },\n+  {\n+    \"name\": \"getCurrentTNode\"\n+  },\n   {\n     \"name\": \"getDebugContext\"\n   },\n@@ -353,9 +356,6 @@\n   {\n     \"name\": \"getInjectorIndex\"\n   },\n-  {\n-    \"name\": \"getIsParent\"\n-  },\n   {\n     \"name\": \"getLCleanup\"\n   },\n@@ -410,9 +410,6 @@\n   {\n     \"name\": \"getPreviousIndex\"\n   },\n-  {\n-    \"name\": \"getPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"getSelectedIndex\"\n   },\n@@ -482,6 +479,9 @@\n   {\n     \"name\": \"isCssClassMatching\"\n   },\n+  {\n+    \"name\": \"isCurrentTNodeParent\"\n+  },\n   {\n     \"name\": \"isDirectiveHost\"\n   },\n@@ -650,6 +650,9 @@\n   {\n     \"name\": \"setCurrentQueryIndex\"\n   },\n+  {\n+    \"name\": \"setCurrentTNode\"\n+  },\n   {\n     \"name\": \"setDirectiveInputsWhichShadowsStyling\"\n   },\n@@ -665,9 +668,6 @@\n   {\n     \"name\": \"setInputsFromAttrs\"\n   },\n-  {\n-    \"name\": \"setPreviousOrParentTNode\"\n-  },\n   {\n     \"name\": \"setSelectedIndex\"\n   },"
        },
        {
            "sha": "def02d69dd77003c60656b571a6132f3e5105dba",
            "filename": "packages/core/test/render3/i18n_debug_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Frender3%2Fi18n_debug_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Frender3%2Fi18n_debug_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fi18n_debug_spec.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -128,7 +128,7 @@ describe('i18n debug', () => {\n     it('should print ElementEnd', () => {\n       expect(i18nMutateOpCodesToString([\n         1 << I18nMutateOpCode.SHIFT_REF | I18nMutateOpCode.ElementEnd,\n-      ])).toEqual(['setPreviousOrParentTNode(tView.data[1] as TNode)']);\n+      ])).toEqual(['setCurrentTNode(tView.data[1] as TNode)']);\n     });\n \n     it('should print RemoveNestedIcu', () => {"
        },
        {
            "sha": "d6352e4675366fc8e042dcbff2acf9ae6987aefe",
            "filename": "packages/core/test/render3/i18n_spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Frender3%2Fi18n_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Frender3%2Fi18n_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Fi18n_spec.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -112,13 +112,13 @@ describe('Runtime i18n', () => {\n           '(lView[1] as Element).appendChild(lView[2])',\n           'lView[5] = document.createTextNode(\"world\")',\n           '(lView[2] as Element).appendChild(lView[5])',\n-          'setPreviousOrParentTNode(tView.data[2] as TNode)',\n+          'setCurrentTNode(tView.data[2] as TNode)',\n           'lView[6] = document.createTextNode(\" and \")',\n           '(lView[1] as Element).appendChild(lView[6])',\n           '(lView[1] as Element).appendChild(lView[3])',\n           'lView[7] = document.createTextNode(\"universe\")',\n           '(lView[3] as Element).appendChild(lView[7])',\n-          'setPreviousOrParentTNode(tView.data[3] as TNode)',\n+          'setCurrentTNode(tView.data[3] as TNode)',\n           'lView[8] = document.createTextNode(\"!\")',\n           '(lView[1] as Element).appendChild(lView[8])',\n         ]),\n@@ -221,8 +221,7 @@ describe('Runtime i18n', () => {\n           '(lView[1] as Element).appendChild(lView[3])',\n           '(lView[1] as Element).appendChild(lView[16381])',\n           'lView[4] = document.createTextNode(\"after\")',\n-          '(lView[1] as Element).appendChild(lView[4])',\n-          'setPreviousOrParentTNode(tView.data[1] as TNode)'\n+          '(lView[1] as Element).appendChild(lView[4])', 'setCurrentTNode(tView.data[1] as TNode)'\n         ]),\n         update: [],\n         icus: null\n@@ -242,8 +241,7 @@ describe('Runtime i18n', () => {\n         create: debugMatch([\n           '(lView[0] as Element).appendChild(lView[1])',\n           'lView[2] = document.createTextNode(\"middle\")',\n-          '(lView[1] as Element).appendChild(lView[2])',\n-          'setPreviousOrParentTNode(tView.data[1] as TNode)'\n+          '(lView[1] as Element).appendChild(lView[2])', 'setCurrentTNode(tView.data[1] as TNode)'\n         ]),\n         update: [],\n         icus: null"
        },
        {
            "sha": "9fb6e790b80a11d4c286c8b0fb017ec04e4a92a4",
            "filename": "packages/core/test/render3/render_util.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Frender3%2Frender_util.ts",
            "raw_url": "https://github.com/angular/angular/raw/5448e84cf07eef365c8bc6ff1707cfb105bddcb3/packages%2Fcore%2Ftest%2Frender3%2Frender_util.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Frender3%2Frender_util.ts?ref=5448e84cf07eef365c8bc6ff1707cfb105bddcb3",
            "patch": "@@ -236,7 +236,7 @@ export function resetDOM() {\n   containerEl.setAttribute('host', '');\n   document.body.appendChild(containerEl);\n   hostView = null;\n-  // TODO: assert that the global state is clean (e.g. ngData, previousOrParentNode, etc)\n+  // TODO: assert that the global state is clean (e.g. ngData, currentTNode, etc)\n }\n \n "
        }
    ],
    "stats": {
        "total": 397,
        "additions": 195,
        "deletions": 202
    }
}