{
    "author": "gkalpak",
    "message": "refactor(docs-infra): scope TOC styles to the `<aio-toc>` element (#40704)\n\nThis commit ensures that all styles for the TOC (which are defined in\n`_toc.scss`) only apply to elements inside an `<aio-toc>` element. This\nwill prevent the styles accidentally taking effect on a different part\nof the app.\n\nPR Close #40704",
    "sha": "3224c52503b5da5c50d1a9226efce57f4e1ca316",
    "files": [
        {
            "sha": "7cd898910857215f3f836f78430ac79f5e57e7a4",
            "filename": "aio/src/styles/2-modules/_toc.scss",
            "status": "modified",
            "additions": 156,
            "deletions": 155,
            "changes": 311,
            "blob_url": "https://github.com/angular/angular/blob/3224c52503b5da5c50d1a9226efce57f4e1ca316/aio%2Fsrc%2Fstyles%2F2-modules%2F_toc.scss",
            "raw_url": "https://github.com/angular/angular/raw/3224c52503b5da5c50d1a9226efce57f4e1ca316/aio%2Fsrc%2Fstyles%2F2-modules%2F_toc.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2F_toc.scss?ref=3224c52503b5da5c50d1a9226efce57f4e1ca316",
            "patch": "@@ -8,204 +8,205 @@\n   overflow-x: hidden;\n }\n \n-.toc-inner {\n-  @include font-size(13);\n-  overflow-y: visible;\n-  padding: 4px 0 0 10px;\n-\n-  .toc-heading,\n-  .toc-list .h1 {\n-    @include font-size(16);\n-  }\n-\n-  .toc-heading {\n-    font-weight: 500;\n-    margin: 0 0 16px 8px;\n-    padding: 0;\n-\n-    &.secondary {\n-      position: relative;\n-      top: -8px;\n+aio-toc {\n+  .toc-inner {\n+    @include font-size(13);\n+    overflow-y: visible;\n+    padding: 4px 0 0 10px;\n \n-      &:hover {\n-        color: $accentblue;\n-      }\n+    .toc-heading,\n+    .toc-list .h1 {\n+      @include font-size(16);\n     }\n-  }\n \n-  button {\n-    &.toc-heading,\n-    &.toc-more-items {\n-      cursor: pointer;\n-      display: inline-block;\n-      background: 0;\n-      background-color: transparent;\n-      border: none;\n-      box-shadow: none;\n+    .toc-heading {\n+      font-weight: 500;\n+      margin: 0 0 16px 8px;\n       padding: 0;\n-      text-align: start;\n \n-      &.embedded:focus {\n-        outline: none;\n-        background: $lightgray;\n-      }\n-    }\n-\n-    &.toc-heading {\n-      mat-icon.rotating-icon {\n-        height: 18px;\n-        width: 18px;\n+      &.secondary {\n         position: relative;\n-        left: -4px;\n-        top: 5px;\n-      }\n+        top: -8px;\n \n-      &:hover:not(.embedded) {\n-        color: $accentblue;\n+        &:hover {\n+          color: $accentblue;\n+        }\n       }\n     }\n \n-    &.toc-more-items {\n-      color: $mediumgray;\n-      top: 10px;\n-      position: relative;\n-\n-      &:hover {\n-        color: $accentblue;\n+    button {\n+      &.toc-heading,\n+      &.toc-more-items {\n+        cursor: pointer;\n+        display: inline-block;\n+        background: 0;\n+        background-color: transparent;\n+        border: none;\n+        box-shadow: none;\n+        padding: 0;\n+        text-align: start;\n+\n+        &.embedded:focus {\n+          outline: none;\n+          background: $lightgray;\n+        }\n       }\n \n-      &::after {\n-        content: 'expand_less';\n-      }\n+      &.toc-heading {\n+        mat-icon.rotating-icon {\n+          height: 18px;\n+          width: 18px;\n+          position: relative;\n+          left: -4px;\n+          top: 5px;\n+        }\n \n-      &.collapsed::after {\n-        content: 'more_horiz';\n+        &:hover:not(.embedded) {\n+          color: $accentblue;\n+        }\n       }\n-    }\n-  }\n \n-  .mat-icon {\n-    &.collapsed {\n-      @include rotate(0deg);\n-    }\n+      &.toc-more-items {\n+        color: $mediumgray;\n+        top: 10px;\n+        position: relative;\n \n-    &:not(.collapsed) {\n-      @include rotate(90deg);\n-    }\n-  }\n+        &:hover {\n+          color: $accentblue;\n+        }\n \n-  ul.toc-list {\n-    list-style-type: none;\n-    margin: 0;\n-    padding: 0 8px 0 0;\n+        &::after {\n+          content: 'expand_less';\n+        }\n \n-    @media (max-width: 800px) {\n-      width: auto;\n+        &.collapsed::after {\n+          content: 'more_horiz';\n+        }\n+      }\n     }\n \n-    li {\n-      box-sizing: border-box;\n-      padding: 7px 0 7px 12px;\n-      position: relative;\n-      transition: all 0.3s ease-in-out;\n-\n-      &.h1:after {\n-        content: '';\n-        display: block;\n-        height: 1px;\n-        width: 40%;\n-        margin: 7px 0 4px 0;\n-        background: $lightgray;\n-        clear: both;\n+    .mat-icon {\n+      &.collapsed {\n+        @include rotate(0deg);\n       }\n \n-      &.h3 {\n-        padding-left: 24px;\n+      &:not(.collapsed) {\n+        @include rotate(90deg);\n       }\n+    }\n+\n+    ul.toc-list {\n+      list-style-type: none;\n+      margin: 0;\n+      padding: 0 8px 0 0;\n \n-      a {\n-        color: lighten($darkgray, 10);\n-        overflow: visible;\n-        @include font-size(14);\n-        @include line-height(28);\n-        display: table-cell;\n+      @media (max-width: 800px) {\n+        width: auto;\n       }\n \n-      &:hover {\n-        * {\n-          color: $accentblue;\n+      li {\n+        box-sizing: border-box;\n+        padding: 7px 0 7px 12px;\n+        position: relative;\n+        transition: all 0.3s ease-in-out;\n+\n+        &.h1:after {\n+          content: '';\n+          display: block;\n+          height: 1px;\n+          width: 40%;\n+          margin: 7px 0 4px 0;\n+          background: $lightgray;\n+          clear: both;\n+        }\n+\n+        &.h3 {\n+          padding-left: 24px;\n         }\n-      }\n \n-      &.active {\n-        * {\n-          color: $blue;\n-          font-weight: 500;\n-\n-          &:before {\n-            content: '';\n-            border-radius: 50%;\n-            left: -3px;\n-            top: 14px;\n-            background: $blue;\n-            position: absolute;\n-            width: 6px;\n-            height: 6px;\n+        a {\n+          color: lighten($darkgray, 10);\n+          overflow: visible;\n+          @include font-size(14);\n+          @include line-height(28);\n+          display: table-cell;\n+        }\n+\n+        &:hover {\n+          * {\n+            color: $accentblue;\n           }\n         }\n-      }\n-    }\n \n-    &:not(.embedded) li {\n-      &:before {\n-        border-left: 1px solid $lightgray;\n-        bottom: 0;\n-        content: '';\n-        left: 0;\n-        position: absolute;\n-        top: 0;\n+        &.active {\n+          * {\n+            color: $blue;\n+            font-weight: 500;\n+\n+            &:before {\n+              content: '';\n+              border-radius: 50%;\n+              left: -3px;\n+              top: 14px;\n+              background: $blue;\n+              position: absolute;\n+              width: 6px;\n+              height: 6px;\n+            }\n+          }\n+        }\n       }\n \n-      &:first-child:before {\n-        top: 15px;\n-      }\n+      &:not(.embedded) li {\n+        &:before {\n+          border-left: 1px solid $lightgray;\n+          bottom: 0;\n+          content: '';\n+          left: 0;\n+          position: absolute;\n+          top: 0;\n+        }\n \n-      &:last-child:before {\n-        bottom: calc(100% - 15px);\n-      }\n+        &:first-child:before {\n+          top: 15px;\n+        }\n+\n+        &:last-child:before {\n+          bottom: calc(100% - 15px);\n+        }\n \n-      &:not(.active):hover a:before {\n-        content: '';\n-        border-radius: 50%;\n-        left: -3px;\n-        top: 14px;\n-        background: $lightgray;\n-        position: absolute;\n-        width: 6px;\n-        height: 6px;\n+        &:not(.active):hover a:before {\n+          content: '';\n+          border-radius: 50%;\n+          left: -3px;\n+          top: 14px;\n+          background: $lightgray;\n+          position: absolute;\n+          width: 6px;\n+          height: 6px;\n+        }\n       }\n     }\n   }\n-}\n \n-// Alternative TOC View for Smaller Screens\n-aio-toc.embedded {\n-  @media (min-width: 801px) {\n-    display: none;\n-  }\n+  // Alternative TOC View for Smaller Screens\n+  &.embedded {\n+    @media (min-width: 801px) {\n+      display: none;\n+    }\n \n-  .toc-inner {\n-    padding: 12px 0 0 0;\n+    .toc-inner {\n+      padding: 12px 0 0 0;\n \n-    .toc-heading {\n-      margin: 0 0 8px;\n-    }\n+      .toc-heading {\n+        margin: 0 0 8px;\n+      }\n \n-    &.collapsed {\n-      .secondary {\n-        display: none;\n+      &.collapsed {\n+        .secondary {\n+          display: none;\n+        }\n       }\n     }\n   }\n-\n }"
        }
    ],
    "stats": {
        "total": 311,
        "additions": 156,
        "deletions": 155
    }
}