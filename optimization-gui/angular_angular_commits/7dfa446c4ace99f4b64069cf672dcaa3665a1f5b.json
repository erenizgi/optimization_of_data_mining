{
    "author": "petebacondarwin",
    "message": "fix(common): temporarily re-export and deprecate `XhrFactory` (#41393)\n\nThe moved `XhrFactory` still needs to be available from `@angular/common/http`\nfor some libraries that were built prior to 12.0.0, otherwise they cannot be\nused in applications built post-12.0.0.\n\nThis commit adds back the re-export of `XhrFactory` and deprecates it.\n\nPR Close #41393",
    "sha": "7dfa446c4ace99f4b64069cf672dcaa3665a1f5b",
    "files": [
        {
            "sha": "d76d0c099d9b1c8ea20d8945dd7af8e1b0075310",
            "filename": "aio/content/guide/deprecations.md",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7dfa446c4ace99f4b64069cf672dcaa3665a1f5b/aio%2Fcontent%2Fguide%2Fdeprecations.md",
            "raw_url": "https://github.com/angular/angular/raw/7dfa446c4ace99f4b64069cf672dcaa3665a1f5b/aio%2Fcontent%2Fguide%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdeprecations.md?ref=7dfa446c4ace99f4b64069cf672dcaa3665a1f5b",
            "patch": "@@ -40,6 +40,7 @@ v12 - v15\n | ----------------------------- | ---------------------------------------------------------------------------   | ----------------- |\n | `@angular/common`             | [`ReflectiveInjector`](#reflectiveinjector)                                   | <!--v8--> v11 |\n | `@angular/common`             | [`CurrencyPipe` - `DEFAULT_CURRENCY_CODE`](api/common/CurrencyPipe#currency-code-deprecation) | <!--v9--> v11 |\n+| `@angular/common/http`        | [`XhrFactory`](api/common/http/XhrFactory)                                    | <!--v12--> v15 |\n | `@angular/core`               | [`DefaultIterableDiffer`](#core)                                              | <!--v7--> v11 |\n | `@angular/core`               | [`ReflectiveKey`](#core)                                                      | <!--v8--> v11 |\n | `@angular/core`               | [`RenderComponentType`](#core)                                                | <!--v7--> v11 |\n@@ -82,6 +83,14 @@ Tip: In the [API reference section](api) of this doc site, deprecated APIs are i\n | [`CurrencyPipe` - `DEFAULT_CURRENCY_CODE`](api/common/CurrencyPipe#currency-code-deprecation) | `{provide: DEFAULT_CURRENCY_CODE, useValue: 'USD'}` | v9                    | From v11 the default code will be extracted from the locale data given by `LOCAL_ID`, rather than `USD`. |\n \n \n+{@a common-http}\n+### @angular/common/http\n+\n+| API                                          | Replacement                          | Deprecation announced | Notes |\n+| -------------------------------------------- | ------------------------------------ | --------------------- | ----- |\n+| [`XhrFactory`](api/common/http/XhrFactory)   | `XhrFactory` in `@angular/common`    | v12                   | The `XhrFactory` has moved from `@angular/common/http` to `@angular/common`. |\n+\n+\n {@a core}\n ### @angular/core\n "
        },
        {
            "sha": "e32d85bd3dc8f22bc6002dbdcc6ec1c8338ee965",
            "filename": "goldens/public-api/common/http/http.d.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/7dfa446c4ace99f4b64069cf672dcaa3665a1f5b/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/7dfa446c4ace99f4b64069cf672dcaa3665a1f5b/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fhttp%2Fhttp.d.ts?ref=7dfa446c4ace99f4b64069cf672dcaa3665a1f5b",
            "patch": "@@ -1930,7 +1930,7 @@ export declare interface HttpUserEvent<T> {\n }\n \n export declare class HttpXhrBackend implements HttpBackend {\n-    constructor(xhrFactory: XhrFactory);\n+    constructor(xhrFactory: XhrFactory_2);\n     handle(req: HttpRequest<any>): Observable<HttpEvent<any>>;\n }\n \n@@ -1947,3 +1947,6 @@ export declare class JsonpInterceptor {\n     constructor(jsonp: JsonpClientBackend);\n     intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>;\n }\n+\n+/** @deprecated */\n+export declare type XhrFactory = XhrFactory_2;"
        },
        {
            "sha": "c08bef4d0ca3e8f944048f45a2e89a3ec3a75186",
            "filename": "packages/common/http/public_api.ts",
            "status": "modified",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/7dfa446c4ace99f4b64069cf672dcaa3665a1f5b/packages%2Fcommon%2Fhttp%2Fpublic_api.ts",
            "raw_url": "https://github.com/angular/angular/raw/7dfa446c4ace99f4b64069cf672dcaa3665a1f5b/packages%2Fcommon%2Fhttp%2Fpublic_api.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fhttp%2Fpublic_api.ts?ref=7dfa446c4ace99f4b64069cf672dcaa3665a1f5b",
            "patch": "@@ -6,6 +6,27 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+import {XhrFactory as XhrFactory_fromAngularCommon} from '@angular/common';\n+\n+/**\n+ * A wrapper around the `XMLHttpRequest` constructor.\n+ *\n+ * @publicApi\n+ * @see `XhrFactory`\n+ * @deprecated\n+ * `XhrFactory` has moved, please import `XhrFactory` from `@angular/common` instead.\n+ */\n+export type XhrFactory = XhrFactory_fromAngularCommon;\n+/**\n+ * A wrapper around the `XMLHttpRequest` constructor.\n+ *\n+ * @publicApi\n+ * @see `XhrFactory`\n+ * @deprecated\n+ * `XhrFactory` has moved, please import `XhrFactory` from `@angular/common` instead.\n+ */\n+export const XhrFactory = XhrFactory_fromAngularCommon;\n+\n export {HttpBackend, HttpHandler} from './src/backend';\n export {HttpClient} from './src/client';\n export {HttpContext, HttpContextToken} from './src/context';"
        }
    ],
    "stats": {
        "total": 35,
        "additions": 34,
        "deletions": 1
    }
}