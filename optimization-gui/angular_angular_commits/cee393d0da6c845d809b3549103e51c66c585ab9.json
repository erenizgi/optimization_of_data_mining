{
    "author": "petebacondarwin",
    "message": "test(compiler-cli): improve error message if a unit test is bad (#38959)\n\nThe message now also reports the name of the predicate function\nthat failed.\n\nPR Close #38959",
    "sha": "cee393d0da6c845d809b3549103e51c66c585ab9",
    "files": [
        {
            "sha": "d1597de5a6841ed1f7e5f908acff38369f4247e0",
            "filename": "packages/compiler-cli/src/ngtsc/testing/src/utils.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/cee393d0da6c845d809b3549103e51c66c585ab9/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftesting%2Fsrc%2Futils.ts",
            "raw_url": "https://github.com/angular/angular/raw/cee393d0da6c845d809b3549103e51c66c585ab9/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftesting%2Fsrc%2Futils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftesting%2Fsrc%2Futils.ts?ref=cee393d0da6c845d809b3549103e51c66c585ab9",
            "patch": "@@ -60,7 +60,8 @@ export function getDeclaration<T extends ts.Declaration>(\n     throw new Error(`No such symbol: ${name} in ${fileName}`);\n   }\n   if (!assert(chosenDecl)) {\n-    throw new Error(`Symbol ${name} from ${fileName} is a ${ts.SyntaxKind[chosenDecl.kind]}`);\n+    throw new Error(`Symbol ${name} from ${fileName} is a ${\n+        ts.SyntaxKind[chosenDecl.kind]}. Expected it to pass predicate \"${assert.name}()\".`);\n   }\n   return chosenDecl;\n }"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}