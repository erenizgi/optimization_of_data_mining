{
    "author": "josephperrott",
    "message": "fix(dev-infra): prevent verbose messaging of git checkout and commit for release (#42871)\n\nPrevent logging verbose messages to the output for commit and checkout during\nthe release process.\n\nPR Close #42871",
    "sha": "96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb",
    "files": [
        {
            "sha": "ef56b441e7146f7897291c9d88097bd58e57e7de",
            "filename": "dev-infra/ng-dev.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb/dev-infra%2Fng-dev.js",
            "raw_url": "https://github.com/angular/angular/raw/96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb/dev-infra%2Fng-dev.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fng-dev.js?ref=96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb",
            "patch": "@@ -6547,14 +6547,14 @@ class ReleaseAction {\n      */\n     createLocalBranchFromHead(branchName) {\n         return tslib.__awaiter(this, void 0, void 0, function* () {\n-            this.git.run(['checkout', '-B', branchName]);\n+            this.git.run(['checkout', '-q', '-B', branchName]);\n         });\n     }\n     /** Pushes the current Git `HEAD` to the given remote branch in the configured project. */\n     pushHeadToRemoteBranch(branchName) {\n         return tslib.__awaiter(this, void 0, void 0, function* () {\n             // Push the local `HEAD` to the remote branch in the configured project.\n-            this.git.run(['push', this.git.getRepoGitUrl(), `HEAD:refs/heads/${branchName}`]);\n+            this.git.run(['push', '-q', this.git.getRepoGitUrl(), `HEAD:refs/heads/${branchName}`]);\n         });\n     }\n     /**\n@@ -6581,7 +6581,7 @@ class ReleaseAction {\n                 pushArgs.push('--set-upstream');\n             }\n             // Push the local `HEAD` to the remote branch in the fork.\n-            this.git.run(['push', repoGitUrl, `HEAD:refs/heads/${branchName}`, ...pushArgs]);\n+            this.git.run(['push', '-q', repoGitUrl, `HEAD:refs/heads/${branchName}`, ...pushArgs]);\n             return { fork, branchName };\n         });\n     }\n@@ -6656,7 +6656,7 @@ class ReleaseAction {\n     checkoutUpstreamBranch(branchName) {\n         return tslib.__awaiter(this, void 0, void 0, function* () {\n             this.git.run(['fetch', '-q', this.git.getRepoGitUrl(), branchName]);\n-            this.git.run(['checkout', 'FETCH_HEAD', '--detach']);\n+            this.git.run(['checkout', '-q', 'FETCH_HEAD', '--detach']);\n         });\n     }\n     /**\n@@ -6666,7 +6666,7 @@ class ReleaseAction {\n      */\n     createCommit(message, files) {\n         return tslib.__awaiter(this, void 0, void 0, function* () {\n-            this.git.run(['commit', '--no-verify', '-m', message, ...files]);\n+            this.git.run(['commit', '-q', '--no-verify', '-m', message, ...files]);\n         });\n     }\n     /**"
        },
        {
            "sha": "437f0ccc790614688479ad21147bc5944a17c9c3",
            "filename": "dev-infra/release/publish/actions.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb/dev-infra%2Frelease%2Fpublish%2Factions.ts",
            "raw_url": "https://github.com/angular/angular/raw/96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb/dev-infra%2Frelease%2Fpublish%2Factions.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Frelease%2Fpublish%2Factions.ts?ref=96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb",
            "patch": "@@ -211,13 +211,13 @@ export abstract class ReleaseAction {\n    * existing branches in case of a collision.\n    */\n   protected async createLocalBranchFromHead(branchName: string) {\n-    this.git.run(['checkout', '-B', branchName]);\n+    this.git.run(['checkout', '-q', '-B', branchName]);\n   }\n \n   /** Pushes the current Git `HEAD` to the given remote branch in the configured project. */\n   protected async pushHeadToRemoteBranch(branchName: string) {\n     // Push the local `HEAD` to the remote branch in the configured project.\n-    this.git.run(['push', this.git.getRepoGitUrl(), `HEAD:refs/heads/${branchName}`]);\n+    this.git.run(['push', '-q', this.git.getRepoGitUrl(), `HEAD:refs/heads/${branchName}`]);\n   }\n \n   /**\n@@ -245,7 +245,7 @@ export abstract class ReleaseAction {\n       pushArgs.push('--set-upstream');\n     }\n     // Push the local `HEAD` to the remote branch in the fork.\n-    this.git.run(['push', repoGitUrl, `HEAD:refs/heads/${branchName}`, ...pushArgs]);\n+    this.git.run(['push', '-q', repoGitUrl, `HEAD:refs/heads/${branchName}`, ...pushArgs]);\n     return {fork, branchName};\n   }\n \n@@ -330,7 +330,7 @@ export abstract class ReleaseAction {\n   /** Checks out an upstream branch with a detached head. */\n   protected async checkoutUpstreamBranch(branchName: string) {\n     this.git.run(['fetch', '-q', this.git.getRepoGitUrl(), branchName]);\n-    this.git.run(['checkout', 'FETCH_HEAD', '--detach']);\n+    this.git.run(['checkout', '-q', 'FETCH_HEAD', '--detach']);\n   }\n \n   /**\n@@ -339,7 +339,7 @@ export abstract class ReleaseAction {\n    * @param files List of project-relative file paths to be commited.\n    */\n   protected async createCommit(message: string, files: string[]) {\n-    this.git.run(['commit', '--no-verify', '-m', message, ...files]);\n+    this.git.run(['commit', '-q', '--no-verify', '-m', message, ...files]);\n   }\n \n "
        },
        {
            "sha": "0042d6e4095b6134999bf57c393bf2b708519f0b",
            "filename": "dev-infra/utils/testing/virtual-git-client.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb/dev-infra%2Futils%2Ftesting%2Fvirtual-git-client.ts",
            "raw_url": "https://github.com/angular/angular/raw/96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb/dev-infra%2Futils%2Ftesting%2Fvirtual-git-client.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Futils%2Ftesting%2Fvirtual-git-client.ts?ref=96d31d8c9f4aa544701e9ee0f03e22ef7d12d2bb",
            "patch": "@@ -107,7 +107,7 @@ export class VirtualGitClient extends AuthenticatedGitClient {\n \n   /** Handler for the `git push` command. */\n   private _push(args: string[]) {\n-    const [repoUrl, refspec] = parseArgs(args)._;\n+    const [repoUrl, refspec] = parseArgs(args, {boolean: ['q']})._;\n     const ref = this._unwrapRefspec(refspec);\n     const name = ref.destination || ref.source;\n     const existingPush =\n@@ -161,7 +161,7 @@ export class VirtualGitClient extends AuthenticatedGitClient {\n \n   /** Handler for the `git checkout` command. */\n   private _checkout(rawArgs: string[]) {\n-    const args = parseArgs(rawArgs, {boolean: ['detach', 'B']});\n+    const args = parseArgs(rawArgs, {boolean: ['detach', 'B', 'q']});\n     const createBranch = args['B'];\n     const detached = args['detach'];\n     const [target] = args._;"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 12,
        "deletions": 12
    }
}