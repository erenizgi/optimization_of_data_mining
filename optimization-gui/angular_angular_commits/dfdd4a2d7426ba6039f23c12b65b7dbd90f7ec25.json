{
    "author": "bampakoa",
    "message": "docs: ident the library shematics guide properly (#41755)\n\nPR Close #41755",
    "sha": "dfdd4a2d7426ba6039f23c12b65b7dbd90f7ec25",
    "files": [
        {
            "sha": "6b02e2c53652c29bfc8257f79cbc050a3a6a0fd6",
            "filename": "aio/content/guide/schematics-for-libraries.md",
            "status": "modified",
            "additions": 61,
            "deletions": 61,
            "changes": 122,
            "blob_url": "https://github.com/angular/angular/blob/dfdd4a2d7426ba6039f23c12b65b7dbd90f7ec25/aio%2Fcontent%2Fguide%2Fschematics-for-libraries.md",
            "raw_url": "https://github.com/angular/angular/raw/dfdd4a2d7426ba6039f23c12b65b7dbd90f7ec25/aio%2Fcontent%2Fguide%2Fschematics-for-libraries.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fschematics-for-libraries.md?ref=dfdd4a2d7426ba6039f23c12b65b7dbd90f7ec25",
            "patch": "@@ -21,18 +21,18 @@ The following steps show you how to add initial support without modifying any pr\n \n 1. Edit the `collection.json` file to define the initial schema for your collection.\n \n-<code-example header=\"projects/my-lib/schematics/collection.json (Schematics Collection)\" path=\"schematics-for-libraries/projects/my-lib/schematics/collection.1.json\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/collection.json (Schematics Collection)\" path=\"schematics-for-libraries/projects/my-lib/schematics/collection.1.json\">\n+    </code-example>\n \n-  * The `$schema` path is relative to the Angular Devkit collection schema.\n-  * The `schematics` object describes the named schematics that are part of this collection.\n-  * The first entry is for a schematic named `ng-add`. It contains the description, and points to the factory function that is called when your schematic is executed.\n+    * The `$schema` path is relative to the Angular Devkit collection schema.\n+    * The `schematics` object describes the named schematics that are part of this collection.\n+    * The first entry is for a schematic named `ng-add`. It contains the description, and points to the factory function that is called when your schematic is executed.\n \n 1. In your library project's `package.json` file, add a \"schematics\" entry with the path to your schema file.\n    The Angular CLI uses this entry to find named schematics in your collection when it runs commands.\n \n-<code-example header=\"projects/my-lib/package.json (Schematics Collection Reference)\" path=\"schematics-for-libraries/projects/my-lib/package.json\" region=\"collection\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/package.json (Schematics Collection Reference)\" path=\"schematics-for-libraries/projects/my-lib/package.json\" region=\"collection\">\n+    </code-example>\n \n The initial schema that you have created tells the CLI where to find the schematic that supports the `ng add` command.\n Now you are ready to create that schematic.\n@@ -48,8 +48,8 @@ The following steps will define this type of schematic.\n \n 1. Open `index.ts` and add the source code for your schematic factory function.\n \n-<code-example header=\"projects/my-lib/schematics/ng-add/index.ts (ng-add Rule Factory)\" path=\"schematics-for-libraries/projects/my-lib/schematics/ng-add/index.ts\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/ng-add/index.ts (ng-add Rule Factory)\" path=\"schematics-for-libraries/projects/my-lib/schematics/ng-add/index.ts\">\n+    </code-example>\n \n The only step needed to provide initial `ng add` support is to trigger an installation task using the `SchematicContext`.\n The task uses the user's preferred package manager to add the library to the project's `package.json` configuration file, and install it in the projectâ€™s `node_modules` directory.\n@@ -85,21 +85,21 @@ To tell the library how to build the schematics, add a `tsconfig.schematics.json\n \n 1. Edit the `tsconfig.schematics.json` file to add the following content.\n \n-<code-example header=\"projects/my-lib/tsconfig.schematics.json (TypeScript Config)\" path=\"schematics-for-libraries/projects/my-lib/tsconfig.schematics.json\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/tsconfig.schematics.json (TypeScript Config)\" path=\"schematics-for-libraries/projects/my-lib/tsconfig.schematics.json\">\n+    </code-example>\n \n-  * The `rootDir` specifies that your `schematics/` folder contains the input files to be compiled.\n+    * The `rootDir` specifies that your `schematics/` folder contains the input files to be compiled.\n \n-  * The `outDir` maps to the library's output folder. By default, this is the `dist/my-lib` folder at the root of your workspace.\n+    * The `outDir` maps to the library's output folder. By default, this is the `dist/my-lib` folder at the root of your workspace.\n \n 1. To make sure your schematics source files get compiled into the library bundle, add the following scripts to the `package.json` file in your library project's root folder (`projects/my-lib`).\n \n-<code-example header=\"projects/my-lib/package.json (Build Scripts)\" path=\"schematics-for-libraries/projects/my-lib/package.json\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/package.json (Build Scripts)\" path=\"schematics-for-libraries/projects/my-lib/package.json\">\n+    </code-example>\n \n-  * The `build` script compiles your schematic using the custom `tsconfig.schematics.json` file.\n-  * The `copy:*` statements copy compiled schematic files into the proper locations in the library output folder in order to preserve the file structure.\n-  * The `postbuild` script copies the schematic files after the `build` script completes.\n+    * The `build` script compiles your schematic using the custom `tsconfig.schematics.json` file.\n+    * The `copy:*` statements copy compiled schematic files into the proper locations in the library output folder in order to preserve the file structure.\n+    * The `postbuild` script copies the schematic files after the `build` script completes.\n \n ## Providing generation support\n \n@@ -119,20 +119,20 @@ When you add a schematic to the collection, you have to point to it in the colle\n \n 1. Edit the `schematics/collection.json` file to point to the new schematic subfolder, and include a pointer to a schema file that will specify inputs for the new schematic.\n \n-<code-example header=\"projects/my-lib/schematics/collection.json (Schematics Collection)\" path=\"schematics-for-libraries/projects/my-lib/schematics/collection.json\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/collection.json (Schematics Collection)\" path=\"schematics-for-libraries/projects/my-lib/schematics/collection.json\">\n+    </code-example>\n \n 1. Go to the `<lib-root>/schematics/my-service/` folder.\n \n 1. Create a `schema.json` file and define the available options for the schematic.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/schema.json (Schematic JSON Schema)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/schema.json\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/schema.json (Schematic JSON Schema)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/schema.json\">\n+    </code-example>\n \n-  * *id*: A unique id for the schema in the collection.\n-  * *title*: A human-readable description of the schema.\n-  * *type*: A descriptor for the type provided by the properties.\n-  * *properties*: An object that defines the available options for the schematic.\n+    * *id*: A unique id for the schema in the collection.\n+    * *title*: A human-readable description of the schema.\n+    * *type*: A descriptor for the type provided by the properties.\n+    * *properties*: An object that defines the available options for the schematic.\n \n   Each option associates key with a type, description, and optional alias.\n   The type defines the shape of the value you expect, and the description is displayed when the user requests usage help for your schematic.\n@@ -141,12 +141,12 @@ When you add a schematic to the collection, you have to point to it in the colle\n \n 1. Create a `schema.ts` file and define an interface that stores the values of the options defined in the `schema.json` file.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/schema.ts (Schematic Interface)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/schema.ts\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/schema.ts (Schematic Interface)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/schema.ts\">\n+    </code-example>\n \n-  * *name*: The name you want to provide for the created service.\n-  * *path*: Overrides the path provided to the schematic. The default path value is based on the current working directory.\n-  * *project*: Provides a specific project to run the schematic on. In the schematic, you can provide a default if the option is not provided by the user.\n+    * *name*: The name you want to provide for the created service.\n+    * *path*: Overrides the path provided to the schematic. The default path value is based on the current working directory.\n+    * *project*: Provides a specific project to run the schematic on. In the schematic, you can provide a default if the option is not provided by the user.\n \n ### Add template files\n \n@@ -189,18 +189,18 @@ For details of these data structures and syntax, see the [Schematics README](htt\n \n 1. First, import the schematics definitions you will need. The Schematics framework offers many utility functions to create and use rules when running a schematic.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Imports)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"schematics-imports\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Imports)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"schematics-imports\">\n+    </code-example>\n \n 1. Import the defined schema interface that provides the type information for your schematic's options.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Schema Import)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"schema-imports\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Schema Import)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"schema-imports\">\n+    </code-example>\n \n 1. To build up the generation schematic, start with an empty rule factory.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Initial Rule)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.1.ts\" region=\"factory\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Initial Rule)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.1.ts\" region=\"factory\">\n+    </code-example>\n \n This rule factory returns the tree without modification.\n The options are the option values passed through from the `ng generate` command.\n@@ -222,57 +222,57 @@ The `Tree` methods give you access to the complete file tree in your workspace,\n    To use `workspaces.readWorkspace` you need to create a `workspaces.WorkspaceHost` from the `Tree`.\n    Add the following code to your factory function.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Schema Import)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"workspace\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Schema Import)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"workspace\">\n+    </code-example>\n \n-  * Be sure to check that the context exists and throw the appropriate error.\n+    Be sure to check that the context exists and throw the appropriate error.\n \n-1. The `WorkspaceDefinition`, `extensions` property includes a `defaultProject` value for determining which project to use if not provided.\n+1. The `workspace.extensions` property includes a `defaultProject` value for determining which project to use if not provided.\n    We will use that value as a fallback, if no project is explicitly specified in the `ng generate` command.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Default Project)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"project-fallback\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Default Project)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"project-fallback\">\n+    </code-example>\n \n 1. Now that you have the project name, use it to retrieve the project-specific configuration information.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Project)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"project-info\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Project)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"project-info\">\n+    </code-example>\n \n-   The `workspace projects` object contains all the project-specific configuration information.\n+   The `workspace.projects` object contains all the project-specific configuration information.\n \n 1. The `options.path` determines where the schematic template files are moved to once the schematic is applied.\n \n    The `path` option in the schematic's schema is substituted by default with the current working directory.\n    If the `path` is not defined, use the `sourceRoot` from the project configuration along with the `projectType`.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Project Info)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"path\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Project Info)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"path\">\n+    </code-example>\n \n ### Define the rule\n \n A `Rule` can use external template files, transform them, and return another `Rule` object with the transformed template. You can use the templating to generate any custom files required for your schematic.\n \n 1. Add the following code to your factory function.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Template transform)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"template\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Template transform)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"template\">\n+    </code-example>\n \n-  * The `apply()` method applies multiple rules to a source and returns the transformed source. It takes 2 arguments, a source and an array of rules.\n-  * The `url()` method reads source files from your filesystem, relative to the schematic.\n-  * The `applyTemplates()` method receives an argument of methods and properties you want make available to the schematic template and the schematic filenames. It returns a `Rule`. This is where you define the `classify()` and `dasherize()` methods, and the `name` property.\n-  * The `classify()` method takes a value and returns the value in title case. For example, if the provided name is `my service`, it is returned as `MyService`\n-  * The `dasherize()` method takes a value and returns the value in dashed and lowercase. For example, if the provided name is MyService, it is returned as `my-service`.\n-  * The `move` method moves the provided source files to their destination when the schematic is applied.\n+    * The `apply()` method applies multiple rules to a source and returns the transformed source. It takes 2 arguments, a source and an array of rules.\n+    * The `url()` method reads source files from your filesystem, relative to the schematic.\n+    * The `applyTemplates()` method receives an argument of methods and properties you want make available to the schematic template and the schematic filenames. It returns a `Rule`. This is where you define the `classify()` and `dasherize()` methods, and the `name` property.\n+    * The `classify()` method takes a value and returns the value in title case. For example, if the provided name is `my service`, it is returned as `MyService`\n+    * The `dasherize()` method takes a value and returns the value in dashed and lowercase. For example, if the provided name is MyService, it is returned as `my-service`.\n+    * The `move` method moves the provided source files to their destination when the schematic is applied.\n \n 1. Finally, the rule factory must return a rule.\n \n-<code-example header=\"projects/my-lib/schematics/my-service/index.ts (Chain Rule)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"chain\">\n-</code-example>\n+    <code-example header=\"projects/my-lib/schematics/my-service/index.ts (Chain Rule)\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\" region=\"chain\">\n+    </code-example>\n \n-  The `chain()` method allows you to combine multiple rules into a single rule, so that you can perform multiple operations in a single schematic.\n-  Here you are only merging the template rules with any code executed by the schematic.\n+    The `chain()` method allows you to combine multiple rules into a single rule, so that you can perform multiple operations in a single schematic.\n+    Here you are only merging the template rules with any code executed by the schematic.\n \n-See a complete exampled of the schematic rule function.\n+See a complete example of the schematic rule function below.\n \n <code-example header=\"projects/my-lib/schematics/my-service/index.ts\" path=\"schematics-for-libraries/projects/my-lib/schematics/my-service/index.ts\">\n </code-example>"
        }
    ],
    "stats": {
        "total": 122,
        "additions": 61,
        "deletions": 61
    }
}