{
    "author": "crisbeto",
    "message": "refactor(core): update peerDependencies to allow rxjs7 (#42991)\n\nWe can't update the framework to rxjs7 until version 13, because it contains breaking changes, but we can allow users to opt into it since all of our code should be compatible.\n\nThese changes expand the allowed version range of rxjs and add an integration test to verify that we don't get compilation errors. Note that we also have a test that runs the AIO examples against rxjs 7 already (#42660).\n\nFixes #41897.\n\nPR Close #42991",
    "sha": "9a3cf661a2f464503acde5eac6f0b3de949b292c",
    "files": [
        {
            "sha": "23b8b96dd871d45ee14461a03d9425c8e39737df",
            "filename": "integration/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2FBUILD.bazel?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -88,6 +88,7 @@ INTEGRATION_TESTS = {\n     \"service-worker-schema\": {},\n     \"side-effects\": {\"tags\": [\"no-ivy-aot\"]},\n     \"terser\": {},\n+    \"typings_test_rxjs7\": {},\n     \"typings_test_ts41\": {\n         # Special case for `typings_test_ts41` test as we want to pin\n         # `typescript` at version 4.1.x for that test and not link to the"
        },
        {
            "sha": "86b57f2789d8ddb54e8f6dd666bc1b823a799bad",
            "filename": "integration/typings_test_rxjs7/include-all.ts",
            "status": "added",
            "additions": 69,
            "deletions": 0,
            "changes": 69,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2Ftypings_test_rxjs7%2Finclude-all.ts",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2Ftypings_test_rxjs7%2Finclude-all.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_rxjs7%2Finclude-all.ts?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -0,0 +1,69 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+\n+\n+import * as animations from '@angular/animations';\n+import * as animationsBrowser from '@angular/animations/browser';\n+import * as animationsBrowserTesting from '@angular/animations/browser/testing';\n+import * as common from '@angular/common';\n+import * as commonHttp from '@angular/common/http';\n+import * as commonTesting from '@angular/common/testing';\n+import * as commonHttpTesting from '@angular/common/testing';\n+import * as compiler from '@angular/compiler';\n+import * as compilerTesting from '@angular/compiler/testing';\n+import * as core from '@angular/core';\n+import * as coreTesting from '@angular/core/testing';\n+import * as elements from '@angular/elements';\n+import * as forms from '@angular/forms';\n+import * as platformBrowser from '@angular/platform-browser';\n+import * as platformBrowserDynamic from '@angular/platform-browser-dynamic';\n+import * as platformBrowserDynamicTesting from '@angular/platform-browser-dynamic/testing';\n+import * as platformBrowserAnimations from '@angular/platform-browser/animations';\n+import * as platformBrowserTesting from '@angular/platform-browser/testing';\n+import * as platformServer from '@angular/platform-server';\n+import * as platformServerInit from '@angular/platform-server/init';\n+import * as platformServerTesting from '@angular/platform-server/testing';\n+import * as router from '@angular/router';\n+import * as routerTesting from '@angular/router/testing';\n+import * as routerUpgrade from '@angular/router/upgrade';\n+import * as serviceWorker from '@angular/service-worker';\n+import * as upgrade from '@angular/upgrade';\n+import * as upgradeStatic from '@angular/upgrade/static';\n+import * as upgradeTesting from '@angular/upgrade/static/testing';\n+\n+export default {\n+  animations,\n+  animationsBrowser,\n+  animationsBrowserTesting,\n+  common,\n+  commonTesting,\n+  commonHttp,\n+  commonHttpTesting,\n+  compiler,\n+  compilerTesting,\n+  core,\n+  coreTesting,\n+  elements,\n+  forms,\n+  platformBrowser,\n+  platformBrowserTesting,\n+  platformBrowserDynamic,\n+  platformBrowserDynamicTesting,\n+  platformBrowserAnimations,\n+  platformServer,\n+  platformServerInit,\n+  platformServerTesting,\n+  router,\n+  routerTesting,\n+  routerUpgrade,\n+  serviceWorker,\n+  upgrade,\n+  upgradeStatic,\n+  upgradeTesting,\n+};"
        },
        {
            "sha": "4161f8d00adfab45b3a1c6bfdfd3c1c3c7bff2df",
            "filename": "integration/typings_test_rxjs7/package.json",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2Ftypings_test_rxjs7%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2Ftypings_test_rxjs7%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_rxjs7%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -0,0 +1,28 @@\n+{\n+  \"name\": \"angular-integration\",\n+  \"description\": \"Assert that users with rxjs 7 can type-check an Angular application\",\n+  \"version\": \"0.0.0\",\n+  \"license\": \"MIT\",\n+  \"dependencies\": {\n+    \"@angular/animations\": \"file:../../dist/packages-dist/animations\",\n+    \"@angular/common\": \"file:../../dist/packages-dist/common\",\n+    \"@angular/compiler\": \"file:../../dist/packages-dist/compiler\",\n+    \"@angular/compiler-cli\": \"file:../../dist/packages-dist/compiler-cli\",\n+    \"@angular/core\": \"file:../../dist/packages-dist/core\",\n+    \"@angular/elements\": \"file:../../dist/packages-dist/elements\",\n+    \"@angular/forms\": \"file:../../dist/packages-dist/forms\",\n+    \"@angular/platform-browser\": \"file:../../dist/packages-dist/platform-browser\",\n+    \"@angular/platform-browser-dynamic\": \"file:../../dist/packages-dist/platform-browser-dynamic\",\n+    \"@angular/platform-server\": \"file:../../dist/packages-dist/platform-server\",\n+    \"@angular/router\": \"file:../../dist/packages-dist/router\",\n+    \"@angular/service-worker\": \"file:../../dist/packages-dist/service-worker\",\n+    \"@angular/upgrade\": \"file:../../dist/packages-dist/upgrade\",\n+    \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\",\n+    \"rxjs\": \"^7.3.0\",\n+    \"typescript\": \"file:../../node_modules/typescript\",\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n+  },\n+  \"scripts\": {\n+    \"test\": \"tsc\"\n+  }\n+}"
        },
        {
            "sha": "30e25c2209734194d3848550110bbc0848381535",
            "filename": "integration/typings_test_rxjs7/tsconfig.json",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2Ftypings_test_rxjs7%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/integration%2Ftypings_test_rxjs7%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_rxjs7%2Ftsconfig.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -0,0 +1,26 @@\n+{\n+  \"compilerOptions\": {\n+    \"forceConsistentCasingInFileNames\": true,\n+    \"strict\": true,\n+    \"noImplicitReturns\": true,\n+    \"noFallthroughCasesInSwitch\": true,\n+    \"experimentalDecorators\": true,\n+    \"module\": \"commonjs\",\n+    \"moduleResolution\": \"node\",\n+    \"outDir\": \"./dist/out-tsc\",\n+    \"rootDir\": \".\",\n+    \"target\": \"es5\",\n+    \"lib\": [\n+      \"es5\",\n+      \"dom\",\n+      \"es2015.collection\",\n+      \"es2015.iterable\",\n+      \"es2015.promise\"\n+    ],\n+    \"types\": [],\n+  },\n+  \"files\": [\n+    \"include-all.ts\",\n+    \"node_modules/@types/jasmine/index.d.ts\"\n+  ]\n+}"
        },
        {
            "sha": "f9ad0716b0a77747867cb45e48aeaceaf41cc01e",
            "filename": "packages/common/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcommon%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcommon%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -13,7 +13,7 @@\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\",\n-    \"rxjs\": \"^6.5.3\"\n+    \"rxjs\": \"^6.5.3 || ^7.0.0\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "51abaab62f2e7fa97e723dde1640c380228aad69",
            "filename": "packages/common/test/pipes/async_pipe_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcommon%2Ftest%2Fpipes%2Fasync_pipe_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcommon%2Ftest%2Fpipes%2Fasync_pipe_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Ftest%2Fpipes%2Fasync_pipe_spec.ts?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -22,7 +22,7 @@ import {Subscribable, Unsubscribable} from 'rxjs';\n       // the implementation does not rely on other methods:\n       const wrapSubscribable = <T>(input: Subscribable<T>): Subscribable<T> => ({\n         subscribe(...args: any): Unsubscribable {\n-          const subscription = input.subscribe(...args);\n+          const subscription = input.subscribe.apply(input, args);\n           return {\n             unsubscribe() {\n               subscription.unsubscribe();"
        },
        {
            "sha": "e0b585d592e9a354e9242b5dca1f1f09c773cd15",
            "filename": "packages/core/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcore%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcore%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -11,7 +11,7 @@\n     \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n-    \"rxjs\": \"^6.5.3\",\n+    \"rxjs\": \"^6.5.3 || ^7.0.0\",\n     \"zone.js\": \"~0.11.4\"\n   },\n   \"repository\": {"
        },
        {
            "sha": "3a5b9645a349bf4f3bf5270666f84377062e2129",
            "filename": "packages/core/test/acceptance/property_binding_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcore%2Ftest%2Facceptance%2Fproperty_binding_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fcore%2Ftest%2Facceptance%2Fproperty_binding_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Facceptance%2Fproperty_binding_spec.ts?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -187,7 +187,7 @@ describe('property bindings', () => {\n     })\n     class OtherDir {\n       @Input() id: number|undefined;\n-      @Output('click') clickStream = new EventEmitter();\n+      @Output('click') clickStream = new EventEmitter<void>();\n     }\n \n     @Directive({"
        },
        {
            "sha": "3da5fa0277ae9a6270cc25400045ebc6c00fe981",
            "filename": "packages/elements/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Felements%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Felements%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Felements%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -13,7 +13,7 @@\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\",\n     \"@angular/platform-browser\": \"0.0.0-PLACEHOLDER\",\n-    \"rxjs\": \"^6.5.3\"\n+    \"rxjs\": \"^6.5.3 || ^7.0.0\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "33cb036b42ff2d5a8a053a7f2b97dc3623dd4908",
            "filename": "packages/forms/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fforms%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fforms%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -14,7 +14,7 @@\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\",\n     \"@angular/common\": \"0.0.0-PLACEHOLDER\",\n     \"@angular/platform-browser\": \"0.0.0-PLACEHOLDER\",\n-    \"rxjs\": \"^6.5.3\"\n+    \"rxjs\": \"^6.5.3 || ^7.0.0\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "d0621050f69cfcf4728fe5e7ed65839897e3f2b7",
            "filename": "packages/misc/angular-in-memory-web-api/package.json",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fmisc%2Fangular-in-memory-web-api%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Fmisc%2Fangular-in-memory-web-api%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fmisc%2Fangular-in-memory-web-api%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -5,9 +5,9 @@\n   \"author\": \"angular\",\n   \"license\": \"MIT\",\n   \"peerDependencies\": {\n-    \"@angular/core\": \"^12.0.0-next.6\",\n-    \"@angular/common\": \"^12.0.0-next.6\",\n-    \"rxjs\": \"^6.5.3\"\n+    \"@angular/core\": \"^12.0.0\",\n+    \"@angular/common\": \"^12.0.0\",\n+    \"rxjs\": \"^6.5.3 || ^7.0.0\"\n   },\n   \"dependencies\": {\n     \"tslib\": \"^2.2.0\""
        },
        {
            "sha": "30e91c1a5a5b3298e5de7d4261a145dd1766614d",
            "filename": "packages/router/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Frouter%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/9a3cf661a2f464503acde5eac6f0b3de949b292c/packages%2Frouter%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2Fpackage.json?ref=9a3cf661a2f464503acde5eac6f0b3de949b292c",
            "patch": "@@ -27,7 +27,7 @@\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\",\n     \"@angular/common\": \"0.0.0-PLACEHOLDER\",\n     \"@angular/platform-browser\": \"0.0.0-PLACEHOLDER\",\n-    \"rxjs\": \"^6.5.3\"\n+    \"rxjs\": \"^6.5.3 || ^7.0.0\"\n   },\n   \"ng-update\": {\n     \"packageGroup\": \"NG_UPDATE_PACKAGE_GROUP\""
        }
    ],
    "stats": {
        "total": 144,
        "additions": 134,
        "deletions": 10
    }
}