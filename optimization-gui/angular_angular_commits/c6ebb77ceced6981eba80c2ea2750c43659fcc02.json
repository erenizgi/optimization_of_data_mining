{
    "author": "unknown",
    "message": "test(language-service): [ivy] remove all markers from test (#38777)\n\nIn the test project there are no longer reference markers and location\nmarkers, so there's no need to \"pre-process\" the source files to remove\nthem. This will make the Ivy tests cleaner and faster.\n\nPR Close #38777",
    "sha": "c6ebb77ceced6981eba80c2ea2750c43659fcc02",
    "files": [
        {
            "sha": "19041952db613bf86d3ab42c87975b5ab8af1c70",
            "filename": "packages/language-service/ivy/test/mock_host.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 19,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/c6ebb77ceced6981eba80c2ea2750c43659fcc02/packages%2Flanguage-service%2Fivy%2Ftest%2Fmock_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/c6ebb77ceced6981eba80c2ea2750c43659fcc02/packages%2Flanguage-service%2Fivy%2Ftest%2Fmock_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Ftest%2Fmock_host.ts?ref=c6ebb77ceced6981eba80c2ea2750c43659fcc02",
            "patch": "@@ -45,14 +45,7 @@ export const host: ts.server.ServerHost = {\n   ...ts.sys,\n   readFile(absPath: string, encoding?: string): string |\n       undefined {\n-        const content = ts.sys.readFile(absPath, encoding);\n-        if (content === undefined) {\n-          return undefined;\n-        }\n-        if (absPath === APP_COMPONENT || absPath === PARSING_CASES || absPath === TEST_TEMPLATE) {\n-          return removeReferenceMarkers(removeLocationMarkers(content));\n-        }\n-        return content;\n+        return ts.sys.readFile(absPath, encoding);\n       },\n   watchFile(path: string, callback: ts.FileWatcherCallback): ts.FileWatcher {\n     return NOOP_FILE_WATCHER;\n@@ -206,14 +199,3 @@ function replaceOnce(searchText: string, regex: RegExp, replaceText: string): Ov\n   });\n   return {position, text};\n }\n-\n-const REF_MARKER = /«(((\\w|\\-)+)|([^ᐱ]*ᐱ(\\w+)ᐱ.[^»]*))»/g;\n-const LOC_MARKER = /\\~\\{(\\w+(-\\w+)*)\\}/g;\n-\n-function removeReferenceMarkers(value: string): string {\n-  return value.replace(REF_MARKER, '');\n-}\n-\n-function removeLocationMarkers(value: string): string {\n-  return value.replace(LOC_MARKER, '');\n-}"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 1,
        "deletions": 19
    }
}