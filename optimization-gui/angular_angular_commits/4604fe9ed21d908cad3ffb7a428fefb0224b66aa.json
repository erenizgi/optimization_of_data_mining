{
    "author": "atscott",
    "message": "feat(language-service): Add module name to directive quick info (#39121)\n\nThis commit adds the module name as the `containerName` to the quick info\nfor directives.\n\nPR Close #39121",
    "sha": "4604fe9ed21d908cad3ffb7a428fefb0224b66aa",
    "files": [
        {
            "sha": "9673e0e54e6c0c11337811c180d0b85745d92698",
            "filename": "packages/language-service/ivy/quick_info.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/4604fe9ed21d908cad3ffb7a428fefb0224b66aa/packages%2Flanguage-service%2Fivy%2Fquick_info.ts",
            "raw_url": "https://github.com/angular/angular/raw/4604fe9ed21d908cad3ffb7a428fefb0224b66aa/packages%2Flanguage-service%2Fivy%2Fquick_info.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Fquick_info.ts?ref=4604fe9ed21d908cad3ffb7a428fefb0224b66aa",
            "patch": "@@ -143,9 +143,14 @@ export class QuickInfoBuilder {\n       ts.QuickInfo {\n     const kind = dir.isComponent ? QuickInfoKind.COMPONENT : QuickInfoKind.DIRECTIVE;\n     const documentation = this.getDocumentationFromTypeDefAtLocation(dir.shimLocation);\n+    let containerName: string|undefined;\n+    if (ts.isClassDeclaration(dir.tsSymbol.valueDeclaration) && dir.ngModule !== null) {\n+      containerName = dir.ngModule.name.getText();\n+    }\n+\n     return createQuickInfo(\n-        this.typeChecker.typeToString(dir.tsType), kind, getTextSpanOfNode(node),\n-        undefined /* containerName */, undefined, documentation);\n+        this.typeChecker.typeToString(dir.tsType), kind, getTextSpanOfNode(node), containerName,\n+        undefined, documentation);\n   }\n \n   private getDocumentationFromTypeDefAtLocation(shimLocation: ShimLocation):"
        },
        {
            "sha": "15f5cc8e2a42d4a41d52739fe8230b6f2a1c949e",
            "filename": "packages/language-service/ivy/test/quick_info_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/4604fe9ed21d908cad3ffb7a428fefb0224b66aa/packages%2Flanguage-service%2Fivy%2Ftest%2Fquick_info_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/4604fe9ed21d908cad3ffb7a428fefb0224b66aa/packages%2Flanguage-service%2Fivy%2Ftest%2Fquick_info_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Ftest%2Fquick_info_spec.ts?ref=4604fe9ed21d908cad3ffb7a428fefb0224b66aa",
            "patch": "@@ -47,19 +47,15 @@ describe('quick info', () => {\n       expectQuickInfo({\n         templateOverride: `<div string-model¦></div>`,\n         expectedSpanText: 'string-model',\n-        // TODO(atscott): Find a way to include the module\n-        // expectedDisplayParts: '(directive) AppModule.StringModel'\n-        expectedDisplayString: '(directive) StringModel'\n+        expectedDisplayString: '(directive) AppModule.StringModel'\n       });\n     });\n \n     it('should work for components', () => {\n       const {documentation} = expectQuickInfo({\n         templateOverride: `<t¦est-comp></test-comp>`,\n         expectedSpanText: '<test-comp></test-comp>',\n-        // TODO(atscott): Find a way to include the module\n-        // expectedDisplayParts: '(component) AppModule.TestComponent'\n-        expectedDisplayString: '(component) TestComponent'\n+        expectedDisplayString: '(component) AppModule.TestComponent'\n       });\n       expect(toText(documentation)).toBe('This Component provides the `test-comp` selector.');\n     });"
        },
        {
            "sha": "581e9c921f7b559d6b7692bfe57c9d4b965c7107",
            "filename": "packages/language-service/src/ts_utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/4604fe9ed21d908cad3ffb7a428fefb0224b66aa/packages%2Flanguage-service%2Fsrc%2Fts_utils.ts",
            "raw_url": "https://github.com/angular/angular/raw/4604fe9ed21d908cad3ffb7a428fefb0224b66aa/packages%2Flanguage-service%2Fsrc%2Fts_utils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Fts_utils.ts?ref=4604fe9ed21d908cad3ffb7a428fefb0224b66aa",
            "patch": "@@ -86,7 +86,7 @@ interface DirectiveClassLike {\n  * For example,\n  *     v---------- `decoratorId`\n  * @NgModule({           <\n- *   declarations: [],   < classDecl\n+ *   declarations: [],   < classDecln-al\n  * })                    <\n  * class AppModule {}    <\n  *          ^----- `classId`"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 10,
        "deletions": 9
    }
}