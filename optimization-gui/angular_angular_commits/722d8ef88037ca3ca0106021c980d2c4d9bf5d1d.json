{
    "author": "JoostK",
    "message": "refactor(compiler): remove unused code from output logic (#44411)\n\nThis code is no longer used now that ViewEngine has been removed.\n\nPR Close #44411",
    "sha": "722d8ef88037ca3ca0106021c980d2c4d9bf5d1d",
    "files": [
        {
            "sha": "55d01d22d5ab53a8c39f01c9a91cf5c6e53ff63a",
            "filename": "packages/compiler/src/compiler.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Fcompiler.ts",
            "raw_url": "https://github.com/angular/angular/raw/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Fcompiler.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Fcompiler.ts?ref=722d8ef88037ca3ca0106021c980d2c4d9bf5d1d",
            "patch": "@@ -53,7 +53,7 @@ export * from './ml_parser/tags';\n export {ParseTreeResult, TreeError} from './ml_parser/parser';\n export {LexerRange} from './ml_parser/lexer';\n export * from './ml_parser/xml_parser';\n-export {ArrayType, AssertNotNull, DYNAMIC_TYPE, BinaryOperator, BinaryOperatorExpr, BuiltinMethod, BuiltinType, BuiltinTypeName, BuiltinVar, CastExpr, ClassField, ClassMethod, ClassStmt, CommaExpr, ConditionalExpr, DeclareFunctionStmt, DeclareVarStmt, Expression, ExpressionStatement, ExpressionType, ExpressionVisitor, ExternalExpr, ExternalReference, literalMap, FunctionExpr, IfStmt, InstantiateExpr, InvokeFunctionExpr, LiteralArrayExpr, LiteralExpr, LiteralMapExpr, MapType, NotExpr, NONE_TYPE, ReadKeyExpr, ReadPropExpr, ReadVarExpr, ReturnStatement, StatementVisitor, TaggedTemplateExpr, TemplateLiteral, TemplateLiteralElement, ThrowStmt, TryCatchStmt, Type, TypeVisitor, WrappedNodeExpr, WriteKeyExpr, WritePropExpr, WriteVarExpr, StmtModifier, Statement, STRING_TYPE, TypeofExpr, collectExternalReferences, jsDocComment, leadingComment, LeadingComment, JSDocComment, UnaryOperator, UnaryOperatorExpr, LocalizedString} from './output/output_ast';\n+export {ArrayType, AssertNotNull, DYNAMIC_TYPE, BinaryOperator, BinaryOperatorExpr, BuiltinType, BuiltinTypeName, BuiltinVar, CastExpr, ClassField, ClassMethod, ClassStmt, CommaExpr, ConditionalExpr, DeclareFunctionStmt, DeclareVarStmt, Expression, ExpressionStatement, ExpressionType, ExpressionVisitor, ExternalExpr, ExternalReference, literalMap, FunctionExpr, IfStmt, InstantiateExpr, InvokeFunctionExpr, LiteralArrayExpr, LiteralExpr, LiteralMapExpr, MapType, NotExpr, NONE_TYPE, ReadKeyExpr, ReadPropExpr, ReadVarExpr, ReturnStatement, StatementVisitor, TaggedTemplateExpr, TemplateLiteral, TemplateLiteralElement, ThrowStmt, TryCatchStmt, Type, TypeVisitor, WrappedNodeExpr, WriteKeyExpr, WritePropExpr, WriteVarExpr, StmtModifier, Statement, STRING_TYPE, TypeofExpr, collectExternalReferences, jsDocComment, leadingComment, LeadingComment, JSDocComment, UnaryOperator, UnaryOperatorExpr, LocalizedString} from './output/output_ast';\n export {EmitterVisitorContext} from './output/abstract_emitter';\n export {JitEvaluator} from './output/output_jit';\n export * from './parse_util';"
        },
        {
            "sha": "bad9cd19a700838e2b611eebe0830d675b5d6309",
            "filename": "packages/compiler/src/output/abstract_emitter.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 12,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Foutput%2Fabstract_emitter.ts",
            "raw_url": "https://github.com/angular/angular/raw/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Foutput%2Fabstract_emitter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Foutput%2Fabstract_emitter.ts?ref=722d8ef88037ca3ca0106021c980d2c4d9bf5d1d",
            "patch": "@@ -7,6 +7,7 @@\n  */\n \n import {ParseSourceSpan} from '../parse_util';\n+\n import * as o from './output_ast';\n import {SourceMapGenerator} from './source_map';\n \n@@ -16,10 +17,6 @@ const _INDENT_WITH = '  ';\n export const CATCH_ERROR_VAR = o.variable('error', null, null);\n export const CATCH_STACK_VAR = o.variable('stack', null, null);\n \n-export interface OutputEmitter {\n-  emitStatements(genFilePath: string, stmts: o.Statement[], preamble?: string|null): string;\n-}\n-\n class _EmittedLine {\n   partsLength = 0;\n   parts: string[] = [];\n@@ -34,7 +31,6 @@ export class EmitterVisitorContext {\n \n   private _lines: _EmittedLine[];\n   private _classes: o.ClassStmt[] = [];\n-  private _preambleLineCount = 0;\n \n   constructor(private _indent: number) {\n     this._lines = [new _EmittedLine(_indent)];\n@@ -168,12 +164,8 @@ export class EmitterVisitorContext {\n     return map;\n   }\n \n-  setPreambleLineCount(count: number) {\n-    return this._preambleLineCount = count;\n-  }\n-\n   spanOf(line: number, column: number): ParseSourceSpan|null {\n-    const emittedLine = this._lines[line - this._preambleLineCount];\n+    const emittedLine = this._lines[line];\n     if (emittedLine) {\n       let columnsLeft = column - _createIndent(emittedLine.indent).length;\n       for (let partIndex = 0; partIndex < emittedLine.parts.length; partIndex++) {\n@@ -320,8 +312,6 @@ export abstract class AbstractEmitterVisitor implements o.StatementVisitor, o.Ex\n     return null;\n   }\n \n-  abstract getBuiltinMethodName(method: o.BuiltinMethod): string;\n-\n   visitInvokeFunctionExpr(expr: o.InvokeFunctionExpr, ctx: EmitterVisitorContext): any {\n     expr.fn.visitExpression(this, ctx);\n     ctx.print(expr, `(`);"
        },
        {
            "sha": "93c501ae3676758b38d14f06e70ddec34dd324d3",
            "filename": "packages/compiler/src/output/abstract_js_emitter.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/angular/angular/blob/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Foutput%2Fabstract_js_emitter.ts",
            "raw_url": "https://github.com/angular/angular/raw/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Foutput%2Fabstract_js_emitter.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Foutput%2Fabstract_js_emitter.ts?ref=722d8ef88037ca3ca0106021c980d2c4d9bf5d1d",
            "patch": "@@ -216,22 +216,4 @@ export abstract class AbstractJsEmitterVisitor extends AbstractEmitterVisitor {\n   private _visitParams(params: o.FnParam[], ctx: EmitterVisitorContext): void {\n     this.visitAllObjects(param => ctx.print(null, param.name), params, ctx, ',');\n   }\n-\n-  override getBuiltinMethodName(method: o.BuiltinMethod): string {\n-    let name: string;\n-    switch (method) {\n-      case o.BuiltinMethod.ConcatArray:\n-        name = 'concat';\n-        break;\n-      case o.BuiltinMethod.SubscribeObservable:\n-        name = 'subscribe';\n-        break;\n-      case o.BuiltinMethod.Bind:\n-        name = 'bind';\n-        break;\n-      default:\n-        throw new Error(`Unknown builtin method: ${method}`);\n-    }\n-    return name;\n-  }\n }"
        },
        {
            "sha": "584d13a33fa1344decbf4d3ad1b6ee449a8c819b",
            "filename": "packages/compiler/src/output/output_ast.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Foutput%2Foutput_ast.ts",
            "raw_url": "https://github.com/angular/angular/raw/722d8ef88037ca3ca0106021c980d2c4d9bf5d1d/packages%2Fcompiler%2Fsrc%2Foutput%2Foutput_ast.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fsrc%2Foutput%2Foutput_ast.ts?ref=722d8ef88037ca3ca0106021c980d2c4d9bf5d1d",
            "patch": "@@ -415,12 +415,6 @@ export class WritePropExpr extends Expression {\n   }\n }\n \n-export enum BuiltinMethod {\n-  ConcatArray,\n-  SubscribeObservable,\n-  Bind\n-}\n-\n export class InvokeFunctionExpr extends Expression {\n   constructor(\n       public fn: Expression, public args: Expression[], type?: Type|null,"
        }
    ],
    "stats": {
        "total": 40,
        "additions": 3,
        "deletions": 37
    }
}